DEVICE:53
;MODULE:外観検査ﾕﾆｯﾄ
;MODULE_TYPE:0
;**** 外観検査　入力処理 / 外観検査　入力処理 ****
LD R4112                 ; 外観検査ﾃｰﾌﾞﾙ吸着確認1
TMR @0 #2                ; 外観検査ﾃｰﾌﾞﾙ吸着確認1
LD R4810                 ; 外形位置決め前進端
TMR @5 #2                ; 外形位置決め前進端
LD R4811                 ; 外形位置決め後退端
TMR @6 #2
LDB R9714                ; CAV SRB2 PZT取出し位置干渉
ORB R9715                ; CAV SRB2 Z軸干渉
OUT @MR010               ; CAV SRB2 PZT取出し位置干渉外
;**** 外観検査　表示ﾗﾝﾌﾟ / 外観検査　表示ﾗﾝﾌﾟ****
LD MR7201                ; 外観検査ﾃｰﾌﾞﾙ吸着SOL補助
OUT R83000               ; 外観検査ﾃｰﾌﾞﾙ吸着ON PL
LDB MR7201               ; 外観検査ﾃｰﾌﾞﾙ吸着SOL補助
OUT R83001               ; 外観検査ﾃｰﾌﾞﾙ吸着OFF PL
LD R4810                 ; 外形位置決め前進端
OUT R83002               ; 外形位置決め前進端PL
LD R4811                 ; 外形位置決め後退端
OUT R83003               ; 外形位置決め後退端PL
;**** 外観検査　入力処理 / 外観検査　入力処理****
LD=.L DM12110 DM1900     ; 外観検査I7軸現在位置  外観検査I7軸P1受取り位置座標
AND R1110                ; 外観検査I7軸原点復帰完了
OUT R83200               ; 外観検査I7軸P1受取り位置PL
OUT R83103               ; 外観検査I7軸P1受取り位置PL
OUT MR25100              ; 外観検査I7軸受取り位置
LD=.L DM12110 DM1902     ; 外観検査I7軸現在位置  外観検査I7軸P2検査1位置座標
AND R1110                ; 外観検査I7軸原点復帰完了
OUT R83201               ; 外観検査I7軸P2検査1位置PL
OUT R83100               ; 外観検査I7軸P2検査1位置PL
OUT MR25101              ; 外観検査I7軸P2検査1位置
LD=.L DM12110 DM1904     ; 外観検査I7軸現在位置  外観検査I7軸P3検査2位置座標
AND R1110                ; 外観検査I7軸原点復帰完了
OUT R83202               ; 外観検査I7軸P3検査2位置PL
OUT R83102               ; 外観検査I7軸P3検査2位置PL
OUT MR25102              ; 外観検査I7軸P3検査2位置
LD=.L DM12110 DM1906     ; 外観検査I7軸現在位置  外観検査I7軸P4検査2位置座標
AND R1110                ; 外観検査I7軸原点復帰完了
OUT R83203               ; 外観検査I7軸P4検査3位置PL
OUT R83104               ; 外観検査I7軸P4検査3位置PL
OUT MR25103              ; 外観検査I7軸P4検査3位置
LD=.L DM12110 DM1908     ; 外観検査I7軸現在位置  外観検査I7軸P5検査4位置座標
AND R1110                ; 外観検査I7軸原点復帰完了
OUT R83204               ; 外観検査I7軸P5検査4位置PL
OUT R83106               ; 外観検査I7軸P5検査4位置PL
OUT MR25104              ; 外観検査I7軸P5検査4位置
LD=.L DM12110 DM1910     ; 外観検査I7軸現在位置  外観検査I7軸受渡し位置座標
AND R1110                ; 外観検査I7軸原点復帰完了
OUT R83205               ; 外観検査I7軸P6受渡し位置PL
OUT R83105               ; 外観検査I7軸P6受渡し位置PL
OUT MR25105              ; 外観検査I7軸P6受渡し位置
LD=.L DM12110 +0         ; 外観検査I7軸現在位置
AND R1110                ; 外観検査I7軸原点復帰完了
OUT R83101               ; 外観検査I7軸原点位置PL
;**** 外観検査　ﾊﾟﾈﾙﾗﾝﾌﾟ / 外観検査　ﾊﾟﾈﾙﾗﾝﾌﾟ ****
LD R48113                ; 外観検査　I7軸ｻｰﾎﾞﾚﾃﾞｨｰ
OUT R83302               ; 外観検査　I7軸ｻｰﾎﾞON　PL
LD R1110                 ; 外観検査I7軸原点復帰完了
OUT R83206               ; 外観検査I7軸原点復帰完了PL
;**** 外観検査　手動操作 / 外観検査　MANUAL Operation ****
LD MR40300               ; 安全扉閉確認
MC
LD CR2002                ; 常時ON
OUT @MR100               ; 外観検査ﾃｰﾌﾞﾙ吸着可
LD R63000                ; 外観検査ﾃｰﾌﾞﾙ吸着SW
AND @MR100               ; 外観検査ﾃｰﾌﾞﾙ吸着可
RES MR7200               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊SOL補助
CON
SET MR7201               ; 外観検査ﾃｰﾌﾞﾙ吸着SOL補助
LD CR2002                ; 常時ON
OUT @MR101               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊ON可
LD R63001                ; 外観検査ﾃｰﾌﾞﾙ吸着破壊SW
AND @MR101               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊ON可
RES MR7201               ; 外観検査ﾃｰﾌﾞﾙ吸着SOL補助
CON
SET MR7200               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊SOL補助
LD MR7200                ; 外観検査ﾃｰﾌﾞﾙ吸着破壊SOL補助
MPS
TMR @9 #3                ; 外観検査ﾃｰﾌﾞﾙ吸着破壊時間
MPP
AND @T9                  ; 外観検査ﾃｰﾌﾞﾙ吸着破壊時間
RES MR7200               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊SOL補助
LD CR2002                ; 常時ON
OUT @MR102               ; 外形位置決め前進可
LD R63002                ; 外形位置決め前進SW
AND @MR102               ; 外形位置決め前進可
SET MR6612               ; 外形位置決め前進SOL補助
LD CR2002                ; 常時ON
OUT @MR103               ; 外形位置決め後退可
LD R63003                ; 外形位置決め後退SW
AND @MR103               ; 外形位置決め後退可
RES MR6612               ; 外形位置決め前進SOL補助
MCR
;**** 外観検査　I7軸操作 / 外観検査　I7軸 Operation ****
LD R44800                ; 位置決めﾕﾆｯﾄ2動作可能
AND R48113               ; 外観検査　I7軸ｻｰﾎﾞﾚﾃﾞｨｰ
AND R4107                ; 反転ﾕﾆｯﾄﾁｬｯｸ上昇端
ANB R6406                ; 反転ﾕﾆｯﾄﾁｬｯｸ上下SOL
AND R4811                ; 外形位置決め後退端
OUT @MR110               ; 外観検査I7軸動作可能
LD @MR110                ; 外観検査I7軸動作可能
MPS
LD R63305                ; 外観検査　I7軸JOG+SW
ANB R63304               ; 外観検査　I7軸JOG-SW
ANL
OUT R47700               ; 外観検査　I7軸JOG+
MPP
LD R63304                ; 外観検査　I7軸JOG-SW
ANB R63305               ; 外観検査　I7軸JOG+SW
ANL
OUT R47701               ; 外観検査　I7軸JOG-
LDP R63300               ; 外観検査　I7軸位置取込可SW
ANB R83300               ; 外観検査　I7軸位置取込可能PL
LDPB R63300              ; 外観検査　I7軸位置取込可SW
AND R83300               ; 外観検査　I7軸位置取込可能PL
ORL
AND= DM308 #47           ; 画面No.通知
OUT R83300               ; 外観検査　I7軸位置取込可能PL
LDP R63301               ; 外観検査　I7軸書込み可SW
ANB R83301               ; 外観検査　I7軸書込み可能PL
LDPB R63301              ; 外観検査　I7軸書込み可SW
AND R83301               ; 外観検査　I7軸書込み可能PL
ORL
AND= DM308 #47           ; 画面No.通知
OUT R83301               ; 外観検査　I7軸書込み可能PL
LDP R63302               ; 外観検査　I7軸ｻｰﾎﾞOFF SW
ANB R83305               ; 外観検査　I7軸ｻｰﾎﾞOFF
LDPB R63302              ; 外観検査　I7軸ｻｰﾎﾞOFF SW
AND R83305               ; 外観検査　I7軸ｻｰﾎﾞOFF
ORL
AND= DM308 #47           ; 画面No.通知
OUT R83305               ; 外観検査　I7軸ｻｰﾎﾞOFF
LD R83300                ; 外観検査　I7軸位置取込可能PL
MPS
AND R63210               ; 外観検査I7軸P1受取り位置選択SW
@MOV.L DM12110 DM1900    ; 外観検査I7軸現在位置  外観検査I7軸P1受取り位置座標
MRD
AND R63211               ; 外観検査I7軸P2検査1位置選択SW
@MOV.L DM12110 DM1902    ; 外観検査I7軸現在位置  外観検査I7軸P2検査1位置座標
MRD
AND R63212               ; 外観検査I7軸P3検査2位置選択SW
@MOV.L DM12110 DM1904    ; 外観検査I7軸現在位置  外観検査I7軸P3検査2位置座標
MRD
AND R63213               ; 外観検査I7軸P4検査2位置選択SW
@MOV.L DM12110 DM1906    ; 外観検査I7軸現在位置  外観検査I7軸P4検査2位置座標
MRD
AND R63214               ; 外観検査I7軸P5検査4位置選択SW
@MOV.L DM12110 DM1908    ; 外観検査I7軸現在位置  外観検査I7軸P5検査4位置座標
MPP
AND R63215               ; 外観検査I7軸受渡し位置選択SW
@MOV.L DM12110 DM1910    ; 外観検査I7軸現在位置  外観検査I7軸受渡し位置座標
LDP R63303               ; 外観検査I7軸JOG高速度選択SW
ANB R83303               ; 外観検査I7軸JOG高速度選択PL
LDPB R63303              ; 外観検査I7軸JOG高速度選択SW
AND R83303               ; 外観検査I7軸JOG高速度選択PL
ORL
AND= DM308 #47           ; 画面No.通知
OUT R83303               ; 外観検査I7軸JOG高速度選択PL
LD= DM308 #47            ; 画面No.通知
AND R83303               ; 外観検査I7軸JOG高速度選択PL
OUT R47702               ; 外観検査I7軸JOG高速度選択PL
LDP R83303               ; 外観検査I7軸JOG高速度選択PL
LDP R63315               ; 外観検査I7軸JOG速度設定通知
AND R83303               ; 外観検査I7軸JOG高速度選択PL
ORL
@UWRIT.L #4 #14268 DM1940 #1;外観検査JOG速度高速
LDF R83303               ; 外観検査I7軸JOG高速度選択PL
LD= DM308 #47            ; 画面No.通知
MEP
ORL
LDP R63315               ; 外観検査I7軸JOG速度設定通知
ANB R83303               ; 外観検査I7軸JOG高速度選択PL
ORL
UWRIT.L #4 #14268 DM1942 #1;外観検査JOG速度低速
LD= DM308 #47            ; 画面No.通知
MEF
ORP R63314               ; 外観検査I7軸座標 速度設定通知
ORP T202                 ; RB動作中遅延
LDB R63210               ; 外観検査I7軸P1受取り位置選択SW
ANB R63211               ; 外観検査I7軸P2検査1位置選択SW
ANB R63212               ; 外観検査I7軸P3検査2位置選択SW
INV
MEF
ORL
LDB R63213               ; 外観検査I7軸P4検査2位置選択SW
ANB R63214               ; 外観検査I7軸P5検査4位置選択SW
ANB R63215               ; 外観検査I7軸受渡し位置選択SW
INV
MEF
ORL
UWRIT.L #4 #18080 DM1900 #1;外観検査I7軸P1受取り位置座標
UWRIT.L #4 #18592 DM1902 #1;外観検査I7軸P2検査1位置座標
UWRIT.L #4 #19104 DM1904 #1;外観検査I7軸P3検査2位置座標
UWRIT.L #4 #19616 DM1906 #1;外観検査I7軸P4検査2位置座標
UWRIT.L #4 #20128 DM1908 #1;外観検査I7軸P5検査4位置座標
UWRIT.L #4 #20640 DM1910 #1;外観検査I7軸受渡し位置座標
UWRIT.L #4 #22688 +0 #1
LD= DM308 #47            ; 画面No.通知
MEF
ORP R63314               ; 外観検査I7軸座標 速度設定通知
ORP T202                 ; RB動作中遅延
LDB R63210               ; 外観検査I7軸P1受取り位置選択SW
ANB R63211               ; 外観検査I7軸P2検査1位置選択SW
ANB R63212               ; 外観検査I7軸P3検査2位置選択SW
INV
MEF
ORL
LDB R63213               ; 外観検査I7軸P4検査2位置選択SW
ANB R63214               ; 外観検査I7軸P5検査4位置選択SW
ANB R63215               ; 外観検査I7軸受渡し位置選択SW
INV
MEF
ORL
UWRIT.L #4 #18092 DM1920 #1
UWRIT.L #4 #18604 DM1922 #1
UWRIT.L #4 #19116 DM1924 #1
UWRIT.L #4 #19628 DM1926 #1
UWRIT.L #4 #20140 DM1928 #1
UWRIT.L #4 #20652 DM1930 #1
UWRIT.L #4 #22700 DM1920 #1
LD R44800                ; 位置決めﾕﾆｯﾄ2動作可能
AND R48113               ; 外観検査　I7軸ｻｰﾎﾞﾚﾃﾞｨｰ
AND R4107                ; 反転ﾕﾆｯﾄﾁｬｯｸ上昇端
ANB R6406                ; 反転ﾕﾆｯﾄﾁｬｯｸ上下SOL
AND R1110                ; 外観検査I7軸原点復帰完了
ANB @MR301               ; 外観検査I7軸手動受取り位置移動
ANB @MR302               ; 外観検査I7軸手動検査1位置移動
ANB @MR303               ; 外観検査I7軸手動検査2位置移動
ANB @MR304               ; 外観検査I7軸手動検査3位置移動
ANB @MR305               ; 外観検査I7軸手動検査4位置移動
ANB @MR306               ; 外観検査I7軸手動受渡し位置移動
ANB @MR307               ; 外観検査I7軸手動原点位置移動
ANB @MR310               ; 外観検査I7軸移動
AND @MR010               ; CAV SRB2 PZT取出し位置干渉外
AND R4811                ; 外形位置決め後退端
OUT @MR300               ; 外観検査I7軸動作可能
LDB R63200               ; 外観検査I7軸手動受渡し位置移動SW
ANB R63103               ; 外観検査I7軸手動受渡し位置移動SW
INV
MEP
AND @MR300               ; 外観検査I7軸動作可能
OR @MR301                ; 外観検査I7軸手動受取り位置移動
ANB @MR310               ; 外観検査I7軸移動
OUT @MR301               ; 外観検査I7軸手動受取り位置移動
@MOV #1 DM1945           ; 外観検査I7軸ﾎﾟｲﾝﾄNo.
LDB R63201               ; 外観検査I7軸手動検査1位置移動SW
ANB R63100               ; 外観検査I7軸手動検査1位置移動SW
INV
MEP
AND @MR300               ; 外観検査I7軸動作可能
OR @MR302                ; 外観検査I7軸手動検査1位置移動
ANB @MR310               ; 外観検査I7軸移動
OUT @MR302               ; 外観検査I7軸手動検査1位置移動
@MOV #2 DM1945           ; 外観検査I7軸ﾎﾟｲﾝﾄNo.
LDB R63202               ; 外観検査I7軸手動検査2位置移動SW
ANB R63102               ; 外観検査I7軸手動検査2位置移動SW
INV
MEP
AND @MR300               ; 外観検査I7軸動作可能
OR @MR303                ; 外観検査I7軸手動検査2位置移動
ANB @MR310               ; 外観検査I7軸移動
OUT @MR303               ; 外観検査I7軸手動検査2位置移動
@MOV #3 DM1945           ; 外観検査I7軸ﾎﾟｲﾝﾄNo.
LDB R63203               ; 外観検査I7軸手動検査3位置移動SW
ANB R63104               ; 外観検査I7軸手動検査3位置移動SW
INV
MEP
AND @MR300               ; 外観検査I7軸動作可能
OR @MR304                ; 外観検査I7軸手動検査3位置移動
ANB @MR310               ; 外観検査I7軸移動
OUT @MR304               ; 外観検査I7軸手動検査3位置移動
@MOV #4 DM1945           ; 外観検査I7軸ﾎﾟｲﾝﾄNo.
LDB R63204               ; 外観検査I7軸手動検査4位置移動SW
ANB R63106               ; 外観検査I7軸手動検査4位置移動SW
INV
MEP
AND @MR300               ; 外観検査I7軸動作可能
OR @MR305                ; 外観検査I7軸手動検査4位置移動
ANB @MR310               ; 外観検査I7軸移動
OUT @MR305               ; 外観検査I7軸手動検査4位置移動
@MOV #5 DM1945           ; 外観検査I7軸ﾎﾟｲﾝﾄNo.
LDB R63205               ; 外観検査I7軸手動受渡し位置移動SW
ANB R63105               ; 外観検査I7軸手動受渡し位置移動SW
INV
MEP
AND @MR010               ; CAV SRB2 PZT取出し位置干渉外
AND @MR300               ; 外観検査I7軸動作可能
OR @MR306                ; 外観検査I7軸手動受渡し位置移動
ANB @MR310               ; 外観検査I7軸移動
OUT @MR306               ; 外観検査I7軸手動受渡し位置移動
@MOV #6 DM1945           ; 外観検査I7軸ﾎﾟｲﾝﾄNo.
LDB R63101               ; 外観検査I7軸手動原点位置移動SW
INV
MEP
AND @MR300               ; 外観検査I7軸動作可能
OR @MR307                ; 外観検査I7軸手動原点位置移動
ANB @MR310               ; 外観検査I7軸移動
OUT @MR307               ; 外観検査I7軸手動原点位置移動
@MOV #10 DM1945          ; 外観検査I7軸ﾎﾟｲﾝﾄNo.
LDB @MR301               ; 外観検査I7軸手動受取り位置移動
ANB @MR302               ; 外観検査I7軸手動検査1位置移動
ANB @MR303               ; 外観検査I7軸手動検査2位置移動
ANB @MR304               ; 外観検査I7軸手動検査3位置移動
ANB @MR305               ; 外観検査I7軸手動検査4位置移動
ANB @MR306               ; 外観検査I7軸手動受渡し位置移動
ANB @MR307               ; 外観検査I7軸手動原点位置移動
ANB @MR607               ; 外観検査I7軸受取り位置移動
ANB @MR707               ; 外観検査I7軸自動受取り位置移動
ANB @MR713               ; 外観検査I7軸自動検査1位置移動
ANB @MR803               ; 外観検査I7軸自動検査2位置移動
ANB @MR809               ; 外観検査I7軸自動検査3位置移動
ANB @MR815               ; 外観検査I7軸自動検査4位置移動
ANB @MR904               ; 外観検査I7軸自動受渡し位置移動
ANB @MR910               ; 外観検査I7軸自動受取り位置移動
ANB @MR1002              ; 外観検査I7軸自動受取り位置移動
INV
OUT @MR309               ; 外観検査I7軸移動指示集合
LD @MR309                ; 外観検査I7軸移動指示集合
ANB @MR310               ; 外観検査I7軸移動
OR @MR310                ; 外観検査I7軸移動
ANB MR9106               ; 外観検査I7軸位置決めｴﾗｰ
ANB MR9107               ; 外観検査I7軸ｻｰﾎﾞﾄﾞﾗｲﾊﾞｰｱﾗｰﾑ
ANB @MR315               ; 外観検査I7軸移動終了
OUT @MR310               ; 外観検査I7軸移動
TMH @11 #5               ; 外観検査I7軸移動ﾃﾞｨﾚｰ
LDP @T11                 ; 外観検査I7軸移動ﾃﾞｨﾚｰ
@RES @MR314              ; 外観検査I7軸移動完了
SET @MR311               ; 外観検査I7軸開始ﾎﾟｲﾝﾄ指示
STG @MR311               ; 外観検査I7軸開始ﾎﾟｲﾝﾄ指示
@U_WRPPNT #4 #3 DM1945   ; 外観検査I7軸ﾎﾟｲﾝﾄNo.
MPS
TMH @12 #5               ; 外観検査I7軸起動指令ﾃﾞｨﾚｰ
MPP
AND @T12                 ; 外観検査I7軸起動指令ﾃﾞｨﾚｰ
JMP @MR312               ; 外観検査I7軸起動指令
STG @MR312               ; 外観検査I7軸起動指令
MPS
OUT R42100               ; 外観検査I7軸位置決め制御開始
MPP
AND R42900               ; 外観検査I7軸位置決め制御開始完了
JMP @MR313               ; 外観検査I7軸移動確認
STG @MR313               ; 外観検査I7軸移動確認
ANB R42902               ; 外観検査I7軸位置決め完了
JMP @MR314               ; 外観検査I7軸移動完了
STG @MR314               ; 外観検査I7軸移動完了
AND R42902               ; 外観検査I7軸位置決め完了
JMP @MR315               ; 外観検査I7軸移動終了
STG @MR315               ; 外観検査I7軸移動終了
ANB @MR310               ; 外観検査I7軸移動
ENDS
LDB @MR310               ; 外観検査I7軸移動
ZRES @MR311 @MR315       ; 外観検査I7軸開始ﾎﾟｲﾝﾄ指示  外観検査I7軸移動終了
;****外観検査停止条件 / 外観検査停止条件  ****
LDB @MR310               ; 外観検査I7軸移動
ANB @MR210               ; 外観検査I7軸原点復帰
ANB @MR415               ; 外観画像検査開始
LDB MR25014              ; 外観検査原点復帰開始
ANB MR25015              ; 外観検査自動起動中
ORL
OUT MR41106              ; 外観検査停止可
;**** 外観検査　I7軸操作　軸原点復帰 / 外観検査　I7軸 Operation ****
LD R44800                ; 位置決めﾕﾆｯﾄ2動作可能
AND R48113               ; 外観検査　I7軸ｻｰﾎﾞﾚﾃﾞｨｰ
AND R4107                ; 反転ﾕﾆｯﾄﾁｬｯｸ上昇端
ANB R6406                ; 反転ﾕﾆｯﾄﾁｬｯｸ上下SOL
ANB R1110                ; 外観検査I7軸原点復帰完了
OUT @MR200               ; 外観検査I7軸動作可能
LDB R63206               ; 外観検査I7軸原点復帰SW
ANB @MR604               ; 外観検査I7軸原点復帰
INV
AND @MR200               ; 外観検査I7軸動作可能
ANB @MR210               ; 外観検査I7軸原点復帰
OR @MR210                ; 外観検査I7軸原点復帰
ANB @MR205               ; 外観検査I7軸原点復帰完了
ANB MR25011              ; 外観検査全異常
OUT @MR210               ; 外観検査I7軸原点復帰
TMH @10 #5               ; 外観検査I7軸原点復帰ﾃﾞｨﾚｰ
LDP @T10                 ; 外観検査I7軸原点復帰ﾃﾞｨﾚｰ
@SET @MR201              ; 外観検査I7軸原点復帰開始
STG @MR201               ; 外観検査I7軸原点復帰開始
SET MR2113               ; 外観検査I7軸原点復帰HOME補助
CON
ANB R1110                ; 外観検査I7軸原点復帰完了
JMP @MR202               ; 外観検査I7軸原点復帰完了待ち
STG @MR202               ; 外観検査I7軸原点復帰完了待ち
AND R1110                ; 外観検査I7軸原点復帰完了
RES MR2113               ; 外観検査I7軸原点復帰HOME補助
CON
JMP @MR203               ; 外観検査I7軸目標座標変更
STG @MR203               ; 外観検査I7軸目標座標変更
U_WRCPOS.L #4 #4 +0
SET R42104               ; 外観検査I7軸目標座標変更要求
JMP @MR204               ; 外観検査I7軸目標座標変更完了待ち
STG @MR204               ; 外観検査I7軸目標座標変更完了待ち
AND R42904               ; 外観検査I7軸目標座標変更完了
RES R42104               ; 外観検査I7軸目標座標変更要求
CON
JMP @MR205               ; 外観検査I7軸原点復帰完了
STG @MR205               ; 外観検査I7軸原点復帰完了
ANB @MR210               ; 外観検査I7軸原点復帰
ENDS
LDB @MR210               ; 外観検査I7軸原点復帰
ZRES @MR201 @MR205       ; 外観検査I7軸原点復帰開始  外観検査I7軸原点復帰完了
;**** 外観検査　画像処理 / 外観検査　画像処理 ****
LDB R83201               ; 外観検査I7軸P2検査1位置PL
ANB R83202               ; 外観検査I7軸P3検査2位置PL
ANB R83203               ; 外観検査I7軸P4検査3位置PL
ANB R83204               ; 外観検査I7軸P5検査4位置PL
INV
AND R1300                ; 外観検査画像READY
OUT @MR400               ; 外観検査可
LDP R63006               ; 画像検査手動トリガーSW
ANB R63004               ; カメラ調整SW
LD R63004                ; カメラ調整SW
ANB R63006               ; 画像検査手動トリガーSW
ORL
LDB @MR715               ; 外観検査開始
ANB @MR805               ; 外観検査開始
INV
ORL
LDB @MR811               ; 外観検査開始
ANB @MR901               ; 外観検査開始
INV
ORL
AND @MR400               ; 外観検査可
ANB @MR415               ; 外観画像検査開始
OR @MR415                ; 外観画像検査開始
ANB @MR408               ; 画像検査終了
LDB R201                 ; STOP SW
OR MR40110               ; 自動ﾓｰﾄﾞSW選択
ANL
OUT @MR415               ; 外観画像検査開始
TMH @1 #5                ; 外観検査開始ﾃﾞｨﾚｰ
LDP @T1                  ; 外観検査開始ﾃﾞｨﾚｰ
SET @MR401
STG @MR401
@MOV #0 DM51000
MPS
MOV #117 DM50020         ; ｺﾏﾝﾄﾞNo.ｱﾄﾞﾚｽ
MPP
AND= DM51000 #0
JMP @MR402               ; ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ ｾｯﾄ
STG @MR402               ; ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ ｾｯﾄ
MPS
LD R83201                ; 外観検査I7軸P2検査1位置PL
ANB R63004               ; カメラ調整SW
ANL
@MOV #11 DM50050         ; ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ
MRD
LD R83202                ; 外観検査I7軸P3検査2位置PL
ANB R63004               ; カメラ調整SW
ANL
@MOV #12 DM50050         ; ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ
MRD
LD R83203                ; 外観検査I7軸P4検査3位置PL
ANB R63004               ; カメラ調整SW
ANL
@MOV #13 DM50050         ; ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ
MRD
LD R83204                ; 外観検査I7軸P5検査4位置PL
ANB R63004               ; カメラ調整SW
ANL
@MOV #14 DM50050         ; ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ
MRD
LD R63004                ; カメラ調整SW
ANB R63006               ; 画像検査手動トリガーSW
ANL
@MOV #80 DM50050         ; ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ
MPP
TMH @3 #2
CON
AND @T3
JMP @MR403               ; ｺﾏﾝﾄﾞNo.入力制御ｱﾄﾞﾚｽ　ｾｯﾄ
STG @MR403               ; ｺﾏﾝﾄﾞNo.入力制御ｱﾄﾞﾚｽ　ｾｯﾄ
@MOV #1 DM50010          ; ｺﾏﾝﾄﾞNo.入力制御ｱﾄﾞﾚｽ
JMP @MR410               ; P&P　X軸原点復帰
STG @MR410               ; P&P　X軸原点復帰
TMH @4 #5
CON
AND @T4
MPS
AND= DM50010 #0          ; ｺﾏﾝﾄﾞNo.入力制御ｱﾄﾞﾚｽ
JMP @MR404               ; 画像検査BUSSY
MPP
AND<> DM50010 #0         ; ｺﾏﾝﾄﾞNo.入力制御ｱﾄﾞﾚｽ
JMP @MR405               ; 検査終了待ち
STG @MR404               ; 画像検査BUSSY
AND R1303                ; 外観検査画像BUSSY
JMP @MR405               ; 検査終了待ち
STG @MR405               ; 検査終了待ち
ANB R1303                ; 外観検査画像BUSSY
LD= DM51000 #1
OR R1302                 ; 外観検査画像EROOR
ANL
JMP @MR406               ; 待ち
STG @MR406               ; 待ち
TMH @2 #5
CON
AND @T2
JMP @MR407               ; 検査結果収納
STG @MR407               ; 検査結果収納
MPS
LD MR40005               ; 全起動中
AND R83201               ; 外観検査I7軸P2検査1位置PL
ANL
MPS
AND= DM51502 #0
@MOV #1 DM2001           ; 外観検査1判定結果
MPP
AND= DM51502 #1000
@MOV #2 DM2001           ; 外観検査1判定結果
MRD
LD MR40005               ; 全起動中
AND R83202               ; 外観検査I7軸P3検査2位置PL
ANL
MPS
AND= DM51502 #0
@MOV #1 DM2002           ; 外観検査2判定結果
MPP
AND= DM51502 #1000
@MOV #2 DM2002           ; 外観検査2判定結果
MRD
LD MR40005               ; 全起動中
AND R83203               ; 外観検査I7軸P4検査3位置PL
ANL
MPS
AND= DM51502 #0
@MOV #1 DM2003           ; 外観検査3判定結果
MPP
AND= DM51502 #1000
@MOV #2 DM2003           ; 外観検査3判定結果
MRD
LD MR40005               ; 全起動中
AND R83204               ; 外観検査I7軸P5検査4位置PL
ANL
MPS
AND= DM51502 #0
@MOV #1 DM2004           ; 外観検査4判定結果
MPP
AND= DM51502 #1000
@MOV #2 DM2004           ; 外観検査4判定結果
MPP
JMP @MR408               ; 画像検査終了
STG @MR408               ; 画像検査終了
ANB @MR415               ; 外観画像検査開始
ENDS
LDB @MR415               ; 外観画像検査開始
ZRES @MR401 @MR415       ; 外観画像検査開始
LD CR2002                ; 常時ON
MPS
AND= DM50300 #1          ; ｺﾏﾝﾄﾞﾃﾞｰﾀ出力ｱﾄﾞﾚｽ
OUT R63400               ; 検査終了
MPP
AND= DM50100 #1          ; 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
OUT R63401               ; 検査判定ON=NG
;**** 外観検査　原点復帰 / 外観検査　原点復帰 ****
LD R44800                ; 位置決めﾕﾆｯﾄ2動作可能
AND R48113               ; 外観検査　I7軸ｻｰﾎﾞﾚﾃﾞｨｰ
OUT @MR600               ; 外観検査原点復帰可
OUT MR25009              ; 外観検査原点復帰可
LD MR40101               ; 各ﾕﾆｯﾄ原点復帰開始
ORP R63009               ; 手動外観検査原点復帰SW
AND @MR600               ; 外観検査原点復帰可
ANB MR25014              ; 外観検査原点復帰開始
OR MR25014               ; 外観検査原点復帰開始
ANB MR25011              ; 外観検査全異常
ANB @MR613               ; 外観検査原点復帰完了
OUT MR25014              ; 外観検査原点復帰開始
OUT R83009               ; 外観検査原点復帰PL
TMH @20 #5               ; 外観検査原点復帰開始ﾃﾞｨﾚｰ
LDP @T20                 ; 外観検査原点復帰開始ﾃﾞｨﾚｰ
SET @MR601
STG @MR601
ANB MR40101              ; 各ﾕﾆｯﾄ原点復帰開始
JMP @MR602               ; 反転ﾕﾆｯﾄﾁｬｯｸ上昇
STG @MR602               ; 反転ﾕﾆｯﾄﾁｬｯｸ上昇
RES MR6612               ; 外形位置決め前進SOL補助
CON
AND R4811                ; 外形位置決め後退端
AND R4107                ; 反転ﾕﾆｯﾄﾁｬｯｸ上昇端
AND @MR010               ; CAV SRB2 PZT取出し位置干渉外
JMP @MR603               ; 外観検査I7軸原点条件確認
STG @MR603               ; 外観検査I7軸原点条件確認
MPS
AND R1110                ; 外観検査I7軸原点復帰完了
JMP @MR606               ; 外観検査I7軸受取り位置ﾃﾞｰﾀｾｯﾄ
MPP
ANB R1110                ; 外観検査I7軸原点復帰完了
JMP @MR604               ; 外観検査I7軸原点復帰
STG @MR604               ; 外観検査I7軸原点復帰
AND @MR210               ; 外観検査I7軸原点復帰
JMP @MR605               ; 外観検査I7軸原点復帰完了待ち
STG @MR605               ; 外観検査I7軸原点復帰完了待ち
ANB @MR210               ; 外観検査I7軸原点復帰
AND R83101               ; 外観検査I7軸原点位置PL
JMP @MR606               ; 外観検査I7軸受取り位置ﾃﾞｰﾀｾｯﾄ
STG @MR606               ; 外観検査I7軸受取り位置ﾃﾞｰﾀｾｯﾄ
@MOV #1 DM1945           ; 外観検査I7軸ﾎﾟｲﾝﾄNo.
JMP @MR607               ; 外観検査I7軸受取り位置移動
STG @MR607               ; 外観検査I7軸受取り位置移動
AND @MR310               ; 外観検査I7軸移動
JMP @MR608               ; 外観検査I7軸受取り位置移動完了待
STG @MR608               ; 外観検査I7軸受取り位置移動完了待
ANB @MR310               ; 外観検査I7軸移動
AND R83200               ; 外観検査I7軸P1受取り位置PL
JMP @MR609               ; 外観検査ﾃｰﾌﾞﾙ吸着ON
STG @MR609               ; 外観検査ﾃｰﾌﾞﾙ吸着ON
RES MR7200               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊SOL補助
CON
SET MR7201               ; 外観検査ﾃｰﾌﾞﾙ吸着SOL補助
CON
TMR @13 #5               ; 外観検査ﾃｰﾌﾞﾙ吸着確認時間
CON
AND @T13                 ; 外観検査ﾃｰﾌﾞﾙ吸着確認時間
JMP @MR610               ; 外観検査ﾃｰﾌﾞﾙ吸着ﾜｰｸ有無確認
STG @MR610               ; 外観検査ﾃｰﾌﾞﾙ吸着ﾜｰｸ有無確認
MPS
LD R4112                 ; 外観検査ﾃｰﾌﾞﾙ吸着確認1
AND R4113                ; 外観検査ﾃｰﾌﾞﾙ吸着確認2
ANL
JMP @MR613               ; 外観検査原点復帰完了
MPP
ANB R4112                ; 外観検査ﾃｰﾌﾞﾙ吸着確認1
JMP @MR611               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊ON
STG @MR611               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊ON
RES MR7201               ; 外観検査ﾃｰﾌﾞﾙ吸着SOL補助
CON
SET MR7200               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊SOL補助
CON
TMR @14 #2               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊時間
CON
AND @T14                 ; 外観検査ﾃｰﾌﾞﾙ吸着破壊時間
JMP @MR612               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊OFF
STG @MR612               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊OFF
RES MR7200               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊SOL補助
CON
JMP @MR613               ; 外観検査原点復帰完了
STG @MR613               ; 外観検査原点復帰完了
LDB MR25014              ; 外観検査原点復帰開始
ORB MR40014              ; 全原点復帰中
ANL
AND MR25300              ; 外観検査原点復帰完了
ENDS
LD @MR613                ; 外観検査原点復帰完了
OR MR25300               ; 外観検査原点復帰完了
ANB MR40102              ; 各原点復帰完了FLGOFF
AND MR40014              ; 全原点復帰中
OUT MR25300              ; 外観検査原点復帰完了
LDB MR25014              ; 外観検査原点復帰開始
ZRES @MR601 @MR615
;**** 外観検査　自動運転 / 外観検査　自動運転 ****
LD CR2002                ; 常時ON
LDP R4802                ; ｽｷｰｼﾞ確認SW
OR T95                   ; ｽｷｰｼﾞ確認SWﾃﾞｨﾚｰ
ANL
AND MR40610              ; STEP前半選択
ANB MR40112              ; 自動ﾓｰﾄﾞ
OR MR40112               ; 自動ﾓｰﾄﾞ
OUT MR25005              ; STEPﾊﾟﾙｽ
LD R44800                ; 位置決めﾕﾆｯﾄ2動作可能
AND R48113               ; 外観検査　I7軸ｻｰﾎﾞﾚﾃﾞｨｰ
LD R1300                 ; 外観検査画像READY
OR CR2002                ; 常時ON
ANL
AND R4811                ; 外形位置決め後退端
OUT MR25010              ; 外観検査全原点
LDB MR25901              ; 外観検査ｼﾘﾝﾀﾞｰｾﾝｻｰ異常一括
ANB MR25902              ; 外観検査ﾛﾎﾞｯﾄ異常一括
ANB MR25903              ; 外観検査ﾃｰﾌﾞﾙ吸着異常
INV
OUT MR25011              ; 外観検査全異常
LD MR40015               ; 主幹自動起動中
OR MR40610               ; STEP前半選択
AND MR25010              ; 外観検査全原点
ANB MR25011              ; 外観検査全異常
ANB MR25014              ; 外観検査原点復帰開始
ANB MR25015              ; 外観検査自動起動中
OUT MR25012              ; 外観検査起動条件
LD MR25011               ; 外観検査全異常
OR MR40910               ; 主幹異常一括
OUT MR25013              ; 外観検査起動OFF
LD MR25005               ; STEPﾊﾟﾙｽ
AND MR25012              ; 外観検査起動条件
OR MR25015               ; 外観検査自動起動中
ANB MR25013              ; 外観検査起動OFF
LD MR40112               ; 自動ﾓｰﾄﾞ
OR MR40610               ; STEP前半選択
ANL
ANB R63109               ; ﾀｯﾁﾊﾟﾈﾙﾘｾｯﾄSW
ANB @MR915               ; 外観検査自動起動1ｻｲｸﾙ終了
OUT MR25015              ; 外観検査自動起動中
TMH @21 #5               ; 外観検査自動起動ﾃﾞｨﾚｰ
LDP @T21                 ; 外観検査自動起動ﾃﾞｨﾚｰ
SET @MR701               ; 転写1〜24上空位置移動
STG @MR701               ; 転写1〜24上空位置移動
JMP @MR702               ; 外観検査起動時1回目確認
STG @MR702               ; 外観検査起動時1回目確認
MPS
AND MR25110              ; 外観検査起動時1回目FLG
JMP @MR703               ; 外観検査ﾃｰﾌﾞﾙﾜｰｸ確認
MPP
ANB MR25110              ; 外観検査起動時1回目FLG
JMP @MR912               ; 外観検査起動時1回目ﾜｰｸ確認開始
STG @MR703               ; 外観検査ﾃｰﾌﾞﾙﾜｰｸ確認
MPS
AND R4112                ; 外観検査ﾃｰﾌﾞﾙ吸着確認1
JMP @MR710               ; 外観検査より供給ﾜｰｸ確認
MPP
ANB R4112                ; 外観検査ﾃｰﾌﾞﾙ吸着確認1
JMP @MR705               ; 外観検査I7軸受取り位置確認
STG @MR705               ; 外観検査I7軸受取り位置確認
MPS
AND MR25100              ; 外観検査I7軸受取り位置
RES MR6612               ; 外形位置決め前進SOL補助
CON
AND R4811                ; 外形位置決め後退端
JMP @MR709               ; 外観検査より供給待ち
MPP
ANB MR25100              ; 外観検査I7軸受取り位置
JMP @MR706               ; 外観検査I7軸自動受取り位置ﾃﾞｰﾀｾｯ
STG @MR706               ; 外観検査I7軸自動受取り位置ﾃﾞｰﾀｾｯ
RES MR6612               ; 外形位置決め前進SOL補助
CON
AND R4811                ; 外形位置決め後退端
ANB R6612                ; 外観検査外形位置決め前進SOL
AND R4107                ; 反転ﾕﾆｯﾄﾁｬｯｸ上昇端
ANB R6406                ; 反転ﾕﾆｯﾄﾁｬｯｸ上下SOL
@MOV #1 DM1945           ; 外観検査I7軸ﾎﾟｲﾝﾄNo.
JMP @MR707               ; 外観検査I7軸自動受取り位置移動
STG @MR707               ; 外観検査I7軸自動受取り位置移動
AND @MR310               ; 外観検査I7軸移動
JMP @MR708               ; 外観検査I7軸自動受取り移動完了待
STG @MR708               ; 外観検査I7軸自動受取り移動完了待
ANB @MR310               ; 外観検査I7軸移動
AND MR25100              ; 外観検査I7軸受取り位置
AND MR25005              ; STEPﾊﾟﾙｽ
JMP @MR709               ; 外観検査より供給待ち
STG @MR709               ; 外観検査より供給待ち
OUT MR25000              ; 外観検査より供給要求
MPS
AND MR24001              ; 外観検査部へ吸着要求
RES MR7200               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊SOL補助
CON
SET MR7201               ; 外観検査ﾃｰﾌﾞﾙ吸着SOL補助
CON
TMH @22 #10              ; 外観検査ﾃｰﾌﾞﾙ吸着ON時間
CON
AND @T22                 ; 外観検査ﾃｰﾌﾞﾙ吸着ON時間
AND MR25005              ; STEPﾊﾟﾙｽ
JMP @MR710               ; 外観検査より供給ﾜｰｸ確認
MPP
LDB MR40015              ; 主幹自動起動中
ANB MR24015              ; 反転ﾕﾆｯﾄ自動起動中
ANB MR40610              ; STEP前半選択
ANL
TMR @15 #3               ; 主幹起動OFF確認
CON
AND @T15                 ; 主幹起動OFF確認
JMP @MR915               ; 外観検査自動起動1ｻｲｸﾙ終了
STG @MR710               ; 外観検査より供給ﾜｰｸ確認
MPS
LD @T0                   ; 外観検査ﾃｰﾌﾞﾙ吸着確認1
AND R4107                ; 反転ﾕﾆｯﾄﾁｬｯｸ上昇端
ANB R6406                ; 反転ﾕﾆｯﾄﾁｬｯｸ上下SOL
AND MR25005              ; STEPﾊﾟﾙｽ
ANL
JMP @MR711               ; 画像検査結果ｸﾘｱｰ
MRD
ANB @T0                  ; 外観検査ﾃｰﾌﾞﾙ吸着確認1
TMH @28 #50              ; 外観検査ﾃｰﾌﾞﾙ吸着OFF確認
CON
AND @T28                 ; 外観検査ﾃｰﾌﾞﾙ吸着OFF確認
ANB MR40015              ; 主幹自動起動中
ANB MR24015              ; 反転ﾕﾆｯﾄ自動起動中
ANB MR40610              ; STEP前半選択
RES MR6612               ; 外形位置決め前進SOL補助
CON
RES MR7201               ; 外観検査ﾃｰﾌﾞﾙ吸着SOL補助
CON
JMP @MR915               ; 外観検査自動起動1ｻｲｸﾙ終了
MPP
LDB MR40015              ; 主幹自動起動中
ANB MR24015              ; 反転ﾕﾆｯﾄ自動起動中
ANB MR40610              ; STEP前半選択
ANL
TMR @16 #3               ; 主幹起動OFF確認
CON
AND @T16                 ; 主幹起動OFF確認
JMP @MR915               ; 外観検査自動起動1ｻｲｸﾙ終了
STG @MR711               ; 画像検査結果ｸﾘｱｰ
SET MR6612               ; 外形位置決め前進SOL補助
CON
@MOV #0 DM2001           ; 外観検査1判定結果
@MOV #0 DM2002           ; 外観検査2判定結果
@MOV #0 DM2003           ; 外観検査3判定結果
MPS
@MOV #0 DM2004           ; 外観検査4判定結果
MPP
AND R4810                ; 外形位置決め前進端
TMH @26 #20              ; 外形位置決め確認
CON
AND @T26                 ; 外形位置決め確認
AND R4810                ; 外形位置決め前進端
JMP @MR712               ; 外観検査I7軸自動検査1位置ﾃﾞｰﾀｾｯﾄ
STG @MR712               ; 外観検査I7軸自動検査1位置ﾃﾞｰﾀｾｯﾄ
RES MR6612               ; 外形位置決め前進SOL補助
CON
MPS
@MOV #2 DM1945           ; 外観検査I7軸ﾎﾟｲﾝﾄNo.
MPP
AND R4811                ; 外形位置決め後退端
JMP @MR713               ; 外観検査I7軸自動検査1位置移動
STG @MR713               ; 外観検査I7軸自動検査1位置移動
AND @MR310               ; 外観検査I7軸移動
JMP @MR714               ; 外観検査I7軸自動検査1移動完了待
STG @MR714               ; 外観検査I7軸自動検査1移動完了待
ANB @MR310               ; 外観検査I7軸移動
AND MR25101              ; 外観検査I7軸P2検査1位置
AND MR25005              ; STEPﾊﾟﾙｽ
JMP @MR715               ; 外観検査開始
STG @MR715               ; 外観検査開始
AND @MR415               ; 外観画像検査開始
JMP @MR800               ; 外観検査終了待ち
STG @MR800               ; 外観検査終了待ち
ANB @MR415               ; 外観画像検査開始
JMP @MR801
STG @MR801
AND MR25005              ; STEPﾊﾟﾙｽ
JMP @MR802               ; 外観検査I7軸自動検査2位置ﾃﾞｰﾀｾｯﾄ
STG @MR802               ; 外観検査I7軸自動検査2位置ﾃﾞｰﾀｾｯﾄ
@MOV #3 DM1945           ; 外観検査I7軸ﾎﾟｲﾝﾄNo.
JMP @MR803               ; 外観検査I7軸自動検査2位置移動
STG @MR803               ; 外観検査I7軸自動検査2位置移動
AND @MR310               ; 外観検査I7軸移動
JMP @MR804               ; 外観検査I7軸自動検査2移動完了待
STG @MR804               ; 外観検査I7軸自動検査2移動完了待
ANB @MR310               ; 外観検査I7軸移動
AND MR25102              ; 外観検査I7軸P3検査2位置
AND MR25005              ; STEPﾊﾟﾙｽ
JMP @MR805               ; 外観検査開始
STG @MR805               ; 外観検査開始
AND @MR415               ; 外観画像検査開始
JMP @MR806               ; 外観検査終了待ち
STG @MR806               ; 外観検査終了待ち
ANB @MR415               ; 外観画像検査開始
JMP @MR807
STG @MR807
AND MR25005              ; STEPﾊﾟﾙｽ
JMP @MR808               ; 外観検査I7軸自動検査3位置ﾃﾞｰﾀｾｯﾄ
STG @MR808               ; 外観検査I7軸自動検査3位置ﾃﾞｰﾀｾｯﾄ
@MOV #4 DM1945           ; 外観検査I7軸ﾎﾟｲﾝﾄNo.
JMP @MR809               ; 外観検査I7軸自動検査3位置移動
STG @MR809               ; 外観検査I7軸自動検査3位置移動
AND @MR310               ; 外観検査I7軸移動
JMP @MR810               ; 外観検査I7軸自動検査3移動完了待
STG @MR810               ; 外観検査I7軸自動検査3移動完了待
ANB @MR310               ; 外観検査I7軸移動
AND MR25103              ; 外観検査I7軸P4検査3位置
AND MR25005              ; STEPﾊﾟﾙｽ
JMP @MR811               ; 外観検査開始
STG @MR811               ; 外観検査開始
AND @MR415               ; 外観画像検査開始
JMP @MR812               ; 外観検査終了待ち
STG @MR812               ; 外観検査終了待ち
ANB @MR415               ; 外観画像検査開始
JMP @MR813
STG @MR813
AND MR25005              ; STEPﾊﾟﾙｽ
JMP @MR814               ; 外観検査I7軸自動検査4位置ﾃﾞｰﾀｾｯﾄ
STG @MR814               ; 外観検査I7軸自動検査4位置ﾃﾞｰﾀｾｯﾄ
@MOV #5 DM1945           ; 外観検査I7軸ﾎﾟｲﾝﾄNo.
JMP @MR815               ; 外観検査I7軸自動検査4位置移動
STG @MR815               ; 外観検査I7軸自動検査4位置移動
AND @MR310               ; 外観検査I7軸移動
JMP @MR900               ; 外観検査I7軸自動検査4移動完了待
STG @MR900               ; 外観検査I7軸自動検査4移動完了待
ANB @MR310               ; 外観検査I7軸移動
AND MR25104              ; 外観検査I7軸P5検査4位置
AND MR25005              ; STEPﾊﾟﾙｽ
JMP @MR901               ; 外観検査開始
STG @MR901               ; 外観検査開始
AND @MR415               ; 外観画像検査開始
JMP @MR902               ; 外観検査終了待ち
STG @MR902               ; 外観検査終了待ち
ANB @MR415               ; 外観画像検査開始
AND MR25005              ; STEPﾊﾟﾙｽ
JMP @MR903               ; 外観検査I7軸自動受渡ﾃﾞｰﾀｾｯﾄ
STG @MR903               ; 外観検査I7軸自動受渡ﾃﾞｰﾀｾｯﾄ
LD @MR010                ; CAV SRB2 PZT取出し位置干渉外
OR R9801                 ; CAV SRB2外観検査取出上空位置
ANL
@MOV #6 DM1945           ; 外観検査I7軸ﾎﾟｲﾝﾄNo.
JMP @MR904               ; 外観検査I7軸自動受渡し位置移動
STG @MR904               ; 外観検査I7軸自動受渡し位置移動
AND @MR310               ; 外観検査I7軸移動
JMP @MR905               ; 外観検査I7軸自動受渡移動完了待ち
STG @MR905               ; 外観検査I7軸自動受渡移動完了待ち
ANB @MR310               ; 外観検査I7軸移動
AND MR25105              ; 外観検査I7軸P6受渡し位置
AND MR25005              ; STEPﾊﾟﾙｽ
JMP @MR906               ; CAV SRB2へ取出し待ち
STG @MR906               ; CAV SRB2へ取出し待ち
OUT MR25001              ; CAV SRB2へPZT取出し要求
MPS
AND MR27000              ; CAV SRB2外観検査吸着OFF要求
RES MR7201               ; 外観検査ﾃｰﾌﾞﾙ吸着SOL補助
CON
SET MR7200               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊SOL補助
CON
TMH @23 #10              ; 外観検査ﾃｰﾌﾞﾙ吸着破壊時間
CON
AND @T23                 ; 外観検査ﾃｰﾌﾞﾙ吸着破壊時間
RES MR7200               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊SOL補助
CON
ANB @T0                  ; 外観検査ﾃｰﾌﾞﾙ吸着確認1
JMP @MR907               ; CAV SRB2取り出し終了確認
MPP
LDB MR40015              ; 主幹自動起動中
ANB MR27001              ; CAV SRB2 PZT取出し下降中
ANB MR40610              ; STEP前半選択
ANL
TMR @17 #3               ; 主幹起動OFF確認
CON
AND @T17                 ; 主幹起動OFF確認
JMP @MR915               ; 外観検査自動起動1ｻｲｸﾙ終了
LD= DM2001 #1            ; 外観検査1判定結果
AND= DM2002 #1           ; 外観検査2判定結果
AND= DM2003 #1           ; 外観検査3判定結果
AND= DM2004 #1           ; 外観検査4判定結果
OR LR40002               ; 画像検査無効
OUT MR25200              ; 外観検査結果ＯＫ
LD= DM2001 #2            ; 外観検査1判定結果
OR= DM2002 #2            ; 外観検査2判定結果
OR= DM2003 #2            ; 外観検査3判定結果
OR= DM2004 #2            ; 外観検査4判定結果
ANB LR40002              ; 画像検査無効
OUT MR25201              ; 外観検査結果ＮＧ
STG @MR907               ; CAV SRB2取り出し終了確認
ANB MR27000              ; CAV SRB2外観検査吸着OFF要求
ANB MR27001              ; CAV SRB2 PZT取出し下降中
AND @MR010               ; CAV SRB2 PZT取出し位置干渉外
AND MR25005              ; STEPﾊﾟﾙｽ
JMP @MR908               ; 起動中確認
STG @MR908               ; 起動中確認
MPS
LD MR40015               ; 主幹自動起動中
OR MR40610               ; STEP前半選択
ANL
JMP @MR915               ; 外観検査自動起動1ｻｲｸﾙ終了
MPP
LDB MR40015              ; 主幹自動起動中
ANB MR40610              ; STEP前半選択
ANL
TMR @18 #3               ; 主幹起動OFF確認
CON
AND @T18                 ; 主幹起動OFF確認
JMP @MR909               ; 外観検査I7軸自動受取り位置ﾃﾞｰﾀｾｯ
STG @MR909               ; 外観検査I7軸自動受取り位置ﾃﾞｰﾀｾｯ
RES MR6612               ; 外形位置決め前進SOL補助
CON
AND R4811                ; 外形位置決め後退端
AND R4107                ; 反転ﾕﾆｯﾄﾁｬｯｸ上昇端
ANB R6406                ; 反転ﾕﾆｯﾄﾁｬｯｸ上下SOL
@MOV #1 DM1945           ; 外観検査I7軸ﾎﾟｲﾝﾄNo.
JMP @MR910               ; 外観検査I7軸自動受取り位置移動
STG @MR910               ; 外観検査I7軸自動受取り位置移動
AND @MR310               ; 外観検査I7軸移動
JMP @MR911               ; 外観検査I7軸自動受取り移動完了待
STG @MR911               ; 外観検査I7軸自動受取り移動完了待
ANB @MR310               ; 外観検査I7軸移動
AND MR25100              ; 外観検査I7軸受取り位置
JMP @MR915               ; 外観検査自動起動1ｻｲｸﾙ終了
STG @MR912               ; 外観検査起動時1回目ﾜｰｸ確認開始
RES MR7200               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊SOL補助
CON
SET MR7201               ; 外観検査ﾃｰﾌﾞﾙ吸着SOL補助
CON
TMR @24 #20              ; 外観検査ﾃｰﾌﾞﾙ吸着確認待ち時間
CON
AND @T24                 ; 外観検査ﾃｰﾌﾞﾙ吸着確認待ち時間
JMP @MR913               ; ﾜｰｸ有無確認
STG @MR913               ; ﾜｰｸ有無確認
AND MR25110              ; 外観検査起動時1回目FLG
MPS
LD R4112                 ; 外観検査ﾃｰﾌﾞﾙ吸着確認1
AND R4113                ; 外観検査ﾃｰﾌﾞﾙ吸着確認2
ANL
JMP @MR1000              ; 外形位置決め後退
MPP
LDB R4112                ; 外観検査ﾃｰﾌﾞﾙ吸着確認1
ANB R4113                ; 外観検査ﾃｰﾌﾞﾙ吸着確認2
ANL
JMP @MR914               ; ﾜｰｸ無し処理
STG @MR914               ; ﾜｰｸ無し処理
RES MR6612               ; 外形位置決め前進SOL補助
CON
RES MR7201               ; 外観検査ﾃｰﾌﾞﾙ吸着SOL補助
CON
SET MR7200               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊SOL補助
CON
TMR @25 #2               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊時間
CON
AND @T25                 ; 外観検査ﾃｰﾌﾞﾙ吸着破壊時間
AND R4811                ; 外形位置決め後退端
RES MR7200               ; 外観検査ﾃｰﾌﾞﾙ吸着破壊SOL補助
CON
JMP @MR703               ; 外観検査ﾃｰﾌﾞﾙﾜｰｸ確認
LD @MR913                ; ﾜｰｸ有無確認
OR MR25110               ; 外観検査起動時1回目FLG
LD MR40005               ; 全起動中
OR MR40610               ; STEP前半選択
ANL
ANB R63109               ; ﾀｯﾁﾊﾟﾈﾙﾘｾｯﾄSW
OUT MR25110              ; 外観検査起動時1回目FLG
STG @MR1000              ; 外形位置決め後退
RES MR6612               ; 外形位置決め前進SOL補助
CON
AND R4811                ; 外形位置決め後退端
JMP @MR1001              ; 外観検査I7軸自動受取り位置ﾃﾞｰﾀｾｯ
STG @MR1001              ; 外観検査I7軸自動受取り位置ﾃﾞｰﾀｾｯ
AND R4107                ; 反転ﾕﾆｯﾄﾁｬｯｸ上昇端
ANB R6406                ; 反転ﾕﾆｯﾄﾁｬｯｸ上下SOL
AND @MR010               ; CAV SRB2 PZT取出し位置干渉外
@MOV #1 DM1945           ; 外観検査I7軸ﾎﾟｲﾝﾄNo.
JMP @MR1002              ; 外観検査I7軸自動受取り位置移動
STG @MR1002              ; 外観検査I7軸自動受取り位置移動
AND @MR310               ; 外観検査I7軸移動
JMP @MR1003              ; 外観検査I7軸自動受取り移動完了待
STG @MR1003              ; 外観検査I7軸自動受取り移動完了待
ANB @MR310               ; 外観検査I7軸移動
AND MR25100              ; 外観検査I7軸受取り位置
JMP @MR703               ; 外観検査ﾃｰﾌﾞﾙﾜｰｸ確認
STG @MR915               ; 外観検査自動起動1ｻｲｸﾙ終了
ANB MR25015              ; 外観検査自動起動中
ENDS
LDB MR25015              ; 外観検査自動起動中
ZRES @MR700 @MR1015
;<h1/>外観検査異常処理
LDB MR4810               ; 外形位置決め前進端ｾﾝｻｰ異常
ANB MR4811               ; 外形位置決め後退端ｾﾝｻｰ異常
INV
OUT MR25901              ; 外観検査ｼﾘﾝﾀﾞｰｾﾝｻｰ異常一括
LDB MR9106               ; 外観検査I7軸位置決めｴﾗｰ
ANB MR9107               ; 外観検査I7軸ｻｰﾎﾞﾄﾞﾗｲﾊﾞｰｱﾗｰﾑ
INV
OUT MR25902              ; 外観検査ﾛﾎﾞｯﾄ異常一括
LDB MR3112               ; 外観検査ﾃｰﾌﾞﾙ吸着異常
ANB MR3113               ; 外観検査ﾃｰﾌﾞﾙ吸着異常
INV
OUT MR25903              ; 外観検査ﾃｰﾌﾞﾙ吸着異常
LD T210                  ; 異常監視開始
AND R48000               ; 外観検査I7軸位置決めｴﾗｰ
AND MR9915               ; 異常なし
SET MR9106               ; 外観検査I7軸位置決めｴﾗｰ
LD T210                  ; 異常監視開始
AND R48305               ; 外観検査I7軸ｻｰﾎﾞﾄﾞﾗｲﾊﾞｰｱﾗｰﾑ
AND MR9915               ; 異常なし
SET MR9107               ; 外観検査I7軸ｻｰﾎﾞﾄﾞﾗｲﾊﾞｰｱﾗｰﾑ
LD MR40110               ; 自動ﾓｰﾄﾞSW選択
OR MR21014               ; 給材P&P原点復帰開始
OR= DM300 #46            ; 画面表示No.
AND T210                 ; 異常監視開始
OUT MR25915              ; 異常監視
LD @MR710                ; 外観検査より供給ﾜｰｸ確認
ANB @T0                  ; 外観検査ﾃｰﾌﾞﾙ吸着確認1
TMR @30 #25              ; 外観検査ﾃｰﾌﾞﾙ吸着監視
CON
AND @T30                 ; 外観検査ﾃｰﾌﾞﾙ吸着監視
AND MR9915               ; 異常なし
SET MR3112               ; 外観検査ﾃｰﾌﾞﾙ吸着異常
LD @MR913                ; ﾜｰｸ有無確認
ANB R4112                ; 外観検査ﾃｰﾌﾞﾙ吸着確認1
AND R4113                ; 外観検査ﾃｰﾌﾞﾙ吸着確認2
AND MR9915               ; 異常なし
SET MR3113               ; 外観検査ﾃｰﾌﾞﾙ吸着異常
LD R4810                 ; 外形位置決め前進端
AND R4811                ; 外形位置決め後退端
LD R6612                 ; 外観検査外形位置決め前進SOL
ANB R4810                ; 外形位置決め前進端
ORL
AND MR25915              ; 異常監視
TMR @31 #50              ; 外形位置決め前進端ｾﾝｻｰ監視
CON
AND @T31                 ; 外形位置決め前進端ｾﾝｻｰ監視
AND MR9915               ; 異常なし
SET MR4810               ; 外形位置決め前進端ｾﾝｻｰ異常
LD MR40110               ; 自動ﾓｰﾄﾞSW選択
AND MR4810               ; 外形位置決め前進端ｾﾝｻｰ異常
RES MR6612               ; 外形位置決め前進SOL補助
LDB R6612                ; 外観検査外形位置決め前進SOL
ANB R4811                ; 外形位置決め後退端
AND MR25915              ; 異常監視
TMR @32 #50              ; 外形位置決め後退端ｾﾝｻｰ監視
CON
AND @T32                 ; 外形位置決め後退端ｾﾝｻｰ監視
AND MR9915               ; 異常なし
SET MR4811               ; 外形位置決め後退端ｾﾝｻｰ異常
;<h1/>ﾌﾟﾛｸﾞﾗﾑﾓﾆﾀｰ用　DM
LD @MR701                ; 転写1〜24上空位置移動
@MOV #701 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR702                ; 外観検査起動時1回目確認
@MOV #702 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR703                ; 外観検査ﾃｰﾌﾞﾙﾜｰｸ確認
@MOV #703 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR704                ; 転写1ｻｲｸﾙ実行
@MOV #704 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR705                ; 外観検査I7軸受取り位置確認
@MOV #705 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR706                ; 外観検査I7軸自動受取り位置ﾃﾞｰﾀｾｯ
@MOV #706 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR707                ; 外観検査I7軸自動受取り位置移動
@MOV #707 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR708                ; 外観検査I7軸自動受取り移動完了待
@MOV #708 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR709                ; 外観検査より供給待ち
@MOV #709 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR710                ; 外観検査より供給ﾜｰｸ確認
@MOV #710 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR711                ; 画像検査結果ｸﾘｱｰ
@MOV #711 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR712                ; 外観検査I7軸自動検査1位置ﾃﾞｰﾀｾｯﾄ
@MOV #712 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR713                ; 外観検査I7軸自動検査1位置移動
@MOV #713 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR714                ; 外観検査I7軸自動検査1移動完了待
@MOV #714 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR715                ; 外観検査開始
@MOV #715 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR800                ; 外観検査終了待ち
@MOV #800 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR801
@MOV #801 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR802                ; 外観検査I7軸自動検査2位置ﾃﾞｰﾀｾｯﾄ
@MOV #802 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR803                ; 外観検査I7軸自動検査2位置移動
@MOV #803 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR804                ; 外観検査I7軸自動検査2移動完了待
@MOV #804 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR805                ; 外観検査開始
@MOV #805 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR806                ; 外観検査終了待ち
@MOV #806 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR807
@MOV #807 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR808                ; 外観検査I7軸自動検査3位置ﾃﾞｰﾀｾｯﾄ
@MOV #808 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR809                ; 外観検査I7軸自動検査3位置移動
@MOV #809 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR810                ; 外観検査I7軸自動検査3移動完了待
@MOV #810 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR811                ; 外観検査開始
@MOV #811 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR812                ; 外観検査終了待ち
@MOV #812 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR813
@MOV #813 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR814                ; 外観検査I7軸自動検査4位置ﾃﾞｰﾀｾｯﾄ
@MOV #814 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR815                ; 外観検査I7軸自動検査4位置移動
@MOV #815 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR900                ; 外観検査I7軸自動検査4移動完了待
@MOV #900 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR901                ; 外観検査開始
@MOV #901 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR902                ; 外観検査終了待ち
@MOV #902 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR903                ; 外観検査I7軸自動受渡ﾃﾞｰﾀｾｯﾄ
@MOV #903 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR904                ; 外観検査I7軸自動受渡し位置移動
@MOV #904 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR905                ; 外観検査I7軸自動受渡移動完了待ち
@MOV #905 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR906                ; CAV SRB2へ取出し待ち
@MOV #906 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR907                ; CAV SRB2取り出し終了確認
@MOV #907 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR908                ; 起動中確認
@MOV #908 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR909                ; 外観検査I7軸自動受取り位置ﾃﾞｰﾀｾｯ
@MOV #909 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR910                ; 外観検査I7軸自動受取り位置移動
@MOV #910 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR911                ; 外観検査I7軸自動受取り移動完了待
@MOV #911 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR912                ; 外観検査起動時1回目ﾜｰｸ確認開始
@MOV #912 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR913                ; ﾜｰｸ有無確認
@MOV #913 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR914                ; ﾜｰｸ無し処理
@MOV #914 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR915                ; 外観検査自動起動1ｻｲｸﾙ終了
@MOV #915 DM505          ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR1000               ; 外形位置決め後退
@MOV #1000 DM505         ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR1001               ; 外観検査I7軸自動受取り位置ﾃﾞｰﾀｾｯ
@MOV #1001 DM505         ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR1002               ; 外観検査I7軸自動受取り位置移動
@MOV #1002 DM505         ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR1003               ; 外観検査I7軸自動受取り移動完了待
@MOV #1003 DM505         ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR1004               ; 外形位置決め前進
@MOV #1004 DM505         ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR1005               ; 外形位置決め後退
@MOV #1005 DM505         ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR1006
@MOV #1006 DM505         ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR1007
@MOV #1007 DM505         ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR1008
@MOV #1008 DM505         ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR1009
@MOV #1009 DM505         ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR1010
@MOV #1010 DM505         ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR1011
@MOV #1011 DM505         ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR1012
@MOV #1012 DM505         ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR1013
@MOV #1013 DM505         ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR1014
@MOV #1014 DM505         ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LD @MR1015
@MOV #1015 DM505         ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
LDB MR25015              ; 外観検査自動起動中
MOV #0 DM505             ; 外観検査ｽﾃｯﾌﾟﾓﾆﾀ
END
ENDH
