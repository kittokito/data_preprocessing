DEVICE:53
;MODULE:F_Error
;MODULE_TYPE:0
;OneSystem Sub Module
;---------------------------------------
;ModuleName	:	F_Error
;ModuleType	:	Sub Module
;Function	:	F_Error条件を記入　1~64
;---------------------------------------
;Ethernet Error
LDB CR2002               ; 常時ON
MSTRT F_ERROR_DISP #63
;RB1ｲﾝﾀｰﾛｯｸ Error
LDB R4010                ; 接触式ｾﾝｻ 下降端
AND R4011                ; 接触式ｾﾝｻ 上昇端
LD R35111                ; RB2原点復帰済
AND<.L DM20750 +100      ; 軸2 現在座標
OR R18500                ; 軸1 JOG中
LD= DM50312 #0           ; RB選択
LDB MR22008              ; INC-
ORB MR22009              ; INC+
ANL
ORL
ANL
INV
LD R18404                ; 軸1 軸制御中
OR R18500                ; 軸1 JOG中
ANL
MSTRT F_ERROR_DISP #1
;RB2ｲﾝﾀｰﾛｯｸ Error
LDB R4010                ; 接触式ｾﾝｻ 下降端
AND R4011                ; 接触式ｾﾝｻ 上昇端
INV
LD R19204                ; 軸2 軸制御中
OR R19300                ; 軸2 JOG中
ANL
MSTRT F_ERROR_DISP #2
;RB3ｲﾝﾀｰﾛｯｸ Error
LDB R4010                ; 接触式ｾﾝｻ 下降端
AND R4011                ; 接触式ｾﾝｻ 上昇端
INV
LD R20004                ; 軸3 軸制御中
OR R20100                ; 軸3 JOG中
ANL
MSTRT F_ERROR_DISP #3
;RB4ｲﾝﾀｰﾛｯｸ Error
LDB R4010                ; 接触式ｾﾝｻ 下降端
AND R4011                ; 接触式ｾﾝｻ 上昇端
INV
LD R20804                ; 軸4 軸制御中
OR R20900                ; 軸4 JOG中
ANL
MSTRT F_ERROR_DISP #4
;MC_FSTOP
LD R16802                ; ｴﾗｰ中
LD= DM20400 #1099        ; ﾕﾆｯﾄｴﾗｰｺｰﾄﾞ
OR= DM20400 #2099        ; ﾕﾆｯﾄｴﾗｰｺｰﾄﾞ
OR= DM20400 #3099        ; ﾕﾆｯﾄｴﾗｰｺｰﾄﾞ
OR= DM20400 #4099        ; ﾕﾆｯﾄｴﾗｰｺｰﾄﾞ
ANL
MSTRT F_ERROR_DISP #5
END
ENDH
