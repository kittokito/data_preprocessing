DEVICE:53
;MODULE:Sensor
;MODULE_TYPE:0
;<h1/>ﾒﾝﾃﾅﾝｽ 単動運転は、ｾﾝｻｰｴﾗｰを見ない
LD R46102                ; _ﾒﾝﾃﾅﾝｽ運転中　ﾓｰﾄﾞﾌﾗｸﾞ
AND= DM4110 #25          ; _Group1　ﾒﾝﾃ動作番号
OUT MR11000              ; ﾒﾝﾃﾅﾝｽ 単動運転中
;<h1/>TASK 0　（ﾀｽｸ管理 + 上段ﾄﾚｲ搬送）ｼﾘﾝﾀﾞｰ ｾﾝｻｰ監視
;
LDB @R001
ANB R59915               ; _運転ﾓｰﾄﾞ指定
ANB MR11000              ; ﾒﾝﾃﾅﾝｽ 単動運転中
MC
MCR
;TASK0 Sensor ERROR
LD CR2003                ; 常時OFF
AND>= DM60009 #4204      ; Sensor ERROR No.
AND<= DM60009 #4205      ; Sensor ERROR No.
ANB R39004               ; ｴﾗｰ中
SET R39004               ; ｴﾗｰ中
CON
DW #100 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
LDA DM60009              ; Sensor ERROR No.
CON
STA @DM2                 ; SensorNo /ERROR_DISP
CON
SET @R100                ; Task0 ERROR
CON
SET @R000
STG @R000
AND @R101                ; Task0 ERROR_End
RES @R101                ; Task0 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
ZRES MR4204 MR4205
CON
ZRES MR5400 MR5401       ; ﾄﾚｲ押え(R)手前 下降限ｴﾗｰ  ﾄﾚｲ押え(R)手前 上昇限ｴﾗｰ
CON
DW #0 DM60009            ; Sensor ERROR No.
CON
OUT @R001
CON
ENDS
;<h1/>TASK5　（ﾄﾚｲ ｴﾚﾍﾞｰﾀ部）ｼﾘﾝﾀﾞｰ ｾﾝｻｰ監視
;
LDB @R003
ANB R59915               ; _運転ﾓｰﾄﾞ指定
ANB MR11000              ; ﾒﾝﾃﾅﾝｽ 単動運転中
MC
LDB R8204                ; ﾄﾚｲ受渡し前後 前進
AND R8205                ; ﾄﾚｲ受渡し前後 後退
LDB R5411                ; ﾄﾚｲ受渡し前後(L) 後退限
LD R5410                 ; ﾄﾚｲ受渡し前後(L) 前進限
AND R5411                ; ﾄﾚｲ受渡し前後(L) 後退限
ORL
ANL
TMR @130 #50
CON
AND @T130
ANB R39004               ; ｴﾗｰ中
DW #5411 DM60009         ; Sensor ERROR No.
CON
SET MR5411               ; ﾄﾚｲ受渡し前後(L) 後退限ｴﾗｰ
LDB R8205                ; ﾄﾚｲ受渡し前後 後退
AND R8204                ; ﾄﾚｲ受渡し前後 前進
LDB R5410                ; ﾄﾚｲ受渡し前後(L) 前進限
LD R5410                 ; ﾄﾚｲ受渡し前後(L) 前進限
AND R5411                ; ﾄﾚｲ受渡し前後(L) 後退限
ORL
ANL
TMR @131 #50
CON
AND @T131
ANB R39004               ; ｴﾗｰ中
DW #5410 DM60009         ; Sensor ERROR No.
CON
SET MR5410               ; ﾄﾚｲ受渡し前後(L) 前進限ｴﾗｰ
LDB R8204                ; ﾄﾚｲ受渡し前後 前進
AND R8205                ; ﾄﾚｲ受渡し前後 後退
LDB R5409                ; ﾄﾚｲ受渡し前後(R) 後退限
LD R5408                 ; ﾄﾚｲ受渡し前後(R) 前進限
AND R5409                ; ﾄﾚｲ受渡し前後(R) 後退限
ORL
ANL
TMR @132 #50
CON
AND @T132
ANB R39004               ; ｴﾗｰ中
DW #5409 DM60009         ; Sensor ERROR No.
CON
SET MR5409               ; ﾄﾚｲ受渡し前後(R) 後退限ｴﾗｰ
LDB R8205                ; ﾄﾚｲ受渡し前後 後退
AND R8204                ; ﾄﾚｲ受渡し前後 前進
LDB R5408                ; ﾄﾚｲ受渡し前後(R) 前進限
LD R5408                 ; ﾄﾚｲ受渡し前後(R) 前進限
AND R5409                ; ﾄﾚｲ受渡し前後(R) 後退限
ORL
ANL
TMR @133 #50
CON
AND @T133
ANB R39004               ; ｴﾗｰ中
DW #5408 DM60009         ; Sensor ERROR No.
CON
SET MR5408               ; ﾄﾚｲ受渡し前後(R) 前進限ｴﾗｰ
LDB R8202                ; ﾄﾚｲ受渡し上下 下降
AND R8203                ; ﾄﾚｲ受渡し上下 上昇
LDB R5407                ; ﾄﾚｲ受渡し上下(L) 上昇限
LD R5406                 ; ﾄﾚｲ受渡し上下(L) 下降限
AND R5407                ; ﾄﾚｲ受渡し上下(L) 上昇限
ORL
ANL
TMR @134 #50
CON
AND @T134
ANB R39004               ; ｴﾗｰ中
DW #5407 DM60009         ; Sensor ERROR No.
CON
SET MR5407               ; ﾄﾚｲ受渡し上下(L) 上昇限ｴﾗｰ
LDB R8203                ; ﾄﾚｲ受渡し上下 上昇
AND R8202                ; ﾄﾚｲ受渡し上下 下降
LDB R5406                ; ﾄﾚｲ受渡し上下(L) 下降限
LD R5406                 ; ﾄﾚｲ受渡し上下(L) 下降限
AND R5407                ; ﾄﾚｲ受渡し上下(L) 上昇限
ORL
ANL
TMR @135 #50
CON
AND @T135
ANB R39004               ; ｴﾗｰ中
DW #5406 DM60009         ; Sensor ERROR No.
CON
SET MR5406               ; ﾄﾚｲ受渡し上下(L) 下降限ｴﾗｰ
LDB R8202                ; ﾄﾚｲ受渡し上下 下降
AND R8203                ; ﾄﾚｲ受渡し上下 上昇
LDB R5405                ; ﾄﾚｲ受渡し上下(R) 上昇限
LD R5404                 ; ﾄﾚｲ受渡し上下(R) 下降限
AND R5405                ; ﾄﾚｲ受渡し上下(R) 上昇限
ORL
ANL
TMR @136 #50
CON
AND @T136
ANB R39004               ; ｴﾗｰ中
DW #5405 DM60009         ; Sensor ERROR No.
CON
SET MR5405               ; ﾄﾚｲ受渡し上下(R) 上昇限ｴﾗｰ
LDB R8203                ; ﾄﾚｲ受渡し上下 上昇
AND R8202                ; ﾄﾚｲ受渡し上下 下降
LDB R5404                ; ﾄﾚｲ受渡し上下(R) 下降限
LD R5404                 ; ﾄﾚｲ受渡し上下(R) 下降限
AND R5405                ; ﾄﾚｲ受渡し上下(R) 上昇限
ORL
ANL
TMR @137 #50
CON
AND @T137
ANB R39004               ; ｴﾗｰ中
DW #5404 DM60009         ; Sensor ERROR No.
CON
SET MR5404               ; ﾄﾚｲ受渡し上下(R) 下降限ｴﾗｰ
LDB R8200                ; ﾄﾚｲ押え 下降
AND R8201                ; ﾄﾚｲ押え 上昇
LDB R5403                ; ﾄﾚｲ押え(L)手前 上昇限
LD R5402                 ; ﾄﾚｲ押え(L)手前 下降限
AND R5403                ; ﾄﾚｲ押え(L)手前 上昇限
ORL
ANL
TMR @138 #100
CON
AND @T138
ANB R39004               ; ｴﾗｰ中
DW #5403 DM60009         ; Sensor ERROR No.
CON
SET MR5403               ; ﾄﾚｲ押え(L)手前 上昇限ｴﾗｰ
LDB R8201                ; ﾄﾚｲ押え 上昇
AND R8200                ; ﾄﾚｲ押え 下降
LDB R5402                ; ﾄﾚｲ押え(L)手前 下降限
LD R5402                 ; ﾄﾚｲ押え(L)手前 下降限
AND R5403                ; ﾄﾚｲ押え(L)手前 上昇限
ORL
ANL
TMR @139 #100
CON
AND @T139
ANB R39004               ; ｴﾗｰ中
DW #5402 DM60009         ; Sensor ERROR No.
CON
SET MR5402               ; ﾄﾚｲ押え(L)手前 下降限ｴﾗｰ
LDB R8200                ; ﾄﾚｲ押え 下降
AND R8201                ; ﾄﾚｲ押え 上昇
LDB R5215                ; ﾄﾚｲ押え(L)奥 上昇限
LD R5214                 ; ﾄﾚｲ押え(L)奥 下降限
AND R5215                ; ﾄﾚｲ押え(L)奥 上昇限
ORL
ANL
TMR @140 #100
CON
AND @T140
ANB R39004               ; ｴﾗｰ中
DW #5215 DM60009         ; Sensor ERROR No.
CON
SET MR5215               ; ﾄﾚｲ押え(L)奥 上昇限ｴﾗｰ
LDB R8201                ; ﾄﾚｲ押え 上昇
AND R8200                ; ﾄﾚｲ押え 下降
LDB R5214                ; ﾄﾚｲ押え(L)奥 下降限
LD R5214                 ; ﾄﾚｲ押え(L)奥 下降限
AND R5215                ; ﾄﾚｲ押え(L)奥 上昇限
ORL
ANL
TMR @141 #100
CON
AND @T141
ANB R39004               ; ｴﾗｰ中
DW #5214 DM60009         ; Sensor ERROR No.
CON
SET MR5214               ; ﾄﾚｲ押え(L)奥 下降限ｴﾗｰ
LDB R8200                ; ﾄﾚｲ押え 下降
AND R8201                ; ﾄﾚｲ押え 上昇
LDB R5401                ; ﾄﾚｲ押え(R)手前 上昇限
LD R5400                 ; ﾄﾚｲ押え(R)手前 下降限
AND R5401                ; ﾄﾚｲ押え(R)手前 上昇限
ORL
ANL
TMR @142 #50
CON
AND @T142
ANB R39004               ; ｴﾗｰ中
DW #5401 DM60009         ; Sensor ERROR No.
CON
SET MR5401               ; ﾄﾚｲ押え(R)手前 上昇限ｴﾗｰ
LDB R8201                ; ﾄﾚｲ押え 上昇
AND R8200                ; ﾄﾚｲ押え 下降
LDB R5400                ; ﾄﾚｲ押え(R)手前 下降限
LD R5400                 ; ﾄﾚｲ押え(R)手前 下降限
AND R5401                ; ﾄﾚｲ押え(R)手前 上昇限
ORL
ANL
TMR @143 #50
CON
AND @T143
ANB R39004               ; ｴﾗｰ中
DW #5400 DM60009         ; Sensor ERROR No.
CON
SET MR5400               ; ﾄﾚｲ押え(R)手前 下降限ｴﾗｰ
LDB R8200                ; ﾄﾚｲ押え 下降
AND R8201                ; ﾄﾚｲ押え 上昇
LDB R5213                ; ﾄﾚｲ押え(R)奥 上昇限
LD R5213                 ; ﾄﾚｲ押え(R)奥 上昇限
AND R5212                ; ﾄﾚｲ押え(R)奥 下降限
ORL
ANL
TMR @144 #50
CON
AND @T144
ANB R39004               ; ｴﾗｰ中
DW #5213 DM60009         ; Sensor ERROR No.
CON
SET MR5213               ; ﾄﾚｲ押え(R)奥 上昇限ｴﾗｰ
LDB R8201                ; ﾄﾚｲ押え 上昇
AND R8200                ; ﾄﾚｲ押え 下降
LDB R5212                ; ﾄﾚｲ押え(R)奥 下降限
LD R5213                 ; ﾄﾚｲ押え(R)奥 上昇限
AND R5212                ; ﾄﾚｲ押え(R)奥 下降限
ORL
ANL
TMR @145 #50
CON
AND @T145
ANB R39004               ; ｴﾗｰ中
DW #5212 DM60009         ; Sensor ERROR No.
CON
SET MR5212               ; ﾄﾚｲ押え(R)奥 下降限ｴﾗｰ
LDB R8108                ; 下段ﾄﾚｲ搬送 前進(ｴﾚﾍﾞｰﾀ側)
AND R8109                ; 下段ﾄﾚｲ搬送 後退(扉側)
LDB R5209                ; 下段ﾄﾚｲ搬送 後退(扉側)限
LD R5208                 ; 下段ﾄﾚｲ搬送 前進(ｴﾚﾍﾞｰﾀ側)限
AND R5209                ; 下段ﾄﾚｲ搬送 後退(扉側)限
ORL
ANL
TMR @46 #100
CON
AND @T46
ANB R39004               ; ｴﾗｰ中
DW #5209 DM60009         ; Sensor ERROR No.
CON
SET MR5209               ; 下段ﾄﾚｲ搬送 後退(扉側)限ｴﾗｰ
LDB R8109                ; 下段ﾄﾚｲ搬送 後退(扉側)
AND R8108                ; 下段ﾄﾚｲ搬送 前進(ｴﾚﾍﾞｰﾀ側)
LDB R5208                ; 下段ﾄﾚｲ搬送 前進(ｴﾚﾍﾞｰﾀ側)限
LD R5208                 ; 下段ﾄﾚｲ搬送 前進(ｴﾚﾍﾞｰﾀ側)限
AND R5209                ; 下段ﾄﾚｲ搬送 後退(扉側)限
ORL
ANL
TMR @47 #100
CON
AND @T47
ANB R39004               ; ｴﾗｰ中
DW #5208 DM60009         ; Sensor ERROR No.
CON
SET MR5208               ; 下段ﾄﾚｲ搬送 前進(ｴﾚﾍﾞｰﾀ側)限ｴﾗｰ
LDB R8206                ; ｴﾚﾍﾞｰﾀ ﾄﾚｲｶﾞｲﾄﾞ 上昇
LDB R5413                ; ｴﾚﾍﾞｰﾀ ﾄﾚｲｶﾞｲﾄﾞ 下降限
LD R5412                 ; ｴﾚﾍﾞｰﾀ ﾄﾚｲｶﾞｲﾄﾞ 上昇限
AND R5413                ; ｴﾚﾍﾞｰﾀ ﾄﾚｲｶﾞｲﾄﾞ 下降限
ORL
ANL
TMR @48 #50
CON
AND @T48
ANB R39004               ; ｴﾗｰ中
DW #5413 DM60009         ; Sensor ERROR No.
CON
SET MR5413               ; ｴﾚﾍﾞｰﾀ ﾄﾚｲｶﾞｲﾄﾞ 下降限ｴﾗｰ
LD R8206                 ; ｴﾚﾍﾞｰﾀ ﾄﾚｲｶﾞｲﾄﾞ 上昇
LDB R5412                ; ｴﾚﾍﾞｰﾀ ﾄﾚｲｶﾞｲﾄﾞ 上昇限
LD R5412                 ; ｴﾚﾍﾞｰﾀ ﾄﾚｲｶﾞｲﾄﾞ 上昇限
AND R5413                ; ｴﾚﾍﾞｰﾀ ﾄﾚｲｶﾞｲﾄﾞ 下降限
ORL
ANL
TMR @49 #50
CON
AND @T49
ANB R39004               ; ｴﾗｰ中
DW #5412 DM60009         ; Sensor ERROR No.
CON
SET MR5412               ; ｴﾚﾍﾞｰﾀ ﾄﾚｲｶﾞｲﾄﾞ 上昇限ｴﾗｰ
LDB R8208                ; 上段ﾄﾚｲ搬送前後　ｴﾚﾍﾞｰﾀ側行
AND R8209                ; 上段ﾄﾚｲ搬送前後　段積み側行
LDB R5113                ; 上段ﾄﾚｲ搬送前後　段積み側限
LD R5112                 ; 上段ﾄﾚｲ搬送前後　ｴﾚﾍﾞｰﾀ側限
AND R5113                ; 上段ﾄﾚｲ搬送前後　段積み側限
ORL
ANL
TMR @50 #150
CON
AND @T50
ANB R39004               ; ｴﾗｰ中
DW #5113 DM60009         ; Sensor ERROR No.
CON
SET MR5113               ; 上段ﾄﾚｲ搬送前後　段積み側限ｴﾗｰ
LDB R8209                ; 上段ﾄﾚｲ搬送前後　段積み側行
AND R8208                ; 上段ﾄﾚｲ搬送前後　ｴﾚﾍﾞｰﾀ側行
LDB R5112                ; 上段ﾄﾚｲ搬送前後　ｴﾚﾍﾞｰﾀ側限
LD R5112                 ; 上段ﾄﾚｲ搬送前後　ｴﾚﾍﾞｰﾀ側限
AND R5113                ; 上段ﾄﾚｲ搬送前後　段積み側限
ORL
ANL
TMR @51 #150
CON
AND @T51
ANB R39004               ; ｴﾗｰ中
DW #5112 DM60009         ; Sensor ERROR No.
CON
SET MR5112               ; 上段ﾄﾚｲ搬送前後　ｴﾚﾍﾞｰﾀ側限ｴﾗｰ
MCR
;TASK4,5 Sensor ERROR
LD>= DM60009 #5400       ; Sensor ERROR No.
AND<= DM60009 #5413      ; Sensor ERROR No.
LD>= DM60009 #5208       ; Sensor ERROR No.
AND<= DM60009 #5215      ; Sensor ERROR No.
ORL
ANB R39004               ; ｴﾗｰ中
SET R39004               ; ｴﾗｰ中
CON
DW #101 @DM21            ; ErrorNo /ERROR_DISP
CON
DW #1000 @DM29           ; ReturnSW /ERROR_DISP
CON
LDA DM60009              ; Sensor ERROR No.
CON
STA @DM22                ; SensorNo /ERROR_DISP
CON
SET @R300                ; Task4.5 ERROR
CON
SET @R002
STG @R002
AND @R301                ; Task4.5 ERROR_End
RES @R301                ; Task4.5 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
ZRES MR5400 MR5413       ; ﾄﾚｲ押え(R)手前 下降限ｴﾗｰ  ｴﾚﾍﾞｰﾀ ﾄﾚｲｶﾞｲﾄﾞ 下降限ｴﾗｰ
CON
ZRES MR5208 MR5215       ; 下段ﾄﾚｲ搬送 前進(ｴﾚﾍﾞｰﾀ側)限ｴﾗｰ  ﾄﾚｲ押え(L)奥 上昇限ｴﾗｰ
CON
DW #0 DM60009            ; Sensor ERROR No.
CON
OUT @R003
CON
ENDS
;<h1/>TASK 3　（段積み部　小）ｼﾘﾝﾀﾞｰ ｾﾝｻｰ監視
;
LDB @R007
ANB R59915               ; _運転ﾓｰﾄﾞ指定
ANB MR11000              ; ﾒﾝﾃﾅﾝｽ 単動運転中
MC
LDB R8106                ; ﾄﾚｲ段積みﾂﾒ上下 小 下降
AND R8107                ; ﾄﾚｲ段積みﾂﾒ上下 小 上昇
LDB R5207                ; ﾄﾚｲ段積みﾂﾒ上下 小(L) 上昇限
LD R5206                 ; ﾄﾚｲ段積みﾂﾒ上下 小(L) 下降限
AND R5207                ; ﾄﾚｲ段積みﾂﾒ上下 小(L) 上昇限
ORL
ANL
TMR @150 #100
CON
AND @T150
ANB R39004               ; ｴﾗｰ中
DW #5207 DM60009         ; Sensor ERROR No.
CON
SET MR5207               ; ﾄﾚｲ段積みﾂﾒ上下 小(L) 上昇限ｴﾗｰ
LDB R8107                ; ﾄﾚｲ段積みﾂﾒ上下 小 上昇
AND R8106                ; ﾄﾚｲ段積みﾂﾒ上下 小 下降
LDB R5206                ; ﾄﾚｲ段積みﾂﾒ上下 小(L) 下降限
LD R5206                 ; ﾄﾚｲ段積みﾂﾒ上下 小(L) 下降限
AND R5207                ; ﾄﾚｲ段積みﾂﾒ上下 小(L) 上昇限
ORL
ANL
TMR @151 #100
CON
AND @T151
ANB R39004               ; ｴﾗｰ中
DW #5206 DM60009         ; Sensor ERROR No.
CON
SET MR5206               ; ﾄﾚｲ段積みﾂﾒ上下 小(L) 下降限ｴﾗｰ
LDB R8106                ; ﾄﾚｲ段積みﾂﾒ上下 小 下降
AND R8107                ; ﾄﾚｲ段積みﾂﾒ上下 小 上昇
LDB R5205                ; ﾄﾚｲ段積みﾂﾒ上下 小(R) 上昇限
LD R5204                 ; ﾄﾚｲ段積みﾂﾒ上下 小(R) 下降限
AND R5205                ; ﾄﾚｲ段積みﾂﾒ上下 小(R) 上昇限
ORL
ANL
TMR @152 #100
CON
AND @T152
ANB R39004               ; ｴﾗｰ中
DW #5205 DM60009         ; Sensor ERROR No.
CON
SET MR5205               ; ﾄﾚｲ段積みﾂﾒ上下 小(R) 上昇限ｴﾗｰ
LDB R8107                ; ﾄﾚｲ段積みﾂﾒ上下 小 上昇
AND R8106                ; ﾄﾚｲ段積みﾂﾒ上下 小 下降
LDB R5204                ; ﾄﾚｲ段積みﾂﾒ上下 小(R) 下降限
LD R5204                 ; ﾄﾚｲ段積みﾂﾒ上下 小(R) 下降限
AND R5205                ; ﾄﾚｲ段積みﾂﾒ上下 小(R) 上昇限
ORL
ANL
TMR @153 #100
CON
AND @T153
ANB R39004               ; ｴﾗｰ中
DW #5204 DM60009         ; Sensor ERROR No.
CON
SET MR5204               ; ﾄﾚｲ段積みﾂﾒ上下 小(R) 下降限ｴﾗｰ
LDB R8104                ; ﾄﾚｲ段積みﾂﾒ上下 大 下降
AND R8105                ; ﾄﾚｲ段積みﾂﾒ上下 大 上昇
LDB R5203                ; ﾄﾚｲ段積みﾂﾒ上下 大(L) 上昇限
LD R5202                 ; ﾄﾚｲ段積みﾂﾒ上下 大(L) 下降限
AND R5203                ; ﾄﾚｲ段積みﾂﾒ上下 大(L) 上昇限
ORL
ANL
TMR @154 #100
CON
AND @T154
ANB R39004               ; ｴﾗｰ中
DW #5203 DM60009         ; Sensor ERROR No.
CON
SET MR5203               ; ﾄﾚｲ段積みﾂﾒ上下 大(L) 上昇限ｴﾗｰ
LDB R8105                ; ﾄﾚｲ段積みﾂﾒ上下 大 上昇
AND R8104                ; ﾄﾚｲ段積みﾂﾒ上下 大 下降
LDB R5202                ; ﾄﾚｲ段積みﾂﾒ上下 大(L) 下降限
LD R5202                 ; ﾄﾚｲ段積みﾂﾒ上下 大(L) 下降限
AND R5203                ; ﾄﾚｲ段積みﾂﾒ上下 大(L) 上昇限
ORL
ANL
TMR @155 #100
CON
AND @T155
ANB R39004               ; ｴﾗｰ中
DW #5202 DM60009         ; Sensor ERROR No.
CON
SET MR5202               ; ﾄﾚｲ段積みﾂﾒ上下 大(L) 下降限ｴﾗｰ
LDB R8104                ; ﾄﾚｲ段積みﾂﾒ上下 大 下降
AND R8105                ; ﾄﾚｲ段積みﾂﾒ上下 大 上昇
LDB R5201                ; ﾄﾚｲ段積みﾂﾒ上下 大(R) 上昇限
LD R5200                 ; ﾄﾚｲ段積みﾂﾒ上下 大(R) 下降限
AND R5201                ; ﾄﾚｲ段積みﾂﾒ上下 大(R) 上昇限
ORL
ANL
TMR @156 #100
CON
AND @T156
ANB R39004               ; ｴﾗｰ中
DW #5201 DM60009         ; Sensor ERROR No.
CON
SET MR5201               ; ﾄﾚｲ段積みﾂﾒ上下 大(R) 上昇限ｴﾗｰ
LDB R8105                ; ﾄﾚｲ段積みﾂﾒ上下 大 上昇
AND R8104                ; ﾄﾚｲ段積みﾂﾒ上下 大 下降
LDB R5200                ; ﾄﾚｲ段積みﾂﾒ上下 大(R) 下降限
LD R5200                 ; ﾄﾚｲ段積みﾂﾒ上下 大(R) 下降限
AND R5201                ; ﾄﾚｲ段積みﾂﾒ上下 大(R) 上昇限
ORL
ANL
TMR @157 #100
CON
AND @T157
ANB R39004               ; ｴﾗｰ中
DW #5200 DM60009         ; Sensor ERROR No.
CON
SET MR5200               ; ﾄﾚｲ段積みﾂﾒ上下 大(R) 下降限ｴﾗｰ
LDB R8102                ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ 後退
AND R8103                ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ 前進
LDB R5111                ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ(L) 前進限
LD R5110                 ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ(L) 後退限
AND R5111                ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ(L) 前進限
ORL
ANL
TMR @158 #100
CON
AND @T158
ANB R39004               ; ｴﾗｰ中
DW #5111 DM60009         ; Sensor ERROR No.
CON
SET MR5111               ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ(L) 前進限ｴﾗｰ
LDB R8103                ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ 前進
AND R8102                ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ 後退
LDB R5110                ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ(L) 後退限
LD R5110                 ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ(L) 後退限
AND R5111                ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ(L) 前進限
ORL
ANL
TMR @159 #100
CON
AND @T159
ANB R39004               ; ｴﾗｰ中
DW #5110 DM60009         ; Sensor ERROR No.
CON
SET MR5110               ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ(L) 後退限ｴﾗｰ
LDB R8102                ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ 後退
AND R8103                ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ 前進
LDB R5109                ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ(R) 前進限
LD R5108                 ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ(R) 後退限
AND R5109                ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ(R) 前進限
ORL
ANL
TMR @160 #50
CON
AND @T160
ANB R39004               ; ｴﾗｰ中
DW #5109 DM60009         ; Sensor ERROR No.
CON
SET MR5109               ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ(R) 前進限ｴﾗｰ
LDB R8103                ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ 前進
AND R8102                ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ 後退
LDB R5108                ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ(R) 後退限
LD R5108                 ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ(R) 後退限
AND R5109                ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ(R) 前進限
ORL
ANL
TMR @161 #50
CON
AND @T161
ANB R39004               ; ｴﾗｰ中
DW #5108 DM60009         ; Sensor ERROR No.
CON
SET MR5108               ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ(R) 後退限ｴﾗｰ
MCR
;TASK3 Sensor ERROR
LD>= DM60009 #5200       ; Sensor ERROR No.
AND<= DM60009 #5207      ; Sensor ERROR No.
LD>= DM60009 #5108       ; Sensor ERROR No.
AND<= DM60009 #5111      ; Sensor ERROR No.
ORL
ANB R39004               ; ｴﾗｰ中
SET R39004               ; ｴﾗｰ中
CON
DW #102 @DM11            ; ErrorNo /ERROR_DISP
CON
DW #1000 @DM19           ; ReturnSW /ERROR_DISP
CON
LDA DM60009              ; Sensor ERROR No.
CON
STA @DM12                ; SensorNo /ERROR_DISP
CON
SET @R200                ; Task2.3 ERROR
CON
SET @R006
STG @R006
AND @R201                ; Task2.3 ERROR_End
RES @R201                ; Task2.3 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
ZRES MR5200 MR5207       ; ﾄﾚｲ段積みﾂﾒ上下 大(R) 下降限ｴﾗｰ  ﾄﾚｲ段積みﾂﾒ上下 小(L) 上昇限ｴﾗｰ
CON
ZRES MR5108 MR5111       ; ﾄﾚｲ段積み3ﾂﾂﾞﾒ(R) 後退限ｴﾗｰ  ﾄﾚｲ段積み3ﾂﾂﾞﾒ(L) 前進限ｴﾗｰ
CON
DW #0 DM60009            ; Sensor ERROR No.
CON
OUT @R007
CON
ENDS
;MyTask Error Process Substance/エラー処理実体
STG @R100                ; Task0 ERROR
ANB R39002               ; ERROR_DISP Busy
MPS
ZRES @R105 @R108         ; SW1  SW4
CON
LDA @DM9                 ; ReturnSW /ERROR_DISP
CON
TBCD
CON
STA @DM10                ; TaskNo /ERROR_DISP
CON
DISN @DM10 @DM3 #4       ; TaskNo /ERROR_DISP
MRD
DW #0 @DM0               ; TaskNo /ERROR_DISP
CON
BMOV @DM0 DM60000 #7     ; TaskNo /ERROR_DISP  TaskNo /ERROR_DISP
MPP
SET R39000               ; ERROR_DISP Start
CON
SET @R102                ; Task0 ERROR Busy
CON
JMP @R103
STG @R103
AND R39002               ; ERROR_DISP Busy
AND= DM60008 @DM1        ; ReturnNo /ERROR_DISP  ErrorNo /ERROR_DISP
JMP @R104
STG @R104
ANB R39002               ; ERROR_DISP Busy
RES @R102                ; Task0 ERROR Busy
CON
SET @R101                ; Task0 ERROR_End
CON
ENDS
STG @R200                ; Task2.3 ERROR
ANB R39002               ; ERROR_DISP Busy
MPS
ZRES @R205 @R208         ; SW1  SW4
CON
LDA @DM19                ; ReturnSW /ERROR_DISP
CON
TBCD
CON
STA @DM20                ; TaskNo /ERROR_DISP
CON
DISN @DM20 @DM13 #4      ; TaskNo /ERROR_DISP
MRD
DW #3 @DM10              ; TaskNo /ERROR_DISP
CON
BMOV @DM10 DM60000 #7    ; TaskNo /ERROR_DISP  TaskNo /ERROR_DISP
MPP
SET R39000               ; ERROR_DISP Start
CON
SET @R202                ; Task2.3 ERROR Busy
CON
JMP @R203
STG @R203
AND R39002               ; ERROR_DISP Busy
AND= DM60008 @DM11       ; ReturnNo /ERROR_DISP  ErrorNo /ERROR_DISP
JMP @R204
STG @R204
ANB R39002               ; ERROR_DISP Busy
RES @R202                ; Task2.3 ERROR Busy
CON
SET @R201                ; Task2.3 ERROR_End
CON
ENDS
STG @R300                ; Task4.5 ERROR
ANB R39002               ; ERROR_DISP Busy
MPS
ZRES @R305 @R308         ; SW1  SW4
CON
LDA @DM29                ; ReturnSW /ERROR_DISP
CON
TBCD
CON
STA @DM30
CON
DISN @DM30 @DM23 #4
MRD
DW #5 @DM20              ; TaskNo /ERROR_DISP
CON
BMOV @DM20 DM60000 #7    ; TaskNo /ERROR_DISP  TaskNo /ERROR_DISP
MPP
SET R39000               ; ERROR_DISP Start
CON
SET @R302                ; Task4.5 ERROR Busy
CON
JMP @R303
STG @R303
AND R39002               ; ERROR_DISP Busy
AND= DM60008 @DM21       ; ReturnNo /ERROR_DISP  ErrorNo /ERROR_DISP
JMP @R304
STG @R304
ANB R39002               ; ERROR_DISP Busy
RES @R302                ; Task4.5 ERROR Busy
CON
SET @R301                ; Task4.5 ERROR_End
CON
ENDS
END
ENDH
