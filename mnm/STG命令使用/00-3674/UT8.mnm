DEVICE:53
;MODULE:UT8
;MODULE_TYPE:0
;UT8 removing
;UT8 
;
;Emergency Stop
;非常停止
;
LD R50010                ; 非常停止
OR @MR001
ZRES @MR002 @MR3915      ; STEP運転終了
CON
OUT @MR001
TMR @0 #5
LD @T0
MDSTOP UT6
;<h1/>HOME
LD R50003                ; HOMEﾓｰﾄﾞ
ANB R51808               ; UT8 Do
SET R51808               ; UT8 Do
CON
SET @MR1003              ; 原点復帰開始
LDB R50003               ; HOMEﾓｰﾄﾞ
ANB R50001               ; AUTOﾓｰﾄﾞ
ANB R50002               ; STEPﾓｰﾄﾞ
AND @MR1015              ; 原点復帰完了
RES R51808               ; UT8 Do
CON
RES @MR1015              ; 原点復帰完了
STG @MR1003              ; 原点復帰開始
ANB R50300               ; Pause
ANB R51708               ; UT8異常
MPS
LDB DM10595.1            ; RB12 除材PP上下 原点復帰完了
LDB MR008                ; 下流 H/S 無
AND B2022                ; 下流より ｲﾝﾀｰﾛｯｸ
OR MR008                 ; 下流 H/S 無
ANL
ANL
JMP @MR1004
MPP
AND DM10595.1            ; RB12 除材PP上下 原点復帰完了
JMP @MR1006
STG @MR1004
ANB R50300               ; Pause
ANB R51708               ; UT8異常
ANB DM10595.1            ; RB12 除材PP上下 原点復帰完了
DW #99 EM1322            ; RB12 除材PP上下 指令POS
CON
AND MR3011               ; RB12 除材PP上下 起動IL
SET R36108               ; RB12 除材PP上下 原点復帰
CON
JMP @MR1005
STG @MR1005
ANB R50300               ; Pause
ANB R51708               ; UT8異常
AND DM10595.1            ; RB12 除材PP上下 原点復帰完了
AND R36109               ; RB12 除材PP上下 原点復帰完了
AND= EM1323 #1           ; RB12 除材PP上下 現在POS
RES R36109               ; RB12 除材PP上下 原点復帰完了
CON
JMP @MR1006
STG @MR1006
ANB R50300               ; Pause
ANB R51708               ; UT8異常
ANB MR5601               ; RB12 除材PP上下 上昇 移動完了
SET MR5600               ; RB12 除材PP上下 上昇 移動要求
CON
JMP @MR1007
STG @MR1007
ANB R50300               ; Pause
ANB R51708               ; UT8異常
AND MR5601               ; RB12 除材PP上下 上昇 移動完了
SET @MR1100              ; RB13 除材搬送 原点復帰要求
CON
RES MR5601               ; RB12 除材PP上下 上昇 移動完了
CON
JMP @MR1008
STG @MR1008
ANB R50300               ; Pause
ANB R51708               ; UT8異常
MPS
ANB DM10587.1            ; RB11 除材PP水平 原点復帰完了
JMP @MR1009
MPP
AND DM10587.1            ; RB11 除材PP水平 原点復帰完了
JMP @MR1011
STG @MR1009
ANB R50300               ; Pause
ANB R51708               ; UT8異常
ANB DM10587.1            ; RB11 除材PP水平 原点復帰完了
DW #99 EM1320            ; RB11 除材PP水平 指令POS
CON
AND MR3010               ; RB11 除材PP水平 起動IL
SET R36008               ; RB11 除材PP水平 原点復帰
CON
JMP @MR1010
STG @MR1010
ANB R50300               ; Pause
ANB R51708               ; UT8異常
AND DM10587.1            ; RB11 除材PP水平 原点復帰完了
AND R36009               ; RB11 除材PP水平 原点復帰完了
AND= EM1321 #1           ; RB11 除材PP水平 現在POS
RES R36009               ; RB11 除材PP水平 原点復帰完了
CON
JMP @MR1011
STG @MR1011
ANB R50300               ; Pause
ANB R51708               ; UT8異常
MPS
LD= DM20800 #0           ; UT8-1在荷
ANB MR5501               ; RB11 除材PP水平 取出側 移動完了
ANL
SET @MR800               ; Pause disable1
CON
SET MR5500               ; RB11 除材PP水平 取出側 移動要求
CON
JMP @MR1012
MPP
LD<> DM20800 #0          ; UT8-1在荷
ANB MR5509               ; RB11 除材PP水平 受渡側 移動完了
ANL
SET @MR800               ; Pause disable1
CON
SET MR5508               ; RB11 除材PP水平 受渡側 移動要求
CON
JMP @MR1012
STG @MR1012
ANB R50300               ; Pause
ANB R51708               ; UT8異常
MPS
LD= DM20800 #0           ; UT8-1在荷
AND MR5501               ; RB11 除材PP水平 取出側 移動完了
ANL
RES @MR800               ; Pause disable1
CON
RES MR5501               ; RB11 除材PP水平 取出側 移動完了
CON
JMP @MR1013
MPP
LD<> DM20800 #0          ; UT8-1在荷
AND MR5509               ; RB11 除材PP水平 受渡側 移動完了
ANL
RES @MR800               ; Pause disable1
CON
RES MR5509               ; RB11 除材PP水平 受渡側 移動完了
CON
JMP @MR1013
STG @MR1013
ANB R50300               ; Pause
ANB R51708               ; UT8異常
RES MR8404               ; 除材 ﾁｬｯｸ旋回CCW
CON
SET MR8405               ; 除材 ﾁｬｯｸ旋回CW
CON
AND R5409                ; 除材 ﾁｬｯｸ旋回 CW限
JMP @MR1014
STG @MR1014
ANB R50300               ; Pause
ANB R51708               ; UT8異常
AND @MR1115              ; RB13 除材搬送 原点復帰完了
RES @MR1115              ; RB13 除材搬送 原点復帰完了
CON
SET R51908               ; UT8 1ｻｲｸﾙ終了
CON
SET @MR1015              ; 原点復帰完了
CON
ENDS
;RB13　Origin return
STG @MR1100              ; RB13 除材搬送 原点復帰要求
ANB R50300               ; Pause
ANB R51708               ; UT8異常
MPS
ANB DM10603.1            ; RB13 除材搬送 原点復帰完了
JMP @MR1101
MPP
AND DM10603.1            ; RB13 除材搬送 原点復帰完了
JMP @MR1103
STG @MR1101
ANB R50300               ; Pause
ANB R51708               ; UT8異常
ANB DM10603.1            ; RB13 除材搬送 原点復帰完了
DW #99 EM1324            ; RB13 除材搬送 指令POS
CON
AND MR3012               ; RB13 除材搬送 起動IL
SET R36208               ; RB13 除材搬送 原点復帰
CON
JMP @MR1102
STG @MR1102
ANB R50300               ; Pause
ANB R51708               ; UT8異常
AND DM10603.1            ; RB13 除材搬送 原点復帰完了
AND R36209               ; RB13 除材搬送 原点復帰完了
AND= EM1325 #1           ; RB13 除材搬送 現在POS
RES R36209               ; RB13 除材搬送 原点復帰完了
CON
JMP @MR1103
STG @MR1103
ANB R50300               ; Pause
ANB R51708               ; UT8異常
ANB MR5801               ; RB13 除材搬送 受取側 移動完了
SET MR5800               ; RB13 除材搬送 受取側 移動要求
CON
JMP @MR1104
STG @MR1104
ANB R50300               ; Pause
ANB R51708               ; UT8異常
AND MR5801               ; RB13 除材搬送 受取側 移動完了
RES MR5801               ; RB13 除材搬送 受取側 移動完了
CON
JMP @MR1105
STG @MR1105
ANB R50300               ; Pause
ANB R51708               ; UT8異常
MPS
LDB R5714                ; 除材搬送 ﾁｬｯｸ1 ﾜｰｸ有無
ANB R5715                ; 除材搬送 ﾁｬｯｸ2 ﾜｰｸ有無
ANL
RES MR8402               ; 除材 搬送ﾁｬｯｸ閉
CON
SET MR8403               ; 除材 搬送ﾁｬｯｸ開
CON
AND R5405                ; 除材 搬送ﾁｬｯｸ1 開限
AND R5407                ; 除材 搬送ﾁｬｯｸ2 開限
JMP @MR1106
MPP
LD R5714                 ; 除材搬送 ﾁｬｯｸ1 ﾜｰｸ有無
OR R5715                 ; 除材搬送 ﾁｬｯｸ2 ﾜｰｸ有無
ANL
RES MR8403               ; 除材 搬送ﾁｬｯｸ開
CON
SET MR8402               ; 除材 搬送ﾁｬｯｸ閉
CON
AND R5404                ; 除材 搬送ﾁｬｯｸ1 閉限
AND R5406                ; 除材 搬送ﾁｬｯｸ2 閉限
JMP @MR1106
STG @MR1106
ANB R50300               ; Pause
ANB R51708               ; UT8異常
SET @MR1115              ; RB13 除材搬送 原点復帰完了
CON
ENDS
;<h1/>AUTO
LD R50001                ; AUTOﾓｰﾄﾞ
ANB R51808               ; UT8 Do
ANB @MR2001              ; 自動運転中
SET R51808               ; UT8 Do
CON
SET @MR2000              ; UT8 AUTO START
LDB R50003               ; HOMEﾓｰﾄﾞ
ANB R50001               ; AUTOﾓｰﾄﾞ
ANB R50002               ; STEPﾓｰﾄﾞ
AND @MR2915              ; 自動運転完了
AND= @MR3000 #0          ; ﾜｰｸ取出要求
AND= @MR3200 #0          ; ﾜｰｸ受渡動作
AND= @MR3300 #0          ; 除材搬送 受取可
AND= @MR3400 #0          ; 下流装置へ 受渡要求
RES @MR2001              ; 自動運転中
CON
RES R51808               ; UT8 Do
CON
RES @MR2915              ; 自動運転完了
STG @MR2000              ; UT8 AUTO START
AND R50209               ; 動作開始
ANB @MR2800              ; 次ｽﾀｰﾄ待ち
SET @MR2001              ; 自動運転中
CON
JMP @MR2505
STG @MR2505
MPS
LD LR41100               ; AC Parameter 0(Normal mode)
OR LR41102               ; AC Parameter 2(UT6-8 only)
ANL
JMP @MR2003
MRD
LD LR41101               ; AC Parameter 1(UT6.7 non action)
OR LR41107               ; AC Parameter 7(UT8 only)
ANL
MPS
LD<> DM20800 #0          ; UT8-1在荷
AND<> DM20802 #0         ; UT8-2在荷
AND R4814                ; INDEX ﾁｬｯｸ8-1 ﾜｰｸ有無
AND R4815                ; INDEX ﾁｬｯｸ8-2 ﾜｰｸ有無
ANB R50300               ; Pause
ANB R51708               ; UT8異常
ANL
JMP @MR2506
MRD
LD<> DM20800 #0          ; UT8-1在荷
AND= DM20802 #0          ; UT8-2在荷
AND R4814                ; INDEX ﾁｬｯｸ8-1 ﾜｰｸ有無
ANB R4815                ; INDEX ﾁｬｯｸ8-2 ﾜｰｸ有無
ANB R50300               ; Pause
ANB R51708               ; UT8異常
ANL
JMP @MR2507
MRD
LD= DM20800 #0           ; UT8-1在荷
AND<> DM20802 #0         ; UT8-2在荷
ANB R4814                ; INDEX ﾁｬｯｸ8-1 ﾜｰｸ有無
AND R4815                ; INDEX ﾁｬｯｸ8-2 ﾜｰｸ有無
ANB R50300               ; Pause
ANB R51708               ; UT8異常
ANL
JMP @MR2508
MPP
LD= DM20800 #0           ; UT8-1在荷
AND= DM20802 #0          ; UT8-2在荷
ANB R4814                ; INDEX ﾁｬｯｸ8-1 ﾜｰｸ有無
ANB R4815                ; INDEX ﾁｬｯｸ8-2 ﾜｰｸ有無
ANB R50300               ; Pause
ANB R51708               ; UT8異常
ANL
JMP @MR2910              ; 動作終了
MPP
LDB LR41100              ; AC Parameter 0(Normal mode)
ANB LR41101              ; AC Parameter 1(UT6.7 non action)
ANB LR41102              ; AC Parameter 2(UT6-8 only)
ANB LR41107              ; AC Parameter 7(UT8 only)
ANL
JMP @MR2003
STG @MR2506
DW #7 DM20800            ; UT8-1在荷
CON
DW #7 DM20802            ; UT8-2在荷
CON
JMP @MR2003
STG @MR2507
DW #7 DM20800            ; UT8-1在荷
CON
JMP @MR2003
STG @MR2508
DW #7 DM20802            ; UT8-2在荷
CON
JMP @MR2003
STG @MR2003
ANB R50300               ; Pause
ANB R51708               ; UT8異常
MPS
AND= DM20950 #0          ; RB13 ①在荷
JMP @MR2004
MPP
LD<> DM20950 #0          ; RB13 ①在荷
ANB @MR3414              ; 下流装置へ 受渡中
ANL
@RES @MR3415             ; 下流装置へ 受渡完了
CON
SET @MR3400              ; 下流装置へ 受渡要求
CON
JMP @MR2004
STG @MR2004
MPS
AND= DM20900 #0          ; RB12 ①在荷
JMP @MR2005
MPP
LD<> DM20900 #0          ; RB12 ①在荷
AND<> DM20950 #0         ; RB13 ①在荷
ANL
JMP @MR2008
STG @MR2008
ANB R50300               ; Pause
ANB R51708               ; UT8異常
AND @MR3415              ; 下流装置へ 受渡完了
ANB @MR3414              ; 下流装置へ 受渡中
RES @MR3415              ; 下流装置へ 受渡完了
CON
JMP @MR2009
STG @MR2009
ANB @MR3215              ; ﾜｰｸ受渡完了
SET @MR3200              ; ﾜｰｸ受渡動作
CON
JMP @MR2010
STG @MR2010
ANB R50300               ; Pause
ANB R51708               ; UT8異常
AND @MR3215              ; ﾜｰｸ受渡完了
RES @MR3200              ; ﾜｰｸ受渡動作
CON
JMP @MR2005
STG @MR2005
MPS
LD= DM20800 #7           ; UT8-1在荷
AND= DM20802 #7          ; UT8-2在荷
AND R4814                ; INDEX ﾁｬｯｸ8-1 ﾜｰｸ有無
AND R4815                ; INDEX ﾁｬｯｸ8-2 ﾜｰｸ有無
LD= DM20800 #7           ; UT8-1在荷
AND= DM20802 #0          ; UT8-2在荷
AND R4814                ; INDEX ﾁｬｯｸ8-1 ﾜｰｸ有無
ANB R4815                ; INDEX ﾁｬｯｸ8-2 ﾜｰｸ有無
ORL
LD= DM20800 #0           ; UT8-1在荷
AND= DM20802 #7          ; UT8-2在荷
ANB R4814                ; INDEX ﾁｬｯｸ8-1 ﾜｰｸ有無
AND R4815                ; INDEX ﾁｬｯｸ8-2 ﾜｰｸ有無
ORL
ANB R50300               ; Pause
ANB R51708               ; UT8異常
ANL
JMP @MR2100              ; 通常動作
MPP
LD= DM20800 #0           ; UT8-1在荷
AND= DM20802 #0          ; UT8-2在荷
ANB R4814                ; INDEX ﾁｬｯｸ8-1 ﾜｰｸ有無
ANB R4815                ; INDEX ﾁｬｯｸ8-2 ﾜｰｸ有無
LD= DM20800 #8           ; UT8-1在荷
AND= DM20802 #8          ; UT8-2在荷
AND R4814                ; INDEX ﾁｬｯｸ8-1 ﾜｰｸ有無
AND R4815                ; INDEX ﾁｬｯｸ8-2 ﾜｰｸ有無
ORL
LD= DM20800 #8           ; UT8-1在荷
AND= DM20802 #0          ; UT8-2在荷
AND R4814                ; INDEX ﾁｬｯｸ8-1 ﾜｰｸ有無
ANB R4815                ; INDEX ﾁｬｯｸ8-2 ﾜｰｸ有無
ORL
LD= DM20800 #0           ; UT8-1在荷
AND= DM20802 #8          ; UT8-2在荷
ANB R4814                ; INDEX ﾁｬｯｸ8-1 ﾜｰｸ有無
AND R4815                ; INDEX ﾁｬｯｸ8-2 ﾜｰｸ有無
ORL
ANB R50300               ; Pause
ANB R51708               ; UT8異常
ANL
JMP @MR2910              ; 動作終了
;Ordinary Movement
;通常動作
;
STG @MR2100              ; 通常動作
ANB R50300               ; Pause
ANB R51708               ; UT8異常
LDA #1
CON
ADD EM1202               ; ﾒｲﾝINDEX 現在POS
CON
STA DM19800              ; UT8ﾁｬｯｸNo.
CON
JMP @MR2101
STG @MR2101
ANB R50300               ; Pause
ANB R51708               ; UT8異常
MPS
LD>= DM19800 #1          ; UT8ﾁｬｯｸNo.
AND<= DM19800 #8         ; UT8ﾁｬｯｸNo.
ANL
JMP @MR2102
MPP
AND> DM19800 #8          ; UT8ﾁｬｯｸNo.
LDA DM19800              ; UT8ﾁｬｯｸNo.
CON
SUB #8
CON
STA DM19800              ; UT8ﾁｬｯｸNo.
CON
JMP @MR2102
STG @MR2102
ANB R50300               ; Pause
ANB R51708               ; UT8異常
JMP @MR2103
STG @MR2103
ANB R50300               ; Pause
ANB R51708               ; UT8異常
MPS
AND= DM19800 #1          ; UT8ﾁｬｯｸNo.
RES MR7800               ; ﾒｲﾝINDEX ﾁｬｯｸ1閉
CON
SET MR7801               ; ﾒｲﾝINDEX ﾁｬｯｸ1開
CON
JMP @MR2104
MRD
AND= DM19800 #2          ; UT8ﾁｬｯｸNo.
RES MR7802               ; ﾒｲﾝINDEX ﾁｬｯｸ2閉
CON
SET MR7803               ; ﾒｲﾝINDEX ﾁｬｯｸ2開
CON
JMP @MR2104
MRD
AND= DM19800 #3          ; UT8ﾁｬｯｸNo.
RES MR7804               ; ﾒｲﾝINDEX ﾁｬｯｸ3閉
CON
SET MR7805               ; ﾒｲﾝINDEX ﾁｬｯｸ3開
CON
JMP @MR2104
MRD
AND= DM19800 #4          ; UT8ﾁｬｯｸNo.
RES MR7806               ; ﾒｲﾝINDEX ﾁｬｯｸ4閉
CON
SET MR7807               ; ﾒｲﾝINDEX ﾁｬｯｸ4開
CON
JMP @MR2104
MRD
AND= DM19800 #5          ; UT8ﾁｬｯｸNo.
RES MR7808               ; ﾒｲﾝINDEX ﾁｬｯｸ5閉
CON
SET MR7809               ; ﾒｲﾝINDEX ﾁｬｯｸ5開
CON
JMP @MR2104
MRD
AND= DM19800 #6          ; UT8ﾁｬｯｸNo.
RES MR7810               ; ﾒｲﾝINDEX ﾁｬｯｸ6閉
CON
SET MR7811               ; ﾒｲﾝINDEX ﾁｬｯｸ6開
CON
JMP @MR2104
MRD
AND= DM19800 #7          ; UT8ﾁｬｯｸNo.
RES MR7812               ; ﾒｲﾝINDEX ﾁｬｯｸ7閉
CON
SET MR7813               ; ﾒｲﾝINDEX ﾁｬｯｸ7開
CON
JMP @MR2104
MPP
AND= DM19800 #8          ; UT8ﾁｬｯｸNo.
RES MR7814               ; ﾒｲﾝINDEX ﾁｬｯｸ8閉
CON
SET MR7815               ; ﾒｲﾝINDEX ﾁｬｯｸ8開
CON
JMP @MR2104
LD CR2002                ; 常時ON
LD= DM19800 #1           ; UT8ﾁｬｯｸNo.
ANB MR7800               ; ﾒｲﾝINDEX ﾁｬｯｸ1閉
AND MR7801               ; ﾒｲﾝINDEX ﾁｬｯｸ1開
LD= DM19800 #2           ; UT8ﾁｬｯｸNo.
ANB MR7802               ; ﾒｲﾝINDEX ﾁｬｯｸ2閉
AND MR7803               ; ﾒｲﾝINDEX ﾁｬｯｸ2開
ORL
LD= DM19800 #3           ; UT8ﾁｬｯｸNo.
ANB MR7804               ; ﾒｲﾝINDEX ﾁｬｯｸ3閉
AND MR7805               ; ﾒｲﾝINDEX ﾁｬｯｸ3開
ORL
LD= DM19800 #4           ; UT8ﾁｬｯｸNo.
ANB MR7806               ; ﾒｲﾝINDEX ﾁｬｯｸ4閉
AND MR7807               ; ﾒｲﾝINDEX ﾁｬｯｸ4開
ORL
LD= DM19800 #5           ; UT8ﾁｬｯｸNo.
ANB MR7808               ; ﾒｲﾝINDEX ﾁｬｯｸ5閉
AND MR7809               ; ﾒｲﾝINDEX ﾁｬｯｸ5開
ORL
LD= DM19800 #6           ; UT8ﾁｬｯｸNo.
ANB MR7810               ; ﾒｲﾝINDEX ﾁｬｯｸ6閉
AND MR7811               ; ﾒｲﾝINDEX ﾁｬｯｸ6開
ORL
LD= DM19800 #7           ; UT8ﾁｬｯｸNo.
ANB MR7812               ; ﾒｲﾝINDEX ﾁｬｯｸ7閉
AND MR7813               ; ﾒｲﾝINDEX ﾁｬｯｸ7開
ORL
LD= DM19800 #8           ; UT8ﾁｬｯｸNo.
ANB MR7814               ; ﾒｲﾝINDEX ﾁｬｯｸ8閉
AND MR7815               ; ﾒｲﾝINDEX ﾁｬｯｸ8開
ORL
ANL
TMR @1 #3                ; INDEXﾁｬｯｸ 開ﾃﾞｨﾚｲ
STG @MR2104
ANB R50300               ; Pause
ANB R51708               ; UT8異常
SET MR408                ; UT8 着座/検知 無効ﾀｲﾐﾝｸﾞ
CON
JMP @MR2105
STG @MR2105
ANB R50300               ; Pause
ANB R51708               ; UT8異常
ANB @MR3115              ; ﾜｰｸ取出完了
AND= DM20900 #0          ; RB12 ①在荷
AND= @MR3000 #0          ; ﾜｰｸ取出要求
AND= @MR3200 #0          ; ﾜｰｸ受渡動作
AND= @MR3300 #0          ; 除材搬送 受取可
SET @MR3000              ; ﾜｰｸ取出要求
CON
JMP @MR2106
STG @MR2106
ANB R50300               ; Pause
ANB R51708               ; UT8異常
AND @MR3115              ; ﾜｰｸ取出完了
RES @MR3115              ; ﾜｰｸ取出完了
CON
JMP @MR2200
STG @MR2200
ANB R50300               ; Pause
ANB R51707               ; UT7異常
MPS
AND= DM19800 #1          ; UT8ﾁｬｯｸNo.
RES MR7801               ; ﾒｲﾝINDEX ﾁｬｯｸ1開
CON
SET MR7800               ; ﾒｲﾝINDEX ﾁｬｯｸ1閉
CON
JMP @MR2107
MRD
AND= DM19800 #2          ; UT8ﾁｬｯｸNo.
RES MR7803               ; ﾒｲﾝINDEX ﾁｬｯｸ2開
CON
SET MR7802               ; ﾒｲﾝINDEX ﾁｬｯｸ2閉
CON
JMP @MR2107
MRD
AND= DM19800 #3          ; UT8ﾁｬｯｸNo.
RES MR7805               ; ﾒｲﾝINDEX ﾁｬｯｸ3開
CON
SET MR7804               ; ﾒｲﾝINDEX ﾁｬｯｸ3閉
CON
JMP @MR2107
MRD
AND= DM19800 #4          ; UT8ﾁｬｯｸNo.
RES MR7807               ; ﾒｲﾝINDEX ﾁｬｯｸ4開
CON
SET MR7806               ; ﾒｲﾝINDEX ﾁｬｯｸ4閉
CON
JMP @MR2107
MRD
AND= DM19800 #5          ; UT8ﾁｬｯｸNo.
RES MR7809               ; ﾒｲﾝINDEX ﾁｬｯｸ5開
CON
SET MR7808               ; ﾒｲﾝINDEX ﾁｬｯｸ5閉
CON
JMP @MR2107
MRD
AND= DM19800 #6          ; UT8ﾁｬｯｸNo.
RES MR7811               ; ﾒｲﾝINDEX ﾁｬｯｸ6開
CON
SET MR7810               ; ﾒｲﾝINDEX ﾁｬｯｸ6閉
CON
JMP @MR2107
MRD
AND= DM19800 #7          ; UT8ﾁｬｯｸNo.
RES MR7813               ; ﾒｲﾝINDEX ﾁｬｯｸ7開
CON
SET MR7812               ; ﾒｲﾝINDEX ﾁｬｯｸ7閉
CON
JMP @MR2107
MPP
AND= DM19800 #8          ; UT8ﾁｬｯｸNo.
RES MR7815               ; ﾒｲﾝINDEX ﾁｬｯｸ8開
CON
SET MR7814               ; ﾒｲﾝINDEX ﾁｬｯｸ8閉
CON
JMP @MR2107
STG @MR2107
ANB R50300               ; Pause
ANB R51708               ; UT8異常
SET @MR2800              ; 次ｽﾀｰﾄ待ち
CON
MPS
ANB @MR006               ; STEP動作中
SET @MR2910              ; 動作終了
CON
JMP @MR2108
MPP
AND @MR006               ; STEP動作中
JMP @MR2108
STG @MR2108
ANB R50300               ; Pause
ANB R51708               ; UT8異常
ANB @MR3215              ; ﾜｰｸ受渡完了
ANB @MR3414              ; 下流装置へ 受渡中
@RES @MR3415             ; 下流装置へ 受渡完了
CON
AND= DM20950 #0          ; RB13 ①在荷
AND= @MR3000 #0          ; ﾜｰｸ取出要求
AND= @MR3200 #0          ; ﾜｰｸ受渡動作
AND= @MR3300 #0          ; 除材搬送 受取可
SET MR408                ; UT8 着座/検知 無効ﾀｲﾐﾝｸﾞ
CON
SET @MR3200              ; ﾜｰｸ受渡動作
CON
JMP @MR2109
STG @MR2109
ANB R50300               ; Pause
ANB R51708               ; UT8異常
AND @MR3215              ; ﾜｰｸ受渡完了
RES MR408                ; UT8 着座/検知 無効ﾀｲﾐﾝｸﾞ
CON
RES @MR3215              ; ﾜｰｸ受渡完了
CON
JMP @MR2110
STG @MR2110
ANB R50300               ; Pause
ANB R51708               ; UT8異常
ANB @MR3415              ; 下流装置へ 受渡完了
SET @MR3400              ; 下流装置へ 受渡要求
CON
JMP @MR2111
STG @MR2111
ANB R50300               ; Pause
ANB R51708               ; UT8異常
ANB MR5501               ; RB11 除材PP水平 取出側 移動完了
SET @MR800               ; Pause disable1
CON
JMP @MR2112
STG @MR2112
JMP @MR2113
STG @MR2113
RES @MR800               ; Pause disable1
CON
RES @MR2800              ; 次ｽﾀｰﾄ待ち
CON
JMP @MR2114
STG @MR2114
ANB R50300               ; Pause
ANB R51708               ; UT8異常
AND @MR3415              ; 下流装置へ 受渡完了
ANB @MR3414              ; 下流装置へ 受渡中
RES @MR3415              ; 下流装置へ 受渡完了
CON
MPS
ANB @MR006               ; STEP動作中
ENDS
MPP
AND @MR006               ; STEP動作中
JMP @MR2910              ; 動作終了
;An End of Operation
;動作終了
;
STG @MR2910              ; 動作終了
ANB R50300               ; Pause
ANB R51708               ; UT8異常
MPS
AND R50001               ; AUTOﾓｰﾄﾞ
SET R51908               ; UT8 1ｻｲｸﾙ終了
CON
JMP @MR2911
MPP
AND R50002               ; STEPﾓｰﾄﾞ
SET R50009               ; HOLDRQ
CON
SET R51908               ; UT8 1ｻｲｸﾙ終了
CON
JMP @MR2911
STG @MR2911
ANB R50209               ; 動作開始
MPS
AND R50001               ; AUTOﾓｰﾄﾞ
MPS
LDB R50000               ; HOLD
AND R50409               ; ｻｲｸﾙ完了
ANL
SET @MR2000              ; UT8 AUTO START
CON
ENDS
MPP
AND R50000               ; HOLD
JMP @MR2912
MPP
LD R50002                ; STEPﾓｰﾄﾞ
AND R50000               ; HOLD
ANL
JMP @MR2912
;Processing of end
;終了処理
;
STG @MR2912
ANB R50300               ; Pause
ANB R51708               ; UT8異常
MPS
AND @MR2001              ; 自動運転中
SET @MR2915              ; 自動運転完了
CON
ENDS
MPP
AND @MR006               ; STEP動作中
RES @MR006               ; STEP動作中
CON
SET @MR3915              ; STEP運転終了
CON
ENDS
;<h1/>STEP
LD R50002                ; STEPﾓｰﾄﾞ
ANB R50300               ; Pause
ANB R51808               ; UT8 Do
SET @MR006               ; STEP動作中
CON
SET R51808               ; UT8 Do
CON
SET @MR3900
STG @MR3900
ANB R50300               ; Pause
ANB R51708               ; UT8異常
MPS
AND LR40900              ; STEP UT8-0 selection lamp
JMP @MR3901
MPP
ANB LR40900              ; STEP UT8-0 selection lamp
JMP @MR3901
STG @MR3901
ANB R50300               ; Pause
ANB R51708               ; UT8異常
MPS
LD R4814                 ; INDEX ﾁｬｯｸ8-1 ﾜｰｸ有無
AND R4815                ; INDEX ﾁｬｯｸ8-2 ﾜｰｸ有無
ANL
DW #7 DM20800            ; UT8-1在荷
CON
DW #7 DM20802            ; UT8-2在荷
CON
SET @MR2100              ; 通常動作
CON
JMP @MR3913
MRD
LD R4814                 ; INDEX ﾁｬｯｸ8-1 ﾜｰｸ有無
ANB R4815                ; INDEX ﾁｬｯｸ8-2 ﾜｰｸ有無
ANL
DW #7 DM20800            ; UT8-1在荷
CON
SET @MR2100              ; 通常動作
CON
JMP @MR3913
MRD
LDB R4814                ; INDEX ﾁｬｯｸ8-1 ﾜｰｸ有無
AND R4815                ; INDEX ﾁｬｯｸ8-2 ﾜｰｸ有無
ANL
DW #7 DM20802            ; UT8-2在荷
CON
SET @MR2100              ; 通常動作
CON
JMP @MR3913
MPP
LDB R4814                ; INDEX ﾁｬｯｸ8-1 ﾜｰｸ有無
ANB R4815                ; INDEX ﾁｬｯｸ8-2 ﾜｰｸ有無
ANL
SET @MR2910              ; 動作終了
CON
JMP @MR3913
STG @MR3913
ANB R50300               ; Pause
ANB R51708               ; UT8異常
@SET LR000               ; Step/Manual 操作記憶
CON
ANB @MR006               ; STEP動作中
MPS
AND= DM19800 #1          ; UT8ﾁｬｯｸNo.
SET MR7801               ; ﾒｲﾝINDEX ﾁｬｯｸ1開
CON
RES MR7800               ; ﾒｲﾝINDEX ﾁｬｯｸ1閉
CON
JMP @MR3914
MRD
AND= DM19800 #2          ; UT8ﾁｬｯｸNo.
SET MR7803               ; ﾒｲﾝINDEX ﾁｬｯｸ2開
CON
RES MR7802               ; ﾒｲﾝINDEX ﾁｬｯｸ2閉
CON
JMP @MR3914
MRD
AND= DM19800 #3          ; UT8ﾁｬｯｸNo.
SET MR7805               ; ﾒｲﾝINDEX ﾁｬｯｸ3開
CON
RES MR7804               ; ﾒｲﾝINDEX ﾁｬｯｸ3閉
CON
JMP @MR3914
MRD
AND= DM19800 #4          ; UT8ﾁｬｯｸNo.
SET MR7807               ; ﾒｲﾝINDEX ﾁｬｯｸ4開
CON
RES MR7806               ; ﾒｲﾝINDEX ﾁｬｯｸ4閉
CON
JMP @MR3914
MRD
AND= DM19800 #5          ; UT8ﾁｬｯｸNo.
SET MR7809               ; ﾒｲﾝINDEX ﾁｬｯｸ5開
CON
RES MR7808               ; ﾒｲﾝINDEX ﾁｬｯｸ5閉
CON
JMP @MR3914
MRD
AND= DM19800 #6          ; UT8ﾁｬｯｸNo.
SET MR7811               ; ﾒｲﾝINDEX ﾁｬｯｸ6開
CON
RES MR7810               ; ﾒｲﾝINDEX ﾁｬｯｸ6閉
CON
JMP @MR3914
MRD
AND= DM19800 #7          ; UT8ﾁｬｯｸNo.
SET MR7813               ; ﾒｲﾝINDEX ﾁｬｯｸ7開
CON
RES MR7812               ; ﾒｲﾝINDEX ﾁｬｯｸ7閉
CON
JMP @MR3914
MPP
AND= DM19800 #8          ; UT8ﾁｬｯｸNo.
SET MR7815               ; ﾒｲﾝINDEX ﾁｬｯｸ8開
CON
RES MR7814               ; ﾒｲﾝINDEX ﾁｬｯｸ8閉
CON
JMP @MR3914
STG @MR3914
ANB R50300               ; Pause
ANB R51708               ; UT8異常
DW #0 DM20700            ; UT7-1在荷
CON
DW #0 DM20702            ; UT7-2在荷
CON
ENDS
LDB R50003               ; HOMEﾓｰﾄﾞ
ANB R50001               ; AUTOﾓｰﾄﾞ
ANB R50002               ; STEPﾓｰﾄﾞ
AND @MR3915              ; STEP運転終了
RES R51808               ; UT8 Do
CON
RES @MR3915              ; STEP運転終了
;<h1/>Subrutine
;ｻﾌﾞﾙｰﾁﾝ
;RB11 Removing PP Extraction-side movement
;RB11 除材PP水平 取出側移動
STG MR5500               ; RB11 除材PP水平 取出側 移動要求
SET MR5502               ; RB11 除材PP水平 取出側 移動中
CON
DW #10 EM1320            ; RB11 除材PP水平 指令POS
CON
AND DM10587.1            ; RB11 除材PP水平 原点復帰完了
AND MR3010               ; RB11 除材PP水平 起動IL
SET R36000               ; RB11 除材PP水平 移動要求
CON
JMP @MR1501
STG @MR1501
AND R36001               ; RB11 除材PP水平 移動完了
AND T2359                ; RB11 除材PP水平 POS10 (取出)
AND= EM1321 #10          ; RB11 除材PP水平 現在POS
RES MR5502               ; RB11 除材PP水平 取出側 移動中
CON
SET MR5501               ; RB11 除材PP水平 取出側 移動完了
CON
RES R36001               ; RB11 除材PP水平 移動完了
CON
ENDS
;RB11 Removing PP -passing side movement
;RB11 除材PP水平 受渡側移動
STG MR5508               ; RB11 除材PP水平 受渡側 移動要求
SET MR5510               ; RB11 除材PP水平 受渡側 移中
CON
DW #11 EM1320            ; RB11 除材PP水平 指令POS
CON
AND DM10587.1            ; RB11 除材PP水平 原点復帰完了
AND MR3010               ; RB11 除材PP水平 起動IL
SET R36000               ; RB11 除材PP水平 移動要求
CON
JMP @MR1509
STG @MR1509
AND R36001               ; RB11 除材PP水平 移動完了
AND T2360                ; RB11 除材PP水平 POS11 (受渡)
AND= EM1321 #11          ; RB11 除材PP水平 現在POS
RES MR5510               ; RB11 除材PP水平 受渡側 移中
CON
SET MR5509               ; RB11 除材PP水平 受渡側 移動完了
CON
RES R36001               ; RB11 除材PP水平 移動完了
CON
ENDS
;RB12 Removing PP -up 
;RB12 除材PP上下 上昇移動
STG MR5600               ; RB12 除材PP上下 上昇 移動要求
SET MR5602               ; RB12 除材PP上下 上昇 移動中
CON
DW #5 EM1322             ; RB12 除材PP上下 指令POS
CON
AND DM10595.1            ; RB12 除材PP上下 原点復帰完了
AND MR3011               ; RB12 除材PP上下 起動IL
SET R36100               ; RB12 除材PP上下 移動要求
CON
JMP @MR1601
STG @MR1601
AND R36101               ; RB12 除材PP上下 移動完了
AND T2384                ; RB12 除材PP上下 POS5 (搬送)
AND= EM1323 #5           ; RB12 除材PP上下 現在POS
RES MR5602               ; RB12 除材PP上下 上昇 移動中
CON
SET MR5601               ; RB12 除材PP上下 上昇 移動完了
CON
RES R36101               ; RB12 除材PP上下 移動完了
CON
ENDS
;RB12 Removing PP - down1(Extraction)side movement
;RB12 除材PP上下 下降1取出側 移動要求
STG MR5608               ; RB12 除材PP上下 下降1 移動要求
SET MR5610               ; RB12 除材PP上下 下降1 移動中
CON
DW #10 EM1322            ; RB12 除材PP上下 指令POS
CON
AND DM10595.1            ; RB12 除材PP上下 原点復帰完了
AND MR3011               ; RB12 除材PP上下 起動IL
SET R36100               ; RB12 除材PP上下 移動要求
CON
JMP @MR1609
STG @MR1609
AND R36101               ; RB12 除材PP上下 移動完了
AND T2389                ; RB12 除材PP上下 POS10 (取出)
AND= EM1323 #10          ; RB12 除材PP上下 現在POS
RES MR5610               ; RB12 除材PP上下 下降1 移動中
CON
SET MR5609               ; RB12 除材PP上下 下降1 移動完了
CON
RES R36101               ; RB12 除材PP上下 移動完了
CON
ENDS
;RB12 Removing PP - down2(passing)side movement
;RB12 除材PP上下 下降1受渡側 移動要求
STG MR5700               ; RB12 除材PP上下 下降2 移動要求
SET MR5702               ; RB12 除材PP上下 下降2 移動完了
CON
DW #11 EM1322            ; RB12 除材PP上下 指令POS
CON
AND DM10595.1            ; RB12 除材PP上下 原点復帰完了
AND MR3011               ; RB12 除材PP上下 起動IL
SET R36100               ; RB12 除材PP上下 移動要求
CON
JMP @MR1701
STG @MR1701
AND R36101               ; RB12 除材PP上下 移動完了
AND T2390                ; RB12 除材PP上下 POS11 (受渡)
AND= EM1323 #11          ; RB12 除材PP上下 現在POS
RES MR5702               ; RB12 除材PP上下 下降2 移動完了
CON
SET MR5701               ; RB12 除材PP上下 下降2 移動完了
CON
RES R36101               ; RB12 除材PP上下 移動完了
CON
ENDS
;RB13 Removing PP - Extraction side movement
;RB13 除材搬送 受取側移動
STG MR5800               ; RB13 除材搬送 受取側 移動要求
SET MR5802               ; RB13 除材搬送 受取側 移動完了
CON
DW #10 EM1324            ; RB13 除材搬送 指令POS
CON
AND DM10603.1            ; RB13 除材搬送 原点復帰完了
AND MR3012               ; RB13 除材搬送 起動IL
SET R36200               ; RB13 除材搬送 移動要求
CON
JMP @MR1801
STG @MR1801
AND R36201               ; RB13 除材搬送 移動完了
AND T2409                ; RB13 除材搬送 POS10(受取)
AND= EM1325 #10          ; RB13 除材搬送 現在POS
RES MR5802               ; RB13 除材搬送 受取側 移動完了
CON
SET MR5801               ; RB13 除材搬送 受取側 移動完了
CON
RES R36201               ; RB13 除材搬送 移動完了
CON
ENDS
;RB13 Removing PP - take out side movement
;RB13 除材搬送 受渡側移動
STG MR5808               ; RB13 除材搬送 受渡側 移動要求
SET MR5810               ; RB13 除材搬送 受渡側 移動中
CON
DW #11 EM1324            ; RB13 除材搬送 指令POS
CON
AND DM10603.1            ; RB13 除材搬送 原点復帰完了
AND MR3012               ; RB13 除材搬送 起動IL
SET R36200               ; RB13 除材搬送 移動要求
CON
JMP @MR1809
STG @MR1809
AND R36201               ; RB13 除材搬送 移動完了
AND T2410                ; RB13 除材搬送 POS11 (受渡)
AND= EM1325 #11          ; RB13 除材搬送 現在POS
RES MR5810               ; RB13 除材搬送 受渡側 移動中
CON
SET MR5809               ; RB13 除材搬送 受渡側 移動完了
CON
RES R36201               ; RB13 除材搬送 移動完了
CON
ENDS
;<h1/>Work Removing PP - passing side movement
;ﾜｰｸ取出動作
STG @MR3000              ; ﾜｰｸ取出要求
ANB R50300               ; Pause
ANB R51708               ; UT8異常
AND R5401                ; 除材 ﾁｬｯｸ1開限
AND R5403                ; 除材 ﾁｬｯｸ2開限
JMP @MR3001
STG @MR3001
ANB R50300               ; Pause
ANB R51708               ; UT8異常
MPS
AND= EM1323 #5           ; RB12 除材PP上下 現在POS
JMP @MR3004
MRD
LD<> EM1323 #5           ; RB12 除材PP上下 現在POS
AND<> EM1323 #10         ; RB12 除材PP上下 現在POS
ANL
JMP @MR3002
MPP
LD= EM1323 #10           ; RB12 除材PP上下 現在POS
AND R5409                ; 除材 ﾁｬｯｸ旋回 CW限
ANL
JMP @MR3008
STG @MR3002
ANB MR5601               ; RB12 除材PP上下 上昇 移動完了
SET @MR800               ; Pause disable1
CON
SET MR5600               ; RB12 除材PP上下 上昇 移動要求
CON
JMP @MR3003
STG @MR3003
AND MR5601               ; RB12 除材PP上下 上昇 移動完了
RES MR5601               ; RB12 除材PP上下 上昇 移動完了
CON
JMP @MR3004
STG @MR3004
RES MR8404               ; 除材 ﾁｬｯｸ旋回CCW
CON
SET MR8405               ; 除材 ﾁｬｯｸ旋回CW
CON
MPS
LD= EM1321 #10           ; RB11 除材PP水平 現在POS
ANB MR5501               ; RB11 除材PP水平 取出側 移動完了
ANL
SET @MR800               ; Pause disable1
CON
SET MR5500               ; RB11 除材PP水平 取出側 移動要求
CON
JMP @MR3005
MPP
AND<> EM1321 #10         ; RB11 除材PP水平 現在POS
JMP @MR3006
STG @MR3005
AND MR5501               ; RB11 除材PP水平 取出側 移動完了
RES MR5501               ; RB11 除材PP水平 取出側 移動完了
CON
JMP @MR3006
STG @MR3006
ANB MR5609               ; RB12 除材PP上下 下降1 移動完了
AND R5409                ; 除材 ﾁｬｯｸ旋回 CW限
SET @MR800               ; Pause disable1
CON
SET MR5608               ; RB12 除材PP上下 下降1 移動要求
CON
JMP @MR3007
STG @MR3007
AND MR5609               ; RB12 除材PP上下 下降1 移動完了
RES MR5609               ; RB12 除材PP上下 下降1 移動完了
CON
JMP @MR3008
STG @MR3008
RES MR8401               ; 除材 ﾁｬｯｸ開
CON
SET MR8400               ; 除材 ﾁｬｯｸ閉
CON
AND @T1                  ; INDEXﾁｬｯｸ 開ﾃﾞｨﾚｲ
MPS
LD R5400                 ; 除材 ﾁｬｯｸ1閉限
AND R5402                ; 除材 ﾁｬｯｸ2閉限
ANL
JMP @MR3009
MPP
TMR #900 #30
CON
AND T900
JMP @MR3009
STG @MR3009
MPS
LD<> DM20800 #0          ; UT8-1在荷
AND<> DM20802 #0         ; UT8-2在荷
ANL
@INC DM5001              ; Output ｶｳﾝﾀ
CON
@INC DM5001              ; Output ｶｳﾝﾀ
CON
DW #8 DM20800            ; UT8-1在荷
CON
DW #8 DM20802            ; UT8-2在荷
CON
JMP @MR3010
MRD
LD<> DM20800 #0          ; UT8-1在荷
AND= DM20802 #0          ; UT8-2在荷
ANL
@INC DM5001              ; Output ｶｳﾝﾀ
CON
DW #8 DM20800            ; UT8-1在荷
CON
JMP @MR3010
MPP
LD= DM20800 #0           ; UT8-1在荷
AND<> DM20802 #0         ; UT8-2在荷
ANL
@INC DM5001              ; Output ｶｳﾝﾀ
CON
DW #8 DM20802            ; UT8-2在荷
CON
JMP @MR3010
STG @MR3010
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
ANB MR5601               ; RB12 除材PP上下 上昇 移動完了
SET MR5600               ; RB12 除材PP上下 上昇 移動要求
CON
JMP @MR3011
STG @MR3011
AND MR5601               ; RB12 除材PP上下 上昇 移動完了
@BMOV DM20800 DM20900 #10; UT8-1在荷  RB12 ①在荷
@FMOV #0 DM20800 #100    ; UT8-1在荷
RES @MR800               ; Pause disable1
CON
RES MR5601               ; RB12 除材PP上下 上昇 移動完了
CON
JMP @MR3012
STG @MR3012
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
MPS
LDB R50300               ; Pause
ANB R51708               ; UT8異常
ANL
RES MR408                ; UT8 着座/検知 無効ﾀｲﾐﾝｸﾞ
CON
ANB R4814                ; INDEX ﾁｬｯｸ8-1 ﾜｰｸ有無
ANB R4815                ; INDEX ﾁｬｯｸ8-2 ﾜｰｸ有無
ANB MR5509               ; RB11 除材PP水平 受渡側 移動完了
SET @MR800               ; Pause disable1
CON
SET MR5508               ; RB11 除材PP水平 受渡側 移動要求
CON
JMP @MR3013
MPP
LD R50300                ; Pause
AND R51708               ; UT8異常
ANL
MPS
LD R47314                ; UT8-1 ﾜｰｸﾃﾞｰﾀ異常
ANB R4814                ; INDEX ﾁｬｯｸ8-1 ﾜｰｸ有無
ANL
@FMOV #0 DM20900 #1      ; RB12 ①在荷
MPP
LD R47315                ; UT8-2 ﾜｰｸﾃﾞｰﾀ異常
ANB R4815                ; INDEX ﾁｬｯｸ8-2 ﾜｰｸ有無
ANL
@FMOV #0 DM20902 #1      ; RB12 ②在荷
STG @MR3013
RES MR8405               ; 除材 ﾁｬｯｸ旋回CW
CON
SET MR8404               ; 除材 ﾁｬｯｸ旋回CCW
CON
AND R5408                ; 除材 ﾁｬｯｸ旋回 CCW限
JMP @MR3014
STG @MR3014
AND MR5509               ; RB11 除材PP水平 受渡側 移動完了
RES @MR800               ; Pause disable1
CON
RES MR5509               ; RB11 除材PP水平 受渡側 移動完了
CON
JMP @MR3015
STG @MR3015
ANB R50300               ; Pause
ANB R51708               ; UT8異常
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
SET @MR3115              ; ﾜｰｸ取出完了
CON
ENDS
;<h1/>Work  passing 
;ﾜｰｸ受渡動作
STG @MR3200              ; ﾜｰｸ受渡動作
AND= @MR3400 #0          ; 下流装置へ 受渡要求
SET @MR3315              ; ﾜｰｸ受渡動作中
CON
ANB MR5601               ; RB12 除材PP上下 上昇 移動完了
MPS
AND<> EM1323 #5          ; RB12 除材PP上下 現在POS
SET @MR801               ; Pause disable2
CON
SET MR5600               ; RB12 除材PP上下 上昇 移動要求
CON
JMP @MR3201
MPP
AND= EM1323 #5           ; RB12 除材PP上下 現在POS
JMP @MR3202
STG @MR3201
AND MR5601               ; RB12 除材PP上下 上昇 移動完了
RES MR5601               ; RB12 除材PP上下 上昇 移動完了
CON
JMP @MR3202
STG @MR3202
ANB MR5509               ; RB11 除材PP水平 受渡側 移動完了
MPS
AND<> EM1321 #11         ; RB11 除材PP水平 現在POS
SET @MR801               ; Pause disable2
CON
SET MR5508               ; RB11 除材PP水平 受渡側 移動要求
CON
JMP @MR3203
MPP
AND= EM1321 #11          ; RB11 除材PP水平 現在POS
JMP @MR3205
STG @MR3203
RES MR8405               ; 除材 ﾁｬｯｸ旋回CW
CON
SET MR8404               ; 除材 ﾁｬｯｸ旋回CCW
CON
AND R5408                ; 除材 ﾁｬｯｸ旋回 CCW限
JMP @MR3204
STG @MR3204
AND MR5509               ; RB11 除材PP水平 受渡側 移動完了
RES MR5509               ; RB11 除材PP水平 受渡側 移動完了
CON
JMP @MR3205
STG @MR3205
RES MR8405               ; 除材 ﾁｬｯｸ旋回CW
CON
SET MR8404               ; 除材 ﾁｬｯｸ旋回CCW
CON
AND R5408                ; 除材 ﾁｬｯｸ旋回 CCW限
ANB MR5801               ; RB13 除材搬送 受取側 移動完了
MPS
AND<> EM1325 #10         ; RB13 除材搬送 現在POS
MPS
AND= DM20950 #0          ; RB13 ①在荷
SET MR5800               ; RB13 除材搬送 受取側 移動要求
CON
JMP @MR3206
MPP
AND<> DM20950 #0         ; RB13 ①在荷
JMP @MR3205
MPP
AND= EM1325 #10          ; RB13 除材搬送 現在POS
JMP @MR3207
STG @MR3206
AND MR5801               ; RB13 除材搬送 受取側 移動完了
RES @MR801               ; Pause disable2
CON
RES MR5801               ; RB13 除材搬送 受取側 移動完了
CON
JMP @MR3207
STG @MR3207
AND T2409                ; RB13 除材搬送 POS10(受取)
AND= DM20950 #0          ; RB13 ①在荷
AND R5405                ; 除材 搬送ﾁｬｯｸ1 開限
AND R5407                ; 除材 搬送ﾁｬｯｸ2 開限
ANB R5714                ; 除材搬送 ﾁｬｯｸ1 ﾜｰｸ有無
ANB R5715                ; 除材搬送 ﾁｬｯｸ2 ﾜｰｸ有無
AND= EM1325 #10          ; RB13 除材搬送 現在POS
JMP @MR3208
STG @MR3208
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
ANB MR5701               ; RB12 除材PP上下 下降2 移動完了
SET @MR801               ; Pause disable2
CON
SET MR5700               ; RB12 除材PP上下 下降2 移動要求
CON
JMP @MR3209
STG @MR3209
AND MR5701               ; RB12 除材PP上下 下降2 移動完了
RES MR5701               ; RB12 除材PP上下 下降2 移動完了
CON
JMP @MR3210
STG @MR3210
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
RES MR8403               ; 除材 搬送ﾁｬｯｸ開
CON
SET MR8402               ; 除材 搬送ﾁｬｯｸ閉
CON
@BMOV DM20900 DM20950 #10; RB12 ①在荷  RB13 ①在荷
MPS
@FMOV #0 DM20900 #10     ; RB12 ①在荷
MPP
LD R5404                 ; 除材 搬送ﾁｬｯｸ1 閉限
LD= DM20950 #0           ; RB13 ①在荷
AND<> DM20952 #0         ; RB13 ②在荷
ORL
LD R5406                 ; 除材 搬送ﾁｬｯｸ2 閉限
LD<> DM20950 #0          ; RB13 ①在荷
AND= DM20952 #0          ; RB13 ②在荷
ORL
ANL
ANL
JMP @MR3211
STG @MR3211
RES MR8400               ; 除材 ﾁｬｯｸ閉
CON
SET MR8401               ; 除材 ﾁｬｯｸ開
CON
AND R5401                ; 除材 ﾁｬｯｸ1開限
AND R5403                ; 除材 ﾁｬｯｸ2開限
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
JMP @MR3212
STG @MR3212
ANB MR5601               ; RB12 除材PP上下 上昇 移動完了
SET MR5600               ; RB12 除材PP上下 上昇 移動要求
CON
JMP @MR3213
STG @MR3213
AND MR5601               ; RB12 除材PP上下 上昇 移動完了
RES @MR801               ; Pause disable2
CON
RES MR5601               ; RB12 除材PP上下 上昇 移動完了
CON
JMP @MR3214
STG @MR3214
ANB R50300               ; Pause
ANB R51708               ; UT8異常
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
SET @MR3215              ; ﾜｰｸ受渡完了
CON
JMP @MR3300              ; 除材搬送 受取可
STG @MR3300              ; 除材搬送 受取可
ANB MR5501               ; RB11 除材PP水平 取出側 移動完了
SET @MR801               ; Pause disable2
CON
SET MR5500               ; RB11 除材PP水平 取出側 移動要求
CON
JMP @MR3301              ; 除材搬送 ﾁｬｯｸ閉完了
STG @MR3301              ; 除材搬送 ﾁｬｯｸ閉完了
SET MR8405               ; 除材 ﾁｬｯｸ旋回CW
CON
RES MR8404               ; 除材 ﾁｬｯｸ旋回CCW
CON
AND R5409                ; 除材 ﾁｬｯｸ旋回 CW限
JMP @MR3302
STG @MR3302
AND MR5501               ; RB11 除材PP水平 取出側 移動完了
RES @MR801               ; Pause disable2
CON
RES MR5501               ; RB11 除材PP水平 取出側 移動完了
CON
JMP @MR3303
STG @MR3303
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
ANB MR5609               ; RB12 除材PP上下 下降1 移動完了
SET @MR801               ; Pause disable2
CON
SET MR5608               ; RB12 除材PP上下 下降1 移動要求
CON
JMP @MR3304
STG @MR3304
AND MR5609               ; RB12 除材PP上下 下降1 移動完了
RES @MR801               ; Pause disable2
CON
RES MR5609               ; RB12 除材PP上下 下降1 移動完了
CON
JMP @MR3305
STG @MR3305
RES @MR3315              ; ﾜｰｸ受渡動作中
CON
ENDS
;<h1/>Work lowerstream passing
;ﾜｰｸ下流装置へ受渡動作
STG @MR3400              ; 下流装置へ 受渡要求
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
LDB MR008                ; 下流 H/S 無
AND B2022                ; 下流より ｲﾝﾀｰﾛｯｸ
OR MR008                 ; 下流 H/S 無
ANL
ANB MR5809               ; RB13 除材搬送 受渡側 移動完了
SET @MR802               ; Pause disable3
CON
SET @MR3414              ; 下流装置へ 受渡中
CON
SET MR5808               ; RB13 除材搬送 受渡側 移動要求
CON
JMP @MR3401
STG @MR3401
AND MR5809               ; RB13 除材搬送 受渡側 移動完了
RES @MR802               ; Pause disable3
CON
RES MR5809               ; RB13 除材搬送 受渡側 移動完了
CON
JMP @MR3402
STG @MR3402
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
RES MR8402               ; 除材 搬送ﾁｬｯｸ閉
CON
SET MR8403               ; 除材 搬送ﾁｬｯｸ開
CON
JMP @MR3403
STG @MR3403
MPS
ANB MR008                ; 下流 H/S 無
SET B2034                ; 下流へ 動作開始許可
CON
JMP @MR3404
MPP
AND MR008                ; 下流 H/S 無
JMP @MR3404
STG @MR3404
ANB R50300               ; Pause
ANB R51708               ; UT8異常
MPS
LDB MR008                ; 下流 H/S 無
AND B2021                ; 下流より 非常停止
AND B2023                ; 下流より 動作開始通知
ANL
RES B2034                ; 下流へ 動作開始許可
CON
JMP @MR3405
MPP
AND MR008                ; 下流 H/S 無
JMP @MR3405
STG @MR3405
ANB R50300               ; Pause
ANB R51708               ; UT8異常
MPS
LDB MR008                ; 下流 H/S 無
LD<> DM20950 #0          ; RB13 ①在荷
AND<> DM20952 #0         ; RB13 ②在荷
AND B2020                ; 下流より ﾜｰｸ1有無
AND B202F                ; 下流より ﾜｰｸ2有無
LD<> DM20950 #0          ; RB13 ①在荷
AND= DM20952 #0          ; RB13 ②在荷
AND B2020                ; 下流より ﾜｰｸ1有無
ANB B202F                ; 下流より ﾜｰｸ2有無
ORL
LD= DM20950 #0           ; RB13 ①在荷
AND<> DM20952 #0         ; RB13 ②在荷
ANB B2020                ; 下流より ﾜｰｸ1有無
AND B202F                ; 下流より ﾜｰｸ2有無
ORL
ANL
ANL
JMP @MR3406
MPP
AND MR008                ; 下流 H/S 無
JMP @MR3406
STG @MR3406
ANB R50300               ; Pause
ANB R51708               ; UT8異常
MPS
LDB MR008                ; 下流 H/S 無
AND B2026                ; 下流より 補助動作 開始要求
AND R5405                ; 除材 搬送ﾁｬｯｸ1 開限
AND R5407                ; 除材 搬送ﾁｬｯｸ2 開限
ANL
SET B2037                ; 下流へ 補助動作 開始許可
CON
JMP @MR3407
MPP
LD MR008                 ; 下流 H/S 無
AND R5405                ; 除材 搬送ﾁｬｯｸ1 開限
AND R5407                ; 除材 搬送ﾁｬｯｸ2 開限
ANL
JMP @MR3407
STG @MR3407
ANB R50300               ; Pause
ANB R51708               ; UT8異常
MPS
LDB MR008                ; 下流 H/S 無
ANB B2026                ; 下流より 補助動作 開始要求
ANL
RES B2037                ; 下流へ 補助動作 開始許可
CON
JMP @MR3408
MPP
AND MR008                ; 下流 H/S 無
JMP @MR3408
STG @MR3408
ANB R50300               ; Pause
ANB R51708               ; UT8異常
MPS
@FMOV #0 DM20950 #10     ; RB13 ①在荷
MPP
LDB MR008                ; 下流 H/S 無
ANB B2023                ; 下流より 動作開始通知
AND B2022                ; 下流より ｲﾝﾀｰﾛｯｸ
OR MR008                 ; 下流 H/S 無
ANL
JMP @MR3409
STG @MR3409
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
ANB MR5801               ; RB13 除材搬送 受取側 移動完了
SET @MR802               ; Pause disable3
CON
SET MR5800               ; RB13 除材搬送 受取側 移動要求
CON
JMP @MR3410
STG @MR3410
AND MR5801               ; RB13 除材搬送 受取側 移動完了
RES @MR802               ; Pause disable3
CON
RES MR5801               ; RB13 除材搬送 受取側 移動完了
CON
JMP @MR3411
STG @MR3411
ANB R50300               ; Pause
ANB R51708               ; UT8異常
RES @MR3414              ; 下流装置へ 受渡中
CON
SET @MR3415              ; 下流装置へ 受渡完了
CON
ENDS
;<h1/>Error display
;ｴﾗｰ表示
;
;<h1/>UT8 Pause disable
;UT8 ﾎﾟｰｽﾞ禁止
;
LDB @MR800               ; Pause disable1
ANB @MR801               ; Pause disable2
ANB @MR802               ; Pause disable3
INV
OUT R51608               ; PACK UT8
END
ENDH
