DEVICE:53
;MODULE:SR751_COM1
;MODULE_TYPE:0
;PCとの通信
LDP R46104               ; _ESTOP_MODE
ZRES @R100 @R115
;<h1/>Communication MAIN
LD CR2003                ; 常時OFF
ANB R37102               ; SR751-1通信中
@SET R37100              ; SR751-1通信開始
STG R37100               ; SR751-1通信開始
ZRES DM40018 DM40027     ; SR-750 Series[1]ﾃﾞｰﾀ(0000)  SR-750 Series[1]ﾃﾞｰﾀ(0018)
CON
ZRES EM30400 EM30599
CON
RES R37101               ; SR751-1通信正常完了
CON
RES R37107               ; SR751-1通信異常完了
CON
SET R37102               ; SR751-1通信中
CON
JMP @R100
STG @R100
SET R38600               ; SR-750 Series[1]読取完ｸﾘｱ
CON
SET R38507               ; SR-750 Series[1]ｴﾗｰｸﾘｱ
CON
ANB R38000               ; SR-750 Series[1]ｴﾗｰ
ANB R38100               ; SR-750 Series[1]読取完
JMP @R101
STG @R101
RES R38600               ; SR-750 Series[1]読取完ｸﾘｱ
CON
RES R38507               ; SR-750 Series[1]ｴﾗｰｸﾘｱ
CON
JMP @R102
STG @R102
SET R38508               ; SR-750 Series[1]読取要求
CON
JMP @R103
STG @R103
AND R38100               ; SR-750 Series[1]読取完
@BMOV DM40018 EM30400 #10; SR-750 Series[1]ﾃﾞｰﾀ(0000)
@DISS EM30400 EM30420
RES R38508               ; SR-750 Series[1]読取要求
CON
JMP @R104
LD @R103
ANB R38100               ; SR-750 Series[1]読取完
TMR @0 #50
CON
AND @T0
@RES R38508              ; SR-750 Series[1]読取要求
STG @R104
MPS
AND= EM30424 $003A
@BMOV EM30420 EM30440 #4 ; ① T-code ASC Byte
@BMOV EM30425 EM30450 #3 ; ① X座標 ASC Byte
@BMOV EM30429 EM30460 #3 ; ① Y座標 ASC Byte
@UNIS EM30440 EM30470 #4 ; ① T-code ASC Byte  ① T-code ASC Word
@UNIS EM30450 EM30480 #3 ; ① X座標 ASC Byte  ① X座標 ASC Word
@UNIS EM30460 EM30490 #3 ; ① Y座標 ASC Byte  ① Y座標 ASC Word
MRD
AND= EM30425 $003A
@BMOV EM30420 EM30440 #5 ; ① T-code ASC Byte
@BMOV EM30426 EM30450 #3 ; ① X座標 ASC Byte
@BMOV EM30430 EM30460 #3 ; ① Y座標 ASC Byte
@UNIS EM30440 EM30470 #5 ; ① T-code ASC Byte  ① T-code ASC Word
@UNIS EM30450 EM30480 #3 ; ① X座標 ASC Byte  ① X座標 ASC Word
@UNIS EM30460 EM30490 #3 ; ① Y座標 ASC Byte  ① Y座標 ASC Word
MRD
LD= EM30424 $003A
OR= EM30425 $003A
ANL
@RDASC EM30480 EM30500   ; ① X座標 ASC Word  ① X座標 BIN
@RDASC EM30490 EM30510   ; ① Y座標 ASC Word  ① Y座標 BIN
MPS
@LDA.L EM30500           ; ① X座標 BIN
CON
@SUB.L +376
CON
@STA.L EM30520           ; ① X座標 中心距離(ﾋﾟｸｾﾙ)
MRD
@LDA.L EM30520           ; ① X座標 中心距離(ﾋﾟｸｾﾙ)
CON
@FLOAT.L
CON
@STA.F EM30522           ; ① X座標  中心距離FLOT化
MRD
AND>=.L EM30520 +0       ; ① X座標 中心距離(ﾋﾟｸｾﾙ)
@LDA.F EM30522           ; ① X座標  中心距離FLOT化
CON
@MUL.F +0.093883
CON
@STA.F EM30524           ; ① X座標 中心距離mm化
MRD
AND<.L EM30520 +0        ; ① X座標 中心距離(ﾋﾟｸｾﾙ)
@LDA.F EM30522           ; ① X座標  中心距離FLOT化
CON
@MUL.F -0.093883
CON
@STA.F EM30524           ; ① X座標 中心距離mm化
MRD
@LDA.F EM30524           ; ① X座標 中心距離mm化
CON
@DIV.F +20
CON
@STA.F EM30526           ; ① X座標 中心距離mm化/ﾎﾞﾄﾙ半径
MRD
@LDA.F EM30526           ; ① X座標 中心距離mm化/ﾎﾞﾄﾙ半径
CON
@ACOS
CON
@STA.F EM30528           ; ① X座標 余弦角度化(ﾗｼﾞｱﾝ)
MRD
@LDA.F EM30528           ; ① X座標 余弦角度化(ﾗｼﾞｱﾝ)
CON
@MUL.F +57.29579
CON
@STA.F EM30540           ; ① X座標 余弦角度化(°)
MRD
@LDA.F +90
CON
@SUB.F EM30540           ; ① X座標 余弦角度化(°)
CON
@STA.F EM30542           ; ① X座標 角度換算値(°)
MRD
AND>=.L EM30520 +0       ; ① X座標 中心距離(ﾋﾟｸｾﾙ)
@LDA.F EM30542           ; ① X座標 角度換算値(°)
CON
@MUL.F +100
CON
@STA.F EM30544           ; ① X座標 角度換算値 4桁化
MRD
AND<.L EM30520 +0        ; ① X座標 中心距離(ﾋﾟｸｾﾙ)
@LDA.F EM30542           ; ① X座標 角度換算値(°)
CON
@MUL.F -100
CON
@STA.F EM30544           ; ① X座標 角度換算値 4桁化
MRD
@LDA.L EM30544           ; ① X座標 角度換算値 4桁化
CON
@INTG.L
CON
@STA.L EM30546           ; ① X座標 角度換算値 4桁整数化
MRD
AND<= EM30510 DM15000    ; ① Y座標 BIN  ① Y方向4桁 窪み画素閾値
MPS
AND= EM30470 $3636       ; ① T-code ASC Word
@LDA.L EM30546           ; ① X座標 角度換算値 4桁整数化
CON
@ADD.L DM15010           ; ①X方向 4桁(66**)角度補正1
CON
@STA.L EM30548           ; ① X座標 角度補正換算値 4桁
MPP
AND= EM30470 $3637       ; ① T-code ASC Word
@LDA.L EM30546           ; ① X座標 角度換算値 4桁整数化
CON
@ADD.L DM15014           ; ①X方向 4桁(67**)角度補正1
CON
@STA.L EM30548           ; ① X座標 角度補正換算値 4桁
MRD
AND> EM30510 DM15000     ; ① Y座標 BIN  ① Y方向4桁 窪み画素閾値
MPS
AND= EM30470 $3636       ; ① T-code ASC Word
@LDA.L EM30546           ; ① X座標 角度換算値 4桁整数化
CON
@ADD.L DM15012           ; ①X方向 4桁(66**)角度補正２
CON
@STA.L EM30548           ; ① X座標 角度補正換算値 4桁
MPP
AND= EM30470 $3637       ; ① T-code ASC Word
@LDA.L EM30546           ; ① X座標 角度換算値 4桁整数化
CON
@ADD.L DM15016           ; ①X方向 4桁(67**)角度補正２
CON
@STA.L EM30548           ; ① X座標 角度補正換算値 4桁
MRD
ANB MR215                ; 4st Y軸 2次関数 FLG
MPS
@LDA.L EM30510           ; ① Y座標 BIN
CON
@SUB.L +280
CON
@STA.L EM30530           ; ① Y座標 中心距離(ﾋﾟｸｾﾙ)
MRD
@LDA.L EM30530           ; ① Y座標 中心距離(ﾋﾟｸｾﾙ)
CON
@FLOAT.L
CON
@STA.F EM30532           ; ① X座標  中心距離FLOT化
MRD
AND>=.L EM30530 +0       ; ① Y座標 中心距離(ﾋﾟｸｾﾙ)
@LDA.F EM30532           ; ① X座標  中心距離FLOT化
CON
@MUL.F +0.09375
CON
@STA.F EM30534           ; ① Y座標  中心距離mm化
MRD
AND<.L EM30530 +0        ; ① Y座標 中心距離(ﾋﾟｸｾﾙ)
@LDA.F EM30532           ; ① X座標  中心距離FLOT化
CON
@MUL.F -0.09375
CON
@STA.F EM30534           ; ① Y座標  中心距離mm化
MRD
AND>=.L EM30530 +0       ; ① Y座標 中心距離(ﾋﾟｸｾﾙ)
@LDA.F EM30534           ; ① Y座標  中心距離mm化
CON
@MUL.F -100
CON
@STA.F EM30536           ; ① Y座標  中心距離 ４桁化
MRD
AND<.L EM30530 +0        ; ① Y座標 中心距離(ﾋﾟｸｾﾙ)
@LDA.F EM30534           ; ① Y座標  中心距離mm化
CON
@MUL.F +100
CON
@STA.F EM30536           ; ① Y座標  中心距離 ４桁化
MPP
@LDA.L EM30536           ; ① Y座標  中心距離 ４桁化
CON
@INTG.L
CON
@STA.L EM30550           ; ① Y座標 ﾐﾘ換算値
MRD
AND MR215                ; 4st Y軸 2次関数 FLG
MPS
@LDA.L EM30500           ; ① X座標 BIN
CON
@FLOAT.L
CON
@STA.F EM30502           ; ① X座標 FLOT化
MRD
@LDA.F EM30502           ; ① X座標 FLOT化
CON
@MUL.F +0.093883
CON
@STA.F EM30504           ; ① X座標 mm化
MRD
@LDA.F EM30504           ; ① X座標 mm化
CON
@MUL.F EM30504           ; ① X座標 mm化
CON
@STA.F EM30506           ; ①(X座標mm)2乗
MRD
AND CR2003               ; 常時OFF
@LDA.F EM30506           ; ①(X座標mm)2乗
CON
@MUL.F +0.0075
CON
@STA.F EM30508           ; ①(X座標mm２乗)×係数
MRD
@LDA.F EM30506           ; ①(X座標mm)2乗
CON
@MUL.F DM15060           ; ①2乗定数
CON
@STA.F EM30508           ; ①(X座標mm２乗)×係数
MRD
AND CR2003               ; 常時OFF
@LDA.F EM30504           ; ① X座標 mm化
CON
@MUL.F +0.5283
CON
@STA.F EM30512           ; ①(X座標mm)×係数
MRD
@LDA.F EM30504           ; ① X座標 mm化
CON
@MUL.F DM15062           ; ①1乗定数
CON
@STA.F EM30512           ; ①(X座標mm)×係数
MRD
@LDA.F EM30508           ; ①(X座標mm２乗)×係数
CON
@SUB.F EM30512           ; ①(X座標mm)×係数
CON
@STA.F EM30514           ; ①(X座標mm２乗)×係数-(X座標mm)
MRD
AND CR2003               ; 常時OFF
@LDA.F EM30514           ; ①(X座標mm２乗)×係数-(X座標mm)
CON
@ADD.F +9.3315
CON
@STA.F EM30516           ; ①(Y 2次関数mm化)
MRD
@LDA.F EM30514           ; ①(X座標mm２乗)×係数-(X座標mm)
CON
@ADD.F DM15064           ; ①定数
CON
@STA.F EM30516           ; ①(Y 2次関数mm化)
MRD
@LDA.F EM30516           ; ①(Y 2次関数mm化)
CON
@MUL.F -100
CON
@STA.F EM30518           ; ①(Y 2次関数 4桁mm化)
MPP
@LDA.F EM30518           ; ①(Y 2次関数 4桁mm化)
CON
@INTG.L
CON
@STA.L EM30550           ; ① Y座標 ﾐﾘ換算値
MPP
@LDA.L EM30546           ; ① X座標 角度換算値 4桁整数化
CON
@ADD.L +6600
CON
@STA.L EM30560           ; ① X座標 補正前角度移動量
MRD
AND= EM30424 $003A
MPS
AND<= EM30510 DM15000    ; ① Y座標 BIN  ① Y方向4桁 窪み画素閾値
MPS
AND= EM30470 $3636       ; ① T-code ASC Word
MPS
LD>.L EM30548 -3500      ; ① X座標 角度補正換算値 4桁
AND<.L EM30548 +3500     ; ① X座標 角度補正換算値 4桁
ANL
@LDA.L EM30560           ; ① X座標 補正前角度移動量
CON
@ADD.L DM15010           ; ①X方向 4桁(66**)角度補正1
CON
@STA.L EM30580           ; ① X座標 補正後角度移動量
MRD
AND<=.L EM30548 -3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30560           ; ① X座標 補正前角度移動量
CON
@ADD.L DM15030           ; ①X方向 角度4桁(Θ<40)
CON
@STA.L EM30580           ; ① X座標 補正後角度移動量
MPP
AND>=.L EM30548 +3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30560           ; ① X座標 補正前角度移動量
CON
@ADD.L DM15032           ; ①X方向 角度4桁(Θ>40)
CON
@STA.L EM30580           ; ① X座標 補正後角度移動量
MPP
AND= EM30470 $3637       ; ① T-code ASC Word
MPS
LD>.L EM30548 -3500      ; ① X座標 角度補正換算値 4桁
AND<.L EM30548 +3500     ; ① X座標 角度補正換算値 4桁
ANL
@LDA.L EM30560           ; ① X座標 補正前角度移動量
CON
@ADD.L DM15014           ; ①X方向 4桁(67**)角度補正1
CON
@STA.L EM30580           ; ① X座標 補正後角度移動量
MRD
AND<=.L EM30548 -3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30560           ; ① X座標 補正前角度移動量
CON
@ADD.L DM15030           ; ①X方向 角度4桁(Θ<40)
CON
@STA.L EM30580           ; ① X座標 補正後角度移動量
MPP
AND>=.L EM30548 +3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30560           ; ① X座標 補正前角度移動量
CON
@ADD.L DM15032           ; ①X方向 角度4桁(Θ>40)
CON
@STA.L EM30580           ; ① X座標 補正後角度移動量
MRD
AND> EM30510 DM15000     ; ① Y座標 BIN  ① Y方向4桁 窪み画素閾値
MPS
AND= EM30470 $3636       ; ① T-code ASC Word
MPS
LD>.L EM30548 -3500      ; ① X座標 角度補正換算値 4桁
AND<.L EM30548 +3500     ; ① X座標 角度補正換算値 4桁
ANL
@LDA.L EM30560           ; ① X座標 補正前角度移動量
CON
@ADD.L DM15012           ; ①X方向 4桁(66**)角度補正２
CON
@STA.L EM30580           ; ① X座標 補正後角度移動量
MRD
AND<=.L EM30548 -3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30560           ; ① X座標 補正前角度移動量
CON
@ADD.L DM15030           ; ①X方向 角度4桁(Θ<40)
CON
@STA.L EM30580           ; ① X座標 補正後角度移動量
MPP
AND>=.L EM30548 +3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30560           ; ① X座標 補正前角度移動量
CON
@ADD.L DM15032           ; ①X方向 角度4桁(Θ>40)
CON
@STA.L EM30580           ; ① X座標 補正後角度移動量
MPP
AND= EM30470 $3637       ; ① T-code ASC Word
MPS
LD>.L EM30548 -3500      ; ① X座標 角度補正換算値 4桁
AND<.L EM30548 +3500     ; ① X座標 角度補正換算値 4桁
ANL
@LDA.L EM30560           ; ① X座標 補正前角度移動量
CON
@ADD.L DM15016           ; ①X方向 4桁(67**)角度補正２
CON
@STA.L EM30580           ; ① X座標 補正後角度移動量
MRD
AND<=.L EM30548 -3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30560           ; ① X座標 補正前角度移動量
CON
@ADD.L DM15030           ; ①X方向 角度4桁(Θ<40)
CON
@STA.L EM30580           ; ① X座標 補正後角度移動量
MPP
AND>=.L EM30548 +3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30560           ; ① X座標 補正前角度移動量
CON
@ADD.L DM15032           ; ①X方向 角度4桁(Θ>40)
CON
@STA.L EM30580           ; ① X座標 補正後角度移動量
MRD
AND<= EM30510 DM15000    ; ① Y座標 BIN  ① Y方向4桁 窪み画素閾値
MPS
ANB MR215                ; 4st Y軸 2次関数 FLG
MPS
LD>.L EM30548 -3500      ; ① X座標 角度補正換算値 4桁
AND<.L EM30548 +3500     ; ① X座標 角度補正換算値 4桁
ANL
@LDA.L EM30550           ; ① Y座標 ﾐﾘ換算値
CON
@ADD.L DM15020           ; ①Y方向 4桁高さ補正1
CON
@STA.L EM30590           ; ① Y座標 補正後移動量
MRD
AND<=.L EM30548 -3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30550           ; ① Y座標 ﾐﾘ換算値
CON
@ADD.L DM15050           ; ①Y方向 角度4桁(Θ<40)
CON
@STA.L EM30590           ; ① Y座標 補正後移動量
MPP
AND>=.L EM30548 +3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30550           ; ① Y座標 ﾐﾘ換算値
CON
@ADD.L DM15052           ; ①Y方向 角度4桁(Θ>40)
CON
@STA.L EM30590           ; ① Y座標 補正後移動量
MPP
AND MR215                ; 4st Y軸 2次関数 FLG
@LDA.L EM30550           ; ① Y座標 ﾐﾘ換算値
CON
@ADD.L DM15020           ; ①Y方向 4桁高さ補正1
CON
@STA.L EM30590           ; ① Y座標 補正後移動量
MPP
AND> EM30510 DM15000     ; ① Y座標 BIN  ① Y方向4桁 窪み画素閾値
MPS
ANB MR215                ; 4st Y軸 2次関数 FLG
MPS
LD>.L EM30548 -3500      ; ① X座標 角度補正換算値 4桁
AND<.L EM30548 +3500     ; ① X座標 角度補正換算値 4桁
ANL
@LDA.L EM30550           ; ① Y座標 ﾐﾘ換算値
CON
@ADD.L DM15022           ; ①Y方向 ４桁高さ補正２
CON
@STA.L EM30590           ; ① Y座標 補正後移動量
MRD
AND<=.L EM30548 -3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30550           ; ① Y座標 ﾐﾘ換算値
CON
@ADD.L DM15050           ; ①Y方向 角度4桁(Θ<40)
CON
@STA.L EM30590           ; ① Y座標 補正後移動量
MPP
AND>=.L EM30548 +3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30550           ; ① Y座標 ﾐﾘ換算値
CON
@ADD.L DM15052           ; ①Y方向 角度4桁(Θ>40)
CON
@STA.L EM30590           ; ① Y座標 補正後移動量
MPP
AND MR215                ; 4st Y軸 2次関数 FLG
@LDA.L EM30550           ; ① Y座標 ﾐﾘ換算値
CON
@ADD.L DM15022           ; ①Y方向 ４桁高さ補正２
CON
@STA.L EM30590           ; ① Y座標 補正後移動量
MRD
AND= EM30425 $003A
MPS
AND<= EM30510 DM15100    ; ① Y座標 BIN  ① Y方向4桁窪み画素閾値
MPS
LD>.L EM30548 -3500      ; ① X座標 角度補正換算値 4桁
AND<.L EM30548 +3500     ; ① X座標 角度補正換算値 4桁
ANL
@LDA.L EM30560           ; ① X座標 補正前角度移動量
CON
@ADD.L DM15110           ; ①X方向 ５桁角度補正1
CON
@STA.L EM30580           ; ① X座標 補正後角度移動量
MRD
AND<=.L EM30548 -3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30560           ; ① X座標 補正前角度移動量
CON
@ADD.L DM15130           ; ①X方向 角度5桁(Θ<40)
CON
@STA.L EM30580           ; ① X座標 補正後角度移動量
MPP
AND>=.L EM30548 +3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30560           ; ① X座標 補正前角度移動量
CON
@ADD.L DM15132           ; ①X方向 角度5桁(Θ>40)
CON
@STA.L EM30580           ; ① X座標 補正後角度移動量
MRD
AND> EM30510 DM15100     ; ① Y座標 BIN  ① Y方向4桁窪み画素閾値
MPS
LD>.L EM30548 -3500      ; ① X座標 角度補正換算値 4桁
AND<.L EM30548 +3500     ; ① X座標 角度補正換算値 4桁
ANL
@LDA.L EM30560           ; ① X座標 補正前角度移動量
CON
@ADD.L DM15112           ; ①X方向 ５桁角度補正２
CON
@STA.L EM30580           ; ① X座標 補正後角度移動量
MRD
AND<=.L EM30548 -3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30560           ; ① X座標 補正前角度移動量
CON
@ADD.L DM15130           ; ①X方向 角度5桁(Θ<40)
CON
@STA.L EM30580           ; ① X座標 補正後角度移動量
MPP
AND>=.L EM30548 +3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30560           ; ① X座標 補正前角度移動量
CON
@ADD.L DM15132           ; ①X方向 角度5桁(Θ>40)
CON
@STA.L EM30580           ; ① X座標 補正後角度移動量
MRD
AND<= EM30510 DM15100    ; ① Y座標 BIN  ① Y方向4桁窪み画素閾値
MPS
ANB MR215                ; 4st Y軸 2次関数 FLG
MPS
LD>.L EM30548 -3500      ; ① X座標 角度補正換算値 4桁
AND<.L EM30548 +3500     ; ① X座標 角度補正換算値 4桁
ANL
@LDA.L EM30550           ; ① Y座標 ﾐﾘ換算値
CON
@ADD.L DM15120           ; ①Y方向 ５桁高さ補正1
CON
@STA.L EM30590           ; ① Y座標 補正後移動量
MRD
AND<=.L EM30548 -3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30550           ; ① Y座標 ﾐﾘ換算値
CON
@ADD.L DM15150           ; ①Y方向 角度5桁(Θ<40)
CON
@STA.L EM30590           ; ① Y座標 補正後移動量
MPP
AND>=.L EM30548 +3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30550           ; ① Y座標 ﾐﾘ換算値
CON
@ADD.L DM15152           ; ①Y方向 角度5桁(Θ>40)
CON
@STA.L EM30590           ; ① Y座標 補正後移動量
MPP
AND MR215                ; 4st Y軸 2次関数 FLG
@LDA.L EM30550           ; ① Y座標 ﾐﾘ換算値
CON
@ADD.L DM15120           ; ①Y方向 ５桁高さ補正1
CON
@STA.L EM30590           ; ① Y座標 補正後移動量
MPP
AND> EM30510 DM15100     ; ① Y座標 BIN  ① Y方向4桁窪み画素閾値
MPS
ANB MR215                ; 4st Y軸 2次関数 FLG
MPS
LD>.L EM30548 -3500      ; ① X座標 角度補正換算値 4桁
AND<.L EM30548 +3500     ; ① X座標 角度補正換算値 4桁
ANL
@LDA.L EM30550           ; ① Y座標 ﾐﾘ換算値
CON
@ADD.L DM15122           ; ①Y方向 ５桁高さ補正２
CON
@STA.L EM30590           ; ① Y座標 補正後移動量
MRD
AND<=.L EM30548 -3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30550           ; ① Y座標 ﾐﾘ換算値
CON
@ADD.L DM15150           ; ①Y方向 角度5桁(Θ<40)
CON
@STA.L EM30590           ; ① Y座標 補正後移動量
MPP
AND>=.L EM30548 +3500    ; ① X座標 角度補正換算値 4桁
@LDA.L EM30550           ; ① Y座標 ﾐﾘ換算値
CON
@ADD.L DM15152           ; ①Y方向 角度5桁(Θ>40)
CON
@STA.L EM30590           ; ① Y座標 補正後移動量
MPP
AND MR215                ; 4st Y軸 2次関数 FLG
@LDA.L EM30550           ; ① Y座標 ﾐﾘ換算値
CON
@ADD.L DM15122           ; ①Y方向 ５桁高さ補正２
CON
@STA.L EM30590           ; ① Y座標 補正後移動量
MRD
LD= EM30424 $003A
OR= EM30425 $003A
ANL
JMP @R105
MPP
LD= EM30400 $4552
AND= EM30401 $524F
AND= EM30402 $520D
ANL
JMP @R114
STG @R105
SET R38600               ; SR-750 Series[1]読取完ｸﾘｱ
CON
ANB R38100               ; SR-750 Series[1]読取完
JMP @R106
STG @R106
RES R38600               ; SR-750 Series[1]読取完ｸﾘｱ
CON
JMP @R115
STG @R114
TMS @4 #1
CON
AND @T4
RES R37102               ; SR751-1通信中
CON
SET R37107               ; SR751-1通信異常完了
CON
ENDS
STG @R115
TMS @5 #1
CON
AND @T5
RES R37102               ; SR751-1通信中
CON
SET R37101               ; SR751-1通信正常完了
CON
ENDS
END
ENDH
