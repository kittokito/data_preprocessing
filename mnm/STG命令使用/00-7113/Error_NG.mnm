DEVICE:53
;MODULE:Error_NG
;MODULE_TYPE:0
;<h1/>ｴﾗｰ処理部/Error processing unit
LD MR902                 ; ｴﾗｰ
ANB @MR015               ; ｴﾗｰ処理中
SET @MR015               ; ｴﾗｰ処理中
CON
SET @MR000               ; ｴﾗｰ処理開始
;処理開始/Start processing
STG @MR000               ; ｴﾗｰ処理開始
SET MR30115              ; (TP)BzRstSw 表示灯
CON
JMP @MR001
LDP MR30114              ; (TP)BzRstSw
RES MR30115              ; (TP)BzRstSw 表示灯
;ｴﾗｰ画面表示：ﾍﾟｰｼﾞ600/Error screen display: page 600
;解除待ち/Pending wait
STG @MR001
DW #600 EM30001          ; (TP)ﾍﾟｰｼﾞ画面切替用No.
MPS
AND MR30114              ; (TP)BzRstSw
SET MR114                ; NGﾘｾｯﾄ処理ﾌﾞｻﾞｰ解除
MRD
AND MR911                ; 検査NG（ｷｰsw解除必要Err）
MPS
AND MR005                ; ﾗﾝﾌﾟ点滅用(0.5S)
OUT MR30408              ; (TP)ｷｰsw要求LP
MPP
AND R2001                ; ｷｰｽｲｯﾁ
RES MR30115              ; (TP)BzRstSw 表示灯
CON
SET MR114                ; NGﾘｾｯﾄ処理ﾌﾞｻﾞｰ解除
CON
JMP @MR002
MPP
LDB MR911                ; 検査NG（ｷｰsw解除必要Err）
AND MR30114              ; (TP)BzRstSw
ANL
JMP @MR002
;ｽﾀｰﾄsw入力待ち/Wait for start sw input
STG @MR002
OUT MR202                ; ｴﾗｰ解除要求
CON
ANP R2000                ; ｽﾀｰﾄSW 
ANB MR900                ; 重度異常：電源再投入必要
JMP @MR003
;ｴﾗｰ終了：ﾌﾗｸﾞﾘｾｯﾄ/Error termination: Flag reset
STG @MR003
RES MR902                ; ｴﾗｰ
CON
RES MR114                ; NGﾘｾｯﾄ処理ﾌﾞｻﾞｰ解除
CON
DW #0 DM148              ; ｴﾗｰ詳細
CON
DW #0 DM149              ; ｴﾗｰ画面詳細ﾒｯｾｰｼﾞ
CON
RES @MR015               ; ｴﾗｰ処理中
CON
MPS
AND MR911                ; 検査NG（ｷｰsw解除必要Err）
JMP @MR004
MPP
ANB MR911                ; 検査NG（ｷｰsw解除必要Err）
JMP @MR005
;TP520：検査結果/TP 520: Inspection result
STG @MR004
DW #520 EM30001          ; (TP)ﾍﾟｰｼﾞ画面切替用No.
CON
RES MR911                ; 検査NG（ｷｰsw解除必要Err）
CON
ENDS
;TP500：ﾒｲﾝ画面/TP 500: Main screen
STG @MR005
MPS
ANB MR304                ; 原点復帰中
MPS
LDB MR30402              ; TP)装置ﾘｰｸ検査ﾓｰﾄﾞ
ANB MR30404              ; (TP)ﾘｰｸﾃｽﾀｰ公正ﾓｰﾄﾞ
ANB MR30406              ; (TP)ﾘｰｸﾃｽﾀｰNG調整ﾓｰﾄﾞ
ANB MR30100              ; (TP)手動ﾊﾞﾙﾌﾞON/OFF
ANL
DW #500 EM30001          ; (TP)ﾍﾟｰｼﾞ画面切替用No.
CON
ENDS
MRD
AND MR30402              ; TP)装置ﾘｰｸ検査ﾓｰﾄﾞ
MPS
ANB LR1915               ; New MC leak
DW #812 EM30001          ; (TP)ﾍﾟｰｼﾞ画面切替用No.
CON
ENDS
MPP
AND LR1915               ; New MC leak
DW #821 EM30001          ; (TP)ﾍﾟｰｼﾞ画面切替用No.
CON
ENDS
MRD
AND MR30404              ; (TP)ﾘｰｸﾃｽﾀｰ公正ﾓｰﾄﾞ
DW #817 EM30001          ; (TP)ﾍﾟｰｼﾞ画面切替用No.
CON
ENDS
MRD
AND MR30406              ; (TP)ﾘｰｸﾃｽﾀｰNG調整ﾓｰﾄﾞ
DW #818 EM30001          ; (TP)ﾍﾟｰｼﾞ画面切替用No.
CON
ENDS
MPP
AND MR30100              ; (TP)手動ﾊﾞﾙﾌﾞON/OFF
DW #801 EM30001          ; (TP)ﾍﾟｰｼﾞ画面切替用No.
CON
ENDS
MPP
AND MR304                ; 原点復帰中
DW #0 EM30001            ; (TP)ﾍﾟｰｼﾞ画面切替用No.
CON
ENDS
;<h1/>Err4ﾒﾓﾘｰｶｰﾄﾞｴﾗｰ/Err4 Memory card error
LD MR112                 ; ﾒﾓﾘｶｰﾄﾞｴﾗｰ
ORB CR3213               ; ﾒﾓﾘｶｰﾄﾞあり
ANB MR902                ; ｴﾗｰ
ANB @MR100
AND MR000                ; 保留/加筆中
DW #4 DM149              ; ｴﾗｰ画面詳細ﾒｯｾｰｼﾞ
CON
SET MR902                ; ｴﾗｰ
CON
SET MR31003              ; Err4ﾒﾓﾘｰｶｰﾄﾞｴﾗｰ
CON
@SET @MR100
;TP画面602：ﾒﾓﾘｰｶｰﾄﾞｴﾗｰ詳細/TP screen 602: Memory card error details
STG @MR100
SET MR900                ; 重度異常：電源再投入必要
CON
MPS
ANP MR30114              ; (TP)BzRstSw
DW #602 EM30001          ; (TP)ﾍﾟｰｼﾞ画面切替用No.
MPP
ANB MR902                ; ｴﾗｰ
RES MR112                ; ﾒﾓﾘｶｰﾄﾞｴﾗｰ
CON
RES MR31003              ; Err4ﾒﾓﾘｰｶｰﾄﾞｴﾗｰ
CON
ENDS
;<h1/>Err5通信ｴﾗｰ/Err 5 communication error
;<<通信エラー>>
;<<Communication error>>
LD MR901                 ; 通信ｴﾗｰ
ANB MR902                ; ｴﾗｰ
ANB @MR101
DW #5 DM149              ; ｴﾗｰ画面詳細ﾒｯｾｰｼﾞ
CON
SET MR902                ; ｴﾗｰ
CON
SET MR31004              ; Err5通信ｴﾗｰ
CON
@SET @MR101
STG @MR101
ANB MR902                ; ｴﾗｰ
RES MR901                ; 通信ｴﾗｰ
CON
RES MR31004              ; Err5通信ｴﾗｰ
CON
ENDS
;<h1/>Err6検査条件NG/Err 6 Inspection condition NG
;<<検査条件エラー>>
;<<Inspection condition error>>
LD MR907                 ; 検査条件ｴﾗｰﾌﾗｸﾞ
ANB MR902                ; ｴﾗｰ
ANB @MR102
DW #6 DM149              ; ｴﾗｰ画面詳細ﾒｯｾｰｼﾞ
CON
SET MR902                ; ｴﾗｰ
CON
SET MR31005              ; Err6検査条件NG
CON
@SET @MR102
;TP画面604：検査条件ｴﾗｰ詳細/TP screen 604: inspection condition error details
STG @MR102
MPS
ANP MR30114              ; (TP)BzRstSw
DW #604 EM30001          ; (TP)ﾍﾟｰｼﾞ画面切替用No.
MPP
ANB MR902                ; ｴﾗｰ
RES MR907                ; 検査条件ｴﾗｰﾌﾗｸﾞ
CON
RES MR31005              ; Err6検査条件NG
CON
ENDS
;<h1/>Err7元圧異常/Err 7 source pressure error
;<<元圧異常>>
;<<Main pressure abnormal>>
LDB R2002                ; 元圧空検出 
TMR @15 #50
CON
AND @T15
ANB @MR103
ANB MR902                ; ｴﾗｰ
DW #7 DM149              ; ｴﾗｰ画面詳細ﾒｯｾｰｼﾞ
CON
SET MR902                ; ｴﾗｰ
CON
SET MR31006              ; Err7元圧異常
CON
@SET @MR103
STG @MR103
MPS
LD MR304                 ; 原点復帰中
OR MR306                 ; 自動運転中
OR MR307                 ; ﾒﾝﾃ動作中
ANL
SET MR900                ; 重度異常：電源再投入必要
MPP
ANB MR902                ; ｴﾗｰ
RES MR31006              ; Err7元圧異常
CON
ENDS
;<h1/>Err13ｼﾘﾝﾀﾞｰｾﾝｻｰｴﾗｰ/Err 13 cylinder sensor error
;<<シリンダセンサエラー>>
;<<Cylinder sensor error>>
;下降:ﾎｰｽ押Vari/針ｼﾘﾝﾀﾞ出口供給継
;Down: Hose push Vari / needle cylinder outlet supply inheritance
LD CR2008                ; 運転開始時1ｽｷｬﾝON
DW #0 DM150              ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
LDB MR306                ; 自動運転中
CJ #1
LD MR8400                ; 下降:ﾎｰｽ押(Vari/針ｼﾘﾝﾀﾞ(出口供給
ANB R2100                ; 下限:ﾎｰｽ押(Vari/針ｼﾘﾝﾀﾞ(出口供給
LD MR8401                ; 上昇:ﾎｰｽ押(Vari/針ｼﾘﾝﾀﾞ(出口供給
AND R2100                ; 下限:ﾎｰｽ押(Vari/針ｼﾘﾝﾀﾞ(出口供給
ORL
LD DM824.5               ; 針ｼﾘﾝﾀﾞ上下有効(=ON
OR DM824.4               ; ﾎｰｽｸﾗﾝﾌﾟ有効(=ON
ANL
AND= DM150 #0            ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
TMR @0 #80
CON
AND @T0
DW #2100 DM150           ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
LD MR8400                ; 下降:ﾎｰｽ押(Vari/針ｼﾘﾝﾀﾞ(出口供給
AND R2101                ; 上限:ﾎｰｽ押(Vari/針ｼﾘﾝﾀﾞ(出口供給
LD MR8401                ; 上昇:ﾎｰｽ押(Vari/針ｼﾘﾝﾀﾞ(出口供給
ANB R2101                ; 上限:ﾎｰｽ押(Vari/針ｼﾘﾝﾀﾞ(出口供給
ORL
LD DM824.5               ; 針ｼﾘﾝﾀﾞ上下有効(=ON
OR DM824.4               ; ﾎｰｽｸﾗﾝﾌﾟ有効(=ON
ANL
AND= DM150 #0            ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
TMR @1 #80
CON
AND @T1
DW #2101 DM150           ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
LD MR8402                ; 針ｼﾘﾝﾀﾞ2下降(出口供給継手)
ANB R2102                ; 針ｼﾘﾝﾀﾞ2下限(出口供給継手)
LD MR8403                ; 針ｼﾘﾝﾀﾞ2上昇(出口供給継手)
AND R2102                ; 針ｼﾘﾝﾀﾞ2下限(出口供給継手)
ORL
AND DM824.5              ; 針ｼﾘﾝﾀﾞ上下有効(=ON
AND= DM150 #0            ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
TMR @2 #80
CON
AND @T2
DW #2102 DM150           ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
LD MR8402                ; 針ｼﾘﾝﾀﾞ2下降(出口供給継手)
AND R2103                ; 針ｼﾘﾝﾀﾞ2上限(出口供給継手)
LD MR8403                ; 針ｼﾘﾝﾀﾞ2上昇(出口供給継手)
ANB R2103                ; 針ｼﾘﾝﾀﾞ2上限(出口供給継手)
ORL
AND DM824.5              ; 針ｼﾘﾝﾀﾞ上下有効(=ON
AND= DM150 #0            ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
TMR @3 #80
CON
AND @T3
DW #2103 DM150           ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
LD MR8404                ; 針ｼﾘﾝﾀﾞ3下降(出口供給継手)
ANB R2104                ; 針ｼﾘﾝﾀﾞ3下限(出口供給継手)
LD MR8405                ; 針ｼﾘﾝﾀﾞ3上昇(出口供給継手)
AND R2104                ; 針ｼﾘﾝﾀﾞ3下限(出口供給継手)
ORL
AND DM824.5              ; 針ｼﾘﾝﾀﾞ上下有効(=ON
AND= DM150 #0            ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
TMR @4 #80
CON
AND @T4
DW #2104 DM150           ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
LD MR8404                ; 針ｼﾘﾝﾀﾞ3下降(出口供給継手)
AND R2105                ; 針ｼﾘﾝﾀﾞ3上限(出口供給継手)
LD MR8405                ; 針ｼﾘﾝﾀﾞ3上昇(出口供給継手)
ANB R2105                ; 針ｼﾘﾝﾀﾞ3上限(出口供給継手)
ORL
AND DM824.5              ; 針ｼﾘﾝﾀﾞ上下有効(=ON
AND= DM150 #0            ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
TMR @5 #80
CON
AND @T5
DW #2105 DM150           ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
;ﾏｰｷﾝｸﾞﾍﾟﾝ/Marking pen
LD MR8406                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝ1 前進(共通)
ANB R2106                ; ﾏｰｷﾝｸﾞﾍﾟﾝ1前進限(共通)
LD MR8407                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝ1 後退(共通)
AND R2106                ; ﾏｰｷﾝｸﾞﾍﾟﾝ1前進限(共通)
ORL
AND DM824.1              ; ﾏｰｷﾝｸﾞﾍﾟﾝ1有効(=ON
AND= DM150 #0            ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
TMR @6 #50
CON
AND @T6
DW #2106 DM150           ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
LD MR8406                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝ1 前進(共通)
AND R2107                ; ﾏｰｷﾝｸﾞﾍﾟﾝ1後退限(共通)
LD MR8407                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝ1 後退(共通)
ANB R2107                ; ﾏｰｷﾝｸﾞﾍﾟﾝ1後退限(共通)
ORL
AND DM824.1              ; ﾏｰｷﾝｸﾞﾍﾟﾝ1有効(=ON
AND= DM150 #0            ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
TMR @7 #50
CON
AND @T7
DW #2107 DM150           ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
LD MR8408                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝ2 前進(出口供給継手)
ANB R2108                ; ﾏｰｷﾝｸﾞﾍﾟﾝ2前進限(出口供給継手)
LD MR8409                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝ2 後退(出口供給継手)
AND R2108                ; ﾏｰｷﾝｸﾞﾍﾟﾝ2前進限(出口供給継手)
ORL
AND DM824.2              ; ﾏｰｷﾝｸﾞﾍﾟﾝ2有効(=ON
AND= DM150 #0            ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
TMR @8 #50
CON
AND @T8
DW #2108 DM150           ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
LD MR8408                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝ2 前進(出口供給継手)
AND R2109                ; ﾏｰｷﾝｸﾞﾍﾟﾝ2後退限(出口供給継手)
LD MR8409                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝ2 後退(出口供給継手)
ANB R2109                ; ﾏｰｷﾝｸﾞﾍﾟﾝ2後退限(出口供給継手)
ORL
AND DM824.2              ; ﾏｰｷﾝｸﾞﾍﾟﾝ2有効(=ON
AND= DM150 #0            ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
TMR @9 #50
CON
AND @T9
DW #2109 DM150           ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
LD MR8410                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝ3 前進(出口供給継手)
ANB R2110                ; ﾏｰｷﾝｸﾞﾍﾟﾝ3前進限(出口供給継手)
LD MR8411                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝ3 後退(出口供給継手)
AND R2110                ; ﾏｰｷﾝｸﾞﾍﾟﾝ3前進限(出口供給継手)
ORL
AND DM824.3              ; ﾏｰｷﾝｸﾞﾍﾟﾝ3有効(=ON
AND= DM150 #0            ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
TMR @10 #50
CON
AND @T10
DW #2110 DM150           ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
LD MR8410                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝ3 前進(出口供給継手)
AND R2111                ; ﾏｰｷﾝｸﾞﾍﾟﾝ3後退限(出口供給継手)
LD MR8411                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝ3 後退(出口供給継手)
ANB R2111                ; ﾏｰｷﾝｸﾞﾍﾟﾝ3後退限(出口供給継手)
ORL
AND DM824.3              ; ﾏｰｷﾝｸﾞﾍﾟﾝ3有効(=ON
AND= DM150 #0            ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
TMR @11 #50
CON
AND @T11
DW #2111 DM150           ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
LABEL #1
;ｼﾘﾝﾀﾞｰｾﾝｻｰｴﾗｰ処理/Cylinder sensor error processing
LD<> DM150 #0            ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
ANB MR902                ; ｴﾗｰ
ANB @MR105
DW #13 DM149             ; ｴﾗｰ画面詳細ﾒｯｾｰｼﾞ
CON
SET MR902                ; ｴﾗｰ
CON
SET MR31012              ; Err13ｼﾘﾝﾀﾞｰｾﾝｻｰｴﾗｰ
CON
@SET @MR105
STG @MR105
MPS
ANP MR30114              ; (TP)BzRstSw
DW #606 EM30001          ; (TP)ﾍﾟｰｼﾞ画面切替用No.
MPP
ANB MR902                ; ｴﾗｰ
DW #0 DM150              ; ｼﾘﾝﾀﾞｰｴﾗｰ番号
CON
RES MR31012              ; Err13ｼﾘﾝﾀﾞｰｾﾝｻｰｴﾗｰ
CON
ENDS
END
ENDH
