DEVICE:53
;MODULE:Sensor
;MODULE_TYPE:0
;OneSystem UserOpen-Module
;
;-----------------------------------------
;ModuleName	:	SENSOR
;ModuleType	:	User Open Module
;Function	:	SENSOR Monitor
;-----------------------------------------
;*1送信毎に送信ﾌｧｲﾙ削除
;Copylight(C) 2011 SEIKO EPSON Corp. All rights reserved.
;<h1/>TASK 0　ｼﾘﾝﾀﾞｰ ｾﾝｻｰ監視
;
LD R46100                ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R46101                ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R46102                ; _ﾒﾝﾃﾅﾝｽ運転中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46200               ; _安全ｶﾊﾞｰ1開中
ANB R39004               ; ｴﾗｰ中
ANB R59915               ; _運転ﾓｰﾄﾞ指定
MC
;TASK0　SUSﾘﾝｸﾞ搬送
LD CR2002                ; 常時ON
MPS
LD MR7508                ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ(上)閉じ
ANB MR7509               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ(上)開き
LDB R4108                ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ1(上) 閉じ端
OR R4109                 ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ1(上) 開き端
ANL
ANL
TMR @0 #20
CON
AND @T0
AND CR2003               ; 常時OFF
DW #4108 DM60009         ; Sensor ERROR No.
CON
SET MR4108               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ1(上) 閉じ端異常
MPP
LDB MR7508               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ(上)閉じ
AND MR7509               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ(上)開き
LDB R4109                ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ1(上) 開き端
OR R4108                 ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ1(上) 閉じ端
ANL
ANL
TMR @1 #20
CON
AND @T1
DW #4109 DM60009         ; Sensor ERROR No.
CON
SET MR4109               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ1(上) 開き端異常
LD CR2002                ; 常時ON
MPS
LD MR7602                ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ(下)閉じ
ANB MR7603               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ(下)開き
LDB R4110                ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ2(下) 閉じ端
OR R4111                 ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ2(下) 開き端
ANL
ANL
TMR @2 #20
CON
AND @T2
DW #4110 DM60009         ; Sensor ERROR No.
CON
SET MR4110               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ2(下) 閉じ端異常
MPP
LDB MR7602               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ(下)閉じ
AND MR7603               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ(下)開き
LDB R4111                ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ2(下) 開き端
OR R4110                 ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ2(下) 閉じ端
ANL
ANL
TMR @3 #20
CON
AND @T3
DW #4111 DM60009         ; Sensor ERROR No.
CON
SET MR4111               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ2(下) 開き端異常
LD CR2002                ; 常時ON
MPS
LD MR7510                ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ上昇
ANB MR7511               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ下降
LDB R4112                ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ 上昇端
OR R4113                 ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ 下降端
ANL
ANL
TMR @4 #20
CON
AND @T4
DW #4112 DM60009         ; Sensor ERROR No.
CON
SET MR4112               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ 上昇端異常
MPP
LDB MR7510               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ上昇
AND MR7511               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ下降
LDB R4113                ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ 下降端
OR R4112                 ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ 上昇端
ANL
ANL
TMR @5 #20
CON
AND @T5
DW #4113 DM60009         ; Sensor ERROR No.
CON
SET MR4113               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ 下降端異常
LD CR2002                ; 常時ON
MPS
LD MR7512                ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ退避
ANB MR7513               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ戻し
LDB R4114                ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ待避 待避側
OR R4115                 ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ待避 戻り側
ANL
ANL
TMR @6 #20
CON
AND @T6
DW #4114 DM60009         ; Sensor ERROR No.
CON
SET MR4114               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ待避 待避側異常
MPP
LDB MR7512               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ退避
AND MR7513               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ戻し
LDB R4115                ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ待避 戻り側
OR R4114                 ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ待避 待避側
ANL
ANL
TMR @7 #20
CON
AND @T7
DW #4115 DM60009         ; Sensor ERROR No.
CON
SET MR4115               ; SUSﾘﾝｸﾞ搬送 ﾁｬｯｸ待避 戻り側異常
;TASK1　ﾏｶﾞｼﾞﾝﾗｯｸ
LD CR2002                ; 常時ON
MPS
LD MR7300                ; ﾏｶﾞｼﾞﾝｾｯﾄ ｸﾗﾝﾌﾟ
ANB MR7301               ; ﾏｶﾞｼﾞﾝｾｯﾄ ｸﾗﾝﾌﾟ解除
LDB R4100                ; MGｾｯﾄ ｸﾗﾝﾌﾟ閉じ端
OR R4101                 ; MGｾｯﾄ ｸﾗﾝﾌﾟ開き端
ANL
ANL
TMR @10 #20
CON
AND @T10
DW #4100 DM60009         ; Sensor ERROR No.
CON
SET MR4100               ; MGｾｯﾄ ｸﾗﾝﾌﾟ閉じ端異常
MPP
LDB MR7300               ; ﾏｶﾞｼﾞﾝｾｯﾄ ｸﾗﾝﾌﾟ
AND MR7301               ; ﾏｶﾞｼﾞﾝｾｯﾄ ｸﾗﾝﾌﾟ解除
LDB R4101                ; MGｾｯﾄ ｸﾗﾝﾌﾟ開き端
OR R4100                 ; MGｾｯﾄ ｸﾗﾝﾌﾟ閉じ端
ANL
ANL
TMR @11 #20
CON
AND @T11
DW #4101 DM60009         ; Sensor ERROR No.
CON
SET MR4101               ; MGｾｯﾄ ｸﾗﾝﾌﾟ開き端異常
;TASK2　USｸﾘｰﾅ
LD CR2002                ; 常時ON
MPS
LD MR7306                ; SUSﾘﾝｸﾞ搬送部 SUSﾘﾝｸﾞ押え 閉じ
ANB MR7307               ; SUSﾘﾝｸﾞ搬送部 SUSﾘﾝｸﾞ押え 開き
ANL
MPS
LDB R4200                ; SUSﾘﾝｸﾞ搬送 ﾘﾝｸﾞ押え1(左) 閉側
OR R4201                 ; SUSﾘﾝｸﾞ搬送 ﾘﾝｸﾞ押え1(左) 開側
ANL
TMR @20 #20
CON
AND @T20
DW #4200 DM60009         ; Sensor ERROR No.
CON
SET MR4200               ; SUSﾘﾝｸﾞ押え1(左) 閉側異常
MPP
LDB R4202                ; SUSﾘﾝｸﾞ搬送 ﾘﾝｸﾞ押え2(右) 閉側
OR R4203                 ; SUSﾘﾝｸﾞ搬送 ﾘﾝｸﾞ押え2(右) 開側
ANL
TMR @21 #20
CON
AND @T21
DW #4202 DM60009         ; Sensor ERROR No.
CON
SET MR4202               ; SUSﾘﾝｸﾞ押え2(右) 閉側異常
MPP
LDB MR7306               ; SUSﾘﾝｸﾞ搬送部 SUSﾘﾝｸﾞ押え 閉じ
AND MR7307               ; SUSﾘﾝｸﾞ搬送部 SUSﾘﾝｸﾞ押え 開き
ANL
MPS
LDB R4201                ; SUSﾘﾝｸﾞ搬送 ﾘﾝｸﾞ押え1(左) 開側
OR R4200                 ; SUSﾘﾝｸﾞ搬送 ﾘﾝｸﾞ押え1(左) 閉側
ANL
TMR @22 #20
CON
AND @T22
DW #4201 DM60009         ; Sensor ERROR No.
CON
SET MR4201               ; SUSﾘﾝｸﾞ押え1(左) 開側異常
MPP
LDB R4203                ; SUSﾘﾝｸﾞ搬送 ﾘﾝｸﾞ押え2(右) 開側
OR R4202                 ; SUSﾘﾝｸﾞ搬送 ﾘﾝｸﾞ押え2(右) 閉側
ANL
TMR @23 #20
CON
AND @T23
DW #4203 DM60009         ; Sensor ERROR No.
CON
SET MR4203               ; SUSﾘﾝｸﾞ押え2(右) 開側異常
LD CR2002                ; 常時ON
MPS
LD MR7308                ; SUSﾘﾝｸﾞ搬送部 吸着ﾌﾟﾚｰﾄ 上昇
ANB MR7309               ; SUSﾘﾝｸﾞ搬送部 吸着ﾌﾟﾚｰﾄ 下降
LDB R4204                ; SUSﾘﾝｸﾞ搬送 吸着ﾌﾟﾚｰﾄ 上昇端
OR R4205                 ; SUSﾘﾝｸﾞ搬送 吸着ﾌﾟﾚｰﾄ 下降端
ANL
ANL
TMR @24 #20
CON
AND @T24
DW #4204 DM60009         ; Sensor ERROR No.
CON
SET MR4204               ; SUSﾘﾝｸﾞ搬送 吸着ﾌﾟﾚｰﾄ 上昇端異常
MPP
LDB MR7308               ; SUSﾘﾝｸﾞ搬送部 吸着ﾌﾟﾚｰﾄ 上昇
AND MR7309               ; SUSﾘﾝｸﾞ搬送部 吸着ﾌﾟﾚｰﾄ 下降
LDB R4205                ; SUSﾘﾝｸﾞ搬送 吸着ﾌﾟﾚｰﾄ 下降端
OR R4204                 ; SUSﾘﾝｸﾞ搬送 吸着ﾌﾟﾚｰﾄ 上昇端
ANL
ANL
TMR @25 #20
CON
AND @T25
DW #4205 DM60009         ; Sensor ERROR No.
CON
SET MR4205               ; SUSﾘﾝｸﾞ搬送 吸着ﾌﾟﾚｰﾄ 下降端異常
LD CR2002                ; 常時ON
MPS
LD MR7302                ; USｸﾘｰﾅ 下降
LDB R4206                ; USｸﾘｰﾅ 下降端
OR R4207                 ; USｸﾘｰﾅ 上昇端
ANL
ANL
TMR @26 #20
CON
AND @T26
DW #4206 DM60009         ; Sensor ERROR No.
CON
SET MR4206               ; USｸﾘｰﾅ 下降端異常
MPP
LDB MR7302               ; USｸﾘｰﾅ 下降
LDB R4207                ; USｸﾘｰﾅ 上昇端
OR R4206                 ; USｸﾘｰﾅ 下降端
ANL
ANL
TMR @27 #20
CON
AND @T27
DW #4207 DM60009         ; Sensor ERROR No.
CON
SET MR4207               ; USｸﾘｰﾅ 上昇端異常
;TASK3　CAV剥離
LD CR2002                ; 常時ON
MPS
LD MR7310                ; CAV剥離 ｶﾞｲﾄﾞ 下降
ANB MR7311               ; CAV剥離 ｶﾞｲﾄﾞ 上昇
LDB R4300                ; CAV剥離 ｶﾞｲﾄﾞ 下降端
OR R4301                 ; CAV剥離 ｶﾞｲﾄﾞ 上昇端
ANL
ANL
TMR @30 #30
CON
AND @T30
DW #4300 DM60009         ; Sensor ERROR No.
CON
SET MR4300               ; CAV剥離 ｶﾞｲﾄﾞ 下降端異常
MPP
LDB MR7310               ; CAV剥離 ｶﾞｲﾄﾞ 下降
AND MR7311               ; CAV剥離 ｶﾞｲﾄﾞ 上昇
LDB R4301                ; CAV剥離 ｶﾞｲﾄﾞ 上昇端
OR R4300                 ; CAV剥離 ｶﾞｲﾄﾞ 下降端
ANL
ANL
TMR @31 #30
CON
AND @T31
DW #4301 DM60009         ; Sensor ERROR No.
CON
SET MR4301               ; CAV剥離 ｶﾞｲﾄﾞ 上昇端異常
LD CR2002                ; 常時ON
MPS
LD MR7312                ; CAV剥離 ﾌﾚｰﾑ押え 押え
ANB MR7313               ; CAV剥離 ﾌﾚｰﾑ押え 解放
ANL
MPS
LDB R4302                ; CAV剥離 ﾌﾚｰﾑ押え1 押え端
OR R4303                 ; CAV剥離 ﾌﾚｰﾑ押え1 戻り端
ANL
TMR @32 #20
CON
AND @T32
DW #4302 DM60009         ; Sensor ERROR No.
CON
SET MR4302               ; CAV剥離 ﾌﾚｰﾑ押え1 押え端異常
MPP
LDB R4304                ; CAV剥離 ﾌﾚｰﾑ押え2 押え端
OR R4305                 ; CAV剥離 ﾌﾚｰﾑ押え2 戻り端
ANL
TMR @33 #20
CON
AND @T33
DW #4304 DM60009         ; Sensor ERROR No.
CON
SET MR4304               ; CAV剥離 ﾌﾚｰﾑ押え2 押え端異常
MPP
LDB MR7312               ; CAV剥離 ﾌﾚｰﾑ押え 押え
AND MR7313               ; CAV剥離 ﾌﾚｰﾑ押え 解放
ANL
MPS
LDB R4303                ; CAV剥離 ﾌﾚｰﾑ押え1 戻り端
OR R4302                 ; CAV剥離 ﾌﾚｰﾑ押え1 押え端
ANL
TMR @34 #20
CON
AND @T34
DW #4303 DM60009         ; Sensor ERROR No.
CON
SET MR4303               ; CAV剥離 ﾌﾚｰﾑ押え1 解放端異常
MPP
LDB R4305                ; CAV剥離 ﾌﾚｰﾑ押え2 戻り端
OR R4304                 ; CAV剥離 ﾌﾚｰﾑ押え2 押え端
ANL
TMR @35 #20
CON
AND @T35
DW #4305 DM60009         ; Sensor ERROR No.
CON
SET MR4305               ; CAV剥離 ﾌﾚｰﾑ押え2 解放端異常
LD CR2002                ; 常時ON
MPS
LD MR7314                ; CAV剥離 F押えｴｽｹｰﾌﾟ 押え側移動
ANB MR7315               ; CAV剥離 F押えｴｽｹｰﾌﾟ 逃げ側移動
ANL
MPS
LDB R4306                ; CAV剥離 ﾌﾚｰﾑ押えｴｽｹｰﾌﾟ1 押え側端
OR R4307                 ; CAV剥離 ﾌﾚｰﾑ押えｴｽｹｰﾌﾟ1 逃げ側端
ANL
TMR @36 #20
CON
AND @T36
DW #4306 DM60009         ; Sensor ERROR No.
CON
SET MR4306               ; CAV剥離 F押えｴｽｹｰﾌﾟ1押え側端異常
MPP
LDB R4308                ; CAV剥離 ﾌﾚｰﾑ押えｴｽｹｰﾌﾟ2 押え側端
OR R4309                 ; CAV剥離 ﾌﾚｰﾑ押えｴｽｹｰﾌﾟ2 逃げ側端
ANL
TMR @37 #20
CON
AND @T37
DW #4308 DM60009         ; Sensor ERROR No.
CON
SET MR4308               ; CAV剥離 F押えｴｽｹｰﾌﾟ2押え側端異常
MPP
LDB MR7314               ; CAV剥離 F押えｴｽｹｰﾌﾟ 押え側移動
AND MR7315               ; CAV剥離 F押えｴｽｹｰﾌﾟ 逃げ側移動
ANL
MPS
LDB R4307                ; CAV剥離 ﾌﾚｰﾑ押えｴｽｹｰﾌﾟ1 逃げ側端
OR R4306                 ; CAV剥離 ﾌﾚｰﾑ押えｴｽｹｰﾌﾟ1 押え側端
ANL
TMR @38 #20
CON
AND @T38
DW #4307 DM60009         ; Sensor ERROR No.
CON
SET MR4307               ; CAV剥離 F押えｴｽｹｰﾌﾟ1逃げ側端異常
MPP
LDB R4309                ; CAV剥離 ﾌﾚｰﾑ押えｴｽｹｰﾌﾟ2 逃げ側端
OR R4308                 ; CAV剥離 ﾌﾚｰﾑ押えｴｽｹｰﾌﾟ2 押え側端
ANL
TMR @39 #20
CON
AND @T39
DW #4309 DM60009         ; Sensor ERROR No.
CON
SET MR4309               ; CAV剥離 F押えｴｽｹｰﾌﾟ2逃げ側端異常
LD CR2002                ; 常時ON
MPS
LD MR7400                ; CAV剥離 ｶﾊﾞｰ 上昇
ANB MR7401               ; CAV剥離 ｶﾊﾞｰ 下降
LDB R4402                ; CAV剥離 剥離ｶﾊﾞｰ 上昇端
OR R4403                 ; CAV剥離 剥離ｶﾊﾞｰ 下降端
ANL
ANL
TMR @40 #20
CON
AND @T40
DW #4402 DM60009         ; Sensor ERROR No.
CON
SET MR4402               ; CAV剥離 剥離ｶﾊﾞｰ 上昇端異常
MPP
LDB MR7400               ; CAV剥離 ｶﾊﾞｰ 上昇
AND MR7401               ; CAV剥離 ｶﾊﾞｰ 下降
LDB R4403                ; CAV剥離 剥離ｶﾊﾞｰ 下降端
OR R4402                 ; CAV剥離 剥離ｶﾊﾞｰ 上昇端
ANL
ANL
TMR @41 #20
CON
AND @T41
DW #4403 DM60009         ; Sensor ERROR No.
CON
SET MR4403               ; CAV剥離 剥離ｶﾊﾞｰ 下降端異常
LD CR2002                ; 常時ON
MPS
LD MR7402                ; CAV剥離 ｶﾊﾞｰ 前進
ANB MR7403               ; CAV剥離 ｶﾊﾞｰ 後退
LDB R4404                ; CAV剥離 剥離ｶﾊﾞｰ 前進端
OR R4405                 ; CAV剥離 剥離ｶﾊﾞｰ 後退端
ANL
ANL
TMR @42 #50
CON
AND @T42
DW #4404 DM60009         ; Sensor ERROR No.
CON
SET MR4404               ; CAV剥離 剥離ｶﾊﾞｰ 前進端異常
MPP
LDB MR7402               ; CAV剥離 ｶﾊﾞｰ 前進
AND MR7403               ; CAV剥離 ｶﾊﾞｰ 後退
LDB R4405                ; CAV剥離 剥離ｶﾊﾞｰ 後退端
OR R4404                 ; CAV剥離 剥離ｶﾊﾞｰ 前進端
ANL
ANL
TMR @43 #50
CON
AND @T43
DW #4405 DM60009         ; Sensor ERROR No.
CON
SET MR4405               ; CAV剥離 剥離ｶﾊﾞｰ 後退端異常
;TASK4　CAV搬送RB
LD CR2002                ; 常時ON
MPS
LD MR7500                ; CAV搬送RB 照明下降
ANB MR7501               ; CAV搬送RB 照明上昇
LDB R4400                ; CAV搬送RB 照明 下降端
OR R4401                 ; CAV搬送RB 照明 上昇端
ANL
ANL
TMR @46 #20
CON
AND @T46
DW #4400 DM60009         ; Sensor ERROR No.
CON
SET MR4400               ; CAV搬送RB 照明 下降端異常
MPP
LDB MR7500               ; CAV搬送RB 照明下降
AND MR7501               ; CAV搬送RB 照明上昇
LDB R4401                ; CAV搬送RB 照明 上昇端
OR R4400                 ; CAV搬送RB 照明 下降端
ANL
ANL
TMR @47 #20
CON
AND @T47
DW #4401 DM60009         ; Sensor ERROR No.
CON
SET MR4401               ; CAV搬送RB 照明 上昇端異常
;TASK5　反転搬送
LD CR2002                ; 常時ON
MPS
LD MR7504                ; CAV反転 反転
ANB MR7505               ; CAV反転 反転戻し
LDB R4502                ; CAV反転 反転端
OR R4503                 ; CAV反転 反転戻り端
ANL
ANL
TMR @50 #20
CON
AND @T50
DW #4502 DM60009         ; Sensor ERROR No.
CON
SET MR4502               ; CAV反転 反転端異常
MPP
LDB MR7504               ; CAV反転 反転
AND MR7505               ; CAV反転 反転戻し
LDB R4503                ; CAV反転 反転戻り端
OR R4502                 ; CAV反転 反転端
ANL
ANL
TMR @51 #20
CON
AND @T51
DW #4503 DM60009         ; Sensor ERROR No.
CON
SET MR4503               ; CAV反転 反転戻り端異常
LD CR2002                ; 常時ON
MPS
LD MR7506                ; CAV反転 下降
ANB MR7507               ; CAV反転 上昇
LDB R4504                ; CAV反転 下降端
OR R4505                 ; CAV反転 上昇端
ANL
ANL
TMR @52 #20
CON
AND @T52
DW #4504 DM60009         ; Sensor ERROR No.
CON
SET MR4504               ; CAV反転 下降端異常
MPP
LDB MR7506               ; CAV反転 下降
AND MR7507               ; CAV反転 上昇
LDB R4505                ; CAV反転 上昇端
OR R4504                 ; CAV反転 下降端
ANL
ANL
TMR @53 #20
CON
AND @T53
DW #4505 DM60009         ; Sensor ERROR No.
CON
SET MR4505               ; CAV反転 上昇端異常
LD CR2002                ; 常時ON
MPS
LD R4502                 ; CAV反転 反転端
LD MR7503                ; CAV反転 位置決めﾋﾟﾝ 下降
ANB MR7502               ; CAV反転 位置決めﾋﾟﾝ 上昇
AND R4508                ; CAV反転 位置決めﾋﾟﾝ 下面引込検出
LDB MR7503               ; CAV反転 位置決めﾋﾟﾝ 下降
AND MR7502               ; CAV反転 位置決めﾋﾟﾝ 上昇
AND R4509                ; CAV反転 位置決めﾋﾟﾝ 上面出検出
ORL
ANL
ANL
TMR @54 #20
CON
AND @T54
DW #4508 DM60009         ; Sensor ERROR No.
CON
SET MR4508               ; CAV反転 位置決めﾋﾟﾝ 下面引込異常
MPP
LD R4503                 ; CAV反転 反転戻り端
LD MR7503                ; CAV反転 位置決めﾋﾟﾝ 下降
ANB MR7502               ; CAV反転 位置決めﾋﾟﾝ 上昇
AND R4509                ; CAV反転 位置決めﾋﾟﾝ 上面出検出
LDB MR7503               ; CAV反転 位置決めﾋﾟﾝ 下降
AND MR7502               ; CAV反転 位置決めﾋﾟﾝ 上昇
ANB R4509                ; CAV反転 位置決めﾋﾟﾝ 上面出検出
ORL
ANL
ANL
TMR @55 #20
CON
AND @T55
DW #4509 DM60009         ; Sensor ERROR No.
CON
SET MR4509               ; CAV反転 位置決めﾋﾟﾝ 上面出異常
;TASK6　SUSﾘﾝｸﾞ収納
LD CR2002                ; 常時ON
MPS
LD MR7514                ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ下降
ANB MR7515               ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ上昇
LDB R4408                ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ下降端
OR R4409                 ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ上昇端
ANL
ANL
TMR @60 #20
CON
AND @T60
DW #4408 DM60009         ; Sensor ERROR No.
CON
SET MR4408               ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ下降端異常
MPP
LDB MR7514               ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ下降
AND MR7515               ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ上昇
LDB R4409                ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ上昇端
OR R4408                 ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ下降端
ANL
ANL
TMR @61 #20
CON
AND @T61
DW #4409 DM60009         ; Sensor ERROR No.
CON
SET MR4409               ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ上昇端異常
LD CR2002                ; 常時ON
MPS
LD MR7600                ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ前進(受取側)
ANB MR7601               ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ後退(収納側)
LDB R4410                ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ前進端(受取)
OR R4411                 ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ後退端(収納)
ANL
ANL
TMR @62 #20
CON
AND @T62
DW #4410 DM60009         ; Sensor ERROR No.
CON
SET MR4410               ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ前進端異常
MPP
LDB MR7600               ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ前進(受取側)
AND MR7601               ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ後退(収納側)
LDB R4411                ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ後退端(収納)
OR R4410                 ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ前進端(受取)
ANL
ANL
TMR @63 #20
CON
AND @T63
DW #4411 DM60009         ; Sensor ERROR No.
CON
SET MR4411               ; SUSﾘﾝｸﾞ収納 吸着ﾊﾝﾄﾞ後退端異常
MCR
;TASK0 Sensor ERROR
LD>= DM60009 #4108       ; Sensor ERROR No.
AND<= DM60009 #4115      ; Sensor ERROR No.
ANB R39004               ; ｴﾗｰ中
SET R39004               ; ｴﾗｰ中
CON
DW #0 @DM0
CON
DW #0 @DM1
CON
DW $1000 @DM9
CON
LDA DM60009              ; Sensor ERROR No.
CON
STA @DM2
CON
SET @R100
CON
SET @R000
;TASK1 Sensor ERROR
LD>= DM60009 #4100       ; Sensor ERROR No.
AND<= DM60009 #4101      ; Sensor ERROR No.
ANB R39004               ; ｴﾗｰ中
SET R39004               ; ｴﾗｰ中
CON
DW #1 @DM0
CON
DW #0 @DM1
CON
DW $1000 @DM9
CON
LDA DM60009              ; Sensor ERROR No.
CON
STA @DM2
CON
SET @R100
CON
SET @R000
;TASK2 Sensor ERROR
LD>= DM60009 #4200       ; Sensor ERROR No.
AND<= DM60009 #4207      ; Sensor ERROR No.
ANB R39004               ; ｴﾗｰ中
SET R39004               ; ｴﾗｰ中
CON
DW #2 @DM0
CON
DW #0 @DM1
CON
DW $1000 @DM9
CON
LDA DM60009              ; Sensor ERROR No.
CON
STA @DM2
CON
SET @R100
CON
SET @R000
;TASK3 Sensor ERROR
LD>= DM60009 #4300       ; Sensor ERROR No.
AND<= DM60009 #4309      ; Sensor ERROR No.
LD>= DM60009 #4402       ; Sensor ERROR No.
AND<= DM60009 #4405      ; Sensor ERROR No.
ORL
ANB R39004               ; ｴﾗｰ中
SET R39004               ; ｴﾗｰ中
CON
DW #3 @DM0
CON
DW #0 @DM1
CON
DW $1000 @DM9
CON
LDA DM60009              ; Sensor ERROR No.
CON
STA @DM2
CON
SET @R100
CON
SET @R000
;TASK4 Sensor ERROR
LD>= DM60009 #4400       ; Sensor ERROR No.
AND<= DM60009 #4401      ; Sensor ERROR No.
ANB R39004               ; ｴﾗｰ中
SET R39004               ; ｴﾗｰ中
CON
DW #4 @DM0
CON
DW #0 @DM1
CON
DW $1000 @DM9
CON
LDA DM60009              ; Sensor ERROR No.
CON
STA @DM2
CON
SET @R100
CON
SET @R000
;TASK5 Sensor ERROR
LD>= DM60009 #4502       ; Sensor ERROR No.
AND<= DM60009 #4505      ; Sensor ERROR No.
LD>= DM60009 #4508       ; Sensor ERROR No.
AND<= DM60009 #4509      ; Sensor ERROR No.
ORL
ANB R39004               ; ｴﾗｰ中
SET R39004               ; ｴﾗｰ中
CON
DW #5 @DM0
CON
DW #0 @DM1
CON
DW $1000 @DM9
CON
LDA DM60009              ; Sensor ERROR No.
CON
STA @DM2
CON
SET @R100
CON
SET @R000
;TASK6 Sensor ERROR
LD>= DM60009 #4408       ; Sensor ERROR No.
AND<= DM60009 #4411      ; Sensor ERROR No.
ANB R39004               ; ｴﾗｰ中
SET R39004               ; ｴﾗｰ中
CON
DW #6 @DM0
CON
DW #0 @DM1
CON
DW $1000 @DM9
CON
LDA DM60009              ; Sensor ERROR No.
CON
STA @DM2
CON
SET @R100
CON
SET @R000
;
STG @R000
AND @R101
RES @R101
CON
RES R39004               ; ｴﾗｰ中
CON
ZRES MR4100 MR4515       ; MGｾｯﾄ ｸﾗﾝﾌﾟ閉じ端異常
CON
DW #0 DM60009            ; Sensor ERROR No.
CON
ENDS
;MyTask Error Process Substance/エラー処理実体
STG @R100
ANB R39002               ; ERROR_DISP Busy
MPS
ZRES @R105 @R108
CON
DISN @DM9 @DM3 #4
MRD
BMOV @DM0 DM60000 #7     ; TaskNo /ERROR_DISP
MPP
SET R39000               ; ERROR_DISP Start
CON
SET @R102
CON
JMP @R103
STG @R103
AND R39002               ; ERROR_DISP Busy
AND= DM60008 @DM1        ; ReturnNo /ERROR_DISP
JMP @R104
STG @R104
ANB R39002               ; ERROR_DISP Busy
RES @R102
CON
SET @R101
CON
ENDS
END
ENDH
