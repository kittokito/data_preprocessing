DEVICE:53
;MODULE:BringDown_Scan
;MODULE_TYPE:0
;OneSystem UserOpen-Module
;
;-----------------------------------------
;ModuleName	:	BringDown_Scan
;ModuleType	:	UserOpen Module
;Function	:	User Open Function
;-----------------------------------------
;
;Copylight(C) 2011 SEIKO EPSON Corp. All rights reserved.
;[ﾕｰｻﾞｰ解放ﾌｧﾝｸｼｮﾝ共通注意事項]
;・ﾕｰｻﾞｰｵｰﾌﾟﾝｴﾘｱ以外は変更しないで下さい。
;・各Functionの作成上の注意点をよく読んで使用して下さい。
;↓Please do not delete.
;非常停止発生時STGｸﾘｱ
LDP R46104
ZRES @R000 @R015
CON
ZRES @R1000 @R8915
;↑Please do not delete.
;<h1/>*Common/共通
;<h1/>Data_Distribut/ﾃﾞｰﾀ変換
;[起動するﾀｲﾐﾝｸﾞ]
;・初期化ﾓｼﾞｭｰﾙ起動直後
;・ﾊﾟﾗﾒｰﾀ変更後
;・運転ﾓｰﾄﾞ開始時(HOME,AUTO,MAINTE初回)
;[作成上の注意点]
;・ﾕｰｻﾞｰｵｰﾌﾟﾝｴﾘｱ以外は修正しないで下さい。
;・動作命令、待ち要素がある記述は禁止します。
;・ﾃﾞｰﾀ処理ﾌﾟﾛｸﾞﾗﾑのみ記述して下さい。
;・STG〜JMP命令は@R001〜014を使用して下さい。
;・処理終了後は必ず@R015へJMPして下さい。
LD CR2008
SET R40404
LD R40404
SET @R000
;//User Open Area Header
STG @R000
JMP @R015
;//User Open Area Footer
STG @R015
RES R40404
CON
ENDS
;<h1/>Estop_Handle/非常停止発生時
;[作成上の注意点]
;・待ち要素、動作命令記述は禁止します。
;・ﾕｰｻﾞｰI/O、ｸﾞﾛｰﾊﾞﾙｱﾄﾞﾚｽの初期化などを行って下さい。
;・STG〜JMP命令は@R101〜114を使用して下さい。
;・終了時は必ず@R115へJMPして下さい。
LD R40405
SET @R100
;//User Open Area Header
STG @R100
JMP @R115
;//User Open Area Footer
STG @R115
RES R40405
CON
ENDS
;<h1/>Estop_Revival/非常停止復帰時
;[作成上の注意点]
;・待ち要素、動作命令記述は禁止します。
;・STG〜JMP命令は@R201〜214を使用して下さい。
;・終了時は必ず@R215へJMPして下さい。
LD R40406
SET @R200
;//User Open Area Header
STG @R200
JMP @R215
;//User Open Area Footer
STG @R215
RES R40406
CON
ENDS
;<h1/>Tower_Lamp/ﾕｰｻﾞｰｶｽﾀﾑﾀﾜｰﾗﾝﾌﾟ
;User Custom1/ﾕｰｻﾞｰｶｽﾀﾑ1
;[作成上の注意点]
;・ﾕｰｻﾞｰ仕様ﾀﾜｰﾗﾝﾌﾟ処理を記述して下さい。
;・使用するｸﾞﾙｰﾌﾟ数分記述が必要です。
;・必ずMC〜MCRの範囲内に記述して下さい。
LD= DM9210 #1
MC
MCR
;User Custom2/ﾕｰｻﾞｰｶｽﾀﾑ2
;[作成上の注意点]
;・ﾕｰｻﾞｰ仕様ﾀﾜｰﾗﾝﾌﾟ処理を記述して下さい。
;・使用するｸﾞﾙｰﾌﾟ数分記述が必要です。
;・必ずMC〜MCRの範囲内に記述して下さい。
LD= DM9210 #2
MC
MCR
;User Custom3/ﾕｰｻﾞｰｶｽﾀﾑ3
;[作成上の注意点]
;・ﾕｰｻﾞｰ仕様ﾀﾜｰﾗﾝﾌﾟ処理を記述して下さい。
;・使用するｸﾞﾙｰﾌﾟ数分記述が必要です。
;・必ずMC〜MCRの範囲内に記述して下さい。
LD= DM9210 #3
MC
MCR
;User Custom4/ﾕｰｻﾞｰｶｽﾀﾑ4
;[作成上の注意点]
;・ﾕｰｻﾞｰ仕様ﾀﾜｰﾗﾝﾌﾟ処理を記述して下さい。
;・使用するｸﾞﾙｰﾌﾟ数分記述が必要です。
;・必ずMC〜MCRの範囲内に記述して下さい。
LD= DM9210 #4
MC
MCR
;User Custom5/ﾕｰｻﾞｰｶｽﾀﾑ5
;[作成上の注意点]
;・ﾕｰｻﾞｰ仕様ﾀﾜｰﾗﾝﾌﾟ処理を記述して下さい。
;・使用するｸﾞﾙｰﾌﾟ数分記述が必要です。
;・必ずMC〜MCRの範囲内に記述して下さい。
LD= DM9210 #5
MC
MCR
;User Custom6/ﾕｰｻﾞｰｶｽﾀﾑ6
;[作成上の注意点]
;・ﾕｰｻﾞｰ仕様ﾀﾜｰﾗﾝﾌﾟ処理を記述して下さい。
;・使用するｸﾞﾙｰﾌﾟ数分記述が必要です。
;・必ずMC〜MCRの範囲内に記述して下さい。
LD= DM9210 #6
MC
MCR
;User Custom7/ﾕｰｻﾞｰｶｽﾀﾑ7
;[作成上の注意点]
;・ﾕｰｻﾞｰ仕様ﾀﾜｰﾗﾝﾌﾟ処理を記述して下さい。
;・使用するｸﾞﾙｰﾌﾟ数分記述が必要です。
;・必ずMC〜MCRの範囲内に記述して下さい。
LD= DM9210 #7
MC
MCR
;User Custom8/ﾕｰｻﾞｰｶｽﾀﾑ8
;[作成上の注意点]
;・ﾕｰｻﾞｰ仕様ﾀﾜｰﾗﾝﾌﾟ処理を記述して下さい。
;・使用するｸﾞﾙｰﾌﾟ数分記述が必要です。
;・必ずMC〜MCRの範囲内に記述して下さい。
LD= DM9210 #8
MC
MCR
;User Custom9/ﾕｰｻﾞｰｶｽﾀﾑ9
;[作成上の注意点]
;・ﾕｰｻﾞｰ仕様ﾀﾜｰﾗﾝﾌﾟ処理を記述して下さい。
;・使用するｸﾞﾙｰﾌﾟ数分記述が必要です。
;・必ずMC〜MCRの範囲内に記述して下さい。
LD= DM9210 #9
MC
MCR
;User Custom10/ﾕｰｻﾞｰｶｽﾀﾑ10
;[作成上の注意点]
;・ﾕｰｻﾞｰ仕様ﾀﾜｰﾗﾝﾌﾟ処理を記述して下さい。
;・使用するｸﾞﾙｰﾌﾟ数分記述が必要です。
;・必ずMC〜MCRの範囲内に記述して下さい。
LD= DM9210 #10
MC
MCR
;<h1/>*Group1/ｸﾞﾙｰﾌﾟ1
;<h1/>SC1_Before/安全ｶﾊﾞｰ1開時
;[作成上の注意点]
;・ﾕｰｻﾞｰｵｰﾌﾟﾝｴﾘｱ以外は修正しないで下さい。
;・STG〜JMP命令は@R1001〜1013を使用して下さい。
;・ﾕｰｻﾞｰ処理終了後、いずれかのSTGへ必ずJMPして下さい。
;	→安全ｶﾊﾞｰ開OKの場合：@R1014へ
;	→安全ｶﾊﾞｰ開NGの場合：@R1015へ
STG R40500
JMP @R1000
;//User Open Area Header
STG @R1000
MPS
JMP @R1014
MPP
AND CR2003
JMP @R1015
;//User Open Area Footer
STG @R1014
SET R40600
CON
ENDS
STG @R1015
SET R40601
CON
ENDS
;<h1/>SC1_After/安全ｶﾊﾞｰ1閉時
;[作成上の注意点]
;・ﾕｰｻﾞｰｵｰﾌﾟﾝｴﾘｱ以外は修正しないで下さい。
;・STG〜JMP命令は@R1101〜1113を使用して下さい。
;・ﾕｰｻﾞｰ処理終了後、いずれかのSTGへ必ずJMPして下さい。
;	→安全ｶﾊﾞｰﾛｯｸOKの場合：@R1114
;	→安全ｶﾊﾞｰﾛｯｸNGの場合：@R1115
STG R40501
JMP @R1100
;//User Open Area Header
STG @R1100
MPS
JMP @R1114
MPP
AND CR2003
JMP @R1115
;//User Open Area Footer
STG @R1114
SET R40700
CON
ENDS
STG @R1115
SET R40701
CON
ENDS
;<h1/>Air_Before/ｴｱｰ流量低下時
;[作成上の注意点]
;・待ち要素、動作命令記述は禁止します。
;・STG〜JMP命令は@R1201〜1214を使用して下さい。
;・終了時は必ず@R1215へJMPして下さい。
LD R40800
SET @R1200
;//User Open Area Header
STG @R1200
JMP @R1215
;//User Open Area Footer
STG @R1215
RES R40800
CON
ENDS
;<h1/>Air_After/ｴｱｰ流量低下復帰時
;[作成上の注意点]
;・待ち要素、動作命令記述は禁止します。
;・STG〜JMP命令は@R1301〜1314を使用して下さい。
;・終了時は必ず@R1315へJMPして下さい。
LD R40801
SET @R1300
;//User Open Area Header
STG @R1300
JMP @R1315
;//User Open Area Footer
STG @R1315
RES R40801
CON
ENDS
;<h1/>Area1_Before/ｴﾘｱｾﾝｻ遮断直後
;[作成上の注意点]
;・待ち要素、動作命令記述は禁止します。
;・STG〜JMP命令は@R1401〜1414を使用して下さい。
;・終了時は必ず@R1415へJMPして下さい。
LD R40900
SET @R1400
;//User Open Area Header
STG @R1400
JMP @R1415
;//User Open Area Footer
STG @R1415
RES R40900
CON
ENDS
;<h1/>Area1_After/ｴﾘｱｾﾝｻ復帰直前
;[作成上の注意点]
;・待ち要素、動作命令記述は禁止します。
;・STG〜JMP命令は@R1501〜1514を使用して下さい。
;・終了時は必ず@R1515へJMPして下さい。
LD R40901
SET @R1500
;//User Open Area Header
STG @R1500
JMP @R1515
;//User Open Area Footer
STG @R1515
RES R40901
CON
ENDS
;<h1/>TaskState1/ﾀｽｸ状態
;[Task]
;1行目：OneSystem2_Taskよりﾓｼﾞｭｰﾙ起動指令が来たらMDSTRT
;2行目：OneSystem2_Taskよりﾓｼﾞｭｰﾙ停止指令が来たらMDSTOP
;3行目：Task起動状態をOUT
;<使用方法>
;※不要ﾒｲﾝﾓｼﾞｭｰﾙﾌｧｲﾙを削除したい場合、未使用ﾀｽｸは行無効化を行ってください
;ﾒｲﾝﾓｼﾞｭｰﾙﾌｧｲﾙを削除したにも係わらず行無効化を実施しないと変換異常になります
;Group1_Task0
LD>= DM9200 #1
MPS
LD R47300
ANB _Group1_Task0
ANL
MDSTRT Group1_Task0
MRD
LD R47308
AND _Group1_Task0
ANL
MDSTOP Group1_Task0
MPP
AND _Group1_Task0
TMR @0 DM9358
CON
AND @T0
OUT R49000
;Group1_Task1
LD>= DM9200 #2
MPS
LD R47300
ANB _Group1_Task1
ANL
MDSTRT Group1_Task1
MRD
LD R47308
AND _Group1_Task1
ANL
MDSTOP Group1_Task1
MPP
AND _Group1_Task1
TMR @1 DM9358
CON
AND @T1
OUT R49000:#1
;Group1_Task2
LD>= DM9200 #3
MPS
LD R47300
ANB _Group1_Task2
ANL
MDSTRT Group1_Task2
MRD
LD R47308
AND _Group1_Task2
ANL
MDSTOP Group1_Task2
MPP
AND _Group1_Task2
TMR @2 DM9358
CON
AND @T2
OUT R49000:#2
;Group1_Task3
LD>= DM9200 #4
MPS
LD R47300
ANB _Group1_Task3
ANL
MDSTRT Group1_Task3
MRD
LD R47308
AND _Group1_Task3
ANL
MDSTOP Group1_Task3
MPP
AND _Group1_Task3
TMR @3 DM9358
CON
AND @T3
OUT R49000:#3
;Group1_Task4
LD>= DM9200 #5
MPS
LD R47300
ANB _Group1_Task4
ANL
MDSTRT Group1_Task4
MRD
LD R47308
AND _Group1_Task4
ANL
MDSTOP Group1_Task4
MPP
AND _Group1_Task4
TMR @4 DM9358
CON
AND @T4
OUT R49000:#4
;Group1_Task5
LD>= DM9200 #6
MPS
LD R47300
ANB _Group1_Task5
ANL
MDSTRT Group1_Task5
MRD
LD R47308
AND _Group1_Task5
ANL
MDSTOP Group1_Task5
MPP
AND _Group1_Task5
TMR @5 DM9358
CON
AND @T5
OUT R49000:#5
;Group1_Task6
LD>= DM9200 #7
MPS
LD R47300
ANB _Group1_Task6
ANL
MDSTRT Group1_Task6
MRD
LD R47308
AND _Group1_Task6
ANL
MDSTOP Group1_Task6
MPP
AND _Group1_Task6
TMR @6 DM9358
CON
AND @T6
OUT R49000:#6
;Group1_Task7
LD>= DM9200 #8
MPS
LD R47300
ANB _Group1_Task7
ANL
MDSTRT Group1_Task7
MRD
LD R47308
AND _Group1_Task7
ANL
MDSTOP Group1_Task7
MPP
AND _Group1_Task7
TMR @7 DM9358
CON
AND @T7
OUT R49000:#7
;Group1_Task8
LD>= DM9200 #9
MPS
LD R47300
ANB _Group1_Task8
ANL
MDSTRT Group1_Task8
MRD
LD R47308
AND _Group1_Task8
ANL
MDSTOP Group1_Task8
MPP
AND _Group1_Task8
TMR @8 DM9358
CON
AND @T8
OUT R49000:#8
;Group1_Task9
LD>= DM9200 #10
MPS
LD R47300
ANB _Group1_Task9
ANL
MDSTRT Group1_Task9
MRD
LD R47308
AND _Group1_Task9
ANL
MDSTOP Group1_Task9
MPP
AND _Group1_Task9
TMR @9 DM9358
CON
AND @T9
OUT R49000:#9
END
ENDH
