DEVICE:53
;MODULE:AlwaysSignal
;MODULE_TYPE:0
;OneSystem Sub-Module
;
;---------------------------------------
;ModuleName	:	Always_Signal
;ModuleType	:	Sub Module
;Function	:	条件生成
;---------------------------------------
;<使用方法>
;ﾌﾟﾛｼﾞｪｸﾄ全体に関わる条件ｼｸﾞﾅﾙ生成は本ﾓｼﾞｭｰﾙに記述して下さい
;・ﾓｰｼｮﾝｺﾝﾄﾛｰﾙ動作許可
;・ｺﾐｭﾆｹｰｼｮﾝﾕﾆｯﾄ通信許可
;・ﾋｰﾀｰ電源ON
;など
;エリアセンサー　ＯＦＦﾃﾞｨﾚｰ時間設定
LD R4400
TMR #52 #2
LD R4402
TMR #53 #2
LD R1007
TMR #50 #5
LDB R1007
TMR #51 #3
LD R1008
TMR #60 #5
LDB R1008
TMR #61 #3
LD MR8415
OUT DM10731.2
LD MR8115
OUT DM10707.2
OUT DM10715.2
OUT DM10723.2
;ｴｱｰｸﾘｰﾝﾕﾆｯﾄ1ｱﾗｰﾑ1
LD R46100
ANB R1012
TMR @1 #50
CON
AND @T1
ANB R39004
SET R39004
CON
DW #6 @DM1
CON
DW #1000 @DM9
CON
DW #0 @DM2
CON
@SET @MR100
CON
@SET @R001
;ｴｱｰｸﾘｰﾝﾕﾆｯﾄ1ｱﾗｰﾑ2
LD R46100
ANB R1013
TMR @2 #50
CON
AND @T2
ANB R39004
SET R39004
CON
DW #7 @DM1
CON
DW #1000 @DM9
CON
DW #0 @DM2
CON
@SET @MR100
CON
@SET @R001
;ｴｱｰｸﾘｰﾝﾕﾆｯﾄ2ｱﾗｰﾑ1
LD R46100
ANB R1014
TMR @3 #50
CON
AND @T3
ANB R39004
SET R39004
CON
DW #8 @DM1
CON
DW #1000 @DM9
CON
DW #0 @DM2
CON
@SET @MR100
CON
@SET @R001
;ｴｱｰｸﾘｰﾝﾕﾆｯﾄ2ｱﾗｰﾑ2
LD R46100
ANB R1015
TMR @4 #50
CON
AND @T4
ANB R39004
SET R39004
CON
DW #9 @DM1
CON
DW #1000 @DM9
CON
DW #0 @DM2
CON
@SET @MR100
CON
@SET @R001
;元真空圧異常
LD R006
ANB R008
TMR @5 #20
CON
AND @T5
ANB R39004
SET R39004
CON
DW #4 @DM1
CON
DW #1000 @DM9
CON
DW #0 @DM2
CON
@SET @MR100
CON
@SET @R012
STG @R012
AND @MR101
RES @MR101
CON
RES R39004
CON
ENDS
;ｵﾅｲｻﾞｰDSC　ｴｱｰ不足異常
LD R7308
ANB R1006
TMR @8 #20
CON
AND @T8
ANB R39004
SET R39004
CON
DW #36 @DM1
CON
DW #1000 @DM9
CON
DW #0 @DM2
CON
@SET @MR100
CON
@SET @R001
;原点条件異常
LD MR9400
ANB R39004
SET R39004
CON
DW #5 @DM1
CON
DW #1000 @DM9
CON
DW #0 @DM2
CON
@SET @MR100
CON
@RES MR9400
CON
@SET @R001
STG @R001
AND @MR101
RES @MR101
CON
RES R39004
CON
ENDS
;ｵﾅｲｻﾞｰｴﾗｰ異常
LD CR2002
ANB R1005
ANB R39004
TMR @6 #3
CON
AND @T6
SET R39004
CON
DW #35 @DM1
CON
DW #1000 @DM9
CON
DW #0 @DM2
CON
@SET @MR100
CON
@SET @R002
STG @R002
AND @MR101
OUT MR1110
CON
TMR @7 #3
CON
AND @T7
RES @MR101
CON
RES R39004
CON
ENDS
;ﾙﾐﾗｰ蛇行検知異常
LDB MR1103
ANB MR1104
INV
LD R4101
OR R4102
ANL
AND DM2000.3
ANB R39004
TMR @9 #10
CON
AND @T9
SET MR9500
CON
SET R39004
CON
DW #34 @DM1
CON
DW #1000 @DM9
CON
DW #0 @DM2
CON
@SET @MR100
CON
@SET @R003
STG @R003
AND @MR101
RES MR9500
CON
RES @MR101
CON
RES R39004
CON
ENDS
;ﾙﾐﾗｰk巻き出しﾓｰﾀ異常
LDB MR1103
ANB MR1104
INV
ANB R1002
TMR @10 #2
CON
AND @T10
ANB R39004
SET MR9500
CON
SET R39004
CON
DW #30 @DM1
CON
DW #1000 @DM9
CON
DW #0 @DM2
CON
@SET @MR100
CON
@SET @R004
STG @R004
AND @MR101
OUT MR1105
CON
TMR @11 #5
CON
AND @T11
RES MR9500
CON
RES @MR101
CON
RES R39004
CON
ENDS
;ﾙﾐﾗｰk巻取りﾓｰﾀ異常
LDB MR1106
ANB MR1107
INV
ANB R1003
TMR @12 #2
CON
AND @T12
ANB R39004
SET MR9500
CON
SET R39004
CON
DW #31 @DM1
CON
DW #1000 @DM9
CON
DW #0 @DM2
CON
@SET @MR100
CON
@SET @R005
STG @R005
AND @MR101
OUT MR1108
CON
TMR @13 #5
CON
AND @T13
RES MR9500
CON
RES @MR101
CON
RES R39004
CON
ENDS
LD MR7100
AND CR2003
ANB R4406
ANB R39004
ANB R39004
TMR @14 #30
CON
AND @T14
SET MR4406
CON
SET R39004
CON
DW #13 @DM1
CON
DW #1000 @DM9
CON
DW #0 @DM2
CON
@SET @MR100
CON
@SET @R006
STG @R006
AND @MR101
RES MR4406
CON
RES @MR101
CON
RES R39004
CON
ENDS
;転写台ﾙﾐﾗｰ吸着異常
LD MR7000
ANB R4300
ANB R39004
TMR @15 #30
CON
AND @T15
SET MR4300
CON
SET R39004
CON
DW #50 @DM1
CON
DW #1000 @DM9
CON
DW #0 @DM2
CON
@SET @MR100
CON
@SET @R007
STG @R007
AND @MR101
RES MR4300
CON
RES @MR101
CON
RES R39004
CON
ENDS
LD MR7003
ANB R4302
ANB R39004
TMR @16 #30
CON
AND @T16
SET MR4302
CON
SET R39004
CON
DW #51 @DM1
CON
DW #1000 @DM9
CON
DW #0 @DM2
CON
@SET @MR100
CON
@SET @R008
STG @R008
AND @MR101
RES MR4302
CON
RES @MR101
CON
RES R39004
CON
ENDS
LD MR7006
ANB R4304
ANB R39004
TMR @17 #30
CON
AND @T17
SET MR4304
CON
SET R39004
CON
DW #52 @DM1
CON
DW #1000 @DM9
CON
DW #0 @DM2
CON
@SET @MR100
CON
@SET @R009
STG @R009
AND @MR101
RES MR4304
CON
RES @MR101
CON
RES R39004
CON
ENDS
LD MR7009
ANB R4306
ANB R39004
TMR @18 #30
CON
AND @T18
SET MR4306
CON
SET R39004
CON
DW #53 @DM1
CON
DW #1000 @DM9
CON
DW #0 @DM2
CON
@SET @MR100
CON
@SET @R010
STG @R010
AND @MR101
RES MR4306
CON
RES @MR101
CON
RES R39004
CON
ENDS
LD MR7012
ANB R4308
ANB R39004
TMR @19 #30
CON
AND @T19
SET MR4308
CON
SET R39004
CON
DW #54 @DM1
CON
DW #1000 @DM9
CON
DW #0 @DM2
CON
@SET @MR100
CON
@SET @R011
STG @R011
AND @MR101
RES MR4308
CON
RES @MR101
CON
RES R39004
CON
ENDS
;MyTask Error Process Substance/エラー処理実体
STG @MR100
ANB R39002
MPS
ZRES @MR105 @MR108
CON
LDA @DM9
CON
TBCD
CON
STA @DM10
CON
DISN @DM10 @DM3 #4
MRD
DW #1 @DM0
CON
BMOV @DM0 DM60000 #7
MPP
SET R39000
CON
SET @MR102
CON
JMP @MR103
STG @MR103
AND R39002
AND= DM60008 @DM1
MPS
AND= DM60007 @DM6
SET @MR105
CON
JMP @MR104
MRD
AND= DM60007 @DM5
SET @MR106
CON
JMP @MR104
MRD
AND= DM60007 @DM4
SET @MR107
CON
JMP @MR104
MPP
AND= DM60007 @DM3
SET @MR108
CON
JMP @MR104
STG @MR104
ANB R39002
RES @MR102
CON
SET @MR101
CON
ENDS
END
ENDH
