DEVICE:53
;MODULE:F_ERROR_DISP
;MODULE_TYPE:1
;OneSystem SupportMacro
;
;-----------------------------------------
;Macro Name 	: 	F_ERROR_DISP
;Macro Type	:	Self Holding
;Function	:	優先ｴﾗｰ要求
;-----------------------------------------
;
;Copylight(C) 2011 SEIKO EPSON Corp. All rights reserved.
;引数：
;	V0	=	優先ｴﾗｰ番号			#0〜#63
;	
;機能：
;	指定ｴﾗｰ番号にて優先ｴﾗｰを出力する
LD R59915
MEND
;<h1/>Argumant Range Check/引数範囲ﾁｪｯｸ
LD< V0 #0                ; FirstErrNo
OR> V0 #63               ; FirstErrNo
SET R40008
CON
SET @R015
;<h1/>First Error Code Storage/優先ｴﾗｰ番号格納
LD @CR2008
ANB R59915
MOV V0 DM8100            ; FirstErrNo
MOV V0 DM8101            ; FirstErrNo
SET @R000
;<h1/>First Error Display/優先ｴﾗｰ画面表示
;・画面表示要求
;・Estop制御部ﾌﾗｸﾞSET
;・安全回路への非常停止出力
LDB R59915
ANB R46104
SET R53008
CON
SET R47400
CON
SET R44308
CON
SET @R001
STG @R001
BAND DM2008 #1
JMP @R002
;<h1/>First Error Release Waiting/優先ｴﾗｰ解除待ち
STG @R002
BANB DM2008 #1
AND<> DM3000 #1000
MEND
RES @R000
CON
ENDS
END
ENDH
