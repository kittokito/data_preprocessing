DEVICE:53
;MODULE:AlwaysMonitor
;MODULE_TYPE:0
;SCRIPT_TYPE:
;OneSystem Sub-Module
;
;---------------------------------------
;ModuleName	:	AlwaysMonitor
;ModuleType	:	Sub Module
;Function	:	常時監視
;---------------------------------------
;<使用方法>
;常時監視が必要な物は本ﾓｼﾞｭｰﾙ内に記述して下さい
;・ﾋｰﾀｰ過昇温検知による非常停止
;・ﾁｬﾝﾊﾞｰ排気量低下によるｴﾗｰ出力
;など
LD CR2002                ; 常時ON
BMOV EM30006 W0600 #10   ; Wafer ID/CR フレームID1
BMOV EM30056 W060A #10   ; Wafer ID/CR フレームID1
;D47001 =0 
;FOR D47000 = 0 TO 500 STEP 50
;	BMOV(E30006:D47000,W600:D47001,10)
;	D47001 = D47001+10
;NEXT	
;
;D47001 =0 
;FOR D47000 = 0 TO 500 STEP 50
;	BMOV(E30506:D47000,W670:D47001,10)
;	D47001 = D47001+10
;NEXT
;
;D47001 =0 
;FOR D47000 = 0 TO 500 STEP 50
;	BMOV(E31006:D47000,W6E0:D47001,10)
;	D47001 = D47001+10
;NEXT
;
;D47001 =0 
;FOR D47000 = 0 TO 500 STEP 50
;	BMOV(E31506:D47000,W750:D47001,10)
;	D47001 = D47001+10
;NEXT
;
; 
LD CR2002                ; 常時ON
NCJ #1000
;D47001 =0 
;
LD CR2002                ; 常時ON
MOV #0 DM47001
;FOR D47000 = 0 TO 500 STEP 50
;
LD CR2002                ; 常時ON
MOV #0 DM47000
LABEL #2000
LD> DM47000 #500
CJ #2001
;	BMOV(E30006:D47000,W600:D47001,10)
;
LD CR2002                ; 常時ON
LDA DM47000
CON
EXT
CON
STA.L Z12
CON
ADRSET EM30006:Z12 @VM0  ; Wafer ID/CR フレームID1
LD CR2002                ; 常時ON
LDA DM47001
CON
EXT
CON
STA.L Z12
BMOV *@VM0 W0600:Z12 #10
;	D47001 = D47001+10
;
LD CR2002                ; 常時ON
LDA DM47001
CON
EXT
CON
ADD.L +10
CON
STA DM47001
;NEXT	
;
LD CR2002                ; 常時ON
LDA DM47000
CON
ADD #50
CON
STA DM47000
LDB CR2009               ; 演算結果が負
CJ #2000
LABEL #2001
;D47001 =0 
;
LD CR2002                ; 常時ON
MOV #0 DM47001
;FOR D47000 = 0 TO 500 STEP 50
;
LD CR2002                ; 常時ON
MOV #0 DM47000
LABEL #2002
LD> DM47000 #500
CJ #2003
;	BMOV(E30506:D47000,W670:D47001,10)
;
LD CR2002                ; 常時ON
LDA DM47000
CON
EXT
CON
STA.L Z12
CON
ADRSET EM30506:Z12 @VM2  ; Wafer ID/CR フレームID1
LD CR2002                ; 常時ON
LDA DM47001
CON
EXT
CON
STA.L Z12
BMOV *@VM2 W0670:Z12 #10
;	D47001 = D47001+10
;
LD CR2002                ; 常時ON
LDA DM47001
CON
EXT
CON
ADD.L +10
CON
STA DM47001
;NEXT
;
LD CR2002                ; 常時ON
LDA DM47000
CON
ADD #50
CON
STA DM47000
LDB CR2009               ; 演算結果が負
CJ #2002
LABEL #2003
;D47001 =0 
;
LD CR2002                ; 常時ON
MOV #0 DM47001
;FOR D47000 = 0 TO 500 STEP 50
;
LD CR2002                ; 常時ON
MOV #0 DM47000
LABEL #2004
LD> DM47000 #500
CJ #2005
;	BMOV(E31006:D47000,W6E0:D47001,10)
;
LD CR2002                ; 常時ON
LDA DM47000
CON
EXT
CON
STA.L Z12
CON
ADRSET EM31006:Z12 @VM4  ; Wafer ID/CR フレームID1
LD CR2002                ; 常時ON
LDA DM47001
CON
EXT
CON
STA.L Z12
BMOV *@VM4 W06E0:Z12 #10
;	D47001 = D47001+10
;
LD CR2002                ; 常時ON
LDA DM47001
CON
EXT
CON
ADD.L +10
CON
STA DM47001
;NEXT
;
LD CR2002                ; 常時ON
LDA DM47000
CON
ADD #50
CON
STA DM47000
LDB CR2009               ; 演算結果が負
CJ #2004
LABEL #2005
;D47001 =0 
;
LD CR2002                ; 常時ON
MOV #0 DM47001
;FOR D47000 = 0 TO 500 STEP 50
;
LD CR2002                ; 常時ON
MOV #0 DM47000
LABEL #2006
LD> DM47000 #500
CJ #2007
;	BMOV(E31506:D47000,W750:D47001,10)
;
LD CR2002                ; 常時ON
LDA DM47000
CON
EXT
CON
STA.L Z12
CON
ADRSET EM31506:Z12 @VM6  ; Wafer ID/CR フレームID1
LD CR2002                ; 常時ON
LDA DM47001
CON
EXT
CON
STA.L Z12
BMOV *@VM6 W0750:Z12 #10
;	D47001 = D47001+10
;
LD CR2002                ; 常時ON
LDA DM47001
CON
EXT
CON
ADD.L +10
CON
STA DM47001
;NEXT
;
LD CR2002                ; 常時ON
LDA DM47000
CON
ADD #50
CON
STA DM47000
LDB CR2009               ; 演算結果が負
CJ #2006
LABEL #2007
LABEL #1000
;
;Error/ｴﾗｰ
LD CR2002                ; 常時ON
TMR #1267 #30            ; PLC立上がり後ｳｪｲﾄ
LD T1267                 ; PLC立上がり後ｳｪｲﾄ
AND CR3905               ; 重度ｴﾗｰ発生中
ANB R39004               ; ｴﾗｰ中
SET R39004               ; ｴﾗｰ中
CON
DW #2 @DM1               ; ErrorNo /ERROR_DISP
CON
DW #0 @DM9               ; ReturnSW /ERROR_DISP
CON
LDA DM60009
CON
STA @DM2                 ; SensorNo /ERROR_DISP
CON
SET @R100                ; ｱﾗｰﾑ発生
CON
SET @R200
;MyTask Error Process Substance/ｴﾗｰ処理実体
STG @R100                ; ｱﾗｰﾑ発生
ANB R39002               ; ERROR_DISP Busy
MPS
ZRES @R105 @R108         ; SW1
CON
LDA @DM9                 ; ReturnSW /ERROR_DISP
CON
TBCD
CON
STA @DM10
CON
DISN @DM10 @DM3 #4
MRD
DW #0 @DM0
CON
BMOV @DM0 DM60000 #7     ; TaskNo /ERROR_DISP
MPP
SET R39000               ; ERROR_DISP Start
CON
SET @R102
CON
JMP @R103
STG @R103
AND R39002               ; ERROR_DISP Busy
AND= DM60008 @DM1        ; ReturnNo /ERROR_DISP  ErrorNo /ERROR_DISP
AND= DM60007 @DM6        ; ReturnSW /ERROR_DISP
SET @R105                ; SW1
CON
JMP @R104
STG @R104
ANB R39002               ; ERROR_DISP Busy
RES @R102
CON
SET @R101
CON
ENDS
;Index Interlock Error
LD R7608                 ; 治具ｴｱｰ真空  上限
ORB R7609                ; 治具ｴｱｰ真空  下限
OR R11410                ; 治具ｴｱｰ真空  上昇
LD MR002                 ; ｲﾝﾃﾞｯｸｽ回転中
ORB R5307                ; INDEX 起動入力待ち
ANL
MSTRT F_ERROR_DISP #1
LD R7514                 ; ﾌｨﾙﾑ受け部  F受け 下限
ORB R7515                ; ﾌｨﾙﾑ受け部  F受け 上限
OR R11402                ; ﾌｨﾙﾑ受け 下降
LD MR002                 ; ｲﾝﾃﾞｯｸｽ回転中
ORB R5307                ; INDEX 起動入力待ち
ANL
MSTRT F_ERROR_DISP #2
LD R7700                 ; 給材側 吸着治具 上限
ORB R7701                ; 給材側 吸着治具 下限
OR R11412                ; 給材側 吸着治具 上昇
LD MR002                 ; ｲﾝﾃﾞｯｸｽ回転中
ORB R5307                ; INDEX 起動入力待ち
ANL
MSTRT F_ERROR_DISP #3
LD R7900                 ; 除材側  吸着治具 上限
ORB R7901                ; 除材側  吸着治具 下限
OR R11414                ; 除材側  吸着治具 上昇
LD MR002                 ; ｲﾝﾃﾞｯｸｽ回転中
ORB R5307                ; INDEX 起動入力待ち
ANL
MSTRT F_ERROR_DISP #4
LD LR10002               ; ﾜｰｸｾｯﾄｼﾞｸﾞ 90度回転使用/未使用
LD R8110                 ; ﾌｨﾙﾑ巻取り ﾛｰﾗ上下奥側 上限
OR R8112                 ; ﾌｨﾙﾑ巻取り ﾛｰﾗ上下手前側 上限
ORB R8111                ; ﾌｨﾙﾑ巻取り ﾛｰﾗ上下奥側 下限
ORB R8113                ; ﾌｨﾙﾑ巻取り ﾛｰﾗ上手前側 下限
OR R11304                ; ﾌｨﾙﾑ巻取り ﾛｰﾗ上下 上昇
ANL
LD MR002                 ; ｲﾝﾃﾞｯｸｽ回転中
ORB R5307                ; INDEX 起動入力待ち
ANL
MSTRT F_ERROR_DISP #7
LD LR10002               ; ﾜｰｸｾｯﾄｼﾞｸﾞ 90度回転使用/未使用
LD R8108                 ; ﾌｨﾙﾑ受け90度回転 回転側限
ORB R8109                ; ﾌｨﾙﾑ受け90度回転 戻し限
OR R11302                ; ﾌｨﾙﾑ受け90度回転 回転
ORB R11303               ; ﾌｨﾙﾑ受け90度回転 戻り
ANL
LD MR002                 ; ｲﾝﾃﾞｯｸｽ回転中
ORB R5307                ; INDEX 起動入力待ち
ANL
MSTRT F_ERROR_DISP #8
LDB R7604                ; 転写部  転写RB原点位置
LD MR002                 ; ｲﾝﾃﾞｯｸｽ回転中
ORB R5307                ; INDEX 起動入力待ち
ANL
MSTRT F_ERROR_DISP #9
LDB DM2000.14            ; 上流ﾊﾝﾄﾞｼｪｲｸ 有効/無効
ANB R5502                ; I_ｲﾝﾀｰﾛｯｸ信号1（隣ｾﾙ1）
LD MR002                 ; ｲﾝﾃﾞｯｸｽ回転中
ORB R5307                ; INDEX 起動入力待ち
ANL
LDB DM2000.14            ; 上流ﾊﾝﾄﾞｼｪｲｸ 有効/無効
ANB R5502                ; I_ｲﾝﾀｰﾛｯｸ信号1（隣ｾﾙ1）
ANB R5602                ; O_ｲﾝﾀｰﾛｯｸ信号1
AND CR2003               ; 常時OFF
ORL
MSTRT F_ERROR_DISP #10
;Transcript RB Interlock Error
LD R11202                ; ｽｸﾚｰﾊﾟｰ（小） 下降
OR R7406                 ; ｽｷｰｼﾞ部 ｽｸﾚｰﾊﾟｰ（小） 下限
ORB R7407                ; ｽｷｰｼﾞ部 ｽｸﾚｰﾊﾟｰ（小） 上限
AND<=.L DM21790 +25000   ; 軸1 現在座標
AND MR20110              ; MC1 BUSY
MSTRT F_ERROR_DISP #21
LD R11204                ; ｽｸﾚｰﾊﾟｰ（大） 下降
OR R7408                 ; ｽｷｰｼﾞ部 ｽｸﾚｰﾊﾟｰ（大） 下限
ORB R7409                ; ｽｷｰｼﾞ部 ｽｸﾚｰﾊﾟｰ（大） 上限
AND<=.L DM21790 +25000   ; 軸1 現在座標
AND MR20110              ; MC1 BUSY
MSTRT F_ERROR_DISP #22
LD R11206                ; ｽｷｰｼﾞ台 上昇
OR R7400                 ; ｽｷｰｼﾞ台部 ｽｷｰｼﾞ台 上限
ORB R7401                ; ｽｷｰｼﾞ台部 ｽｷｰｼﾞ台 下限
AND<=.L DM21790 +25000   ; 軸1 現在座標
AND MR20110              ; MC1 BUSY
MSTRT F_ERROR_DISP #23
LD R11404                ; ﾍｯﾄﾞ前後 前進
OR R7602                 ; 接着剤塗布部 ﾍｯﾄﾞ 前限
ORB R7603                ; 接着剤塗布部 ﾍｯﾄﾞ 後限
AND MR20110              ; MC1 BUSY
MSTRT F_ERROR_DISP #24
LD<.L +250 DM11062       ; RB2 現在位置1
OR MR18601               ; RB2:動作中
OR MR18604               ; RB2:HOME
OR MR18605               ; RB2:MOVE
OR MR18611               ; RB2:JOG+動作
OR MR18611               ; RB2:JOG+動作
AND MR20110              ; MC1 BUSY
MSTRT F_ERROR_DISP #25
LD MR002                 ; ｲﾝﾃﾞｯｸｽ回転中
AND MR20110              ; MC1 BUSY
MSTRT F_ERROR_DISP #26
LD MR2907                ; 搬送X軸RB原点復帰済み ﾗﾝﾌﾟ
AND MR2908               ; 搬送Y軸RB原点復帰済み ﾗﾝﾌﾟ
AND MR3113               ; 搬送θ軸RB原点復帰済み ﾗﾝﾌﾟ
AND MR23501              ; 旋回軸_給材PIN_P2
ANB LR11006              ; 3cellｲﾝﾀﾛｯｸ信号無視
ANB LR11007              ; 3cellｲﾝﾀﾛｯｸ信号無視
OUT MR4410
LDB DM2000.15            ; 下流ﾊﾝﾄﾞｼｪｲｸ 有効/無効
AND MR4410
AND>=.L DM10572 +5000    ; SCON-1 現在位置（下位8bit）
AND<=.L +550 DM10548     ; MSEP Axis-5 現在位置（下位8bit）
AND<=.L DM10548 +1500    ; MSEP Axis-5 現在位置（下位8bit）
AND>=.L DM10580 +6800    ; SCON-2 現在位置（下位8bit）
ANB R5503                ; I_ｲﾝﾀｰﾛｯｸ信号2（隣ｾﾙ2）
LDB DM2000.15            ; 下流ﾊﾝﾄﾞｼｪｲｸ 有効/無効
ANB R5603                ; O_ｲﾝﾀｰﾛｯｸ信号2
ANB R5503                ; I_ｲﾝﾀｰﾛｯｸ信号2（隣ｾﾙ2）
AND CR2003               ; 常時OFF
ORL
MSTRT F_ERROR_DISP #36
LD R46100                ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R46101                ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R46102                ; _ﾒﾝﾃﾅﾝｽ運転中　ﾓｰﾄﾞﾌﾗｸﾞ
MPS
ANB R008                 ; 元真空圧確認
MSTRT F_ERROR_DISP #50
MPP
ANB R006                 ; 元圧検出
MSTRT F_ERROR_DISP #51
;Induction Motor Interlock Error
LD CR2002                ; 常時ON
MPS
ANB R5310                ; ﾌｨﾙﾑ巻出しﾓｰﾀ温度過昇検出
MSTRT F_ERROR_DISP #31
MPP
ANB R5311                ; ﾌｨﾙﾑ巻取りﾓｰﾀ温度過昇検出
MSTRT F_ERROR_DISP #32
;TASK PAUSE/TASK 一時停止処理
;TASK0 一時停止処理 (ｲﾝﾃﾞｯｸｽ制御)
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LDB DM2000.10            ; 上流ｾﾙﾎﾟｰｽﾞ処理 有効/無効
AND B044                 ; ｾﾙ1よりPAUSE要求
ORL
LDB DM2000.11            ; 下流ｾﾙﾎﾟｰｽﾞ処理 有効/無効
AND B0A4                 ; ｾﾙ3よりPAUSE要求
ORL
OUT R41200               ; TASK0 PAUSE 
;TASK1 一時停止処理 (ｲﾝﾃﾞｯｸｽへの給材制御)
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LDB DM2000.10            ; 上流ｾﾙﾎﾟｰｽﾞ処理 有効/無効
AND B044                 ; ｾﾙ1よりPAUSE要求
ORL
OUT R41201               ; TASK1 PAUSE 
;TASK3 一時停止処理 (ｲﾝﾃﾞｯｸｽへの除材制御)
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LDB DM2000.11            ; 下流ｾﾙﾎﾟｰｽﾞ処理 有効/無効
AND B0A4                 ; ｾﾙ3よりPAUSE要求
ORL
OUT R41203               ; TASK3  PAUSE
;TASK5 一時停止処理 (転写制御)
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OUT R41205               ; TASK5 PAUSE 
;上流ｾﾙ(ｾﾙ1)への一時停止許可
LD R42601                ; _Grp1_Task1_ﾎﾟｰｽﾞ許可
ORB R41001               ; _Grp1_Task1_起動中ﾌﾗｸﾞ
LD R42600                ; _Grp1_Task0_ﾎﾟｰｽﾞ許可
ORB R41000               ; _Grp1_Task0_起動中ﾌﾗｸﾞ
ANL
AND B044                 ; ｾﾙ1よりPAUSE要求
OUT B075                 ; ｾﾙ1へPAUSE許可
;下流ｾﾙ(<CR>:ｾﾙ3 ･ <NR>:ｾﾙ4)への一時停止許可
LD R42603                ; _Grp1_Task3_ﾎﾟｰｽﾞ許可
ORB R41003               ; _Grp1_Task3_起動中ﾌﾗｸﾞ
AND B0A4                 ; ｾﾙ3よりPAUSE要求
OUT B077                 ; <CR>ｾﾙ3へ  <NR>ｾﾙ4へ  PAUSE許可
;上流/下流ｾﾙへの一時停止中 表示制御
;@EM10.T = "CELL1 ポーズ中"
;@EM50.T = "CELL3 ポーズ中"
;@EM70.T = "CELL4 ポーズ中"
;@EM90.T = "CELL1より ポーズ許可待ち"
;@EM110.T = "CELL3より ポーズ許可待ち"
;@EM130.T = "CELL4より ポーズ許可待ち"
;
LD CR2002                ; 常時ON
NCJ #1001
;@EM10.T = "CELL1 ポーズ中"
;
LD CR2002                ; 常時ON
SMOV "CELL1 ポーズ中" @EM10
;@EM50.T = "CELL3 ポーズ中"
;
LD CR2002                ; 常時ON
SMOV "CELL3 ポーズ中" @EM50
;@EM70.T = "CELL4 ポーズ中"
;
LD CR2002                ; 常時ON
SMOV "CELL4 ポーズ中" @EM70
;@EM90.T = "CELL1より ポーズ許可待ち"
;
LD CR2002                ; 常時ON
SMOV "CELL1より ポーズ許可待ち" @EM90
;@EM110.T = "CELL3より ポーズ許可待ち"
;
LD CR2002                ; 常時ON
SMOV "CELL3より ポーズ許可待ち" @EM110
;@EM130.T = "CELL4より ポーズ許可待ち"
;
LD CR2002                ; 常時ON
SMOV "CELL4より ポーズ許可待ち" @EM130
LABEL #1001
;
LDB DM2000.10            ; 上流ｾﾙﾎﾟｰｽﾞ処理 有効/無効
MPS
AND B044                 ; ｾﾙ1よりPAUSE要求
MSTRT BBS_MSG_W #1 #1 @EM10
MPP
ANF B044                 ; ｾﾙ1よりPAUSE要求
MSTRT BBS_MSG_C #1 #1
LDP DM2000.10            ; 上流ｾﾙﾎﾟｰｽﾞ処理 有効/無効
MSTRT BBS_MSG_C #1 #1
LD CR2002                ; 常時ON
MPS
ANB DM2000.11            ; 下流ｾﾙﾎﾟｰｽﾞ処理 有効/無効
MPS
AND B0A4                 ; ｾﾙ3よりPAUSE要求
MSTRT BBS_MSG_W #1 #2 @EM50
MPP
ANF B0A4                 ; ｾﾙ3よりPAUSE要求
MSTRT BBS_MSG_C #1 #2
MPP
ANP DM2000.11            ; 下流ｾﾙﾎﾟｰｽﾞ処理 有効/無効
MSTRT BBS_MSG_C #1 #2
LDB DM2000.10            ; 上流ｾﾙﾎﾟｰｽﾞ処理 有効/無効
MPS
LDB B044                 ; ｾﾙ1よりPAUSE要求
AND B074                 ; ｾﾙ1へPAUSE要求
ANB B045                 ; ｾﾙ1よりPAUSE許可
ANL
MSTRT BBS_MSG_W #1 #1 @EM90
MPP
LDB B044                 ; ｾﾙ1よりPAUSE要求
AND B074                 ; ｾﾙ1へPAUSE要求
ANP B045                 ; ｾﾙ1よりPAUSE許可
ANL
MSTRT BBS_MSG_C #1 #1
LDB DM2000.11            ; 下流ｾﾙﾎﾟｰｽﾞ処理 有効/無効
MPS
LDB B0A4                 ; ｾﾙ3よりPAUSE要求
AND B076                 ; ｾﾙ3へPAUSE要求
ANB B0A5                 ; ｾﾙ3よりPAUSE許可
ANL
MSTRT BBS_MSG_W #1 #2 @EM110
MPP
LDB B0A4                 ; ｾﾙ3よりPAUSE要求
AND B076                 ; ｾﾙ3へPAUSE要求
ANP B0A5                 ; ｾﾙ3よりPAUSE許可
ANL
MSTRT BBS_MSG_C #1 #2
;<h1/>2013/4
;ﾗｲﾝPLCへ各ｾﾙのｽﾃｰﾀｽを送る
;
;※ｾﾙ毎に割り当てﾃﾞﾊﾞｲｽが異なるので変更する事
;ｾﾙ2
LD R46100                ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
OUT B07A                 ; ｽﾃｰﾀｽ　AUTO
LD R46101                ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
OUT B07B                 ; ｽﾃｰﾀｽ　HOME
LD R46102                ; _ﾒﾝﾃﾅﾝｽ運転中　ﾓｰﾄﾞﾌﾗｸﾞ
OUT B07C                 ; ｽﾃｰﾀｽ　MAINTENANCE
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OUT B07D                 ; ｽﾃｰﾀｽ　PAUSE
LD R46208                ; _Group1　ｴﾗｰ発生中
OUT B07E                 ; ｽﾃｰﾀｽ　ERROR
LDB DM2000.12            ; ON-LINE/OFF-LINE
ANB @R215                ; 定停止時 ﾜｰｸ残有り
AND= DM3000 #10          ; _MainTP　表示中ﾍﾟｰｼﾞNo
OUT B07F                 ; ｽﾃｰﾀｽ　ONLINEﾓｰﾄﾞ
LD R46103                ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
AND<> W08F #0            ; 装置内ﾜｰｸ個数
OUT @R215                ; 定停止時 ﾜｰｸ残有り
;<h1/>2013/4
;ﾚｼﾋﾟﾃﾞｰﾀ保存領域と実際に使用しているﾃﾞﾊﾞｲｽとの整合性を取る。
;（そもそもNATのｿﾌﾄが良ければ、こんな事する必要はない）
;'ﾚｼﾋﾟﾃﾞｰﾀ 1-10
;EM2300.L = DM4200.L
;EM2303.L = DM4202.L
;EM2302.U = DM4204.L
;EM2305.U = DM4206.L
;EM2306.L = DM4208.L
;EM2308.L = DM4210.L
;EM2316.L = DM4212.L
;EM2313.U = DM4214.L
;EM2314.U = DM4216.L
;EM2315.U = DM4218.L
LD CR2002                ; 常時ON
NCJ #1002
;'ﾚｼﾋﾟﾃﾞｰﾀ 1-10
;
;EM2300.L = DM4200.L
;
LD CR2002                ; 常時ON
MOV.L DM4200 EM2300      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  受渡し移動 X軸移動量
;EM2303.L = DM4202.L
;
LD CR2002                ; 常時ON
MOV.L DM4202 EM2303      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  受渡し移動 Y軸移動量
;EM2302.U = DM4204.L
;
LD CR2002                ; 常時ON
MOV DM4204 EM2302        ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  受渡し移動 X軸速度
;EM2305.U = DM4206.L
;
LD CR2002                ; 常時ON
MOV DM4206 EM2305        ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  受渡し移動 Y軸速度
;EM2306.L = DM4208.L
;
LD CR2002                ; 常時ON
MOV.L DM4208 EM2306      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  受渡し移動 X軸ｵﾌｾｯﾄ
;EM2308.L = DM4210.L
;
LD CR2002                ; 常時ON
MOV.L DM4210 EM2308      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  受渡し移動 Y軸ｵﾌｾｯﾄ
;EM2316.L = DM4212.L
;
LD CR2002                ; 常時ON
MOV.L DM4212 EM2316      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  受渡し移動 θ軸ｵﾌｾｯﾄ
;EM2313.U = DM4214.L
;
LD CR2002                ; 常時ON
MOV DM4214 EM2313        ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  X軸ｱﾗｲﾒﾝﾄ速度
;EM2314.U = DM4216.L
;
LD CR2002                ; 常時ON
MOV DM4216 EM2314        ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  Y軸ｱﾗｲﾒﾝﾄ速度
;EM2315.U = DM4218.L
LD CR2002                ; 常時ON
MOV DM4218 EM2315        ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  θ軸ｱﾗｲﾒﾝﾄ速度
LABEL #1002
;
;'ﾚｼﾋﾟﾃﾞｰﾀ 11-20
;EM2330.L = DM4220.L
;EM2332.L = DM4222.L
;EM2334.L = DM4224.L
;EM2336.L = DM4226.L
;EM2338.L = DM4228.L
;EM2340.L = DM4230.L
;EM2342.U = DM4232.L
;EM2344.L = DM4234.L
;EM2346.L = DM4236.L
;'		 = DM4238.L
;
LD CR2002                ; 常時ON
NCJ #1003
;'ﾚｼﾋﾟﾃﾞｰﾀ 11-20
;
;EM2330.L = DM4220.L
;
LD CR2002                ; 常時ON
MOV.L DM4220 EM2330      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  受渡し移動 X軸移動量
;EM2332.L = DM4222.L
;
LD CR2002                ; 常時ON
MOV.L DM4222 EM2332      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  受渡し移動 X軸速度
;EM2334.L = DM4224.L
;
LD CR2002                ; 常時ON
MOV.L DM4224 EM2334      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;EM2336.L = DM4226.L
;
LD CR2002                ; 常時ON
MOV.L DM4226 EM2336      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  受渡し移動 X軸ｵﾌｾｯﾄ
;EM2338.L = DM4228.L
;
LD CR2002                ; 常時ON
MOV.L DM4228 EM2338      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  受渡し移動 Y軸ｵﾌｾｯﾄ
;EM2340.L = DM4230.L
;
LD CR2002                ; 常時ON
MOV.L DM4230 EM2340      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  受渡し移動 X軸移動量（実）
;EM2342.U = DM4232.L
;
LD CR2002                ; 常時ON
MOV DM4232 EM2342        ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  受渡し移動 Y軸移動量（実）
;EM2344.L = DM4234.L
;
LD CR2002                ; 常時ON
MOV.L DM4234 EM2344      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  Y軸受渡し待機位置
;EM2346.L = DM4236.L
;
LD CR2002                ; 常時ON
MOV.L DM4236 EM2346      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  受渡し移動 X軸移動量２
;'		 = DM4238.L
;
LABEL #1003
;
;'ﾚｼﾋﾟﾃﾞｰﾀ 21-30
;EM2290.L = DM4240.L
;EM2104.U = DM4242.L
;DM7050.L = DM4244.L
;'		 = DM4246.L
;DM7054.U = DM4248.L
;DM7056.U = DM4250.L
;DM7058.L = DM4252.L
;EM2370.D = DM4254.L
;DM7072.D = DM4256.L
;'		 = DM4258.L
;
LD CR2002                ; 常時ON
NCJ #1004
;'ﾚｼﾋﾟﾃﾞｰﾀ 21-30
;
;EM2290.L = DM4240.L
;
LD CR2002                ; 常時ON
MOV.L DM4240 EM2290      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;EM2104.U = DM4242.L
;
LD CR2002                ; 常時ON
MOV DM4242 EM2104        ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  RB2 P5 指令速度
;DM7050.L = DM4244.L
;
LD CR2002                ; 常時ON
MOV.L DM4244 DM7050      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  装置基礎ﾃﾞｰﾀ26
;'		 = DM4246.L
;
;DM7054.U = DM4248.L
;
LD CR2002                ; 常時ON
MOV DM4248 DM7054        ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  装置基礎ﾃﾞｰﾀ28
;DM7056.U = DM4250.L
;
LD CR2002                ; 常時ON
MOV DM4250 DM7056        ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  装置基礎ﾃﾞｰﾀ29
;DM7058.L = DM4252.L
;
LD CR2002                ; 常時ON
MOV.L DM4252 DM7058      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  装置基礎ﾃﾞｰﾀ30
;EM2370.D = DM4254.L
;
LD CR2002                ; 常時ON
MOV.D DM4254 EM2370      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM7072.D = DM4256.L
;
LD CR2002                ; 常時ON
MOV.D DM4256 DM7072      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  装置基礎ﾃﾞｰﾀ37
;'		 = DM4258.L
;
LABEL #1004
;
;'ﾚｼﾋﾟﾃﾞｰﾀ 31-40
;DM7060.U = DM4260.L
;DM7062.U = DM4262.L
;DM7064.U = DM4264.L
;DM7066.L = DM4266.L
;'		 = DM4268.L
;DM7070.L = DM4270.L
;'		 = DM4272.L
;'		 = DM4274.L
;'		 = DM4276.L
;'		 = DM4278.L
;
LD CR2002                ; 常時ON
NCJ #1005
;'ﾚｼﾋﾟﾃﾞｰﾀ 31-40
;
;DM7060.U = DM4260.L
;
LD CR2002                ; 常時ON
MOV DM4260 DM7060        ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  装置基礎ﾃﾞｰﾀ31
;DM7062.U = DM4262.L
;
LD CR2002                ; 常時ON
MOV DM4262 DM7062        ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  装置基礎ﾃﾞｰﾀ32
;DM7064.U = DM4264.L
;
LD CR2002                ; 常時ON
MOV DM4264 DM7064        ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  装置基礎ﾃﾞｰﾀ33
;DM7066.L = DM4266.L
;
LD CR2002                ; 常時ON
MOV.L DM4266 DM7066      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  装置基礎ﾃﾞｰﾀ34
;'		 = DM4268.L
;
;DM7070.L = DM4270.L
;
LD CR2002                ; 常時ON
MOV.L DM4270 DM7070      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  装置基礎ﾃﾞｰﾀ36
;'		 = DM4272.L
;
;'		 = DM4274.L
;
;'		 = DM4276.L
;
;'		 = DM4278.L
;
LABEL #1005
;
;<h1/>機種切替対応ｿﾌﾄを初めてﾀﾞｳﾝﾛｰﾄﾞした際にLR19915をONさせて１回実行させる
;'ﾚｼﾋﾟﾃﾞｰﾀ 1-10
;DM4200.L = EM2300.L
;DM4202.L = EM2303.L
;DM4204.L = EM2302.U
;DM4206.L = EM2305.U
;DM4208.L = EM2306.L
;DM4210.L = EM2308.L 
;DM4212.L = EM2316.L
;DM4214.L = EM2313.U 
;DM4216.L = EM2314.U
;DM4218.L = EM2315.U
LDP LR19915
NCJ #1006
;'ﾚｼﾋﾟﾃﾞｰﾀ 1-10
;
;DM4200.L = EM2300.L
;
LD CR2002                ; 常時ON
MOV.L EM2300 DM4200      ; 受渡し移動 X軸移動量  _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4202.L = EM2303.L
;
LD CR2002                ; 常時ON
MOV.L EM2303 DM4202      ; 受渡し移動 Y軸移動量  _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4204.L = EM2302.U
;
LD CR2002                ; 常時ON
LDA EM2302               ; 受渡し移動 X軸速度
CON
EXT
CON
STA.L DM4204             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4206.L = EM2305.U
;
LD CR2002                ; 常時ON
LDA EM2305               ; 受渡し移動 Y軸速度
CON
EXT
CON
STA.L DM4206             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4208.L = EM2306.L
;
LD CR2002                ; 常時ON
MOV.L EM2306 DM4208      ; 受渡し移動 X軸ｵﾌｾｯﾄ  _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4210.L = EM2308.L 
;
LD CR2002                ; 常時ON
MOV.L EM2308 DM4210      ; 受渡し移動 Y軸ｵﾌｾｯﾄ  _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4212.L = EM2316.L
;
LD CR2002                ; 常時ON
MOV.L EM2316 DM4212      ; 受渡し移動 θ軸ｵﾌｾｯﾄ  _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4214.L = EM2313.U 
;
LD CR2002                ; 常時ON
LDA EM2313               ; X軸ｱﾗｲﾒﾝﾄ速度
CON
EXT
CON
STA.L DM4214             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4216.L = EM2314.U
;
LD CR2002                ; 常時ON
LDA EM2314               ; Y軸ｱﾗｲﾒﾝﾄ速度
CON
EXT
CON
STA.L DM4216             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4218.L = EM2315.U
LD CR2002                ; 常時ON
LDA EM2315               ; θ軸ｱﾗｲﾒﾝﾄ速度
CON
EXT
CON
STA.L DM4218             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
LABEL #1006
;
;'ﾚｼﾋﾟﾃﾞｰﾀ 11-20
;DM4220.L = EM2330.L
;DM4222.L = EM2332.L
;DM4224.L = EM2334.L
;DM4226.L = EM2336.L
;DM4228.L = EM2338.L
;DM4230.L = EM2340.L
;DM4232.L = EM2342.U
;DM4234.L = EM2344.L
;DM4236.L = EM2346.L
;'DM4238.L
;
LDP LR19915
NCJ #1007
;'ﾚｼﾋﾟﾃﾞｰﾀ 11-20
;
;DM4220.L = EM2330.L
;
LD CR2002                ; 常時ON
MOV.L EM2330 DM4220      ; 受渡し移動 X軸移動量  _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4222.L = EM2332.L
;
LD CR2002                ; 常時ON
MOV.L EM2332 DM4222      ; 受渡し移動 X軸速度  _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4224.L = EM2334.L
;
LD CR2002                ; 常時ON
MOV.L EM2334 DM4224      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4226.L = EM2336.L
;
LD CR2002                ; 常時ON
MOV.L EM2336 DM4226      ; 受渡し移動 X軸ｵﾌｾｯﾄ  _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4228.L = EM2338.L
;
LD CR2002                ; 常時ON
MOV.L EM2338 DM4228      ; 受渡し移動 Y軸ｵﾌｾｯﾄ  _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4230.L = EM2340.L
;
LD CR2002                ; 常時ON
MOV.L EM2340 DM4230      ; 受渡し移動 X軸移動量（実）  _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4232.L = EM2342.U
;
LD CR2002                ; 常時ON
LDA EM2342               ; 受渡し移動 Y軸移動量（実）
CON
EXT
CON
STA.L DM4232             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4234.L = EM2344.L
;
LD CR2002                ; 常時ON
MOV.L EM2344 DM4234      ; Y軸受渡し待機位置  _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4236.L = EM2346.L
;
LD CR2002                ; 常時ON
MOV.L EM2346 DM4236      ; 受渡し移動 X軸移動量２  _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;'DM4238.L
;
LABEL #1007
;
;'ﾚｼﾋﾟﾃﾞｰﾀ 21-30
;DM4240.L = EM2290.L
;DM4242.L = EM2104.U
;DM4244.L = DM7050.L 
;'DM4246.L
;DM4248.L = DM7054.U
;DM4250.L = DM7056.U
;DM4252.L = DM7058.L
;DM4254.L = EM2370.D
;DM4256.L = DM7072.D
;'DM4258.L
;
LDP LR19915
NCJ #1008
;'ﾚｼﾋﾟﾃﾞｰﾀ 21-30
;
;DM4240.L = EM2290.L
;
LD CR2002                ; 常時ON
MOV.L EM2290 DM4240      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4242.L = EM2104.U
;
LD CR2002                ; 常時ON
LDA EM2104               ; RB2 P5 指令速度
CON
EXT
CON
STA.L DM4242             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4244.L = DM7050.L 
;
LD CR2002                ; 常時ON
MOV.L DM7050 DM4244      ; 装置基礎ﾃﾞｰﾀ26  _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;'DM4246.L
;
;DM4248.L = DM7054.U
;
LD CR2002                ; 常時ON
LDA DM7054               ; 装置基礎ﾃﾞｰﾀ28
CON
EXT
CON
STA.L DM4248             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4250.L = DM7056.U
;
LD CR2002                ; 常時ON
LDA DM7056               ; 装置基礎ﾃﾞｰﾀ29
CON
EXT
CON
STA.L DM4250             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4252.L = DM7058.L
;
LD CR2002                ; 常時ON
MOV.L DM7058 DM4252      ; 装置基礎ﾃﾞｰﾀ30  _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4254.L = EM2370.D
;
LD CR2002                ; 常時ON
MOV.L EM2370 DM4254      ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4256.L = DM7072.D
;
LD CR2002                ; 常時ON
MOV.L DM7072 DM4256      ; 装置基礎ﾃﾞｰﾀ37  _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;'DM4258.L
;
LABEL #1008
;
;'ﾚｼﾋﾟﾃﾞｰﾀ 31-40
;DM4260.L = DM7060.U
;DM4262.L = DM7062.U
;DM4264.L = DM7064.U
;DM4266.L = DM7066.L
;'DM4268.L
;DM4270.L = DM7070.L
;'DM4272.L
;'DM4274.L
;'DM4276.L
;'DM4278.L
;
LDP LR19915
NCJ #1009
;'ﾚｼﾋﾟﾃﾞｰﾀ 31-40
;
;DM4260.L = DM7060.U
;
LD CR2002                ; 常時ON
LDA DM7060               ; 装置基礎ﾃﾞｰﾀ31
CON
EXT
CON
STA.L DM4260             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4262.L = DM7062.U
;
LD CR2002                ; 常時ON
LDA DM7062               ; 装置基礎ﾃﾞｰﾀ32
CON
EXT
CON
STA.L DM4262             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4264.L = DM7064.U
;
LD CR2002                ; 常時ON
LDA DM7064               ; 装置基礎ﾃﾞｰﾀ33
CON
EXT
CON
STA.L DM4264             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;DM4266.L = DM7066.L
;
LD CR2002                ; 常時ON
MOV.L DM7066 DM4266      ; 装置基礎ﾃﾞｰﾀ34  _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;'DM4268.L
;
;DM4270.L = DM7070.L
;
LD CR2002                ; 常時ON
MOV.L DM7070 DM4270      ; 装置基礎ﾃﾞｰﾀ36  _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
;'DM4272.L
;
;'DM4274.L
;
;'DM4276.L
;
;'DM4278.L
;
LABEL #1009
;
LDP LR19915
BMOV DM4200 DM400 #200   ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ  _機種分類1　機種別ﾃﾞｰﾀ1
BMOV DM400 ZF400 #200    ; _機種分類1　機種別ﾃﾞｰﾀ1
BMOV DM7000 ZF600 #200   ; 装置基礎ﾃﾞｰﾀ1
BMOV EM2000 ZF800 #8000  ; RB5 P1 目標位置（下位bit）
LD= DM3000 #1110         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM8156 #8           ; _Y_Nﾒｯｾｰｼﾞ番号
@INC DM50                ; 受け台清掃回数
MPS
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
@INC DM51                ; 受け台清掃時間（秒）
MPP
MEF
LDA DM51                 ; 受け台清掃時間（秒）
CON
FLOAT
CON
STA.F DM5300             ; _ﾃﾞｰﾀ収集　ﾕｰｻﾞｰﾃﾞｰﾀ1_1
CON
SET R46500               ; _ﾃﾞｰﾀ収集　ﾕｰｻﾞｰﾃﾞｰﾀ1収集ﾄﾘｶﾞ
LD= DM3000 #1110         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM8156 #9           ; _Y_Nﾒｯｾｰｼﾞ番号
@INC DM53                ; 接着剤交換回数
MPS
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
@INC DM54                ; 接着剤交換時間（秒）
MPP
MEF
LDA DM54                 ; 接着剤交換時間（秒）
CON
FLOAT
CON
STA.F DM5320             ; _ﾃﾞｰﾀ収集　ﾕｰｻﾞｰﾃﾞｰﾀ2_1
CON
SET R46501               ; _ﾃﾞｰﾀ収集　ﾕｰｻﾞｰﾃﾞｰﾀ2収集ﾄﾘｶﾞ
LDF R46500               ; _ﾃﾞｰﾀ収集　ﾕｰｻﾞｰﾃﾞｰﾀ1収集ﾄﾘｶﾞ
FMOV #0 DM50 #2          ; 受け台清掃回数
FMOV.D #0 DM5300 #2      ; _ﾃﾞｰﾀ収集　ﾕｰｻﾞｰﾃﾞｰﾀ1_1
LDF R46501               ; _ﾃﾞｰﾀ収集　ﾕｰｻﾞｰﾃﾞｰﾀ2収集ﾄﾘｶﾞ
FMOV #0 DM53 #2          ; 接着剤交換回数
FMOV.D #0 DM5320 #2      ; _ﾃﾞｰﾀ収集　ﾕｰｻﾞｰﾃﾞｰﾀ2_1
;
END
ENDH
