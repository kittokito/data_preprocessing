DEVICE:53
;MODULE:ｴﾗｰﾓﾆﾀ
;MODULE_TYPE:0
LD R54200                ; TRAP
OR R53010                ; 非常停止
ZRES @MR000 @MR2815      ; PAUSE条件確認へ
;-------
;ｴｱｸﾘｰﾝﾕﾆｯﾄ異常
;Air Clean unit Alarm
LD T202                  ; 遅延ﾀｲﾏ−202　13s
ANB R53008               ; 全体ｴﾗｰ発生
ANB R4714                ; AIR CLEARN UNIT ALM1
TMR @10 #20              ; ｴｱｸﾘｰﾝﾕﾆｯﾄ異常発生ﾃﾞｨﾚｲ
CON
AND @T10                 ; ｴｱｸﾘｰﾝﾕﾆｯﾄ異常発生ﾃﾞｨﾚｲ
ANB MR915
@SET @MR500              ; ｴｱｸﾘｰﾝﾕﾆｯﾄ異常
STG @MR500               ; ｴｱｸﾘｰﾝﾕﾆｯﾄ異常
SET R53008               ; 全体ｴﾗｰ発生
CON
SET R53110               ; 全体、ｼｽﾃﾑ　ｴﾗｰ中
CON
SET R54300               ; 全体、ｼｽﾃﾑ 表示
CON
SET R53807               ; ERR55
CON
RES R210                 ; RETRY SW　目隠し解除
CON
JMP @MR501
MOV #55 DM400            ; 表示画面No.
STG @MR501
AND R53008               ; 全体ｴﾗｰ発生
JMP @MR502
STG @MR502
ANB R53008               ; 全体ｴﾗｰ発生
SET R54200               ; TRAP
CON
ENDS
;ｲｵﾅｲｻﾞﾕﾆｯﾄ異常
;Ionaizer unit Alarm
LD T202                  ; 遅延ﾀｲﾏ−202　13s
ANB R53008               ; 全体ｴﾗｰ発生
ANB R4715                ; IONIZER UNIT ALM1
TMR @11 #20              ; ｲｵﾅｲｻﾞﾕﾆｯﾄ異常発生ﾃﾞｨﾚｲ
CON
AND @T11                 ; ｲｵﾅｲｻﾞﾕﾆｯﾄ異常発生ﾃﾞｨﾚｲ
ANB MR915
@SET @MR508              ; ｲｵﾅｲｻﾞﾕﾆｯﾄ異常
STG @MR508               ; ｲｵﾅｲｻﾞﾕﾆｯﾄ異常
SET R53008               ; 全体ｴﾗｰ発生
CON
SET R53110               ; 全体、ｼｽﾃﾑ　ｴﾗｰ中
CON
SET R54300               ; 全体、ｼｽﾃﾑ 表示
CON
SET R53808               ; ERR56
CON
RES R210                 ; RETRY SW　目隠し解除
CON
JMP @MR509
MOV #56 DM400            ; 表示画面No.
STG @MR509
AND R53008               ; 全体ｴﾗｰ発生
JMP @MR510
STG @MR510
ANB R53008               ; 全体ｴﾗｰ発生
SET R54200               ; TRAP
CON
ENDS
;供給側ｺﾝﾍﾞｱﾓｰﾀ過昇検出
;
LD T202                  ; 遅延ﾀｲﾏ−202　13s
ANB R1010                ; 供給ｺﾝﾍﾞｱ ｻｰﾓｽﾀｯﾄ
ANB R53008               ; 全体ｴﾗｰ発生
SET @MR600               ; 供給側ｺﾝﾍﾞｱﾓｰﾀ過昇検出
STG @MR600               ; 供給側ｺﾝﾍﾞｱﾓｰﾀ過昇検出
SET R53008               ; 全体ｴﾗｰ発生
CON
SET R53111               ; ｺﾝﾍﾞｱｴﾗｰ中
CON
SET R54301               ; ｺﾝﾍﾞｱｴﾗｰ 表示
CON
SET R53804               ; ERR52
CON
RES R210                 ; RETRY SW　目隠し解除
CON
JMP @MR601
MOV #52 DM400            ; 表示画面No.
STG @MR601
AND R53008               ; 全体ｴﾗｰ発生
JMP @MR602
STG @MR602
ANB R53008               ; 全体ｴﾗｰ発生
SET R54200               ; TRAP
CON
ENDS
;ﾘﾀｰﾝ側ｺﾝﾍﾞｱﾓｰﾀ過昇検出
;
LD T202                  ; 遅延ﾀｲﾏ−202　13s
ANB R1011                ; 戻しｺﾝﾍﾞｱ ｻｰﾓｽﾀｯﾄ
ANB R53008               ; 全体ｴﾗｰ発生
SET @MR608               ; ﾘﾀｰﾝ側ｺﾝﾍﾞｱﾓｰﾀ過昇検出
STG @MR608               ; ﾘﾀｰﾝ側ｺﾝﾍﾞｱﾓｰﾀ過昇検出
SET R53008               ; 全体ｴﾗｰ発生
CON
SET R53111               ; ｺﾝﾍﾞｱｴﾗｰ中
CON
SET R54301               ; ｺﾝﾍﾞｱｴﾗｰ 表示
CON
SET R53805               ; ERR53
CON
RES R210                 ; RETRY SW　目隠し解除
CON
JMP @MR609
MOV #53 DM400            ; 表示画面No.
STG @MR609
AND R53008               ; 全体ｴﾗｰ発生
JMP @MR610
STG @MR610
ANB R53008               ; 全体ｴﾗｰ発生
SET R54200               ; TRAP
CON
ENDS
;RB DRV1-1 ﾛﾎﾞｯﾄｱﾗｰﾑ
LD T202                  ; 遅延ﾀｲﾏ−202　13s
ANB R53008               ; 全体ｴﾗｰ発生
LD R53315                ; 原点復帰完了
OR R53003                ; 原点復帰中
ANL
LD R1204                 ; DRV-1-1 ALM1
OR R1205                 ; DRV-1-1 ALM2
OR R1206                 ; DRV-1-1 ALM4
OR R1207                 ; DRV-1-1 ALM8
OR R14705                ; 軸1 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
ANL
TMR @4 #5
CON
AND @T4
SET @MR700               ; RB DRV1-1 ﾛﾎﾞｯﾄｱﾗｰﾑ
STG @MR700               ; RB DRV1-1 ﾛﾎﾞｯﾄｱﾗｰﾑ
SET R53008               ; 全体ｴﾗｰ発生
CON
SET R53110               ; 全体、ｼｽﾃﾑ　ｴﾗｰ中
CON
SET R54300               ; 全体、ｼｽﾃﾑ 表示
CON
SET R53501               ; ERR01
CON
RES R210                 ; RETRY SW　目隠し解除
CON
JMP @MR701
MOV #1 DM400             ; 表示画面No.
STG @MR701
AND R53008               ; 全体ｴﾗｰ発生
JMP @MR702
STG @MR702
ANB R53008               ; 全体ｴﾗｰ発生
SET R54200               ; TRAP
CON
ENDS
;RB DRV1-2 ﾛﾎﾞｯﾄｱﾗｰﾑ
LD T202                  ; 遅延ﾀｲﾏ−202　13s
ANB R53008               ; 全体ｴﾗｰ発生
LD R53315                ; 原点復帰完了
OR R53003                ; 原点復帰中
ANL
LD R1212                 ; DRV-1-2 ALM1
OR R1213                 ; DRV-1-2 ALM2
OR R1214                 ; DRV-1-2 ALM4
OR R1215                 ; DRV-1-2 ALM8
OR R15505                ; 軸2 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
ANL
TMR @3 #5
CON
AND @T3
SET @MR708               ; RB DRV1-2 ﾛﾎﾞｯﾄｱﾗｰﾑ
STG @MR708               ; RB DRV1-2 ﾛﾎﾞｯﾄｱﾗｰﾑ
SET R53008               ; 全体ｴﾗｰ発生
CON
SET R53110               ; 全体、ｼｽﾃﾑ　ｴﾗｰ中
CON
SET R54300               ; 全体、ｼｽﾃﾑ 表示
CON
SET R53502               ; ERR02
CON
RES R210                 ; RETRY SW　目隠し解除
CON
JMP @MR709
MOV #2 DM400             ; 表示画面No.
STG @MR709
AND R53008               ; 全体ｴﾗｰ発生
JMP @MR710
STG @MR710
ANB R53008               ; 全体ｴﾗｰ発生
SET R54200               ; TRAP
CON
ENDS
;RB DRV4 ﾛﾎﾞｯﾄｱﾗｰﾑ
LD T202                  ; 遅延ﾀｲﾏ−202　13s
ANB R53008               ; 全体ｴﾗｰ発生
LD R53315                ; 原点復帰完了
OR R53003                ; 原点復帰中
ANL
LD R1312                 ; DRV-4 ALM1
OR R1313                 ; DRV-4 ALM2
OR R1314                 ; DRV-4 ALM4
OR R1315                 ; DRV-4 ALM8
OR R22705                ; 軸1 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
ANL
TMR @2 #5
CON
AND @T2
SET @MR800               ; RB DRV4 ﾛﾎﾞｯﾄｱﾗｰﾑ
STG @MR800               ; RB DRV4 ﾛﾎﾞｯﾄｱﾗｰﾑ
SET R53008               ; 全体ｴﾗｰ発生
CON
SET R53110               ; 全体、ｼｽﾃﾑ　ｴﾗｰ中
CON
SET R54300               ; 全体、ｼｽﾃﾑ 表示
CON
SET R53503               ; ERR03
CON
RES R210                 ; RETRY SW　目隠し解除
CON
JMP @MR801
MOV #3 DM400             ; 表示画面No.
STG @MR801
AND R53008               ; 全体ｴﾗｰ発生
JMP @MR802
STG @MR802
ANB R53008               ; 全体ｴﾗｰ発生
SET R54200               ; TRAP
CON
ENDS
;L側ｱﾗｲﾒﾝﾄ ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
LD T202                  ; 遅延ﾀｲﾏ−202　13s
ANB R53008               ; 全体ｴﾗｰ発生
MPS
LD R53315                ; 原点復帰完了
OR R53003                ; 原点復帰中
LDB R30705               ; 軸1 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
ORB R31505               ; 軸2 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
ORB R32305               ; 軸3 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
ANL
ANL
TMR @0 #5
CON
AND @T0
DIFU MR901               ; 一時停止解除
CON
SET @MR900               ; L側ｱﾗｲﾒﾝﾄﾄﾞﾗｲﾊﾞ異常
MPP
LDB R53315               ; 原点復帰完了
ANB R53003               ; 原点復帰中
LDB R38705               ; 軸1 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
ORB R39505               ; 軸2 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
ORB R40305               ; 軸3 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
ANL
ANL
TMR #590 #50
CON
AND T590
DIFU MR901               ; 一時停止解除
CON
SET @MR900               ; L側ｱﾗｲﾒﾝﾄﾄﾞﾗｲﾊﾞ異常
STG @MR900               ; L側ｱﾗｲﾒﾝﾄﾄﾞﾗｲﾊﾞ異常
SET R53008               ; 全体ｴﾗｰ発生
CON
SET R53110               ; 全体、ｼｽﾃﾑ　ｴﾗｰ中
CON
SET R54300               ; 全体、ｼｽﾃﾑ 表示
CON
SET R53509               ; ERR09
CON
RES R210                 ; RETRY SW　目隠し解除
CON
JMP @MR901
MOV #9 DM400             ; 表示画面No.
STG @MR901
AND R53008               ; 全体ｴﾗｰ発生
JMP @MR902
STG @MR902
ANB R53008               ; 全体ｴﾗｰ発生
SET R54200               ; TRAP
CON
ENDS
;R側ｱﾗｲﾒﾝﾄ ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
LD T202                  ; 遅延ﾀｲﾏ−202　13s
ANB R53008               ; 全体ｴﾗｰ発生
MPS
LD R53315                ; 原点復帰完了
OR R53003                ; 原点復帰中
LDB R38705               ; 軸1 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
ORB R39505               ; 軸2 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
ORB R40305               ; 軸3 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
ANL
ANL
TMR @1 #5
CON
AND @T1
DIFU MR901               ; 一時停止解除
CON
SET @MR908               ; R側ｱﾗｲﾒﾝﾄﾄﾞﾗｲﾊﾞ異常
MPP
LDB R53315               ; 原点復帰完了
ANB R53003               ; 原点復帰中
LDB R38705               ; 軸1 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
ORB R39505               ; 軸2 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
ORB R40305               ; 軸3 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
ANL
ANL
TMR #591 #50
CON
AND T591
DIFU MR901               ; 一時停止解除
CON
SET @MR908               ; R側ｱﾗｲﾒﾝﾄﾄﾞﾗｲﾊﾞ異常
STG @MR908               ; R側ｱﾗｲﾒﾝﾄﾄﾞﾗｲﾊﾞ異常
SET R53008               ; 全体ｴﾗｰ発生
CON
SET R53110               ; 全体、ｼｽﾃﾑ　ｴﾗｰ中
CON
SET R54300               ; 全体、ｼｽﾃﾑ 表示
CON
SET R53510               ; ERR10
CON
RES R210                 ; RETRY SW　目隠し解除
CON
JMP @MR909
MOV #10 DM400            ; 表示画面No.
STG @MR909
AND R53008               ; 全体ｴﾗｰ発生
JMP @MR910
STG @MR910
ANB R53008               ; 全体ｴﾗｰ発生
SET R54200               ; TRAP
CON
ENDS
;RB DRV2 ﾛﾎﾞｯﾄｱﾗｰﾑ
LD T202                  ; 遅延ﾀｲﾏ−202　13s
ANB R53008               ; 全体ｴﾗｰ発生
LD R53315                ; 原点復帰完了
OR R53003                ; 原点復帰中
ANL
AND R16305               ; 軸3 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
TMR @5 #5
CON
AND @T5
SET @MR1000              ; RB DRV2 ﾛﾎﾞｯﾄｱﾗｰﾑ
STG @MR1000              ; RB DRV2 ﾛﾎﾞｯﾄｱﾗｰﾑ
SET R53008               ; 全体ｴﾗｰ発生
CON
SET R53110               ; 全体、ｼｽﾃﾑ　ｴﾗｰ中
CON
SET R54300               ; 全体、ｼｽﾃﾑ 表示
CON
SET R53506               ; ERR06
CON
RES R210                 ; RETRY SW　目隠し解除
CON
JMP @MR1001
MOV #6 DM400             ; 表示画面No.
STG @MR1001
AND R53008               ; 全体ｴﾗｰ発生
JMP @MR1002
STG @MR1002
ANB R53008               ; 全体ｴﾗｰ発生
SET R54200               ; TRAP
CON
ENDS
;RB DRV3 ﾛﾎﾞｯﾄｱﾗｰﾑ
LD T202                  ; 遅延ﾀｲﾏ−202　13s
ANB R53008               ; 全体ｴﾗｰ発生
LD R53315                ; 原点復帰完了
OR R53003                ; 原点復帰中
ANL
AND R17105               ; 軸4 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
TMR @6 #5
CON
AND @T6
SET @MR1200              ; RB DRV3 ﾛﾎﾞｯﾄｱﾗｰﾑ
STG @MR1200              ; RB DRV3 ﾛﾎﾞｯﾄｱﾗｰﾑ
SET R53008               ; 全体ｴﾗｰ発生
CON
SET R53110               ; 全体、ｼｽﾃﾑ　ｴﾗｰ中
CON
SET R54300               ; 全体、ｼｽﾃﾑ 表示
CON
SET R53504               ; ERR04
CON
RES R210                 ; RETRY SW　目隠し解除
CON
JMP @MR1201
MOV #4 DM400             ; 表示画面No.
STG @MR1201
AND R53008               ; 全体ｴﾗｰ発生
JMP @MR1202
STG @MR1202
ANB R53008               ; 全体ｴﾗｰ発生
SET R54200               ; TRAP
CON
ENDS
;RB DRV5 ﾛﾎﾞｯﾄｱﾗｰﾑ
LD T202                  ; 遅延ﾀｲﾏ−202　13s
ANB R53008               ; 全体ｴﾗｰ発生
LD R53315                ; 原点復帰完了
OR R53003                ; 原点復帰中
ANL
AND R23505               ; 軸2 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
TMR @7 #5
CON
AND @T7
SET @MR1008              ; RB DRV5 ﾛﾎﾞｯﾄｱﾗｰﾑ
STG @MR1008              ; RB DRV5 ﾛﾎﾞｯﾄｱﾗｰﾑ
SET R53008               ; 全体ｴﾗｰ発生
CON
SET R53110               ; 全体、ｼｽﾃﾑ　ｴﾗｰ中
CON
SET R54300               ; 全体、ｼｽﾃﾑ 表示
CON
SET R53505               ; ERR05
CON
RES R210                 ; RETRY SW　目隠し解除
CON
JMP @MR1009
MOV #5 DM400             ; 表示画面No.
STG @MR1009
AND R53008               ; 全体ｴﾗｰ発生
JMP @MR1010
STG @MR1010
ANB R53008               ; 全体ｴﾗｰ発生
SET R54200               ; TRAP
CON
ENDS
;RB DRV6 ﾛﾎﾞｯﾄｱﾗｰﾑ
LD T202                  ; 遅延ﾀｲﾏ−202　13s
ANB R53008               ; 全体ｴﾗｰ発生
LD R53315                ; 原点復帰完了
OR R53003                ; 原点復帰中
ANL
AND R24305               ; 軸3 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
TMR @8 #5
CON
AND @T8
SET @MR1100              ; RB DRV6 ﾛﾎﾞｯﾄｱﾗｰﾑ
STG @MR1100              ; RB DRV6 ﾛﾎﾞｯﾄｱﾗｰﾑ
SET R53008               ; 全体ｴﾗｰ発生
CON
SET R53110               ; 全体、ｼｽﾃﾑ　ｴﾗｰ中
CON
SET R54300               ; 全体、ｼｽﾃﾑ 表示
CON
SET R53507               ; ERR07
CON
RES R210                 ; RETRY SW　目隠し解除
CON
JMP @MR1101
MOV #7 DM400             ; 表示画面No.
STG @MR1101
AND R53008               ; 全体ｴﾗｰ発生
JMP @MR1102
STG @MR1102
ANB R53008               ; 全体ｴﾗｰ発生
SET R54200               ; TRAP
CON
ENDS
;RB DRV7 ﾛﾎﾞｯﾄｱﾗｰﾑ
LD T202                  ; 遅延ﾀｲﾏ−202　13s
ANB R53008               ; 全体ｴﾗｰ発生
LD R53315                ; 原点復帰完了
OR R53003                ; 原点復帰中
ANL
AND R25105               ; 軸4 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
TMR @9 #5
CON
AND @T9
SET @MR1108              ; RB DRV7 ﾛﾎﾞｯﾄｱﾗｰﾑ
STG @MR1108              ; RB DRV7 ﾛﾎﾞｯﾄｱﾗｰﾑ
SET R53008               ; 全体ｴﾗｰ発生
CON
SET R53110               ; 全体、ｼｽﾃﾑ　ｴﾗｰ中
CON
SET R54300               ; 全体、ｼｽﾃﾑ 表示
CON
SET R53508               ; ERR08
CON
RES R210                 ; RETRY SW　目隠し解除
CON
JMP @MR1109
MOV #8 DM400             ; 表示画面No.
STG @MR1109
AND R53008               ; 全体ｴﾗｰ発生
JMP @MR1110
STG @MR1110
ANB R53008               ; 全体ｴﾗｰ発生
SET R54200               ; TRAP
CON
ENDS
;真空圧低下警告
LD T202                  ; 遅延ﾀｲﾏ−202　13s
ANB R53008               ; 全体ｴﾗｰ発生
ANB R53300               ; PAUSE中
LD R53003                ; 原点復帰中
OR R53000                ; 自動運転中
OR R53001                ; 手動動作中
OR R53002                ; STEP動作中
ANL
ANB R4815                ; 真空圧
TMR #660 #9999           ; 真空圧確認ﾀｲﾏ
CON
AND T660                 ; 真空圧確認ﾀｲﾏ
AND LR003
SET @MR1208              ; 真空圧低下警告
STG @MR1208              ; 真空圧低下警告
SET R53305               ; 真空圧低下警告
CON
SET R55610               ; 真空圧低下警告ﾒｯｾｰｼﾞ
CON
JMP @MR1209
@MOV DM150 DM152         ; 背面ﾊﾟﾈﾙ_ﾒｯｾｰｼﾞ表示
@MOV #3200 DM150
STG @MR1209
AND R4815                ; 真空圧
ANF R208                 ; 警告ﾘｾｯﾄ
JMP @MR1210
STG @MR1210
MPS
RES R53305               ; 真空圧低下警告
CON
RES R55610               ; 真空圧低下警告ﾒｯｾｰｼﾞ
CON
ENDS
MPP
@MOV DM152 DM150         ; 背面ﾊﾟﾈﾙ_ﾒｯｾｰｼﾞ表示
END
ENDH
