DEVICE:53
;MODULE:Index
;MODULE_TYPE:0
;***************************************
; 非常停止
; Emergency Stop 
;***************************************
LD R50010                ; Emergency　Stop
OR @MR000                ; Emergency STOP
ZRES @MR001 @MR2715      ; ST1ｼﾘﾝﾀﾞ 干渉外  4708
CON
OUT @MR000               ; Emergency STOP
TMR @0 #5
LD @T0
MDSTOP Index
;***************************************
; ﾎﾟｰｽﾞ ･ ｴﾗｰ 監視
; Pause ･ Error Check 
;***************************************
LDB R50300               ; Pause
ANB R50110               ; Err INDEX
OUT @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
;***************************************
; INDEXｼﾘﾝﾀﾞｲﾝﾀｰﾛｯｸﾁｪｯｸ
; INDEX Cylinder Interlock Check 
;***************************************
LDB R4000                ; IND1 INDEX位置決め 上限
AND R4001                ; IND1 INDEX位置決め 下限
ANB R4002                ; IND1 ST1治具ｴｱｰ供給ﾉｽﾞﾙ 上限
AND R4003                ; IND1 ST1治具ｴｱｰ供給ﾉｽﾞﾙ 下限
LD R11904                ; 給材P&P-INDEX Z軸干渉外
OR R11900                ; 給材P&P干渉外
ANL
LD R11912                ; 除材P&P-INDEX Z軸干渉外
OR R11908                ; 除材P&P干渉外
ANL
OUT @MR001               ; ST1ｼﾘﾝﾀﾞ 干渉外
LDB R4004                ; IND1 ST2治具ｴｱｰ供給ﾉｽﾞﾙ 上限
AND R4005                ; IND1 ST2治具ｴｱｰ供給ﾉｽﾞﾙ 下限
ANB R4504                ; ﾘｰｸ検査ﾍｯﾄﾞ 下降限
AND R4505                ; ﾘｰｸ検査ﾍｯﾄﾞ 上昇限
ANB R4502                ; ﾘｰｸ検査押し棒2 下降限
AND R4503                ; ﾘｰｸ検査押し棒2 上昇限
ANB R4500                ; ﾘｰｸ検査押し棒1 下降限
AND R4501                ; ﾘｰｸ検査押し棒1 上昇限
OUT @MR002               ; ST2ｼﾘﾝﾀﾞ 干渉外
LDB R4006                ; IND1 ST3治具ｴｱｰ供給ﾉｽﾞﾙ 上限
AND R4007                ; IND1 ST3治具ｴｱｰ供給ﾉｽﾞﾙ 下限
ANB R4600                ; 注入ﾍｯﾄﾞ 下限
AND R4601                ; 注入ﾍｯﾄﾞ 上限
OUT @MR003               ; ST3ｼﾘﾝﾀﾞ 干渉外
LDB R4008                ; IND1 ST4治具ｴｱｰ供給ﾉｽﾞﾙ 上限
AND R4009                ; IND1 ST4治具ｴｱｰ供給ﾉｽﾞﾙ 下限
LDB R4900                ; ﾌｨﾙﾑ吸着ﾍｯﾄﾞ 下限
AND R4901                ; ﾌｨﾙﾑ吸着ﾍｯﾄﾞ 上限
OR R4815                 ; ﾍｯﾄﾞ左右 右行限 (外側)
ANL
ANB R4902                ; 供給孔Fﾜｰｸ押さえ　下降限
AND R4903                ; 供給孔Fﾜｰｸ押さえ　上昇限
ANB R4602                ; 供給孔ｸﾗﾝﾌﾟ　下降限
AND R4603                ; 供給孔ｸﾗﾝﾌﾟ　上昇限
ANB R10108               ; RB1_PSEL_軸1Busy
AND R10110               ; RB1_PSEL_ｿﾞｰﾝ出力設定用1
OUT @MR004               ; ST4ｼﾘﾝﾀﾞ 干渉外
LD @MR001                ; ST1ｼﾘﾝﾀﾞ 干渉外
AND @MR002               ; ST2ｼﾘﾝﾀﾞ 干渉外
AND @MR003               ; ST3ｼﾘﾝﾀﾞ 干渉外
AND @MR004               ; ST4ｼﾘﾝﾀﾞ 干渉外
OUT @MR005               ; INDEXｼﾘﾝﾀﾞ全干渉外
;
LD R7900                 ; IND1 ST1治具1(縦) 閉じ
ANB R7901                ; IND1 ST1治具1(縦) 開き
AND R7902                ; IND1 ST1治具2(横) 閉じ
ANB R7903                ; IND1 ST1治具2(横) 開き
AND R7904                ; IND1 ST2治具1(縦) 閉じ 
ANB R7905                ; IND1 ST2治具1(縦) 開き
AND R7906                ; IND1 ST2治具2(横) 閉じ
ANB R7907                ; IND1 ST2治具2(横) 開き
AND R7908                ; IND1 ST3治具 閉じ
ANB R7909                ; IND1 ST3治具 開き
AND R7910                ; IND1 ST4治具 閉じ
ANB R7911                ; IND1 ST4治具 開き
ANB R4110                ; IND1 ST1 ﾜｰｸｸﾗﾝﾌﾟ1開確認（4ST側
ANB R4111                ; IND1 ST1 ﾜｰｸｸﾗﾝﾌﾟ2開確認（中1側
ANB R4112                ; IND1 ST1 ﾜｰｸｸﾗﾝﾌﾟ3開確認（中2側
ANB R4113                ; IND1 ST1 ﾜｰｸｸﾗﾝﾌﾟ4開確認（2ST側
OUT @MR006               ; 全治具閉じ
;<h1/>原点復帰動作
;HOME RETURN OPERATION 
LD R50003                ; HOME
ANB R50200               ; INDEX Do
SET R50200               ; INDEX Do
CON
SET @MR1000              ; INDEX 原点復帰開始
STG @MR1000              ; INDEX 原点復帰開始
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
SET @MR1001              ; INDEX 原点復帰中
CON
ZRES DM600 DM607         ; prohibit use of DM600  prohibit use of DM607
CON
ZRES DM820 DM839         ; ST1_1 ﾜｰｸ有無(0=無)  ST1_4 ﾜｰｸ有無(0=無)回転後
CON
ZRES DM3200 DM3799       ; IND2-ST2 QRID-1  排出時読込 
CON
DW #4 DM608              ; 原点復帰時INDEX回転回数
CON
JMP @MR1002              ; 1002
STG @MR1002              ; 1002
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
AND R50003               ; HOME
RES MR1003               ; INDEX CW回転Fin
CON
JMP @MR1003              ; 1003
STG @MR1003              ; 1003
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR7006               ; INDEX位置決め 上昇
CON
SET MR7007               ; INDEX位置決め 下降
CON
RES MR7900               ; IND1 ST1治具1(縦) 閉じ
CON
SET MR7901               ; IND1 ST1治具1(縦) 開き
CON
RES MR7902               ; IND1 ST1治具2(横) 閉じ
CON
SET MR7903               ; IND1 ST1治具2(横) 開き
CON
JMP @MR1004              ; 1004
STG @MR1004              ; 1004
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
TMH @19 #10
CON
AND @T19
RES MR7901               ; IND1 ST1治具1(縦) 開き
CON
RES MR7903               ; IND1 ST1治具2(横) 開き
CON
JMP @MR1005              ; 1005
STG @MR1005              ; 1005
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR7010               ; 治具ｴｱｰ供給ﾉｽﾞﾙ 上昇
CON
AND R4003                ; IND1 ST1治具ｴｱｰ供給ﾉｽﾞﾙ 下限
AND R4005                ; IND1 ST2治具ｴｱｰ供給ﾉｽﾞﾙ 下限
AND R4007                ; IND1 ST3治具ｴｱｰ供給ﾉｽﾞﾙ 下限
AND R4009                ; IND1 ST4治具ｴｱｰ供給ﾉｽﾞﾙ 下限
AND R4001                ; IND1 INDEX位置決め 下限
JMP @MR1006              ; 1006
STG @MR1006              ; 1006
TMH @6 #3
CON
AND @T6
MPS
AND @MR005               ; INDEXｼﾘﾝﾀﾞ全干渉外
JMP @MR1100              ; 1100
MPP
ANB @MR005               ; INDEXｼﾘﾝﾀﾞ全干渉外
SET @MR304               ; Err180 INDEX Err10
CON
JMP @MR1014              ; 1014
;Err180
STG @MR1014              ; 1014
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR307               ; Err180 INDEX Err10解除完了
JMP @MR1015              ; 1015
STG @MR1015              ; 1015
RES @MR307               ; Err180 INDEX Err10解除完了
CON
JMP @MR1003              ; 1003
;
STG @MR1100              ; 1100
SET R50100               ; PACK INDEX
CON
JMP @MR1101              ; 1101
STG @MR1101              ; 1101
LD T722                  ; Index電源再投入ﾃﾞｨﾚｲ
OR R2103                 ; INDEX電源ON
ANL
MPS
AND @MR005               ; INDEXｼﾘﾝﾀﾞ全干渉外
SET MR1000               ; INDEX原点復帰SUB
CON
JMP @MR1102              ; 1102
MPP
ANB @MR005               ; INDEXｼﾘﾝﾀﾞ全干渉外
SET @MR304               ; Err180 INDEX Err10
CON
JMP @MR1014              ; 1014
STG @MR1102              ; 1102
AND MR1001               ; INDEX原点復帰完了
SET MR1013               ; INDEX原点復帰完了
CON
JMP @MR1103              ; 1103
STG @MR1103              ; 1103
RES MR1001               ; INDEX原点復帰完了
CON
RES R50100               ; PACK INDEX
CON
JMP @MR1300              ; ST1以外にｹｰｽ有るかも
;
STG @MR1108              ; 1108
TMH @1 #20
CON
AND @T1
RES R50100               ; PACK INDEX
CON
JMP @MR1109              ; 1109
STG @MR1109              ; 1109
JMP @MR1200              ; 1200
;ケースチェック
;Check the Case
;UT1のﾜｰｸﾁｪｯｸﾌﾗｸﾞ
;UT1 Work Check Flag
LDB R4100                ; IND1 ST1 ﾜｰｸ1検出(ST4側)
ANB R4101                ; IND1 ST1 ﾜｰｸ2検出(中1側)
ANB R4102                ; IND1 ST1 ﾜｰｸ3検出(中2側)
ANB R4103                ; IND1 ST1 ﾜｰｸ4検出(ST2側)
AND R4104                ; IND1 ST1 ﾜｰｸ浮き検出(外側)
AND R4105                ; IND1 ST1 ﾜｰｸ浮き検出(Index側)
OUT @MR010               ; ST1にｹｰｽ無し
;
STG @MR1200              ; 1200
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
SET MR7010               ; 治具ｴｱｰ供給ﾉｽﾞﾙ 上昇
CON
AND R4002                ; IND1 ST1治具ｴｱｰ供給ﾉｽﾞﾙ 上限
AND R4004                ; IND1 ST2治具ｴｱｰ供給ﾉｽﾞﾙ 上限
AND R4006                ; IND1 ST3治具ｴｱｰ供給ﾉｽﾞﾙ 上限
AND R4008                ; IND1 ST4治具ｴｱｰ供給ﾉｽﾞﾙ 上限
RES MR7900               ; IND1 ST1治具1(縦) 閉じ
CON
SET MR7901               ; IND1 ST1治具1(縦) 開き
CON
RES MR7902               ; IND1 ST1治具2(横) 閉じ
CON
SET MR7903               ; IND1 ST1治具2(横) 開き
CON
AND R4110                ; IND1 ST1 ﾜｰｸｸﾗﾝﾌﾟ1開確認（4ST側
AND R4111                ; IND1 ST1 ﾜｰｸｸﾗﾝﾌﾟ2開確認（中1側
AND R4112                ; IND1 ST1 ﾜｰｸｸﾗﾝﾌﾟ3開確認（中2側
AND R4113                ; IND1 ST1 ﾜｰｸｸﾗﾝﾌﾟ4開確認（2ST側
JMP @MR1201              ; INDEX上にｹｰｽ無し
STG @MR1201              ; INDEX上にｹｰｽ無し
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
AND @MR010               ; ST1にｹｰｽ無し
MPS
AND= DM608 #0            ; 原点復帰時INDEX回転回数
JMP @MR1202              ; 1202
MPP
AND<> DM608 #0           ; 原点復帰時INDEX回転回数
RES R50100               ; PACK INDEX
CON
JMP @MR1300              ; ST1以外にｹｰｽ有るかも
MPP
ANB @MR010               ; ST1にｹｰｽ無し
TMH @2 #5
CON
AND @T2
SET @MR108               ; Err173 INDEX Err3
CON
JMP @MR1208              ; ST1 ｹｰｽ有り
STG @MR1202              ; 1202
RES MR1003               ; INDEX CW回転Fin
CON
JMP @MR1203              ; 1203
STG @MR1203              ; 1203
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR7900               ; IND1 ST1治具1(縦) 閉じ
CON
SET MR7901               ; IND1 ST1治具1(縦) 開き
CON
RES MR7902               ; IND1 ST1治具2(横) 閉じ
CON
SET MR7903               ; IND1 ST1治具2(横) 開き
CON
RES MR7904               ; IND1 ST2治具1(縦) 閉じ 
CON
SET MR7905               ; IND1 ST2治具1(縦) 開き
CON
RES MR7906               ; IND1 ST2治具2(横) 閉じ
CON
SET MR7907               ; IND1 ST2治具2(横) 開き
CON
SET MR7908               ; IND1 ST3治具 閉じ
CON
RES MR7909               ; IND1 ST3治具 開き
CON
SET MR7910               ; IND1 ST4治具 閉じ
CON
RES MR7911               ; IND1 ST4治具 開き
CON
TMH @11 #100
CON
AND @T11
JMP @MR1204
STG @MR1204
RES MR7901               ; IND1 ST1治具1(縦) 開き
CON
RES MR7903               ; IND1 ST1治具2(横) 開き
CON
RES MR7905               ; IND1 ST2治具1(縦) 開き
CON
RES MR7907               ; IND1 ST2治具2(横) 開き
CON
RES MR7908               ; IND1 ST3治具 閉じ
CON
RES MR7910               ; IND1 ST4治具 閉じ
CON
RES @MR1001              ; INDEX 原点復帰中
CON
SET R50410               ; INDEX 1ｻｲｸﾙ完了
CON
ENDS
;INDEX ST1ワーク残り　エラー解除・除材
STG @MR1208              ; ST1 ｹｰｽ有り
AND @MR111               ; Err173 INDEX Err3解除完了
JMP @MR1209              ; 2301
STG @MR1209              ; 2301
RES @MR111               ; Err173 INDEX Err3解除完了
CON
JMP @MR1108              ; 1108
;INDEX ワーク残りの為､INDEX回転
STG @MR1300              ; ST1以外にｹｰｽ有るかも
SET @MR2200              ; ﾜｰｸ浮きﾁｪｯｸ開始
CON
RES MR7010               ; 治具ｴｱｰ供給ﾉｽﾞﾙ 上昇
CON
AND R4003                ; IND1 ST1治具ｴｱｰ供給ﾉｽﾞﾙ 下限
AND R4005                ; IND1 ST2治具ｴｱｰ供給ﾉｽﾞﾙ 下限
AND R4007                ; IND1 ST3治具ｴｱｰ供給ﾉｽﾞﾙ 下限
AND R4009                ; IND1 ST4治具ｴｱｰ供給ﾉｽﾞﾙ 下限
RES MR7900               ; IND1 ST1治具1(縦) 閉じ
CON
RES MR7901               ; IND1 ST1治具1(縦) 開き
CON
RES MR7902               ; IND1 ST1治具2(横) 閉じ
CON
RES MR7903               ; IND1 ST1治具2(横) 開き
CON
SET @MR2200              ; ﾜｰｸ浮きﾁｪｯｸ開始
CON
JMP @MR1301              ; 1301
STG @MR1301              ; 1301
AND @MR2215              ; ﾜｰｸ浮きﾁｪｯｸ終了
RES @MR2215              ; ﾜｰｸ浮きﾁｪｯｸ終了
CON
JMP @MR1302              ; 1302
STG @MR1302              ; 1302
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
TMH @9 #10
CON
AND @T9
SET R50100               ; PACK INDEX
CON
JMP @MR1303              ; 1303
STG @MR1303              ; 1303
MPS
AND @MR005               ; INDEXｼﾘﾝﾀﾞ全干渉外
SET MR1002               ; INDEX 90°CW回転SUB
CON
DEC DM608                ; 原点復帰時INDEX回転回数
CON
JMP @MR1400              ; 1400
MPP
ANB @MR005               ; INDEXｼﾘﾝﾀﾞ全干渉外
SET @MR304               ; Err180 INDEX Err10
CON
JMP @MR1308              ; 1308
;Err180
STG @MR1308              ; 1308
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR307               ; Err180 INDEX Err10解除完了
JMP @MR1309              ; 1309
STG @MR1309              ; 1309
RES @MR307               ; Err180 INDEX Err10解除完了
CON
JMP @MR1300              ; ST1以外にｹｰｽ有るかも
;
STG @MR1400              ; 1400
AND MR1003               ; INDEX CW回転Fin
JMP @MR1401              ; 1401
STG @MR1401              ; 1401
RES MR1003               ; INDEX CW回転Fin
CON
JMP @MR1108              ; 1108
;<h1/>自動運転
;AUTO OERATION
LD R50001                ; AUTO
ANB R50200               ; INDEX Do
ANB @MR1500              ; INDEX AUTO
SET R50200               ; INDEX Do
CON
SET @MR1500              ; INDEX AUTO
LDB LR41100              ; AUTO-0 全ﾕﾆｯﾄ動作
ANB LR41101              ; AUTO-1 IND1 2UT
ANB LR41102              ; AUTO-2 IND1 3UT
ANB LR41103              ; AUTO-3 IND1 4UT
ANB LR41104              ; AUTO-4 IND2 3UT
ANB LR41105              ; AUTO-5 IND3 3UT
ANB LR41106              ; AUTO-6
ANB LR41107              ; AUTO-7
ANB LR41108              ; AUTO-8
OUB @MR013               ; INDEX AUTO Parameter OK
;AUTO Operation Parameter No? / auto動作Ｎｏ．は？
STG @MR1500              ; INDEX AUTO
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
AND @MR013               ; INDEX AUTO Parameter OK
JMP @MR1508              ; 4010
MPP
ANB @MR013               ; INDEX AUTO Parameter OK
JMP @MR1501              ; 4003
;動作パラメーター設定不良
;Parameter Set NG
STG @MR1501              ; 4003
SET R50009               ; HOLDRQ
CON
SET R50410               ; INDEX 1ｻｲｸﾙ完了
CON
ENDS
;
STG @MR1508              ; 4010
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
AND @MR006               ; 全治具閉じ
SET @MR2200              ; ﾜｰｸ浮きﾁｪｯｸ開始
CON
JMP @MR1510              ; 4008
MPP
ANB @MR006               ; 全治具閉じ
RES MR7006               ; INDEX位置決め 上昇
CON
SET MR7007               ; INDEX位置決め 下降
CON
SET MR7900               ; IND1 ST1治具1(縦) 閉じ
CON
RES MR7901               ; IND1 ST1治具1(縦) 開き
CON
SET MR7902               ; IND1 ST1治具2(横) 閉じ
CON
RES MR7903               ; IND1 ST1治具2(横) 開き
CON
SET MR7904               ; IND1 ST2治具1(縦) 閉じ 
CON
RES MR7905               ; IND1 ST2治具1(縦) 開き
CON
SET MR7906               ; IND1 ST2治具2(横) 閉じ
CON
RES MR7907               ; IND1 ST2治具2(横) 開き
CON
SET MR7908               ; IND1 ST3治具 閉じ
CON
RES MR7909               ; IND1 ST3治具 開き
CON
SET MR7910               ; IND1 ST4治具 閉じ
CON
RES MR7911               ; IND1 ST4治具 開き
CON
JMP @MR1509              ; 4007
STG @MR1509              ; 4007
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
TMH @16 #5
CON
AND @T16
SET @MR2200              ; ﾜｰｸ浮きﾁｪｯｸ開始
CON
JMP @MR1510              ; 4008
STG @MR1510              ; 4008
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR2215              ; ﾜｰｸ浮きﾁｪｯｸ終了
RES MR7900               ; IND1 ST1治具1(縦) 閉じ
CON
RES MR7902               ; IND1 ST1治具2(横) 閉じ
CON
RES MR7904               ; IND1 ST2治具1(縦) 閉じ 
CON
RES MR7906               ; IND1 ST2治具2(横) 閉じ
CON
RES MR7908               ; IND1 ST3治具 閉じ
CON
RES MR7910               ; IND1 ST4治具 閉じ
CON
RES @MR2215              ; ﾜｰｸ浮きﾁｪｯｸ終了
CON
JMP @MR1511              ; 4009
STG @MR1511              ; 4009
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR7010               ; 治具ｴｱｰ供給ﾉｽﾞﾙ 上昇
CON
AND R4003                ; IND1 ST1治具ｴｱｰ供給ﾉｽﾞﾙ 下限
AND R4005                ; IND1 ST2治具ｴｱｰ供給ﾉｽﾞﾙ 下限
AND R4007                ; IND1 ST3治具ｴｱｰ供給ﾉｽﾞﾙ 下限
AND R4009                ; IND1 ST4治具ｴｱｰ供給ﾉｽﾞﾙ 下限
AND R4001                ; IND1 INDEX位置決め 下限
JMP @MR1512
STG @MR1512
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
AND @MR005               ; INDEXｼﾘﾝﾀﾞ全干渉外
JMP @MR1600              ; 4011
MPP
ANB @MR005               ; INDEXｼﾘﾝﾀﾞ全干渉外
SET @MR304               ; Err180 INDEX Err10
CON
JMP @MR1514              ; 6908
;Err180 Release
STG @MR1514              ; 6908
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR307               ; Err180 INDEX Err10解除完了
JMP @MR1515              ; 6909
STG @MR1515              ; 6909
RES @MR307               ; Err180 INDEX Err10解除完了
CON
JMP @MR1508              ; 4010
;
STG @MR1600              ; 4011
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
SET R50100               ; PACK INDEX
CON
SET @MR2300              ; INDEX上ｹｰｽ記憶開始
CON
JMP @MR1601              ; 4012
STG @MR1601              ; 4012
AND @MR2301              ; INDEX上ｹｰｽ記憶完了
JMP @MR1602              ; 4013
STG @MR1602              ; 4013
MPS
AND @MR005               ; INDEXｼﾘﾝﾀﾞ全干渉外
RES @MR2301              ; INDEX上ｹｰｽ記憶完了
CON
JMP @MR1605              ; 4014
MPP
ANB @MR005               ; INDEXｼﾘﾝﾀﾞ全干渉外
SET @MR304               ; Err180 INDEX Err10
CON
JMP @MR1603
;Err180
STG @MR1603
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR307               ; Err180 INDEX Err10解除完了
JMP @MR1604
STG @MR1604
RES @MR307               ; Err180 INDEX Err10解除完了
CON
JMP @MR1600              ; 4011
;
STG @MR1605              ; 4014
SET MR1002               ; INDEX 90°CW回転SUB
CON
JMP @MR1700              ; 4100
STG @MR1700              ; 4100
AND MR1003               ; INDEX CW回転Fin
RES MR1003               ; INDEX CW回転Fin
CON
JMP @MR1701              ; 4101
STG @MR1701              ; 4101
TMH @7 #2
CON
AND @T7
RES R50100               ; PACK INDEX
CON
AND R1106                ; INDEX Alarm1 正常=ON
AND R1107                ; INDEX Alarm2 正常=ON
JMP @MR1702              ; 4102
STG @MR1702              ; 4102
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
SET MR7010               ; 治具ｴｱｰ供給ﾉｽﾞﾙ 上昇
CON
AND R4002                ; IND1 ST1治具ｴｱｰ供給ﾉｽﾞﾙ 上限
AND R4004                ; IND1 ST2治具ｴｱｰ供給ﾉｽﾞﾙ 上限
AND R4006                ; IND1 ST3治具ｴｱｰ供給ﾉｽﾞﾙ 上限
AND R4008                ; IND1 ST4治具ｴｱｰ供給ﾉｽﾞﾙ 上限
JMP @MR1703
STG @MR1703
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR7900               ; IND1 ST1治具1(縦) 閉じ
CON
SET MR7901               ; IND1 ST1治具1(縦) 開き
CON
RES MR7902               ; IND1 ST1治具2(横) 閉じ
CON
SET MR7903               ; IND1 ST1治具2(横) 開き
CON
JMP @MR1800              ; UT1 ｹｰｽ確認終了
;動作終了
STG @MR1800              ; UT1 ｹｰｽ確認終了
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
JMP @MR1801              ; 4111
STG @MR1801              ; 4111
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
JMP @MR1802              ; 4112
STG @MR1802              ; 4112
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
TMH @17 #2
CON
AND @T17
SET R50410               ; INDEX 1ｻｲｸﾙ完了
CON
ENDS
;サブルーチン
;Subroutine
;INDEX 原点復帰動作
;INDEX HOME
;The starting point return of an index is program No.5.  
;By 4 division specification, it moves to a starting point position by the shortest. 
;/ ｲﾝﾃﾞｯｸｽの原点復帰は、ﾌﾟﾛｸﾞﾗﾑNo.５　4分割指定で、近周りで原点位置へ移動する
STG MR1000               ; INDEX原点復帰SUB
SET MR2110               ; INDEX    非常停止
CON
SET MR2103               ; INDEX電源ON
CON
TMH @3 #15
CON
AND @T3
JMP @MR2000              ; 6003
STG @MR2000              ; 6003
SET MR2107               ; INDEXﾘｾｯﾄ
CON
JMP @MR2001              ; 6004
STG @MR2001              ; 6004
AND R1106                ; INDEX Alarm1 正常=ON
AND R1107                ; INDEX Alarm2 正常=ON
RES MR2107               ; INDEXﾘｾｯﾄ
CON
JMP @MR2002              ; 6005
STG @MR2002              ; 6005
AND R1105                ; INDEX起動待ち
RES MR2112               ; INDEXﾌﾟﾛｸﾞﾗﾑ 0bit
CON
SET MR2113               ; INDEXﾌﾟﾛｸﾞﾗﾑ 1bit
CON
SET MR2114               ; INDEXﾌﾟﾛｸﾞﾗﾑ 2bit
CON
TMH @12 #10
CON
AND @T12
SET MR2106               ; INDEXﾌﾟﾛｸﾞﾗﾑ 1桁
CON
JMP @MR2003              ; 6006
STG @MR2003              ; 6006
TMH @13 #10
CON
AND @T13
SET R50205               ; INDEX回転中（SET/RST）
CON
SET MR2108               ; INDEXｽﾀｰﾄ
CON
ANB R1105                ; INDEX起動待ち
JMP @MR2004              ; 6007
STG @MR2004              ; 6007
RES MR2106               ; INDEXﾌﾟﾛｸﾞﾗﾑ 1桁
CON
RES MR2108               ; INDEXｽﾀｰﾄ
CON
ZRES MR2112 MR2115       ; INDEXﾌﾟﾛｸﾞﾗﾑ 0bit  IDX ﾌﾟﾛｸﾞﾗﾑNo. 3bit
CON
AND R1104                ; INDEX位置決め完了
SET MR2109               ; INDEXｱﾝｻ
CON
JMP @MR2005
STG @MR2005
ANB R1104                ; INDEX位置決め完了
RES MR2109               ; INDEXｱﾝｻ
CON
RES R50205               ; INDEX回転中（SET/RST）
CON
DW #0 DM609              ; INDEX位置記憶
CON
JMP @MR2006
STG @MR2006
SET MR1001               ; INDEX原点復帰完了
CON
ENDS
;90 degrees positive rotation of an index chooses program No.0 to 3 in order, and starts it. 
;By 4 division specification, it moves to the following position of four positions. 
;If movement is completed, the following specification will be written in DM. 
; / ｲﾝﾃﾞｯｸｽの90度正回転は、ﾌﾟﾛｸﾞﾗﾑNo．０から３を順に選択し起動する
;4分割指定で、4位置の次位置へ移動する、移動が完了したらDMに次の指定を書込む
STG MR1002               ; INDEX 90°CW回転SUB
SET MR1011               ; INDEX監視
CON
SET MR2110               ; INDEX    非常停止
CON
JMP @MR2100              ; INDEX 　　 CW回転sig
STG @MR2100              ; INDEX 　　 CW回転sig
AND R1105                ; INDEX起動待ち
MPS
AND= DM609 #0            ; INDEX位置記憶
SET MR2112               ; INDEXﾌﾟﾛｸﾞﾗﾑ 0bit
CON
RES MR2113               ; INDEXﾌﾟﾛｸﾞﾗﾑ 1bit
CON
RES MR2114               ; INDEXﾌﾟﾛｸﾞﾗﾑ 2bit
CON
JMP @MR2101              ; 6103
MRD
AND= DM609 #1            ; INDEX位置記憶
RES MR2112               ; INDEXﾌﾟﾛｸﾞﾗﾑ 0bit
CON
SET MR2113               ; INDEXﾌﾟﾛｸﾞﾗﾑ 1bit
CON
RES MR2114               ; INDEXﾌﾟﾛｸﾞﾗﾑ 2bit
CON
JMP @MR2101              ; 6103
MRD
AND= DM609 #2            ; INDEX位置記憶
SET MR2112               ; INDEXﾌﾟﾛｸﾞﾗﾑ 0bit
CON
SET MR2113               ; INDEXﾌﾟﾛｸﾞﾗﾑ 1bit
CON
RES MR2114               ; INDEXﾌﾟﾛｸﾞﾗﾑ 2bit
CON
JMP @MR2101              ; 6103
MPP
AND= DM609 #3            ; INDEX位置記憶
RES MR2112               ; INDEXﾌﾟﾛｸﾞﾗﾑ 0bit
CON
RES MR2113               ; INDEXﾌﾟﾛｸﾞﾗﾑ 1bit
CON
RES MR2114               ; INDEXﾌﾟﾛｸﾞﾗﾑ 2bit
CON
JMP @MR2101              ; 6103
STG @MR2101              ; 6103
TMH @14 #3
CON
AND @T14
SET MR2106               ; INDEXﾌﾟﾛｸﾞﾗﾑ 1桁
CON
JMP @MR2102              ; 6104
STG @MR2102              ; 6104
TMH @15 #3
CON
AND @T15
SET R50205               ; INDEX回転中（SET/RST）
CON
SET MR2108               ; INDEXｽﾀｰﾄ
CON
JMP @MR2103              ; 6200
STG @MR2103              ; 6200
ANB R1105                ; INDEX起動待ち
RES MR2106               ; INDEXﾌﾟﾛｸﾞﾗﾑ 1桁
CON
RES MR2108               ; INDEXｽﾀｰﾄ
CON
ZRES MR2112 MR2115       ; INDEXﾌﾟﾛｸﾞﾗﾑ 0bit  IDX ﾌﾟﾛｸﾞﾗﾑNo. 3bit
CON
JMP @MR2104              ; 6201
STG @MR2104              ; 6201
AND R1104                ; INDEX位置決め完了
SET MR2109               ; INDEXｱﾝｻ
CON
JMP @MR2105              ; 6202
STG @MR2105              ; 6202
ANB R1104                ; INDEX位置決め完了
RES MR2109               ; INDEXｱﾝｻ
CON
RES R50205               ; INDEX回転中（SET/RST）
CON
RES MR1011               ; INDEX監視
CON
MPS
AND<= DM609 #2           ; INDEX位置記憶
JMP @MR2106              ; 6204
MPP
AND>= DM609 #3           ; INDEX位置記憶
JMP @MR2107              ; 6205
STG @MR2106              ; 6204
INC DM609                ; INDEX位置記憶
CON
JMP @MR2108              ; 6206
STG @MR2107              ; 6205
DW #0 DM609              ; INDEX位置記憶
CON
JMP @MR2108              ; 6206
STG @MR2108              ; 6206
MPS
SET MR1003               ; INDEX CW回転Fin
CON
ENDS
MRD
WSR DM602 #3 #1          ; NGﾜｰｸﾌﾗｸﾞ IND1_ST2
MRD
WSR DM610 #3 #1          ; ST1 Work Memory
MRD
WSR DM820 #16 #4         ; ST1_1 ﾜｰｸ有無(0=無)
MPP
WSR DM3280 #320 #80      ; ST1-IN-No1 QRID-1
;Floating check
;
STG @MR2200              ; ﾜｰｸ浮きﾁｪｯｸ開始
MPS
ANB MR914                ; 使用注意！ 浮き無視
MPS
LD R4104                 ; IND1 ST1 ﾜｰｸ浮き検出(外側)
AND R4105                ; IND1 ST1 ﾜｰｸ浮き検出(Index側)
ANL
JMP @MR2201              ; 3101
MPP
LDB R4104                ; IND1 ST1 ﾜｰｸ浮き検出(外側)
ORB R4105                ; IND1 ST1 ﾜｰｸ浮き検出(Index側)
ANL
TMR @20 #10
CON
AND @T20
SET @MR308               ; Err181 INDEX Err11
CON
JMP @MR2205
MPP
AND MR914                ; 使用注意！ 浮き無視
JMP @MR2204              ; 3104
STG @MR2201              ; 3101
MPS
LD R4204                 ; IND1 ST2 ﾜｰｸ浮き検出(外側)
AND R4205                ; IND1 ST2 ﾜｰｸ浮き検出(Index側)
ANL
JMP @MR2202              ; 3102
MPP
LDB R4204                ; IND1 ST2 ﾜｰｸ浮き検出(外側)
ORB R4205                ; IND1 ST2 ﾜｰｸ浮き検出(Index側)
ANL
TMR @21 #10
CON
AND @T21
SET @MR312               ; Err182 INDEX Err12
CON
JMP @MR2206
STG @MR2202              ; 3102
MPS
LD R4210                 ; IND1 ST3 ﾜｰｸ浮き検出(外側)
AND R4211                ; IND1 ST3 ﾜｰｸ浮き検出(Index側)
ANL
JMP @MR2203              ; 3103
MPP
LDB R4210                ; IND1 ST3 ﾜｰｸ浮き検出(外側)
ORB R4211                ; IND1 ST3 ﾜｰｸ浮き検出(Index側)
ANL
TMR @22 #10
CON
AND @T22
SET @MR400               ; Err183 INDEX Err13
CON
JMP @MR2207
STG @MR2203              ; 3103
MPS
LD R4213                 ; IND1 ST4 ﾜｰｸ浮き検出(外側)
AND R4214                ; IND1 ST4 ﾜｰｸ浮き検出(Index側)
ANL
JMP @MR2204              ; 3104
MPP
LDB R4213                ; IND1 ST4 ﾜｰｸ浮き検出(外側)
ORB R4214                ; IND1 ST4 ﾜｰｸ浮き検出(Index側)
ANL
TMR @23 #10
CON
AND @T23
SET @MR404               ; Err184 INDEX Err14
CON
JMP @MR2208
STG @MR2204              ; 3104
SET @MR2215              ; ﾜｰｸ浮きﾁｪｯｸ終了
CON
ENDS
;Err181-184 Cartridge Flowting Detection Before turn
STG @MR2205
ANB R50110               ; Err INDEX
AND @MR311               ; Err181 INDEX Err11解除完了
RES @MR311               ; Err181 INDEX Err11解除完了
CON
JMP @MR2200              ; ﾜｰｸ浮きﾁｪｯｸ開始
STG @MR2206
ANB R50110               ; Err INDEX
AND @MR315               ; Err182 INDEX Err12解除完了
RES @MR315               ; Err182 INDEX Err12解除完了
CON
JMP @MR2200              ; ﾜｰｸ浮きﾁｪｯｸ開始
STG @MR2207
ANB R50110               ; Err INDEX
AND @MR403               ; Err183 INDEX Err13解除完了
RES @MR403               ; Err183 INDEX Err13解除完了
CON
JMP @MR2200              ; ﾜｰｸ浮きﾁｪｯｸ開始
STG @MR2208
ANB R50110               ; Err INDEX
AND @MR407               ; Err184 INDEX Err14解除完了
RES @MR407               ; Err184 INDEX Err14解除完了
CON
JMP @MR2200              ; ﾜｰｸ浮きﾁｪｯｸ開始
;
;<h1/>ｽﾃｯﾌﾟ運転
;STEP OERATION
LD R50002                ; STEP
ANB R50115               ; INDEX Do   (STEP)
AND LR40600              ; INDEX STEP-01 flag
ANB LR40601              ; INDEX STEP-02 flag
ANB LR40602              ; INDEX STEP-IND2 flag
SET R50115               ; INDEX Do   (STEP)
CON
SET @MR2500              ; INDEX STEP開始
LDB R50003               ; HOME
ANB R50001               ; AUTO
ANB R50002               ; STEP
LD @MR2501               ; INDEX STEP完了
OR R50410                ; INDEX 1ｻｲｸﾙ完了
ANL
RES R50115               ; INDEX Do   (STEP)
CON
RES @MR2501              ; INDEX STEP完了
;動作パラメーター確認
;No.0　90°正転
STG @MR2500              ; INDEX STEP開始
ANB R50300               ; Pause
ANB R50110               ; Err INDEX
MPS
AND LR40600              ; INDEX STEP-01 flag
JMP @MR2600              ; STEP
MPP
ANB LR40600              ; INDEX STEP-01 flag
JMP @MR2502              ; ﾊﾟﾗﾒｰﾀｰNo.NG
;動作パラメーター設定不良
STG @MR2502              ; ﾊﾟﾗﾒｰﾀｰNo.NG
SET R50410               ; INDEX 1ｻｲｸﾙ完了
CON
ENDS
;STEP通常動作
STG @MR2600              ; STEP
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
ANB _ST1
ANB _ST2
ANB _ST3
ANB _ST4
JMP @MR2601              ; 4608
STG @MR2601              ; 4608
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR7900               ; IND1 ST1治具1(縦) 閉じ
CON
RES MR7901               ; IND1 ST1治具1(縦) 開き
CON
RES MR7902               ; IND1 ST1治具2(横) 閉じ
CON
RES MR7903               ; IND1 ST1治具2(横) 開き
CON
TMR @18 #2
CON
AND @T18
SET @MR2200              ; ﾜｰｸ浮きﾁｪｯｸ開始
CON
JMP @MR2602              ; 4609
STG @MR2602              ; 4609
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR2215              ; ﾜｰｸ浮きﾁｪｯｸ終了
RES MR7010               ; 治具ｴｱｰ供給ﾉｽﾞﾙ 上昇
CON
AND R4003                ; IND1 ST1治具ｴｱｰ供給ﾉｽﾞﾙ 下限
AND R4005                ; IND1 ST2治具ｴｱｰ供給ﾉｽﾞﾙ 下限
AND R4007                ; IND1 ST3治具ｴｱｰ供給ﾉｽﾞﾙ 下限
AND R4009                ; IND1 ST4治具ｴｱｰ供給ﾉｽﾞﾙ 下限
RES @MR2215              ; ﾜｰｸ浮きﾁｪｯｸ終了
CON
JMP @MR2603              ; 4701
STG @MR2603              ; 4701
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
AND @MR005               ; INDEXｼﾘﾝﾀﾞ全干渉外
JMP @MR2700              ; 4702
MPP
ANB @MR005               ; INDEXｼﾘﾝﾀﾞ全干渉外
SET @MR304               ; Err180 INDEX Err10
CON
JMP @MR2608              ; 4712
;Err180 Release
STG @MR2608              ; 4712
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR307               ; Err180 INDEX Err10解除完了
JMP @MR2609              ; 4713
STG @MR2609              ; 4713
RES @MR307               ; Err180 INDEX Err10解除完了
CON
JMP @MR2603              ; 4701
;
STG @MR2700              ; 4702
SET R50100               ; PACK INDEX
CON
JMP @MR2701              ; 4703
STG @MR2701              ; 4703
MPS
AND @MR005               ; INDEXｼﾘﾝﾀﾞ全干渉外
SET MR1002               ; INDEX 90°CW回転SUB
CON
JMP @MR2702              ; 4704
MPP
ANB @MR005               ; INDEXｼﾘﾝﾀﾞ全干渉外
SET @MR304               ; Err180 INDEX Err10
CON
JMP @MR2703              ; 4800
;Err180
STG @MR2703              ; 4800
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR307               ; Err180 INDEX Err10解除完了
JMP @MR2704
STG @MR2704
RES @MR307               ; Err180 INDEX Err10解除完了
CON
JMP @MR2700              ; 4702
STG @MR2702              ; 4704
AND MR1003               ; INDEX CW回転Fin
JMP @MR2708              ; 4705
;
STG @MR2708              ; 4705
RES MR1003               ; INDEX CW回転Fin
CON
JMP @MR2709              ; 4706
STG @MR2709              ; 4706
TMH @10 #20
CON
AND @T10
RES R50100               ; PACK INDEX
CON
AND R1106                ; INDEX Alarm1 正常=ON
AND R1107                ; INDEX Alarm2 正常=ON
JMP @MR2714
;
STG @MR2714
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
SET MR7010               ; 治具ｴｱｰ供給ﾉｽﾞﾙ 上昇
CON
AND R4002                ; IND1 ST1治具ｴｱｰ供給ﾉｽﾞﾙ 上限
AND R4004                ; IND1 ST2治具ｴｱｰ供給ﾉｽﾞﾙ 上限
AND R4006                ; IND1 ST3治具ｴｱｰ供給ﾉｽﾞﾙ 上限
AND R4008                ; IND1 ST4治具ｴｱｰ供給ﾉｽﾞﾙ 上限
JMP @MR2715              ; 4708
STG @MR2715              ; 4708
AND @MR015               ; INDEX ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR7900               ; IND1 ST1治具1(縦) 閉じ
CON
SET MR7901               ; IND1 ST1治具1(縦) 開き
CON
RES MR7902               ; IND1 ST1治具2(横) 閉じ
CON
SET MR7903               ; IND1 ST1治具2(横) 開き
CON
SET R50009               ; HOLDRQ
CON
SET R50410               ; INDEX 1ｻｲｸﾙ完了
CON
ENDS
;INDEX上ｹｰｽ記憶
;INDEX Case Memory
STG @MR2300              ; INDEX上ｹｰｽ記憶開始
SET @MR2302              ; INDEX上ｹｰｽ記憶中
CON
MPS
LD R4100                 ; IND1 ST1 ﾜｰｸ1検出(ST4側)
OR R4101                 ; IND1 ST1 ﾜｰｸ2検出(中1側)
OR R4102                 ; IND1 ST1 ﾜｰｸ3検出(中2側)
OR R4103                 ; IND1 ST1 ﾜｰｸ4検出(ST2側)
ANL
BSET DM610 #0            ; ST1 Work Memory
CON
JMP @MR2303              ; 6403
MPP
LDB R4100                ; IND1 ST1 ﾜｰｸ1検出(ST4側)
ANB R4101                ; IND1 ST1 ﾜｰｸ2検出(中1側)
ANB R4102                ; IND1 ST1 ﾜｰｸ3検出(中2側)
ANB R4103                ; IND1 ST1 ﾜｰｸ4検出(ST2側)
ANL
BRES DM610 #0            ; ST1 Work Memory
CON
JMP @MR2303              ; 6403
STG @MR2303              ; 6403
MPS
AND R4200                ; IND1 ST2 ﾜｰｸ検出1(ST1側)
BSET DM611 #0            ; ST2 Work Memory
CON
JMP @MR2304              ; 6404
MPP
ANB R4200                ; IND1 ST2 ﾜｰｸ検出1(ST1側)
BRES DM611 #0            ; ST2 Work Memory
CON
JMP @MR2304              ; 6404
STG @MR2304              ; 6404
MPS
LD R4206                 ; IND1 ST3 ﾜｰｸ1検出(ST2側)
OR R4207                 ; IND1 ST3 ﾜｰｸ2検出(中1側)
OR R4208                 ; IND1 ST3 ﾜｰｸ3検出(中2側)
OR R4209                 ; IND1 ST3 ﾜｰｸ4検出(ST4側)
ANL
BSET DM612 #0            ; ST3 Work Memory
CON
JMP @MR2305              ; 6405
MPP
LDB R4206                ; IND1 ST3 ﾜｰｸ1検出(ST2側)
ANB R4207                ; IND1 ST3 ﾜｰｸ2検出(中1側)
ANB R4208                ; IND1 ST3 ﾜｰｸ3検出(中2側)
ANB R4209                ; IND1 ST3 ﾜｰｸ4検出(ST4側)
ANL
BRES DM612 #0            ; ST3 Work Memory
CON
JMP @MR2305              ; 6405
STG @MR2305              ; 6405
MPS
AND R4212                ; IND1 ST4 ﾜｰｸ検出
BSET DM613 #0            ; ST4 Work Memory
CON
JMP @MR2306              ; 6406
MPP
ANB R4212                ; IND1 ST4 ﾜｰｸ検出
BRES DM613 #0            ; ST4 Work Memory
CON
JMP @MR2306              ; 6406
STG @MR2306              ; 6406
RES @MR2302              ; INDEX上ｹｰｽ記憶中
CON
SET @MR2301              ; INDEX上ｹｰｽ記憶完了
CON
ENDS
;
;<h1/>Err
;Err173
;原点復帰時ﾜｰｸ有り
STG @MR108               ; Err173 INDEX Err3
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50110               ; Err INDEX
CON
JMP @MR109               ; 109
MOV #173 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR109               ; 109
AND R50008               ; Error
JMP @MR110               ; 110
STG @MR110               ; 110
ANB R50008               ; Error
SET @MR111               ; Err173 INDEX Err3解除完了
CON
ENDS
;Error174-176
;到着ワーク不良・除材確認 / Arrival Work NG, Remove Check
STG @MR112               ; Err174 INDEX Err4
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50110               ; Err INDEX
CON
MPS
AND= DM605 #2            ; INDEX-NGﾜｰｸﾁｪｯｸ
JMP @MR113               ; 113
MRD
AND= DM605 #3            ; INDEX-NGﾜｰｸﾁｪｯｸ
SET LR49914              ; ｴﾗｰﾘｾｯﾄｷｰ要求
CON
JMP @MR113               ; 113
MPP
AND= DM605 #4            ; INDEX-NGﾜｰｸﾁｪｯｸ
SET LR49914              ; ｴﾗｰﾘｾｯﾄｷｰ要求
CON
JMP @MR113               ; 113
STG @MR113               ; 113
AND R50008               ; Error
JMP @MR114               ; 114
STG @MR114               ; 114
ANB R50008               ; Error
SET @MR115               ; Err174 INDEX Err4解除完了
CON
ENDS
;Error177,178
;ﾜｰｸ検出異常 / Work Detect is Abnormal
STG @MR208               ; Err177 INDEX Err7
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50110               ; Err INDEX
CON
JMP @MR209               ; 209
MPS
ANB @MR100               ; ﾜｰｸ有り異常
MOV #177 DM400           ; ﾒｯｾｰｼﾞNo.
MPP
AND @MR100               ; ﾜｰｸ有り異常
MOV #178 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR209               ; 209
AND R50008               ; Error
JMP @MR210               ; 210
STG @MR210               ; 210
ANB R50008               ; Error
RES @MR100               ; ﾜｰｸ有り異常
CON
SET @MR211               ; Err177 INDEX Err7解除完了
CON
ENDS
;Error180
;INDEX 干渉ｼﾘﾝﾀﾞ有り
;INDEX interference CY Detect
STG @MR304               ; Err180 INDEX Err10
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50110               ; Err INDEX
CON
JMP @MR305               ; 305
MOV #180 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR305               ; 305
AND R50008               ; Error
JMP @MR306               ; 306
STG @MR306               ; 306
ANB R50008               ; Error
SET @MR307               ; Err180 INDEX Err10解除完了
CON
ENDS
;Err181 ST1 Cartridge Flowting Detection Before turn
STG @MR308               ; Err181 INDEX Err11
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50110               ; Err INDEX
CON
JMP @MR309               ; 309
MOV #181 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR309               ; 309
AND R50008               ; Error
JMP @MR310               ; 310
STG @MR310               ; 310
ANB R50008               ; Error
SET @MR311               ; Err181 INDEX Err11解除完了
CON
ENDS
;Err182 ST2 Cartridge Flowting Detection Before turn
STG @MR312               ; Err182 INDEX Err12
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50110               ; Err INDEX
CON
JMP @MR313               ; 313
MOV #182 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR313               ; 313
AND R50008               ; Error
JMP @MR314               ; 314
STG @MR314               ; 314
ANB R50008               ; Error
SET @MR315               ; Err182 INDEX Err12解除完了
CON
ENDS
;Err183 ST3 Cartridge Flowting Detection Before turn
STG @MR400               ; Err183 INDEX Err13
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50110               ; Err INDEX
CON
JMP @MR401               ; 401
MOV #183 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR401               ; 401
AND R50008               ; Error
JMP @MR402               ; 402
STG @MR402               ; 402
ANB R50008               ; Error
SET @MR403               ; Err183 INDEX Err13解除完了
CON
ENDS
;Err184 ST4 Cartridge Flowting Detection Before turn
STG @MR404               ; Err184 INDEX Err14
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50110               ; Err INDEX
CON
JMP @MR405               ; 405
MOV #184 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR405               ; 405
AND R50008               ; Error
JMP @MR406               ; 406
STG @MR406               ; 406
ANB R50008               ; Error
SET @MR407               ; Err184 INDEX Err14解除完了
CON
ENDS
END
ENDH
