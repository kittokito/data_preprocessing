DEVICE:53
;MODULE:OneSystem5_Cover
;MODULE_TYPE:0
;OneSystem Master-Module
;
;-----------------------------------------
;ModuleName	:	OneSystem5_Cover
;ModuleType	:	Master Module
;Function	:	Safety Cover/Pause
;-----------------------------------------
;
;Copylight(C) 2011 SEIKO EPSON Corp. All rights reserved.
;<h1/>Safety Cover1/安全ｶﾊﾞｰ1処理
;●安全ｶﾊﾞｰ有効sig出力
LD>= DM9200 #1           ; _Group1ﾀｽｸ登録数
AND R59800               ; _安全ｶﾊﾞｰ1使用有無
MPS
OUT R40200               ; _安全ｶﾊﾞｰ1使用時出力
MPP
AND CR2008               ; 運転開始時1ｽｷｬﾝON
SET R46900               ; _安全ｶﾊﾞｰ閉要求sig
CON
SET @R009                ; 電源投入時ﾛｯｸ確認
;●電源投入時安全ｶﾊﾞｰﾛｯｸ&確認
;(ﾛｯｸしたのにﾛｯｸ入力が入らなければﾛｯｸ要求処理へ)
STG @R009                ; 電源投入時ﾛｯｸ確認
MPS
ANB R44303               ; *Group1　安全ｶﾊﾞｰ入力
SET R46700               ; _安全ｶﾊﾞｰ1開処理中
CON
SET R46200               ; _安全ｶﾊﾞｰ1開中
CON
JMP @R005                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
MPP
AND R44303               ; *Group1　安全ｶﾊﾞｰ入力
ENDS
;●ｶﾊﾞｰ開要求ｽｲｯﾁ(COVER_SW)待ち
;●安全ｶﾊﾞｰ不正開監視
;	安全ｶﾊﾞｰ開要求が出ていないのに安全ｶﾊﾞｰ入力がOFFした
LD R40200                ; _安全ｶﾊﾞｰ1使用時出力
ANB R46700               ; _安全ｶﾊﾞｰ1開処理中
ANB R44400               ; *Group1　ｽﾀｰﾄSW
ANB R44401               ; *Group1　ｽﾄｯﾌﾟSW
MPS
LD R44303                ; *Group1　安全ｶﾊﾞｰ入力
ANP R44402               ; *Group1　ｶﾊﾞｰ開要求SW
ANL
SET R46700               ; _安全ｶﾊﾞｰ1開処理中
CON
SET R46800               ; _安全ｶﾊﾞｰ1開待ち状態
CON
SET @R000                ; PAUSE出力
MRD
LD @R010                 ; 安全ｶﾊﾞｰ不正開出力済
ANB R44303               ; *Group1　安全ｶﾊﾞｰ入力
ANL
SET R46700               ; _安全ｶﾊﾞｰ1開処理中
CON
SET R46200               ; _安全ｶﾊﾞｰ1開中
CON
SET @R005                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
MPP
LDB @R010                ; 安全ｶﾊﾞｰ不正開出力済
ORB R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R44303               ; *Group1　安全ｶﾊﾞｰ入力
ANL
MOV #65 DM2003           ; _ｼｽﾃﾑｴﾗｰｺｰﾄﾞ
SET @R010                ; 安全ｶﾊﾞｰ不正開出力済
CON
SET R40009               ; _OneSystem優先ｴﾗｰ要求
LDF R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
RES @R010                ; 安全ｶﾊﾞｰ不正開出力済
;●各Taskへﾎﾟｰｽﾞ要求通知(PAUSE)
STG @R000                ; PAUSE出力
MPS
LDB R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R50700               ; _Group1 ｴｱｰ元圧状態
ANL
SET R44200               ; _Grp1     ﾎﾟｰｽﾞ要求
CON
JMP @R001                ; 全ﾀｽｸHALT待ち
MPP
LD R46103                ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R46104                ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R50700                ; _Group1 ｴｱｰ元圧状態
ANL
SET R40500               ; _安全ｶﾊﾞｰ1解除ﾕｰｻﾞｰSTG
CON
JMP @R002                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
;●各TaskからのHALT出力待ち
;・起動中全TaskからのHALT待ち
STG @R001                ; 全ﾀｽｸHALT待ち
AND=.D R42600 R41000     ; _Grp1_Task0_ﾎﾟｰｽﾞ許可  _Grp1_Task0_起動中ﾌﾗｸﾞ
SET R40500               ; _安全ｶﾊﾞｰ1解除ﾕｰｻﾞｰSTG
CON
JMP @R002                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
;●SC_Before
;ｶﾊﾞｰﾛｯｸ解除可／不可確認(ﾕｰｻﾞｰ解放)
STG @R002                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
ANB R40500               ; _安全ｶﾊﾞｰ1解除ﾕｰｻﾞｰSTG
MPS
AND R40600               ; _安全ｶﾊﾞｰ1ﾛｯｸ解除OK
RES R40600               ; _安全ｶﾊﾞｰ1ﾛｯｸ解除OK
CON
JMP @R003                ; 安全ｶﾊﾞｰﾛｯｸ解除
MPP
AND R40601               ; _安全ｶﾊﾞｰ1ﾛｯｸ解除NG
RES R40601               ; _安全ｶﾊﾞｰ1ﾛｯｸ解除NG
CON
ZRES R42600:#0 R42600:#31; _Grp1_Task0_ﾎﾟｰｽﾞ許可  _Grp1_Task31_ﾎﾟｰｽﾞ許可
CON
RES R46800               ; _安全ｶﾊﾞｰ1開待ち状態
CON
RES R44200               ; _Grp1     ﾎﾟｰｽﾞ要求
CON
RES R46700               ; _安全ｶﾊﾞｰ1開処理中
CON
ENDS
;●安全ｶﾊﾞｰﾛｯｸ解除
STG @R003                ; 安全ｶﾊﾞｰﾛｯｸ解除
RES R46900               ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R004                ; 安全ｶﾊﾞｰﾛｯｸ解除待ち
STG @R004                ; 安全ｶﾊﾞｰﾛｯｸ解除待ち
RES R46800               ; _安全ｶﾊﾞｰ1開待ち状態
CON
SET R46200               ; _安全ｶﾊﾞｰ1開中
CON
JMP @R005                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
;●安全ｶﾊﾞｰﾛｯｸ要求(操作BOXｽﾀｰﾄSW or 3連BOXｽﾀｰﾄSW)待ち
STG @R005                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
LDP R44400               ; *Group1　ｽﾀｰﾄSW
ORP R44406               ; *Group1　ｶﾊﾞｰ継続実行SW
ANL
SET R46900               ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R006                ; 安全ｶﾊﾞｰﾛｯｸ待ち
;●安全ｶﾊﾞｰﾛｯｸ〜入力確認
;(ﾛｯｸ入力入らなければ再度ﾛｯｸ要求待ちへ)
STG @R006                ; 安全ｶﾊﾞｰﾛｯｸ待ち
MPS
AND R44303               ; *Group1　安全ｶﾊﾞｰ入力
SET R40501               ; _安全ｶﾊﾞｰ1ﾛｯｸﾕｰｻﾞｰSTG
CON
JMP @R007                ; SC_After処理
MPP
ANB R44303               ; *Group1　安全ｶﾊﾞｰ入力
TMR @0 DM9352            ; 安全ｶﾊﾞｰﾛｯｸ確認時間  _安全ｶﾊﾞｰﾛｯｸ確認時間
CON
AND @T0                  ; 安全ｶﾊﾞｰﾛｯｸ確認時間
RES R46900               ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R005                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
;●SC_After
;ｶﾊﾞｰﾛｯｸ可／不可確認(ﾕｰｻﾞｰ解放)
STG @R007                ; SC_After処理
ANB R40501               ; _安全ｶﾊﾞｰ1ﾛｯｸﾕｰｻﾞｰSTG
MPS
AND R40700               ; _安全ｶﾊﾞｰ1ﾛｯｸOK
RES R46200               ; _安全ｶﾊﾞｰ1開中
CON
RES R40700               ; _安全ｶﾊﾞｰ1ﾛｯｸOK
CON
JMP @R008                ; 安全ｶﾊﾞｰ処理終了
MPP
AND R40701               ; _安全ｶﾊﾞｰ1ﾛｯｸNG
RES R40701               ; _安全ｶﾊﾞｰ1ﾛｯｸNG
CON
JMP @R003                ; 安全ｶﾊﾞｰﾛｯｸ解除
STG @R008                ; 安全ｶﾊﾞｰ処理終了
ANB R44400               ; *Group1　ｽﾀｰﾄSW
ANB R50600               ; _元圧検出1無効宣言
ZRES R42600:#0 R42600:#31; _Grp1_Task0_ﾎﾟｰｽﾞ許可  _Grp1_Task31_ﾎﾟｰｽﾞ許可
CON
RES R44200               ; _Grp1     ﾎﾟｰｽﾞ要求
CON
RES R46700               ; _安全ｶﾊﾞｰ1開処理中
CON
ENDS
;<h1/>Safety Cover2/安全ｶﾊﾞｰ2処理
;●安全ｶﾊﾞｰ有効出力
;運転開始時に安全ｶﾊﾞｰﾛｯｸ出力(ONでﾛｯｸ)
LD>= DM9200:#1 #1        ; _Group2ﾀｽｸ登録数
AND R59800:#1            ; _安全ｶﾊﾞｰ2使用有無
MPS
OUT R40200:#1            ; _安全ｶﾊﾞｰ2使用時出力
MPP
AND CR2008               ; 運転開始時1ｽｷｬﾝON
SET R46900:#1            ; _安全ｶﾊﾞｰ閉要求sig
CON
SET @R109                ; 電源投入時ﾛｯｸ確認
;●電源投入時ﾛｯｸ確認
;(ﾛｯｸしたのにﾛｯｸ入力が入らなければﾛｯｸ要求処理へ)
STG @R109                ; 電源投入時ﾛｯｸ確認
MPS
ANB R44607               ; *Group2　安全ｶﾊﾞｰ入力
SET R46701               ; _安全ｶﾊﾞｰ2開処理中
CON
SET R46201               ; _安全ｶﾊﾞｰ2開中
CON
JMP @R105                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
MPP
AND R44607               ; *Group2　安全ｶﾊﾞｰ入力
ENDS
;●ｶﾊﾞｰ開要求ｽｲｯﾁ(COVER_SW)待ち
;●安全ｶﾊﾞｰ不正開監視
;	安全ｶﾊﾞｰ開要求が出ていないのに安全ｶﾊﾞｰ入力がOFFした
LD R40200:#1             ; _安全ｶﾊﾞｰ2使用時出力
ANB R46701               ; _安全ｶﾊﾞｰ2開処理中
ANB R44600               ; *Group2　ｽﾀｰﾄSW
ANB R44601               ; *Group2　ｽﾄｯﾌﾟSW
MPS
LD R44607                ; *Group2　安全ｶﾊﾞｰ入力
ANP R44602               ; *Group2　ｶﾊﾞｰ開要求SW
ANL
SET R46701               ; _安全ｶﾊﾞｰ2開処理中
CON
SET R46801               ; _安全ｶﾊﾞｰ2開待ち状態
CON
SET @R100                ; SC_Before処理
MRD
LD @R110                 ; 安全ｶﾊﾞｰ不正開出力済
ANB R44607               ; *Group2　安全ｶﾊﾞｰ入力
ANL
SET R46701               ; _安全ｶﾊﾞｰ2開処理中
CON
SET R46201               ; _安全ｶﾊﾞｰ2開中
CON
SET @R105                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
MPP
LDB @R110                ; 安全ｶﾊﾞｰ不正開出力済
ORB R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R44607               ; *Group2　安全ｶﾊﾞｰ入力
ANL
MOV #65 DM2003           ; _ｼｽﾃﾑｴﾗｰｺｰﾄﾞ
SET @R110                ; 安全ｶﾊﾞｰ不正開出力済
CON
SET R40009               ; _OneSystem優先ｴﾗｰ要求
LDF R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
RES @R110                ; 安全ｶﾊﾞｰ不正開出力済
STG @R100                ; SC_Before処理
MPS
LDB R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R50701               ; _Group2 ｴｱｰ元圧状態
ANL
SET R44201               ; _Grp2 ﾎﾟｰｽﾞ要求
CON
JMP @R101                ; 全ﾀｽｸHALT待ち
MPP
LD R46103                ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R46104                ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R50701                ; _Group2 ｴｱｰ元圧状態
ANL
SET R40502               ; _安全ｶﾊﾞｰ2解除ﾕｰｻﾞｰSTG
CON
JMP @R102                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
;●各TaskからのHALT出力待ち
;・起動中全TaskからのHALT待ち
STG @R101                ; 全ﾀｽｸHALT待ち
AND=.D R42800 R41200     ; _Grp2_Task0_ﾎﾟｰｽﾞ許可  _Grp2_Task0_起動中ﾌﾗｸﾞ
SET R40502               ; _安全ｶﾊﾞｰ2解除ﾕｰｻﾞｰSTG
CON
JMP @R102                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
;●SC_Before
;ｶﾊﾞｰﾛｯｸ解除可／不可確認(ﾕｰｻﾞｰ解放)
STG @R102                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
ANB R40502               ; _安全ｶﾊﾞｰ2解除ﾕｰｻﾞｰSTG
MPS
AND R40602               ; _安全ｶﾊﾞｰ2ﾛｯｸ解除OK
RES R40602               ; _安全ｶﾊﾞｰ2ﾛｯｸ解除OK
CON
JMP @R103                ; 安全ｶﾊﾞｰﾛｯｸ解除
MPP
AND R40603               ; _安全ｶﾊﾞｰ2ﾛｯｸ解除NG
RES R40603               ; _安全ｶﾊﾞｰ2ﾛｯｸ解除NG
CON
ZRES R42800:#0 R42800:#31; _Grp2_Task0_ﾎﾟｰｽﾞ許可  _Grp2_Task31_ﾎﾟｰｽﾞ許可
CON
RES R46801               ; _安全ｶﾊﾞｰ2開待ち状態
CON
RES R44201               ; _Grp2 ﾎﾟｰｽﾞ要求
CON
RES R46701               ; _安全ｶﾊﾞｰ2開処理中
CON
ENDS
;●安全ｶﾊﾞｰﾛｯｸ解除〜ﾛｯｸ解除待ち
STG @R103                ; 安全ｶﾊﾞｰﾛｯｸ解除
RES R46900:#1            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R104                ; 安全ｶﾊﾞｰﾛｯｸ解除待ち
STG @R104                ; 安全ｶﾊﾞｰﾛｯｸ解除待ち
RES R46801               ; _安全ｶﾊﾞｰ2開待ち状態
CON
SET R46201               ; _安全ｶﾊﾞｰ2開中
CON
JMP @R105                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
;●安全ｶﾊﾞｰﾛｯｸ要求(操作BOXｽﾀｰﾄSW or 3連BOXｽﾀｰﾄSW)待ち
STG @R105                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
LDP R44600               ; *Group2　ｽﾀｰﾄSW
ORP R44609               ; *Group2　ｶﾊﾞｰ継続実行SW
ANL
SET R46900:#1            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R106                ; 安全ｶﾊﾞｰﾛｯｸ待ち
;●安全ｶﾊﾞｰﾛｯｸ〜入力確認
;(ﾛｯｸ入力入らなければ再度ﾛｯｸ要求待ちへ)
STG @R106                ; 安全ｶﾊﾞｰﾛｯｸ待ち
TMR @1 DM9352            ; 安全ｶﾊﾞｰﾛｯｸ確認時間  _安全ｶﾊﾞｰﾛｯｸ確認時間
CON
AND @T1                  ; 安全ｶﾊﾞｰﾛｯｸ確認時間
MPS
AND R44607               ; *Group2　安全ｶﾊﾞｰ入力
SET R40503               ; _安全ｶﾊﾞｰ2ﾛｯｸﾕｰｻﾞｰSTG
CON
JMP @R107                ; SC_After処理
MPP
ANB R44607               ; *Group2　安全ｶﾊﾞｰ入力
RES R46900:#1            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R105                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
;●SC_After
;ｶﾊﾞｰﾛｯｸ可／不可確認(ﾕｰｻﾞｰ解放)
STG @R107                ; SC_After処理
ANB R40503               ; _安全ｶﾊﾞｰ2ﾛｯｸﾕｰｻﾞｰSTG
MPS
AND R40702               ; _安全ｶﾊﾞｰ2ﾛｯｸOK
RES R46201               ; _安全ｶﾊﾞｰ2開中
CON
RES R40702               ; _安全ｶﾊﾞｰ2ﾛｯｸOK
CON
JMP @R108                ; 安全ｶﾊﾞｰ処理終了
MPP
AND R40703               ; _安全ｶﾊﾞｰ2ﾛｯｸNG
RES R40703               ; _安全ｶﾊﾞｰ2ﾛｯｸNG
CON
JMP @R103                ; 安全ｶﾊﾞｰﾛｯｸ解除
STG @R108                ; 安全ｶﾊﾞｰ処理終了
ANB R44600               ; *Group2　ｽﾀｰﾄSW
ANB R50601               ; _元圧検出2無効宣言
ZRES R42800:#0 R42800:#31; _Grp2_Task0_ﾎﾟｰｽﾞ許可  _Grp2_Task31_ﾎﾟｰｽﾞ許可
CON
RES R44201               ; _Grp2 ﾎﾟｰｽﾞ要求
CON
RES R46701               ; _安全ｶﾊﾞｰ2開処理中
CON
ENDS
;<h1/>Safety Cover3/安全ｶﾊﾞｰ3処理
;●安全ｶﾊﾞｰ有効出力
;運転開始時に安全ｶﾊﾞｰﾛｯｸ出力(ONでﾛｯｸ)
LD>= DM9200:#2 #1        ; _Group3ﾀｽｸ登録数
AND R59800:#2            ; _安全ｶﾊﾞｰ3使用有無
MPS
OUT R40200:#2            ; _安全ｶﾊﾞｰ3使用時出力
MPP
AND CR2008               ; 運転開始時1ｽｷｬﾝON
SET R46900:#2            ; _安全ｶﾊﾞｰ閉要求sig
CON
SET @R209                ; 電源投入時ﾛｯｸ確認
;●電源投入時ﾛｯｸ確認
;(ﾛｯｸしたのにﾛｯｸ入力が入らなければﾛｯｸ要求処理へ)
STG @R209                ; 電源投入時ﾛｯｸ確認
MPS
ANB R44807               ; *Group3　安全ｶﾊﾞｰ入力
SET R46702               ; _安全ｶﾊﾞｰ3開処理中
CON
SET R46202               ; _安全ｶﾊﾞｰ3開中
CON
JMP @R205                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
MPP
AND R44807               ; *Group3　安全ｶﾊﾞｰ入力
ENDS
;●ｶﾊﾞｰ開要求ｽｲｯﾁ(COVER_SW)待ち
;●安全ｶﾊﾞｰ不正開監視
;	安全ｶﾊﾞｰ開要求が出ていないのに安全ｶﾊﾞｰ入力がOFFした
LD R40200:#2             ; _安全ｶﾊﾞｰ3使用時出力
ANB R46702               ; _安全ｶﾊﾞｰ3開処理中
ANB R44800               ; *Group3　ｽﾀｰﾄSW
ANB R44801               ; *Group3　ｽﾄｯﾌﾟSW
MPS
LD R44807                ; *Group3　安全ｶﾊﾞｰ入力
ANP R44802               ; *Group3　ｶﾊﾞｰ開要求SW
ANL
SET R46702               ; _安全ｶﾊﾞｰ3開処理中
CON
SET R46802               ; _安全ｶﾊﾞｰ3開待ち状態
CON
SET @R200                ; SC_Before処理
MRD
LD @R210                 ; 安全ｶﾊﾞｰ不正開出力済
ANB R44807               ; *Group3　安全ｶﾊﾞｰ入力
ANL
SET R46702               ; _安全ｶﾊﾞｰ3開処理中
CON
SET R46202               ; _安全ｶﾊﾞｰ3開中
CON
SET @R205                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
MPP
LDB @R210                ; 安全ｶﾊﾞｰ不正開出力済
ORB R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R44807               ; *Group3　安全ｶﾊﾞｰ入力
ANL
MOV #65 DM2003           ; _ｼｽﾃﾑｴﾗｰｺｰﾄﾞ
SET @R210                ; 安全ｶﾊﾞｰ不正開出力済
CON
SET R40009               ; _OneSystem優先ｴﾗｰ要求
LDF R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
RES @R210                ; 安全ｶﾊﾞｰ不正開出力済
STG @R200                ; SC_Before処理
MPS
LDB R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R50702               ; _Group3 ｴｱｰ元圧状態
ANL
SET R44202               ; _Grp3 ﾎﾟｰｽﾞ要求
CON
JMP @R201                ; Pack解除待ち
MPP
LD R46103                ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R46104                ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R50702                ; _Group3 ｴｱｰ元圧状態
ANL
SET R40504               ; _安全ｶﾊﾞｰ3解除ﾕｰｻﾞｰSTG
CON
JMP @R202                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
;●各TaskからのHALT出力待ち
;・起動中全TaskからのHALT待ち
STG @R201                ; Pack解除待ち
AND=.D R43000 R41400     ; _Grp3_Task0_ﾎﾟｰｽﾞ許可  _Grp3_Task0_起動中ﾌﾗｸﾞ
SET R40504               ; _安全ｶﾊﾞｰ3解除ﾕｰｻﾞｰSTG
CON
JMP @R202                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
;●SC_Before
;ｶﾊﾞｰﾛｯｸ解除可／不可確認(ﾕｰｻﾞｰ解放)
STG @R202                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
ANB R40504               ; _安全ｶﾊﾞｰ3解除ﾕｰｻﾞｰSTG
MPS
AND R40604               ; _安全ｶﾊﾞｰ3ﾛｯｸ解除OK
RES R40604               ; _安全ｶﾊﾞｰ3ﾛｯｸ解除OK
CON
JMP @R203                ; 安全ｶﾊﾞｰﾛｯｸ解除
MPP
AND R40605               ; _安全ｶﾊﾞｰ3ﾛｯｸ解除NG
RES R40605               ; _安全ｶﾊﾞｰ3ﾛｯｸ解除NG
CON
ZRES R43000:#0 R43000:#31; _Grp3_Task0_ﾎﾟｰｽﾞ許可  _Grp3_Task31_ﾎﾟｰｽﾞ許可
CON
RES R46802               ; _安全ｶﾊﾞｰ3開待ち状態
CON
RES R44202               ; _Grp3 ﾎﾟｰｽﾞ要求
CON
RES R46702               ; _安全ｶﾊﾞｰ3開処理中
CON
ENDS
;●安全ｶﾊﾞｰﾛｯｸ解除〜ﾛｯｸ解除待ち
STG @R203                ; 安全ｶﾊﾞｰﾛｯｸ解除
RES R46900:#2            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R204                ; 安全ｶﾊﾞｰﾛｯｸ解除待ち
STG @R204                ; 安全ｶﾊﾞｰﾛｯｸ解除待ち
RES R46802               ; _安全ｶﾊﾞｰ3開待ち状態
CON
SET R46202               ; _安全ｶﾊﾞｰ3開中
CON
JMP @R205                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
;●安全ｶﾊﾞｰﾛｯｸ要求(操作BOXｽﾀｰﾄSW or 3連BOXｽﾀｰﾄSW)待ち
STG @R205                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
LDP R44800               ; *Group3　ｽﾀｰﾄSW
ORP R44809               ; *Group3　ｶﾊﾞｰ継続実行SW
ANL
SET R46900:#2            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R206                ; 安全ｶﾊﾞｰﾛｯｸ待ち
;●安全ｶﾊﾞｰﾛｯｸ〜入力確認
;(ﾛｯｸ入力入らなければ再度ﾛｯｸ要求待ちへ)
STG @R206                ; 安全ｶﾊﾞｰﾛｯｸ待ち
TMR @2 DM9352            ; 安全ｶﾊﾞｰﾛｯｸ確認時間  _安全ｶﾊﾞｰﾛｯｸ確認時間
CON
AND @T2                  ; 安全ｶﾊﾞｰﾛｯｸ確認時間
MPS
AND R44807               ; *Group3　安全ｶﾊﾞｰ入力
SET R40505               ; _安全ｶﾊﾞｰ3ﾛｯｸﾕｰｻﾞｰSTG
CON
JMP @R207                ; SC_After処理
MPP
ANB R44807               ; *Group3　安全ｶﾊﾞｰ入力
RES R46900:#2            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R205                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
;●SC_After
;ｶﾊﾞｰﾛｯｸ可／不可確認(ﾕｰｻﾞｰ解放)
STG @R207                ; SC_After処理
ANB R40505               ; _安全ｶﾊﾞｰ3ﾛｯｸﾕｰｻﾞｰSTG
MPS
AND R40704               ; _安全ｶﾊﾞｰ3ﾛｯｸOK
RES R46202               ; _安全ｶﾊﾞｰ3開中
CON
RES R40704               ; _安全ｶﾊﾞｰ3ﾛｯｸOK
CON
JMP @R208                ; 安全ｶﾊﾞｰ処理終了
MPP
AND R40705               ; _安全ｶﾊﾞｰ3ﾛｯｸNG
RES R40705               ; _安全ｶﾊﾞｰ3ﾛｯｸNG
CON
JMP @R203                ; 安全ｶﾊﾞｰﾛｯｸ解除
STG @R208                ; 安全ｶﾊﾞｰ処理終了
ANB R44800               ; *Group3　ｽﾀｰﾄSW
ANB R50602               ; _元圧検出3無効宣言
ZRES R43000:#0 R43000:#31; _Grp3_Task0_ﾎﾟｰｽﾞ許可  _Grp3_Task31_ﾎﾟｰｽﾞ許可
CON
RES R44202               ; _Grp3 ﾎﾟｰｽﾞ要求
CON
RES R46702               ; _安全ｶﾊﾞｰ3開処理中
CON
ENDS
;<h1/>Safety Cover4/安全ｶﾊﾞｰ4処理
;●安全ｶﾊﾞｰ有効出力
;運転開始時に安全ｶﾊﾞｰﾛｯｸ出力(ONでﾛｯｸ)
LD>= DM9200:#3 #1        ; _Group4ﾀｽｸ登録数
AND R59800:#3            ; _安全ｶﾊﾞｰ4使用有無
MPS
OUT R40200:#3            ; _安全ｶﾊﾞｰ4使用時出力
MPP
AND CR2008               ; 運転開始時1ｽｷｬﾝON
SET R46900:#3            ; _安全ｶﾊﾞｰ閉要求sig
CON
SET @R309                ; 電源投入時ﾛｯｸ確認
;●電源投入時ﾛｯｸ確認
;(ﾛｯｸしたのにﾛｯｸ入力が入らなければﾛｯｸ要求処理へ)
STG @R309                ; 電源投入時ﾛｯｸ確認
MPS
ANB R45007               ; *Group4　安全ｶﾊﾞｰ入力
SET R46703               ; _安全ｶﾊﾞｰ4開処理中
CON
SET R46203               ; _安全ｶﾊﾞｰ4開中
CON
JMP @R305                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
MPP
AND R45007               ; *Group4　安全ｶﾊﾞｰ入力
ENDS
;●ｶﾊﾞｰ開要求ｽｲｯﾁ(COVER_SW)待ち
;●安全ｶﾊﾞｰ不正開監視
;	安全ｶﾊﾞｰ開要求が出ていないのに安全ｶﾊﾞｰ入力がOFFした
LD R40200:#3             ; _安全ｶﾊﾞｰ4使用時出力
ANB R46703               ; _安全ｶﾊﾞｰ4開処理中
ANB R45000               ; *Group4　ｽﾀｰﾄSW
ANB R45001               ; *Group4　ｽﾄｯﾌﾟSW
MPS
LD R45007                ; *Group4　安全ｶﾊﾞｰ入力
ANP R45002               ; *Group4　ｶﾊﾞｰ開要求SW
ANL
SET R46703               ; _安全ｶﾊﾞｰ4開処理中
CON
SET R46803               ; _安全ｶﾊﾞｰ4開待ち状態
CON
SET @R300                ; SC_Before処理
MRD
LD @R310                 ; 安全ｶﾊﾞｰ不正開出力済
ANB R45007               ; *Group4　安全ｶﾊﾞｰ入力
ANL
SET R46703               ; _安全ｶﾊﾞｰ4開処理中
CON
SET R46203               ; _安全ｶﾊﾞｰ4開中
CON
SET @R305                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
MPP
LDB @R310                ; 安全ｶﾊﾞｰ不正開出力済
ORB R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R45007               ; *Group4　安全ｶﾊﾞｰ入力
ANL
MOV #65 DM2003           ; _ｼｽﾃﾑｴﾗｰｺｰﾄﾞ
SET @R310                ; 安全ｶﾊﾞｰ不正開出力済
CON
SET R40009               ; _OneSystem優先ｴﾗｰ要求
LDF R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
RES @R310                ; 安全ｶﾊﾞｰ不正開出力済
STG @R300                ; SC_Before処理
MPS
LDB R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R50703               ; _Group4 ｴｱｰ元圧状態
ANL
SET R44203               ; _Grp4 ﾎﾟｰｽﾞ要求
CON
JMP @R301                ; Pack解除待ち
MPP
LD R46103                ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R46104                ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R50703                ; _Group4 ｴｱｰ元圧状態
ANL
SET R40506               ; _安全ｶﾊﾞｰ4解除ﾕｰｻﾞｰSTG
CON
JMP @R302                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
;●各TaskからのHALT出力待ち
;・起動中全TaskからのHALT待ち
STG @R301                ; Pack解除待ち
AND=.D R43200 R41600     ; _Grp4_Task0_ﾎﾟｰｽﾞ許可  _Grp4_Task0_起動中ﾌﾗｸﾞ
SET R40506               ; _安全ｶﾊﾞｰ4解除ﾕｰｻﾞｰSTG
CON
JMP @R302                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
;●SC_Before
;ｶﾊﾞｰﾛｯｸ解除可／不可確認(ﾕｰｻﾞｰ解放)
STG @R302                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
ANB R40506               ; _安全ｶﾊﾞｰ4解除ﾕｰｻﾞｰSTG
MPS
AND R40606               ; _安全ｶﾊﾞｰ4ﾛｯｸ解除OK
RES R40606               ; _安全ｶﾊﾞｰ4ﾛｯｸ解除OK
CON
JMP @R303                ; 安全ｶﾊﾞｰﾛｯｸ解除
MPP
AND R40607               ; _安全ｶﾊﾞｰ4ﾛｯｸ解除NG
RES R40607               ; _安全ｶﾊﾞｰ4ﾛｯｸ解除NG
CON
ZRES R43200:#0 R43200:#31; _Grp4_Task0_ﾎﾟｰｽﾞ許可  _Grp4_Task31_ﾎﾟｰｽﾞ許可
CON
RES R46803               ; _安全ｶﾊﾞｰ4開待ち状態
CON
RES R44203               ; _Grp4 ﾎﾟｰｽﾞ要求
CON
RES R46703               ; _安全ｶﾊﾞｰ4開処理中
CON
ENDS
;●安全ｶﾊﾞｰﾛｯｸ解除〜ﾛｯｸ解除待ち
STG @R303                ; 安全ｶﾊﾞｰﾛｯｸ解除
RES R46900:#3            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R304                ; 安全ｶﾊﾞｰﾛｯｸ解除待ち
STG @R304                ; 安全ｶﾊﾞｰﾛｯｸ解除待ち
RES R46803               ; _安全ｶﾊﾞｰ4開待ち状態
CON
SET R46203               ; _安全ｶﾊﾞｰ4開中
CON
JMP @R305                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
;●安全ｶﾊﾞｰﾛｯｸ要求(操作BOXｽﾀｰﾄSW or 3連BOXｽﾀｰﾄSW)待ち
STG @R305                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
LDP R45000               ; *Group4　ｽﾀｰﾄSW
ORP R45009               ; *Group4　ｶﾊﾞｰ継続実行SW
ANL
SET R46900:#3            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R306                ; 安全ｶﾊﾞｰﾛｯｸ待ち
;●安全ｶﾊﾞｰﾛｯｸ〜入力確認
;(ﾛｯｸ入力入らなければ再度ﾛｯｸ要求待ちへ)
STG @R306                ; 安全ｶﾊﾞｰﾛｯｸ待ち
TMR @3 DM9352            ; 安全ｶﾊﾞｰﾛｯｸ確認時間  _安全ｶﾊﾞｰﾛｯｸ確認時間
CON
AND @T3                  ; 安全ｶﾊﾞｰﾛｯｸ確認時間
MPS
AND R45007               ; *Group4　安全ｶﾊﾞｰ入力
SET R40507               ; _安全ｶﾊﾞｰ4ﾛｯｸﾕｰｻﾞｰSTG
CON
JMP @R307                ; SC_After処理
MPP
ANB R45007               ; *Group4　安全ｶﾊﾞｰ入力
RES R46900:#3            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R305                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
;●SC_After
;ｶﾊﾞｰﾛｯｸ可／不可確認(ﾕｰｻﾞｰ解放)
STG @R307                ; SC_After処理
ANB R40507               ; _安全ｶﾊﾞｰ4ﾛｯｸﾕｰｻﾞｰSTG
MPS
AND R40706               ; _安全ｶﾊﾞｰ4ﾛｯｸOK
RES R46203               ; _安全ｶﾊﾞｰ4開中
CON
RES R40706               ; _安全ｶﾊﾞｰ4ﾛｯｸOK
CON
JMP @R308                ; 安全ｶﾊﾞｰ処理終了
MPP
AND R40707               ; _安全ｶﾊﾞｰ4ﾛｯｸNG
RES R40707               ; _安全ｶﾊﾞｰ4ﾛｯｸNG
CON
JMP @R303                ; 安全ｶﾊﾞｰﾛｯｸ解除
STG @R308                ; 安全ｶﾊﾞｰ処理終了
ANB R45000               ; *Group4　ｽﾀｰﾄSW
ANB R50603               ; _元圧検出4無効宣言
ZRES R43200:#0 R43200:#31; _Grp4_Task0_ﾎﾟｰｽﾞ許可  _Grp4_Task31_ﾎﾟｰｽﾞ許可
CON
RES R44203               ; _Grp4 ﾎﾟｰｽﾞ要求
CON
RES R46703               ; _安全ｶﾊﾞｰ4開処理中
CON
ENDS
;<h1/>Safety Cover5/安全ｶﾊﾞｰ5処理
;●安全ｶﾊﾞｰ有効出力
;運転開始時に安全ｶﾊﾞｰﾛｯｸ出力(ONでﾛｯｸ)
LD>= DM9200:#4 #1        ; _Group5ﾀｽｸ登録数
AND R59800:#4            ; _安全ｶﾊﾞｰ5使用有無
MPS
OUT R40200:#4            ; _安全ｶﾊﾞｰ5使用時出力
MPP
AND CR2008               ; 運転開始時1ｽｷｬﾝON
SET R46900:#4            ; _安全ｶﾊﾞｰ閉要求sig
CON
SET @R409                ; 電源投入時ﾛｯｸ確認
;●電源投入時ﾛｯｸ確認
;(ﾛｯｸしたのにﾛｯｸ入力が入らなければﾛｯｸ要求処理へ)
STG @R409                ; 電源投入時ﾛｯｸ確認
MPS
ANB R45207               ; *Group5　安全ｶﾊﾞｰ入力
SET R46704               ; _安全ｶﾊﾞｰ5開処理中
CON
SET R46204               ; _安全ｶﾊﾞｰ5開中
CON
JMP @R405                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
MPP
AND R45207               ; *Group5　安全ｶﾊﾞｰ入力
ENDS
;●ｶﾊﾞｰ開要求ｽｲｯﾁ(COVER_SW)待ち
;●安全ｶﾊﾞｰ不正開監視
;	安全ｶﾊﾞｰ開要求が出ていないのに安全ｶﾊﾞｰ入力がOFFした
LD R40200:#4             ; _安全ｶﾊﾞｰ5使用時出力
ANB R46704               ; _安全ｶﾊﾞｰ5開処理中
ANB R45200               ; *Group5　ｽﾀｰﾄSW
ANB R45201               ; *Group5　ｽﾄｯﾌﾟSW
MPS
LD R45207                ; *Group5　安全ｶﾊﾞｰ入力
ANP R45202               ; *Group5　ｶﾊﾞｰ開要求SW
ANL
SET R46704               ; _安全ｶﾊﾞｰ5開処理中
CON
SET R46804               ; _安全ｶﾊﾞｰ5開待ち状態
CON
SET @R400                ; SC_Before処理
MRD
LD @R410                 ; 安全ｶﾊﾞｰ不正開出力済
ANB R45207               ; *Group5　安全ｶﾊﾞｰ入力
ANL
SET R46704               ; _安全ｶﾊﾞｰ5開処理中
CON
SET R46204               ; _安全ｶﾊﾞｰ5開中
CON
SET @R405                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
MPP
LDB @R410                ; 安全ｶﾊﾞｰ不正開出力済
ORB R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R45207               ; *Group5　安全ｶﾊﾞｰ入力
ANL
MOV #65 DM2003           ; _ｼｽﾃﾑｴﾗｰｺｰﾄﾞ
SET @R410                ; 安全ｶﾊﾞｰ不正開出力済
CON
SET R40009               ; _OneSystem優先ｴﾗｰ要求
LDF R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
RES @R410                ; 安全ｶﾊﾞｰ不正開出力済
STG @R400                ; SC_Before処理
MPS
LDB R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46008               ; _Group1 ｴｱｰ圧低下状態
ANL
SET R44204               ; _Grp5 ﾎﾟｰｽﾞ要求
CON
JMP @R401                ; Pack解除待ち
MPP
LD R46103                ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R46104                ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R50704                ; _Group5 ｴｱｰ元圧状態
ANL
SET R40508               ; _安全ｶﾊﾞｰ5解除ﾕｰｻﾞｰSTG
CON
JMP @R402                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
;●各TaskからのHALT出力待ち
;・起動中全TaskからのHALT待ち
STG @R401                ; Pack解除待ち
AND=.D R43400 R41800     ; _Grp5_Task0_ﾎﾟｰｽﾞ許可  _Grp5_Task0_起動中ﾌﾗｸﾞ
SET R40508               ; _安全ｶﾊﾞｰ5解除ﾕｰｻﾞｰSTG
CON
JMP @R402                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
;●SC_Before
;ｶﾊﾞｰﾛｯｸ解除可／不可確認(ﾕｰｻﾞｰ解放)
STG @R402                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
ANB R40508               ; _安全ｶﾊﾞｰ5解除ﾕｰｻﾞｰSTG
MPS
AND R40608               ; _安全ｶﾊﾞｰ5ﾛｯｸ解除OK
RES R40608               ; _安全ｶﾊﾞｰ5ﾛｯｸ解除OK
CON
JMP @R403                ; 安全ｶﾊﾞｰﾛｯｸ解除
MPP
AND R40609               ; _安全ｶﾊﾞｰ5ﾛｯｸ解除NG
RES R40609               ; _安全ｶﾊﾞｰ5ﾛｯｸ解除NG
CON
ZRES R43400:#0 R43400:#31; _Grp5_Task0_ﾎﾟｰｽﾞ許可  _Grp5_Task31_ﾎﾟｰｽﾞ許可
CON
RES R46804               ; _安全ｶﾊﾞｰ5開待ち状態
CON
RES R44204               ; _Grp5 ﾎﾟｰｽﾞ要求
CON
RES R46704               ; _安全ｶﾊﾞｰ5開処理中
CON
ENDS
;●安全ｶﾊﾞｰﾛｯｸ解除〜ﾛｯｸ解除待ち
STG @R403                ; 安全ｶﾊﾞｰﾛｯｸ解除
RES R46900:#4            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R404                ; 安全ｶﾊﾞｰﾛｯｸ解除待ち
STG @R404                ; 安全ｶﾊﾞｰﾛｯｸ解除待ち
RES R46804               ; _安全ｶﾊﾞｰ5開待ち状態
CON
SET R46204               ; _安全ｶﾊﾞｰ5開中
CON
JMP @R405                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
;●安全ｶﾊﾞｰﾛｯｸ要求(操作BOXｽﾀｰﾄSW or 3連BOXｽﾀｰﾄSW)待ち
STG @R405                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
LDP R45200               ; *Group5　ｽﾀｰﾄSW
ORP R45209               ; *Group5　ｶﾊﾞｰ継続実行SW
ANL
SET R46900:#4            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R406                ; 安全ｶﾊﾞｰﾛｯｸ待ち
;●安全ｶﾊﾞｰﾛｯｸ〜入力確認
;(ﾛｯｸ入力入らなければ再度ﾛｯｸ要求待ちへ)
STG @R406                ; 安全ｶﾊﾞｰﾛｯｸ待ち
TMR @4 DM9352            ; 安全ｶﾊﾞｰﾛｯｸ確認時間  _安全ｶﾊﾞｰﾛｯｸ確認時間
CON
AND @T4                  ; 安全ｶﾊﾞｰﾛｯｸ確認時間
MPS
AND R45207               ; *Group5　安全ｶﾊﾞｰ入力
SET R40509               ; _安全ｶﾊﾞｰ5ﾛｯｸﾕｰｻﾞｰSTG
CON
JMP @R407                ; SC_After処理
MPP
ANB R45207               ; *Group5　安全ｶﾊﾞｰ入力
RES R46900:#4            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R405                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
;●SC_After
;ｶﾊﾞｰﾛｯｸ可／不可確認(ﾕｰｻﾞｰ解放)
STG @R407                ; SC_After処理
ANB R40509               ; _安全ｶﾊﾞｰ5ﾛｯｸﾕｰｻﾞｰSTG
MPS
AND R40708               ; _安全ｶﾊﾞｰ5ﾛｯｸOK
RES R46204               ; _安全ｶﾊﾞｰ5開中
CON
RES R40708               ; _安全ｶﾊﾞｰ5ﾛｯｸOK
CON
JMP @R408                ; 安全ｶﾊﾞｰ処理終了
MPP
AND R40709               ; _安全ｶﾊﾞｰ5ﾛｯｸNG
RES R40709               ; _安全ｶﾊﾞｰ5ﾛｯｸNG
CON
JMP @R403                ; 安全ｶﾊﾞｰﾛｯｸ解除
STG @R408                ; 安全ｶﾊﾞｰ処理終了
ANB R45200               ; *Group5　ｽﾀｰﾄSW
ANB R50604               ; _元圧検出5無効宣言
ZRES R43400:#0 R43400:#31; _Grp5_Task0_ﾎﾟｰｽﾞ許可  _Grp5_Task31_ﾎﾟｰｽﾞ許可
CON
RES R44204               ; _Grp5 ﾎﾟｰｽﾞ要求
CON
RES R46704               ; _安全ｶﾊﾞｰ5開処理中
CON
ENDS
;<h1/>Safety Cover6/安全ｶﾊﾞｰ6処理
;●安全ｶﾊﾞｰ有効出力
;運転開始時に安全ｶﾊﾞｰﾛｯｸ出力(ONでﾛｯｸ)
LD>= DM9200:#5 #1        ; _Group6ﾀｽｸ登録数
AND R59800:#5            ; _安全ｶﾊﾞｰ6使用有無
MPS
OUT R40200:#5            ; _安全ｶﾊﾞｰ6使用時出力
MPP
AND CR2008               ; 運転開始時1ｽｷｬﾝON
SET R46900:#5            ; _安全ｶﾊﾞｰ閉要求sig
CON
SET @R509                ; 電源投入時ﾛｯｸ確認
;●電源投入時ﾛｯｸ確認
;(ﾛｯｸしたのにﾛｯｸ入力が入らなければﾛｯｸ要求処理へ)
STG @R509                ; 電源投入時ﾛｯｸ確認
MPS
ANB R45407               ; *Group6　安全ｶﾊﾞｰ入力
SET R46705               ; _安全ｶﾊﾞｰ6開処理中
CON
SET R46205               ; _安全ｶﾊﾞｰ6開中
CON
JMP @R505                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
MPP
AND R45407               ; *Group6　安全ｶﾊﾞｰ入力
ENDS
;●ｶﾊﾞｰ開要求ｽｲｯﾁ(COVER_SW)待ち
;●安全ｶﾊﾞｰ不正開監視
;	安全ｶﾊﾞｰ開要求が出ていないのに安全ｶﾊﾞｰ入力がOFFした
LD R40200:#5             ; _安全ｶﾊﾞｰ6使用時出力
ANB R46705               ; _安全ｶﾊﾞｰ6開処理中
ANB R45400               ; *Group6　ｽﾀｰﾄSW
ANB R45401               ; *Group6　ｽﾄｯﾌﾟSW
MPS
LD R45407                ; *Group6　安全ｶﾊﾞｰ入力
ANP R45402               ; *Group6　ｶﾊﾞｰ開要求SW
ANL
SET R46705               ; _安全ｶﾊﾞｰ6開処理中
CON
SET R46805               ; _安全ｶﾊﾞｰ6開待ち状態
CON
SET @R500                ; SC_Before処理
MRD
LD @R510                 ; 安全ｶﾊﾞｰ不正開出力済
ANB R45407               ; *Group6　安全ｶﾊﾞｰ入力
ANL
SET R46705               ; _安全ｶﾊﾞｰ6開処理中
CON
SET R46205               ; _安全ｶﾊﾞｰ6開中
CON
SET @R505                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
MPP
LDB @R510                ; 安全ｶﾊﾞｰ不正開出力済
ORB R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R45407               ; *Group6　安全ｶﾊﾞｰ入力
ANL
MOV #65 DM2003           ; _ｼｽﾃﾑｴﾗｰｺｰﾄﾞ
SET @R510                ; 安全ｶﾊﾞｰ不正開出力済
CON
SET R40009               ; _OneSystem優先ｴﾗｰ要求
LDF R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
RES @R510                ; 安全ｶﾊﾞｰ不正開出力済
STG @R500                ; SC_Before処理
MPS
LDB R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R50705               ; _Group6 ｴｱｰ元圧状態
ANL
SET R44205               ; _Grp6 ﾎﾟｰｽﾞ要求
CON
JMP @R501                ; Pack解除待ち
MPP
LD R46103                ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R46104                ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R50705                ; _Group6 ｴｱｰ元圧状態
ANL
SET R40510               ; _安全ｶﾊﾞｰ6解除ﾕｰｻﾞｰSTG
CON
JMP @R502                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
;●各TaskからのHALT出力待ち
;・起動中全TaskからのHALT待ち
STG @R501                ; Pack解除待ち
AND=.D R43600 R42000     ; _Grp6_Task0_ﾎﾟｰｽﾞ許可  _Grp6_Task0_起動中ﾌﾗｸﾞ
SET R40510               ; _安全ｶﾊﾞｰ6解除ﾕｰｻﾞｰSTG
CON
JMP @R502                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
;●SC_Before
;ｶﾊﾞｰﾛｯｸ解除可／不可確認(ﾕｰｻﾞｰ解放)
STG @R502                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
ANB R40510               ; _安全ｶﾊﾞｰ6解除ﾕｰｻﾞｰSTG
MPS
AND R40610               ; _安全ｶﾊﾞｰ6ﾛｯｸ解除OK
RES R40610               ; _安全ｶﾊﾞｰ6ﾛｯｸ解除OK
CON
JMP @R503                ; 安全ｶﾊﾞｰﾛｯｸ解除
MPP
AND R40611               ; _安全ｶﾊﾞｰ6ﾛｯｸ解除NG
RES R40611               ; _安全ｶﾊﾞｰ6ﾛｯｸ解除NG
CON
ZRES R43600:#0 R43600:#31; _Grp6_Task0_ﾎﾟｰｽﾞ許可  _Grp6_Task31_ﾎﾟｰｽﾞ許可
CON
RES R46805               ; _安全ｶﾊﾞｰ6開待ち状態
CON
RES R44205               ; _Grp6 ﾎﾟｰｽﾞ要求
CON
RES R46705               ; _安全ｶﾊﾞｰ6開処理中
CON
ENDS
;●安全ｶﾊﾞｰﾛｯｸ解除〜ﾛｯｸ解除待ち
STG @R503                ; 安全ｶﾊﾞｰﾛｯｸ解除
RES R46900:#5            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R504                ; 安全ｶﾊﾞｰﾛｯｸ解除待ち
STG @R504                ; 安全ｶﾊﾞｰﾛｯｸ解除待ち
RES R46805               ; _安全ｶﾊﾞｰ6開待ち状態
CON
SET R46205               ; _安全ｶﾊﾞｰ6開中
CON
JMP @R505                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
;●安全ｶﾊﾞｰﾛｯｸ要求(操作BOXｽﾀｰﾄSW or 3連BOXｽﾀｰﾄSW)待ち
STG @R505                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
LDP R45400               ; *Group6　ｽﾀｰﾄSW
ORP R45409               ; *Group6　ｶﾊﾞｰ継続実行SW
ANL
SET R46900:#5            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R506                ; 安全ｶﾊﾞｰﾛｯｸ待ち
;●安全ｶﾊﾞｰﾛｯｸ〜入力確認
;(ﾛｯｸ入力入らなければ再度ﾛｯｸ要求待ちへ)
STG @R506                ; 安全ｶﾊﾞｰﾛｯｸ待ち
TMR @5 DM9352            ; 安全ｶﾊﾞｰﾛｯｸ確認時間  _安全ｶﾊﾞｰﾛｯｸ確認時間
CON
AND @T5                  ; 安全ｶﾊﾞｰﾛｯｸ確認時間
MPS
AND R45407               ; *Group6　安全ｶﾊﾞｰ入力
SET R40511               ; _安全ｶﾊﾞｰ6ﾛｯｸﾕｰｻﾞｰSTG
CON
JMP @R507                ; SC_After処理
MPP
ANB R45407               ; *Group6　安全ｶﾊﾞｰ入力
RES R46900:#5            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R505                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
;●SC_After
;ｶﾊﾞｰﾛｯｸ可／不可確認(ﾕｰｻﾞｰ解放)
STG @R507                ; SC_After処理
ANB R40511               ; _安全ｶﾊﾞｰ6ﾛｯｸﾕｰｻﾞｰSTG
MPS
AND R40710               ; _安全ｶﾊﾞｰ6ﾛｯｸOK
RES R46205               ; _安全ｶﾊﾞｰ6開中
CON
RES R40710               ; _安全ｶﾊﾞｰ6ﾛｯｸOK
CON
JMP @R508                ; 安全ｶﾊﾞｰ処理終了
MPP
AND R40711               ; _安全ｶﾊﾞｰ6ﾛｯｸNG
RES R40711               ; _安全ｶﾊﾞｰ6ﾛｯｸNG
CON
JMP @R503                ; 安全ｶﾊﾞｰﾛｯｸ解除
STG @R508                ; 安全ｶﾊﾞｰ処理終了
ANB R45400               ; *Group6　ｽﾀｰﾄSW
ANB R50605               ; _元圧検出6無効宣言
ZRES R43600:#0 R43600:#31; _Grp6_Task0_ﾎﾟｰｽﾞ許可  _Grp6_Task31_ﾎﾟｰｽﾞ許可
CON
RES R44205               ; _Grp6 ﾎﾟｰｽﾞ要求
CON
RES R46705               ; _安全ｶﾊﾞｰ6開処理中
CON
ENDS
;<h1/>Safety Cover7/安全ｶﾊﾞｰ7処理
;●安全ｶﾊﾞｰ有効出力
;運転開始時に安全ｶﾊﾞｰﾛｯｸ出力(ONでﾛｯｸ)
LD>= DM9200:#6 #1        ; _Group7ﾀｽｸ登録数
AND R59800:#6            ; _安全ｶﾊﾞｰ7使用有無
MPS
OUT R40200:#6            ; _安全ｶﾊﾞｰ7使用時出力
MPP
AND CR2008               ; 運転開始時1ｽｷｬﾝON
SET R46900:#6            ; _安全ｶﾊﾞｰ閉要求sig
CON
SET @R609                ; 電源投入時ﾛｯｸ確認
;●電源投入時ﾛｯｸ確認
;(ﾛｯｸしたのにﾛｯｸ入力が入らなければﾛｯｸ要求処理へ)
STG @R609                ; 電源投入時ﾛｯｸ確認
MPS
ANB R45607               ; *Group7　安全ｶﾊﾞｰ入力
SET R46706               ; _安全ｶﾊﾞｰ7開処理中
CON
SET R46206               ; _安全ｶﾊﾞｰ7開中
CON
JMP @R605                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
MPP
AND R45607               ; *Group7　安全ｶﾊﾞｰ入力
ENDS
;●ｶﾊﾞｰ開要求ｽｲｯﾁ(COVER_SW)待ち
;●安全ｶﾊﾞｰ不正開監視
;	安全ｶﾊﾞｰ開要求が出ていないのに安全ｶﾊﾞｰ入力がOFFした
LD R40200:#6             ; _安全ｶﾊﾞｰ7使用時出力
ANB R46706               ; _安全ｶﾊﾞｰ7開処理中
ANB R45600               ; *Group7　ｽﾀｰﾄSW
ANB R45601               ; *Group7　ｽﾄｯﾌﾟSW
MPS
LD R45607                ; *Group7　安全ｶﾊﾞｰ入力
ANP R45602               ; *Group7　ｶﾊﾞｰ開要求SW
ANL
SET R46706               ; _安全ｶﾊﾞｰ7開処理中
CON
SET R46806               ; _安全ｶﾊﾞｰ7開待ち状態
CON
SET @R600                ; SC_Before処理
MRD
LD @R610                 ; 安全ｶﾊﾞｰ不正開出力済
ANB R45607               ; *Group7　安全ｶﾊﾞｰ入力
ANL
SET R46706               ; _安全ｶﾊﾞｰ7開処理中
CON
SET R46206               ; _安全ｶﾊﾞｰ7開中
CON
SET @R605                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
MPP
LDB @R610                ; 安全ｶﾊﾞｰ不正開出力済
ORB R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R45607               ; *Group7　安全ｶﾊﾞｰ入力
ANL
MOV #65 DM2003           ; _ｼｽﾃﾑｴﾗｰｺｰﾄﾞ
SET @R610                ; 安全ｶﾊﾞｰ不正開出力済
CON
SET R40009               ; _OneSystem優先ｴﾗｰ要求
LDF R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
RES @R610                ; 安全ｶﾊﾞｰ不正開出力済
STG @R600                ; SC_Before処理
MPS
LDB R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R50706               ; _Group7 ｴｱｰ元圧状態
ANL
SET R44206               ; _Grp7 ﾎﾟｰｽﾞ要求
CON
JMP @R601                ; Pack解除待ち
MPP
LD R46103                ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R46104                ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R50706                ; _Group7 ｴｱｰ元圧状態
ANL
SET R40512               ; _安全ｶﾊﾞｰ7解除ﾕｰｻﾞｰSTG
CON
JMP @R602                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
;●各TaskからのHALT出力待ち
;・起動中全TaskからのHALT待ち
STG @R601                ; Pack解除待ち
AND=.D R43800 R42200     ; _Grp7_Task0_ﾎﾟｰｽﾞ許可  _Grp7_Task0_起動中ﾌﾗｸﾞ
SET R40512               ; _安全ｶﾊﾞｰ7解除ﾕｰｻﾞｰSTG
CON
JMP @R602                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
;●SC_Before
;ｶﾊﾞｰﾛｯｸ解除可／不可確認(ﾕｰｻﾞｰ解放)
STG @R602                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
ANB R40512               ; _安全ｶﾊﾞｰ7解除ﾕｰｻﾞｰSTG
MPS
AND R40612               ; _安全ｶﾊﾞｰ7ﾛｯｸ解除OK
RES R40612               ; _安全ｶﾊﾞｰ7ﾛｯｸ解除OK
CON
JMP @R603                ; 安全ｶﾊﾞｰﾛｯｸ解除
MPP
AND R40613               ; _安全ｶﾊﾞｰ7ﾛｯｸ解除NG
RES R40613               ; _安全ｶﾊﾞｰ7ﾛｯｸ解除NG
CON
ZRES R43800:#0 R43800:#31; _Grp7_Task0_ﾎﾟｰｽﾞ許可  _Grp7_Task31_ﾎﾟｰｽﾞ許可
CON
RES R46806               ; _安全ｶﾊﾞｰ7開待ち状態
CON
RES R44206               ; _Grp7 ﾎﾟｰｽﾞ要求
CON
RES R46706               ; _安全ｶﾊﾞｰ7開処理中
CON
ENDS
;●安全ｶﾊﾞｰﾛｯｸ解除〜ﾛｯｸ解除待ち
STG @R603                ; 安全ｶﾊﾞｰﾛｯｸ解除
RES R46900:#6            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R604                ; 安全ｶﾊﾞｰﾛｯｸ解除待ち
STG @R604                ; 安全ｶﾊﾞｰﾛｯｸ解除待ち
RES R46806               ; _安全ｶﾊﾞｰ7開待ち状態
CON
SET R46206               ; _安全ｶﾊﾞｰ7開中
CON
JMP @R605                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
;●安全ｶﾊﾞｰﾛｯｸ要求(操作BOXｽﾀｰﾄSW or 3連BOXｽﾀｰﾄSW)待ち
STG @R605                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
LDP R45600               ; *Group7　ｽﾀｰﾄSW
ORP R45609               ; *Group7　ｶﾊﾞｰ継続実行SW
ANL
SET R46900:#6            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R606                ; 安全ｶﾊﾞｰﾛｯｸ待ち
;●安全ｶﾊﾞｰﾛｯｸ〜入力確認
;(ﾛｯｸ入力入らなければ再度ﾛｯｸ要求待ちへ)
STG @R606                ; 安全ｶﾊﾞｰﾛｯｸ待ち
TMR @6 DM9352            ; 安全ｶﾊﾞｰﾛｯｸ確認時間  _安全ｶﾊﾞｰﾛｯｸ確認時間
CON
AND @T6                  ; 安全ｶﾊﾞｰﾛｯｸ確認時間
MPS
AND R45607               ; *Group7　安全ｶﾊﾞｰ入力
SET R40513               ; _安全ｶﾊﾞｰ7ﾛｯｸﾕｰｻﾞｰSTG
CON
JMP @R607                ; SC_After処理
MPP
ANB R45607               ; *Group7　安全ｶﾊﾞｰ入力
RES R46900:#6            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R605                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
;●SC_After
;ｶﾊﾞｰﾛｯｸ可／不可確認(ﾕｰｻﾞｰ解放)
STG @R607                ; SC_After処理
ANB R40513               ; _安全ｶﾊﾞｰ7ﾛｯｸﾕｰｻﾞｰSTG
MPS
AND R40712               ; _安全ｶﾊﾞｰ7ﾛｯｸOK
RES R46206               ; _安全ｶﾊﾞｰ7開中
CON
RES R40712               ; _安全ｶﾊﾞｰ7ﾛｯｸOK
CON
JMP @R608                ; 安全ｶﾊﾞｰ処理終了
MPP
AND R40713               ; _安全ｶﾊﾞｰ7ﾛｯｸNG
RES R40713               ; _安全ｶﾊﾞｰ7ﾛｯｸNG
CON
JMP @R603                ; 安全ｶﾊﾞｰﾛｯｸ解除
STG @R608                ; 安全ｶﾊﾞｰ処理終了
ANB R45600               ; *Group7　ｽﾀｰﾄSW
ANB R50606               ; _元圧検出7無効宣言
ZRES R43800:#0 R43800:#31; _Grp7_Task0_ﾎﾟｰｽﾞ許可  _Grp7_Task31_ﾎﾟｰｽﾞ許可
CON
RES R44206               ; _Grp7 ﾎﾟｰｽﾞ要求
CON
RES R46706               ; _安全ｶﾊﾞｰ7開処理中
CON
ENDS
;<h1/>Safety Cover8/安全ｶﾊﾞｰ8処理
;●安全ｶﾊﾞｰ有効出力
;運転開始時に安全ｶﾊﾞｰﾛｯｸ出力(ONでﾛｯｸ)
LD>= DM9200:#7 #1        ; _Group8ﾀｽｸ登録数
AND R59800:#7            ; _安全ｶﾊﾞｰ8使用有無
MPS
OUT R40200:#7            ; _安全ｶﾊﾞｰ8使用時出力
MPP
AND CR2008               ; 運転開始時1ｽｷｬﾝON
SET R46900:#7            ; _安全ｶﾊﾞｰ閉要求sig
CON
SET @R709                ; 電源投入時ﾛｯｸ確認
;●電源投入時ﾛｯｸ確認
;(ﾛｯｸしたのにﾛｯｸ入力が入らなければﾛｯｸ要求処理へ)
STG @R709                ; 電源投入時ﾛｯｸ確認
MPS
ANB R45807               ; *Group8　安全ｶﾊﾞｰ入力
SET R46707               ; _安全ｶﾊﾞｰ8開処理中
CON
SET R46207               ; _安全ｶﾊﾞｰ8開中
CON
JMP @R705                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
MPP
AND R45807               ; *Group8　安全ｶﾊﾞｰ入力
ENDS
;●ｶﾊﾞｰ開要求ｽｲｯﾁ(COVER_SW)待ち
;●安全ｶﾊﾞｰ不正開監視
;	安全ｶﾊﾞｰ開要求が出ていないのに安全ｶﾊﾞｰ入力がOFFした
LD R40200:#7             ; _安全ｶﾊﾞｰ8使用時出力
ANB R46707               ; _安全ｶﾊﾞｰ8開処理中
ANB R45800               ; *Group8　ｽﾀｰﾄSW
ANB R45801               ; *Group8　ｽﾄｯﾌﾟSW
MPS
LD R45807                ; *Group8　安全ｶﾊﾞｰ入力
ANP R45802               ; *Group8　ｶﾊﾞｰ開要求SW
ANL
SET R46707               ; _安全ｶﾊﾞｰ8開処理中
CON
SET R46807               ; _安全ｶﾊﾞｰ8開待ち状態
CON
SET @R700                ; SC_Before処理
MRD
LD @R710                 ; 安全ｶﾊﾞｰ不正開出力済
ANB R45807               ; *Group8　安全ｶﾊﾞｰ入力
ANL
SET R46707               ; _安全ｶﾊﾞｰ8開処理中
CON
SET R46207               ; _安全ｶﾊﾞｰ8開中
CON
SET @R705                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
MPP
LDB @R710                ; 安全ｶﾊﾞｰ不正開出力済
ORB R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R45807               ; *Group8　安全ｶﾊﾞｰ入力
ANL
MOV #65 DM2003           ; _ｼｽﾃﾑｴﾗｰｺｰﾄﾞ
SET @R710                ; 安全ｶﾊﾞｰ不正開出力済
CON
SET R40009               ; _OneSystem優先ｴﾗｰ要求
LDF R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
RES @R710                ; 安全ｶﾊﾞｰ不正開出力済
STG @R700                ; SC_Before処理
MPS
LDB R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R50707               ; _Group8 ｴｱｰ元圧状態
ANL
SET R44207               ; _Grp8 ﾎﾟｰｽﾞ要求
CON
JMP @R701                ; Pack解除待ち
MPP
LD R46103                ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R46104                ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R50707                ; _Group8 ｴｱｰ元圧状態
ANL
SET R40514               ; _安全ｶﾊﾞｰ8解除ﾕｰｻﾞｰSTG
CON
JMP @R702                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
;●各TaskからのHALT出力待ち
;・起動中全TaskからのHALT待ち
STG @R701                ; Pack解除待ち
AND=.D R44000 R42400     ; _Grp8_Task0_ﾎﾟｰｽﾞ許可  _Grp8_Task0_起動中ﾌﾗｸﾞ
SET R40514               ; _安全ｶﾊﾞｰ8解除ﾕｰｻﾞｰSTG
CON
JMP @R702                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
;●SC_Before
;ｶﾊﾞｰﾛｯｸ解除可／不可確認(ﾕｰｻﾞｰ解放)
STG @R702                ; 安全ｶﾊﾞｰﾛｯｸ解除OK待ち
ANB R40514               ; _安全ｶﾊﾞｰ8解除ﾕｰｻﾞｰSTG
MPS
AND R40614               ; _安全ｶﾊﾞｰ8ﾛｯｸ解除OK
RES R40614               ; _安全ｶﾊﾞｰ8ﾛｯｸ解除OK
CON
JMP @R703                ; 安全ｶﾊﾞｰﾛｯｸ解除
MPP
AND R40615               ; _安全ｶﾊﾞｰ8ﾛｯｸ解除NG
RES R40615               ; _安全ｶﾊﾞｰ8ﾛｯｸ解除NG
CON
ZRES R44000:#0 R44000:#31; _Grp8_Task0_ﾎﾟｰｽﾞ許可  _Grp8_Task31_ﾎﾟｰｽﾞ許可
CON
RES R46807               ; _安全ｶﾊﾞｰ8開待ち状態
CON
RES R44207               ; _Grp8 ﾎﾟｰｽﾞ要求
CON
RES R46707               ; _安全ｶﾊﾞｰ8開処理中
CON
ENDS
;●安全ｶﾊﾞｰﾛｯｸ解除〜ﾛｯｸ解除待ち
STG @R703                ; 安全ｶﾊﾞｰﾛｯｸ解除
RES R46900:#7            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R704                ; 安全ｶﾊﾞｰﾛｯｸ解除待ち
STG @R704                ; 安全ｶﾊﾞｰﾛｯｸ解除待ち
RES R46807               ; _安全ｶﾊﾞｰ8開待ち状態
CON
SET R46207               ; _安全ｶﾊﾞｰ8開中
CON
JMP @R705                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
;●安全ｶﾊﾞｰﾛｯｸ要求(START_SW)待ち
STG @R705                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
LDP R45800               ; *Group8　ｽﾀｰﾄSW
ORP R45809               ; *Group8　ｶﾊﾞｰ継続実行SW
ANL
SET R46900:#7            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R706                ; 安全ｶﾊﾞｰﾛｯｸ待ち
;●安全ｶﾊﾞｰﾛｯｸ〜入力確認
;(ﾛｯｸ入力入らなければ再度ﾛｯｸ要求待ちへ)
STG @R706                ; 安全ｶﾊﾞｰﾛｯｸ待ち
TMR @7 DM9352            ; 安全ｶﾊﾞｰﾛｯｸ確認時間  _安全ｶﾊﾞｰﾛｯｸ確認時間
CON
AND @T7                  ; 安全ｶﾊﾞｰﾛｯｸ確認時間
MPS
AND R45807               ; *Group8　安全ｶﾊﾞｰ入力
RES R46207               ; _安全ｶﾊﾞｰ8開中
CON
SET R40515               ; _安全ｶﾊﾞｰ8ﾛｯｸﾕｰｻﾞｰSTG
CON
JMP @R707                ; SC_After処理
MPP
ANB R45807               ; *Group8　安全ｶﾊﾞｰ入力
RES R46900:#7            ; _安全ｶﾊﾞｰ閉要求sig
CON
JMP @R705                ; 安全ｶﾊﾞｰﾛｯｸ要求待ち
;●SC_After
;ｶﾊﾞｰﾛｯｸ可／不可確認(ﾕｰｻﾞｰ解放)
STG @R707                ; SC_After処理
ANB R40515               ; _安全ｶﾊﾞｰ8ﾛｯｸﾕｰｻﾞｰSTG
MPS
AND R40714               ; _安全ｶﾊﾞｰ8ﾛｯｸOK
RES R46207               ; _安全ｶﾊﾞｰ8開中
CON
RES R40714               ; _安全ｶﾊﾞｰ8ﾛｯｸOK
CON
JMP @R708                ; 安全ｶﾊﾞｰ処理終了
MPP
AND R40715               ; _安全ｶﾊﾞｰ8ﾛｯｸNG
RES R40715               ; _安全ｶﾊﾞｰ8ﾛｯｸNG
CON
JMP @R703                ; 安全ｶﾊﾞｰﾛｯｸ解除
STG @R708                ; 安全ｶﾊﾞｰ処理終了
ANB R45800               ; *Group8　ｽﾀｰﾄSW
ANB R50607               ; _元圧検出8無効宣言
ZRES R44000:#0 R44000:#31; _Grp8_Task0_ﾎﾟｰｽﾞ許可  _Grp8_Task31_ﾎﾟｰｽﾞ許可
CON
RES R44207               ; _Grp8 ﾎﾟｰｽﾞ要求
CON
RES R46707               ; _安全ｶﾊﾞｰ8開処理中
CON
ENDS
;<h1/>Safety Cover Open Sig Logic/安全ｶﾊﾞｰ出力論理設定
;LockRequest = 安全ｶﾊﾞｰ処理ｼｰｹﾝｽ内でｶﾊﾞｰ閉時にSET/ｶﾊﾞｰ開時にRESする中間sig
;
;ﾕｰｻﾞｰ設定(CoverOUT_Logic)の設定により、実ｺｲﾙ(COVER_LOCK*)出力の反転を行う
;OFF：A接点でｶﾊﾞｰ開出力
;ON：B接点でｶﾊﾞｰ開出力
;ｶﾊﾞｰ開出力をA接点に(ONでｶﾊﾞｰ開)
LDB R59408               ; _安全ｶﾊﾞｰ出力論理設定
MPS
AND R46900               ; _安全ｶﾊﾞｰ閉要求sig
SET R44310               ; *Group1　安全ｶﾊﾞｰﾛｯｸ
MRD
ANB R46900               ; _安全ｶﾊﾞｰ閉要求sig
RES R44310               ; *Group1　安全ｶﾊﾞｰﾛｯｸ
MRD
AND R46900:#1            ; _安全ｶﾊﾞｰ閉要求sig
SET R44708               ; *Group2　安全ｶﾊﾞｰﾛｯｸ
MRD
ANB R46900:#1            ; _安全ｶﾊﾞｰ閉要求sig
RES R44708               ; *Group2　安全ｶﾊﾞｰﾛｯｸ
MRD
AND R46900:#2            ; _安全ｶﾊﾞｰ閉要求sig
SET R44908               ; *Group3　安全ｶﾊﾞｰﾛｯｸ
MRD
ANB R46900:#2            ; _安全ｶﾊﾞｰ閉要求sig
RES R44908               ; *Group3　安全ｶﾊﾞｰﾛｯｸ
MRD
AND R46900:#3            ; _安全ｶﾊﾞｰ閉要求sig
SET R45108               ; *Group4　安全ｶﾊﾞｰﾛｯｸ
MRD
ANB R46900:#3            ; _安全ｶﾊﾞｰ閉要求sig
RES R45108               ; *Group4　安全ｶﾊﾞｰﾛｯｸ
MRD
AND R46900:#4            ; _安全ｶﾊﾞｰ閉要求sig
SET R45308               ; *Group5　安全ｶﾊﾞｰﾛｯｸ
MRD
ANB R46900:#4            ; _安全ｶﾊﾞｰ閉要求sig
RES R45308               ; *Group5　安全ｶﾊﾞｰﾛｯｸ
MRD
AND R46900:#5            ; _安全ｶﾊﾞｰ閉要求sig
SET R45508               ; *Group6　安全ｶﾊﾞｰﾛｯｸ
MRD
ANB R46900:#5            ; _安全ｶﾊﾞｰ閉要求sig
RES R45508               ; *Group6　安全ｶﾊﾞｰﾛｯｸ
MRD
AND R46900:#6            ; _安全ｶﾊﾞｰ閉要求sig
SET R45708               ; *Group7　安全ｶﾊﾞｰﾛｯｸ
MRD
ANB R46900:#6            ; _安全ｶﾊﾞｰ閉要求sig
RES R45708               ; *Group7　安全ｶﾊﾞｰﾛｯｸ
MRD
AND R46900:#7            ; _安全ｶﾊﾞｰ閉要求sig
SET R45908               ; *Group8　安全ｶﾊﾞｰﾛｯｸ
MPP
ANB R46900:#7            ; _安全ｶﾊﾞｰ閉要求sig
RES R45908               ; *Group8　安全ｶﾊﾞｰﾛｯｸ
;ｶﾊﾞｰ開出力をB接点に(OFFでｶﾊﾞｰ開)
LD R59408                ; _安全ｶﾊﾞｰ出力論理設定
MPS
AND R46900               ; _安全ｶﾊﾞｰ閉要求sig
RES R44310               ; *Group1　安全ｶﾊﾞｰﾛｯｸ
MRD
ANB R46900               ; _安全ｶﾊﾞｰ閉要求sig
SET R44310               ; *Group1　安全ｶﾊﾞｰﾛｯｸ
MRD
AND R46900:#1            ; _安全ｶﾊﾞｰ閉要求sig
RES R44708               ; *Group2　安全ｶﾊﾞｰﾛｯｸ
MRD
ANB R46900:#1            ; _安全ｶﾊﾞｰ閉要求sig
SET R44708               ; *Group2　安全ｶﾊﾞｰﾛｯｸ
MRD
AND R46900:#2            ; _安全ｶﾊﾞｰ閉要求sig
RES R44908               ; *Group3　安全ｶﾊﾞｰﾛｯｸ
MRD
ANB R46900:#2            ; _安全ｶﾊﾞｰ閉要求sig
SET R44908               ; *Group3　安全ｶﾊﾞｰﾛｯｸ
MRD
AND R46900:#3            ; _安全ｶﾊﾞｰ閉要求sig
RES R45108               ; *Group4　安全ｶﾊﾞｰﾛｯｸ
MRD
ANB R46900:#3            ; _安全ｶﾊﾞｰ閉要求sig
SET R45108               ; *Group4　安全ｶﾊﾞｰﾛｯｸ
MRD
AND R46900:#4            ; _安全ｶﾊﾞｰ閉要求sig
RES R45308               ; *Group5　安全ｶﾊﾞｰﾛｯｸ
MRD
ANB R46900:#4            ; _安全ｶﾊﾞｰ閉要求sig
SET R45308               ; *Group5　安全ｶﾊﾞｰﾛｯｸ
MRD
AND R46900:#5            ; _安全ｶﾊﾞｰ閉要求sig
RES R45508               ; *Group6　安全ｶﾊﾞｰﾛｯｸ
MRD
ANB R46900:#5            ; _安全ｶﾊﾞｰ閉要求sig
SET R45508               ; *Group6　安全ｶﾊﾞｰﾛｯｸ
MRD
AND R46900:#6            ; _安全ｶﾊﾞｰ閉要求sig
RES R45708               ; *Group7　安全ｶﾊﾞｰﾛｯｸ
MRD
ANB R46900:#6            ; _安全ｶﾊﾞｰ閉要求sig
SET R45708               ; *Group7　安全ｶﾊﾞｰﾛｯｸ
MRD
AND R46900:#7            ; _安全ｶﾊﾞｰ閉要求sig
RES R45908               ; *Group8　安全ｶﾊﾞｰﾛｯｸ
MPP
ANB R46900:#7            ; _安全ｶﾊﾞｰ閉要求sig
SET R45908               ; *Group8　安全ｶﾊﾞｰﾛｯｸ
END
ENDH
