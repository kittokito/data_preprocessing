DEVICE:53
;MODULE:EE12171
;MODULE_TYPE:0
;para
LD CR2002                ; 常時ON
DW #1 DM8006             ; _通常ｴﾗｰ　復帰選択肢
LD CR2002                ; 常時ON
TMH @0 #200
LD @T0
OUT R9014                ; 電源起動  遅延
;ｼﾘﾝﾀﾞ原点管理
LDB R1006                ; ﾎﾙﾀﾞｰSub位置決ﾋﾟﾝ上昇限
AND R1007                ; ﾎﾙﾀﾞｰSub位置決ﾋﾟﾝ下降限
ANB R1008                ; ﾍｯﾄﾞSub位置決ﾋﾟﾝ上限
AND R1009                ; ﾍｯﾄﾞSub位置決ﾋﾟﾝ下限
ANB R1010                ; ﾎﾙﾀﾞｰSub吸着検出
AND R1011                ; ﾎﾙﾀﾞｰSub破壊検出
ANB R1012                ; ｾｯﾄ台ｽﾗｲﾄﾞ前進限 ｶｼﾒ側
AND R1013                ; ｾｯﾄ台ｽﾗｲﾄﾞ後退限 ﾜｰｸｾｯﾄ側 
ANB R1014                ; COFｶﾞｲﾄﾞ前進限 ﾜｰｸ側
AND R1015                ; COFｶﾞｲﾄﾞ後退限 逃げ側
ANB R2014                ; ﾎﾙﾀﾞｰSub押え下降限
AND R2015                ; ﾎﾙﾀﾞｰSub押え上昇限
ANB R2108                ; COFｶﾞｲﾄﾞﾁｬｯｸ閉端
AND R2109                ; COFｶﾞｲﾄﾞﾁｬｯｸ開端
ANB R2110                ; ﾎﾙﾀﾞｰSub下降部前進限 (ﾜｰｸ側)
AND R2111                ; ﾎﾙﾀﾞｰSub下降部後退限 (逃げ側)
ANB R2112                ; ﾎﾙﾀﾞｰSub下降部下降端
AND R2113                ; ﾎﾙﾀﾞｰSub下降部上昇端 (逃げ側)
LDB R2114                ; ｶｼﾒﾍｯﾄﾞ前後 (ﾜｰｸ側)
AND R2115                ; ｶｼﾒﾍｯﾄﾞ前後 (逃げ側)
OR CR2002                ; 常時ON
ANL
AND R1002                ; UNIT1     運転終了出力
OUT R9101                ; ｼﾘﾝﾀﾞ     原点位置
;<h1/>7seg
LDB LR10001              ; TP仕様
AND MR9100               ; 7seg 表示H
OUT MR2300               ; 7seg1-1
LD LR10001               ; TP仕様
AND MR9200               ; 7seg 表示L
OUT R2800
LDB LR10001              ; TP仕様
AND MR9101               ; 7seg 表示H
OUT MR2301               ; 7seg1-2
LD LR10001               ; TP仕様
AND MR9201               ; 7seg 表示L
OUT R2801
LDB LR10001              ; TP仕様
AND MR9102               ; 7seg 表示H
OUT MR2302               ; 7seg1-3
LD LR10001               ; TP仕様
AND MR9202               ; 7seg 表示L
OUT R2802
LDB LR10001              ; TP仕様
AND MR9103               ; 7seg 表示H
OUT MR2303               ; 7seg1-4
LD LR10001               ; TP仕様
AND MR9203               ; 7seg 表示L
OUT R2803
;
LDB LR10001              ; TP仕様
AND MR9200               ; 7seg 表示L
OUT MR2304               ; 7seg2-1
LD LR10001               ; TP仕様
AND MR9100               ; 7seg 表示H
OUT R2804
LDB LR10001              ; TP仕様
AND MR9201               ; 7seg 表示L
OUT MR2305               ; 7seg2-2
LD LR10001               ; TP仕様
AND MR9101               ; 7seg 表示H
OUT R2805
LDB LR10001              ; TP仕様
AND MR9202               ; 7seg 表示L
OUT MR2306               ; 7seg2-3
LD LR10001               ; TP仕様
AND MR9102               ; 7seg 表示H
OUT R2806
LDB LR10001              ; TP仕様
AND MR9203               ; 7seg 表示L
OUT MR2307               ; 7seg2-4
LD LR10001               ; TP仕様
AND MR9103               ; 7seg 表示H
OUT R2807
;作業要求表示
LDB R39004               ; ｴﾗｰ中
AND<> R9200 #0           ; ﾍｯﾄﾞsub投入要求
MPS
ANB CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
DW $0000 MR9200          ; 7seg 表示L
MPP
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
MPS
AND R9200                ; ﾍｯﾄﾞsub投入要求
DW $0001 MR9200          ; 7seg 表示L
MPP
AND R9201                ; ﾎﾙﾀﾞｰsub投入要求
DW $0002 MR9200          ; 7seg 表示L
;ｴﾗｰ表示
LDB R39004               ; ｴﾗｰ中
ANB R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46300               ; _Group1　ｴﾘｱｾﾝｻ遮断中
ANB R9100                ; ﾒﾝﾃﾅﾝｽ要求
AND= R9200 #0            ; ﾍｯﾄﾞsub投入要求
DW $0000 MR9100          ; 7seg 表示H
CON
DW $0000 MR9200          ; 7seg 表示L
LD R39004                ; ｴﾗｰ中
ANB R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
DW $000E MR9100          ; 7seg 表示H
CON
MPS
AND= DM60001 #1          ; ErrorNo /ERROR_DISP
DW $0001 MR9200          ; 7seg 表示L
MRD
AND= DM60001 #2          ; ErrorNo /ERROR_DISP
DW $0002 MR9200          ; 7seg 表示L
MRD
AND= DM60001 #3          ; ErrorNo /ERROR_DISP
DW $0003 MR9200          ; 7seg 表示L
MRD
AND= DM60001 #4          ; ErrorNo /ERROR_DISP
DW $0004 MR9200          ; 7seg 表示L
MRD
AND= DM60001 #5          ; ErrorNo /ERROR_DISP
DW $0005 MR9200          ; 7seg 表示L
MRD
AND= DM60001 #6          ; ErrorNo /ERROR_DISP
DW $0006 MR9200          ; 7seg 表示L
MRD
AND= DM60001 #7          ; ErrorNo /ERROR_DISP
DW $0007 MR9200          ; 7seg 表示L
MRD
AND= DM60001 #8          ; ErrorNo /ERROR_DISP
DW $0008 MR9200          ; 7seg 表示L
MRD
AND= DM60001 #9          ; ErrorNo /ERROR_DISP
DW $0009 MR9200          ; 7seg 表示L
MRD
AND= DM60001 #10         ; ErrorNo /ERROR_DISP
DW $000A MR9200          ; 7seg 表示L
MRD
AND= DM60001 #11         ; ErrorNo /ERROR_DISP
DW $000B MR9200          ; 7seg 表示L
MRD
AND= DM60001 #12         ; ErrorNo /ERROR_DISP
DW $000C MR9200          ; 7seg 表示L
MRD
AND= DM60001 #13         ; ErrorNo /ERROR_DISP
DW $000D MR9200          ; 7seg 表示L
MRD
AND= DM60001 #14         ; ErrorNo /ERROR_DISP
DW $000E MR9200          ; 7seg 表示L
MPP
AND= DM60001 #15         ; ErrorNo /ERROR_DISP
DW $000F MR9200          ; 7seg 表示L
LD R46104                ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
DW $000E MR9100          ; 7seg 表示H
CON
DW $000E MR9200          ; 7seg 表示L
LD R46008                ; _Group1 ｴｱｰ圧低下状態
ANB R46300               ; _Group1　ｴﾘｱｾﾝｻ遮断中
DW $000E MR9100          ; 7seg 表示H
CON
DW $000A MR9200          ; 7seg 表示L
LD R46300                ; _Group1　ｴﾘｱｾﾝｻ遮断中
ANB R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
DW $000E MR9100          ; 7seg 表示H
CON
DW $000F MR9200          ; 7seg 表示L
LD CR2003                ; 常時OFF
ANB R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46300               ; _Group1　ｴﾘｱｾﾝｻ遮断中
ANB R39004               ; ｴﾗｰ中
DW $000F MR9100          ; 7seg 表示H
CON
DW $000F MR9200          ; 7seg 表示L
;ﾒﾝﾃﾅﾝｽ要求
LDB R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46300               ; _Group1　ｴﾘｱｾﾝｻ遮断中
ANB R39004               ; ｴﾗｰ中
MPS
AND CR2003               ; 常時OFF
DW $000A MR9100          ; 7seg 表示H
CON
DW $0001 MR9200          ; 7seg 表示L
MRD
AND R9102                ; ﾜｰｸ除材要求
DW $000A MR9100          ; 7seg 表示H
CON
DW $0002 MR9200          ; 7seg 表示L
MRD
AND CR2003               ; 常時OFF
DW $000A MR9100          ; 7seg 表示H
CON
DW $0003 MR9200          ; 7seg 表示L
MPP
AND CR2003               ; 常時OFF
DW $000A MR9100          ; 7seg 表示H
CON
DW $0004 MR9200          ; 7seg 表示L
LD R9102                 ; ﾜｰｸ除材要求
OUT R9100                ; ﾒﾝﾃﾅﾝｽ要求
LDP R9100                ; ﾒﾝﾃﾅﾝｽ要求
SET R9115                ; ﾒﾝﾃﾅﾝｽ要求ﾌﾞｻﾞｰON
LD R9115                 ; ﾒﾝﾃﾅﾝｽ要求ﾌﾞｻﾞｰON
LDP R44403               ; *Group1　ﾌﾞｻﾞｰｵﾌSW
ORF R9102                ; ﾜｰｸ除材要求
ANL
MPS
RES R9115                ; ﾒﾝﾃﾅﾝｽ要求ﾌﾞｻﾞｰON
MPP
AND CR2003               ; 常時OFF
DW #0 DM50
CON
DW #0 DM52
;デジスイッチ TP仕様
LD LR10001               ; TP仕様
MPS
TMR @21 #50
CON
AND @T21
@DW #1 DM7008            ; 装置基礎ﾃﾞｰﾀ5
MRD
AND CR2003               ; 常時OFF
PLDA DM2300 #8
CON
STA R2300                ; 7seg 1-1
MRD
PLDA DM2302 #4           ; TPﾃﾞｼﾞ入力L(右)
CON
STA R2500                ; TP入力→ﾃﾞｼﾞ置換2-1
MPP
PLDA DM2303 #4           ; TPﾃﾞｼﾞ入力H(左)
CON
STA R2504                ; TP入力→ﾃﾞｼﾞ置換1-1
;<h1/>ﾃﾞｼﾞｽｲｯﾁ
LDB LR10001              ; TP仕様
AND R2100                ; ﾃﾞｼﾞｽｲｯﾁ  1-1(左1)
LD LR10001               ; TP仕様
AND R2504                ; TP入力→ﾃﾞｼﾞ置換1-1
ORL
OUT MR9300               ; ﾃﾞｼﾞｽｲｯﾁH 1-1(左1)
LDB LR10001              ; TP仕様
AND R2101                ; ﾃﾞｼﾞｽｲｯﾁ  1-2(左2)
LD LR10001               ; TP仕様
AND R2505                ; TP入力→ﾃﾞｼﾞ置換1-2
ORL
OUT MR9301               ; ﾃﾞｼﾞｽｲｯﾁH 1-2(左2)
LDB LR10001              ; TP仕様
AND R2102                ; ﾃﾞｼﾞｽｲｯﾁ  1-3(左3)
LD LR10001               ; TP仕様
AND R2506                ; TP入力→ﾃﾞｼﾞ置換1-3
ORL
OUT MR9302               ; ﾃﾞｼﾞｽｲｯﾁH 1-3(左3)
LDB LR10001              ; TP仕様
AND R2103                ; ﾃﾞｼﾞｽｲｯﾁ  1-4(左4)
LD LR10001               ; TP仕様
AND R2507                ; TP入力→ﾃﾞｼﾞ置換1-4
ORL
OUT MR9303               ; ﾃﾞｼﾞｽｲｯﾁH 1-4(左4)
LD CR2002                ; 常時ON
ZRES MR9304 MR9315
;
LDB LR10001              ; TP仕様
AND R2104                ; ﾃﾞｼﾞｽｲｯﾁ  2-1(右1)
LD LR10001               ; TP仕様
AND R2500                ; TP入力→ﾃﾞｼﾞ置換2-1
ORL
OUT MR9400               ; ﾃﾞｼﾞｽｲｯﾁL 2-1(右1)
LDB LR10001              ; TP仕様
AND R2105                ; ﾃﾞｼﾞｽｲｯﾁ  2-2(右2)
LD LR10001               ; TP仕様
AND R2501                ; TP入力→ﾃﾞｼﾞ置換2-2
ORL
OUT MR9401               ; ﾃﾞｼﾞｽｲｯﾁL 2-2(右2)
LDB LR10001              ; TP仕様
AND R2106                ; ﾃﾞｼﾞｽｲｯﾁ  2-3(右3)
LD LR10001               ; TP仕様
AND R2502                ; TP入力→ﾃﾞｼﾞ置換2-3
ORL
OUT MR9402               ; ﾃﾞｼﾞｽｲｯﾁL 2-3(右3)
LDB LR10001              ; TP仕様
AND R2107                ; ﾃﾞｼﾞｽｲｯﾁ  2-4(右4)
LD LR10001               ; TP仕様
AND R2503                ; TP入力→ﾃﾞｼﾞ置換2-4
ORL
OUT MR9403               ; ﾃﾞｼﾞｽｲｯﾁL 2-4(右4)
LD CR2002                ; 常時ON
ZRES MR9404 MR9415
END
ENDH
