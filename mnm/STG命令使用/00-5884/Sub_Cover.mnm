DEVICE:53
;MODULE:Sub_Cover
;MODULE_TYPE:0
LDP R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ZRES MR10000 MR10007     ; ﾄﾚｲ投入 ﾎﾟｰｽﾞ要求  ﾄﾚｲ取出 停止中
CON
ZRES @MR000 @MR215
;Sub Cover
LD R40200                ; _安全ｶﾊﾞｰ1使用時出力
ANB R46700               ; _安全ｶﾊﾞｰ1開処理中
ANB R44400               ; *Group1　ｽﾀｰﾄSW
ANB R44401               ; *Group1　ｽﾄｯﾌﾟSW
AND R44303               ; *Group1　安全ｶﾊﾞｰ入力
OR CR2002                ; 常時ON
MPS
LDP R4001                ; SｶﾊﾞｰSWBOX1(ﾄﾚｲ投入) PAUSE
ANB MR10001              ; ﾄﾚｲ投入 ｶﾊﾞｰ開
ANL
SET @MR100               ; ﾄﾚｲ投入ｶﾊﾞｰ開処理
MPP
LDP R4003                ; SｶﾊﾞｰSWBOX2(ﾄﾚｲ取出) PAUSE
ANB MR10005              ; ﾄﾚｲ取出 ｶﾊﾞｰ開
ANL
SET @MR200               ; ﾄﾚｲ取出ｶﾊﾞｰ開処理
;ﾄﾚｲ投入
LD R4408                 ; ﾄﾚｲ搬送 ﾜｰｸ収納側
AND R4608                ; ﾄﾚｲ位置決めﾋﾟﾝ上下(右) 下降限
AND R4610                ; ﾄﾚｲ位置決めﾋﾟﾝ上下(左) 下降限
AND R4612                ; ﾄﾚｲ位置決めﾋﾟﾝ開閉(右) 閉限
AND R4614                ; ﾄﾚｲ位置決めﾋﾟﾝ開閉(左) 閉限
LD R4409                 ; ﾄﾚｲ搬送 ﾄﾚｲ投入側
AND R4609                ; ﾄﾚｲ位置決めﾋﾟﾝ上下(右) 上昇限
AND R4611                ; ﾄﾚｲ位置決めﾋﾟﾝ上下(左) 上昇限
AND R4613                ; ﾄﾚｲ位置決めﾋﾟﾝ開閉(右) 開限
AND R4615                ; ﾄﾚｲ位置決めﾋﾟﾝ開閉(左) 開限
ORL
AND R4411                ; ﾄﾚｲ押え(右) 開限
AND R4413                ; ﾄﾚｲ押え(左) 開限
AND R4501                ; 段ﾊﾞﾗｼ前後(右奥) 閉限
AND R4503                ; 段ﾊﾞﾗｼ前後(右前) 閉限
AND R4505                ; 段ﾊﾞﾗｼ前後(左奥) 閉限
AND R4507                ; 段ﾊﾞﾗｼ前後(左前) 閉限
AND R4509                ; 段ﾊﾞﾗｼ上下1(右奥) 上昇限
AND R4511                ; 段ﾊﾞﾗｼ上下1(右前) 上昇限
AND R4513                ; 段ﾊﾞﾗｼ上下1(左奥) 上昇限
AND R4515                ; 段ﾊﾞﾗｼ上下1(左前) 上昇限
AND R4109                ; 段ﾊﾞﾗｼ上下2(右奥) 上昇限
AND R4111                ; 段ﾊﾞﾗｼ上下2(右前) 上昇限
AND R4113                ; 段ﾊﾞﾗｼ上下2(左奥) 上昇限
AND R4115                ; 段ﾊﾞﾗｼ上下2(左前) 上昇限
OUT MR10003              ; ﾄﾚｲ投入 停止中
STG @MR100               ; ﾄﾚｲ投入ｶﾊﾞｰ開処理
MPS
LDB R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
LDB R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ORB MR10003              ; ﾄﾚｲ投入 停止中
ANL
ANB R50700               ; _Group1 ｴｱｰ元圧状態
ANL
SET MR10000              ; ﾄﾚｲ投入 ﾎﾟｰｽﾞ要求
CON
JMP @MR101
MPP
LD R46103                ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R46104                ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R50700                ; _Group1 ｴｱｰ元圧状態
ANL
MPS
AND MR10003              ; ﾄﾚｲ投入 停止中
SET MR10001              ; ﾄﾚｲ投入 ｶﾊﾞｰ開
CON
JMP @MR102
MPP
ANB MR10003              ; ﾄﾚｲ投入 停止中
ENDS
STG @MR101
MPS
LD MR10002               ; ﾄﾚｲ投入 ﾎﾟｰｽﾞ許可
ORB R41002               ; _Grp1_Task2_起動中ﾌﾗｸﾞ
ANL
SET MR10001              ; ﾄﾚｲ投入 ｶﾊﾞｰ開
CON
JMP @MR102
MPP
ANP R4000                ; SｶﾊﾞｰSWBOX1(ﾄﾚｲ投入) START
RES MR10000              ; ﾄﾚｲ投入 ﾎﾟｰｽﾞ要求
CON
RES MR10001              ; ﾄﾚｲ投入 ｶﾊﾞｰ開
CON
RES MR10002              ; ﾄﾚｲ投入 ﾎﾟｰｽﾞ許可
CON
ENDS
STG @MR102
ANP R4000                ; SｶﾊﾞｰSWBOX1(ﾄﾚｲ投入) START
RES MR10001              ; ﾄﾚｲ投入 ｶﾊﾞｰ開
CON
JMP @MR103
STG @MR103
TMH @0 #50
CON
AND @T0
MPS
ANB R4100                ; Sｶﾊﾞｰ1(ﾄﾚｲ投入) 閉中
SET MR10001              ; ﾄﾚｲ投入 ｶﾊﾞｰ開
CON
JMP @MR102
MPP
AND R4100                ; Sｶﾊﾞｰ1(ﾄﾚｲ投入) 閉中
RES MR10000              ; ﾄﾚｲ投入 ﾎﾟｰｽﾞ要求
CON
JMP @MR104
STG @MR104
RES MR10002              ; ﾄﾚｲ投入 ﾎﾟｰｽﾞ許可
CON
ENDS
;ﾄﾚｲ取出
LD R4604                 ; 段積ｽﾗｲﾀﾞ 段積位置確認
AND R4701                ; 段積 ｼｬｯﾀｰ 閉限
AND R4703                ; 段積 ﾄﾚｲﾘﾌﾄ 下降限
OUT MR10007              ; ﾄﾚｲ取出 停止中
STG @MR200               ; ﾄﾚｲ取出ｶﾊﾞｰ開処理
MPS
LDB R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
LDB R46103               ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ORB MR10007              ; ﾄﾚｲ取出 停止中
ANL
ANB R50700               ; _Group1 ｴｱｰ元圧状態
ANL
SET MR10004              ; ﾄﾚｲ取出 ﾎﾟｰｽﾞ要求
CON
JMP @MR201
MPP
LD R46103                ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R46104                ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
OR R50700                ; _Group1 ｴｱｰ元圧状態
ANL
MPS
AND MR10007              ; ﾄﾚｲ取出 停止中
SET MR10005              ; ﾄﾚｲ取出 ｶﾊﾞｰ開
CON
JMP @MR202
MPP
ANB MR10007              ; ﾄﾚｲ取出 停止中
ENDS
STG @MR201
MPS
LD MR10006               ; ﾄﾚｲ取出 ﾎﾟｰｽﾞ許可
ORB R41003               ; _Grp1_Task3_起動中ﾌﾗｸﾞ
ANB R4700                ; 段積 ｼｬｯﾀｰ 開限
AND R4701                ; 段積 ｼｬｯﾀｰ 閉限
ANL
SET MR10005              ; ﾄﾚｲ取出 ｶﾊﾞｰ開
CON
JMP @MR202
MPP
ANP R4002                ; SｶﾊﾞｰSWBOX2(ﾄﾚｲ取出) START
RES MR10004              ; ﾄﾚｲ取出 ﾎﾟｰｽﾞ要求
CON
RES MR10005              ; ﾄﾚｲ取出 ｶﾊﾞｰ開
CON
RES MR10006              ; ﾄﾚｲ取出 ﾎﾟｰｽﾞ許可
CON
ENDS
STG @MR202
ANP R4002                ; SｶﾊﾞｰSWBOX2(ﾄﾚｲ取出) START
RES MR10005              ; ﾄﾚｲ取出 ｶﾊﾞｰ開
CON
JMP @MR203
STG @MR203
TMH @1 #50
CON
AND @T1
MPS
ANB R4101                ; Sｶﾊﾞｰ2(ﾄﾚｲ取出) 閉中
SET MR10005              ; ﾄﾚｲ取出 ｶﾊﾞｰ開
CON
JMP @MR202
MPP
AND R4101                ; Sｶﾊﾞｰ2(ﾄﾚｲ取出) 閉中
RES MR10004              ; ﾄﾚｲ取出 ﾎﾟｰｽﾞ要求
CON
JMP @MR204
STG @MR204
RES MR10006              ; ﾄﾚｲ取出 ﾎﾟｰｽﾞ許可
CON
ENDS
;OUTPUT ﾄﾚｲ投入
LD MR10001               ; ﾄﾚｲ投入 ｶﾊﾞｰ開
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT MR7005               ; SｶﾊﾞｰSWBOX1(ﾄﾚｲ投入) STARTﾗﾝﾌﾟ
LD MR10000               ; ﾄﾚｲ投入 ﾎﾟｰｽﾞ要求
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR10001               ; ﾄﾚｲ投入 ｶﾊﾞｰ開
OUT MR7006               ; SｶﾊﾞｰSWBOX1(ﾄﾚｲ投入) PAUSEﾗﾝﾌﾟ
LDB MR10001              ; ﾄﾚｲ投入 ｶﾊﾞｰ開
OUB MR7100               ; Sｶﾊﾞｰ1(ﾄﾚｲ投入) 開
;OUTPUT ﾄﾚｲ取出
LD MR10005               ; ﾄﾚｲ取出 ｶﾊﾞｰ開
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT MR7007               ; SｶﾊﾞｰSWBOX2(ﾄﾚｲ取出) STARTﾗﾝﾌﾟ
LD MR10004               ; ﾄﾚｲ取出 ﾎﾟｰｽﾞ要求
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR10005               ; ﾄﾚｲ取出 ｶﾊﾞｰ開
OUT MR7008               ; SｶﾊﾞｰSWBOX2(ﾄﾚｲ取出) PAUSEﾗﾝﾌﾟ
LDB MR10005              ; ﾄﾚｲ取出 ｶﾊﾞｰ開
OUB MR7101               ; Sｶﾊﾞｰ2(ﾄﾚｲ取出) 開
END
ENDH
