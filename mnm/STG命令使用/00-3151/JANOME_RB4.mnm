DEVICE:53
;MODULE:JANOME_RB4
;MODULE_TYPE:0
LDP R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ZRES R19000 R19715       ; 塗布4 引込塗布側
CON
ZRES @MR100 @MR2915      ; Task4 ERROR
LD= DM60000 #4           ; TaskNo /ERROR_DISP
AND R46208               ; _Group1　ｴﾗｰ発生中
OUT @MR001               ; TASK ERROR
;TP
LD CR2008                ; 運転開始時1ｽｷｬﾝON
ORP R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
MOV #0 EM5518            ; 塗布UT4 切替ﾍﾟｰｼﾞNo.
DW #1 EM5560             ; 塗布UT4 0=ONLINE  1=OFFLINE
LD= EM5510 #0            ; 塗布UT4 表示中ﾍﾟｰｼﾞNo.
TMR @0 #30
CON
AND @T0
MOV #2 EM5518            ; 塗布UT4 切替ﾍﾟｰｼﾞNo.
LDP R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
MOV #3 EM5518            ; 塗布UT4 切替ﾍﾟｰｼﾞNo.
LDB R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
ORP R19601               ; 塗布4 原点復帰 END
MPS
AND= EM5560 #1           ; 塗布UT4 0=ONLINE  1=OFFLINE
@MOV #10 EM5518          ; 塗布UT4 切替ﾍﾟｰｼﾞNo.
MPP
AND= EM5560 #0           ; 塗布UT4 0=ONLINE  1=OFFLINE
@MOV #100 EM5518         ; 塗布UT4 切替ﾍﾟｰｼﾞNo.
LDB R1800                ; 塗布RB4 ｽﾀｰﾄﾚﾃﾞｨｰ
AND R1801                ; 塗布RB4 停止中
ANB R1804                ; 塗布RB4 運転動作中
TMR @20 #3               ; 塗布RB 電源OFF ﾃﾞｨﾚｲ
LDF R1111                ; 塗布UT4 RB&ﾃﾞｨｽﾍﾟﾝｻｰ 電源 ON 
OR @T20                  ; 塗布RB 電源OFF ﾃﾞｨﾚｲ
MPS
RES R20900               ; 塗布4   ONLINE
CON
SET R20908               ; 塗布4  OFFLINE
CON
DW #1 EM5560             ; 塗布UT4 0=ONLINE  1=OFFLINE
CON
@RES @MR2606             ; 慣らし運転完了記憶
MPP
ANB @MR2605              ; 初回
@SET @MR2605             ; 初回
CON
@RES MR1111              ; 塗布UT4 RB&ﾃﾞｨｽﾍﾟﾝｻｰ 電源 ON 
;<h1/>原点復帰
STG R19600               ; 塗布4 原点復帰
RES R19601               ; 塗布4 原点復帰 END
CON
SET R19602               ; During塗布4 原点復帰
CON
JMP @MR2100
STG @MR2100
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
LD R4500                 ; 塗布UT4 左側ﾜｰｸ有無確認
ANB LR10107              ; 塗布機4塗布完了記憶
ANL
SET R19008               ; 塗布4左 調整下降
CON
JMP @MR2101
MPP
LDB R4500                ; 塗布UT4 左側ﾜｰｸ有無確認
OR LR10107               ; 塗布機4塗布完了記憶
ANL
SET R19012               ; 塗布4左 調整上昇
CON
JMP @MR2102
STG @MR2101
AND R19009               ; 塗布4左 調整下降 END
RES R19009               ; 塗布4左 調整下降 END
CON
JMP @MR2103
STG @MR2102
AND R19013               ; 塗布4左 調整上昇 END
RES R19013               ; 塗布4左 調整上昇 END
CON
JMP @MR2103
STG @MR2103
JMP @MR2104
;右側ｸﾗﾝﾌﾟ動作(HOME)
STG @MR2104
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
AND R4501                ; 塗布UT4 右側ﾜｰｸ有無確認
SET R19104               ; 塗布4右 調整下降
CON
JMP @MR2105
MPP
ANB R4501                ; 塗布UT4 右側ﾜｰｸ有無確認
SET R19108               ; 塗布4右 調整上昇
CON
JMP @MR2106
STG @MR2105
AND R19105               ; 塗布4右 調整下降 END
RES R19105               ; 塗布4右 調整下降 END
CON
JMP @MR2107
STG @MR2106
AND R19109               ; 塗布4右 調整上昇 END
RES R19109               ; 塗布4右 調整上昇 END
CON
JMP @MR2107
STG @MR2107
JMP @MR2108
;RB原点(HOME)
STG @MR2108
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
DW #50 EM1196            ; 塗布RB4 PROG選択
CON
SET R19100               ; 塗布4 MOVE
CON
JMP @MR2109
STG @MR2109
ANB R19102               ; During 塗布4 MOVE
AND R19101               ; 塗布4 MOVE END
MPS
ANB R19103               ; 塗布4 Alarm
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR2112
MPP
AND R19103               ; 塗布4 Alarm
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR2110
STG @MR2110
ANB R39004               ; ｴﾗｰ中
RES R19103               ; 塗布4 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #156 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task4 ERROR
CON
JMP @MR2111
STG @MR2111
MPS
AND MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task4 ERROR_End
ANL
RES @MR101               ; Task4 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR2108
;引き込み(HOME)
STG @MR2112
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R19200               ; 塗布4 受取位置移動
CON
JMP @MR2113
STG @MR2113
AND R19201               ; 塗布4 受取位置移動 END
MPS
AND= EM5560 #0           ; 塗布UT4 0=ONLINE  1=OFFLINE
RES R19201               ; 塗布4 受取位置移動 END
CON
JMP @MR2115
MPP
AND= EM5560 #1           ; 塗布UT4 0=ONLINE  1=OFFLINE
RES R19201               ; 塗布4 受取位置移動 END
CON
SET R19500               ; 塗布4 引込塗布(NG)
CON
JMP @MR2114
STG @MR2114
AND R19501               ; 塗布4 引込塗布(NG)END
RES R19501               ; 塗布4 引込塗布(NG)END
CON
JMP @MR2115
STG @MR2115
ANB @MR001               ; TASK ERROR
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
MPS
RES R19602               ; During塗布4 原点復帰
CON
SET R19601               ; 塗布4 原点復帰 END
CON
ENDS
MPP
ANB R19510               ; During塗布4 慣らし運転動作
DW #999 EM5654           ; 塗布UT4 捨て出し回数
;<h1/>動作ﾙｰﾁﾝ
;ここから
;<h1/>ON/OFF動作開始
LDB R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46114               ; _装置原点復帰待ち
MPS
AND= EM5560 #0           ; 塗布UT4 0=ONLINE  1=OFFLINE
@SET @MR300              ; ONLINE_START
MPP
AND= EM5560 #1           ; 塗布UT4 0=ONLINE  1=OFFLINE
@SET @MR200              ; OFFLINE_START
;<h1/>OFFLINE動作
;塗布画面（200）
;捨て出し画面（300）
;針位置調整画面（400）
;重量測定画面（500）
STG @MR200               ; OFFLINE_START
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
AND MR10015              ; 塗布4     停止中
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
MPS
LD= EM5560 #1            ; 塗布UT4 0=ONLINE  1=OFFLINE
ANP R4111                ; 塗布確認 SWBOX4(塗布4) ｽﾀｰﾄ
AND MR10015              ; 塗布4     停止中
ANL
MPS
AND= EM5510 #200         ; 塗布UT4 表示中ﾍﾟｰｼﾞNo.
MPS
AND @MR2606              ; 慣らし運転完了記憶
JMP @MR202
MPP
ANB @MR2606              ; 慣らし運転完了記憶
JMP @MR212               ; 動作不可
MRD
AND= EM5510 #300         ; 塗布UT4 表示中ﾍﾟｰｼﾞNo.
@MOV #301 EM5518         ; 塗布UT4 切替ﾍﾟｰｼﾞNo.
SET R19400               ; 塗布4 捨て出し
CON
JMP @MR204
MRD
AND= EM5510 #400         ; 塗布UT4 表示中ﾍﾟｰｼﾞNo.
@MOV #401 EM5518         ; 塗布UT4 切替ﾍﾟｰｼﾞNo.
SET R19308               ; 塗布4 針位置
CON
JMP @MR206
MRD
AND= EM5510 #500         ; 塗布UT4 表示中ﾍﾟｰｼﾞNo.
MPS
AND @MR2606              ; 慣らし運転完了記憶
@MOV #501 EM5518         ; 塗布UT4 切替ﾍﾟｰｼﾞNo.
SET R19300               ; 塗布4 重量測定
CON
JMP @MR208
MPP
ANB @MR2606              ; 慣らし運転完了記憶
JMP @MR212               ; 動作不可
MPP
AND= EM5510 #600         ; 塗布UT4 表示中ﾍﾟｰｼﾞNo.
@MOV #601 EM5518         ; 塗布UT4 切替ﾍﾟｰｼﾞNo.
SET R19508               ; 塗布4 慣らし運転動作
CON
JMP @MR210
MPP
AND<> EM5560 #1          ; 塗布UT4 0=ONLINE  1=OFFLINE
ENDS
;OFFLINE塗布実行中
STG @MR202
MPS
ANB LR10107              ; 塗布機4塗布完了記憶
SET R19208               ; 塗布4 塗布動作
CON
@MOV #201 EM5518         ; 塗布UT4 切替ﾍﾟｰｼﾞNo.
JMP @MR203
MPP
AND LR10107              ; 塗布機4塗布完了記憶
@DW #8 EM5540            ; 塗布UT4 ﾊﾞｯｸﾗｲﾄｶﾗｰ
CON
SET R21007               ; 塗布4TP   ﾒﾝﾃﾌﾞｻﾞｰON
CON
JMP @MR200               ; OFFLINE_START
STG @MR203
AND R19209               ; 塗布4 塗布動作 END
@MOV #200 EM5518         ; 塗布UT4 切替ﾍﾟｰｼﾞNo.
RES R19209               ; 塗布4 塗布動作 END
CON
JMP @MR200               ; OFFLINE_START
;OFFLINE捨て出し実行中
STG @MR204
AND R19401               ; 塗布4 捨て出し END
@MOV #300 EM5518         ; 塗布UT4 切替ﾍﾟｰｼﾞNo.
RES R19401               ; 塗布4 捨て出し END
CON
JMP @MR200               ; OFFLINE_START
;OFFLINE針位置実行中
STG @MR206
MPS
LD MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
AND R1808                ; 塗布RB4 STEP SW 要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
MPS
AND R19309               ; 塗布4 針位置 END
@MOV #400 EM5518         ; 塗布UT4 切替ﾍﾟｰｼﾞNo.
RES R19309               ; 塗布4 針位置 END
CON
JMP @MR200               ; OFFLINE_START
MPP
LD R1808                 ; 塗布RB4 STEP SW 要求
ANP R4111                ; 塗布確認 SWBOX4(塗布4) ｽﾀｰﾄ
ANL
OUT MR1911               ; 塗布RB4 STEP(一旦停止)
;OFFLINE重量測定実行中
STG @MR208
AND R19301               ; 塗布4 重量測定 END
@MOV #500 EM5518         ; 塗布UT4 切替ﾍﾟｰｼﾞNo.
RES R19301               ; 塗布4 重量測定 END
CON
JMP @MR200               ; OFFLINE_START
;OFFLINEｴｰｼﾞﾝｸﾞ動作実行中
STG @MR210
AND R19509               ; 塗布4 慣らし運転動作 END
@MOV #600 EM5518         ; 塗布UT4 切替ﾍﾟｰｼﾞNo.
RES R19509               ; 塗布4 慣らし運転動作 END
CON
JMP @MR200               ; OFFLINE_START
;動作不可
STG @MR212               ; 動作不可
SET @MR2607              ; 慣らし運転要求Flg
CON
JMP @MR213
STG @MR213
ANP R21014               ; 塗布4TP   Bz.OFF
RES @MR2607              ; 慣らし運転要求Flg
CON
JMP @MR200               ; OFFLINE_START
;<h1/>ONLINE動作
STG @MR300               ; ONLINE_START
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
AND MR10015              ; 塗布4     停止中
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
MPS
AND= EM5560 #0           ; 塗布UT4 0=ONLINE  1=OFFLINE
JMP @MR301
MPP
AND<> EM5560 #0          ; 塗布UT4 0=ONLINE  1=OFFLINE
ENDS
STG @MR301
JMP @MR300               ; ONLINE_START
;動作ﾙｰﾁﾝ
;ここまで
;<h1/>ﾜｰｸ受取位置移動動作
STG R19200               ; 塗布4 受取位置移動
RES R19201               ; 塗布4 受取位置移動 END
CON
SET R19202               ; During塗布4 受取位置移動
CON
JMP @MR1000
STG @MR1000
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R19008               ; 塗布4左 調整下降
CON
SET R19104               ; 塗布4右 調整下降
CON
JMP @MR1001
STG @MR1001
AND R19009               ; 塗布4左 調整下降 END
AND R19105               ; 塗布4右 調整下降 END
RES R19009               ; 塗布4左 調整下降 END
CON
RES R19105               ; 塗布4右 調整下降 END
CON
JMP @MR1002
;RB移動(給材位置)
;＆
;引き込み給材側移動
STG @MR1002
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
DW #50 EM1196            ; 塗布RB4 PROG選択
CON
SET R19100               ; 塗布4 MOVE
CON
SET R19004               ; 塗布4 引込給材側
CON
JMP @MR1003
STG @MR1003
ANB R19102               ; During 塗布4 MOVE
AND R19101               ; 塗布4 MOVE END
AND R19005               ; 塗布4 引込給材側 END
MPS
ANB R19103               ; 塗布4 Alarm
RES R19005               ; 塗布4 引込給材側 END
CON
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR1004
MPP
AND R19103               ; 塗布4 Alarm
RES R19005               ; 塗布4 引込給材側 END
CON
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR1010
STG @MR1010
ANB R39004               ; ｴﾗｰ中
RES R19103               ; 塗布4 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #156 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task4 ERROR
CON
JMP @MR1011
STG @MR1011
MPS
AND MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task4 ERROR_End
ANL
RES @MR101               ; Task4 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR1002
;引き込み(HOME)
STG @MR1004
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
JMP @MR1005
STG @MR1005
JMP @MR1006
STG @MR1006
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R19012               ; 塗布4左 調整上昇
CON
SET R19108               ; 塗布4右 調整上昇
CON
JMP @MR1007
STG @MR1007
AND R19013               ; 塗布4左 調整上昇 END
AND R19109               ; 塗布4右 調整上昇 END
RES R19013               ; 塗布4左 調整上昇 END
CON
RES R19109               ; 塗布4右 調整上昇 END
CON
JMP @MR1008
STG @MR1008
ANB @MR001               ; TASK ERROR
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
RES R19202               ; During塗布4 受取位置移動
CON
SET R19201               ; 塗布4 受取位置移動 END
CON
ENDS
;<h1/>接着剤塗布
STG R19208               ; 塗布4 塗布動作
DW #2 DM34400            ; 塗布UT4 塗布判別
CON
RES R19209               ; 塗布4 塗布動作 END
CON
SET R19210               ; During塗布4 塗布動作
CON
JMP @MR1200
STG @MR1200
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R19008               ; 塗布4左 調整下降
CON
SET R19104               ; 塗布4右 調整下降
CON
JMP @MR1201
STG @MR1201
AND R19009               ; 塗布4左 調整下降 END
AND R19105               ; 塗布4右 調整下降 END
RES R19009               ; 塗布4左 調整下降 END
CON
RES R19105               ; 塗布4右 調整下降 END
CON
JMP @MR1202
STG @MR1202
JMP @MR1203
STG @MR1203
JMP @MR1204
STG @MR1204
MPS
LD R4500                 ; 塗布UT4 左側ﾜｰｸ有無確認
AND R4501                ; 塗布UT4 右側ﾜｰｸ有無確認
ANL
SET MR1912               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
SET MR1913               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
JMP @MR1205
MRD
LD R4500                 ; 塗布UT4 左側ﾜｰｸ有無確認
ANB R4501                ; 塗布UT4 右側ﾜｰｸ有無確認
ANL
SET MR1912               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
RES MR1913               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
JMP @MR1205
MRD
LDB R4500                ; 塗布UT4 左側ﾜｰｸ有無確認
AND R4501                ; 塗布UT4 右側ﾜｰｸ有無確認
ANL
RES MR1912               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
SET MR1913               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
JMP @MR1205
MPP
LDB R4500                ; 塗布UT4 左側ﾜｰｸ有無確認
ANB R4501                ; 塗布UT4 右側ﾜｰｸ有無確認
ANL
RES MR1912               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
RES MR1913               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
JMP @MR1308
;塗布側移動
STG @MR1205
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
DW #52 EM1196            ; 塗布RB4 PROG選択
CON
SET R19100               ; 塗布4 MOVE
CON
SET R19000               ; 塗布4 引込塗布側
CON
JMP @MR1212
STG @MR1212
AND R19101               ; 塗布4 MOVE END
AND R19001               ; 塗布4 引込塗布側 END
MPS
ANB R19103               ; 塗布4 Alarm
RES R19101               ; 塗布4 MOVE END
CON
RES R19001               ; 塗布4 引込塗布側 END
CON
JMP @MR1206
MPP
AND R19103               ; 塗布4 Alarm
JMP @MR1213
STG @MR1213
ANB R39004               ; ｴﾗｰ中
RES R19103               ; 塗布4 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #156 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task4 ERROR
CON
JMP @MR1214
STG @MR1214
MPS
AND MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task4 ERROR_End
ANL
RES @MR101               ; Task4 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR1204
STG @MR1215              ; 塗布RB受渡側へ
SET @MR1315              ; 塗布RB受渡側FLG
CON
DW #51 EM1196            ; 塗布RB4 PROG選択
CON
SET R19100               ; 塗布4 MOVE
CON
JMP @MR1206
;塗布開始
;RB4通常塗布はﾚｼﾋﾟDM4206の値を代入
STG @MR1206
LDA.D DM4206             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
CON
STA.D EM1196             ; 塗布RB4 PROG選択
CON
SET R19100               ; 塗布4 MOVE
CON
JMP @MR1207
STG @MR1207
AND R19102               ; During 塗布4 MOVE
JMP @MR1208
STG @MR1208
AND R19101               ; 塗布4 MOVE END
MPS
ANB R19103               ; 塗布4 Alarm
DW #1 DM34400            ; 塗布UT4 塗布判別
CON
RES MR1912               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
RES MR1913               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
@INC.D EM5670            ; 塗布UT4 針拭きｶｳﾝﾀ現在値
CON
@INC.D EM5672            ; 塗布UT4 重量測定ｶｳﾝﾀ現在値
CON
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR1308
MPP
AND R19103               ; 塗布4 Alarm
RES MR1912               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
RES MR1913               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR1209
STG @MR1209
ANB R39004               ; ｴﾗｰ中
RES R19103               ; 塗布4 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #156 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task4 ERROR
CON
JMP @MR1210
STG @MR1210
MPS
AND MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task4 ERROR_End
ANL
RES @MR101               ; Task4 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
MPS
ANB @MR1315              ; 塗布RB受渡側FLG
JMP @MR1204
MPP
AND @MR1315              ; 塗布RB受渡側FLG
JMP @MR1215              ; 塗布RB受渡側へ
;終了処理（位置移動）
STG @MR1308
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
AND= EM5560 #0           ; 塗布UT4 0=ONLINE  1=OFFLINE
SET @MR1315              ; 塗布RB受渡側FLG
CON
DW #51 EM1196            ; 塗布RB4 PROG選択
CON
SET R19100               ; 塗布4 MOVE
CON
SET R19004               ; 塗布4 引込給材側
CON
JMP @MR1309
MPP
AND= EM5560 #1           ; 塗布UT4 0=ONLINE  1=OFFLINE
DW #52 EM1196            ; 塗布RB4 PROG選択
CON
SET R19100               ; 塗布4 MOVE
CON
SET R19000               ; 塗布4 引込塗布側
CON
JMP @MR1309
STG @MR1309
LD R19005                ; 塗布4 引込給材側 END
OR R19001                ; 塗布4 引込塗布側 END
ANL
AND R19101               ; 塗布4 MOVE END
ANB R19103               ; 塗布4 Alarm
RES @MR1315              ; 塗布RB受渡側FLG
CON
RES R19101               ; 塗布4 MOVE END
CON
RES R19001               ; 塗布4 引込塗布側 END
CON
RES R19005               ; 塗布4 引込給材側 END
CON
JMP @MR1310
STG @MR1310
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R19012               ; 塗布4左 調整上昇
CON
SET R19108               ; 塗布4右 調整上昇
CON
JMP @MR1311
STG @MR1311
AND R19013               ; 塗布4左 調整上昇 END
AND R19109               ; 塗布4右 調整上昇 END
RES R19013               ; 塗布4左 調整上昇 END
CON
RES R19109               ; 塗布4右 調整上昇 END
CON
JMP @MR1312
STG @MR1312
ANB @MR001               ; TASK ERROR
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
JMP @MR1313
STG @MR1313
MPS
LD R4500                 ; 塗布UT4 左側ﾜｰｸ有無確認
OR R4501                 ; 塗布UT4 右側ﾜｰｸ有無確認
ANL
SET LR10107              ; 塗布機4塗布完了記憶
CON
RES R19210               ; During塗布4 塗布動作
CON
SET R19209               ; 塗布4 塗布動作 END
CON
ENDS
MPP
LDB R4500                ; 塗布UT4 左側ﾜｰｸ有無確認
ANB R4501                ; 塗布UT4 右側ﾜｰｸ有無確認
ANL
RES LR10107              ; 塗布機4塗布完了記憶
CON
RES R19210               ; During塗布4 塗布動作
CON
SET R19209               ; 塗布4 塗布動作 END
CON
ENDS
;<h1/>重量測定
STG R19300               ; 塗布4 重量測定
RES R19301               ; 塗布4 重量測定 END
CON
SET R19302               ; During塗布4 重量測定
CON
JMP @MR1400
STG @MR1400
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
AND CR2003               ; 常時OFF
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
SET R19008               ; 塗布4左 調整下降
CON
SET R19104               ; 塗布4右 調整下降
CON
JMP @MR1401
MPP
AND CR2002               ; 常時ON
SET R19008               ; 塗布4左 調整下降
CON
SET R19104               ; 塗布4右 調整下降
CON
JMP @MR1401
STG @MR1401
AND R19009               ; 塗布4左 調整下降 END
AND R19105               ; 塗布4右 調整下降 END
RES R19009               ; 塗布4左 調整下降 END
CON
RES R19105               ; 塗布4右 調整下降 END
CON
JMP @MR1402
STG @MR1402
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
AND CR2003               ; 常時OFF
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
SET R19000               ; 塗布4 引込塗布側
CON
JMP @MR1403
MPP
AND CR2002               ; 常時ON
SET R19000               ; 塗布4 引込塗布側
CON
JMP @MR1403
STG @MR1403
AND R19001               ; 塗布4 引込塗布側 END
RES R19001               ; 塗布4 引込塗布側 END
CON
JMP @MR1404
STG @MR1404
MPS
LD R4500                 ; 塗布UT4 左側ﾜｰｸ有無確認
AND R4501                ; 塗布UT4 右側ﾜｰｸ有無確認
ANL
SET MR1912               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
SET MR1913               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
JMP @MR1405
MRD
LD R4500                 ; 塗布UT4 左側ﾜｰｸ有無確認
ANB R4501                ; 塗布UT4 右側ﾜｰｸ有無確認
ANL
SET MR1912               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
RES MR1913               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
JMP @MR1405
MRD
LDB R4500                ; 塗布UT4 左側ﾜｰｸ有無確認
AND R4501                ; 塗布UT4 右側ﾜｰｸ有無確認
ANL
RES MR1912               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
SET MR1913               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
JMP @MR1405
MPP
LDB R4500                ; 塗布UT4 左側ﾜｰｸ有無確認
ANB R4501                ; 塗布UT4 右側ﾜｰｸ有無確認
ANL
RES MR1912               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
RES MR1913               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
JMP @MR1510
STG @MR1405
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
AND CR2003               ; 常時OFF
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
LDA.D DM4216             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
CON
STA.D EM1196             ; 塗布RB4 PROG選択
CON
JMP @MR1406
MPP
AND CR2002               ; 常時ON
LDA.D DM4216             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
CON
STA.D EM1196             ; 塗布RB4 PROG選択
CON
JMP @MR1406
STG @MR1406
SET R19100               ; 塗布4 MOVE
CON
JMP @MR1407
STG @MR1407
AND R19102               ; During 塗布4 MOVE
JMP @MR1408
STG @MR1408
AND R19101               ; 塗布4 MOVE END
MPS
ANB R19103               ; 塗布4 Alarm
RES MR1912               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
RES MR1913               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR1510
MPP
AND R19103               ; 塗布4 Alarm
RES MR1912               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
RES MR1913               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR1409
STG @MR1409
ANB R39004               ; ｴﾗｰ中
RES R19103               ; 塗布4 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #156 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task4 ERROR
CON
JMP @MR1410
STG @MR1410
MPS
AND MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task4 ERROR_End
ANL
RES @MR101               ; Task4 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR1411
STG @MR1411
JMP @MR1412
STG @MR1412
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
AND CR2003               ; 常時OFF
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
DW #52 EM1196            ; 塗布RB4 PROG選択
CON
SET R19100               ; 塗布4 MOVE
CON
JMP @MR1413
MPP
AND CR2002               ; 常時ON
DW #52 EM1196            ; 塗布RB4 PROG選択
CON
SET R19100               ; 塗布4 MOVE
CON
JMP @MR1413
STG @MR1413
AND R19102               ; During 塗布4 MOVE
JMP @MR1414
STG @MR1414
ANB R19102               ; During 塗布4 MOVE
AND R19101               ; 塗布4 MOVE END
MPS
ANB R19103               ; 塗布4 Alarm
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR1510
MPP
AND R19103               ; 塗布4 Alarm
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR1415
STG @MR1415
ANB R39004               ; ｴﾗｰ中
RES R19103               ; 塗布4 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #156 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task4 ERROR
CON
JMP @MR1500
STG @MR1500
MPS
AND MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task4 ERROR_End
ANL
RES @MR101               ; Task4 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR1412
;
STG @MR1508
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
AND CR2003               ; 常時OFF
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
SET R19004               ; 塗布4 引込給材側
CON
JMP @MR1509
MPP
AND CR2002               ; 常時ON
SET R19004               ; 塗布4 引込給材側
CON
JMP @MR1509
STG @MR1509
AND R19005               ; 塗布4 引込給材側 END
RES R19005               ; 塗布4 引込給材側 END
CON
JMP @MR1510
STG @MR1510
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
AND CR2003               ; 常時OFF
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
SET R19012               ; 塗布4左 調整上昇
CON
SET R19108               ; 塗布4右 調整上昇
CON
JMP @MR1511
MPP
AND CR2002               ; 常時ON
SET R19012               ; 塗布4左 調整上昇
CON
SET R19108               ; 塗布4右 調整上昇
CON
JMP @MR1511
STG @MR1511
AND R19013               ; 塗布4左 調整上昇 END
AND R19109               ; 塗布4右 調整上昇 END
RES R19013               ; 塗布4左 調整上昇 END
CON
RES R19109               ; 塗布4右 調整上昇 END
CON
JMP @MR1512
STG @MR1512
ANB @MR001               ; TASK ERROR
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET LR10107              ; 塗布機4塗布完了記憶
CON
RES R19302               ; During塗布4 重量測定
CON
SET R19301               ; 塗布4 重量測定 END
CON
ENDS
;<h1/>針位置調整
STG R19308               ; 塗布4 針位置
RES R19309               ; 塗布4 針位置 END
CON
SET R19310               ; During塗布4 針位置
CON
JMP @MR1600
STG @MR1600
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
DW #11 EM1196            ; 塗布RB4 PROG選択
CON
JMP @MR1601
STG @MR1601
SET R19100               ; 塗布4 MOVE
CON
JMP @MR1602
STG @MR1602
AND R19102               ; During 塗布4 MOVE
JMP @MR1603
STG @MR1603
AND R19101               ; 塗布4 MOVE END
MPS
ANB R19103               ; 塗布4 Alarm
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR1615
MPP
AND R19103               ; 塗布4 Alarm
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR1604
STG @MR1604
ANB R39004               ; ｴﾗｰ中
RES R19103               ; 塗布4 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #156 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task4 ERROR
CON
JMP @MR1605
STG @MR1605
MPS
AND MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task4 ERROR_End
ANL
RES @MR101               ; Task4 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR1606
STG @MR1606
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
DW #50 EM1196            ; 塗布RB4 PROG選択
CON
SET R19100               ; 塗布4 MOVE
CON
JMP @MR1607
STG @MR1607
AND R19102               ; During 塗布4 MOVE
JMP @MR1608
STG @MR1608
ANB R19102               ; During 塗布4 MOVE
AND R19101               ; 塗布4 MOVE END
MPS
ANB R19103               ; 塗布4 Alarm
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR1615
MPP
AND R19103               ; 塗布4 Alarm
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR1609
STG @MR1609
ANB R39004               ; ｴﾗｰ中
RES R19103               ; 塗布4 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #156 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task4 ERROR
CON
JMP @MR1610
STG @MR1610
MPS
AND MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task4 ERROR_End
ANL
RES @MR101               ; Task4 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR1606
;
STG @MR1615
ANB @MR001               ; TASK ERROR
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
RES R19310               ; During塗布4 針位置
CON
SET R19309               ; 塗布4 針位置 END
CON
ENDS
;<h1/>捨て出し
STG R19400               ; 塗布4 捨て出し
RES R19401               ; 塗布4 捨て出し END
CON
SET R19402               ; During塗布4 捨て出し
CON
JMP @MR1700
STG @MR1700
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R19008               ; 塗布4左 調整下降
CON
SET R19104               ; 塗布4右 調整下降
CON
JMP @MR1701
STG @MR1701
AND R19009               ; 塗布4左 調整下降 END
AND R19105               ; 塗布4右 調整下降 END
RES R19009               ; 塗布4左 調整下降 END
CON
RES R19105               ; 塗布4右 調整下降 END
CON
JMP @MR1702
STG @MR1702
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R19000               ; 塗布4 引込塗布側
CON
JMP @MR1703
STG @MR1703
AND R19001               ; 塗布4 引込塗布側 END
RES R19001               ; 塗布4 引込塗布側 END
CON
JMP @MR1704
STG @MR1704
JMP @MR1705
STG @MR1705
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
DW #10 EM1196            ; 塗布RB4 PROG選択
CON
JMP @MR1706
STG @MR1706
SET R19100               ; 塗布4 MOVE
CON
JMP @MR1707
STG @MR1707
AND R19102               ; During 塗布4 MOVE
JMP @MR1708
STG @MR1708
AND R19101               ; 塗布4 MOVE END
MPS
ANB R19103               ; 塗布4 Alarm
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR1804
MPP
AND R19103               ; 塗布4 Alarm
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR1709
STG @MR1709
ANB R39004               ; ｴﾗｰ中
RES R19103               ; 塗布4 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #156 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task4 ERROR
CON
JMP @MR1710
STG @MR1710
MPS
AND MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task4 ERROR_End
ANL
RES @MR101               ; Task4 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR1705
;
STG @MR1804
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
AND= EM5560 #0           ; 塗布UT4 0=ONLINE  1=OFFLINE
SET R19200               ; 塗布4 受取位置移動
CON
JMP @MR1805
MPP
AND= EM5560 #1           ; 塗布UT4 0=ONLINE  1=OFFLINE
JMP @MR1806
STG @MR1805
AND R19201               ; 塗布4 受取位置移動 END
RES R19201               ; 塗布4 受取位置移動 END
CON
JMP @MR1808
STG @MR1806
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R19012               ; 塗布4左 調整上昇
CON
SET R19108               ; 塗布4右 調整上昇
CON
JMP @MR1807
STG @MR1807
AND R19013               ; 塗布4左 調整上昇 END
AND R19109               ; 塗布4右 調整上昇 END
RES R19013               ; 塗布4左 調整上昇 END
CON
RES R19109               ; 塗布4右 調整上昇 END
CON
JMP @MR1808
STG @MR1808
ANB @MR001               ; TASK ERROR
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
@INC EM5654              ; 塗布UT4 捨て出し回数
CON
DW.D #0 EM5650           ; 塗布U4 捨て出し時間経過時間
CON
RES R19402               ; During塗布4 捨て出し
CON
SET R19401               ; 塗布4 捨て出し END
CON
ENDS
;<h1/>ﾜｰｸ受渡位置移動動作
STG R19408               ; 塗布4 受渡位置移動
RES R19409               ; 塗布4 受渡位置移動 END
CON
SET R19410               ; During塗布4 受渡位置移動
CON
JMP @MR1100
STG @MR1100
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R19008               ; 塗布4左 調整下降
CON
SET R19104               ; 塗布4右 調整下降
CON
JMP @MR1101
STG @MR1101
AND R19009               ; 塗布4左 調整下降 END
AND R19105               ; 塗布4右 調整下降 END
RES R19009               ; 塗布4左 調整下降 END
CON
RES R19105               ; 塗布4右 調整下降 END
CON
JMP @MR1102
;RB移動(給材位置)
;＆
;引き込み給材側移動
STG @MR1102
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
DW #51 EM1196            ; 塗布RB4 PROG選択
CON
SET R19100               ; 塗布4 MOVE
CON
SET R19004               ; 塗布4 引込給材側
CON
JMP @MR1103
STG @MR1103
ANB R19102               ; During 塗布4 MOVE
AND R19101               ; 塗布4 MOVE END
AND R19005               ; 塗布4 引込給材側 END
MPS
ANB R19103               ; 塗布4 Alarm
RES R19005               ; 塗布4 引込給材側 END
CON
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR1104
MPP
AND R19103               ; 塗布4 Alarm
RES R19005               ; 塗布4 引込給材側 END
CON
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR1110
STG @MR1110
ANB R39004               ; ｴﾗｰ中
RES R19103               ; 塗布4 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #156 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task4 ERROR
CON
JMP @MR1111
STG @MR1111
MPS
AND MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task4 ERROR_End
ANL
RES @MR101               ; Task4 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR1102
;引き込み(HOME)
STG @MR1104
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
JMP @MR1105
STG @MR1105
JMP @MR1106
STG @MR1106
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R19012               ; 塗布4左 調整上昇
CON
SET R19108               ; 塗布4右 調整上昇
CON
JMP @MR1107
STG @MR1107
AND R19013               ; 塗布4左 調整上昇 END
AND R19109               ; 塗布4右 調整上昇 END
RES R19013               ; 塗布4左 調整上昇 END
CON
RES R19109               ; 塗布4右 調整上昇 END
CON
JMP @MR1108
STG @MR1108
ANB @MR001               ; TASK ERROR
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
RES R19410               ; During塗布4 受渡位置移動
CON
SET R19409               ; 塗布4 受渡位置移動 END
CON
ENDS
;<h1/>ﾜｰｸNG時_引込UT塗布側移動
STG R19500               ; 塗布4 引込塗布(NG)
RES R19501               ; 塗布4 引込塗布(NG)END
CON
SET R19502               ; During塗布4 引込塗布(NG)
CON
JMP @MR2000
STG @MR2000
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R19008               ; 塗布4左 調整下降
CON
SET R19104               ; 塗布4右 調整下降
CON
JMP @MR2001
STG @MR2001
AND R19009               ; 塗布4左 調整下降 END
AND R19105               ; 塗布4右 調整下降 END
RES R19009               ; 塗布4左 調整下降 END
CON
RES R19105               ; 塗布4右 調整下降 END
CON
JMP @MR2002
STG @MR2002
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
DW #52 EM1196            ; 塗布RB4 PROG選択
CON
SET R19100               ; 塗布4 MOVE
CON
SET R19000               ; 塗布4 引込塗布側
CON
JMP @MR2003
STG @MR2003
AND R19102               ; During 塗布4 MOVE
JMP @MR2004
STG @MR2004
ANB R19102               ; During 塗布4 MOVE
AND R19101               ; 塗布4 MOVE END
AND R19001               ; 塗布4 引込塗布側 END
MPS
ANB R19103               ; 塗布4 Alarm
RES R19001               ; 塗布4 引込塗布側 END
CON
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR2007
MPP
AND R19103               ; 塗布4 Alarm
RES R19001               ; 塗布4 引込塗布側 END
CON
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR2005
STG @MR2005
ANB R39004               ; ｴﾗｰ中
RES R19103               ; 塗布4 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #156 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task4 ERROR
CON
JMP @MR2006
STG @MR2006
MPS
AND MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task4 ERROR_End
ANL
RES @MR101               ; Task4 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR2002
STG @MR2007
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
JMP @MR2900
STG @MR2900
JMP @MR2901
STG @MR2901
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R19012               ; 塗布4左 調整上昇
CON
SET R19108               ; 塗布4右 調整上昇
CON
JMP @MR2902
STG @MR2902
AND R19013               ; 塗布4左 調整上昇 END
AND R19109               ; 塗布4右 調整上昇 END
RES R19013               ; 塗布4左 調整上昇 END
CON
RES R19109               ; 塗布4右 調整上昇 END
CON
JMP @MR2903
;
STG @MR2903
ANB @MR001               ; TASK ERROR
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
RES R19502               ; During塗布4 引込塗布(NG)
CON
SET R19501               ; 塗布4 引込塗布(NG)END
CON
ENDS
;<h1/>ﾜｰｸNG時_引込UT給材側移動
STG R19504               ; 塗布4 引込給材(NG)
RES R19505               ; 塗布4 引込給材(NG)END
CON
SET R19506               ; During塗布4 引込給材(NG)
CON
JMP @MR2008
STG @MR2008
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R19008               ; 塗布4左 調整下降
CON
SET R19104               ; 塗布4右 調整下降
CON
JMP @MR2009
STG @MR2009
AND R19009               ; 塗布4左 調整下降 END
AND R19105               ; 塗布4右 調整下降 END
RES R19009               ; 塗布4左 調整下降 END
CON
RES R19105               ; 塗布4右 調整下降 END
CON
JMP @MR2010
STG @MR2010
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
DW #50 EM1196            ; 塗布RB4 PROG選択
CON
SET R19100               ; 塗布4 MOVE
CON
SET R19004               ; 塗布4 引込給材側
CON
JMP @MR2011
STG @MR2011
AND R19102               ; During 塗布4 MOVE
JMP @MR2012
STG @MR2012
ANB R19102               ; During 塗布4 MOVE
AND R19101               ; 塗布4 MOVE END
AND R19005               ; 塗布4 引込給材側 END
MPS
ANB R19103               ; 塗布4 Alarm
RES R19005               ; 塗布4 引込給材側 END
CON
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR2015
MPP
AND R19103               ; 塗布4 Alarm
RES R19005               ; 塗布4 引込給材側 END
CON
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR2013
STG @MR2013
ANB R39004               ; ｴﾗｰ中
RES R19103               ; 塗布4 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #156 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task4 ERROR
CON
JMP @MR2014
STG @MR2014
MPS
AND MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task4 ERROR_End
ANL
RES @MR101               ; Task4 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR2010
STG @MR2015
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
JMP @MR2908
STG @MR2908
JMP @MR2909
STG @MR2909
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R19012               ; 塗布4左 調整上昇
CON
SET R19108               ; 塗布4右 調整上昇
CON
JMP @MR2910
STG @MR2910
AND R19013               ; 塗布4左 調整上昇 END
AND R19109               ; 塗布4右 調整上昇 END
RES R19013               ; 塗布4左 調整上昇 END
CON
RES R19109               ; 塗布4右 調整上昇 END
CON
JMP @MR2911
;
STG @MR2911
ANB @MR001               ; TASK ERROR
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
RES R19506               ; During塗布4 引込給材(NG)
CON
SET R19505               ; 塗布4 引込給材(NG)END
CON
ENDS
;<h1/>慣らし運転動作
STG R19508               ; 塗布4 慣らし運転動作
RES R19509               ; 塗布4 慣らし運転動作 END
CON
SET R19510               ; During塗布4 慣らし運転動作
CON
JMP @MR2200
STG @MR2200
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R19500               ; 塗布4 引込塗布(NG)
CON
JMP @MR2201
STG @MR2201
AND R19501               ; 塗布4 引込塗布(NG)END
RES R19501               ; 塗布4 引込塗布(NG)END
CON
JMP @MR2202
STG @MR2202
SET R19008               ; 塗布4左 調整下降
CON
SET R19104               ; 塗布4右 調整下降
CON
JMP @MR2203
STG @MR2203
AND R19009               ; 塗布4左 調整下降 END
AND R19105               ; 塗布4右 調整下降 END
RES R19009               ; 塗布4左 調整下降 END
CON
RES R19105               ; 塗布4右 調整下降 END
CON
JMP @MR2204
STG @MR2204
DW #55 EM1196            ; 塗布RB4 PROG選択
CON
SET R19100               ; 塗布4 MOVE
CON
JMP @MR2205
STG @MR2205
AND R19101               ; 塗布4 MOVE END
MPS
ANB R19103               ; 塗布4 Alarm
@INC.D EM5656            ; 塗布UT4 ｴｰｼﾞﾝｸﾞ回数
CON
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR2208
MPP
AND R19103               ; 塗布4 Alarm
RES R19101               ; 塗布4 MOVE END
CON
JMP @MR2206
STG @MR2206
ANB R39004               ; ｴﾗｰ中
RES R19103               ; 塗布4 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #150 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task4 ERROR
CON
JMP @MR2207
STG @MR2207
MPS
AND MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task4 ERROR_End
ANL
RES @MR101               ; Task4 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR2204
STG @MR2208
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
ANB R4111                ; 塗布確認 SWBOX4(塗布4) ｽﾀｰﾄ
MPS
AND>=.D EM5656 EM5640    ; 塗布UT4 ｴｰｼﾞﾝｸﾞ回数  塗布UT4 ｴｰｼﾞﾝｸﾞｶｳﾝﾀ設定値
JMP @MR2209
MPP
AND<.D EM5656 EM5640     ; 塗布UT4 ｴｰｼﾞﾝｸﾞ回数  塗布UT4 ｴｰｼﾞﾝｸﾞｶｳﾝﾀ設定値
JMP @MR2204
MPP
AND R4111                ; 塗布確認 SWBOX4(塗布4) ｽﾀｰﾄ
JMP @MR2213
;慣らし後
;電源OFFして再度原点復帰
STG @MR2209
@RES MR1111              ; 塗布UT4 RB&ﾃﾞｨｽﾍﾟﾝｻｰ 電源 ON 
CON
TMR @4 #10
CON
AND @T4
JMP @MR2210
STG @MR2210
SET R19600               ; 塗布4 原点復帰
CON
JMP @MR2211
STG @MR2211
AND R19601               ; 塗布4 原点復帰 END
RES R19601               ; 塗布4 原点復帰 END
CON
JMP @MR2212
STG @MR2212
JMP @MR2213
;終了処理
STG @MR2213
SET R19500               ; 塗布4 引込塗布(NG)
CON
JMP @MR2214
STG @MR2214
AND R19501               ; 塗布4 引込塗布(NG)END
RES R19501               ; 塗布4 引込塗布(NG)END
CON
JMP @MR2215
STG @MR2215
DW.D #0 EM5656           ; 塗布UT4 ｴｰｼﾞﾝｸﾞ回数
CON
SET R19509               ; 塗布4 慣らし運転動作 END
CON
RES R19510               ; During塗布4 慣らし運転動作
CON
SET @MR2606              ; 慣らし運転完了記憶
CON
ENDS
;<h1/>ERROR
;MyTask Error Process Substance/エラー処理実体
STG @MR100               ; Task4 ERROR
ANB R39002               ; ERROR_DISP Busy
MPS
ZRES @MR105 @MR108       ; SW1  SW4
CON
LDA @DM9                 ; ReturnSW /ERROR_DISP
CON
TBCD
CON
STA @DM10
CON
DISN @DM10 @DM3 #4
MRD
DW #3 @DM0               ; TaskNo /ERROR_DISP
CON
BMOV @DM0 DM60000 #7     ; TaskNo /ERROR_DISP  TaskNo /ERROR_DISP
MPP
SET R39000               ; ERROR_DISP Start
CON
SET @MR102               ; Task3 ERROR Busy
CON
JMP @MR103
STG @MR103
AND R39002               ; ERROR_DISP Busy
AND= DM60008 @DM1        ; ReturnNo /ERROR_DISP  ErrorNo /ERROR_DISP
MPS
AND= DM60007 @DM6        ; ReturnSW /ERROR_DISP
SET @MR105               ; SW1
CON
JMP @MR104
MRD
AND= DM60007 @DM5        ; ReturnSW /ERROR_DISP
SET @MR106               ; SW2
CON
JMP @MR104
MRD
AND= DM60007 @DM4        ; ReturnSW /ERROR_DISP
SET @MR107               ; SW3
CON
JMP @MR104
MPP
AND= DM60007 @DM3        ; ReturnSW /ERROR_DISP
SET @MR108               ; SW4
CON
JMP @MR104
STG @MR104
ANB R39002               ; ERROR_DISP Busy
RES @MR102               ; Task3 ERROR Busy
CON
SET @MR101               ; Task4 ERROR_End
CON
ENDS
;ｲﾝﾀｰﾛｯｸ
LD MR3406                ; 塗布UT4 ﾜｰｸ引込 PP側 可能
AND MR3407               ; 塗布UT4 ﾜｰｸ引込 塗布側 可能
LDB B0593                ; RB1ﾊﾝﾄﾞ 要求応答 (T-REQ)
ANB B05A3                ; RB1ﾊﾝﾄﾞ 要求応答 (T-REQ)
OR CR2002                ; 常時ON
ANL
OUT @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
;<h1/>HALT
LD @MR1900               ; Main1 HALT許可
MPS
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
TMR @2 #2
CON
AND @T2
ANB R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
@SET R42604              ; _Grp1_Task4_ﾎﾟｰｽﾞ許可
MPP
AND MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
TMR @3 #2
CON
AND @T3
@SET MR10014             ; 塗布4     ﾎﾟｰｽﾞ許可
LD R42604                ; _Grp1_Task4_ﾎﾟｰｽﾞ許可
OR MR10014               ; 塗布4     ﾎﾟｰｽﾞ許可
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
ORL
RES @MR1900              ; Main1 HALT許可
;<h1/>SubRoutines/ｻﾌﾞﾙｰﾁﾝ
;引込UT 塗布側移動
STG R19000               ; 塗布4 引込塗布側
SET R19002               ; During塗布4 引込塗布側
CON
JMP @MR2500
STG @MR2500
AND @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
RES MR7801               ; ﾜｰｸ引込UT4 給材側
CON
SET MR7800               ; ﾜｰｸ引込UT4 塗布側
CON
JMP @MR2501
STG @MR2501
MPS
LD MR4504                ; 塗UT4 引き込みUT 塗布側Err
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR4504               ; 塗UT4 引き込みUT 塗布側Err
ANB R4505                ; 塗布UT4 引き込みUT 給材側
AND R4504                ; 塗布UT4 引き込みUT 塗布側
ANL
RES R19002               ; During塗布4 引込塗布側
CON
SET R19001               ; 塗布4 引込塗布側 END
CON
ENDS
;引込UT 給材側移動
STG R19004               ; 塗布4 引込給材側
SET R19006               ; During塗布4 引込給材側
CON
JMP @MR2504
STG @MR2504
AND @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
SET MR7801               ; ﾜｰｸ引込UT4 給材側
CON
RES MR7800               ; ﾜｰｸ引込UT4 塗布側
CON
JMP @MR2505
STG @MR2505
MPS
LD MR4505                ; 塗UT4 引き込みUT 給材側Err
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR4505               ; 塗UT4 引き込みUT 給材側Err
AND R4505                ; 塗布UT4 引き込みUT 給材側
ANB R4504                ; 塗布UT4 引き込みUT 塗布側
ANL
RES R19006               ; During塗布4 引込給材側
CON
SET R19005               ; 塗布4 引込給材側 END
CON
ENDS
;ﾜｰｸ調整治具左 下降
STG R19008               ; 塗布4左 調整下降
SET R19010               ; During塗布4左 調整下降
CON
JMP @MR2508
STG @MR2508
SET MR7802               ; ﾜｰｸ調整治具L4 下降
CON
RES MR7803               ; ﾜｰｸ調整治具L4 上昇
CON
JMP @MR2509
STG @MR2509
MPS
LD MR4506                ; 塗UT4左ﾜｰｸ調整治具(前)下限Err
OR MR4508                ; 塗UT4 左ﾜｰｸ調整治具(奥) 下限Err
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR4506               ; 塗UT4左ﾜｰｸ調整治具(前)下限Err
ANB MR4508               ; 塗UT4 左ﾜｰｸ調整治具(奥) 下限Err
AND R4506                ; 塗布UT4 左側ﾜｰｸ調整治具(手前)下
ANB R4507                ; 塗布UT4 左側ﾜｰｸ調整治具(手前)上
AND R4508                ; 塗布UT4 左側ﾜｰｸ調整治具(奥) 下限
ANB R4509                ; 塗布UT4 左側ﾜｰｸ調整治具(奥) 上限
ANL
RES R19010               ; During塗布4左 調整下降
CON
SET R19009               ; 塗布4左 調整下降 END
CON
ENDS
;ﾜｰｸ調整治具左 上昇
STG R19012               ; 塗布4左 調整上昇
SET R19014               ; During塗布4左 調整上昇
CON
JMP @MR2512
STG @MR2512
RES MR7802               ; ﾜｰｸ調整治具L4 下降
CON
SET MR7803               ; ﾜｰｸ調整治具L4 上昇
CON
JMP @MR2513
STG @MR2513
MPS
LD MR4507                ; 塗UT4左ﾜｰｸ調整治具(前)上限Err
OR MR4509                ; 塗UT4 左ﾜｰｸ調整治具(奥) 上限Err
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR4507               ; 塗UT4左ﾜｰｸ調整治具(前)上限Err
ANB MR4509               ; 塗UT4 左ﾜｰｸ調整治具(奥) 上限Err
ANB R4506                ; 塗布UT4 左側ﾜｰｸ調整治具(手前)下
AND R4507                ; 塗布UT4 左側ﾜｰｸ調整治具(手前)上
ANB R4508                ; 塗布UT4 左側ﾜｰｸ調整治具(奥) 下限
AND R4509                ; 塗布UT4 左側ﾜｰｸ調整治具(奥) 上限
ANL
RES R19014               ; During塗布4左 調整上昇
CON
SET R19013               ; 塗布4左 調整上昇 END
CON
ENDS
;<h1/>RB動作
STG R19100               ; 塗布4 MOVE
SET R19102               ; During 塗布4 MOVE
CON
JMP @MR2600
STG @MR2600
MPS
ANB R1800                ; 塗布RB4 ｽﾀｰﾄﾚﾃﾞｨｰ
SET @MR2605              ; 初回
CON
SET MR1901               ; 塗布RB4 緊急停止
CON
SET MR1111               ; 塗布UT4 RB&ﾃﾞｨｽﾍﾟﾝｻｰ 電源 ON 
CON
JMP @MR2601
MPP
AND R1800                ; 塗布RB4 ｽﾀｰﾄﾚﾃﾞｨｰ
SET MR1901               ; 塗布RB4 緊急停止
CON
TMH @10 #3
CON
AND @T10
JMP @MR2601
STG @MR2601
MPS
AND R1800                ; 塗布RB4 ｽﾀｰﾄﾚﾃﾞｨｰ
SET MR1902               ; 塗布RB4 PROG 書込
CON
JMP @MR2602
MPP
ANB R1800                ; 塗布RB4 ｽﾀｰﾄﾚﾃﾞｨｰ
TMR @9 #50
CON
AND @T9
DW #164 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #6600 @DM2            ; SensorNo /ERROR_DISP
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
JMP @MR2614              ; RBｴﾗｰ
STG @MR2602
MPS
LD R1802                 ; 塗布RB4 PROG ACK
OR @MR2605               ; 初回
ANL
RES MR1902               ; 塗布RB4 PROG 書込
CON
JMP @MR2608
MPP
LDB R1802                ; 塗布RB4 PROG ACK
ANB @MR2605              ; 初回
ANL
TMH @11 #10
CON
AND @T11
RES MR1902               ; 塗布RB4 PROG 書込
CON
JMP @MR2603
STG @MR2603
AND R1800                ; 塗布RB4 ｽﾀｰﾄﾚﾃﾞｨｰ
AND R1801                ; 塗布RB4 停止中
AND @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
SET MR1900               ; 塗布RB4 ｽﾀｰﾄ
CON
JMP @MR2604
STG @MR2604
ANB R1800                ; 塗布RB4 ｽﾀｰﾄﾚﾃﾞｨｰ
DW #156 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #6602 @DM2            ; SensorNo /ERROR_DISP
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
JMP @MR2614              ; RBｴﾗｰ
;
STG @MR2608
ANB R1802                ; 塗布RB4 PROG ACK
AND R1800                ; 塗布RB4 ｽﾀｰﾄﾚﾃﾞｨｰ
AND R1801                ; 塗布RB4 停止中
SET MR1900               ; 塗布RB4 ｽﾀｰﾄ
CON
JMP @MR2609
STG @MR2609
ANB R1800                ; 塗布RB4 ｽﾀｰﾄﾚﾃﾞｨｰ
RES MR1900               ; 塗布RB4 ｽﾀｰﾄ
CON
JMP @MR2610
STG @MR2610
MPS
LD R1804                 ; 塗布RB4 運転動作中
OR @MR2605               ; 初回
ANL
JMP @MR2611
MPP
LDB R1804                ; 塗布RB4 運転動作中
ANB @MR2605              ; 初回
ANL
TMR @12 #50
CON
AND @T12
DW #156 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #6604 @DM2            ; SensorNo /ERROR_DISP
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
JMP @MR2614              ; RBｴﾗｰ
STG @MR2611
MPS
LDB R1805                ; 塗布RB4 ｴﾗｰ発生中
ANB R1804                ; 塗布RB4 運転動作中
AND R1800                ; 塗布RB4 ｽﾀｰﾄﾚﾃﾞｨｰ
AND R1801                ; 塗布RB4 停止中
ANL
MPS
ANB @MR2605              ; 初回
RES R19102               ; During 塗布4 MOVE
CON
SET R19101               ; 塗布4 MOVE END
CON
ENDS
MPP
LD @MR2605               ; 初回
AND R1800                ; 塗布RB4 ｽﾀｰﾄﾚﾃﾞｨｰ
ANL
RES @MR2605              ; 初回
CON
JMP @MR2600
MPP
AND R1805                ; 塗布RB4 ｴﾗｰ発生中
MPS
ANB R1806                ; 塗布RB4 PROG 非常停止中
DW #156 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #6605 @DM2            ; SensorNo /ERROR_DISP
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
JMP @MR2614              ; RBｴﾗｰ
MPP
AND R1806                ; 塗布RB4 PROG 非常停止中
DW #156 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #6606 @DM2            ; SensorNo /ERROR_DISP
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
JMP @MR2614              ; RBｴﾗｰ
STG @MR2614              ; RBｴﾗｰ
RES MR1900               ; 塗布RB4 ｽﾀｰﾄ
CON
SET R19103               ; 塗布4 Alarm
CON
RES R19102               ; During 塗布4 MOVE
CON
SET R19101               ; 塗布4 MOVE END
CON
ENDS
;ﾜｰｸ調整治具右 下降
STG R19104               ; 塗布4右 調整下降
SET R19106               ; During塗布4右 調整下降
CON
JMP @MR2612
STG @MR2612
SET MR7804               ; ﾜｰｸ調整治具R4 下降
CON
RES MR7805               ; ﾜｰｸ調整治具R4 上昇
CON
JMP @MR2613
STG @MR2613
MPS
LD MR4506                ; 塗UT4左ﾜｰｸ調整治具(前)下限Err
OR MR4508                ; 塗UT4 左ﾜｰｸ調整治具(奥) 下限Err
OR MR4510                ; 塗UT4右ﾜｰｸ調整治具(前)下限Err
OR MR4512                ; 塗UT4 右ﾜｰｸ調整治具(奥) 下限Err
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR4510               ; 塗UT4右ﾜｰｸ調整治具(前)下限Err
ANB MR4512               ; 塗UT4 右ﾜｰｸ調整治具(奥) 下限Err
AND R4510                ; 塗布UT4 右側ﾜｰｸ調整治具(手前)下
ANB R4511                ; 塗布UT4 右側ﾜｰｸ調整治具(手前)上
AND R4512                ; 塗布UT4 右側ﾜｰｸ調整治具(奥) 下限
ANB R4513                ; 塗布UT4 右側ﾜｰｸ調整治具(奥) 上限
ANL
RES R19106               ; During塗布4右 調整下降
CON
SET R19105               ; 塗布4右 調整下降 END
CON
ENDS
;ﾜｰｸ調整治具右 上昇
STG R19108               ; 塗布4右 調整上昇
SET R19110               ; During塗布4右 調整上昇
CON
JMP @MR2700
STG @MR2700
RES MR7804               ; ﾜｰｸ調整治具R4 下降
CON
SET MR7805               ; ﾜｰｸ調整治具R4 上昇
CON
JMP @MR2701
STG @MR2701
MPS
LD MR4511                ; 塗UT4右ﾜｰｸ調整治具(前)上限Err
OR MR4513                ; 塗UT4 右ﾜｰｸ調整治具(奥) 上限Err
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR4511               ; 塗UT4右ﾜｰｸ調整治具(前)上限Err
ANB MR4513               ; 塗UT4 右ﾜｰｸ調整治具(奥) 上限Err
ANB R4510                ; 塗布UT4 右側ﾜｰｸ調整治具(手前)下
AND R4511                ; 塗布UT4 右側ﾜｰｸ調整治具(手前)上
ANB R4512                ; 塗布UT4 右側ﾜｰｸ調整治具(奥) 下限
AND R4513                ; 塗布UT4 右側ﾜｰｸ調整治具(奥) 上限
ANL
RES R19110               ; During塗布4右 調整上昇
CON
SET R19109               ; 塗布4右 調整上昇 END
CON
ENDS
;STEP信号
LD CR2002                ; 常時ON
LD= EM5560 #1            ; 塗布UT4 0=ONLINE  1=OFFLINE
LD<> @MR200 #0           ; OFFLINE_START
ANB @MR200               ; OFFLINE_START
OR R19402                ; During塗布4 捨て出し
ANL
LD= EM5560 #0            ; 塗布UT4 0=ONLINE  1=OFFLINE
AND R19402               ; During塗布4 捨て出し
ORL
ANL
LD R19310                ; During塗布4 針位置
LD R1808                 ; 塗布RB4 STEP SW 要求
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORB R1808                ; 塗布RB4 STEP SW 要求
ANL
ORB R19310               ; During塗布4 針位置
ANL
OUT MR7111               ; 塗布確認 SWBOX4(塗布4) ｽﾀｰﾄﾗﾝﾌﾟ
;<h1/>動作停止中管理
LD=.D R19000 #0          ; 塗布4 引込塗布側
LD=.D R19200 #2          ; 塗布4 受取位置移動
OR=.D R19200 #0          ; 塗布4 受取位置移動
ANL
AND=.D R19400 #0         ; 塗布4 捨て出し
LD= R19600 #0            ; 塗布4 原点復帰
ANB @MR602               ; 自動捨て出し中
LD= @MR702 #0            ; 除材警告中
OR @MR701                ; OFFLINE除材警告
ANL
OR R46101                ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
ANL
OUT MR10015              ; 塗布4     停止中
;<h1/>ONLINE ⇔ OFFLINE
LD CR2002                ; 常時ON
MPS
ANB R20900               ; 塗布4   ONLINE
MPS
ANP R20901               ; 塗布4TP ONLINE要求
MPS
AND @MR2606              ; 慣らし運転完了記憶
MPS
LD R4103                 ; ｻﾌﾞｶﾊﾞｰ4(塗布4) 閉中
AND @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
AND MR10015              ; 塗布4     停止中
ANL
SET R20906               ; 塗布4TP ON/OFF切替中
CON
SET @MR500
MPP
LDB R4103                ; ｻﾌﾞｶﾊﾞｰ4(塗布4) 閉中
ORB @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
ORB MR10015              ; 塗布4     停止中
ANL
@MOV #10 EM5518          ; 塗布UT4 切替ﾍﾟｰｼﾞNo.
MPP
ANB @MR2606              ; 慣らし運転完了記憶
SET @MR513               ; 移行不可
MPP
AND= EM5560 #0           ; 塗布UT4 0=ONLINE  1=OFFLINE
RES R20906               ; 塗布4TP ON/OFF切替中
CON
SET R20900               ; 塗布4   ONLINE
CON
RES R20908               ; 塗布4  OFFLINE
MPP
ANB R20908               ; 塗布4  OFFLINE
MPS
ANP R20909               ; 塗布4TPOFFLINE要求
MPS
LD R4103                 ; ｻﾌﾞｶﾊﾞｰ4(塗布4) 閉中
AND @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
AND MR10015              ; 塗布4     停止中
ANB R4500                ; 塗布UT4 左側ﾜｰｸ有無確認
ANB R4501                ; 塗布UT4 右側ﾜｰｸ有無確認
ANL
SET R20906               ; 塗布4TP ON/OFF切替中
CON
SET @MR508
MPP
LDB R4103                ; ｻﾌﾞｶﾊﾞｰ4(塗布4) 閉中
OR R4500                 ; 塗布UT4 左側ﾜｰｸ有無確認
OR R4501                 ; 塗布UT4 右側ﾜｰｸ有無確認
ORB @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
ORB MR10015              ; 塗布4     停止中
ANL
@MOV #100 EM5518         ; 塗布UT4 切替ﾍﾟｰｼﾞNo.
MPP
AND= EM5560 #1           ; 塗布UT4 0=ONLINE  1=OFFLINE
RES R20906               ; 塗布4TP ON/OFF切替中
CON
RES R20900               ; 塗布4   ONLINE
CON
SET R20908               ; 塗布4  OFFLINE
;移行不可
STG @MR513               ; 移行不可
@MOV #10 EM5518          ; 塗布UT4 切替ﾍﾟｰｼﾞNo.
SET @MR2607              ; 慣らし運転要求Flg
CON
JMP @MR514
STG @MR514
ANP R21014               ; 塗布4TP   Bz.OFF
RES @MR2607              ; 慣らし運転要求Flg
CON
ENDS
;ONLINE切替
STG @MR500
MPS
LDB R4500                ; 塗布UT4 左側ﾜｰｸ有無確認
ANB R4501                ; 塗布UT4 右側ﾜｰｸ有無確認
AND MR10015              ; 塗布4     停止中
ANL
SET R19200               ; 塗布4 受取位置移動
CON
JMP @MR505
MPP
LD R4500                 ; 塗布UT4 左側ﾜｰｸ有無確認
OR R4501                 ; 塗布UT4 右側ﾜｰｸ有無確認
ANL
SET R20905               ; 塗布4TP ONLINE選択
CON
JMP @MR501
STG @MR501
MPS
AND R20902               ; 塗布4TP ONLINE塗布
RES R20905               ; 塗布4TP ONLINE選択
CON
RES LR10107              ; 塗布機4塗布完了記憶
CON
JMP @MR502
MRD
AND R20903               ; 塗布4TP ONLINE除材
RES R20905               ; 塗布4TP ONLINE選択
CON
SET LR10107              ; 塗布機4塗布完了記憶
CON
JMP @MR504
MPP
AND R20904               ; 塗布4TP ONLINE取消
MPS
RES R20906               ; 塗布4TP ON/OFF切替中
CON
RES R20905               ; 塗布4TP ONLINE選択
CON
ENDS
MPP
@MOV #10 EM5518          ; 塗布UT4 切替ﾍﾟｰｼﾞNo.
STG @MR502
AND MR10015              ; 塗布4     停止中
SET R19208               ; 塗布4 塗布動作
CON
JMP @MR503
STG @MR503
AND R19209               ; 塗布4 塗布動作 END
RES R19209               ; 塗布4 塗布動作 END
CON
JMP @MR504
;
STG @MR504
AND MR10015              ; 塗布4     停止中
SET R19408               ; 塗布4 受渡位置移動
CON
JMP @MR505
STG @MR505
LD R19202                ; During塗布4 受取位置移動
OR R19410                ; During塗布4 受渡位置移動
ANL
JMP @MR506
STG @MR506
LDB R19202               ; During塗布4 受取位置移動
ORB R19410               ; During塗布4 受渡位置移動
ANL
LD R19201                ; 塗布4 受取位置移動 END
OR R19409                ; 塗布4 受渡位置移動 END
ANL
RES R19201               ; 塗布4 受取位置移動 END
CON
RES R19409               ; 塗布4 受渡位置移動 END
CON
DW #0 EM5560             ; 塗布UT4 0=ONLINE  1=OFFLINE
CON
ENDS
;OFFLINE切替
STG @MR508
LDB R4500                ; 塗布UT4 左側ﾜｰｸ有無確認
ANB R4501                ; 塗布UT4 右側ﾜｰｸ有無確認
OR R46103                ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANL
AND MR10015              ; 塗布4     停止中
SET R19500               ; 塗布4 引込塗布(NG)
CON
JMP @MR509
STG @MR509
AND R19502               ; During塗布4 引込塗布(NG)
JMP @MR510
STG @MR510
ANB R19502               ; During塗布4 引込塗布(NG)
AND R19501               ; 塗布4 引込塗布(NG)END
RES R19501               ; 塗布4 引込塗布(NG)END
CON
JMP @MR511
STG @MR511
JMP @MR512
STG @MR512
JMP @MR515
STG @MR515
DW #1 EM5560             ; 塗布UT4 0=ONLINE  1=OFFLINE
CON
ENDS
;<h1/>ﾀｲﾏ・ｶｳﾝﾀ管理
;
LD CR2002                ; 常時ON
MPS
LD>= EM5510 #720         ; 塗布UT4 表示中ﾍﾟｰｼﾞNo.
AND<= EM5510 #729        ; 塗布UT4 表示中ﾍﾟｰｼﾞNo.
ANL
BMOV.D EM5570 EM30090 #5 ; 塗布UT4 捨て出しﾀｲﾏ入力値  塗布UT4 捨て出しﾀｲﾏ保存値
INV
BMOV.D EM30090 EM5570 #5 ; 塗布UT4 捨て出しﾀｲﾏ保存値  塗布UT4 捨て出しﾀｲﾏ入力値
MRD
LD>= EM5510 #730         ; 塗布UT4 表示中ﾍﾟｰｼﾞNo.
AND<= EM5510 #739        ; 塗布UT4 表示中ﾍﾟｰｼﾞNo.
ANL
BMOV.D EM30110 EM5590 #5 ; 塗布UT4 針拭きｶｳﾝﾀ保存値  塗布UT4 針拭きｶｳﾝﾀ入力値
BMOV.D EM30146 EM5600 #1 ; 塗布UT4 ｴｰｼﾞﾝｸﾞｶｳﾝﾀ保存値  塗布UT4 ｴｰｼﾞﾝｸﾞ回数入力値
INV
BMOV.D EM5590 EM30110 #5 ; 塗布UT4 針拭きｶｳﾝﾀ入力値  塗布UT4 針拭きｶｳﾝﾀ保存値
BMOV.D EM5600 EM30146 #1 ; 塗布UT4 ｴｰｼﾞﾝｸﾞ回数入力値  塗布UT4 ｴｰｼﾞﾝｸﾞｶｳﾝﾀ保存値
MRD
BMOV.D EM30090 EM5610 #5 ; 塗布UT4 捨て出しﾀｲﾏ保存値  塗布UT4 捨て出し時間設定値
MRD
BMOV.D EM30110 EM5630 #5 ; 塗布UT4 針拭きｶｳﾝﾀ保存値  塗布UT4 針拭きｶｳﾝﾀ設定値
MPP
BMOV.D EM30146 EM5640 #1 ; 塗布UT4 ｴｰｼﾞﾝｸﾞｶｳﾝﾀ保存値  塗布UT4 ｴｰｼﾞﾝｸﾞｶｳﾝﾀ設定値
;捨て出しﾀｲﾏ
LD CR2002                ; 常時ON
LDB B0593                ; RB1ﾊﾝﾄﾞ 要求応答 (T-REQ)
ORB B05A3                ; RB1ﾊﾝﾄﾞ 要求応答 (T-REQ)
ANL
ANB R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46114               ; _装置原点復帰待ち
LDB R19210               ; During塗布4 塗布動作
ANB R19302               ; During塗布4 重量測定
ANB R19402               ; During塗布4 捨て出し
ORB MR1912               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
ORB MR1913               ; 塗布RB4 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
ANL
MPS
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
@INC.D EM5650            ; 塗布U4 捨て出し時間経過時間
MPP
INV
DW.D #0 EM5650           ; 塗布U4 捨て出し時間経過時間
;自動捨て出し
;DM2000のbitで動作有効無効
LDB R21009               ; 塗布4 捨て出し台確認
AND<> EM5510 #400        ; 塗布UT4 表示中ﾍﾟｰｼﾞNo.
AND @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
AND MR10015              ; 塗布4     停止中
AND R4103                ; ｻﾌﾞｶﾊﾞｰ4(塗布4) 閉中
OUT @MR601               ; 自動捨て出し動作可能
LD>=.D EM5650 EM5610     ; 塗布U4 捨て出し時間経過時間  塗布UT4 捨て出し時間設定値
ANB DM2000.7             ; 塗布4自動捨出有効(ON=無効)
AND @MR601               ; 自動捨て出し動作可能
ANB @MR602               ; 自動捨て出し中
SET @MR602               ; 自動捨て出し中
CON
SET @MR600               ; 自動捨て出し実行
STG @MR600               ; 自動捨て出し実行
SET R21005               ; 塗布4TP   自動捨出中
CON
@DW #3 EM5540            ; 塗布UT4 ﾊﾞｯｸﾗｲﾄｶﾗｰ
CON
JMP @MR604
STG @MR604
SET R19400               ; 塗布4 捨て出し
CON
JMP @MR605
STG @MR605
AND R19402               ; During塗布4 捨て出し
JMP @MR606
STG @MR606
ANB R19402               ; During塗布4 捨て出し
AND R19401               ; 塗布4 捨て出し END
RES R21005               ; 塗布4TP   自動捨出中
CON
@DW #0 EM5540            ; 塗布UT4 ﾊﾞｯｸﾗｲﾄｶﾗｰ
CON
DW #0 EM5650             ; 塗布U4 捨て出し時間経過時間
CON
RES R19401               ; 塗布4 捨て出し END
CON
RES @MR602               ; 自動捨て出し中
CON
ENDS
;ﾜｰｸ放置ﾀｲﾏ
LD CR2002                ; 常時ON
MPS
LD R4500                 ; 塗布UT4 左側ﾜｰｸ有無確認
OR R4501                 ; 塗布UT4 右側ﾜｰｸ有無確認
AND LR10107              ; 塗布機4塗布完了記憶
ANL
MPS
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
@INC.D EM5652
MPP
INV
ANB @MR702               ; 除材警告中
DW.D #0 EM5652
MPP
AND B0593                ; RB1ﾊﾝﾄﾞ 要求応答 (T-REQ)
DW.D #0 EM5652
LD LR10107               ; 塗布機4塗布完了記憶
ANB R4500                ; 塗布UT4 左側ﾜｰｸ有無確認
ANB R4501                ; 塗布UT4 右側ﾜｰｸ有無確認
RES LR10107              ; 塗布機4塗布完了記憶
;ONLINE時
;除材警告
LD> EM5612 #0
AND>=.D EM5652 EM5612
LDB @MR702               ; 除材警告中
OR= EM5560 #0            ; 塗布UT4 0=ONLINE  1=OFFLINE
ANL
LD R46101                ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
ANP R19610               ; 塗布4 除材要求FLG
ORL
AND @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
AND MR10015              ; 塗布4     停止中
AND R4103                ; ｻﾌﾞｶﾊﾞｰ4(塗布4) 閉中
MPS
AND= EM5560 #0           ; 塗布UT4 0=ONLINE  1=OFFLINE
SET @MR702               ; 除材警告中
CON
SET @MR700               ; ONLINE除材警告
CON
RES @MR701               ; OFFLINE除材警告
MPP
AND= EM5560 #1           ; 塗布UT4 0=ONLINE  1=OFFLINE
SET @MR702               ; 除材警告中
CON
RES @MR700               ; ONLINE除材警告
CON
SET @MR701               ; OFFLINE除材警告
STG @MR700               ; ONLINE除材警告
SET R19608               ; 塗布4 除材要求
CON
ANB B0590                ; 塗布U4除材要求 (L-REQ)
ANB LR10107              ; 塗布機4塗布完了記憶
SET R19500               ; 塗布4 引込塗布(NG)
CON
JMP @MR703
STG @MR703
AND R19502               ; During塗布4 引込塗布(NG)
JMP @MR704
STG @MR704
ANB R19502               ; During塗布4 引込塗布(NG)
AND R19501               ; 塗布4 引込塗布(NG)END
RES R19501               ; 塗布4 引込塗布(NG)END
CON
JMP @MR705
STG @MR705
SET @MR1900              ; Main1 HALT許可
CON
ANB R39004               ; ｴﾗｰ中
SET R39004               ; ｴﾗｰ中
CON
DW #6000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #148 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task4 ERROR
CON
JMP @MR706
STG @MR706
JMP @MR707
STG @MR707
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10012               ; 塗布4     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10012              ; 塗布4     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task4 ERROR_End
ANL
MPS
AND @MR105               ; SW1
RES R39004               ; ｴﾗｰ中
CON
RES @MR101               ; Task4 ERROR_End
CON
JMP @MR708
MPP
AND @MR106               ; SW2
JMP @MR709
STG @MR708
MPS
LDB R4500                ; 塗布UT4 左側ﾜｰｸ有無確認
ANB R4501                ; 塗布UT4 右側ﾜｰｸ有無確認
ANL
RES LR10107              ; 塗布機4塗布完了記憶
CON
JMP @MR709
MPP
LD R4500                 ; 塗布UT4 左側ﾜｰｸ有無確認
OR R4501                 ; 塗布UT4 右側ﾜｰｸ有無確認
ANL
JMP @MR705
STG @MR709
MPS
AND= EM5560 #0           ; 塗布UT4 0=ONLINE  1=OFFLINE
SET R19504               ; 塗布4 引込給材(NG)
CON
JMP @MR710
MPP
AND= EM5560 #1           ; 塗布UT4 0=ONLINE  1=OFFLINE
JMP @MR712
STG @MR710
AND R19506               ; During塗布4 引込給材(NG)
JMP @MR711
STG @MR711
ANB R19506               ; During塗布4 引込給材(NG)
AND R19505               ; 塗布4 引込給材(NG)END
RES R19505               ; 塗布4 引込給材(NG)END
CON
JMP @MR712
STG @MR712
RES R19608               ; 塗布4 除材要求
CON
RES R19610               ; 塗布4 除材要求FLG
CON
DW #0 DM34400            ; 塗布UT4 塗布判別
CON
DW.D #0 EM5652
CON
RES @MR702               ; 除材警告中
CON
ENDS
;ｶｳﾝﾀ
LD CR2002                ; 常時ON
MPS
LDB DM2000.7             ; 塗布4自動捨出有効(ON=無効)
AND>=.D EM5650 EM5610    ; 塗布U4 捨て出し時間経過時間  塗布UT4 捨て出し時間設定値
ANB R21005               ; 塗布4TP   自動捨出中
ANL
OUT R21001               ; 塗布4TP   捨出要求
MRD
LD @MR701                ; OFFLINE除材警告
LD LR10107               ; 塗布機4塗布完了記憶
AND R21007               ; 塗布4TP   ﾒﾝﾃﾌﾞｻﾞｰON
ORL
ANL
MPS
OUT R21002               ; 塗布4TP   除材要求
MPP
LDB R4103                ; ｻﾌﾞｶﾊﾞｰ4(塗布4) 閉中
ANB R4500                ; 塗布UT4 左側ﾜｰｸ有無確認
ANB R4501                ; 塗布UT4 右側ﾜｰｸ有無確認
ANL
RES @MR701               ; OFFLINE除材警告
CON
RES @MR702               ; 除材警告中
CON
RES LR10107              ; 塗布機4塗布完了記憶
CON
DW.D #0 EM5652
MRD
AND>=.D EM5670 EM5630    ; 塗布UT4 針拭きｶｳﾝﾀ現在値  塗布UT4 針拭きｶｳﾝﾀ設定値
OUT R21003               ; 塗布4TP   針拭き要求
MRD
AND>=.D EM5672 EM5632    ; 塗布UT4 重量測定ｶｳﾝﾀ現在値  塗布UT4 重量測定ｶｳﾝﾀ設定値
OUT R21004               ; 塗布4TP   重量要求
MRD
AND>= EM5654 #20         ; 塗布UT4 捨て出し回数
MPS
OUT R21009               ; 塗布4 捨て出し台確認
MPP
ANB R4103                ; ｻﾌﾞｶﾊﾞｰ4(塗布4) 閉中
DW.D #0 EM5654           ; 塗布UT4 捨て出し回数
MPP
AND @MR2607              ; 慣らし運転要求Flg
OUT R21006               ; 塗布4TP　 慣らし運転要求
LD CR2008                ; 運転開始時1ｽｷｬﾝON
DW.D #0 EM5654           ; 塗布UT4 捨て出し回数
;ﾒﾝﾃﾅﾝｽ要求
LDB R21001               ; 塗布4TP   捨出要求
ANB R21002               ; 塗布4TP   除材要求
ANB R21003               ; 塗布4TP   針拭き要求
ANB R21004               ; 塗布4TP   重量要求
ANB R21006               ; 塗布4TP　 慣らし運転要求
DW #0 EM5564             ; 塗布UT4 ﾒﾝﾃﾅﾝｽNo
LD R21001                ; 塗布4TP   捨出要求
DW #1 EM5564             ; 塗布UT4 ﾒﾝﾃﾅﾝｽNo
LD R21002                ; 塗布4TP   除材要求
DW #2 EM5564             ; 塗布UT4 ﾒﾝﾃﾅﾝｽNo
LD R21003                ; 塗布4TP   針拭き要求
DW #3 EM5564             ; 塗布UT4 ﾒﾝﾃﾅﾝｽNo
LD R21004                ; 塗布4TP   重量要求
DW #4 EM5564             ; 塗布UT4 ﾒﾝﾃﾅﾝｽNo
LD R21006                ; 塗布4TP　 慣らし運転要求
DW #6 EM5564             ; 塗布UT4 ﾒﾝﾃﾅﾝｽNo
LD R21009                ; 塗布4 捨て出し台確認
DW #9 EM5564             ; 塗布UT4 ﾒﾝﾃﾅﾝｽNo
LDB R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
AND<> EM5564 #0          ; 塗布UT4 ﾒﾝﾃﾅﾝｽNo
OUT R21000               ; 塗布4TP   ﾒﾝﾃ要求
LD R21000                ; 塗布4TP   ﾒﾝﾃ要求
MPS
ANB R21007               ; 塗布4TP   ﾒﾝﾃﾌﾞｻﾞｰON
TMR @1 #1800
MPP
LDP R21000               ; 塗布4TP   ﾒﾝﾃ要求
LD MR10015               ; 塗布4     停止中
AND @T1
ORL
ANL
@DW #8 EM5540            ; 塗布UT4 ﾊﾞｯｸﾗｲﾄｶﾗｰ
CON
SET R21007               ; 塗布4TP   ﾒﾝﾃﾌﾞｻﾞｰON
LD R21007                ; 塗布4TP   ﾒﾝﾃﾌﾞｻﾞｰON
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ANB R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46114               ; _装置原点復帰待ち
AND<> EM5510 #11         ; 塗布UT4 表示中ﾍﾟｰｼﾞNo.
AND<> EM5510 #12         ; 塗布UT4 表示中ﾍﾟｰｼﾞNo.
LDB R21007               ; 塗布4TP   ﾒﾝﾃﾌﾞｻﾞｰON
AND @MR015
ORL
OUT EM5524.1
LD R21007                ; 塗布4TP   ﾒﾝﾃﾌﾞｻﾞｰON
LDP R21014               ; 塗布4TP   Bz.OFF
ORF R21000               ; 塗布4TP   ﾒﾝﾃ要求
ANL
MPS
@DW #0 EM5540            ; 塗布UT4 ﾊﾞｯｸﾗｲﾄｶﾗｰ
CON
RES R21007               ; 塗布4TP   ﾒﾝﾃﾌﾞｻﾞｰON
MRD
AND R21003               ; 塗布4TP   針拭き要求
DW.D #0 EM5670           ; 塗布UT4 針拭きｶｳﾝﾀ現在値
MPP
AND R21004               ; 塗布4TP   重量要求
DW.D #0 EM5672           ; 塗布UT4 重量測定ｶｳﾝﾀ現在値
END
ENDH
