DEVICE:53
;MODULE:JANOME_RB2
;MODULE_TYPE:0
LDP R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ZRES R38000 R38715       ; 塗布2 引込塗布側
CON
ZRES @MR100 @MR2915      ; Task3 ERROR
LD= DM60000 #3           ; TaskNo /ERROR_DISP
AND R46208               ; _Group1　ｴﾗｰ発生中
OUT @MR001               ; TASK ERROR
;TP
LD CR2008                ; 運転開始時1ｽｷｬﾝON
ORP R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
MOV #0 EM5178            ; 塗布UT2 切替ﾍﾟｰｼﾞNo.
DW #1 EM5220             ; 塗布UT2 0=ONLINE  1=OFFLINE
LD= EM5170 #0            ; 塗布UT2 表示中ﾍﾟｰｼﾞNo.
TMR @0 #30
CON
AND @T0
MOV #2 EM5178            ; 塗布UT2 切替ﾍﾟｰｼﾞNo.
LDP R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
MOV #3 EM5178            ; 塗布UT2 切替ﾍﾟｰｼﾞNo.
LDB R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
ORP R38601               ; 塗布2 原点復帰 END
MPS
AND= EM5220 #1           ; 塗布UT2 0=ONLINE  1=OFFLINE
@MOV #10 EM5178          ; 塗布UT2 切替ﾍﾟｰｼﾞNo.
MPP
AND= EM5220 #0           ; 塗布UT2 0=ONLINE  1=OFFLINE
@MOV #100 EM5178         ; 塗布UT2 切替ﾍﾟｰｼﾞNo.
LDB R1400                ; 塗布RB2 ｽﾀｰﾄﾚﾃﾞｨｰ
AND R1401                ; 塗布RB2 停止中
ANB R1404                ; 塗布RB2 運転動作中
TMR @20 #3               ; 塗布RB 電源OFF ﾃﾞｨﾚｲ
LDF R1109                ; 塗布UT2 RB&ﾃﾞｨｽﾍﾟﾝｻｰ 電源 ON 
OR @T20                  ; 塗布RB 電源OFF ﾃﾞｨﾚｲ
MPS
RES R20300               ; 塗布2   ONLINE
CON
SET R20308               ; 塗布2  OFFLINE
CON
DW #1 EM5220             ; 塗布UT2 0=ONLINE  1=OFFLINE
CON
@RES @MR2606             ; 慣らし運転完了記憶
MPP
ANB @MR2605              ; 初回
@SET @MR2605             ; 初回
CON
@RES MR1109              ; 塗布UT2 RB&ﾃﾞｨｽﾍﾟﾝｻｰ 電源 ON 
;<h1/>原点復帰
STG R38600               ; 塗布2 原点復帰
RES R38601               ; 塗布2 原点復帰 END
CON
SET R38602               ; During塗布2 原点復帰
CON
JMP @MR2100
STG @MR2100
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
LD R4300                 ; 塗布UT2 左側ﾜｰｸ有無確認
ANB LR10105              ; 塗布機2塗布完了記憶
ANL
SET R38008               ; 塗布2左 調整下降
CON
JMP @MR2101
MPP
LDB R4300                ; 塗布UT2 左側ﾜｰｸ有無確認
OR LR10105               ; 塗布機2塗布完了記憶
ANL
SET R38012               ; 塗布2左 調整上昇
CON
JMP @MR2102
STG @MR2101
AND R38009               ; 塗布2左 調整下降 END
RES R38009               ; 塗布2左 調整下降 END
CON
JMP @MR2103
STG @MR2102
AND R38013               ; 塗布2左 調整上昇 END
RES R38013               ; 塗布2左 調整上昇 END
CON
JMP @MR2103
STG @MR2103
JMP @MR2104
;右側ｸﾗﾝﾌﾟ動作(HOME)
STG @MR2104
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
AND R4301                ; 塗布UT2 右側ﾜｰｸ有無確認
SET R38104               ; 塗布2右 調整下降
CON
JMP @MR2105
MPP
ANB R4301                ; 塗布UT2 右側ﾜｰｸ有無確認
SET R38108               ; 塗布2右 調整上昇
CON
JMP @MR2106
STG @MR2105
AND R38105               ; 塗布2右 調整下降 END
RES R38105               ; 塗布2右 調整下降 END
CON
JMP @MR2107
STG @MR2106
AND R38109               ; 塗布2右 調整上昇 END
RES R38109               ; 塗布2右 調整上昇 END
CON
JMP @MR2107
STG @MR2107
JMP @MR2108
;RB原点(HOME)
STG @MR2108
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
DW #50 EM1192            ; 塗布RB2 PROG選択
CON
SET R38100               ; 塗布2 MOVE
CON
JMP @MR2109
STG @MR2109
ANB R38102               ; During 塗布2 MOVE
AND R38101               ; 塗布2 MOVE END
MPS
ANB R38103               ; 塗布2 Alarm
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR2112
MPP
AND R38103               ; 塗布2 Alarm
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR2110
STG @MR2110
ANB R39004               ; ｴﾗｰ中
RES R38103               ; 塗布2 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #152 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task3 ERROR
CON
JMP @MR2111
STG @MR2111
MPS
AND MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task3 ERROR_End
ANL
RES @MR101               ; Task3 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR2108
;引き込み(HOME)
STG @MR2112
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R38200               ; 塗布2 受取位置移動
CON
JMP @MR2113
STG @MR2113
AND R38201               ; 塗布2 受取位置移動 END
MPS
AND= EM5220 #0           ; 塗布UT2 0=ONLINE  1=OFFLINE
RES R38201               ; 塗布2 受取位置移動 END
CON
JMP @MR2115
MPP
AND= EM5220 #1           ; 塗布UT2 0=ONLINE  1=OFFLINE
RES R38201               ; 塗布2 受取位置移動 END
CON
SET R38500               ; 塗布2 引込塗布(NG)
CON
JMP @MR2114
STG @MR2114
AND R38501               ; 塗布2 引込塗布(NG)END
RES R38501               ; 塗布2 引込塗布(NG)END
CON
JMP @MR2115
STG @MR2115
ANB @MR001               ; TASK ERROR
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
MPS
RES R38602               ; During塗布2 原点復帰
CON
SET R38601               ; 塗布2 原点復帰 END
CON
ENDS
MPP
ANB R38510               ; During塗布2 慣らし運転動作
DW #999 EM5314           ; 塗布UT2 捨て出し回数
;<h1/>動作ﾙｰﾁﾝ
;ここから
;<h1/>ON/OFF動作開始
LDB R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46114               ; _装置原点復帰待ち
MPS
AND= EM5220 #0           ; 塗布UT2 0=ONLINE  1=OFFLINE
@SET @MR300              ; ONLINE_START
MPP
AND= EM5220 #1           ; 塗布UT2 0=ONLINE  1=OFFLINE
@SET @MR200              ; OFFLINE_START
;<h1/>OFFLINE動作
;塗布画面（200）
;捨て出し画面（300）
;針位置調整画面（400）
;重量測定画面（500）
STG @MR200               ; OFFLINE_START
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
AND MR10007              ; 塗布2     停止中
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
MPS
LD= EM5220 #1            ; 塗布UT2 0=ONLINE  1=OFFLINE
ANP R4109                ; 塗布確認 SWBOX1(塗布2) ｽﾀｰﾄ
AND MR10007              ; 塗布2     停止中
ANL
MPS
AND= EM5170 #200         ; 塗布UT2 表示中ﾍﾟｰｼﾞNo.
MPS
AND @MR2606              ; 慣らし運転完了記憶
JMP @MR202
MPP
ANB @MR2606              ; 慣らし運転完了記憶
JMP @MR212               ; 動作不可
MRD
AND= EM5170 #300         ; 塗布UT2 表示中ﾍﾟｰｼﾞNo.
@MOV #301 EM5178         ; 塗布UT2 切替ﾍﾟｰｼﾞNo.
SET R38400               ; 塗布2 捨て出し
CON
JMP @MR204
MRD
AND= EM5170 #400         ; 塗布UT2 表示中ﾍﾟｰｼﾞNo.
@MOV #401 EM5178         ; 塗布UT2 切替ﾍﾟｰｼﾞNo.
SET R38308               ; 塗布2 針位置
CON
JMP @MR206
MRD
AND= EM5170 #500         ; 塗布UT2 表示中ﾍﾟｰｼﾞNo.
MPS
AND @MR2606              ; 慣らし運転完了記憶
@MOV #501 EM5178         ; 塗布UT2 切替ﾍﾟｰｼﾞNo.
SET R38300               ; 塗布2 重量測定
CON
JMP @MR208
MPP
ANB @MR2606              ; 慣らし運転完了記憶
JMP @MR212               ; 動作不可
MPP
AND= EM5170 #600         ; 塗布UT2 表示中ﾍﾟｰｼﾞNo.
@MOV #601 EM5178         ; 塗布UT2 切替ﾍﾟｰｼﾞNo.
SET R38508               ; 塗布2 慣らし運転動作
CON
JMP @MR210
MPP
AND<> EM5220 #1          ; 塗布UT2 0=ONLINE  1=OFFLINE
ENDS
;OFFLINE塗布実行中
STG @MR202
MPS
ANB LR10105              ; 塗布機2塗布完了記憶
SET R38208               ; 塗布2 塗布動作
CON
@MOV #201 EM5178         ; 塗布UT2 切替ﾍﾟｰｼﾞNo.
JMP @MR203
MPP
AND LR10105              ; 塗布機2塗布完了記憶
@DW #8 EM5200            ; 塗布UT2 ﾊﾞｯｸﾗｲﾄｶﾗｰ
CON
SET R20407               ; 塗布2TP   ﾒﾝﾃﾌﾞｻﾞｰON
CON
JMP @MR200               ; OFFLINE_START
STG @MR203
AND R38209               ; 塗布2 塗布動作 END
@MOV #200 EM5178         ; 塗布UT2 切替ﾍﾟｰｼﾞNo.
RES R38209               ; 塗布2 塗布動作 END
CON
JMP @MR200               ; OFFLINE_START
;OFFLINE捨て出し実行中
STG @MR204
AND R38401               ; 塗布2 捨て出し END
@MOV #300 EM5178         ; 塗布UT2 切替ﾍﾟｰｼﾞNo.
RES R38401               ; 塗布2 捨て出し END
CON
JMP @MR200               ; OFFLINE_START
;OFFLINE針位置実行中
STG @MR206
MPS
LD MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
AND R1408                ; 塗布RB2 STEP SW 要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
MPS
AND R38309               ; 塗布2 針位置 END
@MOV #400 EM5178         ; 塗布UT2 切替ﾍﾟｰｼﾞNo.
RES R38309               ; 塗布2 針位置 END
CON
JMP @MR200               ; OFFLINE_START
MPP
LD R1408                 ; 塗布RB2 STEP SW 要求
ANP R4109                ; 塗布確認 SWBOX1(塗布2) ｽﾀｰﾄ
ANL
OUT MR1511               ; 塗布RB2 STEP(一旦停止)
;OFFLINE重量測定実行中
STG @MR208
AND R38301               ; 塗布2 重量測定 END
@MOV #500 EM5178         ; 塗布UT2 切替ﾍﾟｰｼﾞNo.
RES R38301               ; 塗布2 重量測定 END
CON
JMP @MR200               ; OFFLINE_START
;OFFLINEｴｰｼﾞﾝｸﾞ動作実行中
STG @MR210
AND R38509               ; 塗布2 慣らし運転動作 END
@MOV #600 EM5178         ; 塗布UT2 切替ﾍﾟｰｼﾞNo.
RES R38509               ; 塗布2 慣らし運転動作 END
CON
JMP @MR200               ; OFFLINE_START
;動作不可
STG @MR212               ; 動作不可
SET @MR2607              ; 慣らし運転要求Flg
CON
JMP @MR213
STG @MR213
ANP R20414               ; 塗布2TP   Bz.OFF
RES @MR2607              ; 慣らし運転要求Flg
CON
JMP @MR200               ; OFFLINE_START
;<h1/>ONLINE動作
STG @MR300               ; ONLINE_START
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
AND MR10007              ; 塗布2     停止中
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
MPS
AND= EM5220 #0           ; 塗布UT2 0=ONLINE  1=OFFLINE
JMP @MR301
MPP
AND<> EM5220 #0          ; 塗布UT2 0=ONLINE  1=OFFLINE
ENDS
STG @MR301
JMP @MR300               ; ONLINE_START
;動作ﾙｰﾁﾝ
;ここまで
;<h1/>ﾜｰｸ受取位置移動動作
STG R38200               ; 塗布2 受取位置移動
RES R38201               ; 塗布2 受取位置移動 END
CON
SET R38202               ; During塗布2 受取位置移動
CON
JMP @MR1000
STG @MR1000
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R38008               ; 塗布2左 調整下降
CON
SET R38104               ; 塗布2右 調整下降
CON
JMP @MR1001
STG @MR1001
AND R38009               ; 塗布2左 調整下降 END
AND R38105               ; 塗布2右 調整下降 END
RES R38009               ; 塗布2左 調整下降 END
CON
RES R38105               ; 塗布2右 調整下降 END
CON
JMP @MR1002
;RB移動(給材位置)
;＆
;引き込み給材側移動
STG @MR1002
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
DW #50 EM1192            ; 塗布RB2 PROG選択
CON
SET R38100               ; 塗布2 MOVE
CON
SET R38004               ; 塗布2 引込給材側
CON
JMP @MR1003
STG @MR1003
ANB R38102               ; During 塗布2 MOVE
AND R38101               ; 塗布2 MOVE END
AND R38005               ; 塗布2 引込給材側 END
MPS
ANB R38103               ; 塗布2 Alarm
RES R38005               ; 塗布2 引込給材側 END
CON
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR1004
MPP
AND R38103               ; 塗布2 Alarm
RES R38005               ; 塗布2 引込給材側 END
CON
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR1010
STG @MR1010
ANB R39004               ; ｴﾗｰ中
RES R38103               ; 塗布2 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #152 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task3 ERROR
CON
JMP @MR1011
STG @MR1011
MPS
AND MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task3 ERROR_End
ANL
RES @MR101               ; Task3 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR1002
;引き込み(HOME)
STG @MR1004
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
JMP @MR1005
STG @MR1005
JMP @MR1006
STG @MR1006
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R38012               ; 塗布2左 調整上昇
CON
SET R38108               ; 塗布2右 調整上昇
CON
JMP @MR1007
STG @MR1007
AND R38013               ; 塗布2左 調整上昇 END
AND R38109               ; 塗布2右 調整上昇 END
RES R38013               ; 塗布2左 調整上昇 END
CON
RES R38109               ; 塗布2右 調整上昇 END
CON
JMP @MR1008
STG @MR1008
ANB @MR001               ; TASK ERROR
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
RES R38202               ; During塗布2 受取位置移動
CON
SET R38201               ; 塗布2 受取位置移動 END
CON
ENDS
;<h1/>接着剤塗布
STG R38208               ; 塗布2 塗布動作
DW #2 DM34200            ; 塗布UT2 塗布判別
CON
RES R38209               ; 塗布2 塗布動作 END
CON
SET R38210               ; During塗布2 塗布動作
CON
JMP @MR1200
STG @MR1200
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R38008               ; 塗布2左 調整下降
CON
SET R38104               ; 塗布2右 調整下降
CON
JMP @MR1201
STG @MR1201
AND R38009               ; 塗布2左 調整下降 END
AND R38105               ; 塗布2右 調整下降 END
RES R38009               ; 塗布2左 調整下降 END
CON
RES R38105               ; 塗布2右 調整下降 END
CON
JMP @MR1202
STG @MR1202
JMP @MR1203
STG @MR1203
JMP @MR1204
STG @MR1204
MPS
LD R4300                 ; 塗布UT2 左側ﾜｰｸ有無確認
AND R4301                ; 塗布UT2 右側ﾜｰｸ有無確認
ANL
SET MR1512               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
SET MR1513               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
JMP @MR1205
MRD
LD R4300                 ; 塗布UT2 左側ﾜｰｸ有無確認
ANB R4301                ; 塗布UT2 右側ﾜｰｸ有無確認
ANL
SET MR1512               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
RES MR1513               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
JMP @MR1205
MRD
LDB R4300                ; 塗布UT2 左側ﾜｰｸ有無確認
AND R4301                ; 塗布UT2 右側ﾜｰｸ有無確認
ANL
RES MR1512               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
SET MR1513               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
JMP @MR1205
MPP
LDB R4300                ; 塗布UT2 左側ﾜｰｸ有無確認
ANB R4301                ; 塗布UT2 右側ﾜｰｸ有無確認
ANL
RES MR1512               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
RES MR1513               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
JMP @MR1308
;塗布側移動
STG @MR1205
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
DW #52 EM1192            ; 塗布RB2 PROG選択
CON
SET R38100               ; 塗布2 MOVE
CON
SET R38000               ; 塗布2 引込塗布側
CON
JMP @MR1212
STG @MR1212
AND R38101               ; 塗布2 MOVE END
AND R38001               ; 塗布2 引込塗布側 END
MPS
ANB R38103               ; 塗布2 Alarm
RES R38101               ; 塗布2 MOVE END
CON
RES R38001               ; 塗布2 引込塗布側 END
CON
JMP @MR1206
MPP
AND R38103               ; 塗布2 Alarm
JMP @MR1213
STG @MR1213
ANB R39004               ; ｴﾗｰ中
RES R38103               ; 塗布2 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #152 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task3 ERROR
CON
JMP @MR1214
STG @MR1214
MPS
AND MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task3 ERROR_End
ANL
RES @MR101               ; Task3 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR1204
STG @MR1215              ; 塗布RB受渡側へ
SET @MR1315              ; 塗布RB受渡側FLG
CON
DW #51 EM1192            ; 塗布RB2 PROG選択
CON
SET R38100               ; 塗布2 MOVE
CON
JMP @MR1206
;塗布開始
;RB2通常塗布はﾚｼﾋﾟDM4202の値を代入
STG @MR1206
LDA.D DM4202             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
CON
STA.D EM1192             ; 塗布RB2 PROG選択
CON
SET R38100               ; 塗布2 MOVE
CON
JMP @MR1207
STG @MR1207
AND R38102               ; During 塗布2 MOVE
JMP @MR1208
STG @MR1208
AND R38101               ; 塗布2 MOVE END
MPS
ANB R38103               ; 塗布2 Alarm
DW #1 DM34200            ; 塗布UT2 塗布判別
CON
RES MR1512               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
RES MR1513               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
@INC.D EM5330            ; 塗布UT2 針拭きｶｳﾝﾀ現在値
CON
@INC.D EM5332            ; 塗布UT2 重量測定ｶｳﾝﾀ現在値
CON
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR1308
MPP
AND R38103               ; 塗布2 Alarm
RES MR1512               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
RES MR1513               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR1209
STG @MR1209
ANB R39004               ; ｴﾗｰ中
RES R38103               ; 塗布2 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #152 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task3 ERROR
CON
JMP @MR1210
STG @MR1210
MPS
AND MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task3 ERROR_End
ANL
RES @MR101               ; Task3 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
MPS
ANB @MR1315              ; 塗布RB受渡側FLG
JMP @MR1204
MPP
AND @MR1315              ; 塗布RB受渡側FLG
JMP @MR1215              ; 塗布RB受渡側へ
;終了処理（位置移動）
STG @MR1308
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
AND= EM5220 #0           ; 塗布UT2 0=ONLINE  1=OFFLINE
SET @MR1315              ; 塗布RB受渡側FLG
CON
DW #51 EM1192            ; 塗布RB2 PROG選択
CON
SET R38100               ; 塗布2 MOVE
CON
SET R38004               ; 塗布2 引込給材側
CON
JMP @MR1309
MPP
AND= EM5220 #1           ; 塗布UT2 0=ONLINE  1=OFFLINE
DW #52 EM1192            ; 塗布RB2 PROG選択
CON
SET R38100               ; 塗布2 MOVE
CON
SET R38000               ; 塗布2 引込塗布側
CON
JMP @MR1309
STG @MR1309
LD R38005                ; 塗布2 引込給材側 END
OR R38001                ; 塗布2 引込塗布側 END
ANL
AND R38101               ; 塗布2 MOVE END
ANB R38103               ; 塗布2 Alarm
RES @MR1315              ; 塗布RB受渡側FLG
CON
RES R38101               ; 塗布2 MOVE END
CON
RES R38001               ; 塗布2 引込塗布側 END
CON
RES R38005               ; 塗布2 引込給材側 END
CON
JMP @MR1310
STG @MR1310
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R38012               ; 塗布2左 調整上昇
CON
SET R38108               ; 塗布2右 調整上昇
CON
JMP @MR1311
STG @MR1311
AND R38013               ; 塗布2左 調整上昇 END
AND R38109               ; 塗布2右 調整上昇 END
RES R38013               ; 塗布2左 調整上昇 END
CON
RES R38109               ; 塗布2右 調整上昇 END
CON
JMP @MR1312
STG @MR1312
ANB @MR001               ; TASK ERROR
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
JMP @MR1313
STG @MR1313
MPS
LD R4300                 ; 塗布UT2 左側ﾜｰｸ有無確認
OR R4301                 ; 塗布UT2 右側ﾜｰｸ有無確認
ANL
SET LR10105              ; 塗布機2塗布完了記憶
CON
RES R38210               ; During塗布2 塗布動作
CON
SET R38209               ; 塗布2 塗布動作 END
CON
ENDS
MPP
LDB R4300                ; 塗布UT2 左側ﾜｰｸ有無確認
ANB R4301                ; 塗布UT2 右側ﾜｰｸ有無確認
ANL
RES LR10105              ; 塗布機2塗布完了記憶
CON
RES R38210               ; During塗布2 塗布動作
CON
SET R38209               ; 塗布2 塗布動作 END
CON
ENDS
;<h1/>重量測定
STG R38300               ; 塗布2 重量測定
RES R38301               ; 塗布2 重量測定 END
CON
SET R38302               ; During塗布2 重量測定
CON
JMP @MR1400
STG @MR1400
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
AND CR2003               ; 常時OFF
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
SET R38008               ; 塗布2左 調整下降
CON
SET R38104               ; 塗布2右 調整下降
CON
JMP @MR1401
MPP
AND CR2002               ; 常時ON
SET R38008               ; 塗布2左 調整下降
CON
SET R38104               ; 塗布2右 調整下降
CON
JMP @MR1401
STG @MR1401
AND R38009               ; 塗布2左 調整下降 END
AND R38105               ; 塗布2右 調整下降 END
RES R38009               ; 塗布2左 調整下降 END
CON
RES R38105               ; 塗布2右 調整下降 END
CON
JMP @MR1402
STG @MR1402
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
AND CR2003               ; 常時OFF
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
SET R38000               ; 塗布2 引込塗布側
CON
JMP @MR1403
MPP
AND CR2002               ; 常時ON
SET R38000               ; 塗布2 引込塗布側
CON
JMP @MR1403
STG @MR1403
AND R38001               ; 塗布2 引込塗布側 END
RES R38001               ; 塗布2 引込塗布側 END
CON
JMP @MR1404
STG @MR1404
MPS
LD R4300                 ; 塗布UT2 左側ﾜｰｸ有無確認
AND R4301                ; 塗布UT2 右側ﾜｰｸ有無確認
ANL
SET MR1512               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
SET MR1513               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
JMP @MR1405
MRD
LD R4300                 ; 塗布UT2 左側ﾜｰｸ有無確認
ANB R4301                ; 塗布UT2 右側ﾜｰｸ有無確認
ANL
SET MR1512               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
RES MR1513               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
JMP @MR1405
MRD
LDB R4300                ; 塗布UT2 左側ﾜｰｸ有無確認
AND R4301                ; 塗布UT2 右側ﾜｰｸ有無確認
ANL
RES MR1512               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
SET MR1513               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
JMP @MR1405
MPP
LDB R4300                ; 塗布UT2 左側ﾜｰｸ有無確認
ANB R4301                ; 塗布UT2 右側ﾜｰｸ有無確認
ANL
RES MR1512               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
RES MR1513               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
JMP @MR1510
STG @MR1405
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
AND CR2003               ; 常時OFF
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
LDA.D DM4212             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
CON
STA.D EM1192             ; 塗布RB2 PROG選択
CON
JMP @MR1406
MPP
AND CR2002               ; 常時ON
LDA.D DM4212             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
CON
STA.D EM1192             ; 塗布RB2 PROG選択
CON
JMP @MR1406
STG @MR1406
SET R38100               ; 塗布2 MOVE
CON
JMP @MR1407
STG @MR1407
AND R38102               ; During 塗布2 MOVE
JMP @MR1408
STG @MR1408
AND R38101               ; 塗布2 MOVE END
MPS
ANB R38103               ; 塗布2 Alarm
RES MR1512               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
RES MR1513               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR1510
MPP
AND R38103               ; 塗布2 Alarm
RES MR1512               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
CON
RES MR1513               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
CON
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR1409
STG @MR1409
ANB R39004               ; ｴﾗｰ中
RES R38103               ; 塗布2 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #152 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task3 ERROR
CON
JMP @MR1410
STG @MR1410
MPS
AND MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task3 ERROR_End
ANL
RES @MR101               ; Task3 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR1411
STG @MR1411
JMP @MR1412
STG @MR1412
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
AND CR2003               ; 常時OFF
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
DW #52 EM1192            ; 塗布RB2 PROG選択
CON
SET R38100               ; 塗布2 MOVE
CON
JMP @MR1413
MPP
AND CR2002               ; 常時ON
DW #52 EM1192            ; 塗布RB2 PROG選択
CON
SET R38100               ; 塗布2 MOVE
CON
JMP @MR1413
STG @MR1413
AND R38102               ; During 塗布2 MOVE
JMP @MR1414
STG @MR1414
ANB R38102               ; During 塗布2 MOVE
AND R38101               ; 塗布2 MOVE END
MPS
ANB R38103               ; 塗布2 Alarm
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR1510
MPP
AND R38103               ; 塗布2 Alarm
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR1415
STG @MR1415
ANB R39004               ; ｴﾗｰ中
RES R38103               ; 塗布2 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #152 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task3 ERROR
CON
JMP @MR1500
STG @MR1500
MPS
AND MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task3 ERROR_End
ANL
RES @MR101               ; Task3 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR1412
;
STG @MR1508
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
AND CR2003               ; 常時OFF
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
SET R38004               ; 塗布2 引込給材側
CON
JMP @MR1509
MPP
AND CR2002               ; 常時ON
SET R38004               ; 塗布2 引込給材側
CON
JMP @MR1509
STG @MR1509
AND R38005               ; 塗布2 引込給材側 END
RES R38005               ; 塗布2 引込給材側 END
CON
JMP @MR1510
STG @MR1510
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
AND CR2003               ; 常時OFF
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
SET R38012               ; 塗布2左 調整上昇
CON
SET R38108               ; 塗布2右 調整上昇
CON
JMP @MR1511
MPP
AND CR2002               ; 常時ON
SET R38012               ; 塗布2左 調整上昇
CON
SET R38108               ; 塗布2右 調整上昇
CON
JMP @MR1511
STG @MR1511
AND R38013               ; 塗布2左 調整上昇 END
AND R38109               ; 塗布2右 調整上昇 END
RES R38013               ; 塗布2左 調整上昇 END
CON
RES R38109               ; 塗布2右 調整上昇 END
CON
JMP @MR1512
STG @MR1512
ANB @MR001               ; TASK ERROR
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET LR10105              ; 塗布機2塗布完了記憶
CON
RES R38302               ; During塗布2 重量測定
CON
SET R38301               ; 塗布2 重量測定 END
CON
ENDS
;<h1/>針位置調整
STG R38308               ; 塗布2 針位置
RES R38309               ; 塗布2 針位置 END
CON
SET R38310               ; During塗布2 針位置
CON
JMP @MR1600
STG @MR1600
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
DW #11 EM1192            ; 塗布RB2 PROG選択
CON
SET R38100               ; 塗布2 MOVE
CON
JMP @MR1601
STG @MR1601
JMP @MR1602
STG @MR1602
AND R38102               ; During 塗布2 MOVE
JMP @MR1603
STG @MR1603
AND R38101               ; 塗布2 MOVE END
MPS
ANB R38103               ; 塗布2 Alarm
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR1615
MPP
AND R38103               ; 塗布2 Alarm
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR1604
STG @MR1604
ANB R39004               ; ｴﾗｰ中
RES R38103               ; 塗布2 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #152 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task3 ERROR
CON
JMP @MR1605
STG @MR1605
MPS
AND MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task3 ERROR_End
ANL
RES @MR101               ; Task3 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR1606
STG @MR1606
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
DW #52 EM1192            ; 塗布RB2 PROG選択
CON
SET R38100               ; 塗布2 MOVE
CON
JMP @MR1607
STG @MR1607
AND R38102               ; During 塗布2 MOVE
JMP @MR1608
STG @MR1608
ANB R38102               ; During 塗布2 MOVE
AND R38101               ; 塗布2 MOVE END
MPS
ANB R38103               ; 塗布2 Alarm
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR1615
MPP
AND R38103               ; 塗布2 Alarm
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR1609
STG @MR1609
ANB R39004               ; ｴﾗｰ中
RES R38103               ; 塗布2 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #152 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task3 ERROR
CON
JMP @MR1610
STG @MR1610
MPS
AND MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task3 ERROR_End
ANL
RES @MR101               ; Task3 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR1606
;
STG @MR1615
ANB @MR001               ; TASK ERROR
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
RES R38310               ; During塗布2 針位置
CON
SET R38309               ; 塗布2 針位置 END
CON
ENDS
;<h1/>捨て出し
STG R38400               ; 塗布2 捨て出し
RES R38401               ; 塗布2 捨て出し END
CON
SET R38402               ; During塗布2 捨て出し
CON
JMP @MR1700
STG @MR1700
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R38008               ; 塗布2左 調整下降
CON
SET R38104               ; 塗布2右 調整下降
CON
JMP @MR1701
STG @MR1701
AND R38009               ; 塗布2左 調整下降 END
AND R38105               ; 塗布2右 調整下降 END
RES R38009               ; 塗布2左 調整下降 END
CON
RES R38105               ; 塗布2右 調整下降 END
CON
JMP @MR1702
STG @MR1702
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R38000               ; 塗布2 引込塗布側
CON
JMP @MR1703
STG @MR1703
AND R38001               ; 塗布2 引込塗布側 END
RES R38001               ; 塗布2 引込塗布側 END
CON
JMP @MR1704
STG @MR1704
JMP @MR1705
STG @MR1705
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
DW #10 EM1192            ; 塗布RB2 PROG選択
CON
SET R38100               ; 塗布2 MOVE
CON
JMP @MR1706
STG @MR1706
JMP @MR1707
STG @MR1707
AND R38102               ; During 塗布2 MOVE
JMP @MR1708
STG @MR1708
AND R38101               ; 塗布2 MOVE END
MPS
ANB R38103               ; 塗布2 Alarm
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR1804
MPP
AND R38103               ; 塗布2 Alarm
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR1709
STG @MR1709
ANB R39004               ; ｴﾗｰ中
RES R38103               ; 塗布2 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #152 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task3 ERROR
CON
JMP @MR1710
STG @MR1710
MPS
AND MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task3 ERROR_End
ANL
RES @MR101               ; Task3 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR1705
;
STG @MR1804
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
AND= EM5220 #0           ; 塗布UT2 0=ONLINE  1=OFFLINE
SET R38200               ; 塗布2 受取位置移動
CON
JMP @MR1805
MPP
AND= EM5220 #1           ; 塗布UT2 0=ONLINE  1=OFFLINE
JMP @MR1806
STG @MR1805
AND R38201               ; 塗布2 受取位置移動 END
RES R38201               ; 塗布2 受取位置移動 END
CON
JMP @MR1808
STG @MR1806
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R38012               ; 塗布2左 調整上昇
CON
SET R38108               ; 塗布2右 調整上昇
CON
JMP @MR1807
STG @MR1807
AND R38013               ; 塗布2左 調整上昇 END
AND R38109               ; 塗布2右 調整上昇 END
RES R38013               ; 塗布2左 調整上昇 END
CON
RES R38109               ; 塗布2右 調整上昇 END
CON
JMP @MR1808
STG @MR1808
ANB @MR001               ; TASK ERROR
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
@INC EM5314              ; 塗布UT2 捨て出し回数
CON
DW.D #0 EM5310           ; 塗布UT2 捨て出し時間経過時間
CON
RES R38402               ; During塗布2 捨て出し
CON
SET R38401               ; 塗布2 捨て出し END
CON
ENDS
;<h1/>ﾜｰｸ受渡位置移動動作
STG R38408               ; 塗布2 受渡位置移動
RES R38409               ; 塗布2 受渡位置移動 END
CON
SET R38410               ; During塗布2 受渡位置移動
CON
JMP @MR1100
STG @MR1100
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R38008               ; 塗布2左 調整下降
CON
SET R38104               ; 塗布2右 調整下降
CON
JMP @MR1101
STG @MR1101
AND R38009               ; 塗布2左 調整下降 END
AND R38105               ; 塗布2右 調整下降 END
RES R38009               ; 塗布2左 調整下降 END
CON
RES R38105               ; 塗布2右 調整下降 END
CON
JMP @MR1102
;RB移動(給材位置)
;＆
;引き込み給材側移動
STG @MR1102
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
DW #51 EM1192            ; 塗布RB2 PROG選択
CON
SET R38100               ; 塗布2 MOVE
CON
SET R38004               ; 塗布2 引込給材側
CON
JMP @MR1103
STG @MR1103
ANB R38102               ; During 塗布2 MOVE
AND R38101               ; 塗布2 MOVE END
AND R38005               ; 塗布2 引込給材側 END
MPS
ANB R38103               ; 塗布2 Alarm
RES R38005               ; 塗布2 引込給材側 END
CON
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR1104
MPP
AND R38103               ; 塗布2 Alarm
RES R38005               ; 塗布2 引込給材側 END
CON
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR1110
STG @MR1110
ANB R39004               ; ｴﾗｰ中
RES R38103               ; 塗布2 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #152 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task3 ERROR
CON
JMP @MR1111
STG @MR1111
MPS
AND MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task3 ERROR_End
ANL
RES @MR101               ; Task3 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR1102
;引き込み(HOME)
STG @MR1104
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
JMP @MR1105
STG @MR1105
JMP @MR1106
STG @MR1106
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R38012               ; 塗布2左 調整上昇
CON
SET R38108               ; 塗布2右 調整上昇
CON
JMP @MR1107
STG @MR1107
AND R38013               ; 塗布2左 調整上昇 END
AND R38109               ; 塗布2右 調整上昇 END
RES R38013               ; 塗布2左 調整上昇 END
CON
RES R38109               ; 塗布2右 調整上昇 END
CON
JMP @MR1108
STG @MR1108
ANB @MR001               ; TASK ERROR
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
RES R38410               ; During塗布2 受渡位置移動
CON
SET R38409               ; 塗布2 受渡位置移動 END
CON
ENDS
;<h1/>ﾜｰｸNG時_引込UT塗布側移動
STG R38500               ; 塗布2 引込塗布(NG)
RES R38501               ; 塗布2 引込塗布(NG)END
CON
SET R38502               ; During塗布2 引込塗布(NG)
CON
JMP @MR2000
STG @MR2000
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R38008               ; 塗布2左 調整下降
CON
SET R38104               ; 塗布2右 調整下降
CON
JMP @MR2001
STG @MR2001
AND R38009               ; 塗布2左 調整下降 END
AND R38105               ; 塗布2右 調整下降 END
RES R38009               ; 塗布2左 調整下降 END
CON
RES R38105               ; 塗布2右 調整下降 END
CON
JMP @MR2002
STG @MR2002
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
DW #52 EM1192            ; 塗布RB2 PROG選択
CON
SET R38100               ; 塗布2 MOVE
CON
SET R38000               ; 塗布2 引込塗布側
CON
JMP @MR2003
STG @MR2003
AND R38102               ; During 塗布2 MOVE
JMP @MR2004
STG @MR2004
ANB R38102               ; During 塗布2 MOVE
AND R38101               ; 塗布2 MOVE END
AND R38001               ; 塗布2 引込塗布側 END
MPS
ANB R38103               ; 塗布2 Alarm
RES R38001               ; 塗布2 引込塗布側 END
CON
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR2007
MPP
AND R38103               ; 塗布2 Alarm
RES R38001               ; 塗布2 引込塗布側 END
CON
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR2005
STG @MR2005
ANB R39004               ; ｴﾗｰ中
RES R38103               ; 塗布2 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #152 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task3 ERROR
CON
JMP @MR2006
STG @MR2006
MPS
AND MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task3 ERROR_End
ANL
RES @MR101               ; Task3 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR2002
STG @MR2007
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
JMP @MR2900
STG @MR2900
JMP @MR2901
STG @MR2901
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R38012               ; 塗布2左 調整上昇
CON
SET R38108               ; 塗布2右 調整上昇
CON
JMP @MR2902
STG @MR2902
AND R38013               ; 塗布2左 調整上昇 END
AND R38109               ; 塗布2右 調整上昇 END
RES R38013               ; 塗布2左 調整上昇 END
CON
RES R38109               ; 塗布2右 調整上昇 END
CON
JMP @MR2903
;
STG @MR2903
ANB @MR001               ; TASK ERROR
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
RES R38502               ; During塗布2 引込塗布(NG)
CON
SET R38501               ; 塗布2 引込塗布(NG)END
CON
ENDS
;<h1/>ﾜｰｸNG時_引込UT給材側移動
STG R38504               ; 塗布2 引込給材(NG)
RES R38505               ; 塗布2 引込給材(NG)END
CON
SET R38506               ; During塗布2 引込給材(NG)
CON
JMP @MR2008
STG @MR2008
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R38008               ; 塗布2左 調整下降
CON
SET R38104               ; 塗布2右 調整下降
CON
JMP @MR2009
STG @MR2009
AND R38009               ; 塗布2左 調整下降 END
AND R38105               ; 塗布2右 調整下降 END
RES R38009               ; 塗布2左 調整下降 END
CON
RES R38105               ; 塗布2右 調整下降 END
CON
JMP @MR2010
STG @MR2010
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
DW #50 EM1192            ; 塗布RB2 PROG選択
CON
SET R38100               ; 塗布2 MOVE
CON
SET R38004               ; 塗布2 引込給材側
CON
JMP @MR2011
STG @MR2011
AND R38102               ; During 塗布2 MOVE
JMP @MR2012
STG @MR2012
ANB R38102               ; During 塗布2 MOVE
AND R38101               ; 塗布2 MOVE END
AND R38005               ; 塗布2 引込給材側 END
MPS
ANB R38103               ; 塗布2 Alarm
RES R38005               ; 塗布2 引込給材側 END
CON
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR2015
MPP
AND R38103               ; 塗布2 Alarm
RES R38005               ; 塗布2 引込給材側 END
CON
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR2013
STG @MR2013
ANB R39004               ; ｴﾗｰ中
RES R38103               ; 塗布2 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #152 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task3 ERROR
CON
JMP @MR2014
STG @MR2014
MPS
AND MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task3 ERROR_End
ANL
RES @MR101               ; Task3 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR2010
STG @MR2015
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
JMP @MR2908
STG @MR2908
JMP @MR2909
STG @MR2909
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R38012               ; 塗布2左 調整上昇
CON
SET R38108               ; 塗布2右 調整上昇
CON
JMP @MR2910
STG @MR2910
AND R38013               ; 塗布2左 調整上昇 END
AND R38109               ; 塗布2右 調整上昇 END
RES R38013               ; 塗布2左 調整上昇 END
CON
RES R38109               ; 塗布2右 調整上昇 END
CON
JMP @MR2911
;
STG @MR2911
ANB @MR001               ; TASK ERROR
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
RES R38506               ; During塗布2 引込給材(NG)
CON
SET R38505               ; 塗布2 引込給材(NG)END
CON
ENDS
;<h1/>慣らし運転動作
STG R38508               ; 塗布2 慣らし運転動作
RES R38509               ; 塗布2 慣らし運転動作 END
CON
SET R38510               ; During塗布2 慣らし運転動作
CON
JMP @MR2200
STG @MR2200
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
SET R38500               ; 塗布2 引込塗布(NG)
CON
JMP @MR2201
STG @MR2201
AND R38501               ; 塗布2 引込塗布(NG)END
RES R38501               ; 塗布2 引込塗布(NG)END
CON
JMP @MR2202
STG @MR2202
SET R38008               ; 塗布2左 調整下降
CON
SET R38104               ; 塗布2右 調整下降
CON
JMP @MR2203
STG @MR2203
AND R38009               ; 塗布2左 調整下降 END
AND R38105               ; 塗布2右 調整下降 END
RES R38009               ; 塗布2左 調整下降 END
CON
RES R38105               ; 塗布2右 調整下降 END
CON
JMP @MR2204
STG @MR2204
DW #55 EM1192            ; 塗布RB2 PROG選択
CON
SET R38100               ; 塗布2 MOVE
CON
JMP @MR2205
STG @MR2205
AND R38101               ; 塗布2 MOVE END
MPS
ANB R38103               ; 塗布2 Alarm
@INC.D EM5316            ; 塗布UT2 ｴｰｼﾞﾝｸﾞ回数
CON
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR2208
MPP
AND R38103               ; 塗布2 Alarm
RES R38101               ; 塗布2 MOVE END
CON
JMP @MR2206
STG @MR2206
ANB R39004               ; ｴﾗｰ中
RES R38103               ; 塗布2 Alarm
CON
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #150 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task3 ERROR
CON
JMP @MR2207
STG @MR2207
MPS
AND MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task3 ERROR_End
ANL
RES @MR101               ; Task3 ERROR_End
CON
RES R39004               ; ｴﾗｰ中
CON
AND @MR105               ; SW1
JMP @MR2204
STG @MR2208
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ANB @MR001               ; TASK ERROR
ANL
MPS
ANB R4109                ; 塗布確認 SWBOX1(塗布2) ｽﾀｰﾄ
MPS
AND>=.D EM5316 EM5300    ; 塗布UT2 ｴｰｼﾞﾝｸﾞ回数  塗布UT2 ｴｰｼﾞﾝｸﾞｶｳﾝﾀ設定値
JMP @MR2209
MPP
AND<.D EM5316 EM5300     ; 塗布UT2 ｴｰｼﾞﾝｸﾞ回数  塗布UT2 ｴｰｼﾞﾝｸﾞｶｳﾝﾀ設定値
JMP @MR2204
MPP
AND R4109                ; 塗布確認 SWBOX1(塗布2) ｽﾀｰﾄ
JMP @MR2213
;慣らし後
;電源OFFして再度原点復帰
STG @MR2209
@RES MR1109              ; 塗布UT2 RB&ﾃﾞｨｽﾍﾟﾝｻｰ 電源 ON 
CON
TMR @4 #10
CON
AND @T4
JMP @MR2210
STG @MR2210
SET R38600               ; 塗布2 原点復帰
CON
JMP @MR2211
STG @MR2211
AND R38601               ; 塗布2 原点復帰 END
RES R38601               ; 塗布2 原点復帰 END
CON
JMP @MR2212
STG @MR2212
JMP @MR2213
;終了処理
STG @MR2213
SET R38500               ; 塗布2 引込塗布(NG)
CON
JMP @MR2214
STG @MR2214
AND R38501               ; 塗布2 引込塗布(NG)END
RES R38501               ; 塗布2 引込塗布(NG)END
CON
JMP @MR2215
STG @MR2215
DW.D #0 EM5316           ; 塗布UT2 ｴｰｼﾞﾝｸﾞ回数
CON
SET R38509               ; 塗布2 慣らし運転動作 END
CON
RES R38510               ; During塗布2 慣らし運転動作
CON
SET @MR2606              ; 慣らし運転完了記憶
CON
ENDS
;<h1/>ERROR
;MyTask Error Process Substance/エラー処理実体
STG @MR100               ; Task3 ERROR
ANB R39002               ; ERROR_DISP Busy
MPS
ZRES @MR105 @MR108       ; SW1  SW4
CON
LDA @DM9                 ; ReturnSW /ERROR_DISP
CON
TBCD
CON
STA @DM10
CON
DISN @DM10 @DM3 #4
MRD
DW #3 @DM0               ; TaskNo /ERROR_DISP
CON
BMOV @DM0 DM60000 #7     ; TaskNo /ERROR_DISP  TaskNo /ERROR_DISP
MPP
SET R39000               ; ERROR_DISP Start
CON
SET @MR102               ; Task3 ERROR Busy
CON
JMP @MR103
STG @MR103
AND R39002               ; ERROR_DISP Busy
AND= DM60008 @DM1        ; ReturnNo /ERROR_DISP  ErrorNo /ERROR_DISP
MPS
AND= DM60007 @DM6        ; ReturnSW /ERROR_DISP
SET @MR105               ; SW1
CON
JMP @MR104
MRD
AND= DM60007 @DM5        ; ReturnSW /ERROR_DISP
SET @MR106               ; SW2
CON
JMP @MR104
MRD
AND= DM60007 @DM4        ; ReturnSW /ERROR_DISP
SET @MR107               ; SW3
CON
JMP @MR104
MPP
AND= DM60007 @DM3        ; ReturnSW /ERROR_DISP
SET @MR108               ; SW4
CON
JMP @MR104
STG @MR104
ANB R39002               ; ERROR_DISP Busy
RES @MR102               ; Task3 ERROR Busy
CON
SET @MR101               ; Task3 ERROR_End
CON
ENDS
;ｲﾝﾀｰﾛｯｸ
LD MR3310                ; 塗布UT2 ﾜｰｸ引込 PP側 可能
AND MR3311               ; 塗布UT2 ﾜｰｸ引込 塗布側 可能
LDB B0553                ; RB1ﾊﾝﾄﾞ 要求応答 (T-REQ)
ANB B0563                ; RB1ﾊﾝﾄﾞ 要求応答 (T-REQ)
OR CR2002                ; 常時ON
ANL
OUT @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
;<h1/>HALT
LD @MR1900               ; Main1 HALT許可
MPS
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
TMR @2 #2
CON
AND @T2
ANB R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
@SET R42603              ; _Grp1_Task3_ﾎﾟｰｽﾞ許可
MPP
AND MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
TMR @3 #2
CON
AND @T3
@SET MR10006             ; 塗布2     ﾎﾟｰｽﾞ許可
LD R42603                ; _Grp1_Task3_ﾎﾟｰｽﾞ許可
OR MR10006               ; 塗布2     ﾎﾟｰｽﾞ許可
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
ORL
RES @MR1900              ; Main1 HALT許可
;<h1/>SubRoutines/ｻﾌﾞﾙｰﾁﾝ
;引込UT 塗布側移動
STG R38000               ; 塗布2 引込塗布側
SET R38002               ; During塗布2 引込塗布側
CON
JMP @MR2500
STG @MR2500
AND @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
RES MR7401               ; ﾜｰｸ引込UT2 給材側
CON
SET MR7400               ; ﾜｰｸ引込UT2 塗布側
CON
JMP @MR2501
STG @MR2501
MPS
LD MR4304                ; 塗UT2 引き込みUT 塗布側Err
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR4304               ; 塗UT2 引き込みUT 塗布側Err
ANB R4305                ; 塗布UT2 引き込みUT 給材側
AND R4304                ; 塗布UT2 引き込みUT 塗布側
ANL
RES R38002               ; During塗布2 引込塗布側
CON
SET R38001               ; 塗布2 引込塗布側 END
CON
ENDS
;引込UT 給材側移動
STG R38004               ; 塗布2 引込給材側
SET R38006               ; During塗布2 引込給材側
CON
JMP @MR2504
STG @MR2504
AND @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
SET MR7401               ; ﾜｰｸ引込UT2 給材側
CON
RES MR7400               ; ﾜｰｸ引込UT2 塗布側
CON
JMP @MR2505
STG @MR2505
MPS
LD MR4305                ; 塗UT2 引き込みUT 給材側Err
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR4305               ; 塗UT2 引き込みUT 給材側Err
AND R4305                ; 塗布UT2 引き込みUT 給材側
ANB R4304                ; 塗布UT2 引き込みUT 塗布側
ANL
RES R38006               ; During塗布2 引込給材側
CON
SET R38005               ; 塗布2 引込給材側 END
CON
ENDS
;ﾜｰｸ調整治具左 下降
STG R38008               ; 塗布2左 調整下降
SET R38010               ; During塗布2左 調整下降
CON
JMP @MR2508
STG @MR2508
SET MR7402               ; ﾜｰｸ調整治具L2 下降
CON
RES MR7403               ; ﾜｰｸ調整治具L2 上昇
CON
JMP @MR2509
STG @MR2509
MPS
LD MR4306                ; 塗UT2左ﾜｰｸ調整治具(前)下限Err
OR MR4308                ; 塗UT2 左ﾜｰｸ調整治具(奥) 下限Err
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR4306               ; 塗UT2左ﾜｰｸ調整治具(前)下限Err
ANB MR4308               ; 塗UT2 左ﾜｰｸ調整治具(奥) 下限Err
AND R4306                ; 塗布UT2 左側ﾜｰｸ調整治具(手前)下
ANB R4307                ; 塗布UT2 左側ﾜｰｸ調整治具(手前)上
AND R4308                ; 塗布UT2 左側ﾜｰｸ調整治具(奥) 下限
ANB R4309                ; 塗布UT2 左側ﾜｰｸ調整治具(奥) 上限
ANL
RES R38010               ; During塗布2左 調整下降
CON
SET R38009               ; 塗布2左 調整下降 END
CON
ENDS
;ﾜｰｸ調整治具左 上昇
STG R38012               ; 塗布2左 調整上昇
SET R38014               ; During塗布2左 調整上昇
CON
JMP @MR2512
STG @MR2512
RES MR7402               ; ﾜｰｸ調整治具L2 下降
CON
SET MR7403               ; ﾜｰｸ調整治具L2 上昇
CON
JMP @MR2513
STG @MR2513
MPS
LD MR4307                ; 塗UT2左ﾜｰｸ調整治具(前)上限Err
OR MR4309                ; 塗UT2 左ﾜｰｸ調整治具(奥) 上限Err
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR4307               ; 塗UT2左ﾜｰｸ調整治具(前)上限Err
ANB MR4309               ; 塗UT2 左ﾜｰｸ調整治具(奥) 上限Err
ANB R4306                ; 塗布UT2 左側ﾜｰｸ調整治具(手前)下
AND R4307                ; 塗布UT2 左側ﾜｰｸ調整治具(手前)上
ANB R4308                ; 塗布UT2 左側ﾜｰｸ調整治具(奥) 下限
AND R4309                ; 塗布UT2 左側ﾜｰｸ調整治具(奥) 上限
ANL
RES R38014               ; During塗布2左 調整上昇
CON
SET R38013               ; 塗布2左 調整上昇 END
CON
ENDS
;<h1/>RB動作
STG R38100               ; 塗布2 MOVE
SET R38102               ; During 塗布2 MOVE
CON
JMP @MR2600
STG @MR2600
MPS
ANB R1400                ; 塗布RB2 ｽﾀｰﾄﾚﾃﾞｨｰ
SET @MR2605              ; 初回
CON
SET MR1501               ; 塗布RB2 緊急停止
CON
SET MR1109               ; 塗布UT2 RB&ﾃﾞｨｽﾍﾟﾝｻｰ 電源 ON 
CON
JMP @MR2601
MPP
AND R1400                ; 塗布RB2 ｽﾀｰﾄﾚﾃﾞｨｰ
SET MR1501               ; 塗布RB2 緊急停止
CON
TMH @10 #3
CON
AND @T10
JMP @MR2601
STG @MR2601
MPS
AND R1400                ; 塗布RB2 ｽﾀｰﾄﾚﾃﾞｨｰ
SET MR1502               ; 塗布RB2 PROG 切替
CON
JMP @MR2602
MPP
ANB R1400                ; 塗布RB2 ｽﾀｰﾄﾚﾃﾞｨｰ
TMR @9 #50
CON
AND @T9
DW #160 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #6200 @DM2            ; SensorNo /ERROR_DISP
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
JMP @MR2614              ; RBｴﾗｰ
STG @MR2602
MPS
LD R1402                 ; 塗布RB2 PROG ACK
OR @MR2605               ; 初回
ANL
RES MR1502               ; 塗布RB2 PROG 切替
CON
JMP @MR2608
MPP
LDB R1402                ; 塗布RB2 PROG ACK
ANB @MR2605              ; 初回
ANL
TMH @11 #10
CON
AND @T11
RES MR1502               ; 塗布RB2 PROG 切替
CON
JMP @MR2603
STG @MR2603
AND R1400                ; 塗布RB2 ｽﾀｰﾄﾚﾃﾞｨｰ
AND R1401                ; 塗布RB2 停止中
AND @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
SET MR1500               ; 塗布RB2 ｽﾀｰﾄ
CON
JMP @MR2604
STG @MR2604
ANB R1400                ; 塗布RB2 ｽﾀｰﾄﾚﾃﾞｨｰ
DW #6202 @DM2            ; SensorNo /ERROR_DISP
CON
JMP @MR2614              ; RBｴﾗｰ
;
STG @MR2608
ANB R1402                ; 塗布RB2 PROG ACK
AND R1400                ; 塗布RB2 ｽﾀｰﾄﾚﾃﾞｨｰ
AND R1401                ; 塗布RB2 停止中
SET MR1500               ; 塗布RB2 ｽﾀｰﾄ
CON
JMP @MR2609
STG @MR2609
ANB R1400                ; 塗布RB2 ｽﾀｰﾄﾚﾃﾞｨｰ
RES MR1500               ; 塗布RB2 ｽﾀｰﾄ
CON
JMP @MR2610
STG @MR2610
MPS
LD R1404                 ; 塗布RB2 運転動作中
OR @MR2605               ; 初回
ANL
JMP @MR2611
MPP
LDB R1404                ; 塗布RB2 運転動作中
ANB @MR2605              ; 初回
ANL
TMR @12 #50
CON
AND @T12
DW #152 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #6204 @DM2            ; SensorNo /ERROR_DISP
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
JMP @MR2614              ; RBｴﾗｰ
STG @MR2611
MPS
LDB R1405                ; 塗布RB2 ｴﾗｰ発生中
ANB R1404                ; 塗布RB2 運転動作中
AND R1400                ; 塗布RB2 ｽﾀｰﾄﾚﾃﾞｨｰ
AND R1401                ; 塗布RB2 停止中
ANL
MPS
ANB @MR2605              ; 初回
RES R38102               ; During 塗布2 MOVE
CON
SET R38101               ; 塗布2 MOVE END
CON
ENDS
MPP
LD @MR2605               ; 初回
AND R1400                ; 塗布RB2 ｽﾀｰﾄﾚﾃﾞｨｰ
ANL
RES @MR2605              ; 初回
CON
JMP @MR2600
MPP
AND R1405                ; 塗布RB2 ｴﾗｰ発生中
MPS
ANB R1406                ; 塗布RB2 PROG 非常停止中
DW #152 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #6205 @DM2            ; SensorNo /ERROR_DISP
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
JMP @MR2614              ; RBｴﾗｰ
MPP
AND R1406                ; 塗布RB2 PROG 非常停止中
DW #152 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #6206 @DM2            ; SensorNo /ERROR_DISP
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
JMP @MR2614              ; RBｴﾗｰ
STG @MR2614              ; RBｴﾗｰ
RES MR1500               ; 塗布RB2 ｽﾀｰﾄ
CON
SET R38103               ; 塗布2 Alarm
CON
RES R38102               ; During 塗布2 MOVE
CON
SET R38101               ; 塗布2 MOVE END
CON
ENDS
;ﾜｰｸ調整治具右 下降
STG R38104               ; 塗布2右 調整下降
SET R38106               ; During塗布2右 調整下降
CON
JMP @MR2612
STG @MR2612
SET MR7404               ; ﾜｰｸ調整治具R2 下降
CON
RES MR7405               ; ﾜｰｸ調整治具R2 上昇
CON
JMP @MR2613
STG @MR2613
MPS
LD MR4306                ; 塗UT2左ﾜｰｸ調整治具(前)下限Err
OR MR4308                ; 塗UT2 左ﾜｰｸ調整治具(奥) 下限Err
OR MR4310                ; 塗UT2右ﾜｰｸ調整治具(前)下限Err
OR MR4312                ; 塗UT2 右ﾜｰｸ調整治具(奥) 下限Err
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR4310               ; 塗UT2右ﾜｰｸ調整治具(前)下限Err
ANB MR4312               ; 塗UT2 右ﾜｰｸ調整治具(奥) 下限Err
AND R4310                ; 塗布UT2 右側ﾜｰｸ調整治具(手前)下
ANB R4311                ; 塗布UT2 右側ﾜｰｸ調整治具(手前)上
AND R4312                ; 塗布UT2 右側ﾜｰｸ調整治具(奥) 下限
ANB R4313                ; 塗布UT2 右側ﾜｰｸ調整治具(奥) 上限
ANL
RES R38106               ; During塗布2右 調整下降
CON
SET R38105               ; 塗布2右 調整下降 END
CON
ENDS
;ﾜｰｸ調整治具右 上昇
STG R38108               ; 塗布2右 調整上昇
SET R38110               ; During塗布2右 調整上昇
CON
JMP @MR2700
STG @MR2700
RES MR7404               ; ﾜｰｸ調整治具R2 下降
CON
SET MR7405               ; ﾜｰｸ調整治具R2 上昇
CON
JMP @MR2701
STG @MR2701
MPS
LD MR4311                ; 塗UT2右ﾜｰｸ調整治具(前)上限Err
OR MR4313                ; 塗UT2 右ﾜｰｸ調整治具(奥) 上限Err
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB MR4311               ; 塗UT2右ﾜｰｸ調整治具(前)上限Err
ANB MR4313               ; 塗UT2 右ﾜｰｸ調整治具(奥) 上限Err
ANB R4310                ; 塗布UT2 右側ﾜｰｸ調整治具(手前)下
AND R4311                ; 塗布UT2 右側ﾜｰｸ調整治具(手前)上
ANB R4312                ; 塗布UT2 右側ﾜｰｸ調整治具(奥) 下限
AND R4313                ; 塗布UT2 右側ﾜｰｸ調整治具(奥) 上限
ANL
RES R38110               ; During塗布2右 調整上昇
CON
SET R38109               ; 塗布2右 調整上昇 END
CON
ENDS
;STEP信号
LD CR2002                ; 常時ON
LD= EM5220 #1            ; 塗布UT2 0=ONLINE  1=OFFLINE
LD<> @MR200 #0           ; OFFLINE_START
ANB @MR200               ; OFFLINE_START
OR R38402                ; During塗布2 捨て出し
ANL
LD= EM5220 #0            ; 塗布UT2 0=ONLINE  1=OFFLINE
AND R38402               ; During塗布2 捨て出し
ORL
ANL
LD R38310                ; During塗布2 針位置
LD R1408                 ; 塗布RB2 STEP SW 要求
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORB R1408                ; 塗布RB2 STEP SW 要求
ANL
ORB R38310               ; During塗布2 針位置
ANL
OUT MR7109               ; 塗布確認 SWBOX2(塗布2) ｽﾀｰﾄﾗﾝﾌﾟ
;<h1/>動作停止中管理
LD=.D R38000 #0          ; 塗布2 引込塗布側
LD=.D R38200 #2          ; 塗布2 受取位置移動
OR=.D R38200 #0          ; 塗布2 受取位置移動
ANL
AND=.D R38400 #0         ; 塗布2 捨て出し
LD= R38600 #0            ; 塗布2 原点復帰
ANB @MR602               ; 自動捨て出し中
LD= @MR702 #0            ; 除材警告中
OR @MR701                ; OFFLINE除材警告
ANL
OR R46101                ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
ANL
OUT MR10007              ; 塗布2     停止中
;<h1/>ONLINE ⇔ OFFLINE
LD CR2002                ; 常時ON
MPS
ANB R20300               ; 塗布2   ONLINE
MPS
ANP R20301               ; 塗布2TP ONLINE要求
MPS
AND @MR2606              ; 慣らし運転完了記憶
MPS
LD R4101                 ; ｻﾌﾞｶﾊﾞｰ2(塗布2) 閉中
AND @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
AND MR10007              ; 塗布2     停止中
ANL
SET R20306               ; 塗布2TP ON/OFF切替中
CON
SET @MR500
MPP
LDB R4101                ; ｻﾌﾞｶﾊﾞｰ2(塗布2) 閉中
ORB @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
ORB MR10007              ; 塗布2     停止中
ANL
@MOV #10 EM5178          ; 塗布UT2 切替ﾍﾟｰｼﾞNo.
MPP
ANB @MR2606              ; 慣らし運転完了記憶
SET @MR513               ; 移行不可
MPP
AND= EM5220 #0           ; 塗布UT2 0=ONLINE  1=OFFLINE
RES R20306               ; 塗布2TP ON/OFF切替中
CON
SET R20300               ; 塗布2   ONLINE
CON
RES R20308               ; 塗布2  OFFLINE
MPP
ANB R20308               ; 塗布2  OFFLINE
MPS
ANP R20309               ; 塗布2TPOFFLINE要求
MPS
LD R4101                 ; ｻﾌﾞｶﾊﾞｰ2(塗布2) 閉中
AND @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
AND MR10007              ; 塗布2     停止中
ANB R4300                ; 塗布UT2 左側ﾜｰｸ有無確認
ANB R4301                ; 塗布UT2 右側ﾜｰｸ有無確認
ANL
SET R20306               ; 塗布2TP ON/OFF切替中
CON
SET @MR508
MPP
LDB R4101                ; ｻﾌﾞｶﾊﾞｰ2(塗布2) 閉中
OR R4300                 ; 塗布UT2 左側ﾜｰｸ有無確認
OR R4301                 ; 塗布UT2 右側ﾜｰｸ有無確認
ORB @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
ORB MR10007              ; 塗布2     停止中
ANL
@MOV #100 EM5178         ; 塗布UT2 切替ﾍﾟｰｼﾞNo.
MPP
AND= EM5220 #1           ; 塗布UT2 0=ONLINE  1=OFFLINE
RES R20306               ; 塗布2TP ON/OFF切替中
CON
RES R20300               ; 塗布2   ONLINE
CON
SET R20308               ; 塗布2  OFFLINE
;移行不可
STG @MR513               ; 移行不可
@MOV #10 EM5178          ; 塗布UT2 切替ﾍﾟｰｼﾞNo.
SET @MR2607              ; 慣らし運転要求Flg
CON
JMP @MR514
STG @MR514
ANP R20414               ; 塗布2TP   Bz.OFF
RES @MR2607              ; 慣らし運転要求Flg
CON
ENDS
;ONLINE切替
STG @MR500
MPS
LDB R4300                ; 塗布UT2 左側ﾜｰｸ有無確認
ANB R4301                ; 塗布UT2 右側ﾜｰｸ有無確認
AND MR10007              ; 塗布2     停止中
ANL
SET R38200               ; 塗布2 受取位置移動
CON
JMP @MR505
MPP
LD R4300                 ; 塗布UT2 左側ﾜｰｸ有無確認
OR R4301                 ; 塗布UT2 右側ﾜｰｸ有無確認
ANL
SET R20305               ; 塗布2TP ONLINE選択
CON
JMP @MR501
STG @MR501
MPS
AND R20302               ; 塗布2TP ONLINE塗布
RES R20305               ; 塗布2TP ONLINE選択
CON
RES LR10105              ; 塗布機2塗布完了記憶
CON
JMP @MR502
MRD
AND R20303               ; 塗布2TP ONLINE除材
RES R20305               ; 塗布2TP ONLINE選択
CON
SET LR10105              ; 塗布機2塗布完了記憶
CON
JMP @MR504
MPP
AND R20304               ; 塗布2TP ONLINE取消
MPS
RES R20306               ; 塗布2TP ON/OFF切替中
CON
RES R20305               ; 塗布2TP ONLINE選択
CON
ENDS
MPP
@MOV #10 EM5178          ; 塗布UT2 切替ﾍﾟｰｼﾞNo.
STG @MR502
AND MR10007              ; 塗布2     停止中
SET R38208               ; 塗布2 塗布動作
CON
JMP @MR503
STG @MR503
AND R38209               ; 塗布2 塗布動作 END
RES R38209               ; 塗布2 塗布動作 END
CON
JMP @MR504
;
STG @MR504
AND MR10007              ; 塗布2     停止中
SET R38408               ; 塗布2 受渡位置移動
CON
JMP @MR505
STG @MR505
LD R38202                ; During塗布2 受取位置移動
OR R38410                ; During塗布2 受渡位置移動
ANL
JMP @MR506
STG @MR506
LDB R38202               ; During塗布2 受取位置移動
ORB R38410               ; During塗布2 受渡位置移動
ANL
LD R38201                ; 塗布2 受取位置移動 END
OR R38409                ; 塗布2 受渡位置移動 END
ANL
RES R38201               ; 塗布2 受取位置移動 END
CON
RES R38409               ; 塗布2 受渡位置移動 END
CON
DW #0 EM5220             ; 塗布UT2 0=ONLINE  1=OFFLINE
CON
ENDS
;OFFLINE切替
STG @MR508
LDB R4300                ; 塗布UT2 左側ﾜｰｸ有無確認
ANB R4301                ; 塗布UT2 右側ﾜｰｸ有無確認
OR R46103                ; _停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ANL
AND MR10007              ; 塗布2     停止中
SET R38500               ; 塗布2 引込塗布(NG)
CON
JMP @MR509
STG @MR509
AND R38502               ; During塗布2 引込塗布(NG)
JMP @MR510
STG @MR510
ANB R38502               ; During塗布2 引込塗布(NG)
AND R38501               ; 塗布2 引込塗布(NG)END
RES R38501               ; 塗布2 引込塗布(NG)END
CON
JMP @MR511
STG @MR511
JMP @MR512
STG @MR512
JMP @MR515
STG @MR515
DW #1 EM5220             ; 塗布UT2 0=ONLINE  1=OFFLINE
CON
ENDS
;<h1/>ﾀｲﾏ・ｶｳﾝﾀ管理
;
LD CR2002                ; 常時ON
MPS
LD>= EM5170 #720         ; 塗布UT2 表示中ﾍﾟｰｼﾞNo.
AND<= EM5170 #729        ; 塗布UT2 表示中ﾍﾟｰｼﾞNo.
ANL
BMOV.D EM5230 EM30030 #5 ; 塗布UT2 捨て出しﾀｲﾏ入力値  塗布UT2 捨て出しﾀｲﾏ保存値
INV
BMOV.D EM30030 EM5230 #5 ; 塗布UT2 捨て出しﾀｲﾏ保存値  塗布UT2 捨て出しﾀｲﾏ入力値
MRD
LD>= EM5170 #730         ; 塗布UT2 表示中ﾍﾟｰｼﾞNo.
AND<= EM5170 #739        ; 塗布UT2 表示中ﾍﾟｰｼﾞNo.
ANL
BMOV.D EM30050 EM5250 #5 ; 塗布UT2 針拭きｶｳﾝﾀ保存値  塗布UT2 針拭きｶｳﾝﾀ入力値
BMOV.D EM30142 EM5260 #1 ; 塗布UT2 ｴｰｼﾞﾝｸﾞｶｳﾝﾀ保存値  塗布UT2 ｴｰｼﾞﾝｸﾞ回数入力値
INV
BMOV.D EM5250 EM30050 #5 ; 塗布UT2 針拭きｶｳﾝﾀ入力値  塗布UT2 針拭きｶｳﾝﾀ保存値
BMOV.D EM5260 EM30142 #1 ; 塗布UT2 ｴｰｼﾞﾝｸﾞ回数入力値  塗布UT2 ｴｰｼﾞﾝｸﾞｶｳﾝﾀ保存値
MRD
BMOV.D EM30030 EM5270 #5 ; 塗布UT2 捨て出しﾀｲﾏ保存値  塗布UT2 捨て出し時間設定値
MRD
BMOV.D EM30050 EM5290 #5 ; 塗布UT2 針拭きｶｳﾝﾀ保存値  塗布UT2 針拭きｶｳﾝﾀ設定値
MPP
BMOV.D EM30142 EM5300 #1 ; 塗布UT2 ｴｰｼﾞﾝｸﾞｶｳﾝﾀ保存値  塗布UT2 ｴｰｼﾞﾝｸﾞｶｳﾝﾀ設定値
;捨て出しﾀｲﾏ
LD CR2002                ; 常時ON
LDB B0553                ; RB1ﾊﾝﾄﾞ 要求応答 (T-REQ)
ORB B0563                ; RB1ﾊﾝﾄﾞ 要求応答 (T-REQ)
ANL
ANB R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46114               ; _装置原点復帰待ち
LDB R38210               ; During塗布2 塗布動作
ANB R38302               ; During塗布2 重量測定
ANB R38402               ; During塗布2 捨て出し
ORB MR1512               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ1 有効信号
ORB MR1513               ; 塗布RB2 ﾃﾞｨｽﾍﾟﾝｻｰ2 有効信号
ANL
MPS
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
@INC.D EM5310            ; 塗布UT2 捨て出し時間経過時間
MPP
INV
DW.D #0 EM5310           ; 塗布UT2 捨て出し時間経過時間
;自動捨て出し
;DM2000のbitで動作有効無効
LDB R20109               ; 捨て出し台確認
AND<> EM5170 #400        ; 塗布UT2 表示中ﾍﾟｰｼﾞNo.
AND @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
AND MR10007              ; 塗布2     停止中
AND R4101                ; ｻﾌﾞｶﾊﾞｰ2(塗布2) 閉中
OUT @MR601               ; 自動捨て出し動作可能
LD>=.D EM5310 EM5270     ; 塗布UT2 捨て出し時間経過時間  塗布UT2 捨て出し時間設定値
ANB DM2000.5             ; 塗布2自動捨出有効(ON=無効)
AND @MR601               ; 自動捨て出し動作可能
ANB @MR602               ; 自動捨て出し中
SET @MR602               ; 自動捨て出し中
CON
SET @MR600               ; 自動捨て出し実行
STG @MR600               ; 自動捨て出し実行
SET R20405               ; 塗布2TP   自動捨出中
CON
@DW #3 EM5200            ; 塗布UT2 ﾊﾞｯｸﾗｲﾄｶﾗｰ
CON
JMP @MR604
STG @MR604
SET R38400               ; 塗布2 捨て出し
CON
JMP @MR605
STG @MR605
AND R38402               ; During塗布2 捨て出し
JMP @MR606
STG @MR606
ANB R38402               ; During塗布2 捨て出し
AND R38401               ; 塗布2 捨て出し END
RES R20405               ; 塗布2TP   自動捨出中
CON
@DW #0 EM5200            ; 塗布UT2 ﾊﾞｯｸﾗｲﾄｶﾗｰ
CON
DW #0 EM5310             ; 塗布UT2 捨て出し時間経過時間
CON
RES R38401               ; 塗布2 捨て出し END
CON
RES @MR602               ; 自動捨て出し中
CON
ENDS
;ﾜｰｸ放置ﾀｲﾏ
LD CR2002                ; 常時ON
MPS
LD R4300                 ; 塗布UT2 左側ﾜｰｸ有無確認
OR R4301                 ; 塗布UT2 右側ﾜｰｸ有無確認
AND LR10105              ; 塗布機2塗布完了記憶
ANL
MPS
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
@INC.D EM5312
MPP
INV
ANB @MR702               ; 除材警告中
DW.D #0 EM5312
MPP
AND B0553                ; RB1ﾊﾝﾄﾞ 要求応答 (T-REQ)
DW.D #0 EM5312
LD LR10105               ; 塗布機2塗布完了記憶
ANB R4300                ; 塗布UT2 左側ﾜｰｸ有無確認
ANB R4301                ; 塗布UT2 右側ﾜｰｸ有無確認
RES LR10105              ; 塗布機2塗布完了記憶
;ONLINE時
;除材警告
LD> EM5272 #0
AND>=.D EM5312 EM5272
LDB @MR702               ; 除材警告中
OR= EM5220 #0            ; 塗布UT2 0=ONLINE  1=OFFLINE
ANL
LD R46101                ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
ANP R38610               ; 塗布2 除材要求FLG
ORL
AND @MR000               ; 塗布受渡し部ｲﾝﾀｰﾛｯｸ
AND MR10007              ; 塗布2     停止中
AND R4101                ; ｻﾌﾞｶﾊﾞｰ2(塗布2) 閉中
MPS
AND= EM5220 #0           ; 塗布UT2 0=ONLINE  1=OFFLINE
SET @MR702               ; 除材警告中
CON
SET @MR700               ; ONLINE除材警告
CON
RES @MR701               ; OFFLINE除材警告
MPP
AND= EM5220 #1           ; 塗布UT2 0=ONLINE  1=OFFLINE
SET @MR702               ; 除材警告中
CON
RES @MR700               ; ONLINE除材警告
CON
SET @MR701               ; OFFLINE除材警告
STG @MR700               ; ONLINE除材警告
SET R38608               ; 塗布2 除材要求
CON
ANB B0550                ; 塗布U2除材要求 (L-REQ)
ANB LR10105              ; 塗布機2塗布完了記憶
SET R38500               ; 塗布2 引込塗布(NG)
CON
JMP @MR703
STG @MR703
AND R38502               ; During塗布2 引込塗布(NG)
JMP @MR704
STG @MR704
ANB R38502               ; During塗布2 引込塗布(NG)
AND R38501               ; 塗布2 引込塗布(NG)END
RES R38501               ; 塗布2 引込塗布(NG)END
CON
JMP @MR705
STG @MR705
SET @MR1900              ; Main1 HALT許可
CON
ANB R39004               ; ｴﾗｰ中
SET R39004               ; ｴﾗｰ中
CON
DW #6000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #146 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task3 ERROR
CON
JMP @MR706
STG @MR706
JMP @MR707
STG @MR707
MPS
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR10004               ; 塗布2     ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR10004              ; 塗布2     ﾎﾟｰｽﾞ要求
AND @MR101               ; Task3 ERROR_End
ANL
MPS
AND @MR105               ; SW1
RES R39004               ; ｴﾗｰ中
CON
RES @MR101               ; Task3 ERROR_End
CON
JMP @MR708
MPP
AND @MR106               ; SW2
JMP @MR709
STG @MR708
MPS
LDB R4300                ; 塗布UT2 左側ﾜｰｸ有無確認
ANB R4301                ; 塗布UT2 右側ﾜｰｸ有無確認
ANL
RES LR10105              ; 塗布機2塗布完了記憶
CON
JMP @MR709
MPP
LD R4300                 ; 塗布UT2 左側ﾜｰｸ有無確認
OR R4301                 ; 塗布UT2 右側ﾜｰｸ有無確認
ANL
JMP @MR705
STG @MR709
MPS
AND= EM5220 #0           ; 塗布UT2 0=ONLINE  1=OFFLINE
SET R38504               ; 塗布2 引込給材(NG)
CON
JMP @MR710
MPP
AND= EM5220 #1           ; 塗布UT2 0=ONLINE  1=OFFLINE
JMP @MR712
STG @MR710
AND R38506               ; During塗布2 引込給材(NG)
JMP @MR711
STG @MR711
ANB R38506               ; During塗布2 引込給材(NG)
AND R38505               ; 塗布2 引込給材(NG)END
RES R38505               ; 塗布2 引込給材(NG)END
CON
JMP @MR712
STG @MR712
RES R38608               ; 塗布2 除材要求
CON
RES R38610               ; 塗布2 除材要求FLG
CON
DW #0 DM34200            ; 塗布UT2 塗布判別
CON
DW.D #0 EM5312
CON
RES @MR702               ; 除材警告中
CON
ENDS
;ｶｳﾝﾀ
LD CR2002                ; 常時ON
MPS
LDB DM2000.5             ; 塗布2自動捨出有効(ON=無効)
AND>=.D EM5310 EM5270    ; 塗布UT2 捨て出し時間経過時間  塗布UT2 捨て出し時間設定値
ANB R20405               ; 塗布2TP   自動捨出中
ANL
OUT R20401               ; 塗布2TP   捨出要求
MRD
LD @MR701                ; OFFLINE除材警告
LD LR10105               ; 塗布機2塗布完了記憶
AND R20407               ; 塗布2TP   ﾒﾝﾃﾌﾞｻﾞｰON
ORL
ANL
MPS
OUT R20402               ; 塗布2TP   除材要求
MPP
LDB R4101                ; ｻﾌﾞｶﾊﾞｰ2(塗布2) 閉中
ANB R4300                ; 塗布UT2 左側ﾜｰｸ有無確認
ANB R4301                ; 塗布UT2 右側ﾜｰｸ有無確認
ANL
RES @MR701               ; OFFLINE除材警告
CON
RES @MR702               ; 除材警告中
CON
RES LR10105              ; 塗布機2塗布完了記憶
CON
DW.D #0 EM5312
MRD
AND>=.D EM5330 EM5290    ; 塗布UT2 針拭きｶｳﾝﾀ現在値  塗布UT2 針拭きｶｳﾝﾀ設定値
OUT R20403               ; 塗布2TP   針拭き要求
MRD
AND>=.D EM5332 EM5292    ; 塗布UT2 重量測定ｶｳﾝﾀ現在値  塗布UT2 重量測定ｶｳﾝﾀ設定値
OUT R20404               ; 塗布2TP   重量要求
MRD
AND>= EM5314 #20         ; 塗布UT2 捨て出し回数
MPS
OUT R20409               ; 塗布2TP 捨て出し台確認
MPP
ANB R4101                ; ｻﾌﾞｶﾊﾞｰ2(塗布2) 閉中
DW.D #0 EM5314           ; 塗布UT2 捨て出し回数
MPP
AND @MR2607              ; 慣らし運転要求Flg
OUT R20406               ; 塗布2TP　 慣らし運転要求
LD CR2008                ; 運転開始時1ｽｷｬﾝON
DW.D #0 EM5314           ; 塗布UT2 捨て出し回数
;ﾒﾝﾃﾅﾝｽ要求
LDB R20401               ; 塗布2TP   捨出要求
ANB R20402               ; 塗布2TP   除材要求
ANB R20403               ; 塗布2TP   針拭き要求
ANB R20404               ; 塗布2TP   重量要求
ANB R20406               ; 塗布2TP　 慣らし運転要求
DW #0 EM5224             ; 塗布UT2 ﾒﾝﾃﾅﾝｽNo
LD R20401                ; 塗布2TP   捨出要求
DW #1 EM5224             ; 塗布UT2 ﾒﾝﾃﾅﾝｽNo
LD R20402                ; 塗布2TP   除材要求
DW #2 EM5224             ; 塗布UT2 ﾒﾝﾃﾅﾝｽNo
LD R20403                ; 塗布2TP   針拭き要求
DW #3 EM5224             ; 塗布UT2 ﾒﾝﾃﾅﾝｽNo
LD R20404                ; 塗布2TP   重量要求
DW #4 EM5224             ; 塗布UT2 ﾒﾝﾃﾅﾝｽNo
LD R20406                ; 塗布2TP　 慣らし運転要求
DW #6 EM5224             ; 塗布UT2 ﾒﾝﾃﾅﾝｽNo
LD R20409                ; 塗布2TP 捨て出し台確認
DW #9 EM5224             ; 塗布UT2 ﾒﾝﾃﾅﾝｽNo
LDB R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
AND<> EM5224 #0          ; 塗布UT2 ﾒﾝﾃﾅﾝｽNo
OUT R20400               ; 塗布2TP   ﾒﾝﾃ要求
LD R20400                ; 塗布2TP   ﾒﾝﾃ要求
MPS
ANB R20407               ; 塗布2TP   ﾒﾝﾃﾌﾞｻﾞｰON
TMR @1 #1800
MPP
LDP R20400               ; 塗布2TP   ﾒﾝﾃ要求
LD MR10007               ; 塗布2     停止中
AND @T1
ORL
ANL
@DW #8 EM5200            ; 塗布UT2 ﾊﾞｯｸﾗｲﾄｶﾗｰ
CON
SET R20407               ; 塗布2TP   ﾒﾝﾃﾌﾞｻﾞｰON
LD R20407                ; 塗布2TP   ﾒﾝﾃﾌﾞｻﾞｰON
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ANB R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46114               ; _装置原点復帰待ち
AND<> EM5170 #11         ; 塗布UT2 表示中ﾍﾟｰｼﾞNo.
AND<> EM5170 #12         ; 塗布UT2 表示中ﾍﾟｰｼﾞNo.
LDB R20407               ; 塗布2TP   ﾒﾝﾃﾌﾞｻﾞｰON
AND @MR015
ORL
OUT EM5184.1
LD R20407                ; 塗布2TP   ﾒﾝﾃﾌﾞｻﾞｰON
LDP R20414               ; 塗布2TP   Bz.OFF
ORF R20400               ; 塗布2TP   ﾒﾝﾃ要求
ANL
MPS
@DW #0 EM5200            ; 塗布UT2 ﾊﾞｯｸﾗｲﾄｶﾗｰ
CON
RES R20407               ; 塗布2TP   ﾒﾝﾃﾌﾞｻﾞｰON
MRD
AND R20403               ; 塗布2TP   針拭き要求
DW.D #0 EM5330           ; 塗布UT2 針拭きｶｳﾝﾀ現在値
MPP
AND R20404               ; 塗布2TP   重量要求
DW.D #0 EM5332           ; 塗布UT2 重量測定ｶｳﾝﾀ現在値
END
ENDH
