DEVICE:53
;MODULE:UV塗布
;MODULE_TYPE:0
;<h1/>■UV塗布部_UV塗布量管理■
LD CR2002                ; 常時ON
AND R40115               ; UV塗布部_塗布残量ﾘｾｯﾄPB(TP)
TMR @0 #15               ; UV塗布部_UV塗布残量ﾘｾｯﾄ
CON
AND @T0                  ; UV塗布部_UV塗布残量ﾘｾｯﾄ
DW #1000 @DM0            ; UV塗布部_塗布回数設定値
LD MR2012                ; UVﾃﾞｨｽﾍﾟﾝｻｰ1/塗布ｵﾝ
AND MR2013               ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ2/ｵﾝ
AND MR2014               ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ3/ｵﾝ
@DEC @DM0                ; UV塗布部_塗布回数設定値
LD CR2002                ; 常時ON
LDA @DM0                 ; UV塗布部_塗布回数設定値
CON
STA DM150                ; UV塗布部_塗布量累計
LD CR2002                ; 常時ON
MPS
AND> DM104 DM150         ; UV塗布部_塗布残量警告設定値  UV塗布部_塗布量累計
MPS
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT R40315               ; UV塗布部_UV塗布量ﾘｾｯﾄPB(TP)
MPP
ANB MR011                ; UV塗布部_UV塗布残量無
SET MR010                ; UV塗布部_UV塗布残量警告
MRD
AND= @DM0 #0             ; UV塗布部_塗布回数設定値
RES MR010                ; UV塗布部_UV塗布残量警告
CON
SET MR011                ; UV塗布部_UV塗布残量無
MPP
AND @T0                  ; UV塗布部_UV塗布残量ﾘｾｯﾄ
RES MR010                ; UV塗布部_UV塗布残量警告
CON
RES MR011                ; UV塗布部_UV塗布残量無
CON
LDA DM102                ; UV塗布部_塗布残量ｶｳﾝﾀ設定値
CON
STA DM152                ; UV塗布部_塗布量上限値
;<h1/>■UV塗布部_捨て打ち■
LDB R50014               ; 装置動作中
ANB @MR000               ; UV塗布部_捨て打ち開始
AND R51011               ; UV塗布部_原点
AND R40314               ; UV塗布部_捨て打ち有PL(TP)
MPS
TMR @10 DM0              ; UV塗布部_捨て打ち待ち時間 
MPP
ANP @T10                 ; UV塗布部_捨て打ち待ち時間 
DW #0 DM101              ; UV塗布部_捨て打ち回数
LD @T10                  ; UV塗布部_捨て打ち待ち時間 
AND= DM101 #0            ; UV塗布部_捨て打ち回数
AND R48809               ; UV塗布Z軸_P3:受皿位置PL(TP)
AND R4708                ; UV塗布部_受皿/後退端
AND< DM101 DM100         ; UV塗布部_捨て打ち回数  UV塗布部_捨て打ち回数設定値
SET @MR000               ; UV塗布部_捨て打ち開始
CON
SET @MR001               ; @MR001
STG @MR001               ; @MR001
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50811               ; UV塗布部_異常
@SET MR2012              ; UVﾃﾞｨｽﾍﾟﾝｻｰ1/塗布ｵﾝ
CON
@SET MR2013              ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ2/ｵﾝ
CON
@SET MR2014              ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ3/ｵﾝ
CON
@INC DM101               ; UV塗布部_捨て打ち回数
CON
JMP @MR002               ; @MR002
STG @MR002               ; @MR002
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50811               ; UV塗布部_異常
AND R1012                ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ1/完了
AND R1013                ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ2/完了
AND R1014                ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ3/完了
RES MR2012               ; UVﾃﾞｨｽﾍﾟﾝｻｰ1/塗布ｵﾝ
CON
RES MR2013               ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ2/ｵﾝ
CON
RES MR2014               ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ3/ｵﾝ
CON
JMP @MR003               ; @MR003
STG @MR003               ; @MR003
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50811               ; UV塗布部_異常
RES MR2012               ; UVﾃﾞｨｽﾍﾟﾝｻｰ1/塗布ｵﾝ
CON
RES MR2013               ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ2/ｵﾝ
CON
RES MR2014               ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ3/ｵﾝ
CON
JMP @MR004               ; @MR004
STG @MR004               ; @MR004
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50811               ; UV塗布部_異常
TMR @11 DM2              ; UV塗布部_捨て打ち間隔ﾀｲﾏｰ
CON
AND @T11                 ; UV塗布部_捨て打ち間隔ﾀｲﾏｰ
MPS
AND= DM101 DM100         ; UV塗布部_捨て打ち回数  UV塗布部_捨て打ち回数設定値
RES @MR000               ; UV塗布部_捨て打ち開始
CON
RES @MR001               ; @MR001
CON
ENDS
MPP
AND< DM101 DM100         ; UV塗布部_捨て打ち回数  UV塗布部_捨て打ち回数設定値
JMP @MR001               ; @MR001
;<h1/>■UV塗布部_条件出し用■
LD CR2003                ; 常時OFF
ANB R50900               ; 非常停止異常
ANB R50810               ; UV塗布移載部_異常
ANB R50811               ; UV塗布部_異常
ANB R50105               ; 原点復帰開始
ANB R50205               ; 自動開始
ANB R50305               ; 手動ｽﾃｯﾌﾟ開始
MC
LD CR2002                ; 常時ON
AND R51011               ; UV塗布部_原点
AND R48910               ; UV移載Y軸_P9:排出位置PL(TP)
ANP R42615               ; UV塗布部_1ｻｲｸﾙ起動PB(TP)
SET R44615               ; UV塗布部_1ｻｲｸﾙ起動PL(TP)
CON
SET @MR100               ; UV塗布部_1ｻｲｸﾙ起動
STG @MR100               ; UV塗布部_1ｻｲｸﾙ起動
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50810               ; UV塗布移載部_異常
SET MR6308               ; UV移載部_Y軸位置決ﾁｬｯｸ/閉
CON
AND R4502                ; UV移載部_Y軸位置決/閉端
TMR @101 #3              ; UV移載部_Y軸位置決ﾁｬｯｸ/閉確認
CON
AND @T101                ; UV移載部_Y軸位置決ﾁｬｯｸ/閉確認
JMP @MR101               ; @MR101
STG @MR101               ; @MR101
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50810               ; UV塗布移載部_異常
SET MR6310               ; UV移載部_X軸位置決ﾁｬｯｸ/閉
CON
AND R4500                ; UV移載部_X軸位置決/閉端
JMP @MR102               ; @MR102
STG @MR102               ; @MR102
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50810               ; UV塗布移載部_異常
RES MR6910               ; UV移載部_ﾜｰｸ吸着破壊/ｵﾝ
CON
SET MR6911               ; UV移載部_ﾜｰｸ吸着/ｵﾝ
CON
TMR @103 #5              ; UV塗布移載部_ﾜｰｸ吸着確認
CON
AND @T103                ; UV塗布移載部_ﾜｰｸ吸着確認
AND MR12803              ; UV塗布移載Y軸_移動可
SET R51710               ; UV塗布部_一時停止不可
CON
JMP @MR103               ; @MR103
STG @MR103               ; @MR103
MPS
AND MR12902              ; UV塗布移載Y軸_移動完了
JMP @MR104               ; @MR104
MRD
MCALL RB移動 #9 #2 #5 MR12911 MR12902;UV塗布移載Y軸_位置決め異常  UV塗布移載Y軸_移動完了
MPP
TMR @104 #100            ; UV塗布移載Y軸_動作確認
CON
AND @T104                ; UV塗布移載Y軸_動作確認
ANB MR12902              ; UV塗布移載Y軸_移動完了
RES R51710               ; UV塗布部_一時停止不可
CON
SET MR12911              ; UV塗布移載Y軸_位置決め異常
STG @MR104               ; @MR104
RES MR12902              ; UV塗布移載Y軸_移動完了
CON
ANB MR12902              ; UV塗布移載Y軸_移動完了
AND R48909               ; UV移載Y軸_P5:UV塗布位置PL(TP)
RES R51710               ; UV塗布部_一時停止不可
CON
JMP @MR105               ; @MR105
STG @MR105               ; @MR105
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50810               ; UV塗布移載部_異常
ANB R50811               ; UV塗布部_異常
AND R48909               ; UV移載Y軸_P5:UV塗布位置PL(TP)
SET MR6506               ; UV塗布部_受皿/前進
CON
AND R4709                ; UV塗布部_受皿/前進端
TMR @106 #3              ; UV塗布移載Y軸_P5:塗布位置確認
CON
AND @T106                ; UV塗布移載Y軸_P5:塗布位置確認
AND MR12603              ; UV塗布Z軸_移動可
SET R51710               ; UV塗布部_一時停止不可
CON
JMP @MR106               ; @MR106
STG @MR106               ; @MR106
MPS
AND MR12702              ; UV塗布Z軸_移動完了
JMP @MR107               ; @MR107
MRD
MCALL RB移動 #9 #1 #11 MR12711 MR12702;UV塗布Z軸_位置決め異常  UV塗布Z軸_移動完了
MPP
TMR @107 #100            ; UV塗布Z軸_動作確認
CON
AND @T107                ; UV塗布Z軸_動作確認
ANB MR12702              ; UV塗布Z軸_移動完了
RES R51710               ; UV塗布部_一時停止不可
CON
SET MR12711              ; UV塗布Z軸_位置決め異常
STG @MR107               ; @MR107
RES MR12702              ; UV塗布Z軸_移動完了
CON
ANB MR12702              ; UV塗布Z軸_移動完了
AND R48813               ; UV塗布部_P11:塗布位置PL(TP)
TMR @108 #3              ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ/ｵﾝ遅延
CON
AND @T108                ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ/ｵﾝ遅延
JMP @MR108               ; @MR108
STG @MR108               ; @MR108
SET MR2012               ; UVﾃﾞｨｽﾍﾟﾝｻｰ1/塗布ｵﾝ
CON
SET MR2013               ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ2/ｵﾝ
CON
SET MR2014               ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ3/ｵﾝ
CON
TMR @109 #3              ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ/ｵﾝ確認遅延
CON
AND @T109                ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ/ｵﾝ確認遅延
AND MR12603              ; UV塗布Z軸_移動可
SET R51710               ; UV塗布部_一時停止不可
CON
JMP @MR109               ; @MR109
STG @MR109               ; @MR109
MPS
AND MR12702              ; UV塗布Z軸_移動完了
JMP @MR110               ; @MR110
MRD
MCALL RB移動 #9 #1 #9 MR12711 MR12702;UV塗布Z軸_位置決め異常  UV塗布Z軸_移動完了
MPP
TMR @110 #100            ; UV塗布Z軸_動作確認
CON
AND @T110                ; UV塗布Z軸_動作確認
ANB MR12702              ; UV塗布Z軸_移動完了
RES R51710               ; UV塗布部_一時停止不可
CON
SET MR12711              ; UV塗布Z軸_位置決め異常
STG @MR110               ; @MR110
RES MR12702              ; UV塗布Z軸_移動完了
CON
ANB MR12702              ; UV塗布Z軸_移動完了
AND R48812               ; UV塗布Z軸_P9:塗布上1位置PL(TP)
JMP @MR111               ; @MR111
STG @MR111               ; @MR111
AND R1012                ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ1/完了
AND R1013                ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ2/完了
AND R1014                ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ3/完了
JMP @MR112               ; @MR112
STG @MR112               ; @MR112
RES MR2012               ; UVﾃﾞｨｽﾍﾟﾝｻｰ1/塗布ｵﾝ
CON
RES MR2013               ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ2/ｵﾝ
CON
RES MR2014               ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ3/ｵﾝ
CON
TMR @113 #3              ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ完了確認遅延
CON
AND @T113                ; UV塗布部_ﾃﾞｨｽﾍﾟﾝｻｰ完了確認遅延
AND MR12603              ; UV塗布Z軸_移動可
JMP @MR113               ; @MR113
STG @MR113               ; @MR113
MPS
AND MR12702              ; UV塗布Z軸_移動完了
JMP @MR114               ; @MR114
MRD
MCALL RB移動 #9 #1 #7 MR12711 MR12702;UV塗布Z軸_位置決め異常  UV塗布Z軸_移動完了
MPP
TMR @114 #100            ; UV塗布Z軸_動作確認
CON
AND @T114                ; UV塗布Z軸_動作確認
ANB MR12702              ; UV塗布Z軸_移動完了
RES R51710               ; UV塗布部_一時停止不可
CON
SET MR12711              ; UV塗布Z軸_位置決め異常
STG @MR114               ; @MR114
RES MR12702              ; UV塗布Z軸_移動完了
CON
ANB MR12702              ; UV塗布Z軸_移動完了
AND R48811               ; UV塗布Z軸_P7:塗布上2位置PL(TP)
RES R51710               ; UV塗布部_一時停止不可
CON
JMP @MR115               ; @MR115
STG @MR115               ; @MR115
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50811               ; UV塗布部_異常
TMR @200 #3              ; UV塗布Z軸_上昇可遅延
CON
AND @T200                ; UV塗布Z軸_上昇可遅延
AND MR12603              ; UV塗布Z軸_移動可
SET R51710               ; UV塗布部_一時停止不可
CON
JMP @MR200               ; @MR200
STG @MR200               ; @MR200
MPS
AND MR12702              ; UV塗布Z軸_移動完了
JMP @MR201               ; @MR201
MRD
MCALL RB移動 #9 #1 #3 MR12711 MR12702;UV塗布Z軸_位置決め異常  UV塗布Z軸_移動完了
MPP
TMR @201 #100            ; UV塗布Z軸_動作確認
CON
AND @T201                ; UV塗布Z軸_動作確認
ANB MR12702              ; UV塗布Z軸_移動完了
RES R51710               ; UV塗布部_一時停止不可
CON
SET MR12711              ; UV塗布Z軸_位置決め異常
STG @MR201               ; @MR201
RES MR12702              ; UV塗布Z軸_移動完了
CON
ANB MR12702              ; UV塗布Z軸_移動完了
AND R48809               ; UV塗布Z軸_P3:受皿位置PL(TP)
RES R51710               ; UV塗布部_一時停止不可
CON
JMP @MR202               ; @MR202
STG @MR202               ; @MR202
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50811               ; UV塗布部_異常
RES MR6506               ; UV塗布部_受皿/前進
CON
AND R4708                ; UV塗布部_受皿/後退端
AND MR12803              ; UV塗布移載Y軸_移動可
SET R51710               ; UV塗布部_一時停止不可
CON
JMP @MR203               ; @MR203
STG @MR203               ; @MR203
MPS
AND MR12902              ; UV塗布移載Y軸_移動完了
JMP @MR204               ; @MR204
MRD
MCALL RB移動 #9 #2 #9 MR12911 MR12902;UV塗布移載Y軸_位置決め異常  UV塗布移載Y軸_移動完了
MPP
TMR @204 #100            ; UV塗布移載Y軸_動作確認
CON
AND @T204                ; UV塗布移載Y軸_動作確認
ANB MR12902              ; UV塗布移載Y軸_移動完了
RES R51710               ; UV塗布部_一時停止不可
CON
SET MR12911              ; UV塗布移載Y軸_位置決め異常
STG @MR204               ; @MR204
RES MR12902              ; UV塗布移載Y軸_移動完了
CON
ANB MR12902              ; UV塗布移載Y軸_移動完了
AND R48910               ; UV移載Y軸_P9:排出位置PL(TP)
RES R51710               ; UV塗布部_一時停止不可
CON
JMP @MR205               ; @MR205
STG @MR205               ; @MR205
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50810               ; UV塗布移載部_異常
RES MR6310               ; UV移載部_X軸位置決ﾁｬｯｸ/閉
CON
RES MR6308               ; UV移載部_Y軸位置決ﾁｬｯｸ/閉
CON
LD R4503                 ; UV移載部_Y軸位置決/開端
ORB R4502                ; UV移載部_Y軸位置決/閉端
ANL
AND R4501                ; UV移載部_X軸位置決/開端
RES MR6911               ; UV移載部_ﾜｰｸ吸着/ｵﾝ
CON
RES R44615               ; UV塗布部_1ｻｲｸﾙ起動PL(TP)
CON
RES @MR100               ; UV塗布部_1ｻｲｸﾙ起動
CON
ENDS
MCR
END
ENDH
