DEVICE:53
;MODULE:RB
;MODULE_TYPE:0
LD R50900                ; 非常停止異常
ZRES @MR000 @MR3015
LD CR2002                ; 常時ON
ANB R50900               ; 非常停止異常
OUT R15600               ; 動作許可
OUT R23600               ; 動作許可
OUT R31600               ; 動作許可
;<h1/>ﾕﾆｯﾄNo.7:軸1　投入移載X軸
;投入移載X軸_ｻｰﾎﾞｵﾝ
LD T200                  ; CPU動作中遅延
ANB R50900               ; 非常停止異常
OUT MR2200               ; 投入移載RB-X軸/電源ｵﾝ(KM)
LD T200                  ; CPU動作中遅延
ANB R40201               ; ｽﾀｰﾄPB(TP)
AND R2200                ; 投入移載RB-X軸/電源ｵﾝ(KM)
ANB MR11001              ; 投入移載RB-X軸_ｻｰﾎﾞｵﾝ完了
@SET MR2302              ; 投入移載X軸_強制停止信号
CON
@SET @MR001              ; @MR001
STG @MR001               ; @MR001
AND T202                 ; RBｺﾝﾄﾛｰﾗｰ起動中遅延
SET R18305               ; 軸1 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR002               ; @MR002
STG @MR002               ; @MR002
ANB R18705               ; 軸1 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
RES R18305               ; 軸1 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR003               ; @MR003
STG @MR003               ; @MR003
SET R18000               ; 軸1 軸ｴﾗｰｸﾘｱ
CON
JMP @MR004               ; @MR004
STG @MR004               ; @MR004
ANB R18400               ; 軸1 軸ｴﾗｰ中
RES R18000               ; 軸1 軸ｴﾗｰｸﾘｱ
CON
JMP @MR005               ; @MR005
STG @MR005               ; @MR005
TMR @5 #30               ; 軸1_ｻｰﾎﾞｵﾝ遅延
CON
AND @T5                  ; 軸1_ｻｰﾎﾞｵﾝ遅延
SET R18113               ; 軸1 ｻｰﾎﾞON
CON
JMP @MR006               ; @MR006
STG @MR006               ; @MR006
TMR @6 #30               ; 軸1_ｻｰﾎﾞｵﾝ確認遅延
CON
AND @T6                  ; 軸1_ｻｰﾎﾞｵﾝ確認遅延
AND R18513               ; 軸1 ｻｰﾎﾞﾚﾃﾞｨ
SET MR11001              ; 投入移載RB-X軸_ｻｰﾎﾞｵﾝ完了
CON
ENDS
LDF R18513               ; 軸1 ｻｰﾎﾞﾚﾃﾞｨ
RES MR11001              ; 投入移載RB-X軸_ｻｰﾎﾞｵﾝ完了
;投入移載X軸_動作中安全扉開処理
LD CR2003                ; 常時OFF
ANB R1004                ; 安全ｶﾊﾞｰ閉
AND R18404               ; 軸1 軸制御中
@SET @MR2001             ; @MR2001
STG @MR2001              ; @MR2001
SET R18002               ; 軸1 減速停止
CON
JMP @MR2002              ; @MR2002
STG @MR2002              ; @MR2002
AND R18402               ; 軸1 減速停止完了
RES R18002               ; 軸1 減速停止
CON
MPS
ANB R50305               ; 手動ｽﾃｯﾌﾟ開始
JMP @MR2003              ; @MR2003
MPP
AND R50305               ; 手動ｽﾃｯﾌﾟ開始
SET R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR2003              ; @MR2003
STG @MR2003              ; @MR2003
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50802               ; 投入移載部_異常
ANB R18402               ; 軸1 減速停止完了
MPS
LDB R50305               ; 手動ｽﾃｯﾌﾟ開始
AND R1004                ; 安全ｶﾊﾞｰ閉
ANL
SET R18005               ; 軸1 位置決め運転再開
CON
JMP @MR2004              ; @MR2004
MPP
LD R50305                ; 手動ｽﾃｯﾌﾟ開始
ANP R50202               ; 自動起動SWｵﾝ
ANL
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
SET R18005               ; 軸1 位置決め運転再開
CON
JMP @MR2004              ; @MR2004
STG @MR2004              ; @MR2004
AND R18405               ; 軸1 位置決め運転再開完了
RES R18005               ; 軸1 位置決め運転再開
CON
JMP @MR2005              ; @MR2005
STG @MR2005              ; @MR2005
ANB R18405               ; 軸1 位置決め運転再開完了
ENDS
;投入移載X軸_ﾌﾗｯｼｭﾛﾑ書込み
LDP R46015               ; 投入移載X軸_はいPB(TP)
@SET @MR4001             ; 投入移載X軸_ﾌﾗｯｼｭﾛﾑ書込み
STG @MR4001              ; 投入移載X軸_ﾌﾗｯｼｭﾛﾑ書込み
ANB R16812               ; ﾌﾗｯｼｭROM書込完了
SET R15612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4002              ; @MR4002
STG @MR4002              ; @MR4002
AND R16812               ; ﾌﾗｯｼｭROM書込完了
UREAD #7 #105 @DM1 #1    ; 投入移載X軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
RES R15612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4003              ; @MR4003
STG @MR4003              ; @MR4003
MPS
AND= @DM1 #0             ; 投入移載X軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
ENDS
MPP
AND<> @DM1 #0            ; 投入移載X軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
SET MR11002              ; 投入移載X軸_ﾌﾗｯｼｭﾛﾑ書込み異常
CON
JMP @MR4004              ; @MR4004
STG @MR4004              ; @MR4004
AND MR11002              ; 投入移載X軸_ﾌﾗｯｼｭﾛﾑ書込み異常
AND R50802               ; 投入移載部_異常
AND R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR4005              ; @MR4005
STG @MR4005              ; @MR4005
AND R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
JMP @MR4006              ; @MR4006
STG @MR4006              ; @MR4006
ANB R50802               ; 投入移載部_異常
ANB R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
ANB R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
SET R50006               ; ｽﾀｰﾄﾗﾝﾌﾟ点灯
CON
ENDS
;投入移載X軸_移動可条件
LDB R18404               ; 軸1 軸制御中
ANB R19204               ; 軸2 軸制御中
AND R48108               ; 投入移載Z軸_P1:上昇位置PL(TP)
LD R4200                 ; 投入移載Y軸/前進端
OR R4201                 ; 投入移載Y軸/後退端
ANL
OUT MR11003              ; 投入移載X軸_移動可
LDB R19204               ; 軸2 軸制御中
AND R48108               ; 投入移載Z軸_P1:上昇位置PL(TP)
LD R4200                 ; 投入移載Y軸/前進端
OR R4201                 ; 投入移載Y軸/後退端
ANL
OUT MR11004              ; 投入移載X軸_移動可(JOG)
;投入移載X軸_ﾎﾟｼﾞｼｮﾝ表示
LD CR2002                ; 常時ON
U_RDFPOS.L #7 #1 DM2050  ; 投入移載X軸_現在座標読出し
MPS
LDA.D DM2050             ; 投入移載X軸_現在座標読出し
CON
ADD #1
CON
STA.D DM2070             ; 投入移載X軸_位置比較ﾃﾞｰﾀ上
MRD
AND<>.L DM2050 +0        ; 投入移載X軸_現在座標読出し
LDA.D DM2050             ; 投入移載X軸_現在座標読出し
CON
SUB #1
CON
STA.D DM2072             ; 投入移載X軸_位置比較ﾃﾞｰﾀ下
MRD
AND=.L DM2050 +0         ; 投入移載X軸_現在座標読出し
DW #0 DM2072             ; 投入移載X軸_位置比較ﾃﾞｰﾀ下
MRD
AND R18404               ; 軸1 軸制御中
U_RDFVEL.L #7 #1 DM2060  ; 投入移載X軸_現在速度表示
MRD
AND=.L DM2050 DM2012     ; 投入移載X軸_現在座標読出し  投入移載X軸_P1:待機位置
TMR @111 #3              ; 投入移載X軸_待機位置確認
CON
AND @T111                ; 投入移載X軸_待機位置確認
OUT R48008               ; 投入移載X軸_P1:待機位置PL(TP)
MRD
AND=.L DM2050 DM2014     ; 投入移載X軸_現在座標読出し  投入移載X軸_P5:CV取出位置
TMR @112 #3              ; 投入移載X軸_CV位置確認
CON
AND @T112                ; 投入移載X軸_CV位置確認
OUT R48009               ; 投入移載X軸_P5:CV位置PL(TP)
MRD
AND=.L DM2050 DM2020     ; 投入移載X軸_現在座標読出し  投入移載X軸_P11:分極1位置
TMR @113 #3              ; 投入移載X軸_分極1位置確認
CON
AND @T113                ; 投入移載X軸_分極1位置確認
OUT R48011               ; 投入移載X軸_P11:分極1位置PL(TP)
MRD
AND=.L DM2050 DM2022     ; 投入移載X軸_現在座標読出し  投入移載X軸_P12:分極2位置
TMR @114 #3              ; 投入移載X軸_分極2位置確認
CON
AND @T114                ; 投入移載X軸_分極2位置確認
OUT R48012               ; 投入移載X軸_P12:分極2位置PL(TP)
MRD
AND=.L DM2050 DM2024     ; 投入移載X軸_現在座標読出し  投入移載X軸_P13:分極3位置
TMR @115 #3              ; 投入移載X軸_分極3位置確認
CON
AND @T115                ; 投入移載X軸_分極3位置確認
OUT R48013               ; 投入移載X軸_P13:分極3位置PL(TP)
MPP
AND=.L DM2050 DM2026     ; 投入移載X軸_現在座標読出し  投入移載X軸_P14:分極4位置
TMR @116 #3              ; 投入移載X軸_分極4位置確認
CON
AND @T116                ; 投入移載X軸_分極4位置確認
OUT R48014               ; 投入移載X軸_P14:分極4位置PL(TP)
LD CR2003                ; 常時OFF
OUT MR11008              ; 投入移載X軸_待機ｴﾘｱ
LD CR2003                ; 常時OFF
OUT MR11009              ; 投入移載X軸_CV給材側ｴﾘｱ
LD CR2003                ; 常時OFF
OUT MR11010              ; 投入移載X軸_分極ｴﾘｱ1
LD CR2003                ; 常時OFF
OUT MR11011              ; 投入移載X軸_分極ｴﾘｱ2
;ﾎﾟｲﾝﾄﾃﾞｰﾀ格納
;　ﾎﾟｲﾝﾄ1:待機位置
;　ﾎﾟｲﾝﾄ5:CV取出位置
;　ﾎﾟｲﾝﾄ11:分極1投入位置
;　ﾎﾟｲﾝﾄ12:分極2投入位置
;　ﾎﾟｲﾝﾄ13:分極3投入位置
;　ﾎﾟｲﾝﾄ14:分極4投入位置
LD= DM1000 #200          ; 現在表示中画面
OUT MR11015              ; RBﾎﾟｲﾝﾄ設定1画面表示中(TP)
LDB R18404               ; 軸1 軸制御中
OUT R48006               ; 投入移載X軸_位置取込み可PL(TP)
OUT R48007               ; 投入移載X軸_位置書込み可PL(TP)
LDP R46004               ; 投入移載X軸_ﾎﾟｲﾝﾄNo+PB(TP)
INC DM2000               ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
LDP R46005               ; 投入移載X軸_ﾎﾟｲﾝﾄNo-PB(TP)
DEC DM2000               ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
LD> DM2000 #14           ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
DW #14 DM2000            ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
LD< DM2000 #1            ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
DW #1 DM2000             ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
LD CR2002                ; 常時ON
MPS
AND= DM2000 #1           ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6001              ; 投入移載X軸_ﾎﾟｲﾝﾄ1表示
MRD
AND= DM2000 #5           ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6005              ; 投入移載X軸_ﾎﾟｲﾝﾄ5表示
MRD
AND= DM2000 #11          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6011              ; 投入移載X軸_ﾎﾟｲﾝﾄ11表示
MRD
AND= DM2000 #12          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6012              ; 投入移載X軸_ﾎﾟｲﾝﾄ12表示
MRD
AND= DM2000 #13          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6013              ; 投入移載X軸_ﾎﾟｲﾝﾄ13表示
MPP
AND= DM2000 #14          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6014              ; 投入移載X軸_ﾎﾟｲﾝﾄ14表示
LD CR2002                ; 常時ON
MPS
ANP @MR6001              ; 投入移載X軸_ﾎﾟｲﾝﾄ1表示
MPS
LDA.D DM2012             ; 投入移載X軸_P1:待機位置
CON
STA.D DM2052             ; 投入移載X軸_変更位置表示用
MPP
LDA.D DM2032             ; 投入移載X軸_P1:待機位置速度
CON
STA.D DM2062             ; 投入移載X軸_変更速度表示用
MRD
LD>= DM2000 #2           ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
AND<= DM2000 #4          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
ANL
@MOV.D #0 DM2052         ; 投入移載X軸_変更位置表示用
@MOV.D #0 DM2062         ; 投入移載X軸_変更速度表示用
MRD
ANP @MR6005              ; 投入移載X軸_ﾎﾟｲﾝﾄ5表示
MPS
LDA.D DM2014             ; 投入移載X軸_P5:CV取出位置
CON
STA.D DM2052             ; 投入移載X軸_変更位置表示用
MPP
LDA.D DM2034             ; 投入移載X軸_P5:CV取出位置速度
CON
STA.D DM2062             ; 投入移載X軸_変更速度表示用
MRD
LD>= DM2000 #6           ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
AND<= DM2000 #10         ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
ANL
@MOV.D #0 DM2052         ; 投入移載X軸_変更位置表示用
@MOV.D #0 DM2062         ; 投入移載X軸_変更速度表示用
MRD
ANP @MR6011              ; 投入移載X軸_ﾎﾟｲﾝﾄ11表示
MPS
LDA.D DM2020             ; 投入移載X軸_P11:分極1位置
CON
STA.D DM2052             ; 投入移載X軸_変更位置表示用
MPP
LDA.D DM2040             ; 投入移載X軸_P11:分極1位置速度
CON
STA.D DM2062             ; 投入移載X軸_変更速度表示用
MRD
ANP @MR6012              ; 投入移載X軸_ﾎﾟｲﾝﾄ12表示
MPS
LDA.D DM2022             ; 投入移載X軸_P12:分極2位置
CON
STA.D DM2052             ; 投入移載X軸_変更位置表示用
MPP
LDA.D DM2042             ; 投入移載X軸_P12:分極2位置速度
CON
STA.D DM2062             ; 投入移載X軸_変更速度表示用
MRD
ANP @MR6013              ; 投入移載X軸_ﾎﾟｲﾝﾄ13表示
MPS
LDA.D DM2024             ; 投入移載X軸_P13:分極3位置
CON
STA.D DM2052             ; 投入移載X軸_変更位置表示用
MPP
LDA.D DM2044             ; 投入移載X軸_P13:分極3位置速度
CON
STA.D DM2062             ; 投入移載X軸_変更速度表示用
MPP
ANP @MR6014              ; 投入移載X軸_ﾎﾟｲﾝﾄ14表示
MPS
LDA.D DM2026             ; 投入移載X軸_P14:分極4位置
CON
STA.D DM2052             ; 投入移載X軸_変更位置表示用
MPP
LDA.D DM2046             ; 投入移載X軸_P14:分極4位置速度
CON
STA.D DM2062             ; 投入移載X軸_変更速度表示用
LD CR2002                ; 常時ON
ANP R46006               ; 投入移載X軸_位置取込みPB(TP)
AND R48006               ; 投入移載X軸_位置取込み可PL(TP)
MPS
AND= DM2000 #1           ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2012 DM6012      ; 投入移載X軸_P1:待機位置  投入移載X軸_P1:待機位置ﾊﾞｯﾌｧ
MOV.D DM14290 DM2012     ; 軸1 現在座標  投入移載X軸_P1:待機位置
MRD
AND= DM2000 #5           ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2014 DM6014      ; 投入移載X軸_P5:CV取出位置  投入移載X軸_P5:CV取出位置ﾊﾞｯﾌｧ
MOV.D DM14290 DM2014     ; 軸1 現在座標  投入移載X軸_P5:CV取出位置
MRD
AND= DM2000 #11          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2020 DM6020      ; 投入移載X軸_P11:分極1位置  投入移載X軸_P11:分極1位置ﾊﾞｯﾌｧ
MOV.D DM14290 DM2020     ; 軸1 現在座標  投入移載X軸_P11:分極1位置
MRD
AND= DM2000 #12          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2022 DM6022      ; 投入移載X軸_P12:分極2位置  投入移載X軸_P12:分極2位置ﾊﾞｯﾌｧ
MOV.D DM14290 DM2022     ; 軸1 現在座標  投入移載X軸_P12:分極2位置
MRD
AND= DM2000 #13          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2024 DM6024      ; 投入移載X軸_P13:分極3位置  投入移載X軸_P13:分極3位置ﾊﾞｯﾌｧ
MOV.D DM14290 DM2024     ; 軸1 現在座標  投入移載X軸_P13:分極3位置
MRD
AND= DM2000 #14          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2026 DM6026      ; 投入移載X軸_P14:分極4位置  投入移載X軸_P14:分極4位置ﾊﾞｯﾌｧ
MOV.D DM14290 DM2026     ; 軸1 現在座標  投入移載X軸_P14:分極4位置
MPP
@LDA.D DM14290           ; 軸1 現在座標
CON
@STA.D DM2052            ; 投入移載X軸_変更位置表示用
LD CR2002                ; 常時ON
AND R46007               ; 投入移載X軸_位置書込みPB(TP)
AND R48007               ; 投入移載X軸_位置書込み可PL(TP)
MPS
AND= DM2000 #1           ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2012 DM6012      ; 投入移載X軸_P1:待機位置  投入移載X軸_P1:待機位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2052             ; 投入移載X軸_変更位置表示用
CON
STA.D DM2012             ; 投入移載X軸_P1:待機位置
MPP
LDA.D DM2062             ; 投入移載X軸_変更速度表示用
CON
STA.D DM2032             ; 投入移載X軸_P1:待機位置速度
MRD
AND= DM2000 #5           ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2014 DM6014      ; 投入移載X軸_P5:CV取出位置  投入移載X軸_P5:CV取出位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2052             ; 投入移載X軸_変更位置表示用
CON
STA.D DM2014             ; 投入移載X軸_P5:CV取出位置
MPP
LDA.D DM2062             ; 投入移載X軸_変更速度表示用
CON
STA.D DM2034             ; 投入移載X軸_P5:CV取出位置速度
MRD
AND= DM2000 #11          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2020 DM6020      ; 投入移載X軸_P11:分極1位置  投入移載X軸_P11:分極1位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2052             ; 投入移載X軸_変更位置表示用
CON
STA.D DM2020             ; 投入移載X軸_P11:分極1位置
MPP
LDA.D DM2062             ; 投入移載X軸_変更速度表示用
CON
STA.D DM2040             ; 投入移載X軸_P11:分極1位置速度
MRD
AND= DM2000 #12          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2022 DM6022      ; 投入移載X軸_P12:分極2位置  投入移載X軸_P12:分極2位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2052             ; 投入移載X軸_変更位置表示用
CON
STA.D DM2022             ; 投入移載X軸_P12:分極2位置
MPP
LDA.D DM2062             ; 投入移載X軸_変更速度表示用
CON
STA.D DM2042             ; 投入移載X軸_P12:分極2位置速度
MRD
AND= DM2000 #13          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2024 DM6024      ; 投入移載X軸_P13:分極3位置  投入移載X軸_P13:分極3位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2052             ; 投入移載X軸_変更位置表示用
CON
STA.D DM2024             ; 投入移載X軸_P13:分極3位置
MPP
LDA.D DM2062             ; 投入移載X軸_変更速度表示用
CON
STA.D DM2044             ; 投入移載X軸_P13:分極3位置速度
MPP
AND= DM2000 #14          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2026 DM6026      ; 投入移載X軸_P14:分極4位置  投入移載X軸_P14:分極4位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2052             ; 投入移載X軸_変更位置表示用
CON
STA.D DM2026             ; 投入移載X軸_P14:分極4位置
MPP
LDA.D DM2062             ; 投入移載X軸_変更速度表示用
CON
STA.D DM2046             ; 投入移載X軸_P14:分極4位置速度
LD CR2002                ; 常時ON
ANP R46015               ; 投入移載X軸_はいPB(TP)
LD R48006                ; 投入移載X軸_位置取込み可PL(TP)
OR R48007                ; 投入移載X軸_位置書込み可PL(TP)
ANL
MPS
AND= DM2000 #1           ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #7 #18016 DM2012 #2; 投入移載X軸_P1:待機位置
UWRIT #7 #18028 DM2032 #2; 投入移載X軸_P1:待機位置速度
MRD
AND= DM2000 #5           ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #7 #20064 DM2014 #2; 投入移載X軸_P5:CV取出位置
UWRIT #7 #20076 DM2034 #2; 投入移載X軸_P5:CV取出位置速度
MRD
AND= DM2000 #11          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #7 #23136 DM2020 #2; 投入移載X軸_P11:分極1位置
UWRIT #7 #23148 DM2040 #2; 投入移載X軸_P11:分極1位置速度
MRD
AND= DM2000 #12          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #7 #23648 DM2022 #2; 投入移載X軸_P12:分極2位置
UWRIT #7 #23660 DM2042 #2; 投入移載X軸_P12:分極2位置速度
MRD
AND= DM2000 #13          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #7 #24160 DM2024 #2; 投入移載X軸_P13:分極3位置
UWRIT #7 #24172 DM2044 #2; 投入移載X軸_P13:分極3位置速度
MPP
AND= DM2000 #14          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #7 #24672 DM2026 #2; 投入移載X軸_P14:分極4位置
UWRIT #7 #24684 DM2046 #2; 投入移載X軸_P14:分極4位置速度
LD CR2002                ; 常時ON
ANP R47200               ; 投入移載X軸_いいえPB(TP)
MPS
AND= DM2000 #1           ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6012 DM2012      ; 投入移載X軸_P1:待機位置ﾊﾞｯﾌｧ  投入移載X軸_P1:待機位置
LDA.D DM2012             ; 投入移載X軸_P1:待機位置
CON
STA.D DM2052             ; 投入移載X軸_変更位置表示用
MRD
AND= DM2000 #5           ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6014 DM2014      ; 投入移載X軸_P5:CV取出位置ﾊﾞｯﾌｧ  投入移載X軸_P5:CV取出位置
LDA.D DM2014             ; 投入移載X軸_P5:CV取出位置
CON
STA.D DM2052             ; 投入移載X軸_変更位置表示用
MRD
AND= DM2000 #11          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6020 DM2020      ; 投入移載X軸_P11:分極1位置ﾊﾞｯﾌｧ  投入移載X軸_P11:分極1位置
LDA.D DM2020             ; 投入移載X軸_P11:分極1位置
CON
STA.D DM2052             ; 投入移載X軸_変更位置表示用
MRD
AND= DM2000 #12          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6022 DM2022      ; 投入移載X軸_P12:分極2位置ﾊﾞｯﾌｧ  投入移載X軸_P12:分極2位置
LDA.D DM2022             ; 投入移載X軸_P12:分極2位置
CON
STA.D DM2052             ; 投入移載X軸_変更位置表示用
MRD
AND= DM2000 #13          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6024 DM2024      ; 投入移載X軸_P13:分極3位置ﾊﾞｯﾌｧ  投入移載X軸_P13:分極3位置
LDA.D DM2024             ; 投入移載X軸_P13:分極3位置
CON
STA.D DM2052             ; 投入移載X軸_変更位置表示用
MPP
AND= DM2000 #14          ; 投入移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6026 DM2026      ; 投入移載X軸_P14:分極4位置ﾊﾞｯﾌｧ  投入移載X軸_P14:分極4位置
LDA.D DM2026             ; 投入移載X軸_P14:分極4位置
CON
STA.D DM2052             ; 投入移載X軸_変更位置表示用
LDP T200                 ; CPU動作中遅延
ORP R50014               ; 装置動作中
ORP MR11015              ; RBﾎﾟｲﾝﾄ設定1画面表示中(TP)
UREAD #7 #18016 DM2012 #2; 投入移載X軸_P1:待機位置
UREAD #7 #18028 DM2032 #2; 投入移載X軸_P1:待機位置速度
UREAD #7 #20064 DM2014 #2; 投入移載X軸_P5:CV取出位置
UREAD #7 #20076 DM2034 #2; 投入移載X軸_P5:CV取出位置速度
UREAD #7 #23136 DM2020 #2; 投入移載X軸_P11:分極1位置
UREAD #7 #23148 DM2040 #2; 投入移載X軸_P11:分極1位置速度
UREAD #7 #23648 DM2022 #2; 投入移載X軸_P12:分極2位置
UREAD #7 #23660 DM2042 #2; 投入移載X軸_P12:分極2位置速度
UREAD #7 #24160 DM2024 #2; 投入移載X軸_P13:分極3位置
UREAD #7 #24172 DM2044 #2; 投入移載X軸_P13:分極3位置速度
UREAD #7 #24672 DM2026 #2; 投入移載X軸_P14:分極4位置
UREAD #7 #24684 DM2046 #2; 投入移載X軸_P14:分極4位置速度
LDF MR11015              ; RBﾎﾟｲﾝﾄ設定1画面表示中(TP)
UWRIT #7 #18016 DM2012 #2; 投入移載X軸_P1:待機位置
UWRIT #7 #18028 DM2032 #2; 投入移載X軸_P1:待機位置速度
UWRIT #7 #20064 DM2014 #2; 投入移載X軸_P5:CV取出位置
UWRIT #7 #20076 DM2034 #2; 投入移載X軸_P5:CV取出位置速度
UWRIT #7 #23136 DM2020 #2; 投入移載X軸_P11:分極1位置
UWRIT #7 #23148 DM2040 #2; 投入移載X軸_P11:分極1位置速度
UWRIT #7 #23648 DM2022 #2; 投入移載X軸_P12:分極2位置
UWRIT #7 #23660 DM2042 #2; 投入移載X軸_P12:分極2位置速度
UWRIT #7 #24160 DM2024 #2; 投入移載X軸_P13:分極3位置
UWRIT #7 #24172 DM2044 #2; 投入移載X軸_P13:分極3位置速度
UWRIT #7 #24672 DM2026 #2; 投入移載X軸_P14:分極4位置
UWRIT #7 #24684 DM2046 #2; 投入移載X軸_P14:分極4位置速度
;<h1/>ﾕﾆｯﾄNo.7:軸2 投入移載Z軸
;投入移載Z軸_ｻｰﾎﾞｵﾝ
LD T200                  ; CPU動作中遅延
ANB R50900               ; 非常停止異常
OUT MR2201               ; 投入移載RB-Z軸/電源ｵﾝ(KM)
LD T200                  ; CPU動作中遅延
ANB R40201               ; ｽﾀｰﾄPB(TP)
AND R2201                ; 投入移載Z軸/電源ｵﾝ(KM)
ANB MR11201              ; 投入移載RB-Z軸_ｻｰﾎﾞｵﾝ完了
@SET MR2310              ; 投入移載Z軸_強制停止信号
CON
@SET @MR101              ; @MR101
STG @MR101               ; @MR101
AND T202                 ; RBｺﾝﾄﾛｰﾗｰ起動中遅延
SET R19105               ; 軸2 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR102               ; @MR102
STG @MR102               ; @MR102
ANB R19505               ; 軸2 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
RES R19105               ; 軸2 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR103               ; @MR103
STG @MR103               ; @MR103
SET R18800               ; 軸2 軸ｴﾗｰｸﾘｱ
CON
JMP @MR104               ; @MR104
STG @MR104               ; @MR104
ANB R19200               ; 軸2 軸ｴﾗｰ中
RES R18800               ; 軸2 軸ｴﾗｰｸﾘｱ
CON
JMP @MR105               ; @MR105
STG @MR105               ; @MR105
TMR @15 #30              ; 軸2_ｻｰﾎﾞｵﾝ遅延
CON
AND @T15                 ; 軸2_ｻｰﾎﾞｵﾝ遅延
SET R18913               ; 軸2 ｻｰﾎﾞON
CON
JMP @MR106               ; @MR106
STG @MR106               ; @MR106
TMR @16 #30              ; 軸2_ｻｰﾎﾞｵﾝ確認遅延
CON
AND @T16                 ; 軸2_ｻｰﾎﾞｵﾝ確認遅延
AND R19313               ; 軸2 ｻｰﾎﾞﾚﾃﾞｨ
SET MR11201              ; 投入移載RB-Z軸_ｻｰﾎﾞｵﾝ完了
CON
ENDS
LDF R19313               ; 軸2 ｻｰﾎﾞﾚﾃﾞｨ
RES MR11201              ; 投入移載RB-Z軸_ｻｰﾎﾞｵﾝ完了
;投入移載Z軸_動作中安全扉開処理
LD CR2003                ; 常時OFF
ANB R1004                ; 安全ｶﾊﾞｰ閉
AND R19204               ; 軸2 軸制御中
@SET @MR2101             ; @MR2101
STG @MR2101              ; @MR2101
SET R18802               ; 軸2 減速停止
CON
JMP @MR2102              ; @MR2102
STG @MR2102              ; @MR2102
AND R19202               ; 軸2 減速停止完了
RES R18802               ; 軸2 減速停止
CON
MPS
ANB R50305               ; 手動ｽﾃｯﾌﾟ開始
JMP @MR2103              ; @MR2103
MPP
AND R50305               ; 手動ｽﾃｯﾌﾟ開始
SET R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR2103              ; @MR2103
STG @MR2103              ; @MR2103
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50802               ; 投入移載部_異常
ANB R19202               ; 軸2 減速停止完了
MPS
LDB R50305               ; 手動ｽﾃｯﾌﾟ開始
AND R1004                ; 安全ｶﾊﾞｰ閉
ANL
SET R18805               ; 軸2 位置決め運転再開
CON
JMP @MR2104              ; @MR2104
MPP
LD R50305                ; 手動ｽﾃｯﾌﾟ開始
ANP R50202               ; 自動起動SWｵﾝ
ANL
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
SET R18805               ; 軸2 位置決め運転再開
CON
JMP @MR2104              ; @MR2104
STG @MR2104              ; @MR2104
AND R19205               ; 軸2 位置決め運転再開完了
RES R18805               ; 軸2 位置決め運転再開
CON
JMP @MR2105              ; @MR2105
STG @MR2105              ; @MR2105
ANB R19205               ; 軸2 位置決め運転再開完了
ENDS
;投入移載Z軸_ﾌﾗｯｼｭﾛﾑ書込み
LDP R46115               ; 投入移載Z軸_はいPB(TP)
@SET @MR4101             ; 投入移載Z軸_ﾌﾗｯｼｭﾛﾑ書込み
STG @MR4101              ; 投入移載Z軸_ﾌﾗｯｼｭﾛﾑ書込み
ANB R16812               ; ﾌﾗｯｼｭROM書込完了
SET R15612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4102              ; @MR4102
STG @MR4102              ; @MR4102
AND R16812               ; ﾌﾗｯｼｭROM書込完了
UREAD #7 #105 @DM2 #1    ; 投入移載Z軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
RES R15612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4103              ; @MR4103
STG @MR4103              ; @MR4103
MPS
AND= @DM2 #0             ; 投入移載Z軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
ENDS
MPP
AND<> @DM2 #0            ; 投入移載Z軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
SET MR11202              ; 投入移載Z軸_ﾌﾗｯｼｭﾛﾑ書込み異常
CON
JMP @MR4104              ; @MR4104
STG @MR4104              ; @MR4104
AND MR11202              ; 投入移載Z軸_ﾌﾗｯｼｭﾛﾑ書込み異常
AND R50802               ; 投入移載部_異常
AND R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR4105              ; @MR4105
STG @MR4105              ; @MR4105
AND R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
JMP @MR4106              ; @MR4106
STG @MR4106              ; @MR4106
ANB R50802               ; 投入移載部_異常
ANB R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
ANB R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
SET R50006               ; ｽﾀｰﾄﾗﾝﾌﾟ点灯
CON
ENDS
;投入移載Z軸_移動可条件
LDB R18404               ; 軸1 軸制御中
ANB R19204               ; 軸2 軸制御中
LD R48011                ; 投入移載X軸_P11:分極1位置PL(TP)
OR R48012                ; 投入移載X軸_P12:分極2位置PL(TP)
OR R48013                ; 投入移載X軸_P13:分極3位置PL(TP)
OR R48014                ; 投入移載X軸_P14:分極4位置PL(TP)
AND R4200                ; 投入移載Y軸/前進端
LD R48009                ; 投入移載X軸_P5:CV位置PL(TP)
AND R4201                ; 投入移載Y軸/後退端
ORL
ANL
OUT MR11203              ; 投入移載Z軸_移動可
LDB R18404               ; 軸1 軸制御中
ANB R19204               ; 軸2 軸制御中
LD R48011                ; 投入移載X軸_P11:分極1位置PL(TP)
OR R48012                ; 投入移載X軸_P12:分極2位置PL(TP)
OR R48013                ; 投入移載X軸_P13:分極3位置PL(TP)
OR R48014                ; 投入移載X軸_P14:分極4位置PL(TP)
AND R4200                ; 投入移載Y軸/前進端
LD R48009                ; 投入移載X軸_P5:CV位置PL(TP)
AND R4201                ; 投入移載Y軸/後退端
ORL
ANL
OUT MR11204              ; 投入移載Z軸_移動可(JOG)
;投入移載Z軸_ﾎﾟｼﾞｼｮﾝ表示
LD CR2002                ; 常時ON
U_RDFPOS.L #7 #2 DM2150  ; 投入移載Z軸_現在座標読出し
MPS
LDA.D DM2150             ; 投入移載Z軸_現在座標読出し
CON
ADD #1
CON
STA.D DM2170             ; 投入移載Z軸_位置比較ﾃﾞｰﾀ上
MRD
AND<>.L DM2150 +0        ; 投入移載Z軸_現在座標読出し
LDA.D DM2150             ; 投入移載Z軸_現在座標読出し
CON
SUB #1
CON
STA.D DM2172             ; 投入移載Z軸_位置比較ﾃﾞｰﾀ下
MRD
AND=.L DM2150 +0         ; 投入移載Z軸_現在座標読出し
DW #0 DM2172             ; 投入移載Z軸_位置比較ﾃﾞｰﾀ下
MRD
AND R19204               ; 軸2 軸制御中
U_RDFVEL.L #7 #2 DM2160  ; 投入移載Z軸_現在速度読出し
MRD
AND=.L DM2150 DM2112     ; 投入移載Z軸_現在座標読出し  投入移載Z軸_P1:待機位置
TMR @121 #3              ; 投入移載Z軸_上昇位置確認
CON
AND @T121                ; 投入移載Z軸_上昇位置確認
OUT R48108               ; 投入移載Z軸_P1:上昇位置PL(TP)
MRD
LD=.L DM2150 DM2114      ; 投入移載Z軸_現在座標読出し  投入移載Z軸_P5:CV取出位置
AND R48009               ; 投入移載X軸_P5:CV位置PL(TP)
ANL
TMR @122 #3              ; 投入移載Z軸_CV位置確認
CON
AND @T122                ; 投入移載Z軸_CV位置確認
OUT R48109               ; 投入移載Z軸_P5:CV取出位置PL(TP)
MRD
LD=.L DM2150 DM2120      ; 投入移載Z軸_現在座標読出し  投入移載Z軸_P11:分極1位置
AND R48011               ; 投入移載X軸_P11:分極1位置PL(TP)
ANL
TMR @123 #3              ; 投入移載Z軸_分極1位置確認
CON
AND @T123                ; 投入移載Z軸_分極1位置確認
OUT R48111               ; 投入移載Z軸_P11:分極1位置PL(TP)
MRD
LD=.L DM2150 DM2122      ; 投入移載Z軸_現在座標読出し  投入移載Z軸_P12:分極2位置
AND R48012               ; 投入移載X軸_P12:分極2位置PL(TP)
ANL
TMR @124 #3              ; 投入移載Z軸_分極2位置確認
CON
AND @T124                ; 投入移載Z軸_分極2位置確認
OUT R48112               ; 投入移載Z軸_P12:分極2位置PL(TP)
MRD
LD=.L DM2150 DM2124      ; 投入移載Z軸_現在座標読出し  投入移載Z軸_P13:分極3位置
AND R48013               ; 投入移載X軸_P13:分極3位置PL(TP)
ANL
TMR @125 #3              ; 投入移載Z軸_分極3位置確認
CON
AND @T125                ; 投入移載Z軸_分極3位置確認
OUT R48113               ; 投入移載Z軸_P13:分極3位置PL(TP)
MPP
LD=.L DM2150 DM2126      ; 投入移載Z軸_現在座標読出し  投入移載Z軸_P14:分極4位置
AND R48014               ; 投入移載X軸_P14:分極4位置PL(TP)
ANL
TMR @126 #3              ; 投入移載Z軸_分極4位置確認
CON
AND @T126                ; 投入移載Z軸_分極4位置確認
OUT R48114               ; 投入移載Z軸_P14:分極4位置PL(TP)
LD CR2003                ; 常時OFF
OUT MR11208              ; 投入移載Z軸_ｴﾘｱ1(予備)
LD CR2003                ; 常時OFF
OUT MR11209              ; 投入移載Z軸_ｴﾘｱ2(予備)
LD CR2003                ; 常時OFF
OUT MR11210              ; 投入移載Z軸_ｴﾘｱ3(予備)
LD CR2003                ; 常時OFF
OUT MR11211              ; 投入移載Z軸_ｴﾘｱ4(予備)
;ﾎﾟｲﾝﾄﾃﾞｰﾀ格納
;　ﾎﾟｲﾝﾄ1:上昇位置
;　ﾎﾟｲﾝﾄ5:CV給材側取出位置
;　ﾎﾟｲﾝﾄ11:分極1投入位置
;　ﾎﾟｲﾝﾄ12:分極2投入位置
;　ﾎﾟｲﾝﾄ13:分極3投入位置
;　ﾎﾟｲﾝﾄ14:分極4投入位置
LD= DM1000 #200          ; 現在表示中画面
OUT MR11215              ; RBﾎﾟｲﾝﾄ設定1画面表示中(TP)
LDB R19204               ; 軸2 軸制御中
OUT R48106               ; 投入移載Z軸_位置取込み可PL(TP)
OUT R48107               ; 投入移載Z軸_位置書込み可PL(TP)
LDP R46104               ; 投入移載Z軸_ﾎﾟｲﾝﾄNo+PB(TP)
INC DM2100               ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
LDP R46105               ; 投入移載Z軸_ﾎﾟｲﾝﾄNo-PB(TP)
DEC DM2100               ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
LD> DM2100 #14           ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
DW #14 DM2100            ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
LD< DM2100 #1            ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
DW #1 DM2100             ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
LD CR2002                ; 常時ON
MPS
AND= DM2100 #1           ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
OUT @MR6101              ; 投入移載Z軸_ﾎﾟｲﾝﾄ1表示
MRD
AND= DM2100 #5           ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
OUT @MR6105              ; 投入移載Z軸_ﾎﾟｲﾝﾄ5表示
MRD
AND= DM2100 #11          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
OUT @MR6111              ; 投入移載Z軸_ﾎﾟｲﾝﾄ11表示
MRD
AND= DM2100 #12          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
OUT @MR6112              ; 投入移載Z軸_ﾎﾟｲﾝﾄ12表示
MRD
AND= DM2100 #13          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
OUT @MR6113              ; 投入移載Z軸_ﾎﾟｲﾝﾄ13表示
MPP
AND= DM2100 #14          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
OUT @MR6114              ; 投入移載Z軸_ﾎﾟｲﾝﾄ14表示
LD CR2002                ; 常時ON
MPS
ANP @MR6101              ; 投入移載Z軸_ﾎﾟｲﾝﾄ1表示
MPS
LDA.D DM2112             ; 投入移載Z軸_P1:待機位置
CON
STA.D DM2152             ; 投入移載Z軸_変更位置表示用
MPP
LDA.D DM2132             ; 投入移載Z軸_P1:待機位置速度
CON
STA.D DM2162             ; 投入移載Z軸_変更速度表示用
MRD
LD>= DM2100 #2           ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
AND<= DM2100 #4          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
ANL
@MOV.D #0 DM2152         ; 投入移載Z軸_変更位置表示用
@MOV.D #0 DM2162         ; 投入移載Z軸_変更速度表示用
MRD
ANP @MR6105              ; 投入移載Z軸_ﾎﾟｲﾝﾄ5表示
MPS
LDA.D DM2114             ; 投入移載Z軸_P5:CV取出位置
CON
STA.D DM2152             ; 投入移載Z軸_変更位置表示用
MPP
LDA.D DM2134             ; 投入移載Z軸_P5:CV取出位置速度
CON
STA.D DM2162             ; 投入移載Z軸_変更速度表示用
MRD
LD>= DM2100 #6           ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
AND<= DM2100 #10         ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
ANL
@MOV.D #0 DM2152         ; 投入移載Z軸_変更位置表示用
@MOV.D #0 DM2162         ; 投入移載Z軸_変更速度表示用
MRD
ANP @MR6111              ; 投入移載Z軸_ﾎﾟｲﾝﾄ11表示
MPS
LDA.D DM2120             ; 投入移載Z軸_P11:分極1位置
CON
STA.D DM2152             ; 投入移載Z軸_変更位置表示用
MPP
LDA.D DM2140             ; 投入移載Z軸_P11:分極1位置速度
CON
STA.D DM2162             ; 投入移載Z軸_変更速度表示用
MRD
ANP @MR6112              ; 投入移載Z軸_ﾎﾟｲﾝﾄ12表示
MPS
LDA.D DM2122             ; 投入移載Z軸_P12:分極2位置
CON
STA.D DM2152             ; 投入移載Z軸_変更位置表示用
MPP
LDA.D DM2142             ; 投入移載Z軸_P12:分極2位置速度
CON
STA.D DM2162             ; 投入移載Z軸_変更速度表示用
MRD
ANP @MR6113              ; 投入移載Z軸_ﾎﾟｲﾝﾄ13表示
MPS
LDA.D DM2124             ; 投入移載Z軸_P13:分極3位置
CON
STA.D DM2152             ; 投入移載Z軸_変更位置表示用
MPP
LDA.D DM2144             ; 投入移載Z軸_P13:分極3位置速度
CON
STA.D DM2162             ; 投入移載Z軸_変更速度表示用
MPP
ANP @MR6114              ; 投入移載Z軸_ﾎﾟｲﾝﾄ14表示
MPS
LDA.D DM2126             ; 投入移載Z軸_P14:分極4位置
CON
STA.D DM2152             ; 投入移載Z軸_変更位置表示用
MPP
LDA.D DM2146             ; 投入移載Z軸_P14:分極4位置速度
CON
STA.D DM2162             ; 投入移載Z軸_変更速度表示用
LD CR2002                ; 常時ON
ANP R46106               ; 投入移載Z軸_位置取込みPB(TP)
AND R48106               ; 投入移載Z軸_位置取込み可PL(TP)
MPS
AND= DM2100 #1           ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2112 DM6112      ; 投入移載Z軸_P1:待機位置  投入移載Z軸_P1:待機位置ﾊﾞｯﾌｧ
MOV.D DM14350 DM2112     ; 軸2 現在座標  投入移載Z軸_P1:待機位置
MRD
AND= DM2100 #5           ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2114 DM6114      ; 投入移載Z軸_P5:CV取出位置  投入移載Z軸_P5:CV取出位置ﾊﾞｯﾌｧ
MOV.D DM14350 DM2114     ; 軸2 現在座標  投入移載Z軸_P5:CV取出位置
MRD
AND= DM2100 #11          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2120 DM6120      ; 投入移載Z軸_P11:分極1位置  投入移載Z軸_P11:分極1位置ﾊﾞｯﾌｧ
MOV.D DM14350 DM2120     ; 軸2 現在座標  投入移載Z軸_P11:分極1位置
MRD
AND= DM2100 #12          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2122 DM6122      ; 投入移載Z軸_P12:分極2位置  投入移載Z軸_P12:分極2位置ﾊﾞｯﾌｧ
MOV.D DM14350 DM2122     ; 軸2 現在座標  投入移載Z軸_P12:分極2位置
MRD
AND= DM2100 #13          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2124 DM6124      ; 投入移載Z軸_P13:分極3位置  投入移載Z軸_P13:分極3位置ﾊﾞｯﾌｧ
MOV.D DM14350 DM2124     ; 軸2 現在座標  投入移載Z軸_P13:分極3位置
MRD
AND= DM2100 #14          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2126 DM6126      ; 投入移載Z軸_P14:分極4位置  投入移載Z軸_P14:分極4位置ﾊﾞｯﾌｧ
MOV.D DM14350 DM2126     ; 軸2 現在座標  投入移載Z軸_P14:分極4位置
MPP
LDA.D DM14350            ; 軸2 現在座標
CON
STA.D DM2152             ; 投入移載Z軸_変更位置表示用
LD CR2002                ; 常時ON
AND R46107               ; 投入移載Z軸_位置書込みPB(TP)
AND R48107               ; 投入移載Z軸_位置書込み可PL(TP)
MPS
AND= DM2100 #1           ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2112 DM6112      ; 投入移載Z軸_P1:待機位置  投入移載Z軸_P1:待機位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2152             ; 投入移載Z軸_変更位置表示用
CON
STA.D DM2112             ; 投入移載Z軸_P1:待機位置
MPP
LDA.D DM2162             ; 投入移載Z軸_変更速度表示用
CON
STA.D DM2132             ; 投入移載Z軸_P1:待機位置速度
MRD
AND= DM2100 #5           ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2114 DM6114      ; 投入移載Z軸_P5:CV取出位置  投入移載Z軸_P5:CV取出位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2152             ; 投入移載Z軸_変更位置表示用
CON
STA.D DM2114             ; 投入移載Z軸_P5:CV取出位置
MPP
LDA.D DM2162             ; 投入移載Z軸_変更速度表示用
CON
STA.D DM2134             ; 投入移載Z軸_P5:CV取出位置速度
MRD
AND= DM2100 #11          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2120 DM6120      ; 投入移載Z軸_P11:分極1位置  投入移載Z軸_P11:分極1位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2152             ; 投入移載Z軸_変更位置表示用
CON
STA.D DM2120             ; 投入移載Z軸_P11:分極1位置
MPP
LDA.D DM2162             ; 投入移載Z軸_変更速度表示用
CON
STA.D DM2140             ; 投入移載Z軸_P11:分極1位置速度
MRD
AND= DM2100 #12          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2122 DM6122      ; 投入移載Z軸_P12:分極2位置  投入移載Z軸_P12:分極2位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2152             ; 投入移載Z軸_変更位置表示用
CON
STA.D DM2122             ; 投入移載Z軸_P12:分極2位置
MPP
LDA.D DM2162             ; 投入移載Z軸_変更速度表示用
CON
STA.D DM2142             ; 投入移載Z軸_P12:分極2位置速度
MRD
AND= DM2100 #13          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2124 DM6124      ; 投入移載Z軸_P13:分極3位置  投入移載Z軸_P13:分極3位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2152             ; 投入移載Z軸_変更位置表示用
CON
STA.D DM2124             ; 投入移載Z軸_P13:分極3位置
MPP
LDA.D DM2162             ; 投入移載Z軸_変更速度表示用
CON
STA.D DM2144             ; 投入移載Z軸_P13:分極3位置速度
MPP
AND= DM2100 #14          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2126 DM6126      ; 投入移載Z軸_P14:分極4位置  投入移載Z軸_P14:分極4位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2152             ; 投入移載Z軸_変更位置表示用
CON
STA.D DM2126             ; 投入移載Z軸_P14:分極4位置
MPP
LDA.D DM2162             ; 投入移載Z軸_変更速度表示用
CON
STA.D DM2146             ; 投入移載Z軸_P14:分極4位置速度
LD CR2002                ; 常時ON
ANP R46115               ; 投入移載Z軸_はいPB(TP)
LD R48106                ; 投入移載Z軸_位置取込み可PL(TP)
OR R48107                ; 投入移載Z軸_位置書込み可PL(TP)
ANL
MPS
AND= DM2100 #1           ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
UWRIT #7 #18048 DM2112 #2; 投入移載Z軸_P1:待機位置
UWRIT #7 #18060 DM2132 #2; 投入移載Z軸_P1:待機位置速度
MRD
AND= DM2100 #5           ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
UWRIT #7 #20096 DM2114 #2; 投入移載Z軸_P5:CV取出位置
UWRIT #7 #20108 DM2134 #2; 投入移載Z軸_P5:CV取出位置速度
MRD
AND= DM2100 #11          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
UWRIT #7 #23168 DM2120 #2; 投入移載Z軸_P11:分極1位置
UWRIT #7 #23180 DM2140 #2; 投入移載Z軸_P11:分極1位置速度
MRD
AND= DM2100 #12          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
UWRIT #7 #23680 DM2122 #2; 投入移載Z軸_P12:分極2位置
UWRIT #7 #23692 DM2142 #2; 投入移載Z軸_P12:分極2位置速度
MRD
AND= DM2100 #13          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
UWRIT #7 #24192 DM2124 #2; 投入移載Z軸_P13:分極3位置
UWRIT #7 #24204 DM2144 #2; 投入移載Z軸_P13:分極3位置速度
MPP
AND= DM2100 #14          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
UWRIT #7 #24704 DM2126 #2; 投入移載Z軸_P14:分極4位置
UWRIT #7 #24716 DM2146 #2; 投入移載Z軸_P14:分極4位置速度
LD CR2002                ; 常時ON
ANP R47201               ; 投入移載Z軸_いいえPB(TP)
MPS
AND= DM2100 #1           ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM6112 DM2112      ; 投入移載Z軸_P1:待機位置ﾊﾞｯﾌｧ  投入移載Z軸_P1:待機位置
LDA.D DM2112             ; 投入移載Z軸_P1:待機位置
CON
STA.D DM2152             ; 投入移載Z軸_変更位置表示用
MRD
AND= DM2100 #5           ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM6114 DM2114      ; 投入移載Z軸_P5:CV取出位置ﾊﾞｯﾌｧ  投入移載Z軸_P5:CV取出位置
LDA.D DM2114             ; 投入移載Z軸_P5:CV取出位置
CON
STA.D DM2152             ; 投入移載Z軸_変更位置表示用
MRD
AND= DM2100 #11          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM6120 DM2120      ; 投入移載Z軸_P11:分極1位置ﾊﾞｯﾌｧ  投入移載Z軸_P11:分極1位置
LDA.D DM2120             ; 投入移載Z軸_P11:分極1位置
CON
STA.D DM2152             ; 投入移載Z軸_変更位置表示用
MRD
AND= DM2100 #12          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM6122 DM2122      ; 投入移載Z軸_P12:分極2位置ﾊﾞｯﾌｧ  投入移載Z軸_P12:分極2位置
LDA.D DM2122             ; 投入移載Z軸_P12:分極2位置
CON
STA.D DM2152             ; 投入移載Z軸_変更位置表示用
MRD
AND= DM2100 #13          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM6124 DM2124      ; 投入移載Z軸_P13:分極3位置ﾊﾞｯﾌｧ  投入移載Z軸_P13:分極3位置
LDA.D DM2124             ; 投入移載Z軸_P13:分極3位置
CON
STA.D DM2152             ; 投入移載Z軸_変更位置表示用
MPP
AND= DM2100 #14          ; 投入移載Z軸_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM6126 DM2126      ; 投入移載Z軸_P14:分極4位置ﾊﾞｯﾌｧ  投入移載Z軸_P14:分極4位置
LDA.D DM2126             ; 投入移載Z軸_P14:分極4位置
CON
STA.D DM2152             ; 投入移載Z軸_変更位置表示用
LDP T200                 ; CPU動作中遅延
ORP R50014               ; 装置動作中
ORP MR11215              ; RBﾎﾟｲﾝﾄ設定1画面表示中(TP)
UREAD #7 #18048 DM2112 #2; 投入移載Z軸_P1:待機位置
UREAD #7 #18060 DM2132 #2; 投入移載Z軸_P1:待機位置速度
UREAD #7 #20096 DM2114 #2; 投入移載Z軸_P5:CV取出位置
UREAD #7 #20108 DM2134 #2; 投入移載Z軸_P5:CV取出位置速度
UREAD #7 #23168 DM2120 #2; 投入移載Z軸_P11:分極1位置
UREAD #7 #23180 DM2140 #2; 投入移載Z軸_P11:分極1位置速度
UREAD #7 #23680 DM2122 #2; 投入移載Z軸_P12:分極2位置
UREAD #7 #23692 DM2142 #2; 投入移載Z軸_P12:分極2位置速度
UREAD #7 #24192 DM2124 #2; 投入移載Z軸_P13:分極3位置
UREAD #7 #24204 DM2144 #2; 投入移載Z軸_P13:分極3位置速度
UREAD #7 #24704 DM2126 #2; 投入移載Z軸_P14:分極4位置
UREAD #7 #24716 DM2146 #2; 投入移載Z軸_P14:分極4位置速度
LDF MR11215              ; RBﾎﾟｲﾝﾄ設定1画面表示中(TP)
UWRIT #7 #18048 DM2112 #2; 投入移載Z軸_P1:待機位置
UWRIT #7 #18060 DM2132 #2; 投入移載Z軸_P1:待機位置速度
UWRIT #7 #20096 DM2114 #2; 投入移載Z軸_P5:CV取出位置
UWRIT #7 #20108 DM2134 #2; 投入移載Z軸_P5:CV取出位置速度
UWRIT #7 #23168 DM2120 #2; 投入移載Z軸_P11:分極1位置
UWRIT #7 #23180 DM2140 #2; 投入移載Z軸_P11:分極1位置速度
UWRIT #7 #23680 DM2122 #2; 投入移載Z軸_P12:分極2位置
UWRIT #7 #23692 DM2142 #2; 投入移載Z軸_P12:分極2位置速度
UWRIT #7 #24192 DM2124 #2; 投入移載Z軸_P13:分極3位置
UWRIT #7 #24204 DM2144 #2; 投入移載Z軸_P13:分極3位置速度
UWRIT #7 #24704 DM2126 #2; 投入移載Z軸_P14:分極4位置
UWRIT #7 #24716 DM2146 #2; 投入移載Z軸_P14:分極4位置速度
;<h1/>ﾕﾆｯﾄNo.7:軸3　分極1ｽﾗｲﾀﾞ
;分極1ｽﾗｲﾀﾞ_ｻｰﾎﾞｵﾝ
LD T200                  ; CPU動作中遅延
ANB R50900               ; 非常停止異常
OUT MR2202               ; 分極ｽﾗｲﾀﾞ1_電源ｵﾝ(KM)
LD T200                  ; CPU動作中遅延
ANB R40201               ; ｽﾀｰﾄPB(TP)
AND R2202                ; 分極1ｽﾗｲﾀﾞ_電源ｵﾝ(KM)
ANB MR11401              ; 分極1ｽﾗｲﾀﾞ_ｻｰﾎﾞｵﾝ完了
@SET MR2402              ; 分極1ｽﾗｲﾀﾞｰ_強制停止信号
CON
@SET @MR201              ; @MR201
STG @MR201               ; @MR201
AND T202                 ; RBｺﾝﾄﾛｰﾗｰ起動中遅延
SET R19905               ; 軸3 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR202               ; @MR202
STG @MR202               ; @MR202
ANB R20305               ; 軸3 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
RES R19905               ; 軸3 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR203               ; @MR203
STG @MR203               ; @MR203
SET R19600               ; 軸3 軸ｴﾗｰｸﾘｱ
CON
JMP @MR204               ; @MR204
STG @MR204               ; @MR204
ANB R20000               ; 軸3 軸ｴﾗｰ中
RES R19600               ; 軸3 軸ｴﾗｰｸﾘｱ
CON
JMP @MR205               ; @MR205
STG @MR205               ; @MR205
TMR @25 #30              ; 軸3_ｻｰﾎﾞｵﾝ遅延
CON
AND @T25                 ; 軸3_ｻｰﾎﾞｵﾝ遅延
SET R19713               ; 軸3 ｻｰﾎﾞON
CON
JMP @MR206               ; @MR206
STG @MR206               ; @MR206
TMR @26 #30              ; 軸3_ｻｰﾎﾞｵﾝ確認遅延
CON
AND @T26                 ; 軸3_ｻｰﾎﾞｵﾝ確認遅延
AND R20113               ; 軸3 ｻｰﾎﾞﾚﾃﾞｨ
SET MR11401              ; 分極1ｽﾗｲﾀﾞ_ｻｰﾎﾞｵﾝ完了
CON
ENDS
LDF R20113               ; 軸3 ｻｰﾎﾞﾚﾃﾞｨ
RES MR11401              ; 分極1ｽﾗｲﾀﾞ_ｻｰﾎﾞｵﾝ完了
;分極1ｽﾗｲﾀﾞ_動作中安全扉開処理
LD CR2003                ; 常時OFF
ANB R1004                ; 安全ｶﾊﾞｰ閉
AND R20004               ; 軸3 軸制御中
@SET @MR2201             ; @MR2201
STG @MR2201              ; @MR2201
SET R19602               ; 軸3 減速停止
CON
JMP @MR2202              ; @MR2202
STG @MR2202              ; @MR2202
AND R20002               ; 軸3 減速停止完了
RES R19602               ; 軸3 減速停止
CON
MPS
ANB R50305               ; 手動ｽﾃｯﾌﾟ開始
JMP @MR2203              ; @MR2203
MPP
AND R50305               ; 手動ｽﾃｯﾌﾟ開始
SET R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR2203              ; @MR2203
STG @MR2203              ; @MR2203
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50900               ; 非常停止異常
ANB R20002               ; 軸3 減速停止完了
MPS
LDB R50305               ; 手動ｽﾃｯﾌﾟ開始
AND R1004                ; 安全ｶﾊﾞｰ閉
ANL
SET R19605               ; 軸3 位置決め運転再開
CON
JMP @MR2204              ; @MR2204
MPP
LD R50305                ; 手動ｽﾃｯﾌﾟ開始
ANP R50202               ; 自動起動SWｵﾝ
ANL
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
SET R19605               ; 軸3 位置決め運転再開
CON
JMP @MR2204              ; @MR2204
STG @MR2204              ; @MR2204
AND R20005               ; 軸3 位置決め運転再開完了
RES R19605               ; 軸3 位置決め運転再開
CON
JMP @MR2205              ; @MR2205
STG @MR2205              ; @MR2205
ANB R20005               ; 軸3 位置決め運転再開完了
ENDS
;分極1ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み
LDP R46215               ; 分極1ｽﾗｲﾀﾞｰ_はいPB(TP)
@SET @MR4201             ; 分極1ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み
STG @MR4201              ; 分極1ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み
ANB R16812               ; ﾌﾗｯｼｭROM書込完了
SET R15612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4202              ; @MR4202
STG @MR4202              ; @MR4202
AND R16812               ; ﾌﾗｯｼｭROM書込完了
UREAD #7 #105 @DM3 #1    ; 分極1ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
RES R15612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4203              ; @MR4203
STG @MR4203              ; @MR4203
MPS
AND= @DM3 #0             ; 分極1ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
ENDS
MPP
AND<> @DM3 #0            ; 分極1ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
SET MR11402              ; 分極1ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み異常
CON
JMP @MR4204              ; @MR4204
STG @MR4204              ; @MR4204
AND MR11402              ; 分極1ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み異常
AND R50803               ; 分極1部_異常
AND R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR4205              ; @MR4205
STG @MR4205              ; @MR4205
AND R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
JMP @MR4206              ; @MR4206
STG @MR4206              ; @MR4206
ANB R50803               ; 分極1部_異常
ANB R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
ANB R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
SET R50006               ; ｽﾀｰﾄﾗﾝﾌﾟ点灯
CON
ENDS
;分極1ｽﾗｲﾀﾞ_移動可条件
LDB R20004               ; 軸3 軸制御中
LD R48108                ; 投入移載Z軸_P1:上昇位置PL(TP)
OR R48008                ; 投入移載X軸_P1:待機位置PL(TP)
OR R48009                ; 投入移載X軸_P5:CV位置PL(TP)
OR R48012                ; 投入移載X軸_P12:分極2位置PL(TP)
OR R48013                ; 投入移載X軸_P13:分極3位置PL(TP)
OR R48014                ; 投入移載X軸_P14:分極4位置PL(TP)
ANL
LD R48708                ; 分極取出Z軸_P1:上昇位置PL(TP)
OR R48608                ; 分極取出X軸_P1:待機位置PL(TP)
OR R48610                ; 分極取出X軸_P9:NG位置PL(TP)
OR R48612                ; 分極取出X軸_P12:分極2位置PL(TP)
OR R48613                ; 分極取出X軸_P13:分極3位置PL(TP)
OR R48614                ; 分極取出X軸_P14:分極4位置PL(TP)
ANL
AND R4509                ; 分極1部_ﾌﾟﾛｰﾌﾞ/上昇端
OUT MR11403              ; 分極1ｽﾗｲﾀﾞ_移動可
LD CR2002                ; 常時ON
LD R48108                ; 投入移載Z軸_P1:上昇位置PL(TP)
OR R48008                ; 投入移載X軸_P1:待機位置PL(TP)
OR R48009                ; 投入移載X軸_P5:CV位置PL(TP)
OR R48012                ; 投入移載X軸_P12:分極2位置PL(TP)
OR R48013                ; 投入移載X軸_P13:分極3位置PL(TP)
OR R48014                ; 投入移載X軸_P14:分極4位置PL(TP)
ANL
LD R48708                ; 分極取出Z軸_P1:上昇位置PL(TP)
OR R48608                ; 分極取出X軸_P1:待機位置PL(TP)
OR R48610                ; 分極取出X軸_P9:NG位置PL(TP)
OR R48612                ; 分極取出X軸_P12:分極2位置PL(TP)
OR R48613                ; 分極取出X軸_P13:分極3位置PL(TP)
OR R48614                ; 分極取出X軸_P14:分極4位置PL(TP)
ANL
AND R4509                ; 分極1部_ﾌﾟﾛｰﾌﾞ/上昇端
OUT MR11404              ; 分極1ｽﾗｲﾀﾞ_移動可(JOG)
;分極1ｽﾗｲﾀﾞ_ﾎﾟｼﾞｼｮﾝ表示
LD CR2002                ; 常時ON
U_RDFPOS.L #7 #3 DM2250  ; 分極1ｽﾗｲﾀﾞ_現在座標読出し
MPS
LDA.D DM2250             ; 分極1ｽﾗｲﾀﾞ_現在座標読出し
CON
ADD #1
CON
STA.D DM2270             ; 分極1ｽﾗｲﾀﾞｰ_位置比較ﾃﾞｰﾀ上
MRD
AND<>.L DM2250 +0        ; 分極1ｽﾗｲﾀﾞ_現在座標読出し
LDA.D DM2250             ; 分極1ｽﾗｲﾀﾞ_現在座標読出し
CON
SUB #1
CON
STA.D DM2272             ; 分極1ｽﾗｲﾀﾞｰ_位置比較ﾃﾞｰﾀ下
MRD
AND=.L DM2250 +0         ; 分極1ｽﾗｲﾀﾞ_現在座標読出し
DW #0 DM2272             ; 分極1ｽﾗｲﾀﾞｰ_位置比較ﾃﾞｰﾀ下
MRD
AND R20004               ; 軸3 軸制御中
U_RDFVEL.L #7 #3 DM2260  ; 分極1ｽﾗｲﾀﾞｰ_現在速度
MRD
AND=.L DM2250 DM2212     ; 分極1ｽﾗｲﾀﾞ_現在座標読出し  分極1ｽﾗｲﾀﾞ_P1:受取位置
TMR @131 #3              ; 分極1ｽﾗｲﾀﾞｰ_受取位置確認
CON
AND @T131                ; 分極1ｽﾗｲﾀﾞｰ_受取位置確認
OUT R48208               ; 分極1ｽﾗｲﾀﾞ_P1:受取位置PL(TP)
MRD
AND=.L DM2250 DM2214     ; 分極1ｽﾗｲﾀﾞ_現在座標読出し  分極1ｽﾗｲﾀﾞ_P5:検査位置
TMR @132 #3              ; 分極1ｽﾗｲﾀﾞｰ_検査位置確認
CON
AND @T132                ; 分極1ｽﾗｲﾀﾞｰ_検査位置確認
OUT R48209               ; 分極1ｽﾗｲﾀﾞ_P5:検査位置PL(TP)
MPP
AND=.L DM2250 DM2218     ; 分極1ｽﾗｲﾀﾞ_現在座標読出し  分極1ｽﾗｲﾀﾞ_P9:排出位置
TMR @133 #3              ; 分極1ｽﾗｲﾀﾞｰ_排出位置確認
CON
AND @T133                ; 分極1ｽﾗｲﾀﾞｰ_排出位置確認
OUT R48210               ; 分極1ｽﾗｲﾀﾞ_P9:排出位置PL(TP)
LD CR2003                ; 常時OFF
OUT MR11408              ; 分極1ｽﾗｲﾀﾞ_受取ｴﾘｱ
LD CR2003                ; 常時OFF
OUT MR11409              ; 分極1ｽﾗｲﾀﾞ_検査ｴﾘｱ
LD CR2003                ; 常時OFF
OUT MR11410              ; 分極1ｽﾗｲﾀﾞ_排出ｴﾘｱ
LD CR2003                ; 常時OFF
OUT MR11411              ; 分極1ｽﾗｲﾀﾞ_ｴﾘｱ4(予備)
;ﾎﾟｲﾝﾄﾃﾞｰﾀ格納
;　ﾎﾟｲﾝﾄ1:受取位置
;　ﾎﾟｲﾝﾄ5:検査位置
;　ﾎﾟｲﾝﾄ9:排出位置
LD= DM1000 #201          ; 現在表示中画面
OUT MR11415              ; RBﾎﾟｲﾝﾄ設定2画面表示中
LDB R20004               ; 軸3 軸制御中
OUT R48206               ; 分極1ｽﾗｲﾀﾞ_位置取込み可PL(TP)
OUT R48207               ; 分極1ｽﾗｲﾀﾞｰ_位置書込み可PL(TP)
LDP R46204               ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo+PB(TP)
INC DM2200               ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
LDP R46205               ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo-PB(TP)
DEC DM2200               ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
LD> DM2200 #9            ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
DW #9 DM2200             ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
LD< DM2200 #1            ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
DW #1 DM2200             ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
LD CR2002                ; 常時ON
MPS
AND= DM2200 #1           ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
OUT @MR6201              ; 分極1ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ1表示
MRD
AND= DM2200 #5           ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
OUT @MR6205              ; 分極1ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ5表示
MPP
AND= DM2200 #9           ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
OUT @MR6209              ; 分極1ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ9表示
LD CR2002                ; 常時ON
MPS
ANP @MR6201              ; 分極1ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ1表示
MPS
LDA.D DM2212             ; 分極1ｽﾗｲﾀﾞ_P1:受取位置
CON
STA.D DM2252             ; 分極1ｽﾗｲﾀﾞｰ_変更位置表示用
MPP
LDA.D DM2232             ; 分極1ｽﾗｲﾀﾞ_P1:受取位置速度
CON
STA.D DM2262             ; 分極1ｽﾗｲﾀﾞｰ_変更速度表示用
MRD
LD>= DM2200 #2           ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
AND<= DM2200 #4          ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
ANL
@MOV.D #0 DM2252         ; 分極1ｽﾗｲﾀﾞｰ_変更位置表示用
@MOV.D #0 DM2262         ; 分極1ｽﾗｲﾀﾞｰ_変更速度表示用
MRD
ANP @MR6205              ; 分極1ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ5表示
MPS
LDA.D DM2214             ; 分極1ｽﾗｲﾀﾞ_P5:検査位置
CON
STA.D DM2252             ; 分極1ｽﾗｲﾀﾞｰ_変更位置表示用
MPP
LDA.D DM2234             ; 分極1ｽﾗｲﾀﾞ_P5:検査位置速度
CON
STA.D DM2262             ; 分極1ｽﾗｲﾀﾞｰ_変更速度表示用
MRD
LD>= DM2200 #6           ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
AND<= DM2200 #8          ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
ANL
@MOV.D #0 DM2252         ; 分極1ｽﾗｲﾀﾞｰ_変更位置表示用
@MOV.D #0 DM2262         ; 分極1ｽﾗｲﾀﾞｰ_変更速度表示用
MPP
ANP @MR6209              ; 分極1ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ9表示
MPS
LDA.D DM2218             ; 分極1ｽﾗｲﾀﾞ_P9:排出位置
CON
STA.D DM2252             ; 分極1ｽﾗｲﾀﾞｰ_変更位置表示用
MPP
LDA.D DM2238             ; 分極1ｽﾗｲﾀﾞ_P9:排出位置速度
CON
STA.D DM2262             ; 分極1ｽﾗｲﾀﾞｰ_変更速度表示用
LD CR2002                ; 常時ON
ANP R46206               ; 分極1ｽﾗｲﾀﾞｰ_位置取込みPB(TP)
AND R48206               ; 分極1ｽﾗｲﾀﾞ_位置取込み可PL(TP)
MPS
AND= DM2200 #1           ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2212 DM6212      ; 分極1ｽﾗｲﾀﾞ_P1:受取位置  分極1ｽﾗｲﾀﾞ_P1:受取位置ﾊﾞｯﾌｧ
MOV.D DM14410 DM2212     ; 軸3 現在座標  分極1ｽﾗｲﾀﾞ_P1:受取位置
MRD
AND= DM2200 #5           ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2214 DM6214      ; 分極1ｽﾗｲﾀﾞ_P5:検査位置  分極1ｽﾗｲﾀﾞ_P5:検査位置ﾊﾞｯﾌｧ
MOV.D DM14410 DM2214     ; 軸3 現在座標  分極1ｽﾗｲﾀﾞ_P5:検査位置
MRD
AND= DM2200 #9           ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2218 DM6218      ; 分極1ｽﾗｲﾀﾞ_P9:排出位置  分極1ｽﾗｲﾀﾞ_P9:排出位置ﾊﾞｯﾌｧ
MOV.D DM14410 DM2218     ; 軸3 現在座標  分極1ｽﾗｲﾀﾞ_P9:排出位置
MPP
LDA.D DM14410            ; 軸3 現在座標
CON
STA.D DM2252             ; 分極1ｽﾗｲﾀﾞｰ_変更位置表示用
LD CR2002                ; 常時ON
AND R46207               ; 分極1ｽﾗｲﾀﾞ_位置書込みPB(TP)
AND R48207               ; 分極1ｽﾗｲﾀﾞｰ_位置書込み可PL(TP)
MPS
AND= DM2200 #1           ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2212 DM6212      ; 分極1ｽﾗｲﾀﾞ_P1:受取位置  分極1ｽﾗｲﾀﾞ_P1:受取位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2252             ; 分極1ｽﾗｲﾀﾞｰ_変更位置表示用
CON
STA.D DM2212             ; 分極1ｽﾗｲﾀﾞ_P1:受取位置
MPP
LDA.D DM2262             ; 分極1ｽﾗｲﾀﾞｰ_変更速度表示用
CON
STA.D DM2232             ; 分極1ｽﾗｲﾀﾞ_P1:受取位置速度
MRD
AND= DM2200 #5           ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2214 DM6214      ; 分極1ｽﾗｲﾀﾞ_P5:検査位置  分極1ｽﾗｲﾀﾞ_P5:検査位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2252             ; 分極1ｽﾗｲﾀﾞｰ_変更位置表示用
CON
STA.D DM2214             ; 分極1ｽﾗｲﾀﾞ_P5:検査位置
MPP
LDA.D DM2262             ; 分極1ｽﾗｲﾀﾞｰ_変更速度表示用
CON
STA.D DM2234             ; 分極1ｽﾗｲﾀﾞ_P5:検査位置速度
MPP
AND= DM2200 #9           ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2218 DM6218      ; 分極1ｽﾗｲﾀﾞ_P9:排出位置  分極1ｽﾗｲﾀﾞ_P9:排出位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2252             ; 分極1ｽﾗｲﾀﾞｰ_変更位置表示用
CON
STA.D DM2218             ; 分極1ｽﾗｲﾀﾞ_P9:排出位置
MPP
LDA.D DM2262             ; 分極1ｽﾗｲﾀﾞｰ_変更速度表示用
CON
STA.D DM2238             ; 分極1ｽﾗｲﾀﾞ_P9:排出位置速度
LD CR2002                ; 常時ON
ANP R46215               ; 分極1ｽﾗｲﾀﾞｰ_はいPB(TP)
LD R48206                ; 分極1ｽﾗｲﾀﾞ_位置取込み可PL(TP)
OR R48207                ; 分極1ｽﾗｲﾀﾞｰ_位置書込み可PL(TP)
ANL
MPS
AND= DM2200 #1           ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
UWRIT #7 #18080 DM2212 #2; 分極1ｽﾗｲﾀﾞ_P1:受取位置
UWRIT #7 #18092 DM2232 #2; 分極1ｽﾗｲﾀﾞ_P1:受取位置速度
MRD
AND= DM2200 #5           ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
UWRIT #7 #20128 DM2214 #2; 分極1ｽﾗｲﾀﾞ_P5:検査位置
UWRIT #7 #20140 DM2234 #2; 分極1ｽﾗｲﾀﾞ_P5:検査位置速度
MPP
AND= DM2200 #9           ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
UWRIT #7 #22176 DM2218 #2; 分極1ｽﾗｲﾀﾞ_P9:排出位置
UWRIT #7 #22188 DM2238 #2; 分極1ｽﾗｲﾀﾞ_P9:排出位置速度
LD CR2002                ; 常時ON
ANP R47202               ; 分極1ｽﾗｲﾀﾞｰ_いいえPB(TP)
MPS
AND= DM2200 #1           ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM6212 DM2212      ; 分極1ｽﾗｲﾀﾞ_P1:受取位置ﾊﾞｯﾌｧ  分極1ｽﾗｲﾀﾞ_P1:受取位置
LDA.D DM2212             ; 分極1ｽﾗｲﾀﾞ_P1:受取位置
CON
STA.D DM2252             ; 分極1ｽﾗｲﾀﾞｰ_変更位置表示用
MRD
AND= DM2200 #5           ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM6214 DM2214      ; 分極1ｽﾗｲﾀﾞ_P5:検査位置ﾊﾞｯﾌｧ  分極1ｽﾗｲﾀﾞ_P5:検査位置
LDA.D DM2214             ; 分極1ｽﾗｲﾀﾞ_P5:検査位置
CON
STA.D DM2252             ; 分極1ｽﾗｲﾀﾞｰ_変更位置表示用
MPP
AND= DM2200 #9           ; 分極1ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM6218 DM2218      ; 分極1ｽﾗｲﾀﾞ_P9:排出位置ﾊﾞｯﾌｧ  分極1ｽﾗｲﾀﾞ_P9:排出位置
LDA.D DM2218             ; 分極1ｽﾗｲﾀﾞ_P9:排出位置
CON
STA.D DM2252             ; 分極1ｽﾗｲﾀﾞｰ_変更位置表示用
LDP T200                 ; CPU動作中遅延
ORP R50014               ; 装置動作中
ORP MR11415              ; RBﾎﾟｲﾝﾄ設定2画面表示中
UREAD #7 #18080 DM2212 #2; 分極1ｽﾗｲﾀﾞ_P1:受取位置
UREAD #7 #18092 DM2232 #2; 分極1ｽﾗｲﾀﾞ_P1:受取位置速度
UREAD #7 #20128 DM2214 #2; 分極1ｽﾗｲﾀﾞ_P5:検査位置
UREAD #7 #20140 DM2234 #2; 分極1ｽﾗｲﾀﾞ_P5:検査位置速度
UREAD #7 #22176 DM2218 #2; 分極1ｽﾗｲﾀﾞ_P9:排出位置
UREAD #7 #22188 DM2238 #2; 分極1ｽﾗｲﾀﾞ_P9:排出位置速度
LDF MR11415              ; RBﾎﾟｲﾝﾄ設定2画面表示中
UWRIT #7 #18080 DM2212 #2; 分極1ｽﾗｲﾀﾞ_P1:受取位置
UWRIT #7 #18092 DM2232 #2; 分極1ｽﾗｲﾀﾞ_P1:受取位置速度
UWRIT #7 #20128 DM2214 #2; 分極1ｽﾗｲﾀﾞ_P5:検査位置
UWRIT #7 #20140 DM2234 #2; 分極1ｽﾗｲﾀﾞ_P5:検査位置速度
UWRIT #7 #22176 DM2218 #2; 分極1ｽﾗｲﾀﾞ_P9:排出位置
UWRIT #7 #22188 DM2238 #2; 分極1ｽﾗｲﾀﾞ_P9:排出位置速度
;<h1/>ﾕﾆｯﾄNo.7:軸4　分極2ｽﾗｲﾀﾞ
;分極2ｽﾗｲﾀﾞ_ｻｰﾎﾞｵﾝ
LD T200                  ; CPU動作中遅延
ANB R50900               ; 非常停止異常
OUT MR2203               ; 分極ｽﾗｲﾀﾞ2_電源ｵﾝ(KM)
LD T200                  ; CPU動作中遅延
ANB R40201               ; ｽﾀｰﾄPB(TP)
AND R2203                ; 分極2ｽﾗｲﾀﾞ_電源ｵﾝ(KM)
ANB MR11601              ; 分極2ｽﾗｲﾀﾞ_ｻｰﾎﾞｵﾝ完了
@SET MR2410              ; 分極2ｽﾗｲﾀﾞｰ_強制停止信号
CON
@SET @MR301              ; @MR301
STG @MR301               ; @MR301
AND T202                 ; RBｺﾝﾄﾛｰﾗｰ起動中遅延
SET R20705               ; 軸4 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR302               ; @MR302
STG @MR302               ; @MR302
ANB R21105               ; 軸4 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
RES R20705               ; 軸4 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR303               ; @MR303
STG @MR303               ; @MR303
SET R20400               ; 軸4 軸ｴﾗｰｸﾘｱ
CON
JMP @MR304               ; @MR304
STG @MR304               ; @MR304
ANB R20800               ; 軸4 軸ｴﾗｰ中
RES R20400               ; 軸4 軸ｴﾗｰｸﾘｱ
CON
JMP @MR305               ; @MR305
STG @MR305               ; @MR305
TMR @35 #30              ; 軸4_ｻｰﾎﾞｵﾝ遅延
CON
AND @T35                 ; 軸4_ｻｰﾎﾞｵﾝ遅延
SET R20513               ; 軸4 ｻｰﾎﾞON
CON
JMP @MR306               ; @MR306
STG @MR306               ; @MR306
TMR @36 #30              ; 軸4_ｻｰﾎﾞｵﾝ確認遅延
CON
AND @T36                 ; 軸4_ｻｰﾎﾞｵﾝ確認遅延
AND R20913               ; 軸4 ｻｰﾎﾞﾚﾃﾞｨ
SET MR11601              ; 分極2ｽﾗｲﾀﾞ_ｻｰﾎﾞｵﾝ完了
CON
ENDS
LDF R20913               ; 軸4 ｻｰﾎﾞﾚﾃﾞｨ
RES MR11601              ; 分極2ｽﾗｲﾀﾞ_ｻｰﾎﾞｵﾝ完了
;分極2ｽﾗｲﾀﾞ_動作中安全扉開処理
LD CR2003                ; 常時OFF
ANB R1004                ; 安全ｶﾊﾞｰ閉
AND R20804               ; 軸4 軸制御中
@SET @MR2301             ; @MR2301
STG @MR2301              ; @MR2301
SET R20402               ; 軸4 減速停止
CON
JMP @MR2302              ; @MR2302
STG @MR2302              ; @MR2302
AND R20802               ; 軸4 減速停止完了
RES R20402               ; 軸4 減速停止
CON
MPS
ANB R50305               ; 手動ｽﾃｯﾌﾟ開始
JMP @MR2303              ; @MR2303
MPP
AND R50305               ; 手動ｽﾃｯﾌﾟ開始
SET R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR2303              ; @MR2303
STG @MR2303              ; @MR2303
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50900               ; 非常停止異常
ANB R20802               ; 軸4 減速停止完了
MPS
LDB R50305               ; 手動ｽﾃｯﾌﾟ開始
AND R1004                ; 安全ｶﾊﾞｰ閉
ANL
SET R20405               ; 軸4 位置決め運転再開
CON
JMP @MR2304              ; @MR2304
MPP
LD R50305                ; 手動ｽﾃｯﾌﾟ開始
ANP R50202               ; 自動起動SWｵﾝ
ANL
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
SET R20405               ; 軸4 位置決め運転再開
CON
JMP @MR2304              ; @MR2304
STG @MR2304              ; @MR2304
AND R20805               ; 軸4 位置決め運転再開完了
RES R20405               ; 軸4 位置決め運転再開
CON
JMP @MR2305              ; @MR2305
STG @MR2305              ; @MR2305
ANB R20805               ; 軸4 位置決め運転再開完了
ENDS
;分極2ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み
LDP R46315               ; 分極2ｽﾗｲﾀﾞｰ_はいPB(TP)
@SET @MR4301             ; 分極2ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み
STG @MR4301              ; 分極2ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み
ANB R16812               ; ﾌﾗｯｼｭROM書込完了
SET R15612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4302              ; @MR4302
STG @MR4302              ; @MR4302
AND R16812               ; ﾌﾗｯｼｭROM書込完了
UREAD #7 #105 @DM4 #1    ; 分極2ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
RES R15612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4303              ; @MR4303
STG @MR4303              ; @MR4303
MPS
AND= @DM4 #0             ; 分極2ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
ENDS
MPP
AND<> @DM4 #0            ; 分極2ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
SET MR11602              ; 分極2ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み異常
CON
JMP @MR4304              ; @MR4304
STG @MR4304              ; @MR4304
AND MR11602              ; 分極2ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み異常
AND R50804               ; 分極2部_異常
AND R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR4305              ; @MR4305
STG @MR4305              ; @MR4305
AND R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
JMP @MR4306              ; @MR4306
STG @MR4306              ; @MR4306
ANB R50804               ; 分極2部_異常
ANB R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
ANB R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
SET R50006               ; ｽﾀｰﾄﾗﾝﾌﾟ点灯
CON
ENDS
;分極2ｽﾗｲﾀﾞ_移動可条件
LDB R20804               ; 軸4 軸制御中
LD R48108                ; 投入移載Z軸_P1:上昇位置PL(TP)
OR R48008                ; 投入移載X軸_P1:待機位置PL(TP)
OR R48009                ; 投入移載X軸_P5:CV位置PL(TP)
OR R48011                ; 投入移載X軸_P11:分極1位置PL(TP)
OR R48013                ; 投入移載X軸_P13:分極3位置PL(TP)
OR R48014                ; 投入移載X軸_P14:分極4位置PL(TP)
ANL
LD R48708                ; 分極取出Z軸_P1:上昇位置PL(TP)
OR R48608                ; 分極取出X軸_P1:待機位置PL(TP)
OR R48610                ; 分極取出X軸_P9:NG位置PL(TP)
OR R48611                ; 分極取出X軸_P11:分極1位置PL(TP)
OR R48613                ; 分極取出X軸_P13:分極3位置PL(TP)
OR R48614                ; 分極取出X軸_P14:分極4位置PL(TP)
ANL
AND R4511                ; 分極2部_ﾌﾟﾛｰﾌﾞ/上昇端
OUT MR11603              ; 分極2ｽﾗｲﾀﾞ_移動可
LD CR2002                ; 常時ON
LD R48108                ; 投入移載Z軸_P1:上昇位置PL(TP)
OR R48008                ; 投入移載X軸_P1:待機位置PL(TP)
OR R48009                ; 投入移載X軸_P5:CV位置PL(TP)
OR R48011                ; 投入移載X軸_P11:分極1位置PL(TP)
OR R48013                ; 投入移載X軸_P13:分極3位置PL(TP)
OR R48014                ; 投入移載X軸_P14:分極4位置PL(TP)
ANL
LD R48708                ; 分極取出Z軸_P1:上昇位置PL(TP)
OR R48608                ; 分極取出X軸_P1:待機位置PL(TP)
OR R48610                ; 分極取出X軸_P9:NG位置PL(TP)
OR R48611                ; 分極取出X軸_P11:分極1位置PL(TP)
OR R48613                ; 分極取出X軸_P13:分極3位置PL(TP)
OR R48614                ; 分極取出X軸_P14:分極4位置PL(TP)
ANL
AND R4511                ; 分極2部_ﾌﾟﾛｰﾌﾞ/上昇端
OUT MR11604              ; 分極2ｽﾗｲﾀﾞ_移動可(JOG)
;分極2ｽﾗｲﾀﾞ_ﾎﾟｼﾞｼｮﾝ表示
LD CR2002                ; 常時ON
U_RDFPOS.L #7 #4 DM2350  ; 分極2ｽﾗｲﾀﾞ_現在座標読出し
MPS
LDA.D DM2350             ; 分極2ｽﾗｲﾀﾞ_現在座標読出し
CON
ADD #1
CON
STA.D DM2370             ; 分極2ｽﾗｲﾀﾞｰ_位置比較ﾃﾞｰﾀ上
MRD
AND<>.L DM2350 +0        ; 分極2ｽﾗｲﾀﾞ_現在座標読出し
LDA.D DM2350             ; 分極2ｽﾗｲﾀﾞ_現在座標読出し
CON
SUB #1
CON
STA.D DM2372             ; 分極2ｽﾗｲﾀﾞｰ_位置比較ﾃﾞｰﾀ下
MRD
AND=.L DM2350 +0         ; 分極2ｽﾗｲﾀﾞ_現在座標読出し
DW #0 DM2372             ; 分極2ｽﾗｲﾀﾞｰ_位置比較ﾃﾞｰﾀ下
MRD
AND R20804               ; 軸4 軸制御中
U_RDFVEL.L #7 #4 DM2360  ; 分極2ｽﾗｲﾀﾞｰ_現在速度
MRD
AND=.L DM2350 DM2312     ; 分極2ｽﾗｲﾀﾞ_現在座標読出し  分極2ｽﾗｲﾀﾞ_P1:受取位置
TMR @141 #3              ; 分極2ｽﾗｲﾀﾞｰ_受取位置確認
CON
AND @T141                ; 分極2ｽﾗｲﾀﾞｰ_受取位置確認
OUT R48308               ; 分極2ｽﾗｲﾀﾞ_P1:受取位置PL(TP)
MRD
AND=.L DM2350 DM2314     ; 分極2ｽﾗｲﾀﾞ_現在座標読出し  分極2ｽﾗｲﾀﾞ_P5:検査位置
TMR @142 #3              ; 分極2ｽﾗｲﾀﾞｰ_検査位置確認
CON
AND @T142                ; 分極2ｽﾗｲﾀﾞｰ_検査位置確認
OUT R48309               ; 分極2ｽﾗｲﾀﾞ_P5:検査位置PL(TP)
MPP
AND=.L DM2350 DM2318     ; 分極2ｽﾗｲﾀﾞ_現在座標読出し  分極2ｽﾗｲﾀﾞ_P9:排出位置
TMR @143 #3              ; 分極2ｽﾗｲﾀﾞｰ_排出位置確認
CON
AND @T143                ; 分極2ｽﾗｲﾀﾞｰ_排出位置確認
OUT R48310               ; 分極2ｽﾗｲﾀﾞ_P9:排出位置PL(TP)
LD CR2003                ; 常時OFF
OUT MR11608              ; 分極2ｽﾗｲﾀﾞ_受取ｴﾘｱ
LD CR2003                ; 常時OFF
OUT MR11609              ; 分極2ｽﾗｲﾀﾞ_検査ｴﾘｱ
LD CR2003                ; 常時OFF
OUT MR11610              ; 分極2ｽﾗｲﾀﾞ_排出ｴﾘｱ
LD CR2003                ; 常時OFF
OUT MR11611              ; 分極2ｽﾗｲﾀﾞ_ｴﾘｱ4(予備)
;ﾎﾟｲﾝﾄﾃﾞｰﾀ格納
;　ﾎﾟｲﾝﾄ1:受取位置
;　ﾎﾟｲﾝﾄ5:検査位置
;　ﾎﾟｲﾝﾄ9:排出位置
LD= DM1000 #201          ; 現在表示中画面
OUT MR11615              ; RBﾎﾟｲﾝﾄ設定2画面表示中
LDB R20804               ; 軸4 軸制御中
OUT R48306               ; 分極2ｽﾗｲﾀﾞ_位置取込み可PL(TP)
OUT R48307               ; 分極2ｽﾗｲﾀﾞｰ_位置書込み可PL(TP)
LDP R46304               ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo+PB(TP)
INC DM2300               ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
LDP R46305               ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo-PB(TP)
DEC DM2300               ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
LD> DM2300 #9            ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
DW #9 DM2300             ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
LD< DM2300 #1            ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
DW #1 DM2300             ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
LD CR2002                ; 常時ON
MPS
AND= DM2300 #1           ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
OUT @MR6301              ; 分極2ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ1表示
MRD
AND= DM2300 #5           ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
OUT @MR6305              ; 分極2ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ5表示
MPP
AND= DM2300 #9           ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
OUT @MR6309              ; 分極2ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ9表示
LD CR2002                ; 常時ON
MPS
ANP @MR6301              ; 分極2ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ1表示
MPS
LDA.D DM2312             ; 分極2ｽﾗｲﾀﾞ_P1:受取位置
CON
STA.D DM2352             ; 分極2ｽﾗｲﾀﾞｰ_変更位置表示用
MPP
LDA.D DM2332             ; 分極2ｽﾗｲﾀﾞ_P1:受取位置速度
CON
STA.D DM2362             ; 分極2ｽﾗｲﾀﾞｰ_変更速度表示用
MRD
LD>= DM2300 #2           ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
AND<= DM2300 #4          ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
ANL
@MOV.D #0 DM2352         ; 分極2ｽﾗｲﾀﾞｰ_変更位置表示用
@MOV.D #0 DM2362         ; 分極2ｽﾗｲﾀﾞｰ_変更速度表示用
MRD
ANP @MR6305              ; 分極2ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ5表示
MPS
LDA.D DM2314             ; 分極2ｽﾗｲﾀﾞ_P5:検査位置
CON
STA.D DM2352             ; 分極2ｽﾗｲﾀﾞｰ_変更位置表示用
MPP
LDA.D DM2334             ; 分極2ｽﾗｲﾀﾞ_P5:検査位置速度
CON
STA.D DM2362             ; 分極2ｽﾗｲﾀﾞｰ_変更速度表示用
MRD
LD>= DM2300 #6           ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
AND<= DM2300 #8          ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
ANL
@MOV.D #0 DM2352         ; 分極2ｽﾗｲﾀﾞｰ_変更位置表示用
@MOV.D #0 DM2362         ; 分極2ｽﾗｲﾀﾞｰ_変更速度表示用
MPP
ANP @MR6309              ; 分極2ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ9表示
MPS
LDA.D DM2318             ; 分極2ｽﾗｲﾀﾞ_P9:排出位置
CON
STA.D DM2352             ; 分極2ｽﾗｲﾀﾞｰ_変更位置表示用
MPP
LDA.D DM2338             ; 分極2ｽﾗｲﾀﾞ_P9:排出位置速度
CON
STA.D DM2362             ; 分極2ｽﾗｲﾀﾞｰ_変更速度表示用
LD CR2002                ; 常時ON
ANP R46306               ; 分極2ｽﾗｲﾀﾞｰ_位置取込みPB(TP)
AND R48306               ; 分極2ｽﾗｲﾀﾞ_位置取込み可PL(TP)
MPS
AND= DM2300 #1           ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2312 DM6312      ; 分極2ｽﾗｲﾀﾞ_P1:受取位置  分極2ｽﾗｲﾀﾞ_P1:受取位置ﾊﾞｯﾌｧ
MOV.D DM14470 DM2312     ; 軸4 現在座標  分極2ｽﾗｲﾀﾞ_P1:受取位置
MRD
AND= DM2300 #5           ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2314 DM6314      ; 分極2ｽﾗｲﾀﾞ_P5:検査位置  分極2ｽﾗｲﾀﾞ_P5:受取位置ﾊﾞｯﾌｧ
MOV.D DM14470 DM2314     ; 軸4 現在座標  分極2ｽﾗｲﾀﾞ_P5:検査位置
MRD
AND= DM2300 #9           ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2318 DM6318      ; 分極2ｽﾗｲﾀﾞ_P9:排出位置  分極2ｽﾗｲﾀﾞ_P9:受取位置ﾊﾞｯﾌｧ
MOV.D DM14470 DM2318     ; 軸4 現在座標  分極2ｽﾗｲﾀﾞ_P9:排出位置
MPP
LDA.D DM14470            ; 軸4 現在座標
CON
STA.D DM2352             ; 分極2ｽﾗｲﾀﾞｰ_変更位置表示用
LD CR2002                ; 常時ON
AND R46307               ; 分極2ｽﾗｲﾀﾞ_ﾃﾞｰﾀ書込みPB(TP)
AND R48307               ; 分極2ｽﾗｲﾀﾞｰ_位置書込み可PL(TP)
MPS
AND= DM2300 #1           ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2312 DM6312      ; 分極2ｽﾗｲﾀﾞ_P1:受取位置  分極2ｽﾗｲﾀﾞ_P1:受取位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2352             ; 分極2ｽﾗｲﾀﾞｰ_変更位置表示用
CON
STA.D DM2312             ; 分極2ｽﾗｲﾀﾞ_P1:受取位置
MPP
LDA.D DM2362             ; 分極2ｽﾗｲﾀﾞｰ_変更速度表示用
CON
STA.D DM2332             ; 分極2ｽﾗｲﾀﾞ_P1:受取位置速度
MRD
AND= DM2300 #5           ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2314 DM6314      ; 分極2ｽﾗｲﾀﾞ_P5:検査位置  分極2ｽﾗｲﾀﾞ_P5:受取位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2352             ; 分極2ｽﾗｲﾀﾞｰ_変更位置表示用
CON
STA.D DM2314             ; 分極2ｽﾗｲﾀﾞ_P5:検査位置
MPP
LDA.D DM2362             ; 分極2ｽﾗｲﾀﾞｰ_変更速度表示用
CON
STA.D DM2334             ; 分極2ｽﾗｲﾀﾞ_P5:検査位置速度
MPP
AND= DM2300 #9           ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2318 DM6318      ; 分極2ｽﾗｲﾀﾞ_P9:排出位置  分極2ｽﾗｲﾀﾞ_P9:受取位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2352             ; 分極2ｽﾗｲﾀﾞｰ_変更位置表示用
CON
STA.D DM2318             ; 分極2ｽﾗｲﾀﾞ_P9:排出位置
MPP
LDA.D DM2362             ; 分極2ｽﾗｲﾀﾞｰ_変更速度表示用
CON
STA.D DM2338             ; 分極2ｽﾗｲﾀﾞ_P9:排出位置速度
LD CR2002                ; 常時ON
ANP R46315               ; 分極2ｽﾗｲﾀﾞｰ_はいPB(TP)
LD R48306                ; 分極2ｽﾗｲﾀﾞ_位置取込み可PL(TP)
OR R48307                ; 分極2ｽﾗｲﾀﾞｰ_位置書込み可PL(TP)
ANL
MPS
AND= DM2300 #1           ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
UWRIT #7 #18112 DM2312 #2; 分極2ｽﾗｲﾀﾞ_P1:受取位置
UWRIT #7 #18124 DM2332 #2; 分極2ｽﾗｲﾀﾞ_P1:受取位置速度
MRD
AND= DM2300 #5           ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
UWRIT #7 #20160 DM2314 #2; 分極2ｽﾗｲﾀﾞ_P5:検査位置
UWRIT #7 #20172 DM2334 #2; 分極2ｽﾗｲﾀﾞ_P5:検査位置速度
MPP
AND= DM2300 #9           ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
UWRIT #7 #22208 DM2318 #2; 分極2ｽﾗｲﾀﾞ_P9:排出位置
UWRIT #7 #22220 DM2338 #2; 分極2ｽﾗｲﾀﾞ_P9:排出位置速度
LD CR2002                ; 常時ON
ANP R47203               ; 分極2ｽﾗｲﾀﾞｰ_いいえPB(TP)
MPS
AND= DM2300 #1           ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM6312 DM2312      ; 分極2ｽﾗｲﾀﾞ_P1:受取位置ﾊﾞｯﾌｧ  分極2ｽﾗｲﾀﾞ_P1:受取位置
LDA.D DM2312             ; 分極2ｽﾗｲﾀﾞ_P1:受取位置
CON
STA.D DM2352             ; 分極2ｽﾗｲﾀﾞｰ_変更位置表示用
MRD
AND= DM2300 #5           ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM6314 DM2314      ; 分極2ｽﾗｲﾀﾞ_P5:受取位置ﾊﾞｯﾌｧ  分極2ｽﾗｲﾀﾞ_P5:検査位置
LDA.D DM2314             ; 分極2ｽﾗｲﾀﾞ_P5:検査位置
CON
STA.D DM2352             ; 分極2ｽﾗｲﾀﾞｰ_変更位置表示用
MPP
AND= DM2300 #9           ; 分極2ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM6318 DM2318      ; 分極2ｽﾗｲﾀﾞ_P9:受取位置ﾊﾞｯﾌｧ  分極2ｽﾗｲﾀﾞ_P9:排出位置
LDA.D DM2318             ; 分極2ｽﾗｲﾀﾞ_P9:排出位置
CON
STA.D DM2352             ; 分極2ｽﾗｲﾀﾞｰ_変更位置表示用
LDP T200                 ; CPU動作中遅延
ORP R50014               ; 装置動作中
ORP MR11615              ; RBﾎﾟｲﾝﾄ設定2画面表示中
UREAD #7 #18112 DM2312 #2; 分極2ｽﾗｲﾀﾞ_P1:受取位置
UREAD #7 #18124 DM2332 #2; 分極2ｽﾗｲﾀﾞ_P1:受取位置速度
UREAD #7 #20160 DM2314 #2; 分極2ｽﾗｲﾀﾞ_P5:検査位置
UREAD #7 #20172 DM2334 #2; 分極2ｽﾗｲﾀﾞ_P5:検査位置速度
UREAD #7 #22208 DM2318 #2; 分極2ｽﾗｲﾀﾞ_P9:排出位置
UREAD #7 #22220 DM2338 #2; 分極2ｽﾗｲﾀﾞ_P9:排出位置速度
LDF MR11615              ; RBﾎﾟｲﾝﾄ設定2画面表示中
UWRIT #7 #18112 DM2312 #2; 分極2ｽﾗｲﾀﾞ_P1:受取位置
UWRIT #7 #18124 DM2332 #2; 分極2ｽﾗｲﾀﾞ_P1:受取位置速度
UWRIT #7 #20160 DM2314 #2; 分極2ｽﾗｲﾀﾞ_P5:検査位置
UWRIT #7 #20172 DM2334 #2; 分極2ｽﾗｲﾀﾞ_P5:検査位置速度
UWRIT #7 #22208 DM2318 #2; 分極2ｽﾗｲﾀﾞ_P9:排出位置
UWRIT #7 #22220 DM2338 #2; 分極2ｽﾗｲﾀﾞ_P9:排出位置速度
;<h1/>ﾕﾆｯﾄNo.8:軸1　分極3ｽﾗｲﾀﾞ
;分極3ｽﾗｲﾀﾞ_ｻｰﾎﾞｵﾝ
LD T200                  ; CPU動作中遅延
ANB R50900               ; 非常停止異常
OUT MR2204               ; 分極ｽﾗｲﾀﾞ3_電源ｵﾝ(KM)
LD T200                  ; CPU動作中遅延
ANB R40201               ; ｽﾀｰﾄPB(TP)
AND R2204                ; 分極ｽﾗｲﾀﾞ3/電源ｵﾝ(KM)
ANB MR11801              ; 分極3ｽﾗｲﾀﾞ_ｻｰﾎﾞｵﾝ完了
@SET MR2502              ; 分極3ｽﾗｲﾀﾞｰ_強制停止信号
CON
@SET @MR401              ; @MR401
STG @MR401               ; @MR401
AND T202                 ; RBｺﾝﾄﾛｰﾗｰ起動中遅延
SET R26305               ; 軸1 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR402               ; @MR402
STG @MR402               ; @MR402
ANB R26705               ; 軸1 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
RES R26305               ; 軸1 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR403               ; @MR403
STG @MR403               ; @MR403
SET R26000               ; 軸1 軸ｴﾗｰｸﾘｱ
CON
JMP @MR404               ; @MR404
STG @MR404               ; @MR404
ANB R26400               ; 軸1 軸ｴﾗｰ中
RES R26000               ; 軸1 軸ｴﾗｰｸﾘｱ
CON
JMP @MR405               ; @MR405
STG @MR405               ; @MR405
TMR @45 #30              ; 軸1_ｻｰﾎﾞｵﾝ遅延
CON
AND @T45                 ; 軸1_ｻｰﾎﾞｵﾝ遅延
SET R26113               ; 軸1 ｻｰﾎﾞON
CON
JMP @MR406               ; @MR406
STG @MR406               ; @MR406
TMR @46 #30              ; 軸1_ｻｰﾎﾞｵﾝ確認遅延
CON
AND @T46                 ; 軸1_ｻｰﾎﾞｵﾝ確認遅延
AND R26513               ; 軸1 ｻｰﾎﾞﾚﾃﾞｨ
SET MR11801              ; 分極3ｽﾗｲﾀﾞ_ｻｰﾎﾞｵﾝ完了
CON
ENDS
LDF R26513               ; 軸1 ｻｰﾎﾞﾚﾃﾞｨ
RES MR11801              ; 分極3ｽﾗｲﾀﾞ_ｻｰﾎﾞｵﾝ完了
;分極3ｽﾗｲﾀﾞ_動作中安全扉開処理
LD CR2003                ; 常時OFF
ANB R1004                ; 安全ｶﾊﾞｰ閉
AND R26404               ; 軸1 軸制御中
@SET @MR2401             ; @MR2401
STG @MR2401              ; @MR2401
SET R26002               ; 軸1 減速停止
CON
JMP @MR2402              ; @MR2402
STG @MR2402              ; @MR2402
AND R26402               ; 軸1 減速停止完了
RES R26002               ; 軸1 減速停止
CON
MPS
ANB R50305               ; 手動ｽﾃｯﾌﾟ開始
JMP @MR2403              ; @MR2403
MPP
AND R50305               ; 手動ｽﾃｯﾌﾟ開始
SET R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR2403              ; @MR2403
STG @MR2403              ; @MR2403
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50900               ; 非常停止異常
ANB R26402               ; 軸1 減速停止完了
MPS
LDB R50305               ; 手動ｽﾃｯﾌﾟ開始
AND R1004                ; 安全ｶﾊﾞｰ閉
ANL
SET R26005               ; 軸1 位置決め運転再開
CON
JMP @MR2404              ; @MR2404
MPP
LD R50305                ; 手動ｽﾃｯﾌﾟ開始
ANP R50202               ; 自動起動SWｵﾝ
ANL
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
SET R26005               ; 軸1 位置決め運転再開
CON
JMP @MR2404              ; @MR2404
STG @MR2404              ; @MR2404
AND R26405               ; 軸1 位置決め運転再開完了
RES R26005               ; 軸1 位置決め運転再開
CON
JMP @MR2405              ; @MR2405
STG @MR2405              ; @MR2405
ANB R26405               ; 軸1 位置決め運転再開完了
ENDS
;分極3ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み
LDP R46415               ; 分極3ｽﾗｲﾀﾞｰ_はいPB(TP)
@SET @MR4401             ; 分極3ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み
STG @MR4401              ; 分極3ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み
ANB R24812               ; ﾌﾗｯｼｭROM書込完了
SET R23612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4402              ; @MR4402
STG @MR4402              ; @MR4402
AND R24812               ; ﾌﾗｯｼｭROM書込完了
UREAD #8 #105 @DM11 #1   ; 分極3ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
RES R23612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4403              ; @MR4403
STG @MR4403              ; @MR4403
MPS
AND= @DM11 #0            ; 分極3ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
ENDS
MPP
AND<> @DM11 #0           ; 分極3ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
SET MR11802              ; 分極3ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み異常
CON
JMP @MR4404              ; @MR4404
STG @MR4404              ; @MR4404
AND MR11802              ; 分極3ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み異常
AND R50805               ; 分極3部_異常
AND R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR4405              ; @MR4405
STG @MR4405              ; @MR4405
AND R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
JMP @MR4406              ; @MR4406
STG @MR4406              ; @MR4406
ANB R50805               ; 分極3部_異常
ANB R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
ANB R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
SET R50006               ; ｽﾀｰﾄﾗﾝﾌﾟ点灯
CON
ENDS
;分極3ｽﾗｲﾀﾞ_移動可条件
LDB R26404               ; 軸1 軸制御中
LD R48108                ; 投入移載Z軸_P1:上昇位置PL(TP)
OR R48008                ; 投入移載X軸_P1:待機位置PL(TP)
OR R48009                ; 投入移載X軸_P5:CV位置PL(TP)
OR R48011                ; 投入移載X軸_P11:分極1位置PL(TP)
OR R48012                ; 投入移載X軸_P12:分極2位置PL(TP)
OR R48014                ; 投入移載X軸_P14:分極4位置PL(TP)
ANL
LD R48708                ; 分極取出Z軸_P1:上昇位置PL(TP)
OR R48608                ; 分極取出X軸_P1:待機位置PL(TP)
OR R48610                ; 分極取出X軸_P9:NG位置PL(TP)
OR R48611                ; 分極取出X軸_P11:分極1位置PL(TP)
OR R48612                ; 分極取出X軸_P12:分極2位置PL(TP)
OR R48614                ; 分極取出X軸_P14:分極4位置PL(TP)
ANL
AND R4513                ; 分極3部_ﾌﾟﾛｰﾌﾞ/上昇端
OUT MR11803              ; 分極3ｽﾗｲﾀﾞ_移動可
LD CR2002                ; 常時ON
LD R48108                ; 投入移載Z軸_P1:上昇位置PL(TP)
OR R48008                ; 投入移載X軸_P1:待機位置PL(TP)
OR R48009                ; 投入移載X軸_P5:CV位置PL(TP)
OR R48011                ; 投入移載X軸_P11:分極1位置PL(TP)
OR R48012                ; 投入移載X軸_P12:分極2位置PL(TP)
OR R48014                ; 投入移載X軸_P14:分極4位置PL(TP)
ANL
LD R48708                ; 分極取出Z軸_P1:上昇位置PL(TP)
OR R48608                ; 分極取出X軸_P1:待機位置PL(TP)
OR R48610                ; 分極取出X軸_P9:NG位置PL(TP)
OR R48611                ; 分極取出X軸_P11:分極1位置PL(TP)
OR R48612                ; 分極取出X軸_P12:分極2位置PL(TP)
OR R48614                ; 分極取出X軸_P14:分極4位置PL(TP)
ANL
AND R4513                ; 分極3部_ﾌﾟﾛｰﾌﾞ/上昇端
OUT MR11804              ; 分極3ｽﾗｲﾀﾞ_移動可(JOG)
;分極3ｽﾗｲﾀﾞ_ﾎﾟｼﾞｼｮﾝ表示
LD CR2002                ; 常時ON
U_RDFPOS.L #8 #1 DM2450  ; 分極3ｽﾗｲﾀﾞ_現在座標読出し
MPS
LDA.D DM2450             ; 分極3ｽﾗｲﾀﾞ_現在座標読出し
CON
ADD #1
CON
STA.D DM2470             ; 分極3ｽﾗｲﾀﾞｰ_位置比較ﾃﾞｰﾀ上
MRD
AND<>.L DM2450 +0        ; 分極3ｽﾗｲﾀﾞ_現在座標読出し
LDA.D DM2450             ; 分極3ｽﾗｲﾀﾞ_現在座標読出し
CON
SUB #1
CON
STA.D DM2472             ; 分極3ｽﾗｲﾀﾞｰ_位置比較ﾃﾞｰﾀ下
MRD
AND=.L DM2450 +0         ; 分極3ｽﾗｲﾀﾞ_現在座標読出し
DW #0 DM2472             ; 分極3ｽﾗｲﾀﾞｰ_位置比較ﾃﾞｰﾀ下
MRD
AND R26404               ; 軸1 軸制御中
U_RDFVEL.L #8 #1 DM2460  ; 分極3ｽﾗｲﾀﾞｰ_現在速度
MRD
AND=.L DM2450 DM2412     ; 分極3ｽﾗｲﾀﾞ_現在座標読出し  分極3ｽﾗｲﾀﾞ_P1:受取位置
TMR @151 #3              ; 分極3ｽﾗｲﾀﾞｰ_受取位置確認
CON
AND @T151                ; 分極3ｽﾗｲﾀﾞｰ_受取位置確認
OUT R48408               ; 分極3ｽﾗｲﾀﾞ_P1:受取位置PL(TP)
MRD
AND=.L DM2450 DM2414     ; 分極3ｽﾗｲﾀﾞ_現在座標読出し  分極3ｽﾗｲﾀﾞ_P5:検査位置
TMR @152 #3              ; 分極3ｽﾗｲﾀﾞｰ_検査位置確認
CON
AND @T152                ; 分極3ｽﾗｲﾀﾞｰ_検査位置確認
OUT R48409               ; 分極3ｽﾗｲﾀﾞ_P5:検査位置PL(TP)
MPP
AND=.L DM2450 DM2418     ; 分極3ｽﾗｲﾀﾞ_現在座標読出し  分極3ｽﾗｲﾀﾞ_P9:排出位置
TMR @153 #3              ; 分極3ｽﾗｲﾀﾞｰ_排出位置確認
CON
AND @T153                ; 分極3ｽﾗｲﾀﾞｰ_排出位置確認
OUT R48410               ; 分極3ｽﾗｲﾀﾞ_P9:排出位置PL(TP)
LD CR2003                ; 常時OFF
OUT MR11808              ; 分極3ｽﾗｲﾀﾞ_受取ｴﾘｱ
LD CR2003                ; 常時OFF
OUT MR11809              ; 分極3ｽﾗｲﾀﾞ_検査ｴﾘｱ
LD CR2003                ; 常時OFF
OUT MR11810              ; 分極3ｽﾗｲﾀﾞ_排出ｴﾘｱ
LD CR2003                ; 常時OFF
OUT MR11811              ; 分極3ｽﾗｲﾀﾞ_ｴﾘｱ4(予備)
;ﾎﾟｲﾝﾄﾃﾞｰﾀ格納
;　ﾎﾟｲﾝﾄ1:受取位置
;　ﾎﾟｲﾝﾄ5:検査位置
;　ﾎﾟｲﾝﾄ9:排出位置
LD= DM1000 #202          ; 現在表示中画面
OUT MR11815              ; RBﾎﾟｲﾝﾄ設定3画面表示中
LDB R26404               ; 軸1 軸制御中
OUT R48406               ; 分極3ｽﾗｲﾀﾞ_位置取込み可PL(TP)
OUT R48407               ; 分極3ｽﾗｲﾀﾞｰ_位置書込み可PL(TP)
LDP R46404               ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo+PB(TP)
INC DM2400               ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
LDP R46405               ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo-PB(TP)
DEC DM2400               ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
LD> DM2400 #9            ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
DW #9 DM2400             ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
LD< DM2400 #1            ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
DW #1 DM2400             ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
LD CR2002                ; 常時ON
MPS
AND= DM2400 #1           ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
OUT @MR6401              ; 分極3ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ1表示
MRD
AND= DM2400 #5           ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
OUT @MR6405              ; 分極3ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ5表示
MPP
AND= DM2400 #9           ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
OUT @MR6409              ; 分極3ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ9表示
LD CR2002                ; 常時ON
MPS
ANP @MR6401              ; 分極3ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ1表示
MPS
LDA.D DM2412             ; 分極3ｽﾗｲﾀﾞ_P1:受取位置
CON
STA.D DM2452             ; 分極3ｽﾗｲﾀﾞｰ_変更位置表示用
MPP
LDA.D DM2432             ; 分極3ｽﾗｲﾀﾞ_P1:受取位置速度
CON
STA.D DM2462             ; 分極3ｽﾗｲﾀﾞｰ_変更速度表示用
MRD
LD>= DM2400 #2           ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
AND<= DM2400 #4          ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
ANL
@MOV.D #0 DM2452         ; 分極3ｽﾗｲﾀﾞｰ_変更位置表示用
@MOV.D #0 DM2462         ; 分極3ｽﾗｲﾀﾞｰ_変更速度表示用
MRD
ANP @MR6405              ; 分極3ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ5表示
MPS
LDA.D DM2414             ; 分極3ｽﾗｲﾀﾞ_P5:検査位置
CON
STA.D DM2452             ; 分極3ｽﾗｲﾀﾞｰ_変更位置表示用
MPP
LDA.D DM2434             ; 分極3ｽﾗｲﾀﾞ_P5:検査位置速度
CON
STA.D DM2462             ; 分極3ｽﾗｲﾀﾞｰ_変更速度表示用
MRD
LD>= DM2400 #6           ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
AND<= DM2400 #8          ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
ANL
@MOV.D #0 DM2452         ; 分極3ｽﾗｲﾀﾞｰ_変更位置表示用
@MOV.D #0 DM2462         ; 分極3ｽﾗｲﾀﾞｰ_変更速度表示用
MPP
ANP @MR6409              ; 分極3ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ9表示
MPS
LDA.D DM2418             ; 分極3ｽﾗｲﾀﾞ_P9:排出位置
CON
STA.D DM2452             ; 分極3ｽﾗｲﾀﾞｰ_変更位置表示用
MPP
LDA.D DM2438             ; 分極3ｽﾗｲﾀﾞ_P9:排出位置速度
CON
STA.D DM2462             ; 分極3ｽﾗｲﾀﾞｰ_変更速度表示用
LD CR2002                ; 常時ON
ANP R46406               ; 分極3ｽﾗｲﾀﾞｰ_位置取込みPB(TP)
AND R48406               ; 分極3ｽﾗｲﾀﾞ_位置取込み可PL(TP)
MPS
AND= DM2400 #1           ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2412 DM6412      ; 分極3ｽﾗｲﾀﾞ_P1:受取位置  分極3ｽﾗｲﾀﾞ_P1:受取位置ﾊﾞｯﾌｧ
MOV.D DM22290 DM2412     ; 軸1 現在座標  分極3ｽﾗｲﾀﾞ_P1:受取位置
MRD
AND= DM2400 #5           ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2414 DM6414      ; 分極3ｽﾗｲﾀﾞ_P5:検査位置  分極3ｽﾗｲﾀﾞ_P5:受取位置ﾊﾞｯﾌｧ
MOV.D DM22290 DM2414     ; 軸1 現在座標  分極3ｽﾗｲﾀﾞ_P5:検査位置
MRD
AND= DM2400 #9           ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2418 DM6418      ; 分極3ｽﾗｲﾀﾞ_P9:排出位置  分極3ｽﾗｲﾀﾞ_P9:受取位置ﾊﾞｯﾌｧ
MOV.D DM22290 DM2418     ; 軸1 現在座標  分極3ｽﾗｲﾀﾞ_P9:排出位置
MPP
LDA.D DM22290            ; 軸1 現在座標
CON
STA.D DM2452             ; 分極3ｽﾗｲﾀﾞｰ_変更位置表示用
LD CR2002                ; 常時ON
AND R46407               ; 分極3ｽﾗｲﾀﾞ_位置書込みPB(TP)
AND R48407               ; 分極3ｽﾗｲﾀﾞｰ_位置書込み可PL(TP)
MPS
AND= DM2400 #1           ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2412 DM6412      ; 分極3ｽﾗｲﾀﾞ_P1:受取位置  分極3ｽﾗｲﾀﾞ_P1:受取位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2452             ; 分極3ｽﾗｲﾀﾞｰ_変更位置表示用
CON
STA.D DM2412             ; 分極3ｽﾗｲﾀﾞ_P1:受取位置
MPP
LDA.D DM2462             ; 分極3ｽﾗｲﾀﾞｰ_変更速度表示用
CON
STA.D DM2432             ; 分極3ｽﾗｲﾀﾞ_P1:受取位置速度
MRD
AND= DM2400 #5           ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2414 DM6414      ; 分極3ｽﾗｲﾀﾞ_P5:検査位置  分極3ｽﾗｲﾀﾞ_P5:受取位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2452             ; 分極3ｽﾗｲﾀﾞｰ_変更位置表示用
CON
STA.D DM2414             ; 分極3ｽﾗｲﾀﾞ_P5:検査位置
MPP
LDA.D DM2462             ; 分極3ｽﾗｲﾀﾞｰ_変更速度表示用
CON
STA.D DM2434             ; 分極3ｽﾗｲﾀﾞ_P5:検査位置速度
MPP
AND= DM2400 #9           ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2418 DM6418      ; 分極3ｽﾗｲﾀﾞ_P9:排出位置  分極3ｽﾗｲﾀﾞ_P9:受取位置ﾊﾞｯﾌｧ
MPS
LDA.D DM2452             ; 分極3ｽﾗｲﾀﾞｰ_変更位置表示用
CON
STA.D DM2418             ; 分極3ｽﾗｲﾀﾞ_P9:排出位置
MPP
LDA.D DM2462             ; 分極3ｽﾗｲﾀﾞｰ_変更速度表示用
CON
STA.D DM2438             ; 分極3ｽﾗｲﾀﾞ_P9:排出位置速度
LD CR2002                ; 常時ON
ANP R46415               ; 分極3ｽﾗｲﾀﾞｰ_はいPB(TP)
LD R48406                ; 分極3ｽﾗｲﾀﾞ_位置取込み可PL(TP)
OR R48407                ; 分極3ｽﾗｲﾀﾞｰ_位置書込み可PL(TP)
ANL
MPS
AND= DM2400 #1           ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
UWRIT #8 #18016 DM2412 #2; 分極3ｽﾗｲﾀﾞ_P1:受取位置
UWRIT #8 #18028 DM2432 #2; 分極3ｽﾗｲﾀﾞ_P1:受取位置速度
MRD
AND= DM2400 #5           ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
UWRIT #8 #20064 DM2414 #2; 分極3ｽﾗｲﾀﾞ_P5:検査位置
UWRIT #8 #20076 DM2434 #2; 分極3ｽﾗｲﾀﾞ_P5:検査位置速度
MPP
AND= DM2400 #9           ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
UWRIT #8 #22112 DM2418 #2; 分極3ｽﾗｲﾀﾞ_P9:排出位置
UWRIT #8 #22124 DM2438 #2; 分極3ｽﾗｲﾀﾞ_P9:排出位置速度
LD CR2002                ; 常時ON
ANP R47204               ; 分極3ｽﾗｲﾀﾞｰ_いいえPB(TP)
MPS
AND= DM2400 #1           ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM6412 DM2412      ; 分極3ｽﾗｲﾀﾞ_P1:受取位置ﾊﾞｯﾌｧ  分極3ｽﾗｲﾀﾞ_P1:受取位置
LDA.D DM2412             ; 分極3ｽﾗｲﾀﾞ_P1:受取位置
CON
STA.D DM2452             ; 分極3ｽﾗｲﾀﾞｰ_変更位置表示用
MRD
AND= DM2400 #5           ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM6414 DM2414      ; 分極3ｽﾗｲﾀﾞ_P5:受取位置ﾊﾞｯﾌｧ  分極3ｽﾗｲﾀﾞ_P5:検査位置
LDA.D DM2414             ; 分極3ｽﾗｲﾀﾞ_P5:検査位置
CON
STA.D DM2452             ; 分極3ｽﾗｲﾀﾞｰ_変更位置表示用
MPP
AND= DM2400 #9           ; 分極3ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM6418 DM2418      ; 分極3ｽﾗｲﾀﾞ_P9:受取位置ﾊﾞｯﾌｧ  分極3ｽﾗｲﾀﾞ_P9:排出位置
LDA.D DM2418             ; 分極3ｽﾗｲﾀﾞ_P9:排出位置
CON
STA.D DM2452             ; 分極3ｽﾗｲﾀﾞｰ_変更位置表示用
LDP T200                 ; CPU動作中遅延
ORP R50014               ; 装置動作中
ORP MR11815              ; RBﾎﾟｲﾝﾄ設定3画面表示中
UREAD #8 #18016 DM2412 #2; 分極3ｽﾗｲﾀﾞ_P1:受取位置
UREAD #8 #18028 DM2432 #2; 分極3ｽﾗｲﾀﾞ_P1:受取位置速度
UREAD #8 #20064 DM2414 #2; 分極3ｽﾗｲﾀﾞ_P5:検査位置
UREAD #8 #20076 DM2434 #2; 分極3ｽﾗｲﾀﾞ_P5:検査位置速度
UREAD #8 #22112 DM2418 #2; 分極3ｽﾗｲﾀﾞ_P9:排出位置
UREAD #8 #22124 DM2438 #2; 分極3ｽﾗｲﾀﾞ_P9:排出位置速度
LDF MR11815              ; RBﾎﾟｲﾝﾄ設定3画面表示中
UWRIT #8 #18016 DM2412 #2; 分極3ｽﾗｲﾀﾞ_P1:受取位置
UWRIT #8 #18028 DM2432 #2; 分極3ｽﾗｲﾀﾞ_P1:受取位置速度
UWRIT #8 #20064 DM2414 #2; 分極3ｽﾗｲﾀﾞ_P5:検査位置
UWRIT #8 #20076 DM2434 #2; 分極3ｽﾗｲﾀﾞ_P5:検査位置速度
UWRIT #8 #22112 DM2418 #2; 分極3ｽﾗｲﾀﾞ_P9:排出位置
UWRIT #8 #22124 DM2438 #2; 分極3ｽﾗｲﾀﾞ_P9:排出位置速度
;<h1/>ﾕﾆｯﾄNo.8:軸2　分極4ｽﾗｲﾀﾞ
;分極4ｽﾗｲﾀﾞ_ｻｰﾎﾞｵﾝ
LD T200                  ; CPU動作中遅延
ANB R50900               ; 非常停止異常
OUT MR2205               ; 分極ｽﾗｲﾀﾞ4_電源ｵﾝ(KM)
LD T200                  ; CPU動作中遅延
ANB R40201               ; ｽﾀｰﾄPB(TP)
AND R2205                ; 分極ｽﾗｲﾀﾞ4/電源ｵﾝ(KM)
ANB MR12001              ; 分極4ｽﾗｲﾀﾞ_ｻｰﾎﾞｵﾝ完了
@SET MR2510              ; 分極4ｽﾗｲﾀﾞｰ_強制停止信号
CON
@SET @MR501              ; @MR501
STG @MR501               ; @MR501
AND T202                 ; RBｺﾝﾄﾛｰﾗｰ起動中遅延
SET R27105               ; 軸2 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR502               ; @MR502
STG @MR502               ; @MR502
ANB R27505               ; 軸2 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
RES R27105               ; 軸2 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR503               ; @MR503
STG @MR503               ; @MR503
SET R26800               ; 軸2 軸ｴﾗｰｸﾘｱ
CON
JMP @MR504               ; @MR504
STG @MR504               ; @MR504
ANB R27200               ; 軸2 軸ｴﾗｰ中
RES R26800               ; 軸2 軸ｴﾗｰｸﾘｱ
CON
JMP @MR505               ; @MR505
STG @MR505               ; @MR505
TMR @55 #30              ; 軸2_ｻｰﾎﾞｵﾝ遅延
CON
AND @T55                 ; 軸2_ｻｰﾎﾞｵﾝ遅延
SET R26913               ; 軸2 ｻｰﾎﾞON
CON
JMP @MR506               ; @MR506
STG @MR506               ; @MR506
TMR @56 #30              ; 軸2_ｻｰﾎﾞｵﾝ確認遅延
CON
AND @T56                 ; 軸2_ｻｰﾎﾞｵﾝ確認遅延
AND R27313               ; 軸2 ｻｰﾎﾞﾚﾃﾞｨ
SET MR12001              ; 分極4ｽﾗｲﾀﾞ_ｻｰﾎﾞｵﾝ完了
CON
ENDS
LDF R27313               ; 軸2 ｻｰﾎﾞﾚﾃﾞｨ
RES MR12001              ; 分極4ｽﾗｲﾀﾞ_ｻｰﾎﾞｵﾝ完了
;分極4ｽﾗｲﾀﾞ_動作中安全扉開処理
LD CR2003                ; 常時OFF
ANB R1004                ; 安全ｶﾊﾞｰ閉
AND R27204               ; 軸2 軸制御中
@SET @MR2501             ; @MR2501
STG @MR2501              ; @MR2501
SET R26802               ; 軸2 減速停止
CON
JMP @MR2502              ; @MR2502
STG @MR2502              ; @MR2502
AND R27202               ; 軸2 減速停止完了
RES R26802               ; 軸2 減速停止
CON
MPS
ANB R50305               ; 手動ｽﾃｯﾌﾟ開始
JMP @MR2503              ; @MR2503
MPP
AND R50305               ; 手動ｽﾃｯﾌﾟ開始
SET R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR2503              ; @MR2503
STG @MR2503              ; @MR2503
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50900               ; 非常停止異常
ANB R27202               ; 軸2 減速停止完了
MPS
LDB R50305               ; 手動ｽﾃｯﾌﾟ開始
AND R1004                ; 安全ｶﾊﾞｰ閉
ANL
SET R26805               ; 軸2 位置決め運転再開
CON
JMP @MR2504              ; @MR2504
MPP
LD R50305                ; 手動ｽﾃｯﾌﾟ開始
ANP R50202               ; 自動起動SWｵﾝ
ANL
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
SET R26805               ; 軸2 位置決め運転再開
CON
JMP @MR2504              ; @MR2504
STG @MR2504              ; @MR2504
AND R27205               ; 軸2 位置決め運転再開完了
RES R26805               ; 軸2 位置決め運転再開
CON
JMP @MR2505              ; @MR2505
STG @MR2505              ; @MR2505
ANB R27205               ; 軸2 位置決め運転再開完了
ENDS
;分極4ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み
LDP R46515               ; 分極4ｽﾗｲﾀﾞｰ_はいPB(TP)
@SET @MR4501             ; 分極4ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み
STG @MR4501              ; 分極4ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み
ANB R24812               ; ﾌﾗｯｼｭROM書込完了
SET R23612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4502              ; @MR4502
STG @MR4502              ; @MR4502
AND R24812               ; ﾌﾗｯｼｭROM書込完了
UREAD #8 #105 @DM12 #1   ; 分極4ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
RES R23612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4503              ; @MR4503
STG @MR4503              ; @MR4503
MPS
AND= @DM12 #0            ; 分極4ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
ENDS
MPP
AND<> @DM12 #0           ; 分極4ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
SET MR12002              ; 分極4ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み異常
CON
JMP @MR4504              ; @MR4504
STG @MR4504              ; @MR4504
AND MR12002              ; 分極4ｽﾗｲﾀﾞ_ﾌﾗｯｼｭﾛﾑ書込み異常
AND R50806               ; 分極4部_異常
AND R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR4505              ; @MR4505
STG @MR4505              ; @MR4505
AND R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
JMP @MR4506              ; @MR4506
STG @MR4506              ; @MR4506
ANB R50806               ; 分極4部_異常
ANB R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
ANB R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
SET R50006               ; ｽﾀｰﾄﾗﾝﾌﾟ点灯
CON
ENDS
;分極4ｽﾗｲﾀﾞ_移動可条件
LDB R27204               ; 軸2 軸制御中
LD R48108                ; 投入移載Z軸_P1:上昇位置PL(TP)
OR R48008                ; 投入移載X軸_P1:待機位置PL(TP)
OR R48009                ; 投入移載X軸_P5:CV位置PL(TP)
OR R48011                ; 投入移載X軸_P11:分極1位置PL(TP)
OR R48012                ; 投入移載X軸_P12:分極2位置PL(TP)
OR R48013                ; 投入移載X軸_P13:分極3位置PL(TP)
ANL
LD R48708                ; 分極取出Z軸_P1:上昇位置PL(TP)
OR R48608                ; 分極取出X軸_P1:待機位置PL(TP)
OR R48610                ; 分極取出X軸_P9:NG位置PL(TP)
OR R48611                ; 分極取出X軸_P11:分極1位置PL(TP)
OR R48612                ; 分極取出X軸_P12:分極2位置PL(TP)
OR R48613                ; 分極取出X軸_P13:分極3位置PL(TP)
ANL
AND R4515                ; 分極4部_ﾌﾟﾛｰﾌﾞ/上昇端
OUT MR12003              ; 分極4ｽﾗｲﾀﾞ_移動可
LD CR2002                ; 常時ON
LD R48108                ; 投入移載Z軸_P1:上昇位置PL(TP)
OR R48008                ; 投入移載X軸_P1:待機位置PL(TP)
OR R48009                ; 投入移載X軸_P5:CV位置PL(TP)
OR R48011                ; 投入移載X軸_P11:分極1位置PL(TP)
OR R48012                ; 投入移載X軸_P12:分極2位置PL(TP)
OR R48013                ; 投入移載X軸_P13:分極3位置PL(TP)
ANL
LD R48708                ; 分極取出Z軸_P1:上昇位置PL(TP)
OR R48608                ; 分極取出X軸_P1:待機位置PL(TP)
OR R48610                ; 分極取出X軸_P9:NG位置PL(TP)
OR R48611                ; 分極取出X軸_P11:分極1位置PL(TP)
OR R48612                ; 分極取出X軸_P12:分極2位置PL(TP)
OR R48613                ; 分極取出X軸_P13:分極3位置PL(TP)
ANL
AND R4515                ; 分極4部_ﾌﾟﾛｰﾌﾞ/上昇端
OUT MR12004              ; 分極4ｽﾗｲﾀﾞ_移動可(JOG)
;分極4ｽﾗｲﾀﾞ_ﾎﾟｼﾞｼｮﾝ表示
LD CR2002                ; 常時ON
U_RDFPOS.L #8 #2 DM2550  ; 分極4ｽﾗｲﾀﾞ_現在座標
MPS
LDA.D DM2550             ; 分極4ｽﾗｲﾀﾞ_現在座標
CON
ADD #1
CON
STA.D DM2570             ; 分極4ｽﾗｲﾀﾞｰ_位置比較ﾃﾞｰﾀ上
MRD
AND<>.L DM2550 +0        ; 分極4ｽﾗｲﾀﾞ_現在座標
LDA.D DM2550             ; 分極4ｽﾗｲﾀﾞ_現在座標
CON
SUB #1
CON
STA.D DM2572             ; 分極4ｽﾗｲﾀﾞｰ_位置比較ﾃﾞｰﾀ下
MRD
AND=.L DM2550 +0         ; 分極4ｽﾗｲﾀﾞ_現在座標
DW #0 DM2572             ; 分極4ｽﾗｲﾀﾞｰ_位置比較ﾃﾞｰﾀ下
MRD
AND R27204               ; 軸2 軸制御中
U_RDFVEL.L #8 #2 DM2560  ; 分極4ｽﾗｲﾀﾞｰ_現在速度
MRD
AND=.L DM2550 DM2512     ; 分極4ｽﾗｲﾀﾞ_現在座標  分極4ｽﾗｲﾀﾞ_P1:受取位置
TMR @161 #3              ; 分極4ｽﾗｲﾀﾞｰ_受取位置確認
CON
AND @T161                ; 分極4ｽﾗｲﾀﾞｰ_受取位置確認
OUT R48508               ; 分極4ｽﾗｲﾀﾞ_P1:受取位置PL(TP)
MRD
AND=.L DM2550 DM2514     ; 分極4ｽﾗｲﾀﾞ_現在座標  分極4ｽﾗｲﾀﾞ_P5:検査位置
TMR @162 #3              ; 分極4ｽﾗｲﾀﾞｰ_検査位置確認
CON
AND @T162                ; 分極4ｽﾗｲﾀﾞｰ_検査位置確認
OUT R48509               ; 分極4ｽﾗｲﾀﾞ_P5:検査位置PL(TP)
MPP
AND=.L DM2550 DM2518     ; 分極4ｽﾗｲﾀﾞ_現在座標  分極4ｽﾗｲﾀﾞ_P9:排出位置
TMR @163 #3              ; 分極4ｽﾗｲﾀﾞｰ_排出位置確認
CON
AND @T163                ; 分極4ｽﾗｲﾀﾞｰ_排出位置確認
OUT R48510               ; 分極4ｽﾗｲﾀﾞ_P9:排出位置PL(TP)
LD CR2003                ; 常時OFF
OUT MR12008              ; 分極4ｽﾗｲﾀﾞ_受取ｴﾘｱ
LD CR2003                ; 常時OFF
OUT MR12009              ; 分極4ｽﾗｲﾀﾞ_検査ｴﾘｱ
LD CR2003                ; 常時OFF
OUT MR12010              ; 分極4ｽﾗｲﾀﾞ_排出ｴﾘｱ
LD CR2003                ; 常時OFF
OUT MR12011              ; 分極4ｽﾗｲﾀﾞ_ｴﾘｱ4(予備)
;ﾎﾟｲﾝﾄﾃﾞｰﾀ格納
;　ﾎﾟｲﾝﾄ1:受取位置
;　ﾎﾟｲﾝﾄ5:検査位置
;　ﾎﾟｲﾝﾄ9:排出位置
LD= DM1000 #202          ; 現在表示中画面
OUT MR12015              ; RBﾎﾟｲﾝﾄ設定3画面表示中
LDB R27204               ; 軸2 軸制御中
OUT R48506               ; 分極4ｽﾗｲﾀﾞ_位置取込み可PL(TP)
OUT R48507               ; 分極4ｽﾗｲﾀﾞｰ_位置書込み可PL(TP)
LDP R46504               ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo+PB(TP)
INC DM2500               ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
LDP R46505               ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo-PB(TP)
DEC DM2500               ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
LD> DM2500 #9            ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
DW #9 DM2500             ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
LD< DM2500 #1            ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
DW #1 DM2500             ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
LD CR2002                ; 常時ON
MPS
AND= DM2500 #1           ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
OUT @MR6501              ; 分極4ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ1表示
MRD
AND= DM2500 #5           ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
OUT @MR6505              ; 分極4ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ5表示
MPP
AND= DM2500 #9           ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
OUT @MR6509              ; 分極4ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ9表示
LD CR2002                ; 常時ON
MPS
ANP @MR6501              ; 分極4ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ1表示
MPS
LDA.D DM2512             ; 分極4ｽﾗｲﾀﾞ_P1:受取位置
CON
STA.D DM2552             ; 分極4ｽﾗｲﾀﾞｰ_変更位置表示用
MPP
LDA.D DM2532             ; 分極4ｽﾗｲﾀﾞ_P1:受取位置速度
CON
STA.D DM2562             ; 分極4ｽﾗｲﾀﾞｰ_変更速度表示用
MRD
LD>= DM2500 #2           ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
AND<= DM2500 #4          ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
ANL
@MOV.D #0 DM2552         ; 分極4ｽﾗｲﾀﾞｰ_変更位置表示用
@MOV.D #0 DM2562         ; 分極4ｽﾗｲﾀﾞｰ_変更速度表示用
MRD
ANP @MR6505              ; 分極4ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ5表示
MPS
LDA.D DM2514             ; 分極4ｽﾗｲﾀﾞ_P5:検査位置
CON
STA.D DM2552             ; 分極4ｽﾗｲﾀﾞｰ_変更位置表示用
MPP
LDA.D DM2534             ; 分極4ｽﾗｲﾀﾞ_P5:検査位置速度
CON
STA.D DM2562             ; 分極4ｽﾗｲﾀﾞｰ_変更速度表示用
MRD
LD>= DM2500 #6           ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
AND<= DM2500 #8          ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
ANL
@MOV.D #0 DM2552         ; 分極4ｽﾗｲﾀﾞｰ_変更位置表示用
@MOV.D #0 DM2562         ; 分極4ｽﾗｲﾀﾞｰ_変更速度表示用
MPP
ANP @MR6509              ; 分極4ｽﾗｲﾀﾞｰ_ﾎﾟｲﾝﾄ9表示
MPS
LDA.D DM2518             ; 分極4ｽﾗｲﾀﾞ_P9:排出位置
CON
STA.D DM2552             ; 分極4ｽﾗｲﾀﾞｰ_変更位置表示用
MPP
LDA.D DM2538             ; 分極4ｽﾗｲﾀﾞ_P9:排出位置速度
CON
STA.D DM2562             ; 分極4ｽﾗｲﾀﾞｰ_変更速度表示用
LD CR2002                ; 常時ON
ANP R46506               ; 分極4ｽﾗｲﾀﾞｰ_位置取込みPB(TP)
AND R48506               ; 分極4ｽﾗｲﾀﾞ_位置取込み可PL(TP)
MPS
AND= DM2500 #1           ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2512 DM6512      ; 分極4ｽﾗｲﾀﾞ_P1:受取位置
MOV.D DM22350 DM2512     ; 軸2 現在座標  分極4ｽﾗｲﾀﾞ_P1:受取位置
MRD
AND= DM2500 #5           ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2514 DM6514      ; 分極4ｽﾗｲﾀﾞ_P5:検査位置
MOV.D DM22350 DM2514     ; 軸2 現在座標  分極4ｽﾗｲﾀﾞ_P5:検査位置
MRD
AND= DM2500 #9           ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2518 DM6518      ; 分極4ｽﾗｲﾀﾞ_P9:排出位置
MOV.D DM22350 DM2518     ; 軸2 現在座標  分極4ｽﾗｲﾀﾞ_P9:排出位置
MPP
LDA.D DM22350            ; 軸2 現在座標
CON
STA.D DM2552             ; 分極4ｽﾗｲﾀﾞｰ_変更位置表示用
LD CR2002                ; 常時ON
AND R46507               ; 分極4ｽﾗｲﾀﾞ_位置書込みPB(TP)
AND R48507               ; 分極4ｽﾗｲﾀﾞｰ_位置書込み可PL(TP)
MPS
AND= DM2500 #1           ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2512 DM6512      ; 分極4ｽﾗｲﾀﾞ_P1:受取位置
MPS
LDA.D DM2552             ; 分極4ｽﾗｲﾀﾞｰ_変更位置表示用
CON
STA.D DM2512             ; 分極4ｽﾗｲﾀﾞ_P1:受取位置
MPP
LDA.D DM2562             ; 分極4ｽﾗｲﾀﾞｰ_変更速度表示用
CON
STA.D DM2532             ; 分極4ｽﾗｲﾀﾞ_P1:受取位置速度
MRD
AND= DM2500 #5           ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2514 DM6514      ; 分極4ｽﾗｲﾀﾞ_P5:検査位置
MPS
LDA.D DM2552             ; 分極4ｽﾗｲﾀﾞｰ_変更位置表示用
CON
STA.D DM2514             ; 分極4ｽﾗｲﾀﾞ_P5:検査位置
MPP
LDA.D DM2562             ; 分極4ｽﾗｲﾀﾞｰ_変更速度表示用
CON
STA.D DM2534             ; 分極4ｽﾗｲﾀﾞ_P5:検査位置速度
MPP
AND= DM2500 #9           ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM2518 DM6518      ; 分極4ｽﾗｲﾀﾞ_P9:排出位置
MPS
LDA.D DM2552             ; 分極4ｽﾗｲﾀﾞｰ_変更位置表示用
CON
STA.D DM2518             ; 分極4ｽﾗｲﾀﾞ_P9:排出位置
MPP
LDA.D DM2562             ; 分極4ｽﾗｲﾀﾞｰ_変更速度表示用
CON
STA.D DM2538             ; 分極4ｽﾗｲﾀﾞ_P9:排出位置速度
LD CR2002                ; 常時ON
ANP R46515               ; 分極4ｽﾗｲﾀﾞｰ_はいPB(TP)
LD R48506                ; 分極4ｽﾗｲﾀﾞ_位置取込み可PL(TP)
OR R48507                ; 分極4ｽﾗｲﾀﾞｰ_位置書込み可PL(TP)
ANL
MPS
AND= DM2500 #1           ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
UWRIT #8 #18048 DM2512 #2; 分極4ｽﾗｲﾀﾞ_P1:受取位置
UWRIT #8 #18060 DM2532 #2; 分極4ｽﾗｲﾀﾞ_P1:受取位置速度
MRD
AND= DM2500 #5           ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
UWRIT #8 #20096 DM2514 #2; 分極4ｽﾗｲﾀﾞ_P5:検査位置
UWRIT #8 #20108 DM2534 #2; 分極4ｽﾗｲﾀﾞ_P5:検査位置速度
MPP
AND= DM2500 #9           ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
UWRIT #8 #22144 DM2518 #2; 分極4ｽﾗｲﾀﾞ_P9:排出位置
UWRIT #8 #22156 DM2538 #2; 分極4ｽﾗｲﾀﾞ_P9:排出位置速度
LD CR2002                ; 常時ON
ANP R47205               ; 分極4ｽﾗｲﾀﾞｰ_いいえPB(TP)
MPS
AND= DM2500 #1           ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM6512 DM2512      ; 分極4ｽﾗｲﾀﾞ_P1:受取位置
LDA.D DM2512             ; 分極4ｽﾗｲﾀﾞ_P1:受取位置
CON
STA.D DM2552             ; 分極4ｽﾗｲﾀﾞｰ_変更位置表示用
MRD
AND= DM2500 #5           ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM6514 DM2514      ; 分極4ｽﾗｲﾀﾞ_P5:検査位置
LDA.D DM2514             ; 分極4ｽﾗｲﾀﾞ_P5:検査位置
CON
STA.D DM2552             ; 分極4ｽﾗｲﾀﾞｰ_変更位置表示用
MPP
AND= DM2500 #9           ; 分極4ｽﾗｲﾀﾞ_ﾎﾟｲﾝﾄNo表示(TP)
MOV.D DM6518 DM2518      ; 分極4ｽﾗｲﾀﾞ_P9:排出位置
LDA.D DM2518             ; 分極4ｽﾗｲﾀﾞ_P9:排出位置
CON
STA.D DM2552             ; 分極4ｽﾗｲﾀﾞｰ_変更位置表示用
LDP T200                 ; CPU動作中遅延
ORP R50014               ; 装置動作中
ORP MR12015              ; RBﾎﾟｲﾝﾄ設定3画面表示中
UREAD #8 #18048 DM2512 #2; 分極4ｽﾗｲﾀﾞ_P1:受取位置
UREAD #8 #18060 DM2532 #2; 分極4ｽﾗｲﾀﾞ_P1:受取位置速度
UREAD #8 #20096 DM2514 #2; 分極4ｽﾗｲﾀﾞ_P5:検査位置
UREAD #8 #20108 DM2534 #2; 分極4ｽﾗｲﾀﾞ_P5:検査位置速度
UREAD #8 #22144 DM2518 #2; 分極4ｽﾗｲﾀﾞ_P9:排出位置
UREAD #8 #22156 DM2538 #2; 分極4ｽﾗｲﾀﾞ_P9:排出位置速度
LDF MR12015              ; RBﾎﾟｲﾝﾄ設定3画面表示中
UWRIT #8 #18048 DM2512 #2; 分極4ｽﾗｲﾀﾞ_P1:受取位置
UWRIT #8 #18060 DM2532 #2; 分極4ｽﾗｲﾀﾞ_P1:受取位置速度
UWRIT #8 #20096 DM2514 #2; 分極4ｽﾗｲﾀﾞ_P5:検査位置
UWRIT #8 #20108 DM2534 #2; 分極4ｽﾗｲﾀﾞ_P5:検査位置速度
UWRIT #8 #22144 DM2518 #2; 分極4ｽﾗｲﾀﾞ_P9:排出位置
UWRIT #8 #22156 DM2538 #2; 分極4ｽﾗｲﾀﾞ_P9:排出位置速度
;<h1/>ﾕﾆｯﾄNo.8:軸3　分極取出移載X軸
;分極取出移載X軸_ｻｰﾎﾞｵﾝ
LD T200                  ; CPU動作中遅延
ANB R50900               ; 非常停止異常
OUT MR2206               ; 分極取出移載RB-X軸/電源ｵﾝ(KM)
LD T200                  ; CPU動作中遅延
ANB R40201               ; ｽﾀｰﾄPB(TP)
AND R2206                ; 分極取出移載X軸_電源ｵﾝ(KM)
ANB MR12201              ; 分極取出移載X軸_ｻｰﾎﾞｵﾝ完了
@SET MR2602              ; 分極取出移載X軸_強制停止信号
CON
@SET @MR601              ; @MR601
STG @MR601               ; @MR601
AND T202                 ; RBｺﾝﾄﾛｰﾗｰ起動中遅延
SET R27905               ; 軸3 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR602               ; @MR602
STG @MR602               ; @MR602
ANB R28305               ; 軸3 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
RES R27905               ; 軸3 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR603               ; @MR603
STG @MR603               ; @MR603
SET R27600               ; 軸3 軸ｴﾗｰｸﾘｱ
CON
JMP @MR604               ; @MR604
STG @MR604               ; @MR604
ANB R28000               ; 軸3 軸ｴﾗｰ中
RES R27600               ; 軸3 軸ｴﾗｰｸﾘｱ
CON
JMP @MR605               ; @MR605
STG @MR605               ; @MR605
TMR @65 #30              ; 軸3_ｻｰﾎﾞｵﾝ遅延
CON
AND @T65                 ; 軸3_ｻｰﾎﾞｵﾝ遅延
SET R27713               ; 軸3 ｻｰﾎﾞON
CON
JMP @MR606               ; @MR606
STG @MR606               ; @MR606
TMR @66 #30              ; 軸3_ｻｰﾎﾞｵﾝ確認遅延
CON
AND @T66                 ; 軸3_ｻｰﾎﾞｵﾝ確認遅延
AND R28113               ; 軸3 ｻｰﾎﾞﾚﾃﾞｨ
SET MR12201              ; 分極取出移載X軸_ｻｰﾎﾞｵﾝ完了
CON
ENDS
LDF R28113               ; 軸3 ｻｰﾎﾞﾚﾃﾞｨ
RES MR12201              ; 分極取出移載X軸_ｻｰﾎﾞｵﾝ完了
;分極取出移載X軸_動作中安全扉開処理
LD CR2003                ; 常時OFF
ANB R1005                ; NG部安全ｶﾊﾞｰ閉
AND R28004               ; 軸3 軸制御中
@SET @MR2601             ; @MR2601
STG @MR2601              ; @MR2601
SET R27602               ; 軸3 減速停止
CON
JMP @MR2602              ; @MR2602
STG @MR2602              ; @MR2602
AND R28002               ; 軸3 減速停止完了
RES R27602               ; 軸3 減速停止
CON
MPS
ANB R50305               ; 手動ｽﾃｯﾌﾟ開始
JMP @MR2603              ; @MR2603
MPP
AND R50305               ; 手動ｽﾃｯﾌﾟ開始
SET R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR2603              ; @MR2603
STG @MR2603              ; @MR2603
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50900               ; 非常停止異常
ANB R28002               ; 軸3 減速停止完了
MPS
LDB R50305               ; 手動ｽﾃｯﾌﾟ開始
AND R1004                ; 安全ｶﾊﾞｰ閉
ANL
SET R27605               ; 軸3 位置決め運転再開
CON
JMP @MR2604              ; @MR2604
MPP
LD R50305                ; 手動ｽﾃｯﾌﾟ開始
ANP R50202               ; 自動起動SWｵﾝ
ANL
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
SET R27605               ; 軸3 位置決め運転再開
CON
JMP @MR2604              ; @MR2604
STG @MR2604              ; @MR2604
AND R28005               ; 軸3 位置決め運転再開完了
RES R27605               ; 軸3 位置決め運転再開
CON
JMP @MR2605              ; @MR2605
STG @MR2605              ; @MR2605
ANB R28005               ; 軸3 位置決め運転再開完了
ENDS
;分極取出移載X軸_ﾌﾗｯｼｭﾛﾑ書込み
LDP R46615               ; 分極取出移載X軸_はいPB)TP)
@SET @MR4601             ; 分極取出移載X軸_ﾌﾗｯｼｭﾛﾑ書込み
STG @MR4601              ; 分極取出移載X軸_ﾌﾗｯｼｭﾛﾑ書込み
ANB R24812               ; ﾌﾗｯｼｭROM書込完了
SET R23612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4602              ; @MR4602
STG @MR4602              ; @MR4602
AND R24812               ; ﾌﾗｯｼｭROM書込完了
UREAD #8 #105 @DM13 #1   ; 分極取出X軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
RES R23612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4603              ; @MR4603
STG @MR4603              ; @MR4603
MPS
AND= @DM13 #0            ; 分極取出X軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
ENDS
MPP
AND<> @DM13 #0           ; 分極取出X軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
SET MR12202              ; 分極取出X軸_ﾌﾗｯｼｭﾛﾑ書込み異常
CON
JMP @MR4604              ; @MR4604
STG @MR4604              ; @MR4604
AND MR12202              ; 分極取出X軸_ﾌﾗｯｼｭﾛﾑ書込み異常
AND R50807               ; 分極取出移載部_異常
AND R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR4605              ; @MR4605
STG @MR4605              ; @MR4605
AND R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
JMP @MR4606              ; @MR4606
STG @MR4606              ; @MR4606
ANB R50807               ; 分極取出移載部_異常
ANB R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
ANB R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
SET R50006               ; ｽﾀｰﾄﾗﾝﾌﾟ点灯
CON
ENDS
;分極取出移載X軸_移動可条件
LDB R28004               ; 軸3 軸制御中
ANB R28804               ; 軸4 軸制御中
AND R48708               ; 分極取出Z軸_P1:上昇位置PL(TP)
AND R4703                ; ﾀﾞﾐｰｶｯﾄ取出移載部_P&P/後退端
OUT MR12203              ; 分極取出移載X軸_移動可
LDB R28804               ; 軸4 軸制御中
AND R48708               ; 分極取出Z軸_P1:上昇位置PL(TP)
AND R4703                ; ﾀﾞﾐｰｶｯﾄ取出移載部_P&P/後退端
OUT MR12204              ; 分極取出移載X軸_移動可(JOG)
;分極取出移載X軸_ﾎﾟｼﾞｼｮﾝ表示
LD CR2002                ; 常時ON
U_RDFPOS.L #8 #3 DM2650  ; 分極取出移載X軸_現在座標読出し
MPS
LDA.D DM2650             ; 分極取出移載X軸_現在座標読出し
CON
ADD #1
CON
STA.D DM2670             ; 分極取出X軸_位置比較ﾃﾞｰﾀ上
MRD
AND<>.L DM2650 +0        ; 分極取出移載X軸_現在座標読出し
LDA.D DM2650             ; 分極取出移載X軸_現在座標読出し
CON
SUB #1
CON
STA.D DM2672             ; 分極取出X軸_位置比較ﾃﾞｰﾀ下
MRD
AND=.L DM2650 +0         ; 分極取出移載X軸_現在座標読出し
DW #0 DM2650             ; 分極取出移載X軸_現在座標読出し
MRD
AND R28004               ; 軸3 軸制御中
U_RDFVEL.L #8 #3 DM2660  ; 分極取出移載X軸_現在速度
MRD
AND=.L DM2650 DM2612     ; 分極取出移載X軸_現在座標読出し  分極取出移載X軸_P1:待機位置
TMR @171 #3              ; 分極取出X軸_待機位置確認
CON
AND @T171                ; 分極取出X軸_待機位置確認
OUT R48608               ; 分極取出X軸_P1:待機位置PL(TP)
MRD
AND=.L DM2650 DM2614     ; 分極取出移載X軸_現在座標読出し  分極取出移載X軸_P5:ﾀﾞﾐｰｶｯﾄ位置
TMR @172 #3              ; 分極取出X軸_ﾀﾞﾐｰｶｯﾄ位置確認
CON
AND @T172                ; 分極取出X軸_ﾀﾞﾐｰｶｯﾄ位置確認
OUT R48609               ; 分極取出X軸_P5:ﾀﾞﾐｰｶｯﾄ位置PL(TP)
MRD
AND=.L DM2650 DM2618     ; 分極取出移載X軸_現在座標読出し  分極取出移載X軸_P9:NG排出位置
TMR @173 #3              ; 分極取出X軸_NG位置確認
CON
AND @T173                ; 分極取出X軸_NG位置確認
OUT R48610               ; 分極取出X軸_P9:NG位置PL(TP)
MRD
AND=.L DM2650 DM2620     ; 分極取出移載X軸_現在座標読出し  分極取出移載X軸_P11:分極1位置
TMR @174 #3              ; 分極取出X軸_分極1位置確認
CON
AND @T174                ; 分極取出X軸_分極1位置確認
OUT R48611               ; 分極取出X軸_P11:分極1位置PL(TP)
MRD
AND=.L DM2650 DM2622     ; 分極取出移載X軸_現在座標読出し  分極取出移載X軸_P12:分極2位置
TMR @175 #3              ; 分極取出X軸_分極2位置確認
CON
AND @T175                ; 分極取出X軸_分極2位置確認
OUT R48612               ; 分極取出X軸_P12:分極2位置PL(TP)
MRD
AND=.L DM2650 DM2624     ; 分極取出移載X軸_現在座標読出し  分極取出移載X軸_P13:分極3位置
TMR @176 #3              ; 分極取出X軸_分極3位置確認
CON
AND @T176                ; 分極取出X軸_分極3位置確認
OUT R48613               ; 分極取出X軸_P13:分極3位置PL(TP)
MPP
AND=.L DM2650 DM2626     ; 分極取出移載X軸_現在座標読出し  分極取出移載X軸_P14:分極4位置
TMR @177 #3              ; 分極取出X軸_分極4位置確認
CON
AND @T177                ; 分極取出X軸_分極4位置確認
OUT R48614               ; 分極取出X軸_P14:分極4位置PL(TP)
LD CR2003                ; 常時OFF
OUT MR12208              ; 分極取出移載X軸_待機ｴﾘｱ
LD CR2003                ; 常時OFF
OUT MR12209              ; 分極取出移載X軸_ﾀﾞﾐｰｶｯﾄｴﾘｱ
LD CR2003                ; 常時OFF
OUT MR12210              ; 分極取出移載X軸_NG排出ｴﾘｱ
LD CR2003                ; 常時OFF
OUT MR12211              ; 分極取出移載X軸_分極ｴﾘｱ1
LD CR2003                ; 常時OFF
OUT MR12212              ; 分極取出移載X軸_分極ｴﾘｱ2
;ﾎﾟｲﾝﾄﾃﾞｰﾀ格納
;　ﾎﾟｲﾝﾄ1:待機位置
;　ﾎﾟｲﾝﾄ5:ﾀﾞﾐｰｶｯﾄ位置
;　ﾎﾟｲﾝﾄ9:NG排出位置
;　ﾎﾟｲﾝﾄ11:分極1投入位置
;　ﾎﾟｲﾝﾄ12:分極2投入位置
;　ﾎﾟｲﾝﾄ13:分極3投入位置
;　ﾎﾟｲﾝﾄ14:分極4投入位置
LD= DM1000 #203          ; 現在表示中画面
OUT MR12215              ; RBﾎﾟｲﾝﾄ設定4画面表示中
LDB R28004               ; 軸3 軸制御中
OUT R48606               ; 分極取出移載X軸_位置取込可PL(TP)
OUT R48607               ; 分極取出移載X軸_位置書込可PL(TP)
LDP R46604               ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo+PB(TP)
INC DM2600               ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
LDP R46605               ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo-PB(TP)
DEC DM2600               ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
LD> DM2600 #14           ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
DW #14 DM2600            ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
LD< DM2600 #1            ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
DW #1 DM2600             ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
LD CR2002                ; 常時ON
MPS
AND= DM2600 #1           ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6601              ; 分極取出移載X軸_ﾎﾟｲﾝﾄ1表示
MRD
AND= DM2600 #5           ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6605              ; 分極取出移載X軸_ﾎﾟｲﾝﾄ5表示
MRD
AND= DM2600 #9           ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6609              ; 分極取出移載X軸_ﾎﾟｲﾝﾄ9表示
MRD
AND= DM2600 #11          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6611              ; 分極取出移載X軸_ﾎﾟｲﾝﾄ11表示
MRD
AND= DM2600 #12          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6612              ; 分極取出移載X軸_ﾎﾟｲﾝﾄ12表示
MRD
AND= DM2600 #13          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6613              ; 分極取出移載X軸_ﾎﾟｲﾝﾄ13表示
MPP
AND= DM2600 #14          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6614              ; 分極取出移載X軸_ﾎﾟｲﾝﾄ14表示
LD CR2002                ; 常時ON
MPS
ANP @MR6601              ; 分極取出移載X軸_ﾎﾟｲﾝﾄ1表示
MPS
LDA.D DM2612             ; 分極取出移載X軸_P1:待機位置
CON
STA.D DM2652             ; 分極取出移載X軸_変更位置表示用
MPP
LDA.D DM2632             ; 分極取出移載X軸_P1:待機位置速度
CON
STA.D DM2662             ; 分極取出移載X軸_変更速度表示用
MRD
LD>= DM2600 #2           ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
AND<= DM2600 #4          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
ANL
@MOV.D #0 DM2652         ; 分極取出移載X軸_変更位置表示用
@MOV.D #0 DM2662         ; 分極取出移載X軸_変更速度表示用
MRD
ANP @MR6605              ; 分極取出移載X軸_ﾎﾟｲﾝﾄ5表示
MPS
LDA.D DM2614             ; 分極取出移載X軸_P5:ﾀﾞﾐｰｶｯﾄ位置
CON
STA.D DM2652             ; 分極取出移載X軸_変更位置表示用
MPP
LDA.D DM2634             ; 分極取出X軸_P5:ﾀﾞﾐｰｶｯﾄ位置速度
CON
STA.D DM2662             ; 分極取出移載X軸_変更速度表示用
MRD
LD>= DM2600 #6           ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
AND<= DM2600 #8          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
ANL
@MOV.D #0 DM2652         ; 分極取出移載X軸_変更位置表示用
@MOV.D #0 DM2662         ; 分極取出移載X軸_変更速度表示用
MRD
ANP @MR6609              ; 分極取出移載X軸_ﾎﾟｲﾝﾄ9表示
MPS
@LDA.D DM2618            ; 分極取出移載X軸_P9:NG排出位置
CON
@STA.D DM2652            ; 分極取出移載X軸_変更位置表示用
MPP
@LDA.D DM2638            ; 分極取出X軸_P9:NG排出位置速度
CON
@STA.D DM2662            ; 分極取出移載X軸_変更速度表示用
MRD
AND= DM2600 #10          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
@MOV.D #0 DM2652         ; 分極取出移載X軸_変更位置表示用
@MOV.D #0 DM2662         ; 分極取出移載X軸_変更速度表示用
MRD
ANP @MR6611              ; 分極取出移載X軸_ﾎﾟｲﾝﾄ11表示
MPS
LDA.D DM2620             ; 分極取出移載X軸_P11:分極1位置
CON
STA.D DM2652             ; 分極取出移載X軸_変更位置表示用
MPP
LDA.D DM2640             ; 分極取出X軸_P11:分極1位置速度
CON
STA.D DM2662             ; 分極取出移載X軸_変更速度表示用
MRD
ANP @MR6612              ; 分極取出移載X軸_ﾎﾟｲﾝﾄ12表示
MPS
LDA.D DM2622             ; 分極取出移載X軸_P12:分極2位置
CON
STA.D DM2652             ; 分極取出移載X軸_変更位置表示用
MPP
LDA.D DM2642             ; 分極取出X軸_P12:分極2位置速度
CON
STA.D DM2662             ; 分極取出移載X軸_変更速度表示用
MRD
ANP @MR6613              ; 分極取出移載X軸_ﾎﾟｲﾝﾄ13表示
MPS
LDA.D DM2624             ; 分極取出移載X軸_P13:分極3位置
CON
STA.D DM2652             ; 分極取出移載X軸_変更位置表示用
MPP
LDA.D DM2644             ; 分極取出X軸_P13:分極3位置速度
CON
STA.D DM2662             ; 分極取出移載X軸_変更速度表示用
MPP
ANP @MR6614              ; 分極取出移載X軸_ﾎﾟｲﾝﾄ14表示
MPS
LDA.D DM2626             ; 分極取出移載X軸_P14:分極4位置
CON
STA.D DM2652             ; 分極取出移載X軸_変更位置表示用
MPP
LDA.D DM2646             ; 分極取出X軸_P14:分極4位置速度
CON
STA.D DM2662             ; 分極取出移載X軸_変更速度表示用
LD CR2002                ; 常時ON
ANP R46606               ; 分極取出移載X軸_位置取込みPB(TP)
AND R48606               ; 分極取出移載X軸_位置取込可PL(TP)
MPS
AND= DM2600 #1           ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2612 DM6612      ; 分極取出移載X軸_P1:待機位置
MOV.D DM22410 DM2612     ; 軸3 現在座標  分極取出移載X軸_P1:待機位置
MRD
AND= DM2600 #5           ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2614 DM6614      ; 分極取出移載X軸_P5:ﾀﾞﾐｰｶｯﾄ位置
MOV.D DM22410 DM2614     ; 軸3 現在座標  分極取出移載X軸_P5:ﾀﾞﾐｰｶｯﾄ位置
MRD
AND= DM2600 #9           ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2618 DM6618      ; 分極取出移載X軸_P9:NG排出位置
MOV.D DM22410 DM2618     ; 軸3 現在座標  分極取出移載X軸_P9:NG排出位置
MRD
AND= DM2600 #11          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2620 DM6620      ; 分極取出移載X軸_P11:分極1位置
MOV.D DM22410 DM2620     ; 軸3 現在座標  分極取出移載X軸_P11:分極1位置
MRD
AND= DM2600 #12          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2622 DM6622      ; 分極取出移載X軸_P12:分極2位置
MOV.D DM22410 DM2622     ; 軸3 現在座標  分極取出移載X軸_P12:分極2位置
MRD
AND= DM2600 #13          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2624 DM6624      ; 分極取出移載X軸_P13:分極3位置
MOV.D DM22410 DM2624     ; 軸3 現在座標  分極取出移載X軸_P13:分極3位置
MRD
AND= DM2600 #14          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2626 DM6626      ; 分極取出移載X軸_P14:分極4位置
MOV.D DM22410 DM2626     ; 軸3 現在座標  分極取出移載X軸_P14:分極4位置
MPP
LDA.D DM22410            ; 軸3 現在座標
CON
STA.D DM2652             ; 分極取出移載X軸_変更位置表示用
LD CR2002                ; 常時ON
AND R46607               ; 分極取出移載X軸_ﾃﾞｰﾀ書込みPB(TP)
AND R48607               ; 分極取出移載X軸_位置書込可PL(TP)
MPS
AND= DM2600 #1           ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2612 DM6612      ; 分極取出移載X軸_P1:待機位置
MPS
LDA.D DM2652             ; 分極取出移載X軸_変更位置表示用
CON
STA.D DM2612             ; 分極取出移載X軸_P1:待機位置
MPP
LDA.D DM2662             ; 分極取出移載X軸_変更速度表示用
CON
STA.D DM2632             ; 分極取出移載X軸_P1:待機位置速度
MRD
AND= DM2600 #5           ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2614 DM6614      ; 分極取出移載X軸_P5:ﾀﾞﾐｰｶｯﾄ位置
MPS
LDA.D DM2652             ; 分極取出移載X軸_変更位置表示用
CON
STA.D DM2614             ; 分極取出移載X軸_P5:ﾀﾞﾐｰｶｯﾄ位置
MPP
LDA.D DM2662             ; 分極取出移載X軸_変更速度表示用
CON
STA.D DM2634             ; 分極取出X軸_P5:ﾀﾞﾐｰｶｯﾄ位置速度
MRD
AND= DM2600 #9           ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2618 DM6618      ; 分極取出移載X軸_P9:NG排出位置
MPS
LDA.D DM2652             ; 分極取出移載X軸_変更位置表示用
CON
STA.D DM2618             ; 分極取出移載X軸_P9:NG排出位置
MPP
LDA.D DM2662             ; 分極取出移載X軸_変更速度表示用
CON
STA.D DM2638             ; 分極取出X軸_P9:NG排出位置速度
MRD
AND= DM2600 #11          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2620 DM6620      ; 分極取出移載X軸_P11:分極1位置
MPS
LDA.D DM2652             ; 分極取出移載X軸_変更位置表示用
CON
STA.D DM2620             ; 分極取出移載X軸_P11:分極1位置
MPP
LDA.D DM2662             ; 分極取出移載X軸_変更速度表示用
CON
STA.D DM2640             ; 分極取出X軸_P11:分極1位置速度
MRD
AND= DM2600 #12          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2622 DM6622      ; 分極取出移載X軸_P12:分極2位置
MPS
LDA.D DM2652             ; 分極取出移載X軸_変更位置表示用
CON
STA.D DM2622             ; 分極取出移載X軸_P12:分極2位置
MPP
LDA.D DM2662             ; 分極取出移載X軸_変更速度表示用
CON
STA.D DM2642             ; 分極取出X軸_P12:分極2位置速度
MRD
AND= DM2600 #13          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2624 DM6624      ; 分極取出移載X軸_P13:分極3位置
MPS
LDA.D DM2652             ; 分極取出移載X軸_変更位置表示用
CON
STA.D DM2624             ; 分極取出移載X軸_P13:分極3位置
MPP
LDA.D DM2662             ; 分極取出移載X軸_変更速度表示用
CON
STA.D DM2644             ; 分極取出X軸_P13:分極3位置速度
MPP
AND= DM2600 #14          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2626 DM6626      ; 分極取出移載X軸_P14:分極4位置
MPS
LDA.D DM2652             ; 分極取出移載X軸_変更位置表示用
CON
STA.D DM2626             ; 分極取出移載X軸_P14:分極4位置
MPP
LDA.D DM2662             ; 分極取出移載X軸_変更速度表示用
CON
STA.D DM2646             ; 分極取出X軸_P14:分極4位置速度
LD CR2002                ; 常時ON
ANP R46615               ; 分極取出移載X軸_はいPB)TP)
LD R48606                ; 分極取出移載X軸_位置取込可PL(TP)
OR R48607                ; 分極取出移載X軸_位置書込可PL(TP)
ANL
MPS
AND= DM2600 #1           ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #8 #18080 DM2612 #2; 分極取出移載X軸_P1:待機位置
UWRIT #8 #18092 DM2632 #2; 分極取出移載X軸_P1:待機位置速度
MRD
AND= DM2600 #5           ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #8 #20128 DM2614 #2; 分極取出移載X軸_P5:ﾀﾞﾐｰｶｯﾄ位置
UWRIT #8 #20140 DM2634 #2; 分極取出X軸_P5:ﾀﾞﾐｰｶｯﾄ位置速度
MRD
AND= DM2600 #9           ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #8 #22176 DM2618 #2; 分極取出移載X軸_P9:NG排出位置
UWRIT #8 #22188 DM2638 #2; 分極取出X軸_P9:NG排出位置速度
MRD
AND= DM2600 #11          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #8 #23200 DM2620 #2; 分極取出移載X軸_P11:分極1位置
UWRIT #8 #23212 DM2640 #2; 分極取出X軸_P11:分極1位置速度
MRD
AND= DM2600 #12          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #8 #23712 DM2622 #2; 分極取出移載X軸_P12:分極2位置
UWRIT #8 #23724 DM2642 #2; 分極取出X軸_P12:分極2位置速度
MRD
AND= DM2600 #13          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #8 #24224 DM2624 #2; 分極取出移載X軸_P13:分極3位置
UWRIT #8 #24236 DM2644 #2; 分極取出X軸_P13:分極3位置速度
MPP
AND= DM2600 #14          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #8 #24736 DM2626 #2; 分極取出移載X軸_P14:分極4位置
UWRIT #8 #24748 DM2646 #2; 分極取出X軸_P14:分極4位置速度
LD CR2002                ; 常時ON
ANP R47206               ; 分極取出移載X軸_いいえPB)TP)
MPS
AND= DM2600 #1           ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6612 DM2612      ; 分極取出移載X軸_P1:待機位置
LDA.D DM2612             ; 分極取出移載X軸_P1:待機位置
CON
STA.D DM2652             ; 分極取出移載X軸_変更位置表示用
MRD
AND= DM2600 #5           ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6614 DM2614      ; 分極取出移載X軸_P5:ﾀﾞﾐｰｶｯﾄ位置
LDA.D DM2614             ; 分極取出移載X軸_P5:ﾀﾞﾐｰｶｯﾄ位置
CON
STA.D DM2652             ; 分極取出移載X軸_変更位置表示用
MRD
AND= DM2600 #9           ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6618 DM2618      ; 分極取出移載X軸_P9:NG排出位置
LDA.D DM2618             ; 分極取出移載X軸_P9:NG排出位置
CON
STA.D DM2652             ; 分極取出移載X軸_変更位置表示用
MRD
AND= DM2600 #11          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6620 DM2620      ; 分極取出移載X軸_P11:分極1位置
LDA.D DM2620             ; 分極取出移載X軸_P11:分極1位置
CON
STA.D DM2652             ; 分極取出移載X軸_変更位置表示用
MRD
AND= DM2600 #12          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6622 DM2622      ; 分極取出移載X軸_P12:分極2位置
LDA.D DM2622             ; 分極取出移載X軸_P12:分極2位置
CON
STA.D DM2652             ; 分極取出移載X軸_変更位置表示用
MRD
AND= DM2600 #13          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6624 DM2624      ; 分極取出移載X軸_P13:分極3位置
LDA.D DM2624             ; 分極取出移載X軸_P13:分極3位置
CON
STA.D DM2652             ; 分極取出移載X軸_変更位置表示用
MPP
AND= DM2600 #14          ; 分極取出移載X軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6626 DM2626      ; 分極取出移載X軸_P14:分極4位置
LDA.D DM2626             ; 分極取出移載X軸_P14:分極4位置
CON
STA.D DM2652             ; 分極取出移載X軸_変更位置表示用
LDP T200                 ; CPU動作中遅延
ORP R50014               ; 装置動作中
ORP MR12215              ; RBﾎﾟｲﾝﾄ設定4画面表示中
UREAD #8 #18080 DM2612 #2; 分極取出移載X軸_P1:待機位置
UREAD #8 #18092 DM2632 #2; 分極取出移載X軸_P1:待機位置速度
UREAD #8 #20128 DM2614 #2; 分極取出移載X軸_P5:ﾀﾞﾐｰｶｯﾄ位置
UREAD #8 #20140 DM2634 #2; 分極取出X軸_P5:ﾀﾞﾐｰｶｯﾄ位置速度
UREAD #8 #22176 DM2618 #2; 分極取出移載X軸_P9:NG排出位置
UREAD #8 #22188 DM2638 #2; 分極取出X軸_P9:NG排出位置速度
UREAD #8 #23200 DM2620 #2; 分極取出移載X軸_P11:分極1位置
UREAD #8 #23212 DM2640 #2; 分極取出X軸_P11:分極1位置速度
UREAD #8 #23712 DM2622 #2; 分極取出移載X軸_P12:分極2位置
UREAD #8 #23724 DM2642 #2; 分極取出X軸_P12:分極2位置速度
UREAD #8 #24224 DM2624 #2; 分極取出移載X軸_P13:分極3位置
UREAD #8 #24236 DM2644 #2; 分極取出X軸_P13:分極3位置速度
UREAD #8 #24736 DM2626 #2; 分極取出移載X軸_P14:分極4位置
UREAD #8 #24748 DM2646 #2; 分極取出X軸_P14:分極4位置速度
LDF MR12215              ; RBﾎﾟｲﾝﾄ設定4画面表示中
UWRIT #8 #18080 DM2612 #2; 分極取出移載X軸_P1:待機位置
UWRIT #8 #18092 DM2632 #2; 分極取出移載X軸_P1:待機位置速度
UWRIT #8 #20128 DM2614 #2; 分極取出移載X軸_P5:ﾀﾞﾐｰｶｯﾄ位置
UWRIT #8 #20140 DM2634 #2; 分極取出X軸_P5:ﾀﾞﾐｰｶｯﾄ位置速度
UWRIT #8 #22176 DM2618 #2; 分極取出移載X軸_P9:NG排出位置
UWRIT #8 #22188 DM2638 #2; 分極取出X軸_P9:NG排出位置速度
UWRIT #8 #23200 DM2620 #2; 分極取出移載X軸_P11:分極1位置
UWRIT #8 #23212 DM2640 #2; 分極取出X軸_P11:分極1位置速度
UWRIT #8 #23712 DM2622 #2; 分極取出移載X軸_P12:分極2位置
UWRIT #8 #23724 DM2642 #2; 分極取出X軸_P12:分極2位置速度
UWRIT #8 #24224 DM2624 #2; 分極取出移載X軸_P13:分極3位置
UWRIT #8 #24236 DM2644 #2; 分極取出X軸_P13:分極3位置速度
UWRIT #8 #24736 DM2626 #2; 分極取出移載X軸_P14:分極4位置
UWRIT #8 #24748 DM2646 #2; 分極取出X軸_P14:分極4位置速度
;<h1/>ﾕﾆｯﾄNo.8:軸4　分極取出移載Z軸
;分極取出移載Z軸_ｻｰﾎﾞｵﾝ
LD T200                  ; CPU動作中遅延
ANB R50900               ; 非常停止異常
OUT MR2207               ; 分極取出移載RB-Z軸/電源ｵﾝ(KM)
LD T200                  ; CPU動作中遅延
ANB R40201               ; ｽﾀｰﾄPB(TP)
AND R2207                ; 分極取出移載Z軸_電源ｵﾝ(KM)
ANB MR12401              ; 分極取出移載Z軸_ｻｰﾎﾞｵﾝ完了
@SET MR2610              ; 分極取出移載Z軸_強制停止信号
CON
@SET @MR701              ; @MR701
STG @MR701               ; @MR701
AND T202                 ; RBｺﾝﾄﾛｰﾗｰ起動中遅延
SET R28705               ; 軸4 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR702               ; @MR702
STG @MR702               ; @MR702
ANB R29105               ; 軸4 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
RES R28705               ; 軸4 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR703               ; @MR703
STG @MR703               ; @MR703
SET R28400               ; 軸4 軸ｴﾗｰｸﾘｱ
CON
JMP @MR704               ; @MR704
STG @MR704               ; @MR704
ANB R28800               ; 軸4 軸ｴﾗｰ中
RES R28400               ; 軸4 軸ｴﾗｰｸﾘｱ
CON
JMP @MR705               ; @MR705
STG @MR705               ; @MR705
TMR @75 #30              ; 軸4_ｻｰﾎﾞｵﾝ遅延
CON
AND @T75                 ; 軸4_ｻｰﾎﾞｵﾝ遅延
SET R28513               ; 軸4 ｻｰﾎﾞON
CON
JMP @MR706               ; @MR706
STG @MR706               ; @MR706
TMR @76 #30              ; 軸4_ｻｰﾎﾞｵﾝ確認遅延
CON
AND @T76                 ; 軸4_ｻｰﾎﾞｵﾝ確認遅延
AND R28913               ; 軸4 ｻｰﾎﾞﾚﾃﾞｨ
SET MR12401              ; 分極取出移載Z軸_ｻｰﾎﾞｵﾝ完了
CON
ENDS
LDF R28913               ; 軸4 ｻｰﾎﾞﾚﾃﾞｨ
RES MR12401              ; 分極取出移載Z軸_ｻｰﾎﾞｵﾝ完了
;分極取出移載Z軸_動作中安全扉開処理
LD CR2003                ; 常時OFF
ANB R1005                ; NG部安全ｶﾊﾞｰ閉
AND R28804               ; 軸4 軸制御中
@SET @MR2701             ; @MR2701
STG @MR2701              ; @MR2701
SET R28402               ; 軸4 減速停止
CON
JMP @MR2702              ; @MR2702
STG @MR2702              ; @MR2702
AND R28802               ; 軸4 減速停止完了
RES R28402               ; 軸4 減速停止
CON
MPS
ANB R50305               ; 手動ｽﾃｯﾌﾟ開始
JMP @MR2703              ; @MR2703
MPP
AND R50305               ; 手動ｽﾃｯﾌﾟ開始
SET R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR2703              ; @MR2703
STG @MR2703              ; @MR2703
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50900               ; 非常停止異常
ANB R28802               ; 軸4 減速停止完了
MPS
LDB R50305               ; 手動ｽﾃｯﾌﾟ開始
AND R1004                ; 安全ｶﾊﾞｰ閉
ANL
SET R28405               ; 軸4 位置決め運転再開
CON
JMP @MR2704              ; @MR2704
MPP
LD R50305                ; 手動ｽﾃｯﾌﾟ開始
ANP R50202               ; 自動起動SWｵﾝ
ANL
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
SET R28405               ; 軸4 位置決め運転再開
CON
JMP @MR2704              ; @MR2704
STG @MR2704              ; @MR2704
AND R28805               ; 軸4 位置決め運転再開完了
RES R28405               ; 軸4 位置決め運転再開
CON
JMP @MR2705              ; @MR2705
STG @MR2705              ; @MR2705
ANB R28805               ; 軸4 位置決め運転再開完了
ENDS
;分極取出移載Z軸_ﾌﾗｯｼｭﾛﾑ書込み
LDP R46715               ; 分極取出移載Z軸_はいPB(TP)
@SET @MR4701             ; 分極取出移載Z軸_ﾌﾗｯｼｭﾛﾑ書込み
STG @MR4701              ; 分極取出移載Z軸_ﾌﾗｯｼｭﾛﾑ書込み
ANB R24812               ; ﾌﾗｯｼｭROM書込完了
SET R23612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4702              ; @MR4702
STG @MR4702              ; @MR4702
AND R24812               ; ﾌﾗｯｼｭROM書込完了
UREAD #8 #105 @DM14 #1   ; 分極取出Z軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
RES R23612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4703              ; @MR4703
STG @MR4703              ; @MR4703
MPS
AND= @DM14 #0            ; 分極取出Z軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
ENDS
MPP
AND<> @DM14 #0           ; 分極取出Z軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
SET MR12402              ; 分極取出Z軸_ﾌﾗｯｼｭﾛﾑ書込み異常
CON
JMP @MR4704              ; @MR4704
STG @MR4704              ; @MR4704
AND MR12402              ; 分極取出Z軸_ﾌﾗｯｼｭﾛﾑ書込み異常
AND R50807               ; 分極取出移載部_異常
AND R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR4705              ; @MR4705
STG @MR4705              ; @MR4705
AND R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
JMP @MR4706              ; @MR4706
STG @MR4706              ; @MR4706
ANB R50807               ; 分極取出移載部_異常
ANB R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
ANB R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
SET R50006               ; ｽﾀｰﾄﾗﾝﾌﾟ点灯
CON
ENDS
;分極取出移載Z軸_移動可条件
LDB R28004               ; 軸3 軸制御中
ANB R28804               ; 軸4 軸制御中
LD R48608                ; 分極取出X軸_P1:待機位置PL(TP)
OR R48609                ; 分極取出X軸_P5:ﾀﾞﾐｰｶｯﾄ位置PL(TP)
OR R48610                ; 分極取出X軸_P9:NG位置PL(TP)
OR R48611                ; 分極取出X軸_P11:分極1位置PL(TP)
OR R48612                ; 分極取出X軸_P12:分極2位置PL(TP)
OR R48613                ; 分極取出X軸_P13:分極3位置PL(TP)
OR R48614                ; 分極取出X軸_P14:分極4位置PL(TP)
ANL
OUT MR12403              ; 分極取出移載Z軸_移動可
LD CR2002                ; 常時ON
ANB R28004               ; 軸3 軸制御中
LD R48608                ; 分極取出X軸_P1:待機位置PL(TP)
OR R48609                ; 分極取出X軸_P5:ﾀﾞﾐｰｶｯﾄ位置PL(TP)
OR R48610                ; 分極取出X軸_P9:NG位置PL(TP)
OR R48611                ; 分極取出X軸_P11:分極1位置PL(TP)
OR R48612                ; 分極取出X軸_P12:分極2位置PL(TP)
OR R48613                ; 分極取出X軸_P13:分極3位置PL(TP)
OR R48614                ; 分極取出X軸_P14:分極4位置PL(TP)
ANL
OUT MR12404              ; 分極取出移載Z軸_移動可(JOG)
;分極取出移載Z軸_ﾎﾟｼﾞｼｮﾝ表示
LD CR2002                ; 常時ON
U_RDFPOS.L #8 #4 DM2750  ; 分極取出移載Z軸_現在座標読出し
MPS
LDA.D DM2750             ; 分極取出移載Z軸_現在座標読出し
CON
ADD #1
CON
STA.D DM2770             ; 分極取出移載Z軸_位置比較ﾃﾞｰﾀ上
MRD
AND<>.L DM2750 +0        ; 分極取出移載Z軸_現在座標読出し
LDA.D DM2750             ; 分極取出移載Z軸_現在座標読出し
CON
SUB #1
CON
STA.D DM2772             ; 分極取出移載Z軸_位置比較ﾃﾞｰﾀ下
MRD
AND=.L DM2750 +0         ; 分極取出移載Z軸_現在座標読出し
DW #0 DM2772             ; 分極取出移載Z軸_位置比較ﾃﾞｰﾀ下
MRD
AND R28804               ; 軸4 軸制御中
U_RDFVEL.L #8 #4 DM2760  ; 分極取出移載Z軸_現在速度
MRD
AND=.L DM2750 DM2712     ; 分極取出移載Z軸_現在座標読出し  分極取出移載Z軸_P1:待機位置
TMR @181 #3              ; 分極取出Z軸_上昇位置確認
CON
AND @T181                ; 分極取出Z軸_上昇位置確認
OUT R48708               ; 分極取出Z軸_P1:上昇位置PL(TP)
MRD
LD=.L DM2750 DM2714      ; 分極取出移載Z軸_現在座標読出し  分極取出移載Z軸_P5:ﾀﾞﾐｰｶｯﾄ位置
AND R48609               ; 分極取出X軸_P5:ﾀﾞﾐｰｶｯﾄ位置PL(TP)
ANL
TMR @182 #3              ; 分極取出Z軸_ﾀﾞﾐｰｶｯﾄ位置確認
CON
AND @T182                ; 分極取出Z軸_ﾀﾞﾐｰｶｯﾄ位置確認
OUT R48709               ; 分極取出Z軸_P5:ﾀﾞﾐｰｶｯﾄ位置PL(TP)
MRD
LD=.L DM2750 DM2718      ; 分極取出移載Z軸_現在座標読出し  分極取出移載Z軸_P9:NG排出位置
AND R48610               ; 分極取出X軸_P9:NG位置PL(TP)
ANL
TMR @183 #3              ; 分極取出Z軸_NG位置確認
CON
AND @T183                ; 分極取出Z軸_NG位置確認
OUT R48710               ; 分極取出Z軸_P9:NG位置PL(TP)
MRD
LD=.L DM2750 DM2720      ; 分極取出移載Z軸_現在座標読出し  分極取出移載Z軸_P11:分極1位置
AND R48611               ; 分極取出X軸_P11:分極1位置PL(TP)
ANL
TMR @184 #3              ; 分極取出Z軸_分極1位置確認
CON
AND @T184                ; 分極取出Z軸_分極1位置確認
OUT R48711               ; 分極取出Z軸_P11:分極1位置PL(TP)
MRD
LD=.L DM2750 DM2722      ; 分極取出移載Z軸_現在座標読出し  分極取出移載Z軸_P12:分極2位置
AND R48612               ; 分極取出X軸_P12:分極2位置PL(TP)
ANL
TMR @185 #3              ; 分極取出Z軸_分極2位置確認
CON
AND @T185                ; 分極取出Z軸_分極2位置確認
OUT R48712               ; 分極取出Z軸_P12:分極2位置PL(TP)
MRD
LD=.L DM2750 DM2724      ; 分極取出移載Z軸_現在座標読出し  分極取出移載Z軸_P13:分極3位置
AND R48613               ; 分極取出X軸_P13:分極3位置PL(TP)
ANL
TMR @186 #3              ; 分極取出Z軸_分極3位置確認
CON
AND @T186                ; 分極取出Z軸_分極3位置確認
OUT R48713               ; 分極取出Z軸_P13:分極3位置PL(TP)
MPP
LD=.L DM2750 DM2726      ; 分極取出移載Z軸_現在座標読出し  分極取出移載Z軸_P14:分極4位置
AND R48614               ; 分極取出X軸_P14:分極4位置PL(TP)
ANL
TMR @187 #3              ; 分極取出Z軸_分極4位置確認
CON
AND @T187                ; 分極取出Z軸_分極4位置確認
OUT R48714               ; 分極取出Z軸_P14:分極4位置PL(TP)
LD CR2003                ; 常時OFF
OUT MR12408              ; 分極取出移載Z軸_ｴﾘｱ1(予備)
LD CR2003                ; 常時OFF
OUT MR12409              ; 分極取出移載Z軸_ｴﾘｱ2(予備)
LD CR2003                ; 常時OFF
OUT MR12410              ; 分極取出移載Z軸_ｴﾘｱ3(予備)
LD CR2003                ; 常時OFF
OUT MR12411              ; 分極取出移載Z軸_ｴﾘｱ4(予備)
;ﾎﾟｲﾝﾄﾃﾞｰﾀ格納
;　ﾎﾟｲﾝﾄ1:上昇位置
;　ﾎﾟｲﾝﾄ5:ﾀﾞﾐｰｶｯﾄ位置
;　ﾎﾟｲﾝﾄ9:NG排出位置
;　ﾎﾟｲﾝﾄ11:分極1投入位置
;　ﾎﾟｲﾝﾄ12:分極2投入位置
;　ﾎﾟｲﾝﾄ13:分極3投入位置
;　ﾎﾟｲﾝﾄ14:分極4投入位置
LD= DM1000 #203          ; 現在表示中画面
OUT MR12415              ; RBﾎﾟｲﾝﾄ設定4画面表示中
LDB R28804               ; 軸4 軸制御中
OUT R48706               ; 分極取出移載Z軸_位置取込可PL(TP)
OUT R48707               ; 分極取出移載Z軸_位置書込可PL(TP)
LDP R46704               ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo+PB(TP)
INC DM2700               ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
LDP R46705               ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo-PB(TP)
DEC DM2700               ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
LD> DM2700 #14           ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
DW #14 DM2700            ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
LD< DM2700 #1            ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
DW #1 DM2700             ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
LD CR2002                ; 常時ON
MPS
AND= DM2700 #1           ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6701              ; 分極取出移載Z軸_ﾎﾟｲﾝﾄ1表示
MRD
AND= DM2700 #5           ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6705              ; 分極取出移載Z軸_ﾎﾟｲﾝﾄ5表示
MRD
AND= DM2700 #9           ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6709              ; 分極取出移載Z軸_ﾎﾟｲﾝﾄ9表示
MRD
AND= DM2700 #11          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6711              ; 分極取出移載Z軸_ﾎﾟｲﾝﾄ11表示
MRD
AND= DM2700 #12          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6712              ; 分極取出移載Z軸_ﾎﾟｲﾝﾄ12表示
MRD
AND= DM2700 #13          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6713              ; 分極取出移載Z軸_ﾎﾟｲﾝﾄ13表示
MPP
AND= DM2700 #14          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6714              ; 分極取出移載Z軸_ﾎﾟｲﾝﾄ14表示
LD CR2002                ; 常時ON
MPS
ANP @MR6701              ; 分極取出移載Z軸_ﾎﾟｲﾝﾄ1表示
MPS
LDA.D DM2712             ; 分極取出移載Z軸_P1:待機位置
CON
STA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
MPP
LDA.D DM2732             ; 分極取出移載Z軸_P1:待機位置速度
CON
STA.D DM2762             ; 分極取出移載Z軸_変更速度表示用
MRD
LD>= DM2700 #2           ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
AND<= DM2700 #4          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
ANL
@MOV.D #0 DM2752         ; 分極取出移載Z軸_変更位置表示用
@MOV.D #0 DM2762         ; 分極取出移載Z軸_変更速度表示用
MRD
ANP @MR6705              ; 分極取出移載Z軸_ﾎﾟｲﾝﾄ5表示
MPS
LDA.D DM2714             ; 分極取出移載Z軸_P5:ﾀﾞﾐｰｶｯﾄ位置
CON
STA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
MPP
LDA.D DM2734             ; 分極取出Z軸_P5:ﾀﾞﾐｰｶｯﾄ位置速度
CON
STA.D DM2762             ; 分極取出移載Z軸_変更速度表示用
MRD
LD>= DM2700 #6           ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
AND<= DM2700 #8          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
ANL
@MOV.D #0 DM2752         ; 分極取出移載Z軸_変更位置表示用
@MOV.D #0 DM2762         ; 分極取出移載Z軸_変更速度表示用
MRD
ANP @MR6709              ; 分極取出移載Z軸_ﾎﾟｲﾝﾄ9表示
MPS
LDA.D DM2718             ; 分極取出移載Z軸_P9:NG排出位置
CON
STA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
MPP
LDA.D DM2738             ; 分極取出Z軸_P9:NG排出位置速度
CON
STA.D DM2762             ; 分極取出移載Z軸_変更速度表示用
MRD
AND= DM2700 #10          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
@MOV.D #0 DM2752         ; 分極取出移載Z軸_変更位置表示用
@MOV.D #0 DM2762         ; 分極取出移載Z軸_変更速度表示用
MRD
ANP @MR6711              ; 分極取出移載Z軸_ﾎﾟｲﾝﾄ11表示
MPS
LDA.D DM2720             ; 分極取出移載Z軸_P11:分極1位置
CON
STA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
MPP
LDA.D DM2740             ; 分極取出Z軸_P11:分極1位置速度
CON
STA.D DM2762             ; 分極取出移載Z軸_変更速度表示用
MRD
ANP @MR6712              ; 分極取出移載Z軸_ﾎﾟｲﾝﾄ12表示
MPS
LDA.D DM2722             ; 分極取出移載Z軸_P12:分極2位置
CON
STA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
MPP
LDA.D DM2742             ; 分極取出Z軸_P12:分極2位置速度
CON
STA.D DM2762             ; 分極取出移載Z軸_変更速度表示用
MRD
ANP @MR6713              ; 分極取出移載Z軸_ﾎﾟｲﾝﾄ13表示
MPS
LDA.D DM2724             ; 分極取出移載Z軸_P13:分極3位置
CON
STA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
MPP
LDA.D DM2744             ; 分極取出Z軸_P13:分極3位置速度
CON
STA.D DM2762             ; 分極取出移載Z軸_変更速度表示用
MPP
ANP @MR6714              ; 分極取出移載Z軸_ﾎﾟｲﾝﾄ14表示
MPS
LDA.D DM2726             ; 分極取出移載Z軸_P14:分極4位置
CON
STA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
MPP
LDA.D DM2746             ; 分極取出Z軸_P14:分極4位置速度
CON
STA.D DM2762             ; 分極取出移載Z軸_変更速度表示用
LD CR2002                ; 常時ON
ANP R46706               ; 分極取出移載Z軸_位置取込みPB(TP)
AND R48706               ; 分極取出移載Z軸_位置取込可PL(TP)
MPS
AND= DM2700 #1           ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2712 DM6712      ; 分極取出移載Z軸_P1:待機位置
MOV.D DM22470 DM2712     ; 軸4 現在座標  分極取出移載Z軸_P1:待機位置
MRD
AND= DM2700 #5           ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2714 DM6714      ; 分極取出移載Z軸_P5:ﾀﾞﾐｰｶｯﾄ位置
MOV.D DM22470 DM2714     ; 軸4 現在座標  分極取出移載Z軸_P5:ﾀﾞﾐｰｶｯﾄ位置
MRD
AND= DM2700 #9           ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2718 DM6718      ; 分極取出移載Z軸_P9:NG排出位置
MOV.D DM22470 DM2718     ; 軸4 現在座標  分極取出移載Z軸_P9:NG排出位置
MRD
AND= DM2700 #11          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2720 DM6720      ; 分極取出移載Z軸_P11:分極1位置
MOV.D DM22470 DM2720     ; 軸4 現在座標  分極取出移載Z軸_P11:分極1位置
MRD
AND= DM2700 #12          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2722 DM6722      ; 分極取出移載Z軸_P12:分極2位置
MOV.D DM22470 DM2722     ; 軸4 現在座標  分極取出移載Z軸_P12:分極2位置
MRD
AND= DM2700 #13          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2724 DM6724      ; 分極取出移載Z軸_P13:分極3位置
MOV DM22470 DM2724       ; 軸4 現在座標  分極取出移載Z軸_P13:分極3位置
MRD
AND= DM2700 #14          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2726 DM6726      ; 分極取出移載Z軸_P14:分極4位置
MOV.D DM22470 DM2726     ; 軸4 現在座標  分極取出移載Z軸_P14:分極4位置
MPP
LDA.D DM22470            ; 軸4 現在座標
CON
STA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
LD CR2002                ; 常時ON
AND R46707               ; 分極取出移載Z軸_位置書込みPB(TP)
AND R48707               ; 分極取出移載Z軸_位置書込可PL(TP)
MPS
AND= DM2700 #1           ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2712 DM6712      ; 分極取出移載Z軸_P1:待機位置
MPS
LDA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
CON
STA.D DM2712             ; 分極取出移載Z軸_P1:待機位置
MPP
LDA.D DM2762             ; 分極取出移載Z軸_変更速度表示用
CON
STA.D DM2732             ; 分極取出移載Z軸_P1:待機位置速度
MRD
AND= DM2700 #5           ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2714 DM6714      ; 分極取出移載Z軸_P5:ﾀﾞﾐｰｶｯﾄ位置
MPS
LDA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
CON
STA.D DM2714             ; 分極取出移載Z軸_P5:ﾀﾞﾐｰｶｯﾄ位置
MPP
LDA.D DM2762             ; 分極取出移載Z軸_変更速度表示用
CON
STA.D DM2734             ; 分極取出Z軸_P5:ﾀﾞﾐｰｶｯﾄ位置速度
MRD
AND= DM2700 #9           ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2718 DM6718      ; 分極取出移載Z軸_P9:NG排出位置
MPS
LDA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
CON
STA.D DM2718             ; 分極取出移載Z軸_P9:NG排出位置
MPP
LDA.D DM2762             ; 分極取出移載Z軸_変更速度表示用
CON
STA.D DM2738             ; 分極取出Z軸_P9:NG排出位置速度
MRD
AND= DM2700 #11          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2720 DM6720      ; 分極取出移載Z軸_P11:分極1位置
MPS
LDA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
CON
STA.D DM2720             ; 分極取出移載Z軸_P11:分極1位置
MPP
LDA.D DM2762             ; 分極取出移載Z軸_変更速度表示用
CON
STA.D DM2740             ; 分極取出Z軸_P11:分極1位置速度
MRD
AND= DM2700 #12          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2722 DM6722      ; 分極取出移載Z軸_P12:分極2位置
MPS
LDA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
CON
STA.D DM2722             ; 分極取出移載Z軸_P12:分極2位置
MPP
LDA.D DM2762             ; 分極取出移載Z軸_変更速度表示用
CON
STA.D DM2742             ; 分極取出Z軸_P12:分極2位置速度
MRD
AND= DM2700 #13          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2724 DM6724      ; 分極取出移載Z軸_P13:分極3位置
MPS
LDA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
CON
STA.D DM2724             ; 分極取出移載Z軸_P13:分極3位置
MPP
LDA.D DM2762             ; 分極取出移載Z軸_変更速度表示用
CON
STA.D DM2744             ; 分極取出Z軸_P13:分極3位置速度
MPP
AND= DM2700 #14          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2726 DM6726      ; 分極取出移載Z軸_P14:分極4位置
MPS
LDA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
CON
STA.D DM2726             ; 分極取出移載Z軸_P14:分極4位置
MPP
LDA.D DM2762             ; 分極取出移載Z軸_変更速度表示用
CON
STA.D DM2746             ; 分極取出Z軸_P14:分極4位置速度
LD CR2002                ; 常時ON
ANP R46715               ; 分極取出移載Z軸_はいPB(TP)
LD R48706                ; 分極取出移載Z軸_位置取込可PL(TP)
OR R48707                ; 分極取出移載Z軸_位置書込可PL(TP)
ANL
MPS
AND= DM2700 #1           ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #8 #18112 DM2712 #2; 分極取出移載Z軸_P1:待機位置
UWRIT #8 #18124 DM2732 #2; 分極取出移載Z軸_P1:待機位置速度
MRD
AND= DM2700 #5           ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #8 #20160 DM2714 #2; 分極取出移載Z軸_P5:ﾀﾞﾐｰｶｯﾄ位置
UWRIT #8 #20172 DM2734 #2; 分極取出Z軸_P5:ﾀﾞﾐｰｶｯﾄ位置速度
MRD
AND= DM2700 #9           ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #8 #22208 DM2718 #2; 分極取出移載Z軸_P9:NG排出位置
UWRIT #8 #22220 DM2738 #2; 分極取出Z軸_P9:NG排出位置速度
MRD
AND= DM2700 #11          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #8 #23232 DM2720 #2; 分極取出移載Z軸_P11:分極1位置
UWRIT #8 #23244 DM2740 #2; 分極取出Z軸_P11:分極1位置速度
MRD
AND= DM2700 #12          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #8 #23744 DM2722 #2; 分極取出移載Z軸_P12:分極2位置
UWRIT #8 #23756 DM2742 #2; 分極取出Z軸_P12:分極2位置速度
MRD
AND= DM2700 #13          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #8 #24256 DM2724 #2; 分極取出移載Z軸_P13:分極3位置
UWRIT #8 #24268 DM2744 #2; 分極取出Z軸_P13:分極3位置速度
MPP
AND= DM2700 #14          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #8 #24768 DM2726 #2; 分極取出移載Z軸_P14:分極4位置
UWRIT #8 #24780 DM2746 #2; 分極取出Z軸_P14:分極4位置速度
LD CR2002                ; 常時ON
ANP R47207               ; 分極取出移載Z軸_いいえPB(TP)
MPS
AND= DM2700 #1           ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6712 DM2712      ; 分極取出移載Z軸_P1:待機位置
LDA.D DM2712             ; 分極取出移載Z軸_P1:待機位置
CON
STA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
MRD
AND= DM2700 #5           ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6714 DM2714      ; 分極取出移載Z軸_P5:ﾀﾞﾐｰｶｯﾄ位置
LDA.D DM2714             ; 分極取出移載Z軸_P5:ﾀﾞﾐｰｶｯﾄ位置
CON
STA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
MRD
AND= DM2700 #9           ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6718 DM2718      ; 分極取出移載Z軸_P9:NG排出位置
LDA.D DM2718             ; 分極取出移載Z軸_P9:NG排出位置
CON
STA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
MRD
AND= DM2700 #11          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6720 DM2720      ; 分極取出移載Z軸_P11:分極1位置
LDA.D DM2720             ; 分極取出移載Z軸_P11:分極1位置
CON
STA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
MRD
AND= DM2700 #12          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6722 DM2722      ; 分極取出移載Z軸_P12:分極2位置
LDA.D DM2722             ; 分極取出移載Z軸_P12:分極2位置
CON
STA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
MRD
AND= DM2700 #13          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6724 DM2724      ; 分極取出移載Z軸_P13:分極3位置
LDA.D DM2724             ; 分極取出移載Z軸_P13:分極3位置
CON
STA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
MPP
AND= DM2700 #14          ; 分極取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6726 DM2726      ; 分極取出移載Z軸_P14:分極4位置
LDA.D DM2726             ; 分極取出移載Z軸_P14:分極4位置
CON
STA.D DM2752             ; 分極取出移載Z軸_変更位置表示用
LDP T200                 ; CPU動作中遅延
ORP R50014               ; 装置動作中
ORP MR12415              ; RBﾎﾟｲﾝﾄ設定4画面表示中
UREAD #8 #18112 DM2712 #2; 分極取出移載Z軸_P1:待機位置
UREAD #8 #18124 DM2732 #2; 分極取出移載Z軸_P1:待機位置速度
UREAD #8 #20160 DM2714 #2; 分極取出移載Z軸_P5:ﾀﾞﾐｰｶｯﾄ位置
UREAD #8 #20172 DM2734 #2; 分極取出Z軸_P5:ﾀﾞﾐｰｶｯﾄ位置速度
UREAD #8 #22208 DM2718 #2; 分極取出移載Z軸_P9:NG排出位置
UREAD #8 #22220 DM2738 #2; 分極取出Z軸_P9:NG排出位置速度
UREAD #8 #23232 DM2720 #2; 分極取出移載Z軸_P11:分極1位置
UREAD #8 #23244 DM2740 #2; 分極取出Z軸_P11:分極1位置速度
UREAD #8 #23744 DM2722 #2; 分極取出移載Z軸_P12:分極2位置
UREAD #8 #23756 DM2742 #2; 分極取出Z軸_P12:分極2位置速度
UREAD #8 #24256 DM2724 #2; 分極取出移載Z軸_P13:分極3位置
UREAD #8 #24268 DM2744 #2; 分極取出Z軸_P13:分極3位置速度
UREAD #8 #24768 DM2726 #2; 分極取出移載Z軸_P14:分極4位置
UREAD #8 #24780 DM2746 #2; 分極取出Z軸_P14:分極4位置速度
LDF MR12415              ; RBﾎﾟｲﾝﾄ設定4画面表示中
UWRIT #8 #18112 DM2712 #2; 分極取出移載Z軸_P1:待機位置
UWRIT #8 #18124 DM2732 #2; 分極取出移載Z軸_P1:待機位置速度
UWRIT #8 #20160 DM2714 #2; 分極取出移載Z軸_P5:ﾀﾞﾐｰｶｯﾄ位置
UWRIT #8 #20172 DM2734 #2; 分極取出Z軸_P5:ﾀﾞﾐｰｶｯﾄ位置速度
UWRIT #8 #22208 DM2718 #2; 分極取出移載Z軸_P9:NG排出位置
UWRIT #8 #22220 DM2738 #2; 分極取出Z軸_P9:NG排出位置速度
UWRIT #8 #23232 DM2720 #2; 分極取出移載Z軸_P11:分極1位置
UWRIT #8 #23244 DM2740 #2; 分極取出Z軸_P11:分極1位置速度
UWRIT #8 #23744 DM2722 #2; 分極取出移載Z軸_P12:分極2位置
UWRIT #8 #23756 DM2742 #2; 分極取出Z軸_P12:分極2位置速度
UWRIT #8 #24256 DM2724 #2; 分極取出移載Z軸_P13:分極3位置
UWRIT #8 #24268 DM2744 #2; 分極取出Z軸_P13:分極3位置速度
UWRIT #8 #24768 DM2726 #2; 分極取出移載Z軸_P14:分極4位置
UWRIT #8 #24780 DM2746 #2; 分極取出Z軸_P14:分極4位置速度
;<h1/>ﾕﾆｯﾄNo.9:軸1　UV塗布Z軸
;UV塗布Z軸_ｻｰﾎﾞｵﾝ
LD T200                  ; CPU動作中遅延
ANB R50900               ; 非常停止異常
OUT MR2208               ; UV塗布RB-Z軸/電源ｵﾝ(KM)
LD T200                  ; CPU動作中遅延
ANB R40201               ; ｽﾀｰﾄPB(TP)
AND R2208                ; UV塗布Z軸_電源ｵﾝ(KM)
ANB MR12601              ; UV塗布Z軸_ｻｰﾎﾞｵﾝ完了
@SET MR2702              ; UV塗布Z軸_強制停止信号
CON
@SET @MR801              ; @MR801
STG @MR801               ; @MR801
AND T202                 ; RBｺﾝﾄﾛｰﾗｰ起動中遅延
SET R34305               ; 軸1 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR802               ; @MR802
STG @MR802               ; @MR802
ANB R34705               ; 軸1 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
RES R34305               ; 軸1 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR803               ; @MR803
STG @MR803               ; @MR803
SET R34000               ; 軸1 軸ｴﾗｰｸﾘｱ
CON
JMP @MR804               ; @MR804
STG @MR804               ; @MR804
ANB R34400               ; 軸1 軸ｴﾗｰ中
RES R34000               ; 軸1 軸ｴﾗｰｸﾘｱ
CON
JMP @MR805               ; @MR805
STG @MR805               ; @MR805
TMR @85 #30              ; 軸1_ｻｰﾎﾞｵﾝ遅延
CON
AND @T85                 ; 軸1_ｻｰﾎﾞｵﾝ遅延
SET R34113               ; 軸1 ｻｰﾎﾞON
CON
JMP @MR806               ; @MR806
STG @MR806               ; @MR806
TMR @86 #30              ; 軸1_ｻｰﾎﾞｵﾝ確認遅延
CON
AND @T86                 ; 軸1_ｻｰﾎﾞｵﾝ確認遅延
AND R34513               ; 軸1 ｻｰﾎﾞﾚﾃﾞｨ
SET MR12601              ; UV塗布Z軸_ｻｰﾎﾞｵﾝ完了
CON
ENDS
LDF R34513               ; 軸1 ｻｰﾎﾞﾚﾃﾞｨ
RES MR12601              ; UV塗布Z軸_ｻｰﾎﾞｵﾝ完了
;UV塗布Z軸_動作中安全扉開処理
LD CR2003                ; 常時OFF
ANB R1005                ; NG部安全ｶﾊﾞｰ閉
AND R34404               ; 軸1 軸制御中
@SET @MR2801             ; @MR2801
STG @MR2801              ; @MR2801
SET R34002               ; 軸1 減速停止
CON
JMP @MR2802              ; @MR2802
STG @MR2802              ; @MR2802
AND R34402               ; 軸1 減速停止完了
RES R34002               ; 軸1 減速停止
CON
MPS
ANB R50305               ; 手動ｽﾃｯﾌﾟ開始
JMP @MR2803              ; @MR2803
MPP
AND R50305               ; 手動ｽﾃｯﾌﾟ開始
SET R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR2803              ; @MR2803
STG @MR2803              ; @MR2803
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50900               ; 非常停止異常
ANB R34402               ; 軸1 減速停止完了
MPS
LDB R50305               ; 手動ｽﾃｯﾌﾟ開始
AND R1004                ; 安全ｶﾊﾞｰ閉
ANL
SET R34005               ; 軸1 位置決め運転再開
CON
JMP @MR2804              ; @MR2804
MPP
LD R50305                ; 手動ｽﾃｯﾌﾟ開始
ANP R50202               ; 自動起動SWｵﾝ
ANL
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
SET R34005               ; 軸1 位置決め運転再開
CON
JMP @MR2704              ; @MR2704
STG @MR2804              ; @MR2804
AND R34405               ; 軸1 位置決め運転再開完了
RES R34005               ; 軸1 位置決め運転再開
CON
JMP @MR2805              ; @MR2805
STG @MR2805              ; @MR2805
ANB R34405               ; 軸1 位置決め運転再開完了
ENDS
;UV塗布Z軸_ﾌﾗｯｼｭﾛﾑ書込み
LDP R46815               ; UV塗布Z軸_はいPB(TP)
@SET @MR4801             ; UV塗布Z軸_ﾌﾗｯｼｭﾛﾑ書込み
STG @MR4801              ; UV塗布Z軸_ﾌﾗｯｼｭﾛﾑ書込み
ANB R32812               ; ﾌﾗｯｼｭROM書込完了
SET R31612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4802              ; @MR4802
STG @MR4802              ; @MR4802
AND R32812               ; ﾌﾗｯｼｭROM書込完了
UREAD #9 #105 @DM21 #1   ; UV塗布Z軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
RES R31612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4803              ; @MR4803
STG @MR4803              ; @MR4803
MPS
AND= @DM21 #0            ; UV塗布Z軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
ENDS
MPP
AND<> @DM21 #0           ; UV塗布Z軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
SET MR12602              ; UV塗布Z軸_ﾌﾗｯｼｭﾛﾑ書込み異常
CON
JMP @MR4804              ; @MR4804
STG @MR4804              ; @MR4804
ANB MR12602              ; UV塗布Z軸_ﾌﾗｯｼｭﾛﾑ書込み異常
AND R50811               ; UV塗布部_異常
AND R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR4805              ; @MR4805
STG @MR4805              ; @MR4805
AND R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
JMP @MR4806              ; @MR4806
STG @MR4806              ; @MR4806
ANB R50811               ; UV塗布部_異常
ANB R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
ANB R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
SET R50006               ; ｽﾀｰﾄﾗﾝﾌﾟ点灯
CON
ENDS
;UV塗布Z軸_移動可条件
LDB R34404               ; 軸1 軸制御中
AND R4709                ; UV塗布部_受皿/前進端
OUT MR12603              ; UV塗布Z軸_移動可
LDB R35204               ; 軸2 軸制御中
AND R4709                ; UV塗布部_受皿/前進端
OUT MR12604              ; UV塗布Z軸_移動可(JOG)
;UV塗布Z軸_ﾎﾟｼﾞｼｮﾝ表示
LD CR2002                ; 常時ON
U_RDFPOS.L #9 #1 DM2850  ; UV塗布Z軸_現在座標読出し
MPS
LDA.D DM2850             ; UV塗布Z軸_現在座標読出し
CON
ADD #1
CON
STA.D DM2870             ; UV塗布Z軸_位置比較ﾃﾞｰﾀ上
MRD
AND<>.L DM2850 +0        ; UV塗布Z軸_現在座標読出し
LDA.D DM2850             ; UV塗布Z軸_現在座標読出し
CON
SUB #1
CON
STA.D DM2872             ; UV塗布Z軸_位置比較ﾃﾞｰﾀ下
MRD
AND=.L DM2850 +0         ; UV塗布Z軸_現在座標読出し
DW #0 DM2872             ; UV塗布Z軸_位置比較ﾃﾞｰﾀ下
MRD
AND R34404               ; 軸1 軸制御中
U_RDFVEL.L #9 #1 DM2860  ; UV塗布Z軸_現在速度
MRD
AND=.L DM2850 DM2812     ; UV塗布Z軸_現在座標読出し  UV塗布Z軸_P1:上昇位置
TMR @191 #0              ; UV塗布Z軸_上昇位置確認
CON
AND @T191                ; UV塗布Z軸_上昇位置確認
OUT R48808               ; UV塗布Z軸_P1:上昇位置PL(TP)
MRD
AND=.L DM2850 DM2814     ; UV塗布Z軸_現在座標読出し  UV塗布Z軸_P3:受皿位置
TMR @192 #3              ; UV塗布Z軸_受皿位置確認
CON
AND @T192                ; UV塗布Z軸_受皿位置確認
OUT R48809               ; UV塗布Z軸_P3:受皿位置PL(TP)
MRD
AND=.L DM2850 DM2816     ; UV塗布Z軸_現在座標読出し  UV塗布Z軸_P5:待機位置
TMR @193 #3              ; UV塗布Z軸_待機位置確認
CON
AND @T193                ; UV塗布Z軸_待機位置確認
OUT R48810               ; UV塗布Z軸_P5:待機位置PL(TP)
MRD
AND=.L DM2850 DM2818     ; UV塗布Z軸_現在座標読出し  UV塗布Z軸_P7:塗布上2位置
TMR @194 #0              ; UV塗布Z軸_塗布上2位置確認
CON
AND @T194                ; UV塗布Z軸_塗布上2位置確認
OUT R48811               ; UV塗布Z軸_P7:塗布上2位置PL(TP)
MRD
AND=.L DM2850 DM2820     ; UV塗布Z軸_現在座標読出し  UV塗布Z軸_P9:塗布上1位置
TMR @195 #0              ; UV塗布Z軸_塗布上1位置確認
CON
AND @T195                ; UV塗布Z軸_塗布上1位置確認
OUT R48812               ; UV塗布Z軸_P9:塗布上1位置PL(TP)
MPP
AND=.L DM2850 DM2822     ; UV塗布Z軸_現在座標読出し  UV塗布Z軸_P9:塗布位置
TMR @196 #0              ; UV塗布Z軸_塗布位置確認
CON
AND @T196                ; UV塗布Z軸_塗布位置確認
OUT R48813               ; UV塗布部_P11:塗布位置PL(TP)
LD CR2003                ; 常時OFF
OUT MR12608              ; UV塗布Z軸_ｴﾘｱ1(予備)
LD CR2003                ; 常時OFF
OUT MR12609              ; UV塗布Z軸_ｴﾘｱ2(予備)
LD CR2003                ; 常時OFF
OUT MR12610              ; UV塗布Z軸_ｴﾘｱ3(予備)
LD CR2003                ; 常時OFF
OUT MR12611              ; UV塗布Z軸_ｴﾘｱ4(予備)
;ﾎﾟｲﾝﾄﾃﾞｰﾀ格納
;　ﾎﾟｲﾝﾄ1:上昇位置
;　ﾎﾟｲﾝﾄ5:待機位置
;　ﾎﾟｲﾝﾄ7:受皿位置
;　ﾎﾟｲﾝﾄ9:塗布位置
LD= DM1000 #200          ; 現在表示中画面
OUT MR12615              ; RBﾎﾟｲﾝﾄ設定5画面表示中
LDB R34404               ; 軸1 軸制御中
OUT R48806               ; UV塗布Z軸_位置取込み可PL(TP)
OUT R48807               ; UV塗布Z軸_位置書込み可PL(TP)
LDP R46804               ; UV塗布Z軸_ﾎﾟｲﾝﾄNo+PB(TP)
INC DM2800               ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
LDP R46805               ; UV塗布Z軸_ﾎﾟｲﾝﾄNo-PB(TP)
DEC DM2800               ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
LD> DM2800 #11           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
DW #9 DM2800             ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
LD< DM2800 #1            ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
DW #1 DM2800             ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
LD CR2002                ; 常時ON
MPS
AND= DM2800 #1           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6801              ; UV塗布Z軸_ﾎﾟｲﾝﾄ1表示
MRD
AND= DM2800 #3           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6803              ; UV塗布Z軸_ﾎﾟｲﾝﾄ3表示
MRD
AND= DM2800 #5           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6805              ; UV塗布Z軸_ﾎﾟｲﾝﾄ5表示
MRD
AND= DM2800 #7           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6807              ; UV塗布Z軸_ﾎﾟｲﾝﾄ7表示
MRD
AND= DM2800 #9           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6809              ; UV塗布Z軸_ﾎﾟｲﾝﾄ9表示
MPP
AND= DM2800 #11          ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6811              ; UV塗布Z軸_ﾎﾟｲﾝﾄ11表示
LD CR2002                ; 常時ON
MPS
ANP @MR6801              ; UV塗布Z軸_ﾎﾟｲﾝﾄ1表示
MPS
LDA.D DM2812             ; UV塗布Z軸_P1:上昇位置
CON
STA.D DM2852             ; UV塗布Z軸_変更位置表示用
MPP
LDA.D DM2832             ; UV塗布Z軸_P1:上昇位置速度
CON
STA.D DM2862             ; UV塗布Z軸_変更速度表示用
MRD
AND= DM2800 #2           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
@MOV.D #0 DM2852         ; UV塗布Z軸_変更位置表示用
@MOV.D #0 DM2862         ; UV塗布Z軸_変更速度表示用
MRD
ANP @MR6803              ; UV塗布Z軸_ﾎﾟｲﾝﾄ3表示
MPS
LDA.D DM2814             ; UV塗布Z軸_P3:受皿位置
CON
STA.D DM2852             ; UV塗布Z軸_変更位置表示用
MPP
LDA.D DM2834             ; UV塗布Z軸_P3:受皿位置速度
CON
STA.D DM2862             ; UV塗布Z軸_変更速度表示用
MRD
AND= DM2800 #4           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
@MOV.D #0 DM2852         ; UV塗布Z軸_変更位置表示用
@MOV.D #0 DM2862         ; UV塗布Z軸_変更速度表示用
MRD
ANP @MR6805              ; UV塗布Z軸_ﾎﾟｲﾝﾄ5表示
MPS
LDA.D DM2816             ; UV塗布Z軸_P5:待機位置
CON
STA.D DM2852             ; UV塗布Z軸_変更位置表示用
MPP
LDA.D DM2836             ; UV塗布Z軸_P5:塗布上2位置速度
CON
STA.D DM2862             ; UV塗布Z軸_変更速度表示用
MRD
AND= DM2800 #6           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
@MOV.D #0 DM2852         ; UV塗布Z軸_変更位置表示用
@MOV.D #0 DM2862         ; UV塗布Z軸_変更速度表示用
MRD
ANP @MR6807              ; UV塗布Z軸_ﾎﾟｲﾝﾄ7表示
MPS
LDA.D DM2818             ; UV塗布Z軸_P7:塗布上2位置
CON
STA.D DM2852             ; UV塗布Z軸_変更位置表示用
MPP
LDA.D DM2838             ; UV塗布Z軸_P7:塗布上2速度
CON
STA.D DM2862             ; UV塗布Z軸_変更速度表示用
MRD
AND= DM2800 #8           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
@MOV.D #0 DM2852         ; UV塗布Z軸_変更位置表示用
@MOV.D #0 DM2862         ; UV塗布Z軸_変更速度表示用
MRD
ANP @MR6809              ; UV塗布Z軸_ﾎﾟｲﾝﾄ9表示
MPS
LDA.D DM2820             ; UV塗布Z軸_P9:塗布上1位置
CON
STA.D DM2852             ; UV塗布Z軸_変更位置表示用
MPP
LDA.D DM2840             ; UV塗布Z軸_P9:塗布上1位置速度
CON
STA.D DM2862             ; UV塗布Z軸_変更速度表示用
MRD
AND= DM2800 #10          ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
@MOV.D #0 DM2852         ; UV塗布Z軸_変更位置表示用
@MOV.D #0 DM2862         ; UV塗布Z軸_変更速度表示用
MPP
ANP @MR6811              ; UV塗布Z軸_ﾎﾟｲﾝﾄ11表示
MPS
LDA.D DM2822             ; UV塗布Z軸_P9:塗布位置
CON
STA.D DM2852             ; UV塗布Z軸_変更位置表示用
MPP
LDA.D DM2842             ; UV塗布Z軸_P11:塗布位置速度
CON
STA.D DM2862             ; UV塗布Z軸_変更速度表示用
LD CR2002                ; 常時ON
ANP R46806               ; UV塗布Z軸_位置取込みPB(TP)
AND R48806               ; UV塗布Z軸_位置取込み可PL(TP)
MPS
AND= DM2800 #1           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2812 DM6812      ; UV塗布Z軸_P1:上昇位置
MOV.D DM30290 DM2812     ; 軸1 現在座標  UV塗布Z軸_P1:上昇位置
MRD
AND= DM2800 #3           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2814 DM6814      ; UV塗布Z軸_P3:受皿位置
MOV.D DM30290 DM2814     ; 軸1 現在座標  UV塗布Z軸_P3:受皿位置
MRD
AND= DM2800 #5           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2816 DM6816      ; UV塗布Z軸_P5:待機位置
MOV.D DM30290 DM2816     ; 軸1 現在座標  UV塗布Z軸_P5:待機位置
MRD
AND= DM2800 #7           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2818 DM6818      ; UV塗布Z軸_P7:塗布上2位置
MOV.D DM30290 DM2818     ; 軸1 現在座標  UV塗布Z軸_P7:塗布上2位置
MRD
AND= DM2800 #9           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2820 DM6820      ; UV塗布Z軸_P9:塗布上1位置
MOV.D DM30290 DM2820     ; 軸1 現在座標  UV塗布Z軸_P9:塗布上1位置
MRD
AND= DM2800 #11          ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2822 DM6822      ; UV塗布Z軸_P9:塗布位置
MOV.D DM30290 DM2822     ; 軸1 現在座標  UV塗布Z軸_P9:塗布位置
MPP
LDA.D DM30290            ; 軸1 現在座標
CON
STA.D DM2852             ; UV塗布Z軸_変更位置表示用
LD CR2002                ; 常時ON
AND R46807               ; UV塗布Z軸_位置書込みPB(TP)
AND R48807               ; UV塗布Z軸_位置書込み可PL(TP)
MPS
AND= DM2800 #1           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2812 DM6812      ; UV塗布Z軸_P1:上昇位置
MPS
LDA.D DM2852             ; UV塗布Z軸_変更位置表示用
CON
STA.D DM2812             ; UV塗布Z軸_P1:上昇位置
MPP
LDA.D DM2862             ; UV塗布Z軸_変更速度表示用
CON
STA.D DM2832             ; UV塗布Z軸_P1:上昇位置速度
MRD
AND= DM2800 #3           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2814 DM6814      ; UV塗布Z軸_P3:受皿位置
MPS
LDA.D DM2852             ; UV塗布Z軸_変更位置表示用
CON
STA.D DM2814             ; UV塗布Z軸_P3:受皿位置
MPP
LDA.D DM2862             ; UV塗布Z軸_変更速度表示用
CON
STA.D DM2834             ; UV塗布Z軸_P3:受皿位置速度
MRD
AND= DM2800 #5           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2816 DM6816      ; UV塗布Z軸_P5:待機位置
MPS
LDA.D DM2852             ; UV塗布Z軸_変更位置表示用
CON
STA.D DM2816             ; UV塗布Z軸_P5:待機位置
MPP
LDA.D DM2862             ; UV塗布Z軸_変更速度表示用
CON
STA.D DM2836             ; UV塗布Z軸_P5:塗布上2位置速度
MRD
AND= DM2800 #7           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2818 DM6818      ; UV塗布Z軸_P7:塗布上2位置
MPS
LDA.D DM2852             ; UV塗布Z軸_変更位置表示用
CON
STA.D DM2818             ; UV塗布Z軸_P7:塗布上2位置
MPP
LDA.D DM2862             ; UV塗布Z軸_変更速度表示用
CON
STA.D DM2838             ; UV塗布Z軸_P7:塗布上2速度
MRD
AND= DM2800 #9           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2820 DM6820      ; UV塗布Z軸_P9:塗布上1位置
MPS
LDA.D DM2852             ; UV塗布Z軸_変更位置表示用
CON
STA.D DM2820             ; UV塗布Z軸_P9:塗布上1位置
MPP
LDA.D DM2862             ; UV塗布Z軸_変更速度表示用
CON
STA.D DM2840             ; UV塗布Z軸_P9:塗布上1位置速度
MPP
AND= DM2800 #11          ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2822 DM6822      ; UV塗布Z軸_P9:塗布位置
MPS
LDA.D DM2852             ; UV塗布Z軸_変更位置表示用
CON
STA.D DM2822             ; UV塗布Z軸_P9:塗布位置
MPP
LDA.D DM2862             ; UV塗布Z軸_変更速度表示用
CON
STA.D DM2842             ; UV塗布Z軸_P11:塗布位置速度
LD CR2002                ; 常時ON
ANP R46815               ; UV塗布Z軸_はいPB(TP)
LD R48806                ; UV塗布Z軸_位置取込み可PL(TP)
OR R48807                ; UV塗布Z軸_位置書込み可PL(TP)
ANL
MPS
AND= DM2800 #1           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #9 #18016 DM2812 #2; UV塗布Z軸_P1:上昇位置
UWRIT #9 #18028 DM2832 #2; UV塗布Z軸_P1:上昇位置速度
MRD
AND= DM2800 #3           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #9 #19040 DM2814 #2; UV塗布Z軸_P3:受皿位置
UWRIT #9 #19052 DM2834 #2; UV塗布Z軸_P3:受皿位置速度
MRD
AND= DM2800 #5           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #9 #20064 DM2816 #2; UV塗布Z軸_P5:待機位置
UWRIT #9 #20076 DM2836 #2; UV塗布Z軸_P5:塗布上2位置速度
MRD
AND= DM2800 #7           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #9 #21088 DM2818 #2; UV塗布Z軸_P7:塗布上2位置
UWRIT #9 #21100 DM2838 #2; UV塗布Z軸_P7:塗布上2速度
MRD
AND= DM2800 #9           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #9 #22112 DM2820 #2; UV塗布Z軸_P9:塗布上1位置
UWRIT #9 #22124 DM2840 #2; UV塗布Z軸_P9:塗布上1位置速度
MPP
AND= DM2800 #11          ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #9 #23136 DM2822 #2; UV塗布Z軸_P9:塗布位置
UWRIT #9 #23148 DM2842 #2; UV塗布Z軸_P11:塗布位置速度
LD CR2002                ; 常時ON
ANP R47208               ; UV塗布Z軸_いいえPB(TP)
MPS
AND= DM2800 #1           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6812 DM2812      ; UV塗布Z軸_P1:上昇位置
LDA.D DM2812             ; UV塗布Z軸_P1:上昇位置
CON
STA.D DM2852             ; UV塗布Z軸_変更位置表示用
MRD
AND= DM2800 #3           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6814 DM2814      ; UV塗布Z軸_P3:受皿位置
LDA.D DM2814             ; UV塗布Z軸_P3:受皿位置
CON
STA.D DM2852             ; UV塗布Z軸_変更位置表示用
MRD
AND= DM2800 #5           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6816 DM2816      ; UV塗布Z軸_P5:待機位置
LDA.D DM2816             ; UV塗布Z軸_P5:待機位置
CON
STA.D DM2852             ; UV塗布Z軸_変更位置表示用
MRD
AND= DM2800 #7           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6818 DM2818      ; UV塗布Z軸_P7:塗布上2位置
LDA.D DM2818             ; UV塗布Z軸_P7:塗布上2位置
CON
STA.D DM2852             ; UV塗布Z軸_変更位置表示用
MRD
AND= DM2800 #9           ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6820 DM2820      ; UV塗布Z軸_P9:塗布上1位置
LDA.D DM2820             ; UV塗布Z軸_P9:塗布上1位置
CON
STA.D DM2852             ; UV塗布Z軸_変更位置表示用
MPP
AND= DM2800 #11          ; UV塗布Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6822 DM2822      ; UV塗布Z軸_P9:塗布位置
LDA.D DM2822             ; UV塗布Z軸_P9:塗布位置
CON
STA.D DM2852             ; UV塗布Z軸_変更位置表示用
LDP T200                 ; CPU動作中遅延
ORP R50014               ; 装置動作中
ORP MR12615              ; RBﾎﾟｲﾝﾄ設定5画面表示中
UREAD #9 #18016 DM2812 #2; UV塗布Z軸_P1:上昇位置
UREAD #9 #18028 DM2832 #2; UV塗布Z軸_P1:上昇位置速度
UREAD #9 #19040 DM2814 #2; UV塗布Z軸_P3:受皿位置
UREAD #9 #19052 DM2834 #2; UV塗布Z軸_P3:受皿位置速度
UREAD #9 #20064 DM2816 #2; UV塗布Z軸_P5:待機位置
UREAD #9 #20076 DM2836 #2; UV塗布Z軸_P5:塗布上2位置速度
UREAD #9 #21088 DM2818 #2; UV塗布Z軸_P7:塗布上2位置
UREAD #9 #21100 DM2838 #2; UV塗布Z軸_P7:塗布上2速度
UREAD #9 #22112 DM2820 #2; UV塗布Z軸_P9:塗布上1位置
UREAD #9 #22124 DM2840 #2; UV塗布Z軸_P9:塗布上1位置速度
UREAD #9 #23136 DM2822 #2; UV塗布Z軸_P9:塗布位置
UREAD #9 #23148 DM2842 #2; UV塗布Z軸_P11:塗布位置速度
LDF MR12615              ; RBﾎﾟｲﾝﾄ設定5画面表示中
UWRIT #9 #18016 DM2812 #2; UV塗布Z軸_P1:上昇位置
UWRIT #9 #18028 DM2832 #2; UV塗布Z軸_P1:上昇位置速度
UWRIT #9 #19040 DM2814 #2; UV塗布Z軸_P3:受皿位置
UWRIT #9 #19052 DM2834 #2; UV塗布Z軸_P3:受皿位置速度
UWRIT #9 #20064 DM2816 #2; UV塗布Z軸_P5:待機位置
UWRIT #9 #20076 DM2836 #2; UV塗布Z軸_P5:塗布上2位置速度
UWRIT #9 #21088 DM2818 #2; UV塗布Z軸_P7:塗布上2位置
UWRIT #9 #21100 DM2838 #2; UV塗布Z軸_P7:塗布上2速度
UWRIT #9 #22112 DM2820 #2; UV塗布Z軸_P9:塗布上1位置
UWRIT #9 #22124 DM2840 #2; UV塗布Z軸_P9:塗布上1位置速度
UWRIT #9 #23136 DM2822 #2; UV塗布Z軸_P9:塗布位置
UWRIT #9 #23148 DM2842 #2; UV塗布Z軸_P11:塗布位置速度
;<h1/>ﾕﾆｯﾄNo.9:軸2　UV塗布移載Y軸
;UV塗布移載Y軸_ｻｰﾎﾞｵﾝ
LD T200                  ; CPU動作中遅延
ANB R50900               ; 非常停止異常
OUT MR2209               ; UV塗布ｽﾗｲﾀﾞY軸/電源ｵﾝ(KM)
LD T200                  ; CPU動作中遅延
ANB R40201               ; ｽﾀｰﾄPB(TP)
AND R2209                ; UV塗布移載Y軸_電源ｵﾝ(KM)
ANB MR12801              ; UV塗布移載Y軸_ｻｰﾎﾞｵﾝ完了
@SET MR2710              ; UV塗布移載Y軸_強制停止信号
CON
@SET @MR901              ; @MR901
STG @MR901               ; @MR901
AND T202                 ; RBｺﾝﾄﾛｰﾗｰ起動中遅延
SET R35105               ; 軸2 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR902               ; @MR902
STG @MR902               ; @MR902
ANB R35505               ; 軸2 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
RES R35105               ; 軸2 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR903               ; @MR903
STG @MR903               ; @MR903
SET R34800               ; 軸2 軸ｴﾗｰｸﾘｱ
CON
JMP @MR904               ; @MR904
STG @MR904               ; @MR904
ANB R35200               ; 軸2 軸ｴﾗｰ中
RES R34800               ; 軸2 軸ｴﾗｰｸﾘｱ
CON
JMP @MR905               ; @MR905
STG @MR905               ; @MR905
TMR @95 #30              ; 軸2_ｻｰﾎﾞｵﾝ遅延
CON
AND @T95                 ; 軸2_ｻｰﾎﾞｵﾝ遅延
SET R34913               ; 軸2 ｻｰﾎﾞON
CON
JMP @MR906               ; @MR906
STG @MR906               ; @MR906
TMR @96 #30              ; 軸2_ｻｰﾎﾞｵﾝ確認遅延
CON
AND @T96                 ; 軸2_ｻｰﾎﾞｵﾝ確認遅延
AND R35313               ; 軸2 ｻｰﾎﾞﾚﾃﾞｨ
SET MR12801              ; UV塗布移載Y軸_ｻｰﾎﾞｵﾝ完了
CON
ENDS
LDF R35313               ; 軸2 ｻｰﾎﾞﾚﾃﾞｨ
RES MR12801              ; UV塗布移載Y軸_ｻｰﾎﾞｵﾝ完了
;UV塗布移載Y軸_動作中安全扉開処理
LD CR2003                ; 常時OFF
ANB R1005                ; NG部安全ｶﾊﾞｰ閉
AND R35204               ; 軸2 軸制御中
@SET @MR2901             ; @MR2901
STG @MR2901              ; @MR2901
SET R34802               ; 軸2 減速停止
CON
JMP @MR2902              ; @MR2902
STG @MR2902              ; @MR2902
AND R35202               ; 軸2 減速停止完了
RES R34802               ; 軸2 減速停止
CON
MPS
ANB R50305               ; 手動ｽﾃｯﾌﾟ開始
JMP @MR2903              ; @MR2903
MPP
AND R50305               ; 手動ｽﾃｯﾌﾟ開始
SET R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR2903              ; @MR2903
STG @MR2903              ; @MR2903
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50900               ; 非常停止異常
ANB R35202               ; 軸2 減速停止完了
MPS
LDB R50305               ; 手動ｽﾃｯﾌﾟ開始
AND R1004                ; 安全ｶﾊﾞｰ閉
ANL
SET R34805               ; 軸2 位置決め運転再開
CON
JMP @MR2904              ; @MR2904
MPP
LD R50305                ; 手動ｽﾃｯﾌﾟ開始
ANP R50202               ; 自動起動SWｵﾝ
ANL
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
SET R34805               ; 軸2 位置決め運転再開
CON
JMP @MR2904              ; @MR2904
STG @MR2904              ; @MR2904
AND R35205               ; 軸2 位置決め運転再開完了
RES R34805               ; 軸2 位置決め運転再開
CON
JMP @MR2905              ; @MR2905
STG @MR2905              ; @MR2905
ANB R35205               ; 軸2 位置決め運転再開完了
ENDS
;UV塗布移載Y軸_ﾌﾗｯｼｭﾛﾑ書込み
LDP R46915               ; UV塗布移載Y軸_はいPB(TP)
@SET @MR4901             ; UV塗布移載Y軸_ﾌﾗｯｼｭﾛﾑ書込み
STG @MR4901              ; UV塗布移載Y軸_ﾌﾗｯｼｭﾛﾑ書込み
ANB R32812               ; ﾌﾗｯｼｭROM書込完了
SET R31612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4902              ; @MR4902
STG @MR4902              ; @MR4902
AND R32812               ; ﾌﾗｯｼｭROM書込完了
UREAD #9 #105 @DM22 #1   ; UV移載Y軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
RES R31612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR4903              ; @MR4903
STG @MR4903              ; @MR4903
MPS
AND= @DM22 #0            ; UV移載Y軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
ENDS
MPP
AND<> @DM22 #0           ; UV移載Y軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
SET MR12802              ; UV塗布移載Y軸_ﾌﾗｯｼｭﾛﾑ書込み異常
CON
JMP @MR4904              ; @MR4904
STG @MR4904              ; @MR4904
AND MR12802              ; UV塗布移載Y軸_ﾌﾗｯｼｭﾛﾑ書込み異常
AND R50810               ; UV塗布移載部_異常
AND R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR4905              ; @MR4905
STG @MR4905              ; @MR4905
AND R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
JMP @MR4906              ; @MR4906
STG @MR4906              ; @MR4906
ANB R50810               ; UV塗布移載部_異常
ANB R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
ANB R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
SET R50006               ; ｽﾀｰﾄﾗﾝﾌﾟ点灯
CON
ENDS
;UV塗布移載Y軸_移動可条件
LDB R35204               ; 軸2 軸制御中
ANB R34404               ; 軸1 軸制御中
LD R4706                 ; ﾀﾞﾐｰｶｯﾄ取出移載部_P&P/上昇端
OR R4702                 ; ﾀﾞﾐｰｶｯﾄ取出移載部_P&P/前進端
ANL
LD R48808                ; UV塗布Z軸_P1:上昇位置PL(TP)
OR R48809                ; UV塗布Z軸_P3:受皿位置PL(TP)
OR R48810                ; UV塗布Z軸_P5:待機位置PL(TP)
OR R48811                ; UV塗布Z軸_P7:塗布上2位置PL(TP)
ANL
LD R49008                ; UV塗布取出移載Z軸_P1:上昇PL(TP)
OR R4802                 ; UV取出移載Y軸/前進端
ANL
OUT MR12803              ; UV塗布移載Y軸_移動可
LDB R34404               ; 軸1 軸制御中
ANB R36004               ; 軸3 軸制御中
LD R4706                 ; ﾀﾞﾐｰｶｯﾄ取出移載部_P&P/上昇端
OR R4702                 ; ﾀﾞﾐｰｶｯﾄ取出移載部_P&P/前進端
ANL
LD R48808                ; UV塗布Z軸_P1:上昇位置PL(TP)
OR R48809                ; UV塗布Z軸_P3:受皿位置PL(TP)
OR R48810                ; UV塗布Z軸_P5:待機位置PL(TP)
OR R48811                ; UV塗布Z軸_P7:塗布上2位置PL(TP)
ANL
LD R49008                ; UV塗布取出移載Z軸_P1:上昇PL(TP)
OR R4802                 ; UV取出移載Y軸/前進端
ANL
OUT MR12804              ; UV塗布移載Y軸_移動可(JOG)
;UV塗布移載Y軸_ﾎﾟｼﾞｼｮﾝ表示
LD CR2002                ; 常時ON
U_RDFPOS.L #9 #2 DM2950  ; UV塗布移載Y軸_現在座標読出し
MPS
LDA.D DM2950             ; UV塗布移載Y軸_現在座標読出し
CON
ADD #1
CON
STA.D DM2970             ; UV塗布移載Y軸_位置比較ﾃﾞｰﾀ上
MRD
AND<>.L DM2950 +0        ; UV塗布移載Y軸_現在座標読出し
LDA.D DM2950             ; UV塗布移載Y軸_現在座標読出し
CON
SUB #1
CON
STA.D DM2972             ; UV塗布移載Y軸_位置比較ﾃﾞｰﾀ下
MRD
AND=.L DM2950 +0         ; UV塗布移載Y軸_現在座標読出し
DW #0 DM2972             ; UV塗布移載Y軸_位置比較ﾃﾞｰﾀ下
MRD
AND R35204               ; 軸2 軸制御中
U_RDFVEL.L #9 #2 DM2960  ; UV塗布移載Y軸_現在速度表示
MRD
AND=.L DM2950 DM2912     ; UV塗布移載Y軸_現在座標読出し  UV塗布移載Y軸_P1:待機位置
TMR @201 #3              ; UV移載Y軸_受取位置確認
CON
AND @T201                ; UV移載Y軸_受取位置確認
OUT R48908               ; UV移載Y軸_P1:受取位置PL(TP)
MRD
AND=.L DM2950 DM2914     ; UV塗布移載Y軸_現在座標読出し  UV塗布移載Y軸_P5:受取位置
TMR @202 #3              ; UV移載Y軸_塗布位置確認
CON
AND @T202                ; UV移載Y軸_塗布位置確認
OUT R48909               ; UV移載Y軸_P5:UV塗布位置PL(TP)
MPP
AND=.L DM2950 DM2918     ; UV塗布移載Y軸_現在座標読出し  UV塗布移載Y軸_P9:排出位置
TMR @203 #3              ; UV移載Y軸_排出位置確認
CON
AND @T203                ; UV移載Y軸_排出位置確認
OUT R48910               ; UV移載Y軸_P9:排出位置PL(TP)
LD CR2003                ; 常時OFF
OUT MR12808              ; UV塗布移載Y軸_受取ｴﾘｱ
LD CR2003                ; 常時OFF
OUT MR12809              ; UV塗布移載Y軸_UVｴﾘｱ
LD CR2003                ; 常時OFF
OUT MR12810              ; UV塗布移載Y軸_排出ｴﾘｱ
;ﾎﾟｲﾝﾄﾃﾞｰﾀ格納
;　ﾎﾟｲﾝﾄ1:待機位置
;　ﾎﾟｲﾝﾄ5:受取位置
;　ﾎﾟｲﾝﾄ7:UV塗布位置
;　ﾎﾟｲﾝﾄ9:排出位置
LD= DM1000 #204          ; 現在表示中画面
OUT MR12815              ; RBﾎﾟｲﾝﾄ設定5画面表示中
LDB R35204               ; 軸2 軸制御中
OUT R48906               ; UV塗布移載Y軸_位置取込み可PL(TP)
OUT R48907               ; UV塗布移載Y軸_位置書込み可PL(TP)
LDP R46904               ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo+PB(TP)
INC DM2900               ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
LDP R46905               ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo-PB(TP)
DEC DM2900               ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
LD> DM2900 #9            ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
DW #9 DM2900             ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
LD< DM2900 #1            ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
DW #1 DM2900             ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
LD CR2002                ; 常時ON
MPS
AND= DM2900 #1           ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6901              ; UV塗布移載Y軸_ﾎﾟｲﾝﾄ1表示
MRD
AND= DM2900 #5           ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6905              ; UV塗布移載Y軸_ﾎﾟｲﾝﾄ5表示
MPP
AND= DM2900 #9           ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR6909              ; UV塗布移載Y軸_ﾎﾟｲﾝﾄ9表示用
LD CR2002                ; 常時ON
MPS
ANP @MR6901              ; UV塗布移載Y軸_ﾎﾟｲﾝﾄ1表示
MPS
LDA.D DM2912             ; UV塗布移載Y軸_P1:待機位置
CON
STA.D DM2952             ; UV塗布移載Y軸_変更位置表示用
MPP
LDA.D DM2932             ; UV塗布移載Y軸_P1:待機位置速度
CON
STA.D DM2962             ; UV塗布移載Y軸_変更速度表示用
MRD
LD>= DM2900 #2           ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
AND<= DM2900 #4          ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
ANL
@MOV.D #0 DM2952         ; UV塗布移載Y軸_変更位置表示用
@MOV.D #0 DM2962         ; UV塗布移載Y軸_変更速度表示用
MRD
ANP @MR6905              ; UV塗布移載Y軸_ﾎﾟｲﾝﾄ5表示
MPS
LDA.D DM2914             ; UV塗布移載Y軸_P5:受取位置
CON
STA.D DM2952             ; UV塗布移載Y軸_変更位置表示用
MPP
LDA.D DM2934             ; UV塗布移載Y軸_P5:受取位置速度
CON
STA.D DM2962             ; UV塗布移載Y軸_変更速度表示用
MRD
LD>= DM2900 #6           ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
AND<= DM2900 #8          ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
ANL
@MOV.D #0 DM2952         ; UV塗布移載Y軸_変更位置表示用
@MOV.D #0 DM2962         ; UV塗布移載Y軸_変更速度表示用
MPP
ANP @MR6909              ; UV塗布移載Y軸_ﾎﾟｲﾝﾄ9表示用
MPS
LDA.D DM2918             ; UV塗布移載Y軸_P9:排出位置
CON
STA.D DM2952             ; UV塗布移載Y軸_変更位置表示用
MPP
LDA.D DM2938             ; UV塗布移載Y軸_P9:排出位置速度
CON
STA.D DM2962             ; UV塗布移載Y軸_変更速度表示用
LD CR2002                ; 常時ON
ANP R46906               ; UV塗布移載Y軸_位置取込みPB(TP)
AND R48906               ; UV塗布移載Y軸_位置取込み可PL(TP)
MPS
AND= DM2900 #1           ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2912 DM6912      ; UV塗布移載Y軸_P1:待機位置
MOV.D DM30350 DM2912     ; 軸2 現在座標  UV塗布移載Y軸_P1:待機位置
MRD
AND= DM2900 #5           ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2914 DM6914      ; UV塗布移載Y軸_P5:受取位置
MOV.D DM30350 DM2914     ; 軸2 現在座標  UV塗布移載Y軸_P5:受取位置
MRD
AND= DM2900 #9           ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2918 DM6918      ; UV塗布移載Y軸_P9:排出位置
MOV.D DM30350 DM2918     ; 軸2 現在座標  UV塗布移載Y軸_P9:排出位置
MPP
@LDA.D DM30350           ; 軸2 現在座標
CON
@STA.D DM2952            ; UV塗布移載Y軸_変更位置表示用
LD CR2002                ; 常時ON
AND R46907               ; UV塗布移載Y軸_位置書込みPB(TP)
AND R48907               ; UV塗布移載Y軸_位置書込み可PL(TP)
MPS
AND= DM2900 #1           ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2912 DM6912      ; UV塗布移載Y軸_P1:待機位置
MPS
LDA.D DM2952             ; UV塗布移載Y軸_変更位置表示用
CON
STA.D DM2912             ; UV塗布移載Y軸_P1:待機位置
MPP
LDA.D DM2962             ; UV塗布移載Y軸_変更速度表示用
CON
STA.D DM2932             ; UV塗布移載Y軸_P1:待機位置速度
MRD
AND= DM2900 #5           ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2914 DM6914      ; UV塗布移載Y軸_P5:受取位置
MPS
LDA.D DM2952             ; UV塗布移載Y軸_変更位置表示用
CON
STA.D DM2914             ; UV塗布移載Y軸_P5:受取位置
MPP
LDA.D DM2962             ; UV塗布移載Y軸_変更速度表示用
CON
STA.D DM2934             ; UV塗布移載Y軸_P5:受取位置速度
MPP
AND= DM2900 #9           ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM2918 DM6918      ; UV塗布移載Y軸_P9:排出位置
MPS
LDA.D DM2952             ; UV塗布移載Y軸_変更位置表示用
CON
STA.D DM2918             ; UV塗布移載Y軸_P9:排出位置
MPP
LDA.D DM2962             ; UV塗布移載Y軸_変更速度表示用
CON
STA.D DM2938             ; UV塗布移載Y軸_P9:排出位置速度
LD CR2002                ; 常時ON
ANP R46915               ; UV塗布移載Y軸_はいPB(TP)
LD R48906                ; UV塗布移載Y軸_位置取込み可PL(TP)
OR R48907                ; UV塗布移載Y軸_位置書込み可PL(TP)
ANL
MPS
AND= DM2900 #1           ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #9 #18048 DM2912 #2; UV塗布移載Y軸_P1:待機位置
UWRIT #9 #18060 DM2932 #2; UV塗布移載Y軸_P1:待機位置速度
MRD
AND= DM2900 #5           ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #9 #20096 DM2914 #2; UV塗布移載Y軸_P5:受取位置
UWRIT #9 #20108 DM2934 #2; UV塗布移載Y軸_P5:受取位置速度
MPP
AND= DM2900 #9           ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #9 #22144 DM2918 #2; UV塗布移載Y軸_P9:排出位置
UWRIT #9 #22156 DM2938 #2; UV塗布移載Y軸_P9:排出位置速度
LD CR2002                ; 常時ON
ANP R47209               ; UV塗布移載Y軸_いいえPB(TP)
MPS
AND= DM2900 #1           ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6912 DM2912      ; UV塗布移載Y軸_P1:待機位置
LDA.D DM2912             ; UV塗布移載Y軸_P1:待機位置
CON
STA.D DM2952             ; UV塗布移載Y軸_変更位置表示用
MRD
AND= DM2900 #5           ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6914 DM2914      ; UV塗布移載Y軸_P5:受取位置
LDA.D DM2914             ; UV塗布移載Y軸_P5:受取位置
CON
STA.D DM2952             ; UV塗布移載Y軸_変更位置表示用
MPP
AND= DM2900 #9           ; UV塗布移載Y軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM6918 DM2918      ; UV塗布移載Y軸_P9:排出位置
LDA.D DM2918             ; UV塗布移載Y軸_P9:排出位置
CON
STA.D DM2952             ; UV塗布移載Y軸_変更位置表示用
LDP T200                 ; CPU動作中遅延
ORP R50014               ; 装置動作中
ORP MR12815              ; RBﾎﾟｲﾝﾄ設定5画面表示中
UREAD #9 #18048 DM2912 #2; UV塗布移載Y軸_P1:待機位置
UREAD #9 #18060 DM2932 #2; UV塗布移載Y軸_P1:待機位置速度
UREAD #9 #20096 DM2914 #2; UV塗布移載Y軸_P5:受取位置
UREAD #9 #20108 DM2934 #2; UV塗布移載Y軸_P5:受取位置速度
UREAD #9 #22144 DM2918 #2; UV塗布移載Y軸_P9:排出位置
UREAD #9 #22156 DM2938 #2; UV塗布移載Y軸_P9:排出位置速度
LDF MR12815              ; RBﾎﾟｲﾝﾄ設定5画面表示中
UWRIT #9 #18048 DM2912 #2; UV塗布移載Y軸_P1:待機位置
UWRIT #9 #18060 DM2932 #2; UV塗布移載Y軸_P1:待機位置速度
UWRIT #9 #20096 DM2914 #2; UV塗布移載Y軸_P5:受取位置
UWRIT #9 #20108 DM2934 #2; UV塗布移載Y軸_P5:受取位置速度
UWRIT #9 #22144 DM2918 #2; UV塗布移載Y軸_P9:排出位置
UWRIT #9 #22156 DM2938 #2; UV塗布移載Y軸_P9:排出位置速度
;<h1/>ﾕﾆｯﾄNo.9:軸3　UV塗布取出移載Z軸
;UV塗布取出移載Z軸_ｻｰﾎﾞｵﾝ
LD T200                  ; CPU動作中遅延
ANB R50900               ; 非常停止異常
OUT MR2210               ; UV塗布取出移載RB-Z軸/電源ｵﾝ(KM)
LD T200                  ; CPU動作中遅延
ANB R40201               ; ｽﾀｰﾄPB(TP)
AND R2210                ; UV塗布取出移載Z軸_電源ｵﾝ(KM)
ANB MR13001              ; UV塗布取出移載Z軸_ｻｰﾎﾞｵﾝ完了
@SET MR2802              ; UV取出移載Z軸_強制停止信号
CON
@SET @MR1001             ; @MR1001
STG @MR1001              ; @MR1001
AND T202                 ; RBｺﾝﾄﾛｰﾗｰ起動中遅延
SET R35905               ; 軸3 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR1002              ; @MR1002
STG @MR1002              ; @MR1002
ANB R36305               ; 軸3 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
RES R35905               ; 軸3 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
CON
JMP @MR1003              ; @MR1003
STG @MR1003              ; @MR1003
SET R35600               ; 軸3 軸ｴﾗｰｸﾘｱ
CON
JMP @MR1004              ; @MR1004
STG @MR1004              ; @MR1004
ANB R36000               ; 軸3 軸ｴﾗｰ中
RES R35600               ; 軸3 軸ｴﾗｰｸﾘｱ
CON
JMP @MR1005              ; @MR1005
STG @MR1005              ; @MR1005
TMR @105 #30             ; 軸3_ｻｰﾎﾞｵﾝ遅延
CON
AND @T105                ; 軸3_ｻｰﾎﾞｵﾝ遅延
SET R35713               ; 軸3 ｻｰﾎﾞON
CON
JMP @MR1006              ; @MR1006
STG @MR1006              ; @MR1006
TMR @106 #30             ; 軸3_ｻｰﾎﾞｵﾝ確認遅延
CON
AND @T106                ; 軸3_ｻｰﾎﾞｵﾝ確認遅延
AND R36113               ; 軸3 ｻｰﾎﾞﾚﾃﾞｨ
SET MR13001              ; UV塗布取出移載Z軸_ｻｰﾎﾞｵﾝ完了
CON
ENDS
LDF R36113               ; 軸3 ｻｰﾎﾞﾚﾃﾞｨ
RES MR13001              ; UV塗布取出移載Z軸_ｻｰﾎﾞｵﾝ完了
;UV塗布取出移載Z軸_動作中安全扉開処理
LD CR2003                ; 常時OFF
LDB R1005                ; NG部安全ｶﾊﾞｰ閉
ORB R1004                ; 安全ｶﾊﾞｰ閉
ANL
AND R36004               ; 軸3 軸制御中
@SET @MR3001             ; @MR3001
STG @MR3001              ; @MR3001
SET R35602               ; 軸3 減速停止
CON
JMP @MR3002              ; @MR3002
STG @MR3002              ; @MR3002
AND R36002               ; 軸3 減速停止完了
RES R35602               ; 軸3 減速停止
CON
MPS
ANB R50305               ; 手動ｽﾃｯﾌﾟ開始
JMP @MR3003              ; @MR3003
MPP
AND R50305               ; 手動ｽﾃｯﾌﾟ開始
SET R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR3003              ; @MR3003
STG @MR3003              ; @MR3003
ANB R50600               ; ﾒｲﾝ一時停止
ANB R50812               ; UV塗布取出移載部_異常
ANB R36002               ; 軸3 減速停止完了
MPS
LDB R50305               ; 手動ｽﾃｯﾌﾟ開始
AND R1004                ; 安全ｶﾊﾞｰ閉
ANL
SET R35605               ; 軸3 位置決め運転再開
CON
JMP @MR3004              ; @MR3004
MPP
LD R50305                ; 手動ｽﾃｯﾌﾟ開始
ANP R50202               ; 自動起動SWｵﾝ
ANL
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
SET R35605               ; 軸3 位置決め運転再開
CON
JMP @MR3004              ; @MR3004
STG @MR3004              ; @MR3004
AND R36005               ; 軸3 位置決め運転再開完了
RES R35605               ; 軸3 位置決め運転再開
CON
JMP @MR3005              ; @MR3005
STG @MR3005              ; @MR3005
ANB R36005               ; 軸3 位置決め運転再開完了
ENDS
;UV塗布取出移載Z軸_ﾌﾗｯｼｭﾛﾑ書込み
LDP R47015               ; UV取出移載Z軸_はいPB(TP)
@SET @MR5001             ; UV塗布取出移載Z軸_ﾌﾗｯｼｭﾛﾑ書込み
STG @MR5001              ; UV塗布取出移載Z軸_ﾌﾗｯｼｭﾛﾑ書込み
ANB R32812               ; ﾌﾗｯｼｭROM書込完了
SET R31612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR5002              ; @MR5002
STG @MR5002              ; @MR5002
AND R32812               ; ﾌﾗｯｼｭROM書込完了
UREAD #9 #105 @DM23 #1   ; UV取出Z軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
RES R31612               ; ﾌﾗｯｼｭROM書込要求
CON
JMP @MR5003              ; @MR5003
STG @MR5003              ; @MR5003
MPS
AND= @DM23 #0            ; UV取出Z軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
ENDS
MPP
AND<> @DM23 #0           ; UV取出Z軸_ﾌﾗｯｼｭﾛﾑ書込完了ｺｰﾄﾞ
SET MR12802              ; UV塗布移載Y軸_ﾌﾗｯｼｭﾛﾑ書込み異常
CON
JMP @MR5004              ; @MR5004
STG @MR5004              ; @MR5004
AND MR13002              ; UV取出移載Z軸_ﾌﾗｯｼｭﾛﾑ書込異常
AND R50812               ; UV塗布取出移載部_異常
AND R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
RES R50005               ; ｽﾀｰﾄﾗﾝﾌﾟ点滅
CON
JMP @MR5005              ; @MR5005
STG @MR5005              ; @MR5005
AND R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
JMP @MR5006              ; @MR5006
STG @MR5006              ; @MR5006
ANB R50812               ; UV塗布取出移載部_異常
ANB R50701               ; 異常確認時ﾘｾｯﾄSWｵﾝ
ANB R50702               ; 異常解除時ｽﾀｰﾄSWｵﾝ
SET R50006               ; ｽﾀｰﾄﾗﾝﾌﾟ点灯
CON
ENDS
;UV塗布取出移載Z軸_移動可条件
LDB R36004               ; 軸3 軸制御中
LD R4802                 ; UV取出移載Y軸/前進端
OR R4803                 ; UV取出移載Y軸/後退端
ANL
OUT MR13003              ; UV塗布取出移載Z軸_移動可
LDB R36004               ; 軸3 軸制御中
LD R4802                 ; UV取出移載Y軸/前進端
OR R4803                 ; UV取出移載Y軸/後退端
ANL
OUT MR13004              ; UV塗布取出移載Z軸_移動可(JOG)
;UV塗布取出移載Z軸_ﾎﾟｼﾞｼｮﾝ表示
LD CR2002                ; 常時ON
U_RDFPOS.L #9 #3 DM3050  ; UV取出移載Z軸_現在座標読出し
MPS
LDA.D DM3050             ; UV取出移載Z軸_現在座標読出し
CON
ADD #1
CON
STA.D DM3070             ; UV取出Z軸_位置比較ﾃﾞｰﾀ上
MRD
AND<>.L DM3050 +0        ; UV取出移載Z軸_現在座標読出し
LDA.D DM3050             ; UV取出移載Z軸_現在座標読出し
CON
SUB #1
CON
STA.D DM3072             ; UV取出Z軸_位置比較ﾃﾞｰﾀ下
MRD
AND=.L DM3050 +0         ; UV取出移載Z軸_現在座標読出し
DW #0 DM3072             ; UV取出Z軸_位置比較ﾃﾞｰﾀ下
MRD
AND R36004               ; 軸3 軸制御中
U_RDFVEL.L #9 #3 DM3060
MRD
AND=.L DM3050 DM3012     ; UV取出移載Z軸_現在座標読出し  UV取出移載Z軸_P1:上昇位置
TMR @211 #2              ; UV塗布取出Z軸_上昇位置確認
CON
AND @T211                ; UV塗布取出Z軸_上昇位置確認
OUT R49008               ; UV塗布取出移載Z軸_P1:上昇PL(TP)
MRD
AND=.L DM3050 DM3014     ; UV取出移載Z軸_現在座標読出し  UV取出移載Z軸_P5:UV位置
TMR @212 #2              ; UV塗布取出Z軸_UV位置確認
CON
AND @T212                ; UV塗布取出Z軸_UV位置確認
OUT R49009               ; UV取出移載Z軸_P5:UV位置PL(TP)
MPP
AND=.L DM3050 DM3018     ; UV取出移載Z軸_現在座標読出し  UV取出移載Z軸_P9:CV位置
TMR @213 #2              ; UV取出Z軸_CV位置確認
CON
AND @T213                ; UV取出Z軸_CV位置確認
OUT R49010               ; UV取出移載Z軸_P9:CV位置PL(TP)
LD CR2003                ; 常時OFF
OUT MR13008              ; UV取出移載Z軸_ｴﾘｱ1(予備9
LD CR2003                ; 常時OFF
OUT MR13009              ; UV取出移載Z軸_ｴﾘｱ2(予備)
LD CR2003                ; 常時OFF
OUT MR13010              ; UV取出移載Z軸_ｴﾘｱ3(予備9
LD CR2003                ; 常時OFF
OUT MR13011              ; UV取出移載Z軸_ｴﾘｱ4(予備)
;ﾎﾟｲﾝﾄﾃﾞｰﾀ格納
;　ﾎﾟｲﾝﾄ1:上昇位置
;　ﾎﾟｲﾝﾄ5:UV位置
;　ﾎﾟｲﾝﾄ9:CV位置
LD= DM1000 #205          ; 現在表示中画面
OUT MR13015              ; RBﾎﾟｲﾝﾄ設定6画面表示中
LDB R36004               ; 軸3 軸制御中
OUT R49006               ; UV取出移載Z軸_位置書込可PL(TP)
OUT R49007               ; UV取出移載Z軸_位置書込み可PL(TP)
LDP R47004               ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo+PB(TP)
INC DM3000               ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
LDP R47005               ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo-PB(TP)
DEC DM3000               ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
LD> DM3000 #9            ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
DW #9 DM3000             ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
LD< DM3000 #1            ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
DW #1 DM3000             ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
LD CR2002                ; 常時ON
MPS
AND= DM3000 #1           ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR7001              ; UV取出移載Z軸_ﾎﾟｲﾝﾄ1表示
MRD
AND= DM3000 #5           ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR7005              ; UV取出移載Z軸_ﾎﾟｲﾝﾄ5表示
MPP
AND= DM3000 #9           ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
OUT @MR7009              ; UV取出移載Z軸_ﾎﾟｲﾝﾄ9表示
LD CR2002                ; 常時ON
MPS
ANP @MR7001              ; UV取出移載Z軸_ﾎﾟｲﾝﾄ1表示
MPS
LDA.D DM3012             ; UV取出移載Z軸_P1:上昇位置
CON
STA.D DM3052             ; UV取出移載Z軸_変更位置表示用
MPP
LDA.D DM3032             ; UV取出移載Z軸_P1:上昇位置速度
CON
STA.D DM3062             ; UV取出移載Z軸_変更速度表示用
MRD
LD>= DM3000 #2           ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
AND<= DM3000 #4          ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
ANL
@MOV.D #0 DM3052         ; UV取出移載Z軸_変更位置表示用
@MOV.D #0 DM3062         ; UV取出移載Z軸_変更速度表示用
MRD
ANP @MR7005              ; UV取出移載Z軸_ﾎﾟｲﾝﾄ5表示
MPS
LDA.D DM3014             ; UV取出移載Z軸_P5:UV位置
CON
STA.D DM3052             ; UV取出移載Z軸_変更位置表示用
MPP
LDA.D DM3034             ; UV取出移載Z軸_P5:UV位置速度
CON
STA.D DM3062             ; UV取出移載Z軸_変更速度表示用
MRD
LD>= DM3000 #6           ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
AND<= DM3000 #8          ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
ANL
@MOV.D #0 DM3052         ; UV取出移載Z軸_変更位置表示用
@MOV.D #0 DM3062         ; UV取出移載Z軸_変更速度表示用
MPP
ANP @MR7009              ; UV取出移載Z軸_ﾎﾟｲﾝﾄ9表示
MPS
LDA.D DM3018             ; UV取出移載Z軸_P9:CV位置
CON
STA.D DM3052             ; UV取出移載Z軸_変更位置表示用
MPP
LDA.D DM3038             ; UV取出移載Z軸_P9:CV位置速度
CON
STA.D DM3062             ; UV取出移載Z軸_変更速度表示用
LD CR2002                ; 常時ON
ANP R47006               ; UV取出移載Z軸_位置取込みPB(TP)
AND R49006               ; UV取出移載Z軸_位置書込可PL(TP)
MPS
AND= DM3000 #1           ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM3012 DM7012      ; UV取出移載Z軸_P1:上昇位置
MOV.D DM30410 DM3012     ; 軸3 現在座標  UV取出移載Z軸_P1:上昇位置
MRD
AND= DM3000 #5           ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM3014 DM7014      ; UV取出移載Z軸_P5:UV位置
MOV.D DM30410 DM3014     ; 軸3 現在座標  UV取出移載Z軸_P5:UV位置
MRD
AND= DM3000 #9           ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM3018 DM7018      ; UV取出移載Z軸_P9:CV位置
MOV.D DM30410 DM3018     ; 軸3 現在座標  UV取出移載Z軸_P9:CV位置
MPP
LDA.D DM30410            ; 軸3 現在座標
CON
STA.D DM3052             ; UV取出移載Z軸_変更位置表示用
LD CR2002                ; 常時ON
AND R47007               ; UV取出移載Z軸_位置書込みPB(TP)
AND R49007               ; UV取出移載Z軸_位置書込み可PL(TP)
MPS
AND= DM3000 #1           ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM3012 DM7012      ; UV取出移載Z軸_P1:上昇位置
MPS
LDA.D DM3052             ; UV取出移載Z軸_変更位置表示用
CON
STA.D DM3012             ; UV取出移載Z軸_P1:上昇位置
MPP
LDA.D DM3062             ; UV取出移載Z軸_変更速度表示用
CON
STA.D DM3032             ; UV取出移載Z軸_P1:上昇位置速度
MRD
AND= DM3000 #5           ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM3014 DM7014      ; UV取出移載Z軸_P5:UV位置
MPS
LDA.D DM3052             ; UV取出移載Z軸_変更位置表示用
CON
STA.D DM3014             ; UV取出移載Z軸_P5:UV位置
MPP
LDA.D DM3062             ; UV取出移載Z軸_変更速度表示用
CON
STA.D DM3034             ; UV取出移載Z軸_P5:UV位置速度
MPP
AND= DM3000 #9           ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM3018 DM7018      ; UV取出移載Z軸_P9:CV位置
MPS
LDA.D DM3052             ; UV取出移載Z軸_変更位置表示用
CON
STA.D DM3018             ; UV取出移載Z軸_P9:CV位置
MPP
LDA.D DM3062             ; UV取出移載Z軸_変更速度表示用
CON
STA.D DM3038             ; UV取出移載Z軸_P9:CV位置速度
LD CR2002                ; 常時ON
ANP R47015               ; UV取出移載Z軸_はいPB(TP)
LD R49006                ; UV取出移載Z軸_位置書込可PL(TP)
OR R49007                ; UV取出移載Z軸_位置書込み可PL(TP)
ANL
MPS
AND= DM3000 #1           ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #9 #18080 DM3012 #2; UV取出移載Z軸_P1:上昇位置
UWRIT #9 #18092 DM3032 #2; UV取出移載Z軸_P1:上昇位置速度
MRD
AND= DM3000 #5           ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #9 #20128 DM3014 #2; UV取出移載Z軸_P5:UV位置
UWRIT #9 #20140 DM3034 #2; UV取出移載Z軸_P5:UV位置速度
MPP
AND= DM3000 #9           ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
UWRIT #9 #22176 DM3018 #2; UV取出移載Z軸_P9:CV位置
UWRIT #9 #22188 DM3038 #2; UV取出移載Z軸_P9:CV位置速度
LD CR2002                ; 常時ON
ANP R47210               ; UV取出移載Z軸_いいえPB(TP)
MPS
AND= DM3000 #1           ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM7012 DM3012      ; UV取出移載Z軸_P1:上昇位置
LDA.D DM3012             ; UV取出移載Z軸_P1:上昇位置
CON
STA.D DM3052             ; UV取出移載Z軸_変更位置表示用
MRD
AND= DM3000 #5           ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM7014 DM3014      ; UV取出移載Z軸_P5:UV位置
LDA.D DM3014             ; UV取出移載Z軸_P5:UV位置
CON
STA.D DM3052             ; UV取出移載Z軸_変更位置表示用
MPP
AND= DM3000 #9           ; UV取出移載Z軸_ﾎﾟｲﾝﾄNo(TP)
MOV.D DM7018 DM3018      ; UV取出移載Z軸_P9:CV位置
LDA.D DM3018             ; UV取出移載Z軸_P9:CV位置
CON
STA.D DM3052             ; UV取出移載Z軸_変更位置表示用
LDP T200                 ; CPU動作中遅延
ORP R50014               ; 装置動作中
ORP MR13015              ; RBﾎﾟｲﾝﾄ設定6画面表示中
UREAD #9 #18080 DM3012 #2; UV取出移載Z軸_P1:上昇位置
UREAD #9 #18092 DM3032 #2; UV取出移載Z軸_P1:上昇位置速度
UREAD #9 #20128 DM3014 #2; UV取出移載Z軸_P5:UV位置
UREAD #9 #20140 DM3034 #2; UV取出移載Z軸_P5:UV位置速度
UREAD #9 #22176 DM3018 #2; UV取出移載Z軸_P9:CV位置
UREAD #9 #22188 DM3038 #2; UV取出移載Z軸_P9:CV位置速度
LDF MR13015              ; RBﾎﾟｲﾝﾄ設定6画面表示中
UWRIT #9 #18080 DM3012 #2; UV取出移載Z軸_P1:上昇位置
UWRIT #9 #18092 DM3032 #2; UV取出移載Z軸_P1:上昇位置速度
UWRIT #9 #20128 DM3014 #2; UV取出移載Z軸_P5:UV位置
UWRIT #9 #20140 DM3034 #2; UV取出移載Z軸_P5:UV位置速度
UWRIT #9 #22176 DM3018 #2; UV取出移載Z軸_P9:CV位置
UWRIT #9 #22188 DM3038 #2; UV取出移載Z軸_P9:CV位置速度
;ﾕﾆｯﾄNo.9:軸4無し
END
ENDH
