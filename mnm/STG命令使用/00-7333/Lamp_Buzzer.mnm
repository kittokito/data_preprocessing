DEVICE:53
;MODULE:Lamp_Buzzer
;MODULE_TYPE:0
;<<フリッカー>>
;<<Flicker>>
LD CR2002                ; 常時ON
FLIK #50 #50 MR005       ; ﾗﾝﾌﾟ点滅用(0.5S)
FLIK #20 #20 MR006       ; ﾗﾝﾌﾟ点滅用(0.2S)
;ﾜｰｸﾌﾗｸﾞﾘｾｯﾄ
;Product flag reset 
LD MR003                 ; ﾜｰｸ良品
OR MR004                 ; ﾜｰｸ不良品
TMR @1 #30
CON
AND @T1
RES MR003                ; ﾜｰｸ良品
CON
RES MR004                ; ﾜｰｸ不良品
;表示　/　Indixation
;<h1/>ｽﾀｰﾄswﾗﾝﾌﾟ/Start sw lamp
;点灯：動作中、検査結果不良
;点滅：動作開始要求
;Lit: In operation, poor inspection result
;Flashing: Operation start request
LD MR2000                ; ｽﾀｰﾄSW
OR MR004                 ; ﾜｰｸ不良品
LDB MR304                ; 原点復帰中
ANB MR306                ; 自動運転中
ANB MR307                ; ﾒﾝﾃ動作中
INV
ANB @MR001
ANB MR002                ; ｽﾀｰﾄSW点滅要求
ORL
LD MR002                 ; ｽﾀｰﾄSW点滅要求
OR MR202                 ; ｴﾗｰ解除要求
OR @MR001
AND MR005                ; ﾗﾝﾌﾟ点滅用(0.5S)
ORL
OUT MR6000               ; ｽﾀｰﾄSWﾗﾝﾌﾟ
LD= EM30000 #821         ; (TP)現在表示中画面No.
AND= EM30029 #5          ; (TP)装置ﾘｰｸ検査表示用
ANB MR902                ; ｴﾗｰ
OUT @MR001
;<h1/>ﾌﾞｻﾞｰ/Buzzer
;異常中、検査結果不良
;
;3秒ON：検査結果良品
;During abnormality, inspection result defect
;
;3 seconds ON: inspection results good product
LDP MR902                ; ｴﾗｰ
OR MR501                 ; ﾌﾞｻﾞｰON要求
ORP @MR000               ; 良品ﾌﾞｻﾞｰON
SET MR6001               ; ﾌﾞｻﾞｰ
LDB MR902                ; ｴﾗｰ
ANB MR501                ; ﾌﾞｻﾞｰON要求
MEP
ORP MR114                ; NGﾘｾｯﾄ処理ﾌﾞｻﾞｰ解除
ORF @MR000               ; 良品ﾌﾞｻﾞｰON
RES MR6001               ; ﾌﾞｻﾞｰ
LDF MR306                ; 自動運転中
AND MR003                ; ﾜｰｸ良品
SET @MR000               ; 良品ﾌﾞｻﾞｰON
LD @MR000                ; 良品ﾌﾞｻﾞｰON
TMR @0 #30               ; 良品ﾌﾞｻﾞｰOFF
CON
AND @T0                  ; 良品ﾌﾞｻﾞｰOFF
RES @MR000               ; 良品ﾌﾞｻﾞｰON
;<h1/>ﾀﾜｰﾗﾝﾌﾟ赤/Tower lamp red
;点灯：重度異常中
;点滅：原点復帰要求、軽度異常中、検査異常中、検査結果不良
;On: Severe error
;Blinking: Home return request, mild abnormality, inspection abnormality, inspection result defect
;EM30025=1:原点復帰要求/EM 30025 = 1: Home return request
LD MR900                 ; 重度異常：電源再投入必要
LD MR902                 ; ｴﾗｰ
LD MR304                 ; 原点復帰中
AND= EM30000 #0          ; (TP)現在表示中画面No.
AND= EM30025 #1          ; (TP)初期画面_ｺﾒﾝﾄ表示用
ORL
OR MR004                 ; ﾜｰｸ不良品
AND MR005                ; ﾗﾝﾌﾟ点滅用(0.5S)
ORL
OUT MR6002               ; ﾀﾜｰﾗﾝﾌﾟ 赤
;<h1/>ﾀﾜｰﾗﾝﾌﾟ黄/Tower lamp yellow
;点灯：動作中、軽度異常中、検査異常中、検査結果不良
;点滅：検査結果良品
;Lighting: Operating, Mildly Abnormal, Inspection Failure, Inspection Result Failure
;Blinking: Good results
LDB MR304                ; 原点復帰中
ANB MR306                ; 自動運転中
ANB MR307                ; ﾒﾝﾃ動作中
ANB MR004                ; ﾜｰｸ不良品
INV
LD MR902                 ; ｴﾗｰ
ANB MR900                ; 重度異常：電源再投入必要
ORL
LD MR003                 ; ﾜｰｸ良品
AND MR005                ; ﾗﾝﾌﾟ点滅用(0.5S)
ORL
OUT MR6003               ; ﾀﾜｰﾗﾝﾌﾟ 黄
;<h1/>ﾀﾜｰﾗﾝﾌﾟ緑/Tower lamp green
;点灯：原点復帰要求、動作開始要求、定停止中、待機中
;/Lit: Home return request, operation start request, constant stop, waiting
;EM30025=1:原点復帰要求/EM 30025 = 1: Home return request
LD MR304                 ; 原点復帰中
AND= EM30000 #0          ; (TP)現在表示中画面No.
AND= EM30025 #1          ; (TP)初期画面_ｺﾒﾝﾄ表示用
LDB MR304                ; 原点復帰中
ANB MR306                ; 自動運転中
ANB MR307                ; ﾒﾝﾃ動作中
ORL
OUT MR6004               ; ﾀﾜｰﾗﾝﾌﾟ 緑
END
ENDH
