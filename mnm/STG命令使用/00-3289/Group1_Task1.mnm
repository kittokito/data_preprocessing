DEVICE:53
;MODULE:Group1_Task1
;MODULE_TYPE:0
;SCRIPT_TYPE:
;OneSystem Main-Module
;
;-----------------------------------------
;ModuleName	:	Group1_Task1
;ModuleType	:	Main Module
;Line		:	
;Cell		:	
;Function	:	
;-----------------------------------------
;<<Task LocalDevice>>
;/*項目			/*割付ｴﾘｱ				/*備考
;---------------------------------------------------------------------			
;Emergency		@MR000〜@MR015			Emergency処理時RESET禁止ｴﾘｱ
;Free			@MR100〜@MR915			ﾕｰｻﾞｰﾌﾘｰｴﾘｱ
;HOME			@MR1000〜@MR1515		HOME動作時使用ｴﾘｱ
;MAINTENANCE		@MR2000〜@MR2915		MAINTE動作時使用ｴﾘｱ
;AUTO(Main1)		@MR3000〜@MR3915		AUTO(Main1)動作時使用ｴﾘｱ
;	(Main2)		@MR4000〜@MR4915		AUTO(Main2)動作時使用ｴﾘｱ
;SubRoutine		@MR4500〜@MR6415		ｻﾌﾞﾙｰﾁﾝ共通動作使用ｴﾘｱ
;----------------------------------------------------------------------
;<h1/>★ﾜｰｸｾｯﾄ★
;<h1/>Device_Init/ﾃﾞﾊﾞｲｽ初期化
;[内容]
;・非常停止、優先ｴﾗｰ発生時に初期化したいﾃﾞﾊﾞｲｽを指定して下さい
;※本Taskで使用するﾛｰｶﾙﾃﾞﾊﾞｲｽなど
;※STG〜JMPにて使用しているﾃﾞﾊﾞｲｽは必須
LDP R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
RES MR11500
CON
ZRES @MR100 @MR6415      ; Task1 ERROR
;<h1/>Task_Monitor/ﾀｽｸﾓﾆﾀｰ
LD CR2002                ; 常時ON
FLIK #50 #50 @MR000
LD= DM60000 #1           ; TaskNo /ERROR_DISP
AND R46208               ; _Group1　ｴﾗｰ発生中
OUT @MR001               ; TASK1 ERROR
;ON STG Main1
;TYPE EM608.U,EM609.U,@MR000.U,@MR3000.U
;
;FOR EM608 = EM608 TO 160 STEP 16
;	IF @MR3000:EM608 <> 0 THEN
;		BREAK
;	END IF	
;NEXT
;	
;IF EM608 < 160 THEN
;	EM609 = (EM608 / 16) * 100 + DMX(@MR3000:EM608) + #3000
;END IF		
;		
;EM608 = EM608 + 16		
;IF EM608 > 160 THEN		
;	EM608 = 0		
;END IF
LDP @MR000
NCJ #1000
;TYPE EM608.U,EM609.U,@MR000.U,@MR3000.U
;
;FOR EM608 = EM608 TO 160 STEP 16
;
LD CR2002                ; 常時ON
MOV EM608 EM608          ; Task1 Main1@MR  Task1 Main1@MR
LABEL #2000
LD> EM608 #160           ; Task1 Main1@MR
CJ #2001
;	IF @MR3000:EM608 <> 0 THEN
;
LD CR2002                ; 常時ON
LDA EM608                ; Task1 Main1@MR
CON
EXT
CON
STA.L Z12
LD<> @MR3000:Z12 #0      ; AUTO Main1
NCJ #2002
;		BREAK
;
LD CR2002                ; 常時ON
CJ #2003
;	END IF	
;
LABEL #2002
;NEXT
;
LD CR2002                ; 常時ON
LDA EM608                ; Task1 Main1@MR
CON
ADD #16
CON
STA EM608                ; Task1 Main1@MR
LDB CR2009               ; 演算結果が負
CJ #2000
LABEL #2003
LABEL #2001
;IF EM608 < 160 THEN
;
LD< EM608 #160           ; Task1 Main1@MR
NCJ #2004
;	EM609 = (EM608 / 16) * 100 + DMX(@MR3000:EM608) + #3000
;
LD CR2002                ; 常時ON
LDA EM608                ; Task1 Main1@MR
CON
EXT
CON
STA.L Z12
CON
LDA @MR3000:Z12          ; AUTO Main1
CON
DMX
CON
STA @VM0
CON
LDA EM608                ; Task1 Main1@MR
CON
EXT
CON
EXT.L
CON
DIV.L +16
CON
MUL.L +100
CON
STA.L @VM1
CON
LDA @VM0
CON
EXT
CON
ADD.L @VM1
CON
ADD.L +3000
CON
STA EM609                ; Task1 Main1@MR
;END IF		
;
LABEL #2004
;EM608 = EM608 + 16		
;
LD CR2002                ; 常時ON
LDA EM608                ; Task1 Main1@MR
CON
EXT
CON
ADD.L +16
CON
STA EM608                ; Task1 Main1@MR
;IF EM608 > 160 THEN		
;
LD> EM608 #160           ; Task1 Main1@MR
NCJ #2005
;	EM608 = 0		
;
LD CR2002                ; 常時ON
MOV #0 EM608             ; Task1 Main1@MR
;END IF
LABEL #2005
LABEL #1000
;
;ON STG Main2
;TYPE EM610.U,EM611.U,@MR4000.U
;
;FOR EM610 = EM610 TO 80 STEP 16
;	IF @MR4000:EM610 <> 0 THEN
;		BREAK
;	END IF	
;NEXT	
;
;IF EM610 < 80 THEN
;	EM611 = (EM610 / 16) * 100 + DMX(@MR4000:EM610) + #4000
;END IF
;
;EM610 = EM610 + 16		
;
;IF EM610 > 80 THEN
;	EM610 = 0	
;END IF
LDP @MR000
NCJ #1001
;TYPE EM610.U,EM611.U,@MR4000.U
;
;FOR EM610 = EM610 TO 80 STEP 16
;
LD CR2002                ; 常時ON
MOV EM610 EM610          ; Task1 Main2@MR  Task1 Main2@MR
LABEL #2006
LD> EM610 #80            ; Task1 Main2@MR
CJ #2007
;	IF @MR4000:EM610 <> 0 THEN
;
LD CR2002                ; 常時ON
LDA EM610                ; Task1 Main2@MR
CON
EXT
CON
STA.L Z12
LD<> @MR4000:Z12 #0      ; AUTO Main2
NCJ #2008
;		BREAK
;
LD CR2002                ; 常時ON
CJ #2009
;	END IF	
;
LABEL #2008
;NEXT	
;
LD CR2002                ; 常時ON
LDA EM610                ; Task1 Main2@MR
CON
ADD #16
CON
STA EM610                ; Task1 Main2@MR
LDB CR2009               ; 演算結果が負
CJ #2006
LABEL #2009
LABEL #2007
;IF EM610 < 80 THEN
;
LD< EM610 #80            ; Task1 Main2@MR
NCJ #2010
;	EM611 = (EM610 / 16) * 100 + DMX(@MR4000:EM610) + #4000
;
LD CR2002                ; 常時ON
LDA EM610                ; Task1 Main2@MR
CON
EXT
CON
STA.L Z12
CON
LDA @MR4000:Z12          ; AUTO Main2
CON
DMX
CON
STA @VM3
CON
LDA EM610                ; Task1 Main2@MR
CON
EXT
CON
EXT.L
CON
DIV.L +16
CON
MUL.L +100
CON
STA.L @VM4
CON
LDA @VM3
CON
EXT
CON
ADD.L @VM4
CON
ADD.L +4000
CON
STA EM611                ; Task1 Main2@MR
;END IF
;
LABEL #2010
;EM610 = EM610 + 16		
;
LD CR2002                ; 常時ON
LDA EM610                ; Task1 Main2@MR
CON
EXT
CON
ADD.L +16
CON
STA EM610                ; Task1 Main2@MR
;IF EM610 > 80 THEN
;
LD> EM610 #80            ; Task1 Main2@MR
NCJ #2011
;	EM610 = 0	
;
LD CR2002                ; 常時ON
MOV #0 EM610             ; Task1 Main2@MR
;END IF
LABEL #2011
LABEL #1001
;
;ON STG SubRoutine
;TYPE EM612.U,EM613.U,@MR4500.U
;	
;FOR EM612 = EM612 TO 320 STEP 16
;	IF @MR4500:EM612 <> 0 THEN
;		BREAK
;	END IF	
;NEXT
;		
;IF EM612 < 320 THEN
;	EM613 = (EM612 / 16) * 100 + DMX(@MR4500:EM612) + #4500
;END IF
;		
;EM612 = EM612 + 16	
;
;IF EM612 > 320 THEN
;   EM612 = 0	
;END IF
LDP @MR000
NCJ #1002
;TYPE EM612.U,EM613.U,@MR4500.U
;
;FOR EM612 = EM612 TO 320 STEP 16
;
LD CR2002                ; 常時ON
MOV EM612 EM612          ; Task1 Sub@MR  Task1 Sub@MR
LABEL #2012
LD> EM612 #320           ; Task1 Sub@MR
CJ #2013
;	IF @MR4500:EM612 <> 0 THEN
;
LD CR2002                ; 常時ON
LDA EM612                ; Task1 Sub@MR
CON
EXT
CON
STA.L Z12
LD<> @MR4500:Z12 #0      ; 段ﾊﾞﾗｼSub_Call
NCJ #2014
;		BREAK
;
LD CR2002                ; 常時ON
CJ #2015
;	END IF	
;
LABEL #2014
;NEXT
;
LD CR2002                ; 常時ON
LDA EM612                ; Task1 Sub@MR
CON
ADD #16
CON
STA EM612                ; Task1 Sub@MR
LDB CR2009               ; 演算結果が負
CJ #2012
LABEL #2015
LABEL #2013
;IF EM612 < 320 THEN
;
LD< EM612 #320           ; Task1 Sub@MR
NCJ #2016
;	EM613 = (EM612 / 16) * 100 + DMX(@MR4500:EM612) + #4500
;
LD CR2002                ; 常時ON
LDA EM612                ; Task1 Sub@MR
CON
EXT
CON
STA.L Z12
CON
LDA @MR4500:Z12          ; 段ﾊﾞﾗｼSub_Call
CON
DMX
CON
STA @VM6
CON
LDA EM612                ; Task1 Sub@MR
CON
EXT
CON
EXT.L
CON
DIV.L +16
CON
MUL.L +100
CON
STA.L @VM7
CON
LDA @VM6
CON
EXT
CON
ADD.L @VM7
CON
ADD.L +4500
CON
STA EM613                ; Task1 Sub@MR
;END IF
;
LABEL #2016
;EM612 = EM612 + 16	
;
LD CR2002                ; 常時ON
LDA EM612                ; Task1 Sub@MR
CON
EXT
CON
ADD.L +16
CON
STA EM612                ; Task1 Sub@MR
;IF EM612 > 320 THEN
;
LD> EM612 #320           ; Task1 Sub@MR
NCJ #2017
;   EM612 = 0	
;
LD CR2002                ; 常時ON
MOV #0 EM612             ; Task1 Sub@MR
;END IF
LABEL #2017
LABEL #1002
;
;<h1/>Task_Init/ﾀｽｸ初期化
;[本STG内容]
;・本Task起動時に必要な初期化処理を記述して下さい
;・起動Taskの全Init処理終了後、Task_StartのSTGが起動します
STG LR801                ; _Grp1_Task1_Init.STG
RES MR11500
CON
RES MR12901              ; ﾜｰｸｾｯﾄ_TASK1_終了
CON
RES MR101                ; TASK1原点復帰完了
CON
ZRES MR13500 MR13915     ; T1_ﾄﾚｲ交換要求ForT0
CON
ZRES @MR100 @MR6415      ; Task1 ERROR
CON
ENDS
;<h1/>Task_Start/ﾀｽｸ開始
;[本STG内容]
;・Task起動後、以下運転ﾓｰﾄﾞに従い、各STGにJMPします
;【HOME】	→	LR5200
;【AUTO】	→	LR5400
;【MAINTE】	→	LR5600
;・本STGは追記、修正不要です
STG LR401                ; _Grp1_Task1_Start.STG
MPS
AND R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
JMP LR5201               ; _Grp1_Task1_HOME.STG
MRD
AND R46100               ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
JMP LR5401               ; _Grp1_Task1_AUTO.STG
MPP
AND R46102               ; _ﾒﾝﾃﾅﾝｽ運転中　ﾓｰﾄﾞﾌﾗｸﾞ
JMP LR5601               ; _Grp1_Task1_MAINTE.STG
;<h1/>Task_Finish/ﾀｽｸ終了
;[本STG内容]
;・各Taskの終了STGになります
;・運転ﾓｰﾄﾞに係わらず終了時は本STGを経由して終了して下さい
;・本STGは追記、修正不要です
STG LR601                ; _Grp1_Task1_Fin.STG
RES R41001               ; _Grp1_Task1_起動中ﾌﾗｸﾞ
CON
ENDS
;<h1/>HOME/原点復帰
;[本STG内容]
;・STG @MR1000の続きから各Taskの原点復帰動作を記述する
;・動作終了時は@MR1515にJMPする事
STG LR5201               ; _Grp1_Task1_HOME.STG
ANB @MR100               ; Task1 ERROR
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
JMP @MR1000              ; HOME
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
STG @MR1000              ; HOME
MPS
LDB MR12002              ; COM_機種_不定_Error
ANB @MR1001              ; TASK1　原点復帰動作中
ANL
RES MR101                ; TASK1原点復帰完了
CON
SET @MR1001              ; TASK1　原点復帰動作中
CON
JMP @MR1003
MPP
AND MR12002              ; COM_機種_不定_Error
ENDS
STG @MR1003
MPS
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
JMP @MR1005              ; 大_ﾄﾚｲｶﾞｲﾄﾞ閉処理
MPP
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
MPS
AND MR12102              ; COM_MC_TYPE_ﾎﾙﾀﾞ上
JMP @MR1300              ; 小_段ﾊﾞﾗｼ押え開処理
MPP
AND MR12104              ; COM_MC_TYPE_ﾍｯﾄﾞｻﾌﾞ
JMP @MR1306              ; ﾄﾚｲ受け閉処理
;<h1/>Home_ﾄﾚﾁｪﾝ大_ﾜｰｸｾｯﾄ原点復帰
;全ﾄﾚｲｶﾞｲﾄﾞ開
STG @MR1005              ; 大_ﾄﾚｲｶﾞｲﾄﾞ閉処理
RES MR7100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1_閉
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR4101               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_開限Err_右
ANB MR4103               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_開限Err_左
AND R4101                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_開限_右
AND R4103                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_開限_左
ANB R4100                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_閉限_右
ANB R4102                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_閉限_左
ANL
JMP @MR1007
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R4101                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_開限_右
AND R4103                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_開限_左
ANB R4100                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_閉限_右
ANB R4102                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_閉限_左
OR MR4101                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_開限Err_右
OR MR4103                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_開限Err_左
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR1007
RES MR7102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2_閉
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR4105               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2R_開限Err_右
ANB MR4107               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2L_開限Err_左
AND R4105                ; BC_ﾄﾚｲｶﾞｲﾄﾞ2R_開限_右
AND R4107                ; BC_ﾄﾚｲｶﾞｲﾄﾞ2L_開限_左
ANB R4104                ; BC_ﾄﾚｲｶﾞｲﾄﾞ2R_閉限_右
ANB R4106                ; BC_ﾄﾚｲｶﾞｲﾄﾞ2L_閉限_左
ANL
JMP @MR1009
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R4105                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ2R_開限_右
AND R4107                ; BC_ﾄﾚｲｶﾞｲﾄﾞ2L_開限_左
ANB R4104                ; BC_ﾄﾚｲｶﾞｲﾄﾞ2R_閉限_右
ANB R4106                ; BC_ﾄﾚｲｶﾞｲﾄﾞ2L_閉限_左
OR MR4105                ; BC_ﾄﾚｲｶﾞｲﾄﾞ2R_開限Err_右
OR MR4107                ; BC_ﾄﾚｲｶﾞｲﾄﾞ2L_開限Err_左
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR1009
RES MR7104               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3_閉
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR4109               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3R_開限Err_右
ANB MR4111               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3L_開限Err_左
AND R4109                ; BC_ﾄﾚｲｶﾞｲﾄﾞ3R_開限_右
AND R4111                ; BC_ﾄﾚｲｶﾞｲﾄﾞ3L_開限_左
ANB R4108                ; BC_ﾄﾚｲｶﾞｲﾄﾞ3R_閉限_右
ANB R4110                ; BC_ﾄﾚｲｶﾞｲﾄﾞ3L_閉限_左
ANL
JMP @MR1011
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R4109                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ3R_開限_右
AND R4111                ; BC_ﾄﾚｲｶﾞｲﾄﾞ3L_開限_左
ANB R4108                ; BC_ﾄﾚｲｶﾞｲﾄﾞ3R_閉限_右
ANB R4110                ; BC_ﾄﾚｲｶﾞｲﾄﾞ3L_閉限_左
OR MR4109                ; BC_ﾄﾚｲｶﾞｲﾄﾞ3R_開限Err_右
OR MR4111                ; BC_ﾄﾚｲｶﾞｲﾄﾞ3L_開限Err_左
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR1011
RES MR7106               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4_閉
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR4113               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4R_開限Err_右
ANB MR4115               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4L_開限Err_左
AND R4113                ; BC_ﾄﾚｲｶﾞｲﾄﾞ4R_開限_右
AND R4115                ; BC_ﾄﾚｲｶﾞｲﾄﾞ4L_開限_左
ANB R4112                ; BC_ﾄﾚｲｶﾞｲﾄﾞ4R_閉限_右
ANB R4114                ; BC_ﾄﾚｲｶﾞｲﾄﾞ4L_閉限_左
ANL
JMP @MR1012
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R4113                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ4R_開限_右
AND R4115                ; BC_ﾄﾚｲｶﾞｲﾄﾞ4L_開限_左
ANB R4112                ; BC_ﾄﾚｲｶﾞｲﾄﾞ4R_閉限_右
ANB R4114                ; BC_ﾄﾚｲｶﾞｲﾄﾞ4L_閉限_左
OR MR4113                ; BC_ﾄﾚｲｶﾞｲﾄﾞ4R_開限Err_右
OR MR4115                ; BC_ﾄﾚｲｶﾞｲﾄﾞ4L_開限Err_左
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR1012
RES MR7214               ; BC_段ﾊﾞﾗｼ押え_閉
CON
SET MR7215               ; BC_段ﾊﾞﾗｼ押え_開
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR4405               ; BC_段ﾊﾞﾗｼ押え1_開Err
ANB MR4407               ; BC_段ﾊﾞﾗｼ押え2_開Err
AND R4405                ; BC_段ﾊﾞﾗｼ押え1_開限
AND R4407                ; BC_段ﾊﾞﾗｼ押え2_開限
ANL
JMP @MR1109              ; ﾄﾚｲ受け開へ
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R4405                 ; BC_段ﾊﾞﾗｼ押え1_開限
AND R4407                ; BC_段ﾊﾞﾗｼ押え2_開限
OR MR4405                ; BC_段ﾊﾞﾗｼ押え1_開Err
OR MR4407                ; BC_段ﾊﾞﾗｼ押え2_開Err
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR1109              ; ﾄﾚｲ受け開へ
MPS
LDB R4509                ; BC ﾄﾚｲ投入後浮き検出1(前)
ANB R4510                ; BC ﾄﾚｲ投入後浮き検出2(奥)
ANL
JMP @MR1013              ; ﾄﾚｲ受け閉へ
MPP
LD R4509                 ; BC ﾄﾚｲ投入後浮き検出1(前)
OR R4510                 ; BC ﾄﾚｲ投入後浮き検出2(奥)
ANL
RES MR7109               ; BC ﾄﾚｲ受け1 閉
CON
SET MR7108               ; BC ﾄﾚｲ受け1 開
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR4200               ; BC_ﾄﾚｲ受け1BR_開限Err_奥右
ANB MR4202               ; BC_ﾄﾚｲ受け1FR_開限Err_前右
ANB MR4204               ; BC_ﾄﾚｲ受け1BL_開限Err_奥左
ANB MR4206               ; BC_ﾄﾚｲ受け1FL_開限Err_前左
AND R4200                ; BC_ﾄﾚｲ受け1BR_開限_奥右
AND R4202                ; BC_ﾄﾚｲ受け1FR_開限_前右
AND R4204                ; BC_ﾄﾚｲ受け1BL_開限_奥左
AND R4206                ; BC_ﾄﾚｲ受け1FL_開限_前左
ANB R4201                ; BC_ﾄﾚｲ受け1BR_閉限_奥右
ANB R4203                ; BC_ﾄﾚｲ受け1FR_閉限_前右
ANB R4205                ; BC_ﾄﾚｲ受け1BL_閉限_奥左
ANB R4207                ; BC_ﾄﾚｲ受け1FL_閉限_前左
ANL
JMP @MR1014              ; Error処理へ
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R4200                 ; BC_ﾄﾚｲ受け1BR_開限_奥右
AND R4202                ; BC_ﾄﾚｲ受け1FR_開限_前右
AND R4204                ; BC_ﾄﾚｲ受け1BL_開限_奥左
AND R4206                ; BC_ﾄﾚｲ受け1FL_開限_前左
ANB R4201                ; BC_ﾄﾚｲ受け1BR_閉限_奥右
ANB R4203                ; BC_ﾄﾚｲ受け1FR_閉限_前右
ANB R4205                ; BC_ﾄﾚｲ受け1BL_閉限_奥左
ANB R4207                ; BC_ﾄﾚｲ受け1FL_閉限_前左
OR MR4200                ; BC_ﾄﾚｲ受け1BR_開限Err_奥右
OR MR4202                ; BC_ﾄﾚｲ受け1FR_開限Err_前右
OR MR4204                ; BC_ﾄﾚｲ受け1BL_開限Err_奥左
OR MR4206                ; BC_ﾄﾚｲ受け1FL_開限Err_前左
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR1014              ; Error処理へ
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB R39004               ; ｴﾗｰ処理中
ANL
SET R39004               ; ｴﾗｰ処理中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #31 @DM1              ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task1 ERROR
CON
JMP @MR1015
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
STG @MR1015
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
AND @MR101               ; Task1 ERROR_End
ANL
RES @MR101               ; Task1 ERROR_End
CON
RES R39004               ; ｴﾗｰ処理中
CON
AND @MR105               ; Error_RET_SW1
JMP @MR1012
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;ﾜｰｸｾｯﾄ1→2→3→4の順に閉
STG @MR1013              ; ﾄﾚｲ受け閉へ
RES MR7108               ; BC ﾄﾚｲ受け1 開
CON
SET MR7109               ; BC ﾄﾚｲ受け1 閉
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR4201               ; BC_ﾄﾚｲ受け1BR_閉限Err_奥右
ANB MR4203               ; BC_ﾄﾚｲ受け1FR_閉限Err_前右
ANB MR4205               ; BC_ﾄﾚｲ受け1BL_閉限Err_奥左
ANB MR4207               ; BC_ﾄﾚｲ受け1FL_閉限Err_前左
AND R4201                ; BC_ﾄﾚｲ受け1BR_閉限_奥右
AND R4203                ; BC_ﾄﾚｲ受け1FR_閉限_前右
AND R4205                ; BC_ﾄﾚｲ受け1BL_閉限_奥左
AND R4207                ; BC_ﾄﾚｲ受け1FL_閉限_前左
ANB R4200                ; BC_ﾄﾚｲ受け1BR_開限_奥右
ANB R4202                ; BC_ﾄﾚｲ受け1FR_開限_前右
ANB R4204                ; BC_ﾄﾚｲ受け1BL_開限_奥左
ANB R4206                ; BC_ﾄﾚｲ受け1FL_開限_前左
ANL
JMP @MR1100
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R4201                 ; BC_ﾄﾚｲ受け1BR_閉限_奥右
AND R4203                ; BC_ﾄﾚｲ受け1FR_閉限_前右
AND R4205                ; BC_ﾄﾚｲ受け1BL_閉限_奥左
AND R4207                ; BC_ﾄﾚｲ受け1FL_閉限_前左
ANB R4200                ; BC_ﾄﾚｲ受け1BR_開限_奥右
ANB R4202                ; BC_ﾄﾚｲ受け1FR_開限_前右
ANB R4204                ; BC_ﾄﾚｲ受け1BL_開限_奥左
ANB R4206                ; BC_ﾄﾚｲ受け1FL_開限_前左
OR MR4201                ; BC_ﾄﾚｲ受け1BR_閉限Err_奥右
OR MR4203                ; BC_ﾄﾚｲ受け1FR_閉限Err_前右
OR MR4205                ; BC_ﾄﾚｲ受け1BL_閉限Err_奥左
OR MR4207                ; BC_ﾄﾚｲ受け1FL_閉限Err_前左
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR1100
RES MR7110               ; BC ﾄﾚｲ受け2 開
CON
SET MR7111               ; BC ﾄﾚｲ受け2 閉
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR4209               ; BC_ﾄﾚｲ受け2BR_閉限Err_奥右
ANB MR4211               ; BC_ﾄﾚｲ受け2FR_閉限Err_前右
ANB MR4213               ; BC_ﾄﾚｲ受け2BL_閉限Err_奥左
ANB MR4215               ; BC_ﾄﾚｲ受け2FL_閉限Err_前左
AND R4209                ; BC_ﾄﾚｲ受け2BR_閉限_奥右
AND R4211                ; BC_ﾄﾚｲ受け2FR_閉限_前右
AND R4213                ; BC_ﾄﾚｲ受け2BL_閉限_奥左
AND R4215                ; BC_ﾄﾚｲ受け2FL_閉限_前左
ANB R4208                ; BC_ﾄﾚｲ受け2BR_開限_奥右
ANB R4210                ; BC_ﾄﾚｲ受け2FR_開限_前右
ANB R4212                ; BC_ﾄﾚｲ受け2BL_開限_奥左
ANB R4214                ; BC_ﾄﾚｲ受け2FL_開限_前左
ANL
JMP @MR1102
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R4209                 ; BC_ﾄﾚｲ受け2BR_閉限_奥右
AND R4211                ; BC_ﾄﾚｲ受け2FR_閉限_前右
AND R4213                ; BC_ﾄﾚｲ受け2BL_閉限_奥左
AND R4215                ; BC_ﾄﾚｲ受け2FL_閉限_前左
ANB R4208                ; BC_ﾄﾚｲ受け2BR_開限_奥右
ANB R4210                ; BC_ﾄﾚｲ受け2FR_開限_前右
ANB R4212                ; BC_ﾄﾚｲ受け2BL_開限_奥左
ANB R4214                ; BC_ﾄﾚｲ受け2FL_開限_前左
OR MR4209                ; BC_ﾄﾚｲ受け2BR_閉限Err_奥右
OR MR4211                ; BC_ﾄﾚｲ受け2FR_閉限Err_前右
OR MR4213                ; BC_ﾄﾚｲ受け2BL_閉限Err_奥左
OR MR4215                ; BC_ﾄﾚｲ受け2FL_閉限Err_前左
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR1102
RES MR7112               ; BC ﾄﾚｲ受け3 開
CON
SET MR7113               ; BC ﾄﾚｲ受け3 閉
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR4301               ; BC_ﾄﾚｲ受け3BR_閉限Err_奥右
ANB MR4303               ; BC_ﾄﾚｲ受け3FR_閉限Err_前右
ANB MR4305               ; BC_ﾄﾚｲ受け3BL_閉限Err_奥左
ANB MR4307               ; BC_ﾄﾚｲ受け3FL_閉限Err_前左
AND R4301                ; BC_ﾄﾚｲ受け3BR_閉限_奥右
AND R4303                ; BC_ﾄﾚｲ受け3FR_閉限_前右
AND R4305                ; BC_ﾄﾚｲ受け3BL_閉限_奥左
AND R4307                ; BC_ﾄﾚｲ受け3FL_閉限_前左
ANB R4300                ; BC_ﾄﾚｲ受け3BR_開限_奥右
ANB R4302                ; BC_ﾄﾚｲ受け3FR_開限_前右
ANB R4304                ; BC_ﾄﾚｲ受け3BL_開限_奥左
ANB R4306                ; BC_ﾄﾚｲ受け3FL_開限_前左
ANL
JMP @MR1104
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R4301                 ; BC_ﾄﾚｲ受け3BR_閉限_奥右
AND R4303                ; BC_ﾄﾚｲ受け3FR_閉限_前右
AND R4305                ; BC_ﾄﾚｲ受け3BL_閉限_奥左
AND R4307                ; BC_ﾄﾚｲ受け3FL_閉限_前左
ANB R4300                ; BC_ﾄﾚｲ受け3BR_開限_奥右
ANB R4302                ; BC_ﾄﾚｲ受け3FR_開限_前右
ANB R4304                ; BC_ﾄﾚｲ受け3BL_開限_奥左
ANB R4306                ; BC_ﾄﾚｲ受け3FL_開限_前左
OR MR4301                ; BC_ﾄﾚｲ受け3BR_閉限Err_奥右
OR MR4303                ; BC_ﾄﾚｲ受け3FR_閉限Err_前右
OR MR4305                ; BC_ﾄﾚｲ受け3BL_閉限Err_奥左
OR MR4307                ; BC_ﾄﾚｲ受け3FL_閉限Err_前左
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR1104
RES MR7114               ; BC ﾄﾚｲ受け4 開
CON
SET MR7115               ; BC ﾄﾚｲ受け4 閉
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR4309               ; BC_ﾄﾚｲ受け4BR_閉限Err_奥右
ANB MR4311               ; BC_ﾄﾚｲ受け4FR_閉限Err_前右
ANB MR4313               ; BC_ﾄﾚｲ受け4BL_閉限Err_奥左
ANB MR4315               ; BC_ﾄﾚｲ受け4FL_閉限Err_前左
AND R4309                ; BC_ﾄﾚｲ受け4BR_閉限_奥右
AND R4311                ; BC_ﾄﾚｲ受け4FR_閉限_前右
AND R4313                ; BC_ﾄﾚｲ受け4BL_閉限_奥左
AND R4315                ; BC_ﾄﾚｲ受け4FL_閉限_前左
ANB R4308                ; BC_ﾄﾚｲ受け4BR_開限_奥右
ANB R4310                ; BC_ﾄﾚｲ受け4FR_開限_前右
ANB R4312                ; BC_ﾄﾚｲ受け4BL_開限_奥左
ANB R4314                ; BC_ﾄﾚｲ受け4FL_開限_前左
ANL
JMP @MR1106
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R4309                 ; BC_ﾄﾚｲ受け4BR_閉限_奥右
AND R4311                ; BC_ﾄﾚｲ受け4FR_閉限_前右
AND R4313                ; BC_ﾄﾚｲ受け4BL_閉限_奥左
AND R4315                ; BC_ﾄﾚｲ受け4FL_閉限_前左
ANB R4308                ; BC_ﾄﾚｲ受け4BR_開限_奥右
ANB R4310                ; BC_ﾄﾚｲ受け4FR_開限_前右
ANB R4312                ; BC_ﾄﾚｲ受け4BL_開限_奥左
ANB R4314                ; BC_ﾄﾚｲ受け4FL_開限_前左
OR MR4309                ; BC_ﾄﾚｲ受け4BR_閉限Err_奥右
OR MR4311                ; BC_ﾄﾚｲ受け4FR_閉限Err_前右
OR MR4313                ; BC_ﾄﾚｲ受け4BL_閉限Err_奥左
OR MR4315                ; BC_ﾄﾚｲ受け4FL_閉限Err_前左
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR1106
RES MR7213               ; BC_ﾄﾚｲ中間受け_閉
CON
SET MR7212               ; BC_ﾄﾚｲ中間受け_開
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR4700               ; BC_ﾄﾚｲ中間受UR_開Err(上-右)
ANB MR4702               ; BC_ﾄﾚｲ中間受UL_開Err(上-左)
ANB MR4704               ; BC_ﾄﾚｲ中間受MR_開Err(中-右)
ANB MR4706               ; BC_ﾄﾚｲ中間受ML_開Err(中-左)
ANB MR4708               ; BC_ﾄﾚｲ中間受DR_開Err(下-右)
ANB MR4710               ; BC_ﾄﾚｲ中間受DL_開Err(下-左)
AND R4700                ; BC_ﾄﾚｲ中間受UR_開限(上-右)
AND R4702                ; BC_ﾄﾚｲ中間受UL_開限(上-左)
AND R4704                ; BC_ﾄﾚｲ中間受MR_開限(中-右)
AND R4706                ; BC_ﾄﾚｲ中間受ML_開限(中-左)
AND R4708                ; BC_ﾄﾚｲ中間受DR_開限(下-右)
AND R4710                ; BC_ﾄﾚｲ中間受DL_開限(下-左)
ANB R4701                ; BC_ﾄﾚｲ中間受UR_閉限(上-右)
ANB R4703                ; BC_ﾄﾚｲ中間受UL_閉限(上-左)
ANB R4705                ; BC_ﾄﾚｲ中間受MR_閉限(中-右)
ANB R4707                ; BC_ﾄﾚｲ中間受ML_閉限(中-左)
ANB R4709                ; BC_ﾄﾚｲ中間受DR_閉限(下-右)
ANB R4711                ; BC_ﾄﾚｲ中間受DL_閉限(下-左)
ANL
JMP @MR1008
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R4700                 ; BC_ﾄﾚｲ中間受UR_開限(上-右)
AND R4702                ; BC_ﾄﾚｲ中間受UL_開限(上-左)
AND R4704                ; BC_ﾄﾚｲ中間受MR_開限(中-右)
AND R4706                ; BC_ﾄﾚｲ中間受ML_開限(中-左)
AND R4708                ; BC_ﾄﾚｲ中間受DR_開限(下-右)
AND R4710                ; BC_ﾄﾚｲ中間受DL_開限(下-左)
ANB R4701                ; BC_ﾄﾚｲ中間受UR_閉限(上-右)
ANB R4703                ; BC_ﾄﾚｲ中間受UL_閉限(上-左)
ANB R4705                ; BC_ﾄﾚｲ中間受MR_閉限(中-右)
ANB R4707                ; BC_ﾄﾚｲ中間受ML_閉限(中-左)
ANB R4709                ; BC_ﾄﾚｲ中間受DR_閉限(下-右)
ANB R4711                ; BC_ﾄﾚｲ中間受DL_閉限(下-左)
OR MR4700                ; BC_ﾄﾚｲ中間受UR_開Err(上-右)
OR MR4702                ; BC_ﾄﾚｲ中間受UL_開Err(上-左)
OR MR4704                ; BC_ﾄﾚｲ中間受MR_開Err(中-右)
OR MR4706                ; BC_ﾄﾚｲ中間受ML_開Err(中-左)
OR MR4708                ; BC_ﾄﾚｲ中間受DR_開Err(下-右)
OR MR4710                ; BC_ﾄﾚｲ中間受DL_開Err(下-左)
ANL
ANL
SET @MR1900              ; Main1 HALT許可
;ﾄﾚｲｼﾌﾄ上昇
STG @MR1008
RES MR7210               ; BC ﾄﾚｲｼﾌﾄ 下降
CON
SET MR7211               ; BC ﾄﾚｲｼﾌﾄ 上昇
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR4613               ; BC ﾄﾚｲｼﾌﾄ(右) 上昇限Err
ANB MR4615               ; BC ﾄﾚｲｼﾌﾄ(左) 上昇限Err
AND R4613                ; BC ﾄﾚｲｼﾌﾄ(右) 上昇限
AND R4615                ; BC ﾄﾚｲｼﾌﾄ(左) 上昇限
ANB R4612                ; BC ﾄﾚｲｼﾌﾄ(右) 下降限
ANB R4614                ; BC ﾄﾚｲｼﾌﾄ(左) 下降限
ANL
JMP @MR1112
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R4613                 ; BC ﾄﾚｲｼﾌﾄ(右) 上昇限
AND R4615                ; BC ﾄﾚｲｼﾌﾄ(左) 上昇限
ANB R4612                ; BC ﾄﾚｲｼﾌﾄ(右) 下降限
ANB R4614                ; BC ﾄﾚｲｼﾌﾄ(左) 下降限
OR MR4613                ; BC ﾄﾚｲｼﾌﾄ(右) 上昇限Err
OR MR4615                ; BC ﾄﾚｲｼﾌﾄ(左) 上昇限Err
ANL
ANL
SET @MR1900              ; Main1 HALT許可
;<h1/>Home_ﾄﾚﾁｪﾝ大_段ﾊﾞﾗｼ原点復帰
STG @MR1112
MPS
LD R4604                 ; BC 段ﾊﾞﾗｼ上下S(右) 上昇限
AND R4606                ; BC 段ﾊﾞﾗｼ上下S(左) 上昇限
ANL
MPS
LD R4601                 ; BC 段ﾊﾞﾗｼ上下L(右) 上昇限
AND R4603                ; BC 段ﾊﾞﾗｼ上下L(左) 上昇限
ANL
MPS
LD R4608                 ; BC 段ﾊﾞﾗｼ(右) 前進限
AND R4610                ; BC 段ﾊﾞﾗｼ(左) 前進限
ANL
JMP @MR1204
MPP
LD R4609                 ; BC 段ﾊﾞﾗｼ(右) 後退限
AND R4611                ; BC 段ﾊﾞﾗｼ(左) 後退限
ANL
JMP @MR1204
MPP
LD R4600                 ; BC 段ﾊﾞﾗｼ上下L(右) 下降限
AND R4602                ; BC 段ﾊﾞﾗｼ上下L(左) 下降限
ANL
MPS
LD R4608                 ; BC 段ﾊﾞﾗｼ(右) 前進限
AND R4610                ; BC 段ﾊﾞﾗｼ(左) 前進限
ANL
JMP @MR1202
MPP
LD R4609                 ; BC 段ﾊﾞﾗｼ(右) 後退限
AND R4611                ; BC 段ﾊﾞﾗｼ(左) 後退限
ANL
JMP @MR1203
MPP
LD R4605                 ; BC 段ﾊﾞﾗｼ上下S(右) 下降限
AND R4607                ; BC 段ﾊﾞﾗｼ上下S(左) 下降限
ANL
JMP @MR1202
STG @MR1202
RES MR7208               ; BC 段ﾊﾞﾗｼ前後 前進
CON
SET MR7209               ; BC 段ﾊﾞﾗｼ前後 後退
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR4609               ; BC 段ﾊﾞﾗｼ前後(右) 後退限Err
ANB MR4611               ; BC 段ﾊﾞﾗｼ前後(左) 後退限Err
AND R4609                ; BC 段ﾊﾞﾗｼ(右) 後退限
AND R4611                ; BC 段ﾊﾞﾗｼ(左) 後退限
ANB R4608                ; BC 段ﾊﾞﾗｼ(右) 前進限
ANB R4610                ; BC 段ﾊﾞﾗｼ(左) 前進限
ANL
JMP @MR1203
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R4609                 ; BC 段ﾊﾞﾗｼ(右) 後退限
AND R4611                ; BC 段ﾊﾞﾗｼ(左) 後退限
ANB R4608                ; BC 段ﾊﾞﾗｼ(右) 前進限
ANB R4610                ; BC 段ﾊﾞﾗｼ(左) 前進限
OR MR4609                ; BC 段ﾊﾞﾗｼ前後(右) 後退限Err
OR MR4611                ; BC 段ﾊﾞﾗｼ前後(左) 後退限Err
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR1203
RES MR7204               ; BC 段ﾊﾞﾗｼ上下L 下降
CON
SET MR7205               ; BC 段ﾊﾞﾗｼ上下L 上昇
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR4601               ; BC 段ﾊﾞﾗｼ上下L(右) 上昇限Err
ANB MR4603               ; BC 段ﾊﾞﾗｼ上下L(左) 上昇限Err
AND R4601                ; BC 段ﾊﾞﾗｼ上下L(右) 上昇限
AND R4603                ; BC 段ﾊﾞﾗｼ上下L(左) 上昇限
ANB R4600                ; BC 段ﾊﾞﾗｼ上下L(右) 下降限
ANB R4602                ; BC 段ﾊﾞﾗｼ上下L(左) 下降限
ANL
JMP @MR1204
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R4601                 ; BC 段ﾊﾞﾗｼ上下L(右) 上昇限
AND R4603                ; BC 段ﾊﾞﾗｼ上下L(左) 上昇限
ANB R4600                ; BC 段ﾊﾞﾗｼ上下L(右) 下降限
ANB R4602                ; BC 段ﾊﾞﾗｼ上下L(左) 下降限
OR MR4601                ; BC 段ﾊﾞﾗｼ上下L(右) 上昇限Err
OR MR4603                ; BC 段ﾊﾞﾗｼ上下L(左) 上昇限Err
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR1204
RES MR7206               ; BC 段ﾊﾞﾗｼ上下S 上昇
CON
SET MR7207               ; BC 段ﾊﾞﾗｼ上下S 下降
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR4605               ; BC 段ﾊﾞﾗｼ上下S(右) 下降限Err
ANB MR4607               ; BC 段ﾊﾞﾗｼ上下S(左) 下降限Err
AND R4605                ; BC 段ﾊﾞﾗｼ上下S(右) 下降限
AND R4607                ; BC 段ﾊﾞﾗｼ上下S(左) 下降限
ANB R4604                ; BC 段ﾊﾞﾗｼ上下S(右) 上昇限
ANB R4606                ; BC 段ﾊﾞﾗｼ上下S(左) 上昇限
ANL
JMP @MR1513              ; TASK1_終了へ
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R4605                 ; BC 段ﾊﾞﾗｼ上下S(右) 下降限
AND R4607                ; BC 段ﾊﾞﾗｼ上下S(左) 下降限
ANB R4604                ; BC 段ﾊﾞﾗｼ上下S(右) 上昇限
ANB R4606                ; BC 段ﾊﾞﾗｼ上下S(左) 上昇限
OR MR4605                ; BC 段ﾊﾞﾗｼ上下S(右) 下降限Err
OR MR4607                ; BC 段ﾊﾞﾗｼ上下S(左) 下降限Err
ANL
ANL
SET @MR1900              ; Main1 HALT許可
;<h1/>Home_ﾄﾚﾁｪﾝ小_ﾜｰｸｾｯﾄ原点復帰
STG @MR1300              ; 小_段ﾊﾞﾗｼ押え開処理
RES MR8112               ; S1 段ﾊﾞﾗｼ押さえ 閉
CON
SET MR8113               ; S1 段ﾊﾞﾗｼ押さえ 開
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR5113               ; S1 段ﾊﾞﾗｼ押さえ 開限Err
LD R5113                 ; SC 段ﾊﾞﾗｼ押さえ 開限
OR MR12104               ; COM_MC_TYPE_ﾍｯﾄﾞｻﾌﾞ
ANL
ANL
JMP @MR1306              ; ﾄﾚｲ受け閉処理
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R5113                 ; SC 段ﾊﾞﾗｼ押さえ 開限
OR MR12104               ; COM_MC_TYPE_ﾍｯﾄﾞｻﾌﾞ
OR MR5113                ; S1 段ﾊﾞﾗｼ押さえ 開限Err
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR1306              ; ﾄﾚｲ受け閉処理
MPS
LDB R5308                ; SC ﾄﾚｲ投入後浮き検出1(手前)
ANB R5309                ; SC ﾄﾚｲ投入後浮き検出2(奥)
ANL
JMP @MR1108              ; ﾄﾚｲ受け閉
MPP
LD R5308                 ; SC ﾄﾚｲ投入後浮き検出1(手前)
OR R5309                 ; SC ﾄﾚｲ投入後浮き検出2(奥)
ANL
RES MR8101               ; SC ﾄﾚｲ受け 閉
CON
SET MR8100               ; SC ﾄﾚｲ受け 開
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR5100               ; SC ﾄﾚｲ受け(奥右) 開限Err
ANB MR5102               ; SC ﾄﾚｲ受け(前右) 開限Err
ANB MR5104               ; SC ﾄﾚｲ受け(奥左) 開限Err
ANB MR5106               ; SC ﾄﾚｲ受け(前左) 開限Err
AND R5100                ; SC ﾄﾚｲ受け(奥右) 開限
AND R5102                ; SC ﾄﾚｲ受け(前右) 開限
AND R5104                ; SC ﾄﾚｲ受け(奥左) 開限
AND R5106                ; SC ﾄﾚｲ受け(前左) 開限
ANL
JMP @MR1304              ; Error処理へ
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R5100                 ; SC ﾄﾚｲ受け(奥右) 開限
AND R5102                ; SC ﾄﾚｲ受け(前右) 開限
AND R5104                ; SC ﾄﾚｲ受け(奥左) 開限
AND R5106                ; SC ﾄﾚｲ受け(前左) 開限
OR MR5100                ; SC ﾄﾚｲ受け(奥右) 開限Err
OR MR5102                ; SC ﾄﾚｲ受け(前右) 開限Err
OR MR5104                ; SC ﾄﾚｲ受け(奥左) 開限Err
OR MR5106                ; SC ﾄﾚｲ受け(前左) 開限Err
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR1304              ; Error処理へ
SET @MR1900              ; Main1 HALT許可
CON
ANB R39004               ; ｴﾗｰ処理中
SET R39004               ; ｴﾗｰ処理中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #31 @DM1              ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task1 ERROR
CON
JMP @MR1305              ; Error処理中_復帰待ち
STG @MR1305              ; Error処理中_復帰待ち
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
AND @MR101               ; Task1 ERROR_End
ANL
RES @MR101               ; Task1 ERROR_End
CON
RES R39004               ; ｴﾗｰ処理中
CON
AND @MR105               ; Error_RET_SW1
JMP @MR1300              ; 小_段ﾊﾞﾗｼ押え開処理
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
CON
AND @MR101               ; Task1 ERROR_End
RES @MR101               ; Task1 ERROR_End
CON
RES R39004               ; ｴﾗｰ処理中
CON
AND @MR105               ; Error_RET_SW1
JMP @MR1300              ; 小_段ﾊﾞﾗｼ押え開処理
STG @MR1108              ; ﾄﾚｲ受け閉
RES MR8100               ; SC ﾄﾚｲ受け 開
CON
SET MR8101               ; SC ﾄﾚｲ受け 閉
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR5101               ; SC ﾄﾚｲ受け(奥右) 閉限Err
ANB MR5103               ; SC ﾄﾚｲ受け(前右) 閉限Err
ANB MR5105               ; SC ﾄﾚｲ受け(奥左) 閉限Err
ANB MR5107               ; SC ﾄﾚｲ受け(前左) 閉限Err
AND R5101                ; SC ﾄﾚｲ受け(奥右) 閉限
AND R5103                ; SC ﾄﾚｲ受け(前右) 閉限
AND R5105                ; SC ﾄﾚｲ受け(奥左) 閉限
AND R5107                ; SC ﾄﾚｲ受け(前左) 閉限
ANB R5100                ; SC ﾄﾚｲ受け(奥右) 開限
ANB R5102                ; SC ﾄﾚｲ受け(前右) 開限
ANB R5104                ; SC ﾄﾚｲ受け(奥左) 開限
ANB R5106                ; SC ﾄﾚｲ受け(前左) 開限
ANL
JMP @MR1302
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R5101                 ; SC ﾄﾚｲ受け(奥右) 閉限
AND R5103                ; SC ﾄﾚｲ受け(前右) 閉限
AND R5105                ; SC ﾄﾚｲ受け(奥左) 閉限
AND R5107                ; SC ﾄﾚｲ受け(前左) 閉限
ANB R5100                ; SC ﾄﾚｲ受け(奥右) 開限
ANB R5102                ; SC ﾄﾚｲ受け(前右) 開限
ANB R5104                ; SC ﾄﾚｲ受け(奥左) 開限
ANB R5106                ; SC ﾄﾚｲ受け(前左) 開限
OR MR5101                ; SC ﾄﾚｲ受け(奥右) 閉限Err
OR MR5103                ; SC ﾄﾚｲ受け(前右) 閉限Err
OR MR5105                ; SC ﾄﾚｲ受け(奥左) 閉限Err
OR MR5107                ; SC ﾄﾚｲ受け(前左) 閉限Err
ANL
ANL
SET @MR1900              ; Main1 HALT許可
;<h1/>Home_ﾎﾙﾀﾞ上_段ﾊﾞﾗｼ原点復帰
STG @MR1302
MPS
LD R5204                 ; SC 段ﾊﾞﾗｼ上下S(右) 上昇限
AND R5206                ; SC 段ﾊﾞﾗｼ上下S(左) 上昇限
ANL
MPS
LD R5201                 ; SC 段ﾊﾞﾗｼ上下L(右) 上昇限
AND R5203                ; SC 段ﾊﾞﾗｼ上下L(左) 上昇限
ANL
MPS
LD R5108                 ; SC 段ﾊﾞﾗｼ(右) 前進限
AND R5110                ; SC 段ﾊﾞﾗｼ(左) 前進限
ANL
JMP @MR1404
MPP
LD R5109                 ; SC 段ﾊﾞﾗｼ(右) 後退限
AND R5111                ; SC 段ﾊﾞﾗｼ(左) 後退限
ANL
JMP @MR1404
MPP
LD R5200                 ; SC 段ﾊﾞﾗｼ上下L(右) 下降限
AND R5202                ; SC 段ﾊﾞﾗｼ上下L(左) 下降限
ANL
MPS
LD R5108                 ; SC 段ﾊﾞﾗｼ(右) 前進限
AND R5110                ; SC 段ﾊﾞﾗｼ(左) 前進限
ANL
JMP @MR1402
MPP
LD R5109                 ; SC 段ﾊﾞﾗｼ(右) 後退限
AND R5111                ; SC 段ﾊﾞﾗｼ(左) 後退限
ANL
JMP @MR1403
MPP
LD R5205                 ; SC 段ﾊﾞﾗｼ上下S(右) 下降限
AND R5207                ; SC 段ﾊﾞﾗｼ上下S(左) 下降限
ANL
JMP @MR1402
STG @MR1402
RES MR8102               ; SC 段ﾊﾞﾗｼ前後 前進
CON
SET MR8103               ; SC 段ﾊﾞﾗｼ前後 後退
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR5109               ; SC 段ﾊﾞﾗｼ前後(右) 開限Err
ANB MR5111               ; SC 段ﾊﾞﾗｼ前後(左) 開限Err
AND R5109                ; SC 段ﾊﾞﾗｼ(右) 後退限
AND R5111                ; SC 段ﾊﾞﾗｼ(左) 後退限
ANB R5108                ; SC 段ﾊﾞﾗｼ(右) 前進限
ANB R5110                ; SC 段ﾊﾞﾗｼ(左) 前進限
ANL
JMP @MR1403
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R5109                 ; SC 段ﾊﾞﾗｼ(右) 後退限
AND R5111                ; SC 段ﾊﾞﾗｼ(左) 後退限
ANB R5108                ; SC 段ﾊﾞﾗｼ(右) 前進限
ANB R5110                ; SC 段ﾊﾞﾗｼ(左) 前進限
OR MR5109                ; SC 段ﾊﾞﾗｼ前後(右) 開限Err
OR MR5111                ; SC 段ﾊﾞﾗｼ前後(左) 開限Err
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR1403
RES MR8104               ; SC 段ﾊﾞﾗｼ上下L 下降
CON
SET MR8105               ; SC 段ﾊﾞﾗｼ上下L 上昇
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR5201               ; SC 段ﾊﾞﾗｼ上下L(右) 上昇限Err
ANB MR5203               ; SC 段ﾊﾞﾗｼ上下L(左) 上昇限Err
AND R5201                ; SC 段ﾊﾞﾗｼ上下L(右) 上昇限
AND R5203                ; SC 段ﾊﾞﾗｼ上下L(左) 上昇限
ANB R5200                ; SC 段ﾊﾞﾗｼ上下L(右) 下降限
ANB R5202                ; SC 段ﾊﾞﾗｼ上下L(左) 下降限
ANL
JMP @MR1404
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R5201                 ; SC 段ﾊﾞﾗｼ上下L(右) 上昇限
AND R5203                ; SC 段ﾊﾞﾗｼ上下L(左) 上昇限
ANB R5200                ; SC 段ﾊﾞﾗｼ上下L(右) 下降限
ANB R5202                ; SC 段ﾊﾞﾗｼ上下L(左) 下降限
OR MR5201                ; SC 段ﾊﾞﾗｼ上下L(右) 上昇限Err
OR MR5203                ; SC 段ﾊﾞﾗｼ上下L(左) 上昇限Err
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR1404
RES MR8106               ; SC 段ﾊﾞﾗｼ上下S 上昇
CON
SET MR8107               ; SC 段ﾊﾞﾗｼ上下S 下降
CON
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR5205               ; SC 段ﾊﾞﾗｼ上下S(右) 下降限Err
ANB MR5207               ; SC 段ﾊﾞﾗｼ上下S(左) 下降限Err
AND R5205                ; SC 段ﾊﾞﾗｼ上下S(右) 下降限
AND R5207                ; SC 段ﾊﾞﾗｼ上下S(左) 下降限
ANB R5204                ; SC 段ﾊﾞﾗｼ上下S(右) 上昇限
ANB R5206                ; SC 段ﾊﾞﾗｼ上下S(左) 上昇限
ANL
JMP @MR1513              ; TASK1_終了へ
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R5205                 ; SC 段ﾊﾞﾗｼ上下S(右) 下降限
AND R5207                ; SC 段ﾊﾞﾗｼ上下S(左) 下降限
ANB R5204                ; SC 段ﾊﾞﾗｼ上下S(右) 上昇限
ANB R5206                ; SC 段ﾊﾞﾗｼ上下S(左) 上昇限
OR MR5205                ; SC 段ﾊﾞﾗｼ上下S(右) 下降限Err
OR MR5207                ; SC 段ﾊﾞﾗｼ上下S(左) 下降限Err
ANL
ANL
SET @MR1900              ; Main1 HALT許可
;<h1/>Home_TASK1_原点復帰終了
STG @MR1513              ; TASK1_終了へ
SET MR12901              ; ﾜｰｸｾｯﾄ_TASK1_終了
CON
JMP @MR1514              ; TASK1_終了待機
STG @MR1514              ; TASK1_終了待機
ANB @MR100               ; Task1 ERROR
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR12900              ; ﾊﾟﾚﾀｲｽﾞ_TASK0_終了
AND MR12902              ; 受渡PP_TASK2_終了
AND MR12903              ; ｴﾚﾍﾞｰﾀ_TASK3_終了
AND MR12904              ; 下段移載_TASK4_終了
AND MR12905              ; ｾﾙ間搬送_TASK5_終了
AND MR12906              ; ｽﾗｲﾀﾞ_TASK6_終了
ANL
SET MR101                ; TASK1原点復帰完了
CON
RES @MR1001              ; TASK1　原点復帰動作中
CON
JMP @MR1515              ; HOME END
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
STG @MR1515              ; HOME END
JMP LR601                ; _Grp1_Task1_Fin.STG
;<h1/>AUTO/自動動作
STG LR5401               ; _Grp1_Task1_AUTO.STG
MPS
ANB MR10007              ; 動作ﾊﾟﾗﾒｰﾀ変更中
JMP @MR3000              ; AUTO Main1
MPP
AND MR10007              ; 動作ﾊﾟﾗﾒｰﾀ変更中
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB R39104               ; SELECT_Y_N Interlock
ANL
MPS
AND MR10015              ; 動ﾊﾟﾗ変更後AUTO実行
JMP @MR3000              ; AUTO Main1
MPP
AND MR10014              ; 動ﾊﾟﾗ変更後AUTOｷｬﾝｾﾙ
JMP LR601                ; _Grp1_Task1_Fin.STG
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;<h1/>Auto-Main1/Autoﾒｲﾝﾙｰﾁﾝ1
;[本STG内容]
;・各TaskのAUTO動作を記述して下さい
;・動作ﾓｰﾄﾞは「AUTOAC」に格納されています(1〜32)
;・@MR3000:AUTO_Main1開始、@MR3001:AUTO_Main1完了、@MR3002:AUTO_Main1動作中
STG @MR3000              ; AUTO Main1
SET @MR3002              ; AUTO Main1 Busy
CON
JMP @MR3004              ; 機種ﾁｪｯｸ
STG @MR3004              ; 機種ﾁｪｯｸ
MPS
LD MR13400               ; T0_AutStart_正常_Flg
ANB MR13401              ; T0_AutStart_異常_Flg_(停止)
ANL
SET @MR3006              ; TASK1_自動初回Flg
CON
JMP @MR3010              ; 自動運転_先頭
MPP
AND MR13401              ; T0_AutStart_異常_Flg_(停止)
RES @MR3002              ; AUTO Main1 Busy
CON
JMP @MR3900              ; Auto_終了へ
;<h1/>Auto_先頭
STG @MR3010              ; 自動運転_先頭
MPS
ANB @MR3006              ; TASK1_自動初回Flg
JMP @MR3011              ; 処理選択へ
MPP
AND @MR3006              ; TASK1_自動初回Flg
RES @MR3006              ; TASK1_自動初回Flg
CON
JMP @MR3012              ; 自動初期処理
;自動初期動作
STG @MR3012              ; 自動初期処理
MPS
ANB MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
JMP @MR3011              ; 処理選択へ
MPP
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
JMP @MR3013              ; ﾄﾚｲｶﾞｲﾄﾞ_選択_閉
LDP @MR3013              ; ﾄﾚｲｶﾞｲﾄﾞ_選択_閉
MPS
AND R4500                ; BC_ﾄﾚｲｾｯﾄ確認1_下
SET MR7100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1_閉
MRD
AND R4502                ; BC_ﾄﾚｲｾｯﾄ確認2_中下
SET MR7102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2_閉
MRD
AND R4504                ; BC_ﾄﾚｲｾｯﾄ確認3_中上
SET MR7104               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3_閉
MPP
AND R4506                ; BC_ﾄﾚｲｾｯﾄ確認4_上
SET MR7106               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4_閉
LDB MR4100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_閉限Err_右
ANB MR4102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_閉限Err_左
ORB MR7100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1_閉
LDB MR4104               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2R_閉限Err_右
ANB MR4106               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2L_閉限Err_左
ORB MR7102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2_閉
ANL
LDB MR4108               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3R_閉限Err_右
ANB MR4110               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3L_閉限Err_左
ORB MR7104               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3_閉
ANL
LDB MR4112               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4R_閉限Err_右
ANB MR4114               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4L_閉限Err_左
ORB MR7106               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4_閉
ANL
INV
OUT @MR3014              ; ﾄﾚｲｶﾞｲﾄﾞ_閉Error
LD R4100                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_閉限_右
AND R4102                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_閉限_左
ORB MR7100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1_閉
LD R4104                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ2R_閉限_右
AND R4106                ; BC_ﾄﾚｲｶﾞｲﾄﾞ2L_閉限_左
ORB MR7102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2_閉
ANL
LD R4108                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ3R_閉限_右
AND R4110                ; BC_ﾄﾚｲｶﾞｲﾄﾞ3L_閉限_左
ORB MR7104               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3_閉
ANL
LD R4112                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ4R_閉限_右
AND R4114                ; BC_ﾄﾚｲｶﾞｲﾄﾞ4L_閉限_左
ORB MR7106               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4_閉
ANL
OUT @MR3015              ; ﾄﾚｲｶﾞｲﾄﾞ_ALL閉
STG @MR3013              ; ﾄﾚｲｶﾞｲﾄﾞ_選択_閉
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR3014              ; ﾄﾚｲｶﾞｲﾄﾞ_閉Error
AND @MR3015              ; ﾄﾚｲｶﾞｲﾄﾞ_ALL閉
ANL
JMP @MR3011              ; 処理選択へ
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND @MR3014              ; ﾄﾚｲｶﾞｲﾄﾞ_閉Error
ANL
SET @MR1900              ; Main1 HALT許可
;<h1/>Auto_処理選択
STG @MR3011              ; 処理選択へ
MPS
AND R46106               ; _定停止移行中
JMP @MR3500              ; 停止_処理へ
MPP
ANB R46106               ; _定停止移行中
JMP @MR3106              ; Pauseﾁｪｯｸ
STG @MR3106              ; Pauseﾁｪｯｸ
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
JMP @MR3111              ; ﾄﾚｲ無しMSG_ﾁｪｯｸ
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
LDB R4502                ; BC_ﾄﾚｲｾｯﾄ確認2_中下
ANB R4504                ; BC_ﾄﾚｲｾｯﾄ確認3_中上
ANB R4506                ; BC_ﾄﾚｲｾｯﾄ確認4_上
INV
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LD R5305                 ; SC_ﾄﾚｲｾｯﾄ確認
OR MR13702               ; T1_ﾄﾚｲ渡しSub_Busy
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
RES MR11500
CON
OUT @MR3110              ; ﾄﾚｲ有り確認
STG @MR3111              ; ﾄﾚｲ無しMSG_ﾁｪｯｸ
MPS
LD @MR3110               ; ﾄﾚｲ有り確認
OR R53500                ; _MSG画面表示
ANL
JMP @MR3107              ; 段ﾊﾞﾗｼ_ﾁｪｯｸ
MPP
LDB @MR3110              ; ﾄﾚｲ有り確認
ANB R53500               ; _MSG画面表示
ANL
JMP @MR3112              ; ﾄﾚｲ無し_MSG_表示
STG @MR3112              ; ﾄﾚｲ無し_MSG_表示
MPS
SET MR11500
CON
MSTRT MSG_DISP #1 #0 #1 #0
MPP
JMP @MR3107              ; 段ﾊﾞﾗｼ_ﾁｪｯｸ
LD @MR3113               ; ﾄﾚｲ無し_MSG_表示_抑止
OR CR2002                ; 常時ON
AND @MR3110              ; ﾄﾚｲ有り確認
RES @MR3113              ; ﾄﾚｲ無し_MSG_表示_抑止
CON
MSTRT MSG_DEL #1 #0
STG @MR3107              ; 段ﾊﾞﾗｼ_ﾁｪｯｸ
MPS
LD MR12000               ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
ANB R4500                ; BC_ﾄﾚｲｾｯﾄ確認1_下
ANL
JMP @MR3200              ; 段ﾊﾞﾗｼへ
MPP
LD MR12000               ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
AND R4500                ; BC_ﾄﾚｲｾｯﾄ確認1_下
OR MR12001               ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ANL
JMP @MR3108              ; ﾄﾚｲ交換_SW_ﾁｪｯｸ
STG @MR3108              ; ﾄﾚｲ交換_SW_ﾁｪｯｸ
MPS
LD MR12000               ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
AND R4006                ; BC ｻﾌﾞSWBOX(ﾄﾚｲ交換用) ﾎﾟｰｽﾞ
LD MR12001               ; COM_機種_小ﾄﾚｲ(2.4)_Flg
AND R5006                ; SC ｻﾌﾞSWBOX(ﾄﾚｲ交換用) ﾎﾟｰｽﾞ
ORL
ANL
JMP @MR3212              ; ﾄﾚｲ交換へ
MPP
LD MR12000               ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
ANB R4006                ; BC ｻﾌﾞSWBOX(ﾄﾚｲ交換用) ﾎﾟｰｽﾞ
LD MR12001               ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ANB R5006                ; SC ｻﾌﾞSWBOX(ﾄﾚｲ交換用) ﾎﾟｰｽﾞ
ORL
ANL
JMP @MR3109              ; ﾊﾟﾚﾀｲｽﾞ渡しﾁｪｯｸ
STG @MR3109              ; ﾊﾟﾚﾀｲｽﾞ渡しﾁｪｯｸ
MPS
AND MR13001              ; T0_ﾊﾟﾚﾀｲｽﾞ_ﾄﾚｲ要求
JMP @MR3306              ; ﾊﾟﾚﾀｲｽﾞ渡しへ
MPP
ANB MR13001              ; T0_ﾊﾟﾚﾀｲｽﾞ_ﾄﾚｲ要求
MPS
ANB @MR2102              ; STEP
JMP @MR3011              ; 処理選択へ
MPP
LD @MR2102               ; STEP
AND MR10003              ; STEPｴﾚﾍﾞｰﾀ完了
ANL
RES MR10003              ; STEPｴﾚﾍﾞｰﾀ完了
CON
JMP @MR2110              ; Mainte END処理
;<h1/>Auto_段ﾊﾞﾗｼ
;※大ﾄﾚｲのみ段ﾊﾞﾗｼ有り
LD MR13300               ; T0_ﾄﾚｲ搬送_Pos#1
OR MR13312               ; T0_ﾄﾚｲ搬送_Area2_OK
LD R4502                 ; BC_ﾄﾚｲｾｯﾄ確認2_中下
OR R4504                 ; BC_ﾄﾚｲｾｯﾄ確認3_中上
OR R4506                 ; BC_ﾄﾚｲｾｯﾄ確認4_上
ANL
ANB R4508                ; BC ﾄﾚｲ投入有無検出
ANB MR13200              ; T0_ﾄﾚｲ搬送_RB1_Busy
OUT @MR3201              ; 段ﾊﾞﾗｼ_条件_OK
STG @MR3200              ; 段ﾊﾞﾗｼへ
MPS
AND @MR3201              ; 段ﾊﾞﾗｼ_条件_OK
JMP @MR3204              ; 段ﾊﾞﾗｼ_Sub_Call
MPP
ANB @MR3201              ; 段ﾊﾞﾗｼ_条件_OK
JMP @MR3205              ; ﾄﾚｲ交換_SW_ﾁｪｯｸ
STG @MR3205              ; ﾄﾚｲ交換_SW_ﾁｪｯｸ
MPS
AND R4006                ; BC ｻﾌﾞSWBOX(ﾄﾚｲ交換用) ﾎﾟｰｽﾞ
JMP @MR3212              ; ﾄﾚｲ交換へ
MPP
ANB R4006                ; BC ｻﾌﾞSWBOX(ﾄﾚｲ交換用) ﾎﾟｰｽﾞ
JMP @MR3010              ; 自動運転_先頭
STG @MR3204              ; 段ﾊﾞﾗｼ_Sub_Call
SET MR13501              ; T1_段ﾊﾞﾗｼ中_IL
CON
ANB MR13700              ; T1_段ﾊﾞﾗｼSub_Busy
ANB @MR4500              ; 段ﾊﾞﾗｼSub_Call
SET @MR4500              ; 段ﾊﾞﾗｼSub_Call
CON
JMP @MR3206              ; 段ﾊﾞﾗｼSub_完了待ち
STG @MR3206              ; 段ﾊﾞﾗｼSub_完了待ち
MPS
AND @MR4501              ; 段ﾊﾞﾗｼSub_OK完了
RES MR13501              ; T1_段ﾊﾞﾗｼ中_IL
CON
JMP @MR3010              ; 自動運転_先頭
MPP
AND @MR4503              ; 段ﾊﾞﾗｼSub_NG完了
RES @MR4503              ; 段ﾊﾞﾗｼSub_NG完了
CON
JMP @MR3900              ; Auto_終了へ
;<h1/>Auto_ﾄﾚｲ交換
STG @MR3212              ; ﾄﾚｲ交換へ
ANB MR13701              ; T1_ﾄﾚｲ交換Sub_Busy
ANB @MR4900              ; ﾄﾚｲ交換Sub_Call
SET @MR4900              ; ﾄﾚｲ交換Sub_Call
CON
JMP @MR3213              ; ﾄﾚｲ交換Sub_完了待ち
STG @MR3213              ; ﾄﾚｲ交換Sub_完了待ち
MPS
AND @MR4901              ; ﾄﾚｲ交換Sub_OK完了
JMP @MR3010              ; 自動運転_先頭
MPP
AND @MR4903              ; ﾄﾚｲ交換Sub_NG完了
JMP @MR3900              ; Auto_終了へ
;<h1/>Auto_ﾊﾟﾚﾀｲｽﾞ渡し
LD MR13300               ; T0_ﾄﾚｲ搬送_Pos#1
ANB MR13200              ; T0_ﾄﾚｲ搬送_RB1_Busy
LD MR12000               ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
ANB R4508                ; BC ﾄﾚｲ投入有無検出
LD R4000                 ; B_ﾄﾚｲ_逆入れ検出(ONで正常)
LD R4511                 ; BC ﾄﾚｲ識別検出
ANB MR010
ORL
ANL
LD MR12001               ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ANB R5307                ; SC ﾄﾚｲ投入有無検出
ORL
ANL
OUT @MR3307              ; ﾊﾟﾚﾀｲｽﾞ渡_条件_OK
STG @MR3306              ; ﾊﾟﾚﾀｲｽﾞ渡しへ
MPS
AND @MR3307              ; ﾊﾟﾚﾀｲｽﾞ渡_条件_OK
JMP @MR3309              ; ﾄﾚｲ有無_ﾁｪｯｸ
MPP
ANB @MR3307              ; ﾊﾟﾚﾀｲｽﾞ渡_条件_OK
JMP @MR3310              ; ﾊﾟﾚﾀｲｽﾞ渡_条件_Error
STG @MR3311              ; ﾊﾟﾚﾀｲｽﾞ渡_Error_解除
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
AND @MR101               ; Task1 ERROR_End
ANL
RES @MR101               ; Task1 ERROR_End
CON
RES R39004               ; ｴﾗｰ処理中
CON
MPS
AND @MR105               ; Error_RET_SW1
MPS
ANB @MR2102              ; STEP
JMP @MR3306              ; ﾊﾟﾚﾀｲｽﾞ渡しへ
MPP
AND @MR2102              ; STEP
SET @MR2107              ; STEP　END
CON
JMP @MR2106
MPP
AND @MR106               ; Error_RET_SW2
JMP @MR3900              ; Auto_終了へ
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
STG @MR3309              ; ﾄﾚｲ有無_ﾁｪｯｸ
MPS
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
MPS
ANB R4500                ; BC_ﾄﾚｲｾｯﾄ確認1_下
JMP @MR3200              ; 段ﾊﾞﾗｼへ
MPP
AND R4500                ; BC_ﾄﾚｲｾｯﾄ確認1_下
JMP @MR3312              ; ﾄﾚｲ渡し_SubCall
MPP
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
MPS
ANB R5305                ; SC_ﾄﾚｲｾｯﾄ確認
JMP @MR3010              ; 自動運転_先頭
MPP
AND R5305                ; SC_ﾄﾚｲｾｯﾄ確認
JMP @MR3312              ; ﾄﾚｲ渡し_SubCall
STG @MR3312              ; ﾄﾚｲ渡し_SubCall
RES MR13001              ; T0_ﾊﾟﾚﾀｲｽﾞ_ﾄﾚｲ要求
CON
SET MR13502              ; T1_ﾄﾚｲ_ｾｯﾄ開始
CON
ANB MR13702              ; T1_ﾄﾚｲ渡しSub_Busy
ANB @MR5308              ; ﾄﾚｲ渡しSub_Call
SET @MR5308              ; ﾄﾚｲ渡しSub_Call
CON
JMP @MR3313              ; ﾄﾚｲ渡し_Sub完了待ち
STG @MR3313              ; ﾄﾚｲ渡し_Sub完了待ち
MPS
AND @MR5309              ; ﾄﾚｲ渡しSub_OK完了
MPS
ANB @MR2102              ; STEP
SET MR13503              ; T1_ﾄﾚｲ_ｾｯﾄ完了
CON
JMP @MR3010              ; 自動運転_先頭
MPP
AND @MR2102              ; STEP
SET @MR2107              ; STEP　END
CON
JMP @MR2106
MPP
AND @MR5311              ; ﾄﾚｲ渡しSub_NG完了
RES @MR5311              ; ﾄﾚｲ渡しSub_NG完了
CON
JMP @MR3900              ; Auto_終了へ
;<h1/>Auto_停止処理
STG @MR3500              ; 停止_処理へ
MPS
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
JMP @MR3501              ; 停止処理完了
MPP
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
RES MR7100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1_閉
CON
RES MR7102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2_閉
CON
RES MR7104               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3_閉
CON
RES MR7106               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4_閉
CON
JMP @MR3502              ; ﾄﾚｲｶﾞｲﾄﾞ_開待ち
LDB MR4101               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_開限Err_右
ANB MR4103               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_開限Err_左
ANB MR4105               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2R_開限Err_右
ANB MR4107               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2L_開限Err_左
ANB MR4109               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3R_開限Err_右
ANB MR4111               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3L_開限Err_左
ANB MR4113               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4R_開限Err_右
ANB MR4115               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4L_開限Err_左
INV
OUT @MR3503              ; ﾄﾚｲｶﾞｲﾄﾞ_Error有り
LD R4101                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_開限_右
AND R4103                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_開限_左
AND R4105                ; BC_ﾄﾚｲｶﾞｲﾄﾞ2R_開限_右
AND R4107                ; BC_ﾄﾚｲｶﾞｲﾄﾞ2L_開限_左
AND R4109                ; BC_ﾄﾚｲｶﾞｲﾄﾞ3R_開限_右
AND R4111                ; BC_ﾄﾚｲｶﾞｲﾄﾞ3L_開限_左
AND R4113                ; BC_ﾄﾚｲｶﾞｲﾄﾞ4R_開限_右
AND R4115                ; BC_ﾄﾚｲｶﾞｲﾄﾞ4L_開限_左
OUT @MR3504              ; ﾄﾚｲｶﾞｲﾄﾞ_ALL_開確認
STG @MR3502              ; ﾄﾚｲｶﾞｲﾄﾞ_開待ち
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR3503              ; ﾄﾚｲｶﾞｲﾄﾞ_Error有り
AND @MR3504              ; ﾄﾚｲｶﾞｲﾄﾞ_ALL_開確認
ANL
JMP @MR3501              ; 停止処理完了
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND @MR3503              ; ﾄﾚｲｶﾞｲﾄﾞ_Error有り
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR3501              ; 停止処理完了
SET MR13708              ; T1_ﾜｰｸｾｯﾄ_AutoEND
CON
JMP @MR3900              ; Auto_終了へ
;<h1/>Auto_終了処理
STG @MR3900              ; Auto_終了へ
MPS
RES MR11500
CON
MSTRT MSG_DEL #1 #0
MRD
ANB @MR2102              ; STEP
SET MR12901              ; ﾜｰｸｾｯﾄ_TASK1_終了
CON
JMP @MR3915              ; AUTO END
MPP
AND @MR2102              ; STEP
SET @MR2107              ; STEP　END
CON
JMP @MR2106
STG @MR3915              ; AUTO END
ANB @MR001               ; TASK1 ERROR
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR12900              ; ﾊﾟﾚﾀｲｽﾞ_TASK0_終了
AND MR12902              ; 受渡PP_TASK2_終了
AND MR12903              ; ｴﾚﾍﾞｰﾀ_TASK3_終了
AND MR12904              ; 下段移載_TASK4_終了
AND MR12905              ; ｾﾙ間搬送_TASK5_終了
AND MR12906              ; ｽﾗｲﾀﾞ_TASK6_終了
ANL
JMP LR601                ; _Grp1_Task1_Fin.STG
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;<h1/>Auto-Main2/Autoﾒｲﾝﾙｰﾁﾝ2
;[本STG内容]
;・@MR4000の起動はMain1にて行う事
;・@MR4000:AUTO_Main2開始、@MR4001:AUTO_Main2完了、@MR4002:AUTO_Main2動作中
STG @MR4000              ; AUTO Main2
SET @MR4002              ; Main2 Busy
CON
JMP @MR4003
STG @MR4003
JMP @MR4415              ; Main2 END
STG @MR4415              ; Main2 END
SET @MR4001              ; Main2 END
CON
RES @MR4002              ; Main2 Busy
CON
ENDS
;<h1/>MAINTE/ﾒﾝﾃﾅﾝｽ動作
;[本STG内容]
;・各TaskのMAINTE動作を記述して下さい
;・動作ﾓｰﾄﾞは「MAINTEAC*」に格納されています(1〜32)
;・動作終了時は@MR2915にJMPして下さい
STG LR5601               ; _Grp1_Task1_MAINTE.STG
JMP @MR2000              ; Mainte
STG @MR2000              ; Mainte
SET @MR2002              ; Mainte中
CON
JMP @MR2003
LD @MR2002               ; Mainte中
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
OUT @MR2008              ; Task1_Mainte_可能
;<h1/>ﾄﾚｲﾁｪﾝｼﾞｬｰ大_単動動作　
STG @MR2003
MPS
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND= DM4110 #1           ; _Group1　ﾒﾝﾃ動作番号
JMP @MR2110              ; Mainte END処理
MRD
AND= DM4110 #2           ; _Group1　ﾒﾝﾃ動作番号
SET MR13001              ; T0_ﾊﾟﾚﾀｲｽﾞ_ﾄﾚｲ要求
CON
JMP @MR2100
MRD
AND= DM4110 #3           ; _Group1　ﾒﾝﾃ動作番号
MPS
AND= DM20098 #1          ; ﾄﾚｲﾁｪﾝｼﾞｬｰ機種切替
@DW #2106 DM3008         ; _MainTP　切替ﾍﾟｰｼﾞNo
CON
AND MR23400              ; 単動動作終了SW
JMP @MR2110              ; Mainte END処理
MRD
AND= DM20098 #2          ; ﾄﾚｲﾁｪﾝｼﾞｬｰ機種切替
@DW #2109 DM3008         ; _MainTP　切替ﾍﾟｰｼﾞNo
CON
AND MR23400              ; 単動動作終了SW
JMP @MR2110              ; Mainte END処理
MRD
AND= DM20098 #3          ; ﾄﾚｲﾁｪﾝｼﾞｬｰ機種切替
@DW #2108 DM3008         ; _MainTP　切替ﾍﾟｰｼﾞNo
CON
AND MR23400              ; 単動動作終了SW
JMP @MR2110              ; Mainte END処理
MRD
AND= DM20098 #4          ; ﾄﾚｲﾁｪﾝｼﾞｬｰ機種切替
@DW #2110 DM3008         ; _MainTP　切替ﾍﾟｰｼﾞNo
CON
AND MR23400              ; 単動動作終了SW
JMP @MR2110              ; Mainte END処理
MPP
AND= DM20098 #5          ; ﾄﾚｲﾁｪﾝｼﾞｬｰ機種切替
@DW #2107 DM3008         ; _MainTP　切替ﾍﾟｰｼﾞNo
CON
AND MR23400              ; 単動動作終了SW
JMP @MR2110              ; Mainte END処理
MRD
AND= DM4110 #29          ; _Group1　ﾒﾝﾃ動作番号
MPS
AND= DM20098 #1          ; ﾄﾚｲﾁｪﾝｼﾞｬｰ機種切替
@DW #2000 DM3008         ; _MainTP　切替ﾍﾟｰｼﾞNo
CON
AND MR23400              ; 単動動作終了SW
JMP @MR2110              ; Mainte END処理
MRD
AND= DM20098 #2          ; ﾄﾚｲﾁｪﾝｼﾞｬｰ機種切替
@DW #2070 DM3008         ; _MainTP　切替ﾍﾟｰｼﾞNo
CON
AND MR23400              ; 単動動作終了SW
JMP @MR2110              ; Mainte END処理
MRD
AND= DM20098 #3          ; ﾄﾚｲﾁｪﾝｼﾞｬｰ機種切替
@DW #2020 DM3008         ; _MainTP　切替ﾍﾟｰｼﾞNo
CON
AND MR23400              ; 単動動作終了SW
JMP @MR2110              ; Mainte END処理
MRD
AND= DM20098 #4          ; ﾄﾚｲﾁｪﾝｼﾞｬｰ機種切替
@DW #2060 DM3008         ; _MainTP　切替ﾍﾟｰｼﾞNo
CON
AND MR23400              ; 単動動作終了SW
JMP @MR2110              ; Mainte END処理
MPP
AND= DM20098 #5          ; ﾄﾚｲﾁｪﾝｼﾞｬｰ機種切替
@DW #2040 DM3008         ; _MainTP　切替ﾍﾟｰｼﾞNo
CON
AND MR23400              ; 単動動作終了SW
JMP @MR2110              ; Mainte END処理
MRD
AND= DM4110 #30          ; _Group1　ﾒﾝﾃ動作番号
@DW #2150 DM3008         ; _MainTP　切替ﾍﾟｰｼﾞNo
CON
LDP R44915               ; Teaching End
ORP MR12400              ; Teaching End 2
ANL
JMP @MR2110              ; Mainte END処理
MPP
AND R47800               ; _Group1　ﾒﾝﾃ動作定停止移行中
JMP @MR2110              ; Mainte END処理
;<h1/>ﾄﾚﾁｪﾝ大_ﾜｰｸｾｯﾄ
LD= DM3000 #2001         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2021         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2041         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND @MR2008              ; Task1_Mainte_可能
MPS
LDP MR20012              ; TPSW_BC ﾄﾚｲｶﾞｲﾄﾞ4 閉
ANB MR20013              ; TPSW_BC ﾄﾚｲｶﾞｲﾄﾞ4 開
ANL
SET MR7106               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4_閉
MRD
LDP MR20013              ; TPSW_BC ﾄﾚｲｶﾞｲﾄﾞ4 開
ANB MR20012              ; TPSW_BC ﾄﾚｲｶﾞｲﾄﾞ4 閉
ANL
RES MR7106               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4_閉
MRD
LD R7213                 ; BC ﾄﾚｲ中間受け上 閉
AND R7211                ; BC ﾄﾚｲｼﾌﾄ 上昇
ORB R4506                ; BC_ﾄﾚｲｾｯﾄ確認4_上
ANP MR20104              ; TPSW_BC ﾄﾚｲ受け4 開
ANB MR20105              ; TPSW_BC ﾄﾚｲ受け4 閉
ANL
RES MR7115               ; BC ﾄﾚｲ受け4 閉
CON
SET MR7114               ; BC ﾄﾚｲ受け4 開
MPP
LDP MR20105              ; TPSW_BC ﾄﾚｲ受け4 閉
ANB MR20104              ; TPSW_BC ﾄﾚｲ受け4 開
ANL
RES MR7114               ; BC ﾄﾚｲ受け4 開
CON
SET MR7115               ; BC ﾄﾚｲ受け4 閉
LD= DM3000 #2002         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2022         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2042         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND @MR2008              ; Task1_Mainte_可能
MPS
LDP MR20010              ; TPSW_BC ﾄﾚｲｶﾞｲﾄﾞ3 閉
ANB MR20011              ; TPSW_BC ﾄﾚｲｶﾞｲﾄﾞ3 開
ANL
SET MR7104               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3_閉
MRD
LDP MR20011              ; TPSW_BC ﾄﾚｲｶﾞｲﾄﾞ3 開
ANB MR20010              ; TPSW_BC ﾄﾚｲｶﾞｲﾄﾞ3 閉
ANL
RES MR7104               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3_閉
MRD
LD R7213                 ; BC ﾄﾚｲ中間受け上 閉
ORB R4504                ; BC_ﾄﾚｲｾｯﾄ確認3_中上
ANP MR20102              ; TPSW_BC ﾄﾚｲ受け3 開
ANB MR20103              ; TPSW_BC ﾄﾚｲ受け3 閉
ANL
RES MR7113               ; BC ﾄﾚｲ受け3 閉
CON
SET MR7112               ; BC ﾄﾚｲ受け3 開
MPP
LDP MR20103              ; TPSW_BC ﾄﾚｲ受け3 閉
ANB MR20102              ; TPSW_BC ﾄﾚｲ受け3 開
ANL
RES MR7112               ; BC ﾄﾚｲ受け3 開
CON
SET MR7113               ; BC ﾄﾚｲ受け3 閉
LD= DM3000 #2003         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2023         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2043         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND @MR2008              ; Task1_Mainte_可能
MPS
LDP MR20008              ; TPSW_BC ﾄﾚｲｶﾞｲﾄﾞ2 閉
ANB MR20009              ; TPSW_BC ﾄﾚｲｶﾞｲﾄﾞ2 開
ANL
SET MR7102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2_閉
MRD
LDP MR20009              ; TPSW_BC ﾄﾚｲｶﾞｲﾄﾞ2 開
ANB MR20008              ; TPSW_BC ﾄﾚｲｶﾞｲﾄﾞ2 閉
ANL
RES MR7102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2_閉
MRD
LD R7213                 ; BC ﾄﾚｲ中間受け上 閉
ORB R4502                ; BC_ﾄﾚｲｾｯﾄ確認2_中下
ANP MR20100              ; TPSW_BC ﾄﾚｲ受け2 開
ANB MR20101              ; TPSW_BC ﾄﾚｲ受け2 閉
ANL
RES MR7111               ; BC ﾄﾚｲ受け2 閉
CON
SET MR7110               ; BC ﾄﾚｲ受け2 開
MPP
LDP MR20101              ; TPSW_BC ﾄﾚｲ受け2 閉
ANB MR20100              ; TPSW_BC ﾄﾚｲ受け2 開
ANL
RES MR7110               ; BC ﾄﾚｲ受け2 開
CON
SET MR7111               ; BC ﾄﾚｲ受け2 閉
LD= DM3000 #2004         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2024         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2044         ; _MainTP　表示中ﾍﾟｰｼﾞNo
ANP MR20006              ; TPSW_BC ﾄﾚｲｶﾞｲﾄﾞ1 閉
ANB MR20007              ; TPSW_BC ﾄﾚｲｶﾞｲﾄﾞ1 開
LD= DM3000 #2150         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM50312 #0          ; RB選択
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
ANP R42012               ; 共用SW12
ANB R42013               ; 共用SW13
ORL
AND @MR2008              ; Task1_Mainte_可能
SET MR7100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1_閉
LD= DM3000 #2004         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2024         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2044         ; _MainTP　表示中ﾍﾟｰｼﾞNo
ANP MR20007              ; TPSW_BC ﾄﾚｲｶﾞｲﾄﾞ1 開
ANB MR20006              ; TPSW_BC ﾄﾚｲｶﾞｲﾄﾞ1 閉
LD= DM3000 #2150         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM50312 #0          ; RB選択
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
ANP R42013               ; 共用SW13
ANB R42012               ; 共用SW12
ORL
AND @MR2008              ; Task1_Mainte_可能
RES MR7100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1_閉
LD= DM3000 #2004         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2024         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2044         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND @MR2008              ; Task1_Mainte_可能
MPS
LD R7208                 ; BC 段ﾊﾞﾗｼ前後 前進
AND R7205                ; BC 段ﾊﾞﾗｼ上下L 上昇
ORB R4500                ; BC_ﾄﾚｲｾｯﾄ確認1_下
LD R7210                 ; BC ﾄﾚｲｼﾌﾄ 下降
AND R7213                ; BC ﾄﾚｲ中間受け上 閉
ORL
ANP MR20014              ; TPSW_BC ﾄﾚｲ受け1 開
ANB MR20015              ; TPSW_BC ﾄﾚｲ受け1 閉
ANL
RES MR7109               ; BC ﾄﾚｲ受け1 閉
CON
SET MR7108               ; BC ﾄﾚｲ受け1 開
MPP
LDP MR20015              ; TPSW_BC ﾄﾚｲ受け1 閉
ANB MR20014              ; TPSW_BC ﾄﾚｲ受け1 開
ANL
RES MR7108               ; BC ﾄﾚｲ受け1 開
CON
SET MR7109               ; BC ﾄﾚｲ受け1 閉
;<h1/>ﾄﾚﾁｪﾝ大_段ﾊﾞﾗｼL
LD= DM3000 #2005         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2025         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2045         ; _MainTP　表示中ﾍﾟｰｼﾞNo
ANP MR20110              ; TPSW_BC 段ﾊﾞﾗｼ上下L 下降
ANB MR20111              ; TPSW_BC 段ﾊﾞﾗｼ上下L 上昇
LD= DM3000 #2150         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM50312 #0          ; RB選択
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
ANP R42002               ; 共用SW2
ANB R42003               ; 共用SW3
ORL
AND @MR2008              ; Task1_Mainte_可能
LD R4609                 ; BC 段ﾊﾞﾗｼ(右) 後退限
AND R4611                ; BC 段ﾊﾞﾗｼ(左) 後退限
ORB R4508                ; BC ﾄﾚｲ投入有無検出
ANL
AND MR13300              ; T0_ﾄﾚｲ搬送_Pos#1
AND R4405                ; BC_段ﾊﾞﾗｼ押え1_開限
AND R4407                ; BC_段ﾊﾞﾗｼ押え2_開限
RES MR7205               ; BC 段ﾊﾞﾗｼ上下L 上昇
CON
SET MR7204               ; BC 段ﾊﾞﾗｼ上下L 下降
LD= DM3000 #2005         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2025         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2045         ; _MainTP　表示中ﾍﾟｰｼﾞNo
ANP MR20111              ; TPSW_BC 段ﾊﾞﾗｼ上下L 上昇
ANB MR20110              ; TPSW_BC 段ﾊﾞﾗｼ上下L 下降
LD= DM3000 #2150         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM50312 #0          ; RB選択
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
ANP R42003               ; 共用SW3
ANB R42002               ; 共用SW2
ORL
AND @MR2008              ; Task1_Mainte_可能
AND R4613                ; BC ﾄﾚｲｼﾌﾄ(右) 上昇限
AND R4615                ; BC ﾄﾚｲｼﾌﾄ(左) 上昇限
LD R4200                 ; BC_ﾄﾚｲ受け1BR_開限_奥右
AND R4202                ; BC_ﾄﾚｲ受け1FR_開限_前右
AND R4204                ; BC_ﾄﾚｲ受け1BL_開限_奥左
AND R4206                ; BC_ﾄﾚｲ受け1FL_開限_前左
LD R4609                 ; BC 段ﾊﾞﾗｼ(右) 後退限
AND R4611                ; BC 段ﾊﾞﾗｼ(左) 後退限
ORL
ANL
AND R4405                ; BC_段ﾊﾞﾗｼ押え1_開限
AND R4407                ; BC_段ﾊﾞﾗｼ押え2_開限
RES MR7204               ; BC 段ﾊﾞﾗｼ上下L 下降
CON
SET MR7205               ; BC 段ﾊﾞﾗｼ上下L 上昇
;<h1/>ﾄﾚﾁｪﾝ大_段ﾊﾞﾗｼ上下S
LD= DM3000 #2005         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2025         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2045         ; _MainTP　表示中ﾍﾟｰｼﾞNo
ANP MR20112              ; TPSW_BC 段ﾊﾞﾗｼ上下S 上昇
ANB MR20113              ; TPSW_BC 段ﾊﾞﾗｼ上下S 下降
LD= DM3000 #2150         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM50312 #0          ; RB選択
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
ANP R42004               ; 共用SW4
ANB R42005               ; 共用SW5
ORL
AND @MR2008              ; Task1_Mainte_可能
AND R4613                ; BC ﾄﾚｲｼﾌﾄ(右) 上昇限
AND R4615                ; BC ﾄﾚｲｼﾌﾄ(左) 上昇限
RES MR7207               ; BC 段ﾊﾞﾗｼ上下S 下降
CON
SET MR7206               ; BC 段ﾊﾞﾗｼ上下S 上昇
LD= DM3000 #2005         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2025         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2045         ; _MainTP　表示中ﾍﾟｰｼﾞNo
ANP MR20113              ; TPSW_BC 段ﾊﾞﾗｼ上下S 下降
ANB MR20112              ; TPSW_BC 段ﾊﾞﾗｼ上下S 上昇
LD= DM3000 #2150         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM50312 #0          ; RB選択
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
ANP R42005               ; 共用SW5
ANB R42004               ; 共用SW4
ORL
AND @MR2008              ; Task1_Mainte_可能
LD R4609                 ; BC 段ﾊﾞﾗｼ(右) 後退限
AND R4611                ; BC 段ﾊﾞﾗｼ(左) 後退限
ORB R4508                ; BC ﾄﾚｲ投入有無検出
LD R4601                 ; BC 段ﾊﾞﾗｼ上下L(右) 上昇限
AND R4603                ; BC 段ﾊﾞﾗｼ上下L(左) 上昇限
ORL
ANL
AND R4405                ; BC_段ﾊﾞﾗｼ押え1_開限
AND R4407                ; BC_段ﾊﾞﾗｼ押え2_開限
RES MR7206               ; BC 段ﾊﾞﾗｼ上下S 上昇
CON
SET MR7207               ; BC 段ﾊﾞﾗｼ上下S 下降
;<h1/>ﾄﾚﾁｪﾝ大_段ﾊﾞﾗｼ前後
LD= DM3000 #2005         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2025         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2045         ; _MainTP　表示中ﾍﾟｰｼﾞNo
ANP MR20114              ; TPSW_BC 段ﾊﾞﾗｼ前後 前進
ANB MR20115              ; TPSW_BC 段ﾊﾞﾗｼ前後 後退
LD= DM3000 #2150         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM50312 #0          ; RB選択
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
ANP R42000               ; 共用SW0
ANB R42001               ; 共用SW1
ORL
AND @MR2008              ; Task1_Mainte_可能
RES MR7209               ; BC 段ﾊﾞﾗｼ前後 後退
CON
SET MR7208               ; BC 段ﾊﾞﾗｼ前後 前進
LD= DM3000 #2005         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2025         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2045         ; _MainTP　表示中ﾍﾟｰｼﾞNo
ANP MR20115              ; TPSW_BC 段ﾊﾞﾗｼ前後 後退
ANB MR20114              ; TPSW_BC 段ﾊﾞﾗｼ前後 前進
LD= DM3000 #2150         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM50312 #0          ; RB選択
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
ANP R42001               ; 共用SW1
ANB R4200                ; BC_ﾄﾚｲ受け1BR_開限_奥右
ORL
AND @MR2008              ; Task1_Mainte_可能
AND R4405                ; BC_段ﾊﾞﾗｼ押え1_開限
AND R4407                ; BC_段ﾊﾞﾗｼ押え2_開限
RES MR7208               ; BC 段ﾊﾞﾗｼ前後 前進
CON
SET MR7209               ; BC 段ﾊﾞﾗｼ前後 後退
;<h1/>ﾄﾚﾁｪﾝ大_段ﾊﾞﾗｼ押さえ
LD= DM3000 #2005         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2025         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2045         ; _MainTP　表示中ﾍﾟｰｼﾞNo
ANP MR20514              ; TPSW_BC 段ﾊﾞﾗｼ1押さえ 閉
ANB MR20515              ; TPSW_BC 段ﾊﾞﾗｼ1押さえ 開
LD= DM3000 #2150         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM50312 #0          ; RB選択
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
ANP R42014               ; 共用SW14
ANB R42015               ; 共用SW15
ORL
AND @MR2008              ; Task1_Mainte_可能
AND MR13300              ; T0_ﾄﾚｲ搬送_Pos#1
LD R4608                 ; BC 段ﾊﾞﾗｼ(右) 前進限
AND R4610                ; BC 段ﾊﾞﾗｼ(左) 前進限
LD R4601                 ; BC 段ﾊﾞﾗｼ上下L(右) 上昇限
AND R4603                ; BC 段ﾊﾞﾗｼ上下L(左) 上昇限
ORL
LD R4604                 ; BC 段ﾊﾞﾗｼ上下S(右) 上昇限
AND R4606                ; BC 段ﾊﾞﾗｼ上下S(左) 上昇限
AND R4608                ; BC 段ﾊﾞﾗｼ(右) 前進限
AND R4610                ; BC 段ﾊﾞﾗｼ(左) 前進限
ORL
ANL
RES MR7215               ; BC_段ﾊﾞﾗｼ押え_開
CON
SET MR7214               ; BC_段ﾊﾞﾗｼ押え_閉
LD= DM3000 #2005         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2025         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2045         ; _MainTP　表示中ﾍﾟｰｼﾞNo
ANP MR20515              ; TPSW_BC 段ﾊﾞﾗｼ1押さえ 開
ANB MR20514              ; TPSW_BC 段ﾊﾞﾗｼ1押さえ 閉
LD= DM3000 #2150         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM50312 #0          ; RB選択
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
ANP R42015               ; 共用SW15
ANB R42014               ; 共用SW14
ORL
AND @MR2008              ; Task1_Mainte_可能
RES MR7214               ; BC_段ﾊﾞﾗｼ押え_閉
CON
SET MR7215               ; BC_段ﾊﾞﾗｼ押え_開
;<h1/>ﾄﾚﾁｪﾝ大_ﾄﾚｲｼﾌﾄ
LD= DM3000 #2006         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2026         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2046         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND @MR2008              ; Task1_Mainte_可能
LD R7213                 ; BC ﾄﾚｲ中間受け上 閉
AND R7110                ; BC ﾄﾚｲ受け2 開
AND R7112                ; BC ﾄﾚｲ受け3 開
AND R7114                ; BC ﾄﾚｲ受け4 開
ANB R4500                ; BC_ﾄﾚｲｾｯﾄ確認1_下
OR R7212                 ; BC ﾄﾚｲ中間受け上 開
ANL
AND R4600                ; BC 段ﾊﾞﾗｼ上下L(右) 下降限
AND R4602                ; BC 段ﾊﾞﾗｼ上下L(左) 下降限
AND R4605                ; BC 段ﾊﾞﾗｼ上下S(右) 下降限
AND R4607                ; BC 段ﾊﾞﾗｼ上下S(左) 下降限
ANP MR20200              ; TPSW_BC ﾄﾚｲｼﾌﾄ 下降
ANB MR20201              ; TPSW_BC ﾄﾚｲｼﾌﾄ 上昇
RES MR7211               ; BC ﾄﾚｲｼﾌﾄ 上昇
CON
SET MR7210               ; BC ﾄﾚｲｼﾌﾄ 下降
LD= DM3000 #2006         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2026         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2046         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND @MR2008              ; Task1_Mainte_可能
MPS
LD R7212                 ; BC ﾄﾚｲ中間受け上 開
ANP MR20201              ; TPSW_BC ﾄﾚｲｼﾌﾄ 上昇
ANB MR20200              ; TPSW_BC ﾄﾚｲｼﾌﾄ 下降
ANL
RES MR7210               ; BC ﾄﾚｲｼﾌﾄ 下降
CON
SET MR7211               ; BC ﾄﾚｲｼﾌﾄ 上昇
MPP
LD R4612                 ; BC ﾄﾚｲｼﾌﾄ(右) 下降限
AND R4614                ; BC ﾄﾚｲｼﾌﾄ(左) 下降限
LD R7109                 ; BC ﾄﾚｲ受け1 閉
ORB R4500                ; BC_ﾄﾚｲｾｯﾄ確認1_下
ANL
LD R7111                 ; BC ﾄﾚｲ受け2 閉
ORB R4502                ; BC_ﾄﾚｲｾｯﾄ確認2_中下
ANL
LD R7113                 ; BC ﾄﾚｲ受け3 閉
ORB R4504                ; BC_ﾄﾚｲｾｯﾄ確認3_中上
ANL
LD R4613                 ; BC ﾄﾚｲｼﾌﾄ(右) 上昇限
AND R4615                ; BC ﾄﾚｲｼﾌﾄ(左) 上昇限
LD R7115                 ; BC ﾄﾚｲ受け4 閉
ORB R4506                ; BC_ﾄﾚｲｾｯﾄ確認4_上
ANL
LD R7111                 ; BC ﾄﾚｲ受け2 閉
ORB R4502                ; BC_ﾄﾚｲｾｯﾄ確認2_中下
ANL
LD R7113                 ; BC ﾄﾚｲ受け3 閉
ORB R4504                ; BC_ﾄﾚｲｾｯﾄ確認3_中上
ANL
ORL
ANP MR20202              ; TPSW_BC ﾄﾚｲ中間受け上 開
ANB MR20203              ; TPSW_BC ﾄﾚｲ中間受け上 閉
ANL
RES MR7213               ; BC_ﾄﾚｲ中間受け_閉
CON
SET MR7212               ; BC_ﾄﾚｲ中間受け_開
LD= DM3000 #2006         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2026         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2046         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND @MR2008              ; Task1_Mainte_可能
LD R4612                 ; BC ﾄﾚｲｼﾌﾄ(右) 下降限
AND R4614                ; BC ﾄﾚｲｼﾌﾄ(左) 下降限
LD R4613                 ; BC ﾄﾚｲｼﾌﾄ(右) 上昇限
AND R4615                ; BC ﾄﾚｲｼﾌﾄ(左) 上昇限
ORL
ANL
ANP MR20203              ; TPSW_BC ﾄﾚｲ中間受け上 閉
ANB MR20202              ; TPSW_BC ﾄﾚｲ中間受け上 開
RES MR7212               ; BC_ﾄﾚｲ中間受け_開
CON
SET MR7213               ; BC_ﾄﾚｲ中間受け_閉
;<h1/>ﾄﾚｲﾁｪﾝｼﾞｬｰ小_単動動作
;<h1/>ﾄﾚﾁｪﾝ小_ﾜｰｸｾｯﾄ
LD= DM3000 #2061         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2071         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND @MR2008              ; Task1_Mainte_可能
ANP MR20404              ; TPSW_SC ﾄﾚｲ受け 開
ANB MR20405              ; TPSW_SC ﾄﾚｲ受け 閉
RES MR8101               ; SC ﾄﾚｲ受け 閉
CON
SET MR8100               ; SC ﾄﾚｲ受け 開
LD= DM3000 #2061         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2071         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND @MR2008              ; Task1_Mainte_可能
ANP MR20405              ; TPSW_SC ﾄﾚｲ受け 閉
ANB MR20404              ; TPSW_SC ﾄﾚｲ受け 開
RES MR8100               ; SC ﾄﾚｲ受け 開
CON
SET MR8101               ; SC ﾄﾚｲ受け 閉
;<h1/>ﾄﾚﾁｪﾝ小_段ﾊﾞﾗｼL
LD= DM3000 #2061         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2071         ; _MainTP　表示中ﾍﾟｰｼﾞNo
ANP MR20408              ; TPSW_SC 段ﾊﾞﾗｼ上下L 下降
ANB MR20409              ; TPSW_SC 段ﾊﾞﾗｼ上下L 上昇
LD= DM3000 #2150         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM50312 #0          ; RB選択
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ANP R42002               ; 共用SW2
ANB R42003               ; 共用SW3
ORL
AND @MR2008              ; Task1_Mainte_可能
AND MR13300              ; T0_ﾄﾚｲ搬送_Pos#1
LDB R5307                ; SC ﾄﾚｲ投入有無検出
LD R5109                 ; SC 段ﾊﾞﾗｼ(右) 後退限
AND R5111                ; SC 段ﾊﾞﾗｼ(左) 後退限
ORL
ANL
RES MR8105               ; SC 段ﾊﾞﾗｼ上下L 上昇
CON
SET MR8104               ; SC 段ﾊﾞﾗｼ上下L 下降
LD= DM3000 #2061         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2071         ; _MainTP　表示中ﾍﾟｰｼﾞNo
ANP MR20409              ; TPSW_SC 段ﾊﾞﾗｼ上下L 上昇
ANB MR20408              ; TPSW_SC 段ﾊﾞﾗｼ上下L 下降
LD= DM3000 #2150         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM50312 #0          ; RB選択
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ANP R42003               ; 共用SW3
ANB R42002               ; 共用SW2
ORL
AND @MR2008              ; Task1_Mainte_可能
RES MR8104               ; SC 段ﾊﾞﾗｼ上下L 下降
CON
SET MR8105               ; SC 段ﾊﾞﾗｼ上下L 上昇
;<h1/>ﾄﾚﾁｪﾝ小_段ﾊﾞﾗｼS
LD= DM3000 #2061         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2071         ; _MainTP　表示中ﾍﾟｰｼﾞNo
ANP MR20410              ; TPSW_SC 段ﾊﾞﾗｼ上下S 下降
ANB MR20411              ; TPSW_SC 段ﾊﾞﾗｼ上下S 上昇
LD= DM3000 #2150         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM50312 #0          ; RB選択
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ANP R42004               ; 共用SW4
ANB R42005               ; 共用SW5
ORL
AND @MR2008              ; Task1_Mainte_可能
RES MR8107               ; SC 段ﾊﾞﾗｼ上下S 下降
CON
SET MR8106               ; SC 段ﾊﾞﾗｼ上下S 上昇
LD= DM3000 #2061         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2071         ; _MainTP　表示中ﾍﾟｰｼﾞNo
ANP MR20411              ; TPSW_SC 段ﾊﾞﾗｼ上下S 上昇
ANB MR20410              ; TPSW_SC 段ﾊﾞﾗｼ上下S 下降
LD= DM3000 #2150         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM50312 #0          ; RB選択
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ANP R42005               ; 共用SW5
ANB R42004               ; 共用SW4
ORL
AND @MR2008              ; Task1_Mainte_可能
RES MR8106               ; SC 段ﾊﾞﾗｼ上下S 上昇
CON
SET MR8107               ; SC 段ﾊﾞﾗｼ上下S 下降
;<h1/>ﾄﾚﾁｪﾝ小_段ﾊﾞﾗｼ開閉
LD= DM3000 #2061         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2071         ; _MainTP　表示中ﾍﾟｰｼﾞNo
LD= DM3000 #2150         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM50312 #0          ; RB選択
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
AND @MR2008              ; Task1_Mainte_可能
LDP MR20406              ; TPSW_SC 段ﾊﾞﾗｼ 閉
ANB MR20407              ; TPSW_SC 段ﾊﾞﾗｼ 開
LDP R42000               ; 共用SW0
ANB R42001               ; 共用SW1
ORL
ANL
RES MR8103               ; SC 段ﾊﾞﾗｼ前後 後退
CON
SET MR8102               ; SC 段ﾊﾞﾗｼ前後 前進
LD= DM3000 #2061         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #2071         ; _MainTP　表示中ﾍﾟｰｼﾞNo
LD= DM3000 #2150         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM50312 #0          ; RB選択
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
AND @MR2008              ; Task1_Mainte_可能
LDP MR20407              ; TPSW_SC 段ﾊﾞﾗｼ 開
ANB MR20406              ; TPSW_SC 段ﾊﾞﾗｼ 閉
LDP R42001               ; 共用SW1
ANB R42000               ; 共用SW0
ORL
ANL
RES MR8102               ; SC 段ﾊﾞﾗｼ前後 前進
CON
SET MR8103               ; SC 段ﾊﾞﾗｼ前後 後退
;<h1/>ﾄﾚﾁｪﾝ小_段ﾊﾞﾗｼ押さえ
LD= DM3000 #2071         ; _MainTP　表示中ﾍﾟｰｼﾞNo
ANP MR20602              ; S_ 段ﾊﾞﾗｼ押え_閉_TPSW
ANB MR20603              ; S1_段ﾊﾞﾗｼ押え_開_TPSW
LD= DM3000 #2150         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM50312 #0          ; RB選択
AND MR12102              ; COM_MC_TYPE_ﾎﾙﾀﾞ上
ANP R42014               ; 共用SW14
ANB R42015               ; 共用SW15
ORL
AND MR13300              ; T0_ﾄﾚｲ搬送_Pos#1
AND @MR2008              ; Task1_Mainte_可能
RES MR8113               ; S1 段ﾊﾞﾗｼ押さえ 開
CON
SET MR8112               ; S1 段ﾊﾞﾗｼ押さえ 閉
LD= DM3000 #2071         ; _MainTP　表示中ﾍﾟｰｼﾞNo
ANP MR20603              ; S1_段ﾊﾞﾗｼ押え_開_TPSW
ANB MR20602              ; S_ 段ﾊﾞﾗｼ押え_閉_TPSW
LD= DM3000 #2150         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND= DM50312 #0          ; RB選択
AND MR12102              ; COM_MC_TYPE_ﾎﾙﾀﾞ上
ANP R42015               ; 共用SW15
ANB R42014               ; 共用SW14
ORL
AND @MR2008              ; Task1_Mainte_可能
RES MR8112               ; S1 段ﾊﾞﾗｼ押さえ 閉
CON
SET MR8113               ; S1 段ﾊﾞﾗｼ押さえ 開
;<h1/>STEP　通常動作
STG @MR2100
DW #0 @DM31              ; ScreenNo /SELECT_ACT
CON
DW #1 @DM32              ; SW1_No /SELECT_ACT
CON
DW #2 @DM33              ; SW2_No /SELECT_ACT
CON
DW #0 @DM36              ; Bz_Use /SELECT_ACT
CON
SET @MR2102              ; STEP
CON
JMP @MR2103
STG @MR2103
MPS
MSTRT SELECT_POST #1 #1 #0 @MR1800;selectEND
MPP
AND @MR1800              ; selectEND
JMP @MR2105
STG @MR2105
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
MPS
LD MR12000               ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
AND R4500                ; BC_ﾄﾚｲｾｯﾄ確認1_下
LD MR12001               ; COM_機種_小ﾄﾚｲ(2.4)_Flg
AND R5305                ; SC_ﾄﾚｲｾｯﾄ確認
ORL
ANL
JMP @MR3010              ; 自動運転_先頭
MPP
LD MR12000               ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
ANB R4500                ; BC_ﾄﾚｲｾｯﾄ確認1_下
LD MR12001               ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ANB R5305                ; SC_ﾄﾚｲｾｯﾄ確認
ORL
ANL
SET @MR2107              ; STEP　END
CON
JMP @MR2110              ; Mainte END処理
STG @MR2106
AND @MR2107              ; STEP　END
ANB @MR4002              ; Main2 Busy
RES @MR2102              ; STEP
CON
JMP @MR2110              ; Mainte END処理
;<h1/>Maintenance　終了
STG @MR2110              ; Mainte END処理
MCALL HOLD_REQUEST #1
JMP @MR2915              ; Mainte END
STG @MR2915              ; Mainte END
MPS
MCALL MODE_INDI #2
MPP
ANB @MR001               ; TASK1 ERROR
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
RES @MR2107              ; STEP　END
CON
RES @MR2002              ; Mainte中
CON
JMP LR601                ; _Grp1_Task1_Fin.STG
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;<h1/>ERROR
;//*Error Sample
;[使用方法]
;・@DM1にERROR番号を代入
;・@DM2にSensor番号を代入(センサ無しエラーの場合は0)
;・@DM9に復帰SW番号(1〜9、0はSW無し)をdegit単位で4桁入力
;・Task0 ERROR SET(@MR100)でエラー処理開始
;・エラー復帰でTask0 ERROR END(@MR101)がON
;・押下復帰SW番号により左から対応した@MR105,@MR106,@MR107,@MR108のいずれかがON
;・上記ONが成立したらJMPするSTGに対応する処理を記述
;Error0を左側から1,2,3,4の番号に対応した復帰選択SWを出力する
;<h1/>Error Collect/エラー集積
STG @MR3310              ; ﾊﾟﾚﾀｲｽﾞ渡_条件_Error
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB R39004               ; ｴﾗｰ処理中
ANL
SET R39004               ; ｴﾗｰ処理中
CON
MPS
ANB @MR2102              ; STEP
DW #4900 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #200 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task1 ERROR
CON
JMP @MR3311              ; ﾊﾟﾚﾀｲｽﾞ渡_Error_解除
MPP
AND @MR2102              ; STEP
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #31 @DM1              ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task1 ERROR
CON
JMP @MR3311              ; ﾊﾟﾚﾀｲｽﾞ渡_Error_解除
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
STG @MR4602              ; 段ﾊﾞﾗｼSub_条件Error
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB R39004               ; ｴﾗｰ処理中
ANL
SET R39004               ; ｴﾗｰ処理中
CON
DW #4900 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #270 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task1 ERROR
CON
JMP @MR4603              ; 段ﾊﾞﾗｼSub_Error解除待ち
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
STG @MR5403              ; ﾄﾚｲ渡しSub_条件Error
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB R39004               ; ｴﾗｰ処理中
ANL
MPS
ANB @MR2102              ; STEP
SET R39004               ; ｴﾗｰ処理中
CON
DW #4900 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #271 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task1 ERROR
CON
JMP @MR5404              ; ﾄﾚｲ渡しSub_Error解除待ち
MPP
AND @MR2102              ; STEP
SET R39004               ; ｴﾗｰ処理中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #31 @DM1              ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task1 ERROR
CON
JMP @MR5404              ; ﾄﾚｲ渡しSub_Error解除待ち
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;<h1/>MyTask Error Process Substance/エラー処理実体
STG @MR100               ; Task1 ERROR
ANB R39002               ; ERROR_DISP Busy
MPS
ZRES @MR105 @MR108       ; Error_RET_SW1  Error_RET_SW4
CON
LDA @DM9                 ; ReturnSW /ERROR_DISP
CON
TBCD
CON
STA @DM10
CON
DISN @DM10 @DM3 #4
MRD
DW #1 @DM0               ; TaskNo /ERROR_DISP
CON
BMOV @DM0 DM60000 #7     ; TaskNo /ERROR_DISP  TaskNo /ERROR_DISP
MPP
SET R39000               ; ERROR_DISP Start
CON
SET @MR102               ; Task1 ERROR Busy
CON
JMP @MR103
STG @MR103
AND R39002               ; ERROR_DISP Busy
AND= DM60008 @DM1        ; ReturnNo /ERROR_DISP  ErrorNo /ERROR_DISP
MPS
AND= DM60007 @DM6        ; ReturnSW /ERROR_DISP
SET @MR105               ; Error_RET_SW1
CON
JMP @MR104
MRD
AND= DM60007 @DM5        ; ReturnSW /ERROR_DISP
SET @MR106               ; Error_RET_SW2
CON
JMP @MR104
MRD
AND= DM60007 @DM4        ; ReturnSW /ERROR_DISP
SET @MR107               ; Error_RET_SW3
CON
JMP @MR104
MPP
AND= DM60007 @DM3        ; ReturnSW /ERROR_DISP
SET @MR108               ; Error_RET_SW4
CON
JMP @MR104
STG @MR104
ANB R39002               ; ERROR_DISP Busy
RES @MR102               ; Task1 ERROR Busy
CON
SET @MR101               ; Task1 ERROR_End
CON
ENDS
;<h1/>SELECT_ACT
;//*Select_ACT Sample
;画面番号33をブザー有りで選択SW番号を左から#5,#10,#0(無し),#34の並びで表示する
STG @MR4104
ANB R39204               ; SELECT_ACT Interlock
SET R39204               ; SELECT_ACT Interlock
CON
MPS
DW #0 @DM31              ; ScreenNo /SELECT_ACT
CON
DW #1 @DM32              ; SW1_No /SELECT_ACT
CON
DW #2 @DM33              ; SW2_No /SELECT_ACT
CON
DW #0 @DM34              ; SW3_No /SELECT_ACT
CON
DW #3 @DM35              ; SW4_No /SELECT_ACT
CON
DW #0 @DM36              ; Bz_Use /SELECT_ACT
MPP
SET @MR200               ; Task1 SELECT_ACT
CON
JMP @MR4105
STG @MR4105
AND @MR201               ; Task1 SEL_ACT END
RES @MR201               ; Task1 SEL_ACT END
CON
RES R39204               ; SELECT_ACT Interlock
CON
MPS
AND @MR205               ; SW1
JMP @MR4106
MRD
AND @MR206               ; SW2
JMP @MR4107
MRD
AND @MR207               ; SW3
JMP @MR2110              ; Mainte END処理
MPP
AND @MR208               ; SW4
JMP @MR2110              ; Mainte END処理
;Select_ACT Sample *//
;MyTask Select_ACT Process Substance/SELECT_ACT処理実体
STG @MR200               ; Task1 SELECT_ACT
ANB R39202               ; SELECT_ACT Busy
MPS
ZRES @MR205 @MR208       ; SW1  SW4
CON
DW #1 @DM30              ; TaskNo /SELECT_ACT
CON
BMOV @DM30 DM60030 #7    ; TaskNo /SELECT_ACT  TaskNo /SELECT_ACT
MPP
SET R39200               ; SELECT_ACT Start
CON
SET @MR202               ; Task1 SEL_ACT Busy
CON
JMP @MR203
STG @MR203
AND R39202               ; SELECT_ACT Busy
AND<> DM60037 #0         ; SelectSW /SELECT_ACT
MPS
AND= DM60037 #1          ; SelectSW /SELECT_ACT
SET @MR205               ; SW1
CON
JMP @MR204
MRD
AND= DM60037 #2          ; SelectSW /SELECT_ACT
SET @MR206               ; SW2
CON
JMP @MR204
MRD
AND= DM60037 #3          ; SelectSW /SELECT_ACT
SET @MR207               ; SW3
CON
JMP @MR204
MPP
AND= DM60037 #4          ; SelectSW /SELECT_ACT
SET @MR208               ; SW4
CON
JMP @MR204
STG @MR204
ANB R39202               ; SELECT_ACT Busy
RES @MR202               ; Task1 SEL_ACT Busy
CON
SET @MR201               ; Task1 SEL_ACT END
CON
ENDS
;<h1/>SELECT_Y_N
;//*Select_Y_N Sample
STG @MR4203
ANB R39104               ; SELECT_Y_N Interlock
SET R39104               ; SELECT_Y_N Interlock
CON
DW #7 @DM21              ; ScreenNo /SELECT_Y_N
CON
DW #0 @DM22              ; Bz_Use /SELECT_Y_N
CON
SET @MR300               ; Task1 SELECT_Y_N
CON
JMP @MR4204
STG @MR4204
AND @MR301               ; Task1 Y/N END
RES @MR301               ; Task1 Y/N END
CON
RES R39104               ; SELECT_Y_N Interlock
CON
MPS
AND @MR306               ; Task1 Y/N
JMP @MR4205
MPP
ANB @MR306               ; Task1 Y/N
JMP @MR4206
;*Select_Y_N Sample//
;MyTask Select_Y_N Process Substance/SELECT_Y_N処理実体
STG @MR300               ; Task1 SELECT_Y_N
ANB R39102               ; SELECT_Y_N Busy
MPS
ZRES @MR306 @MR307       ; Task1 Y/N
CON
DW #1 @DM20              ; TaskNo /SELECT_Y_N
CON
BMOV @DM20 DM60020 #3    ; TaskNo /SELECT_Y_N  TaskNo /SELECT_Y_N
MPP
SET R39100               ; SELECT_Y_N Start
CON
SET @MR302               ; Task1 Y_N Busy
CON
JMP @MR303
STG @MR303
AND R39102               ; SELECT_Y_N Busy
MPS
AND= DM60023 #1          ; Y_N /SELECT_Y_N
SET @MR306               ; Task1 Y/N
CON
JMP @MR304
MPP
AND= DM60023 #2          ; Y_N /SELECT_Y_N
RES @MR306               ; Task1 Y/N
CON
JMP @MR304
STG @MR304
ANB R39102               ; SELECT_Y_N Busy
RES @MR302               ; Task1 Y_N Busy
CON
SET @MR301               ; Task1 Y/N END
CON
ENDS
;<h1/>TIMEUP_ERROR
;//*TIMEUP_ERROR Sample
;サンプルセンサ:MR5000=ON AND MR5001 = OFF のいずれかが5sタイムアップしたらTIMEUP_ERROR出力
;エラー復帰後、再度センサ確認
STG @MR4208
MPS
LD MR5000                ; WORK 有無Err
ANB MR5001
ANL
JMP @MR4215
MPP
LDB MR5000               ; WORK 有無Err
OR MR5001
ANL
TMR @0 #50
CON
AND @T0
JMP @MR4209
STG @MR4209
ANB R39304               ; TIMEUP_ERR Interlock
SET R39304               ; TIMEUP_ERR Interlock
CON
DW #16 @DM41             ; SensorNo /TIMEUP_ERR
CON
SET @MR400               ; Task1 TIMEUP_ERR
CON
JMP @MR4210
STG @MR4210
AND @MR401               ; Task1 TIMEUP_END
RES R39304               ; TIMEUP_ERR Interlock
CON
RES @MR401               ; Task1 TIMEUP_END
CON
JMP @MR4208
;TIMEUP_ERROR Sample *//
;MyTask TIMEUP_ERROR Process Substance/TIMEUP_ERROR処理実体
STG @MR400               ; Task1 TIMEUP_ERR
ANB R39302               ; TIMEUP_ERR Busy
MPS
DW #1 @DM40              ; TaskNo /TIMEUP_ERR
CON
BMOV @DM40 DM60040 #2    ; TaskNo /TIMEUP_ERR  TaskNo /TIMEUP_ERR
MPP
SET R39300               ; TIMEUP_ERR Start
CON
SET @MR402               ; Task1 TIMEUP Busy
CON
JMP @MR403
STG @MR403
AND R39302               ; TIMEUP_ERR Busy
JMP @MR404
STG @MR404
ANB R39302               ; TIMEUP_ERR Busy
RES @MR402               ; Task1 TIMEUP Busy
CON
SET @MR401               ; Task1 TIMEUP_END
CON
ENDS
;<h1/>HALT
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND @MR1900              ; Main1 HALT許可
LD @MR1901               ; Main2 HALT許可
OR CR2002                ; 常時ON
ANL
TMR @2 #2                ; ﾎﾟｰｽﾞ開始_DLY
CON
AND @T2                  ; ﾎﾟｰｽﾞ開始_DLY
@SET R42601              ; _Grp1_Task1_ﾎﾟｰｽﾞ許可
LD R42601                ; _Grp1_Task1_ﾎﾟｰｽﾞ許可
RES @MR1900              ; Main1 HALT許可
CON
RES @MR1901              ; Main2 HALT許可
;<h1/>SubRoutines/ｻﾌﾞﾙｰﾁﾝ
;[記述方法]
;・ｻﾌﾞﾙｰﾁﾝは本ﾌﾞｯｸﾏｰｸから下に記述していって下さい
;・ｻﾌﾞﾙｰﾁﾝは必ずﾌﾞｯｸﾏｰｸを挿入して処理内容を明確にする事
;<h1/>Sub_段ﾊﾞﾗｼ
;ﾄﾚｲ大のみ
STG @MR4500              ; 段ﾊﾞﾗｼSub_Call
SET MR13700              ; T1_段ﾊﾞﾗｼSub_Busy
CON
JMP @MR4600              ; 段ﾊﾞﾗｼSub_条件ﾁｪｯｸ
STG @MR4504              ; Busy_OFF
RES MR13700              ; T1_段ﾊﾞﾗｼSub_Busy
CON
ENDS
LD MR13300               ; T0_ﾄﾚｲ搬送_Pos#1
OR MR13312               ; T0_ﾄﾚｲ搬送_Area2_OK
AND R4201                ; BC_ﾄﾚｲ受け1BR_閉限_奥右
AND R4203                ; BC_ﾄﾚｲ受け1FR_閉限_前右
AND R4205                ; BC_ﾄﾚｲ受け1BL_閉限_奥左
AND R4207                ; BC_ﾄﾚｲ受け1FL_閉限_前左
ANB R4508                ; BC ﾄﾚｲ投入有無検出
ANB MR13200              ; T0_ﾄﾚｲ搬送_RB1_Busy
OUT @MR4506              ; 段ﾊﾞﾗｼSub_条件_OK
STG @MR4600              ; 段ﾊﾞﾗｼSub_条件ﾁｪｯｸ
MPS
AND @MR4506              ; 段ﾊﾞﾗｼSub_条件_OK
JMP @MR4601              ; 段ﾊﾞﾗｼSub_開始
MPP
ANB @MR4506              ; 段ﾊﾞﾗｼSub_条件_OK
JMP @MR4602              ; 段ﾊﾞﾗｼSub_条件Error
STG @MR4603              ; 段ﾊﾞﾗｼSub_Error解除待ち
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
AND @MR101               ; Task1 ERROR_End
ANL
RES @MR101               ; Task1 ERROR_End
CON
RES R39004               ; ｴﾗｰ処理中
CON
MPS
AND @MR105               ; Error_RET_SW1
JMP @MR4600              ; 段ﾊﾞﾗｼSub_条件ﾁｪｯｸ
MPP
AND @MR106               ; Error_RET_SW2
SET @MR4503              ; 段ﾊﾞﾗｼSub_NG完了
CON
JMP @MR4504              ; Busy_OFF
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;段ﾊﾞﾗｼ開始
STG @MR4601              ; 段ﾊﾞﾗｼSub_開始
SET MR7100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1_閉
CON
SET MR7102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2_閉
CON
SET MR7104               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3_閉
CON
SET MR7106               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4_閉
CON
RES MR7212               ; BC_ﾄﾚｲ中間受け_開
CON
SET MR7213               ; BC_ﾄﾚｲ中間受け_閉
CON
RES MR7208               ; BC 段ﾊﾞﾗｼ前後 前進
CON
SET MR7209               ; BC 段ﾊﾞﾗｼ前後 後退
CON
JMP @MR4605              ; ｼﾌﾄ準備1_待ち
LDB MR4100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_閉限Err_右
ANB MR4102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_閉限Err_左
ANB MR4104               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2R_閉限Err_右
ANB MR4106               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2L_閉限Err_左
ANB MR4108               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3R_閉限Err_右
ANB MR4110               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3L_閉限Err_左
ANB MR4112               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4R_閉限Err_右
ANB MR4114               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4L_閉限Err_左
ANB MR4701               ; BC_ﾄﾚｲ中間受UR_閉Err(上-右)
ANB MR4703               ; BC_ﾄﾚｲ中間受UL_閉Err(上-左)
ANB MR4705               ; BC_ﾄﾚｲ中間受MR_閉Err(中-右)
ANB MR4707               ; BC_ﾄﾚｲ中間受ML_閉Err(中-左)
ANB MR4709               ; BC_ﾄﾚｲ中間受DR_閉Err(下-右)
ANB MR4711               ; BC_ﾄﾚｲ中間受DL_閉Err(下-左)
ANB MR4609               ; BC 段ﾊﾞﾗｼ前後(右) 後退限Err
ANB MR4611               ; BC 段ﾊﾞﾗｼ前後(左) 後退限Err
INV
OUT @MR4606              ; ｾﾝｻ_Error_有り
LD R4100                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_閉限_右
AND R4102                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_閉限_左
AND R4104                ; BC_ﾄﾚｲｶﾞｲﾄﾞ2R_閉限_右
AND R4106                ; BC_ﾄﾚｲｶﾞｲﾄﾞ2L_閉限_左
AND R4108                ; BC_ﾄﾚｲｶﾞｲﾄﾞ3R_閉限_右
AND R4110                ; BC_ﾄﾚｲｶﾞｲﾄﾞ3L_閉限_左
AND R4112                ; BC_ﾄﾚｲｶﾞｲﾄﾞ4R_閉限_右
AND R4114                ; BC_ﾄﾚｲｶﾞｲﾄﾞ4L_閉限_左
AND R4701                ; BC_ﾄﾚｲ中間受UR_閉限(上-右)
AND R4703                ; BC_ﾄﾚｲ中間受UL_閉限(上-左)
AND R4705                ; BC_ﾄﾚｲ中間受MR_閉限(中-右)
AND R4707                ; BC_ﾄﾚｲ中間受ML_閉限(中-左)
AND R4709                ; BC_ﾄﾚｲ中間受DR_閉限(下-右)
AND R4711                ; BC_ﾄﾚｲ中間受DL_閉限(下-左)
AND R4609                ; BC 段ﾊﾞﾗｼ(右) 後退限
AND R4611                ; BC 段ﾊﾞﾗｼ(左) 後退限
OUT @MR4607              ; ｾﾝｻ_条件OK
STG @MR4605              ; ｼﾌﾄ準備1_待ち
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR4606              ; ｾﾝｻ_Error_有り
AND @MR4607              ; ｾﾝｻ_条件OK
ANL
TMR @50 #2               ; ｾﾝｻ安定_DLY
CON
AND @T50                 ; ｾﾝｻ安定_DLY
JMP @MR4608              ; ﾄﾚｲ受け_開
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR4607               ; ｾﾝｻ_条件OK
OR @MR4606               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR4608              ; ﾄﾚｲ受け_開
RES MR7111               ; BC ﾄﾚｲ受け2 閉
CON
SET MR7110               ; BC ﾄﾚｲ受け2 開
CON
RES MR7113               ; BC ﾄﾚｲ受け3 閉
CON
SET MR7112               ; BC ﾄﾚｲ受け3 開
CON
RES MR7115               ; BC ﾄﾚｲ受け4 閉
CON
SET MR7114               ; BC ﾄﾚｲ受け4 開
CON
RES MR7205               ; BC 段ﾊﾞﾗｼ上下L 上昇
CON
SET MR7204               ; BC 段ﾊﾞﾗｼ上下L 下降
CON
RES MR7206               ; BC 段ﾊﾞﾗｼ上下S 上昇
CON
SET MR7207               ; BC 段ﾊﾞﾗｼ上下S 下降
CON
JMP @MR4609              ; ﾄﾚｲ受け_開_待ち
LDB MR4208               ; BC_ﾄﾚｲ受け2BR_開限Err_奥右
ANB MR4210               ; BC_ﾄﾚｲ受け2FR_開限Err_前右
ANB MR4212               ; BC_ﾄﾚｲ受け2BL_開限Err_奥左
ANB MR4214               ; BC_ﾄﾚｲ受け2FL_開限Err_前左
ANB MR4300               ; BC_ﾄﾚｲ受け3BR_開限Err_奥右
ANB MR4302               ; BC_ﾄﾚｲ受け3FR_開限Err_前右
ANB MR4304               ; BC_ﾄﾚｲ受け3BL_開限Err_奥左
ANB MR4306               ; BC_ﾄﾚｲ受け3FL_開限Err_前左
ANB MR4308               ; BC_ﾄﾚｲ受け4BR_開限Err_奥右
ANB MR4310               ; BC_ﾄﾚｲ受け4FR_開限Err_前右
ANB MR4312               ; BC_ﾄﾚｲ受け4BL_開限Err_奥左
ANB MR4314               ; BC_ﾄﾚｲ受け4FL_開限Err_前左
ANB MR4600               ; BC 段ﾊﾞﾗｼ上下L(右) 下降限Err
ANB MR4602               ; BC 段ﾊﾞﾗｼ上下L(左) 下降限Err
ANB MR4605               ; BC 段ﾊﾞﾗｼ上下S(右) 下降限Err
ANB MR4607               ; BC 段ﾊﾞﾗｼ上下S(左) 下降限Err
INV
OUT @MR4610              ; ｾﾝｻ_Error_有り
LD R4208                 ; BC_ﾄﾚｲ受け2BR_開限_奥右
AND R4210                ; BC_ﾄﾚｲ受け2FR_開限_前右
AND R4212                ; BC_ﾄﾚｲ受け2BL_開限_奥左
AND R4214                ; BC_ﾄﾚｲ受け2FL_開限_前左
AND R4300                ; BC_ﾄﾚｲ受け3BR_開限_奥右
AND R4302                ; BC_ﾄﾚｲ受け3FR_開限_前右
AND R4304                ; BC_ﾄﾚｲ受け3BL_開限_奥左
AND R4306                ; BC_ﾄﾚｲ受け3FL_開限_前左
AND R4308                ; BC_ﾄﾚｲ受け4BR_開限_奥右
AND R4310                ; BC_ﾄﾚｲ受け4FR_開限_前右
AND R4312                ; BC_ﾄﾚｲ受け4BL_開限_奥左
AND R4314                ; BC_ﾄﾚｲ受け4FL_開限_前左
AND R4600                ; BC 段ﾊﾞﾗｼ上下L(右) 下降限
AND R4602                ; BC 段ﾊﾞﾗｼ上下L(左) 下降限
AND R4605                ; BC 段ﾊﾞﾗｼ上下S(右) 下降限
AND R4607                ; BC 段ﾊﾞﾗｼ上下S(左) 下降限
OUT @MR4611              ; ｾﾝｻ_条件OK
STG @MR4609              ; ﾄﾚｲ受け_開_待ち
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR4610              ; ｾﾝｻ_Error_有り
AND @MR4611              ; ｾﾝｻ_条件OK
ANL
TMR @51 #3               ; ｾﾝｻ安定_DLY
CON
AND @T51                 ; ｾﾝｻ安定_DLY
JMP @MR4612              ; ｼﾌﾄ下降
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR4611               ; ｾﾝｻ_条件OK
OR @MR4610               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR4612              ; ｼﾌﾄ下降
RES MR7211               ; BC ﾄﾚｲｼﾌﾄ 上昇
CON
SET MR7210               ; BC ﾄﾚｲｼﾌﾄ 下降
CON
JMP @MR4613              ; ｼﾌﾄ下降_待ち
LDB MR4612               ; BC ﾄﾚｲｼﾌﾄ(右) 下降限Err
ANB MR4614               ; BC ﾄﾚｲｼﾌﾄ(左) 下降限Err
INV
OUT @MR4614              ; ｾﾝｻ_Error_有り
LD R4612                 ; BC ﾄﾚｲｼﾌﾄ(右) 下降限
AND R4614                ; BC ﾄﾚｲｼﾌﾄ(左) 下降限
OUT @MR4615              ; ｾﾝｻ_条件OK
STG @MR4613              ; ｼﾌﾄ下降_待ち
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR4614              ; ｾﾝｻ_Error_有り
AND @MR4615              ; ｾﾝｻ_条件OK
ANL
TMR @52 #3               ; ｼﾌﾄ下降_DLY
CON
AND @T52                 ; ｼﾌﾄ下降_DLY
JMP @MR4700              ; 選択_ﾄﾚｲ受け_閉
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR4615               ; ｾﾝｻ_条件OK
OR @MR4614               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
LDP @MR4700              ; 選択_ﾄﾚｲ受け_閉
RES MR7110               ; BC ﾄﾚｲ受け2 開
CON
SET MR7111               ; BC ﾄﾚｲ受け2 閉
CON
RES MR7112               ; BC ﾄﾚｲ受け3 開
CON
SET MR7113               ; BC ﾄﾚｲ受け3 閉
CON
RES MR7114               ; BC ﾄﾚｲ受け4 開
CON
SET MR7115               ; BC ﾄﾚｲ受け4 閉
LDB MR4209               ; BC_ﾄﾚｲ受け2BR_閉限Err_奥右
ANB MR4211               ; BC_ﾄﾚｲ受け2FR_閉限Err_前右
ANB MR4213               ; BC_ﾄﾚｲ受け2BL_閉限Err_奥左
ANB MR4215               ; BC_ﾄﾚｲ受け2FL_閉限Err_前左
ANB MR4301               ; BC_ﾄﾚｲ受け3BR_閉限Err_奥右
ANB MR4303               ; BC_ﾄﾚｲ受け3FR_閉限Err_前右
ANB MR4305               ; BC_ﾄﾚｲ受け3BL_閉限Err_奥左
ANB MR4307               ; BC_ﾄﾚｲ受け3FL_閉限Err_前左
ANB MR4309               ; BC_ﾄﾚｲ受け4BR_閉限Err_奥右
ANB MR4311               ; BC_ﾄﾚｲ受け4FR_閉限Err_前右
ANB MR4313               ; BC_ﾄﾚｲ受け4BL_閉限Err_奥左
ANB MR4315               ; BC_ﾄﾚｲ受け4FL_閉限Err_前左
INV
OUT @MR4701              ; ｾﾝｻ_Error_有り
LD R4209                 ; BC_ﾄﾚｲ受け2BR_閉限_奥右
AND R4211                ; BC_ﾄﾚｲ受け2FR_閉限_前右
AND R4213                ; BC_ﾄﾚｲ受け2BL_閉限_奥左
AND R4215                ; BC_ﾄﾚｲ受け2FL_閉限_前左
AND R4301                ; BC_ﾄﾚｲ受け3BR_閉限_奥右
AND R4303                ; BC_ﾄﾚｲ受け3FR_閉限_前右
AND R4305                ; BC_ﾄﾚｲ受け3BL_閉限_奥左
AND R4307                ; BC_ﾄﾚｲ受け3FL_閉限_前左
AND R4309                ; BC_ﾄﾚｲ受け4BR_閉限_奥右
AND R4311                ; BC_ﾄﾚｲ受け4FR_閉限_前右
AND R4313                ; BC_ﾄﾚｲ受け4BL_閉限_奥左
AND R4315                ; BC_ﾄﾚｲ受け4FL_閉限_前左
OUT @MR4702              ; ｾﾝｻ_条件OK
STG @MR4700              ; 選択_ﾄﾚｲ受け_閉
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR4701              ; ｾﾝｻ_Error_有り
AND @MR4702              ; ｾﾝｻ_条件OK
ANL
TMR @53 #3               ; ｾﾝｻ安定_DLY
CON
AND @T53                 ; ｾﾝｻ安定_DLY
JMP @MR4703              ; ｼﾌﾄ中間受け_開
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR4702               ; ｾﾝｻ_条件OK
OR @MR4701               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR4703              ; ｼﾌﾄ中間受け_開
RES MR7213               ; BC_ﾄﾚｲ中間受け_閉
CON
SET MR7212               ; BC_ﾄﾚｲ中間受け_開
CON
JMP @MR4704              ; ｼﾌﾄ中間受け_開待ち
LDB MR4700               ; BC_ﾄﾚｲ中間受UR_開Err(上-右)
ANB MR4702               ; BC_ﾄﾚｲ中間受UL_開Err(上-左)
ANB MR4704               ; BC_ﾄﾚｲ中間受MR_開Err(中-右)
ANB MR4706               ; BC_ﾄﾚｲ中間受ML_開Err(中-左)
ANB MR4708               ; BC_ﾄﾚｲ中間受DR_開Err(下-右)
ANB MR4710               ; BC_ﾄﾚｲ中間受DL_開Err(下-左)
INV
OUT @MR4705              ; ｾﾝｻ_Error_有り
LD R4700                 ; BC_ﾄﾚｲ中間受UR_開限(上-右)
AND R4702                ; BC_ﾄﾚｲ中間受UL_開限(上-左)
AND R4704                ; BC_ﾄﾚｲ中間受MR_開限(中-右)
AND R4706                ; BC_ﾄﾚｲ中間受ML_開限(中-左)
AND R4708                ; BC_ﾄﾚｲ中間受DR_開限(下-右)
AND R4710                ; BC_ﾄﾚｲ中間受DL_開限(下-左)
OUT @MR4706              ; ｾﾝｻ_条件OK
STG @MR4704              ; ｼﾌﾄ中間受け_開待ち
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR4705              ; ｾﾝｻ_Error_有り
AND @MR4706              ; ｾﾝｻ_条件OK
ANL
TMR @54 #3               ; 中間受け開_DLY
CON
AND @T54                 ; 中間受け開_DLY
JMP @MR4707              ; ﾄﾚｲｶﾞｲﾄﾞ_選択閉
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR4706               ; ｾﾝｻ_条件OK
OR @MR4705               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
LDP @MR4707              ; ﾄﾚｲｶﾞｲﾄﾞ_選択閉
MPS
AND R4500                ; BC_ﾄﾚｲｾｯﾄ確認1_下
SET MR7100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1_閉
MRD
AND R4502                ; BC_ﾄﾚｲｾｯﾄ確認2_中下
SET MR7102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2_閉
MRD
AND R4504                ; BC_ﾄﾚｲｾｯﾄ確認3_中上
SET MR7104               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3_閉
MPP
AND R4506                ; BC_ﾄﾚｲｾｯﾄ確認4_上
SET MR7106               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4_閉
LDB MR4100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_閉限Err_右
ANB MR4102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_閉限Err_左
ORB MR7100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1_閉
LDB MR4104               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2R_閉限Err_右
ANB MR4106               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2L_閉限Err_左
ORB MR7102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2_閉
ANL
LDB MR4108               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3R_閉限Err_右
ANB MR4110               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3L_閉限Err_左
ORB MR7104               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3_閉
ANL
LDB MR4112               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4R_閉限Err_右
ANB MR4114               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4L_閉限Err_左
ORB MR7106               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4_閉
ANL
INV
OUT @MR4708              ; ｾﾝｻ_Error_有り
LD R4100                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_閉限_右
AND R4102                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_閉限_左
ORB MR7100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1_閉
LD R4104                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ2R_閉限_右
AND R4106                ; BC_ﾄﾚｲｶﾞｲﾄﾞ2L_閉限_左
ORB MR7102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2_閉
ANL
LD R4108                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ3R_閉限_右
AND R4110                ; BC_ﾄﾚｲｶﾞｲﾄﾞ3L_閉限_左
ORB MR7104               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3_閉
ANL
LD R4112                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ4R_閉限_右
AND R4114                ; BC_ﾄﾚｲｶﾞｲﾄﾞ4L_閉限_左
ORB MR7106               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4_閉
ANL
OUT @MR4709              ; ｾﾝｻ_条件OK
STG @MR4707              ; ﾄﾚｲｶﾞｲﾄﾞ_選択閉
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR4708              ; ｾﾝｻ_Error_有り
AND @MR4709              ; ｾﾝｻ_条件OK
ANL
JMP @MR4710              ; ｼﾌﾄ上昇
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR4709               ; ｾﾝｻ_条件OK
OR @MR4708               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR4710              ; ｼﾌﾄ上昇
RES MR7210               ; BC ﾄﾚｲｼﾌﾄ 下降
CON
SET MR7211               ; BC ﾄﾚｲｼﾌﾄ 上昇
CON
JMP @MR4711              ; ｼﾌﾄ上昇_待ち
LDB MR4613               ; BC ﾄﾚｲｼﾌﾄ(右) 上昇限Err
ANB MR4615               ; BC ﾄﾚｲｼﾌﾄ(左) 上昇限Err
INV
OUT @MR4712              ; ｾﾝｻ_Error_有り
LD R4613                 ; BC ﾄﾚｲｼﾌﾄ(右) 上昇限
AND R4615                ; BC ﾄﾚｲｼﾌﾄ(左) 上昇限
OUT @MR4713              ; ｾﾝｻ_条件OK
STG @MR4711              ; ｼﾌﾄ上昇_待ち
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR4712              ; ｾﾝｻ_Error_有り
AND @MR4713              ; ｾﾝｻ_条件OK
ANL
JMP @MR4714              ; 段ﾊﾞﾗｼL_上昇
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR4713               ; ｾﾝｻ_条件OK
OR @MR4712               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR4714              ; 段ﾊﾞﾗｼL_上昇
RES MR7204               ; BC 段ﾊﾞﾗｼ上下L 下降
CON
SET MR7205               ; BC 段ﾊﾞﾗｼ上下L 上昇
CON
JMP @MR4715              ; 段ﾊﾞﾗｼL_上昇待ち
LDB MR4601               ; BC 段ﾊﾞﾗｼ上下L(右) 上昇限Err
ANB MR4603               ; BC 段ﾊﾞﾗｼ上下L(左) 上昇限Err
INV
OUT @MR4800              ; ｾﾝｻ_Error_有り
LD R4601                 ; BC 段ﾊﾞﾗｼ上下L(右) 上昇限
AND R4603                ; BC 段ﾊﾞﾗｼ上下L(左) 上昇限
OUT @MR4801              ; ｾﾝｻ_条件OK
STG @MR4715              ; 段ﾊﾞﾗｼL_上昇待ち
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR4800              ; ｾﾝｻ_Error_有り
AND @MR4801              ; ｾﾝｻ_条件OK
ANL
JMP @MR4802              ; 段ﾊﾞﾗｼSub_終了
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR4801               ; ｾﾝｻ_条件OK
OR @MR4800               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR4802              ; 段ﾊﾞﾗｼSub_終了
OUT @MR4501              ; 段ﾊﾞﾗｼSub_OK完了
CON
JMP @MR4504              ; Busy_OFF
;<h1/>Sub_ﾄﾚｲ交換
STG @MR4900              ; ﾄﾚｲ交換Sub_Call
SET MR13701              ; T1_ﾄﾚｲ交換Sub_Busy
CON
JMP @MR5000              ; ﾄﾚｲ交換_開始
STG @MR4904              ; Busy_OFF
RES MR13701              ; T1_ﾄﾚｲ交換Sub_Busy
CON
ENDS
LD MR12000               ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
AND R4500                ; BC_ﾄﾚｲｾｯﾄ確認1_下
LD MR12001               ; COM_機種_小ﾄﾚｲ(2.4)_Flg
AND R5305                ; SC_ﾄﾚｲｾｯﾄ確認
ORL
OUT @MR5001              ; 最下段_ﾄﾚｲ有り
STG @MR5000              ; ﾄﾚｲ交換_開始
MPS
AND @MR5001              ; 最下段_ﾄﾚｲ有り
JMP @MR5002              ; 下段移載_要求処理へ
MPP
ANB @MR5001              ; 最下段_ﾄﾚｲ有り
JMP @MR5003              ; ﾊﾟﾚﾀｲｽﾞ_待機要求へ
STG @MR5003              ; ﾊﾟﾚﾀｲｽﾞ_待機要求へ
SET MR13500              ; T1_ﾄﾚｲ交換要求ForT0
CON
MPS
AND MR13000              ; T0_ﾊﾟﾚﾀｲｽﾞ_待機完了
JMP @MR5002              ; 下段移載_要求処理へ
MPP
LDB MR13000              ; T0_ﾊﾟﾚﾀｲｽﾞ_待機完了
LD MR13208               ; T0_ﾊﾟﾚﾀｲｽﾞ_AutoEND
OR R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
ANL
ANL
RES MR13500              ; T1_ﾄﾚｲ交換要求ForT0
CON
OUT @MR4901              ; ﾄﾚｲ交換Sub_OK完了
CON
JMP @MR4904              ; Busy_OFF
STG @MR5002              ; 下段移載_要求処理へ
SET MR13504              ; T1_ﾄﾚｲ交換要求ForT4
CON
MPS
AND MR15000              ; T4_下段移載_待機完了
JMP @MR5004              ; ﾄﾚｲ交換_ﾄﾞｱ開へ
MPP
LDB MR15000              ; T4_下段移載_待機完了
LD MR15208               ; T4_下段移載_AutoEND
OR R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
ANL
ANL
RES MR13500              ; T1_ﾄﾚｲ交換要求ForT0
CON
RES MR13504              ; T1_ﾄﾚｲ交換要求ForT4
CON
OUT @MR4901              ; ﾄﾚｲ交換Sub_OK完了
CON
JMP @MR4904              ; Busy_OFF
STG @MR5004              ; ﾄﾚｲ交換_ﾄﾞｱ開へ
MPS
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
JMP @MR5008              ; 大ﾄﾚｲ_交換処理へ
MPP
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
JMP @MR5009              ; 小ﾄﾚｲ_交換処理へ
;<h1/>_Sub_大ﾄﾚｲ交換処理
STG @MR5008              ; 大ﾄﾚｲ_交換処理へ
RES MR7100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1_閉
CON
RES MR7102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2_閉
CON
RES MR7104               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3_閉
CON
RES MR7106               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4_閉
CON
RES MR7212               ; BC_ﾄﾚｲ中間受け_開
CON
SET MR7213               ; BC_ﾄﾚｲ中間受け_閉
CON
JMP @MR5100              ; ﾄﾚｲｶﾞｲﾄﾞ開待ち
LDB MR4101               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_開限Err_右
ANB MR4103               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_開限Err_左
ANB MR4105               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2R_開限Err_右
ANB MR4107               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2L_開限Err_左
ANB MR4109               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3R_開限Err_右
ANB MR4111               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3L_開限Err_左
ANB MR4113               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4R_開限Err_右
ANB MR4115               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4L_開限Err_左
ANB MR4701               ; BC_ﾄﾚｲ中間受UR_閉Err(上-右)
ANB MR4703               ; BC_ﾄﾚｲ中間受UL_閉Err(上-左)
ANB MR4705               ; BC_ﾄﾚｲ中間受MR_閉Err(中-右)
ANB MR4707               ; BC_ﾄﾚｲ中間受ML_閉Err(中-左)
ANB MR4709               ; BC_ﾄﾚｲ中間受DR_閉Err(下-右)
ANB MR4711               ; BC_ﾄﾚｲ中間受DL_閉Err(下-左)
INV
OUT @MR5101              ; ｾﾝｻ_Error_有り
LD R4101                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_開限_右
AND R4103                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_開限_左
AND R4105                ; BC_ﾄﾚｲｶﾞｲﾄﾞ2R_開限_右
AND R4107                ; BC_ﾄﾚｲｶﾞｲﾄﾞ2L_開限_左
AND R4109                ; BC_ﾄﾚｲｶﾞｲﾄﾞ3R_開限_右
AND R4111                ; BC_ﾄﾚｲｶﾞｲﾄﾞ3L_開限_左
AND R4113                ; BC_ﾄﾚｲｶﾞｲﾄﾞ4R_開限_右
AND R4115                ; BC_ﾄﾚｲｶﾞｲﾄﾞ4L_開限_左
AND R4701                ; BC_ﾄﾚｲ中間受UR_閉限(上-右)
AND R4703                ; BC_ﾄﾚｲ中間受UL_閉限(上-左)
AND R4705                ; BC_ﾄﾚｲ中間受MR_閉限(中-右)
AND R4707                ; BC_ﾄﾚｲ中間受ML_閉限(中-左)
AND R4709                ; BC_ﾄﾚｲ中間受DR_閉限(下-右)
AND R4711                ; BC_ﾄﾚｲ中間受DL_閉限(下-左)
OUT @MR5102              ; ｾﾝｻ_条件OK
STG @MR5100              ; ﾄﾚｲｶﾞｲﾄﾞ開待ち
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR5101              ; ｾﾝｻ_Error_有り
AND @MR5102              ; ｾﾝｻ_条件OK
ANL
SET MR7005               ; C_電磁ﾛｯｸ解除
CON
SET MR7006               ; C_ｽﾀｰﾄﾗﾝﾌﾟ_ｻﾌﾞSWBOX(ﾄﾚｲ交換用)
CON
SET MR7007               ; C_ﾎﾟｰｽﾞﾗﾝﾌﾟ_ｻﾌﾞSWBOX(ﾄﾚｲ交換用)
CON
JMP @MR5106              ; ｽﾀｰﾄSW_ﾁｪｯｸ
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR5102               ; ｾﾝｻ_条件OK
OR @MR5101               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR5106              ; ｽﾀｰﾄSW_ﾁｪｯｸ
MPS
LD R4008                 ; BC ｽﾀｰﾄSW(右)
AND R4009                ; BC ｽﾀｰﾄSW(左)
ANB R4005                ; BC_ﾄﾚｲ交換_ｽﾀｰﾄ(ｻﾌﾞSWBOX)
ANL
JMP @MR5108              ; ﾄﾚｲ積過き_ﾁｪｯｸ
MPP
LD R4005                 ; BC_ﾄﾚｲ交換_ｽﾀｰﾄ(ｻﾌﾞSWBOX)
ANB R4008                ; BC ｽﾀｰﾄSW(右)
ANB R4009                ; BC ｽﾀｰﾄSW(左)
ANL
SET @MR5107              ; ｽﾀｰﾄSW_押下_ﾒﾓﾘ
CON
JMP @MR5108              ; ﾄﾚｲ積過き_ﾁｪｯｸ
LDB R4501                ; BC ﾄﾚｲ積過確認1
ANB R4503                ; BC ﾄﾚｲ積過確認2
ANB R4505                ; BC ﾄﾚｲ積過確認3
ANB R4507                ; BC ﾄﾚｲ積過確認4
INV
OUT @MR5109              ; ﾄﾚｲ積過ぎ_有り
LD R4000                 ; B_ﾄﾚｲ_逆入れ検出(ONで正常)
LD R4511                 ; BC ﾄﾚｲ識別検出
ANB MR010
ORL
AND R4001                ; B_ﾄﾚｲ右_飛出検出(ONで正常)
AND R4002                ; B_ﾄﾚｲ左_飛出検出(ONで正常)
INV
OUT @MR5110              ; ﾄﾚｲ_方向or飛出有り
STG @MR5108              ; ﾄﾚｲ積過き_ﾁｪｯｸ
MPS
LDB @MR5109              ; ﾄﾚｲ積過ぎ_有り
ANB @MR5110              ; ﾄﾚｲ_方向or飛出有り
ANB MR7004               ; C ﾀﾜｰﾗﾝﾌﾟ Bz2
ANL
JMP @MR5111              ; 選択_ﾄﾞｱ閉_ｶﾞｲﾄﾞ閉
MPP
LD @MR5109               ; ﾄﾚｲ積過ぎ_有り
OR @MR5110               ; ﾄﾚｲ_方向or飛出有り
OR MR7004                ; C ﾀﾜｰﾗﾝﾌﾟ Bz2
ANL
RES @MR5107              ; ｽﾀｰﾄSW_押下_ﾒﾓﾘ
CON
OUT MR7004               ; C ﾀﾜｰﾗﾝﾌﾟ Bz2
CON
ANB R4008                ; BC ｽﾀｰﾄSW(右)
ANB R4009                ; BC ｽﾀｰﾄSW(左)
ANB R4005                ; BC_ﾄﾚｲ交換_ｽﾀｰﾄ(ｻﾌﾞSWBOX)
JMP @MR5106              ; ｽﾀｰﾄSW_ﾁｪｯｸ
STG @MR5111              ; 選択_ﾄﾞｱ閉_ｶﾞｲﾄﾞ閉
MPS
AND @MR5107              ; ｽﾀｰﾄSW_押下_ﾒﾓﾘ
RES MR7005               ; C_電磁ﾛｯｸ解除
CON
TMR @65 #7               ; ﾄﾞｱ閉_DLY
CON
AND @T65                 ; ﾄﾞｱ閉_DLY
JMP @MR5204              ; ﾄﾞｱ閉ﾁｪｯｸ
MPP
ANB @MR5107              ; ｽﾀｰﾄSW_押下_ﾒﾓﾘ
JMP @MR5114              ; ﾄﾚｲｶﾞｲﾄﾞ_選択閉
STG @MR5204              ; ﾄﾞｱ閉ﾁｪｯｸ
ANB R4005                ; BC_ﾄﾚｲ交換_ｽﾀｰﾄ(ｻﾌﾞSWBOX)
ANB R4008                ; BC ｽﾀｰﾄSW(右)
ANB R4009                ; BC ｽﾀｰﾄSW(左)
MPS
ANB R4007                ; BC_扉閉確認
RES @MR5107              ; ｽﾀｰﾄSW_押下_ﾒﾓﾘ
CON
SET MR7005               ; C_電磁ﾛｯｸ解除
CON
JMP @MR5106              ; ｽﾀｰﾄSW_ﾁｪｯｸ
MPP
AND R4007                ; BC_扉閉確認
RES MR7213               ; BC_ﾄﾚｲ中間受け_閉
CON
SET MR7212               ; BC_ﾄﾚｲ中間受け_開
CON
JMP @MR5114              ; ﾄﾚｲｶﾞｲﾄﾞ_選択閉
LDP @MR5114              ; ﾄﾚｲｶﾞｲﾄﾞ_選択閉
MPS
AND R4500                ; BC_ﾄﾚｲｾｯﾄ確認1_下
SET MR7100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1_閉
MRD
AND R4502                ; BC_ﾄﾚｲｾｯﾄ確認2_中下
SET MR7102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2_閉
MRD
AND R4504                ; BC_ﾄﾚｲｾｯﾄ確認3_中上
SET MR7104               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3_閉
MPP
AND R4506                ; BC_ﾄﾚｲｾｯﾄ確認4_上
SET MR7106               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4_閉
LDB MR4100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_閉限Err_右
ANB MR4102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_閉限Err_左
ORB MR7100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1_閉
LDB MR4104               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2R_閉限Err_右
ANB MR4106               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2L_閉限Err_左
ORB MR7102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2_閉
ANL
LDB MR4108               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3R_閉限Err_右
ANB MR4110               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3L_閉限Err_左
ORB MR7104               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3_閉
ANL
LDB MR4112               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4R_閉限Err_右
ANB MR4114               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4L_閉限Err_左
ORB MR7106               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4_閉
ANL
INV
OUT @MR5115              ; ｾﾝｻ_Error_有り
LD R4100                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_閉限_右
AND R4102                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_閉限_左
ORB MR7100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1_閉
LD R4104                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ2R_閉限_右
AND R4106                ; BC_ﾄﾚｲｶﾞｲﾄﾞ2L_閉限_左
ORB MR7102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ2_閉
ANL
LD R4108                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ3R_閉限_右
AND R4110                ; BC_ﾄﾚｲｶﾞｲﾄﾞ3L_閉限_左
ORB MR7104               ; BC_ﾄﾚｲｶﾞｲﾄﾞ3_閉
ANL
LD R4112                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ4R_閉限_右
AND R4114                ; BC_ﾄﾚｲｶﾞｲﾄﾞ4L_閉限_左
ORB MR7106               ; BC_ﾄﾚｲｶﾞｲﾄﾞ4_閉
ANL
OUT @MR5200              ; ｾﾝｻ_条件OK
STG @MR5114              ; ﾄﾚｲｶﾞｲﾄﾞ_選択閉
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR5115              ; ｾﾝｻ_Error_有り
AND @MR5200              ; ｾﾝｻ_条件OK
ANL
JMP @MR5201              ; ﾘﾋﾟｰﾄﾁｪｯｸ
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR5200               ; ｾﾝｻ_条件OK
OR @MR5115               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR5201              ; ﾘﾋﾟｰﾄﾁｪｯｸ
ANB R4008                ; BC ｽﾀｰﾄSW(右)
ANB R4009                ; BC ｽﾀｰﾄSW(左)
ANB R4005                ; BC_ﾄﾚｲ交換_ｽﾀｰﾄ(ｻﾌﾞSWBOX)
MPS
AND @MR5107              ; ｽﾀｰﾄSW_押下_ﾒﾓﾘ
RES @MR5107              ; ｽﾀｰﾄSW_押下_ﾒﾓﾘ
CON
JMP @MR5202              ; ﾄﾚｲ交換_終了処理へ
MPP
ANB @MR5107              ; ｽﾀｰﾄSW_押下_ﾒﾓﾘ
JMP @MR5106              ; ｽﾀｰﾄSW_ﾁｪｯｸ
;<h1/>_Sub_小ﾄﾚｲ交換処理
STG @MR5009              ; 小ﾄﾚｲ_交換処理へ
SET MR7005               ; C_電磁ﾛｯｸ解除
CON
SET MR7006               ; C_ｽﾀｰﾄﾗﾝﾌﾟ_ｻﾌﾞSWBOX(ﾄﾚｲ交換用)
CON
SET MR7007               ; C_ﾎﾟｰｽﾞﾗﾝﾌﾟ_ｻﾌﾞSWBOX(ﾄﾚｲ交換用)
CON
JMP @MR5208              ; ｽﾀｰﾄSW_ﾁｪｯｸ
STG @MR5208              ; ｽﾀｰﾄSW_ﾁｪｯｸ
AND R5005                ; SC_ﾄﾚｲ交換ｽﾀｰﾄ(ｻﾌﾞSWBOX)
JMP @MR5210              ; ﾄﾚｲ積過き_ﾁｪｯｸ
STG @MR5210              ; ﾄﾚｲ積過き_ﾁｪｯｸ
MPS
LDB R5306                ; SC ﾄﾚｲ積過確認
ANB MR7004               ; C ﾀﾜｰﾗﾝﾌﾟ Bz2
ANL
JMP @MR5212              ; ﾄﾞｱ閉
MPP
LD R5306                 ; SC ﾄﾚｲ積過確認
OR MR7004                ; C ﾀﾜｰﾗﾝﾌﾟ Bz2
ANL
OUT MR7004               ; C ﾀﾜｰﾗﾝﾌﾟ Bz2
CON
ANB R5005                ; SC_ﾄﾚｲ交換ｽﾀｰﾄ(ｻﾌﾞSWBOX)
JMP @MR5208              ; ｽﾀｰﾄSW_ﾁｪｯｸ
STG @MR5212              ; ﾄﾞｱ閉
RES MR7005               ; C_電磁ﾛｯｸ解除
CON
TMR @66 #7               ; ﾄﾞｱ閉_DLY
CON
AND @T66                 ; ﾄﾞｱ閉_DLY
MPS
LDB R5007                ; SC_扉閉確認
ANB R5005                ; SC_ﾄﾚｲ交換ｽﾀｰﾄ(ｻﾌﾞSWBOX)
ANL
SET MR7005               ; C_電磁ﾛｯｸ解除
CON
JMP @MR5208              ; ｽﾀｰﾄSW_ﾁｪｯｸ
MPP
AND R5007                ; SC_扉閉確認
JMP @MR5213              ; 扉閉確認
STG @MR5213              ; 扉閉確認
ANB R5005                ; SC_ﾄﾚｲ交換ｽﾀｰﾄ(ｻﾌﾞSWBOX)
JMP @MR5202              ; ﾄﾚｲ交換_終了処理へ
;<h1/>_Sub_ﾄﾚｲ交換終了処理
STG @MR5202              ; ﾄﾚｲ交換_終了処理へ
RES MR13500              ; T1_ﾄﾚｲ交換要求ForT0
CON
RES MR13504              ; T1_ﾄﾚｲ交換要求ForT4
CON
ANB MR13000              ; T0_ﾊﾟﾚﾀｲｽﾞ_待機完了
ANB MR15000              ; T4_下段移載_待機完了
RES MR7006               ; C_ｽﾀｰﾄﾗﾝﾌﾟ_ｻﾌﾞSWBOX(ﾄﾚｲ交換用)
CON
RES MR7007               ; C_ﾎﾟｰｽﾞﾗﾝﾌﾟ_ｻﾌﾞSWBOX(ﾄﾚｲ交換用)
CON
OUT @MR4901              ; ﾄﾚｲ交換Sub_OK完了
CON
JMP @MR4904              ; Busy_OFF
;<h1/>Sub_ﾄﾚｲ渡し
STG @MR5308              ; ﾄﾚｲ渡しSub_Call
SET MR13702              ; T1_ﾄﾚｲ渡しSub_Busy
CON
JMP @MR5400              ; ﾄﾚｲ渡し条件_ﾁｪｯｸ
STG @MR5312              ; Busy_OFF
RES MR13702              ; T1_ﾄﾚｲ渡しSub_Busy
CON
ENDS
LD MR13300               ; T0_ﾄﾚｲ搬送_Pos#1
LD MR12000               ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
ANB R4508                ; BC ﾄﾚｲ投入有無検出
LD MR12001               ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ANB R5307                ; SC ﾄﾚｲ投入有無検出
ORL
ANL
ANB MR13200              ; T0_ﾄﾚｲ搬送_RB1_Busy
OUT @MR5401              ; ﾄﾚｲ渡しSub_条件_OK
STG @MR5400              ; ﾄﾚｲ渡し条件_ﾁｪｯｸ
MPS
AND @MR5401              ; ﾄﾚｲ渡しSub_条件_OK
JMP @MR5402              ; ﾄﾚｲ渡しSub_開始
MPP
ANB @MR5401              ; ﾄﾚｲ渡しSub_条件_OK
JMP @MR5403              ; ﾄﾚｲ渡しSub_条件Error
STG @MR5404              ; ﾄﾚｲ渡しSub_Error解除待ち
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
AND @MR101               ; Task1 ERROR_End
ANL
RES @MR101               ; Task1 ERROR_End
CON
RES R39004               ; ｴﾗｰ処理中
CON
MPS
AND @MR105               ; Error_RET_SW1
MPS
ANB @MR2102              ; STEP
JMP @MR5400              ; ﾄﾚｲ渡し条件_ﾁｪｯｸ
MPP
AND @MR2102              ; STEP
JMP @MR5700              ; ﾄﾚｲ渡し_終了へ
MPP
AND @MR106               ; Error_RET_SW2
SET @MR5311              ; ﾄﾚｲ渡しSub_NG完了
CON
JMP @MR4504              ; Busy_OFF
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
STG @MR5402              ; ﾄﾚｲ渡しSub_開始
MPS
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
SET R47000               ; _処理時間1計測開始
CON
SET MR7100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1_閉
CON
JMP @MR5405              ; ﾄﾚｲｶﾞｲﾄﾞ閉_待ち
MPP
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
SET R47000               ; _処理時間1計測開始
CON
JMP @MR5406              ; 段ﾊﾞﾗｼ前進
STG @MR5405              ; ﾄﾚｲｶﾞｲﾄﾞ閉_待ち
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR4100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_閉限Err_右
ANB MR4102               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_閉限Err_左
AND R4100                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_閉限_右
AND R4102                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_閉限_左
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5406              ; 段ﾊﾞﾗｼ前進
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R4100                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_閉限_右
AND R4102                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_閉限_左
OR MR4100                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_閉限Err_右
OR MR4102                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_閉限Err_左
ANL
ANL
SET @MR1900              ; Main1 HALT許可
LDP @MR5406              ; 段ﾊﾞﾗｼ前進
MPS
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
RES MR7209               ; BC 段ﾊﾞﾗｼ前後 後退
CON
SET MR7208               ; BC 段ﾊﾞﾗｼ前後 前進
MPP
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
RES MR8103               ; SC 段ﾊﾞﾗｼ前後 後退
CON
SET MR8102               ; SC 段ﾊﾞﾗｼ前後 前進
LDB MR4608               ; BC 段ﾊﾞﾗｼ前後(右) 前進限Err
ANB MR4610               ; BC 段ﾊﾞﾗｼ前後(左) 前進限Err
INV
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LDB MR5108               ; SC 段ﾊﾞﾗｼ前後(右) 閉限Err
ANB MR5110               ; SC 段ﾊﾞﾗｼ前後(左) 閉限Err
INV
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5407              ; ｾﾝｻ_Error_有り
LD R4608                 ; BC 段ﾊﾞﾗｼ(右) 前進限
AND R4610                ; BC 段ﾊﾞﾗｼ(左) 前進限
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LD R5108                 ; SC 段ﾊﾞﾗｼ(右) 前進限
AND R5110                ; SC 段ﾊﾞﾗｼ(左) 前進限
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5408              ; ｾﾝｻ_条件OK
STG @MR5406              ; 段ﾊﾞﾗｼ前進
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR5407              ; ｾﾝｻ_Error_有り
AND @MR5408              ; ｾﾝｻ_条件OK
ANL
TMR @55 #5               ; ｾﾝｻ安定_DLY
CON
AND @T55                 ; ｾﾝｻ安定_DLY
JMP @MR5409              ; ﾄﾚｲ大小分岐
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR5408               ; ｾﾝｻ_条件OK
OR @MR5407               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR5409              ; ﾄﾚｲ大小分岐
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
MPS
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
JMP @MR5410              ; ﾄﾚｲ受け下_開
MPP
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
JMP @MR5800              ; 段ﾊﾞﾗｼS_上昇
LDP @MR5800              ; 段ﾊﾞﾗｼS_上昇
MPS
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
RES MR7207               ; BC 段ﾊﾞﾗｼ上下S 下降
CON
SET MR7206               ; BC 段ﾊﾞﾗｼ上下S 上昇
MPP
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
RES MR8107               ; SC 段ﾊﾞﾗｼ上下S 下降
CON
SET MR8106               ; SC 段ﾊﾞﾗｼ上下S 上昇
LDB MR4604               ; BC 段ﾊﾞﾗｼ上下S(右) 上昇限Err
ANB MR4606               ; BC 段ﾊﾞﾗｼ上下S(左) 上昇限Err
INV
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LDB MR5204               ; SC 段ﾊﾞﾗｼ上下S(右) 上昇限Err
ANB MR5206               ; SC 段ﾊﾞﾗｼ上下S(左) 上昇限Err
INV
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5801              ; ｾﾝｻ_Error_有り
LD R4604                 ; BC 段ﾊﾞﾗｼ上下S(右) 上昇限
AND R4606                ; BC 段ﾊﾞﾗｼ上下S(左) 上昇限
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LD R5204                 ; SC 段ﾊﾞﾗｼ上下S(右) 上昇限
AND R5206                ; SC 段ﾊﾞﾗｼ上下S(左) 上昇限
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5802              ; ｾﾝｻ_条件OK
STG @MR5800              ; 段ﾊﾞﾗｼS_上昇
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR5801              ; ｾﾝｻ_Error_有り
AND @MR5802              ; ｾﾝｻ_条件OK
ANL
TMR @63 #5               ; ｾﾝｻ安定_DLY
CON
AND @T63                 ; ｾﾝｻ安定_DLY
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5410              ; ﾄﾚｲ受け下_開
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR5802               ; ｾﾝｻ_条件OK
OR @MR5801               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
LDP @MR5410              ; ﾄﾚｲ受け下_開
MPS
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
RES MR7109               ; BC ﾄﾚｲ受け1 閉
CON
SET MR7108               ; BC ﾄﾚｲ受け1 開
MPP
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
RES MR8101               ; SC ﾄﾚｲ受け 閉
CON
SET MR8100               ; SC ﾄﾚｲ受け 開
LDB MR4200               ; BC_ﾄﾚｲ受け1BR_開限Err_奥右
ANB MR4202               ; BC_ﾄﾚｲ受け1FR_開限Err_前右
ANB MR4204               ; BC_ﾄﾚｲ受け1BL_開限Err_奥左
ANB MR4206               ; BC_ﾄﾚｲ受け1FL_開限Err_前左
INV
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LDB MR5100               ; SC ﾄﾚｲ受け(奥右) 開限Err
ANB MR5102               ; SC ﾄﾚｲ受け(前右) 開限Err
ANB MR5104               ; SC ﾄﾚｲ受け(奥左) 開限Err
ANB MR5106               ; SC ﾄﾚｲ受け(前左) 開限Err
INV
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5412              ; ｾﾝｻ_Error_有り
LD R4200                 ; BC_ﾄﾚｲ受け1BR_開限_奥右
AND R4202                ; BC_ﾄﾚｲ受け1FR_開限_前右
AND R4204                ; BC_ﾄﾚｲ受け1BL_開限_奥左
AND R4206                ; BC_ﾄﾚｲ受け1FL_開限_前左
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LD R5100                 ; SC ﾄﾚｲ受け(奥右) 開限
AND R5102                ; SC ﾄﾚｲ受け(前右) 開限
AND R5104                ; SC ﾄﾚｲ受け(奥左) 開限
AND R5106                ; SC ﾄﾚｲ受け(前左) 開限
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5413              ; ｾﾝｻ_条件OK
STG @MR5410              ; ﾄﾚｲ受け下_開
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR5412              ; ｾﾝｻ_Error_有り
AND @MR5413              ; ｾﾝｻ_条件OK
ANL
TMR @56 #5               ; ｾﾝｻ安定_DLY
CON
AND @T56                 ; ｾﾝｻ安定_DLY
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5414              ; 段ﾊﾞﾗｼL&S_下降
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR5413               ; ｾﾝｻ_条件OK
OR @MR5412               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
LDP @MR5414              ; 段ﾊﾞﾗｼL&S_下降
MPS
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
RES MR7205               ; BC 段ﾊﾞﾗｼ上下L 上昇
CON
SET MR7204               ; BC 段ﾊﾞﾗｼ上下L 下降
CON
RES MR7206               ; BC 段ﾊﾞﾗｼ上下S 上昇
CON
SET MR7207               ; BC 段ﾊﾞﾗｼ上下S 下降
MPP
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
RES MR8105               ; SC 段ﾊﾞﾗｼ上下L 上昇
CON
SET MR8104               ; SC 段ﾊﾞﾗｼ上下L 下降
CON
RES MR8106               ; SC 段ﾊﾞﾗｼ上下S 上昇
CON
SET MR8107               ; SC 段ﾊﾞﾗｼ上下S 下降
LDB MR4600               ; BC 段ﾊﾞﾗｼ上下L(右) 下降限Err
ANB MR4602               ; BC 段ﾊﾞﾗｼ上下L(左) 下降限Err
ANB MR4605               ; BC 段ﾊﾞﾗｼ上下S(右) 下降限Err
ANB MR4607               ; BC 段ﾊﾞﾗｼ上下S(左) 下降限Err
INV
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LDB MR5200               ; SC 段ﾊﾞﾗｼ上下L(右) 下降限Err
ANB MR5202               ; SC 段ﾊﾞﾗｼ上下L(左) 下降限Err
ANB MR5205               ; SC 段ﾊﾞﾗｼ上下S(右) 下降限Err
ANB MR5207               ; SC 段ﾊﾞﾗｼ上下S(左) 下降限Err
INV
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5500              ; ｾﾝｻ_Error_有り
LD R4600                 ; BC 段ﾊﾞﾗｼ上下L(右) 下降限
AND R4602                ; BC 段ﾊﾞﾗｼ上下L(左) 下降限
AND R4605                ; BC 段ﾊﾞﾗｼ上下S(右) 下降限
AND R4607                ; BC 段ﾊﾞﾗｼ上下S(左) 下降限
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LD R5200                 ; SC 段ﾊﾞﾗｼ上下L(右) 下降限
AND R5202                ; SC 段ﾊﾞﾗｼ上下L(左) 下降限
AND R5205                ; SC 段ﾊﾞﾗｼ上下S(右) 下降限
AND R5207                ; SC 段ﾊﾞﾗｼ上下S(左) 下降限
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5501              ; ｾﾝｻ_条件OK
STG @MR5414              ; 段ﾊﾞﾗｼL&S_下降
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR5500              ; ｾﾝｻ_Error_有り
AND @MR5501              ; ｾﾝｻ_条件OK
ANL
TMR @57 #5               ; ｾﾝｻ安定_DLY
CON
AND @T57                 ; ｾﾝｻ安定_DLY
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5502              ; 段ﾊﾞﾗｼ後退
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR5501               ; ｾﾝｻ_条件OK
OR @MR5500               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
LDP @MR5502              ; 段ﾊﾞﾗｼ後退
MPS
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
RES MR7208               ; BC 段ﾊﾞﾗｼ前後 前進
CON
SET MR7209               ; BC 段ﾊﾞﾗｼ前後 後退
MPP
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
RES MR8102               ; SC 段ﾊﾞﾗｼ前後 前進
CON
SET MR8103               ; SC 段ﾊﾞﾗｼ前後 後退
LDB MR4609               ; BC 段ﾊﾞﾗｼ前後(右) 後退限Err
ANB MR4611               ; BC 段ﾊﾞﾗｼ前後(左) 後退限Err
INV
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LDB MR5109               ; SC 段ﾊﾞﾗｼ前後(右) 開限Err
ANB MR5111               ; SC 段ﾊﾞﾗｼ前後(左) 開限Err
INV
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5504              ; ｾﾝｻ_Error_有り
LD R4609                 ; BC 段ﾊﾞﾗｼ(右) 後退限
AND R4611                ; BC 段ﾊﾞﾗｼ(左) 後退限
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LD R5109                 ; SC 段ﾊﾞﾗｼ(右) 後退限
AND R5111                ; SC 段ﾊﾞﾗｼ(左) 後退限
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5505              ; ｾﾝｻ_条件OK
STG @MR5502              ; 段ﾊﾞﾗｼ後退
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR5504              ; ｾﾝｻ_Error_有り
AND @MR5505              ; ｾﾝｻ_条件OK
ANL
TMR @58 #5               ; ｾﾝｻ安定_DLY
CON
AND @T58                 ; ｾﾝｻ安定_DLY
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5506              ; 段ﾊﾞﾗｼS_上昇
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR5505               ; ｾﾝｻ_条件OK
OR @MR5504               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
LDP @MR5506              ; 段ﾊﾞﾗｼS_上昇
MOV #1 DM20005           ; ﾊﾟﾚﾀｲｽﾞ_PLT_CNT
LDP @MR5506              ; 段ﾊﾞﾗｼS_上昇
MPS
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
RES MR7207               ; BC 段ﾊﾞﾗｼ上下S 下降
CON
SET MR7206               ; BC 段ﾊﾞﾗｼ上下S 上昇
MPP
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
RES MR8107               ; SC 段ﾊﾞﾗｼ上下S 下降
CON
SET MR8106               ; SC 段ﾊﾞﾗｼ上下S 上昇
LDB MR4604               ; BC 段ﾊﾞﾗｼ上下S(右) 上昇限Err
ANB MR4606               ; BC 段ﾊﾞﾗｼ上下S(左) 上昇限Err
INV
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LDB MR5204               ; SC 段ﾊﾞﾗｼ上下S(右) 上昇限Err
ANB MR5206               ; SC 段ﾊﾞﾗｼ上下S(左) 上昇限Err
INV
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5509              ; ｾﾝｻ_Error_有り
LD R4604                 ; BC 段ﾊﾞﾗｼ上下S(右) 上昇限
AND R4606                ; BC 段ﾊﾞﾗｼ上下S(左) 上昇限
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LD R5204                 ; SC 段ﾊﾞﾗｼ上下S(右) 上昇限
AND R5206                ; SC 段ﾊﾞﾗｼ上下S(左) 上昇限
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5510              ; ｾﾝｻ_条件OK
STG @MR5506              ; 段ﾊﾞﾗｼS_上昇
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR5509              ; ｾﾝｻ_Error_有り
AND @MR5510              ; ｾﾝｻ_条件OK
ANL
TMR @59 #5               ; ｾﾝｻ安定_DLY
CON
AND @T59                 ; ｾﾝｻ安定_DLY
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5511              ; 段ﾊﾞﾗｼ_前進
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR5510               ; ｾﾝｻ_条件OK
OR @MR5509               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
LDP @MR5511              ; 段ﾊﾞﾗｼ_前進
MPS
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
RES MR7209               ; BC 段ﾊﾞﾗｼ前後 後退
CON
SET MR7208               ; BC 段ﾊﾞﾗｼ前後 前進
CON
RES MR7215               ; BC_段ﾊﾞﾗｼ押え_開
CON
SET MR7214               ; BC_段ﾊﾞﾗｼ押え_閉
MPP
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
RES MR8103               ; SC 段ﾊﾞﾗｼ前後 後退
CON
SET MR8102               ; SC 段ﾊﾞﾗｼ前後 前進
CON
RES MR8113               ; S1 段ﾊﾞﾗｼ押さえ 開
CON
SET MR8112               ; S1 段ﾊﾞﾗｼ押さえ 閉
LDB MR4608               ; BC 段ﾊﾞﾗｼ前後(右) 前進限Err
ANB MR4610               ; BC 段ﾊﾞﾗｼ前後(左) 前進限Err
ANB MR4404               ; BC_段ﾊﾞﾗｼ押え1_閉Err
ANB MR4406               ; BC_段ﾊﾞﾗｼ押え2_閉Err
INV
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LDB MR5108               ; SC 段ﾊﾞﾗｼ前後(右) 閉限Err
ANB MR5110               ; SC 段ﾊﾞﾗｼ前後(左) 閉限Err
ANB MR5112               ; S1 段ﾊﾞﾗｼ押さえ 閉限Err
INV
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5513              ; ｾﾝｻ_Error_有り
LD R4608                 ; BC 段ﾊﾞﾗｼ(右) 前進限
AND R4610                ; BC 段ﾊﾞﾗｼ(左) 前進限
AND R4404                ; BC_段ﾊﾞﾗｼ押え1_閉限
AND R4406                ; BC_段ﾊﾞﾗｼ押え2_閉限
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LD R5108                 ; SC 段ﾊﾞﾗｼ(右) 前進限
AND R5110                ; SC 段ﾊﾞﾗｼ(左) 前進限
LD R5112                 ; SC 段ﾊﾞﾗｼ押さえ 閉限
OR MR12104               ; COM_MC_TYPE_ﾍｯﾄﾞｻﾌﾞ
ANL
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5514              ; ｾﾝｻ_条件OK
STG @MR5511              ; 段ﾊﾞﾗｼ_前進
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR5513              ; ｾﾝｻ_Error_有り
AND @MR5514              ; ｾﾝｻ_条件OK
ANL
TMR @60 #5               ; ｾﾝｻ安定_DLY
CON
AND @T60                 ; ｾﾝｻ安定_DLY
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5515              ; 段ﾊﾞﾗｼL_上昇
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR5514               ; ｾﾝｻ_条件OK
OR @MR5513               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
LDP @MR5515              ; 段ﾊﾞﾗｼL_上昇
MPS
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
RES MR7204               ; BC 段ﾊﾞﾗｼ上下L 下降
CON
SET MR7205               ; BC 段ﾊﾞﾗｼ上下L 上昇
MPP
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
RES MR8104               ; SC 段ﾊﾞﾗｼ上下L 下降
CON
SET MR8105               ; SC 段ﾊﾞﾗｼ上下L 上昇
LDB MR4601               ; BC 段ﾊﾞﾗｼ上下L(右) 上昇限Err
ANB MR4603               ; BC 段ﾊﾞﾗｼ上下L(左) 上昇限Err
INV
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LDB MR5201               ; SC 段ﾊﾞﾗｼ上下L(右) 上昇限Err
ANB MR5203               ; SC 段ﾊﾞﾗｼ上下L(左) 上昇限Err
INV
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5601              ; ｾﾝｻ_Error_有り
LD R4601                 ; BC 段ﾊﾞﾗｼ上下L(右) 上昇限
AND R4603                ; BC 段ﾊﾞﾗｼ上下L(左) 上昇限
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LD R5201                 ; SC 段ﾊﾞﾗｼ上下L(右) 上昇限
AND R5203                ; SC 段ﾊﾞﾗｼ上下L(左) 上昇限
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5602              ; ｾﾝｻ_条件OK
STG @MR5515              ; 段ﾊﾞﾗｼL_上昇
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR5601              ; ｾﾝｻ_Error_有り
AND @MR5602              ; ｾﾝｻ_条件OK
ANL
TMR @61 #5               ; ｾﾝｻ安定_DLY
CON
AND @T61                 ; ｾﾝｻ安定_DLY
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5603              ; ﾄﾚｲ受け_前進
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR5602               ; ｾﾝｻ_条件OK
OR @MR5601               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
LDP @MR5603              ; ﾄﾚｲ受け_前進
MPS
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
RES MR7108               ; BC ﾄﾚｲ受け1 開
CON
SET MR7109               ; BC ﾄﾚｲ受け1 閉
CON
RES MR7214               ; BC_段ﾊﾞﾗｼ押え_閉
CON
SET MR7215               ; BC_段ﾊﾞﾗｼ押え_開
MPP
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
RES MR8100               ; SC ﾄﾚｲ受け 開
CON
SET MR8101               ; SC ﾄﾚｲ受け 閉
CON
RES MR8112               ; S1 段ﾊﾞﾗｼ押さえ 閉
CON
SET MR8113               ; S1 段ﾊﾞﾗｼ押さえ 開
LDB MR4201               ; BC_ﾄﾚｲ受け1BR_閉限Err_奥右
ANB MR4203               ; BC_ﾄﾚｲ受け1FR_閉限Err_前右
ANB MR4205               ; BC_ﾄﾚｲ受け1BL_閉限Err_奥左
ANB MR4207               ; BC_ﾄﾚｲ受け1FL_閉限Err_前左
ANB MR4405               ; BC_段ﾊﾞﾗｼ押え1_開Err
ANB MR4407               ; BC_段ﾊﾞﾗｼ押え2_開Err
INV
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LDB MR5101               ; SC ﾄﾚｲ受け(奥右) 閉限Err
ANB MR5103               ; SC ﾄﾚｲ受け(前右) 閉限Err
ANB MR5105               ; SC ﾄﾚｲ受け(奥左) 閉限Err
ANB MR5107               ; SC ﾄﾚｲ受け(前左) 閉限Err
ANB MR5113               ; S1 段ﾊﾞﾗｼ押さえ 開限Err
INV
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5605              ; ｾﾝｻ_Error_有り
LD R4201                 ; BC_ﾄﾚｲ受け1BR_閉限_奥右
AND R4203                ; BC_ﾄﾚｲ受け1FR_閉限_前右
AND R4205                ; BC_ﾄﾚｲ受け1BL_閉限_奥左
AND R4207                ; BC_ﾄﾚｲ受け1FL_閉限_前左
AND R4405                ; BC_段ﾊﾞﾗｼ押え1_開限
AND R4407                ; BC_段ﾊﾞﾗｼ押え2_開限
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LD R5101                 ; SC ﾄﾚｲ受け(奥右) 閉限
AND R5103                ; SC ﾄﾚｲ受け(前右) 閉限
AND R5105                ; SC ﾄﾚｲ受け(奥左) 閉限
AND R5107                ; SC ﾄﾚｲ受け(前左) 閉限
LD R5113                 ; SC 段ﾊﾞﾗｼ押さえ 開限
OR MR12104               ; COM_MC_TYPE_ﾍｯﾄﾞｻﾌﾞ
ANL
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5606              ; ｾﾝｻ_条件OK
STG @MR5603              ; ﾄﾚｲ受け_前進
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR5605              ; ｾﾝｻ_Error_有り
AND @MR5606              ; ｾﾝｻ_条件OK
ANL
TMR @62 #5               ; ｾﾝｻ安定_DLY
CON
AND @T62                 ; ｾﾝｻ安定_DLY
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5607              ; 段ﾊﾞﾗｼS_下降
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR5606               ; ｾﾝｻ_条件OK
OR @MR5605               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
LDP @MR5607              ; 段ﾊﾞﾗｼS_下降
MPS
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
RES MR7206               ; BC 段ﾊﾞﾗｼ上下S 上昇
CON
SET MR7207               ; BC 段ﾊﾞﾗｼ上下S 下降
MPP
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
RES MR8106               ; SC 段ﾊﾞﾗｼ上下S 上昇
CON
SET MR8107               ; SC 段ﾊﾞﾗｼ上下S 下降
LDB MR4605               ; BC 段ﾊﾞﾗｼ上下S(右) 下降限Err
ANB MR4607               ; BC 段ﾊﾞﾗｼ上下S(左) 下降限Err
INV
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LDB MR5205               ; SC 段ﾊﾞﾗｼ上下S(右) 下降限Err
ANB MR5207               ; SC 段ﾊﾞﾗｼ上下S(左) 下降限Err
INV
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5609              ; ｾﾝｻ_Error_有り
LD R4605                 ; BC 段ﾊﾞﾗｼ上下S(右) 下降限
AND R4607                ; BC 段ﾊﾞﾗｼ上下S(左) 下降限
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LD R5205                 ; SC 段ﾊﾞﾗｼ上下S(右) 下降限
AND R5207                ; SC 段ﾊﾞﾗｼ上下S(左) 下降限
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5610              ; ｾﾝｻ_条件OK
STG @MR5607              ; 段ﾊﾞﾗｼS_下降
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR5609              ; ｾﾝｻ_Error_有り
AND @MR5610              ; ｾﾝｻ_条件OK
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5611              ; 段ﾊﾞﾗｼ_後退
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR5610               ; ｾﾝｻ_条件OK
OR @MR5609               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
LDP @MR5611              ; 段ﾊﾞﾗｼ_後退
MPS
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
RES MR7208               ; BC 段ﾊﾞﾗｼ前後 前進
CON
SET MR7209               ; BC 段ﾊﾞﾗｼ前後 後退
MPP
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
RES MR8102               ; SC 段ﾊﾞﾗｼ前後 前進
CON
SET MR8103               ; SC 段ﾊﾞﾗｼ前後 後退
LDB MR4609               ; BC 段ﾊﾞﾗｼ前後(右) 後退限Err
ANB MR4611               ; BC 段ﾊﾞﾗｼ前後(左) 後退限Err
INV
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LDB MR5109               ; SC 段ﾊﾞﾗｼ前後(右) 開限Err
ANB MR5111               ; SC 段ﾊﾞﾗｼ前後(左) 開限Err
INV
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5613              ; ｾﾝｻ_Error_有り
LD R4609                 ; BC 段ﾊﾞﾗｼ(右) 後退限
AND R4611                ; BC 段ﾊﾞﾗｼ(左) 後退限
AND MR12000              ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LD R5109                 ; SC 段ﾊﾞﾗｼ(右) 後退限
AND R5111                ; SC 段ﾊﾞﾗｼ(左) 後退限
AND MR12001              ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ORL
OUT @MR5614              ; ｾﾝｻ_条件OK
STG @MR5611              ; 段ﾊﾞﾗｼ_後退
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB @MR5613              ; ｾﾝｻ_Error_有り
AND @MR5614              ; ｾﾝｻ_条件OK
ANL
JMP @MR5615              ; ﾄﾚｲｶﾞｲﾄﾞ_閉(大)
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD @MR5614               ; ｾﾝｻ_条件OK
OR @MR5613               ; ｾﾝｻ_Error_有り
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR5615              ; ﾄﾚｲｶﾞｲﾄﾞ_閉(大)
MPS
LD MR12001               ; COM_機種_小ﾄﾚｲ(2.4)_Flg
LD MR12000               ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
AND R4500                ; BC_ﾄﾚｲｾｯﾄ確認1_下
ORL
ANL
JMP @MR5700              ; ﾄﾚｲ渡し_終了へ
MPP
LD MR12000               ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
ANB R4500                ; BC_ﾄﾚｲｾｯﾄ確認1_下
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
RES MR7100               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1_閉
CON
JMP @MR5701              ; ﾄﾚｲｶﾞｲﾄﾞ_開待ち
STG @MR5701              ; ﾄﾚｲｶﾞｲﾄﾞ_開待ち
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR4101               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_開限Err_右
ANB MR4103               ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_開限Err_左
AND R4101                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_開限_右
AND R4103                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_開限_左
ANL
JMP @MR5700              ; ﾄﾚｲ渡し_終了へ
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD R4101                 ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_開限_右
AND R4103                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_開限_左
OR MR4101                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1R_開限Err_右
OR MR4103                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1L_開限Err_左
ANL
ANL
SET @MR1900              ; Main1 HALT許可
;<h1/>_Sub_ﾄﾚｲ渡し終了処理
STG @MR5700              ; ﾄﾚｲ渡し_終了へ
SET R47100               ; _処理時間1取得
CON
@INC.D DM5020            ; _生産ｶｳﾝﾀ1
CON
OUT @MR5309              ; ﾄﾚｲ渡しSub_OK完了
CON
JMP @MR5312              ; Busy_OFF
END
ENDH
