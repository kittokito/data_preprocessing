DEVICE:51
;MODULE:Sensor
;MODULE_TYPE:0
LD CR2002                ; 常時ON
AND R50008               ; Error
TMR #30 #2
CON
AND T30
AWMSG DM100
LD R50010                ; Emergency　Stop
ZRES @MR000 @MR115       ; INDEX ｼﾘﾝﾀﾞｰｴﾗｰ中
LD R51800                ; ｴﾘｱｾﾝｻ  監視中
ANB R50008               ; Error
OUT MR10000              ; ｴﾘｱｾﾝｻｰ監視
;Pause中ｾﾝｻｰ監視
LDP R50300               ; Pause
OR @MR115
ANB R50415               ; PAUSE OK
AND CR2003               ; 常時OFF
OUT @MR115
LDB R41808               ; TPﾖﾘ 手動動作中
MC
;<h1/>IND2　ｼﾘﾝﾀﾞｰ ｾﾝｻｰ監視
;IND2 cylinder sensor monitoring
LD R50004                ; TASKDO
LDB R51400               ; Err IND2
OR R51406                ; PACK INDEX2
ANL
LDB R50300               ; Pause
OR @MR115
ANL
MC
;
;
LD R7200                 ; 剥離Fﾌｨﾙﾑｸﾗﾝﾌﾟ上下上昇
LDB R5402                ; 剥離F ﾌｨﾙﾑｸﾗﾝﾌﾟ 上下 上昇限
LD R5402                 ; 剥離F ﾌｨﾙﾑｸﾗﾝﾌﾟ 上下 上昇限
AND R5403                ; 剥離F ﾌｨﾙﾑｸﾗﾝﾌﾟ 上下 下降限
ORL
ANL
TMR @226 #30
LD @T226
DW #5402 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5402               ; Cylinder Error 5402
LDB R7200                ; 剥離Fﾌｨﾙﾑｸﾗﾝﾌﾟ上下上昇
LDB R5403                ; 剥離F ﾌｨﾙﾑｸﾗﾝﾌﾟ 上下 下降限
LD R5402                 ; 剥離F ﾌｨﾙﾑｸﾗﾝﾌﾟ 上下 上昇限
AND R5403                ; 剥離F ﾌｨﾙﾑｸﾗﾝﾌﾟ 上下 下降限
ORL
ANL
TMR @227 #30
LD @T227
DW #5403 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5403               ; Cylinder Error 5403
;
LD R7202                 ; 剥離Fｾﾞﾛﾃﾝｼｮﾝ 下降
LDB R5404                ; 剥離F ｾﾞﾛﾃﾝｼｮﾝ 下降限
LD R5404                 ; 剥離F ｾﾞﾛﾃﾝｼｮﾝ 下降限
AND R5405                ; 剥離F ｾﾞﾛﾃﾝｼｮﾝ 上昇限
ORL
ANL
TMR @228 #60
LD @T228
DW #5404 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5404               ; Cylinder Error 5404
LDB R7202                ; 剥離Fｾﾞﾛﾃﾝｼｮﾝ 下降
LDB R5405                ; 剥離F ｾﾞﾛﾃﾝｼｮﾝ 上昇限
LD R5404                 ; 剥離F ｾﾞﾛﾃﾝｼｮﾝ 下降限
AND R5405                ; 剥離F ｾﾞﾛﾃﾝｼｮﾝ 上昇限
ORL
ANL
TMR @229 #60
LD @T229
DW #5405 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5405               ; Cylinder Error 5405
;
LD R7204                 ; 剥離Fﾌｨﾙﾑ押え前後前進(ST1側)
LDB R5406                ; 剥離F ﾌｨﾙﾑ押え 前後 前進限 (ST1
LD R5406                 ; 剥離F ﾌｨﾙﾑ押え 前後 前進限 (ST1
AND R5407                ; 剥離F ﾌｨﾙﾑ押え 前後 後退限 (ST3
ORL
ANL
TMR @230 #30
LD @T230
DW #5406 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5406               ; Cylinder Error 5406
LD R7205                 ; 剥離Fﾌｨﾙﾑ押え前後後退(ST3側)
LDB R5407                ; 剥離F ﾌｨﾙﾑ押え 前後 後退限 (ST3
LD R5406                 ; 剥離F ﾌｨﾙﾑ押え 前後 前進限 (ST1
AND R5407                ; 剥離F ﾌｨﾙﾑ押え 前後 後退限 (ST3
ORL
ANL
TMR @231 #30
LD @T231
DW #5407 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5407               ; Cylinder Error 5407
;
LD R7206                 ; 剥離Fｶｯﾀｰ前後前進(ｲﾝﾃﾞｯｸｽ側)
LDB R5408                ; 剥離F ｶｯﾀｰ前後 前進限 (ｲﾝﾃﾞｯｸｽ側
LD R5408                 ; 剥離F ｶｯﾀｰ前後 前進限 (ｲﾝﾃﾞｯｸｽ側
AND R5409                ; 剥離F ｶｯﾀｰ前後 後退限 (外側)
ORL
ANL
TMR @232 #30
LD @T232
DW #5408 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5408               ; Cylinder Error 5408
LD R7207                 ; 剥離Fｶｯﾀｰ前後後退(外側)
LDB R5409                ; 剥離F ｶｯﾀｰ前後 後退限 (外側)
LD R5408                 ; 剥離F ｶｯﾀｰ前後 前進限 (ｲﾝﾃﾞｯｸｽ側
AND R5409                ; 剥離F ｶｯﾀｰ前後 後退限 (外側)
ORL
ANL
TMR @233 #30
LD @T233
DW #5409 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5409               ; Cylinder Error 5409
;
LD R7208                 ; 剥離Fﾌｨﾙﾑ押さえ上下下降
LDB R5410                ; 剥離F ﾌｨﾙﾑ押さえ上下 下降限
LD R5410                 ; 剥離F ﾌｨﾙﾑ押さえ上下 下降限
AND R5411                ; 剥離F ﾌｨﾙﾑ押さえ上下 上昇限
ORL
ANL
TMR @234 #30
LD @T234
DW #5410 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5410               ; Cylinder Error 5410
LDB R7208                ; 剥離Fﾌｨﾙﾑ押さえ上下下降
LDB R5411                ; 剥離F ﾌｨﾙﾑ押さえ上下 上昇限
LD R5410                 ; 剥離F ﾌｨﾙﾑ押さえ上下 下降限
AND R5411                ; 剥離F ﾌｨﾙﾑ押さえ上下 上昇限
ORL
ANL
TMR @235 #30
LD @T235
DW #5411 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5411               ; Cylinder Error 5411
;
LD R7210                 ; 剥離Fﾌｨﾙﾑ切出台前後後退
LDB R5412                ; 剥離F ﾌｨﾙﾑ切り出し台 前後 前進限
LD R5412                 ; 剥離F ﾌｨﾙﾑ切り出し台 前後 前進限
AND R5413                ; 剥離F ﾌｨﾙﾑ切り出し台 前後 後退限
ORL
ANL
TMR @236 #30
LD @T236
DW #5412 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5412               ; Cylinder Error 5412
LD R7211                 ; 剥離Fﾌｨﾙﾑ切出台前後前進
LDB R5413                ; 剥離F ﾌｨﾙﾑ切り出し台 前後 後退限
LD R5412                 ; 剥離F ﾌｨﾙﾑ切り出し台 前後 前進限
AND R5413                ; 剥離F ﾌｨﾙﾑ切り出し台 前後 後退限
ORL
ANL
TMR @237 #30
LD @T237
DW #5413 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5413               ; Cylinder Error 5413
;
LD R7214                 ; 剥離ﾌｨﾙﾑ吸着ﾍｯﾄﾞ上下(1)下降
LDB R5500                ; 剥離F 吸着ﾍｯﾄﾞ上下(1) 下降限
LD R5500                 ; 剥離F 吸着ﾍｯﾄﾞ上下(1) 下降限
AND R5501                ; 剥離F 吸着ﾍｯﾄﾞ上下(1) 上昇限
ORL
ANL
TMR @240 #30
LD @T240
DW #5500 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5500               ; Cylinder Error 5500
LDB R7214                ; 剥離ﾌｨﾙﾑ吸着ﾍｯﾄﾞ上下(1)下降
LDB R5501                ; 剥離F 吸着ﾍｯﾄﾞ上下(1) 上昇限
LD R5500                 ; 剥離F 吸着ﾍｯﾄﾞ上下(1) 下降限
AND R5501                ; 剥離F 吸着ﾍｯﾄﾞ上下(1) 上昇限
ORL
ANL
TMR @241 #30
LD @T241
DW #5501 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5501               ; Cylinder Error 5501
;
LD R7300                 ; 剥離ﾌｨﾙﾑ吸着ﾍｯﾄﾞ上下(2)下降
LDB R5502                ; 剥離F 吸着ﾍｯﾄﾞ上下(2) 下降限
LD R5502                 ; 剥離F 吸着ﾍｯﾄﾞ上下(2) 下降限
AND R5503                ; 剥離F 吸着ﾍｯﾄﾞ上下(2) 上昇限
ORL
ANL
TMR @242 #30
LD @T242
DW #5502 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5502               ; Cylinder Error 5502
LDB R7300                ; 剥離ﾌｨﾙﾑ吸着ﾍｯﾄﾞ上下(2)下降
LDB R5503                ; 剥離F 吸着ﾍｯﾄﾞ上下(2) 上昇限
LD R5502                 ; 剥離F 吸着ﾍｯﾄﾞ上下(2) 下降限
AND R5503                ; 剥離F 吸着ﾍｯﾄﾞ上下(2) 上昇限
ORL
ANL
TMR @243 #30
LD @T243
DW #5503 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5503               ; Cylinder Error 5503
;
LD R7302                 ; 剥離ﾌｨﾙﾑ吸着ﾍｯﾄﾞ溶着側移動
LDB R5504                ; 剥離F ﾍｯﾄﾞ前後 溶着側
LD R5504                 ; 剥離F ﾍｯﾄﾞ前後 溶着側
AND R5505                ; 剥離F ﾍｯﾄﾞ前後 吸着側
ORL
ANL
TMR @244 #30
LD @T244
DW #5504 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5504               ; Cylinder Error 5504
LD R7303                 ; 剥離ﾌｨﾙﾑ吸着ﾍｯﾄﾞﾌｨﾙﾑ吸着側移動
LDB R5505                ; 剥離F ﾍｯﾄﾞ前後 吸着側
LD R5504                 ; 剥離F ﾍｯﾄﾞ前後 溶着側
AND R5505                ; 剥離F ﾍｯﾄﾞ前後 吸着側
ORL
ANL
TMR @245 #30
LD @T245
DW #5505 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5505               ; Cylinder Error 5505
;
LD R7304                 ; ﾜｰｸ押さえ下降
LDB R5506                ; 剥離F ﾜｰｸ押さえ　下降限
LD R5506                 ; 剥離F ﾜｰｸ押さえ　下降限
AND R5507                ; 剥離F ﾜｰｸ押さえ　上昇限
ORL
ANL
TMR @246 #30
LD @T246
DW #5506 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5506               ; Cylinder Error 5506
LDB R7304                ; ﾜｰｸ押さえ下降
LDB R5507                ; 剥離F ﾜｰｸ押さえ　上昇限
LD R5506                 ; 剥離F ﾜｰｸ押さえ　下降限
AND R5507                ; 剥離F ﾜｰｸ押さえ　上昇限
ORL
ANL
TMR @247 #30
LD @T247
DW #5507 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5507               ; Cylinder Error 5507
LD R7212                 ; 剥離Fﾜｰｸ押さえｽﾗｲﾄﾞ押さえ
LDB R5515                ; 剥離Fﾜｰｸ押さえｽﾗｲﾄﾞ 押さえ側
LD R5514                 ; 剥離Fﾜｰｸ押さえｽﾗｲﾄﾞ 退避側
AND R5515                ; 剥離Fﾜｰｸ押さえｽﾗｲﾄﾞ 押さえ側
ORL
ANL
TMR @248 #30
LD @T248
DW #5508 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5508               ; Cylinder Error 5508
LD R7213                 ; 剥離Fﾜｰｸ押さえｽﾗｲﾄﾞ退避
LDB R5514                ; 剥離Fﾜｰｸ押さえｽﾗｲﾄﾞ 退避側
LD R5514                 ; 剥離Fﾜｰｸ押さえｽﾗｲﾄﾞ 退避側
AND R5515                ; 剥離Fﾜｰｸ押さえｽﾗｲﾄﾞ 押さえ側
ORL
ANL
TMR @249 #30
LD @T249
DW #5509 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR5509               ; Cylinder Error 5509
;
MCR
;IND2 ｼﾘﾝﾀﾞｰ ｾﾝｻｰｴﾗｰ表示
;IND2 cylinder sensor error display
LD CR2003                ; 常時OFF
AND>= DM409 #4600        ; ｾﾝｻｰｴﾗｰ No.
AND<= DM409 #4601        ; ｾﾝｻｰｴﾗｰ No.
LD>= DM409 #4604         ; ｾﾝｻｰｴﾗｰ No.
AND<= DM409 #4609        ; ｾﾝｻｰｴﾗｰ No.
ORL
LD>= DM409 #5402         ; ｾﾝｻｰｴﾗｰ No.
AND<= DM409 #5413        ; ｾﾝｻｰｴﾗｰ No.
ORL
LD>= DM409 #5500         ; ｾﾝｻｰｴﾗｰ No.
AND<= DM409 #5509        ; ｾﾝｻｰｴﾗｰ No.
ORL
OR>.D MR5400 #0          ; Cylinder Error 5400
ANB R50008               ; Error
ANB @MR104
SET @MR104
CON
SET R50008               ; Error
CON
SET R51400               ; Err IND2
CON
SET @MR105
MOV #121 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR105
AND R50008               ; Error
JMP @MR106
STG @MR106
MPS
ANB R50008               ; Error
RES @MR104
CON
DW #0 DM409              ; ｾﾝｻｰｴﾗｰ No.
CON
ZRES MR4000 MR5915       ; Cylinder Error 4000  Cylinder Error 5915
CON
ENDS
MRD
DASC DM409 DM106         ; ｾﾝｻｰｴﾗｰ No.
MRD
SRGHT DM106 DM106 #4
MRD
SADD "Sensor_" DM106 DM106
MRD
FLIK #150 #150 @MR014    ; YMSG表示切替
MRD
AND @MR014               ; YMSG表示切替
SMOV "Err_No121" DM100
MPP
ANB @MR014               ; YMSG表示切替
SMOV DM106 DM100
;<h1/>ST1　ｼﾘﾝﾀﾞｰ ｾﾝｻｰ監視
LD R50004                ; TASKDO
LDB R50008               ; Error
OR R50101                ; PACK ST1
ANL
LDB R50300               ; Pause
OR @MR115
ANL
MC
;
;
;
;
MCR
LDP R50008               ; Error
MOV DM400 DM500          ; ﾒｯｾｰｼﾞNo.  Err履歴00
;Error 1 1UT Cylinder sensor error / ｼﾘﾝﾀﾞｰｾﾝｻｰｴﾗｰ
LD<> MR1000 #0           ; Cylinder Error 1000
OR<> MR1100 #0           ; Cylinder Error 1100
ANB R50008               ; Error
ANB @MR004               ; ST1 ｼﾘﾝﾀﾞｰｴﾗｰ中
SET @MR004               ; ST1 ｼﾘﾝﾀﾞｰｴﾗｰ中
CON
SET R50008               ; Error
CON
SET R50111               ; Err ST1
CON
SET @MR005               ; 005
MOV #1 DM400             ; ﾒｯｾｰｼﾞNo.
STG @MR005               ; 005
AND R50008               ; Error
JMP @MR006               ; 006
STG @MR006               ; 006
ANB R50008               ; Error
RES @MR004               ; ST1 ｼﾘﾝﾀﾞｰｴﾗｰ中
CON
ENDS
MCR
END
ENDH
