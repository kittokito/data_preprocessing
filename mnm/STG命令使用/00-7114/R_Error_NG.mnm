DEVICE:53
;MODULE:R_Error_NG
;MODULE_TYPE:0
;<h1/>ｴﾗｰ処理部/Error processing unit
LD MR903                 ; R_ｴﾗｰ処理中
ANB @MR015               ; ｴﾗｰ処理中
SET @MR015               ; ｴﾗｰ処理中
CON
SET @MR000               ; ｴﾗｰ処理開始
;処理開始/Start processing
STG @MR000               ; ｴﾗｰ処理開始
SET MR30201              ; (R_TP)BzRstSw 表示灯
CON
JMP @MR001
LDP MR30200              ; (R_TP)BzRstSw
RES MR30201              ; (R_TP)BzRstSw 表示灯
;ｴﾗｰ画面表示：ﾍﾟｰｼﾞ600/Error screen display: page 600
;解除待ち/Pending wait
STG @MR001
DW #600 EM29997          ; (R_TP)ﾍﾟｰｼﾞ画面切替用No.
MPS
AND MR30200              ; (R_TP)BzRstSw
SET MR115                ; R_NGﾘｾｯﾄ処理ﾌﾞｻﾞｰ解除
MRD
AND MR912                ; R検査NG（ｷｰsw解除必要Err）
MPS
AND MR005                ; ﾗﾝﾌﾟ点滅用(0.5S)
OUT MR30409              ; (R_TP)ｷｰsw要求LP
MPP
AND R2009                ; ｷｰｽｲｯﾁ_R
RES MR30201              ; (R_TP)BzRstSw 表示灯
CON
SET MR115                ; R_NGﾘｾｯﾄ処理ﾌﾞｻﾞｰ解除
CON
JMP @MR002
MPP
LDB MR912                ; R検査NG（ｷｰsw解除必要Err）
AND MR30200              ; (R_TP)BzRstSw
ANL
JMP @MR002
;ｽﾀｰﾄsw入力待ち/Wait for start sw input
STG @MR002
OUT MR203                ; ｴﾗｰ解除要求R
CON
ANP R2008                ; ｽﾀｰﾄSW_R 
ANB MR900                ; 重度異常：電源再投入必要
JMP @MR003
;ｴﾗｰ終了：ﾌﾗｸﾞﾘｾｯﾄ/Error termination: Flag reset
STG @MR003
RES MR903                ; R_ｴﾗｰ処理中
CON
RES MR115                ; R_NGﾘｾｯﾄ処理ﾌﾞｻﾞｰ解除
CON
DW #0 ZF148              ; Rｴﾗｰ詳細
CON
DW #0 ZF149              ; Rｴﾗｰ画面詳細ﾒｯｾｰｼﾞ
CON
RES @MR015               ; ｴﾗｰ処理中
CON
MPS
AND MR912                ; R検査NG（ｷｰsw解除必要Err）
JMP @MR004
MPP
ANB MR912                ; R検査NG（ｷｰsw解除必要Err）
JMP @MR005
;TP520：検査結果/TP 520: Inspection result
STG @MR004
DW #520 EM29997          ; (R_TP)ﾍﾟｰｼﾞ画面切替用No.
CON
RES MR912                ; R検査NG（ｷｰsw解除必要Err）
CON
ENDS
;TP500：ﾒｲﾝ画面/TP 500: Main screen
STG @MR005
MPS
ANB MR310                ; R_原点復帰中
MPS
LDB MR30403              ; (R_TP)装置ﾘｰｸ検査ﾓｰﾄﾞ
ANB MR30405              ; (R_TP)ﾘｰｸﾃｽﾀｰ公正ﾓｰﾄﾞ
ANB MR30407              ; (R_TP)ﾘｰｸﾃｽﾀｰNG調整ﾓｰﾄﾞ
ANB MR30101              ; (R_TP)手動ﾊﾞﾙﾌﾞON/OFF
ANL
DW #500 EM29997          ; (R_TP)ﾍﾟｰｼﾞ画面切替用No.
CON
ENDS
MRD
AND MR30403              ; (R_TP)装置ﾘｰｸ検査ﾓｰﾄﾞ
MPS
ANB LR1915               ; New MC leak
DW #812 EM29997          ; (R_TP)ﾍﾟｰｼﾞ画面切替用No.
CON
ENDS
MPP
AND LR1915               ; New MC leak
DW #821 EM29997          ; (R_TP)ﾍﾟｰｼﾞ画面切替用No.
CON
ENDS
MRD
AND MR30405              ; (R_TP)ﾘｰｸﾃｽﾀｰ公正ﾓｰﾄﾞ
DW #817 EM29997          ; (R_TP)ﾍﾟｰｼﾞ画面切替用No.
CON
ENDS
MRD
AND MR30407              ; (R_TP)ﾘｰｸﾃｽﾀｰNG調整ﾓｰﾄﾞ
DW #818 EM29997          ; (R_TP)ﾍﾟｰｼﾞ画面切替用No.
CON
ENDS
MPP
AND MR30101              ; (R_TP)手動ﾊﾞﾙﾌﾞON/OFF
DW #801 EM29997          ; (R_TP)ﾍﾟｰｼﾞ画面切替用No.
CON
ENDS
MPP
AND MR310                ; R_原点復帰中
DW #0 EM29997            ; (R_TP)ﾍﾟｰｼﾞ画面切替用No.
CON
ENDS
;<h1/>Err4ﾒﾓﾘｰｶｰﾄﾞｴﾗｰ/Err4 Memory card error
LD MR112                 ; ﾒﾓﾘｶｰﾄﾞｴﾗｰ
ORB CR3213               ; ﾒﾓﾘｶｰﾄﾞあり
ANB MR903                ; R_ｴﾗｰ処理中
ANB @MR100
DW #4 ZF149              ; Rｴﾗｰ画面詳細ﾒｯｾｰｼﾞ
CON
SET MR903                ; R_ｴﾗｰ処理中
CON
SET MR33003              ; R_Err4ﾒﾓﾘｰｶｰﾄﾞｴﾗｰ
CON
@SET @MR100
;TP画面602：ﾒﾓﾘｰｶｰﾄﾞｴﾗｰ詳細/TP screen 602: Memory card error details
STG @MR100
SET MR900                ; 重度異常：電源再投入必要
CON
MPS
ANP MR30200              ; (R_TP)BzRstSw
DW #602 EM29997          ; (R_TP)ﾍﾟｰｼﾞ画面切替用No.
MPP
ANB MR903                ; R_ｴﾗｰ処理中
RES MR112                ; ﾒﾓﾘｶｰﾄﾞｴﾗｰ
CON
RES MR33003              ; R_Err4ﾒﾓﾘｰｶｰﾄﾞｴﾗｰ
CON
ENDS
;<h1/>Err7元圧異常/Err 7 source pressure error
;<<元圧異常>>
;<<Main pressure abnormal>>
LDB R2010                ; 元圧空検出_R
TMR @15 #50
CON
AND @T15
ANB @MR103
ANB MR903                ; R_ｴﾗｰ処理中
DW #7 ZF149              ; Rｴﾗｰ画面詳細ﾒｯｾｰｼﾞ
CON
SET MR903                ; R_ｴﾗｰ処理中
CON
SET MR33006              ; R_Err7元圧異常
CON
@SET @MR103
STG @MR103
MPS
LD MR310                 ; R_原点復帰中
OR MR312                 ; R_自動運転中
OR MR313                 ; R_ﾒﾝﾃ動作中
ANL
SET MR900                ; 重度異常：電源再投入必要
MPP
ANB MR903                ; R_ｴﾗｰ処理中
RES MR33006              ; R_Err7元圧異常
CON
ENDS
;<h1/>Err13ｼﾘﾝﾀﾞｰｾﾝｻｰｴﾗｰ/Err 13 cylinder sensor error
;<<シリンダセンサエラー>>
;<<Cylinder sensor error>>
;ｼﾘﾝﾀﾞｰｾﾝｻｰｴﾗｰ処理/Cylinder sensor error processing
LD CR2008                ; 運転開始時1ｽｷｬﾝON
DW #0 ZF150              ; Rｼﾘﾝﾀﾞｰｴﾗｰ番号
LDB MR312                ; R_自動運転中
CJ #1
LD MR9000                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝR前進
ANB R2214                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝR前進
LD MR9000                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝR前進
AND R2215                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝR後退
ORL
AND ZF824.1
AND= ZF150 #0            ; Rｼﾘﾝﾀﾞｰｴﾗｰ番号
TMR @0 #50
CON
AND @T0
DW #2114 ZF150           ; Rｼﾘﾝﾀﾞｰｴﾗｰ番号
LD MR9001                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝR後退
AND R2214                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝR前進
LD MR9001                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝR後退
ANB R2215                ; ﾏｰｷﾝｸﾞ ﾍﾟﾝR後退
ORL
AND ZF824.1
AND= ZF150 #0            ; Rｼﾘﾝﾀﾞｰｴﾗｰ番号
TMR @1 #50
CON
AND @T1
DW #2115 ZF150           ; Rｼﾘﾝﾀﾞｰｴﾗｰ番号
LABEL #1
LD<> ZF150 #0            ; Rｼﾘﾝﾀﾞｰｴﾗｰ番号
ANB MR903                ; R_ｴﾗｰ処理中
ANB @MR105
DW #13 ZF149             ; Rｴﾗｰ画面詳細ﾒｯｾｰｼﾞ
CON
SET MR903                ; R_ｴﾗｰ処理中
CON
SET MR33012              ; R_Err13ｼﾘﾝﾀﾞｰｾﾝｻｰｴﾗｰ
CON
@SET @MR105
STG @MR105
MPS
ANP MR30200              ; (R_TP)BzRstSw
DW #606 EM29997          ; (R_TP)ﾍﾟｰｼﾞ画面切替用No.
MPP
ANB MR903                ; R_ｴﾗｰ処理中
DW #0 ZF150              ; Rｼﾘﾝﾀﾞｰｴﾗｰ番号
CON
RES MR33012              ; R_Err13ｼﾘﾝﾀﾞｰｾﾝｻｰｴﾗｰ
CON
ENDS
END
ENDH
