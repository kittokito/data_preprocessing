DEVICE:53
;MODULE:Error_NG
;MODULE_TYPE:0
;<h1/>ｴﾗｰ処理部/Error processing unit
LD MR902                 ; ｴﾗｰ
ANB @MR015               ; ｴﾗｰ処理中
SET @MR015               ; ｴﾗｰ処理中
CON
SET @MR000               ; ｴﾗｰ処理開始
;処理開始/Start processing
STG @MR000               ; ｴﾗｰ処理開始
SET MR30115              ; (TP)BzRstSw 表示灯
CON
JMP @MR001
LDP MR30114              ; (TP)BzRstSw
RES MR30115              ; (TP)BzRstSw 表示灯
;ｴﾗｰ画面表示：ﾍﾟｰｼﾞ600/Error screen display: page 600
;解除待ち/Pending wait
STG @MR001
DW #600 EM30001          ; (TP)ﾍﾟｰｼﾞ画面切替用No.
MPS
AND MR30114              ; (TP)BzRstSw
SET MR114                ; NGﾘｾｯﾄ処理ﾌﾞｻﾞｰ解除
MRD
AND LR1000               ; ﾜｰｸNG（ｷｰsw解除必要Err
MPS
AND MR005                ; ﾗﾝﾌﾟ点滅用(0.5S)
OUT MR30408              ; (TP)ｷｰsw要求LP
MPP
AND R1000                ; ｴﾗｰﾘｾｯﾄsw
RES LR1000               ; ﾜｰｸNG（ｷｰsw解除必要Err
CON
SET MR114                ; NGﾘｾｯﾄ処理ﾌﾞｻﾞｰ解除
CON
JMP @MR002
MPP
LDB LR1000               ; ﾜｰｸNG（ｷｰsw解除必要Err
AND MR30114              ; (TP)BzRstSw
ANL
JMP @MR002
;ｽﾀｰﾄsw入力待ち/Wait for start sw input
STG @MR002
OUT MR202                ; ｴﾗｰ解除要求
CON
LD MR21000               ; TP_自動ｽﾀｰﾄSW
OR R4008                 ; START sw
ANL
AND R1014                ; ｴﾘｱｾﾝｻ状態(OFF=遮光)
ANB MR900                ; 重度異常：電源再投入必要
RES R54003               ; RB1 Alarm
CON
RES DM10807.2            ; 一時停止
CON
SET DM10807.3            ; RB1_ALM_res
CON
JMP @MR003
STG @MR003
TMR @6 #5
CON
AND @T6
RES DM10807.3            ; RB1_ALM_res
CON
JMP @MR005
;ｴﾗｰ終了：ﾌﾗｸﾞﾘｾｯﾄ/Error termination: Flag reset
STG @MR005
RES MR902                ; ｴﾗｰ
CON
RES MR114                ; NGﾘｾｯﾄ処理ﾌﾞｻﾞｰ解除
CON
DW #0 DM150              ; ｴﾗｰ番号
CON
RES @MR015               ; ｴﾗｰ処理中
CON
DW #500 EM30001          ; (TP)ﾍﾟｰｼﾞ画面切替用No.
CON
ENDS
;<h1/>Err1 ｴﾘｱｾﾝｻ遮光
LDB R1014                ; ｴﾘｱｾﾝｻ状態(OFF=遮光)
AND MR403                ; ｴﾘｱｾﾝｻ監視中
MEP
DIFU MR404               ; ｴﾘｱｾﾝｻ遮光
LD MR404                 ; ｴﾘｱｾﾝｻ遮光
ANB MR902                ; ｴﾗｰ
RES MR306                ; 自動運転中
CON
RES MR20100              ; AUTO  Select
CON
SET DM10807.2            ; 一時停止
CON
DW #1 DM150              ; ｴﾗｰ番号
CON
SET MR902                ; ｴﾗｰ
CON
SET MR31000              ; Err1ｴﾘｱｾﾝｻ遮光
CON
@SET @MR011
;TP画面602：ﾒﾓﾘｰｶｰﾄﾞｴﾗｰ詳細/TP screen 602: Memory card error details
STG @MR011
ANB MR902                ; ｴﾗｰ
SET DM10807.3            ; RB1_ALM_res
CON
JMP @MR012
STG @MR012
TMR @5 #5
CON
AND @T5
RES DM10807.3            ; RB1_ALM_res
CON
RES DM10807.2            ; 一時停止
CON
ENDS
;<h1/>Err15 RB Controller alaem
LD R54003                ; RB1 Alarm
ANB MR902                ; ｴﾗｰ
SET DM10807.2            ; 一時停止
CON
DW #15 DM150             ; ｴﾗｰ番号
CON
SET MR902                ; ｴﾗｰ
CON
SET MR31014              ; Err15
CON
@SET @MR013
STG @MR013
ANB MR902                ; ｴﾗｰ
SET DM10807.3            ; RB1_ALM_res
CON
JMP @MR014
STG @MR014
TMR @0 #5
CON
AND @T0
RES DM10807.2            ; 一時停止
CON
RES DM10807.3            ; RB1_ALM_res
CON
RES R54003               ; RB1 Alarm
CON
RES MR31014              ; Err15
CON
ENDS
;<h1/>Err4 ﾒﾓﾘｰｶｰﾄﾞｴﾗｰ/Err4 Memory card error
LD MR112                 ; ﾒﾓﾘｶｰﾄﾞｴﾗｰ
ANB MR902                ; ｴﾗｰ
SET MR900                ; 重度異常：電源再投入必要
CON
DW #4 DM150              ; ｴﾗｰ番号
CON
SET MR902                ; ｴﾗｰ
CON
SET MR31003              ; Err4ﾒﾓﾘｰｶｰﾄﾞｴﾗｰ
CON
@SET @MR100
STG @MR100
ANB MR902                ; ｴﾗｰ
RES MR112                ; ﾒﾓﾘｶｰﾄﾞｴﾗｰ
CON
RES MR31003              ; Err4ﾒﾓﾘｰｶｰﾄﾞｴﾗｰ
CON
ENDS
;<h1/>Err7 元圧異常/Err 7 source pressure error
;<<元圧異常>>
;<<Main pressure abnormal>>
LDB R4010                ; 元圧空検出 
TMR @15 #50
CON
AND @T15
ANB MR902                ; ｴﾗｰ
MPS
LD MR304                 ; 原点復帰中
OR MR306                 ; 自動運転中
OR MR307                 ; ﾒﾝﾃ動作中
ANL
SET MR900                ; 重度異常：電源再投入必要
MPP
DW #7 DM150              ; ｴﾗｰ番号
CON
SET MR902                ; ｴﾗｰ
CON
SET MR31006              ; Err7元圧異常
CON
@SET @MR102
STG @MR102
ANB MR902                ; ｴﾗｰ
RES MR31006              ; Err7元圧異常
CON
ENDS
;<h1/>Err2 ﾜｰｸ除材要求  （ｴﾗｰ解除ｷｰ無し）
;Err3 ﾜｰｸ除材要求  （ｴﾗｰ解除ｷｰあり）
LD MR23000               ; 原点復帰 ﾜｰｸ除材要求
TMR @7 #50
CON
AND @T7
ANB MR902                ; ｴﾗｰ
MPS
ANB LR1000               ; ﾜｰｸNG（ｷｰsw解除必要Err
DW #2 DM150              ; ｴﾗｰ番号
CON
SET MR902                ; ｴﾗｰ
CON
RES MR23000              ; 原点復帰 ﾜｰｸ除材要求
CON
SET MR31001              ; Err2
CON
@SET @MR103
MPP
AND LR1000               ; ﾜｰｸNG（ｷｰsw解除必要Err
DW #3 DM150              ; ｴﾗｰ番号
CON
SET MR902                ; ｴﾗｰ
CON
RES MR23000              ; 原点復帰 ﾜｰｸ除材要求
CON
SET MR31002              ; Err3
CON
@SET @MR103
STG @MR103
ANB MR902                ; ｴﾗｰ
SET MR23000              ; 原点復帰 ﾜｰｸ除材要求
CON
RES MR31006              ; Err7元圧異常
CON
ENDS
;<h1/>Err8  ﾋｰﾀｰ1過昇/Err 8 Heater 1 overheat
LDB R008                 ; ﾋｰﾀｰ1ｵｰﾊﾞｰﾋｰﾄ
AND MR305                ; 原点復帰完了
RES MR500                ; ﾋｰﾀｰ1ON
CON
@SET @MR104
STG @MR104
ANB MR902                ; ｴﾗｰ
SET MR900                ; 重度異常：電源再投入必要
CON
DW #8 DM150              ; ｴﾗｰ番号
CON
SET MR902                ; ｴﾗｰ
CON
SET MR31007              ; Err8ﾋｰﾀｰ1過昇
CON
JMP @MR105
STG @MR105
ANB MR902                ; ｴﾗｰ
RES MR31007              ; Err8ﾋｰﾀｰ1過昇
CON
ENDS
;<h1/>Err9ﾋｰﾀｰ2過昇/Err 9 Heater 2 overheat
LDB R009                 ; ﾋｰﾀｰ2ｵｰﾊﾞｰﾋｰﾄ
AND MR305                ; 原点復帰完了
RES MR501                ; ﾋｰﾀｰ2ON
CON
@SET @MR106
STG @MR106
ANB MR902                ; ｴﾗｰ
SET MR900                ; 重度異常：電源再投入必要
CON
DW #9 DM150              ; ｴﾗｰ番号
CON
SET MR902                ; ｴﾗｰ
CON
SET MR31008              ; Err9ﾋｰﾀｰ2過昇
CON
JMP @MR107
STG @MR107
ANB MR902                ; ｴﾗｰ
RES MR31008              ; Err9ﾋｰﾀｰ2過昇
CON
ENDS
;<h1/>Err10ﾋｰﾀｰ3過昇/Err 10 Heater 3 overheat
LDB R010                 ; ﾋｰﾀｰ3ｵｰﾊﾞｰﾋｰﾄ
AND MR305                ; 原点復帰完了
RES MR502                ; ﾋｰﾀｰ3ON
CON
@SET @MR108
STG @MR108
ANB MR902                ; ｴﾗｰ
SET MR900                ; 重度異常：電源再投入必要
CON
DW #10 DM150             ; ｴﾗｰ番号
CON
SET MR902                ; ｴﾗｰ
CON
SET MR31009              ; Err10ﾋｰﾀｰ3過昇
CON
JMP @MR109
STG @MR109
ANB MR902                ; ｴﾗｰ
RES MR31009              ; Err10ﾋｰﾀｰ3過昇
CON
ENDS
;<h1/>Err11ﾋｰﾀｰ4過昇/Err 11 Heater 4 overheat
LDB R011                 ; ﾋｰﾀｰ4ｵｰﾊﾞｰﾋｰﾄ
AND MR305                ; 原点復帰完了
RES MR503                ; ﾋｰﾀｰ4ON
CON
@SET @MR110
STG @MR110
ANB MR902                ; ｴﾗｰ
SET MR900                ; 重度異常：電源再投入必要
CON
DW #11 DM150             ; ｴﾗｰ番号
CON
SET MR902                ; ｴﾗｰ
CON
SET MR31010              ; Err11ﾋｰﾀｰ4過昇
CON
JMP @MR111
STG @MR111
ANB MR902                ; ｴﾗｰ
RES MR31010              ; Err11ﾋｰﾀｰ4過昇
CON
ENDS
;<h1/>Err13ｼﾘﾝﾀﾞｰｾﾝｻｰｴﾗｰ/Err 13 cylinder sensor error
;<<シリンダセンサエラー>>
;<<Cylinder sensor error>>
LDB MR20101              ; MANU  Select
AND= EM31002 #1
LD MR7012                ; ﾊﾟｯｸ首溶着　下降
ANB R4006                ; ﾊﾟｯｸ首溶着 閉限
LD R4007                 ; ﾊﾟｯｸ首溶着 開限
AND R4006                ; ﾊﾟｯｸ首溶着 閉限
ORL
ANL
TMR @1 #50
CON
AND @T1
DW #13 DM150             ; ｴﾗｰ番号
LDB MR20101              ; MANU  Select
LDB MR7012               ; ﾊﾟｯｸ首溶着　下降
ANB R4007                ; ﾊﾟｯｸ首溶着 開限
LD R4007                 ; ﾊﾟｯｸ首溶着 開限
AND R4006                ; ﾊﾟｯｸ首溶着 閉限
ORL
ANL
TMR @2 #50
CON
AND @T2
DW #13 DM150             ; ｴﾗｰ番号
LDB MR20101              ; MANU  Select
AND= EM31002 #1
LD MR7014                ; ﾊﾟｯｸ肩/ﾌｨﾙﾑ 溶着
ANB R4014                ; ﾊﾟｯｸ肩/ﾌｨﾙﾑ 熱溶着閉限
LD R4015                 ; ﾊﾟｯｸ肩/ﾌｨﾙﾑ 熱溶着開限
AND R4014                ; ﾊﾟｯｸ肩/ﾌｨﾙﾑ 熱溶着閉限
ORL
ANL
TMR @3 #50
CON
AND @T3
DW #14 DM150             ; ｴﾗｰ番号
LDB MR20101              ; MANU  Select
LDB MR7014               ; ﾊﾟｯｸ肩/ﾌｨﾙﾑ 溶着
ANB R4015                ; ﾊﾟｯｸ肩/ﾌｨﾙﾑ 熱溶着開限
LD R4015                 ; ﾊﾟｯｸ肩/ﾌｨﾙﾑ 熱溶着開限
AND R4014                ; ﾊﾟｯｸ肩/ﾌｨﾙﾑ 熱溶着閉限
ORL
ANL
TMR @4 #50
CON
AND @T4
DW #14 DM150             ; ｴﾗｰ番号
;ｼﾘﾝﾀﾞｰｾﾝｻｰｴﾗｰ処理/Cylinder sensor error processing
LD= DM150 #14            ; ｴﾗｰ番号
ANB MR902                ; ｴﾗｰ
SET MR902                ; ｴﾗｰ
CON
SET MR31012              ; Err13ｼﾘﾝﾀﾞｰｾﾝｻｰｴﾗｰ
CON
@SET @MR112
LD= DM150 #15            ; ｴﾗｰ番号
ANB MR902                ; ｴﾗｰ
SET MR902                ; ｴﾗｰ
CON
SET MR31013              ; Err14
CON
@SET @MR112
STG @MR112
ANB MR902                ; ｴﾗｰ
RES MR31013              ; Err14
CON
RES MR31012              ; Err13ｼﾘﾝﾀﾞｰｾﾝｻｰｴﾗｰ
CON
ENDS
END
ENDH
