DEVICE:53
;MODULE:Panel
;MODULE_TYPE:0
;SCRIPT_TYPE:
;ﾀｯﾁﾊﾟﾈﾙ表示
LD R54206                ; _割り込みSW押下無効
OR MR20210               ; ﾄﾚｲ交換無し選択ﾌﾗｸﾞ
OR MR20212               ; ﾄﾚｲ給材無し
OUT MR20214              ; 割り込みSW押下無効補助
LD MR20210               ; ﾄﾚｲ交換無し選択ﾌﾗｸﾞ
OR MR20212               ; ﾄﾚｲ給材無し
OUT MR20213              ; ﾊﾟﾈﾙ表示
LD R46100                ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
MC
LD T1017                 ; 段積み部 ﾄﾚｲ有無ONﾃﾞｨﾚｲ
OUT MR9000               ; LD 実P給材可 ULD 実P除材要求表示
LD CR2003                ; 常時OFF
OUT MR9001               ; LD 実P除材要求 ULD 実P給材可表示
LD LR10003               ; ULD ﾄﾚﾁｪﾝ小 選択
AND R5401                ; 上段移載 ﾄﾚｲ搬送ｴﾚﾍﾞｰﾀ側限
LD LR10002               ; ULD ﾄﾚﾁｪﾝ大 選択
AND R4205                ; 上段移載 ﾄﾚｲ搬送ｴﾚﾍﾞｰﾀ側限
ORL
OUT MR9002               ; LD 取出 ULD 取込 ﾄﾚｲ表示
LD LR10003               ; ULD ﾄﾚﾁｪﾝ小 選択
AND R5400                ; 上段移載 ﾄﾚｲ搬送ﾄﾚｲ段積み側限
LD LR10002               ; ULD ﾄﾚﾁｪﾝ大 選択
AND R4204                ; 上段移載 ﾄﾚｲ搬送ﾄﾚｲ段積み側限
ORL
OUT MR9003               ; LD 段ﾊﾞﾗｼ ULD 段積 ﾄﾚｲ表示
LD LR10002               ; ULD ﾄﾚﾁｪﾝ大 選択
AND R5009                ; ﾄﾚｲ収納 上段 ﾄﾚｲ検出
OUT MR9004               ; ｽﾄｯｶ上 実ﾊﾟﾚｯﾄ有り表示
LD LR10002               ; ULD ﾄﾚﾁｪﾝ大 選択
AND R5011                ; ﾄﾚｲ収納 中上段 ﾄﾚｲ検出
OUT MR9005               ; ｽﾄｯｶ中上 実ﾊﾟﾚｯﾄ有り表示
LD LR10002               ; ULD ﾄﾚﾁｪﾝ大 選択
AND R5013                ; ﾄﾚｲ収納 中下段 ﾄﾚｲ検出
OUT MR9006               ; ｽﾄｯｶ中下 実ﾊﾟﾚｯﾄ有り表示
LD LR10003               ; ULD ﾄﾚﾁｪﾝ小 選択
AND R5501                ; 段積み部 ﾄﾚｲ有無
LD LR10002               ; ULD ﾄﾚﾁｪﾝ大 選択
AND R5015                ; ﾄﾚｲ収納 下段 ﾄﾚｲ検出
ORL
OUT MR9007               ; ｽﾄｯｶ下 実ﾊﾟﾚｯﾄ有り表示
LD LR10003               ; ULD ﾄﾚﾁｪﾝ小 選択
ANB R5301                ; ｴﾚﾍﾞｰﾀ  ﾄﾚｲ検出
LD LR10002               ; ULD ﾄﾚﾁｪﾝ大 選択
ANB R4206                ; ｴﾚﾍﾞｰﾀ部 ｻｰﾁﾄﾚｲ検出
ORL
OUT MR9008               ; ｴﾚﾍﾞｰﾀ上 ﾊﾟﾚｯﾄ有り表示
LD CR2003                ; 常時OFF
OUT MR9009               ; 下段ｴﾚﾍﾞｰﾀ側 ﾊﾟﾚｯﾄ有り表示
LD LR10003               ; ULD ﾄﾚﾁｪﾝ小 選択
AND R5100                ; 下段移載 出口ﾄﾚｲ有無
LD LR10002               ; ULD ﾄﾚﾁｪﾝ大 選択
AND R4100                ; 下段移載 出口ﾄﾚｲ有無
ORL
OUT MR9010               ; 下段扉側 ﾊﾟﾚｯﾄ有り表示
LD CR2003                ; 常時OFF
MPS
AND R4508                ; ﾄﾚｲ収納 上段 過積載
OUT MR9011               ; ｽﾄｯｶ上 ﾄﾚｲ満杯表示
MRD
AND R4510                ; ﾄﾚｲ収納 中上段 過積載
OUT MR9012               ; ｽﾄｯｶ中上 ﾄﾚｲ満杯表示
MRD
AND R4512                ; ﾄﾚｲ収納 中下段 過積載
OUT MR9013               ; ｽﾄｯｶ中下 ﾄﾚｲ満杯表示
MPP
AND R4514                ; ﾄﾚｲ収納 下段 過積載
OUT MR9014               ; ｽﾄｯｶ下 ﾄﾚｲ満杯表示
LD CR2003                ; 常時OFF
OUT MR9015               ; LD/ULD ﾄﾚｲ搬送中 矢印表示
LD CR2003                ; 常時OFF
OUT MR9100               ; LD ﾄﾚｲ取出 ULD ﾄﾚｲ取込準備可表示
LD MR21111               ; ﾄﾚｲ交換中
OUT MR9101               ; LD/ULD ﾄﾚｲ交換中表示
LD B2013                 ; ﾒｲﾝへﾜｰｸ取込み可
OUT MR9102               ; LD/ULD ﾜｰｸ取出中表示
LD LR10003               ; ULD ﾄﾚﾁｪﾝ小 選択
AND R5101                ; 下段移載 出口ﾄﾚｲ過積載
LD LR10002               ; ULD ﾄﾚﾁｪﾝ大 選択
AND R4105                ; 下段移載 出口ﾄﾚｲ過積載
ORL
OUT MR9103               ; 下段扉側 ﾊﾟﾚｯﾄ過積載
LD CR2003                ; 常時OFF
OUT MR9104
LD CR2003                ; 常時OFF
OUT MR9105
LD CR2003                ; 常時OFF
OUT MR9106
LD CR2003                ; 常時OFF
OUT MR9107
LD CR2003                ; 常時OFF
OUT MR9108
LD CR2003                ; 常時OFF
OUT MR9109
LD CR2003                ; 常時OFF
OUT MR9110
LD LR10003               ; ULD ﾄﾚﾁｪﾝ小 選択
AND R5502                ; 段積み部 ﾄﾚｲ過積載
LD LR10002               ; ULD ﾄﾚﾁｪﾝ大 選択
AND R4508                ; ﾄﾚｲ収納 上段 過積載
ORL
OUT MR9111               ; ｽﾄｯｶ上 ﾄﾚｲ過積載表示
LD LR10002               ; ULD ﾄﾚﾁｪﾝ大 選択
AND R4510                ; ﾄﾚｲ収納 中上段 過積載
OUT MR9112               ; ｽﾄｯｶ中上 ﾄﾚｲ過積載表示
LD LR10002               ; ULD ﾄﾚﾁｪﾝ大 選択
AND R4512                ; ﾄﾚｲ収納 中下段 過積載
OUT MR9113               ; ｽﾄｯｶ中下 ﾄﾚｲ過積載表示
LD LR10003               ; ULD ﾄﾚﾁｪﾝ小 選択
AND CR2003               ; 常時OFF
LD LR10002               ; ULD ﾄﾚﾁｪﾝ大 選択
AND R4514                ; ﾄﾚｲ収納 下段 過積載
ORL
OUT MR9114               ; ｽﾄｯｶ下 ﾄﾚｲ過積載表示
LD CR2003                ; 常時OFF
OUT MR9115
MCR
;DM24200.L = DM4200.L * 10
;DM24202.L = DM4202.L * 60
;DM24208.L = DM4208.L * 10
;DM24210.L = DM4210.L * 60
;DM24216.L = DM4216.L * 10
;DM24218.L = DM4218.L * 60
;DM24220.L = DM4220.L * 10
;DM24222.L = DM4222.L * 10
LD CR2002                ; 常時ON
NCJ #1001
;DM24200.L = DM4200.L * 10
;
LD CR2002                ; 常時ON
LDA.L DM4200             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
CON
MUL.L +10
CON
STA.L DM24200            ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ *1000
;DM24202.L = DM4202.L * 60
;
LD CR2002                ; 常時ON
LDA.L DM4202             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
CON
MUL.L +60
CON
STA.L DM24202            ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ *1000
;DM24208.L = DM4208.L * 10
;
LD CR2002                ; 常時ON
LDA.L DM4208             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
CON
MUL.L +10
CON
STA.L DM24208            ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ *1000
;DM24210.L = DM4210.L * 60
;
LD CR2002                ; 常時ON
LDA.L DM4210             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
CON
MUL.L +60
CON
STA.L DM24210            ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ *1000
;DM24216.L = DM4216.L * 10
;
LD CR2002                ; 常時ON
LDA.L DM4216             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
CON
MUL.L +10
CON
STA.L DM24216            ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ *100
;DM24218.L = DM4218.L * 60
;
LD CR2002                ; 常時ON
LDA.L DM4218             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
CON
MUL.L +60
CON
STA.L DM24218            ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ *100
;DM24220.L = DM4220.L * 10
;
LD CR2002                ; 常時ON
LDA.L DM4220             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
CON
MUL.L +10
CON
STA.L DM24220            ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ *100
;DM24222.L = DM4222.L * 10
LD CR2002                ; 常時ON
LDA.L DM4222             ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
CON
MUL.L +10
CON
STA.L DM24222            ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ *100
LABEL #1001
;
;'ﾄﾚｲ 無検出用
;DM29000.L = EM31000.L - 800
;DM29002.L = dm29000.L
;
LD CR2002                ; 常時ON
NCJ #1002
;'ﾄﾚｲ 無検出用
;
;DM29000.L = EM31000.L - 800
;
LD CR2002                ; 常時ON
LDA.L EM31000            ; ﾄﾚｲ無し時載台停止位置座標ﾊﾞｯﾌｧ
CON
SUB.L +800
CON
STA.L DM29000
;DM29002.L = dm29000.L
;
LD CR2002                ; 常時ON
MOV.L DM29000 DM29002
LABEL #1002
;
;ZF30000.L = -1500000
;ZF30002.L = +1500000
;ZF30004.L = +1
;ZF30006.L = +500000
;ZF30016.L = -1500000
;ZF30018.L = +1500000
;ZF30020.L = +1
;ZF30022.L = +500000
;ZF30032.L = -1500000
;ZF30034.L = +1500000
;ZF30036.L = +1
;ZF30038.L = +500000
;ZF30040.L = +1
;ZF30042.L = +200000
;ZF30044.L = +1
;ZF30046.L = +20000
LDB CR2002               ; 常時ON
NCJ #1000
;ZF30000.L = -1500000
;
LD CR2002                ; 常時ON
MOV.L -1500000 ZF30000
;ZF30002.L = +1500000
;
LD CR2002                ; 常時ON
MOV.L +1500000 ZF30002
;ZF30004.L = +1
;
LD CR2002                ; 常時ON
MOV.L +1 ZF30004
;ZF30006.L = +500000
;
LD CR2002                ; 常時ON
MOV.L +500000 ZF30006
;ZF30016.L = -1500000
;
LD CR2002                ; 常時ON
MOV.L -1500000 ZF30016
;ZF30018.L = +1500000
;
LD CR2002                ; 常時ON
MOV.L +1500000 ZF30018
;ZF30020.L = +1
;
LD CR2002                ; 常時ON
MOV.L +1 ZF30020
;ZF30022.L = +500000
;
LD CR2002                ; 常時ON
MOV.L +500000 ZF30022
;ZF30032.L = -1500000
;
LD CR2002                ; 常時ON
MOV.L -1500000 ZF30032
;ZF30034.L = +1500000
;
LD CR2002                ; 常時ON
MOV.L +1500000 ZF30034
;ZF30036.L = +1
;
LD CR2002                ; 常時ON
MOV.L +1 ZF30036
;ZF30038.L = +500000
;
LD CR2002                ; 常時ON
MOV.L +500000 ZF30038
;ZF30040.L = +1
;
LD CR2002                ; 常時ON
MOV.L +1 ZF30040
;ZF30042.L = +200000
;
LD CR2002                ; 常時ON
MOV.L +200000 ZF30042
;ZF30044.L = +1
;
LD CR2002                ; 常時ON
MOV.L +1 ZF30044
;ZF30046.L = +20000
LD CR2002                ; 常時ON
MOV.L +20000 ZF30046
LABEL #1000
;
LDB R46100               ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
ZRES LR100 LR103         ; _割り込みSW1　ON/OFF状態  _割り込みSW4　ON/OFF状態
LD MR21910               ; 手 ｻｰﾎﾞ P1移動SW表示灯
OR MR21911               ; 手 ｻｰﾎﾞ P5移動SW表示灯
OR MR21912               ; 手 ｻｰﾎﾞ P6移動SW表示灯
OR MR21915               ; 手 ｻｰﾎﾞ ｻｰﾁ動作SW表示灯
OUT MR21715              ; 手動　動作中
;ｻｲｸﾙﾀｲﾑ計測
LD CR2003                ; 常時OFF
AND R46100               ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
AND MR19910              ; ｻｲｸﾙﾀｲﾑ計測開始
AND CR2004               ; 10msｸﾛｯｸﾊﾟﾙｽ
@INC.D DM20050           ; ｻｲｸﾙﾀｲﾑ計測
LDF MR19910              ; ｻｲｸﾙﾀｲﾑ計測開始
LDA.D DM20050            ; ｻｲｸﾙﾀｲﾑ計測
CON
MUL.D #10
CON
STA.D DM5040             ; _装置ｻｲｸﾙﾀｲﾑ
LD MR24300               ; ｻｲｸﾙﾀｲﾑ計測ON
ANP MR24200              ; ｻｲｸﾙﾀｲﾑｶｳﾝﾄ開始
LDA.D DM5056             ; _処理計測時間8
CON
STA.D DM20100
CON
LDA.D DM5054             ; _処理計測時間7
CON
STA.D DM5056             ; _処理計測時間8
CON
LDA.D DM5052             ; _処理計測時間6
CON
STA.D DM5054             ; _処理計測時間7
CON
LDA.D DM5050             ; _処理計測時間5
CON
STA.D DM5052             ; _処理計測時間6
CON
LDA.D DM5048             ; _処理計測時間4
CON
STA.D DM5050             ; _処理計測時間5
CON
LDA.D DM5046             ; _処理計測時間3
CON
STA.D DM5048             ; _処理計測時間4
CON
LDA.D DM5044             ; _処理計測時間2
CON
STA.D DM5046             ; _処理計測時間3
CON
LDA.D DM5042             ; _処理計測時間1
CON
STA.D DM5044             ; _処理計測時間2
;dm5058.d = (dm5042.d + dm5044.d + dm5046.d + dm5048.d + dm5050.d + dm5052.d + dm5054.d + dm5056.d )/8
;
LD MR24300               ; ｻｲｸﾙﾀｲﾑ計測ON
ANP MR24200              ; ｻｲｸﾙﾀｲﾑｶｳﾝﾄ開始
NCJ #1003
;dm5058.d = (dm5042.d + dm5044.d + dm5046.d + dm5048.d + dm5050.d + dm5052.d + dm5054.d + dm5056.d )/8
;
LD CR2002                ; 常時ON
LDA.L DM5042             ; _処理計測時間1
CON
ADD.L DM5044             ; _処理計測時間2
CON
ADD.L DM5046             ; _処理計測時間3
CON
ADD.L DM5048             ; _処理計測時間4
CON
ADD.L DM5050             ; _処理計測時間5
CON
ADD.L DM5052             ; _処理計測時間6
CON
ADD.L DM5054             ; _処理計測時間7
CON
ADD.L DM5056             ; _処理計測時間8
CON
EXT.L
CON
DIV.L +8
CON
STA.D DM5058             ; _処理計測時間9
LABEL #1003
;
LD R46100                ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
AND MR24200              ; ｻｲｸﾙﾀｲﾑｶｳﾝﾄ開始
@DW.D #0 DM20060         ; ｻｲｸﾙﾀｲﾑ計測
CON
AND CR2004               ; 10msｸﾛｯｸﾊﾟﾙｽ
RES MR24300              ; ｻｲｸﾙﾀｲﾑ計測ON
CON
@INC.D DM20060           ; ｻｲｸﾙﾀｲﾑ計測
LDF MR24200              ; ｻｲｸﾙﾀｲﾑｶｳﾝﾄ開始
SET MR24300              ; ｻｲｸﾙﾀｲﾑ計測ON
CON
LDA.D DM20060            ; ｻｲｸﾙﾀｲﾑ計測
CON
MUL.D #10
CON
STA.D DM5042             ; _処理計測時間1
LDP MR24202              ; ｻｲｸﾙﾀｲﾑﾘｾｯﾄ
DW.D #0 DM5042           ; _処理計測時間1
CON
DW.D #0 DM5044           ; _処理計測時間2
CON
DW.D #0 DM5046           ; _処理計測時間3
CON
DW.D #0 DM5048           ; _処理計測時間4
CON
DW.D #0 DM5050           ; _処理計測時間5
CON
DW.D #0 DM5052           ; _処理計測時間6
CON
DW.D #0 DM5054           ; _処理計測時間7
CON
DW.D #0 DM5056           ; _処理計測時間8
CON
DW.D #0 DM5058           ; _処理計測時間9
LDF R46100               ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
RES MR24300              ; ｻｲｸﾙﾀｲﾑ計測ON
END
ENDH
