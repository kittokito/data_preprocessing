DEVICE:53
;MODULE:UT1
;MODULE_TYPE:0
;UT1 ÉèÅ[ÉNìäì¸
;îÒèÌí‚é~
;Emergency Stop
LD R50010                ; Emaegency Stop
OR @MR001
ZRES @MR002 @MR3415      ; STEP Operation finish
CON
OUT @MR001
TMR @0 #5
LD @T0
MDSTOP UT1
;Cell1 Power ON Check (Until Auto RUN)
LDB MR700                ; Upper stream non H/S
AND R50001               ; AUTO mode
ANB B2011                ; from up  Emergency Stop
MPS
@ZRES @MR2101 @MR2215
CON
@RES B2004               ; to up  Operation ok
CON
@RES B2007               ; to up  AuOperation OK
CON
@RES MR401               ; UT1 work detection/data check 
CON
@RES @MR800              ; UT1 PACK
CON
@SET @MR2100
MPP
@DW #0 DM20100           ; UT1-1 Work detection
CON
@DW #0 DM20102           ; UT1-2 Work detection
;<h1/>HOME
LD R50003                ; HOME mode
ANB R50201               ; UT1 Do
SET R50201               ; UT1 Do
CON
SET @MR1003              ; Home Return Start
LDB R50003               ; HOME mode
ANB R50001               ; AUTO mode
ANB R50002               ; STEP mode
AND @MR1015              ; Home Return Finish
RES R50201               ; UT1 Do
CON
RES @MR1015              ; Home Return Finish
STG @MR1003              ; Home Return Start
ANB R50300               ; Pause
SET R51901               ; UT1 1cycle finished
CON
SET @MR1015              ; Home Return Finish
CON
ENDS
;<h1/>AUTO
LD R50001                ; AUTO mode
ANB R50201               ; UT1 Do
ANB @MR2001              ; Auto Oparation
SET R50201               ; UT1 Do
CON
SET @MR2000              ; UT1 AUTO START
LDB R50003               ; HOME mode
ANB R50001               ; AUTO mode
ANB R50002               ; STEP mode
AND @MR2915              ; Auto finish
RES @MR2001              ; Auto Oparation
CON
RES R50201               ; UT1 Do
CON
RES @MR2915              ; Auto finish
STG @MR2000              ; UT1 AUTO START
AND R50209               ; Operation Start
SET @MR2001              ; Auto Oparation
CON
JMP @MR2005
STG @MR2005
MPS
LD= DM20100 #0           ; UT1-1 Work detection
AND= DM20102 #0          ; UT1-2 Work detection
ANB R4800                ; INDEX chuck 1-1 work existence
ANB R4801                ; INDEX chuck 1-2 work existence
ANB R50300               ; Pause
ANB R50111               ; UT1 Error
ANL
JMP @MR2100
MPP
LD= DM20100 #1           ; UT1-1 Work detection
AND= DM20102 #1          ; UT1-2 Work detection
LD R4800                 ; INDEX chuck 1-1 work existence
AND R4801                ; INDEX chuck 1-2 work existence
LDB MR700                ; Upper stream non H/S
AND MR714                ; Non Shrink film
ORL
ANL
LD= DM20100 #1           ; UT1-1 Work detection
AND= DM20100 #0          ; UT1-1 Work detection
LD R4800                 ; INDEX chuck 1-1 work existence
OR MR714                 ; Non Shrink film
ANL
ANB R4801                ; INDEX chuck 1-2 work existence
ORL
LD= DM20100 #0           ; UT1-1 Work detection
AND= DM20102 #1          ; UT1-2 Work detection
ANB R4800                ; INDEX chuck 1-1 work existence
LD R4801                 ; INDEX chuck 1-2 work existence
OR MR714                 ; Non Shrink film
ANL
ORL
ANB R50300               ; Pause
ANB R50111               ; UT1 Error
ANL
JMP @MR2910
;í èÌìÆçÏ
;Ordinary Movement
STG @MR2100
ANB R50300               ; Pause
ANB R50111               ; UT1 Error
LDA #8
CON
ADD EM1202               ; Main INDEX current POS
CON
STA DM19100              ; UT1 chuck No.
CON
JMP @MR2101
STG @MR2101
ANB R50300               ; Pause
ANB R50111               ; UT1 Error
MPS
LD>= DM19100 #1          ; UT1 chuck No.
AND<= DM19100 #8         ; UT1 chuck No.
ANL
JMP @MR2102
MPP
AND> DM19100 #8          ; UT1 chuck No.
LDA DM19100              ; UT1 chuck No.
CON
SUB #8
CON
STA DM19100              ; UT1 chuck No.
CON
JMP @MR2102
STG @MR2102
ANB R50300               ; Pause
ANB R50111               ; UT1 Error
MPS
AND= DM19100 #1          ; UT1 chuck No.
RES MR7800               ; INDEX chuck1 close
CON
SET MR7801               ; INDEX chuck1 open
CON
JMP @MR2103
MRD
AND= DM19100 #2          ; UT1 chuck No.
RES MR7802               ; INDEX chuck2 close
CON
SET MR7803               ; INDEX chuck2 open
CON
JMP @MR2103
MRD
AND= DM19100 #3          ; UT1 chuck No.
RES MR7804               ; INDEX chuck3 close
CON
SET MR7805               ; INDEX chuck3 open
CON
JMP @MR2103
MRD
AND= DM19100 #4          ; UT1 chuck No.
RES MR7806               ; INDEX chuck4 close
CON
SET MR7807               ; INDEX chuck4 open
CON
JMP @MR2103
MRD
AND= DM19100 #5          ; UT1 chuck No.
RES MR7808               ; INDEX chuck5 close
CON
SET MR7809               ; INDEX chuck5 open
CON
JMP @MR2103
MRD
AND= DM19100 #6          ; UT1 chuck No.
RES MR7810               ; INDEX chuck6 close
CON
SET MR7811               ; INDEX chuck6 open
CON
JMP @MR2103
MRD
AND= DM19100 #7          ; UT1 chuck No.
RES MR7812               ; INDEX chuck7 close
CON
SET MR7813               ; INDEX chuck7 open
CON
JMP @MR2103
MPP
AND= DM19100 #8          ; UT1 chuck No.
RES MR7814               ; INDEX chuck8 close
CON
SET MR7815               ; INDEX chuck8 open
CON
JMP @MR2103
LD CR2002                ; Normal ON
LD= DM19100 #1           ; UT1 chuck No.
ANB MR7800               ; INDEX chuck1 close
AND MR7801               ; INDEX chuck1 open
LD= DM19100 #2           ; UT1 chuck No.
ANB MR7802               ; INDEX chuck2 close
AND MR7803               ; INDEX chuck2 open
ORL
LD= DM19100 #3           ; UT1 chuck No.
ANB MR7804               ; INDEX chuck3 close
AND MR7805               ; INDEX chuck3 open
ORL
LD= DM19100 #4           ; UT1 chuck No.
ANB MR7806               ; INDEX chuck4 close
AND MR7807               ; INDEX chuck4 open
ORL
LD= DM19100 #5           ; UT1 chuck No.
ANB MR7808               ; INDEX chuck5 close
AND MR7809               ; INDEX chuck5 open
ORL
LD= DM19100 #6           ; UT1 chuck No.
ANB MR7810               ; INDEX chuck6 close
AND MR7811               ; INDEX chuck6 open
ORL
LD= DM19100 #7           ; UT1 chuck No.
ANB MR7812               ; INDEX chuck7 close
AND MR7813               ; INDEX chuck7 open
ORL
LD= DM19100 #8           ; UT1 chuck No.
ANB MR7814               ; INDEX chuck8 close
AND MR7815               ; INDEX chuck8 open
ORL
ANL
TMR @1 #3
STG @MR2103
ANB R50300               ; Pause
ANB R50111               ; UT1 Error
AND @T1
JMP @MR2200
STG @MR2200
ANB R50300               ; Pause
ANB R50111               ; UT1 Error
ANB R4800                ; INDEX chuck 1-1 work existence
ANB R4801                ; INDEX chuck 1-2 work existence
AND= DM20100 #0          ; UT1-1 Work detection
AND= DM20102 #0          ; UT1-2 Work detection
ANB R50200               ; INDEX Do
ANB MR1011               ; Main index moving
JMP @MR2201
STG @MR2201
ANB R50300               ; Pause
ANB R50111               ; UT1 Error
ANB B2013                ; from up  Operation Start 
MPS
LDB MR700                ; Upper stream non H/S
ANB MR000                ; debug FLG
ANL
SET MR401                ; UT1 work detection/data check 
CON
SET B2004                ; to up  Operation ok
CON
JMP @MR2202
MPP
LD MR700                 ; Upper stream non H/S
OR MR000                 ; debug FLG
ANL
SET MR401                ; UT1 work detection/data check 
CON
JMP @MR2202
STG @MR2202
MPS
LDB MR700                ; Upper stream non H/S
AND B2011                ; from up  Emergency Stop
AND B2013                ; from up  Operation Start 
LD MR700                 ; Upper stream non H/S
LD R4800                 ; INDEX chuck 1-1 work existence
OR R4801                 ; INDEX chuck 1-2 work existence
ANL
AND R1001                ; START SW
ORL
ANL
SET @MR800               ; UT1 PACK
CON
RES B2004                ; to up  Operation ok
CON
JMP @MR2203
MPP
LDB MR700                ; Upper stream non H/S
LDB B2011                ; from up  Emergency Stop
ORB B2013                ; from up  Operation Start 
ANL
LDB B2019                ; from up  Operation Sta  ON LINE
OR R50000                ; HOLD
OR MR000                 ; debug FLG
ANL
LD MR10000               ; INDEX work detect
OR R50000                ; HOLD
ANL
LD MR700                 ; Upper stream non H/S
ANB R4800                ; INDEX chuck 1-1 work existence
ANB R4801                ; INDEX chuck 1-2 work existence
LD R1001                 ; START SW
AND MR10000              ; INDEX work detect
OR R50000                ; HOLD
ANL
ORL
ANL
RES B2004                ; to up  Operation ok
CON
TMR @5 #25
CON
AND @T5
TMR @6 #0
CON
AND @T6
LD B2012                 ; from up  Interlock
OR MR700                 ; Upper stream non H/S
ANL
RES MR401                ; UT1 work detection/data check 
CON
JMP @MR2910
LD @MR2202
ANB MR700                ; Upper stream non H/S
ANB B2013                ; from up  Operation Start 
AND B2019                ; from up  Operation Sta  ON LINE
LDB MR10000              ; INDEX work detect
OR MR10000               ; INDEX work detect
ANL
@SET B2004               ; to up  Operation ok
STG @MR2203
MPS
LDB MR700                ; Upper stream non H/S
AND B2019                ; from up  Operation Sta  ON LINE
AND B2016                ; from up  Operati  AuOper Start 
OR MR700                 ; Upper stream non H/S
ANL
MPS
AND= DM19100 #1          ; UT1 chuck No.
RES MR7801               ; INDEX chuck1 open
CON
SET MR7800               ; INDEX chuck1 close
CON
JMP @MR2209
MRD
AND= DM19100 #2          ; UT1 chuck No.
RES MR7803               ; INDEX chuck2 open
CON
SET MR7802               ; INDEX chuck2 close
CON
JMP @MR2209
MRD
AND= DM19100 #3          ; UT1 chuck No.
RES MR7805               ; INDEX chuck3 open
CON
SET MR7804               ; INDEX chuck3 close
CON
JMP @MR2209
MRD
AND= DM19100 #4          ; UT1 chuck No.
RES MR7807               ; INDEX chuck4 open
CON
SET MR7806               ; INDEX chuck4 close
CON
JMP @MR2209
MRD
AND= DM19100 #5          ; UT1 chuck No.
RES MR7809               ; INDEX chuck5 open
CON
SET MR7808               ; INDEX chuck5 close
CON
JMP @MR2209
MRD
AND= DM19100 #6          ; UT1 chuck No.
RES MR7811               ; INDEX chuck6 open
CON
SET MR7810               ; INDEX chuck6 close
CON
JMP @MR2209
MRD
AND= DM19100 #7          ; UT1 chuck No.
RES MR7813               ; INDEX chuck7 open
CON
SET MR7812               ; INDEX chuck7 close
CON
JMP @MR2209
MPP
AND= DM19100 #8          ; UT1 chuck No.
RES MR7815               ; INDEX chuck8 open
CON
SET MR7814               ; INDEX chuck8 close
CON
JMP @MR2209
MPP
LDB MR700                ; Upper stream non H/S
ANB B2019                ; from up  Operation Sta  ON LINE
ANL
JMP @MR2201
STG @MR2209
TMR @2 #0
CON
AND @T2
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
SET B2007                ; to up  AuOperation OK
CON
JMP @MR2210
STG @MR2210
MPS
LDB MR700                ; Upper stream non H/S
AND B2019                ; from up  Operation Sta  ON LINE
ANB B2016                ; from up  Operati  AuOper Start 
OR MR700                 ; Upper stream non H/S
ANL
RES B2007                ; to up  AuOperation OK
CON
JMP @MR2211
MPP
LDB MR700                ; Upper stream non H/S
ANB B2019                ; from up  Operation Sta  ON LINE
ANL
RES B2007                ; to up  AuOperation OK
CON
JMP @MR2201
STG @MR2211
MPS
ANB MR700                ; Upper stream non H/S
MPS
AND B2019                ; from up  Operation Sta  ON LINE
MPS
LD B2010                 ; from up work1 exsistance
AND B201F                ; from up  Opera work1 exsistance
ANL
DW #1 DM20100            ; UT1-1 Work detection
CON
DW #1 DM20102            ; UT1-2 Work detection
CON
JMP @MR2204
MRD
LDB B2010                ; from up work1 exsistance
AND B201F                ; from up  Opera work1 exsistance
ANL
DW #1 DM20100            ; UT1-1 Work detection
CON
JMP @MR2204
MPP
LD B2010                 ; from up work1 exsistance
ANB B201F                ; from up  Opera work1 exsistance
ANL
DW #1 DM20102            ; UT1-2 Work detection
CON
JMP @MR2204
MPP
ANB B2019                ; from up  Operation Sta  ON LINE
DW #0 DM20100            ; UT1-1 Work detection
CON
DW #0 DM20102            ; UT1-2 Work detection
CON
JMP @MR2201
MPP
AND MR700                ; Upper stream non H/S
MPS
LD R4800                 ; INDEX chuck 1-1 work existence
AND R4801                ; INDEX chuck 1-2 work existence
ANL
DW #1 DM20100            ; UT1-1 Work detection
CON
DW #1 DM20102            ; UT1-2 Work detection
CON
JMP @MR2204
MRD
LD R4800                 ; INDEX chuck 1-1 work existence
ANB R4801                ; INDEX chuck 1-2 work existence
ANL
DW #1 DM20100            ; UT1-1 Work detection
CON
JMP @MR2204
MPP
LDB R4800                ; INDEX chuck 1-1 work existence
AND R4801                ; INDEX chuck 1-2 work existence
ANL
DW #1 DM20102            ; UT1-2 Work detection
CON
JMP @MR2204
STG @MR2204
MPS
LDB MR700                ; Upper stream non H/S
AND B2019                ; from up  Operation Sta  ON LINE
AND B2011                ; from up  Emergency Stop
ANB B2013                ; from up  Operation Start 
OR MR700                 ; Upper stream non H/S
ANL
RES MR401                ; UT1 work detection/data check 
CON
RES @MR800               ; UT1 PACK
CON
JMP @MR2205
MPP
LDB MR700                ; Upper stream non H/S
ANB B2019                ; from up  Operation Sta  ON LINE
ANL
RES MR401                ; UT1 work detection/data check 
CON
RES @MR800               ; UT1 PACK
CON
DW #0 DM20100            ; UT1-1 Work detection
CON
DW #0 DM20102            ; UT1-2 Work detection
CON
JMP @MR2201
STG @MR2205
ANB R50300               ; Pause
ANB R50111               ; UT1 Error
LD= DM20100 #1           ; UT1-1 Work detection
AND= DM20102 #1          ; UT1-2 Work detection
LD R4800                 ; INDEX chuck 1-1 work existence
AND R4801                ; INDEX chuck 1-2 work existence
LDB MR700                ; Upper stream non H/S
AND MR714                ; Non Shrink film
ORL
ANL
LD= DM20100 #1           ; UT1-1 Work detection
AND= DM20102 #0          ; UT1-2 Work detection
LD R4800                 ; INDEX chuck 1-1 work existence
OR MR714                 ; Non Shrink film
ANL
ANB R4801                ; INDEX chuck 1-2 work existence
ORL
LD= DM20100 #0           ; UT1-1 Work detection
AND= DM20102 #1          ; UT1-2 Work detection
ANB R4800                ; INDEX chuck 1-1 work existence
LD R4801                 ; INDEX chuck 1-2 work existence
OR MR714                 ; Non Shrink film
ANL
ORL
ANL
JMP @MR2206
STG @MR2206
ANB R50300               ; Pause
ANB R50111               ; UT1 Error
MPS
LD= DM20100 #1           ; UT1-1 Work detection
AND= DM20102 #1          ; UT1-2 Work detection
ANL
@INC DM5000              ; Input Counter
CON
@INC DM5000              ; Input Counter
CON
JMP @MR2207
MPP
LD= DM20100 #1           ; UT1-1 Work detection
AND= DM20102 #0          ; UT1-2 Work detection
LD= DM20100 #0           ; UT1-1 Work detection
AND= DM20102 #1          ; UT1-2 Work detection
ORL
ANL
@INC DM5000              ; Input Counter
CON
JMP @MR2207
STG @MR2207
LD B2012                 ; from up  Interlock
OR MR700                 ; Upper stream non H/S
ANL
JMP @MR2910
;ìÆçÏèIóπ
;An End of Operation
STG @MR2910
ANB R50300               ; Pause
ANB R50111               ; UT1 Error
MPS
AND R50001               ; AUTO mode
SET R51901               ; UT1 1cycle finished
CON
JMP @MR2911
MPP
AND R50002               ; STEP mode
SET R50009               ; HOLDRQ
CON
SET R51901               ; UT1 1cycle finished
CON
JMP @MR2911
STG @MR2911
ANB R50209               ; Operation Start
MPS
AND R50001               ; AUTO mode
MPS
LDB R50000               ; HOLD
AND R50409               ; Cycyle Finished
ANL
SET @MR2000              ; UT1 AUTO START
CON
ENDS
MPP
AND R50000               ; HOLD
JMP @MR2912
MPP
LD R50002                ; STEP mode
AND R50000               ; HOLD
ANL
JMP @MR2912
;èIóπèàóù
;Processing of end
STG @MR2912
ANB R50300               ; Pause
ANB R50111               ; UT1 Error
MPS
AND @MR2001              ; Auto Oparation
SET @MR2915              ; Auto finish
CON
ENDS
MPP
AND @MR006               ; STEP Oparation
RES @MR006               ; STEP Oparation
CON
SET @MR3415              ; STEP Operation finish
CON
ENDS
;<h1/>STEP
LD R50002                ; STEP mode
ANB R50300               ; Pause
ANB R50201               ; UT1 Do
SET @MR006               ; STEP Oparation
CON
SET R50201               ; UT1 Do
CON
SET @MR3400
LDB R50003               ; HOME mode
ANB R50001               ; AUTO mode
ANB R50002               ; STEP mode
AND @MR3415              ; STEP Operation finish
RES R50201               ; UT1 Do
CON
RES @MR3415              ; STEP Operation finish
STG @MR3400
ANB R50300               ; Pause
ANB R50111               ; UT1 Error
MPS
AND LR40200              ; STEP UT1-0 selection lamp
JMP @MR3401
MPP
ANB LR40200              ; STEP UT1-0 selection lamp
JMP @MR3401
STG @MR3401
ANB R50300               ; Pause
ANB R50111               ; UT1 Error
JMP @MR2910
;<h1/>UT1 Œﬂ∞Ωﬁã÷é~
;UT1 Pause Prohibition
LDB @MR800               ; UT1 PACK
INV
OUT R50101               ; PACK UT1
END
ENDH
