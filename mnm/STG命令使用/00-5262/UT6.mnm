DEVICE:53
;MODULE:UT6
;MODULE_TYPE:0
;UT6 ｷｬｯﾌﾟP&P
;UT6 
;
;非常停止
;Emergency Stop
LD R50010                ; Emaegency Stop
OR @MR001
ZRES @MR002 @MR3915      ; STEP oparation finish
CON
OUT @MR001
TMR @0 #5
LD @T0
MDSTOP UT6
;<h1/>HOME
LD R50003                ; HOME mode
ANB R51806               ; UT6 Do
SET R51806               ; UT6 Do
CON
SET @MR1003              ; HOME return oparation
LDB R50003               ; HOME mode
ANB R50001               ; AUTO mode
ANB R50002               ; STEP mode
AND @MR1015              ; HOME return finish
RES R51806               ; UT6 Do
CON
RES @MR1015              ; HOME return finish
STG @MR1003              ; HOME return oparation
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
RES R50411
CON
MPS
ANB DM10579.1            ; RB10 CAP PP home Complete
JMP @MR1004
MPP
AND DM10579.1            ; RB10 CAP PP home Complete
JMP @MR1006
STG @MR1004
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
ANB DM10579.1            ; RB10 CAP PP home Complete
DW #99 EM1318            ; RB10 CAP PP terget POS
CON
AND MR3009               ; RB10 CAP PP start I/L
SET R35908               ; RB10 CAP PP origin
CON
JMP @MR1005
STG @MR1005
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
AND R35909               ; RB10 CAP PP origin
AND DM10579.1            ; RB10 CAP PP home Complete
AND= EM1319 #1           ; RB10 CAP PP current POS
RES R35909               ; RB10 CAP PP origin
CON
JMP @MR1006
STG @MR1006
ANB MR5201               ; RB10 CAP PP up moving complete
SET @MR800               ; Pause disable
CON
SET MR5200               ; RB10 CAP PP up moving request
CON
JMP @MR1007
STG @MR1007
AND MR5201               ; RB10 CAP PP up moving complete
RES @MR800               ; Pause disable
CON
RES MR5201               ; RB10 CAP PP up moving complete
CON
JMP @MR1008
STG @MR1008
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
RES MR8210               ; CAP SET chuck rotation 1-1 CW
CON
SET MR8211               ; CAP SET chuck rotation 1-1 CCW
CON
RES MR8212               ; CAP SET chuck rotation 1-2 CW
CON
SET MR8213               ; CAP SET chuck rotation 1-2 CCW
CON
RES MR8214               ; CAP SET chuck rotation 2-1 CW
CON
SET MR8215               ; CAP SET chuck rotation 2-1 CCW
CON
RES MR8300               ; CAP SET chuck rotation 2-2 CW
CON
SET MR8301               ; CAP SET chuck rotation 2-2 CCW
CON
RES MR8302               ; CAP SET Separator upper forward
CON
SET MR8303               ; CAP SET Separator upper back
CON
RES MR8304               ; CAP SET Separator lower forward
CON
SET MR8305               ; CAP SET Separator lower back
CON
SET MR8313               ; Cap separator Down
CON
RES MR8312               ; Cap separator Up
CON
JMP @MR1009
STG @MR1009
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
AND R5213                ; CAP set chuck rotation 1-1 CCW
AND R5215                ; CAP set chuck rotation 1-2 CCW
AND R5301                ; CAP set chuck rotation 2-1 CCW
AND R5303                ; CAP set chuck rotation 2-2 CCW
AND R5305                ; CAP Separator upper backward lim
AND R5307                ; CAP Separator lower backward lim
AND R5615                ; CAP separator Lower limit
ANB R5614                ; CAP separator Upper limit
JMP @MR1010
STG @MR1010
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
MPS
ANB MR708                ; UT6 CAP OK marking judge invalid
RES MR8402               ; Liner feeder Cap Clanp forward
CON
SET MR8403               ; Liner feeder Cap Clanp backward
CON
AND R4700                ; Liner feeder cap clamp back limi
ANB R4701                ; Liner feeder cap clamp forward l
JMP @MR1011
MPP
AND MR708                ; UT6 CAP OK marking judge invalid
JMP @MR1011
STG @MR1011
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
SET R51906               ; UT6 1cycle finished
CON
SET @MR1015              ; HOME return finish
CON
ENDS
;<h1/>AUTO
LD R50001                ; AUTO mode
ANB R51806               ; UT6 Do
ANB @MR2001              ; AUTO oparation
SET R51806               ; UT6 Do
CON
SET @MR2000              ; UT6 AUTO START
LDB R50003               ; HOME mode
ANB R50001               ; AUTO mode
ANB R50002               ; STEP mode
AND @MR2915              ; Auto oparation finish
RES @MR2001              ; AUTO oparation
CON
RES R51806               ; UT6 Do
CON
RES @MR2915              ; Auto oparation finish
STG @MR2000              ; UT6 AUTO START
AND R50209               ; Operation Start
SET @MR2001              ; AUTO oparation
CON
JMP @MR2003
LDB R4808                ; INDEX chuck 5-1 work existence
ANB R4809                ; INDEX chuck 5-2 work existence
ANB R4810                ; INDEX chuck 6-1 work existence
ANB R4811                ; INDEX chuck 6-2 work existence
OUT @MR2515              ; 5.6UT NO work 
;チャック位置確認
STG @MR2003
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
LDA #3
CON
ADD EM1202               ; Main INDEX current POS
CON
STA DM19600              ; UT6 chuck No.
CON
JMP @MR2004
STG @MR2004
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
MPS
LD>= DM19600 #1          ; UT6 chuck No.
AND<= DM19600 #8         ; UT6 chuck No.
ANL
JMP @MR2505
MPP
AND> DM19600 #8          ; UT6 chuck No.
LDA DM19600              ; UT6 chuck No.
CON
SUB #8
CON
STA DM19600              ; UT6 chuck No.
CON
JMP @MR2505
;
STG @MR2505
MPS
AND LR41100              ; AC Parameter 0(Normal mode)
JMP @MR2005
MRD
AND LR41102              ; AC Parameter 2(UT6-8 only)
MPS
LD<> DM20600 #0          ; UT6-1 Work detection
AND<> DM20602 #0         ; UT6-2 Work detection
AND R4810                ; INDEX chuck 6-1 work existence
AND R4811                ; INDEX chuck 6-2 work existence
ANL
JMP @MR2506
MRD
LD<> DM20600 #0          ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
AND R4810                ; INDEX chuck 6-1 work existence
ANB R4811                ; INDEX chuck 6-2 work existence
ANL
JMP @MR2507
MRD
LD= DM20600 #0           ; UT6-1 Work detection
AND<> DM20602 #0         ; UT6-2 Work detection
ANB R4810                ; INDEX chuck 6-1 work existence
AND R4811                ; INDEX chuck 6-2 work existence
ANL
JMP @MR2508
MRD
LD= DM20600 #0           ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
LD<> DM20500 #0          ; UT5-1 Work detection
OR<> DM20502 #0          ; UT5-2 Work detection
ANL
ANB R4810                ; INDEX chuck 6-1 work existence
ANB R4811                ; INDEX chuck 6-2 work existence
ANL
JMP @MR2005
MPP
LD= DM20600 #0           ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
AND= DM20500 #0          ; UT5-1 Work detection
AND= DM20502 #0          ; UT5-2 Work detection
AND @MR2515              ; 5.6UT NO work 
ANL
JMP @MR2910              ; oparation finish
MRD
LD LR41101               ; AC Parameter 1(UT6.7 non action)
OR LR41107               ; AC Parameter 7(UT8 only)
ANL
JMP @MR2910              ; oparation finish
MPP
LDB LR41100              ; AC Parameter 0(Normal mode)
ANB LR41101              ; AC Parameter 1(UT6.7 non action)
ANB LR41102              ; AC Parameter 2(UT6-8 only)
ANB LR41107              ; AC Parameter 7(UT8 only)
ANL
JMP @MR2005
STG @MR2506
DW #5 DM20600            ; UT6-1 Work detection
CON
DW #5 DM20602            ; UT6-2 Work detection
CON
JMP @MR2005
STG @MR2507
DW #5 DM20600            ; UT6-1 Work detection
CON
JMP @MR2005
STG @MR2508
DW #5 DM20602            ; UT6-2 Work detection
CON
JMP @MR2005
STG @MR2005
ANB MR415                ; UT6 Cap set Ready OK
MPS
LD= DM20600 #5           ; UT6-1 Work detection
AND= DM20602 #5          ; UT6-2 Work detection
LD R4810                 ; INDEX chuck 6-1 work existence
AND R4811                ; INDEX chuck 6-2 work existence
LDB MR700                ; Upper stream non H/S
AND MR714                ; Non Shrink film
ORL
ANL
LD= DM20600 #5           ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
LD R4810                 ; INDEX chuck 6-1 work existence
OR MR714                 ; Non Shrink film
ANL
ANB R4811                ; INDEX chuck 6-2 work existence
ORL
LD= DM20600 #0           ; UT6-1 Work detection
AND= DM20602 #5          ; UT6-2 Work detection
ANB R4810                ; INDEX chuck 6-1 work existence
LD R4811                 ; INDEX chuck 6-2 work existence
OR MR714                 ; Non Shrink film
ANL
ORL
LD= DM20600 #0           ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
LD<> DM20500 #0          ; UT5-1 Work detection
OR<> DM20502 #0          ; UT5-2 Work detection
ANL
LDB R4810                ; INDEX chuck 6-1 work existence
ANB R4811                ; INDEX chuck 6-2 work existence
LDB MR700                ; Upper stream non H/S
AND MR714                ; Non Shrink film
ORL
ANL
ORL
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
ANL
SET MR106                ; 6UT index rotation Prohibited
CON
SET MR406                ; UT6 work detection/data check 
CON
JMP @MR2100              ; normal oparation
MPP
LD= DM20600 #0           ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
AND= DM20500 #0          ; UT5-1 Work detection
AND= DM20502 #0          ; UT5-2 Work detection
LDB R4808                ; INDEX chuck 5-1 work existence
ANB R4809                ; INDEX chuck 5-2 work existence
ANB R4810                ; INDEX chuck 6-1 work existence
ANB R4811                ; INDEX chuck 6-2 work existence
LDB MR700                ; Upper stream non H/S
AND MR714                ; Non Shrink film
ORL
ANL
LD= DM20600 #6           ; UT6-1 Work detection
AND= DM20602 #6          ; UT6-2 Work detection
AND R4810                ; INDEX chuck 6-1 work existence
AND R4811                ; INDEX chuck 6-2 work existence
ORL
LD= DM20600 #6           ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
AND R4810                ; INDEX chuck 6-1 work existence
ANB R4811                ; INDEX chuck 6-2 work existence
ORL
LD= DM20600 #0           ; UT6-1 Work detection
AND= DM20602 #6          ; UT6-2 Work detection
ANB R4810                ; INDEX chuck 6-1 work existence
AND R4811                ; INDEX chuck 6-2 work existence
ORL
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
ANL
JMP @MR2910              ; oparation finish
;通常動作
;Ordinary Movement
STG @MR2100              ; normal oparation
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
ANB @MR2800
MPS
LDB @MR3012
ANB @MR3300
ANL
SET @MR3000              ; CAP separate request
CON
JMP @MR2101
MPP
LD @MR3012
OR @MR3300
ANL
JMP @MR2101
STG @MR2101
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
AND T2324                ; RB10 CAP SET paste POS5(Down)
AND= EM1319 #5           ; RB10 CAP PP current POS
RES MR8210               ; CAP SET chuck rotation 1-1 CW
CON
SET MR8211               ; CAP SET chuck rotation 1-1 CCW
CON
RES MR8212               ; CAP SET chuck rotation 1-2 CW
CON
SET MR8213               ; CAP SET chuck rotation 1-2 CCW
CON
RES MR8214               ; CAP SET chuck rotation 2-1 CW
CON
SET MR8215               ; CAP SET chuck rotation 2-1 CCW
CON
RES MR8300               ; CAP SET chuck rotation 2-2 CW
CON
SET MR8301               ; CAP SET chuck rotation 2-2 CCW
CON
AND R5213                ; CAP set chuck rotation 1-1 CCW
AND R5215                ; CAP set chuck rotation 1-2 CCW
AND R5301                ; CAP set chuck rotation 2-1 CCW
AND R5303                ; CAP set chuck rotation 2-2 CCW
JMP @MR2102
STG @MR2102
MPS
LD<> DM20500 #0          ; UT5-1 Work detection
AND<> DM20502 #0         ; UT5-2 Work detection
AND= DM20600 #0          ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
LD R5201                 ; CAP SET chuck1-1 open limit
AND R5205                ; CAP SET chuck2-1 open limit
AND R5202                ; CAP SET chuck1-2 close limit
AND R5206                ; CAP SET chuck2-2 close limit
LD R5200                 ; CAP SET chuck1-1 close limit
AND R5204                ; CAP SET chuck2-1 close limit
AND R5203                ; CAP SET chuck1-2 open limit
AND R5207                ; CAP SET chuck2-2 open limit
ORL
ANL
ANL
OUT @MR2500
MRD
AND @MR2500
JMP @MR2215
MPP
ANB @MR2500
JMP @MR2103
STG @MR2103
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
LD @MR3012
OR @MR3300
ANL
ZRES @MR900 @MR906       ; ﾜｰｸﾃﾞｰﾀ&ｷｬｯﾌﾟSETﾁｬｯｸOK  ｷｬｯﾌﾟｾｯﾄﾁｬｯｸ 1-2/2-2除材
CON
JMP @MR2108
LD @MR2108
MPS
LD<> DM20600 #0          ; UT6-1 Work detection
AND<> DM20602 #0         ; UT6-2 Work detection
LDB @MR2807
LD R5313                 ; CAP SET rotation back limit
AND R5200                ; CAP SET chuck1-1 close limit
AND R5204                ; CAP SET chuck2-1 close limit
LD R5312                 ; CAP SET rotation rotation limit
AND R5202                ; CAP SET chuck1-2 close limit
AND R5206                ; CAP SET chuck2-2 close limit
ORL
ANL
OR @MR2807
ANL
LD<> DM20600 #0          ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
LDB @MR2807
LD R5313                 ; CAP SET rotation back limit
AND R5200                ; CAP SET chuck1-1 close limit
AND R5205                ; CAP SET chuck2-1 open limit
LD R5312                 ; CAP SET rotation rotation limit
AND R5202                ; CAP SET chuck1-2 close limit
AND R5207                ; CAP SET chuck2-2 open limit
ORL
ANL
OR @MR2807
ANL
ORL
LD= DM20600 #0           ; UT6-1 Work detection
AND<> DM20602 #0         ; UT6-2 Work detection
LDB @MR2807
LD R5313                 ; CAP SET rotation back limit
AND R5201                ; CAP SET chuck1-1 open limit
AND R5204                ; CAP SET chuck2-1 close limit
LD R5312                 ; CAP SET rotation rotation limit
AND R5203                ; CAP SET chuck1-2 open limit
AND R5206                ; CAP SET chuck2-2 close limit
ORL
ANL
OR @MR2807
ANL
ORL
LD= DM20600 #0           ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
LDB @MR2807
LD R5313                 ; CAP SET rotation back limit
AND R5201                ; CAP SET chuck1-1 open limit
AND R5205                ; CAP SET chuck2-1 open limit
LD R5312                 ; CAP SET rotation rotation limit
AND R5203                ; CAP SET chuck1-2 open limit
AND R5207                ; CAP SET chuck2-2 open limit
ORL
ANL
OR @MR2807
ANL
ORL
ANL
SET @MR900               ; ﾜｰｸﾃﾞｰﾀ&ｷｬｯﾌﾟSETﾁｬｯｸOK
MRD
LD= DM20600 #0           ; UT6-1 Work detection
AND<> DM20602 #0         ; UT6-2 Work detection
AND R5313                ; CAP SET rotation back limit
AND R5200                ; CAP SET chuck1-1 close limit
AND R5204                ; CAP SET chuck2-1 close limit
LD= DM20600 #0           ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
AND R5313                ; CAP SET rotation back limit
AND R5200                ; CAP SET chuck1-1 close limit
AND R5205                ; CAP SET chuck2-1 open limit
ORL
ANL
SET @MR901               ; ｷｬｯﾌﾟｾｯﾄﾁｬｯｸ 1-1除材
MRD
LD<> DM20600 #0          ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
AND R5313                ; CAP SET rotation back limit
AND R5200                ; CAP SET chuck1-1 close limit
AND R5204                ; CAP SET chuck2-1 close limit
LD= DM20600 #0           ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
AND R5313                ; CAP SET rotation back limit
AND R5201                ; CAP SET chuck1-1 open limit
AND R5204                ; CAP SET chuck2-1 close limit
ORL
ANL
SET @MR902               ; ｷｬｯﾌﾟｾｯﾄﾁｬｯｸ 2-1除材
MRD
LD= DM20600 #0           ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
AND R5313                ; CAP SET rotation back limit
AND R5200                ; CAP SET chuck1-1 close limit
AND R5204                ; CAP SET chuck2-1 close limit
ANL
SET @MR903               ; ｷｬｯﾌﾟｾｯﾄﾁｬｯｸ 1-1/2-1除材
MRD
LD= DM20600 #0           ; UT6-1 Work detection
AND<> DM20602 #0         ; UT6-2 Work detection
AND R5312                ; CAP SET rotation rotation limit
AND R5202                ; CAP SET chuck1-2 close limit
AND R5206                ; CAP SET chuck2-2 close limit
LD= DM20600 #0           ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
AND R5312                ; CAP SET rotation rotation limit
AND R5202                ; CAP SET chuck1-2 close limit
AND R5207                ; CAP SET chuck2-2 open limit
ORL
ANL
SET @MR904               ; ｷｬｯﾌﾟｾｯﾄﾁｬｯｸ 1-2除材
MRD
LD<> DM20600 #0          ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
AND R5312                ; CAP SET rotation rotation limit
AND R5202                ; CAP SET chuck1-2 close limit
AND R5206                ; CAP SET chuck2-2 close limit
LD= DM20600 #0           ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
AND R5312                ; CAP SET rotation rotation limit
AND R5203                ; CAP SET chuck1-2 open limit
AND R5206                ; CAP SET chuck2-2 close limit
ORL
ANL
SET @MR905               ; ｷｬｯﾌﾟｾｯﾄﾁｬｯｸ 2-2除材
MPP
LD= DM20600 #0           ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
AND R5312                ; CAP SET rotation rotation limit
AND R5202                ; CAP SET chuck1-2 close limit
AND R5206                ; CAP SET chuck2-2 close limit
ANL
SET @MR906               ; ｷｬｯﾌﾟｾｯﾄﾁｬｯｸ 1-2/2-2除材
;ﾜｰｸﾁｪｯｸ
STG @MR2108
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
MPS
AND @MR900               ; ﾜｰｸﾃﾞｰﾀ&ｷｬｯﾌﾟSETﾁｬｯｸOK
JMP @MR2200
MRD
AND @MR901               ; ｷｬｯﾌﾟｾｯﾄﾁｬｯｸ 1-1除材
SET @MR300
CON
JMP @MR2110
MRD
AND @MR902               ; ｷｬｯﾌﾟｾｯﾄﾁｬｯｸ 2-1除材
SET @MR304
CON
JMP @MR2110
MRD
AND @MR903               ; ｷｬｯﾌﾟｾｯﾄﾁｬｯｸ 1-1/2-1除材
SET @MR308
CON
JMP @MR2110
MRD
AND @MR904               ; ｷｬｯﾌﾟｾｯﾄﾁｬｯｸ 1-2除材
SET @MR312
CON
JMP @MR2110
MRD
AND @MR905               ; ｷｬｯﾌﾟｾｯﾄﾁｬｯｸ 2-2除材
SET @MR400
CON
JMP @MR2110
MPP
AND @MR906               ; ｷｬｯﾌﾟｾｯﾄﾁｬｯｸ 1-2/2-2除材
SET @MR404
CON
JMP @MR2110
STG @MR2110
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
MPS
AND @MR303
SET MR8201               ; CAP SET chuck1-1 open
CON
RES MR8200               ; CAP SET chuck1-1 close
CON
ANB R5200                ; CAP SET chuck1-1 close limit
AND R5201                ; CAP SET chuck1-1 open limit
RES @MR303
CON
JMP @MR2200
MRD
AND @MR307
SET MR8205               ; CAP SET chuck2-1 open
CON
RES MR8204               ; CAP SET chuck2-1 close
CON
ANB R5204                ; CAP SET chuck2-1 close limit
AND R5205                ; CAP SET chuck2-1 open limit
RES @MR307
CON
JMP @MR2200
MRD
AND @MR311
SET MR8205               ; CAP SET chuck2-1 open
CON
RES MR8204               ; CAP SET chuck2-1 close
CON
SET MR8205               ; CAP SET chuck2-1 open
CON
RES MR8204               ; CAP SET chuck2-1 close
CON
ANB R5204                ; CAP SET chuck2-1 close limit
AND R5205                ; CAP SET chuck2-1 open limit
ANB R5204                ; CAP SET chuck2-1 close limit
AND R5205                ; CAP SET chuck2-1 open limit
RES @MR311
CON
JMP @MR2200
MRD
AND @MR315
SET MR8203               ; CAP SET chuck1-2 open
CON
RES MR8202               ; CAP SET chuck1-2 close
CON
ANB R5202                ; CAP SET chuck1-2 close limit
AND R5203                ; CAP SET chuck1-2 open limit
RES @MR315
CON
JMP @MR2200
MRD
AND @MR403
SET MR8207               ; CAP SET chuck2-2 open
CON
RES MR8206               ; CAP SET chuck2-2 close
CON
ANB R5206                ; CAP SET chuck2-2 close limit
AND R5207                ; CAP SET chuck2-2 open limit
RES @MR403
CON
JMP @MR2200
MPP
AND @MR407
SET MR8203               ; CAP SET chuck1-2 open
CON
RES MR8202               ; CAP SET chuck1-2 close
CON
SET MR8207               ; CAP SET chuck2-2 open
CON
RES MR8206               ; CAP SET chuck2-2 close
CON
ANB R5202                ; CAP SET chuck1-2 close limit
AND R5203                ; CAP SET chuck1-2 open limit
ANB R5206                ; CAP SET chuck2-2 close limit
AND R5207                ; CAP SET chuck2-2 open limit
RES @MR407
CON
JMP @MR2200
;ｷｬｯﾌﾟPP下降
STG @MR2200
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
AND MR900                ; Separator1 CAP OK
AND MR901                ; Separator2 CAP OK
JMP @MR2201
STG @MR2201
ANB MR5209               ; RB10 CAP PP down moving complete
SET @MR800               ; Pause disable
CON
SET MR5208               ; RB10 CAP PP down moving request
CON
JMP @MR2202
STG @MR2202
AND MR5209               ; RB10 CAP PP down moving complete
RES MR5209               ; RB10 CAP PP down moving complete
CON
JMP @MR2203
STG @MR2203
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
MPS
ANB @MR2807
RES @MR2615
CON
RES @MR3115
CON
SET @MR2600
CON
SET @MR3100
CON
JMP @MR2413
MPP
AND @MR2807
RES @MR2615
CON
SET @MR2600
CON
JMP @MR2413
;下降中、組込側チャックをCW/CCWで連続駆動させる。
LD @MR2201
OR @MR2202
MPS
AND R5313                ; CAP SET rotation back limit
MPS
AND= DM20600 #5          ; UT6-1 Work detection
MPS
AND R5212                ; CAP set chuck rotation 1-1 CW
RES MR8210               ; CAP SET chuck rotation 1-1 CW
CON
SET MR8211               ; CAP SET chuck rotation 1-1 CCW
MPP
AND R5213                ; CAP set chuck rotation 1-1 CCW
RES MR8211               ; CAP SET chuck rotation 1-1 CCW
CON
SET MR8210               ; CAP SET chuck rotation 1-1 CW
MPP
AND= DM20602 #5          ; UT6-2 Work detection
MPS
AND R5300                ; CAP set chuck rotation 2-1 CW
RES MR8214               ; CAP SET chuck rotation 2-1 CW
CON
SET MR8215               ; CAP SET chuck rotation 2-1 CCW
MPP
AND R5301                ; CAP set chuck rotation 2-1 CCW
RES MR8215               ; CAP SET chuck rotation 2-1 CCW
CON
SET MR8214               ; CAP SET chuck rotation 2-1 CW
MPP
AND R5312                ; CAP SET rotation rotation limit
MPS
AND= DM20600 #5          ; UT6-1 Work detection
MPS
AND R5214                ; CAP set chuck rotation 1-2 CW
RES MR8212               ; CAP SET chuck rotation 1-2 CW
CON
SET MR8213               ; CAP SET chuck rotation 1-2 CCW
MPP
AND R5215                ; CAP set chuck rotation 1-2 CCW
RES MR8213               ; CAP SET chuck rotation 1-2 CCW
CON
SET MR8212               ; CAP SET chuck rotation 1-2 CW
MPP
AND= DM20602 #5          ; UT6-2 Work detection
MPS
AND R5302                ; CAP set chuck rotation 2-2 CW
RES MR8300               ; CAP SET chuck rotation 2-2 CW
CON
SET MR8301               ; CAP SET chuck rotation 2-2 CCW
MPP
AND R5303                ; CAP set chuck rotation 2-2 CCW
RES MR8301               ; CAP SET chuck rotation 2-2 CCW
CON
SET MR8300               ; CAP SET chuck rotation 2-2 CW
;<h1/>ｷｬｯﾌﾟ取り出し側動作
;1側　ｷｬｯﾌﾟ切出より取出ﾁｬｯｸ閉
STG @MR2600
MPS
LDB @MR3300
AND @MR3013
ANL
SET @MR3014
CON
JMP @MR2601
MPP
AND @MR3300
JMP @MR2604
STG @MR2601
MPS
LDB @MR3300
AND @MR3015              ; CAP separate finish
ANL
RES @MR3015              ; CAP separate finish
CON
JMP @MR2602
MPP
AND @MR3300
JMP @MR2604
STG @MR2602
RES @MR2610
CON
RES @MR2613
CON
RES @MR2615
CON
JMP @MR2603
STG @MR2603
SET @MR2608
CON
SET @MR2611
CON
JMP @MR2604
STG @MR2608
MPS
ANB @MR006               ; STEP oparation
MPS
LD<> DM20500 #0          ; UT5-1 Work detection
AND= DM20504 #0
ANL
MPS
AND R5313                ; CAP SET rotation back limit
RES MR8203               ; CAP SET chuck1-2 open
CON
SET MR8202               ; CAP SET chuck1-2 close
CON
JMP @MR2609
MPP
AND R5312                ; CAP SET rotation rotation limit
RES MR8201               ; CAP SET chuck1-1 open
CON
SET MR8200               ; CAP SET chuck1-1 close
CON
JMP @MR2609
MPP
LD= DM20500 #0           ; UT5-1 Work detection
OR<> DM20504 #0
ANL
JMP @MR2609
MPP
AND @MR006               ; STEP oparation
MPS
AND<> DM20600 #0         ; UT6-1 Work detection
MPS
AND R5313                ; CAP SET rotation back limit
RES MR8203               ; CAP SET chuck1-2 open
CON
SET MR8202               ; CAP SET chuck1-2 close
CON
JMP @MR2609
MPP
AND R5312                ; CAP SET rotation rotation limit
RES MR8201               ; CAP SET chuck1-1 open
CON
SET MR8200               ; CAP SET chuck1-1 close
CON
JMP @MR2609
MPP
AND= DM20600 #0          ; UT6-1 Work detection
JMP @MR2609
;1側　ｷｬｯﾌﾟ切出より取出ﾁｬｯｸ閉　確認
STG @MR2609
MPS
ANB @MR006               ; STEP oparation
MPS
LD<> DM20500 #0          ; UT5-1 Work detection
AND= DM20504 #0
LD R5313                 ; CAP SET rotation back limit
AND R5202                ; CAP SET chuck1-2 close limit
ANB R5203                ; CAP SET chuck1-2 open limit
LD R5312                 ; CAP SET rotation rotation limit
AND R5200                ; CAP SET chuck1-1 close limit
ANB R5201                ; CAP SET chuck1-1 open limit
ORL
ANL
ANL
RES MR900                ; Separator1 CAP OK
CON
SET @MR2610
CON
ENDS
MRD
LD= DM20500 #0           ; UT5-1 Work detection
OR<> DM20504 #0
ANL
SET @MR2610
CON
ENDS
MPP
LD<> DM20500 #0          ; UT5-1 Work detection
AND= DM20504 #0
LD R5313                 ; CAP SET rotation back limit
AND R46603               ; CAP SET chuck1-2 close error
LD R5312                 ; CAP SET rotation rotation limit
AND R46601               ; CAP SET chuck1-1 close error
ORL
ANL
ANL
SET @MR3301
CON
ENDS
MPP
AND @MR006               ; STEP oparation
MPS
LD<> DM20600 #0          ; UT6-1 Work detection
LD R5313                 ; CAP SET rotation back limit
AND R5202                ; CAP SET chuck1-2 close limit
ANB R5203                ; CAP SET chuck1-2 open limit
LD R5312                 ; CAP SET rotation rotation limit
AND R5200                ; CAP SET chuck1-1 close limit
ANB R5201                ; CAP SET chuck1-1 open limit
ORL
ANL
ANL
RES MR900                ; Separator1 CAP OK
CON
SET @MR2610
CON
ENDS
MRD
AND= DM20600 #0          ; UT6-1 Work detection
SET @MR2610
CON
ENDS
MPP
LD<> DM20600 #0          ; UT6-1 Work detection
LD R5313                 ; CAP SET rotation back limit
AND R46603               ; CAP SET chuck1-2 close error
LD R5312                 ; CAP SET rotation rotation limit
AND R46601               ; CAP SET chuck1-1 close error
ORL
ANL
ANL
SET @MR3301
CON
ENDS
;2側　ｷｬｯﾌﾟ切出より取出ﾁｬｯｸ閉
STG @MR2611
MPS
ANB @MR006               ; STEP oparation
MPS
LD<> DM20502 #0          ; UT5-2 Work detection
AND= DM20506 #0
ANL
MPS
AND R5313                ; CAP SET rotation back limit
RES MR8207               ; CAP SET chuck2-2 open
CON
SET MR8206               ; CAP SET chuck2-2 close
CON
JMP @MR2612
MPP
AND R5312                ; CAP SET rotation rotation limit
RES MR8205               ; CAP SET chuck2-1 open
CON
SET MR8204               ; CAP SET chuck2-1 close
CON
JMP @MR2612
MPP
LD= DM20502 #0           ; UT5-2 Work detection
OR<> DM20506 #0
ANL
JMP @MR2612
MPP
AND @MR006               ; STEP oparation
MPS
AND<> DM20602 #0         ; UT6-2 Work detection
MPS
AND R5313                ; CAP SET rotation back limit
RES MR8207               ; CAP SET chuck2-2 open
CON
SET MR8206               ; CAP SET chuck2-2 close
CON
JMP @MR2612
MPP
AND R5312                ; CAP SET rotation rotation limit
RES MR8205               ; CAP SET chuck2-1 open
CON
SET MR8204               ; CAP SET chuck2-1 close
CON
JMP @MR2612
MPP
AND= DM20602 #0          ; UT6-2 Work detection
JMP @MR2612
;2側　ｷｬｯﾌﾟ切出より取出ﾁｬｯｸ閉　確認
STG @MR2612
MPS
ANB @MR006               ; STEP oparation
MPS
LD<> DM20502 #0          ; UT5-2 Work detection
AND= DM20506 #0
LD R5313                 ; CAP SET rotation back limit
AND R5206                ; CAP SET chuck2-2 close limit
ANB R5207                ; CAP SET chuck2-2 open limit
LD R5312                 ; CAP SET rotation rotation limit
AND R5204                ; CAP SET chuck2-1 close limit
ANB R5205                ; CAP SET chuck2-1 open limit
ORL
ANL
ANL
RES MR901                ; Separator2 CAP OK
CON
SET @MR2613
CON
ENDS
MRD
LD= DM20502 #0           ; UT5-2 Work detection
OR<> DM20506 #0
ANL
SET @MR2613
CON
ENDS
MPP
LD<> DM20502 #0          ; UT5-2 Work detection
AND= DM20506 #0
LD R5313                 ; CAP SET rotation back limit
AND R46607               ; CAP SET chuck2-2 close error
LD R5312                 ; CAP SET rotation rotation limit
AND R46605               ; CAP SET chuck2-1 close error
ORL
ANL
ANL
SET @MR3302
CON
ENDS
MPP
AND @MR006               ; STEP oparation
MPS
LD<> DM20602 #0          ; UT6-2 Work detection
LD R5313                 ; CAP SET rotation back limit
AND R5206                ; CAP SET chuck2-2 close limit
ANB R5207                ; CAP SET chuck2-2 open limit
LD R5312                 ; CAP SET rotation rotation limit
AND R5204                ; CAP SET chuck2-1 close limit
ANB R5205                ; CAP SET chuck2-1 open limit
ORL
ANL
ANL
RES MR901                ; Separator2 CAP OK
CON
SET @MR2613
CON
ENDS
MRD
AND= DM20602 #0          ; UT6-2 Work detection
SET @MR2613
CON
ENDS
MPP
LD<> DM20602 #0          ; UT6-2 Work detection
LD R5313                 ; CAP SET rotation back limit
AND R46607               ; CAP SET chuck2-2 close error
LD R5312                 ; CAP SET rotation rotation limit
AND R46605               ; CAP SET chuck2-1 close error
ORL
ANL
ANL
SET @MR3302
CON
ENDS
;取り出し完了確認
STG @MR2604
MPS
LDB @MR3300
ANB @MR3301
ANB @MR3302
AND @MR2610
AND @MR2613
ANL
SET @MR2615
CON
RES @MR2610
CON
RES @MR2613
CON
ENDS
MPP
LD @MR3300
OR @MR3301
OR @MR3302
ANL
SET @MR2615
CON
SET @MR3303
CON
ZRES @MR3300 @MR3302
CON
RES @MR2610
CON
RES @MR2613
CON
ENDS
;<h1/>ｷｬｯﾌﾟ締め込み側動作
;1側　ｷｬｯﾌﾟｾｯﾄ回転
STG @MR3100
RES @MR3105
CON
RES @MR3108
CON
RES @MR3111
CON
RES @MR3114
CON
RES @MR3115
CON
JMP @MR3101
STG @MR3101
SET @MR3103
CON
SET @MR3106
CON
JMP @MR3102
STG @MR3103
MPS
AND<> DM20600 #0         ; UT6-1 Work detection
MPS
AND R5313                ; CAP SET rotation back limit
RES MR8211               ; CAP SET chuck rotation 1-1 CCW
CON
SET MR8210               ; CAP SET chuck rotation 1-1 CW
CON
JMP @MR3104
MPP
AND R5312                ; CAP SET rotation rotation limit
RES MR8213               ; CAP SET chuck rotation 1-2 CCW
CON
SET MR8212               ; CAP SET chuck rotation 1-2 CW
CON
JMP @MR3104
MPP
AND= DM20600 #0          ; UT6-1 Work detection
JMP @MR3104
;1側　ｷｬｯﾌﾟｾｯﾄ回転　確認
STG @MR3104
MPS
LD<> DM20600 #0          ; UT6-1 Work detection
LD R5313                 ; CAP SET rotation back limit
ANB R5213                ; CAP set chuck rotation 1-1 CCW
AND R5212                ; CAP set chuck rotation 1-1 CW
LD R5312                 ; CAP SET rotation rotation limit
ANB R5215                ; CAP set chuck rotation 1-2 CCW
AND R5214                ; CAP set chuck rotation 1-2 CW
ORL
ANL
OR= DM20600 #0           ; UT6-1 Work detection
ANL
SET @MR3105
CON
ENDS
MPP
LD<> DM20600 #0          ; UT6-1 Work detection
LD R5313                 ; CAP SET rotation back limit
AND R46608               ; CAP SET chuck rotation 1-1 CW  
LD R5312                 ; CAP SET rotation rotation limit
AND R46610               ; CAP SET chuck rotation 1-2 CW  
ORL
ANL
ANL
SET @MR3304
CON
ENDS
;2側　ｷｬｯﾌﾟｾｯﾄ回転
STG @MR3106
MPS
AND<> DM20602 #0         ; UT6-2 Work detection
MPS
AND R5313                ; CAP SET rotation back limit
RES MR8215               ; CAP SET chuck rotation 2-1 CCW
CON
SET MR8214               ; CAP SET chuck rotation 2-1 CW
CON
JMP @MR3107
MPP
AND R5312                ; CAP SET rotation rotation limit
RES MR8301               ; CAP SET chuck rotation 2-2 CCW
CON
SET MR8300               ; CAP SET chuck rotation 2-2 CW
CON
JMP @MR3107
MPP
AND= DM20602 #0          ; UT6-2 Work detection
JMP @MR3107
;2側　ｷｬｯﾌﾟｾｯﾄ回転　確認
STG @MR3107
MPS
LD<> DM20602 #0          ; UT6-2 Work detection
LD R5313                 ; CAP SET rotation back limit
ANB R5301                ; CAP set chuck rotation 2-1 CCW
AND R5300                ; CAP set chuck rotation 2-1 CW
LD R5312                 ; CAP SET rotation rotation limit
ANB R5303                ; CAP set chuck rotation 2-2 CCW
AND R5302                ; CAP set chuck rotation 2-2 CW
ORL
ANL
OR= DM20602 #0           ; UT6-2 Work detection
ANL
SET @MR3108
CON
ENDS
MPP
LD<> DM20602 #0          ; UT6-2 Work detection
LD R5313                 ; CAP SET rotation back limit
AND R46612               ; CAP SET chuck rotation 2-1 CW  
LD R5312                 ; CAP SET rotation rotation limit
AND R46414               ; Label nozuru1 forward error
ORL
ANL
ANL
SET @MR3305
CON
ENDS
;1回、2回選択
STG @MR3102
LD @MR3105
OR @MR3304
ANL
LD @MR3108
OR @MR3305
ANL
MPS
LD= DM20600 #0           ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
ANL
MPS
LDB @MR3304
ANB @MR3305
ANL
SET @MR3115
CON
RES @MR3105
CON
RES @MR3108
CON
ENDS
MPP
LD @MR3304
OR @MR3305
ANL
SET @MR3306
CON
SET @MR3115
CON
RES @MR3105
CON
RES @MR3108
CON
ENDS
MPP
LD<> DM20600 #0          ; UT6-1 Work detection
OR<> DM20602 #0          ; UT6-2 Work detection
ANL
RES @MR3105
CON
RES @MR3108
CON
JMP @MR2400
;1.2側　ｷｬｯﾌﾟｾｯﾄ回転戻り　(2回目)
STG @MR2400
MPS
AND R5313                ; CAP SET rotation back limit
RES MR8210               ; CAP SET chuck rotation 1-1 CW
CON
SET MR8211               ; CAP SET chuck rotation 1-1 CCW
CON
RES MR8214               ; CAP SET chuck rotation 2-1 CW
CON
SET MR8215               ; CAP SET chuck rotation 2-1 CCW
CON
JMP @MR2401
MPP
AND R5312                ; CAP SET rotation rotation limit
RES MR8212               ; CAP SET chuck rotation 1-2 CW
CON
SET MR8213               ; CAP SET chuck rotation 1-2 CCW
CON
RES MR8300               ; CAP SET chuck rotation 2-2 CW
CON
SET MR8301               ; CAP SET chuck rotation 2-2 CCW
CON
JMP @MR2401
STG @MR2401
MPS
AND R5313                ; CAP SET rotation back limit
MPS
LD R5213                 ; CAP set chuck rotation 1-1 CCW
OR @MR3304
LD R5301                 ; CAP set chuck rotation 2-1 CCW
OR @MR3305
ANL
ANL
RES @MR3111
CON
RES @MR3114
CON
JMP @MR2408
MRD
AND R46609               ; CAP SET chuck rotation 1-1 CCW 
SET @MR3304
MPP
AND R46613               ; CAP SET chuck rotation 2-1 CCW 
SET @MR3305
MPP
AND R5312                ; CAP SET rotation rotation limit
MPS
LD R5215                 ; CAP set chuck rotation 1-2 CCW
OR @MR3304
LD R5303                 ; CAP set chuck rotation 2-2 CCW
OR @MR3305
ANL
ANL
RES @MR3111
CON
RES @MR3114
CON
JMP @MR2408
MRD
AND R46611               ; CAP SET chuck rotation 1-2 CCW 
SET @MR3304
MPP
AND R46615               ; CAP SET chuck rotation 2-2 CCW 
SET @MR3305
STG @MR2408
SET @MR3109
CON
SET @MR3112
CON
JMP @MR2412
;1側　ｷｬｯﾌﾟｾｯﾄ回転　(2回目)
STG @MR3109
MPS
LD<> DM20600 #0          ; UT6-1 Work detection
ANB @MR3304
ANL
MPS
AND R5313                ; CAP SET rotation back limit
RES MR8211               ; CAP SET chuck rotation 1-1 CCW
CON
SET MR8210               ; CAP SET chuck rotation 1-1 CW
CON
JMP @MR3110
MPP
AND R5312                ; CAP SET rotation rotation limit
RES MR8213               ; CAP SET chuck rotation 1-2 CCW
CON
SET MR8212               ; CAP SET chuck rotation 1-2 CW
CON
JMP @MR3110
MPP
LD= DM20600 #0           ; UT6-1 Work detection
OR @MR3304
ANL
JMP @MR3110
;1側　ｷｬｯﾌﾟｾｯﾄ回転確認　(2回目)
STG @MR3110
MPS
LD<> DM20600 #0          ; UT6-1 Work detection
LD R5313                 ; CAP SET rotation back limit
ANB R5213                ; CAP set chuck rotation 1-1 CCW
AND R5212                ; CAP set chuck rotation 1-1 CW
LD R5312                 ; CAP SET rotation rotation limit
ANB R5215                ; CAP set chuck rotation 1-2 CCW
AND R5214                ; CAP set chuck rotation 1-2 CW
ORL
ANL
OR= DM20600 #0           ; UT6-1 Work detection
ANL
SET @MR3111
CON
ENDS
MPP
LD<> DM20600 #0          ; UT6-1 Work detection
LD R5313                 ; CAP SET rotation back limit
AND R46608               ; CAP SET chuck rotation 1-1 CW  
LD R5312                 ; CAP SET rotation rotation limit
AND R46610               ; CAP SET chuck rotation 1-2 CW  
ORL
ANL
ANL
SET @MR3304
CON
ENDS
;2側　ｷｬｯﾌﾟｾｯﾄ回転　(2回目)
STG @MR3112
MPS
LD<> DM20602 #0          ; UT6-2 Work detection
ANB @MR3305
ANL
MPS
AND R5313                ; CAP SET rotation back limit
RES MR8215               ; CAP SET chuck rotation 2-1 CCW
CON
SET MR8214               ; CAP SET chuck rotation 2-1 CW
CON
JMP @MR3113
MPP
AND R5312                ; CAP SET rotation rotation limit
RES MR8301               ; CAP SET chuck rotation 2-2 CCW
CON
SET MR8300               ; CAP SET chuck rotation 2-2 CW
CON
JMP @MR3113
MPP
LD= DM20602 #0           ; UT6-2 Work detection
OR @MR3305
ANL
JMP @MR3113
;2側　ｷｬｯﾌﾟｾｯﾄ回転確認　(2回目)
STG @MR3113
MPS
LD<> DM20602 #0          ; UT6-2 Work detection
LD R5313                 ; CAP SET rotation back limit
ANB R5301                ; CAP set chuck rotation 2-1 CCW
AND R5300                ; CAP set chuck rotation 2-1 CW
LD R5312                 ; CAP SET rotation rotation limit
ANB R5303                ; CAP set chuck rotation 2-2 CCW
AND R5302                ; CAP set chuck rotation 2-2 CW
ORL
ANL
OR= DM20602 #0           ; UT6-2 Work detection
ANL
SET @MR3114
CON
ENDS
MPP
LD<> DM20602 #0          ; UT6-2 Work detection
LD R5313                 ; CAP SET rotation back limit
AND R46612               ; CAP SET chuck rotation 2-1 CW  
LD R5312                 ; CAP SET rotation rotation limit
AND R46614               ; CAP SET chuck rotation 2-2 CW  
ORL
ANL
ANL
SET @MR3305
CON
ENDS
;1.2側　ｷｬｯﾌﾟｾｯﾄ回転　ﾁｬｯｸ開
STG @MR2412
LD @MR3111
OR @MR3304
ANL
LD @MR3114
OR @MR3305
ANL
TMH @3 #10
CON
AND @T3
MPS
LDB @MR3304
ANB @MR3305
ANL
MPS
AND CR2002               ; Normal ON
MPS
AND R5313                ; CAP SET rotation back limit
JMP @MR3400              ; CAP set request
MPP
AND R5312                ; CAP SET rotation rotation limit
JMP @MR3401
MPP
ANB CR2002               ; Normal ON
MPS
AND R5313                ; CAP SET rotation back limit
RES MR8200               ; CAP SET chuck1-1 close
CON
SET MR8201               ; CAP SET chuck1-1 open
CON
RES MR8204               ; CAP SET chuck2-1 close
CON
SET MR8205               ; CAP SET chuck2-1 open
CON
SET @MR3115
CON
RES @MR3111
CON
RES @MR3114
CON
ENDS
MPP
AND R5312                ; CAP SET rotation rotation limit
RES MR8202               ; CAP SET chuck1-2 close
CON
SET MR8203               ; CAP SET chuck1-2 open
CON
RES MR8206               ; CAP SET chuck2-2 close
CON
SET MR8207               ; CAP SET chuck2-2 open
CON
SET @MR3115
CON
RES @MR3111
CON
RES @MR3114
CON
ENDS
MPP
LD @MR3304
OR @MR3305
ANL
MPS
AND R5313                ; CAP SET rotation back limit
RES MR8200               ; CAP SET chuck1-1 close
CON
SET MR8201               ; CAP SET chuck1-1 open
CON
JMP @MR3402
MPP
AND R5312                ; CAP SET rotation rotation limit
RES MR8202               ; CAP SET chuck1-2 close
CON
SET MR8203               ; CAP SET chuck1-2 open
CON
JMP @MR3403
;<<Edit rung comments: confirm with Ctrl+Enter/Esc>> 
STG @MR3400              ; CAP set request
RES MR8200               ; CAP SET chuck1-1 close
CON
SET MR8201               ; CAP SET chuck1-1 open
CON
RES MR8204               ; CAP SET chuck2-1 close
CON
SET MR8205               ; CAP SET chuck2-1 open
CON
JMP @MR3404
STG @MR3404
SET MR8211               ; CAP SET chuck rotation 1-1 CCW
CON
RES MR8210               ; CAP SET chuck rotation 1-1 CW
CON
SET MR8215               ; CAP SET chuck rotation 2-1 CCW
CON
RES MR8214               ; CAP SET chuck rotation 2-1 CW
CON
AND R5213                ; CAP set chuck rotation 1-1 CCW
AND R5301                ; CAP set chuck rotation 2-1 CCW
JMP @MR3405
STG @MR3405
RES MR8201               ; CAP SET chuck1-1 open
CON
SET MR8200               ; CAP SET chuck1-1 close
CON
RES MR8205               ; CAP SET chuck2-1 open
CON
SET MR8204               ; CAP SET chuck2-1 close
CON
JMP @MR3406
STG @MR3406
SET MR8210               ; CAP SET chuck rotation 1-1 CW
CON
RES MR8211               ; CAP SET chuck rotation 1-1 CCW
CON
SET MR8214               ; CAP SET chuck rotation 2-1 CW
CON
RES MR8215               ; CAP SET chuck rotation 2-1 CCW
CON
AND R5212                ; CAP set chuck rotation 1-1 CW
AND R5300                ; CAP set chuck rotation 2-1 CW
JMP @MR3407
STG @MR3407
RES MR8200               ; CAP SET chuck1-1 close
CON
SET MR8201               ; CAP SET chuck1-1 open
CON
RES MR8204               ; CAP SET chuck2-1 close
CON
SET MR8205               ; CAP SET chuck2-1 open
CON
SET @MR3115
CON
RES @MR3111
CON
RES @MR3114
CON
ENDS
;<<Edit rung comments: confirm with Ctrl+Enter/Esc>> 
STG @MR3401
RES MR8202               ; CAP SET chuck1-2 close
CON
SET MR8203               ; CAP SET chuck1-2 open
CON
RES MR8206               ; CAP SET chuck2-2 close
CON
SET MR8207               ; CAP SET chuck2-2 open
CON
JMP @MR3408
STG @MR3408
RES MR8212               ; CAP SET chuck rotation 1-2 CW
CON
SET MR8213               ; CAP SET chuck rotation 1-2 CCW
CON
RES MR8300               ; CAP SET chuck rotation 2-2 CW
CON
SET MR8301               ; CAP SET chuck rotation 2-2 CCW
CON
AND R5215                ; CAP set chuck rotation 1-2 CCW
AND R5303                ; CAP set chuck rotation 2-2 CCW
JMP @MR3409
STG @MR3409
RES MR8203               ; CAP SET chuck1-2 open
CON
SET MR8202               ; CAP SET chuck1-2 close
CON
RES MR8207               ; CAP SET chuck2-2 open
CON
SET MR8206               ; CAP SET chuck2-2 close
CON
JMP @MR3410
STG @MR3410
RES MR8213               ; CAP SET chuck rotation 1-2 CCW
CON
SET MR8212               ; CAP SET chuck rotation 1-2 CW
CON
RES MR8301               ; CAP SET chuck rotation 2-2 CCW
CON
SET MR8300               ; CAP SET chuck rotation 2-2 CW
CON
AND R5214                ; CAP set chuck rotation 1-2 CW
AND R5302                ; CAP set chuck rotation 2-2 CW
JMP @MR3411
STG @MR3411
RES MR8202               ; CAP SET chuck1-2 close
CON
SET MR8203               ; CAP SET chuck1-2 open
CON
RES MR8206               ; CAP SET chuck2-2 close
CON
SET MR8207               ; CAP SET chuck2-2 open
CON
JMP @MR3412
STG @MR3412
RES MR8202               ; CAP SET chuck1-2 close
CON
SET MR8203               ; CAP SET chuck1-2 open
CON
RES MR8206               ; CAP SET chuck2-2 close
CON
SET MR8207               ; CAP SET chuck2-2 open
CON
SET @MR3115
CON
RES @MR3111
CON
RES @MR3114
CON
ENDS
;<<Edit rung comments: confirm with Ctrl+Enter/Esc>> 
STG @MR3402
RES MR8204               ; CAP SET chuck2-1 close
CON
SET MR8205               ; CAP SET chuck2-1 open
CON
SET @MR3306
CON
SET @MR3115
CON
RES @MR3111
CON
RES @MR3114
CON
ENDS
STG @MR3403
RES MR8206               ; CAP SET chuck2-2 close
CON
SET MR8207               ; CAP SET chuck2-2 open
CON
SET @MR3306
CON
SET @MR3115
CON
RES @MR3111
CON
RES @MR3114
CON
ENDS
STG @MR2413
AND @MR2615
LD @MR3115
OR @MR2807
ANL
ANB MR5201               ; RB10 CAP PP up moving complete
SET MR5200               ; RB10 CAP PP up moving request
CON
RES @MR2615
CON
RES @MR3115
CON
RES @MR2807
CON
JMP @MR2414
;ｷｬｯﾌﾟPP上昇
STG @MR2414
LD R5313                 ; CAP SET rotation back limit
LDB R5200                ; CAP SET chuck1-1 close limit
AND R5201                ; CAP SET chuck1-1 open limit
OR R46600                ; CAP SET chuck1-1 open error
ANL
LDB R5204                ; CAP SET chuck2-1 close limit
AND R5205                ; CAP SET chuck2-1 open limit
OR R46604                ; CAP SET chuck2-1 open error
ANL
LD R5312                 ; CAP SET rotation rotation limit
LDB R5202                ; CAP SET chuck1-2 close limit
AND R5203                ; CAP SET chuck1-2 open limit
OR R46602                ; CAP SET chuck1-2 open error
ANL
LDB R5206                ; CAP SET chuck2-2 close limit
AND R5207                ; CAP SET chuck2-2 open limit
OR R46606                ; CAP SET chuck2-2 open error
ANL
ORL
ANL
JMP @MR2415
STG @MR2415
AND MR5201               ; RB10 CAP PP up moving complete
RES @MR800               ; Pause disable
CON
RES MR5201               ; RB10 CAP PP up moving complete
CON
JMP @MR2808
STG @MR2808
MPS
LD R4810                 ; INDEX chuck 6-1 work existence
OR MR714                 ; Non Shrink film
ANL
MPS
AND R5314                ; INDEX chuck6-1 cap detection
SET @MR2809
MPP
ANB R5314                ; INDEX chuck6-1 cap detection
SET @MR3304
CON
SET @MR3306
CON
SET @MR2809
MRD
LDB R4810                ; INDEX chuck 6-1 work existence
ANB MR714                ; Non Shrink film
ANL
SET @MR2809
MRD
LD R4811                 ; INDEX chuck 6-2 work existence
OR MR714                 ; Non Shrink film
ANL
MPS
AND R5315                ; INDEX chuck6-2 cap detection
SET @MR2810
MPP
ANB R5315                ; INDEX chuck6-2 cap detection
SET @MR3305
CON
SET @MR3306
CON
SET @MR2810
MRD
LDB R4811                ; INDEX chuck 6-2 work existence
ANB MR714                ; Non Shrink film
ANL
SET @MR2810
MPP
LD @MR2809
AND @MR2810
ANL
ZRES @MR2809 @MR2810
CON
JMP @MR2801
;異常有無確認
STG @MR2801
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
MPS
ANB @MR3306
MPS
ANB @MR3303
JMP @MR2215
MPP
AND @MR3303
SET @MR2709
CON
JMP @MR2805
MPP
AND @MR3306
SET @MR2707              ; UT6-2 time over to arrive
CON
JMP @MR2802
;組込異常品NG処理⇒除材
STG @MR2802
AND @MR2708
RES @MR2708
CON
JMP @MR2803
STG @MR2803
MPS
ANB CR2002               ; Normal ON
MPS
AND @MR3304
MPS
AND @MR3305
MPS
LDB R4810                ; INDEX chuck 6-1 work existence
ANB R4811                ; INDEX chuck 6-2 work existence
ANL
DW #0 DM20600            ; UT6-1 Work detection
CON
DW #0 DM20602            ; UT6-2 Work detection
CON
JMP @MR2804
MPP
LD R4810                 ; INDEX chuck 6-1 work existence
OR R4811                 ; INDEX chuck 6-2 work existence
ANL
SET @MR2707              ; UT6-2 time over to arrive
CON
JMP @MR2802
MPP
ANB @MR3305
MPS
ANB R4810                ; INDEX chuck 6-1 work existence
DW #0 DM20600            ; UT6-1 Work detection
CON
JMP @MR2804
MPP
AND R4810                ; INDEX chuck 6-1 work existence
SET @MR2707              ; UT6-2 time over to arrive
CON
JMP @MR2802
MPP
LDB @MR3304
AND @MR3305
ANL
MPS
ANB R4811                ; INDEX chuck 6-2 work existence
DW #0 DM20602            ; UT6-2 Work detection
CON
JMP @MR2804
MPP
AND R4811                ; INDEX chuck 6-2 work existence
SET @MR2707              ; UT6-2 time over to arrive
CON
JMP @MR2802
MPP
AND CR2002               ; Normal ON
JMP @MR2804
STG @MR2804
ZRES @MR3304 @MR3306
CON
JMP @MR2801
;取り出し異常処理⇒解除後再度取り出し
STG @MR2805
AND @MR2710
RES @MR2710
CON
JMP @MR2806
STG @MR2806
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
AND R5201                ; CAP SET chuck1-1 open limit
AND R5203                ; CAP SET chuck1-2 open limit
AND R5205                ; CAP SET chuck2-1 open limit
AND R5207                ; CAP SET chuck2-2 open limit
MPS
LDB R5704                ; CAP separator1 type detection2 
ANB R5705                ; CAP separator1 type detection3 
ANB R5708                ; CAP separator1 type detection1 
ANB R5706                ; CAP separator2 type detection2
ANB R5707                ; CAP separator2 type detection3
ANB R5709                ; CAP separator2 type detection1 
ANL
RES @MR3303
CON
SET @MR2807
CON
JMP @MR2100              ; normal oparation
MPP
LD R5704                 ; CAP separator1 type detection2 
OR R5705                 ; CAP separator1 type detection3 
OR R5708                 ; CAP separator1 type detection1 
OR R5706                 ; CAP separator2 type detection2
OR R5707                 ; CAP separator2 type detection3
OR R5709                 ; CAP separator2 type detection1 
ANL
SET @MR2709
CON
JMP @MR2805
STG @MR2215
MPS
LD<> DM20600 #0          ; UT6-1 Work detection
AND<> DM20602 #0         ; UT6-2 Work detection
ANL
DW #6 DM20600            ; UT6-1 Work detection
CON
DW #6 DM20602            ; UT6-2 Work detection
CON
JMP @MR2300
MRD
LD<> DM20600 #0          ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
ANL
DW #6 DM20600            ; UT6-1 Work detection
CON
JMP @MR2300
MRD
LD= DM20600 #0           ; UT6-1 Work detection
AND<> DM20602 #0         ; UT6-2 Work detection
ANL
DW #6 DM20602            ; UT6-2 Work detection
CON
JMP @MR2300
MPP
LD= DM20600 #0           ; UT6-1 Work detection
AND= DM20602 #0          ; UT6-2 Work detection
ANL
JMP @MR2300
STG @MR2300
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
RES MR106                ; 6UT index rotation Prohibited
CON
MPS
ANB @MR006               ; STEP oparation
SET @MR2910              ; oparation finish
CON
SET @MR2800
CON
SET @MR3000              ; CAP separate request
CON
JMP @MR2301
MPP
AND @MR006               ; STEP oparation
SET @MR2800
CON
SET @MR3000              ; CAP separate request
CON
JMP @MR2301
STG @MR2301
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
MPS
AND R5313                ; CAP SET rotation back limit
MPS
LD R5201                 ; CAP SET chuck1-1 open limit
AND R5205                ; CAP SET chuck2-1 open limit
LD R5202                 ; CAP SET chuck1-2 close limit
AND R5206                ; CAP SET chuck2-2 close limit
LD R5202                 ; CAP SET chuck1-2 close limit
AND= DM20502 #0          ; UT5-2 Work detection
AND R5207                ; CAP SET chuck2-2 open limit
ORL
LD= DM20500 #0           ; UT5-1 Work detection
AND R5203                ; CAP SET chuck1-2 open limit
AND R5206                ; CAP SET chuck2-2 close limit
ORL
ANL
ANL
JMP @MR2302
MPP
LD R5200                 ; CAP SET chuck1-1 close limit
AND R5204                ; CAP SET chuck2-1 close limit
AND R5203                ; CAP SET chuck1-2 open limit
AND R5207                ; CAP SET chuck2-2 open limit
LD R5201                 ; CAP SET chuck1-1 open limit
AND R5205                ; CAP SET chuck2-1 open limit
AND R5203                ; CAP SET chuck1-2 open limit
AND R5207                ; CAP SET chuck2-2 open limit
ORL
ANL
JMP @MR2305
MPP
AND R5312                ; CAP SET rotation rotation limit
MPS
LD R5201                 ; CAP SET chuck1-1 open limit
AND R5205                ; CAP SET chuck2-1 open limit
AND R5202                ; CAP SET chuck1-2 close limit
AND R5206                ; CAP SET chuck2-2 close limit
LD R5201                 ; CAP SET chuck1-1 open limit
AND R5205                ; CAP SET chuck2-1 open limit
AND R5203                ; CAP SET chuck1-2 open limit
AND R5207                ; CAP SET chuck2-2 open limit
ORL
ANL
JMP @MR2305
MPP
LD R5200                 ; CAP SET chuck1-1 close limit
AND R5204                ; CAP SET chuck2-1 close limit
LD R5200                 ; CAP SET chuck1-1 close limit
AND= DM20502 #0          ; UT5-2 Work detection
AND R5205                ; CAP SET chuck2-1 open limit
ORL
LD= DM20500 #0           ; UT5-1 Work detection
AND R5201                ; CAP SET chuck1-1 open limit
AND R5204                ; CAP SET chuck2-1 close limit
ORL
AND R5203                ; CAP SET chuck1-2 open limit
AND R5207                ; CAP SET chuck2-2 open limit
ANL
JMP @MR2302
STG @MR2302
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
MPS
LD R5313                 ; CAP SET rotation back limit
AND MR3705               ; CAP set rotaion  I/L
ANL
RES MR7409               ; CAP SET back
CON
SET MR7408               ; CAP SET rotation
CON
SET @MR1600              ; CAP Set chuck turning inishal 
CON
JMP @MR2303
MPP
LD R5312                 ; CAP SET rotation rotation limit
AND MR3704               ; CAP set rotaion back I/L
ANL
RES MR7408               ; CAP SET rotation
CON
SET MR7409               ; CAP SET back
CON
SET @MR1600              ; CAP Set chuck turning inishal 
CON
JMP @MR2304
STG @MR2303
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
AND R5312                ; CAP SET rotation rotation limit
AND @MR1602              ; CAP Set chuck turning finish 
RES @MR1602              ; CAP Set chuck turning finish 
CON
JMP @MR2307
STG @MR2304
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
AND R5313                ; CAP SET rotation back limit
AND @MR1602              ; CAP Set chuck turning finish 
RES @MR1602              ; CAP Set chuck turning finish 
CON
JMP @MR2307
STG @MR2305
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
ANB @MR1602              ; CAP Set chuck turning finish 
SET @MR1600              ; CAP Set chuck turning inishal 
CON
JMP @MR2306
STG @MR2306
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
AND @MR1602              ; CAP Set chuck turning finish 
RES @MR1602              ; CAP Set chuck turning finish 
CON
JMP @MR2307
STG @MR2307
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
MPS
ANB @MR006               ; STEP oparation
RES @MR2800
CON
ENDS
MPP
LD @MR006                ; STEP oparation
ANB MR7401               ; Liner feeder ON
AND @MR3013
ANL
SET @MR3014
CON
JMP @MR2308
STG @MR2308
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
AND @MR3015              ; CAP separate finish
AND @MR006               ; STEP oparation
ANB MR7401               ; Liner feeder ON
RES @MR2800
CON
RES @MR3015              ; CAP separate finish
CON
JMP @MR2910              ; oparation finish
;動作終了
;An End of Operation
STG @MR2910              ; oparation finish
RES MR406                ; UT6 work detection/data check 
CON
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
MPS
AND R50001               ; AUTO mode
SET R51906               ; UT6 1cycle finished
CON
JMP @MR2911
MPP
AND R50002               ; STEP mode
SET R50009               ; HOLDRQ
CON
SET R51906               ; UT6 1cycle finished
CON
JMP @MR2911
STG @MR2911
ANB R50209               ; Operation Start
MPS
AND R50001               ; AUTO mode
MPS
LDB R50000               ; HOLD
AND R50409               ; Cycyle Finished
ANL
SET @MR2000              ; UT6 AUTO START
CON
ENDS
MPP
AND R50000               ; HOLD
JMP @MR2912
MPP
LD R50002                ; STEP mode
AND R50000               ; HOLD
ANL
JMP @MR2912
;終了処理
;Processing of end
STG @MR2912
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
MPS
AND @MR2001              ; AUTO oparation
SET @MR2915              ; Auto oparation finish
CON
ENDS
MPP
AND @MR006               ; STEP oparation
RES @MR006               ; STEP oparation
CON
SET @MR3915              ; STEP oparation finish
CON
ENDS
;<h1/>STEP
LD R50002                ; STEP mode
ANB R50300               ; Pause
ANB R51806               ; UT6 Do
SET @MR006               ; STEP oparation
CON
SET R51806               ; UT6 Do
CON
SET @MR3900
STG @MR3900
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
MPS
LD LR40700               ; STEP UT6-0 selection lamp
OR LR40701               ; STEP UT6-1 selection lamp
ANL
JMP @MR3901
MPP
LDB LR40700              ; STEP UT6-0 selection lamp
ANB LR40701              ; STEP UT6-1 selection lamp
ANL
JMP @MR3901
;チャック位置確認
STG @MR3901
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
LDA #3
CON
ADD EM1202               ; Main INDEX current POS
CON
STA DM19600              ; UT6 chuck No.
CON
JMP @MR3902
STG @MR3902
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
MPS
LD>= DM19600 #1          ; UT6 chuck No.
AND<= DM19600 #8         ; UT6 chuck No.
ANL
JMP @MR3903
MPP
AND> DM19600 #8          ; UT6 chuck No.
LDA DM19600              ; UT6 chuck No.
CON
SUB #8
CON
STA DM19600              ; UT6 chuck No.
CON
JMP @MR3903
;チャック位置確認ここまで
STG @MR3903
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
@SET LR000               ; Step/Manual Oparation Memory
CON
MPS
AND= DM19600 #1          ; UT6 chuck No.
SET MR7801               ; INDEX chuck1 open
CON
RES MR7800               ; INDEX chuck1 close
CON
JMP @MR3904
MRD
AND= DM19600 #2          ; UT6 chuck No.
SET MR7803               ; INDEX chuck2 open
CON
RES MR7802               ; INDEX chuck2 close
CON
JMP @MR3904
MRD
AND= DM19600 #3          ; UT6 chuck No.
SET MR7805               ; INDEX chuck3 open
CON
RES MR7804               ; INDEX chuck3 close
CON
JMP @MR3904
MRD
AND= DM19600 #4          ; UT6 chuck No.
SET MR7807               ; INDEX chuck4 open
CON
RES MR7806               ; INDEX chuck4 close
CON
JMP @MR3904
MRD
AND= DM19600 #5          ; UT6 chuck No.
SET MR7809               ; INDEX chuck5 open
CON
RES MR7808               ; INDEX chuck5 close
CON
JMP @MR3904
MRD
AND= DM19600 #6          ; UT6 chuck No.
SET MR7811               ; INDEX chuck6 open
CON
RES MR7810               ; INDEX chuck6 close
CON
JMP @MR3904
MRD
AND= DM19600 #7          ; UT6 chuck No.
SET MR7813               ; INDEX chuck7 open
CON
RES MR7812               ; INDEX chuck7 close
CON
JMP @MR3904
MPP
AND= DM19600 #8          ; UT6 chuck No.
SET MR7815               ; INDEX chuck8 open
CON
RES MR7814               ; INDEX chuck8 close
CON
JMP @MR3904
STG @MR3904
ANB R50300               ; Pause
ANB R51705               ; UT5 ERROR
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
JMP @MR3905
STG @MR3905
MPS
AND= EM1202 #6           ; Main INDEX current POS
RES MR7801               ; INDEX chuck1 open
CON
SET MR7800               ; INDEX chuck1 close
CON
JMP @MR3906
MRD
AND= EM1202 #7           ; Main INDEX current POS
RES MR7803               ; INDEX chuck2 open
CON
SET MR7802               ; INDEX chuck2 close
CON
JMP @MR3906
MRD
AND= EM1202 #8           ; Main INDEX current POS
RES MR7805               ; INDEX chuck3 open
CON
SET MR7804               ; INDEX chuck3 close
CON
JMP @MR3906
MRD
AND= EM1202 #1           ; Main INDEX current POS
RES MR7807               ; INDEX chuck4 open
CON
SET MR7806               ; INDEX chuck4 close
CON
JMP @MR3906
MRD
AND= EM1202 #2           ; Main INDEX current POS
RES MR7809               ; INDEX chuck5 open
CON
SET MR7808               ; INDEX chuck5 close
CON
JMP @MR3906
MRD
AND= EM1202 #3           ; Main INDEX current POS
RES MR7811               ; INDEX chuck6 open
CON
SET MR7810               ; INDEX chuck6 close
CON
JMP @MR3906
MRD
AND= EM1202 #4           ; Main INDEX current POS
RES MR7813               ; INDEX chuck7 open
CON
SET MR7812               ; INDEX chuck7 close
CON
JMP @MR3906
MPP
AND= EM1202 #5           ; Main INDEX current POS
RES MR7815               ; INDEX chuck8 open
CON
SET MR7814               ; INDEX chuck8 close
CON
JMP @MR3906
STG @MR3906
ANB R50300               ; Pause
ANB R51705               ; UT5 ERROR
TMR @20 #5
CON
AND @T20
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
JMP @MR3907
STG @MR3907
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
MPS
LD R4810                 ; INDEX chuck 6-1 work existence
AND R4811                ; INDEX chuck 6-2 work existence
ANL
MPS
LDB R5314                ; INDEX chuck6-1 cap detection
ANB R5315                ; INDEX chuck6-2 cap detection
ANL
DW #5 DM20600            ; UT6-1 Work detection
CON
DW #5 DM20602            ; UT6-2 Work detection
CON
SET @MR2100              ; normal oparation
CON
JMP @MR3913
MPP
LD R5314                 ; INDEX chuck6-1 cap detection
OR R5315                 ; INDEX chuck6-2 cap detection
ANL
SET @MR2910              ; oparation finish
CON
JMP @MR3913
MRD
LD R4810                 ; INDEX chuck 6-1 work existence
ANB R4811                ; INDEX chuck 6-2 work existence
ANL
MPS
LDB R5314                ; INDEX chuck6-1 cap detection
ANB R5315                ; INDEX chuck6-2 cap detection
ANL
DW #5 DM20600            ; UT6-1 Work detection
CON
SET @MR2100              ; normal oparation
CON
JMP @MR3913
MPP
LD R5314                 ; INDEX chuck6-1 cap detection
OR R5315                 ; INDEX chuck6-2 cap detection
ANL
SET @MR2910              ; oparation finish
CON
JMP @MR3913
MRD
LDB R4810                ; INDEX chuck 6-1 work existence
AND R4811                ; INDEX chuck 6-2 work existence
ANL
MPS
LDB R5314                ; INDEX chuck6-1 cap detection
ANB R5315                ; INDEX chuck6-2 cap detection
ANL
DW #5 DM20602            ; UT6-2 Work detection
CON
SET @MR2100              ; normal oparation
CON
JMP @MR3913
MPP
LD R5314                 ; INDEX chuck6-1 cap detection
OR R5315                 ; INDEX chuck6-2 cap detection
ANL
SET @MR2910              ; oparation finish
CON
JMP @MR3913
MPP
LDB R4810                ; INDEX chuck 6-1 work existence
ANB R4811                ; INDEX chuck 6-2 work existence
ANL
SET @MR2910              ; oparation finish
CON
JMP @MR3913
STG @MR3913
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
@SET LR000               ; Step/Manual Oparation Memory
CON
ANB @MR006               ; STEP oparation
MPS
AND= EM1202 #6           ; Main INDEX current POS
SET MR7801               ; INDEX chuck1 open
CON
RES MR7800               ; INDEX chuck1 close
CON
JMP @MR3914
MRD
AND= EM1202 #7           ; Main INDEX current POS
SET MR7803               ; INDEX chuck2 open
CON
RES MR7802               ; INDEX chuck2 close
CON
JMP @MR3914
MRD
AND= EM1202 #8           ; Main INDEX current POS
SET MR7805               ; INDEX chuck3 open
CON
RES MR7804               ; INDEX chuck3 close
CON
JMP @MR3914
MRD
AND= EM1202 #1           ; Main INDEX current POS
SET MR7807               ; INDEX chuck4 open
CON
RES MR7806               ; INDEX chuck4 close
CON
JMP @MR3914
MRD
AND= EM1202 #2           ; Main INDEX current POS
SET MR7809               ; INDEX chuck5 open
CON
RES MR7808               ; INDEX chuck5 close
CON
JMP @MR3914
MRD
AND= EM1202 #3           ; Main INDEX current POS
SET MR7811               ; INDEX chuck6 open
CON
RES MR7810               ; INDEX chuck6 close
CON
JMP @MR3914
MRD
AND= EM1202 #4           ; Main INDEX current POS
SET MR7813               ; INDEX chuck7 open
CON
RES MR7812               ; INDEX chuck7 close
CON
JMP @MR3914
MPP
AND= EM1202 #5           ; Main INDEX current POS
SET MR7815               ; INDEX chuck8 open
CON
RES MR7814               ; INDEX chuck8 close
CON
JMP @MR3914
STG @MR3914
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
DW #0 DM20600            ; UT6-1 Work detection
CON
DW #0 DM20602            ; UT6-2 Work detection
CON
ENDS
LDB R50003               ; HOME mode
ANB R50001               ; AUTO mode
ANB R50002               ; STEP mode
AND @MR3915              ; STEP oparation finish
RES R51806               ; UT6 Do
CON
RES @MR3915              ; STEP oparation finish
;<h1/>ｻﾌﾞﾙｰﾁﾝ
;Subrutine
;RB10 ｷｬｯﾌﾟPP上下 上昇移動
STG MR5200               ; RB10 CAP PP up moving request
SET MR5202               ; RB10 CAP PP up moving 
CON
DW #5 EM1318             ; RB10 CAP PP terget POS
CON
AND DM10579.1            ; RB10 CAP PP home Complete
AND MR3009               ; RB10 CAP PP start I/L
SET R35900               ; RB10 CAP PP move
CON
JMP @MR1501
STG @MR1501
AND R35901               ; RB10 CAP PP move
AND T2324                ; RB10 CAP SET paste POS5(Down)
AND= EM1319 #5           ; RB10 CAP PP current POS
RES MR5202               ; RB10 CAP PP up moving 
CON
SET MR5201               ; RB10 CAP PP up moving complete
CON
RES R35901               ; RB10 CAP PP move
CON
ENDS
;RB10 ｷｬｯﾌﾟPP上下 下降移動
STG MR5208               ; RB10 CAP PP down moving request
SET MR5210               ; RB10 CAP PP down moving 
CON
DW #10 EM1318            ; RB10 CAP PP terget POS
CON
AND DM10579.1            ; RB10 CAP PP home Complete
AND MR3009               ; RB10 CAP PP start I/L
SET R35900               ; RB10 CAP PP move
CON
JMP @MR1509
STG @MR1509
AND R35901               ; RB10 CAP PP move
AND T2329                ; RB10 CAP SET paste POS10(UP)
AND= EM1319 #10          ; RB10 CAP PP current POS
RES MR5210               ; RB10 CAP PP down moving 
CON
SET MR5209               ; RB10 CAP PP down moving complete
CON
RES R35901               ; RB10 CAP PP move
CON
ENDS
;ｷｬｯﾌﾟｾｯﾄ　ﾁｬｯｸ旋回　ｲﾆｼｬﾗｲｽﾞ
STG @MR1600              ; CAP Set chuck turning inishal 
RES MR8210               ; CAP SET chuck rotation 1-1 CW
CON
SET MR8211               ; CAP SET chuck rotation 1-1 CCW
CON
RES MR8212               ; CAP SET chuck rotation 1-2 CW
CON
SET MR8213               ; CAP SET chuck rotation 1-2 CCW
CON
RES MR8214               ; CAP SET chuck rotation 2-1 CW
CON
SET MR8215               ; CAP SET chuck rotation 2-1 CCW
CON
RES MR8300               ; CAP SET chuck rotation 2-2 CW
CON
SET MR8301               ; CAP SET chuck rotation 2-2 CCW
CON
JMP @MR1601
STG @MR1601
ANB R5212                ; CAP set chuck rotation 1-1 CW
AND R5213                ; CAP set chuck rotation 1-1 CCW
ANB R5214                ; CAP set chuck rotation 1-2 CW
AND R5215                ; CAP set chuck rotation 1-2 CCW
ANB R5300                ; CAP set chuck rotation 2-1 CW
AND R5301                ; CAP set chuck rotation 2-1 CCW
ANB R5302                ; CAP set chuck rotation 2-2 CW
AND R5303                ; CAP set chuck rotation 2-2 CCW
SET @MR1602              ; CAP Set chuck turning finish 
CON
ENDS
;ｷｬｯﾌﾟ切出
;1側ｷｬｯﾌﾟ確認
STG @MR3000              ; CAP separate request
@SET @MR3012
CON
MPS
ANB R51706               ; UT6 ERROR
SET MR7401               ; Liner feeder ON
CON
SET MR8313               ; Cap separator Down
CON
RES MR8312               ; Cap separator Up
CON
AND R5615                ; CAP separator Lower limit
ANB R5614                ; CAP separator Upper limit
JMP @MR3001
MPP
AND R46815               ; Separator Down Error
JMP @MR3200
STG @MR3001
ANB R51706               ; UT6 ERROR
MPS
LD= FM40 #1              ; Cap Type
ANB R5708                ; CAP separator1 type detection1 
LD= FM40 #2              ; Cap Type
LDB R5704                ; CAP separator1 type detection2 
ORB R5705                ; CAP separator1 type detection3 
ANL
ORL
LD= FM40 #3              ; Cap Type
ANB R5704                ; CAP separator1 type detection2 
ANB R5705                ; CAP separator1 type detection3 
ORL
ANB MR705                ; CAP judgement invalid
LD MR705                 ; CAP judgement invalid
ANB R5704                ; CAP separator1 type detection2 
ANB R5705                ; CAP separator1 type detection3 
ANB R5708                ; CAP separator1 type detection1 
ORL
OR @MR2807
LDB LR2200               ; Parameter Seal cap
LD LR2200                ; Parameter Seal cap
AND MR202                ; Seal Cap OK
ORL
ANL
ANL
JMP @MR3207
MPP
ANB @MR2807
MPS
LD= FM40 #1              ; Cap Type
AND R5708                ; CAP separator1 type detection1 
LD= FM40 #2              ; Cap Type
ANB R5708                ; CAP separator1 type detection1 
AND R5704                ; CAP separator1 type detection2 
AND R5705                ; CAP separator1 type detection3 
ORL
LD= FM40 #3              ; Cap Type
ANB R5708                ; CAP separator1 type detection1 
AND R5704                ; CAP separator1 type detection2 
ANB R5705                ; CAP separator1 type detection3 
ORL
ANB MR705                ; CAP judgement invalid
ANL
JMP @MR3004
MPP
LD MR705                 ; CAP judgement invalid
LD R5704                 ; CAP separator1 type detection2 
OR R5705                 ; CAP separator1 type detection3 
OR R5708                 ; CAP separator1 type detection1 
ANL
ANL
SET MR900                ; Separator1 CAP OK
CON
JMP @MR3004
STG @MR3207
ANB R51706               ; UT6 ERROR
MPS
AND R5703                ; Parts feeder cap detection
JMP @MR3002
MPP
LD R5607                 ; Linear feeder tip cap detecti
ANB R5703                ; Parts feeder cap detection
ANL
TMR @15 #10
CON
AND @T15
JMP @MR3002
STG @MR3002
MPS
ANB R51706               ; UT6 ERROR
SET MR7401               ; Liner feeder ON
CON
RES MR8305               ; CAP SET Separator lower back
CON
SET MR8304               ; CAP SET Separator lower forward
CON
AND R5306                ; CAP Separator lower forward limi
ANB R5307                ; CAP Separator lower backward lim
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
@WSR DM19900 #1 #1       ; Seal Pakkin NG1 memory 
JMP @MR3003
MPP
AND R46914               ; CAP SET Separator lower forward 
JMP @MR3200
STG @MR3003
ANB R51706               ; UT6 ERROR
MPS
LD= FM40 #1              ; Cap Type
AND R5708                ; CAP separator1 type detection1 
LD= FM40 #2              ; Cap Type
ANB R5708                ; CAP separator1 type detection1 
AND R5704                ; CAP separator1 type detection2 
AND R5705                ; CAP separator1 type detection3 
ORL
LD= FM40 #3              ; Cap Type
ANB R5708                ; CAP separator1 type detection1 
AND R5704                ; CAP separator1 type detection2 
ANB R5705                ; CAP separator1 type detection3 
ORL
ANB MR705                ; CAP judgement invalid
LD MR705                 ; CAP judgement invalid
LD R5704                 ; CAP separator1 type detection2 
OR R5705                 ; CAP separator1 type detection3 
OR R5708                 ; CAP separator1 type detection1 
ANL
ORL
ANL
TMR @1 #5
CON
AND @T1
JMP @MR3208
MRD
LD= FM40 #1              ; Cap Type
ANB R5708                ; CAP separator1 type detection1 
AND R5703                ; Parts feeder cap detection
ANB MR705                ; CAP judgement invalid
ANL
TMR @11 #50
CON
AND @T11
SET @MR2700              ; UT6-1 CAP type error
CON
JMP @MR3200
MRD
LD= FM40 #2              ; Cap Type
LD R5708                 ; CAP separator1 type detection1 
ORB R5704                ; CAP separator1 type detection2 
ORB R5705                ; CAP separator1 type detection3 
ANL
AND R5703                ; Parts feeder cap detection
ANB MR705                ; CAP judgement invalid
ANL
TMR @12 #50
CON
AND @T12
SET @MR2701              ; UT6-2 CAP type error
CON
JMP @MR3200
MPP
LD= FM40 #3              ; Cap Type
LD R5708                 ; CAP separator1 type detection1 
ORB R5704                ; CAP separator1 type detection2 
OR R5705                 ; CAP separator1 type detection3 
ANL
AND R5703                ; Parts feeder cap detection
ANB MR705                ; CAP judgement invalid
ANL
TMR @13 #50
CON
AND @T13
SET @MR2702              ; UT6-1 CAP type2 error
CON
JMP @MR3200
;<h1/>ｼｰﾙﾊﾟｯｷﾝNG 記憶
STG @MR3208
MPS
ANB R5710                ; CAP seal packiin detection
JMP @MR3210
MPP
AND R5710                ; CAP seal packiin detection
TMR @9 #1
CON
AND @T9
DW #1 DM19900            ; Seal Pakkin NG1 memory 
CON
JMP @MR3210
;<h1/>ｼｰﾙﾊﾟｯｷﾝNG 確認
STG @MR3210
MPS
AND<> DM19901 #1         ; Seal Pakkin NG1
SET MR900                ; Separator1 CAP OK
CON
JMP @MR3004
MPP
AND= DM19901 #1          ; Seal Pakkin NG1
RES MR7401               ; Liner feeder ON
CON
SET @MR2711              ; CAP take out request
CON
JMP @MR3211
STG @MR3211
AND @MR110
RES @MR110
CON
JMP @MR3212
STG @MR3212
MPS
LDB R5704                ; CAP separator1 type detection2 
ANB R5705                ; CAP separator1 type detection3 
ANL
SET MR7401               ; Liner feeder ON
CON
JMP @MR3004
MPP
LD R5704                 ; CAP separator1 type detection2 
OR R5705                 ; CAP separator1 type detection3 
ANL
JMP @MR3210
;2側ｷｬｯﾌﾟ確認
STG @MR3004
ANB R51706               ; UT6 ERROR
MPS
LD= FM40 #1              ; Cap Type
ANB R5709                ; CAP separator2 type detection1 
LD= FM40 #2              ; Cap Type
LDB R5706                ; CAP separator2 type detection2
ORB R5707                ; CAP separator2 type detection3
ANL
ORL
LD= FM40 #3              ; Cap Type
ANB R5706                ; CAP separator2 type detection2
ANB R5707                ; CAP separator2 type detection3
ORL
ANB MR705                ; CAP judgement invalid
LD MR705                 ; CAP judgement invalid
ANB R5706                ; CAP separator2 type detection2
ANB R5707                ; CAP separator2 type detection3
ANB R5709                ; CAP separator2 type detection1 
ORL
OR @MR2807
LDB LR2200               ; Parameter Seal cap
LD LR2200                ; Parameter Seal cap
AND MR202                ; Seal Cap OK
ORL
ANL
ANL
JMP @MR3307
MPP
ANB @MR2807
MPS
LD= FM40 #1              ; Cap Type
AND R5709                ; CAP separator2 type detection1 
LD= FM40 #2              ; Cap Type
ANB R5709                ; CAP separator2 type detection1 
AND R5706                ; CAP separator2 type detection2
AND R5707                ; CAP separator2 type detection3
ORL
LD= FM40 #3              ; Cap Type
ANB R5709                ; CAP separator2 type detection1 
AND R5706                ; CAP separator2 type detection2
ANB R5707                ; CAP separator2 type detection3
ORL
ANB MR705                ; CAP judgement invalid
ANL
JMP @MR3008
MPP
LD MR705                 ; CAP judgement invalid
LD R5706                 ; CAP separator2 type detection2
OR R5707                 ; CAP separator2 type detection3
OR R5709                 ; CAP separator2 type detection1 
ANL
ANL
SET MR901                ; Separator2 CAP OK
CON
JMP @MR3008
STG @MR3307
ANB R51706               ; UT6 ERROR
MPS
AND R5703                ; Parts feeder cap detection
JMP @MR3005
MPP
LD R5607                 ; Linear feeder tip cap detecti
ANB R5703                ; Parts feeder cap detection
ANL
TMR @16 #5
CON
AND @T16
JMP @MR3005
STG @MR3005
ANB R51706               ; UT6 ERROR
RES MR8304               ; CAP SET Separator lower forward
CON
SET MR8305               ; CAP SET Separator lower back
CON
RES MR8303               ; CAP SET Separator upper back
CON
SET MR8302               ; CAP SET Separator upper forward
CON
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
JMP @MR3006
STG @MR3006
MPS
ANB R51706               ; UT6 ERROR
SET MR7401               ; Liner feeder ON
CON
AND R5307                ; CAP Separator lower backward lim
ANB R5306                ; CAP Separator lower forward limi
ANB R5305                ; CAP Separator upper backward lim
AND R5304                ; CAP Separator upper forward limi
@WSR DM19950 #1 #1       ; Seal Pakkin NG2 memory 
JMP @MR3007
MPP
LD R46915                ; CAP SET Separator lower backward
OR R46912                ; CAP SET Separator upper forward 
ANL
JMP @MR3200
STG @MR3007
ANB R51706               ; UT6 ERROR
MPS
LD= FM40 #1              ; Cap Type
AND R5709                ; CAP separator2 type detection1 
LD= FM40 #2              ; Cap Type
ANB R5709                ; CAP separator2 type detection1 
AND R5706                ; CAP separator2 type detection2
AND R5707                ; CAP separator2 type detection3
ORL
LD= FM40 #3              ; Cap Type
ANB R5709                ; CAP separator2 type detection1 
AND R5706                ; CAP separator2 type detection2
ANB R5707                ; CAP separator2 type detection3
ORL
ANB MR705                ; CAP judgement invalid
LD MR705                 ; CAP judgement invalid
LD R5706                 ; CAP separator2 type detection2
OR R5707                 ; CAP separator2 type detection3
OR R5709                 ; CAP separator2 type detection1 
ANL
ORL
ANL
TMR @2 #5
CON
AND @T2
JMP @MR3308
MRD
LD= FM40 #1              ; Cap Type
ANB R5709                ; CAP separator2 type detection1 
AND R5703                ; Parts feeder cap detection
ANB MR705                ; CAP judgement invalid
ANL
TMR @21 #50
CON
AND @T21
SET @MR2703              ; UT6-2 CAP type1 error
CON
JMP @MR3200
MRD
LD= FM40 #2              ; Cap Type
LD R5709                 ; CAP separator2 type detection1 
ORB R5706                ; CAP separator2 type detection2
ORB R5707                ; CAP separator2 type detection3
ANL
AND R5703                ; Parts feeder cap detection
ANB MR705                ; CAP judgement invalid
ANL
TMR @22 #50
CON
AND @T22
SET @MR2704              ; UT6-2 CAP type2 error
CON
JMP @MR3200
MPP
LD= FM40 #3              ; Cap Type
LD R5709                 ; CAP separator2 type detection1 
ORB R5706                ; CAP separator2 type detection2
OR R5707                 ; CAP separator2 type detection3
ANL
AND R5703                ; Parts feeder cap detection
ANB MR705                ; CAP judgement invalid
ANL
TMR @23 #50
CON
AND @T23
SET @MR2705              ; UT6-2 CAP type3 error
CON
JMP @MR3200
;<h1/>ｼｰﾙﾊﾟｯｷﾝNG 記憶
STG @MR3308
MPS
ANB R5710                ; CAP seal packiin detection
JMP @MR3310
MPP
AND R5710                ; CAP seal packiin detection
TMR @10 #1
CON
AND @T10
DW #1 DM19950            ; Seal Pakkin NG2 memory 
CON
JMP @MR3310
;<h1/>ｼｰﾙﾊﾟｯｷﾝNG 確認
STG @MR3310
MPS
AND<> DM19951 #1         ; Seal Pakkin NG2 
SET MR901                ; Separator2 CAP OK
CON
JMP @MR3008
MPP
AND= DM19951 #1          ; Seal Pakkin NG2 
RES MR7401               ; Liner feeder ON
CON
SET @MR2712              ; CAP take out request
CON
JMP @MR3311
STG @MR3311
AND @MR111
RES @MR111
CON
JMP @MR3312
STG @MR3312
MPS
LDB R5706                ; CAP separator2 type detection2
ANB R5707                ; CAP separator2 type detection3
ANL
SET MR7401               ; Liner feeder ON
CON
JMP @MR3008
MPP
LD R5706                 ; CAP separator2 type detection2
OR R5707                 ; CAP separator2 type detection3
ANL
JMP @MR3310
STG @MR3008
MPS
ANB R51706               ; UT6 ERROR
RES MR8302               ; CAP SET Separator upper forward
CON
SET MR8303               ; CAP SET Separator upper back
CON
RES MR8304               ; CAP SET Separator lower forward
CON
SET MR8305               ; CAP SET Separator lower back
CON
AND R5305                ; CAP Separator upper backward lim
ANB R5304                ; CAP Separator upper forward limi
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
JMP @MR3009
MPP
AND R46913               ; CAP SET Separator upper backward
JMP @MR3200
STG @MR3009
MPS
LDB R51706               ; UT6 ERROR
AND R5305                ; CAP Separator upper backward lim
ANB R5304                ; CAP Separator upper forward limi
AND R5307                ; CAP Separator lower backward lim
ANB R5306                ; CAP Separator lower forward limi
ANL
MPS
LD= FM40 #1              ; Cap Type
AND R5708                ; CAP separator1 type detection1 
AND R5709                ; CAP separator2 type detection1 
LD= FM40 #2              ; Cap Type
ANB R5708                ; CAP separator1 type detection1 
AND R5704                ; CAP separator1 type detection2 
AND R5705                ; CAP separator1 type detection3 
ANB R5709                ; CAP separator2 type detection1 
AND R5706                ; CAP separator2 type detection2
AND R5707                ; CAP separator2 type detection3
ORL
LD= FM40 #3              ; Cap Type
ANB R5708                ; CAP separator1 type detection1 
AND R5704                ; CAP separator1 type detection2 
ANB R5705                ; CAP separator1 type detection3 
ANB R5709                ; CAP separator2 type detection1 
AND R5706                ; CAP separator2 type detection2
ANB R5707                ; CAP separator2 type detection3
ORL
OR CR2002                ; Normal ON
ANL
MPS
ANB R5710                ; CAP seal packiin detection
TMR @8 #5
CON
AND @T8
SET @MR3013
CON
JMP @MR3010
MPP
AND R5710                ; CAP seal packiin detection
DW #1 DM19900            ; Seal Pakkin NG1 memory 
CON
DW #1 DM19950            ; Seal Pakkin NG2 memory 
CON
SET @MR3013
CON
JMP @MR3010
MPP
LD= FM40 #1              ; Cap Type
LDB R5708                ; CAP separator1 type detection1 
ORB R5709                ; CAP separator2 type detection1 
ANL
LD= FM40 #2              ; Cap Type
LDB R5704                ; CAP separator1 type detection2 
ORB R5705                ; CAP separator1 type detection3 
ORB R5706                ; CAP separator2 type detection2
ORB R5707                ; CAP separator2 type detection3
ANL
ORL
LD= FM40 #3              ; Cap Type
LDB R5704                ; CAP separator1 type detection2 
ORB R5706                ; CAP separator2 type detection2
ANL
ORL
ANL
TMR @6 #10
CON
AND @T6
AND CR2003               ; Normal OFF
JMP @MR3001
MPP
LD R46915                ; CAP SET Separator lower backward
OR R46913                ; CAP SET Separator upper backward
ANL
JMP @MR3200
STG @MR3010
ANB R50300               ; Pause
ANB R51706               ; UT6 ERROR
MPS
AND @MR3014
RES @MR3013
CON
JMP @MR3011
MPP
LDB @MR3014
LDB MR705                ; CAP judgement invalid
LD= FM40 #1              ; Cap Type
LDB R5708                ; CAP separator1 type detection1 
ORB R5709                ; CAP separator2 type detection1 
ANL
LD= FM40 #2              ; Cap Type
LDB R5704                ; CAP separator1 type detection2 
ORB R5705                ; CAP separator1 type detection3 
ORB R5706                ; CAP separator2 type detection2
ORB R5707                ; CAP separator2 type detection3
ANL
ORL
LD= FM40 #3              ; Cap Type
LDB R5704                ; CAP separator1 type detection2 
ORB R5706                ; CAP separator2 type detection2
ANL
ORL
ANL
LD MR705                 ; CAP judgement invalid
LDB R5704                ; CAP separator1 type detection2 
ANB R5705                ; CAP separator1 type detection3 
LDB R5706                ; CAP separator2 type detection2
ANB R5707                ; CAP separator2 type detection3
ORL
ANL
ORL
ANL
ANL
TMR @7 #10
CON
AND @T7
RES @MR3013
CON
JMP @MR3001
STG @MR3011
MPS
ANB R51706               ; UT6 ERROR
RES MR8313               ; Cap separator Down
CON
SET MR8312               ; Cap separator Up
CON
ANB R5615                ; CAP separator Lower limit
AND R5614                ; CAP separator Upper limit
RES @MR3014
CON
RES @MR3012
CON
SET @MR3015              ; CAP separate finish
CON
ENDS
MPP
AND R46814               ; Separator Up Error
RES @MR3014
CON
RES @MR3012
CON
SET @MR3300
CON
ENDS
STG @MR3200
SET MR8313               ; Cap separator Down
CON
RES MR8312               ; Cap separator Up
CON
JMP @MR3201
STG @MR3201
LD R5615                 ; CAP separator Lower limit
ANB R5614                ; CAP separator Upper limit
OR R46815                ; Separator Down Error
ANL
RES MR8302               ; CAP SET Separator upper forward
CON
SET MR8303               ; CAP SET Separator upper back
CON
RES MR8304               ; CAP SET Separator lower forward
CON
SET MR8305               ; CAP SET Separator lower back
CON
JMP @MR3202
STG @MR3202
LD R5305                 ; CAP Separator upper backward lim
ANB R5304                ; CAP Separator upper forward limi
OR R46913                ; CAP SET Separator upper backward
ANL
LD R5307                 ; CAP Separator lower backward lim
ANB R5306                ; CAP Separator lower forward limi
OR R46915                ; CAP SET Separator lower backward
ANL
MPS
AND= EM1319 #10          ; RB10 CAP PP current POS
RES @MR3012
CON
SET @MR3300
CON
ENDS
MPP
LD<> EM1319 #10          ; RB10 CAP PP current POS
ANB R5704                ; CAP separator1 type detection2 
ANB R5705                ; CAP separator1 type detection3 
ANB R5708                ; CAP separator1 type detection1 
ANB R5706                ; CAP separator2 type detection2
ANB R5707                ; CAP separator2 type detection3
ANB R5709                ; CAP separator2 type detection1 
ANL
JMP @MR3000              ; CAP separate request
LD R50001                ; AUTO mode
AND R51806               ; UT6 Do
AND= @MR3000 #0          ; CAP separate request
LD R50002                ; STEP mode
AND R51806               ; UT6 Do
LD= @MR3000 #0           ; CAP separate request
OR @MR3015               ; CAP separate finish
ANL
ORL
AND MR7401               ; Liner feeder ON
AND R5703                ; Parts feeder cap detection
TMR @4 #100
CON
AND @T4
RES MR7401               ; Liner feeder ON
;<h1/>ｴﾗｰ表示
;Error display
;Error 44
;UT6-1 ｷｬｯﾌﾟﾀｲﾌﾟ1未検出異常
STG @MR2700              ; UT6-1 CAP type error
ANB R50008               ; Whole ERROR
SET R50008               ; Whole ERROR
CON
SET R51706               ; UT6 ERROR
CON
SET R50711               ; 44.UT6-1 CAP type1 detection err
CON
JMP @MR100
MOV #44 DM400            ; Message NO.
STG @MR100
AND R50008               ; Whole ERROR
JMP @MR101
STG @MR101
ANB R50008               ; Whole ERROR
ENDS
;Error 45
;UT6-1 ｷｬｯﾌﾟﾀｲﾌﾟ2未検出異常
STG @MR2701              ; UT6-2 CAP type error
ANB R50008               ; Whole ERROR
SET R50008               ; Whole ERROR
CON
SET R51706               ; UT6 ERROR
CON
SET R50712               ; 45.UT6-1 CAP type2 detection err
CON
JMP @MR104
MOV #45 DM400            ; Message NO.
STG @MR104
AND R50008               ; Whole ERROR
JMP @MR105
STG @MR105
ANB R50008               ; Whole ERROR
ENDS
;Error 46
;UT6-1 ｷｬｯﾌﾟﾀｲﾌﾟ3未検出異常
STG @MR2702              ; UT6-1 CAP type2 error
ANB R50008               ; Whole ERROR
SET R50008               ; Whole ERROR
CON
SET R51706               ; UT6 ERROR
CON
SET R50713               ; 46.UT6-1 CAP type3 detection err
CON
JMP @MR108
MOV #46 DM400            ; Message NO.
STG @MR108
AND R50008               ; Whole ERROR
JMP @MR109
STG @MR109
ANB R50008               ; Whole ERROR
ENDS
;Error 47
;UT6-2 ｷｬｯﾌﾟﾀｲﾌﾟ1未検出異常
STG @MR2703              ; UT6-2 CAP type1 error
ANB R50008               ; Whole ERROR
SET R50008               ; Whole ERROR
CON
SET R51706               ; UT6 ERROR
CON
SET R50714               ; 47.UT6-2 CAP type1 detection err
CON
JMP @MR112
MOV #47 DM400            ; Message NO.
STG @MR112
AND R50008               ; Whole ERROR
JMP @MR113
STG @MR113
ANB R50008               ; Whole ERROR
ENDS
;Error 48
;UT6-2 ｷｬｯﾌﾟﾀｲﾌﾟ2未検出異常
STG @MR2704              ; UT6-2 CAP type2 error
ANB R50008               ; Whole ERROR
SET R50008               ; Whole ERROR
CON
SET R51706               ; UT6 ERROR
CON
SET R50715               ; 48.UT6-2 CAP type2 detection err
CON
JMP @MR200
MOV #48 DM400            ; Message NO.
STG @MR200
AND R50008               ; Whole ERROR
JMP @MR201
STG @MR201
ANB R50008               ; Whole ERROR
ENDS
;Error 49
;UT6-2 ｷｬｯﾌﾟﾀｲﾌﾟ3未検出異常
STG @MR2705              ; UT6-2 CAP type3 error
ANB R50008               ; Whole ERROR
SET R50008               ; Whole ERROR
CON
SET R51706               ; UT6 ERROR
CON
SET R50800               ; 49.UT6-2 CAP type3 detection err
CON
JMP @MR204
MOV #49 DM400            ; Message NO.
STG @MR204
AND R50008               ; Whole ERROR
JMP @MR205
STG @MR205
ANB R50008               ; Whole ERROR
ENDS
;Err77 組込異常
STG @MR2707              ; UT6-2 time over to arrive
ANB R50008               ; Whole ERROR
SET R50008               ; Whole ERROR
CON
SET R51706               ; UT6 ERROR
CON
SET R50912               ; 77.UT6-1 Remove NG Work request
CON
JMP @MR206
MOV #77 DM400            ; Message NO.
STG @MR206
AND R50008               ; Whole ERROR
SET R50106
CON
JMP @MR207
STG @MR207
ANB R50008               ; Whole ERROR
SET @MR2708
CON
ENDS
;異常時NG部表示
LD @MR3304
AND @MR3305
OUT R47400
LD @MR3304
ANB @MR3305
OUT R47401
LDB @MR3304
AND @MR3305
OUT R47402
;Err78 取り出し異常
STG @MR2709
ANB R50008               ; Whole ERROR
SET R50008               ; Whole ERROR
CON
SET R51706               ; UT6 ERROR
CON
SET R50913               ; 78.UT6-2 Remove NG Work request
CON
JMP @MR210
MOV #78 DM400            ; Message NO.
MPS
AND R5313                ; CAP SET rotation back limit
RES MR8202               ; CAP SET chuck1-2 close
CON
SET MR8203               ; CAP SET chuck1-2 open
CON
RES MR8206               ; CAP SET chuck2-2 close
CON
SET MR8207               ; CAP SET chuck2-2 open
MPP
AND R5312                ; CAP SET rotation rotation limit
RES MR8200               ; CAP SET chuck1-1 close
CON
SET MR8201               ; CAP SET chuck1-1 open
CON
RES MR8204               ; CAP SET chuck2-1 close
CON
SET MR8205               ; CAP SET chuck2-1 open
STG @MR210
AND R50008               ; Whole ERROR
JMP @MR211
STG @MR211
ANB R50008               ; Whole ERROR
SET @MR2710
CON
ENDS
;Error 52
;UT6 ｽﾄﾚｰﾄﾌｨｰﾀﾞｰ到達ﾀｲﾑｵｰﾊﾞｰ
LD R50001                ; AUTO mode
OR R50002                ; STEP mode
AND R51806               ; UT6 Do
ANB R50008               ; Whole ERROR
ANB R51706               ; UT6 ERROR
ANB R50803               ; 52.UT6 Time over strait feeder 
AND MR7401               ; Liner feeder ON
ANB R5703                ; Parts feeder cap detection
TMR @5 #600
CON
AND @T5
SET @MR2706              ; UT6-1 time over to arrive
STG @MR2706              ; UT6-1 time over to arrive
ANB R50008               ; Whole ERROR
SET R50008               ; Whole ERROR
CON
SET R51706               ; UT6 ERROR
CON
SET R50803               ; 52.UT6 Time over strait feeder 
CON
JMP @MR208
MOV #52 DM400            ; Message NO.
STG @MR208
AND R50008               ; Whole ERROR
JMP @MR209
STG @MR209
ANB R50008               ; Whole ERROR
ENDS
;UT 6-1 Seal pakkin NG
STG @MR2711              ; CAP take out request
ANB R50008               ; Whole ERROR
SET R50008               ; Whole ERROR
CON
SET R51706               ; UT6 ERROR
CON
SET R51107               ; 85.UT6-1 Seal Cap Error
CON
JMP @MR102
MOV #85 DM400            ; Message NO.
STG @MR102
AND R50008               ; Whole ERROR
JMP @MR103
STG @MR103
ANB R50008               ; Whole ERROR
SET @MR110
CON
ENDS
;UT 6-2 Seal pakkin NG
STG @MR2712              ; CAP take out request
ANB R50008               ; Whole ERROR
SET R50008               ; Whole ERROR
CON
SET R51706               ; UT6 ERROR
CON
SET R51108               ; 86.UT6-2 Seal Cap Error
CON
JMP @MR106
MOV #86 DM400            ; Message NO.
STG @MR106
AND R50008               ; Whole ERROR
JMP @MR107
STG @MR107
ANB R50008               ; Whole ERROR
SET @MR111
CON
ENDS
;UT6-1 CAP CHUCK1-1 Remove request
STG @MR300
ANB R50008               ; Whole ERROR
SET R50008               ; Whole ERROR
CON
SET R51706               ; UT6 ERROR
CON
SET R51202               ; 96.UT6-1 CAP CHUCK1-1 Remove req
CON
JMP @MR301
MOV #96 DM400            ; Message NO.
STG @MR301
AND R50008               ; Whole ERROR
JMP @MR302
STG @MR302
ANB R50008               ; Whole ERROR
SET @MR303
CON
ENDS
;UT6-2 CAP CHUCK2-1 Remove request
STG @MR304
ANB R50008               ; Whole ERROR
SET R50008               ; Whole ERROR
CON
SET R51706               ; UT6 ERROR
CON
SET R51203               ; 97.UT6-2 CAP CHUCK2-1 Remove req
CON
JMP @MR305
MOV #97 DM400            ; Message NO.
STG @MR305
AND R50008               ; Whole ERROR
JMP @MR306
STG @MR306
ANB R50008               ; Whole ERROR
SET @MR307
CON
ENDS
;UT6 CAP CHUCK1-1/2-1 Remove request
STG @MR308
ANB R50008               ; Whole ERROR
SET R50008               ; Whole ERROR
CON
SET R51706               ; UT6 ERROR
CON
SET R51204               ; 98.UT6 CAP CHUCK1-1/2-1 Remove r
CON
JMP @MR309
MOV #98 DM400            ; Message NO.
STG @MR309
AND R50008               ; Whole ERROR
JMP @MR310
STG @MR310
ANB R50008               ; Whole ERROR
SET @MR311
CON
ENDS
;UT6-1 CAP CHUCK1-2 Remove request
STG @MR312
ANB R50008               ; Whole ERROR
SET R50008               ; Whole ERROR
CON
SET R51706               ; UT6 ERROR
CON
SET R51205               ; 99.UT6-1 CAP CHUCK1-2 Remove 
CON
JMP @MR313
MOV #99 DM400            ; Message NO.
STG @MR313
AND R50008               ; Whole ERROR
JMP @MR314
STG @MR314
ANB R50008               ; Whole ERROR
SET @MR315
CON
ENDS
;UT6-2 CAP CHUCK2-2 Remove request
STG @MR400
ANB R50008               ; Whole ERROR
SET R50008               ; Whole ERROR
CON
SET R51706               ; UT6 ERROR
CON
SET R51206               ; 120.UT6-2 CAP CHUCK2-2 Remove re
CON
JMP @MR401
MOV #120 DM400           ; Message NO.
STG @MR401
AND R50008               ; Whole ERROR
JMP @MR402
STG @MR402
ANB R50008               ; Whole ERROR
SET @MR403
CON
ENDS
;UT6 CAP CHUCK1-2/2-2 Remove request
STG @MR404
ANB R50008               ; Whole ERROR
SET R50008               ; Whole ERROR
CON
SET R51706               ; UT6 ERROR
CON
SET R51207               ; 121.UT6 CAP CHUCK1-2/2-2 Remove 
CON
JMP @MR405
MOV #121 DM400           ; Message NO.
STG @MR405
AND R50008               ; Whole ERROR
JMP @MR406
STG @MR406
ANB R50008               ; Whole ERROR
SET @MR407
CON
ENDS
;<h1/>UT6 ﾎﾟｰｽﾞ禁止
;UT6 Pause Prohibition
LDB @MR800               ; Pause disable
INV
OUT R51606               ; PACK UT6
END
ENDH
