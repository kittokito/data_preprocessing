DEVICE:53
;MODULE:Slave
;MODULE_TYPE:0
LD R50010                ; Emaegency Stop
ZRES @MR000 @MR1215
;àÍéûí‚é~èåè
;ÇPÅAÇlÇÅÇâÇéÅ@Ç`ÇâÇí
;ÇQÅAÇoÇ`ÇtÇrÇd ÇrÇv
;ÇRÅAìÆçÏíÜÇÃÉJÉoÅ[äJ
LDB R50010               ; Emaegency Stop
MPS
TMH @0 #10
CON
ANP @T0
SET @MR000
MPP
TMR @30 #10
LD @MR000
ANB R1100                ; MAIN air
AND @T30
SET MR607                ; while Operating main off
STG @MR000
LDB R1100                ; MAIN air
OR R1002                 ; PAUSE SW
OR R4001                 ; PAUSE SW
ORB R1102                ; Safty cover
OR R50005                ; PAUSERQ
ANL
AND T202                 ; Device net node check
RES R50005               ; PAUSERQ
CON
SET R50300               ; Pause
CON
JMP @MR001
;àÍéûí‚é~ämîF
STG @MR001
MPS
LDB R50100               ; PACK INDEX
ANB R50101               ; PACK UT1
ANB R50102               ; PACK UT2
ANB R50103               ; PACK UT3
ANB R50104               ; PACK UT4
ANB R51605               ; PACK UT5
ANB R51606               ; PACK UT6
ANB R51607               ; PACK UT7
ANB R51608               ; PACK UT8
ANB MR1101               ; Index moving
ANB MR1201               ; Label index2 moving
ANL
SET MR606                ; paused check
CON
JMP @MR210
MPP
LD R50100                ; PACK INDEX
OR R50101                ; PACK UT1
OR R50102                ; PACK UT2
OR R50103                ; PACK UT3
OR R50104                ; PACK UT4
OR R51605                ; PACK UT5
OR R51606                ; PACK UT6
OR R51607                ; PACK UT7
OR R51608                ; PACK UT8
OR MR1101                ; Index moving
OR MR1201                ; Label index2 moving
AND R1100                ; MAIN air
ANB R1002                ; PAUSE SW
ANB R4001                ; PAUSE SW
AND R1102                ; Safty cover
LD R1001                 ; START SW
OR R4000                 ; START SW
ANL
ANL
RES R50300               ; Pause
CON
JMP @MR000
;RB PauseëO åªç›ílì«çû
STG @MR210
LDA EM1301               ; RB1 balancer current POS
CON
STA EM1351               ; Slave RB1 balanser POS memory
CON
LDA EM1303               ; RB2 bottle1 current POS
CON
STA EM1353               ; Slave RB2 bottle1 POS memory
CON
LDA EM1305               ; RB3 bottle2 current POS
CON
STA EM1355               ; Slave RB3 bottle2 POS memory
CON
LDA EM1307               ; RB4 temp paste1 current POS
CON
STA EM1357               ; Slave RB4 Temp paste1 POS memory
CON
LDA EM1309               ; RB5 temp paste2 current POS
CON
STA EM1359               ; Slave RB5 Temp paste2 POS memory
CON
LDA EM1311               ; RB6 temp paste1 current POS
CON
STA EM1361               ; Slave RB6 Temp paste1 POS memory
CON
LDA EM1313               ; RB7 temp paste2 current POS
CON
STA EM1363               ; Slave RB7 Temp paste2 POS memory
CON
LDA EM1315               ; RB8 Final paste1 current POS
CON
STA EM1365               ; Slave RB8 Fina paste1 POS memory
CON
LDA EM1317               ; RB9 Final paste2 current POS
CON
STA EM1367               ; Slave RB9 Fina paste2 POS memory
CON
LDA EM1319               ; RB10 CAP PP current POS
CON
STA EM1369               ; Slave RB1 CAP SET POS memory
CON
LDA EM1321               ; RB11 Removing current POS
CON
STA EM1371               ; Slave RB11 Removing POS memory
CON
LDA EM1323               ; RB12 Removing current POS
CON
STA EM1373               ; Slave RB12 Removing POS memory
CON
LDA EM1325               ; RB13 Removing current POS
CON
STA EM1375               ; Slave RB13 Removing POS memory
CON
LDA EM1206               ; Main INDEX Auto current POS
CON
STA EM1341               ; Slave Main INDEX AUTO POS memory
CON
LDA EM1212               ; label INDEX1 current POS
CON
STA EM1343               ; Slave Labe INDEX1 POS memory
CON
LDA EM1222               ; label INDEX2 current POS
CON
STA EM1345               ; Slave Labe INDEX2 POS memory
CON
JMP @MR211
;RB PauseëO ì¶Ç∞à íuà⁄ìÆ
STG @MR211
MPS
LD R50007                ; HOME FINISHED
AND _UT1
AND _UT2
AND _UT3
AND _UT4
AND _UT5
AND _UT6
AND _UT7
AND _UT8
ANB MR4201               ; RB1 balancer down moving complet
ANB MR4301               ; RB2 bottle1rotation before compl
ANB MR4309               ; RB2 bottle2rotation before compl
ANB MR4701               ; RB6 label1 down moving complet
ANB MR4801               ; RB7 label2 down moving complet
ANB MR5001               ; RB8 Main1 down moving complete
ANB MR5101               ; RB9 Main2 down moving complete
ANB MR5201               ; RB10 CAP PP up moving complete
ANB MR5601               ; RB12 removing up moving co
ANL
SET MR4200               ; RB1 balancer down moving request
CON
SET MR4300               ; RB2 bottle1rotation before reque
CON
SET MR4308               ; RB2 bottle2rotation before reque
CON
SET MR4700               ; RB6 label1 down moving request
CON
SET MR4800               ; RB7 label2 down moving request
CON
SET MR5000               ; RB8 Main1 down moving reqest
CON
SET MR5100               ; RB9 Main2 down moving reqest
CON
SET MR5200               ; RB10 CAP PP up moving request
CON
SET MR5600               ; RB12 removing up moving re
CON
JMP @MR212
MPP
ANB R50007               ; HOME FINISHED
JMP @MR215
LD @MR211
AND R50007               ; HOME FINISHED
MDSTRT UT1
MDSTRT UT2
MDSTRT UT3
MDSTRT UT4
MDSTRT UT5
MDSTRT UT6
MDSTRT UT7
MDSTRT UT8
STG @MR212
AND MR4201               ; RB1 balancer down moving complet
AND MR4301               ; RB2 bottle1rotation before compl
AND MR4309               ; RB2 bottle2rotation before compl
AND MR4701               ; RB6 label1 down moving complet
AND MR4801               ; RB7 label2 down moving complet
AND MR5001               ; RB8 Main1 down moving complete
AND MR5101               ; RB9 Main2 down moving complete
AND MR5201               ; RB10 CAP PP up moving complete
AND MR5601               ; RB12 removing up moving co
RES MR4201               ; RB1 balancer down moving complet
CON
RES MR4301               ; RB2 bottle1rotation before compl
CON
RES MR4309               ; RB2 bottle2rotation before compl
CON
RES MR4701               ; RB6 label1 down moving complet
CON
RES MR4801               ; RB7 label2 down moving complet
CON
RES MR5001               ; RB8 Main1 down moving complete
CON
RES MR5101               ; RB9 Main2 down moving complete
CON
RES MR5201               ; RB10 CAP PP up moving complete
CON
RES MR5601               ; RB12 removing up moving co
CON
JMP @MR213
STG @MR213
RES MR8410               ; Index Brake down
CON
SET MR8411               ; Index Brake up
CON
ANB R5414                ; MAIN INDEX brake lower limit
AND R5415                ; MAIN INDEX brake upper limit
RES MR8004               ; Nozzle rotation brake1 UP
CON
RES MR8006               ; Nozzle rotation brake2 UP
CON
ANB R5008                ; Nozzle rotation brake1 upper lim
AND R5009                ; Nozzle rotation brake1 lower lim
ANB R5010                ; Nozzle rotation brake2 upper lim
AND R5011                ; Nozzle rotation brake2 lower lim
RES DM10850.9            ; Main INDEX Servo on
CON
RES DM10860.9            ; Label INDEX1 Servo on
CON
RES DM10870.9            ; Label INDEX2 Servo on
CON
ANB DM10850.9            ; Main INDEX Servo on
ANB DM10860.9            ; Label INDEX1 Servo on
ANB DM10870.9            ; Label INDEX2 Servo on
JMP @MR215
LDP @MR215
MPS
AND _UT1
SET @MR201
CON
MDSTOP UT1
MRD
AND _UT2
SET @MR202
CON
MDSTOP UT2
MRD
AND _UT3
SET @MR203
CON
MDSTOP UT3
MRD
AND _UT4
SET @MR204
CON
MDSTOP UT4
MRD
AND _UT5
SET @MR205
CON
MDSTOP UT5
MRD
AND _UT6
SET @MR206
CON
MDSTOP UT6
MRD
AND _UT7
SET @MR207
CON
MDSTOP UT7
MPP
AND _UT8
SET @MR208
CON
MDSTOP UT8
STG @MR215
ANB _UT1
ANB _UT2
ANB _UT3
ANB _UT4
ANB _UT5
ANB _UT6
ANB _UT7
ANB _UT8
JMP @MR003
STG @MR003
MPS
AND R50007               ; HOME FINISHED
RES MR8410               ; Index Brake down
CON
SET MR8411               ; Index Brake up
CON
ANB R5414                ; MAIN INDEX brake lower limit
AND R5415                ; MAIN INDEX brake upper limit
JMP @MR014
MPP
LDB R50007               ; HOME FINISHED
ANB MR1013               ; Index HOME return
ANL
RES MR8410               ; Index Brake down
CON
SET MR8411               ; Index Brake up
CON
ANB R5414                ; MAIN INDEX brake lower limit
AND R5415                ; MAIN INDEX brake upper limit
RES MR8004               ; Nozzle rotation brake1 UP
CON
RES MR8006               ; Nozzle rotation brake2 UP
CON
ANB R5008                ; Nozzle rotation brake1 upper lim
AND R5009                ; Nozzle rotation brake1 lower lim
ANB R5010                ; Nozzle rotation brake2 upper lim
AND R5011                ; Nozzle rotation brake2 lower lim
RES DM10850.9            ; Main INDEX Servo on
CON
RES DM10860.9            ; Label INDEX1 Servo on
CON
RES DM10870.9            ; Label INDEX2 Servo on
CON
ANB DM10850.9            ; Main INDEX Servo on
ANB DM10860.9            ; Label INDEX1 Servo on
ANB DM10870.9            ; Label INDEX2 Servo on
TMH @11 #50
CON
AND @T11
JMP @MR014
STG @MR014
RES R50215               ; Air Down Memory
CON
RES MR606                ; paused check
CON
SET MR2100               ; Cover open
CON
JMP @MR004
;ÉJÉoÅ[ï¬Ç∂å„ÅAÇrÇsÇ`ÇqÇs ÇìÇóÅ@ÇnÇm
STG @MR004
MPS
LD R1100                 ; MAIN air
ANB R1002                ; PAUSE SW
ANB R4001                ; PAUSE SW
LD R1001                 ; START SW
OR R4000                 ; START SW
ANL
ANL
JMP @MR005
MPP
LDB R1100                ; MAIN air
ANB R1002                ; PAUSE SW
ANB R4001                ; PAUSE SW
LD R1001                 ; START SW
OR R4000                 ; START SW
ANL
ANB DM10650.15           ; Main INDEX Ready
ANB DM10660.15           ; Label INDEX1 Ready
ANB DM10670.15           ; Label INDEX2 Ready
ANL
JMP @MR004
LD @MR004
ANB R1100                ; MAIN air
ANB R50215               ; Air Down Memory
@SET R50215              ; Air Down Memory
STG @MR005
RES MR2100               ; Cover open
CON
TMH @1 #50
CON
AND @T1
JMP @MR006
STG @MR006
MPS
LDB R1100                ; MAIN air
OR R1002                 ; PAUSE SW
OR R4001                 ; PAUSE SW
ORB R1102                ; Safty cover
ANL
JMP @MR007
MPP
LD R1100                 ; MAIN air
ANB R1002                ; PAUSE SW
ANB R4001                ; PAUSE SW
AND R1102                ; Safty cover
ANL
JMP @MR008
STG @MR007
SET MR2100               ; Cover open
CON
JMP @MR004
;ÉJÉoÅ[Çï¬Ç∂ÇΩ
STG @MR008
MPS
LD R50007                ; HOME FINISHED
OR R50003                ; HOME mode
ANL
RES DM10850.10           ; Main INDEX Ready return
CON
RES DM10860.10           ; Label INDEX1 Ready return
CON
RES DM10870.10           ; Label INDEX2 Ready return
CON
MDSTRT Index
MDSTRT UT1
MDSTRT UT2
MDSTRT UT3
MDSTRT UT4
MDSTRT UT5
MDSTRT UT6
MDSTRT UT7
MDSTRT UT8
JMP @MR009
MPP
LDB R50007               ; HOME FINISHED
ANB R50003               ; HOME mode
ANL
RES DM10850.10           ; Main INDEX Ready return
CON
RES DM10860.10           ; Label INDEX1 Ready return
CON
RES DM10870.10           ; Label INDEX2 Ready return
CON
JMP @MR010
STG @MR009
AND _Index
AND _UT1
AND _UT2
AND _UT3
AND _UT4
AND _UT5
AND _UT6
AND _UT7
AND _UT8
JMP @MR106
STG @MR106
RES MR8208               ; Bottle rotation chuck3-1 close
CON
SET MR8209               ; Bottle rotation chuck3-1 open
CON
RES MR8310               ; Bottle rotation chuck3-2 close
CON
SET MR8311               ; Bottle rotation chuck3-2 open
CON
JMP @MR107
STG @MR107
ANB R5208                ; Bottle rotation chuck1 close lim
AND R5209                ; Bottle rotation chuck1 open lim
ANB R5210                ; Bottle rotation chuck2 close lim
AND R5211                ; Bottle rotation chuck2 open lim
JMP @MR108
STG @MR108
SET MR8307               ; Bottle rotation chuck up
CON
RES MR8306               ; Bottle rotation chuck down
CON
ANB R5308                ; Bottle rotation chuck lower limi
AND R5309                ; Bottle rotation chuck upper limi
JMP @MR110
STG @MR110
MPS
LDB DM10515.4            ; RB2 Bottle servo ON
AND DM10515.3            ; RB2 Bottle alarm
ANL
BSET DM10715 #3
MRD
LDB DM10523.4            ; RB3 Bottle servo ON
AND DM10523.3            ; RB3 Bottle alarm
ANL
BSET DM10723 #3
MPP
AND CR2002               ; Normal ON
JMP @MR111
STG @MR111
ANB DM10515.3            ; RB2 Bottle alarm
ANB DM10523.3            ; RB3 Bottle alarm
BRES DM10715 #3
CON
BRES DM10723 #3
CON
MPS
ANB DM10515.4            ; RB2 Bottle servo ON
BSET DM10715 #4
MRD
ANB DM10523.4            ; RB3 Bottle servo ON
BSET DM10723 #4
MPP
JMP @MR112
STG @MR112
AND DM10515.4            ; RB2 Bottle servo ON
AND DM10523.4            ; RB3 Bottle servo ON
JMP @MR113
STG @MR113
ANB MR4201               ; RB1 balancer down moving complet
ANB MR4301               ; RB2 bottle1rotation before compl
ANB MR4309               ; RB2 bottle2rotation before compl
ANB MR4701               ; RB6 label1 down moving complet
ANB MR4801               ; RB7 label2 down moving complet
ANB MR5001               ; RB8 Main1 down moving complete
ANB MR5101               ; RB9 Main2 down moving complete
ANB MR5201               ; RB10 CAP PP up moving complete
ANB MR5601               ; RB12 removing up moving co
SET MR4200               ; RB1 balancer down moving request
CON
SET MR4300               ; RB2 bottle1rotation before reque
CON
SET MR4308               ; RB2 bottle2rotation before reque
CON
SET MR4700               ; RB6 label1 down moving request
CON
SET MR4800               ; RB7 label2 down moving request
CON
SET MR5000               ; RB8 Main1 down moving reqest
CON
SET MR5100               ; RB9 Main2 down moving reqest
CON
SET MR5200               ; RB10 CAP PP up moving request
CON
SET MR5600               ; RB12 removing up moving re
CON
JMP @MR109
STG @MR109
AND MR4201               ; RB1 balancer down moving complet
AND MR4301               ; RB2 bottle1rotation before compl
AND MR4309               ; RB2 bottle2rotation before compl
AND MR4701               ; RB6 label1 down moving complet
AND MR4801               ; RB7 label2 down moving complet
AND MR5001               ; RB8 Main1 down moving complete
AND MR5101               ; RB9 Main2 down moving complete
AND MR5201               ; RB10 CAP PP up moving complete
AND MR5601               ; RB12 removing up moving co
RES MR4201               ; RB1 balancer down moving complet
CON
RES MR4301               ; RB2 bottle1rotation before compl
CON
RES MR4309               ; RB2 bottle2rotation before compl
CON
RES MR4701               ; RB6 label1 down moving complet
CON
RES MR4801               ; RB7 label2 down moving complet
CON
RES MR5001               ; RB8 Main1 down moving complete
CON
RES MR5101               ; RB9 Main2 down moving complete
CON
RES MR5201               ; RB10 CAP PP up moving complete
CON
RES MR5601               ; RB12 removing up moving co
CON
JMP @MR010
;ÇhÇmÇcÇdÇw STOïúãA
;
STG @MR010
SET MR2104               ; Main index power ON/OFF
CON
SET MR2105               ; Label index1 power ON/OFF
CON
SET MR2106               ; Label index2 power ON/OFF
CON
TMH @6 #100
CON
AND @T6
JMP @MR011
STG @MR011
MPS
AND R50215               ; Air Down Memory
SET DM10850.10           ; Main INDEX Ready return
CON
SET DM10860.10           ; Label INDEX1 Ready return
CON
SET DM10870.10           ; Label INDEX2 Ready return
CON
AND DM10650.15           ; Main INDEX Ready
AND DM10660.15           ; Label INDEX1 Ready
AND DM10670.15           ; Label INDEX2 Ready
JMP @MR012
MPP
ANB R50215               ; Air Down Memory
JMP @MR013
STG @MR012
TMH @9 #50
CON
AND @T9
RES DM10850.10           ; Main INDEX Ready return
CON
RES DM10860.10           ; Label INDEX1 Ready return
CON
RES DM10870.10           ; Label INDEX2 Ready return
CON
JMP @MR013
STG @MR013
TMH @2 #10
CON
AND @T2
SET DM10850.9            ; Main INDEX Servo on
CON
SET DM10860.9            ; Label INDEX1 Servo on
CON
SET DM10870.9            ; Label INDEX2 Servo on
CON
AND DM10850.9            ; Main INDEX Servo on
AND DM10860.9            ; Label INDEX1 Servo on
AND DM10870.9            ; Label INDEX2 Servo on
JMP @MR015
STG @MR015
MPS
AND R50007               ; HOME FINISHED
JMP @MR100
MPP
ANB R50007               ; HOME FINISHED
SET MR8410               ; Index Brake down
CON
RES MR8411               ; Index Brake up
CON
AND R5414                ; MAIN INDEX brake lower limit
ANB R5415                ; MAIN INDEX brake upper limit
JMP @MR115
STG @MR100
ANB @MR301
SET @MR300
CON
JMP @MR101
STG @MR101
AND @MR301
RES @MR301
CON
JMP @MR102
STG @MR102
ANB @MR401
SET @MR400
CON
JMP @MR103
STG @MR103
AND @MR401
RES @MR401
CON
JMP @MR104
STG @MR104
MPS
ANB R50201               ; UT1 Do
MDSTOP UT1
MRD
ANB R50202               ; UT2 Do
MDSTOP UT2
MRD
ANB R50203               ; UT3 Do
MDSTOP UT3
MRD
ANB R50204               ; UT4 Do
MDSTOP UT4
MRD
ANB R51805               ; UT5 Do
MDSTOP UT5
MRD
ANB R51806               ; UT6 Do
MDSTOP UT6
MRD
ANB R51807               ; UT7 Do
MDSTOP UT7
MRD
ANB R51808               ; UT8 Do
MDSTOP UT8
MPP
JMP @MR105
STG @MR105
MPS
ANB R50200               ; INDEX Do
MDSTOP Index
MPP
LDB _Index
OR R50200                ; INDEX Do
ANL
JMP @MR115
STG @MR115
TMH @19 #20
CON
AND @T19
RES R50215               ; Air Down Memory
CON
ZRES @MR201 @MR208
CON
RES R50300               ; Pause
CON
JMP @MR000
;
;“≤›≤›√ﬁØ∏ΩÅ@ãNìÆ
STG @MR300
SET @MR302
CON
JMP @MR303
STG @MR303
SET MR8410               ; Index Brake down
CON
RES MR8411               ; Index Brake up
CON
AND R5414                ; MAIN INDEX brake lower limit
ANB R5415                ; MAIN INDEX brake upper limit
JMP @MR304
STG @MR304
LD R50001                ; AUTO mode
AND= EM1202 EM1206       ; Main INDEX current POS  Main INDEX Auto current POS
LD R50002                ; STEP mode
AND= EM1202 EM1208       ; Main INDEX current POS  Main INDEX step current POS
ORL
OR CR2002                ; Normal ON
ANL
ANB MR1003               ; Main index rotation completed
SET R50100               ; PACK INDEX
CON
SET MR1002               ; Main index rotation request
CON
JMP @MR305
STG @MR305
AND MR1003               ; Main index rotation completed
RES MR1003               ; Main index rotation completed
CON
JMP @MR306
STG @MR306
TMH @3 #10
CON
AND @T3
RES R50100               ; PACK INDEX
CON
SET @MR301
CON
RES @MR302
CON
ENDS
;äeUT ãNìÆ
;RB É|Å[ÉYëOà íuÇ÷à⁄ìÆ
STG @MR400
SET @MR402
CON
JMP @MR403
LDP @MR403
MPS
AND @MR201
MDSTRT UT1
MRD
AND @MR202
MDSTRT UT2
MRD
AND @MR203
MDSTRT UT3
MRD
AND @MR204
MDSTRT UT4
MRD
AND @MR205
MDSTRT UT5
MRD
AND @MR206
MDSTRT UT6
MRD
AND @MR207
MDSTRT UT7
MPP
AND @MR208
MDSTRT UT8
STG @MR403
TMH @17 #20
CON
AND @T17
LD _UT1
ORB @MR201
ANL
LD _UT2
ORB @MR202
ANL
LD _UT3
ORB @MR203
ANL
LD _UT4
ORB @MR204
ANL
LD _UT5
ORB @MR205
ANL
LD _UT6
ORB @MR206
ANL
LD _UT7
ORB @MR207
ANL
LD _UT8
ORB @MR208
ANL
JMP @MR404
STG @MR404
SET MR9500               ; RB1 EMG REREASE
CON
SET MR9501               ; RB2 EMG REREASE
CON
SET MR9502               ; RB3 EMG REREASE
CON
SET MR9503               ; RB4 EMG REREASE
CON
SET MR9504               ; RB5 EMG REREASE
CON
SET MR9505
CON
SET MR9506
CON
SET MR9507
CON
SET MR9508
CON
SET MR9509               ; RB10 EMG REREASE
CON
SET MR9510               ; RB11 EMG REREASE
CON
SET MR9511               ; RB12 EMG REREASE
CON
SET MR9512               ; RB13 EMG REREASE
CON
TMH @18 #20
CON
AND @T18
MPS
AND R50007               ; HOME FINISHED
JMP @MR405
MPP
ANB R50007               ; HOME FINISHED
JMP @MR410
STG @MR405
AND MR3100               ; RB1 balancer start OK
AND MR3101               ; RB2 bottle rotation1 start OK
AND MR3102               ; RB3 bottle rotation2 start OK
AND MR3103               ; RB4 label1 pitch start OK
AND MR3104               ; RB5 label2 pitch start OK
AND MR3105               ; RB6 label1  start OK
AND MR3106               ; RB7 label2  start OK
AND MR3107               ; RB8 final past1 start OK
AND MR3108               ; RB9 final past2 start Ok
AND MR3109               ; RB10 CAP PP start OK
AND MR3110               ; RB11 removing start OK
AND MR3111               ; RB12 removing start OK
AND MR3112               ; RB13 Dent start OK
JMP @MR406
STG @MR406
ANB @MR501
ANB @MR509
ANB @MR601
ANB @MR609
ANB @MR701
ANB @MR709
ANB @MR801
ANB @MR809
ANB @MR901
ANB @MR909
ANB @MR1001
ANB @MR1009
ANB @MR1101
SET @MR500
CON
SET @MR508
CON
SET @MR600
CON
SET @MR608
CON
SET @MR700
CON
SET @MR708
CON
SET @MR800
CON
SET @MR808
CON
SET @MR900
CON
SET @MR908
CON
SET @MR1000
CON
SET @MR1008
CON
SET @MR1100
CON
JMP @MR407
STG @MR407
AND @MR501
AND @MR509
AND @MR601
AND @MR609
AND @MR701
AND @MR709
AND @MR801
AND @MR809
AND @MR901
AND @MR909
AND @MR1001
AND @MR1009
AND @MR1101
RES @MR501
CON
RES @MR509
CON
RES @MR601
CON
RES @MR609
CON
RES @MR701
CON
RES @MR709
CON
RES @MR801
CON
RES @MR809
CON
RES @MR901
CON
RES @MR909
CON
RES @MR1001
CON
RES @MR1009
CON
RES @MR1101
CON
JMP @MR408
STG @MR408
ANB @MR1201
ANB @MR1209
SET @MR1200
CON
SET @MR1208
CON
JMP @MR409
STG @MR409
AND @MR1201
AND @MR1209
RES @MR1201
CON
RES @MR1209
CON
JMP @MR410
STG @MR410
SET @MR401
CON
RES @MR402
CON
ENDS
;RB1 PauseëOŒﬂ≤›ƒà⁄ìÆ
STG @MR500
SET @MR502
CON
JMP @MR503
STG @MR503
MPS
LD= EM1351 #5            ; Slave RB1 balanser POS memory
ANB MR4201               ; RB1 balancer down moving complet
ANL
SET MR4200               ; RB1 balancer down moving request
CON
JMP @MR504
MPP
LD= EM1351 #10           ; Slave RB1 balanser POS memory
ANB MR4209               ; RB1 balancer up moving complet
ANL
SET MR4208               ; RB1 balancer up moving request
CON
JMP @MR504
STG @MR504
MPS
LD= EM1351 #5            ; Slave RB1 balanser POS memory
AND MR4201               ; RB1 balancer down moving complet
ANL
RES MR4201               ; RB1 balancer down moving complet
CON
JMP @MR505
MPP
LD= EM1351 #10           ; Slave RB1 balanser POS memory
AND MR4209               ; RB1 balancer up moving complet
ANL
RES MR4209               ; RB1 balancer up moving complet
CON
JMP @MR505
STG @MR505
RES @MR502
CON
SET @MR501
CON
ENDS
;RB2 PauseëOŒﬂ≤›ƒà⁄ìÆ
STG @MR508
SET @MR510
CON
JMP @MR511
STG @MR511
MPS
LD= EM1353 #5            ; Slave RB2 bottle1 POS memory
ANB MR4301               ; RB2 bottle1rotation before compl
ANL
RES MR4301               ; RB2 bottle1rotation before compl
CON
SET MR4300               ; RB2 bottle1rotation before reque
CON
JMP @MR512
MPP
LD= EM1353 #10           ; Slave RB2 bottle1 POS memory
ANB MR4401               ; RB3 bottle1rotation before compl
ANL
SET MR4400               ; RB3 bottle1rotation before reque
CON
JMP @MR512
STG @MR512
MPS
LD= EM1353 #5            ; Slave RB2 bottle1 POS memory
AND MR4301               ; RB2 bottle1rotation before compl
ANL
RES MR4301               ; RB2 bottle1rotation before compl
CON
JMP @MR513
MPP
LD= EM1353 #10           ; Slave RB2 bottle1 POS memory
AND MR4401               ; RB3 bottle1rotation before compl
ANL
RES MR4401               ; RB3 bottle1rotation before compl
CON
JMP @MR513
STG @MR513
RES @MR510
CON
SET @MR509
CON
ENDS
;RB3 PauseëOŒﬂ≤›ƒà⁄ìÆ
STG @MR600
SET @MR602
CON
JMP @MR603
STG @MR603
MPS
LD= EM1355 #5            ; Slave RB3 bottle2 POS memory
ANB MR4309               ; RB2 bottle2rotation before compl
ANL
RES MR4309               ; RB2 bottle2rotation before compl
CON
SET MR4308               ; RB2 bottle2rotation before reque
CON
JMP @MR604
MPP
LD= EM1355 #10           ; Slave RB3 bottle2 POS memory
ANB MR4409               ; RB3 bottle2rotation before compl
ANL
SET MR4408               ; RB3 bottle2rotation before reque
CON
JMP @MR604
STG @MR604
MPS
LD= EM1355 #5            ; Slave RB3 bottle2 POS memory
AND MR4309               ; RB2 bottle2rotation before compl
ANL
RES MR4309               ; RB2 bottle2rotation before compl
CON
JMP @MR605
MPP
LD= EM1355 #10           ; Slave RB3 bottle2 POS memory
AND MR4409               ; RB3 bottle2rotation before compl
ANL
RES MR4409               ; RB3 bottle2rotation before compl
CON
JMP @MR605
STG @MR605
RES @MR602
CON
SET @MR601
CON
ENDS
;RB4 PauseëOŒﬂ≤›ƒà⁄ìÆ
STG @MR608
SET @MR610
CON
JMP @MR611
STG @MR611
MPS
LD= EM1357 #5            ; Slave RB4 Temp paste1 POS memory
ANB MR4501               ; RB4 label1 recive moving complet
ANL
SET MR4500               ; RB4 label1 recive moving request
CON
JMP @MR612
MPP
LD= EM1357 #10           ; Slave RB4 Temp paste1 POS memory
ANB MR4509               ; RB4 label1 paste moving complet
ANL
SET MR4508               ; RB4 label1 paste moving request
CON
JMP @MR612
STG @MR612
MPS
LD= EM1357 #5            ; Slave RB4 Temp paste1 POS memory
AND MR4501               ; RB4 label1 recive moving complet
ANL
RES MR4501               ; RB4 label1 recive moving complet
CON
JMP @MR613
MPP
LD= EM1357 #10           ; Slave RB4 Temp paste1 POS memory
AND MR4509               ; RB4 label1 paste moving complet
ANL
RES MR4509               ; RB4 label1 paste moving complet
CON
JMP @MR613
STG @MR613
RES @MR610
CON
SET @MR609
CON
ENDS
;RB5 PauseëOŒﬂ≤›ƒà⁄ìÆ
STG @MR700
SET @MR702
CON
JMP @MR703
STG @MR703
MPS
LD= EM1359 #5            ; Slave RB5 Temp paste2 POS memory
ANB MR4601               ; RB5 label1 recive moving complet
ANL
SET MR4600               ; RB5 label1 recive moving request
CON
JMP @MR704
MPP
LD= EM1359 #10           ; Slave RB5 Temp paste2 POS memory
ANB MR4609               ; RB5 label1 paste moving complet
ANL
SET MR4608               ; RB5 label1 paste moving request
CON
JMP @MR704
STG @MR704
MPS
LD= EM1359 #5            ; Slave RB5 Temp paste2 POS memory
AND MR4601               ; RB5 label1 recive moving complet
ANL
RES MR4601               ; RB5 label1 recive moving complet
CON
JMP @MR705
MPP
LD= EM1359 #10           ; Slave RB5 Temp paste2 POS memory
AND MR4609               ; RB5 label1 paste moving complet
ANL
RES MR4609               ; RB5 label1 paste moving complet
CON
JMP @MR705
STG @MR705
RES @MR702
CON
SET @MR701
CON
ENDS
;RB6 PauseëOŒﬂ≤›ƒà⁄ìÆ
STG @MR708
SET @MR710
CON
JMP @MR711
STG @MR711
MPS
LD= EM1361 #5            ; Slave RB6 Temp paste1 POS memory
ANB MR4701               ; RB6 label1 down moving complet
ANL
SET MR4700               ; RB6 label1 down moving request
CON
JMP @MR712
MPP
LD= EM1361 #10           ; Slave RB6 Temp paste1 POS memory
ANB MR4709               ; RB6 label1 up moving complet
ANL
SET MR4708               ; RB6 label1 up moving request
CON
JMP @MR712
STG @MR712
MPS
LD= EM1361 #5            ; Slave RB6 Temp paste1 POS memory
AND MR4701               ; RB6 label1 down moving complet
ANL
RES MR4701               ; RB6 label1 down moving complet
CON
JMP @MR713
MPP
LD= EM1361 #10           ; Slave RB6 Temp paste1 POS memory
AND MR4709               ; RB6 label1 up moving complet
ANL
RES MR4709               ; RB6 label1 up moving complet
CON
JMP @MR713
STG @MR713
RES @MR710
CON
SET @MR709
CON
ENDS
;RB7 PauseëOŒﬂ≤›ƒà⁄ìÆ
STG @MR800
SET @MR802
CON
JMP @MR803
STG @MR803
MPS
LD= EM1363 #5            ; Slave RB7 Temp paste2 POS memory
ANB MR4801               ; RB7 label2 down moving complet
ANL
SET MR4800               ; RB7 label2 down moving request
CON
JMP @MR804
MPP
LD= EM1363 #10           ; Slave RB7 Temp paste2 POS memory
ANB MR4809               ; RB7 label2 up moving complet
ANL
SET MR4808               ; RB7 label2 up moving request
CON
JMP @MR804
STG @MR804
MPS
LD= EM1363 #5            ; Slave RB7 Temp paste2 POS memory
AND MR4801               ; RB7 label2 down moving complet
ANL
RES MR4801               ; RB7 label2 down moving complet
CON
JMP @MR805
MPP
LD= EM1363 #10           ; Slave RB7 Temp paste2 POS memory
AND MR4809               ; RB7 label2 up moving complet
ANL
RES MR4809               ; RB7 label2 up moving complet
CON
JMP @MR805
STG @MR805
RES @MR802
CON
SET @MR801
CON
ENDS
;RB8 PauseëOŒﬂ≤›ƒà⁄ìÆ
STG @MR808
SET @MR810
CON
JMP @MR811
STG @MR811
MPS
LD= EM1365 #5            ; Slave RB8 Fina paste1 POS memory
ANB MR5001               ; RB8 Main1 down moving complete
ANL
SET MR5000               ; RB8 Main1 down moving reqest
CON
JMP @MR812
MPP
LD= EM1365 #10           ; Slave RB8 Fina paste1 POS memory
ANB MR5009               ; RB8 Main1 up moving complete
ANL
SET MR5008               ; RB8 Main1 up moving reqest
CON
JMP @MR812
STG @MR812
MPS
LD= EM1365 #5            ; Slave RB8 Fina paste1 POS memory
AND MR5001               ; RB8 Main1 down moving complete
ANL
RES MR5001               ; RB8 Main1 down moving complete
CON
JMP @MR813
MPP
LD= EM1365 #10           ; Slave RB8 Fina paste1 POS memory
AND MR5009               ; RB8 Main1 up moving complete
ANL
RES MR5009               ; RB8 Main1 up moving complete
CON
JMP @MR813
STG @MR813
RES @MR810
CON
SET @MR809
CON
ENDS
;RB9 PauseëOŒﬂ≤›ƒà⁄ìÆ
STG @MR900
SET @MR902
CON
JMP @MR903
STG @MR903
MPS
LD= EM1367 #5            ; Slave RB9 Fina paste2 POS memory
ANB MR5101               ; RB9 Main2 down moving complete
ANL
SET MR5100               ; RB9 Main2 down moving reqest
CON
JMP @MR904
MPP
LD= EM1367 #10           ; Slave RB9 Fina paste2 POS memory
ANB MR5109               ; RB9 Main2 up moving complete
ANL
SET MR5108               ; RB9 Main2 up moving reqest
CON
JMP @MR904
STG @MR904
MPS
LD= EM1367 #5            ; Slave RB9 Fina paste2 POS memory
AND MR5101               ; RB9 Main2 down moving complete
ANL
RES MR5101               ; RB9 Main2 down moving complete
CON
JMP @MR905
MPP
LD= EM1367 #10           ; Slave RB9 Fina paste2 POS memory
AND MR5109               ; RB9 Main2 up moving complete
ANL
RES MR5109               ; RB9 Main2 up moving complete
CON
JMP @MR905
STG @MR905
RES @MR902
CON
SET @MR901
CON
ENDS
;RB10 PauseëOŒﬂ≤›ƒà⁄ìÆ
STG @MR908
SET @MR910
CON
JMP @MR911
STG @MR911
MPS
LD= EM1369 #5            ; Slave RB1 CAP SET POS memory
ANB MR5201               ; RB10 CAP PP up moving complete
ANL
SET MR5200               ; RB10 CAP PP up moving request
CON
JMP @MR912
MPP
LD= EM1369 #10           ; Slave RB1 CAP SET POS memory
ANB MR5209               ; RB10 CAP PP down moving complete
ANL
SET MR5208               ; RB10 CAP PP down moving request
CON
JMP @MR912
STG @MR912
MPS
LD= EM1369 #5            ; Slave RB1 CAP SET POS memory
AND MR5201               ; RB10 CAP PP up moving complete
ANL
RES MR5201               ; RB10 CAP PP up moving complete
CON
JMP @MR913
MPP
LD= EM1369 #10           ; Slave RB1 CAP SET POS memory
AND MR5209               ; RB10 CAP PP down moving complete
ANL
RES MR5209               ; RB10 CAP PP down moving complete
CON
JMP @MR913
STG @MR913
RES @MR910
CON
SET @MR909
CON
ENDS
;RB11 PauseëOŒﬂ≤›ƒà⁄ìÆ
STG @MR1000
SET @MR1002
CON
JMP @MR1003
STG @MR1003
MPS
LD= EM1371 #10           ; Slave RB11 Removing POS memory
ANB MR5501               ; RB11 removing take out moving co
ANL
SET MR5500               ; RB11 removing take out moving re
CON
JMP @MR1004
MPP
LD= EM1371 #11           ; Slave RB11 Removing POS memory
ANB MR5509               ; RB11 removing recive moving co
ANL
SET MR5508               ; RB11 removing recive moving re
CON
JMP @MR1004
STG @MR1004
MPS
LD= EM1371 #10           ; Slave RB11 Removing POS memory
AND MR5501               ; RB11 removing take out moving co
ANL
RES MR5501               ; RB11 removing take out moving co
CON
JMP @MR1005
MPP
LD= EM1371 #11           ; Slave RB11 Removing POS memory
AND MR5509               ; RB11 removing recive moving co
ANL
RES MR5509               ; RB11 removing recive moving co
CON
JMP @MR1005
STG @MR1005
RES @MR1002
CON
SET @MR1001
CON
ENDS
;RB12 PauseëOŒﬂ≤›ƒà⁄ìÆ
STG @MR1008
SET @MR1010
CON
JMP @MR1011
STG @MR1011
MPS
LD= EM1373 #5            ; Slave RB12 Removing POS memory
ANB MR5601               ; RB12 removing up moving co
ANL
SET MR5600               ; RB12 removing up moving re
CON
JMP @MR1012
MRD
LD= EM1373 #10           ; Slave RB12 Removing POS memory
ANB MR5609               ; RB12 removing down1 moving co
ANL
SET MR5608               ; RB12 removing down1 moving re
CON
JMP @MR1012
MPP
LD= EM1373 #11           ; Slave RB12 Removing POS memory
ANB MR5701               ; RB12 removing down2 moving co
ANL
SET MR5700               ; RB12 removing down2 moving re
CON
JMP @MR1012
STG @MR1012
MPS
LD= EM1373 #5            ; Slave RB12 Removing POS memory
AND MR5601               ; RB12 removing up moving co
ANL
RES MR5601               ; RB12 removing up moving co
CON
JMP @MR1013
MRD
LD= EM1373 #10           ; Slave RB12 Removing POS memory
AND MR5609               ; RB12 removing down1 moving co
ANL
RES MR5609               ; RB12 removing down1 moving co
CON
JMP @MR1013
MPP
LD= EM1373 #11           ; Slave RB12 Removing POS memory
AND MR5701               ; RB12 removing down2 moving co
ANL
RES MR5701               ; RB12 removing down2 moving co
CON
JMP @MR1013
STG @MR1013
RES @MR1010
CON
SET @MR1009
CON
ENDS
;RB13 PauseëOŒﬂ≤›ƒà⁄ìÆ
STG @MR1100
SET @MR1102
CON
JMP @MR1103
STG @MR1103
MPS
LD= EM1375 #5            ; Slave RB13 Removing POS memory
ANB MR5801               ; RB13 dent check1 moving co
ANL
SET MR5800               ; RB13 dent check1 moving re
CON
JMP @MR1104
MRD
LD= EM1375 #10           ; Slave RB13 Removing POS memory
ANB MR5809               ; RB13 dent check2 moving co
ANL
SET MR5808               ; RB13 dent check2 moving re
CON
JMP @MR1104
MPP
LD= EM1375 #1            ; Slave RB13 Removing POS memory
ANB MR5901               ; RB13 dent check waitting co
ANL
SET MR5900               ; RB13 dent check waitting re
CON
JMP @MR1104
STG @MR1104
MPS
LD= EM1375 #5            ; Slave RB13 Removing POS memory
AND MR5801               ; RB13 dent check1 moving co
ANL
RES MR5801               ; RB13 dent check1 moving co
CON
JMP @MR1105
MRD
LD= EM1375 #10           ; Slave RB13 Removing POS memory
AND MR5809               ; RB13 dent check2 moving co
ANL
RES MR5809               ; RB13 dent check2 moving co
CON
JMP @MR1105
MPP
LD= EM1375 #1            ; Slave RB13 Removing POS memory
AND MR5901               ; RB13 dent check waitting co
ANL
RES MR5901               ; RB13 dent check waitting co
CON
JMP @MR1105
STG @MR1105
RES @MR1102
CON
SET @MR1101
CON
ENDS
;◊ÕﬁŸ≤›√ﬁØ∏Ω1 PauseëOŒﬂ≤›ƒà⁄ìÆ
STG @MR1200
SET @MR1202
CON
JMP @MR1203
STG @MR1203
RES MR8004               ; Nozzle rotation brake1 UP
CON
ANB R5008                ; Nozzle rotation brake1 upper lim
AND R5009                ; Nozzle rotation brake1 lower lim
LDA EM1343               ; Slave Labe INDEX1 POS memory
CON
STA EM1210               ; label INDEX1 terget POS
CON
JMP @MR1204
STG @MR1204
ANB MR1102               ; Index moving completed
SET MR1100               ; Index move request
CON
JMP @MR1205
STG @MR1205
AND MR1102               ; Index moving completed
RES MR1102               ; Index moving completed
CON
JMP @MR1206
STG @MR1206
RES @MR1202
CON
SET @MR1201
CON
ENDS
;◊ÕﬁŸ≤›√ﬁØ∏Ω2 PauseëOŒﬂ≤›ƒà⁄ìÆ
STG @MR1208
SET @MR1210
CON
JMP @MR1211
STG @MR1211
RES MR8006               ; Nozzle rotation brake2 UP
CON
ANB R5010                ; Nozzle rotation brake2 upper lim
AND R5011                ; Nozzle rotation brake2 lower lim
LDA EM1345               ; Slave Labe INDEX2 POS memory
CON
STA EM1220               ; label INDEX2 terget POS
CON
JMP @MR1212
STG @MR1212
ANB MR1202               ; Label index2 moving completed
SET MR1200               ; Label index2 move request
CON
JMP @MR1213
STG @MR1213
AND MR1202               ; Label index2 moving completed
RES MR1202               ; Label index2 moving completed
CON
JMP @MR1214
STG @MR1214
RES @MR1210
CON
SET @MR1209
CON
ENDS
END
ENDH
