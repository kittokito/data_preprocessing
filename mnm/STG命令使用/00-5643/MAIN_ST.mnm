DEVICE:51
;MODULE:MAIN_ST
;MODULE_TYPE:0
LDB R50914               ; HOMEsw ON
ANB MR207                ; In instantly stops error
INV
LD MR4212                ; Waste fluid tank surface detecti
AND R50001               ; In Auto
ORL
ZRES @MR000 @MR14000
LDB LR200                ; Auto mode selected
ANB LR201                ; Manual mode selected
ANB R50003               ; In Origin
ZRES R50500 R50815       ; AUTO motion end
;<h1/>■■■  HOME  ■■■
;**************************************************************
;******* 原点復帰 / HOME operation ********
;**************************************************************
LD R50003                ; In Origin
TMR @100 #5
CON
AND @T100
ANB R50306               ; PAUSE
ANB R50108               ; In Error
DIFU @MR1000             ; Origin Return Start
LD @MR1000               ; Origin Return Start
ANB R51101               ; In Origin Return Action
SET R51101               ; In Origin Return Action
CON
@SET @MR1100             ; Origin Return
;残水ﾁｪｯｸ / Remaining liquid check
;LR4000 - LR4005
;
;OKﾜｰｸはOKのみON
;NGﾜｰｸはNGのみON
;洗浄未完了品はOK,NGどちらもON
;洗浄を途中でやめた場合はOK,NGどちらもOFF
;
;OK product is OK only ON
;NG product is NG only ON
;Washing not finished product is OK, NG both ON
;If you stop washing in the middle is OK, NG both ON
STG @MR1100              ; Origin Return
MPS
LD LR4000                ; Product1 washing result OK
OR LR4001                ; Product1 washing result NG
LD LR4002                ; Product2 washing result OK
OR LR4003                ; Product2 washing result NG
ANL
LD LR4004                ; Product3 washing result OK
OR LR4005                ; Product3 washing result NG
ANL
ANL
JMP @MR1800
MPP
LDB LR4000               ; Product1 washing result OK
ANB LR4001               ; Product1 washing result NG
LDB LR4002               ; Product2 washing result OK
ANB LR4003               ; Product2 washing result NG
ORL
LDB LR4004               ; Product3 washing result OK
ANB LR4005               ; Product3 washing result NG
ORL
ANL
JMP @MR1101
STG @MR1101
MPS
LDB LR4000               ; Product1 washing result OK
ANB LR4001               ; Product1 washing result NG
AND R4213                ; Product1 presence detection(D-ON
AND R4100                ; Upstream nozzle 1 Left limit
AND R4106                ; Downstream nozzle1 Forward limit
AND R4112                ; Downstream nozzle1 Left limit
ANL
SET @MR102               ; Product1 air displacement reques
MRD
LDB LR4002               ; Product2 washing result OK
ANB LR4003               ; Product2 washing result NG
AND R4214                ; Product2 presence detection(D-ON
AND R4102                ; Upstream nozzle 2 Left limit
AND R4108                ; Downstream nozzle2 Forward limit
AND R4114                ; Downstream nozzle2 Left limit
ANL
SET @MR202               ; Product2 air displacement reques
MRD
LDB LR4004               ; Product3 washing result OK
ANB LR4005               ; Product3 washing result NG
AND R4215                ; Product3 presence detection(D-ON
AND R4104                ; Upstream nozzle 3 Left limit
AND R4110                ; Downstream nozzle3 Forward limit
AND R4200                ; Downstream nozzle3 Left limit
ANL
SET @MR302               ; Product3 air displacement reques
MPP
JMP @MR1102
STG @MR1102
MPS
LDB @MR102               ; Product1 air displacement reques
ANB @MR202               ; Product2 air displacement reques
ANB @MR302               ; Product3 air displacement reques
ANL
JMP @MR1800
MPP
LD @MR102                ; Product1 air displacement reques
OR @MR202                ; Product2 air displacement reques
OR @MR302                ; Product3 air displacement reques
ANL
JMP @MR1103              ; Origin Start
STG @MR1103              ; Origin Start
ANB R50306               ; PAUSE
ANB R50108               ; In Error
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7212               ; Product1 passing water O/C
CON
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
SET MR7304               ; Desiccator atmosphere release
CON
SET MR7004               ; Wft atmosphere release swith
CON
SET MR7005               ; Wft compressed air/vacuum swith
CON
SET MR500                ; Vacuum pump ON
CON
JMP @MR1104
STG @MR1104
TMR @1 DM8               ; Vacuum timer in home  TIM04 setting
CON
AND @T1                  ; Vacuum timer in home
MPS
LD @MR102                ; Product1 air displacement reques
ANB @MR202               ; Product2 air displacement reques
ANB @MR302               ; Product3 air displacement reques
ANL
JMP @MR1105
MRD
LDB @MR102               ; Product1 air displacement reques
AND @MR202               ; Product2 air displacement reques
ANB @MR302               ; Product3 air displacement reques
ANL
JMP @MR1200
MRD
LDB @MR102               ; Product1 air displacement reques
ANB @MR202               ; Product2 air displacement reques
AND @MR302               ; Product3 air displacement reques
ANL
JMP @MR1300
MRD
LD @MR102                ; Product1 air displacement reques
AND @MR202               ; Product2 air displacement reques
ANB @MR302               ; Product3 air displacement reques
ANL
JMP @MR1400
MRD
LDB @MR102               ; Product1 air displacement reques
AND @MR202               ; Product2 air displacement reques
AND @MR302               ; Product3 air displacement reques
ANL
JMP @MR1500
MRD
LD @MR102                ; Product1 air displacement reques
ANB @MR202               ; Product2 air displacement reques
AND @MR302               ; Product3 air displacement reques
ANL
JMP @MR1600
MPP
LD @MR102                ; Product1 air displacement reques
AND @MR202               ; Product2 air displacement reques
AND @MR302               ; Product3 air displacement reques
ANL
JMP @MR1700
;ﾜｰｸ1残水抜き / Product1 remaining liquid drain
STG @MR1105
SET MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
SET MR7212               ; Product1 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR1106
STG @MR1106
TMR @19 DM4              ; Product1 air displacement timer  TIM02 setting
CON
AND @T19                 ; Product1 air displacement timer
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7212               ; Product1 passing water O/C
CON
JMP @MR1800
;ﾜｰｸ2残水抜き / Product2 remaining liquid drain
STG @MR1200
SET MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
SET MR7215               ; Product2 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR1201
STG @MR1201
TMR @29 DM4              ; Product2 air displacement timer  TIM02 setting
CON
AND @T29                 ; Product2 air displacement timer
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
JMP @MR1800
;ﾜｰｸ3残水抜き / Product3 remaining liquid drain
STG @MR1300
SET MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
SET MR7302               ; Product3 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR1301
STG @MR1301
TMR @39 DM4              ; Product3 air displacement timer  TIM02 setting
CON
AND @T39                 ; Product3 air displacement timer
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
JMP @MR1800
;ﾜｰｸ1&2残水抜き / Product1&2 remaining liquid drain
STG @MR1400
SET MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
SET MR7212               ; Product1 passing water O/C
CON
SET MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
SET MR7215               ; Product2 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR1401
STG @MR1401
TMR @49 DM4              ; Product12 air displacement timer  TIM02 setting
CON
AND @T49                 ; Product12 air displacement timer
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7212               ; Product1 passing water O/C
CON
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
JMP @MR1800
;ﾜｰｸ2&3残水抜き / Product2&3 remaining liquid drain
STG @MR1500
SET MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
SET MR7215               ; Product2 passing water O/C
CON
SET MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
SET MR7302               ; Product3 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR1501
STG @MR1501
TMR @59 DM4              ; Product23 air displacement timer  TIM02 setting
CON
AND @T59                 ; Product23 air displacement timer
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
JMP @MR1800
;ﾜｰｸ1&3残水抜き / Product1&3 remaining liquid drain
STG @MR1600
SET MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
SET MR7212               ; Product1 passing water O/C
CON
SET MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
SET MR7302               ; Product3 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR1601
STG @MR1601
TMR @69 DM4              ; Product13 air displacement timer  TIM02 setting
CON
AND @T69                 ; Product13 air displacement timer
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7212               ; Product1 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
JMP @MR1800
;ﾜｰｸ1&2&3残水抜き / Product1&2&3 remaining liquid drain
STG @MR1700
SET MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
SET MR7212               ; Product1 passing water O/C
CON
SET MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
SET MR7215               ; Product2 passing water O/C
CON
SET MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
SET MR7302               ; Product3 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR1701
STG @MR1701
TMR @79 DM4              ; Product123 air displacement time  TIM02 setting
CON
AND @T79                 ; Product123 air displacement time
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7212               ; Product1 passing water O/C
CON
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
JMP @MR1800
;廃液ﾀﾝｸ、通水路空気置換 / Waste fluid tank, water pass displacement air
STG @MR1800
RES @MR102               ; Product1 air displacement reques
CON
RES @MR202               ; Product2 air displacement reques
CON
RES @MR302               ; Product3 air displacement reques
CON
RES MR7004               ; Wft atmosphere release swith
CON
SET MR7005               ; Wft compressed air/vacuum swith
CON
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7212               ; Product1 passing water O/C
CON
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
RES MR500                ; Vacuum pump ON
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
SET MR7304               ; Desiccator atmosphere release
CON
RES MR7305               ; Waste fluid discharge Open/Close
CON
JMP @MR1801
;ｼﾘﾝﾀﾞ原点へ / Cylinder to home position
STG @MR1801
ANB R50306               ; PAUSE
ANB R50108               ; In Error
SET MR200                ; Cylinder in motion
CON
RES MR7209               ; Product set stopper Up/Down Down
CON
SET MR7208               ; Product set stopper Up/Down Up
CON
JMP @MR1802
STG @MR1802
ANB R50306               ; PAUSE
ANB R50108               ; In Error
AND R4208                ; Product set stopper Upper limit
RES MR7200               ; Upstream nozzle R/L Left
CON
SET MR7201               ; Upstream nozzle R/L Right
CON
RES MR7202               ; Downstream nozzle F/B Forward
CON
SET MR7203               ; Downstream nozzle F/B Back
CON
RES MR7204               ; Downstream nozzle R/L Left
CON
SET MR7205               ; Downstream nozzle R/L Right
CON
RES MR7206               ; Product flow channel O/C Open
CON
SET MR7207               ; Product flow channel O/C Close 
CON
JMP @MR1803
STG @MR1803
ANB R50306               ; PAUSE
ANB R50108               ; In Error
AND R4101                ; Upstream nozzle 1 Right limit
AND R4103                ; Upstream nozzle 2 Right limit
AND R4105                ; Upstream nozzle 3 Right limit
AND R4107                ; Downstream nozzle1 Back limit
AND R4109                ; Downstream nozzle2 Back limit
AND R4111                ; Downstream nozzle3  Back limit
AND R4113                ; Downstream nozzle1 Right limit
AND R4115                ; Downstream nozzle2 Right limit
AND R4201                ; Downstream nozzle3 Right limit
AND R4203                ; Product flow channel Close limit
AND R4205                ; Product flow channel Close limit
AND R4207                ; Product flow channel Close limit
RES MR200                ; Cylinder in motion
CON
JMP @MR1804
;ﾜｰｸｾｯﾄ部引き込み・ﾜｰｸ確認 / Product set part intake and product detection
STG @MR1804
ANB R50108               ; In Error
MPS
ANB R4303                ; Product set part intake detectio
JMP @MR1815
MPP
AND R4303                ; Product set part intake detectio
MPS
LDB R4213                ; Product1 presence detection(D-ON
ANB R4214                ; Product2 presence detection(D-ON
ANB R4215                ; Product3 presence detection(D-ON
ANL
SET MR205                ; Bring out request flag
CON
JMP @MR1808
MPP
LD R4213                 ; Product1 presence detection(D-ON
OR R4214                 ; Product2 presence detection(D-ON
OR R4215                 ; Product3 presence detection(D-ON
ANL
SET MR204                ; Remove request flag
CON
JMP @MR1805
STG @MR1805
ANB R50108               ; In Error
MPS
LD LR4000                ; Product1 washing result OK
ANB LR4001               ; Product1 washing result NG
AND LR4002               ; Product2 washing result OK
ANB LR4003               ; Product2 washing result NG
AND LR4004               ; Product3 washing result OK
ANB LR4005               ; Product3 washing result NG
ANL
JMP @MR11200             ; Washing OK product remove reques
MRD
LDB LR4000               ; Product1 washing result OK
AND LR4001               ; Product1 washing result NG
LDB LR4002               ; Product2 washing result OK
AND LR4003               ; Product2 washing result NG
ORL
LDB LR4004               ; Product3 washing result OK
AND LR4005               ; Product3 washing result NG
ORL
ANL
JMP @MR11300             ; Washing NG product remove reques
MPP
LDB LR4000               ; Product1 washing result OK
ANB LR4001               ; Product1 washing result NG
LDB LR4002               ; Product2 washing result OK
ANB LR4003               ; Product2 washing result NG
ORL
LDB LR4004               ; Product3 washing result OK
ANB LR4005               ; Product3 washing result NG
ORL
LD LR4000                ; Product1 washing result OK
AND LR4001               ; Product1 washing result NG
ORL
LD LR4002                ; Product2 washing result OK
AND LR4003               ; Product2 washing result NG
ORL
LD LR4004                ; Product3 washing result OK
AND LR4005               ; Product3 washing result NG
ORL
ANL
JMP @MR11400             ; Wash no finish prduct remove req
LD R51101                ; In Origin Return Action
ANP MR201                ; Washing result display flag
MPS
AND LR4000               ; Product1 washing result OK
SET MR48700              ; Product1 OK lamp display
MRD
AND LR4001               ; Product1 washing result NG
SET MR48701              ; Product1 NG lamp display
MRD
AND LR4002               ; Product2 washing result OK
SET MR48702              ; Product2 OK lamp display
MRD
AND LR4003               ; Product2 washing result NG
SET MR48703              ; Product2 NG lamp display
MRD
AND LR4004               ; Product3 washing result OK
SET MR48704              ; Product3 OK lamp display
MPP
AND LR4005               ; Product3 washing result NG
SET MR48705              ; Product3 NG lamp display
STG @MR1808
ANB R4303                ; Product set part intake detectio
RES MR205                ; Bring out request flag
CON
JMP @MR1815
;******* 原点復帰終了操作 / HOME End operation ********
STG @MR1815
ANB R50108               ; In Error
TMR @2 #2                ; Origin return finished wait time
CON
AND @T2                  ; Origin return finished wait time
DW #0 DM2900             ; Washing count management
CON
DW #0 DM2908             ; Zero-point search passing count
CON
RES MR204                ; Remove request flag
CON
RES R51101               ; In Origin Return Action
CON
SET R51100               ; Origin Return Finished
CON
ENDS
;<h1/>■■■ Manual ■■■
;********* 手動動作ﾓｰﾄﾞ選択 *********
;********* MANUAL MODE SELECTION *********
LDB LR000                ; Waste fluid discharge mode
ANB LR001                ; Flowmeter zero-poit search mode
OUB R51011               ; Manual selection
LD R50002                ; In Manual
AND R50012               ; Manual action Selection ended
AND R51011               ; Manual selection
ANB R50108               ; In Error
DIFU @MR3000             ; Manul Start Pulse
LD @MR3000               ; Manul Start Pulse
MPS
LD LR000                 ; Waste fluid discharge mode
ANB R50700               ; Waste fluid discharge Activate
ANL
SET R50700               ; Waste fluid discharge Activate
CON
@SET @MR3100             ; Waste fluid discharge mode
MPP
LD LR001                 ; Flowmeter zero-poit search mode
ANB R50701               ; Flowmeter zeropoint search Activ
ANL
SET R50701               ; Flowmeter zeropoint search Activ
CON
@SET @MR3200             ; Flowmeter zero-point search mode
;<h1/>********* 廃液排水ﾓｰﾄﾞ / Waste fluid waste water mode *********
STG @MR3100              ; Waste fluid discharge mode
ANB R50306               ; PAUSE
ANB R50108               ; In Error
RES MR7212               ; Product1 passing water O/C
CON
RES MR7215               ; Product2 passing water O/C
CON
RES MR7302               ; Product3 passing water O/C
CON
SET MR7304               ; Desiccator atmosphere release
CON
RES MR7305               ; Waste fluid discharge Open/Close
CON
JMP @MR3101
;廃液ﾀﾝｸ液面下限検出確認 / Waste fluid tank surface lower limit detection
STG @MR3101
ANB R50306               ; PAUSE
ANB R50108               ; In Error
MPS
AND R4211                ; Waste fluid tank sureface lower
JMP @MR3102
MPP
ANB R4211                ; Waste fluid tank sureface lower
JMP @MR3915              ; Manual Finish
;排水時洗浄液通水路閉確認 / When waste water washing liquid water pass close confirmation
STG @MR3102
ANB R50306               ; PAUSE
ANB R50108               ; In Error
MPS
LDB MR7212               ; Product1 passing water O/C
ANB MR7215               ; Product2 passing water O/C
ANB MR7302               ; Product3 passing water O/C
ANL
JMP @MR3103
MPP
LD MR7212                ; Product1 passing water O/C
OR MR7215                ; Product2 passing water O/C
OR MR7302                ; Product3 passing water O/C
ANL
JMP @MR12000             ; Wash liquid water pass open alrm
;排水時真空OFF確認 / When waste water vacuum OFF confirmation
STG @MR3103
ANB R50306               ; PAUSE
ANB R50108               ; In Error
MPS
ANB R4005                ; Waste fluid tank pressure sensor
RES MR500                ; Vacuum pump ON
CON
SET MR7004               ; Wft atmosphere release swith
CON
RES MR7005               ; Wft compressed air/vacuum swith
CON
JMP @MR3104
MPP
AND R4005                ; Waste fluid tank pressure sensor
JMP @MR12100             ; Vacuum in waste fluid tank alarm
STG @MR3104
ANB R50306               ; PAUSE
ANB R50108               ; In Error
MPS
LD MR7004                ; Wft atmosphere release swith
ANB MR7005               ; Wft compressed air/vacuum swith
ANL
SET MR7305               ; Waste fluid discharge Open/Close
CON
JMP @MR3105
MPP
LDB MR7004               ; Wft atmosphere release swith
OR MR7005                ; Wft compressed air/vacuum swith
ANL
JMP @MR12200             ; Wft compressed air alarm
;廃液ﾀﾝｸ液面下限検出で排水停止 / Stop waste water when waste fluid tank surface lower limit detection
STG @MR3105
ANB R50306               ; PAUSE
MPS
AND R50010               ; Manual stop FLG
RES R50010               ; Manual stop FLG
CON
JMP @MR3106
MPP
ANB R50010               ; Manual stop FLG
MPS
ANB R4211                ; Waste fluid tank sureface lower
JMP @MR3106
MPP
AND R4211                ; Waste fluid tank sureface lower
TMR @3 DM6               ; Waste discharge monitoring timer  TIM03 setting
CON
AND @T3                  ; Waste discharge monitoring timer
JMP @MR12300             ; Waaste discharge monitor alarm
STG @MR3106
RES MR7004               ; Wft atmosphere release swith
CON
SET MR7005               ; Wft compressed air/vacuum swith
CON
RES MR7305               ; Waste fluid discharge Open/Close
CON
JMP @MR3915              ; Manual Finish
;<h1/>********* 流量計ｾﾞﾛ点出しﾓｰﾄﾞ / Flowmeter zero-point search mode *********
;ﾜｰｸｾｯﾄ部引き込み確認 / Product sete part intake detection
STG @MR3200              ; Flowmeter zero-point search mode
ANB R50306               ; PAUSE
ANB R50108               ; In Error
MPS
ANB R4303                ; Product set part intake detectio
JMP @MR10400             ; Product set part no intake alarm
MPP
AND R4303                ; Product set part intake detectio
MPS
LD R4300                 ; Product1 clamp detection(D-ON)
AND R4301                ; Product2 clamp detection(D-ON)
AND R4302                ; Product3 clamp detection(D-ON)
ANL
JMP @MR3201
MPP
LDB R4300                ; Product1 clamp detection(D-ON)
ORB R4301                ; Product2 clamp detection(D-ON)
ORB R4302                ; Product3 clamp detection(D-ON)
ANL
JMP @MR10700             ; Product clamp alarm
;ﾜｰｸ有無確認 / Prodoct presence detection
STG @MR3201
ANB R50306               ; PAUSE
ANB R50108               ; In Error
MPS
LD R4213                 ; Product1 presence detection(D-ON
AND R4214                ; Product2 presence detection(D-ON
AND R4215                ; Product3 presence detection(D-ON
ANL
JMP @MR3202
MPP
LDB R4213                ; Product1 presence detection(D-ON
ORB R4214                ; Product2 presence detection(D-ON
ORB R4215                ; Product3 presence detection(D-ON
ANL
JMP @MR10600             ; Product no detection alarm
;廃液ﾀﾝｸ状態確認 / Waste fluid tank state confirmaiton
STG @MR3202
ANB R50108               ; In Error
MPS
AND R4210                ; Waste fluid tank surface Upper
JMP @MR3203
MPP
ANB R4210                ; Waste fluid tank surface Upper
JMP @MR10500             ; Waste fluid full tank alarm
STG @MR3203
ANB R50108               ; In Error
SET MR7304               ; Desiccator atmosphere release
CON
SET MR7004               ; Wft atmosphere release swith
CON
SET MR7005               ; Wft compressed air/vacuum swith
CON
SET MR500                ; Vacuum pump ON
CON
JMP @MR3204
STG @MR3204
ANB R50306               ; PAUSE
ANB R50108               ; In Error
SET MR200                ; Cylinder in motion
CON
RES MR7208               ; Product set stopper Up/Down Up
CON
SET MR7209               ; Product set stopper Up/Down Down
CON
JMP @MR3205
STG @MR3205
ANB R50306               ; PAUSE
ANB R50108               ; In Error
AND R4209                ; Product set stopper Lower limit
RES MR200                ; Cylinder in motion
CON
JMP @MR3206
STG @MR3206
ANB R50108               ; In Error
MPS
AND R50010               ; Manual stop FLG
RES R50010               ; Manual stop FLG
CON
JMP @MR3402
MPP
ANB R50010               ; Manual stop FLG
MPS
AND R4005                ; Waste fluid tank pressure sensor
JMP @MR3208
MPP
ANB R4005                ; Waste fluid tank pressure sensor
TMR @4 DM16              ; Zero-point search vacuum time  TIM08 setting
CON
AND @T4                  ; Zero-point search vacuum time
JMP @MR11100             ; Waste tank vacuum pressure alarm
;ｼﾘﾝﾀﾞｸﾗﾝﾌﾟ動作 / cylinder clamp motion
STG @MR3208
ANB R50306               ; PAUSE
ANB R50108               ; In Error
RES MR7201               ; Upstream nozzle R/L Right
CON
SET MR7200               ; Upstream nozzle R/L Left
CON
RES MR7205               ; Downstream nozzle R/L Right
CON
SET MR7204               ; Downstream nozzle R/L Left
CON
JMP @MR3209
STG @MR3209
ANB R50306               ; PAUSE
ANB R50108               ; In Error
AND R4100                ; Upstream nozzle 1 Left limit
AND R4102                ; Upstream nozzle 2 Left limit
AND R4104                ; Upstream nozzle 3 Left limit
AND R4112                ; Downstream nozzle1 Left limit
AND R4114                ; Downstream nozzle2 Left limit
AND R4200                ; Downstream nozzle3 Left limit
RES MR7203               ; Downstream nozzle F/B Back
CON
SET MR7202               ; Downstream nozzle F/B Forward
CON
RES MR7207               ; Product flow channel O/C Close 
CON
SET MR7206               ; Product flow channel O/C Open
CON
JMP @MR3210
STG @MR3210
ANB R50306               ; PAUSE
ANB R50108               ; In Error
AND R4106                ; Downstream nozzle1 Forward limit
AND R4108                ; Downstream nozzle2 Forward limit
AND R4110                ; Downstream nozzle3 Forward limit
AND R4202                ; Product flow channel Open limit
AND R4204                ; Product flow channel Open limit
AND R4206                ; Product flow channel Open limit
RES MR200                ; Cylinder in motion
CON
JMP @MR3300
;通水工程繰り返し分岐 / Washing liquid passing water process repeatedly branch
STG @MR3300
RES LR4000               ; Product1 washing result OK
CON
RES LR4001               ; Product1 washing result NG
CON
RES LR4002               ; Product2 washing result OK
CON
RES LR4003               ; Product2 washing result NG
CON
RES LR4004               ; Product3 washing result OK
CON
RES LR4005               ; Product3 washing result NG
CON
JMP @MR3301
STG @MR3301
MPS
AND< DM2908 DM202        ; Zero-point search passing count  CNT101 setting
JMP @MR3302
MPP
AND>= DM2908 DM202       ; Zero-point search passing count  CNT101 setting
JMP @MR3307
;ﾁｮｰｸ / Choke
STG @MR3302
@INC DM2908              ; Zero-point search passing count
CON
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR3303
STG @MR3303
MPS
ANB MR4004               ; Source air-pressure sensor OUT1
TMR @5 DM18              ; Zero-point search choke time  TIM09 setting
CON
AND @T5                  ; Zero-point search choke time
JMP @MR3304
MPP
AND MR4004               ; Source air-pressure sensor OUT1
SET @MR014               ; In zero-point search error flg
CON
JMP @MR3307
;洗浄液通水 / Washing liquid passing water
STG @MR3304
RES MR7210               ; Product1 atmosphere release swit
CON
SET MR7211               ; Product1 washing liquid supply 
CON
SET MR7212               ; Product1 passing water O/C
CON
RES MR7213               ; Product2 atmosphere release swit
CON
SET MR7214               ; Product2 washing liquid supply 
CON
SET MR7215               ; Product2 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
SET MR7301               ; Product3 washing liquid supply 
CON
SET MR7302               ; Product3 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
SET MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR3305
STG @MR3305
MPS
ANB MR4004               ; Source air-pressure sensor OUT1
TMR @6 DM20              ; Zero-point search passing time  TIM10 setting
CON
AND @T6                  ; Zero-point search passing time
JMP @MR3306
MPP
AND MR4004               ; Source air-pressure sensor OUT1
SET @MR014               ; In zero-point search error flg
CON
JMP @MR3306
STG @MR3306
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7212               ; Product1 passing water O/C
CON
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
RES MR7303               ; Washing liquid supply Open/Close
CON
MPS
ANB @MR014               ; In zero-point search error flg
JMP @MR3301
MPP
AND @MR014               ; In zero-point search error flg
JMP @MR3306
;空気置換 / Air displacement
STG @MR3307
SET MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
SET MR7212               ; Product1 passing water O/C
CON
SET MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
SET MR7215               ; Product2 passing water O/C
CON
SET MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
SET MR7302               ; Product3 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR3308
STG @MR3308
TMR @7 DM4               ; Zero-point search air displaceme  TIM02 setting
CON
AND @T7                  ; Zero-point search air displaceme
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7212               ; Product1 passing water O/C
CON
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR3309
STG @MR3309
DW #0 DM2908             ; Zero-point search passing count
CON
SET LR4000               ; Product1 washing result OK
CON
SET LR4001               ; Product1 washing result NG
CON
SET LR4002               ; Product2 washing result OK
CON
SET LR4003               ; Product2 washing result NG
CON
SET LR4004               ; Product3 washing result OK
CON
SET LR4005               ; Product3 washing result NG
CON
JMP @MR3400
;ｾﾞﾛ点判定 / zero-point Judgment
STG @MR3400
ANB R50108               ; In Error
MPS
AND @MR014               ; In zero-point search error flg
JMP @MR3402
MPP
ANB @MR014               ; In zero-point search error flg
RES R49403               ; Zero-point search choiceSW1 hold
CON
RES R49404               ; Zero-point search choiceSW2 hold
CON
RES R49405               ; Zero-point search choiceSW3 hold
CON
SET MR114                ; 0-point confirmation display flg
CON
JMP @MR3401
LD R40011                ; Zero-point search choices SW1
SET R49403               ; Zero-point search choiceSW1 hold
CON
RES R49404               ; Zero-point search choiceSW2 hold
CON
RES R49405               ; Zero-point search choiceSW3 hold
LD R40012                ; Zero-point search choices SW2
RES R49403               ; Zero-point search choiceSW1 hold
CON
SET R49404               ; Zero-point search choiceSW2 hold
CON
RES R49405               ; Zero-point search choiceSW3 hold
LD R40013                ; Zero-point search choices SW3
RES R49403               ; Zero-point search choiceSW1 hold
CON
RES R49404               ; Zero-point search choiceSW2 hold
CON
SET R49405               ; Zero-point search choiceSW3 hold
STG @MR3401
ANB R50108               ; In Error
ANP R51000               ; Start SW ON Pulse
MPS
AND R49403               ; Zero-point search choiceSW1 hold
RES MR114                ; 0-point confirmation display flg
CON
JMP @MR3402
MRD
AND R49404               ; Zero-point search choiceSW2 hold
RES MR114                ; 0-point confirmation display flg
CON
RES @MR014               ; In zero-point search error flg
CON
JMP @MR3300
MPP
AND R49405               ; Zero-point search choiceSW3 hold
RES MR114                ; 0-point confirmation display flg
CON
SET @MR013               ; In flowmeter zero-reset
CON
JMP @MR3402
;ｼﾘﾝﾀﾞｱﾝｸﾗﾝﾌﾟ動作 / Cylinde unclamp motion
STG @MR3402
ANB R50306               ; PAUSE
ANB R50108               ; In Error
SET MR200                ; Cylinder in motion
CON
RES MR7206               ; Product flow channel O/C Open
CON
SET MR7207               ; Product flow channel O/C Close 
CON
RES MR7202               ; Downstream nozzle F/B Forward
CON
SET MR7203               ; Downstream nozzle F/B Back
CON
RES MR7204               ; Downstream nozzle R/L Left
CON
SET MR7205               ; Downstream nozzle R/L Right
CON
JMP @MR3403
STG @MR3403
ANB R50306               ; PAUSE
ANB R50108               ; In Error
AND R4107                ; Downstream nozzle1 Back limit
AND R4109                ; Downstream nozzle2 Back limit
AND R4111                ; Downstream nozzle3  Back limit
AND R4113                ; Downstream nozzle1 Right limit
AND R4115                ; Downstream nozzle2 Right limit
AND R4201                ; Downstream nozzle3 Right limit
AND R4203                ; Product flow channel Close limit
AND R4205                ; Product flow channel Close limit
AND R4207                ; Product flow channel Close limit
RES MR7200               ; Upstream nozzle R/L Left
CON
SET MR7201               ; Upstream nozzle R/L Right
CON
JMP @MR3404
STG @MR3404
ANB R50306               ; PAUSE
ANB R50108               ; In Error
AND R4101                ; Upstream nozzle 1 Right limit
AND R4103                ; Upstream nozzle 2 Right limit
AND R4105                ; Upstream nozzle 3 Right limit
RES MR7209               ; Product set stopper Up/Down Down
CON
SET MR7208               ; Product set stopper Up/Down Up
CON
JMP @MR3405
STG @MR3405
ANB R50306               ; PAUSE
ANB R50108               ; In Error
AND R4208                ; Product set stopper Upper limit
RES MR200                ; Cylinder in motion
CON
JMP @MR3406
STG @MR3406
MPS
LDB @MR014               ; In zero-point search error flg
ANB @MR013               ; In flowmeter zero-reset
ANL
RES LR4006               ; Zero-point saerch confirmation
CON
JMP @MR3407
MPP
AND @MR014               ; In zero-point search error flg
JMP @MR3407
STG @MR3407
RES @MR014               ; In zero-point search error flg
CON
RES MR500                ; Vacuum pump ON
CON
RES MR7004               ; Wft atmosphere release swith
CON
SET MR7304               ; Desiccator atmosphere release
CON
SET MR7005               ; Wft compressed air/vacuum swith
CON
JMP @MR3915              ; Manual Finish
;********* 手動動作終了操作 *********
;********* STEP End process *********
LDP R50104               ; Auto mode Stop sw
AND R50002               ; In Manual
AND R50012               ; Manual action Selection ended
LD LR000                 ; Waste fluid discharge mode
OR LR001                 ; Flowmeter zero-poit search mode
ANL
ANB R50306               ; PAUSE
ANB R50108               ; In Error
ANB R50010               ; Manual stop FLG
SET R50010               ; Manual stop FLG
STG @MR3915              ; Manual Finish
RES R50010               ; Manual stop FLG
CON
ZRES R50700 R50701       ; Waste fluid discharge Activate  Flowmeter zeropoint search Activ
CON
ENDS
;<h1/>■■■  AUTO  ■■■
;********* AUTO動作ﾓｰﾄﾞ選択 *********
;********* AUTO MODE SELECTION *********
LD R50001                ; In Auto
ANB R50009               ; In auto 1Cycle motion
ANB R50108               ; In Error
ANB R50306               ; PAUSE
ANB MR208                ; Washing stop error
ANB LR4006               ; Zero-point saerch confirmation
TMR @0 #10               ; Auto start condition timer
CON
AND @T0                  ; Auto start condition timer
OUT @MR400               ; Cycle operation start condion
LDP R51000               ; Start SW ON Pulse
AND @MR400               ; Cycle operation start condion
SET R50009               ; In auto 1Cycle motion
CON
@SET @MR4000             ; Auto Start PLS
;ﾊﾟﾗﾒｰﾀ確認 / parametar confirmation
STG @MR4000              ; Auto Start PLS
MPS
AND LR1000               ; AUTO PARA0 normal motion select
JMP @MR4001
MPP
ANB LR1000               ; AUTO PARA0 normal motion select
JMP @MR10900             ; Parameter selection alarm
;ｸﾘｰﾝﾕﾆｯﾄｱﾗｰﾑ確認 / Clean unit alarm confirmation
STG @MR4001
MPS
LD R4002                 ; Air clean unit alarm1
AND R4003                ; Air clean unit alarm2
ANL
JMP @MR4004
MPP
LDB R4002                ; Air clean unit alarm1
ORB R4003                ; Air clean unit alarm2
ANL
JMP @MR11000             ; Air clean unit alarm
;廃液ﾀﾝｸ状態確認 / Waste fluid tank state confirmaiton
STG @MR4004
ANB R50306               ; PAUSE
ANB R50108               ; In Error
MPS
AND R4005                ; Waste fluid tank pressure sensor
JMP @MR4005
MPP
ANB R4005                ; Waste fluid tank pressure sensor
JMP @MR11100             ; Waste tank vacuum pressure alarm
STG @MR4005
ANB R50306               ; PAUSE
ANB R50108               ; In Error
MPS
AND R4210                ; Waste fluid tank surface Upper
JMP @MR4006
MPP
ANB R4210                ; Waste fluid tank surface Upper
JMP @MR10500             ; Waste fluid full tank alarm
;ﾜｰｸｾｯﾄ部引き込み確認 / Product sete part intake detection
STG @MR4006
ANB R50306               ; PAUSE
ANB R50108               ; In Error
MPS
ANB R4303                ; Product set part intake detectio
JMP @MR10400             ; Product set part no intake alarm
MPP
AND R4303                ; Product set part intake detectio
MPS
LD R4300                 ; Product1 clamp detection(D-ON)
AND R4301                ; Product2 clamp detection(D-ON)
AND R4302                ; Product3 clamp detection(D-ON)
ANL
JMP @MR4007
MPP
LDB R4300                ; Product1 clamp detection(D-ON)
ORB R4301                ; Product2 clamp detection(D-ON)
ORB R4302                ; Product3 clamp detection(D-ON)
ANL
JMP @MR10700             ; Product clamp alarm
;ﾜｰｸ有無確認 / Prodoct presence detection
STG @MR4007
ANB R50306               ; PAUSE
ANB R50108               ; In Error
MPS
LD R4213                 ; Product1 presence detection(D-ON
ANB R4214                ; Product2 presence detection(D-ON
ANB R4215                ; Product3 presence detection(D-ON
ANL
SET MR210                ; Product1 existing keep
CON
RES MR211                ; Product2 existion keep
CON
RES MR212                ; Product3 existion keep
CON
JMP @MR4008
MRD
LDB R4213                ; Product1 presence detection(D-ON
AND R4214                ; Product2 presence detection(D-ON
ANB R4215                ; Product3 presence detection(D-ON
ANL
RES MR210                ; Product1 existing keep
CON
SET MR211                ; Product2 existion keep
CON
RES MR212                ; Product3 existion keep
CON
JMP @MR4008
MRD
LDB R4213                ; Product1 presence detection(D-ON
ANB R4214                ; Product2 presence detection(D-ON
AND R4215                ; Product3 presence detection(D-ON
ANL
RES MR210                ; Product1 existing keep
CON
RES MR211                ; Product2 existion keep
CON
SET MR212                ; Product3 existion keep
CON
JMP @MR4008
MRD
LD R4213                 ; Product1 presence detection(D-ON
AND R4214                ; Product2 presence detection(D-ON
ANB R4215                ; Product3 presence detection(D-ON
ANL
SET MR210                ; Product1 existing keep
CON
SET MR211                ; Product2 existion keep
CON
RES MR212                ; Product3 existion keep
CON
JMP @MR4009
MRD
LD R4213                 ; Product1 presence detection(D-ON
ANB R4214                ; Product2 presence detection(D-ON
AND R4215                ; Product3 presence detection(D-ON
ANL
SET MR210                ; Product1 existing keep
CON
RES MR211                ; Product2 existion keep
CON
SET MR212                ; Product3 existion keep
CON
JMP @MR4009
MRD
LDB R4213                ; Product1 presence detection(D-ON
AND R4214                ; Product2 presence detection(D-ON
AND R4215                ; Product3 presence detection(D-ON
ANL
RES MR210                ; Product1 existing keep
CON
SET MR211                ; Product2 existion keep
CON
SET MR212                ; Product3 existion keep
CON
JMP @MR4009
MRD
LD R4213                 ; Product1 presence detection(D-ON
AND R4214                ; Product2 presence detection(D-ON
AND R4215                ; Product3 presence detection(D-ON
ANL
SET MR210                ; Product1 existing keep
CON
SET MR211                ; Product2 existion keep
CON
SET MR212                ; Product3 existion keep
CON
JMP @MR4010
MPP
LDB R4213                ; Product1 presence detection(D-ON
ANB R4214                ; Product2 presence detection(D-ON
ANB R4215                ; Product3 presence detection(D-ON
ANL
RES MR210                ; Product1 existing keep
CON
RES MR211                ; Product2 existion keep
CON
RES MR212                ; Product3 existion keep
CON
JMP @MR10600             ; Product no detection alarm
;投入数ｶｳﾝﾄ / Input count
STG @MR4008
INC DM471                ; Input counter
CON
JMP @MR4012
STG @MR4009
LDA DM471                ; Input counter
CON
ADD #2
CON
STA DM471                ; Input counter
CON
JMP @MR4012
STG @MR4010
LDA DM471                ; Input counter
CON
ADD #3
CON
STA DM471                ; Input counter
CON
JMP @MR4012
;ｼﾘﾝﾀﾞｸﾗﾝﾌﾟ動作 / cylinder clamp motion
STG @MR4012
ANB R50306               ; PAUSE
ANB R50108               ; In Error
SET MR200                ; Cylinder in motion
CON
RES MR7208               ; Product set stopper Up/Down Up
CON
SET MR7209               ; Product set stopper Up/Down Down
CON
JMP @MR4013
STG @MR4013
ANB R50306               ; PAUSE
ANB R50108               ; In Error
AND R4209                ; Product set stopper Lower limit
RES MR7201               ; Upstream nozzle R/L Right
CON
SET MR7200               ; Upstream nozzle R/L Left
CON
RES MR7205               ; Downstream nozzle R/L Right
CON
SET MR7204               ; Downstream nozzle R/L Left
CON
JMP @MR4014
STG @MR4014
ANB R50306               ; PAUSE
ANB R50108               ; In Error
AND R4100                ; Upstream nozzle 1 Left limit
AND R4102                ; Upstream nozzle 2 Left limit
AND R4104                ; Upstream nozzle 3 Left limit
AND R4112                ; Downstream nozzle1 Left limit
AND R4114                ; Downstream nozzle2 Left limit
AND R4200                ; Downstream nozzle3 Left limit
RES MR7203               ; Downstream nozzle F/B Back
CON
SET MR7202               ; Downstream nozzle F/B Forward
CON
RES MR7207               ; Product flow channel O/C Close 
CON
SET MR7206               ; Product flow channel O/C Open
CON
JMP @MR4015
STG @MR4015
ANB R50306               ; PAUSE
ANB R50108               ; In Error
AND R4106                ; Downstream nozzle1 Forward limit
AND R4108                ; Downstream nozzle2 Forward limit
AND R4110                ; Downstream nozzle3 Forward limit
AND R4202                ; Product flow channel Open limit
AND R4204                ; Product flow channel Open limit
AND R4206                ; Product flow channel Open limit
RES MR200                ; Cylinder in motion
CON
JMP @MR4102
;洗浄工程分岐 / Washing process branch
STG @MR4102
MPS
AND MR208                ; Washing stop error
JMP @MR4803
MPP
LDB MR208                ; Washing stop error
ANB R50306               ; PAUSE
ANB R50108               ; In Error
ANL
SET MR206                ; In washing
CON
MPS
LD MR210                 ; Product1 existing keep
ANB MR211                ; Product2 existion keep
ANB MR212                ; Product3 existion keep
ANL
JMP @MR4103
MRD
LDB MR210                ; Product1 existing keep
AND MR211                ; Product2 existion keep
ANB MR212                ; Product3 existion keep
ANL
JMP @MR4200              ; Unclamp motion
MRD
LDB MR210                ; Product1 existing keep
ANB MR211                ; Product2 existion keep
AND MR212                ; Product3 existion keep
ANL
JMP @MR4300
MRD
LD MR210                 ; Product1 existing keep
AND MR211                ; Product2 existion keep
ANB MR212                ; Product3 existion keep
ANL
JMP @MR4400
MRD
LDB MR210                ; Product1 existing keep
AND MR211                ; Product2 existion keep
AND MR212                ; Product3 existion keep
ANL
JMP @MR4500
MRD
LD MR210                 ; Product1 existing keep
ANB MR211                ; Product2 existion keep
AND MR212                ; Product3 existion keep
ANL
JMP @MR4600
MPP
LD MR210                 ; Product1 existing keep
AND MR211                ; Product2 existion keep
AND MR212                ; Product3 existion keep
ANL
JMP @MR4700
;<h1/>******* ﾜｰｸ洗浄共通動作 / Product washing common action ********
;ﾊﾞﾙﾌﾞ開閉ﾀｲﾐﾝｸﾞずらしﾀｲﾏｰ / Valve open/close timing shifted timer
LD @MR011                ; Valve open/clos timing shift flg
TMR @81 DM10             ; Valve open/close timing shifted  TIM05 setting
CON
AND @T81                 ; Valve open/close timing shifted
RES @MR011               ; Valve open/clos timing shift flg
;流量計積算 / Flowmeter integrate
LD @MR012                ; Washing flow integrating
MPS
LDF R4008                ; Integrating flowmeter1 OUT2
AND CR2003
ANL
LDA DM2902               ; Flowmeter1 integrated value
CON
ADD #1
CON
STA DM2902               ; Flowmeter1 integrated value
MRD
ANF R4011                ; Integrating flowmeter2 OUT2
LDA DM2904               ; Flowmeter2 integrated value
CON
ADD #1
CON
STA DM2904               ; Flowmeter2 integrated value
MPP
LDF R4014                ; Integrating flowmeter3 OUT2
AND CR2003
ANL
LDA DM2906               ; Flowmeter3 integrated value
CON
ADD #1
CON
STA DM2906               ; Flowmeter3 integrated value
;流量計ｾﾞﾛﾘｾｯﾄ / Flowmeter zero-reset
;
;ｾﾞﾛﾘｾｯﾄﾊﾟﾗﾒｰﾀ設定値に応じてｾﾞﾛﾘｾｯﾄする
;0    ：ｾﾞﾛﾘｾｯﾄ無し
;1    ：毎回ﾘｾｯﾄ
;2以降：設定値毎にﾘｾｯﾄ
;
;Reset to zero according to the zero-reset parameter setting value.
;0:Zero-reset invalid
;1:Every time zero-reset
;2 or later:Zero-reset per set value
LDF @MR012               ; Washing flow integrating
ANB @MR015               ; In washing motion stop error flg
AND<> DM210 #0           ; CNT105 setting
SET @MR013               ; In flowmeter zero-reset
LDP R50009               ; In auto 1Cycle motion
AND<> DM210 #0           ; CNT105 setting
AND> DM2910 DM210        ; Zero resset use counter  CNT105 setting
DW #1 DM2910             ; Zero resset use counter
LD @MR013                ; In flowmeter zero-reset
MPS
LD R50002                ; In Manual
AND R50701               ; Flowmeter zeropoint search Activ
ANL
SET MR7002               ; Flowmeter2 reset input
CON
TMR @87 DM14             ; Zeropoint search use zerores fin  TIM07 setting
CON
AND @T87                 ; Zeropoint search use zerores fin
RES @MR013               ; In flowmeter zero-reset
MPP
AND R50001               ; In Auto
MPS
AND<> DM2910 DM210       ; Zero resset use counter  CNT105 setting
RES @MR013               ; In flowmeter zero-reset
CON
@INC DM2910              ; Zero resset use counter
MPP
AND= DM2910 DM210        ; Zero resset use counter  CNT105 setting
TMR @82 DM12             ; Zero-reset flow stability wait t  TIM06 setting
CON
AND @T82                 ; Zero-reset flow stability wait t
SET MR7002               ; Flowmeter2 reset input
CON
TMR @83 DM14             ; Zero-reset finish wait timer  TIM07 setting
CON
AND @T83                 ; Zero-reset finish wait timer
RES @MR013               ; In flowmeter zero-reset
CON
DW #1 DM2910             ; Zero resset use counter
LD MR7001                ; Flowmeter1 reset input
TMR @84 #5               ; Flowmeter1 reset input off timer
CON
AND @T84                 ; Flowmeter1 reset input off timer
RES MR7001               ; Flowmeter1 reset input
LD MR7002                ; Flowmeter2 reset input
TMR @85 #5               ; Flowmeter2 reset input off timer
CON
AND @T85                 ; Flowmeter2 reset input off timer
RES MR7002               ; Flowmeter2 reset input
LD MR7003                ; Flowmeter3 reset input
TMR @86 #5               ; Flowmeter3 reset input off timer
CON
AND @T86                 ; Flowmeter3 reset input off timer
RES MR7003               ; Flowmeter3 reset input
;<h1/>******* ﾜｰｸ1洗浄工程 / Product1 washing process ********
STG @MR4103
DW #0 DM2904             ; Flowmeter2 integrated value
CON
RES LR4000               ; Product1 washing result OK
CON
RES LR4001               ; Product1 washing result NG
CON
RES LR4002               ; Product2 washing result OK
CON
RES LR4003               ; Product2 washing result NG
CON
RES LR4004               ; Product3 washing result OK
CON
RES LR4005               ; Product3 washing result NG
CON
SET @MR012               ; Washing flow integrating
CON
JMP @MR4104              ; Re-washing after Washing NG
;洗浄液通水工程繰り返し分岐 / Washing liquid passing water process repeatedly branch
STG @MR4104              ; Re-washing after Washing NG
MPS
AND< DM2900 DM200        ; Washing count management  CNT100 setting
JMP @MR4105
MPP
AND>= DM2900 DM200       ; Washing count management  CNT100 setting
RES @MR012               ; Washing flow integrating
CON
JMP @MR4110
;ﾁｮｰｸ / Choke
STG @MR4105
@INC DM2900              ; Washing count management
CON
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7210               ; Product1 atmosphere release swit
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4106
STG @MR4106
MPS
ANB MR208                ; Washing stop error
TMR @11 DM2              ; Product1 choke time  TIM01 setting
CON
AND @T11                 ; Product1 choke time
JMP @MR4107
MPP
LD MR208                 ; Washing stop error
ANB MR4004               ; Source air-pressure sensor OUT1
ANL
SET @MR015               ; In washing motion stop error flg
CON
MPS
AND MR209                ; Main air error re-washing flg
JMP @MR4113
MPP
ANB MR209                ; Main air error re-washing flg
JMP @MR4111
;洗浄液通水 / Washing liquid passing water
STG @MR4107
RES MR7210               ; Product1 atmosphere release swit
CON
SET MR7211               ; Product1 washing liquid supply 
CON
SET MR7212               ; Product1 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
SET MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4108              ; Washing result display
STG @MR4108              ; Washing result display
MPS
ANB MR208                ; Washing stop error
TMR @12 DM0              ; Product1 washing time  TIM00 setting
CON
AND @T12                 ; Product1 washing time
JMP @MR4109
MPP
LD MR208                 ; Washing stop error
ANB MR4004               ; Source air-pressure sensor OUT1
ANL
SET @MR015               ; In washing motion stop error flg
CON
JMP @MR4109
STG @MR4109
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7212               ; Product1 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
RES MR7303               ; Washing liquid supply Open/Close
CON
MPS
ANB @MR015               ; In washing motion stop error flg
JMP @MR4104              ; Re-washing after Washing NG
MPP
AND @MR015               ; In washing motion stop error flg
MPS
AND MR209                ; Main air error re-washing flg
JMP @MR4113
MPP
ANB MR209                ; Main air error re-washing flg
JMP @MR4111
;流量判定 / Flow judgement
STG @MR4110
MPS
AND< DM2904 DM204        ; Flowmeter2 integrated value  CNT102 setting
SET MR213                ; Product1 washing NG flag
CON
JMP @MR4111
MPP
AND>= DM2904 DM204       ; Flowmeter2 integrated value  CNT102 setting
INC DM470                ; Output counter
CON
JMP @MR4111
;空気置換 / Air displacement
STG @MR4111
SET MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
SET MR7212               ; Product1 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4112
STG @MR4112
TMR @13 DM4              ; Product1 air displacement time  TIM02 setting
CON
AND @T13                 ; Product1 air displacement time
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7212               ; Product1 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4113
STG @MR4113
MPS
AND @MR015               ; In washing motion stop error flg
SET LR4000               ; Product1 washing result OK
CON
SET LR4001               ; Product1 washing result NG
CON
SET LR4002               ; Product2 washing result OK
CON
SET LR4003               ; Product2 washing result NG
CON
SET LR4004               ; Product3 washing result OK
CON
SET LR4005               ; Product3 washing result NG
CON
JMP @MR4711
MPP
ANB @MR015               ; In washing motion stop error flg
MPS
ANB MR213                ; Product1 washing NG flag
SET LR4000               ; Product1 washing result OK
CON
RES LR4001               ; Product1 washing result NG
CON
SET LR4002               ; Product2 washing result OK
CON
RES LR4003               ; Product2 washing result NG
CON
SET LR4004               ; Product3 washing result OK
CON
RES LR4005               ; Product3 washing result NG
CON
JMP @MR4711
MPP
AND MR213                ; Product1 washing NG flag
RES LR4000               ; Product1 washing result OK
CON
SET LR4001               ; Product1 washing result NG
CON
RES LR4002               ; Product2 washing result OK
CON
SET LR4003               ; Product2 washing result NG
CON
RES LR4004               ; Product3 washing result OK
CON
SET LR4005               ; Product3 washing result NG
CON
JMP @MR4711
;<h1/>******* ﾜｰｸ2洗浄工程 / Product2 washing process ********
;流量計ﾘｾｯﾄ / Integrating flowmeter reset
STG @MR4200              ; Unclamp motion
DW #0 DM2904             ; Flowmeter2 integrated value
CON
RES LR4000               ; Product1 washing result OK
CON
RES LR4001               ; Product1 washing result NG
CON
RES LR4002               ; Product2 washing result OK
CON
RES LR4003               ; Product2 washing result NG
CON
RES LR4004               ; Product3 washing result OK
CON
RES LR4005               ; Product3 washing result NG
CON
SET @MR012               ; Washing flow integrating
CON
JMP @MR4201
;洗浄液通水工程繰り返し分岐 / Washing liquid passing water process repeatedly branch
STG @MR4201
MPS
AND< DM2900 DM200        ; Washing count management  CNT100 setting
JMP @MR4202
MPP
AND>= DM2900 DM200       ; Washing count management  CNT100 setting
RES @MR012               ; Washing flow integrating
CON
JMP @MR4207
;ﾁｮｰｸ / Choke
STG @MR4202
@INC DM2900              ; Washing count management
CON
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4203
STG @MR4203
MPS
ANB MR208                ; Washing stop error
TMR @21 DM2              ; Product2 choke time  TIM01 setting
CON
AND @T21                 ; Product2 choke time
JMP @MR4204
MPP
LD MR208                 ; Washing stop error
ANB MR4004               ; Source air-pressure sensor OUT1
ANL
SET @MR015               ; In washing motion stop error flg
CON
MPS
AND MR209                ; Main air error re-washing flg
JMP @MR4210
MPP
ANB MR209                ; Main air error re-washing flg
JMP @MR4208
;洗浄液通水 / Washing liquid passing water
STG @MR4204
RES MR7213               ; Product2 atmosphere release swit
CON
SET MR7214               ; Product2 washing liquid supply 
CON
SET MR7215               ; Product2 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
SET MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4205
STG @MR4205
MPS
ANB MR208                ; Washing stop error
TMR @22 DM0              ; Product2 washing time  TIM00 setting
CON
AND @T22                 ; Product2 washing time
JMP @MR4206
MPP
LD MR208                 ; Washing stop error
ANB MR4004               ; Source air-pressure sensor OUT1
ANL
SET @MR015               ; In washing motion stop error flg
CON
JMP @MR4206
STG @MR4206
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
RES MR7303               ; Washing liquid supply Open/Close
CON
MPS
ANB @MR015               ; In washing motion stop error flg
JMP @MR4201
MPP
AND @MR015               ; In washing motion stop error flg
MPS
AND MR209                ; Main air error re-washing flg
JMP @MR4210
MPP
ANB MR209                ; Main air error re-washing flg
JMP @MR4208
;流量判定 / Flow judgement
STG @MR4207
MPS
AND< DM2904 DM204        ; Flowmeter2 integrated value  CNT102 setting
SET MR214                ; Product2 washing NG flag
CON
JMP @MR4208
MPP
AND>= DM2904 DM204       ; Flowmeter2 integrated value  CNT102 setting
INC DM470                ; Output counter
CON
JMP @MR4208
;空気置換 / Air displacement
STG @MR4208
SET MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
SET MR7215               ; Product2 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4209
STG @MR4209
TMR @23 DM4              ; Product2 air displacement time  TIM02 setting
CON
AND @T23                 ; Product2 air displacement time
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4210
STG @MR4210
MPS
AND @MR015               ; In washing motion stop error flg
SET LR4000               ; Product1 washing result OK
CON
SET LR4001               ; Product1 washing result NG
CON
SET LR4002               ; Product2 washing result OK
CON
SET LR4003               ; Product2 washing result NG
CON
SET LR4004               ; Product3 washing result OK
CON
SET LR4005               ; Product3 washing result NG
CON
JMP @MR4711
MPP
ANB @MR015               ; In washing motion stop error flg
MPS
ANB MR214                ; Product2 washing NG flag
SET LR4000               ; Product1 washing result OK
CON
RES LR4001               ; Product1 washing result NG
CON
SET LR4002               ; Product2 washing result OK
CON
RES LR4003               ; Product2 washing result NG
CON
SET LR4004               ; Product3 washing result OK
CON
RES LR4005               ; Product3 washing result NG
CON
JMP @MR4711
MPP
AND MR214                ; Product2 washing NG flag
RES LR4000               ; Product1 washing result OK
CON
SET LR4001               ; Product1 washing result NG
CON
RES LR4002               ; Product2 washing result OK
CON
SET LR4003               ; Product2 washing result NG
CON
RES LR4004               ; Product3 washing result OK
CON
SET LR4005               ; Product3 washing result NG
CON
JMP @MR4711
;<h1/>******* ﾜｰｸ3洗浄工程 / Product3 washing process ********
;流量計ﾘｾｯﾄ / Integrating flowmeter reset
STG @MR4300
DW #0 DM2904             ; Flowmeter2 integrated value
CON
RES LR4000               ; Product1 washing result OK
CON
RES LR4001               ; Product1 washing result NG
CON
RES LR4002               ; Product2 washing result OK
CON
RES LR4003               ; Product2 washing result NG
CON
RES LR4004               ; Product3 washing result OK
CON
RES LR4005               ; Product3 washing result NG
CON
SET @MR012               ; Washing flow integrating
CON
JMP @MR4301
;洗浄液通水工程繰り返し分岐 / Washing liquid passing water process repeatedly branch
STG @MR4301
MPS
AND< DM2900 DM200        ; Washing count management  CNT100 setting
JMP @MR4302
MPP
AND>= DM2900 DM200       ; Washing count management  CNT100 setting
RES @MR012               ; Washing flow integrating
CON
JMP @MR4307
;ﾁｮｰｸ / Choke
STG @MR4302
@INC DM2900              ; Washing count management
CON
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4303
STG @MR4303
MPS
ANB MR208                ; Washing stop error
TMR @31 DM2              ; Product3 choke time  TIM01 setting
CON
AND @T31                 ; Product3 choke time
JMP @MR4304
MPP
LD MR208                 ; Washing stop error
ANB MR4004               ; Source air-pressure sensor OUT1
ANL
SET @MR015               ; In washing motion stop error flg
CON
MPS
AND MR209                ; Main air error re-washing flg
JMP @MR4310
MPP
ANB MR209                ; Main air error re-washing flg
JMP @MR4308
;洗浄液通水 / Washing liquid passing water
STG @MR4304
RES MR7300               ; Product3 atmosphere release swit
CON
SET MR7301               ; Product3 washing liquid supply 
CON
SET MR7302               ; Product3 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
SET MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4305
STG @MR4305
MPS
ANB MR208                ; Washing stop error
TMR @32 DM0              ; Product3 washing time  TIM00 setting
CON
AND @T32                 ; Product3 washing time
JMP @MR4306
MPP
LD MR208                 ; Washing stop error
ANB MR4004               ; Source air-pressure sensor OUT1
ANL
SET @MR015               ; In washing motion stop error flg
CON
JMP @MR4306
STG @MR4306
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
RES MR7303               ; Washing liquid supply Open/Close
CON
MPS
ANB @MR015               ; In washing motion stop error flg
JMP @MR4301
MPP
AND @MR015               ; In washing motion stop error flg
MPS
AND MR209                ; Main air error re-washing flg
JMP @MR4310
MPP
ANB MR209                ; Main air error re-washing flg
JMP @MR4308
;流量判定 / Flow judgement
STG @MR4307
MPS
AND< DM2904 DM204        ; Flowmeter2 integrated value  CNT102 setting
SET MR215                ; Product3 washing NG flag
CON
JMP @MR4308
MPP
AND>= DM2904 DM204       ; Flowmeter2 integrated value  CNT102 setting
INC DM470                ; Output counter
CON
JMP @MR4308
;空気置換 / Air displacement
STG @MR4308
SET MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
SET MR7302               ; Product3 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4309
STG @MR4309
TMR @33 DM4              ; Product3 air displacement time  TIM02 setting
CON
AND @T33                 ; Product3 air displacement time
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4310
STG @MR4310
MPS
AND @MR015               ; In washing motion stop error flg
SET LR4000               ; Product1 washing result OK
CON
SET LR4001               ; Product1 washing result NG
CON
SET LR4002               ; Product2 washing result OK
CON
SET LR4003               ; Product2 washing result NG
CON
SET LR4004               ; Product3 washing result OK
CON
SET LR4005               ; Product3 washing result NG
CON
JMP @MR4711
MPP
ANB @MR015               ; In washing motion stop error flg
MPS
ANB MR215                ; Product3 washing NG flag
SET LR4000               ; Product1 washing result OK
CON
RES LR4001               ; Product1 washing result NG
CON
SET LR4002               ; Product2 washing result OK
CON
RES LR4003               ; Product2 washing result NG
CON
SET LR4004               ; Product3 washing result OK
CON
RES LR4005               ; Product3 washing result NG
CON
JMP @MR4711
MPP
AND MR215                ; Product3 washing NG flag
RES LR4000               ; Product1 washing result OK
CON
SET LR4001               ; Product1 washing result NG
CON
RES LR4002               ; Product2 washing result OK
CON
SET LR4003               ; Product2 washing result NG
CON
RES LR4004               ; Product3 washing result OK
CON
SET LR4005               ; Product3 washing result NG
CON
JMP @MR4711
;<h1/>******* ﾜｰｸ1&2洗浄工程 / Product1&2 washing process ********
;流量計ﾘｾｯﾄ / Integrating flowmeter reset
STG @MR4400
DW #0 DM2904             ; Flowmeter2 integrated value
CON
RES LR4000               ; Product1 washing result OK
CON
RES LR4001               ; Product1 washing result NG
CON
RES LR4002               ; Product2 washing result OK
CON
RES LR4003               ; Product2 washing result NG
CON
RES LR4004               ; Product3 washing result OK
CON
RES LR4005               ; Product3 washing result NG
CON
SET @MR012               ; Washing flow integrating
CON
JMP @MR4401
;洗浄液通水工程繰り返し分岐 / Washing liquid passing water process repeatedly branch
STG @MR4401
MPS
AND< DM2900 DM200        ; Washing count management  CNT100 setting
JMP @MR4402
MPP
AND>= DM2900 DM200       ; Washing count management  CNT100 setting
RES @MR012               ; Washing flow integrating
CON
JMP @MR4407
;ﾁｮｰｸ / Choke
STG @MR4402
@INC DM2900              ; Washing count management
CON
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4403
STG @MR4403
MPS
ANB MR208                ; Washing stop error
TMR @42 DM2              ; Product12 choke time  TIM01 setting
CON
AND @T42                 ; Product12 choke time
JMP @MR4404
MPP
LD MR208                 ; Washing stop error
ANB MR4004               ; Source air-pressure sensor OUT1
ANL
SET @MR015               ; In washing motion stop error flg
CON
MPS
AND MR209                ; Main air error re-washing flg
JMP @MR4410
MPP
ANB MR209                ; Main air error re-washing flg
JMP @MR4408
;洗浄液通水 / Washing liquid passing water
STG @MR4404
RES MR7210               ; Product1 atmosphere release swit
CON
SET MR7211               ; Product1 washing liquid supply 
CON
SET MR7212               ; Product1 passing water O/C
CON
RES MR7213               ; Product2 atmosphere release swit
CON
SET MR7214               ; Product2 washing liquid supply 
CON
SET MR7215               ; Product2 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
SET MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4405
STG @MR4405
MPS
ANB MR208                ; Washing stop error
TMR @43 DM0              ; Product12 washing time  TIM00 setting
CON
AND @T43                 ; Product12 washing time
JMP @MR4406
MPP
LD MR208                 ; Washing stop error
ANB MR4004               ; Source air-pressure sensor OUT1
ANL
SET @MR015               ; In washing motion stop error flg
CON
JMP @MR4406
STG @MR4406
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7212               ; Product1 passing water O/C
CON
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
RES MR7303               ; Washing liquid supply Open/Close
CON
MPS
ANB @MR015               ; In washing motion stop error flg
JMP @MR4401
MPP
AND @MR015               ; In washing motion stop error flg
MPS
AND MR209                ; Main air error re-washing flg
JMP @MR4410
MPP
ANB MR209                ; Main air error re-washing flg
JMP @MR4408
;流量判定 / Flow judgement
STG @MR4407
MPS
AND< DM2904 DM206        ; Flowmeter2 integrated value  CNT103 setting
SET MR213                ; Product1 washing NG flag
CON
SET MR214                ; Product2 washing NG flag
CON
JMP @MR4408
MPP
AND>= DM2904 DM206       ; Flowmeter2 integrated value  CNT103 setting
LDA DM470                ; Output counter
CON
ADD #2
CON
STA DM470                ; Output counter
CON
JMP @MR4408
;空気置換 / Air displacement
STG @MR4408
SET MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
SET MR7212               ; Product1 passing water O/C
CON
SET MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
SET MR7215               ; Product2 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4409
STG @MR4409
TMR @44 DM4              ; Product12 air displacement time  TIM02 setting
CON
AND @T44                 ; Product12 air displacement time
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7212               ; Product1 passing water O/C
CON
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4410
STG @MR4410
MPS
AND @MR015               ; In washing motion stop error flg
SET LR4000               ; Product1 washing result OK
CON
SET LR4001               ; Product1 washing result NG
CON
SET LR4002               ; Product2 washing result OK
CON
SET LR4003               ; Product2 washing result NG
CON
SET LR4004               ; Product3 washing result OK
CON
SET LR4005               ; Product3 washing result NG
CON
JMP @MR4711
MPP
ANB @MR015               ; In washing motion stop error flg
MPS
LD MR213                 ; Product1 washing NG flag
OR MR214                 ; Product2 washing NG flag
ANL
RES LR4000               ; Product1 washing result OK
CON
SET LR4001               ; Product1 washing result NG
CON
RES LR4002               ; Product2 washing result OK
CON
SET LR4003               ; Product2 washing result NG
CON
RES LR4004               ; Product3 washing result OK
CON
SET LR4005               ; Product3 washing result NG
CON
JMP @MR4711
MPP
LDB MR213                ; Product1 washing NG flag
ANB MR214                ; Product2 washing NG flag
ANL
SET LR4000               ; Product1 washing result OK
CON
RES LR4001               ; Product1 washing result NG
CON
SET LR4002               ; Product2 washing result OK
CON
RES LR4003               ; Product2 washing result NG
CON
SET LR4004               ; Product3 washing result OK
CON
RES LR4005               ; Product3 washing result NG
CON
JMP @MR4711
;<h1/>******* ﾜｰｸ2&3洗浄工程 / Product2&3 washing process ********
;流量計ﾘｾｯﾄ / Integrating flowmeter reset
STG @MR4500
DW #0 DM2904             ; Flowmeter2 integrated value
CON
RES LR4000               ; Product1 washing result OK
CON
RES LR4001               ; Product1 washing result NG
CON
RES LR4002               ; Product2 washing result OK
CON
RES LR4003               ; Product2 washing result NG
CON
RES LR4004               ; Product3 washing result OK
CON
RES LR4005               ; Product3 washing result NG
CON
SET @MR012               ; Washing flow integrating
CON
JMP @MR4501
;洗浄液通水工程繰り返し分岐 / Washing liquid passing water process repeatedly branch
STG @MR4501
MPS
AND< DM2900 DM200        ; Washing count management  CNT100 setting
JMP @MR4502
MPP
AND>= DM2900 DM200       ; Washing count management  CNT100 setting
RES @MR012               ; Washing flow integrating
CON
JMP @MR4507
;ﾁｮｰｸ / Choke
STG @MR4502
@INC DM2900              ; Washing count management
CON
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4503
STG @MR4503
MPS
ANB MR208                ; Washing stop error
TMR @52 DM2              ; Product23 choke time  TIM01 setting
CON
AND @T52                 ; Product23 choke time
JMP @MR4504
MPP
LD MR208                 ; Washing stop error
ANB MR4004               ; Source air-pressure sensor OUT1
ANL
SET @MR015               ; In washing motion stop error flg
CON
MPS
AND MR209                ; Main air error re-washing flg
JMP @MR4510
MPP
ANB MR209                ; Main air error re-washing flg
JMP @MR4508
;洗浄液通水 / Washing liquid passing water
STG @MR4504
RES MR7213               ; Product2 atmosphere release swit
CON
SET MR7214               ; Product2 washing liquid supply 
CON
SET MR7215               ; Product2 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
SET MR7301               ; Product3 washing liquid supply 
CON
SET MR7302               ; Product3 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
SET MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4505
STG @MR4505
MPS
ANB MR208                ; Washing stop error
TMR @53 DM0              ; Product23 washing time  TIM00 setting
CON
AND @T53                 ; Product23 washing time
JMP @MR4506
MPP
LD MR208                 ; Washing stop error
ANB MR4004               ; Source air-pressure sensor OUT1
ANL
SET @MR015               ; In washing motion stop error flg
CON
JMP @MR4506
STG @MR4506
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
RES MR7303               ; Washing liquid supply Open/Close
CON
MPS
ANB @MR015               ; In washing motion stop error flg
JMP @MR4501
MPP
AND @MR015               ; In washing motion stop error flg
MPS
AND MR209                ; Main air error re-washing flg
JMP @MR4510
MPP
ANB MR209                ; Main air error re-washing flg
JMP @MR4508
;流量判定 / Flow judgement
STG @MR4507
MPS
AND< DM2904 DM206        ; Flowmeter2 integrated value  CNT103 setting
SET MR214                ; Product2 washing NG flag
CON
SET MR215                ; Product3 washing NG flag
CON
JMP @MR4508
MPP
AND>= DM2904 DM206       ; Flowmeter2 integrated value  CNT103 setting
LDA DM470                ; Output counter
CON
ADD #2
CON
STA DM470                ; Output counter
CON
JMP @MR4508
;空気置換 / Air displacement
STG @MR4508
SET MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
SET MR7215               ; Product2 passing water O/C
CON
SET MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
SET MR7302               ; Product3 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4509
STG @MR4509
TMR @54 DM4              ; Product23 air displacement time  TIM02 setting
CON
AND @T54                 ; Product23 air displacement time
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4510
STG @MR4510
MPS
AND @MR015               ; In washing motion stop error flg
SET LR4000               ; Product1 washing result OK
CON
SET LR4001               ; Product1 washing result NG
CON
SET LR4002               ; Product2 washing result OK
CON
SET LR4003               ; Product2 washing result NG
CON
SET LR4004               ; Product3 washing result OK
CON
SET LR4005               ; Product3 washing result NG
CON
JMP @MR4711
MPP
ANB @MR015               ; In washing motion stop error flg
MPS
LD MR214                 ; Product2 washing NG flag
OR MR215                 ; Product3 washing NG flag
ANL
RES LR4000               ; Product1 washing result OK
CON
SET LR4001               ; Product1 washing result NG
CON
RES LR4002               ; Product2 washing result OK
CON
SET LR4003               ; Product2 washing result NG
CON
RES LR4004               ; Product3 washing result OK
CON
SET LR4005               ; Product3 washing result NG
CON
JMP @MR4711
MPP
LDB MR214                ; Product2 washing NG flag
ANB MR215                ; Product3 washing NG flag
ANL
SET LR4000               ; Product1 washing result OK
CON
RES LR4001               ; Product1 washing result NG
CON
SET LR4002               ; Product2 washing result OK
CON
RES LR4003               ; Product2 washing result NG
CON
SET LR4004               ; Product3 washing result OK
CON
RES LR4005               ; Product3 washing result NG
CON
JMP @MR4711
;<h1/>******* ﾜｰｸ1&3洗浄工程 / Product1&3 washing process ********
;流量計ﾘｾｯﾄ / Integrating flowmeter reset
STG @MR4600
DW #0 DM2904             ; Flowmeter2 integrated value
CON
RES LR4000               ; Product1 washing result OK
CON
RES LR4001               ; Product1 washing result NG
CON
RES LR4002               ; Product2 washing result OK
CON
RES LR4003               ; Product2 washing result NG
CON
RES LR4004               ; Product3 washing result OK
CON
RES LR4005               ; Product3 washing result NG
CON
SET @MR012               ; Washing flow integrating
CON
JMP @MR4601
;洗浄液通水工程繰り返し分岐 / Washing liquid passing water process repeatedly branch
STG @MR4601
MPS
AND< DM2900 DM200        ; Washing count management  CNT100 setting
JMP @MR4602
MPP
AND>= DM2900 DM200       ; Washing count management  CNT100 setting
RES @MR012               ; Washing flow integrating
CON
JMP @MR4607
;ﾁｮｰｸ / Choke
STG @MR4602
@INC DM2900              ; Washing count management
CON
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4603
STG @MR4603
MPS
ANB MR208                ; Washing stop error
TMR @62 DM2              ; Product13 choke time  TIM01 setting
CON
AND @T62                 ; Product13 choke time
JMP @MR4604
MPP
LD MR208                 ; Washing stop error
ANB MR4004               ; Source air-pressure sensor OUT1
ANL
SET @MR015               ; In washing motion stop error flg
CON
MPS
AND MR209                ; Main air error re-washing flg
JMP @MR4610
MPP
ANB MR209                ; Main air error re-washing flg
JMP @MR4608
;洗浄液通水 / Washing liquid passing water
STG @MR4604
RES MR7210               ; Product1 atmosphere release swit
CON
SET MR7211               ; Product1 washing liquid supply 
CON
SET MR7212               ; Product1 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
SET MR7301               ; Product3 washing liquid supply 
CON
SET MR7302               ; Product3 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
SET MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4605
STG @MR4605
MPS
ANB MR208                ; Washing stop error
TMR @63 DM0              ; Product13 washing time  TIM00 setting
CON
AND @T63                 ; Product13 washing time
JMP @MR4606
MPP
LD MR208                 ; Washing stop error
ANB MR4004               ; Source air-pressure sensor OUT1
ANL
SET @MR015               ; In washing motion stop error flg
CON
JMP @MR4606
STG @MR4606
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7212               ; Product1 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
RES MR7303               ; Washing liquid supply Open/Close
CON
MPS
ANB @MR015               ; In washing motion stop error flg
JMP @MR4601
MPP
AND @MR015               ; In washing motion stop error flg
MPS
AND MR209                ; Main air error re-washing flg
JMP @MR4610
MPP
ANB MR209                ; Main air error re-washing flg
JMP @MR4608
;流量判定 / Flow judgement
STG @MR4607
MPS
AND< DM2904 DM206        ; Flowmeter2 integrated value  CNT103 setting
SET MR213                ; Product1 washing NG flag
CON
SET MR215                ; Product3 washing NG flag
CON
JMP @MR4608
MPP
AND>= DM2904 DM206       ; Flowmeter2 integrated value  CNT103 setting
LDA DM470                ; Output counter
CON
ADD #2
CON
STA DM470                ; Output counter
CON
JMP @MR4608
;空気置換 / Air displacement
STG @MR4608
SET MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
SET MR7212               ; Product1 passing water O/C
CON
SET MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
SET MR7302               ; Product3 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4609
STG @MR4609
TMR @64 DM4              ; Product13 air displacement time  TIM02 setting
CON
AND @T64                 ; Product13 air displacement time
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7212               ; Product1 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4610
STG @MR4610
MPS
AND @MR015               ; In washing motion stop error flg
SET LR4000               ; Product1 washing result OK
CON
SET LR4001               ; Product1 washing result NG
CON
SET LR4002               ; Product2 washing result OK
CON
SET LR4003               ; Product2 washing result NG
CON
SET LR4004               ; Product3 washing result OK
CON
SET LR4005               ; Product3 washing result NG
CON
JMP @MR4711
MPP
ANB @MR015               ; In washing motion stop error flg
MPS
LD MR213                 ; Product1 washing NG flag
OR MR215                 ; Product3 washing NG flag
ANL
RES LR4000               ; Product1 washing result OK
CON
SET LR4001               ; Product1 washing result NG
CON
RES LR4002               ; Product2 washing result OK
CON
SET LR4003               ; Product2 washing result NG
CON
RES LR4004               ; Product3 washing result OK
CON
SET LR4005               ; Product3 washing result NG
CON
JMP @MR4711
MPP
LDB MR213                ; Product1 washing NG flag
ANB MR215                ; Product3 washing NG flag
ANL
SET LR4000               ; Product1 washing result OK
CON
RES LR4001               ; Product1 washing result NG
CON
SET LR4002               ; Product2 washing result OK
CON
RES LR4003               ; Product2 washing result NG
CON
SET LR4004               ; Product3 washing result OK
CON
RES LR4005               ; Product3 washing result NG
CON
JMP @MR4711
;<h1/>******* ﾜｰｸ1&2&3洗浄工程 / Product1&2&3 washing process ********
;流量計ﾘｾｯﾄ / Integrating flowmeter reset
STG @MR4700
DW #0 DM2902             ; Flowmeter1 integrated value
CON
DW #0 DM2904             ; Flowmeter2 integrated value
CON
DW #0 DM2906             ; Flowmeter3 integrated value
CON
RES LR4000               ; Product1 washing result OK
CON
RES LR4001               ; Product1 washing result NG
CON
RES LR4002               ; Product2 washing result OK
CON
RES LR4003               ; Product2 washing result NG
CON
RES LR4004               ; Product3 washing result OK
CON
RES LR4005               ; Product3 washing result NG
CON
SET @MR012               ; Washing flow integrating
CON
JMP @MR4701
;洗浄液通水工程繰り返し分岐 / Washing liquid passing water process repeatedly branch
STG @MR4701
MPS
AND< DM2900 DM200        ; Washing count management  CNT100 setting
JMP @MR4702
MPP
AND>= DM2900 DM200       ; Washing count management  CNT100 setting
RES @MR012               ; Washing flow integrating
CON
JMP @MR4707
;ﾁｮｰｸ / Choke
STG @MR4702
@INC DM2900              ; Washing count management
CON
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4703
STG @MR4703
MPS
ANB MR208                ; Washing stop error
TMR @73 DM2              ; Product123 choke time  TIM01 setting
CON
AND @T73                 ; Product123 choke time
JMP @MR4704
MPP
LD MR208                 ; Washing stop error
ANB MR4004               ; Source air-pressure sensor OUT1
ANL
SET @MR015               ; In washing motion stop error flg
CON
MPS
AND MR209                ; Main air error re-washing flg
JMP @MR4711
MPP
ANB MR209                ; Main air error re-washing flg
JMP @MR4708
;洗浄液通水 / Washing liquid passing water
STG @MR4704
RES MR7210               ; Product1 atmosphere release swit
CON
SET MR7211               ; Product1 washing liquid supply 
CON
SET MR7212               ; Product1 passing water O/C
CON
RES MR7213               ; Product2 atmosphere release swit
CON
SET MR7214               ; Product2 washing liquid supply 
CON
SET MR7215               ; Product2 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
SET MR7301               ; Product3 washing liquid supply 
CON
SET MR7302               ; Product3 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
SET MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4705
STG @MR4705
MPS
ANB MR208                ; Washing stop error
TMR @74 DM0              ; Product123 washing time  TIM00 setting
CON
AND @T74                 ; Product123 washing time
JMP @MR4706
MPP
LD MR208                 ; Washing stop error
ANB MR4004               ; Source air-pressure sensor OUT1
ANL
SET @MR015               ; In washing motion stop error flg
CON
JMP @MR4706
STG @MR4706
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7212               ; Product1 passing water O/C
CON
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
@SET @MR011              ; Valve open/clos timing shift flg
CON
ANB @MR011               ; Valve open/clos timing shift flg
RES MR7303               ; Washing liquid supply Open/Close
CON
MPS
ANB @MR015               ; In washing motion stop error flg
JMP @MR4701
MPP
AND @MR015               ; In washing motion stop error flg
MPS
AND MR209                ; Main air error re-washing flg
JMP @MR4711
MPP
ANB MR209                ; Main air error re-washing flg
JMP @MR4708
;流量判定 / Flow judgement
STG @MR4707
MPS
AND< DM2904 DM208        ; Flowmeter2 integrated value  CNT104 setting
SET MR213                ; Product1 washing NG flag
CON
SET MR214                ; Product2 washing NG flag
CON
SET MR215                ; Product3 washing NG flag
CON
JMP @MR4708
MPP
AND>= DM2904 DM208       ; Flowmeter2 integrated value  CNT104 setting
LDA DM470                ; Output counter
CON
ADD #3
CON
STA DM470                ; Output counter
CON
JMP @MR4708
;空気置換 / Air displacement
STG @MR4708
SET MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
SET MR7212               ; Product1 passing water O/C
CON
SET MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
SET MR7215               ; Product2 passing water O/C
CON
SET MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
SET MR7302               ; Product3 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4709
STG @MR4709
TMR @75 DM4              ; Product123 air displacement time  TIM02 setting
CON
AND @T75                 ; Product123 air displacement time
RES MR7210               ; Product1 atmosphere release swit
CON
RES MR7211               ; Product1 washing liquid supply 
CON
RES MR7212               ; Product1 passing water O/C
CON
RES MR7213               ; Product2 atmosphere release swit
CON
RES MR7214               ; Product2 washing liquid supply 
CON
RES MR7215               ; Product2 passing water O/C
CON
RES MR7300               ; Product3 atmosphere release swit
CON
RES MR7301               ; Product3 washing liquid supply 
CON
RES MR7302               ; Product3 passing water O/C
CON
RES MR7303               ; Washing liquid supply Open/Close
CON
JMP @MR4710
STG @MR4710
MPS
AND @MR015               ; In washing motion stop error flg
SET LR4000               ; Product1 washing result OK
CON
SET LR4001               ; Product1 washing result NG
CON
SET LR4002               ; Product2 washing result OK
CON
SET LR4003               ; Product2 washing result NG
CON
SET LR4004               ; Product3 washing result OK
CON
SET LR4005               ; Product3 washing result NG
CON
JMP @MR4711
MPP
ANB @MR015               ; In washing motion stop error flg
MPS
LD MR213                 ; Product1 washing NG flag
OR MR214                 ; Product2 washing NG flag
OR MR215                 ; Product3 washing NG flag
ANL
RES LR4000               ; Product1 washing result OK
CON
SET LR4001               ; Product1 washing result NG
CON
RES LR4002               ; Product2 washing result OK
CON
SET LR4003               ; Product2 washing result NG
CON
RES LR4004               ; Product3 washing result OK
CON
SET LR4005               ; Product3 washing result NG
CON
JMP @MR4711
MPP
LDB MR213                ; Product1 washing NG flag
ANB MR214                ; Product2 washing NG flag
ANB MR215                ; Product3 washing NG flag
ANL
SET LR4000               ; Product1 washing result OK
CON
RES LR4001               ; Product1 washing result NG
CON
SET LR4002               ; Product2 washing result OK
CON
RES LR4003               ; Product2 washing result NG
CON
SET LR4004               ; Product3 washing result OK
CON
RES LR4005               ; Product3 washing result NG
CON
JMP @MR4711
;******* 洗浄工程終了 / Washing process end ********
STG @MR4711
ANB @MR013               ; In flowmeter zero-reset
RES @MR012               ; Washing flow integrating
CON
DW #0 DM2900             ; Washing count management
CON
RES MR206                ; In washing
CON
JMP @MR4800
;再洗浄分岐 / Re-washing branch
STG @MR4712
MPS
LD MR210                 ; Product1 existing keep
ANB MR211                ; Product2 existion keep
ANB MR212                ; Product3 existion keep
ANL
RES MR48701              ; Product1 NG lamp display
CON
RES MR213                ; Product1 washing NG flag
CON
JMP @MR4103
MRD
LDB MR210                ; Product1 existing keep
AND MR211                ; Product2 existion keep
ANB MR212                ; Product3 existion keep
ANL
RES MR48703              ; Product2 NG lamp display
CON
RES MR214                ; Product2 washing NG flag
CON
JMP @MR4200              ; Unclamp motion
MRD
LDB MR210                ; Product1 existing keep
ANB MR211                ; Product2 existion keep
AND MR212                ; Product3 existion keep
ANL
RES MR48705              ; Product3 NG lamp display
CON
RES MR215                ; Product3 washing NG flag
CON
JMP @MR4300
MRD
LD MR210                 ; Product1 existing keep
AND MR211                ; Product2 existion keep
ANB MR212                ; Product3 existion keep
ANL
RES MR48701              ; Product1 NG lamp display
CON
RES MR48703              ; Product2 NG lamp display
CON
RES MR213                ; Product1 washing NG flag
CON
RES MR214                ; Product2 washing NG flag
CON
JMP @MR4400
MRD
LDB MR210                ; Product1 existing keep
AND MR211                ; Product2 existion keep
AND MR212                ; Product3 existion keep
ANL
RES MR48703              ; Product2 NG lamp display
CON
RES MR48705              ; Product3 NG lamp display
CON
RES MR214                ; Product2 washing NG flag
CON
RES MR215                ; Product3 washing NG flag
CON
JMP @MR4500
MRD
LD MR210                 ; Product1 existing keep
ANB MR211                ; Product2 existion keep
AND MR212                ; Product3 existion keep
ANL
RES MR48701              ; Product1 NG lamp display
CON
RES MR48705              ; Product3 NG lamp display
CON
RES MR213                ; Product1 washing NG flag
CON
RES MR215                ; Product3 washing NG flag
CON
JMP @MR4600
MPP
LD MR210                 ; Product1 existing keep
AND MR211                ; Product2 existion keep
AND MR212                ; Product3 existion keep
ANL
RES MR48701              ; Product1 NG lamp display
CON
RES MR48703              ; Product2 NG lamp display
CON
RES MR48705              ; Product3 NG lamp display
CON
RES MR213                ; Product1 washing NG flag
CON
RES MR214                ; Product2 washing NG flag
CON
RES MR215                ; Product3 washing NG flag
CON
JMP @MR4700
STG @MR4715
RES MR209                ; Main air error re-washing flg
CON
RES @MR015               ; In washing motion stop error flg
CON
JMP @MR4102
;OK/NG判定分岐 / OK/NG branch
STG @MR4800
MPS
LD @MR015                ; In washing motion stop error flg
ANB R50108               ; In Error
ANL
MPS
AND MR209                ; Main air error re-washing flg
JMP @MR4715
MPP
ANB MR209                ; Main air error re-washing flg
JMP @MR4803
MPP
ANB @MR015               ; In washing motion stop error flg
MPS
LDB MR213                ; Product1 washing NG flag
ANB MR214                ; Product2 washing NG flag
ANB MR215                ; Product3 washing NG flag
ANL
MPS
AND MR210                ; Product1 existing keep
SET MR48700              ; Product1 OK lamp display
MRD
AND MR211                ; Product2 existion keep
SET MR48702              ; Product2 OK lamp display
MRD
AND MR212                ; Product3 existion keep
SET MR48704              ; Product3 OK lamp display
MPP
JMP @MR4802
MPP
LD MR213                 ; Product1 washing NG flag
OR MR214                 ; Product2 washing NG flag
OR MR215                 ; Product3 washing NG flag
ANL
MPS
AND MR210                ; Product1 existing keep
SET MR48701              ; Product1 NG lamp display
MRD
AND MR211                ; Product2 existion keep
SET MR48703              ; Product2 NG lamp display
MRD
AND MR212                ; Product3 existion keep
SET MR48705              ; Product3 NG lamp display
MPP
JMP @MR10800             ; Product washing NG
STG @MR4802
SET MR201                ; Washing result display flag
CON
JMP @MR4803
;ｼﾘﾝﾀﾞｱﾝｸﾗﾝﾌﾟ動作 / Cylinde unclamp motion
STG @MR4803
ANB R50306               ; PAUSE
ANB R50108               ; In Error
SET MR200                ; Cylinder in motion
CON
RES MR7206               ; Product flow channel O/C Open
CON
SET MR7207               ; Product flow channel O/C Close 
CON
RES MR7202               ; Downstream nozzle F/B Forward
CON
SET MR7203               ; Downstream nozzle F/B Back
CON
RES MR7204               ; Downstream nozzle R/L Left
CON
SET MR7205               ; Downstream nozzle R/L Right
CON
JMP @MR4804
STG @MR4804
ANB R50306               ; PAUSE
ANB R50108               ; In Error
AND R4107                ; Downstream nozzle1 Back limit
AND R4109                ; Downstream nozzle2 Back limit
AND R4111                ; Downstream nozzle3  Back limit
AND R4113                ; Downstream nozzle1 Right limit
AND R4115                ; Downstream nozzle2 Right limit
AND R4201                ; Downstream nozzle3 Right limit
AND R4203                ; Product flow channel Close limit
AND R4205                ; Product flow channel Close limit
AND R4207                ; Product flow channel Close limit
RES MR7200               ; Upstream nozzle R/L Left
CON
SET MR7201               ; Upstream nozzle R/L Right
CON
JMP @MR4805
STG @MR4805
ANB R50306               ; PAUSE
ANB R50108               ; In Error
AND R4101                ; Upstream nozzle 1 Right limit
AND R4103                ; Upstream nozzle 2 Right limit
AND R4105                ; Upstream nozzle 3 Right limit
RES MR7209               ; Product set stopper Up/Down Down
CON
SET MR7208               ; Product set stopper Up/Down Up
CON
JMP @MR4806
STG @MR4806
ANB R50306               ; PAUSE
ANB R50108               ; In Error
AND R4208                ; Product set stopper Upper limit
RES MR200                ; Cylinder in motion
CON
SET MR204                ; Remove request flag
CON
JMP @MR4807
;除材確認 / Product remove confirmation
STG @MR4807
MPS
ANB @MR015               ; In washing motion stop error flg
JMP @MR4808
MPP
AND @MR015               ; In washing motion stop error flg
JMP @MR11400             ; Wash no finish prduct remove req
STG @MR4808
ANB R4213                ; Product1 presence detection(D-ON
ANB R4214                ; Product2 presence detection(D-ON
ANB R4215                ; Product3 presence detection(D-ON
ANB R4300                ; Product1 clamp detection(D-ON)
ANB R4301                ; Product2 clamp detection(D-ON)
ANB R4302                ; Product3 clamp detection(D-ON)
ANB R4303                ; Product set part intake detectio
RES MR213                ; Product1 washing NG flag
CON
RES MR214                ; Product2 washing NG flag
CON
RES MR215                ; Product3 washing NG flag
CON
RES MR210                ; Product1 existing keep
CON
RES MR211                ; Product2 existion keep
CON
RES MR212                ; Product3 existion keep
CON
RES MR204                ; Remove request flag
CON
JMP @MR4900              ; 1cycle end
;1ｻｲｸﾙ終了処理 / 1 cycle end process
STG @MR4900              ; 1cycle end
RES R50009               ; In auto 1Cycle motion
CON
ENDS
;自動終了処理 / AUTO end process
LDP R50104               ; Auto mode Stop sw
AND R50001               ; In Auto
ANB R50306               ; PAUSE
ANB R50108               ; In Error
ANB R50008               ; Auto Stop FLG
MPS
ANB R50009               ; In auto 1Cycle motion
@SET @MR4915             ; Auto stop process
MPP
AND R50009               ; In auto 1Cycle motion
SET R50008               ; Auto Stop FLG
LD R50008                ; Auto Stop FLG
ANB R50009               ; In auto 1Cycle motion
RES R50008               ; Auto Stop FLG
CON
@SET @MR4915             ; Auto stop process
STG @MR4915              ; Auto stop process
ANB R50306               ; PAUSE
ANB R50108               ; In Error
SET R50500               ; AUTO motion end
CON
ENDS
;<h1/>■■■ ｴﾗｰ記述 / Error description ■■■
;unused
;ﾜｰｸｾｯﾄ部引き込み異常 / Product set part intake alarm
STG @MR10000             ; Product set part intake alarm
ANB R50108               ; In Error
SET R50108               ; In Error
CON
SET R50103               ; Warning Set
CON
JMP @MR10001
@MOV #5 DM500            ; Error content display
STG @MR10001
ANP R40001               ; Error reset SW
RES R50103               ; Warning Set
CON
JMP @MR10002
STG @MR10002
ANP R51000               ; Start SW ON Pulse
RES R50108               ; In Error
CON
JMP @MR1804
;ﾜｰｸｾｯﾄ部未引き込み異常 / Product set part non intake alarm
STG @MR10400             ; Product set part no intake alarm
ANB R50108               ; In Error
SET R50108               ; In Error
CON
SET R50103               ; Warning Set
CON
JMP @MR10401
@MOV #10 DM500           ; Error content display
STG @MR10401
ANP R40001               ; Error reset SW
RES R50103               ; Warning Set
CON
JMP @MR10402
STG @MR10402
ANP R51000               ; Start SW ON Pulse
RES R50108               ; In Error
CON
MPS
AND R50001               ; In Auto
JMP @MR4900              ; 1cycle end
MPP
AND R50002               ; In Manual
JMP @MR3915              ; Manual Finish
;廃液満ﾀﾝ異常 / Waste fluid full tank alarm
STG @MR10500             ; Waste fluid full tank alarm
ANB R50108               ; In Error
SET R50108               ; In Error
CON
SET R50103               ; Warning Set
CON
JMP @MR10501
@MOV #13 DM500           ; Error content display
STG @MR10501
ANP R40001               ; Error reset SW
RES R50103               ; Warning Set
CON
JMP @MR10502
STG @MR10502
ANP R51000               ; Start SW ON Pulse
SET R50008               ; Auto Stop FLG
CON
RES R50108               ; In Error
CON
MPS
AND R50001               ; In Auto
JMP @MR4900              ; 1cycle end
MPP
AND R50002               ; In Manual
JMP @MR3915              ; Manual Finish
;ﾜｰｸ未検出異常 / Product no detection alarm
STG @MR10600             ; Product no detection alarm
ANB R50108               ; In Error
SET R50108               ; In Error
CON
SET R50103               ; Warning Set
CON
JMP @MR10601
@MOV #14 DM500           ; Error content display
STG @MR10601
ANP R40001               ; Error reset SW
RES R50103               ; Warning Set
CON
JMP @MR10602
STG @MR10602
ANP R51000               ; Start SW ON Pulse
RES R50108               ; In Error
CON
MPS
AND R50001               ; In Auto
JMP @MR4900              ; 1cycle end
MPP
AND R50002               ; In Manual
JMP @MR3915              ; Manual Finish
;ﾜｰｸｸﾗﾝﾌﾟ異常 / Product clamp alarm
STG @MR10700             ; Product clamp alarm
ANB R50108               ; In Error
SET R50108               ; In Error
CON
SET R50103               ; Warning Set
CON
JMP @MR10701
@MOV #15 DM500           ; Error content display
STG @MR10701
ANP R40001               ; Error reset SW
RES R50103               ; Warning Set
CON
JMP @MR10702
STG @MR10702
ANP R51000               ; Start SW ON Pulse
RES R50108               ; In Error
CON
MPS
AND R50001               ; In Auto
JMP @MR4900              ; 1cycle end
MPP
AND R50002               ; In Manual
JMP @MR3915              ; Manual Finish
;ﾜｰｸ洗浄NG / Product washing NG
STG @MR10800             ; Product washing NG
ANB R50108               ; In Error
SET R50108               ; In Error
CON
SET R50902               ; Washing NG Error
CON
SET R50103               ; Warning Set
CON
JMP @MR10801
@MOV #16 DM500           ; Error content display
STG @MR10801
ANP R4001                ; KEY SW
RES R50103               ; Warning Set
CON
JMP @MR10802
STG @MR10802
ANP R51000               ; Start SW ON Pulse
MPS
AND R40009               ; Error choices SW1
RES R50902               ; Washing NG Error
CON
RES R50108               ; In Error
CON
JMP @MR4712
MPP
AND R40010               ; Error choices SW2
RES R50902               ; Washing NG Error
CON
RES R50108               ; In Error
CON
JMP @MR4802
;ﾊﾟﾗﾒｰﾀ選択異常 / Parameter selection alarm
STG @MR10900             ; Parameter selection alarm
ANB R50108               ; In Error
SET R50108               ; In Error
CON
SET R50103               ; Warning Set
CON
JMP @MR10901
@MOV #9 DM500            ; Error content display
STG @MR10901
ANP R40001               ; Error reset SW
RES R50103               ; Warning Set
CON
JMP @MR10902
STG @MR10902
ANP R51000               ; Start SW ON Pulse
SET R50008               ; Auto Stop FLG
CON
RES R50108               ; In Error
CON
JMP @MR4900              ; 1cycle end
;ｴｱｸﾘｰﾝﾕﾆｯﾄ異常 / Air clean unit alarm
STG @MR11000             ; Air clean unit alarm
ANB R50108               ; In Error
SET R50108               ; In Error
CON
SET R50103               ; Warning Set
CON
JMP @MR11001
@MOV #4 DM500            ; Error content display
STG @MR11001
ANP R40001               ; Error reset SW
RES R50103               ; Warning Set
CON
JMP @MR11002
STG @MR11002
ANP R51000               ; Start SW ON Pulse
RES R50108               ; In Error
CON
JMP @MR4004
;廃液ﾀﾝｸ真空圧異常 / Waste fluid tank vacuum pressure alarm
STG @MR11100             ; Waste tank vacuum pressure alarm
ANB R50108               ; In Error
SET R50108               ; In Error
CON
SET R50103               ; Warning Set
CON
JMP @MR11101
@MOV #3 DM500            ; Error content display
STG @MR11101
ANP R40001               ; Error reset SW
RES R50103               ; Warning Set
CON
JMP @MR11102
STG @MR11102
ANP R51000               ; Start SW ON Pulse
RES R50108               ; In Error
CON
MPS
AND R50001               ; In Auto
JMP @MR4900              ; 1cycle end
MPP
AND R50002               ; In Manual
JMP @MR3406
;原点復帰後、洗浄OKﾜｰｸ除材要求 / Washing OK product remove request after origin return
STG @MR11200             ; Washing OK product remove reques
ANB R50108               ; In Error
SET R50108               ; In Error
CON
SET R50103               ; Warning Set
CON
JMP @MR11201
@MOV #24 DM500           ; Error content display
STG @MR11201
ANP R40001               ; Error reset SW
RES R50103               ; Warning Set
CON
JMP @MR11202
STG @MR11202
ANP R51000               ; Start SW ON Pulse
SET MR201                ; Washing result display flag
CON
RES R50108               ; In Error
CON
JMP @MR1815
;原点復帰後、洗浄NGﾜｰｸ除材要求 / Washing NG product remove request after origin return
STG @MR11300             ; Washing NG product remove reques
ANB R50108               ; In Error
SET R50108               ; In Error
CON
SET R50103               ; Warning Set
CON
JMP @MR11301
@MOV #25 DM500           ; Error content display
STG @MR11301
ANP R40001               ; Error reset SW
RES R50103               ; Warning Set
CON
JMP @MR11302
STG @MR11302
ANP R51000               ; Start SW ON Pulse
SET MR201                ; Washing result display flag
CON
RES R50108               ; In Error
CON
JMP @MR1815
;洗浄未完了ﾜｰｸ除材要求 / Washing not finished product remove request
STG @MR11400             ; Wash no finish prduct remove req
ANB R50108               ; In Error
SET R50108               ; In Error
CON
SET R50103               ; Warning Set
CON
JMP @MR11401
@MOV #26 DM500           ; Error content display
STG @MR11401
ANP R40001               ; Error reset SW
RES R50103               ; Warning Set
CON
JMP @MR11402
STG @MR11402
ANP R51000               ; Start SW ON Pulse
ANB R4213                ; Product1 presence detection(D-ON
ANB R4214                ; Product2 presence detection(D-ON
ANB R4215                ; Product3 presence detection(D-ON
RES R50108               ; In Error
CON
MPS
AND R51101               ; In Origin Return Action
JMP @MR1815
MPP
AND R50009               ; In auto 1Cycle motion
RES @MR015               ; In washing motion stop error flg
CON
JMP @MR4808
;排水ﾓｰﾄﾞ時、洗浄液通水路開異常 / When waste water mode, washing liquid water pass open alarm
STG @MR12000             ; Wash liquid water pass open alrm
ANB R50108               ; In Error
SET R50108               ; In Error
CON
SET R50103               ; Warning Set
CON
JMP @MR12001
@MOV #30 DM500           ; Error content display
STG @MR12001
ANP R40001               ; Error reset SW
RES R50103               ; Warning Set
CON
JMP @MR12002
STG @MR12002
ANP R51000               ; Start SW ON Pulse
RES R50108               ; In Error
CON
JMP @MR3915              ; Manual Finish
;排水ﾓｰﾄﾞ時、廃液ﾀﾝｸ内真空異常 / When waste water mode, vacuum in waste fluid tank alarm
STG @MR12100             ; Vacuum in waste fluid tank alarm
ANB R50108               ; In Error
SET R50108               ; In Error
CON
SET R50103               ; Warning Set
CON
JMP @MR12101
@MOV #31 DM500           ; Error content display
STG @MR12101
ANP R40001               ; Error reset SW
RES R50103               ; Warning Set
CON
JMP @MR12102
STG @MR12102
ANP R51000               ; Start SW ON Pulse
RES R50108               ; In Error
CON
JMP @MR3915              ; Manual Finish
;排水ﾓｰﾄﾞ時、廃液ﾀﾝｸ圧空異常 / When waste water mode, Waste fluid tank compressed air alarm
STG @MR12200             ; Wft compressed air alarm
ANB R50108               ; In Error
SET R50108               ; In Error
CON
SET R50103               ; Warning Set
CON
JMP @MR12201
@MOV #32 DM500           ; Error content display
STG @MR12201
ANP R40001               ; Error reset SW
RES R50103               ; Warning Set
CON
JMP @MR12202
STG @MR12202
ANP R51000               ; Start SW ON Pulse
RES R50108               ; In Error
CON
JMP @MR3915              ; Manual Finish
;排水ﾓｰﾄﾞ時、排水異常 / When waste water mode, waste water alarm
STG @MR12300             ; Waaste discharge monitor alarm
ANB R50108               ; In Error
SET R50108               ; In Error
CON
SET R50103               ; Warning Set
CON
JMP @MR12301
@MOV #33 DM500           ; Error content display
STG @MR12301
ANP R40001               ; Error reset SW
RES R50103               ; Warning Set
CON
JMP @MR12302
STG @MR12302
ANP R51000               ; Start SW ON Pulse
RES R50108               ; In Error
CON
JMP @MR3106
;流量計ｾﾞﾛ点出しﾓｰﾄﾞ時、3ﾜｰｸ未検出 / When flowmeter zero-point search mode, 3 products no detection alarm
STG @MR13000
ANB R50108               ; In Error
SET R50108               ; In Error
CON
SET R50103               ; Warning Set
CON
JMP @MR13001
@MOV #40 DM500           ; Error content display
STG @MR13001
ANP R40001               ; Error reset SW
RES R50103               ; Warning Set
CON
JMP @MR13002
STG @MR13002
ANP R51000               ; Start SW ON Pulse
RES R50108               ; In Error
CON
JMP @MR3915              ; Manual Finish
END
ENDH
