DEVICE:53
;MODULE:TASK1
;MODULE_TYPE:0
;***************************************
; 非常停止
; Emergency Stop 
;***************************************
LD R40013                ; 非常停止
OR @MR000                ; Emergency STOP
ZRES @MR100 @MR4915
CON
OUT @MR000               ; Emergency STOP
TMR @39 #5               ; ｳｴｲﾄﾀｲﾏｰ39
LD @T39                  ; ｳｴｲﾄﾀｲﾏｰ39
MDSTOP TASK1
;動作ﾊﾟﾗﾒｰﾀ
;Operation Parameter
LD= DM1402 #1            ; AUTO_PARAMETER
OUT @MR013               ; TASK1 AUTO Parameter OK
;***************************************
; ﾎﾟｰｽﾞ ･ ｴﾗｰ 監視
; Pause ･ Error Check 
;***************************************
LDB R40005               ; ﾎﾟｰｽﾞ中
ANB R41000               ; TASK1 ERROR中
OUT @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
;Flags.
LD R4001                 ; INDEX 1ST ｶｰﾄﾘｯｼﾞ浮き確認 (外)
AND R4002                ; INDEX 1ST ｶｰﾄﾘｯｼﾞ浮き確認 (内)
MPS
AND R4000                ; INDEX 1ST ｶｰﾄﾘｯｼﾞ有
OUT @MR001               ; 1ST ﾜｰｸ有
MPP
ANB R4000                ; INDEX 1ST ｶｰﾄﾘｯｼﾞ有
OUT @MR002               ; 1ST ﾜｰｸ無
;<h1/>原点復帰動作
;HOME RETURN OPERATION 
STG R41200               ; TASK1原点復帰起動
SET R40300               ; TASK1動作中
CON
AND R40400               ; 動作開始
JMP @MR1000              ; TASK1 原点復帰開始
;Please write down homing program the following
;ここから原点復帰動作を記述
STG @MR1000              ; TASK1 原点復帰開始
JMP @MR1001
STG @MR1001
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR6702               ; 1ST ﾌｫｰﾑ検出上下 下降
CON
AND R4205                ; 1ST ﾌｫｰﾑ検出上下 上昇端
JMP @MR1002
STG @MR1002
MPS
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR6700               ; 1ST ﾌｫｰﾑ検出前後 前進
CON
SET MR6701               ; 1ST ﾌｫｰﾑ検出前後 後退
CON
AND R4203                ; 1ST ﾌｫｰﾑ検出前後 後退端
JMP @MR1003
MPP
ANB R1101                ; ﾗｲﾄｶｰﾃﾝ
RES MR6701               ; 1ST ﾌｫｰﾑ検出前後 後退
CON
SET R40006               ; PAUSE要求
CON
JMP @MR1001
STG @MR1003
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR6612               ; 1ST 治具  Close
CON
RES MR6610               ; 1ST 治具  Open 
CON
JMP @MR1004
STG @MR1004
SET R42300               ; ST1 1ｻｲｸﾙ終了
CON
JMP @MR1315
;
STG @MR1315
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES R40300               ; TASK1動作中
CON
ENDS
;<h1/>自動運転
;AUTO OERATION
STG R41300               ; TASK1 AUTO起動
SET R40300               ; TASK1動作中
CON
AND R40400               ; 動作開始
JMP @MR1500              ; TASK1 AUTO開始
; 動作パラメーター確認
; Operating Parameter Check
STG @MR1500              ; TASK1 AUTO開始
MPS
AND @MR013               ; TASK1 AUTO Parameter OK
JMP @MR1501              ; 初回ﾜｰｸ残確認
MPP
ANB @MR013               ; TASK1 AUTO Parameter OK
JMP @MR2900              ; AUTO終了処理
;初期ﾜｰｸ残確認 
;Cartridge check when AUTO start.
STG @MR1501              ; 初回ﾜｰｸ残確認
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
AND @MR002               ; 1ST ﾜｰｸ無
JMP @MR1600              ; ｻｲｸﾙ先頭
MPP
ANB @MR002               ; 1ST ﾜｰｸ無
SET @MR104               ; Err2 1STﾜｰｸ残
CON
JMP @MR1502
STG @MR1502
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR107               ; Err2 TASK1 Err2解除完了
RES @MR107               ; Err2 TASK1 Err2解除完了
CON
JMP @MR1501              ; 初回ﾜｰｸ残確認
;<h1/>Main1
;Waiting Start signal from Index / Indexより開始指示待ち 
STG @MR1600              ; ｻｲｸﾙ先頭
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
LD R40315                ; TASK16動作中
AND R42205               ; Indexより動作開始指示
ANL
SET R40500               ; 処理時間1計測開始
CON
RES MR6612               ; 1ST 治具  Close
CON
SET MR6610               ; 1ST 治具  Open 
CON
JMP @MR1601              ; ﾜｰｸ残ﾁｪｯｸ
MPP
LDB R40315               ; TASK16動作中
AND R40011               ; HOLD
ANL
JMP @MR2900              ; AUTO終了処理
;Case Check / ﾜｰｸﾁｪｯｸ
STG @MR1601              ; ﾜｰｸ残ﾁｪｯｸ
MPS
AND @MR002               ; 1ST ﾜｰｸ無
JMP @MR1608              ; 給材待ち
MPP
ANB @MR002               ; 1ST ﾜｰｸ無
SET @MR104               ; Err2 1STﾜｰｸ残
CON
JMP @MR1603
STG @MR1602              ; ﾜｰｸ残り
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR107               ; Err2 TASK1 Err2解除完了
RES @MR107               ; Err2 TASK1 Err2解除完了
CON
JMP @MR1601              ; ﾜｰｸ残ﾁｪｯｸ
;作業者給材完了待ち
;Waiting for Cartridge supply by Worker
STG @MR1608              ; 給材待ち
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
SET R42200               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点滅
CON
AND R1101                ; ﾗｲﾄｶｰﾃﾝ
ANP R42006               ; STARTsw ON
JMP @MR1609              ; ｸﾗﾝﾌﾟ前浮き確認
STG @MR1609              ; ｸﾗﾝﾌﾟ前浮き確認
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES R42200               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点滅
CON
MPS
LD R4001                 ; INDEX 1ST ｶｰﾄﾘｯｼﾞ浮き確認 (外)
AND R4002                ; INDEX 1ST ｶｰﾄﾘｯｼﾞ浮き確認 (内)
ANL
MPS
AND R4000                ; INDEX 1ST ｶｰﾄﾘｯｼﾞ有
JMP @MR1610              ; ｸﾗﾝﾌﾟ
MPP
ANB R4000                ; INDEX 1ST ｶｰﾄﾘｯｼﾞ有
JMP @MR2100              ; ｻｲｸﾙ終了へ
MPP
LDB R4001                ; INDEX 1ST ｶｰﾄﾘｯｼﾞ浮き確認 (外)
ORB R4002                ; INDEX 1ST ｶｰﾄﾘｯｼﾞ浮き確認 (内)
ANL
JMP @MR1612              ; Err
STG @MR1610              ; ｸﾗﾝﾌﾟ
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR6610               ; 1ST 治具  Open 
CON
SET MR6612               ; 1ST 治具  Close
CON
TMH @10 #50              ; ｳｴｲﾄﾀｲﾏｰ10
CON
AND @T10                 ; ｳｴｲﾄﾀｲﾏｰ10
OUT R40101               ; CALL POST
CON
AND R40102               ; POST OK
JMP @MR1611              ; ｸﾗﾝﾌﾟ後浮き確認
STG @MR1611              ; ｸﾗﾝﾌﾟ後浮き確認
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
LD R4000                 ; INDEX 1ST ｶｰﾄﾘｯｼﾞ有
AND R4001                ; INDEX 1ST ｶｰﾄﾘｯｼﾞ浮き確認 (外)
AND R4002                ; INDEX 1ST ｶｰﾄﾘｯｼﾞ浮き確認 (内)
ANL
INC.D DM1600             ; 生産カウンタ1
CON
JMP @MR1700              ; ﾘﾌﾞ確認
MPP
LDB R4000                ; INDEX 1ST ｶｰﾄﾘｯｼﾞ有
ORB R4001                ; INDEX 1ST ｶｰﾄﾘｯｼﾞ浮き確認 (外)
ORB R4002                ; INDEX 1ST ｶｰﾄﾘｯｼﾞ浮き確認 (内)
ANL
JMP @MR1612              ; Err
;*** Err3 Cartridge floating
STG @MR1612              ; Err
RES MR6612               ; 1ST 治具  Close
CON
SET MR6610               ; 1ST 治具  Open 
CON
SET @MR108               ; Err3 1STﾜｰｸ浮き
CON
JMP @MR1613
STG @MR1613
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR111               ; Err3 TASK1 Err3解除完了
RES @MR111               ; Err3 TASK1 Err3解除完了
CON
JMP @MR1608              ; 給材待ち
;***
;ﾘﾌﾞ検出  /  Lib check
STG @MR1700              ; ﾘﾌﾞ確認
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
AND LR004                ; AP04_ﾘﾌﾞ確認無し
JMP @MR1701              ; ﾘﾌﾞ検査OK
MPP
ANB LR004                ; AP04_ﾘﾌﾞ確認無し
MPS
LD R42510                ; CB有り
LD R42500                ; Black 選択
AND R4201                ; 1ST Black ﾘﾌﾞ検出
LD R42501                ; 3CL 選択
AND R4200                ; 1ST Color ﾘﾌﾞ検出
ORL
ANL
LD R42511                ; CB無し
LD R42500                ; Black 選択
ANB R4201                ; 1ST Black ﾘﾌﾞ検出
LD R42501                ; 3CL 選択
ANB R4200                ; 1ST Color ﾘﾌﾞ検出
ORL
ANL
ORL
ANL
JMP @MR1701              ; ﾘﾌﾞ検査OK
MRD
LD R42510                ; CB有り
LD R42500                ; Black 選択
ANB R4201                ; 1ST Black ﾘﾌﾞ検出
LD R42501                ; 3CL 選択
ANB R4200                ; 1ST Color ﾘﾌﾞ検出
ORL
ANL
ANL
SET @MR308               ; Err11 CB無し
CON
JMP @MR1702              ; ﾘﾌﾞ無しNG
MPP
LD R42511                ; CB無し
LD R42500                ; Black 選択
AND R4201                ; 1ST Black ﾘﾌﾞ検出
LD R42501                ; 3CL 選択
AND R4200                ; 1ST Color ﾘﾌﾞ検出
ORL
ANL
ANL
SET @MR312               ; Err12 CB有り
CON
JMP @MR1703              ; ﾘﾌﾞ有りNG
STG @MR1701              ; ﾘﾌﾞ検査OK
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
LDB R40002               ; ﾒﾝﾃﾅﾝｽ動作中
OR<> DM1405 #2           ; STEP Action selection
ANL
JMP @MR1800              ; ﾌｫｰﾑ上確認
MPP
LD R40002                ; ﾒﾝﾃﾅﾝｽ動作中
AND= DM1405 #2           ; STEP Action selection
ANL
JMP @MR3008              ; STEP終了処理
;*** ﾘﾌﾞ検出異常  /  Color Block check error
STG @MR1702              ; ﾘﾌﾞ無しNG
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR311               ; Err11 TASK1 Err11解除完了
RES @MR311               ; Err11 TASK1 Err11解除完了
CON
JMP @MR2000              ; 除材へ    ｸﾗﾝﾌﾟ解除
STG @MR1703              ; ﾘﾌﾞ有りNG
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR315               ; Err12 TASK1 Err12解除完了
RES @MR315               ; Err12 TASK1 Err12解除完了
CON
JMP @MR2000              ; 除材へ    ｸﾗﾝﾌﾟ解除
;***
;ﾌｫｰﾑ上確認  Top of Form check
STG @MR1800              ; ﾌｫｰﾑ上確認
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
AND LR000                ; AP00_ﾌｫｰﾑ上検査無し
JMP @MR2100              ; ｻｲｸﾙ終了へ
MPP
ANB LR000                ; AP00_ﾌｫｰﾑ上検査無し
MPS
AND R42500               ; Black 選択
JMP @MR2100              ; ｻｲｸﾙ終了へ
MPP
AND R42501               ; 3CL 選択
ZRES @MR13211 @MR13213   ; Yellow NG  Cyan NG
CON
SET @MR900               ; PACK1-1
CON
JMP @MR1801
STG @MR1801
MPS
AND R1101                ; ﾗｲﾄｶｰﾃﾝ
RES MR6701               ; 1ST ﾌｫｰﾑ検出前後 後退
CON
SET MR6700               ; 1ST ﾌｫｰﾑ検出前後 前進
CON
AND R4202                ; 1ST ﾌｫｰﾑ検出前後 前進端
RES @MR900               ; PACK1-1
CON
JMP @MR1802
MPP
LDB R1101                ; ﾗｲﾄｶｰﾃﾝ
ANB R4202                ; 1ST ﾌｫｰﾑ検出前後 前進端
ANL
RES MR6700               ; 1ST ﾌｫｰﾑ検出前後 前進
CON
SET R40115               ; ST1 PAUSE要求
CON
RES @MR900               ; PACK1-1
CON
JMP @MR1800              ; ﾌｫｰﾑ上確認
STG @MR1802
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
OUT R40101               ; CALL POST
CON
AND R40102               ; POST OK
SET @MR900               ; PACK1-1
CON
JMP @MR1803
STG @MR1803
MPS
AND R1101                ; ﾗｲﾄｶｰﾃﾝ
SET MR6702               ; 1ST ﾌｫｰﾑ検出上下 下降
CON
AND R4204                ; 1ST ﾌｫｰﾑ検出上下 下降端
OUT R40101               ; CALL POST
CON
AND R40102               ; POST OK
JMP @MR1804
MPP
LDB R1101                ; ﾗｲﾄｶｰﾃﾝ
ANB R4204                ; 1ST ﾌｫｰﾑ検出上下 下降端
ANL
RES MR6702               ; 1ST ﾌｫｰﾑ検出上下 下降
CON
SET R40115               ; ST1 PAUSE要求
CON
RES @MR900               ; PACK1-1
CON
JMP @MR1802
STG @MR1804
TMR #0 #9999             ; ﾌｫｰﾑ上確認ﾃﾞｨﾚｲ
CON
AND T0                   ; ﾌｫｰﾑ上確認ﾃﾞｨﾚｲ
MPS
LD R4213                 ; 1ST Yellow ﾌｫｰﾑ検出 GO
AND R4207                ; 1ST Cyan ﾌｫｰﾑ検出 GO
AND R4210                ; 1ST Magenta ﾌｫｰﾑ検出 GO
ANL
JMP @MR1805
MPP
TMR @11 #30              ; ｳｴｲﾄﾀｲﾏｰ11
CON
AND @T11                 ; ｳｴｲﾄﾀｲﾏｰ11
JMP @MR1805
MPS
ANB R4213                ; 1ST Yellow ﾌｫｰﾑ検出 GO
SET @MR13211             ; Yellow NG
MRD
ANB R4207                ; 1ST Cyan ﾌｫｰﾑ検出 GO
SET @MR13212             ; Magenta NG
MPP
ANB R4210                ; 1ST Magenta ﾌｫｰﾑ検出 GO
SET @MR13213             ; Cyan NG
STG @MR1805
MPS
AND R1101                ; ﾗｲﾄｶｰﾃﾝ
RES MR6702               ; 1ST ﾌｫｰﾑ検出上下 下降
CON
AND R4205                ; 1ST ﾌｫｰﾑ検出上下 上昇端
OUT R40101               ; CALL POST
CON
AND R40102               ; POST OK
JMP @MR1807
MPP
ANB R1101                ; ﾗｲﾄｶｰﾃﾝ
SET R40115               ; ST1 PAUSE要求
CON
RES @MR900               ; PACK1-1
CON
JMP @MR1808
STG @MR1807
MPS
AND R1101                ; ﾗｲﾄｶｰﾃﾝ
RES MR6700               ; 1ST ﾌｫｰﾑ検出前後 前進
CON
SET MR6701               ; 1ST ﾌｫｰﾑ検出前後 後退
CON
AND R4203                ; 1ST ﾌｫｰﾑ検出前後 後退端
RES @MR900               ; PACK1-1
CON
JMP @MR1900              ; 結果確認
MPP
ANB R1101                ; ﾗｲﾄｶｰﾃﾝ
SET R40115               ; ST1 PAUSE要求
CON
RES MR6701               ; 1ST ﾌｫｰﾑ検出前後 後退
CON
RES @MR900               ; PACK1-1
CON
JMP @MR1808
STG @MR1808
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND R1101                ; ﾗｲﾄｶｰﾃﾝ
SET @MR900               ; PACK1-1
CON
JMP @MR1805
LD R40115                ; ST1 PAUSE要求
SHOT #60 R40114          ; ST1 PAUSEお知らせﾌﾞｻﾞｰ
;検査結果確認   Result check
STG @MR1900              ; 結果確認
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
LDB @MR13211             ; Yellow NG
ANB @MR13212             ; Magenta NG
ANB @MR13213             ; Cyan NG
ANL
JMP @MR2100              ; ｻｲｸﾙ終了へ
MRD
LD @MR13211              ; Yellow NG
ANB @MR13212             ; Magenta NG
ANB @MR13213             ; Cyan NG
ANL
SET @MR112               ; Err4 Y ﾌｫｰﾑ上異常
CON
JMP @MR1901              ; Y 検査結果NG
MRD
LDB @MR13211             ; Yellow NG
AND @MR13212             ; Magenta NG
ANB @MR13213             ; Cyan NG
ANL
SET @MR200               ; Err5 M ﾌｫｰﾑ上異常
CON
JMP @MR1902              ; M 検査結果NG
MRD
LDB @MR13211             ; Yellow NG
ANB @MR13212             ; Magenta NG
AND @MR13213             ; Cyan NG
ANL
SET @MR204               ; Err6 C ﾌｫｰﾑ上異常
CON
JMP @MR1903              ; C 検査結果NG
MRD
LD @MR13211              ; Yellow NG
AND @MR13212             ; Magenta NG
ANB @MR13213             ; Cyan NG
ANL
SET @MR208               ; Err7 YM ﾌｫｰﾑ上異常
CON
JMP @MR1904              ; YM 検査結果NG
MRD
LD @MR13211              ; Yellow NG
ANB @MR13212             ; Magenta NG
AND @MR13213             ; Cyan NG
ANL
SET @MR212               ; Err8 YC ﾌｫｰﾑ上異常
CON
JMP @MR1905              ; YC 検査結果NG
MRD
LDB @MR13211             ; Yellow NG
AND @MR13212             ; Magenta NG
AND @MR13213             ; Cyan NG
ANL
SET @MR300               ; Err9 MC ﾌｫｰﾑ上異常
CON
JMP @MR1906              ; MC 検査結果NG
MPP
LD @MR13211              ; Yellow NG
AND @MR13212             ; Magenta NG
AND @MR13213             ; Cyan NG
ANL
SET @MR304               ; Err10 YMC ﾌｫｰﾑ上異常
CON
JMP @MR1907              ; YMC 検査結果NG
;*** 検査結果NG
STG @MR1901              ; Y 検査結果NG
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR115               ; Err4 TASK1 Err4解除完了
RES @MR115               ; Err4 TASK1 Err4解除完了
CON
JMP @MR1908              ; ｴﾗｰ解除後動作分岐
STG @MR1902              ; M 検査結果NG
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR203               ; Err5 TASK1 Err5解除完了
RES @MR203               ; Err5 TASK1 Err5解除完了
CON
JMP @MR1908              ; ｴﾗｰ解除後動作分岐
STG @MR1903              ; C 検査結果NG
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR207               ; Err6 TASK1 Err6解除完了
RES @MR207               ; Err6 TASK1 Err6解除完了
CON
JMP @MR1908              ; ｴﾗｰ解除後動作分岐
STG @MR1904              ; YM 検査結果NG
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR211               ; Err7 TASK1 Err7解除完了
RES @MR211               ; Err7 TASK1 Err7解除完了
CON
JMP @MR1908              ; ｴﾗｰ解除後動作分岐
STG @MR1905              ; YC 検査結果NG
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR215               ; Err8 TASK1 Err8解除完了
RES @MR215               ; Err8 TASK1 Err8解除完了
CON
JMP @MR1908              ; ｴﾗｰ解除後動作分岐
STG @MR1906              ; MC 検査結果NG
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR303               ; Err9 TASK1 Err9解除完了
RES @MR303               ; Err9 TASK1 Err9解除完了
CON
JMP @MR1908              ; ｴﾗｰ解除後動作分岐
STG @MR1907              ; YMC 検査結果NG
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR307               ; Err10 TASK1 Err10解除完了
RES @MR307               ; Err10 TASK1 Err10解除完了
CON
JMP @MR1908              ; ｴﾗｰ解除後動作分岐
STG @MR1908              ; ｴﾗｰ解除後動作分岐
ZRES @MR13211 @MR13213   ; Yellow NG  Cyan NG
CON
MPS
AND= DM1207 #2           ; ｴﾗｰ復帰SW番号(ﾕｰｻﾞｰ用)
INC.D DM1604             ; 生産カウンタ3
CON
JMP @MR2000              ; 除材へ    ｸﾗﾝﾌﾟ解除
MPP
AND= DM1207 #3           ; ｴﾗｰ復帰SW番号(ﾕｰｻﾞｰ用)
JMP @MR1800              ; ﾌｫｰﾑ上確認
;☆☆☆　除材処理  /  Remove process
STG @MR2000              ; 除材へ    ｸﾗﾝﾌﾟ解除
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR6612               ; 1ST 治具  Close
CON
SET MR6610               ; 1ST 治具  Open 
CON
OUT R40101               ; CALL POST
CON
AND R40102               ; POST OK
JMP @MR2001
STG @MR2001
MPS
LDB R40002               ; ﾒﾝﾃﾅﾝｽ動作中
ANB R1101                ; ﾗｲﾄｶｰﾃﾝ
ANL
JMP @MR2002              ; 除材確認
MPP
AND R40002               ; ﾒﾝﾃﾅﾝｽ動作中
JMP @MR3008              ; STEP終了処理
STG @MR2002              ; 除材確認
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND R1101                ; ﾗｲﾄｶｰﾃﾝ
MPS
AND @MR002               ; 1ST ﾜｰｸ無
JMP @MR1600              ; ｻｲｸﾙ先頭
MPP
ANB @MR002               ; 1ST ﾜｰｸ無
SET @MR104               ; Err2 1STﾜｰｸ残
CON
JMP @MR2003
STG @MR2003
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR107               ; Err2 TASK1 Err2解除完了
RES @MR107               ; Err2 TASK1 Err2解除完了
CON
JMP @MR2002              ; 除材確認
;☆☆☆
;<h1/> Cycle Finish / ｻｲｸﾙ終了
STG @MR2100              ; ｻｲｸﾙ終了へ
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
ANB R40002               ; ﾒﾝﾃﾅﾝｽ動作中
SET R40104               ; ﾐｭｰﾃｨﾝｸﾞﾘｾｯﾄ
CON
DW #0 DM1351             ; NGﾜｰｸﾌﾗｸﾞ ST1
CON
JMP @MR2101
MPP
AND R40002               ; ﾒﾝﾃﾅﾝｽ動作中
JMP @MR3008              ; STEP終了処理
STG @MR2101
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
TMH @1 #2                ; ｳｴｲﾄﾀｲﾏｰ01
CON
AND @T1                  ; ｳｴｲﾄﾀｲﾏｰ01
SET R40600               ; 処理時間1取得
CON
SET R42300               ; ST1 1ｻｲｸﾙ終了
CON
JMP @MR2102
STG @MR2102
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
ANB R42300               ; ST1 1ｻｲｸﾙ終了
JMP @MR1600              ; ｻｲｸﾙ先頭
;<h1/> AUTO 終了処理
; AUTO Finish Operation
STG @MR2900              ; AUTO終了処理
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR6612               ; 1ST 治具  Close
CON
SET MR6610               ; 1ST 治具  Open 
CON
TMR @9 #5                ; ｳｴｲﾄﾀｲﾏｰ09
CON
AND @T9                  ; ｳｴｲﾄﾀｲﾏｰ09
JMP @MR2901
STG @MR2901
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR6612               ; 1ST 治具  Close
CON
RES MR6610               ; 1ST 治具  Open 
CON
RES R40300               ; TASK1動作中
CON
ENDS
;<h1/>ｽﾃｯﾌﾟ運転
;STEP OERATION
STG R41400               ; TASK1 STEP起動
SET R40300               ; TASK1動作中
CON
AND R40400               ; 動作開始
JMP @MR3000              ; TASK1 STEP開始
;TASK1 STEP CONDITION CHECK
;1:通常運転				2:ﾘﾌﾞ検査				3:ﾌｫｰﾑ上検査			4:
;5:						6:						7:						8:
;
STG @MR3000              ; TASK1 STEP開始
MPS
AND= DM1404 #1           ; STEP Group selection
MPS
AND= DM1405 #1           ; STEP Action selection
JMP @MR1608              ; 給材待ち
MRD
LD= DM1405 #2            ; STEP Action selection
OR= DM1405 #3            ; STEP Action selection
ANL
JMP @MR3100              ; ｶｰﾄﾘｯｼﾞｸﾗﾝﾌﾟ
MPP
LD<> DM1405 #1           ; STEP Action selection
AND<> DM1405 #2          ; STEP Action selection
AND<> DM1405 #3          ; STEP Action selection
ANL
JMP @MR3008              ; STEP終了処理
MPP
AND<> DM1404 #1          ; STEP Group selection
JMP @MR3008              ; STEP終了処理
;STEP終了処理
STG @MR3008              ; STEP終了処理
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR6612               ; 1ST 治具  Close
CON
SET MR6610               ; 1ST 治具  Open 
CON
AND R4111                ; INDEX 1ST 治具ｸﾗﾝﾌﾟ 開き圧確認
JMP @MR3009
STG @MR3009
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
SET R40012               ; HOLD要求
CON
JMP @MR3010
STG @MR3010
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES R40300               ; TASK1動作中
CON
ENDS
;STEP前ｶｰﾄﾘｯｼﾞｸﾗﾝﾌﾟ  /  Cartridge clamp brfore STEP operation
STG @MR3100              ; ｶｰﾄﾘｯｼﾞｸﾗﾝﾌﾟ
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR6610               ; 1ST 治具  Open 
CON
SET MR6612               ; 1ST 治具  Close
CON
AND R4110                ; INDEX 1ST 治具ｸﾗﾝﾌﾟ 閉じ圧確認
TMR @12 #5               ; ｳｴｲﾄﾀｲﾏｰ12
CON
AND @T12                 ; ｳｴｲﾄﾀｲﾏｰ12
JMP @MR3101
STG @MR3101
AND @MR015               ; Task1 ﾎﾟｰｽﾞ&ｴﾗｰ無
OUT R40101               ; CALL POST
CON
AND R40102               ; POST OK
MPS
AND= DM1405 #2           ; STEP Action selection
JMP @MR1700              ; ﾘﾌﾞ確認
MPP
AND= DM1405 #3           ; STEP Action selection
JMP @MR1800              ; ﾌｫｰﾑ上確認
;<h1/>ｻﾌﾞﾙｰﾁﾝ
;<h1/>Error
;Err2
STG @MR104               ; Err2 1STﾜｰｸ残
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR105               ; 105
MOV #2 DM1200            ; 通常ｴﾗｰ番号
STG @MR105               ; 105
AND R40010               ; ERROR
JMP @MR106               ; 106
STG @MR106               ; 106
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
SET @MR107               ; Err2 TASK1 Err2解除完了
CON
ENDS
;Err3
STG @MR108               ; Err3 1STﾜｰｸ浮き
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR109               ; 109
MOV #3 DM1200            ; 通常ｴﾗｰ番号
STG @MR109               ; 109
AND R40010               ; ERROR
JMP @MR110               ; 110
STG @MR110               ; 110
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
SET @MR111               ; Err3 TASK1 Err3解除完了
CON
ENDS
;Err4 Top of form check NG 【Yellow】
STG @MR112               ; Err4 Y ﾌｫｰﾑ上異常
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW #0 DM1203             ; Err_sw_RETRY
CON
DW SW_REMOVE DM1204      ; ERROR_SW_REMOVE  Err_sw_REMOVE
CON
DW SW_RECHECK DM1205     ; ERROR_SW_RECHECK  Err_sw_RECHECK
CON
DW #0 DM1206             ; Err_sw_CONTINUE
CON
JMP @MR113               ; 113
MOV #4 DM1200            ; 通常ｴﾗｰ番号
STG @MR113               ; 113
AND R40010               ; ERROR
JMP @MR114               ; 114
STG @MR114               ; 114
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
SET @MR115               ; Err4 TASK1 Err4解除完了
CON
ENDS
;Err5 Top of form check NG 【Magenta】
STG @MR200               ; Err5 M ﾌｫｰﾑ上異常
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW #0 DM1203             ; Err_sw_RETRY
CON
DW SW_REMOVE DM1204      ; ERROR_SW_REMOVE  Err_sw_REMOVE
CON
DW SW_RECHECK DM1205     ; ERROR_SW_RECHECK  Err_sw_RECHECK
CON
DW #0 DM1206             ; Err_sw_CONTINUE
CON
JMP @MR201               ; 201
MOV #5 DM1200            ; 通常ｴﾗｰ番号
STG @MR201               ; 201
AND R40010               ; ERROR
JMP @MR202               ; 202
STG @MR202               ; 202
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
SET @MR203               ; Err5 TASK1 Err5解除完了
CON
ENDS
;Err6 Top of form check NG 【Cyan】
STG @MR204               ; Err6 C ﾌｫｰﾑ上異常
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW #0 DM1203             ; Err_sw_RETRY
CON
DW SW_REMOVE DM1204      ; ERROR_SW_REMOVE  Err_sw_REMOVE
CON
DW SW_RECHECK DM1205     ; ERROR_SW_RECHECK  Err_sw_RECHECK
CON
DW #0 DM1206             ; Err_sw_CONTINUE
CON
JMP @MR205               ; 205
MOV #6 DM1200            ; 通常ｴﾗｰ番号
STG @MR205               ; 205
AND R40010               ; ERROR
JMP @MR206               ; 206
STG @MR206               ; 206
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
SET @MR207               ; Err6 TASK1 Err6解除完了
CON
ENDS
;Err7 Top of form check NG 【Yellow Magenta】
STG @MR208               ; Err7 YM ﾌｫｰﾑ上異常
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW #0 DM1203             ; Err_sw_RETRY
CON
DW SW_REMOVE DM1204      ; ERROR_SW_REMOVE  Err_sw_REMOVE
CON
DW SW_RECHECK DM1205     ; ERROR_SW_RECHECK  Err_sw_RECHECK
CON
DW #0 DM1206             ; Err_sw_CONTINUE
CON
JMP @MR209               ; 209
MOV #7 DM1200            ; 通常ｴﾗｰ番号
STG @MR209               ; 209
AND R40010               ; ERROR
JMP @MR210               ; 210
STG @MR210               ; 210
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
SET @MR211               ; Err7 TASK1 Err7解除完了
CON
ENDS
;Err8 Top of form check NG 【Yellow Cyan】
STG @MR212               ; Err8 YC ﾌｫｰﾑ上異常
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW #0 DM1203             ; Err_sw_RETRY
CON
DW SW_REMOVE DM1204      ; ERROR_SW_REMOVE  Err_sw_REMOVE
CON
DW SW_RECHECK DM1205     ; ERROR_SW_RECHECK  Err_sw_RECHECK
CON
DW #0 DM1206             ; Err_sw_CONTINUE
CON
JMP @MR213               ; 213
MOV #8 DM1200            ; 通常ｴﾗｰ番号
STG @MR213               ; 213
AND R40010               ; ERROR
JMP @MR214               ; 214
STG @MR214               ; 214
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
SET @MR215               ; Err8 TASK1 Err8解除完了
CON
ENDS
;Err9 Top of form check NG 【Magenta Cyan】
STG @MR300               ; Err9 MC ﾌｫｰﾑ上異常
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW #0 DM1203             ; Err_sw_RETRY
CON
DW SW_REMOVE DM1204      ; ERROR_SW_REMOVE  Err_sw_REMOVE
CON
DW SW_RECHECK DM1205     ; ERROR_SW_RECHECK  Err_sw_RECHECK
CON
DW #0 DM1206             ; Err_sw_CONTINUE
CON
JMP @MR301               ; 301
MOV #9 DM1200            ; 通常ｴﾗｰ番号
STG @MR301               ; 301
AND R40010               ; ERROR
JMP @MR302               ; 302
STG @MR302               ; 302
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
SET @MR303               ; Err9 TASK1 Err9解除完了
CON
ENDS
;Err10 Top of form check NG 【Yellow Magenta Cyan】
STG @MR304               ; Err10 YMC ﾌｫｰﾑ上異常
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW #0 DM1203             ; Err_sw_RETRY
CON
DW SW_REMOVE DM1204      ; ERROR_SW_REMOVE  Err_sw_REMOVE
CON
DW SW_RECHECK DM1205     ; ERROR_SW_RECHECK  Err_sw_RECHECK
CON
DW #0 DM1206             ; Err_sw_CONTINUE
CON
JMP @MR305               ; 305
MOV #10 DM1200           ; 通常ｴﾗｰ番号
STG @MR305               ; 305
AND R40010               ; ERROR
JMP @MR306               ; 306
STG @MR306               ; 306
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
SET @MR307               ; Err10 TASK1 Err10解除完了
CON
ENDS
;Err11
STG @MR308               ; Err11 CB無し
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW SW_NONE DM1203        ; ERROR_SW_NONE  Err_sw_RETRY
CON
DW SW_REMOVE DM1204      ; ERROR_SW_REMOVE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR309               ; 309
MOV #11 DM1200           ; 通常ｴﾗｰ番号
STG @MR309               ; 309
AND R40010               ; ERROR
JMP @MR310               ; 310
STG @MR310               ; 310
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
SET @MR311               ; Err11 TASK1 Err11解除完了
CON
ENDS
;Err12
STG @MR312               ; Err12 CB有り
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW SW_NONE DM1203        ; ERROR_SW_NONE  Err_sw_RETRY
CON
DW SW_REMOVE DM1204      ; ERROR_SW_REMOVE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR313               ; 313
MOV #12 DM1200           ; 通常ｴﾗｰ番号
STG @MR313               ; 313
AND R40010               ; ERROR
JMP @MR314               ; 314
STG @MR314               ; 314
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
SET @MR315               ; Err12 TASK1 Err12解除完了
CON
ENDS
;Err13
STG @MR400               ; Err13 TASK1 Err13
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR401               ; 401
MOV #13 DM1200           ; 通常ｴﾗｰ番号
STG @MR401               ; 401
AND R40010               ; ERROR
JMP @MR402               ; 402
STG @MR402               ; 402
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
SET @MR403               ; Err13 TASK1 Err13解除完了
CON
ENDS
;Err14
STG @MR404               ; Err14 TASK1 Err14
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR405               ; 405
MOV #14 DM1200           ; 通常ｴﾗｰ番号
STG @MR405               ; 405
AND R40010               ; ERROR
JMP @MR406               ; 406
STG @MR406               ; 406
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
SET @MR407               ; Err14 TASK1 Err14解除完了
CON
ENDS
;Err15
STG @MR408               ; Err15 TASK1 Err15
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR409               ; 409
MOV #15 DM1200           ; 通常ｴﾗｰ番号
STG @MR409               ; 409
AND R40010               ; ERROR
JMP @MR410               ; 410
STG @MR410               ; 410
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
SET @MR411               ; Err15 TASK1 Err15解除完了
CON
ENDS
;Err16
STG @MR412               ; Err16 TASK1 Err16
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR413               ; 413
MOV #16 DM1200           ; 通常ｴﾗｰ番号
STG @MR413               ; 413
AND R40010               ; ERROR
JMP @MR414               ; 414
STG @MR414               ; 414
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
SET @MR415               ; Err16 TASK1 Err16解除完了
CON
ENDS
;Err17
STG @MR500               ; Err17 TASK1 Err17
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_REMOVE DM1204      ; ERROR_SW_REMOVE  Err_sw_REMOVE
CON
DW SW_RECHECK DM1205     ; ERROR_SW_RECHECK  Err_sw_RECHECK
CON
DW SW_CONTINUE DM1206    ; ERROR_SW_CONTINUE  Err_sw_CONTINUE
CON
JMP @MR501               ; 501
MOV #17 DM1200           ; 通常ｴﾗｰ番号
STG @MR501               ; 501
AND R40010               ; ERROR
JMP @MR502               ; 502
STG @MR502               ; 502
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
SET @MR503               ; Err17 TASK1 Err17解除完了
CON
ENDS
;Err18
STG @MR504               ; Err18 TASK1 Err18
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR505               ; 505
MOV #18 DM1200           ; 通常ｴﾗｰ番号
STG @MR505               ; 505
AND R40010               ; ERROR
JMP @MR506               ; 506
STG @MR506               ; 506
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
SET @MR507               ; Err18 TASK1 Err18解除完了
CON
ENDS
;Err19
STG @MR508               ; Err19 TASK1 Err19
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR509               ; 509
MOV #19 DM1200           ; 通常ｴﾗｰ番号
STG @MR509               ; 509
AND R40010               ; ERROR
JMP @MR510               ; 510
STG @MR510               ; 510
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
SET @MR511               ; Err19 TASK1 Err19解除完了
CON
ENDS
;Err20
STG @MR512               ; Err20 TASK1 Err20
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR513               ; 513
MOV #20 DM1200           ; 通常ｴﾗｰ番号
STG @MR513               ; 513
AND R40010               ; ERROR
JMP @MR514               ; 514
STG @MR514               ; 514
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
SET @MR515               ; Err20 TASK1 Err20解除完了
CON
ENDS
;SELECT ACTION SUB
STG @MR4900              ; SELECT ACT
ANB R40112               ; SELECT ACTION DO
DW #2 DM1230             ; Select Action No.
CON
DW #1 DM1231             ; Select Action SW1
CON
DW #2 DM1232             ; Select Action SW2
CON
DW #10 DM1233            ; Select Action SW3
CON
DW #12 DM1234            ; Select Action SW4
CON
SET R40112               ; SELECT ACTION DO
CON
JMP @MR4902
STG @MR4902
AND R40112               ; SELECT ACTION DO
JMP @MR4903
STG @MR4903
ANB R40112               ; SELECT ACTION DO
MOV DM1235 @DM0          ; SA Select SW No.  SELECT ACT No.
SET @MR4901              ; SELECT ACT FIN
CON
ENDS
;PACKｾｯﾄ
;Pack Set
LDB @MR900               ; PACK1-1
ANB @MR901               ; PACK1-2
ANB @MR902               ; PACK1-3
ANB @MR903               ; PACK1-4
ANB @MR904               ; PACK1-5
ANB @MR905               ; PACK1-6
ANB @MR906               ; PACK1-7
ANB @MR907               ; PACK1-8
INV
OUT R40200               ; ﾎﾟｰｽﾞ禁止1
END
ENDH
