DEVICE:53
;MODULE:Sensor
;MODULE_TYPE:0
LD R40013                ; 非常停止
ZRES @R000 @R115         ; INDEX ｼﾘﾝﾀﾞｰｴﾗｰ中  ﾎﾟｰｽﾞ完了監視
;Pause中ｾﾝｻｰ監視
LD R40005                ; ﾎﾟｰｽﾞ中
OR @R115                 ; ﾎﾟｰｽﾞ完了監視
ANB R40007               ; ﾎﾟｰｽﾞOK
OUT @R115                ; ﾎﾟｰｽﾞ完了監視
LD CR2002                ; 常時ON
MC
;<h1/>TASK1　ｼﾘﾝﾀﾞｰ ｾﾝｻｰ監視
LD R40004                ; TASKDO
LDB R41000               ; TASK1 ERROR中
OR R40200                ; ﾎﾟｰｽﾞ禁止1
ANL
LDB R40005               ; ﾎﾟｰｽﾞ中
OR @R115                 ; ﾎﾟｰｽﾞ完了監視
ANL
MC
;
LD R6600                 ; INDEX 位置決め上下 上昇
LDB R4100                ; INDEX 位置決め上下 上昇端
LD R4100                 ; INDEX 位置決め上下 上昇端
AND R4101                ; INDEX 位置決め上下 下降端
ORL
ANL
TMR @0 #30               ; ST1 CY Err TIM 00
CON
AND @T0                  ; ST1 CY Err TIM 00
DW #4100 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4100               ; Cylinder Error 4100
LD R6601                 ; INDEX 位置決め上下 下降
LDB R4101                ; INDEX 位置決め上下 下降端
LD R4100                 ; INDEX 位置決め上下 上昇端
AND R4101                ; INDEX 位置決め上下 下降端
ORL
ANL
TMR @1 #30               ; ST1 CY Err TIM 01
CON
AND @T1                  ; ST1 CY Err TIM 01
DW #4101 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4101               ; Cylinder Error 4101
LD R6614                 ; INDEX 治具ｴｱｰ上下 上昇
LDB R4102                ; INDEX 1ST 治具ｴｱｰ上下 上昇端
LD R4102                 ; INDEX 1ST 治具ｴｱｰ上下 上昇端
AND R4103                ; INDEX 1ST 治具ｴｱｰ上下 下降端
ORL
ANL
TMR @2 #30               ; ST1 CY Err TIM 02
CON
AND @T2                  ; ST1 CY Err TIM 02
DW #4102 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4102               ; Cylinder Error 4102
LDB R6614                ; INDEX 治具ｴｱｰ上下 上昇
LDB R4103                ; INDEX 1ST 治具ｴｱｰ上下 下降端
LD R4102                 ; INDEX 1ST 治具ｴｱｰ上下 上昇端
AND R4103                ; INDEX 1ST 治具ｴｱｰ上下 下降端
ORL
ANL
TMR @3 #30               ; ST1 CY Err TIM 03
CON
AND @T3                  ; ST1 CY Err TIM 03
DW #4103 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4103               ; Cylinder Error 4103
LD R6612                 ; INDEX 1ST 治具 ｸﾗﾝﾌﾟｴｱｰ ON
LDB R4110                ; INDEX 1ST 治具ｸﾗﾝﾌﾟ 閉じ圧確認
LD R4110                 ; INDEX 1ST 治具ｸﾗﾝﾌﾟ 閉じ圧確認
AND R4111                ; INDEX 1ST 治具ｸﾗﾝﾌﾟ 開き圧確認
ORL
ANL
TMR @4 #30               ; ST1 CY Err TIM 04
CON
AND @T4                  ; ST1 CY Err TIM 04
DW #4110 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4110               ; Cylinder Error 4110
LD R6610                 ; INDEX 1ST 治具 戻しｴｱｰ ON
LDB R4111                ; INDEX 1ST 治具ｸﾗﾝﾌﾟ 開き圧確認
LD R4110                 ; INDEX 1ST 治具ｸﾗﾝﾌﾟ 閉じ圧確認
AND R4111                ; INDEX 1ST 治具ｸﾗﾝﾌﾟ 開き圧確認
ORL
ANL
TMR @5 #30               ; ST1 CY Err TIM 05
CON
AND @T5                  ; ST1 CY Err TIM 05
DW #4111 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4111               ; Cylinder Error 4111
LD R6700                 ; 1ST ﾌｫｰﾑ検出前後 前進
LDB R4202                ; 1ST ﾌｫｰﾑ検出前後 前進端
LD R4202                 ; 1ST ﾌｫｰﾑ検出前後 前進端
AND R4203                ; 1ST ﾌｫｰﾑ検出前後 後退端
ORL
ANL
TMR @6 #30               ; ST1 CY Err TIM 06
CON
AND @T6                  ; ST1 CY Err TIM 06
DW #4202 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4202               ; Cylinder Error 4202
LD R6701                 ; 1ST ﾌｫｰﾑ検出前後 後退
LDB R4203                ; 1ST ﾌｫｰﾑ検出前後 後退端
LD R4202                 ; 1ST ﾌｫｰﾑ検出前後 前進端
AND R4203                ; 1ST ﾌｫｰﾑ検出前後 後退端
ORL
ANL
TMR @7 #30               ; ST1 CY Err TIM 07
CON
AND @T7                  ; ST1 CY Err TIM 07
DW #4203 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4203               ; Cylinder Error 4203
LD R6702                 ; 1ST ﾌｫｰﾑ検出上下 下降
LDB R4204                ; 1ST ﾌｫｰﾑ検出上下 下降端
LD R4204                 ; 1ST ﾌｫｰﾑ検出上下 下降端
AND R4205                ; 1ST ﾌｫｰﾑ検出上下 上昇端
ORL
ANL
TMR @8 #30               ; ST1 CY Err TIM 08
CON
AND @T8                  ; ST1 CY Err TIM 08
DW #4204 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4204               ; Cylinder Error 4204
LDB R6702                ; 1ST ﾌｫｰﾑ検出上下 下降
LDB R4205                ; 1ST ﾌｫｰﾑ検出上下 上昇端
LD R4204                 ; 1ST ﾌｫｰﾑ検出上下 下降端
AND R4205                ; 1ST ﾌｫｰﾑ検出上下 上昇端
ORL
ANL
TMR @9 #30               ; ST1 CY Err TIM 09
CON
AND @T9                  ; ST1 CY Err TIM 09
DW #4205 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4205               ; Cylinder Error 4205
MCR
;ST1 ｼﾘﾝﾀﾞｰ ｾﾝｻｰｴﾗｰ表示
LD>= DM1209 #4100        ; ｾﾝｻｰｴﾗｰ No.
AND<= DM1209 #4103       ; ｾﾝｻｰｴﾗｰ No.
LD>= DM1209 #4110        ; ｾﾝｻｰｴﾗｰ No.
AND<= DM1209 #4111       ; ｾﾝｻｰｴﾗｰ No.
ORL
LD>= DM1209 #4202        ; ｾﾝｻｰｴﾗｰ No.
AND<= DM1209 #4205       ; ｾﾝｻｰｴﾗｰ No.
ORL
ANB R40010               ; ERROR
ANB @R004                ; ST1 ｼﾘﾝﾀﾞｰｴﾗｰ中
SET @R004                ; ST1 ｼﾘﾝﾀﾞｰｴﾗｰ中
CON
SET R40010               ; ERROR
CON
SET R41000               ; TASK1 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
SET @R005                ; 101
MOV #1 DM1200            ; 通常ｴﾗｰ番号
STG @R005                ; 101
AND R40010               ; ERROR
JMP @R006                ; 102
STG @R006                ; 102
ANB R40010               ; ERROR
RES R41000               ; TASK1 ERROR中
CON
RES @R004                ; ST1 ｼﾘﾝﾀﾞｰｴﾗｰ中
CON
DW #0 DM1209             ; ｾﾝｻｰｴﾗｰ No.
CON
ZRES MR4000 MR5915       ; Cylinder Error 4000  Cylinder Error 5915
CON
ENDS
;<h1/>TASK2　ｼﾘﾝﾀﾞｰ ｾﾝｻｰ監視
LD R40004                ; TASKDO
LDB R41001               ; TASK2 ERROR中
OR R40201                ; ﾎﾟｰｽﾞ禁止2
ANL
LDB R40005               ; ﾎﾟｰｽﾞ中
OR @R115                 ; ﾎﾟｰｽﾞ完了監視
ANL
MC
;
LD R6614                 ; INDEX 治具ｴｱｰ上下 上昇
LDB R4104                ; INDEX 2ST 治具ｴｱｰ上下 上昇端
LD R4104                 ; INDEX 2ST 治具ｴｱｰ上下 上昇端
AND R4105                ; INDEX 2ST 治具ｴｱｰ上下 下降端
ORL
ANL
TMR @100 #30             ; ST2 CY Err TIM 00
CON
AND @T100                ; ST2 CY Err TIM 00
DW #4104 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4104               ; Cylinder Error 4104
LDB R6614                ; INDEX 治具ｴｱｰ上下 上昇
LDB R4105                ; INDEX 2ST 治具ｴｱｰ上下 下降端
LD R4104                 ; INDEX 2ST 治具ｴｱｰ上下 上昇端
AND R4105                ; INDEX 2ST 治具ｴｱｰ上下 下降端
ORL
ANL
TMR @101 #30             ; ST2 CY Err TIM 01
CON
AND @T101                ; ST2 CY Err TIM 01
DW #4105 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4105               ; Cylinder Error 4105
LD R6608                 ; INDEX 2ST 治具 ｸﾗﾝﾌﾟｴｱｰ ON
ANB R4112                ; INDEX 2ST 治具ｸﾗﾝﾌﾟ 閉じ圧確認
TMR @102 #30             ; ST2 CY Err TIM 02
CON
AND @T102                ; ST2 CY Err TIM 02
DW #4112 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4112               ; Cylinder Error 4112
LD R6408                 ; 2ST ﾘｰｸ検査 Color側行
LDB R4300                ; 2ST ﾘｰｸ検査 Color側端
LD R4300                 ; 2ST ﾘｰｸ検査 Color側端
AND R4301                ; 2ST ﾘｰｸ検査 Black側端
ORL
ANL
TMR @103 #30             ; ST2 CY Err TIM 03
CON
AND @T103                ; ST2 CY Err TIM 03
DW #4300 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4300               ; Cylinder Error 4300
LD R6409                 ; 2ST ﾘｰｸ検査 Black側行
LDB R4301                ; 2ST ﾘｰｸ検査 Black側端
LD R4300                 ; 2ST ﾘｰｸ検査 Color側端
AND R4301                ; 2ST ﾘｰｸ検査 Black側端
ORL
ANL
TMR @104 #30             ; ST2 CY Err TIM 04
CON
AND @T104                ; ST2 CY Err TIM 04
DW #4301 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4301               ; Cylinder Error 4301
LD R6410                 ; 2ST Color ﾘｰｸ検査 検査ﾍｯﾄﾞ下降
LDB R4302                ; 2ST Color ﾘｰｸ検査 検査ﾍｯﾄﾞ下降端
LD R4302                 ; 2ST Color ﾘｰｸ検査 検査ﾍｯﾄﾞ下降端
AND R4303                ; 2ST Color ﾘｰｸ検査 検査ﾍｯﾄﾞ上昇端
ORL
ANL
TMR @105 #30             ; ST2 CY Err TIM 05
CON
AND @T105                ; ST2 CY Err TIM 05
DW #4302 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4302               ; Cylinder Error 4302
LDB R6410                ; 2ST Color ﾘｰｸ検査 検査ﾍｯﾄﾞ下降
LDB R4303                ; 2ST Color ﾘｰｸ検査 検査ﾍｯﾄﾞ上昇端
LD R4302                 ; 2ST Color ﾘｰｸ検査 検査ﾍｯﾄﾞ下降端
AND R4303                ; 2ST Color ﾘｰｸ検査 検査ﾍｯﾄﾞ上昇端
ORL
ANL
TMR @106 #30             ; ST2 CY Err TIM 06
CON
AND @T106                ; ST2 CY Err TIM 06
DW #4303 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4303               ; Cylinder Error 4303
LD R6412                 ; 2ST Black ﾘｰｸ検査 検査ﾍｯﾄﾞ下降
LDB R4304                ; 2ST Black ﾘｰｸ検査 検査ﾍｯﾄﾞ下降端
LD R4304                 ; 2ST Black ﾘｰｸ検査 検査ﾍｯﾄﾞ下降端
AND R4305                ; 2ST Black ﾘｰｸ検査 検査ﾍｯﾄﾞ上昇端
ORL
ANL
TMR @107 #30             ; ST2 CY Err TIM 07
CON
AND @T107                ; ST2 CY Err TIM 07
DW #4304 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4304               ; Cylinder Error 4304
LDB R6412                ; 2ST Black ﾘｰｸ検査 検査ﾍｯﾄﾞ下降
LDB R4305                ; 2ST Black ﾘｰｸ検査 検査ﾍｯﾄﾞ上昇端
LD R4304                 ; 2ST Black ﾘｰｸ検査 検査ﾍｯﾄﾞ下降端
AND R4305                ; 2ST Black ﾘｰｸ検査 検査ﾍｯﾄﾞ上昇端
ORL
ANL
TMR @108 #30             ; ST2 CY Err TIM 08
CON
AND @T108                ; ST2 CY Err TIM 08
DW #4305 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4305               ; Cylinder Error 4305
LD R6414                 ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降
LDB R4306                ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降端
LD R4306                 ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降端
AND R4307                ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇端
ORL
ANL
TMR @109 #30             ; ST2 CY Err TIM 09
CON
AND @T109                ; ST2 CY Err TIM 09
DW #4306 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4306               ; Cylinder Error 4306
LD R6415                 ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇
LDB R4307                ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇端
LD R4306                 ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降端
AND R4307                ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇端
ORL
ANL
TMR @110 #30             ; ST2 CY Err TIM 10
CON
AND @T110                ; ST2 CY Err TIM 10
DW #4307 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4307               ; Cylinder Error 4307
LD R6500                 ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降
LDB R4308                ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降端
LD R4308                 ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降端
AND R4309                ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇端
ORL
ANL
TMR @111 #30             ; ST2 CY Err TIM 11
CON
AND @T111                ; ST2 CY Err TIM 11
DW #4308 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4308               ; Cylinder Error 4308
LD R6501                 ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇
LDB R4309                ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇端
LD R4308                 ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降端
AND R4309                ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇端
ORL
ANL
TMR @112 #30             ; ST2 CY Err TIM 12
CON
AND @T112                ; ST2 CY Err TIM 12
DW #4309 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4309               ; Cylinder Error 4309
MCR
;TASK2 ｼﾘﾝﾀﾞｰ ｾﾝｻｰｴﾗｰ表示
LD>= DM1209 #4104        ; ｾﾝｻｰｴﾗｰ No.
AND<= DM1209 #4105       ; ｾﾝｻｰｴﾗｰ No.
LD>= DM1209 #4112        ; ｾﾝｻｰｴﾗｰ No.
AND<= DM1209 #4113       ; ｾﾝｻｰｴﾗｰ No.
ORL
LD>= DM1209 #4300        ; ｾﾝｻｰｴﾗｰ No.
AND<= DM1209 #4309       ; ｾﾝｻｰｴﾗｰ No.
ORL
ANB R40010               ; ERROR
ANB @R008                ; ST2 ｼﾘﾝﾀﾞｰｴﾗｰ中
SET @R008                ; ST2 ｼﾘﾝﾀﾞｰｴﾗｰ中
CON
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
SET @R009                ; 201
MOV #31 DM1200           ; 通常ｴﾗｰ番号
STG @R009                ; 201
AND R40010               ; ERROR
JMP @R010                ; 202
STG @R010                ; 202
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
RES @R008                ; ST2 ｼﾘﾝﾀﾞｰｴﾗｰ中
CON
DW #0 DM1209             ; ｾﾝｻｰｴﾗｰ No.
CON
ZRES MR4000 MR5915       ; Cylinder Error 4000  Cylinder Error 5915
CON
ENDS
;<h1/>TASK3　ｼﾘﾝﾀﾞｰ ｾﾝｻｰ監視
LD R40004                ; TASKDO
LDB R41002               ; TASK3 ERROR中
OR R40202                ; ﾎﾟｰｽﾞ禁止3
ANL
LDB R40005               ; ﾎﾟｰｽﾞ中
OR @R115                 ; ﾎﾟｰｽﾞ完了監視
ANL
MC
;
LD R6614                 ; INDEX 治具ｴｱｰ上下 上昇
LDB R4106                ; INDEX 3ST 治具ｴｱｰ上下 上昇端
LD R4106                 ; INDEX 3ST 治具ｴｱｰ上下 上昇端
AND R4107                ; INDEX 3ST 治具ｴｱｰ上下 下降端
ORL
ANL
TMR @200 #30             ; ST3 CY Err TIM 00
CON
AND @T200                ; ST3 CY Err TIM 00
DW #4106 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4106               ; Cylinder Error 4106
LDB R6614                ; INDEX 治具ｴｱｰ上下 上昇
LDB R4107                ; INDEX 3ST 治具ｴｱｰ上下 下降端
LD R4106                 ; INDEX 3ST 治具ｴｱｰ上下 上昇端
AND R4107                ; INDEX 3ST 治具ｴｱｰ上下 下降端
ORL
ANL
TMR @201 #30             ; ST3 CY Err TIM 01
CON
AND @T201                ; ST3 CY Err TIM 01
DW #4107 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4107               ; Cylinder Error 4107
LD R6606                 ; INDEX 3ST 治具 ｸﾗﾝﾌﾟｴｱｰ ON
ANB R4113                ; INDEX 3ST 治具ｸﾗﾝﾌﾟ 閉じ圧確認
TMR @202 #30             ; ST3 CY Err TIM 02
CON
AND @T202                ; ST3 CY Err TIM 02
DW #4113 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4113               ; Cylinder Error 4113
LD R6208                 ; 3ST Black 注入部上下 下降
LDB R4500                ; 3ST Black 注入部上下 下降端
LD R4500                 ; 3ST Black 注入部上下 下降端
AND R4501                ; 3ST Black 注入部上下 上昇端
ORL
ANL
TMR @203 #30             ; ST3 CY Err TIM 03
CON
AND @T203                ; ST3 CY Err TIM 03
DW #4500 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4500               ; Cylinder Error 4500
LD R6209                 ; 3ST Black 注入部上下 上昇
LDB R4501                ; 3ST Black 注入部上下 上昇端
LD R4500                 ; 3ST Black 注入部上下 下降端
AND R4501                ; 3ST Black 注入部上下 上昇端
ORL
ANL
TMR @204 #30             ; ST3 CY Err TIM 04
CON
AND @T204                ; ST3 CY Err TIM 04
DW #4501 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4501               ; Cylinder Error 4501
LD R6206                 ; 3ST Color 注入部上下 下降
LDB R4502                ; 3ST Color 注入部上下 下降端
LD R4502                 ; 3ST Color 注入部上下 下降端
AND R4503                ; 3ST Color 注入部上下 上昇端
ORL
ANL
TMR @205 #30             ; ST3 CY Err TIM 05
CON
AND @T205                ; ST3 CY Err TIM 05
DW #4502 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4502               ; Cylinder Error 4502
LD R6207                 ; 3ST Color 注入部上下 上昇
LDB R4503                ; 3ST Color 注入部上下 上昇端
LD R4502                 ; 3ST Color 注入部上下 下降端
AND R4503                ; 3ST Color 注入部上下 上昇端
ORL
ANL
TMR @206 #30             ; ST3 CY Err TIM 06
CON
AND @T206                ; ST3 CY Err TIM 06
DW #4503 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4503               ; Cylinder Error 4503
LD R6300                 ; 3ST Black 減圧孔真空ﾛｯﾄﾞ 下降
LDB R4504                ; Black 真空ﾛｯﾄﾞ 下限
LD R4504                 ; Black 真空ﾛｯﾄﾞ 下限
AND R4505                ; Black 真空ﾛｯﾄﾞ 上限
ORL
ANL
TMR @207 #30             ; ST3 CY Err TIM 07
CON
AND @T207                ; ST3 CY Err TIM 07
DW #4504 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4504               ; Cylinder Error 4504
LDB R6300                ; 3ST Black 減圧孔真空ﾛｯﾄﾞ 下降
LDB R4505                ; Black 真空ﾛｯﾄﾞ 上限
LD R4504                 ; Black 真空ﾛｯﾄﾞ 下限
AND R4505                ; Black 真空ﾛｯﾄﾞ 上限
ORL
ANL
TMR @208 #30             ; ST3 CY Err TIM 08
CON
AND @T208                ; ST3 CY Err TIM 08
DW #4505 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4505               ; Cylinder Error 4505
LD R6214                 ; 3ST Cyan 減圧孔真空ﾛｯﾄﾞ 下降
LDB R4506                ; Cyan 真空ﾛｯﾄﾞ 下限
LD R4506                 ; Cyan 真空ﾛｯﾄﾞ 下限
AND R4507                ; Cyan 真空ﾛｯﾄﾞ 上限
ORL
ANL
TMR @209 #30             ; ST3 CY Err TIM 09
CON
AND @T209                ; ST3 CY Err TIM 09
DW #4506 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4506               ; Cylinder Error 4506
LDB R6214                ; 3ST Cyan 減圧孔真空ﾛｯﾄﾞ 下降
LDB R4507                ; Cyan 真空ﾛｯﾄﾞ 上限
LD R4506                 ; Cyan 真空ﾛｯﾄﾞ 下限
AND R4507                ; Cyan 真空ﾛｯﾄﾞ 上限
ORL
ANL
TMR @210 #30             ; ST3 CY Err TIM 10
CON
AND @T210                ; ST3 CY Err TIM 10
DW #4507 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4507               ; Cylinder Error 4507
LD R6212                 ; 3ST Magenta 減圧孔真空ﾛｯﾄﾞ 下降
LDB R4508                ; Magenta 真空ﾛｯﾄﾞ下限
LD R4508                 ; Magenta 真空ﾛｯﾄﾞ下限
AND R4509                ; Magenta 真空ﾛｯﾄﾞ上限
ORL
ANL
TMR @211 #30             ; ST3 CY Err TIM 11
CON
AND @T211                ; ST3 CY Err TIM 11
DW #4508 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4508               ; Cylinder Error 4508
LDB R6212                ; 3ST Magenta 減圧孔真空ﾛｯﾄﾞ 下降
LDB R4509                ; Magenta 真空ﾛｯﾄﾞ上限
LD R4508                 ; Magenta 真空ﾛｯﾄﾞ下限
AND R4509                ; Magenta 真空ﾛｯﾄﾞ上限
ORL
ANL
TMR @212 #30             ; ST3 CY Err TIM 12
CON
AND @T212                ; ST3 CY Err TIM 12
DW #4509 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4509               ; Cylinder Error 4509
LD R6210                 ; 3ST Yellow 減圧孔真空ﾛｯﾄﾞ 下降
LDB R4510                ; Yellow 真空ﾛｯﾄﾞ 下限
LD R4510                 ; Yellow 真空ﾛｯﾄﾞ 下限
AND R4511                ; Yellow 真空ﾛｯﾄﾞ 上限
ORL
ANL
TMR @213 #30             ; ST3 CY Err TIM 13
CON
AND @T213                ; ST3 CY Err TIM 13
DW #4510 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4510               ; Cylinder Error 4510
LDB R6210                ; 3ST Yellow 減圧孔真空ﾛｯﾄﾞ 下降
LDB R4511                ; Yellow 真空ﾛｯﾄﾞ 上限
LD R4510                 ; Yellow 真空ﾛｯﾄﾞ 下限
AND R4511                ; Yellow 真空ﾛｯﾄﾞ 上限
ORL
ANL
TMR @214 #30             ; ST3 CY Err TIM 14
CON
AND @T214                ; ST3 CY Err TIM 14
DW #4511 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4511               ; Cylinder Error 4511
LD R6204                 ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ Color側行
LDB R4604                ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ Color側端
LD R4604                 ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ Color側端
AND R4605                ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ Black側端
ORL
ANL
TMR @215 #30             ; ST3 CY Err TIM 15
CON
AND @T215                ; ST3 CY Err TIM 15
DW #4604 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4604               ; Cylinder Error 4604
LD R6205                 ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ Black側行
LDB R4605                ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ Black側端
LD R4604                 ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ Color側端
AND R4605                ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ Black側端
ORL
ANL
TMR @216 #30             ; ST3 CY Err TIM 16
CON
AND @T216                ; ST3 CY Err TIM 16
DW #4605 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4605               ; Cylinder Error 4605
LD R6202                 ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (BK) 下降
LDB R4606                ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (BK) 下降端
LD R4606                 ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (BK) 下降端
AND R4607                ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (BK) 上昇端
ORL
ANL
TMR @217 #30             ; ST3 CY Err TIM 17
CON
AND @T217                ; ST3 CY Err TIM 17
AND R42500               ; Black 選択
DW #4606 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4606               ; Cylinder Error 4606
LD R6203                 ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ(BK) 上昇
LDB R4607                ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (BK) 上昇端
LD R4606                 ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (BK) 下降端
AND R4607                ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (BK) 上昇端
ORL
ANL
TMR @218 #30             ; ST3 CY Err TIM 18
CON
AND @T218                ; ST3 CY Err TIM 18
DW #4607 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4607               ; Cylinder Error 4607
LD R6200                 ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (CL) 下降
LDB R4608                ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (CL) 下降端
LD R4608                 ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (CL) 下降端
AND R4609                ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (CL) 上昇端
ORL
ANL
TMR @219 #30             ; ST3 CY Err TIM 19
CON
AND @T219                ; ST3 CY Err TIM 19
AND R42501               ; 3CL 選択
DW #4608 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4608               ; Cylinder Error 4608
LD R6201                 ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ(CL) 上昇
LDB R4609                ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (CL) 上昇端
LD R4608                 ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (CL) 下降端
AND R4609                ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (CL) 上昇端
ORL
ANL
TMR @220 #30             ; ST3 CY Err TIM 20
CON
AND @T220                ; ST3 CY Err TIM 20
DW #4609 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4609               ; Cylinder Error 4609
;
MCR
;TASK3 ｼﾘﾝﾀﾞｰ ｴﾗｰ表示
LD>= DM1209 #4106        ; ｾﾝｻｰｴﾗｰ No.
AND<= DM1209 #4107       ; ｾﾝｻｰｴﾗｰ No.
LD>= DM1209 #4114        ; ｾﾝｻｰｴﾗｰ No.
AND<= DM1209 #4115       ; ｾﾝｻｰｴﾗｰ No.
ORL
LD>= DM1209 #4500        ; ｾﾝｻｰｴﾗｰ No.
AND<= DM1209 #4609       ; ｾﾝｻｰｴﾗｰ No.
ORL
ANB R40010               ; ERROR
ANB @R012                ; ST3 ｼﾘﾝﾀﾞｰｴﾗｰ中
SET @R012                ; ST3 ｼﾘﾝﾀﾞｰｴﾗｰ中
CON
SET R40010               ; ERROR
CON
SET R41002               ; TASK3 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
SET @R013                ; 301
MOV #61 DM1200           ; 通常ｴﾗｰ番号
STG @R013                ; 301
AND R40010               ; ERROR
JMP @R014                ; 302
STG @R014                ; 302
ANB R40010               ; ERROR
RES R41002               ; TASK3 ERROR中
CON
RES @R012                ; ST3 ｼﾘﾝﾀﾞｰｴﾗｰ中
CON
DW #0 DM1209             ; ｾﾝｻｰｴﾗｰ No.
CON
ZRES MR4000 MR5915       ; Cylinder Error 4000  Cylinder Error 5915
CON
ENDS
;<h1/>TASK4　ｼﾘﾝﾀﾞｰ ｾﾝｻｰ監視
LD R40004                ; TASKDO
LDB R41003               ; TASK4 ERROR中
OR R40203                ; ﾎﾟｰｽﾞ禁止4
ANL
LDB R40005               ; ﾎﾟｰｽﾞ中
OR @R115                 ; ﾎﾟｰｽﾞ完了監視
ANL
MC
;
LD R6614                 ; INDEX 治具ｴｱｰ上下 上昇
LDB R4108                ; INDEX 4ST 治具ｴｱｰ上下 上昇端
LD R4108                 ; INDEX 4ST 治具ｴｱｰ上下 上昇端
AND R4109                ; INDEX 4ST 治具ｴｱｰ上下 下降端
ORL
ANL
TMR @300 #30             ; ST4 CY Err TIM 00
CON
AND @T300                ; ST4 CY Err TIM 00
DW #4108 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4108               ; Cylinder Error 4108
LDB R6614                ; INDEX 治具ｴｱｰ上下 上昇
LDB R4109                ; INDEX 4ST 治具ｴｱｰ上下 下降端
LD R4108                 ; INDEX 4ST 治具ｴｱｰ上下 上昇端
AND R4109                ; INDEX 4ST 治具ｴｱｰ上下 下降端
ORL
ANL
TMR @301 #30             ; ST4 CY Err TIM 01
CON
AND @T301                ; ST4 CY Err TIM 01
DW #4109 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4109               ; Cylinder Error 4109
LD R6604                 ; INDEX 4ST 治具 ｸﾗﾝﾌﾟｴｱｰ ON
LDB R4114                ; INDEX 4ST 治具ｸﾗﾝﾌﾟ 閉じ圧確認
LD R4114                 ; INDEX 4ST 治具ｸﾗﾝﾌﾟ 閉じ圧確認
AND R4115                ; INDEX 4ST 治具ｸﾗﾝﾌﾟ 開き圧確認
ORL
ANL
TMR @302 #30             ; ST4 CY Err TIM 02
CON
AND @T302                ; ST4 CY Err TIM 02
DW #4114 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4114               ; Cylinder Error 4114
LD R6602                 ; INDEX 4ST 治具 戻しｴｱｰ ON
LDB R4115                ; INDEX 4ST 治具ｸﾗﾝﾌﾟ 開き圧確認
LD R4114                 ; INDEX 4ST 治具ｸﾗﾝﾌﾟ 閉じ圧確認
AND R4115                ; INDEX 4ST 治具ｸﾗﾝﾌﾟ 開き圧確認
ORL
ANL
TMR @303 #30             ; ST4 CY Err TIM 03
CON
AND @T303                ; ST4 CY Err TIM 03
DW #4115 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4115               ; Cylinder Error 4115
LD R6812                 ; 4ST 除材ﾊﾝﾄﾞ ﾁｬｯｸ 閉
LDB R4700                ; 4ST 除材ﾊﾝﾄﾞ ﾁｬｯｸ 閉端
LD R4700                 ; 4ST 除材ﾊﾝﾄﾞ ﾁｬｯｸ 閉端
AND R4701                ; 4ST 除材ﾊﾝﾄﾞ ﾁｬｯｸ 開端
ORL
ANL
TMR @304 #30             ; ST4 CY Err TIM 04
CON
AND @T304                ; ST4 CY Err TIM 04
DW #4700 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4700               ; Cylinder Error 4700
LD R6813                 ; 4ST 除材ﾊﾝﾄﾞ ﾁｬｯｸ 開
LDB R4701                ; 4ST 除材ﾊﾝﾄﾞ ﾁｬｯｸ 開端
LD R4700                 ; 4ST 除材ﾊﾝﾄﾞ ﾁｬｯｸ 閉端
AND R4701                ; 4ST 除材ﾊﾝﾄﾞ ﾁｬｯｸ 開端
ORL
ANL
TMR @305 #30             ; ST4 CY Err TIM 05
CON
AND @T305                ; ST4 CY Err TIM 05
DW #4701 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4701               ; Cylinder Error 4701
LD R6810                 ; 4ST 除材ﾊﾝﾄﾞ 下降
LDB R4702                ; 4ST 除材ﾊﾝﾄﾞ 下降端
LD R4702                 ; 4ST 除材ﾊﾝﾄﾞ 下降端
AND R4703                ; 4ST 除材ﾊﾝﾄﾞ 上昇端
ORL
ANL
TMR @306 #30             ; ST4 CY Err TIM 06
CON
AND @T306                ; ST4 CY Err TIM 06
DW #4702 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4702               ; Cylinder Error 4702
LD R6811                 ; 4ST 除材ﾊﾝﾄﾞ 上昇
LDB R4703                ; 4ST 除材ﾊﾝﾄﾞ 上昇端
LD R4702                 ; 4ST 除材ﾊﾝﾄﾞ 下降端
AND R4703                ; 4ST 除材ﾊﾝﾄﾞ 上昇端
ORL
ANL
TMR @307 #30             ; ST4 CY Err TIM 07
CON
AND @T307                ; ST4 CY Err TIM 07
DW #4703 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4703               ; Cylinder Error 4703
LD R6808                 ; 4ST 良品ｶｰﾄﾘｯｼﾞ 排出 前進
LDB R4704                ; 4ST 良品ｶｰﾄﾘｯｼﾞ 排出 前進端
LD R4704                 ; 4ST 良品ｶｰﾄﾘｯｼﾞ 排出 前進端
AND R4705                ; 4ST 良品ｶｰﾄﾘｯｼﾞ 排出 後退端
ORL
ANL
TMR @308 #30             ; ST4 CY Err TIM 08
CON
AND @T308                ; ST4 CY Err TIM 08
DW #4704 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4704               ; Cylinder Error 4704
LDB R6808                ; 4ST 良品ｶｰﾄﾘｯｼﾞ 排出 前進
LDB R4705                ; 4ST 良品ｶｰﾄﾘｯｼﾞ 排出 後退端
LD R4704                 ; 4ST 良品ｶｰﾄﾘｯｼﾞ 排出 前進端
AND R4705                ; 4ST 良品ｶｰﾄﾘｯｼﾞ 排出 後退端
ORL
ANL
TMR @309 #30             ; ST4 CY Err TIM 09
CON
AND @T309                ; ST4 CY Err TIM 09
DW #4705 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4705               ; Cylinder Error 4705
LD R6806                 ; 4ST 不良品ｶｰﾄﾘｯｼﾞ 排出 前進
LDB R4706                ; 4ST 不良品ｶｰﾄﾘｯｼﾞ 排出 前進端
LD R4706                 ; 4ST 不良品ｶｰﾄﾘｯｼﾞ 排出 前進端
AND R4707                ; 4ST 不良品ｶｰﾄﾘｯｼﾞ 排出 後退端
ORL
ANL
TMR @310 #30             ; ST4 CY Err TIM 10
CON
AND @T310                ; ST4 CY Err TIM 10
DW #4706 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4706               ; Cylinder Error 4706
LDB R6806                ; 4ST 不良品ｶｰﾄﾘｯｼﾞ 排出 前進
LDB R4707                ; 4ST 不良品ｶｰﾄﾘｯｼﾞ 排出 後退端
LD R4706                 ; 4ST 不良品ｶｰﾄﾘｯｼﾞ 排出 前進端
AND R4707                ; 4ST 不良品ｶｰﾄﾘｯｼﾞ 排出 後退端
ORL
ANL
TMR @311 #30             ; ST4 CY Err TIM 11
CON
AND @T311                ; ST4 CY Err TIM 11
DW #4707 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4707               ; Cylinder Error 4707
LD R6804                 ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 下降
LDB R4708                ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 下降端
LD R4708                 ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 下降端
AND R4709                ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 上昇端
ORL
ANL
TMR @312 #30             ; ST4 CY Err TIM 12
CON
AND @T312                ; ST4 CY Err TIM 12
DW #4708 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4708               ; Cylinder Error 4708
LDB R6804                ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 下降
LDB R4709                ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 上昇端
LD R4708                 ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 下降端
AND R4709                ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 上昇端
ORL
ANL
TMR @313 #30             ; ST4 CY Err TIM 13
CON
AND @T313                ; ST4 CY Err TIM 13
DW #4709 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4709               ; Cylinder Error 4709
LD R6802                 ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 前進
LDB R4710                ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 前進端
LD R4710                 ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 前進端
AND R4711                ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 後退端
ORL
ANL
TMR @314 #30             ; ST4 CY Err TIM 14
CON
AND @T314                ; ST4 CY Err TIM 14
DW #4710 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4710               ; Cylinder Error 4710
LD R6803                 ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 後退
LDB R4711                ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 後退端
LD R4710                 ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 前進端
AND R4711                ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 後退端
ORL
ANL
TMR @315 #30             ; ST4 CY Err TIM 15
CON
AND @T315                ; ST4 CY Err TIM 15
DW #4711 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4711               ; Cylinder Error 4711
LD R6800                 ; 4ST IC書込 書込ﾍｯﾄﾞ 前進
LDB R4712                ; 4ST IC書込 書込ﾍｯﾄﾞ 前進端
LD R4712                 ; 4ST IC書込 書込ﾍｯﾄﾞ 前進端
AND R4713                ; 4ST IC書込 書込ﾍｯﾄﾞ 後退端
ORL
ANL
TMR @316 #30             ; ST4 CY Err TIM 16
CON
AND @T316                ; ST4 CY Err TIM 16
DW #4712 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4712               ; Cylinder Error 4712
LDB R6800                ; 4ST IC書込 書込ﾍｯﾄﾞ 前進
LDB R4713                ; 4ST IC書込 書込ﾍｯﾄﾞ 後退端
LD R4712                 ; 4ST IC書込 書込ﾍｯﾄﾞ 前進端
AND R4713                ; 4ST IC書込 書込ﾍｯﾄﾞ 後退端
ORL
ANL
TMR @317 #30             ; ST4 CY Err TIM 17
CON
AND @T317                ; ST4 CY Err TIM 17
DW #4713 DM1209          ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4713               ; Cylinder Error 4713
;
MCR
;TASK4 ｼﾘﾝﾀﾞｰ ｾﾝｻｰｴﾗｰ表示
LD>= DM1209 #4108        ; ｾﾝｻｰｴﾗｰ No.
AND<= DM1209 #4109       ; ｾﾝｻｰｴﾗｰ No.
LD>= DM1209 #4700        ; ｾﾝｻｰｴﾗｰ No.
AND<= DM1209 #4713       ; ｾﾝｻｰｴﾗｰ No.
ORL
ANB R40010               ; ERROR
ANB @R100                ; ST4 ｼﾘﾝﾀﾞｰｴﾗｰ中
SET @R100                ; ST4 ｼﾘﾝﾀﾞｰｴﾗｰ中
CON
SET R40010               ; ERROR
CON
SET R41003               ; TASK4 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
SET @R101                ; 401
MOV #91 DM1200           ; 通常ｴﾗｰ番号
STG @R101                ; 401
AND R40010               ; ERROR
JMP @R102                ; 402
STG @R102                ; 402
ANB R40010               ; ERROR
RES R41003               ; TASK4 ERROR中
CON
RES @R100                ; ST4 ｼﾘﾝﾀﾞｰｴﾗｰ中
CON
DW #0 DM1209             ; ｾﾝｻｰｴﾗｰ No.
CON
ZRES MR4000 MR5915       ; Cylinder Error 4000  Cylinder Error 5915
CON
ENDS
;
MCR
END
ENDH
