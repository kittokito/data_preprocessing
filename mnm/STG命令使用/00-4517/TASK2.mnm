DEVICE:53
;MODULE:TASK2
;MODULE_TYPE:0
;***************************************
; 非常停止
; Emergency Stop 
;***************************************
LD R40013                ; 非常停止
OR @MR000                ; Emergency STOP
ZRES @MR100 @MR4915
CON
OUT @MR000               ; Emergency STOP
TMR @39 #5               ; ｳｴｲﾄﾀｲﾏｰ39
LD @T39                  ; ｳｴｲﾄﾀｲﾏｰ39
MDSTOP TASK2
;動作ﾊﾟﾗﾒｰﾀ
;Operation Parameter
LD= DM1402 #1            ; AUTO_PARAMETER
OUT @MR013               ; TASK2 AUTO Parameter OK
;***************************************
; ﾎﾟｰｽﾞ ･ ｴﾗｰ 監視
; Pause ･ Error Check 
;***************************************
LDB R40005               ; ﾎﾟｰｽﾞ中
ANB R41001               ; TASK2 ERROR中
OUT @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
;Flags.
LD R4004                 ; INDEX 2ST ｶｰﾄﾘｯｼﾞ浮き確認 (外)
AND R4005                ; INDEX 2ST ｶｰﾄﾘｯｼﾞ浮き確認 (内)
MPS
AND R4003                ; INDEX 2ST ｶｰﾄﾘｯｼﾞ有
OUT @MR001               ; 2ST ﾜｰｸ有
MPP
ANB R4003                ; INDEX 2ST ｶｰﾄﾘｯｼﾞ有
OUT @MR002               ; 2ST ﾜｰｸ無
;流量出力
LD CR2002                ; 常時ON
MOV R5200 DM3540         ; Y ﾘｰｸ流量現在値
MPS
LDP @MR800               ; Yellow Leak OK
ORP @MR801               ; Yellow Leak NG
ANL
MOV R5200 DM3541         ; Y ﾘｰｸ検査時流量
MRD
MOV R5300 DM3542         ; M ﾘｰｸ流量現在値
MRD
LDP @MR802               ; Magenta Leak OK
ORP @MR803               ; Magenta Leak NG
ANL
MOV R5300 DM3542         ; M ﾘｰｸ流量現在値
MRD
MOV R5400 DM3544         ; C ﾘｰｸ流量現在値
MRD
LDP @MR804               ; Cyan Leak OK
ORP @MR805               ; Cyan Leak NG
ANL
MOV R5400 DM3544         ; C ﾘｰｸ流量現在値
MRD
MOV R5500 DM3546         ; B ﾘｰｸ流量現在値
MPP
LDP @MR806               ; Black Leak OK
ORP @MR807               ; Black Leak NG
ANL
MOV R5500 DM3546         ; B ﾘｰｸ流量現在値
;<h1/>原点復帰動作
;HOME RETURN OPERATION 
STG R41201               ; TASK2原点復帰起動
SET R40301               ; TASK2動作中
CON
AND R40400               ; 動作開始
ZRES @MR800 @MR807       ; Yellow Leak OK  Black Leak NG
CON
JMP @MR1000              ; TASK2 原点復帰開始
STG @MR1000              ; TASK2 原点復帰開始
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
ZRES MR6400 MR6407       ; ﾘｰｸ検査  元圧空ON  Black     ﾘｰｸ検査ON
CON
RES MR6410               ; 2ST Color ﾘｰｸ検査 検査ﾍｯﾄﾞ下降
CON
RES MR6412               ; 2ST Black ﾘｰｸ検査 検査ﾍｯﾄﾞ下降
CON
ANB R4302                ; 2ST Color ﾘｰｸ検査 検査ﾍｯﾄﾞ下降端
AND R4303                ; 2ST Color ﾘｰｸ検査 検査ﾍｯﾄﾞ上昇端
ANB R4304                ; 2ST Black ﾘｰｸ検査 検査ﾍｯﾄﾞ下降端
AND R4305                ; 2ST Black ﾘｰｸ検査 検査ﾍｯﾄﾞ上昇端
JMP @MR1001
STG @MR1001
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR6414               ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降
CON
SET MR6415               ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇
CON
RES MR6500               ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降
CON
SET MR6501               ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇
CON
ANB R4306                ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降端
AND R4307                ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇端
ANB R4308                ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降端
AND R4309                ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇端
JMP @MR1002
STG @MR1002
ANB @MR4002              ; ﾘｰｸ検査回路大気開放中
SET @MR4000              ; ﾘｰｸ検査回路大気開放
CON
JMP @MR1003
STG @MR1003
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR6408               ; 2ST ﾘｰｸ検査 Color側行
CON
SET MR6409               ; 2ST ﾘｰｸ検査 Black側行
CON
ANB R4300                ; 2ST ﾘｰｸ検査 Color側端
AND R4301                ; 2ST ﾘｰｸ検査 Black側端
SET R18600               ; 2ST ﾘｰｸﾍｯﾄﾞ退避中
CON
JMP @MR1004
STG @MR1004
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND R18601               ; 3ST 注入ﾍｯﾄﾞ原点復帰完了
LD R42500                ; Black 選択
AND R18811               ; RB2 Black注入領域
LD R42501                ; 3CL 選択
AND R18812               ; RB2 Color注入領域
ORL
ANL
RES R18600               ; 2ST ﾘｰｸﾍｯﾄﾞ退避中
CON
JMP @MR1005
STG @MR1005
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
ANB R18601               ; 3ST 注入ﾍｯﾄﾞ原点復帰完了
MPS
LD R42500                ; Black 選択
ANB R4300                ; 2ST ﾘｰｸ検査 Color側端
AND R4301                ; 2ST ﾘｰｸ検査 Black側端
ANL
JMP @MR1100
MPP
LD R42501                ; 3CL 選択
ANB R4301                ; 2ST ﾘｰｸ検査 Black側端
AND R4300                ; 2ST ﾘｰｸ検査 Color側端
ANL
JMP @MR1100
;圧開放 / Air release
STG @MR1100
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR4001              ; ﾘｰｸ検査回路大気開放完了
RES @MR4001              ; ﾘｰｸ検査回路大気開放完了
CON
JMP @MR1315
;
STG @MR1315
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
SET R42301               ; ST2 1ｻｲｸﾙ終了
CON
RES R40301               ; TASK2動作中
CON
ENDS
;<h1/>自動運転
;AUTO OERATION
STG R41301               ; TASK2 AUTO起動
SET R40301               ; TASK2動作中
CON
AND R40400               ; 動作開始
JMP @MR1500              ; TASK2 AUTO開始
; 動作パラメーター確認
; Operating Parameter Check
STG @MR1500              ; TASK2 AUTO開始
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
AND @MR013               ; TASK2 AUTO Parameter OK
JMP @MR1501
MPP
ANB @MR013               ; TASK2 AUTO Parameter OK
JMP @MR2900              ; AUTO終了処理
STG @MR1501
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
AND R42500               ; Black 選択
RES MR6501               ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇
CON
SET MR6500               ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降
CON
AND R4308                ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降端
JMP @MR1600              ; ｻｲｸﾙ先頭
MPP
AND R42501               ; 3CL 選択
RES MR6415               ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇
CON
SET MR6414               ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降
CON
AND R4306                ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降端
JMP @MR1600              ; ｻｲｸﾙ先頭
;<h1/>Main1
;Waiting Start signal from Index / Indexより開始指示待ち 
STG @MR1600              ; ｻｲｸﾙ先頭
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
LD R40315                ; TASK16動作中
AND R42205               ; Indexより動作開始指示
ANL
SET R40501               ; 処理時間2計測開始
CON
JMP @MR1601              ; ワーク確認
MPP
LDB R40315               ; TASK16動作中
AND R40011               ; HOLD
ANL
JMP @MR2900              ; AUTO終了処理
;Cartridge Check / ﾜｰｸﾁｪｯｸ
STG @MR1601              ; ワーク確認
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
LD R4004                 ; INDEX 2ST ｶｰﾄﾘｯｼﾞ浮き確認 (外)
AND R4005                ; INDEX 2ST ｶｰﾄﾘｯｼﾞ浮き確認 (内)
ANL
MPS
LD R4003                 ; INDEX 2ST ｶｰﾄﾘｯｼﾞ有
AND= DM1352 #0           ; NGﾜｰｸﾌﾗｸﾞ ST2
ANL
JMP @MR1603              ; ｸﾗﾝﾌﾟ閉じ
MPP
LDB R4003                ; INDEX 2ST ｶｰﾄﾘｯｼﾞ有
OR<> DM1352 #0           ; NGﾜｰｸﾌﾗｸﾞ ST2
ANL
JMP @MR2800              ; ｻｲｸﾙ終了へ
MPP
LDB R4004                ; INDEX 2ST ｶｰﾄﾘｯｼﾞ浮き確認 (外)
ORB R4005                ; INDEX 2ST ｶｰﾄﾘｯｼﾞ浮き確認 (内)
ANL
SET @MR108               ; Err33 ﾜｰｸ浮き
CON
JMP @MR1602
;***** ﾜｰｸ浮きの時 / When Work flotage check  *****
STG @MR1602
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR111               ; Err33 TASK2 Err3解除完了
RES @MR111               ; Err33 TASK2 Err3解除完了
CON
JMP @MR1601              ; ワーク確認
;***
;ﾜｰｸｸﾗﾝﾌﾟ  /  Cartridge clamp
STG @MR1603              ; ｸﾗﾝﾌﾟ閉じ
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
SET MR6608               ; 2ST 治具  Close
CON
AND R4112                ; INDEX 2ST 治具ｸﾗﾝﾌﾟ 閉じ圧確認
MPS
LDB R40002               ; ﾒﾝﾃﾅﾝｽ動作中
OR<> DM1405 #3           ; STEP Action selection
ANL
JMP @MR1604              ; 良品ﾏｰｸ検査
MPP
LD R40002                ; ﾒﾝﾃﾅﾝｽ動作中
AND= DM1405 #3           ; STEP Action selection
ANL
JMP @MR1608              ; ﾘｰｸ検査前準備
;良品ﾏｰｸ検査  /  OK marking check
STG @MR1604              ; 良品ﾏｰｸ検査
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
AND LR005                ; AP05_良品マーク検査無し
JMP @MR1608              ; ﾘｰｸ検査前準備
MPP
LDB LR005                ; AP05_良品マーク検査無し
ANB @MR4602              ; 良品ﾏｰｸ検査中
ANL
SET @MR4600              ; 良品ﾏｰｸ検査
CON
JMP @MR1605
STG @MR1605
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
ANB @MR4602              ; 良品ﾏｰｸ検査中
MPS
AND @MR4601              ; 良品ﾏｰｸ検査完了
JMP @MR1607              ; OK
MPP
AND @MR4603              ; 良品ﾏｰｸ検査結果異常
INC.D DM1606             ; 生産カウンタ4
CON
JMP @MR1606              ; NG→排出へ
STG @MR1606              ; NG→排出へ
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
DW #20 DM1352            ; NGﾜｰｸﾌﾗｸﾞ ST2
CON
RES @MR4603              ; 良品ﾏｰｸ検査結果異常
CON
JMP @MR2800              ; ｻｲｸﾙ終了へ
STG @MR1607              ; OK
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES @MR4601              ; 良品ﾏｰｸ検査完了
CON
JMP @MR1608              ; ﾘｰｸ検査前準備
;検査前準備  /  Leak check preparation
STG @MR1608              ; ﾘｰｸ検査前準備
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
AND LR001                ; AP01_ﾘｰｸ検査無し
JMP @MR2800              ; ｻｲｸﾙ終了へ
MPP
LDB LR001                ; AP01_ﾘｰｸ検査無し
ANB @MR4102              ; ﾘｰｸ検査準備中
ANB @MR4101              ; ﾘｰｸ検査準備完了
ANL
SET @MR4100              ; ﾘｰｸ検査準備
CON
JMP @MR1609
STG @MR1609
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
ANB @MR4102              ; ﾘｰｸ検査準備中
AND @MR4101              ; ﾘｰｸ検査準備完了
RES @MR4101              ; ﾘｰｸ検査準備完了
CON
JMP @MR1610
STG @MR1610
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
AND R42500               ; Black 選択
JMP @MR1700              ; BK check
MPP
AND R42501               ; 3CL 選択
JMP @MR1800              ; CL check
;1)Black
STG @MR1700              ; BK check
SET @MR900               ; PACK2-1
CON
SET MR6412               ; 2ST Black ﾘｰｸ検査 検査ﾍｯﾄﾞ下降
CON
AND R4304                ; 2ST Black ﾘｰｸ検査 検査ﾍｯﾄﾞ下降端
ZRES @MR806 @MR807       ; Black Leak OK  Black Leak NG
CON
JMP @MR1701
STG @MR1701
ANB @MR4502              ; B ﾘｰｸ検査中
ANB @MR4501              ; B ﾘｰｸ検査完了
SET @MR4500              ; B ﾘｰｸ検査
CON
JMP @MR1702
STG @MR1702
ANB @MR4502              ; B ﾘｰｸ検査中
AND @MR4501              ; B ﾘｰｸ検査完了
RES @MR4501              ; B ﾘｰｸ検査完了
CON
JMP @MR1703
STG @MR1703
RES MR6412               ; 2ST Black ﾘｰｸ検査 検査ﾍｯﾄﾞ下降
CON
AND R4305                ; 2ST Black ﾘｰｸ検査 検査ﾍｯﾄﾞ上昇端
RES @MR900               ; PACK2-1
CON
JMP @MR1704
STG @MR1704
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
AND @MR806               ; Black Leak OK
JMP @MR1707
MPP
AND @MR807               ; Black Leak NG
SET @MR308               ; Err41 Blackﾘｰｸ検査NG
CON
JMP @MR1705
STG @MR1705
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR311               ; Err41 TASK2 Err41解除完了
ZRES @MR806 @MR807       ; Black Leak OK  Black Leak NG
CON
RES @MR311               ; Err41 TASK2 Err41解除完了
CON
JMP @MR1706
STG @MR1706
MPS
AND= DM1207 #1           ; ｴﾗｰ復帰SW番号(ﾕｰｻﾞｰ用)
JMP @MR1700              ; BK check
MPP
AND= DM1207 #4           ; ｴﾗｰ復帰SW番号(ﾕｰｻﾞｰ用)
INC.D DM1608             ; 生産カウンタ5
CON
DW #28 DM1352            ; NGﾜｰｸﾌﾗｸﾞ ST2
CON
JMP @MR2800              ; ｻｲｸﾙ終了へ
STG @MR1707
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES @MR806               ; Black Leak OK
CON
JMP @MR2800              ; ｻｲｸﾙ終了へ
;2)Color
STG @MR1800              ; CL check
SET @MR901               ; PACK2-2
CON
SET MR6410               ; 2ST Color ﾘｰｸ検査 検査ﾍｯﾄﾞ下降
CON
AND R4302                ; 2ST Color ﾘｰｸ検査 検査ﾍｯﾄﾞ下降端
ZRES @MR800 @MR805       ; Yellow Leak OK  Cyan Leak NG
CON
JMP @MR1801              ; Yellow
STG @MR1801              ; Yellow
ANB @MR4202              ; Y ﾘｰｸ検査中
ANB @MR4201              ; Y ﾘｰｸ検査完了
SET @MR4200              ; Y ﾘｰｸ検査
CON
JMP @MR1802
STG @MR1802
ANB @MR4202              ; Y ﾘｰｸ検査中
AND @MR4201              ; Y ﾘｰｸ検査完了
RES @MR4201              ; Y ﾘｰｸ検査完了
CON
JMP @MR1803              ; Magenta
STG @MR1803              ; Magenta
ANB @MR4302              ; M ﾘｰｸ検査中
ANB @MR4301              ; M ﾘｰｸ検査完了
SET @MR4300              ; M ﾘｰｸ検査
CON
JMP @MR1804
STG @MR1804
ANB @MR4302              ; M ﾘｰｸ検査中
AND @MR4301              ; M ﾘｰｸ検査完了
RES @MR4301              ; M ﾘｰｸ検査完了
CON
JMP @MR1805              ; Cyan
STG @MR1805              ; Cyan
ANB @MR4402              ; C ﾘｰｸ検査中
ANB @MR4401              ; C ﾘｰｸ検査完了
SET @MR4400              ; C ﾘｰｸ検査
CON
JMP @MR1806
STG @MR1806
ANB @MR4402              ; C ﾘｰｸ検査中
AND @MR4401              ; C ﾘｰｸ検査完了
RES @MR4401              ; C ﾘｰｸ検査完了
CON
JMP @MR1807
STG @MR1807
RES MR6410               ; 2ST Color ﾘｰｸ検査 検査ﾍｯﾄﾞ下降
CON
AND R4303                ; 2ST Color ﾘｰｸ検査 検査ﾍｯﾄﾞ上昇端
RES @MR901               ; PACK2-2
CON
JMP @MR1808
STG @MR1808
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
LD @MR800                ; Yellow Leak OK
AND @MR802               ; Magenta Leak OK
AND @MR804               ; Cyan Leak OK
ANL
JMP @MR1815
MRD
LD @MR801                ; Yellow Leak NG
AND @MR802               ; Magenta Leak OK
AND @MR804               ; Cyan Leak OK
ANL
SET @MR112               ; Err34 Y ﾘｰｸ検査NG
CON
JMP @MR1809
MRD
LD @MR800                ; Yellow Leak OK
AND @MR803               ; Magenta Leak NG
AND @MR804               ; Cyan Leak OK
ANL
SET @MR200               ; Err35 M ﾘｰｸ検査NG
CON
JMP @MR1809
MRD
LD @MR800                ; Yellow Leak OK
AND @MR802               ; Magenta Leak OK
AND @MR805               ; Cyan Leak NG
ANL
SET @MR204               ; Err36 C  ﾘｰｸ検査NG
CON
JMP @MR1809
MRD
LD @MR801                ; Yellow Leak NG
AND @MR803               ; Magenta Leak NG
AND @MR804               ; Cyan Leak OK
ANL
SET @MR208               ; Err37 YM ﾘｰｸ検査NG
CON
JMP @MR1809
MRD
LD @MR801                ; Yellow Leak NG
AND @MR802               ; Magenta Leak OK
AND @MR805               ; Cyan Leak NG
ANL
SET @MR212               ; Err38 YC ﾘｰｸ検査NG
CON
JMP @MR1809
MRD
LD @MR800                ; Yellow Leak OK
AND @MR803               ; Magenta Leak NG
AND @MR805               ; Cyan Leak NG
ANL
SET @MR300               ; Err39 MC ﾘｰｸ検査NG
CON
JMP @MR1809
MRD
LD @MR801                ; Yellow Leak NG
AND @MR803               ; Magenta Leak NG
AND @MR805               ; Cyan Leak NG
ANL
SET @MR304               ; Err40 YMC ﾘｰｸ検査NG
CON
JMP @MR1809
MRD
AND @MR801               ; Yellow Leak NG
BOUT @DM10 #0            ; ﾘｰｸNG箇所記憶
MRD
AND @MR803               ; Magenta Leak NG
BOUT @DM10 #1            ; ﾘｰｸNG箇所記憶
MRD
AND @MR805               ; Cyan Leak NG
BOUT @DM10 #2            ; ﾘｰｸNG箇所記憶
MPP
CAL+ #20 @DM10 @DM12     ; ﾘｰｸNG箇所記憶  NGﾜｰｸﾌﾗｸﾞ記憶
STG @MR1809
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
LDB @MR115               ; Err34 TASK2 Err4解除完了
ANB @MR203               ; Err35 TASK2 Err5解除完了
ANB @MR207               ; Err36 TASK2 Err3解除完了
ANB @MR211               ; Err37 TASK2 Err4解除完了
ANB @MR215               ; Err38 TASK2 Err5解除完了
ANB @MR303               ; Err39 TASK2 Err9解除完了
ANB @MR307               ; Err40 TASK2 Err10解除完了
INV
OR CR2003                ; 常時OFF
ANL
RES @MR115               ; Err34 TASK2 Err4解除完了
CON
RES @MR203               ; Err35 TASK2 Err5解除完了
CON
RES @MR207               ; Err36 TASK2 Err3解除完了
CON
RES @MR211               ; Err37 TASK2 Err4解除完了
CON
RES @MR215               ; Err38 TASK2 Err5解除完了
CON
RES @MR303               ; Err39 TASK2 Err9解除完了
CON
RES @MR307               ; Err40 TASK2 Err10解除完了
CON
JMP @MR1810
STG @MR1810
ZRES @MR800 @MR805       ; Yellow Leak OK  Cyan Leak NG
CON
MPS
AND= DM1207 #1           ; ｴﾗｰ復帰SW番号(ﾕｰｻﾞｰ用)
JMP @MR1800              ; CL check
MPP
AND= DM1207 #4           ; ｴﾗｰ復帰SW番号(ﾕｰｻﾞｰ用)
MOV @DM12 DM1352         ; NGﾜｰｸﾌﾗｸﾞ記憶  NGﾜｰｸﾌﾗｸﾞ ST2
INC.D DM1608             ; 生産カウンタ5
CON
DW #28 DM1352            ; NGﾜｰｸﾌﾗｸﾞ ST2
CON
JMP @MR1815
STG @MR1815
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
ZRES @MR800 @MR805       ; Yellow Leak OK  Cyan Leak NG
CON
JMP @MR2800              ; ｻｲｸﾙ終了へ
;<h1/>Cycle Finish / ｻｲｸﾙ終了
STG @MR2800              ; ｻｲｸﾙ終了へ
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR6608               ; 2ST 治具  Close
CON
ANB R4112                ; INDEX 2ST 治具ｸﾗﾝﾌﾟ 閉じ圧確認
JMP @MR2801
STG @MR2801
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
TMH @1 #2                ; ｳｴｲﾄﾀｲﾏｰ01
CON
AND @T1                  ; ｳｴｲﾄﾀｲﾏｰ01
MPS
ANB R40002               ; ﾒﾝﾃﾅﾝｽ動作中
JMP @MR2802
MPP
AND R40002               ; ﾒﾝﾃﾅﾝｽ動作中
JMP @MR3008              ; STEP 終了処理
STG @MR2802
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
SET R40601               ; 処理時間2取得
CON
SET R42301               ; ST2 1ｻｲｸﾙ終了
CON
JMP @MR2803
STG @MR2803
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
ANB R42301               ; ST2 1ｻｲｸﾙ終了
JMP @MR1600              ; ｻｲｸﾙ先頭
;AUTO 終了処理
;AUTO Finish Operation
STG @MR2900              ; AUTO終了処理
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR6500               ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降
CON
SET MR6501               ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇
CON
RES MR6414               ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降
CON
SET MR6415               ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇
CON
AND R4309                ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇端
AND R4307                ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇端
JMP @MR2901
STG @MR2901
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES R40301               ; TASK2動作中
CON
ENDS
;<h1/>ｽﾃｯﾌﾟ運転
;STEP OERATION
STG R41401               ; TASK2 STEP起動
SET R40301               ; TASK2動作中
CON
AND R40400               ; 動作開始
JMP @MR3000              ; TASK2 STEP開始
;TASK1 STEP CONDITION CHECK
;1:通常運転				2:ﾏｰｷﾝｸﾞ検査			3:ﾘｰｸ検査				4:ﾉｽﾞﾙ詰まり確認	
;5:						6:						7:						8:
;
STG @MR3000              ; TASK2 STEP開始
MPS
AND= DM1404 #2           ; STEP Group selection
MPS
AND= DM1405 #1           ; STEP Action selection
JMP @MR3100              ; STEP前準備
MRD
AND= DM1405 #2           ; STEP Action selection
JMP @MR3300              ; STEP2 良品ﾏｰｸ検査
MRD
AND= DM1405 #3           ; STEP Action selection
JMP @MR3100              ; STEP前準備
MRD
AND= DM1405 #4           ; STEP Action selection
JMP @MR3400              ; STEP4 ﾉｽﾞﾙ詰まり確認
MPP
LD<> DM1405 #1           ; STEP Action selection
AND<> DM1405 #2          ; STEP Action selection
AND<> DM1405 #3          ; STEP Action selection
AND<> DM1405 #4          ; STEP Action selection
ANL
JMP @MR3008              ; STEP 終了処理
MPP
AND<> DM1404 #2          ; STEP Group selection
JMP @MR3008              ; STEP 終了処理
;STEP終了処理
STG @MR3008              ; STEP 終了処理
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR6500               ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降
CON
SET MR6501               ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇
CON
RES MR6414               ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降
CON
SET MR6415               ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇
CON
AND R4309                ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇端
AND R4307                ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇端
JMP @MR3009
STG @MR3009
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
SET R40012               ; HOLD要求
CON
JMP @MR3010
STG @MR3010
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES R40301               ; TASK2動作中
CON
ENDS
;STEP前準備  /  STEP preparation
STG @MR3100              ; STEP前準備
DW #0 DM1352             ; NGﾜｰｸﾌﾗｸﾞ ST2
CON
MPS
AND R42500               ; Black 選択
RES MR6501               ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇
CON
SET MR6500               ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降
CON
AND R4308                ; 2ST Black ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降端
JMP @MR1601              ; ワーク確認
MPP
AND R42501               ; 3CL 選択
RES MR6415               ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 上昇
CON
SET MR6414               ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降
CON
AND R4306                ; 2ST Color ﾘｰｸ検査 ﾒﾝﾃﾅﾝｽ 下降端
JMP @MR1601              ; ワーク確認
;STEP2:良品ﾏｰｸ検査  /  STEP2 : OK marking check
STG @MR3300              ; STEP2 良品ﾏｰｸ検査
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
SET MR6608               ; 2ST 治具  Close
CON
AND R4112                ; INDEX 2ST 治具ｸﾗﾝﾌﾟ 閉じ圧確認
TMR @16 #5               ; ｳｴｲﾄﾀｲﾏｰ16
CON
AND @T16                 ; ｳｴｲﾄﾀｲﾏｰ16
JMP @MR3301
STG @MR3301
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
ANB @MR4602              ; 良品ﾏｰｸ検査中
SET @MR4600              ; 良品ﾏｰｸ検査
CON
JMP @MR3302
STG @MR3302
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
ANB @MR4602              ; 良品ﾏｰｸ検査中
LD @MR4601               ; 良品ﾏｰｸ検査完了
OR @MR4603               ; 良品ﾏｰｸ検査結果異常
ANL
JMP @MR3303
STG @MR3303
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES @MR4601              ; 良品ﾏｰｸ検査完了
CON
RES @MR4603              ; 良品ﾏｰｸ検査結果異常
CON
ANB @MR4601              ; 良品ﾏｰｸ検査完了
ANB @MR4603              ; 良品ﾏｰｸ検査結果異常
JMP @MR3304
STG @MR3304
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR6608               ; 2ST 治具  Close
CON
JMP @MR3008              ; STEP 終了処理
;STEP4:ﾉｽﾞﾙ詰まりﾁｪｯｸ【検査前準備動作】  /  STEP4 : Nozzle jam check
STG @MR3400              ; STEP4 ﾉｽﾞﾙ詰まり確認
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
SET MR6608               ; 2ST 治具  Close
CON
AND R4112                ; INDEX 2ST 治具ｸﾗﾝﾌﾟ 閉じ圧確認
TMR @17 #5               ; ｳｴｲﾄﾀｲﾏｰ17
CON
AND @T17                 ; ｳｴｲﾄﾀｲﾏｰ17
JMP @MR3401
STG @MR3401
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
ANB @MR4102              ; ﾘｰｸ検査準備中
ANB @MR4101              ; ﾘｰｸ検査準備完了
SET @MR4100              ; ﾘｰｸ検査準備
CON
JMP @MR3402
STG @MR3402
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
ANB @MR4102              ; ﾘｰｸ検査準備中
AND @MR4101              ; ﾘｰｸ検査準備完了
RES @MR4101              ; ﾘｰｸ検査準備完了
CON
JMP @MR3403
STG @MR3403
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR6608               ; 2ST 治具  Close
CON
JMP @MR3008              ; STEP 終了処理
;<h1/>ｻﾌﾞﾙｰﾁﾝ
;<h1/>　検査回路大気解放 / Leak Check piping air release
STG @MR4000              ; ﾘｰｸ検査回路大気開放
SET @MR4002              ; ﾘｰｸ検査回路大気開放中
CON
JMP @MR4003
STG @MR4003
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES MR6400               ; ﾘｰｸ検査  元圧空ON
CON
TMH @11 #300             ; ｳｴｲﾄﾀｲﾏｰ11
CON
AND @T11                 ; ｳｴｲﾄﾀｲﾏｰ11
JMP @MR4004
STG @MR4004
SET MR6401               ; Yellow    ﾘｰｸ検査ON
CON
SET MR6402               ; Yellow    大気開放ON
CON
SET MR6403               ; Magenta   ﾘｰｸ検査ON
CON
SET MR6404               ; Magenta  大気開放ON
CON
SET MR6405               ; Cyan      ﾘｰｸ検査ON
CON
SET MR6406               ; Cyan     大気開放ON
CON
SET MR6407               ; Black     ﾘｰｸ検査ON
CON
JMP @MR4005
STG @MR4005
TMH @12 #200             ; ｳｴｲﾄﾀｲﾏｰ12
CON
AND @T12                 ; ｳｴｲﾄﾀｲﾏｰ12
ZRES MR6401 MR6407       ; Yellow    ﾘｰｸ検査ON  Black     ﾘｰｸ検査ON
CON
JMP @MR4006
STG @MR4006
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES @MR4002              ; ﾘｰｸ検査回路大気開放中
CON
SET @MR4001              ; ﾘｰｸ検査回路大気開放完了
CON
ENDS
;<h1/>　ﾘｰｸ検査準備 / Leak check preparation
STG @MR4100              ; ﾘｰｸ検査準備
SET @MR4102              ; ﾘｰｸ検査準備中
CON
JMP @MR4103              ; 元圧確認
;ﾘｰｸ検査前圧力確認 / Pressure check before Leak Detection
STG @MR4103              ; 元圧確認
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
LD R4311                 ; 2ST ﾘｰｸ検査 検査圧確認 OUT1
AND R4312                ; 2ST ﾘｰｸ検査 検査圧確認 OUT2
ANL
JMP @MR4105              ; 流量計元ﾘｰｸ無し確認
MPP
LDB R4311                ; 2ST ﾘｰｸ検査 検査圧確認 OUT1
ORB R4312                ; 2ST ﾘｰｸ検査 検査圧確認 OUT2
ANL
SET @MR104               ; Err32 ﾘｰｸ元圧異常
CON
JMP @MR4104
;***　ﾘｰｸ元圧異常  /  Leak source air error
STG @MR4104
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR107               ; Err32 TASK2 Err2解除完了
RES @MR107               ; Err32 TASK2 Err2解除完了
CON
JMP @MR4103              ; 元圧確認
;***
STG @MR4105              ; 流量計元ﾘｰｸ無し確認
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
SET MR6400               ; ﾘｰｸ検査  元圧空ON
CON
RES MR6401               ; Yellow    ﾘｰｸ検査ON
CON
RES MR6402               ; Yellow    大気開放ON
CON
RES MR6403               ; Magenta   ﾘｰｸ検査ON
CON
RES MR6404               ; Magenta  大気開放ON
CON
RES MR6405               ; Cyan      ﾘｰｸ検査ON
CON
RES MR6406               ; Cyan     大気開放ON
CON
RES MR6407               ; Black     ﾘｰｸ検査ON
CON
JMP @MR4106
STG @MR4106
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
TMH @20 #50              ; ｳｴｲﾄﾀｲﾏｰ20
CON
AND @T20                 ; ｳｴｲﾄﾀｲﾏｰ20
JMP @MR4107
STG @MR4107
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
AND R42500               ; Black 選択
MPS
LD R4400                 ; Black ﾘｰｸ流量計 OUT1
ANB R4401                ; Black ﾘｰｸ流量計 OUT2
ANL
JMP @MR4109              ; 流量計詰まり確認
MPP
LDB R4400                ; Black ﾘｰｸ流量計 OUT1
OR R4401                 ; Black ﾘｰｸ流量計 OUT2
ANL
SET @MR400               ; Err43 流量計設定1異常(ﾘｰｸ)
CON
JMP @MR4108              ; 流量計設定1NG
MPP
AND R42501               ; 3CL 選択
MPS
LD R4402                 ; Cyan ﾘｰｸ流量計 OUT1
ANB R4403                ; Cyan ﾘｰｸ流量計 OUT2
AND R4404                ; Mganta ﾘｰｸ流量計 OUT1
ANB R4405                ; Mganta ﾘｰｸ流量計 OUT2
AND R4406                ; Yellow ﾘｰｸ流量計 OUT1
ANB R4407                ; Yellow ﾘｰｸ流量計 OUT2
ANL
JMP @MR4109              ; 流量計詰まり確認
MPP
LDB R4402                ; Cyan ﾘｰｸ流量計 OUT1
OR R4403                 ; Cyan ﾘｰｸ流量計 OUT2
ORB R4404                ; Mganta ﾘｰｸ流量計 OUT1
OR R4405                 ; Mganta ﾘｰｸ流量計 OUT2
ORB R4406                ; Yellow ﾘｰｸ流量計 OUT1
OR R4407                 ; Yellow ﾘｰｸ流量計 OUT2
ANL
SET @MR400               ; Err43 流量計設定1異常(ﾘｰｸ)
CON
JMP @MR4108              ; 流量計設定1NG
;***　流量計設定値異常1（零点付近でONしない）  /  Flow meter setting error
STG @MR4108              ; 流量計設定1NG
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR403               ; Err43 TASK2 Err43解除完了
RES @MR403               ; Err43 TASK2 Err43解除完了
CON
JMP @MR4105              ; 流量計元ﾘｰｸ無し確認
;***
STG @MR4109              ; 流量計詰まり確認
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
SET MR6400               ; ﾘｰｸ検査  元圧空ON
CON
SET MR6401               ; Yellow    ﾘｰｸ検査ON
CON
RES MR6402               ; Yellow    大気開放ON
CON
SET MR6403               ; Magenta   ﾘｰｸ検査ON
CON
RES MR6404               ; Magenta  大気開放ON
CON
SET MR6405               ; Cyan      ﾘｰｸ検査ON
CON
RES MR6406               ; Cyan     大気開放ON
CON
SET MR6407               ; Black     ﾘｰｸ検査ON
CON
JMP @MR4110
STG @MR4110
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
TMH @21 #50              ; ｳｴｲﾄﾀｲﾏｰ21
CON
AND @T21                 ; ｳｴｲﾄﾀｲﾏｰ21
JMP @MR4111
STG @MR4111
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
MPS
AND R42500               ; Black 選択
MPS
LDB R4400                ; Black ﾘｰｸ流量計 OUT1
AND R4401                ; Black ﾘｰｸ流量計 OUT2
ANL
JMP @MR4115              ; 流量計設定OK
MPP
LD R4400                 ; Black ﾘｰｸ流量計 OUT1
ORB R4401                ; Black ﾘｰｸ流量計 OUT2
ANL
SET @MR404               ; Err44 流量計設定2異常(詰まり)
CON
JMP @MR4112              ; 流量計設定2NG
MPP
AND R42501               ; 3CL 選択
MPS
LDB R4402                ; Cyan ﾘｰｸ流量計 OUT1
AND R4403                ; Cyan ﾘｰｸ流量計 OUT2
ANB R4404                ; Mganta ﾘｰｸ流量計 OUT1
AND R4405                ; Mganta ﾘｰｸ流量計 OUT2
ANB R4406                ; Yellow ﾘｰｸ流量計 OUT1
AND R4407                ; Yellow ﾘｰｸ流量計 OUT2
ANL
JMP @MR4115              ; 流量計設定OK
MPP
LD R4402                 ; Cyan ﾘｰｸ流量計 OUT1
ORB R4403                ; Cyan ﾘｰｸ流量計 OUT2
OR R4404                 ; Mganta ﾘｰｸ流量計 OUT1
ORB R4405                ; Mganta ﾘｰｸ流量計 OUT2
OR R4406                 ; Yellow ﾘｰｸ流量計 OUT1
ORB R4407                ; Yellow ﾘｰｸ流量計 OUT2
ANL
SET @MR404               ; Err44 流量計設定2異常(詰まり)
CON
JMP @MR4112              ; 流量計設定2NG
;***　流量計設定値異常2(詰まり？)  /  Flow meter setting error
STG @MR4112              ; 流量計設定2NG
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR407               ; Err44 TASK2 Err44解除完了
RES @MR407               ; Err44 TASK2 Err44解除完了
CON
JMP @MR4111
;***
STG @MR4115              ; 流量計設定OK
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES @MR4102              ; ﾘｰｸ検査準備中
CON
SET @MR4101              ; ﾘｰｸ検査準備完了
CON
ENDS
;<h1/>　Yellow ﾘｰｸ検査 / Yellow Leak check
STG @MR4200              ; Y ﾘｰｸ検査
SET @MR4202              ; Y ﾘｰｸ検査中
CON
JMP @MR4203
STG @MR4203
SET MR6400               ; ﾘｰｸ検査  元圧空ON
CON
SET MR6401               ; Yellow    ﾘｰｸ検査ON
CON
RES MR6402               ; Yellow    大気開放ON
CON
RES MR6403               ; Magenta   ﾘｰｸ検査ON
CON
SET MR6404               ; Magenta  大気開放ON
CON
RES MR6405               ; Cyan      ﾘｰｸ検査ON
CON
SET MR6406               ; Cyan     大気開放ON
CON
RES MR6407               ; Black     ﾘｰｸ検査ON
CON
JMP @MR4204
STG @MR4204
TMR #20 #9999            ; ﾘｰｸ検査加圧時間Y
CON
AND T20                  ; ﾘｰｸ検査加圧時間Y
JMP @MR4205              ; Y加圧完了
STG @MR4205              ; Y加圧完了
MPS
AND R4406                ; Yellow ﾘｰｸ流量計 OUT1
RES @MR801               ; Yellow Leak NG
CON
SET @MR800               ; Yellow Leak OK
MRD
ANB R4406                ; Yellow ﾘｰｸ流量計 OUT1
RES @MR800               ; Yellow Leak OK
CON
SET @MR801               ; Yellow Leak NG
MPP
LD @MR800                ; Yellow Leak OK
OR @MR801                ; Yellow Leak NG
ANL
JMP @MR4206
STG @MR4206
ZRES MR6401 MR6407       ; Yellow    ﾘｰｸ検査ON  Black     ﾘｰｸ検査ON
CON
RES @MR4202              ; Y ﾘｰｸ検査中
CON
SET @MR4201              ; Y ﾘｰｸ検査完了
CON
ENDS
;<h1/>　Magenta ﾘｰｸ検査 / Magenta Leak check
STG @MR4300              ; M ﾘｰｸ検査
SET @MR4302              ; M ﾘｰｸ検査中
CON
JMP @MR4303
STG @MR4303
SET MR6400               ; ﾘｰｸ検査  元圧空ON
CON
RES MR6401               ; Yellow    ﾘｰｸ検査ON
CON
SET MR6402               ; Yellow    大気開放ON
CON
SET MR6403               ; Magenta   ﾘｰｸ検査ON
CON
RES MR6404               ; Magenta  大気開放ON
CON
RES MR6405               ; Cyan      ﾘｰｸ検査ON
CON
SET MR6406               ; Cyan     大気開放ON
CON
RES MR6407               ; Black     ﾘｰｸ検査ON
CON
JMP @MR4304
STG @MR4304
TMR #21 #9999            ; ﾘｰｸ検査加圧時間M
CON
AND T21                  ; ﾘｰｸ検査加圧時間M
JMP @MR4305              ; M加圧完了
STG @MR4305              ; M加圧完了
MPS
AND R4404                ; Mganta ﾘｰｸ流量計 OUT1
RES @MR803               ; Magenta Leak NG
CON
SET @MR802               ; Magenta Leak OK
MRD
ANB R4404                ; Mganta ﾘｰｸ流量計 OUT1
RES @MR802               ; Magenta Leak OK
CON
SET @MR803               ; Magenta Leak NG
MPP
LD @MR802                ; Magenta Leak OK
OR @MR803                ; Magenta Leak NG
ANL
JMP @MR4306
STG @MR4306
ZRES MR6401 MR6407       ; Yellow    ﾘｰｸ検査ON  Black     ﾘｰｸ検査ON
CON
RES @MR4302              ; M ﾘｰｸ検査中
CON
SET @MR4301              ; M ﾘｰｸ検査完了
CON
ENDS
;<h1/>　Cyan ﾘｰｸ検査 / Cyan Leak check
STG @MR4400              ; C ﾘｰｸ検査
SET @MR4402              ; C ﾘｰｸ検査中
CON
JMP @MR4403
STG @MR4403
SET MR6400               ; ﾘｰｸ検査  元圧空ON
CON
RES MR6401               ; Yellow    ﾘｰｸ検査ON
CON
SET MR6402               ; Yellow    大気開放ON
CON
RES MR6403               ; Magenta   ﾘｰｸ検査ON
CON
SET MR6404               ; Magenta  大気開放ON
CON
SET MR6405               ; Cyan      ﾘｰｸ検査ON
CON
RES MR6406               ; Cyan     大気開放ON
CON
RES MR6407               ; Black     ﾘｰｸ検査ON
CON
JMP @MR4404
STG @MR4404
TMR #22 #9999            ; ﾘｰｸ検査加圧時間C
CON
AND T22                  ; ﾘｰｸ検査加圧時間C
JMP @MR4405              ; C加圧完了
STG @MR4405              ; C加圧完了
MPS
AND R4402                ; Cyan ﾘｰｸ流量計 OUT1
RES @MR805               ; Cyan Leak NG
CON
SET @MR804               ; Cyan Leak OK
MRD
ANB R4402                ; Cyan ﾘｰｸ流量計 OUT1
RES @MR804               ; Cyan Leak OK
CON
SET @MR805               ; Cyan Leak NG
MPP
LD @MR804                ; Cyan Leak OK
OR @MR805                ; Cyan Leak NG
ANL
JMP @MR4406
STG @MR4406
ZRES MR6401 MR6407       ; Yellow    ﾘｰｸ検査ON  Black     ﾘｰｸ検査ON
CON
RES @MR4402              ; C ﾘｰｸ検査中
CON
SET @MR4401              ; C ﾘｰｸ検査完了
CON
ENDS
;<h1/>　Black ﾘｰｸ検査 / Black Leak check
STG @MR4500              ; B ﾘｰｸ検査
SET @MR4502              ; B ﾘｰｸ検査中
CON
JMP @MR4503
STG @MR4503
SET MR6400               ; ﾘｰｸ検査  元圧空ON
CON
RES MR6401               ; Yellow    ﾘｰｸ検査ON
CON
SET MR6402               ; Yellow    大気開放ON
CON
RES MR6403               ; Magenta   ﾘｰｸ検査ON
CON
SET MR6404               ; Magenta  大気開放ON
CON
RES MR6405               ; Cyan      ﾘｰｸ検査ON
CON
SET MR6406               ; Cyan     大気開放ON
CON
SET MR6407               ; Black     ﾘｰｸ検査ON
CON
JMP @MR4504
STG @MR4504
TMR #23 #9999            ; ﾘｰｸ検査加圧時間B
CON
AND T23                  ; ﾘｰｸ検査加圧時間B
JMP @MR4505              ; B加圧完了
STG @MR4505              ; B加圧完了
MPS
AND R4400                ; Black ﾘｰｸ流量計 OUT1
RES @MR807               ; Black Leak NG
CON
SET @MR806               ; Black Leak OK
MRD
ANB R4400                ; Black ﾘｰｸ流量計 OUT1
RES @MR806               ; Black Leak OK
CON
SET @MR807               ; Black Leak NG
MPP
LD @MR806                ; Black Leak OK
OR @MR807                ; Black Leak NG
ANL
JMP @MR4506
STG @MR4506
ZRES MR6401 MR6407       ; Yellow    ﾘｰｸ検査ON  Black     ﾘｰｸ検査ON
CON
RES @MR4502              ; B ﾘｰｸ検査中
CON
SET @MR4501              ; B ﾘｰｸ検査完了
CON
ENDS
;<h1/>　良品ﾏｰｸ検査 / OK marking check
STG @MR4600              ; 良品ﾏｰｸ検査
SET @MR4602              ; 良品ﾏｰｸ検査中
CON
JMP @MR4605
;IVﾌﾟﾛｸﾞﾗﾑNo.　切り替え  /  IV program No. change
STG @MR4605
ANB R32102               ; IV-G Series[2]ﾋﾞｼﾞｰ
MOV FM287 DM32200        ; ModelIdentficationNumber
SET R32402               ; IV-G Series[2]ﾌﾟﾛｸﾞﾗﾑ切替要求
CON
JMP @MR4606
STG @MR4606
AND R32002               ; IV-G Series[2]ﾌﾟﾛｸﾞﾗﾑ切替応答
RES R32402               ; IV-G Series[2]ﾌﾟﾛｸﾞﾗﾑ切替要求
CON
JMP @MR4607
STG @MR4607
ANB R32102               ; IV-G Series[2]ﾋﾞｼﾞｰ
JMP @MR4608
;ﾊﾞｯﾌｧ初期化  /  Buffer clear
STG @MR4608
ANB R32002               ; IV-G Series[2]ﾌﾟﾛｸﾞﾗﾑ切替応答
SET R32405               ; IV-G Series[2]ﾊﾞｯﾌｧｸﾘｱ要求
CON
JMP @MR4609
STG @MR4609
ANB R32100               ; IV-G Series[2]結果取得可能
ANB R32200               ; IV-G Series[2]総合判定
MPS
RES R32405               ; IV-G Series[2]ﾊﾞｯﾌｧｸﾘｱ要求
CON
JMP @MR4610
MRD
AND R32101               ; IV-G Series[2]結果更新完了
SET @MR4604              ; IV結果更新結果記憶
MPP
ANB R32101               ; IV-G Series[2]結果更新完了
RES @MR4604              ; IV結果更新結果記憶
;良品ﾏｰｸ検査実行  /  OK marking Check
STG @MR4610
ANB R32102               ; IV-G Series[2]ﾋﾞｼﾞｰ
SET R32400               ; IV-G Series[2]ﾄﾘｶﾞ要求
CON
JMP @MR4611
STG @MR4611
LD @MR4604               ; IV結果更新結果記憶
ANB R32101               ; IV-G Series[2]結果更新完了
LDB @MR4604              ; IV結果更新結果記憶
AND R32101               ; IV-G Series[2]結果更新完了
ORL
ANL
RES R32400               ; IV-G Series[2]ﾄﾘｶﾞ要求
CON
MPS
AND R32200               ; IV-G Series[2]総合判定
JMP @MR4614
MPP
ANB R32200               ; IV-G Series[2]総合判定
SET @MR312               ; Err42 良品検査NG
CON
JMP @MR4612
;***　良品ﾏｰｸ検出NG  /  OK marking check error
STG @MR4612
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
AND @MR315               ; Err42 TASK2 Err42解除完了
RES @MR315               ; Err42 TASK2 Err42解除完了
CON
MPS
AND= DM1207 #1           ; ｴﾗｰ復帰SW番号(ﾕｰｻﾞｰ用)
JMP @MR4605
MPP
AND= DM1207 #4           ; ｴﾗｰ復帰SW番号(ﾕｰｻﾞｰ用)
JMP @MR4613
STG @MR4613
RES @MR4602              ; 良品ﾏｰｸ検査中
CON
SET @MR4603              ; 良品ﾏｰｸ検査結果異常
CON
ENDS
;***
STG @MR4614
AND @MR015               ; TASK2 ﾎﾟｰｽﾞ&ｴﾗｰ無
RES @MR4602              ; 良品ﾏｰｸ検査中
CON
SET @MR4601              ; 良品ﾏｰｸ検査完了
CON
ENDS
;<h1/>Err
;Err32
STG @MR104               ; Err32 ﾘｰｸ元圧異常
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR105               ; 105
MOV #32 DM1200           ; 通常ｴﾗｰ番号
STG @MR105               ; 105
AND R40010               ; ERROR
JMP @MR106               ; 106
STG @MR106               ; 106
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
SET @MR107               ; Err32 TASK2 Err2解除完了
CON
ENDS
;Err33
STG @MR108               ; Err33 ﾜｰｸ浮き
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR109               ; 109
MOV #33 DM1200           ; 通常ｴﾗｰ番号
STG @MR109               ; 109
AND R40010               ; ERROR
JMP @MR110               ; 110
STG @MR110               ; 110
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
SET @MR111               ; Err33 TASK2 Err3解除完了
CON
ENDS
;Err34
STG @MR112               ; Err34 Y ﾘｰｸ検査NG
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_CONTINUE DM1206    ; ERROR_SW_CONTINUE  Err_sw_CONTINUE
CON
JMP @MR113               ; 113
MOV #34 DM1200           ; 通常ｴﾗｰ番号
STG @MR113               ; 113
AND R40010               ; ERROR
JMP @MR114               ; 114
STG @MR114               ; 114
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
SET @MR115               ; Err34 TASK2 Err4解除完了
CON
ENDS
;Err35
STG @MR200               ; Err35 M ﾘｰｸ検査NG
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_CONTINUE DM1206    ; ERROR_SW_CONTINUE  Err_sw_CONTINUE
CON
JMP @MR201               ; 201
MOV #35 DM1200           ; 通常ｴﾗｰ番号
STG @MR201               ; 201
AND R40010               ; ERROR
JMP @MR202               ; 202
STG @MR202               ; 202
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
SET @MR203               ; Err35 TASK2 Err5解除完了
CON
ENDS
;Err36
STG @MR204               ; Err36 C  ﾘｰｸ検査NG
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_CONTINUE DM1206    ; ERROR_SW_CONTINUE  Err_sw_CONTINUE
CON
JMP @MR205               ; 205
MOV #36 DM1200           ; 通常ｴﾗｰ番号
STG @MR205               ; 205
AND R40010               ; ERROR
JMP @MR206               ; 206
STG @MR206               ; 206
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
SET @MR207               ; Err36 TASK2 Err3解除完了
CON
ENDS
;Err37
STG @MR208               ; Err37 YM ﾘｰｸ検査NG
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_CONTINUE DM1206    ; ERROR_SW_CONTINUE  Err_sw_CONTINUE
CON
JMP @MR209               ; 209
MOV #37 DM1200           ; 通常ｴﾗｰ番号
STG @MR209               ; 209
AND R40010               ; ERROR
JMP @MR210               ; 210
STG @MR210               ; 210
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
SET @MR211               ; Err37 TASK2 Err4解除完了
CON
ENDS
;Err38
STG @MR212               ; Err38 YC ﾘｰｸ検査NG
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_CONTINUE DM1206    ; ERROR_SW_CONTINUE  Err_sw_CONTINUE
CON
JMP @MR213               ; 213
MOV #38 DM1200           ; 通常ｴﾗｰ番号
STG @MR213               ; 213
AND R40010               ; ERROR
JMP @MR214               ; 214
STG @MR214               ; 214
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
SET @MR215               ; Err38 TASK2 Err5解除完了
CON
ENDS
;Err39
STG @MR300               ; Err39 MC ﾘｰｸ検査NG
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_CONTINUE DM1206    ; ERROR_SW_CONTINUE  Err_sw_CONTINUE
CON
JMP @MR301               ; 301
MOV #39 DM1200           ; 通常ｴﾗｰ番号
STG @MR301               ; 301
AND R40010               ; ERROR
JMP @MR302               ; 302
STG @MR302               ; 302
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
SET @MR303               ; Err39 TASK2 Err9解除完了
CON
ENDS
;Err40
STG @MR304               ; Err40 YMC ﾘｰｸ検査NG
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_CONTINUE DM1206    ; ERROR_SW_CONTINUE  Err_sw_CONTINUE
CON
JMP @MR305               ; 305
MOV #40 DM1200           ; 通常ｴﾗｰ番号
STG @MR305               ; 305
AND R40010               ; ERROR
JMP @MR306               ; 306
STG @MR306               ; 306
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
SET @MR307               ; Err40 TASK2 Err10解除完了
CON
ENDS
;Err41
STG @MR308               ; Err41 Blackﾘｰｸ検査NG
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_CONTINUE DM1206    ; ERROR_SW_CONTINUE  Err_sw_CONTINUE
CON
JMP @MR309               ; 309
MOV #41 DM1200           ; 通常ｴﾗｰ番号
STG @MR309               ; 309
AND R40010               ; ERROR
JMP @MR310               ; 310
STG @MR310               ; 310
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
SET @MR311               ; Err41 TASK2 Err41解除完了
CON
ENDS
;Err42
STG @MR312               ; Err42 良品検査NG
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_CONTINUE DM1206    ; ERROR_SW_CONTINUE  Err_sw_CONTINUE
CON
JMP @MR313               ; 313
MOV #42 DM1200           ; 通常ｴﾗｰ番号
STG @MR313               ; 313
AND R40010               ; ERROR
JMP @MR314               ; 314
STG @MR314               ; 314
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
SET @MR315               ; Err42 TASK2 Err42解除完了
CON
ENDS
;Err43
STG @MR400               ; Err43 流量計設定1異常(ﾘｰｸ)
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR401               ; 401
MOV #43 DM1200           ; 通常ｴﾗｰ番号
STG @MR401               ; 401
AND R40010               ; ERROR
JMP @MR402               ; 402
STG @MR402               ; 402
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
SET @MR403               ; Err43 TASK2 Err43解除完了
CON
ENDS
;Err44
STG @MR404               ; Err44 流量計設定2異常(詰まり)
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR405               ; 405
MOV #44 DM1200           ; 通常ｴﾗｰ番号
STG @MR405               ; 405
AND R40010               ; ERROR
JMP @MR406               ; 406
STG @MR406               ; 406
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
SET @MR407               ; Err44 TASK2 Err44解除完了
CON
ENDS
;Err45
STG @MR408               ; Err45 TASK2 Err45
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR409               ; 409
MOV #45 DM1200           ; 通常ｴﾗｰ番号
STG @MR409               ; 409
AND R40010               ; ERROR
JMP @MR410               ; 410
STG @MR410               ; 410
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
SET @MR411               ; Err45 TASK2 Err45解除完了
CON
ENDS
;Err46
STG @MR412               ; Err46 TASK2 Err46
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR413               ; 413
MOV #46 DM1200           ; 通常ｴﾗｰ番号
STG @MR413               ; 413
AND R40010               ; ERROR
JMP @MR414               ; 414
STG @MR414               ; 414
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
SET @MR415               ; Err46 TASK2 Err46解除完了
CON
ENDS
;Err47
STG @MR500               ; Err47 TASK2 Err47
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR501               ; 501
MOV #47 DM1200           ; 通常ｴﾗｰ番号
STG @MR501               ; 501
AND R40010               ; ERROR
JMP @MR502               ; 502
STG @MR502               ; 502
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
SET @MR503               ; Err47 TASK2 Err47解除完了
CON
ENDS
;Err48
STG @MR504               ; Err48 TASK2 Err48
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR505               ; 505
MOV #48 DM1200           ; 通常ｴﾗｰ番号
STG @MR505               ; 505
AND R40010               ; ERROR
JMP @MR506               ; 506
STG @MR506               ; 506
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
SET @MR507               ; Err48 TASK2 Err48解除完了
CON
ENDS
;Err49
STG @MR508               ; Err49 TASK2 Err49
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR509               ; 509
MOV #49 DM1200           ; 通常ｴﾗｰ番号
STG @MR509               ; 509
AND R40010               ; ERROR
JMP @MR510               ; 510
STG @MR510               ; 510
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
SET @MR511               ; Err49 TASK2 Err49解除完了
CON
ENDS
;Err50
STG @MR512               ; Err50 TASK2 Err50
ANB R40010               ; ERROR
SET R40010               ; ERROR
CON
SET R41001               ; TASK2 ERROR中
CON
DW SW_RETRY DM1203       ; ERROR_SW_RETRY  Err_sw_RETRY
CON
DW SW_NONE DM1204        ; ERROR_SW_NONE  Err_sw_REMOVE
CON
DW SW_NONE DM1205        ; ERROR_SW_NONE  Err_sw_RECHECK
CON
DW SW_NONE DM1206        ; ERROR_SW_NONE  Err_sw_CONTINUE
CON
JMP @MR513               ; 513
MOV #50 DM1200           ; 通常ｴﾗｰ番号
STG @MR513               ; 513
AND R40010               ; ERROR
JMP @MR514               ; 514
STG @MR514               ; 514
ANB R40010               ; ERROR
RES R41001               ; TASK2 ERROR中
CON
SET @MR515               ; Err50 TASK2 Err50解除完了
CON
ENDS
;PACKｾｯﾄ
;Pack Set
LDB @MR900               ; PACK2-1
ANB @MR901               ; PACK2-2
ANB @MR902               ; PACK2-3
ANB @MR903               ; PACK2-4
ANB @MR904               ; PACK2-5
ANB @MR905               ; PACK2-6
ANB @MR906               ; PACK2-7
ANB @MR907               ; PACK2-8
INV
OUT R40201               ; ﾎﾟｰｽﾞ禁止2
END
ENDH
