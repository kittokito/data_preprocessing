DEVICE:53
;MODULE:Interlock
;MODULE_TYPE:0
;Index rotation check
;Index 回転チェック
LD R1105                 ; INDEX 起動入力待ち
OR @MR013                ; INDEX準備完了保持
AND MR2103               ; INDEX Power ON
AND R1102                ; 安全ｶﾊﾞｰ
AND R1101                ; ﾗｲﾄｶｰﾃﾝ
OUT @MR013               ; INDEX準備完了保持
LD R1104                 ; INDEX 位置決め完了
OFDL #10 @MR014          ; INDEX位置決め完了後OFFﾃﾞｨﾚｲ
LD @MR013                ; INDEX準備完了保持
ANB R1105                ; INDEX 起動入力待ち
ANB @MR014               ; INDEX位置決め完了後OFFﾃﾞｨﾚｲ
TMH @1 #15
CON
AND @T1
OUT @MR015               ; INDEX 回転中
;INTERLOCK
;
;Interlock 01 Flag set
;非常停止が押されました / Emegerncy stop sw was pushed.
LD CR2007                ; 運転開始時1ｽｷｬﾝOFF
ANB R42005               ; E.STOP sw
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #1 DM1210            ; Inter Lock Text No
;Interlock 02 Flag set
LD MR6600                ; INDEX 位置決め上下 上昇
LDB MR6600               ; INDEX 位置決め上下 上昇
ANB R4101                ; INDEX 位置決め上下 下降端
ORL
LD R42203                ; INDEX回転中（SET/RST）
LDB R40005               ; ﾎﾟｰｽﾞ中
OR R42213                ; INDEX監視2
ANL
OR @MR015                ; INDEX 回転中
ANL
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #2 DM1210            ; Inter Lock Text No
;Interlock 03 Flag set
LD MR6614                ; INDEX 治具ｴｱｰ上下 上昇
LDB MR6614               ; INDEX 治具ｴｱｰ上下 上昇
LDB R4103                ; INDEX 1ST 治具ｴｱｰ上下 下降端
ORB R4105                ; INDEX 2ST 治具ｴｱｰ上下 下降端
ORB R4107                ; INDEX 3ST 治具ｴｱｰ上下 下降端
ORB R4109                ; INDEX 4ST 治具ｴｱｰ上下 下降端
ANL
ORL
LD R42203                ; INDEX回転中（SET/RST）
LDB R40005               ; ﾎﾟｰｽﾞ中
OR R42213                ; INDEX監視2
ANL
OR @MR015                ; INDEX 回転中
ANL
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #3 DM1210            ; Inter Lock Text No
;Interlock 04 Flag set
LD MR6702                ; 1ST ﾌｫｰﾑ検出上下 下降
LDB MR6702               ; 1ST ﾌｫｰﾑ検出上下 下降
ANB R4205                ; 1ST ﾌｫｰﾑ検出上下 上昇端
ORL
LD R42203                ; INDEX回転中（SET/RST）
LDB R40005               ; ﾎﾟｰｽﾞ中
OR R42213                ; INDEX監視2
ANL
OR @MR015                ; INDEX 回転中
ANL
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #4 DM1210            ; Inter Lock Text No
;Interlock 05 Flag set
LD MR6410                ; 2ST Color ﾘｰｸ検査 検査ﾍｯﾄﾞ下降
LDB MR6410               ; 2ST Color ﾘｰｸ検査 検査ﾍｯﾄﾞ下降
ANB R4303                ; 2ST Color ﾘｰｸ検査 検査ﾍｯﾄﾞ上昇端
ORL
LD R42203                ; INDEX回転中（SET/RST）
LDB R40005               ; ﾎﾟｰｽﾞ中
OR R42213                ; INDEX監視2
ANL
OR @MR015                ; INDEX 回転中
ANL
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #5 DM1210            ; Inter Lock Text No
;Interlock 06 Flag set
LD MR6412                ; 2ST Black ﾘｰｸ検査 検査ﾍｯﾄﾞ下降
LDB MR6412               ; 2ST Black ﾘｰｸ検査 検査ﾍｯﾄﾞ下降
ANB R4305                ; 2ST Black ﾘｰｸ検査 検査ﾍｯﾄﾞ上昇端
ORL
LD R42203                ; INDEX回転中（SET/RST）
LDB R40005               ; ﾎﾟｰｽﾞ中
OR R42213                ; INDEX監視2
ANL
OR @MR015                ; INDEX 回転中
ANL
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #6 DM1210            ; Inter Lock Text No
;Interlock 07 Flag set
LD MR6202                ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (BK) 下降
LDB MR6202               ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (BK) 下降
ANB R4607                ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (BK) 上昇端
ORL
LD R42203                ; INDEX回転中（SET/RST）
LDB R40005               ; ﾎﾟｰｽﾞ中
OR R42213                ; INDEX監視2
ANL
OR @MR015                ; INDEX 回転中
ANL
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #7 DM1210            ; Inter Lock Text No
;Interlock 08 Flag set
LD MR6200                ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (CL) 下降
LDB MR6200               ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (CL) 下降
ANB R4609                ; 3ST ｶｰﾄﾘｯｼﾞｶﾞｲﾄﾞ (CL) 上昇端
ORL
LD R42203                ; INDEX回転中（SET/RST）
LDB R40005               ; ﾎﾟｰｽﾞ中
OR R42213                ; INDEX監視2
ANL
OR @MR015                ; INDEX 回転中
ANL
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #8 DM1210            ; Inter Lock Text No
;Interlock 09 Flag set
LD MR6206                ; 3ST Color 注入部上下 下降
LDB MR6206               ; 3ST Color 注入部上下 下降
ANB R4503                ; 3ST Color 注入部上下 上昇端
ORL
LD R42203                ; INDEX回転中（SET/RST）
LDB R40005               ; ﾎﾟｰｽﾞ中
OR R42213                ; INDEX監視2
ANL
OR @MR015                ; INDEX 回転中
ANL
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #9 DM1210            ; Inter Lock Text No
;Interlock 10 Flag set
LD MR6208                ; 3ST Black 注入部上下 下降
LDB MR6208               ; 3ST Black 注入部上下 下降
ANB R4501                ; 3ST Black 注入部上下 上昇端
ORL
LD R42203                ; INDEX回転中（SET/RST）
LDB R40005               ; ﾎﾟｰｽﾞ中
OR R42213                ; INDEX監視2
ANL
OR @MR015                ; INDEX 回転中
ANL
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #10 DM1210           ; Inter Lock Text No
;Interlock 11 Flag set
LD MR6800                ; 4ST IC書込 書込ﾍｯﾄﾞ 前進
LDB MR6800               ; 4ST IC書込 書込ﾍｯﾄﾞ 前進
ANB R4713                ; 4ST IC書込 書込ﾍｯﾄﾞ 後退端
ORL
LD R42203                ; INDEX回転中（SET/RST）
LDB R40005               ; ﾎﾟｰｽﾞ中
OR R42213                ; INDEX監視2
ANL
OR @MR015                ; INDEX 回転中
ANL
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #11 DM1210           ; Inter Lock Text No
;Interlock 12 Flag set
LD MR6804                ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 下降
LDB MR6804               ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 下降
ANB R4709                ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 上昇端
ORL
LD R42203                ; INDEX回転中（SET/RST）
LDB R40005               ; ﾎﾟｰｽﾞ中
OR R42213                ; INDEX監視2
ANL
OR @MR015                ; INDEX 回転中
ANL
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #12 DM1210           ; Inter Lock Text No
;Interlock 13 Flag set
LDB R18815               ; RB1 CSICｶｰﾄﾘｯｼﾞ押さえ干渉外
LD MR6810                ; 4ST 除材ﾊﾝﾄﾞ 下降
LDB MR6810               ; 4ST 除材ﾊﾝﾄﾞ 下降
ANB R4703                ; 4ST 除材ﾊﾝﾄﾞ 上昇端
ORL
ANL
LD R42203                ; INDEX回転中（SET/RST）
LDB R40005               ; ﾎﾟｰｽﾞ中
OR R42213                ; INDEX監視2
ANL
OR @MR015                ; INDEX 回転中
ANL
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #13 DM1210           ; Inter Lock Text No
;Interlock 14 Flag set
;RB2 ST2干渉
LD MR6408                ; 2ST ﾘｰｸ検査 Color側行
LDB MR6408               ; 2ST ﾘｰｸ検査 Color側行
ANB R4301                ; 2ST ﾘｰｸ検査 Black側端
ORL
BAND DM10523 #2          ; RB2 STATUS
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #14 DM1210           ; Inter Lock Text No
;Interlock 15 Flag set
LD MR6206                ; 3ST Color 注入部上下 下降
LDB MR6206               ; 3ST Color 注入部上下 下降
ANB R4503                ; 3ST Color 注入部上下 上昇端
ORL
BAND DM10523 #2          ; RB2 STATUS
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #15 DM1210           ; Inter Lock Text No
;Interlock 16 Flag set
LD MR6208                ; 3ST Black 注入部上下 下降
LDB MR6208               ; 3ST Black 注入部上下 下降
ANB R4501                ; 3ST Black 注入部上下 上昇端
ORL
BAND DM10523 #2          ; RB2 STATUS
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #16 DM1210           ; Inter Lock Text No
;Interlock 17 Flag set
LD MR6810                ; 4ST 除材ﾊﾝﾄﾞ 下降
LDB MR6810               ; 4ST 除材ﾊﾝﾄﾞ 下降
ANB R4703                ; 4ST 除材ﾊﾝﾄﾞ 上昇端
ORL
BAND DM10515 #2          ; RB1 STATUS
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #17 DM1210           ; Inter Lock Text No
;Interlock 18 Flag set
LD MR6802                ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 前進
LDB MR6802               ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 前進
ANB R4711                ; 4ST IC書込 ｶｰﾄﾘｯｼﾞ押さえ 後退端
ORL
BAND DM10515 #2          ; RB1 STATUS
ANB R18815               ; RB1 CSICｶｰﾄﾘｯｼﾞ押さえ干渉外
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #18 DM1210           ; Inter Lock Text No
;Interlock 19 Flag set
LD CR2003                ; 常時OFF
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #19 DM1210           ; Inter Lock Text No
;Interlock 20 Flag set
LD CR2003                ; 常時OFF
SET R40015               ; TRAPｲﾝﾀｰﾛｯｸ
MOV #20 DM1210           ; Inter Lock Text No
;
END
ENDH
