DEVICE:53
;MODULE:Initial
;MODULE_TYPE:0
;SCRIPT_TYPE:
;System_Init
LD CR2002                ; 常時ON
MPS
DW #0 DM3000             ; ﾍﾞｰｽ画面切り替え
CON
DW #0 DM3001             ; ｵｰﾊﾞｰﾗｯﾌﾟｳｨﾝﾄﾞｳ
CON
DW #0 DM3002             ; ｽｰﾊﾟｰｲﾝﾎﾟｰｽﾞｳｨﾝﾄﾞｳ
CON
ZRES LR200 LR515         ; 割込みSW1
MRD
FMOV #0 DM1200 #100      ; 通常ｴﾗｰ番号
MPP
FMOV #0 DM1800 #200      ; BBS_Message1_1
;TASK SELECT / 使用するTASKを設定する
;SET(TASK1_ENABLE)	'TASK1 使用有無 ON=ENABLE, OFF =DISABLE
;SET(TASK2_ENABLE)	'TASK2 使用有無 ON=ENABLE, OFF =DISABLE
;SET(TASK3_ENABLE)	'TASK3 使用有無 ON=ENABLE, OFF =DISABLE
;SET(TASK4_ENABLE)	'TASK4 使用有無 ON=ENABLE, OFF =DISABLE
;RES(TASK5_ENABLE)	'TASK5 使用有無 ON=ENABLE, OFF =DISABLE
;RES(TASK6_ENABLE)	'TASK6 使用有無 ON=ENABLE, OFF =DISABLE
;RES(TASK7_ENABLE)	'TASK7 使用有無 ON=ENABLE, OFF =DISABLE
;RES(TASK8_ENABLE)	'TASK8 使用有無 ON=ENABLE, OFF =DISABLE
;RES(TASK9_ENABLE)	'TASK9 使用有無 ON=ENABLE, OFF =DISABLE
;RES(TASK10_ENABLE)	'TASK10 使用有無 ON=ENABLE, OFF =DISABLE
;RES(TASK11_ENABLE)	'TASK11 使用有無 ON=ENABLE, OFF =DISABLE
;RES(TASK12_ENABLE)	'TASK12 使用有無 ON=ENABLE, OFF =DISABLE
;RES(TASK13_ENABLE)	'TASK13 使用有無 ON=ENABLE, OFF =DISABLE
;RES(TASK14_ENABLE)	'TASK14 使用有無 ON=ENABLE, OFF =DISABLE
;RES(TASK15_ENABLE)	'TASK15 使用有無 ON=ENABLE, OFF =DISABLE
;SET(INDEX_ENABLE)	'TASK16 使用有無 ON=ENABLE, OFF =DISABLE
;
;SET(TASK1_ENABLE)	'TASK1 使用有無 ON=ENABLE, OFF =DISABLE
;
LD CR2002                ; 常時ON
SET R41100               ; TASK1 起動有効
;SET(TASK2_ENABLE)	'TASK2 使用有無 ON=ENABLE, OFF =DISABLE
;
LD CR2002                ; 常時ON
SET R41101               ; TASK2 起動有効
;SET(TASK3_ENABLE)	'TASK3 使用有無 ON=ENABLE, OFF =DISABLE
;
LD CR2002                ; 常時ON
SET R41102               ; TASK3 起動有効
;SET(TASK4_ENABLE)	'TASK4 使用有無 ON=ENABLE, OFF =DISABLE
;
LD CR2002                ; 常時ON
SET R41103               ; TASK4 起動有効
;RES(TASK5_ENABLE)	'TASK5 使用有無 ON=ENABLE, OFF =DISABLE
;
LD CR2002                ; 常時ON
RES R41104               ; TASK5 起動有効
;RES(TASK6_ENABLE)	'TASK6 使用有無 ON=ENABLE, OFF =DISABLE
;
LD CR2002                ; 常時ON
RES R41105               ; TASK6 起動有効
;RES(TASK7_ENABLE)	'TASK7 使用有無 ON=ENABLE, OFF =DISABLE
;
LD CR2002                ; 常時ON
RES R41106               ; TASK7 起動有効
;RES(TASK8_ENABLE)	'TASK8 使用有無 ON=ENABLE, OFF =DISABLE
;
LD CR2002                ; 常時ON
RES R41107               ; TASK8 起動有効
;RES(TASK9_ENABLE)	'TASK9 使用有無 ON=ENABLE, OFF =DISABLE
;
LD CR2002                ; 常時ON
RES R41108               ; TASK9 起動有効
;RES(TASK10_ENABLE)	'TASK10 使用有無 ON=ENABLE, OFF =DISABLE
;
LD CR2002                ; 常時ON
RES R41109               ; TASK10 起動有効
;RES(TASK11_ENABLE)	'TASK11 使用有無 ON=ENABLE, OFF =DISABLE
;
LD CR2002                ; 常時ON
RES R41110               ; TASK11 起動有効
;RES(TASK12_ENABLE)	'TASK12 使用有無 ON=ENABLE, OFF =DISABLE
;
LD CR2002                ; 常時ON
RES R41111               ; TASK12 起動有効
;RES(TASK13_ENABLE)	'TASK13 使用有無 ON=ENABLE, OFF =DISABLE
;
LD CR2002                ; 常時ON
RES R41112               ; TASK13 起動有効
;RES(TASK14_ENABLE)	'TASK14 使用有無 ON=ENABLE, OFF =DISABLE
;
LD CR2002                ; 常時ON
RES R41113               ; TASK14 起動有効
;RES(TASK15_ENABLE)	'TASK15 使用有無 ON=ENABLE, OFF =DISABLE
;
LD CR2002                ; 常時ON
RES R41114               ; TASK15 起動有効
;SET(INDEX_ENABLE)	'TASK16 使用有無 ON=ENABLE, OFF =DISABLE
;
LD CR2002                ; 常時ON
SET R41115               ; TASK16 起動有効
;
;INTERUPT SW SELECT / 割込みSWの表示非表示切替
;SET(TP_INTERUPT_SW1_DISP)	'割込みSW1の表示/非表示 ON=ENABLE OFF=DISABLE
;RES(TP_INTERUPT_SW2_DISP)	'割込みSW2の表示/非表示 ON=ENABLE OFF=DISABLE
;RES(TP_INTERUPT_SW3_DISP)	'割込みSW3の表示/非表示 ON=ENABLE OFF=DISABLE
;RES(TP_INTERUPT_SW4_DISP)	'割込みSW4の表示/非表示 ON=ENABLE OFF=DISABLE
;
;SET(TP_INTERUPT_SW1_DISP)	'割込みSW1の表示/非表示 ON=ENABLE OFF=DISABLE
;
LD CR2002                ; 常時ON
SET R41512               ; 割込みSW1表示
;RES(TP_INTERUPT_SW2_DISP)	'割込みSW2の表示/非表示 ON=ENABLE OFF=DISABLE
;
LD CR2002                ; 常時ON
RES R41513               ; 割込みSW2表示
;RES(TP_INTERUPT_SW3_DISP)	'割込みSW3の表示/非表示 ON=ENABLE OFF=DISABLE
;
LD CR2002                ; 常時ON
RES R41514               ; 割込みSW3表示
;RES(TP_INTERUPT_SW4_DISP)	'割込みSW4の表示/非表示 ON=ENABLE OFF=DISABLE
;
LD CR2002                ; 常時ON
RES R41515               ; 割込みSW4表示
;
;
LD CR2002                ; 常時ON
ZRES R15000 R17007       ; ﾌﾟﾗﾝｼﾞｬｰ1-4 後退 call FLG  B 注入異常
CON
ZRES R19100 R19315       ; 交換完了sw表示
CON
DW #0 DM3032             ; 注入Info.Window No.
CON
DW #0 DM1319             ; 注入Info.内容No.
CON
ZRES DM2055 DM2056
;
LD CR2002                ; 常時ON
MPS
RES R19300               ; (Y)連続循環中画面表示
CON
RES R19301               ; (M)連続循環中画面表示
CON
RES R19302               ; (C)連続循環中画面表示
CON
RES R19303               ; (B)連続循環中画面表示
MRD
AND= FM287 #1            ; ModelIdentficationNumber
MPS
RES MR1209               ; (Y) 照合要求FLG
CON
RES MR1409               ; (M) 照合要求FLG
CON
RES MR1609               ; (C) 照合要求FLG
CON
SET MR1809               ; (B) 照合要求FLG
MPP
AND LR014                ; AP14_ﾊﾞｰｺｰﾄﾞ照合無し
SET MR1903               ; (B) KDﾄﾞﾗﾑ攪拌要求
CON
SET MR1904               ; (B) ｻﾌﾞﾀﾝｸ攪拌要求
CON
SET MR1905               ; (BLACK)ｲﾝｸ循環要求
MRD
AND= FM287 #2            ; ModelIdentficationNumber
MPS
SET MR1209               ; (Y) 照合要求FLG
CON
SET MR1409               ; (M) 照合要求FLG
CON
SET MR1609               ; (C) 照合要求FLG
CON
RES MR1809               ; (B) 照合要求FLG
MPP
AND LR014                ; AP14_ﾊﾞｰｺｰﾄﾞ照合無し
MPS
SET MR1303               ; (Y) KDﾄﾞﾗﾑ攪拌要求
CON
SET MR1304               ; (Y) ｻﾌﾞﾀﾝｸ攪拌要求
CON
SET MR1305               ; (YELLOW)  ｲﾝｸ循環要求
MRD
SET MR1503               ; (M) KDﾄﾞﾗﾑ攪拌要求
CON
SET MR1504               ; (M) ｻﾌﾞﾀﾝｸ攪拌要求
CON
SET MR1505               ; (MAGENTA) ｲﾝｸ循環要求
MPP
SET MR1703               ; (C) KDﾄﾞﾗﾑ攪拌要求
CON
SET MR1704               ; (C) ｻﾌﾞﾀﾝｸ攪拌要求
CON
SET MR1705               ; (CYAN)ｲﾝｸ循環要求
MRD
AND= FM287 #3            ; ModelIdentficationNumber
MPS
SET MR1209               ; (Y) 照合要求FLG
CON
SET MR1409               ; (M) 照合要求FLG
CON
SET MR1609               ; (C) 照合要求FLG
CON
SET MR1809               ; (B) 照合要求FLG
MPP
AND LR014                ; AP14_ﾊﾞｰｺｰﾄﾞ照合無し
MPS
SET MR1303               ; (Y) KDﾄﾞﾗﾑ攪拌要求
CON
SET MR1304               ; (Y) ｻﾌﾞﾀﾝｸ攪拌要求
CON
SET MR1305               ; (YELLOW)  ｲﾝｸ循環要求
CON
SET MR1503               ; (M) KDﾄﾞﾗﾑ攪拌要求
CON
SET MR1504               ; (M) ｻﾌﾞﾀﾝｸ攪拌要求
CON
SET MR1505               ; (MAGENTA) ｲﾝｸ循環要求
MPP
SET MR1703               ; (C) KDﾄﾞﾗﾑ攪拌要求
CON
SET MR1704               ; (C) ｻﾌﾞﾀﾝｸ攪拌要求
CON
SET MR1705               ; (CYAN)ｲﾝｸ循環要求
CON
SET MR1903               ; (B) KDﾄﾞﾗﾑ攪拌要求
CON
SET MR1904               ; (B) ｻﾌﾞﾀﾝｸ攪拌要求
CON
SET MR1905               ; (BLACK)ｲﾝｸ循環要求
MPP
ANB R600                 ; 仮NAT
SET R51300               ; Offline mode
;EtherNet
LD CR2002                ; 常時ON
MPS
DW #0 DM10500            ; MSEP→PLC ｹﾞｰﾄｳｪｲ制御0
CON
DW #40960 DM10700        ; PLC→MSEP ｹﾞｰﾄｳｪｲ制御0
MPP
DW #0 DM10715            ; RB1 OUT STATUS
CON
DW #0 DM10723            ; RB2 OUT STATUS
CON
DW #0 DM10731            ; RB3 OUT STATUS
CON
DW #0 DM10739            ; RB4 OUT STATUS
CON
DW #0 DM10747            ; RB5 OUT STATUS
CON
DW #0 DM10755            ; RB6 OUT STATUS
;Port 1 BARCODE Reader
LD CR2002                ; 常時ON
MPS
ZRES DM30002 DM30100     ; Port1 受信ﾃﾞｰﾀ1  Port1 受信ﾃﾞｰﾀ99
CON
SET R30100               ; Port1 通信許可
CON
SET R30105               ; Port1 ﾃﾞｰﾀ格納単位設定
MPP
MOV $2000 DM2600         ; 検索用SP
;Port2 Balancer
LD CR2002                ; 常時ON
DW #9 DM30722            ; Port2 受信ﾃﾞｰﾀ長設定
CON
DW $0D0A DM30721         ; Port2 受信ﾃﾞﾘﾐﾀ設定
CON
DW $0000 DM30720         ; Port2 受信ﾍｯﾀﾞ設定
CON
DW $0D0A DM30719         ; Port2 送信ﾃﾞﾘﾐﾀ設定
CON
DW $0000 DM30718         ; Port2 送信ﾍｯﾀﾞ設定
CON
DW #100 DM30717          ; Port2 ﾀｲﾑｱｳﾄﾁｪｯｸ時間設定
CON
DW $0001 DM30716         ; Port2 ﾓｰﾄﾞ設定
CON
DW $0000 DM30715         ; Port2 ﾃﾞｰﾀ格納単位設定
CON
SET R30300               ; Port2 通信許可
END
ENDH
