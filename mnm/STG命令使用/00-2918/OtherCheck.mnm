DEVICE:53
;MODULE:OtherCheck
;MODULE_TYPE:0
;その他の機器のｴﾗｰ監視
LD CR2008                ; 運転開始時1ｽｷｬﾝON
ZRES @R000 @R1915
LD CR2003                ; 常時OFF
ZRES @DM800 @DM899
;<h1/>Clean unit , Ionizer unit Error/ｸﾘｰﾝﾕﾆｯﾄ、ｲｵﾅｲｻﾞｰ ｴﾗｰ監視
LD CR2002                ; 常時ON
LDB R5300                ; ｴｱｸﾘｰﾝﾕﾆｯﾄ1 ｱﾗｰﾑ1
ORB R5301                ; ｴｱｸﾘｰﾝﾕﾆｯﾄ1 ｱﾗｰﾑ
ANL
ANB R39004               ; ｴﾗｰ中
SET @R100                ; ｴｱｸﾘｰﾝﾕﾆｯﾄ1 ｱﾗｰﾑ
LD CR2002                ; 常時ON
LDB R5302                ; ｴｱｸﾘｰﾝﾕﾆｯﾄ2 ｱﾗｰﾑ
ORB R5303                ; ｴｱｸﾘｰﾝﾕﾆｯﾄ2 ｱﾗｰﾑ
ANL
ANB R39004               ; ｴﾗｰ中
SET @R101                ; ｴｱｸﾘｰﾝﾕﾆｯﾄ2 ｱﾗｰﾑ
LD CR2002                ; 常時ON
AND R5304                ; ﾊﾞｰｲｵﾅｲｻﾞ ｱﾗｰﾑ
ANB R39004               ; ｴﾗｰ中
SET @R102                ; ﾊﾞｰｲｵﾅｲｻﾞｱﾗｰﾑ検出
LD CR2002                ; 常時ON
ANB R5305                ; ﾊﾞｰｲｵﾅｲｻﾞ 異常
ANB R39004               ; ｴﾗｰ中
SET @R103                ; ﾊﾞｰｲｵﾅｲｻﾞ異常検出
;<h1/>MyTask Error Process Substance/エラー処理実体
STG @R600                ; Task0 ERROR
ANB R39002               ; ERROR_DISP Busy
MPS
ZRES @R605 @R608         ; SW1  SW4
CON
LDA @DM9                 ; ReturnSW /ERROR_DISP
CON
TBCD
CON
STA @DM10
CON
DISN @DM10 @DM3 #4
MRD
DW #0 @DM0               ; TaskNo /ERROR_DISP
CON
BMOV @DM0 DM60000 #7     ; TaskNo /ERROR_DISP  TaskNo /ERROR_DISP
MPP
SET R39000               ; ERROR_DISP Start
CON
SET @R602                ; Task0 ERROR Busy
CON
JMP @R603
STG @R603
AND R39002               ; ERROR_DISP Busy
AND= DM60008 @DM1        ; ReturnNo /ERROR_DISP  ErrorNo /ERROR_DISP
MPS
AND= DM60007 @DM6        ; ReturnSW /ERROR_DISP
SET @R605                ; SW1
CON
JMP @R604
MRD
AND= DM60007 @DM5        ; ReturnSW /ERROR_DISP
SET @R606                ; SW2
CON
JMP @R604
MRD
AND= DM60007 @DM4        ; ReturnSW /ERROR_DISP
SET @R607                ; SW3
CON
JMP @R604
MPP
AND= DM60007 @DM3        ; ReturnSW /ERROR_DISP
SET @R608                ; SW4
CON
JMP @R604
STG @R604
ANB R39002               ; ERROR_DISP Busy
RES @R602                ; Task0 ERROR Busy
CON
SET @R601                ; Task0 ｴﾗｰ完了
CON
ENDS
;<h1/>ERROR
;ERROR190 : ｴｱｸﾘｰﾝﾕﾆｯﾄ1 ｱﾗｰﾑ
STG @R100                ; ｴｱｸﾘｰﾝﾕﾆｯﾄ1 ｱﾗｰﾑ
ANB R39004               ; ｴﾗｰ中
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #190 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @R600                ; Task0 ERROR
CON
JMP @R702
STG @R702
AND @R601                ; Task0 ｴﾗｰ完了
RES @R601                ; Task0 ｴﾗｰ完了
CON
RES R39004               ; ｴﾗｰ中
CON
AND @R605                ; SW1
ENDS
;ERROR191 : ｴｱｸﾘｰﾝﾕﾆｯﾄ2 ｱﾗｰﾑ
STG @R101                ; ｴｱｸﾘｰﾝﾕﾆｯﾄ2 ｱﾗｰﾑ
ANB R39004               ; ｴﾗｰ中
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #191 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @R600                ; Task0 ERROR
CON
JMP @R703
STG @R703
AND @R601                ; Task0 ｴﾗｰ完了
RES @R601                ; Task0 ｴﾗｰ完了
CON
RES R39004               ; ｴﾗｰ中
CON
AND @R605                ; SW1
ENDS
;ERROR192 : ﾊﾞｰｲｵﾅｲｻﾞ ｱﾗｰﾑ検出
STG @R102                ; ﾊﾞｰｲｵﾅｲｻﾞｱﾗｰﾑ検出
ANB R39004               ; ｴﾗｰ中
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #192 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @R600                ; Task0 ERROR
CON
JMP @R704
STG @R704
AND @R601                ; Task0 ｴﾗｰ完了
RES @R601                ; Task0 ｴﾗｰ完了
CON
RES R39004               ; ｴﾗｰ中
CON
AND @R605                ; SW1
ENDS
;ERROR193 : ﾊﾞｰｲｵﾅｲｻﾞ 異常検出
STG @R103                ; ﾊﾞｰｲｵﾅｲｻﾞ異常検出
ANB R39004               ; ｴﾗｰ中
SET R39004               ; ｴﾗｰ中
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #193 @DM1             ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @R600                ; Task0 ERROR
CON
JMP @R705
STG @R705
AND @R601                ; Task0 ｴﾗｰ完了
RES @R601                ; Task0 ｴﾗｰ完了
CON
RES R39004               ; ｴﾗｰ中
CON
AND @R605                ; SW1
ENDS
;
END
ENDH
