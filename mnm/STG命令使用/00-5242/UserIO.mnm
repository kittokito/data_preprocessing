DEVICE:53
;MODULE:UserIO
;MODULE_TYPE:0
;SCRIPT_TYPE:
;OneSystem Sub Module
;
;---------------------------------------
;ModuleName	:	UserIO
;ModuleType	:	Sub Module
;Function	:	ﾕｰｻﾞｰ入出力まとめ
;---------------------------------------
;ｼﾐｭﾚｰﾀﾓｰﾄﾞ時ﾕｰｻﾞｰI/O無効用
;↓↓ Please not delete.
LD R59915                ; _運転ﾓｰﾄﾞ指定
CJ #0
;<h1/>User_Input/ﾕｰｻﾞｰ入力まとめ
LDB R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46100               ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46102               ; _ﾒﾝﾃﾅﾝｽ運転中　ﾓｰﾄﾞﾌﾗｸﾞ
AND MR10013              ; 要再原点復帰
MOV #1 DM8380            ; _INDI　AUTO有効／無効
RES MR10013              ; 要再原点復帰
LDB R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46100               ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46102               ; _ﾒﾝﾃﾅﾝｽ運転中　ﾓｰﾄﾞﾌﾗｸﾞ
MPS
BANB DM2000 #2           ; _動作ﾊﾟﾗﾒｰﾀ
DW #0 DM20020            ; COM_下流装置_ダミー
MRD
BAND DM2000 #2           ; _動作ﾊﾟﾗﾒｰﾀ
DW #1 DM20020            ; COM_下流装置_ダミー
MPP
RES MR10102              ; ｾﾙ間搬送ﾁｬｯｸ空振り
CON
RES MR10101              ; 取出しﾘﾄﾗｲ中
CON
RES MR10100              ; 定停止へ
LD MR10008               ; 生産ｶｳﾝﾀ1RES_SW
MOV.D #0 DM5020          ; _生産ｶｳﾝﾀ1
LD MR10009               ; 生産ｶｳﾝﾀ2RES_SW
MOV.D #0 DM5022          ; _生産ｶｳﾝﾀ2
LD MR10010               ; 生産ｶｳﾝﾀ3RES_SW
BORB DM2000 #5           ; _動作ﾊﾟﾗﾒｰﾀ
BLD DM2000 #5            ; _動作ﾊﾟﾗﾒｰﾀ
AND= DM5024 DM1          ; _生産ｶｳﾝﾀ3
ANF R46100               ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
ORL
MOV.D #0 DM5024          ; _生産ｶｳﾝﾀ3
;<h1/>User_Output/ﾕｰｻﾞｰ出力まとめ
;<h1/>正面ﾄﾞｱ操作
;
LD CR2003                ; 常時OFF
MC
LD CR2003                ; 常時OFF
ANF R4006                ; BC ｻﾌﾞSWBOX(ﾄﾚｲ交換用) ﾎﾟｰｽﾞ
ORF R5006                ; SC ｻﾌﾞSWBOX(ﾄﾚｲ交換用) ﾎﾟｰｽﾞ
ORF R004                 ; C 操作BOX PAUSE SW(正面)
LDB R46100               ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
OR MR18000               ; ﾄﾚｲ飛出異常中
ANL
LDF @T1                  ; 扉ﾛｯｸON確認時間
LD MR12000               ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
ANB R4007                ; BC_扉閉確認
LD MR12001               ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ANB R5007                ; SC_扉閉確認
ORL
ANL
ORL
OR MR9000                ; 正面扉ﾎﾟｰｽﾞ受付
ANB MR9011               ; 正面扉ﾛｯｸONﾊﾟﾙｽ
ANB R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
OUT MR9000               ; 正面扉ﾎﾟｰｽﾞ受付
LD MR9000                ; 正面扉ﾎﾟｰｽﾞ受付
OR MR9001                ; 正面扉ﾎﾟｰｽﾞON
ANB MR9011               ; 正面扉ﾛｯｸONﾊﾟﾙｽ
OUT MR9001               ; 正面扉ﾎﾟｰｽﾞON
TMR @0 #2                ; 正面扉ﾎﾟｰｽﾞONﾃﾞｨﾚｲ
LDP @T0                  ; 正面扉ﾎﾟｰｽﾞONﾃﾞｨﾚｲ
SET MR7006               ; C_ｽﾀｰﾄﾗﾝﾌﾟ_ｻﾌﾞSWBOX(ﾄﾚｲ交換用)
CON
SET MR7007               ; C_ﾎﾟｰｽﾞﾗﾝﾌﾟ_ｻﾌﾞSWBOX(ﾄﾚｲ交換用)
CON
SET MR7005               ; C_電磁ﾛｯｸ解除
LDF R4005                ; BC_ﾄﾚｲ交換_ｽﾀｰﾄ(ｻﾌﾞSWBOX)
ORF R5005                ; SC_ﾄﾚｲ交換ｽﾀｰﾄ(ｻﾌﾞSWBOX)
ORF R002                 ; C 操作BOX START SW(正面)
AND @T0                  ; 正面扉ﾎﾟｰｽﾞONﾃﾞｨﾚｲ
OR MR9010                ; 正面扉ﾛｯｸON
ANB @T1                  ; 扉ﾛｯｸON確認時間
OUT MR9010               ; 正面扉ﾛｯｸON
DIFU MR9011              ; 正面扉ﾛｯｸONﾊﾟﾙｽ
TMR @1 #3                ; 扉ﾛｯｸON確認時間
LDP MR9010               ; 正面扉ﾛｯｸON
RES MR7006               ; C_ｽﾀｰﾄﾗﾝﾌﾟ_ｻﾌﾞSWBOX(ﾄﾚｲ交換用)
CON
RES MR7007               ; C_ﾎﾟｰｽﾞﾗﾝﾌﾟ_ｻﾌﾞSWBOX(ﾄﾚｲ交換用)
CON
RES MR7005               ; C_電磁ﾛｯｸ解除
MCR
;<h1/>ﾄﾚｲ残量なし検知
;
LD MR12000               ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
LD R4502                 ; BC_ﾄﾚｲｾｯﾄ確認2_中下
OR R4504                 ; BC_ﾄﾚｲｾｯﾄ確認3_中上
OR R4506                 ; BC_ﾄﾚｲｾｯﾄ確認4_上
OR R4500                 ; BC_ﾄﾚｲｾｯﾄ確認1_下
ANL
LD MR12001               ; COM_機種_小ﾄﾚｲ(2.4)_Flg
AND R5201                ; SC 段ﾊﾞﾗｼ上下L(右) 上昇限
AND R5203                ; SC 段ﾊﾞﾗｼ上下L(左) 上昇限
AND R5205                ; SC 段ﾊﾞﾗｼ上下S(右) 下降限
AND R5207                ; SC 段ﾊﾞﾗｼ上下S(左) 下降限
AND R5305                ; SC_ﾄﾚｲｾｯﾄ確認
ORL
OUT MR19000              ; ﾄﾚｲ有り
LD MR12000               ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
ANB MR13501              ; T1_段ﾊﾞﾗｼ中_IL
OR MR12001               ; COM_機種_小ﾄﾚｲ(2.4)_Flg
ANB MR19000              ; ﾄﾚｲ有り
ANB R46700               ; _安全ｶﾊﾞｰ1開処理中
ANB R46208               ; _Group1　ｴﾗｰ発生中
AND R46100               ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
TMR @5 #50               ; ﾄﾚｲ状態確認ﾃﾞｨﾚｲ
CON
AND @T5                  ; ﾄﾚｲ状態確認ﾃﾞｨﾚｲ
MSTRT WARNING_DISP #1 #0 #1 #1
OUT R19001               ; ﾒｯｾｰｼﾞ消去ﾌﾗｸﾞ
LD MR19000               ; ﾄﾚｲ有り
ORF R46100               ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
MSTRT WARNING_DEL #1 #0
BLD DM2000 #0            ; _動作ﾊﾟﾗﾒｰﾀ
BOR DM2000 #1            ; _動作ﾊﾟﾗﾒｰﾀ
BOR DM2000 #2            ; _動作ﾊﾟﾗﾒｰﾀ
BOR DM2000 #3            ; _動作ﾊﾟﾗﾒｰﾀ
BOR DM2000 #4            ; _動作ﾊﾟﾗﾒｰﾀ
BOR DM2000 #5            ; _動作ﾊﾟﾗﾒｰﾀ
BOR DM2000 #6            ; _動作ﾊﾟﾗﾒｰﾀ
BOR DM2000 #15           ; _動作ﾊﾟﾗﾒｰﾀ
OUT MR10007              ; 動作ﾊﾟﾗﾒｰﾀ変更中
LDB R46100               ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
RES MR10015              ; 動ﾊﾟﾗ変更後AUTO実行
CON
RES MR10014              ; 動ﾊﾟﾗ変更後AUTOｷｬﾝｾﾙ
BLD DM2000 #5            ; _動作ﾊﾟﾗﾒｰﾀ
AND= DM5024 DM1          ; _生産ｶｳﾝﾀ3
AND R46100               ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
OUT MR10011              ; 指定数搬送完了
BLD DM2000 #6            ; _動作ﾊﾟﾗﾒｰﾀ
ANB R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46100               ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R46102               ; _ﾒﾝﾃﾅﾝｽ運転中　ﾓｰﾄﾞﾌﾗｸﾞ
MOV #0 DM20010           ; 空運転ﾊﾝﾄﾞ1ﾜｰｸ有無
MOV #0 DM20011           ; 空運転ﾊﾝﾄﾞ1ﾜｰｸ有無
LD= DM2002 #0            ; _現在ｵﾍﾟﾚｰﾀﾚﾍﾞﾙ番号
OUT R54900               ; _設定内SW選択可／不可
OUT R54901               ; _設定内SW選択可／不可
LD= DM2002 #0            ; _現在ｵﾍﾟﾚｰﾀﾚﾍﾞﾙ番号
OR= DM2002 #1            ; _現在ｵﾍﾟﾚｰﾀﾚﾍﾞﾙ番号
OUT R54902               ; _設定内SW選択可／不可
LD= DM2002 #0            ; _現在ｵﾍﾟﾚｰﾀﾚﾍﾞﾙ番号
OUT R54904               ; _設定内SW選択可／不可
OUT R54905               ; _設定内SW選択可／不可
OUT R54906               ; _設定内SW選択可／不可
LD= DM8380 #1            ; _INDI　AUTO有効／無効
OUT MR10000              ; 未原点復帰
LD MR12102               ; COM_MC_TYPE_ﾎﾙﾀﾞ上
OR MR12103               ; COM_MC_TYPE_基板
OR MR12104               ; COM_MC_TYPE_ﾍｯﾄﾞｻﾌﾞ
OUT MR10012              ; 2ﾊﾝﾄﾞPP
LDB R46102               ; _ﾒﾝﾃﾅﾝｽ運転中　ﾓｰﾄﾞﾌﾗｸﾞ
AND<> DM3000 #211        ; _MainTP　表示中ﾍﾟｰｼﾞNo
DW #0 DM4110             ; _Group1　ﾒﾝﾃ動作番号
LD MR7000                ; C ﾀﾜｰﾗﾝﾌﾟ(R)
OUT R7000                ; C ﾀﾜｰﾗﾝﾌﾟ(R)
LD MR7001                ; C ﾀﾜｰﾗﾝﾌﾟ(Y)
OUT R7001                ; C ﾀﾜｰﾗﾝﾌﾟ(Y)
LD MR7002                ; C ﾀﾜｰﾗﾝﾌﾟ(G)
OUT R7002                ; C ﾀﾜｰﾗﾝﾌﾟ(G)
LD MR7003                ; C ﾀﾜｰﾗﾝﾌﾟ Bz1
OUT R7003                ; C ﾀﾜｰﾗﾝﾌﾟ Bz1
LD MR7004                ; C ﾀﾜｰﾗﾝﾌﾟ Bz2
OUT R7004                ; C ﾀﾜｰﾗﾝﾌﾟ Bz2
LD MR7005                ; C_電磁ﾛｯｸ解除
OR R506                  ; C ｶﾊﾞｰ 開
OUT R7005                ; C ﾄﾚｲﾁｪﾝｼﾞｬｰ 扉開
LD MR7006                ; C_ｽﾀｰﾄﾗﾝﾌﾟ_ｻﾌﾞSWBOX(ﾄﾚｲ交換用)
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR R44500                ; *Group1　ｽﾀｰﾄSWﾗﾝﾌﾟ
OUT R7006                ; C ｻﾌﾞSWBOX(ﾄﾚｲ交換用) ｽﾀｰﾄﾗﾝﾌﾟ
LD MR7007                ; C_ﾎﾟｰｽﾞﾗﾝﾌﾟ_ｻﾌﾞSWBOX(ﾄﾚｲ交換用)
OR R44502                ; *Group1　ｶﾊﾞｰ開要求SWﾗﾝﾌﾟ
OUT R7007                ; C ｻﾌﾞSWBOX(ﾄﾚｲ交換用) ﾎﾟｰｽﾞﾗﾝﾌﾟ
LD MR7008                ; BC ｽﾀｰﾄSWﾗﾝﾌﾟ(右)
OUT R7008                ; BC ｽﾀｰﾄSWﾗﾝﾌﾟ(右)
LD MR7009                ; BC ｽﾀｰﾄSWﾗﾝﾌﾟ(左)
OUT R7009                ; BC ｽﾀｰﾄSWﾗﾝﾌﾟ(左)
LD MR7010                ; S2_ﾜｰｸ1吸着ON
SHOT #50 R7010           ; B2/S2_ﾜｰｸ1_吸着ON
LD MR7011                ; S2_ﾜｰｸ1_吸着OFF
SHOT #50 R7011           ; B2/S2_ﾜｰｸ1_吸着OFF
LD MR7012                ; S2_ﾜｰｸ1_吸着破壊ON
MPS
SET MR7011               ; S2_ﾜｰｸ1_吸着OFF
CON
OUT R7012                ; B2/S2_ﾜｰｸ1_吸着破壊ON
MPP
TMR @10 #5               ; ﾜｰｸ1_吸着破壊_OFF_DLY
CON
AND @T10                 ; ﾜｰｸ1_吸着破壊_OFF_DLY
RES MR7012               ; S2_ﾜｰｸ1_吸着破壊ON
LD MR7013                ; S2_ﾜｰｸ2_吸着ON
SHOT #50 R7013           ; B2/S2_ﾜｰｸ2_吸着ON
LD MR7014                ; S2_ﾜｰｸ2_吸着OFF
SHOT #50 R7014           ; B2/S2_ﾜｰｸ2_吸着OFF
LD MR7015                ; S2_ﾜｰｸ2_吸着破壊ON
MPS
SET MR7014               ; S2_ﾜｰｸ2_吸着OFF
CON
OUT R7015                ; B2/S2_ﾜｰｸ2_吸着破壊ON
MPP
TMR @11 #5               ; ﾜｰｸ2_吸着破壊_OFF_DLY
CON
AND @T11                 ; ﾜｰｸ2_吸着破壊_OFF_DLY
RES MR7015               ; S2_ﾜｰｸ2_吸着破壊ON
LD MR7100                ; BC_ﾄﾚｲｶﾞｲﾄﾞ1_閉
ANB R46700               ; _安全ｶﾊﾞｰ1開処理中
OUT R7100                ; BC ﾄﾚｲｶﾞｲﾄﾞ1 閉
LD MR7102                ; BC_ﾄﾚｲｶﾞｲﾄﾞ2_閉
ANB R46700               ; _安全ｶﾊﾞｰ1開処理中
OUT R7102                ; BC ﾄﾚｲｶﾞｲﾄﾞ2 閉
LD MR7104                ; BC_ﾄﾚｲｶﾞｲﾄﾞ3_閉
ANB R46700               ; _安全ｶﾊﾞｰ1開処理中
OUT R7104                ; BC ﾄﾚｲｶﾞｲﾄﾞ3 閉
LD MR7106                ; BC_ﾄﾚｲｶﾞｲﾄﾞ4_閉
ANB R46700               ; _安全ｶﾊﾞｰ1開処理中
OUT R7106                ; BC ﾄﾚｲｶﾞｲﾄﾞ4 閉
LD MR7108                ; BC ﾄﾚｲ受け1 開
OUT R7108                ; BC ﾄﾚｲ受け1 開
LD MR7109                ; BC ﾄﾚｲ受け1 閉
OUT R7109                ; BC ﾄﾚｲ受け1 閉
LD MR7110                ; BC ﾄﾚｲ受け2 開
OUT R7110                ; BC ﾄﾚｲ受け2 開
LD MR7111                ; BC ﾄﾚｲ受け2 閉
OUT R7111                ; BC ﾄﾚｲ受け2 閉
LD MR7112                ; BC ﾄﾚｲ受け3 開
OUT R7112                ; BC ﾄﾚｲ受け3 開
LD MR7113                ; BC ﾄﾚｲ受け3 閉
OUT R7113                ; BC ﾄﾚｲ受け3 閉
LD MR7114                ; BC ﾄﾚｲ受け4 開
OUT R7114                ; BC ﾄﾚｲ受け4 開
LD MR7115                ; BC ﾄﾚｲ受け4 閉
OUT R7115                ; BC ﾄﾚｲ受け4 閉
LD MR7200                ; BC 下段移載搬送前進
OUT R7200                ; BC 下段移載 ﾄﾚｲ搬送 前進
LD MR7201                ; BC 下段移載搬送後退(手前)
OUT R7201                ; BC 下段移載 ﾄﾚｲ搬送 後退(手前)
LD MR7202                ; BC 下段移載ｽﾄｯﾊﾟ前進
OUT R7202                ; BC 下段移載 ﾄﾚｲｽﾄｯﾊﾟ 前進
LD MR7204                ; BC 段ﾊﾞﾗｼ上下L 下降
OUT R7204                ; BC 段ﾊﾞﾗｼ上下L 下降
LD MR7205                ; BC 段ﾊﾞﾗｼ上下L 上昇
OUT R7205                ; BC 段ﾊﾞﾗｼ上下L 上昇
LD MR7206                ; BC 段ﾊﾞﾗｼ上下S 上昇
OUT R7206                ; BC 段ﾊﾞﾗｼ上下S 上昇
LD MR7207                ; BC 段ﾊﾞﾗｼ上下S 下降
OUT R7207                ; BC 段ﾊﾞﾗｼ上下S 下降
LD MR7208                ; BC 段ﾊﾞﾗｼ前後 前進
OUT R7208                ; BC 段ﾊﾞﾗｼ前後 前進
LD MR7209                ; BC 段ﾊﾞﾗｼ前後 後退
OUT R7209                ; BC 段ﾊﾞﾗｼ前後 後退
LD MR7210                ; BC ﾄﾚｲｼﾌﾄ 下降
OUT R7210                ; BC ﾄﾚｲｼﾌﾄ 下降
LD MR7211                ; BC ﾄﾚｲｼﾌﾄ 上昇
OUT R7211                ; BC ﾄﾚｲｼﾌﾄ 上昇
LD MR7212                ; BC_ﾄﾚｲ中間受け_開
OUT R7212                ; BC ﾄﾚｲ中間受け上 開
LD MR7213                ; BC_ﾄﾚｲ中間受け_閉
OUT R7213                ; BC ﾄﾚｲ中間受け上 閉
LD MR7408                ; BC_段ﾊﾞﾗｼ押え_閉_洗浄
AND MR12300              ; COM_洗浄使用(常時OFF)
OUT R7214                ; BC 段ﾊﾞﾗｼ押さえ 閉
LD MR7409                ; BC_段ﾊﾞﾗｼ押え_開_洗浄
AND MR12300              ; COM_洗浄使用(常時OFF)
OUT R7215                ; BC 段ﾊﾞﾗｼ押さえ  開
LD MR7400                ; BC_ﾊﾟﾚﾀｲｽﾞﾄﾚｲ押ｴ_下降
OUT R7400                ; BC ﾊﾟﾚﾀｲｼﾞﾝｸﾞ ﾄﾚｲ押え 下降
LD MR7401                ; BC_ﾊﾟﾚﾀｲｽﾞﾄﾚｲ押ｴ_上昇
OUT R7401                ; BC ﾊﾟﾚﾀｲｼﾞﾝｸﾞ ﾄﾚｲ押え 上昇
LD MR7402                ; BC ｴﾚﾍﾞｰﾀﾄﾚｲ受渡 下降
OUT R7402                ; BC ﾄﾚｲ受渡 下降
LD MR7403                ; BC ｴﾚﾍﾞｰﾀﾄﾚｲ受渡 上昇
OUT R7403                ; BC ｴﾚﾄﾚｲ受渡 上昇
LD MR7404                ; BC ｴﾚﾍﾞｰﾀﾄﾚｲ受渡 閉
OUT R7404                ; BC ｴﾚﾄﾚｲ受渡 閉
LD MR7405                ; BC ｴﾚﾍﾞｰﾀﾄﾚｲ受渡 開
OUT R7405                ; BC ｴﾚﾄﾚｲ受渡 開
LD MR7406                ; BC EV ﾄﾚｲｶﾞｲﾄﾞ 上昇
OUT R7406                ; BC EV ﾄﾚｲｶﾞｲﾄﾞ 上昇
;★R7408,7409 洗浄LD大で使用
LD MR7408                ; BC_段ﾊﾞﾗｼ押え_閉_洗浄
OUT R7408                ; BC 段ﾊﾞﾗｼ押さえ 閉
LD MR7409                ; BC_段ﾊﾞﾗｼ押え_開_洗浄
OUT R7409                ; BC 段ﾊﾞﾗｼ押さえ  開
LD MR7410                ; B3_受渡 ｼﾌﾄ_前進
OUT R7410                ; B3 受渡ｽﾗｲﾀﾞ ｼﾌﾄ 前進
LD MR7411                ; B3_受渡ｼﾌﾄ_後退
OUT R7411                ; B3 受渡ｽﾗｲﾀﾞ ｼﾌﾄ 後退
LD MR7412                ; B3_ﾜｰｸ位置決_前進
OUT R7412                ; B3 受渡ｽﾗｲﾀﾞ ﾜｰｸ位置決め 前進
LD MR7413                ; B3＿ﾜｰｸ位置決_後退
OUT R7413                ; B3 受渡ｽﾗｲﾀﾞ ﾜｰｸ位置決め 後退
LD MR7414                ; B3_受渡ｽﾗｲﾀﾞ_受渡側
OUT R7414                ; B3 受渡ｽﾗｲﾀﾞ 搬送ｽﾗｲﾀﾞ 受渡側
LD MR7415                ; B3_受渡ｽﾗｲﾀﾞ_戻側
OUT R7415                ; B3 受渡ｽﾗｲﾀﾞ 搬送ｽﾗｲﾀﾞ 戻側
LD MR7500                ; B1_仮置反転_反転
OUT R7500                ; B1 仮置反転 反転 反転
LD MR7501                ; B1_仮置反転_戻し
OUT R7501                ; B1 仮置反転 反転 戻
LD MR7502                ; B1_仮置反転_ﾁｬｯｸ_閉
OUT R7502                ; B1 仮置反転 ﾁｬｯｸ 閉
LD MR7503                ; B1_仮置反転_ﾁｬｯｸ_開
OUT R7503                ; B1 仮置反転 ﾁｬｯｸ 開
LD MR7504                ; B1_仮置反転_S_上昇_上下1
OUT R7504                ; B1 仮置反転 上下1(S) 上昇
LD MR7505                ; B1_仮置反転_S_下降_上下1
OUT R7505                ; B1 仮置反転 上下1(S) 下降
LD MR7506                ; B1_仮置反転_L_上昇_上下2
OUT R7506                ; B1 仮置反転 上下2(L) 上昇
LD MR7507                ; B1_仮置反転_L_下降_上下2
OUT R7507                ; B1 仮置反転 上下2(L) 下降
LD MR7508                ; B1_ｾﾙ間搬送_MC側
OUT R7508                ; B1 ｾﾙ間搬送 搬送 MC側
LD MR7509                ; B1_ｾﾙ間搬送_TC側
OUT R7509                ; B1 ｾﾙ間搬送 搬送 TC側
LD MR7510                ; B1_ﾋﾟｯﾁ変換_TC側_ｾﾙ間搬送
OUT R7510                ; B1 ｾﾙ間搬送 ﾋﾟｯﾁ変換 TC側
LD MR7512                ; B_搬送_ﾁｬｯｸ 閉_ｾﾙ間搬送
OUT R7512                ; B1 ｾﾙ間搬送 ﾁｬｯｸ 閉
LD MR7513                ; B1_搬送ﾁｬｯｸ_開_ｾﾙ間搬送
OUT R7513                ; B1 ｾﾙ間搬送 ﾁｬｯｸ 開
LD MR7514                ; B1_搬送ﾁｬｯｸ_下降_ｾﾙ間搬送
OUT R7514                ; B1 ｾﾙ間搬送 ﾁｬｯｸ 下降
LD MR8100                ; SC ﾄﾚｲ受け 開
OUT R8100                ; SC ﾄﾚｲ受け 開
LD MR8101                ; SC ﾄﾚｲ受け 閉
OUT R8101                ; SC ﾄﾚｲ受け 閉
LD MR8102                ; SC 段ﾊﾞﾗｼ前後 前進
OUT R8102                ; SC 段ﾊﾞﾗｼ前後 閉
LD MR8103                ; SC 段ﾊﾞﾗｼ前後 後退
OUT R8103                ; SC 段ﾊﾞﾗｼ前後 後退
LD MR8104                ; SC 段ﾊﾞﾗｼ上下L 下降
OUT R8104                ; SC 段ﾊﾞﾗｼ上下L 下降
LD MR8105                ; SC 段ﾊﾞﾗｼ上下L 上昇
OUT R8105                ; SC 段ﾊﾞﾗｼ上下L 上昇
LD MR8106                ; SC 段ﾊﾞﾗｼ上下S 上昇
OUT R8106                ; SC 段ﾊﾞﾗｼ上下S 上昇
LD MR8107                ; SC 段ﾊﾞﾗｼ上下S 下降
OUT R8107                ; SC 段ﾊﾞﾗｼ上下S 下降
LD MR8108                ; SC 下段移載搬送前進
OUT R8108                ; SC 下段移載 ﾄﾚｲ搬送 前進
LD MR8109                ; SC 下段移載搬送後退(手前)
OUT R8109                ; SC 下段移載 ﾄﾚｲ搬送 後退(手前)
LD MR8110                ; SC 下段移載ｽﾄｯﾊﾟ前進
OUT R8110                ; SC ﾄﾚｲｽﾄｯﾊﾟ 前進
LD MR8208                ; S1 段ﾊﾞﾗｼ押さえ 閉
AND MR12300              ; COM_洗浄使用(常時OFF)
OUT R8112                ; S1 段ﾊﾞﾗｼ押さえ 閉
LD MR8209                ; S1 段ﾊﾞﾗｼ押さえ 開
AND MR12300              ; COM_洗浄使用(常時OFF)
OUT R8113                ; S1 段ﾊﾞﾗｼ押さえ 開
LD MR8200                ; SC_ﾊﾟﾚﾀｲｽﾞ_ﾄﾚｲ押ｴ下降
OUT R8200                ; SC ﾄﾚｲ押え 下降
LD MR8201                ; SC_ﾊﾟﾚﾀｲｽﾞ_ﾄﾚｲ押ｴ上昇
OUT R8201                ; SC ﾄﾚｲ押え 上昇
LD MR8202                ; SC ｴﾚﾍﾞｰﾀﾄﾚｲ受渡 下降
OUT R8202                ; SC ﾄﾚｲ受渡 下降
LD MR8203                ; SC ｴﾚﾍﾞｰﾀﾄﾚｲ受渡 上昇
OUT R8203                ; SC ｴﾚﾄﾚｲ受渡 上昇
LD MR8204                ; SC ｴﾚﾍﾞｰﾀﾄﾚｲ受渡 閉
OUT R8204                ; SC ｴﾚﾄﾚｲ受渡 閉
LD MR8205                ; SC ｴﾚﾍﾞｰﾀﾄﾚｲ受渡 開
OUT R8205                ; SC ｴﾚﾄﾚｲ受渡 開
LD MR8206                ; SC EV ﾄﾚｲｶﾞｲﾄﾞ 上昇
OUT R8206                ; SC EV ﾄﾚｲｶﾞｲﾄﾞ 上昇
;【注意】R8208はﾎﾙﾀﾞ上とﾍｯﾄﾞｻﾌﾞで競合有り
;ﾎﾙﾀﾞ上：ﾁｬｯｸ1_閉
;ﾍｯﾄﾞｻﾌﾞ：ﾄﾚｲ位置決め後退
LD MR8208                ; S1 段ﾊﾞﾗｼ押さえ 閉
OUT R8208                ; S1 段ﾊﾞﾗｼ押さえ 閉
LD MR8209                ; S1 段ﾊﾞﾗｼ押さえ 開
OUT R8209                ; S1 段ﾊﾞﾗｼ押さえ 開
;★R8112,8113 洗浄LD小　段ﾊﾞﾗｼ押え
LD MR8208                ; S1 段ﾊﾞﾗｼ押さえ 閉
AND MR12300              ; COM_洗浄使用(常時OFF)
OUT R8210                ; ×S1 段ﾊﾞﾗｼ押さえ 閉
LD MR8209                ; S1 段ﾊﾞﾗｼ押さえ 開
AND MR12300              ; COM_洗浄使用(常時OFF)
OUT R8211                ; ×S1 段ﾊﾞﾗｼ押さえ 開
;<h1/>UsrIO_ﾘﾝｸ信号(下流入力装置)
;★★　洗浄LD_Type_専用　★★
;※他のTypeは書き換え必要
LD B2000                 ; MAIN_自PLC電源状態
ANB MR12600              ; 下流装置_ダミー
LD CR2003                ; 常時OFF
AND MR12600              ; 下流装置_ダミー
ORL
OUT MR12700              ; MAIN_自PLC電源状態
LDB DM2000.14
AND B2001                ; MAIN_非常停止
ANB MR12600              ; 下流装置_ダミー
LD DM2000.14
ANB MR12600              ; 下流装置_ダミー
ORL
LD CR2003                ; 常時OFF
AND MR12600              ; 下流装置_ダミー
ORL
OUT MR12701              ; MAIN_非常停止
LDB DM2000.14
AND B2002                ; MAIN_ｲﾝﾀｰﾛｯｸ信号
ANB MR12600              ; 下流装置_ダミー
LD DM2000.14
ANB MR12600              ; 下流装置_ダミー
ORL
LD CR2002                ; 常時ON
AND MR12600              ; 下流装置_ダミー
ORL
OUT MR12702              ; MAIN_ｲﾝﾀｰﾛｯｸ信号
LD B2003                 ; MAIN_予備
ANB MR12600              ; 下流装置_ダミー
LD CR2003                ; 常時OFF
AND MR12600              ; 下流装置_ダミー
ORL
OUT MR12703              ; MAIN_予備
LD B2004                 ; MAIN_予備
ANB MR12600              ; 下流装置_ダミー
LD CR2003                ; 常時OFF
AND MR12600              ; 下流装置_ダミー
ORL
OUT MR12704              ; MAIN_予備
LD B2005                 ; MAIN_ﾁｪﾝｼﾞ動作要求
ANB MR12600              ; 下流装置_ダミー
LDB B2005                ; MAIN_ﾁｪﾝｼﾞ動作要求
AND LR103                ; _割り込みSW4　ON/OFF状態
ANB MR12600              ; 下流装置_ダミー
ORL
LD DM2000.14
ANB MR12600              ; 下流装置_ダミー
AND MR20900              ; TP_動作完了_テスト
ORL
LD MR20900               ; TP_動作完了_テスト
AND MR12600              ; 下流装置_ダミー
ORL
OUT MR12705              ; MAIN_ﾁｪﾝｼﾞ動作要求
LDB DM2000.14
AND B2006                ; MAIN_動作完了確認通知
ANB MR12600              ; 下流装置_ダミー
LD DM2000.14
ANB MR12600              ; 下流装置_ダミー
ORL
LD CR2003                ; 常時OFF
AND MR12600              ; 下流装置_ダミー
ORL
OUT MR12706              ; MAIN_動作完了確認通知
LD B2007                 ; ﾒｲﾝより機種切替要求
ANB MR12600              ; 下流装置_ダミー
LD CR2003                ; 常時OFF
AND MR12600              ; 下流装置_ダミー
ORL
OUT MR12707              ; MAIN_予備
LD B2008                 ; MAIN_予備
ANB MR12600              ; 下流装置_ダミー
LD CR2003                ; 常時OFF
AND MR12600              ; 下流装置_ダミー
ORL
OUT MR12708              ; MAIN_予備
LD B2009                 ; MAIN_PAUSE要求
ANB MR12600              ; 下流装置_ダミー
LD CR2003                ; 常時OFF
AND MR12600              ; 下流装置_ダミー
ORL
AND MR12300              ; COM_洗浄使用(常時OFF)
OUT MR12709              ; MAIN_PAUSE要求
LDB DM2000.15
AND B200A                ; MAIN_PAUSE許可
ANB MR12600              ; 下流装置_ダミー
LD DM2000.15
ANB MR12600              ; 下流装置_ダミー
ORL
OR MR12602               ; 下流ﾎﾟｰｽﾞ許可_強制ON
OUT MR12710              ; MAIN_PAUSE許可
LD B200B                 ; MAIN_ｽﾃｰﾀｽ(AUTO)
ANB MR12600              ; 下流装置_ダミー
LD CR2003                ; 常時OFF
AND MR12600              ; 下流装置_ダミー
ORL
OUT MR12711              ; MAIN_ｽﾃｰﾀｽ(AUTO)
LD B200C                 ; MAIN_ｽﾃｰﾀｽ(HOME)
ANB MR12600              ; 下流装置_ダミー
LD CR2003                ; 常時OFF
AND MR12600              ; 下流装置_ダミー
ORL
OUT MR12712              ; MAIN_ｽﾃｰﾀｽ(HOME)
LD B200D                 ; MAIN_ｽﾃｰﾀｽ(MAINTE)
ANB MR12600              ; 下流装置_ダミー
LD CR2003                ; 常時OFF
AND MR12600              ; 下流装置_ダミー
ORL
OUT MR12713              ; MAIN_ｽﾃｰﾀｽ(MAINTE)
LD B200E                 ; MAIN_ｽﾃｰﾀｽ(PAUSE)
ANB MR12600              ; 下流装置_ダミー
LD CR2003                ; 常時OFF
AND MR12600              ; 下流装置_ダミー
ORL
OUT MR12714              ; MAIN_ｽﾃｰﾀｽ(PAUSE)
LD B200F                 ; MAIN_予備
ANB MR12600              ; 下流装置_ダミー
LD CR2003                ; 常時OFF
AND MR12600              ; 下流装置_ダミー
ORL
OUT MR12715              ; MAIN_予備
;<h1/>UsrIO_ﾘﾝｸ信号(下流出力装置)
;★★　洗浄LD_Type_専用　★★
;※他のTypeは書き換え必要
LD CR2002                ; 常時ON
ANB MR12600              ; 下流装置_ダミー
OUT B2010                ; MC_自PLC電源状態
LD R001                  ; C 非常停止
ANB MR12600              ; 下流装置_ダミー
OUT B2011                ; MC_非常停止
LD R46100                ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
LD MR13106               ; T0_ﾜｰｸ取出し可_洗浄へ
OR MR13109               ; T0_ｲﾝﾀｰﾛｯｸ先行ON_洗浄へ
ANL
OR R46102                ; _ﾒﾝﾃﾅﾝｽ運転中　ﾓｰﾄﾞﾌﾗｸﾞ
AND MR13302              ; T0_ﾄﾚｲ搬送_Pos#11
LD MR12000               ; COM_機種_大ﾄﾚｲ(1.3.5)_Flg
AND R4800                ; BC_ﾊﾟﾚﾄﾚｲ押えR_下降限_右
AND R4802                ; BC_ﾊﾟﾚﾄﾚｲ押えL_下降限_左
AND R4900                ; BC_ﾊﾟﾚﾄﾚｲ押えR奥_下降限_右奥
AND R4902                ; BC_ﾊﾟﾚﾄﾚｲ押えL奥_下降限_左奥
LD MR12001               ; COM_機種_小ﾄﾚｲ(2.4)_Flg
AND R5400                ; SC ﾊﾟﾚﾀｲｼﾞﾝｸﾞ ﾄﾚｲ押え(右) 下降限
AND R5402                ; SC ﾊﾟﾚﾀｲｼﾞﾝｸﾞ ﾄﾚｲ押え(左) 下降限
AND R5212                ; SC ﾊﾟﾚﾀｲｼﾞﾝｸﾞ ﾄﾚｲ押え右奥 下降限
AND R5214                ; SC ﾊﾟﾚﾀｲｼﾞﾝｸﾞ ﾄﾚｲ押え左奥 下降限
ORL
ANL
ANB MR12600              ; 下流装置_ダミー
OUT B2012                ; MC_ｲﾝﾀｰﾛｯｸ信号
LD MR13106               ; T0_ﾜｰｸ取出し可_洗浄へ
ANB MR12600              ; 下流装置_ダミー
OUT B2013                ; MC_ﾜｰｸ取出し可
LD MR13107               ; T0_動作開始通知_洗浄へ
ANB MR12600              ; 下流装置_ダミー
OUT B2014                ; MC_動作開始通知
LD MR13108               ; T0_動作完了通知_洗浄へ
ANB MR12600              ; 下流装置_ダミー
OUT B2015                ; MC_動作完了通知
LD CR2003                ; 常時OFF
ANB MR12600              ; 下流装置_ダミー
OUT B2017                ; ﾒｲﾝへ機種切替可
LD CR2003                ; 常時OFF
ANB MR12600              ; 下流装置_ダミー
OUT B2018                ; MC_予備
LD MR12206               ; COM_Mainへﾎﾟｰｽﾞ要求
ANB MR12600              ; 下流装置_ダミー
ANB MR12602              ; 下流ﾎﾟｰｽﾞ許可_強制ON
OUT B2019                ; MC_PAUSE要求
LD MR12202               ; COM_装置PAUSE中_下流へ
ANB MR12600              ; 下流装置_ダミー
AND MR12302              ; COM_Hi_覚え(常時OFF)
OUT B201A                ; MC_PAUSE許可
LD R46100                ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB MR12600              ; 下流装置_ダミー
OUT B201B                ; MC_ｽﾃｰﾀｽ(AUTO)
LD R46101                ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB MR12600              ; 下流装置_ダミー
OUT B201C                ; MC_ｽﾃｰﾀｽ(HOME)
LD R46102                ; _ﾒﾝﾃﾅﾝｽ運転中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB MR12600              ; 下流装置_ダミー
OUT B201D                ; MC_ｽﾃｰﾀｽ(MAINTE)
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
ANB MR12600              ; 下流装置_ダミー
OUT B201E                ; MC_ｽﾃｰﾀｽ(PAUSE)
;<h1/>保守管理_FLG、機能切替_FLG
LD CR2003                ; 常時OFF
OUT MR12300              ; COM_洗浄使用(常時OFF)
OUT MR12301              ; COM_Yt_覚え(常時OFF)
OUT MR12302              ; COM_Hi_覚え(常時OFF)
OUT MR12303              ; COM_Guest覚え(常時OFF)
LD= DM5010 #32           ; _AUTO動作番号
MPS
OUT MR12600              ; 下流装置_ダミー
MPP
AND CR2008               ; 運転開始時1ｽｷｬﾝON
MOV #0 DM20021           ; 無効ﾌﾗｸﾞ_2
MOV #1 DM5010            ; _AUTO動作番号
LD<> DM20021 #0          ; 無効ﾌﾗｸﾞ_2
OUT MR12601              ; COM_無効ﾌﾗｸﾞ_2
LD<> DM20022 #0          ; 無効ﾌﾗｸﾞ_3
MPS
OUT MR12602              ; 下流ﾎﾟｰｽﾞ許可_強制ON
MPP
AND CR2008               ; 運転開始時1ｽｷｬﾝON
MOV #0 DM20022           ; 無効ﾌﾗｸﾞ_3
LD<> DM20023 #0          ; 無効ﾌﾗｸﾞ_4
OUT MR12603              ; COM_無効ﾌﾗｸﾞ_4
;<h1/>Diplay
LD CR2002                ; 常時ON
MPS
AND= DM5260 #1           ; 選択中ｺｰﾄﾞ
BMOV DM800 DM19980 #7    ; 機種1
MRD
AND= DM5260 #2           ; 選択中ｺｰﾄﾞ
BMOV DM808 DM19980 #7    ; 機種2
MRD
AND= DM5260 #3           ; 選択中ｺｰﾄﾞ
BMOV DM816 DM19980 #7    ; 機種3
MPP
AND= DM5260 #4           ; 選択中ｺｰﾄﾞ
BMOV DM824 DM19980 #7    ; 機種4
;<h1/>ﾃｽﾄﾄﾗｲ
;'ﾍｯﾄﾞｻﾌﾞ_ﾊﾟﾚﾀｲｽﾞPos生成
;DM22002.S = (DM21090.S -1) / 2
;DM22003.S = DM21090.S + DM22002.S
;DM22004.S = DM22002.S MOD 2
;
;DM21092.S = DM22003.S + DM22004.S + 10
;
;'ﾍｯﾄﾞｻﾌﾞ_ﾊﾟﾚﾀｲｽﾞPos生成
;
;DM22002.S = (DM21090.S -1) / 2
;
LD CR2002                ; 常時ON
LDA.S DM21090            ; ﾃｽﾄ用_削除可能
CON
EXT.S
CON
SUB.L +1
CON
EXT.L
CON
DIV.L +2
CON
STA.S DM22002
;DM22003.S = DM21090.S + DM22002.S
;
LD CR2002                ; 常時ON
LDA.S DM22002
CON
EXT.S
CON
STA.L @VM0
CON
LDA.S DM21090            ; ﾃｽﾄ用_削除可能
CON
EXT.S
CON
ADD.L @VM0
CON
STA.S DM22003
;DM22004.S = DM22002.S MOD 2
;
LD CR2002                ; 常時ON
LDA.S DM22002
CON
EXT.S
CON
EXT.L
CON
DIV.L +2
CON
LDA.L TM2
CON
STA.S DM22004
;DM21092.S = DM22003.S + DM22004.S + 10
;
LD CR2002                ; 常時ON
LDA.S DM22004
CON
EXT.S
CON
STA.L @VM2
CON
LDA.S DM22003
CON
EXT.S
CON
ADD.L @VM2
CON
ADD.L +10
CON
STA.S DM21092            ; ﾃｽﾄ用_削除可能
;
;ｼﾐｭﾚｰﾀﾓｰﾄﾞ時ﾕｰｻﾞｰI/O無効用
;↓↓ Please not delete.
LABEL #0
END
ENDH
