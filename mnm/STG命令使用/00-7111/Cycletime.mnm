DEVICE:53
;MODULE:Cycletime
;MODULE_TYPE:0
;<h1/>ｻｲｸﾙﾀｲﾑ計測/Cycle time measurement
;初期化/Initialize
LDP MR200                ; cycle time check flag
FMOV #0 TM50 #20         ; all check cycle time
DW #0 @TM0
CON
DW #0 TM90               ; each check cycle check flag
CON
DW #0 @EM0
;経過時間記録/Elapsed time record
LD MR200                 ; cycle time check flag
AND CR2005               ; 100ms clock pulse
@INC @EM0
;各工程時間記録/Each process time record
LD MR200                 ; cycle time check flag
MPS
ANP TM90.0
MPS
RES TM90.0
CON
MOV @EM0 TM51            ; check start ready operation
MPP
MOV @EM0 @TM0
MRD
ANP TM90.1
MPS
RES TM90.1
CON
LDA.S @EM0
CON
SUB.S @TM0
CON
STA.S TM52               ; piping check cycle time
MPP
MOV @EM0 @TM0
MRD
ANP TM90.2
MPS
RES TM90.2
CON
LDA.S @EM0
CON
SUB.S @TM0
CON
STA.S TM53               ; leak check cycle time
MPP
MOV @EM0 @TM0
MRD
ANP TM90.3
MPS
RES TM90.3
CON
LDA.S @EM0
CON
SUB.S @TM0
CON
STA.S TM54               ; reversed valve check cycle time
MPP
MOV @EM0 @TM0
MRD
ANP TM90.4
MPS
RES TM90.4
CON
LDA.S @EM0
CON
SUB.S @TM0
CON
STA.S TM55               ; process 5 cycle time
MPP
MOV @EM0 @TM0
MPP
ANP TM90.5
MPS
RES TM90.5
CON
LDA.S @EM0
CON
SUB.S @TM0
CON
STA.S TM56               ; process 6 cycle time
MPP
MOV @EM0 @TM0
;ｻｲｸﾙﾀｲﾑ計測終了/Cycle time measurement end
LDF MR200                ; cycle time check flag
MPS
LDA.S @EM0
CON
SUB.S @TM0
CON
STA.S TM60               ; check end operation
MPP
MOV @EM0 TM50            ; all check cycle time
END
ENDH
