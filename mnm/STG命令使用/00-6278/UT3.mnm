DEVICE:53
;MODULE:UT3
;MODULE_TYPE:0
;SCRIPT_TYPE:
;非常停止
LD R50010                ; Emergency　Stop
OR @MR001
ZRES @MR100 @MR9015      ; Err07 ﾜｰｸ浮き表示  Err130 解除完了
CON
OUT @MR001
TMR @59 #5
LD @T59
MDSTOP UT3
MDSTOP PLUNGER
MDSTOP SATELLITE
LDB R50300               ; Pause
ANB R50113               ; Err ST3
ANB R50110               ; Err INDEX
OUT @MR002               ; PAUSE・ERROR無し
;DM287はHostﾃﾞｰﾀ　1：黒　2：3色　3：4色
;DM287  1:Black  3:YMC 3colors  4:4colors
LD R50603                ; TP AUTO選択
OR R50001                ; AUTO
AND LR41100              ; AUTO-0    Normal
LD= DM287 #2             ; ModelIdentficationNumber
OR= DM287 #3             ; ModelIdentficationNumber
ANL
LD R50604                ; TP STEP選択
OR R50002                ; STEP
LD LR41300               ; INK ALL SELECT 
OR LR41301               ; INK YELLOW SELECT 
OR LR41305               ; INK 3 COLORS SELECT 
ANL
ORL
OUT @MR011               ; ﾍｯﾄﾞ1　  注入有
LD R50603                ; TP AUTO選択
OR R50001                ; AUTO
AND LR41100              ; AUTO-0    Normal
LD= DM287 #2             ; ModelIdentficationNumber
OR= DM287 #3             ; ModelIdentficationNumber
ANL
LD R50604                ; TP STEP選択
OR R50002                ; STEP
LD LR41300               ; INK ALL SELECT 
OR LR41302               ; INK MAGENTA SELECT 
OR LR41305               ; INK 3 COLORS SELECT 
ANL
ORL
OUT @MR012               ; ﾍｯﾄﾞ2　  注入有
LD R50603                ; TP AUTO選択
OR R50001                ; AUTO
AND LR41100              ; AUTO-0    Normal
LD= DM287 #2             ; ModelIdentficationNumber
OR= DM287 #3             ; ModelIdentficationNumber
ANL
LD R50604                ; TP STEP選択
OR R50002                ; STEP
LD LR41300               ; INK ALL SELECT 
OR LR41303               ; INK CYAN SELECT 
OR LR41305               ; INK 3 COLORS SELECT 
ANL
ORL
OUT @MR013               ; ﾍｯﾄﾞ3　  注入有
LD R50603                ; TP AUTO選択
OR R50001                ; AUTO
AND LR41100              ; AUTO-0    Normal
LD= DM287 #1             ; ModelIdentficationNumber
OR= DM287 #3             ; ModelIdentficationNumber
ANL
LD R50604                ; TP STEP選択
OR R50002                ; STEP
LD LR41300               ; INK ALL SELECT 
OR LR41304               ; INK BLACK SELECT 
ANL
ORL
OUT @MR014               ; ﾍｯﾄﾞ4　  注入有
LD CR2002                ; 常時ON
MPS
AND LR40401              ; UT3 STEP-1 ｲﾝｸ吐出 単発
DW #1 @DM2               ; 吐出設定回数
MPP
AND LR40402              ; UT3 STEP-2 ｲﾝｸ吐出 連続
MOV FM400 @DM2           ; 連続捨てだし回数  吐出設定回数
LD R4107                 ; 2ST ﾜｰｸ浮き検出1(内側)
AND R4108                ; 2ST ﾜｰｸ浮き検出2(外側)
OR R601                  ; 浮きｾﾝｻ無視
TMH @2 #0                ; 浮き検出安定時間
CON
AND @T2                  ; 浮き検出安定時間
OUT @MR004               ; ｶｰﾄﾘｯｼﾞ浮きOK
;<h1/>■ HOME
LD R50003                ; HOME
ANB R50203               ; UT3 Do
MPS
SET R50203               ; UT3 Do
CON
SET @MR1113              ; HOMEｽﾀｰﾄ
MRD
MDSTRT PLUNGER
MPP
MDSTRT SATELLITE
LDB R50003               ; HOME
ANB R50001               ; AUTO
ANB R50002               ; STEP
AND @MR1015              ; UT3 HOME完了
RES R50203               ; UT3 Do
CON
RES @MR1015              ; UT3 HOME完了
LD @MR1113               ; HOMEｽﾀｰﾄ
AND= DM4000 #3           ; TP 現在表示中画面
TMH @31 #10              ; ﾀｲﾐﾝｸﾞ
CON
AND @T31                 ; ﾀｲﾐﾝｸﾞ
DIFU @MR1114             ; HOMEｽﾀｰﾄPLS
LD @MR1114               ; HOMEｽﾀｰﾄPLS
SET @MR1100              ; 次ｽﾃｯﾌﾟへ
STG @MR1100              ; 次ｽﾃｯﾌﾟへ
AND @MR002               ; PAUSE・ERROR無し
RES @MR1113              ; HOMEｽﾀｰﾄ
CON
SET R50903               ; IND1 ST3  ｻｲｸﾙ動作中
CON
MPS
LDB MR39911              ; ｻﾃﾗｲﾄ無し
LD MR1302                ; (Y)ｻﾌﾞﾀﾝｸｲﾝｸ供給OK
OR MR1210                ; (Y) KDﾄﾞﾗﾑ交換検出FLG
ANL
LD MR1502                ; (M)ｻﾌﾞﾀﾝｸｲﾝｸ供給OK
OR MR1410                ; (M) KDﾄﾞﾗﾑ交換検出FLG
ANL
LD MR1702                ; (C)ｻﾌﾞﾀﾝｸｲﾝｸ供給OK
OR MR1610                ; (C) KDﾄﾞﾗﾑ交換検出FLG
ANL
LD MR1902                ; (B)ｻﾌﾞﾀﾝｸｲﾝｸ供給OK
OR MR1810                ; (B) KDﾄﾞﾗﾑ交換検出FLG
ANL
ANL
JMP @MR1200              ; ﾓﾃﾞﾙﾁｪｯｸへ
MPP
AND MR39911              ; ｻﾃﾗｲﾄ無し
TMR @30 #10              ; ﾀｲﾐﾝｸﾞ
CON
AND @T30                 ; ﾀｲﾐﾝｸﾞ
JMP @MR1400              ; 大気開放ﾁｪｯｸへ
;ﾓﾃﾞﾙﾁｪｯｸ / Model check 
STG @MR1200              ; ﾓﾃﾞﾙﾁｪｯｸへ
MPS
LD LR41100               ; AUTO-0    Normal
OR LR41101               ; AUTO-1 ｲﾝｸ選択1
OR LR41102               ; AUTO-2 ｲﾝｸ選択2
OR LR41103               ; AUTO-3 ｲﾝｸ選択3
OR LR41104               ; AUTO-4 ｲﾝｸ選択4
OR LR41105               ; AUTO-4 ｲﾝｸ選択1-3
ANL
RES @MR1108              ; ﾓﾃﾞﾙｴﾗｰFLG
CON
JMP @MR1309              ; ﾌﾟﾗﾝｼﾞｬｰ後退1-4へ
MPP
LDB LR41100              ; AUTO-0    Normal
ANB LR41101              ; AUTO-1 ｲﾝｸ選択1
ANB LR41102              ; AUTO-2 ｲﾝｸ選択2
ANB LR41103              ; AUTO-3 ｲﾝｸ選択3
AND LR41104              ; AUTO-4 ｲﾝｸ選択4
AND LR41105              ; AUTO-4 ｲﾝｸ選択1-3
ANL
SET @MR1108              ; ﾓﾃﾞﾙｴﾗｰFLG
CON
SET @MR508               ; ﾓﾃﾞﾙｴﾗｰ表示へ
CON
JMP @MR1201              ; ﾓﾃﾞﾙｴﾗｰへ
;ﾓﾃﾞﾙｴﾗｰの時 / model erorr 
STG @MR1201              ; ﾓﾃﾞﾙｴﾗｰへ
AND @MR1108              ; ﾓﾃﾞﾙｴﾗｰFLG
AND @MR509               ; ﾓﾃﾞﾙｴﾗｰ表示中
JMP @MR1202              ; 次ｽﾃｯﾌﾟへ
STG @MR1202              ; 次ｽﾃｯﾌﾟへ
ANB @MR509               ; ﾓﾃﾞﾙｴﾗｰ表示中
AND @MR515               ; ﾓﾃﾞﾙｴﾗｰ表示終了
JMP @MR1203              ; 次ｽﾃｯﾌﾟへ
STG @MR1203              ; 次ｽﾃｯﾌﾟへ
RES @MR1108              ; ﾓﾃﾞﾙｴﾗｰFLG
CON
RES @MR515               ; ﾓﾃﾞﾙｴﾗｰ表示終了
CON
SET R50011               ; TRAP
CON
ENDS
;ｲﾝｸｴﾝﾄﾞﾁｪｯｸ / INK end check 
STG @MR1300              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸへ
AND @MR002               ; PAUSE・ERROR無し
RES @MR6400              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall FLG
CON
RES @MR6415              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall 完了
CON
ANB @MR6414              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall 実行中
ANB @MR6415              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall 完了
JMP @MR1301              ; 次ｽﾃｯﾌﾟ
STG @MR1301              ; 次ｽﾃｯﾌﾟ
AND @MR002               ; PAUSE・ERROR無し
SET @MR6400              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall FLG
CON
JMP @MR1302              ; 次ｽﾃｯﾌﾟ
STG @MR1302              ; 次ｽﾃｯﾌﾟ
AND @MR002               ; PAUSE・ERROR無し
ANB @MR6414              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall 実行中
AND @MR6415              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall 完了
JMP @MR1303              ; 次ｽﾃｯﾌﾟ
STG @MR1303              ; 次ｽﾃｯﾌﾟ
AND @MR002               ; PAUSE・ERROR無し
RES @MR6415              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall 完了
CON
ANB @MR6414              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall 実行中
ANB @MR6415              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall 完了
JMP @MR1309              ; ﾌﾟﾗﾝｼﾞｬｰ後退1-4へ
;ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ 後退 / Plunger pump back 
STG @MR1309              ; ﾌﾟﾗﾝｼﾞｬｰ後退1-4へ
AND @MR002               ; PAUSE・ERROR無し
MPS
AND LR41100              ; AUTO-0    Normal
RES MR35002              ; ﾌﾟﾗﾝｼﾞｬｰ1-4 後退call完了
CON
ANB MR35000              ; ﾌﾟﾗﾝｼﾞｬｰ1-4 後退 call FLG
ANB MR35001              ; ﾌﾟﾗﾝｼﾞｬｰ1-4 後退実行中
SET MR35000              ; ﾌﾟﾗﾝｼﾞｬｰ1-4 後退 call FLG
CON
JMP @MR1310              ; 次ｽﾃｯﾌﾟ
MRD
AND LR41101              ; AUTO-1 ｲﾝｸ選択1
RES MR35102              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y)  後退call完了
CON
ANB MR35100              ; ﾌﾟﾗﾝｼﾞｬｰ1 後退 call FLG
ANB MR35101              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y) 後退実行中
SET MR35100              ; ﾌﾟﾗﾝｼﾞｬｰ1 後退 call FLG
CON
JMP @MR1310              ; 次ｽﾃｯﾌﾟ
MRD
AND LR41102              ; AUTO-2 ｲﾝｸ選択2
RES MR35202              ; ﾌﾟﾗﾝｼﾞｬｰ2(M)  後退call完了
CON
ANB MR35200              ; ﾌﾟﾗﾝｼﾞｬｰ2 後退 call FLG
ANB MR35201              ; ﾌﾟﾗﾝｼﾞｬｰ2(M) 後退実行中
SET MR35200              ; ﾌﾟﾗﾝｼﾞｬｰ2 後退 call FLG
CON
JMP @MR1310              ; 次ｽﾃｯﾌﾟ
MRD
AND LR41103              ; AUTO-3 ｲﾝｸ選択3
RES MR35302              ; ﾌﾟﾗﾝｼﾞｬｰ3(C)  後退call完了
CON
ANB MR35300              ; ﾌﾟﾗﾝｼﾞｬｰ3 後退 call FLG
ANB MR35301              ; ﾌﾟﾗﾝｼﾞｬｰ3(C) 後退実行中
SET MR35300              ; ﾌﾟﾗﾝｼﾞｬｰ3 後退 call FLG
CON
JMP @MR1310              ; 次ｽﾃｯﾌﾟ
MRD
AND LR41104              ; AUTO-4 ｲﾝｸ選択4
RES MR35402              ; ﾌﾟﾗﾝｼﾞｬｰ4(B)  後退call完了
CON
ANB MR35400              ; ﾌﾟﾗﾝｼﾞｬｰ4 後退 call FLG
ANB MR35401              ; ﾌﾟﾗﾝｼﾞｬｰ4(B) 後退実行中
SET MR35400              ; ﾌﾟﾗﾝｼﾞｬｰ4 後退 call FLG
CON
JMP @MR1310              ; 次ｽﾃｯﾌﾟ
MPP
AND LR41105              ; AUTO-4 ｲﾝｸ選択1-3
RES MR35502              ; ﾌﾟﾗﾝｼﾞｬｰ1-3 後退call完了
CON
ANB MR35500              ; ﾌﾟﾗﾝｼﾞｬｰ1-3 後退 call FLG
ANB MR35501              ; ﾌﾟﾗﾝｼﾞｬｰ1-3 後退実行中
SET MR35500              ; ﾌﾟﾗﾝｼﾞｬｰ1-3 後退 call FLG
CON
JMP @MR1310              ; 次ｽﾃｯﾌﾟ
STG @MR1310              ; 次ｽﾃｯﾌﾟ
AND @MR002               ; PAUSE・ERROR無し
MPS
LD LR41100               ; AUTO-0    Normal
ANB MR35001              ; ﾌﾟﾗﾝｼﾞｬｰ1-4 後退実行中
AND MR35002              ; ﾌﾟﾗﾝｼﾞｬｰ1-4 後退call完了
ANL
RES MR35002              ; ﾌﾟﾗﾝｼﾞｬｰ1-4 後退call完了
CON
JMP @MR1311              ; 次ｽﾃｯﾌﾟ
MRD
LD LR41101               ; AUTO-1 ｲﾝｸ選択1
ANB MR35101              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y) 後退実行中
AND MR35102              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y)  後退call完了
ANL
RES MR35102              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y)  後退call完了
CON
JMP @MR1311              ; 次ｽﾃｯﾌﾟ
MRD
LD LR41102               ; AUTO-2 ｲﾝｸ選択2
ANB MR35201              ; ﾌﾟﾗﾝｼﾞｬｰ2(M) 後退実行中
AND MR35202              ; ﾌﾟﾗﾝｼﾞｬｰ2(M)  後退call完了
ANL
RES MR35202              ; ﾌﾟﾗﾝｼﾞｬｰ2(M)  後退call完了
CON
JMP @MR1311              ; 次ｽﾃｯﾌﾟ
MRD
LD LR41103               ; AUTO-3 ｲﾝｸ選択3
ANB MR35301              ; ﾌﾟﾗﾝｼﾞｬｰ3(C) 後退実行中
AND MR35302              ; ﾌﾟﾗﾝｼﾞｬｰ3(C)  後退call完了
ANL
RES MR35302              ; ﾌﾟﾗﾝｼﾞｬｰ3(C)  後退call完了
CON
JMP @MR1311              ; 次ｽﾃｯﾌﾟ
MRD
LD LR41104               ; AUTO-4 ｲﾝｸ選択4
ANB MR35401              ; ﾌﾟﾗﾝｼﾞｬｰ4(B) 後退実行中
AND MR35402              ; ﾌﾟﾗﾝｼﾞｬｰ4(B)  後退call完了
ANL
RES MR35402              ; ﾌﾟﾗﾝｼﾞｬｰ4(B)  後退call完了
CON
JMP @MR1311              ; 次ｽﾃｯﾌﾟ
MPP
LD LR41105               ; AUTO-4 ｲﾝｸ選択1-3
ANB MR35501              ; ﾌﾟﾗﾝｼﾞｬｰ1-3 後退実行中
AND MR35502              ; ﾌﾟﾗﾝｼﾞｬｰ1-3 後退call完了
ANL
RES MR35502              ; ﾌﾟﾗﾝｼﾞｬｰ1-3 後退call完了
CON
JMP @MR1311              ; 次ｽﾃｯﾌﾟ
STG @MR1311              ; 次ｽﾃｯﾌﾟ
AND @MR002               ; PAUSE・ERROR無し
SET R50511               ; ｻﾃﾗｲﾄ原点復帰完了
CON
JMP @MR1400              ; 大気開放ﾁｪｯｸへ
;大気開放ﾁｪｯｸ / air rerease check
STG @MR1400              ; 大気開放ﾁｪｯｸへ
AND @MR002               ; PAUSE・ERROR無し
RES @MR6015              ; 大気開放ﾁｪｯｸcall 完了
CON
ANB @MR6014              ; 大気開放ﾁｪｯｸcall 実行中
ANB @MR6015              ; 大気開放ﾁｪｯｸcall 完了
JMP @MR1401              ; 次ｽﾃｯﾌﾟ
STG @MR1401              ; 次ｽﾃｯﾌﾟ
AND @MR002               ; PAUSE・ERROR無し
SET @MR6000              ; 大気開放ﾁｪｯｸcall FLG
CON
JMP @MR1402              ; 次ｽﾃｯﾌﾟ
STG @MR1402              ; 次ｽﾃｯﾌﾟ
AND @MR002               ; PAUSE・ERROR無し
ANB @MR6014              ; 大気開放ﾁｪｯｸcall 実行中
AND @MR6015              ; 大気開放ﾁｪｯｸcall 完了
RES @MR6015              ; 大気開放ﾁｪｯｸcall 完了
CON
JMP @MR1403              ; 次ｽﾃｯﾌﾟ
STG @MR1403              ; 次ｽﾃｯﾌﾟ
AND @MR002               ; PAUSE・ERROR無し
ANB @MR6015              ; 大気開放ﾁｪｯｸcall 完了
JMP @MR1500              ; 注入UT上昇へ
;注入UT 上昇 / Infusion UT up
STG @MR1500              ; 注入UT上昇へ
AND @MR002               ; PAUSE・ERROR無し
RES MR6000               ; 注入上下 下降
CON
SET MR6001               ; 注入上下 上昇
CON
ANB R4200                ; 注入上下 下限
AND R4201                ; 注入上下 上限
SET R50512               ; ﾍｯﾄﾞ原点復帰完了
CON
JMP @MR1915              ; HOME 終了へ
;Home END
STG @MR1915              ; HOME 終了へ
AND @MR002               ; PAUSE・ERROR無し
AND MR600                ; IND1      ｻｲｸﾙ動作中
RES R50903               ; IND1 ST3  ｻｲｸﾙ動作中
CON
SET R50413               ; UT3        1ｻｲｸﾙ終了
CON
SET @MR1015              ; UT3 HOME完了
CON
ENDS
;<h1/>■ AUTO
LD R50001                ; AUTO
ANB R50203               ; UT3 Do
SET R50203               ; UT3 Do
CON
SET @MR4000              ; UT3 AUTO開始
LDB R50003               ; HOME
ANB R50001               ; AUTO
ANB R50002               ; STEP
AND @MR4001              ; UT3 AUTO終了
RES R50203               ; UT3 Do
CON
RES @MR4001              ; UT3 AUTO終了
; 動作パラメーター確認
; Operating Parameter Check
STG @MR4000              ; UT3 AUTO開始
MPS
ANB LR41107              ; AUTO-7 背面sw有効
JMP @MR4003
MPP
AND LR41107              ; AUTO-7 背面sw有効
JMP @MR4002
STG @MR4002
AND R50000               ; HOLD
JMP @MR4902              ; Nest step
STG @MR4003
MPS
AND R50209               ; IND1     動作開始
SET R50903               ; IND1 ST3  ｻｲｸﾙ動作中
CON
MPS
AND R50210               ; Model OK
SET R50505               ; ST3 動作中
CON
JMP @MR4004              ; KDｲﾝｸ循環確認へ
MPP
LDB R50210               ; Model OK
AND R50000               ; HOLD
ANL
TMR @1 #10               ; ﾀｲﾐﾝｸﾞﾃﾞｨﾚｲ
CON
AND @T1                  ; ﾀｲﾐﾝｸﾞﾃﾞｨﾚｲ
SET R50413               ; UT3        1ｻｲｸﾙ終了
CON
JMP @MR4902              ; Nest step
MPP
LDB R50209               ; IND1     動作開始
AND R50000               ; HOLD
AND R50213               ; IND1　　　払出し完了
ANL
JMP @MR4902              ; Nest step
;***** KDｲﾝｸ循環完了確認 /consective discharge finishing check *****
STG @MR4004              ; KDｲﾝｸ循環確認へ
AND @MR002               ; PAUSE・ERROR無し
MPS
ANB MR39911              ; ｻﾃﾗｲﾄ無し
MPS
AND MR2901               ; KDﾄﾞﾗﾑ攪拌完了FLG
JMP @MR4007              ; Next step
MPP
ANB MR2901               ; KDﾄﾞﾗﾑ攪拌完了FLG
MPS
AND MR12114              ; KDﾄﾞﾗﾑ交換要求画面表示
JMP @MR4007              ; Next step
MPP
ANB MR12114              ; KDﾄﾞﾗﾑ交換要求画面表示
SET @MR9000              ; Err62 KDｲﾝｸ循環未完了
CON
JMP @MR4005              ; Next step
MPP
AND MR39911              ; ｻﾃﾗｲﾄ無し
JMP @MR4200              ; 次ｽﾃｯﾌﾟへ
STG @MR4005              ; Next step
AND @MR9003              ; Err62 ST3 Err2解除完了
RES @MR9003              ; Err62 ST3 Err2解除完了
CON
JMP @MR4006              ; Next step
STG @MR4006              ; Next step
MPS
ANB MR2903               ; 吐出、循環確認OK
@SET R50009              ; HOLDRQ
CON
JMP @MR4900              ; 1ｻｲｸﾙ終了
MPP
AND MR2903               ; 吐出、循環確認OK
SET MR2901               ; KDﾄﾞﾗﾑ攪拌完了FLG
CON
RES MR2903               ; 吐出、循環確認OK
CON
JMP @MR4007              ; Next step
;ｻﾌﾞﾀﾝｸｲﾝｸ循環確認
STG @MR4007              ; Next step
AND @MR002               ; PAUSE・ERROR無し
MPS
AND MR2902               ; ｻﾌﾞﾀﾝｸｲﾝｸ循環完了FLG
JMP @MR4010              ; 連続吐出完了確認へ
MPP
ANB MR2902               ; ｻﾌﾞﾀﾝｸｲﾝｸ循環完了FLG
SET @MR9004              ; Err62 ｻﾃﾗｲﾄ循環未完了
CON
JMP @MR4008
;Error
STG @MR4008
AND @MR9007              ; Err62 解除完了
RES @MR9007              ; Err62 解除完了
CON
JMP @MR4009
STG @MR4009
MPS
ANB MR2903               ; 吐出、循環確認OK
@SET R50009              ; HOLDRQ
CON
JMP @MR4900              ; 1ｻｲｸﾙ終了
MPP
AND MR2903               ; 吐出、循環確認OK
SET MR2902               ; ｻﾌﾞﾀﾝｸｲﾝｸ循環完了FLG
CON
RES MR2903               ; 吐出、循環確認OK
CON
JMP @MR4010              ; 連続吐出完了確認へ
;***** 連続吐出完了確認 /consective discharge finishing check *****
STG @MR4010              ; 連続吐出完了確認へ
AND @MR002               ; PAUSE・ERROR無し
MPS
AND MR2900               ; 連続吐出完了FLG
JMP @MR4013
MPP
ANB MR2900               ; 連続吐出完了FLG
SET @MR9008              ; Err63 連続吐出未完了
CON
JMP @MR4011
STG @MR4011
AND @MR9011              ; Err63 ST3 Err3解除完了
RES @MR9011              ; Err63 ST3 Err3解除完了
CON
JMP @MR4012
STG @MR4012
MPS
ANB MR2903               ; 吐出、循環確認OK
@SET R50009              ; HOLDRQ
CON
JMP @MR4900              ; 1ｻｲｸﾙ終了
MPP
AND MR2903               ; 吐出、循環確認OK
SET MR2900               ; 連続吐出完了FLG
CON
RES MR2903               ; 吐出、循環確認OK
CON
JMP @MR4013
;***** 重量調整吐出確認要求/Weight adjust exhaust check request *****
STG @MR4013
AND @MR002               ; PAUSE・ERROR無し
MPS
ANB MR17004
JMP @MR4200              ; 次ｽﾃｯﾌﾟへ
MPP
AND MR17004
SET @MR9012              ; Err130 重量調整確認要求
CON
JMP @MR4014
STG @MR4014
AND @MR9015              ; Err130 解除完了
RES @MR9015              ; Err130 解除完了
CON
JMP @MR4015
STG @MR4015
MPS
ANB MR2903               ; 吐出、循環確認OK
@SET R50009              ; HOLDRQ
CON
JMP @MR4900              ; 1ｻｲｸﾙ終了
MPP
AND MR2903               ; 吐出、循環確認OK
RES MR17004
CON
RES MR2903               ; 吐出、循環確認OK
CON
JMP @MR4200              ; 次ｽﾃｯﾌﾟへ
;ｻﾃﾗｲﾄ有無選択 / Satellite check
STG @MR4200              ; 次ｽﾃｯﾌﾟへ
AND @MR002               ; PAUSE・ERROR無し
MPS
LD MR002                 ; AP02 注入無し
OR= DM1020 #0            ; ST2 ﾜｰｸ有無(0=無)
ANL
JMP @MR4900              ; 1ｻｲｸﾙ終了
MPP
LDB MR002                ; AP02 注入無し
AND= DM1020 #1           ; ST2 ﾜｰｸ有無(0=無)
ANL
JMP @MR4201              ; ｻﾃﾗｲﾄ有無確認へ
STG @MR4201              ; ｻﾃﾗｲﾄ有無確認へ
MPS
LDB MR39911              ; ｻﾃﾗｲﾄ無し
LD MR1302                ; (Y)ｻﾌﾞﾀﾝｸｲﾝｸ供給OK
ORB @MR011               ; ﾍｯﾄﾞ1　  注入有
ANL
LD MR1502                ; (M)ｻﾌﾞﾀﾝｸｲﾝｸ供給OK
ORB @MR012               ; ﾍｯﾄﾞ2　  注入有
ANL
LD MR1702                ; (C)ｻﾌﾞﾀﾝｸｲﾝｸ供給OK
ORB @MR013               ; ﾍｯﾄﾞ3　  注入有
ANL
LD MR1902                ; (B)ｻﾌﾞﾀﾝｸｲﾝｸ供給OK
ORB @MR014               ; ﾍｯﾄﾞ4　  注入有
ANL
ANL
JMP @MR4202              ; ﾎﾟﾝﾌﾟ過昇ﾁｪｯｸへ
MPP
AND MR39911              ; ｻﾃﾗｲﾄ無し
TMR @26 #10              ; ﾀｲﾐﾝｸﾞ
CON
AND @T26                 ; ﾀｲﾐﾝｸﾞ
JMP @MR4300
;ﾎﾟﾝﾌﾟ過昇ﾁｪｯｸ / Pump over heat check 
STG @MR4202              ; ﾎﾟﾝﾌﾟ過昇ﾁｪｯｸへ
AND @MR002               ; PAUSE・ERROR無し
SET @MR6500              ; 真空ﾎﾟﾝﾌﾟ過昇ﾁｪｯｸcall FLG
CON
JMP @MR4203              ; 次ｽﾃｯﾌﾟへ
STG @MR4203              ; 次ｽﾃｯﾌﾟへ
AND @MR002               ; PAUSE・ERROR無し
AND @MR6515              ; 真空ﾎﾟﾝﾌﾟ過昇ﾁｪｯｸcall 完了
RES @MR6515              ; 真空ﾎﾟﾝﾌﾟ過昇ﾁｪｯｸcall 完了
CON
JMP @MR4204              ; 真空ﾎﾟﾝﾌﾟ起動ﾁｪｯｸへ
;真空ﾎﾟﾝﾌﾟ起動ﾁｪｯｸ / Vacuum pump  check
STG @MR4204              ; 真空ﾎﾟﾝﾌﾟ起動ﾁｪｯｸへ
AND @MR002               ; PAUSE・ERROR無し
MPS
AND R4111                ; ﾃﾞｼｹｰﾀｰ内 圧力検出2(ﾓｼﾞｭｰﾙ用)
JMP @MR4208              ; 脱気ﾓｼﾞｭｰﾙ接続確認へ
MPP
ANB R4111                ; ﾃﾞｼｹｰﾀｰ内 圧力検出2(ﾓｼﾞｭｰﾙ用)
TMR @4 #20               ; ﾃﾞｼｹｰﾀｳｪｲﾄ
CON
AND @T4                  ; ﾃﾞｼｹｰﾀｳｪｲﾄ
SET @MR600               ; 真空ﾎﾟﾝﾌﾟ未起動検出表示へ
CON
JMP @MR4205              ; 真空ﾎﾟﾝﾌﾟ未起動の時へ
;真空ﾎﾟﾝﾌﾟ未起動の時 / When vacuum pump non operation
STG @MR4205              ; 真空ﾎﾟﾝﾌﾟ未起動の時へ
AND @MR601               ; 真空ﾎﾟﾝﾌﾟ未起動検出中
JMP @MR4206              ; 次ｽﾃｯﾌﾟへ
STG @MR4206              ; 次ｽﾃｯﾌﾟへ
ANB @MR601               ; 真空ﾎﾟﾝﾌﾟ未起動検出中
AND @MR607               ; 真空ﾎﾟﾝﾌﾟ未起動検出表示終了
RES @MR607               ; 真空ﾎﾟﾝﾌﾟ未起動検出表示終了
CON
JMP @MR4204              ; 真空ﾎﾟﾝﾌﾟ起動ﾁｪｯｸへ
;脱気ﾓｼﾞｭｰﾙ接続確認 / Check the Decompressed Module connection and pressure
LD= DM287 #1             ; ModelIdentficationNumber
AND R4513                ; BK脱気ﾓｼﾞｭｰﾙ圧力検出
ANB R4514                ; CL脱気ﾓｼﾞｭｰﾙ圧力検出
ANB R4515                ; 4CL脱気ﾓｼﾞｭｰﾙ圧力検出
LD= DM287 #2             ; ModelIdentficationNumber
ANB R4513                ; BK脱気ﾓｼﾞｭｰﾙ圧力検出
AND R4514                ; CL脱気ﾓｼﾞｭｰﾙ圧力検出
ANB R4515                ; 4CL脱気ﾓｼﾞｭｰﾙ圧力検出
ORL
LD= DM287 #3             ; ModelIdentficationNumber
ANB R4513                ; BK脱気ﾓｼﾞｭｰﾙ圧力検出
ANB R4514                ; CL脱気ﾓｼﾞｭｰﾙ圧力検出
AND R4515                ; 4CL脱気ﾓｼﾞｭｰﾙ圧力検出
ORL
OUT @MR4209              ; 脱気ﾓｼﾞｭｰﾙ接続OK
STG @MR4208              ; 脱気ﾓｼﾞｭｰﾙ接続確認へ
AND @MR002               ; PAUSE・ERROR無し
MPS
AND @MR4209              ; 脱気ﾓｼﾞｭｰﾙ接続OK
JMP @MR4300
MPP
ANB @MR4209              ; 脱気ﾓｼﾞｭｰﾙ接続OK
TMR @35 #20              ; ﾃﾞｨﾚｲ
CON
AND @T35                 ; ﾃﾞｨﾚｲ
SET @MR2900              ; Err25 脱気ﾓｼﾞｭｰﾙ接続NG
CON
JMP @MR4210
STG @MR4210
AND @MR002               ; PAUSE・ERROR無し
AND @MR2903              ; Err25 Release
RES @MR2903              ; Err25 Release
CON
JMP @MR4204              ; 真空ﾎﾟﾝﾌﾟ起動ﾁｪｯｸへ
;ｶｰﾄﾘｯｼﾞｸﾗﾝﾌﾟ
;Cartridge clamping
STG @MR4300
AND @MR002               ; PAUSE・ERROR無し
RES MR6100               ; 2ST ｸﾗﾝﾌﾟ開き
CON
SET MR6014               ; 2ST ｸﾗﾝﾌﾟ閉じ
CON
ANB T403                 ; 2ST ｸﾗﾝﾌﾟ開き OK
AND T402                 ; 2ST ｸﾗﾝﾌﾟ閉じ OK
JMP @MR4301
;ｸﾗﾝﾌﾟ後浮き上がり確認
;Floating check after clamp
STG @MR4301
AND @MR002               ; PAUSE・ERROR無し
MPS
AND @MR004               ; ｶｰﾄﾘｯｼﾞ浮きOK
JMP @MR4400              ; 注入UT & ﾉｽﾞﾙ 下降へ
MPP
ANB @MR004               ; ｶｰﾄﾘｯｼﾞ浮きOK
TMR @6 #20               ; ﾀｲﾐﾝｸﾞﾃﾞｨﾚｲ
CON
AND @T6                  ; ﾀｲﾐﾝｸﾞﾃﾞｨﾚｲ
SET @MR100               ; Err07 ﾜｰｸ浮き表示
CON
JMP @MR4302              ; ﾜｰｸ浮きの時へ
;ﾜｰｸ浮きの時 / When Work flotage check
STG @MR4302              ; ﾜｰｸ浮きの時へ
AND @MR107               ; Err07 解除完了
RES @MR107               ; Err07 解除完了
CON
JMP @MR4301
;注入ﾍｯﾄﾞ 下降 / Infusion head down
STG @MR4400              ; 注入UT & ﾉｽﾞﾙ 下降へ
AND @MR002               ; PAUSE・ERROR無し
SET R50103               ; PACK UT3
CON
RES MR6001               ; 注入上下 上昇
CON
SET MR6000               ; 注入上下 下降
CON
JMP @MR4401
STG @MR4401
MPS
LDB MR4200               ; Cylinder Error 4200
ANB R4201                ; 注入上下 上限
AND R4200                ; 注入上下 下限
ANL
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
JMP @MR4501              ; 真空引き&真空保持へ
MPP
AND MR4200               ; Cylinder Error 4200
RES MR6000               ; 注入上下 下降
CON
SET MR6001               ; 注入上下 上昇
CON
JMP @MR4402
STG @MR4402
ANB R4200                ; 注入上下 下限
AND R4201                ; 注入上下 上限
RES R50103               ; PACK UT3
CON
JMP @MR4403
STG @MR4403
AND @MR002               ; PAUSE・ERROR無し
ANB MR4200               ; Cylinder Error 4200
JMP @MR4400              ; 注入UT & ﾉｽﾞﾙ 下降へ
;真空引き&真空保持 / Vacuum & Vaccum keep
STG @MR4501              ; 真空引き&真空保持へ
ZRES @MR900 @MR915       ; ﾍｯﾄﾞ1到達確認完了  ﾍｯﾄﾞ4　  真空保持OK
CON
ANB @MR6114              ; 真空引き&真空保持call 実行中
ANB @MR6115              ; 真空引き&真空保持call 完了
SET R50703               ; CT5 真空引き時間
CON
SET @MR6100              ; 真空引き&真空保持call FLG
CON
JMP @MR4502              ; 次ｽﾃｯﾌﾟへ
STG @MR4502              ; 次ｽﾃｯﾌﾟへ
ANB @MR6114              ; 真空引き&真空保持call 実行中
AND @MR6115              ; 真空引き&真空保持call 完了
RES @MR6115              ; 真空引き&真空保持call 完了
CON
JMP @MR4503              ; 次ｽﾃｯﾌﾟへ
STG @MR4503              ; 次ｽﾃｯﾌﾟへ
ANB @MR6115              ; 真空引き&真空保持call 完了
RES R50703               ; CT5 真空引き時間
CON
JMP @MR4504              ; 次ｽﾃｯﾌﾟへ
;真空引き異常ﾁｪｯｸ / Vacuum & Vaccum keep
STG @MR4504              ; 次ｽﾃｯﾌﾟへ
MPS
LD @MR904                ; ﾍｯﾄﾞ1　  真空到達OK
ORB @MR011               ; ﾍｯﾄﾞ1　  注入有
LD @MR905                ; ﾍｯﾄﾞ2　  真空到達OK
ORB @MR012               ; ﾍｯﾄﾞ2　  注入有
ANL
LD @MR906                ; ﾍｯﾄﾞ3　  真空到達OK
ORB @MR013               ; ﾍｯﾄﾞ3　  注入有
ANL
LD @MR907                ; ﾍｯﾄﾞ4　  真空到達OK
ORB @MR014               ; ﾍｯﾄﾞ4　  注入有
ANL
ANL
RES @MR700               ; 真空引き異常FLG
CON
JMP @MR4508              ; 真空保持ﾁｪｯｸへ
MPP
LD @MR011                ; ﾍｯﾄﾞ1　  注入有
ANB @MR904               ; ﾍｯﾄﾞ1　  真空到達OK
LD @MR012                ; ﾍｯﾄﾞ2　  注入有
ANB @MR905               ; ﾍｯﾄﾞ2　  真空到達OK
ORL
LD @MR013                ; ﾍｯﾄﾞ3　  注入有
ANB @MR906               ; ﾍｯﾄﾞ3　  真空到達OK
ORL
LD @MR014                ; ﾍｯﾄﾞ4　  注入有
ANB @MR907               ; ﾍｯﾄﾞ4　  真空到達OK
ORL
ANL
SET @MR700               ; 真空引き異常FLG
CON
SET @MR5600              ; 真空引き異常時  ﾍｯﾄﾞ真空 開へ
CON
JMP @MR4505              ; 真空引き異常の時へ
;真空引き異常の時 / when Vacuum & Vaccum keep erorr
STG @MR4505              ; 真空引き異常の時へ
AND @MR700               ; 真空引き異常FLG
AND @MR109               ; 真空到達異常中
JMP @MR4506              ; 次ｽﾃｯﾌﾟへ
STG @MR4506              ; 次ｽﾃｯﾌﾟへ
ANB @MR109               ; 真空到達異常中
AND @MR115               ; 真空到達異常終了
JMP @MR4507              ; 次ｽﾃｯﾌﾟへ
STG @MR4507              ; 次ｽﾃｯﾌﾟへ
RES @MR700               ; 真空引き異常FLG
CON
RES @MR115               ; 真空到達異常終了
CON
DW #2 DM1025             ; ST2 NGﾜｰｸ 0=OK
CON
JMP @MR4900              ; 1ｻｲｸﾙ終了
;真空保持異常ﾁｪｯｸ / Vaccum keep
STG @MR4508              ; 真空保持ﾁｪｯｸへ
MPS
LD @MR912                ; ﾍｯﾄﾞ1　  真空保持OK
ORB @MR011               ; ﾍｯﾄﾞ1　  注入有
LD @MR913                ; ﾍｯﾄﾞ2　  真空保持OK
ORB @MR012               ; ﾍｯﾄﾞ2　  注入有
ANL
LD @MR914                ; ﾍｯﾄﾞ3　  真空保持OK
ORB @MR013               ; ﾍｯﾄﾞ3　  注入有
ANL
LD @MR915                ; ﾍｯﾄﾞ4　  真空保持OK
ORB @MR014               ; ﾍｯﾄﾞ4　  注入有
ANL
ANL
RES @MR701               ; 保持異常FLG
CON
JMP @MR4515              ; 次ｽﾃｯﾌﾟへ
MPP
LD @MR011                ; ﾍｯﾄﾞ1　  注入有
ANB @MR912               ; ﾍｯﾄﾞ1　  真空保持OK
LD @MR012                ; ﾍｯﾄﾞ2　  注入有
ANB @MR913               ; ﾍｯﾄﾞ2　  真空保持OK
ORL
LD @MR013                ; ﾍｯﾄﾞ3　  注入有
ANB @MR914               ; ﾍｯﾄﾞ3　  真空保持OK
ORL
LD @MR014                ; ﾍｯﾄﾞ4　  注入有
ANB @MR915               ; ﾍｯﾄﾞ4　  真空保持OK
ORL
ANL
SET @MR701               ; 保持異常FLG
CON
SET @MR5600              ; 真空引き異常時  ﾍｯﾄﾞ真空 開へ
CON
JMP @MR4509              ; 真空保持異常の時へ
;真空保持異常の時 / when Vaccum keep erorr
STG @MR4509              ; 真空保持異常の時へ
AND @MR701               ; 保持異常FLG
AND @MR501               ; 真空保持異常表示中
JMP @MR4510              ; 次ｽﾃｯﾌﾟ
STG @MR4510              ; 次ｽﾃｯﾌﾟ
ANB @MR109               ; 真空到達異常中
AND @MR507               ; 真空保持異常表示終了
JMP @MR4511              ; 次ｽﾃｯﾌﾟ
STG @MR4511              ; 次ｽﾃｯﾌﾟ
RES @MR701               ; 保持異常FLG
CON
RES @MR507               ; 真空保持異常表示終了
CON
RES R50408               ; ｽﾀｰﾄSWﾗﾝﾌﾟ 点灯
CON
SET R50406               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点滅
CON
DW #2 DM1025             ; ST2 NGﾜｰｸ 0=OK
CON
JMP @MR4900              ; 1ｻｲｸﾙ終了
;ﾌﾗｸﾞﾘｾｯﾄ / Flag reset
STG @MR4515              ; 次ｽﾃｯﾌﾟへ
ZRES @MR900 @MR915       ; ﾍｯﾄﾞ1到達確認完了  ﾍｯﾄﾞ4　  真空保持OK
CON
ANB @MR904               ; ﾍｯﾄﾞ1　  真空到達OK
ANB @MR905               ; ﾍｯﾄﾞ2　  真空到達OK
ANB @MR906               ; ﾍｯﾄﾞ3　  真空到達OK
ANB @MR907               ; ﾍｯﾄﾞ4　  真空到達OK
ANB @MR912               ; ﾍｯﾄﾞ1　  真空保持OK
ANB @MR913               ; ﾍｯﾄﾞ2　  真空保持OK
ANB @MR914               ; ﾍｯﾄﾞ3　  真空保持OK
ANB @MR915               ; ﾍｯﾄﾞ4　  真空保持OK
SET R50704               ; CT6 注入時間
CON
MPS
ANB MR39911              ; ｻﾃﾗｲﾄ無し
JMP @MR4600              ; 注入前準備
MPP
AND MR39911              ; ｻﾃﾗｲﾄ無し
DW #0 DM1025             ; ST2 NGﾜｰｸ 0=OK
CON
JMP @MR4700              ; 注入UT上昇へ
;注入開始 / Infusion start 
STG @MR4600              ; 注入前準備
ANB MR35001              ; ﾌﾟﾗﾝｼﾞｬｰ1-4 後退実行中
ANB MR35101              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y) 後退実行中
ANB MR35201              ; ﾌﾟﾗﾝｼﾞｬｰ2(M) 後退実行中
ANB MR35301              ; ﾌﾟﾗﾝｼﾞｬｰ3(C) 後退実行中
ANB MR35401              ; ﾌﾟﾗﾝｼﾞｬｰ4(B) 後退実行中
ANB MR35501              ; ﾌﾟﾗﾝｼﾞｬｰ1-3 後退実行中
ANB MR35009              ; ﾌﾟﾗﾝｼﾞｬｰ1-4 前進実行中
ANB MR35109              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y) 前進実行中
ANB MR35209              ; ﾌﾟﾗﾝｼﾞｬｰ2(M) 前進実行中
ANB MR35309              ; ﾌﾟﾗﾝｼﾞｬｰ3(C) 前進実行中
ANB MR35409              ; ﾌﾟﾗﾝｼﾞｬｰ4(B) 前進実行中
ANB MR35509              ; ﾌﾟﾗﾝｼﾞｬｰ1-3 前進実行中
ANB MR36014              ; ﾌﾟﾗﾝｼﾞｬｰ1-4吐出引込実行中
ANB MR36314              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y) 吐出引込実行中
ANB MR36414              ; ﾌﾟﾗﾝｼﾞｬｰ2(M) 吐出引込実行中
ANB MR36514              ; ﾌﾟﾗﾝｼﾞｬｰ3(C) 吐出引込実行中
ANB MR36614              ; ﾌﾟﾗﾝｼﾞｬｰ4(B) 吐出引込実行中
ANB MR36714              ; ﾌﾟﾗﾝｼﾞｬｰ1-3吐出引込実行中
RES @MR7101              ; ﾍｯﾄﾞ1    注入完了
CON
RES @MR7201              ; ﾍｯﾄﾞ2    注入完了
CON
RES @MR7301              ; ﾍｯﾄﾞ3    注入完了
CON
RES @MR7401              ; ﾍｯﾄﾞ4    注入完了
CON
ZRES MR35000 MR36715     ; ﾌﾟﾗﾝｼﾞｬｰ1-4 後退 call FLG  ﾌﾟﾗﾝｼﾞｬｰ1-3吐出引込call完了
CON
JMP @MR4601              ; 次ｽﾃｯﾌﾟへ
STG @MR4601              ; 次ｽﾃｯﾌﾟへ
MPS
ANB R604                 ; 吐出強制停止
MPS
AND @MR011               ; ﾍｯﾄﾞ1　  注入有
SET @MR7100              ; ﾍｯﾄﾞ1注入
MRD
AND @MR012               ; ﾍｯﾄﾞ2　  注入有
SET @MR7200              ; ﾍｯﾄﾞ2注入
MRD
AND @MR013               ; ﾍｯﾄﾞ3　  注入有
SET @MR7300              ; ﾍｯﾄﾞ3注入
MPP
AND @MR014               ; ﾍｯﾄﾞ4　  注入有
SET @MR7400              ; ﾍｯﾄﾞ4注入
MPP
RES MR6212               ; ﾒｲﾝ 真空 開
CON
JMP @MR4602              ; 次ｽﾃｯﾌﾟへ
STG @MR4602              ; 次ｽﾃｯﾌﾟへ
MPS
LD @MR7101               ; ﾍｯﾄﾞ1    注入完了
ORB @MR011               ; ﾍｯﾄﾞ1　  注入有
LD @MR7201               ; ﾍｯﾄﾞ2    注入完了
ORB @MR012               ; ﾍｯﾄﾞ2　  注入有
ANL
LD @MR7301               ; ﾍｯﾄﾞ3    注入完了
ORB @MR013               ; ﾍｯﾄﾞ3　  注入有
ANL
LD @MR7401               ; ﾍｯﾄﾞ4    注入完了
ORB @MR014               ; ﾍｯﾄﾞ4　  注入有
ANL
OR R604                  ; 吐出強制停止
ANL
SET MR6213               ; ﾒｲﾝ 大気開放 開
CON
JMP @MR4603              ; 次ｽﾃｯﾌﾟへ
MRD
LD @MR011                ; ﾍｯﾄﾞ1　  注入有
LDB MR015                ; AP15 ON=中間/後退限入替あり
AND R4400                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 前進限
LD MR015                 ; AP15 ON=中間/後退限入替あり
AND R4401                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 中間限
ORL
LD MR001                 ; AP01 中間大気開放有
AND MR39501              ; PP1       中間検出FLG
ORL
ANL
ANL
SET MR6800               ; (Y) 注入ﾍｯﾄﾞ  大気開放
MRD
LD @MR012                ; ﾍｯﾄﾞ2　  注入有
LDB MR015                ; AP15 ON=中間/後退限入替あり
AND R4403                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 前進限
LD MR015                 ; AP15 ON=中間/後退限入替あり
AND R4404                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 中間限
ORL
LD MR001                 ; AP01 中間大気開放有
AND MR39502              ; PP2       中間検出FLG
ORL
ANL
ANL
SET MR6801               ; (M) 注入ﾍｯﾄﾞ  大気開放
MRD
LD @MR013                ; ﾍｯﾄﾞ3　  注入有
LD R4406                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 前進限
ANB MR015                ; AP15 ON=中間/後退限入替あり
LD R4407                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 中間限
AND MR015                ; AP15 ON=中間/後退限入替あり
ORL
LD MR001                 ; AP01 中間大気開放有
AND MR39503              ; PP3       中間検出FLG
ORL
ANL
ANL
SET MR6802               ; (C) 注入ﾍｯﾄﾞ  大気開放
MPP
LD @MR014                ; ﾍｯﾄﾞ4　  注入有
LD R4409                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 前進限
ANB MR015                ; AP15 ON=中間/後退限入替あり
LD R4410                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 中間限
AND MR015                ; AP15 ON=中間/後退限入替あり
ORL
LD MR001                 ; AP01 中間大気開放有
AND MR39504              ; PP4       中間検出FLG
ORL
ANL
ANL
SET MR6803               ; (B) 注入ﾍｯﾄﾞ  大気開放
STG @MR4603              ; 次ｽﾃｯﾌﾟへ
RES R50704               ; CT6 注入時間
CON
RES @MR7101              ; ﾍｯﾄﾞ1    注入完了
CON
RES @MR7201              ; ﾍｯﾄﾞ2    注入完了
CON
RES @MR7301              ; ﾍｯﾄﾞ3    注入完了
CON
RES @MR7401              ; ﾍｯﾄﾞ4    注入完了
CON
ZRES MR39501 MR39504     ; PP1       中間検出FLG  PP4       中間検出FLG
CON
JMP @MR4604              ; 次ｽﾃｯﾌﾟへ
LD @MR7102               ; ﾍｯﾄﾞ1 注入中
OUT R50713               ; CT15 注入Y
LD @MR7202               ; ﾍｯﾄﾞ2 注入中
OUT R50712               ; CT14 注入M
LD @MR7302               ; ﾍｯﾄﾞ3 注入中
OUT R50711               ; CT13 注入C
LD @MR7402               ; ﾍｯﾄﾞ4 注入中
OUT R50710               ; CT12 注入BK
;大気開放ﾁｪｯｸ / air rerease check
STG @MR4604              ; 次ｽﾃｯﾌﾟへ
ANB @MR6014              ; 大気開放ﾁｪｯｸcall 実行中
ANB @MR6015              ; 大気開放ﾁｪｯｸcall 完了
SET @MR6000              ; 大気開放ﾁｪｯｸcall FLG
CON
JMP @MR4605              ; 次ｽﾃｯﾌﾟへ
STG @MR4605              ; 次ｽﾃｯﾌﾟへ
ANB @MR6014              ; 大気開放ﾁｪｯｸcall 実行中
AND @MR6015              ; 大気開放ﾁｪｯｸcall 完了
RES @MR6015              ; 大気開放ﾁｪｯｸcall 完了
CON
JMP @MR4606              ; 次ｽﾃｯﾌﾟへ
STG @MR4606              ; 次ｽﾃｯﾌﾟへ
ANB @MR6015              ; 大気開放ﾁｪｯｸcall 完了
JMP @MR4700              ; 注入UT上昇へ
;注入ﾍｯﾄﾞ 上昇 / Infusion head up
STG @MR4700              ; 注入UT上昇へ
RES MR6000               ; 注入上下 下降
CON
SET MR6001               ; 注入上下 上昇
CON
ANB R4200                ; 注入上下 下限
AND R4201                ; 注入上下 上限
JMP @MR4701              ; 次ｽﾃｯﾌﾟへ
STG @MR4701              ; 次ｽﾃｯﾌﾟへ
RES R50103               ; PACK UT3
CON
JMP @MR4800
;注入重量確認/Infusion weight check
STG @MR4800
MPS
LDB @MR8101              ; Y 上限警告
ANB @MR8102              ; Y 下限警告
ANL
JMP @MR4802
MPP
LD @MR8101               ; Y 上限警告
OR @MR8102               ; Y 下限警告
ANL
SET @MR8800              ; Err42/43 Y流量警告
CON
JMP @MR4801
STG @MR4801
AND @MR8803              ; Err42/43 解除完了
RES @MR8803              ; Err42/43 解除完了
CON
JMP @MR4802
STG @MR4802
MPS
LDB @MR8103              ; Y 上限異常
ANB @MR8104              ; Y 下限異常
ANL
JMP @MR4804
MPP
LD @MR8103               ; Y 上限異常
OR @MR8104               ; Y 下限異常
ANL
SET @MR8804              ; Err44/45 Y流量異常
CON
JMP @MR4803
STG @MR4803
AND @MR8807              ; Err44/45 解除完了
DW #2 DM1025             ; ST2 NGﾜｰｸ 0=OK
CON
SET MR17003
CON
@SET R50009              ; HOLDRQ
CON
RES @MR8807              ; Err44/45 解除完了
CON
JMP @MR4804
STG @MR4804
MPS
LDB @MR8109              ; M 上限警告
ANB @MR8110              ; M 下限警告
ANL
JMP @MR4806
MPP
LD @MR8109               ; M 上限警告
OR @MR8110               ; M 下限警告
ANL
SET @MR8808              ; Err46/47 M流量警告
CON
JMP @MR4805
STG @MR4805
AND @MR8811              ; Err46/47 解除完了
RES @MR8811              ; Err46/47 解除完了
CON
JMP @MR4806
STG @MR4806
MPS
LDB @MR8111              ; M 上限異常
ANB @MR8112              ; M 下限異常
ANL
JMP @MR4808
MPP
LD @MR8111               ; M 上限異常
OR @MR8112               ; M 下限異常
ANL
SET @MR8812              ; Err48/49 M流量異常
CON
JMP @MR4807
STG @MR4807
AND @MR8815              ; Err48/49 解除完了
DW #2 DM1025             ; ST2 NGﾜｰｸ 0=OK
CON
SET MR17003
CON
@SET R50009              ; HOLDRQ
CON
RES @MR8815              ; Err48/49 解除完了
CON
JMP @MR4808
STG @MR4808
MPS
LDB @MR8201              ; C 上限警告
ANB @MR8202              ; C 下限警告
ANL
JMP @MR4810
MPP
LD @MR8201               ; C 上限警告
OR @MR8202               ; C 下限警告
ANL
SET @MR8900              ; Err50/51 C流量警告
CON
JMP @MR4809
STG @MR4809
AND @MR8903              ; Err50/51 解除完了
RES @MR8903              ; Err50/51 解除完了
CON
JMP @MR4810
STG @MR4810
MPS
LDB @MR8203              ; C 上限異常
ANB @MR8204              ; C 下限異常
ANL
JMP @MR4812
MPP
LD @MR8203               ; C 上限異常
OR @MR8204               ; C 下限異常
ANL
SET @MR8904              ; Err52/53 C流量異常
CON
JMP @MR4811
STG @MR4811
AND @MR8907              ; Err52/53 解除完了
DW #2 DM1025             ; ST2 NGﾜｰｸ 0=OK
CON
SET MR17003
CON
@SET R50009              ; HOLDRQ
CON
RES @MR8907              ; Err52/53 解除完了
CON
JMP @MR4812
STG @MR4812
MPS
LDB @MR8209              ; B 上限警告
ANB @MR8210              ; B 下限警告
ANL
JMP @MR4814
MPP
LD @MR8209               ; B 上限警告
OR @MR8210               ; B 下限警告
ANL
SET @MR8908              ; Err54/55 B流量警告
CON
JMP @MR4813
STG @MR4813
AND @MR8911              ; Err54/55 解除完了
RES @MR8911              ; Err54/55 解除完了
CON
JMP @MR4814
STG @MR4814
MPS
LDB @MR8211              ; B 上限異常
ANB @MR8212              ; B 下限異常
ANL
JMP @MR4900              ; 1ｻｲｸﾙ終了
MPP
LD @MR8211               ; B 上限異常
OR @MR8212               ; B 下限異常
ANL
SET @MR8912              ; Err56/57 B流量異常
CON
JMP @MR4815
STG @MR4815
AND @MR8915              ; Err56/57 解除完了
DW #2 DM1025             ; ST2 NGﾜｰｸ 0=OK
CON
SET MR17003
CON
@SET R50009              ; HOLDRQ
CON
RES @MR8915              ; Err56/57 解除完了
CON
JMP @MR4900              ; 1ｻｲｸﾙ終了
;AUTO 1ｻｲｸﾙ終了処理
;AUTO 1Cycle end Operation
STG @MR4900              ; 1ｻｲｸﾙ終了
AND MR600                ; IND1      ｻｲｸﾙ動作中
RES R50501
CON
SET R50413               ; UT3        1ｻｲｸﾙ終了
CON
JMP @MR4902              ; Nest step
STG @MR4902              ; Nest step
RES R50903               ; IND1 ST3  ｻｲｸﾙ動作中
CON
ANB R50209               ; IND1     動作開始
AND R50409               ; IND1      ｻｲｸﾙ完了
MPS
LDB R50000               ; HOLD
ORB R50213               ; IND1　　　払出し完了
ANL
JMP @MR4000              ; UT3 AUTO開始
MPP
LD R50000                ; HOLD
AND R50213               ; IND1　　　払出し完了
ANL
JMP @MR4909              ; 終了処理
;AUTO 終了処理
;AUTO Finish Operation
STG @MR4909              ; 終了処理
SET @MR4001              ; UT3 AUTO終了
CON
ENDS
;<h1/>　真空到達異常時 ｴﾗｰ処理ｻﾌﾞﾙｰﾁﾝ
;　Erorr Subroutine
;***** 真空引き異常処理 / When vaccum NG  *****
;
;***** ﾍｯﾄﾞ真空引き 開 / head vacuum open *****
;
STG @MR5600              ; 真空引き異常時  ﾍｯﾄﾞ真空 開へ
ANB R50113               ; Err ST3
ANB @MR6314              ; ﾍｯﾄﾞ真空引き 開call 実行中
ANB @MR6315              ; ﾍｯﾄﾞ真空引き 開call 完了
SET @MR6300              ; ﾍｯﾄﾞ真空引き 開call FLG
CON
JMP @MR5601              ; 次ｽﾃｯﾌﾟへ
STG @MR5601              ; 次ｽﾃｯﾌﾟへ
ANB R50113               ; Err ST3
ANB @MR6314              ; ﾍｯﾄﾞ真空引き 開call 実行中
AND @MR6315              ; ﾍｯﾄﾞ真空引き 開call 完了
RES @MR6315              ; ﾍｯﾄﾞ真空引き 開call 完了
CON
JMP @MR5602              ; 次ｽﾃｯﾌﾟへ
STG @MR5602              ; 次ｽﾃｯﾌﾟへ
ANB R50113               ; Err ST3
ANB @MR6315              ; ﾍｯﾄﾞ真空引き 開call 完了
JMP @MR5608              ; 大気開放ﾁｪｯｸへ
;真空到達異常時 ｴﾗｰ処理ｻﾌﾞﾙｰﾁﾝ  /  Erorr Subroutine
;
;***** 大気開放ﾁｪｯｸ / air rerease check *****
;
STG @MR5608              ; 大気開放ﾁｪｯｸへ
ANB R50113               ; Err ST3
ANB @MR6014              ; 大気開放ﾁｪｯｸcall 実行中
ANB @MR6015              ; 大気開放ﾁｪｯｸcall 完了
SET @MR6000              ; 大気開放ﾁｪｯｸcall FLG
CON
JMP @MR5609              ; 次ｽﾃｯﾌﾟへ
STG @MR5609              ; 次ｽﾃｯﾌﾟへ
ANB R50113               ; Err ST3
ANB @MR6014              ; 大気開放ﾁｪｯｸcall 実行中
AND @MR6015              ; 大気開放ﾁｪｯｸcall 完了
RES @MR6015              ; 大気開放ﾁｪｯｸcall 完了
CON
JMP @MR5610              ; 次ｽﾃｯﾌﾟへ
STG @MR5610              ; 次ｽﾃｯﾌﾟへ
ANB R50113               ; Err ST3
ANB @MR6015              ; 大気開放ﾁｪｯｸcall 完了
JMP @MR5700              ; 注入UT上昇へ
;***** 注入UT 上昇 / Infusion UT up *****
;
STG @MR5700              ; 注入UT上昇へ
ANB R50113               ; Err ST3
RES MR6000               ; 注入上下 下降
CON
SET MR6001               ; 注入上下 上昇
CON
ANB R4200                ; 注入上下 下限
AND R4201                ; 注入上下 上限
JMP @MR5701              ; 次ｽﾃｯﾌﾟへ
STG @MR5701              ; 次ｽﾃｯﾌﾟへ
ANB R50113               ; Err ST3
RES R50103               ; PACK UT3
CON
JMP @MR5800              ; 真空異常時 ｽﾗｲﾄﾞ後退へ
STG @MR5800              ; 真空異常時 ｽﾗｲﾄﾞ後退へ
AND @MR002               ; PAUSE・ERROR無し
JMP @MR5803              ; 次ｽﾃｯﾌﾟへ
STG @MR5803              ; 次ｽﾃｯﾌﾟへ
ANB R50113               ; Err ST3
MPS
LD @MR700                ; 真空引き異常FLG
ANB @MR701               ; 保持異常FLG
ANL
SET @MR108               ; 真空到達異常へ
CON
ENDS
MPP
LDB @MR700               ; 真空引き異常FLG
AND @MR701               ; 保持異常FLG
ANL
SET @MR500               ; 真空保持異常表示へ
CON
ENDS
;<h1/>■ STEP
LD R50002                ; STEP
ANB R50203               ; UT3 Do
SET R50203               ; UT3 Do
CON
SET @MR3000              ; UT3 STEP ｽﾀｰﾄ
LDB R50003               ; HOME
ANB R50001               ; AUTO
ANB R50002               ; STEP
AND @MR3915              ; UT3 STEP終了
RES R50203               ; UT3 Do
CON
RES @MR3915              ; UT3 STEP終了
STG @MR3000              ; UT3 STEP ｽﾀｰﾄ
AND R50203               ; UT3 Do
JMP @MR3004              ; 次ｽﾃｯﾌﾟへ
;選択STEP確認 / Select step mode check
STG @MR3004              ; 次ｽﾃｯﾌﾟへ
MPS
LD LR41100               ; AUTO-0    Normal
OR LR41101               ; AUTO-1 ｲﾝｸ選択1
OR LR41102               ; AUTO-2 ｲﾝｸ選択2
OR LR41103               ; AUTO-3 ｲﾝｸ選択3
OR LR41104               ; AUTO-4 ｲﾝｸ選択4
OR LR41105               ; AUTO-4 ｲﾝｸ選択1-3
ANL
MPS
LD LR40401               ; UT3 STEP-1 ｲﾝｸ吐出 単発
OR LR40402               ; UT3 STEP-2 ｲﾝｸ吐出 連続
ANL
MPS
ANB MR39911              ; ｻﾃﾗｲﾄ無し
DW #0 DM460              ; 吐出実行回数
CON
JMP @MR3108              ; 吐出開始
MPP
AND MR39911              ; ｻﾃﾗｲﾄ無し
JMP @MR3015              ; STEP終了処理
MPP
LD LR40403               ; UT3 STEP-3 真空ﾁｪｯｸ(STEP)
OR LR40406               ; UT3 STEP-6 真空ﾁｪｯｸ(1ｻｲｸﾙ)
ANL
JMP @MR3200              ; 真空ﾁｪｯｸ動作
MRD
AND LR40407              ; UT3 STEP-7 ﾊﾞﾌﾞﾘﾝｸﾞ中止
JMP @MR3600              ; ﾊﾞﾌﾞﾘﾝｸﾞ中止
MPP
LDB LR41100              ; AUTO-0    Normal
ANB LR41101              ; AUTO-1 ｲﾝｸ選択1
ANB LR41102              ; AUTO-2 ｲﾝｸ選択2
ANB LR41103              ; AUTO-3 ｲﾝｸ選択3
ANB LR41104              ; AUTO-4 ｲﾝｸ選択4
ANB LR41105              ; AUTO-4 ｲﾝｸ選択1-3
LDB LR40401              ; UT3 STEP-1 ｲﾝｸ吐出 単発
ANB LR40402              ; UT3 STEP-2 ｲﾝｸ吐出 連続
ANB LR40403              ; UT3 STEP-3 真空ﾁｪｯｸ(STEP)
ANB LR40406              ; UT3 STEP-6 真空ﾁｪｯｸ(1ｻｲｸﾙ)
ORL
ANB LR40407              ; UT3 STEP-7 ﾊﾞﾌﾞﾘﾝｸﾞ中止
ANL
JMP @MR3015              ; STEP終了処理
;STEP終了処理
STG @MR3015              ; STEP終了処理
RES R50505               ; ST3 動作中
CON
SET R50413               ; UT3        1ｻｲｸﾙ終了
CON
SET @MR3915              ; UT3 STEP終了
CON
ENDS
;<h1/>　ｲﾝｸ吐出
;　INK Discharge
;ｲﾝｸｴﾝﾄﾞﾁｪｯｸ / INK end check
STG @MR3100              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸへ
AND @MR002               ; PAUSE・ERROR無し
ANB @MR6414              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall 実行中
ANB @MR6415              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall 完了
SET @MR6400              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall FLG
CON
JMP @MR3101              ; 次ｽﾃｯﾌﾟへ
STG @MR3101              ; 次ｽﾃｯﾌﾟへ
AND @MR002               ; PAUSE・ERROR無し
ANB @MR6414              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall 実行中
AND @MR6415              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall 完了
RES @MR6415              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall 完了
CON
JMP @MR3102              ; 次ｽﾃｯﾌﾟへ
STG @MR3102              ; 次ｽﾃｯﾌﾟへ
AND @MR002               ; PAUSE・ERROR無し
ANB @MR6415              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall 完了
JMP @MR3108              ; 吐出開始
;吐出開始 / Discharge start 
STG @MR3108              ; 吐出開始
AND @MR002               ; PAUSE・ERROR無し
ANB MR35001              ; ﾌﾟﾗﾝｼﾞｬｰ1-4 後退実行中
ANB MR35101              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y) 後退実行中
ANB MR35201              ; ﾌﾟﾗﾝｼﾞｬｰ2(M) 後退実行中
ANB MR35301              ; ﾌﾟﾗﾝｼﾞｬｰ3(C) 後退実行中
ANB MR35401              ; ﾌﾟﾗﾝｼﾞｬｰ4(B) 後退実行中
ANB MR35501              ; ﾌﾟﾗﾝｼﾞｬｰ1-3 後退実行中
ANB MR35009              ; ﾌﾟﾗﾝｼﾞｬｰ1-4 前進実行中
ANB MR35109              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y) 前進実行中
ANB MR35209              ; ﾌﾟﾗﾝｼﾞｬｰ2(M) 前進実行中
ANB MR35309              ; ﾌﾟﾗﾝｼﾞｬｰ3(C) 前進実行中
ANB MR35409              ; ﾌﾟﾗﾝｼﾞｬｰ4(B) 前進実行中
ANB MR35509              ; ﾌﾟﾗﾝｼﾞｬｰ1-3 前進実行中
ANB MR36014              ; ﾌﾟﾗﾝｼﾞｬｰ1-4吐出引込実行中
ANB MR36314              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y) 吐出引込実行中
ANB MR36414              ; ﾌﾟﾗﾝｼﾞｬｰ2(M) 吐出引込実行中
ANB MR36514              ; ﾌﾟﾗﾝｼﾞｬｰ3(C) 吐出引込実行中
ANB MR36614              ; ﾌﾟﾗﾝｼﾞｬｰ4(B) 吐出引込実行中
ANB MR36714              ; ﾌﾟﾗﾝｼﾞｬｰ1-3吐出引込実行中
SET R50103               ; PACK UT3
CON
RES @MR7101              ; ﾍｯﾄﾞ1    注入完了
CON
RES @MR7201              ; ﾍｯﾄﾞ2    注入完了
CON
RES @MR7301              ; ﾍｯﾄﾞ3    注入完了
CON
RES @MR7401              ; ﾍｯﾄﾞ4    注入完了
CON
ZRES MR35000 MR36715     ; ﾌﾟﾗﾝｼﾞｬｰ1-4 後退 call FLG  ﾌﾟﾗﾝｼﾞｬｰ1-3吐出引込call完了
CON
JMP @MR3109              ; 次ｽﾃｯﾌﾟへ
STG @MR3109              ; 次ｽﾃｯﾌﾟへ
MPS
AND @MR011               ; ﾍｯﾄﾞ1　  注入有
SET @MR7100              ; ﾍｯﾄﾞ1注入
MRD
AND @MR012               ; ﾍｯﾄﾞ2　  注入有
SET @MR7200              ; ﾍｯﾄﾞ2注入
MRD
AND @MR013               ; ﾍｯﾄﾞ3　  注入有
SET @MR7300              ; ﾍｯﾄﾞ3注入
MRD
AND @MR014               ; ﾍｯﾄﾞ4　  注入有
SET @MR7400              ; ﾍｯﾄﾞ4注入
MPP
JMP @MR3110              ; 次ｽﾃｯﾌﾟへ
STG @MR3110              ; 次ｽﾃｯﾌﾟへ
LD @MR7101               ; ﾍｯﾄﾞ1    注入完了
ORB @MR011               ; ﾍｯﾄﾞ1　  注入有
ANL
LD @MR7201               ; ﾍｯﾄﾞ2    注入完了
ORB @MR012               ; ﾍｯﾄﾞ2　  注入有
ANL
LD @MR7301               ; ﾍｯﾄﾞ3    注入完了
ORB @MR013               ; ﾍｯﾄﾞ3　  注入有
ANL
LD @MR7401               ; ﾍｯﾄﾞ4    注入完了
ORB @MR014               ; ﾍｯﾄﾞ4　  注入有
ANL
JMP @MR3111              ; 次ｽﾃｯﾌﾟへ
STG @MR3111              ; 次ｽﾃｯﾌﾟへ
ZRES MR39501 MR39504     ; PP1       中間検出FLG  PP4       中間検出FLG
CON
RES R50103               ; PACK UT3
CON
RES @MR7101              ; ﾍｯﾄﾞ1    注入完了
CON
RES @MR7201              ; ﾍｯﾄﾞ2    注入完了
CON
RES @MR7301              ; ﾍｯﾄﾞ3    注入完了
CON
RES @MR7401              ; ﾍｯﾄﾞ4    注入完了
CON
INC DM460                ; 吐出実行回数
CON
JMP @MR3112              ; 次ｽﾃｯﾌﾟへ
STG @MR3112              ; 次ｽﾃｯﾌﾟへ
MPS
LD< DM460 @DM2           ; 吐出実行回数  吐出設定回数
ANB R50000               ; HOLD
ANL
JMP @MR3108              ; 吐出開始
MPP
LD>= DM460 @DM2          ; 吐出実行回数  吐出設定回数
OR R50000                ; HOLD
ANL
MPS
JMP @MR3015              ; STEP終了処理
MPP
LD= DM287 #1             ; ModelIdentficationNumber
AND @MR014               ; ﾍｯﾄﾞ4　  注入有
LD= DM287 #2             ; ModelIdentficationNumber
AND @MR011               ; ﾍｯﾄﾞ1　  注入有
AND @MR012               ; ﾍｯﾄﾞ2　  注入有
AND @MR013               ; ﾍｯﾄﾞ3　  注入有
ORL
LD= DM287 #3             ; ModelIdentficationNumber
AND @MR011               ; ﾍｯﾄﾞ1　  注入有
AND @MR012               ; ﾍｯﾄﾞ2　  注入有
AND @MR013               ; ﾍｯﾄﾞ3　  注入有
AND @MR014               ; ﾍｯﾄﾞ4　  注入有
ORL
ANL
SET MR2900               ; 連続吐出完了FLG
;<h1/>　真空ﾁｪｯｸ ﾓｰﾄﾞ
;　Vacuum check mode 
;ｶｰﾄﾘｯｼﾞｸﾗﾝﾌﾟ
;Cartridge clamping
STG @MR3200              ; 真空ﾁｪｯｸ動作
AND @MR002               ; PAUSE・ERROR無し
RES MR6100               ; 2ST ｸﾗﾝﾌﾟ開き
CON
SET MR6014               ; 2ST ｸﾗﾝﾌﾟ閉じ
CON
ANB T403                 ; 2ST ｸﾗﾝﾌﾟ開き OK
AND T402                 ; 2ST ｸﾗﾝﾌﾟ閉じ OK
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
JMP @MR3201              ; Next step
;ﾜｰｸ浮きﾁｪｯｸ / Work flotage check 
STG @MR3201              ; Next step
AND @MR002               ; PAUSE・ERROR無し
MPS
AND @MR004               ; ｶｰﾄﾘｯｼﾞ浮きOK
JMP @MR3208              ; 注入UT下降
MPP
ANB @MR004               ; ｶｰﾄﾘｯｼﾞ浮きOK
TMR @20 #20              ; ｴﾗｰｳｪｲﾄ
CON
AND @T20                 ; ｴﾗｰｳｪｲﾄ
SET @MR100               ; Err07 ﾜｰｸ浮き表示
CON
JMP @MR3202              ; Next step
;ﾜｰｸ浮きの時 / When Work flotage check
STG @MR3202              ; Next step
AND @MR107               ; Err07 解除完了
RES @MR107               ; Err07 解除完了
CON
JMP @MR3501              ; ｹｰｽ開放
;注入ﾍｯﾄﾞ 下降 / Infusion head down
STG @MR3208              ; 注入UT下降
AND @MR002               ; PAUSE・ERROR無し
SET R50103               ; PACK UT3
CON
RES MR6001               ; 注入上下 上昇
CON
SET MR6000               ; 注入上下 下降
CON
JMP @MR3209              ; 次ｽﾃｯﾌﾟへ
STG @MR3209              ; 次ｽﾃｯﾌﾟへ
MPS
LDB MR4200               ; Cylinder Error 4200
ANB R4201                ; 注入上下 上限
AND R4200                ; 注入上下 下限
ANL
JMP @MR3300              ; 真空ﾁｪｯｸ 真空引き&真空保持へ
MPP
AND MR4200               ; Cylinder Error 4200
RES MR6000               ; 注入上下 下降
CON
SET MR6001               ; 注入上下 上昇
CON
JMP @MR3210              ; 次ｽﾃｯﾌﾟへ
STG @MR3210              ; 次ｽﾃｯﾌﾟへ
ANB R4200                ; 注入上下 下限
AND R4201                ; 注入上下 上限
RES R50103               ; PACK UT3
CON
JMP @MR3211
STG @MR3211
AND @MR002               ; PAUSE・ERROR無し
ANB MR4200               ; Cylinder Error 4200
JMP @MR3208              ; 注入UT下降
;真空引き&真空保持 / Vacuum & Vaccum keep
STG @MR3300              ; 真空ﾁｪｯｸ 真空引き&真空保持へ
ZRES @MR900 @MR915       ; ﾍｯﾄﾞ1到達確認完了  ﾍｯﾄﾞ4　  真空保持OK
CON
ANB @MR6114              ; 真空引き&真空保持call 実行中
ANB @MR6115              ; 真空引き&真空保持call 完了
SET @MR6100              ; 真空引き&真空保持call FLG
CON
JMP @MR3301              ; 次ｽﾃｯﾌﾟへ
STG @MR3301              ; 次ｽﾃｯﾌﾟへ
ANB @MR6114              ; 真空引き&真空保持call 実行中
AND @MR6115              ; 真空引き&真空保持call 完了
RES @MR6115              ; 真空引き&真空保持call 完了
CON
JMP @MR3302              ; 次ｽﾃｯﾌﾟへ
STG @MR3302              ; 次ｽﾃｯﾌﾟへ
ANB @MR6115              ; 真空引き&真空保持call 完了
RES R50103               ; PACK UT3
CON
JMP @MR3308              ; 真空ﾁｪｯｸ ﾍｯﾄﾞ真空 開へ
;ﾍｯﾄﾞ真空 開 /  Head vacuum open 
STG @MR3308              ; 真空ﾁｪｯｸ ﾍｯﾄﾞ真空 開へ
ANB @MR6314              ; ﾍｯﾄﾞ真空引き 開call 実行中
ANB @MR6315              ; ﾍｯﾄﾞ真空引き 開call 完了
SET @MR6300              ; ﾍｯﾄﾞ真空引き 開call FLG
CON
JMP @MR3309              ; 次ｽﾃｯﾌﾟへ
STG @MR3309              ; 次ｽﾃｯﾌﾟへ
ANB @MR6314              ; ﾍｯﾄﾞ真空引き 開call 実行中
AND @MR6315              ; ﾍｯﾄﾞ真空引き 開call 完了
RES @MR6315              ; ﾍｯﾄﾞ真空引き 開call 完了
CON
JMP @MR3310              ; 次ｽﾃｯﾌﾟへ
STG @MR3310              ; 次ｽﾃｯﾌﾟへ
ANB @MR6315              ; ﾍｯﾄﾞ真空引き 開call 完了
RES MR6212               ; ﾒｲﾝ 真空 開
CON
RES MR6208               ; 真空ﾏﾆﾎｰﾙﾄﾞ1 開
CON
RES MR6209               ; 真空ﾏﾆﾎｰﾙﾄﾞ2 開
CON
RES MR6210               ; 真空ﾏﾆﾎｰﾙﾄﾞ3 開
CON
RES MR6211               ; 真空ﾏﾆﾎｰﾙﾄﾞ4 開
CON
RES R603                 ; ﾛｯﾄ強制下降
CON
JMP @MR3311              ; 次ｽﾃｯﾌﾟへ
STG @MR3311              ; 次ｽﾃｯﾌﾟへ
TMR @3 #300              ; 真空ﾁｪｯｸ時間
CON
AND @T3                  ; 真空ﾁｪｯｸ時間
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
RES R603                 ; ﾛｯﾄ強制下降
CON
JMP @MR3400              ; 真空ﾁｪｯｸ 大気開放へ
;大気開放ﾁｪｯｸ / air rerease check 
STG @MR3400              ; 真空ﾁｪｯｸ 大気開放へ
ANB @MR6014              ; 大気開放ﾁｪｯｸcall 実行中
ANB @MR6015              ; 大気開放ﾁｪｯｸcall 完了
SET @MR6000              ; 大気開放ﾁｪｯｸcall FLG
CON
JMP @MR3401              ; 次ｽﾃｯﾌﾟへ
STG @MR3401              ; 次ｽﾃｯﾌﾟへ
ANB @MR6014              ; 大気開放ﾁｪｯｸcall 実行中
AND @MR6015              ; 大気開放ﾁｪｯｸcall 完了
RES @MR6015              ; 大気開放ﾁｪｯｸcall 完了
CON
JMP @MR3402              ; 次ｽﾃｯﾌﾟへ
STG @MR3402              ; 次ｽﾃｯﾌﾟへ
ANB @MR6015              ; 大気開放ﾁｪｯｸcall 完了
JMP @MR3500              ; 真空ﾁｪｯｸ 注入UT 上昇へ
;注入UT 上昇 / Infusion UT up
STG @MR3500              ; 真空ﾁｪｯｸ 注入UT 上昇へ
AND @MR002               ; PAUSE・ERROR無し
RES MR6000               ; 注入上下 下降
CON
SET MR6001               ; 注入上下 上昇
CON
ANB R4200                ; 注入上下 下限
AND R4201                ; 注入上下 上限
RES R50103               ; PACK UT3
CON
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
JMP @MR3501              ; ｹｰｽ開放
;ｶｰﾄﾘｯｼﾞｸﾗﾝﾌﾟ
;Cartridge clamping
STG @MR3501              ; ｹｰｽ開放
AND @MR002               ; PAUSE・ERROR無し
RES MR6014               ; 2ST ｸﾗﾝﾌﾟ閉じ
CON
SET MR6100               ; 2ST ｸﾗﾝﾌﾟ開き
CON
ANB T402                 ; 2ST ｸﾗﾝﾌﾟ閉じ OK
AND T403                 ; 2ST ｸﾗﾝﾌﾟ開き OK
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
JMP @MR3015              ; STEP終了処理
;<h1/>  ﾊﾞﾌﾞﾘﾝｸﾞ回避 / babring stop
STG @MR3600              ; ﾊﾞﾌﾞﾘﾝｸﾞ中止
AND @MR002               ; PAUSE・ERROR無し
SET MR12115              ; ﾊﾞﾌﾞﾘﾝｸﾞ回避
CON
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
JMP @MR3601              ; Next step
STG @MR3601              ; Next step
AND @MR002               ; PAUSE・ERROR無し
ANB MR1211               ; (Y) KDﾄﾞﾗﾑ攪拌中
ANB MR1212               ; (Y) ｻﾌﾞﾀﾝｸ攪拌中
ANB MR1213               ; (YELLOW)  ｲﾝｸ循環中
ANB MR1411               ; (M) KDﾄﾞﾗﾑ攪拌中
ANB MR1412               ; (M) ｻﾌﾞﾀﾝｸ攪拌中
ANB MR1413               ; (MAGENTA) ｲﾝｸ循環中
ANB MR1611               ; (C) KDﾄﾞﾗﾑ攪拌中
ANB MR1612               ; (C) ｻﾌﾞﾀﾝｸ攪拌中
ANB MR1613               ; (CYAN)ｲﾝｸ循環中
ANB MR1811               ; (B) KDﾄﾞﾗﾑ攪拌中
ANB MR1812               ; (B) ｻﾌﾞﾀﾝｸ攪拌中
ANB MR1813               ; (BLACK)ｲﾝｸ循環中
JMP @MR3602
STG @MR3602
RES MR1303               ; (Y) KDﾄﾞﾗﾑ攪拌要求
CON
RES MR1304               ; (Y) ｻﾌﾞﾀﾝｸ攪拌要求
CON
RES MR1305               ; (YELLOW)  ｲﾝｸ循環要求
CON
RES MR1503               ; (M) KDﾄﾞﾗﾑ攪拌要求
CON
RES MR1504               ; (M) ｻﾌﾞﾀﾝｸ攪拌要求
CON
RES MR1505               ; (MAGENTA) ｲﾝｸ循環要求
CON
RES MR1703               ; (C) KDﾄﾞﾗﾑ攪拌要求
CON
RES MR1704               ; (C) ｻﾌﾞﾀﾝｸ攪拌要求
CON
RES MR1705               ; (CYAN)ｲﾝｸ循環要求
CON
RES MR1903               ; (B) KDﾄﾞﾗﾑ攪拌要求
CON
RES MR1904               ; (B) ｻﾌﾞﾀﾝｸ攪拌要求
CON
RES MR1905               ; (BLACK)ｲﾝｸ循環要求
CON
RES MR12115              ; ﾊﾞﾌﾞﾘﾝｸﾞ回避
CON
JMP @MR3015              ; STEP終了処理
;<h1/>■ Subroutine
;<h1/>　大気開放ﾁｪｯｸ
;　Air rerease check　@MR4500〜@MR4515
STG @MR6000              ; 大気開放ﾁｪｯｸcall FLG
SET @MR6014              ; 大気開放ﾁｪｯｸcall 実行中
CON
JMP @MR6001              ; 次ｽﾃｯﾌﾟ
STG @MR6001              ; 次ｽﾃｯﾌﾟ
ANB R50113               ; Err ST3
RES MR6212               ; ﾒｲﾝ 真空 開
CON
SET MR6213               ; ﾒｲﾝ 大気開放 開
CON
SET MR6208               ; 真空ﾏﾆﾎｰﾙﾄﾞ1 開
CON
SET MR6209               ; 真空ﾏﾆﾎｰﾙﾄﾞ2 開
CON
SET MR6210               ; 真空ﾏﾆﾎｰﾙﾄﾞ3 開
CON
SET MR6211               ; 真空ﾏﾆﾎｰﾙﾄﾞ4 開
CON
JMP @MR6002              ; 次ｽﾃｯﾌﾟ
STG @MR6002              ; 次ｽﾃｯﾌﾟ
ANB R50113               ; Err ST3
SET MR6200               ; ﾍｯﾄﾞ真空1 開
CON
SET MR6202               ; ﾍｯﾄﾞ真空2 開
CON
SET MR6204               ; ﾍｯﾄﾞ真空3 開
CON
SET MR6206               ; ﾍｯﾄﾞ真空4 開
CON
JMP @MR6003              ; 次ｽﾃｯﾌﾟ
STG @MR6003              ; 次ｽﾃｯﾌﾟ
RES MR6002               ; ﾍｯﾄﾞ1(Y) ﾛｯﾄﾞ 下降
CON
RES MR6004               ; ﾍｯﾄﾞ2(M) ﾛｯﾄﾞ 下降
CON
RES MR6006               ; ﾍｯﾄﾞ3(C) ﾛｯﾄﾞ 下降
CON
RES MR6008               ; ﾍｯﾄﾞ4(B) ﾛｯﾄﾞ 下降
CON
JMP @MR6004              ; 次ｽﾃｯﾌﾟ
STG @MR6004              ; 次ｽﾃｯﾌﾟ
ANB R50113               ; Err ST3
ANB R4202                ; ﾍｯﾄﾞ1 真空引きﾛｯﾄﾞ　下限
ANB R4204                ; ﾍｯﾄﾞ2 真空引きﾛｯﾄﾞ　下限
ANB R4206                ; ﾍｯﾄﾞ3 真空引きﾛｯﾄﾞ　下限
ANB R4208                ; ﾍｯﾄﾞ4 真空引きﾛｯﾄﾞ　下限
JMP @MR6005              ; 次ｽﾃｯﾌﾟ
STG @MR6005              ; 次ｽﾃｯﾌﾟ
ANB R50113               ; Err ST3
AND R4203                ; ﾍｯﾄﾞ1 真空引きﾛｯﾄﾞ　上限
AND R4205                ; ﾍｯﾄﾞ2 真空引きﾛｯﾄﾞ　上限
AND R4207                ; ﾍｯﾄﾞ3 真空引きﾛｯﾄﾞ　上限
AND R4209                ; ﾍｯﾄﾞ4 真空引きﾛｯﾄﾞ　上限
JMP @MR6006              ; 次ｽﾃｯﾌﾟ
STG @MR6006              ; 次ｽﾃｯﾌﾟ
ANB R50113               ; Err ST3
ANB R4300                ; ﾊﾟﾙﾐﾙ1 HI検出
ANB R4301                ; ﾊﾟﾙﾐﾙ1 GO検出
ANB R4302                ; ﾊﾟﾙﾐﾙ1 LO検出
ANB R4303                ; ﾊﾟﾙﾐﾙ2 HI検出
ANB R4304                ; ﾊﾟﾙﾐﾙ2 GO検出
ANB R4305                ; ﾊﾟﾙﾐﾙ2 LO検出
ANB R4306                ; ﾊﾟﾙﾐﾙ3 HI検出
ANB R4307                ; ﾊﾟﾙﾐﾙ3 GO検出
ANB R4308                ; ﾊﾟﾙﾐﾙ3 LO検出
ANB R4309                ; ﾊﾟﾙﾐﾙ4 HI検出
ANB R4310                ; ﾊﾟﾙﾐﾙ4 GO検出
ANB R4311                ; ﾊﾟﾙﾐﾙ4 LO検出
TMR @25 #1               ; ﾀｲﾐﾝｸﾞ
CON
AND @T25                 ; ﾀｲﾐﾝｸﾞ
JMP @MR6007              ; 次ｽﾃｯﾌﾟ
STG @MR6007              ; 次ｽﾃｯﾌﾟ
ANB R50113               ; Err ST3
SET MR6208               ; 真空ﾏﾆﾎｰﾙﾄﾞ1 開
CON
SET MR6209               ; 真空ﾏﾆﾎｰﾙﾄﾞ2 開
CON
SET MR6210               ; 真空ﾏﾆﾎｰﾙﾄﾞ3 開
CON
SET MR6211               ; 真空ﾏﾆﾎｰﾙﾄﾞ4 開
CON
RES MR6200               ; ﾍｯﾄﾞ真空1 開
CON
RES MR6202               ; ﾍｯﾄﾞ真空2 開
CON
RES MR6204               ; ﾍｯﾄﾞ真空3 開
CON
RES MR6206               ; ﾍｯﾄﾞ真空4 開
CON
ZRES MR6800 MR6803       ; (Y) 注入ﾍｯﾄﾞ  大気開放  (B) 注入ﾍｯﾄﾞ  大気開放
CON
JMP @MR6011              ; 次ｽﾃｯﾌﾟへ
STG @MR6011              ; 次ｽﾃｯﾌﾟへ
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
SET @MR6015              ; 大気開放ﾁｪｯｸcall 完了
CON
RES @MR6014              ; 大気開放ﾁｪｯｸcall 実行中
CON
ENDS
;<h1/>　真空引き & 真空保持時間
;　Vacuum & Vacuum keep time 　@MR4600〜@MR46515
STG @MR6100              ; 真空引き&真空保持call FLG
SET @MR6114              ; 真空引き&真空保持call 実行中
CON
JMP @MR6101              ; 次ｽﾃｯﾌﾟ
STG @MR6101              ; 次ｽﾃｯﾌﾟ
ANB @MR6314              ; ﾍｯﾄﾞ真空引き 開call 実行中
ANB @MR6315              ; ﾍｯﾄﾞ真空引き 開call 完了
ZRES @MR900 @MR915       ; ﾍｯﾄﾞ1到達確認完了  ﾍｯﾄﾞ4　  真空保持OK
CON
ANB @MR904               ; ﾍｯﾄﾞ1　  真空到達OK
ANB @MR905               ; ﾍｯﾄﾞ2　  真空到達OK
ANB @MR906               ; ﾍｯﾄﾞ3　  真空到達OK
ANB @MR907               ; ﾍｯﾄﾞ4　  真空到達OK
ANB @MR912               ; ﾍｯﾄﾞ1　  真空保持OK
ANB @MR913               ; ﾍｯﾄﾞ2　  真空保持OK
ANB @MR914               ; ﾍｯﾄﾞ3　  真空保持OK
ANB @MR915               ; ﾍｯﾄﾞ4　  真空保持OK
MPS
SET @MR6300              ; ﾍｯﾄﾞ真空引き 開call FLG
CON
JMP @MR6102              ; 次ｽﾃｯﾌﾟ
MRD
AND @MR011               ; ﾍｯﾄﾞ1　  注入有
SET R50709               ; CT11 真空引き Y
MRD
AND @MR012               ; ﾍｯﾄﾞ2　  注入有
SET R50708               ; CT10 真空引き M
MRD
AND @MR013               ; ﾍｯﾄﾞ3　  注入有
SET R50707               ; CT9 真空引き C
MPP
AND @MR014               ; ﾍｯﾄﾞ4　  注入有
SET R50706               ; CT8 真空引き BK
STG @MR6102              ; 次ｽﾃｯﾌﾟ
ANB @MR6314              ; ﾍｯﾄﾞ真空引き 開call 実行中
AND @MR6315              ; ﾍｯﾄﾞ真空引き 開call 完了
RES @MR6315              ; ﾍｯﾄﾞ真空引き 開call 完了
CON
JMP @MR6103              ; 次ｽﾃｯﾌﾟ
STG @MR6103              ; 次ｽﾃｯﾌﾟ
ANB @MR6315              ; ﾍｯﾄﾞ真空引き 開call 完了
JMP @MR6104              ; 次ｽﾃｯﾌﾟ
STG @MR6104              ; 次ｽﾃｯﾌﾟ
MPS
AND @MR011               ; ﾍｯﾄﾞ1　  注入有
MPS
AND R4301                ; ﾊﾟﾙﾐﾙ1 GO検出
RES R50709               ; CT11 真空引き Y
CON
SET @MR904               ; ﾍｯﾄﾞ1　  真空到達OK
CON
SET @MR900               ; ﾍｯﾄﾞ1到達確認完了
MPP
ANB R4301                ; ﾊﾟﾙﾐﾙ1 GO検出
TMR @21 #150             ; 真空未到達時間1
CON
AND @T21                 ; 真空未到達時間1
RES R50709               ; CT11 真空引き Y
CON
RES @MR904               ; ﾍｯﾄﾞ1　  真空到達OK
CON
SET @MR900               ; ﾍｯﾄﾞ1到達確認完了
MRD
AND @MR012               ; ﾍｯﾄﾞ2　  注入有
MPS
AND R4304                ; ﾊﾟﾙﾐﾙ2 GO検出
RES R50707               ; CT9 真空引き C
CON
SET @MR905               ; ﾍｯﾄﾞ2　  真空到達OK
CON
SET @MR901               ; ﾍｯﾄﾞ2到達確認完了
MPP
ANB R4304                ; ﾊﾟﾙﾐﾙ2 GO検出
TMR @22 #150             ; 真空未到達時間2
CON
AND @T22                 ; 真空未到達時間2
RES R50707               ; CT9 真空引き C
CON
RES @MR905               ; ﾍｯﾄﾞ2　  真空到達OK
CON
SET @MR901               ; ﾍｯﾄﾞ2到達確認完了
MRD
AND @MR013               ; ﾍｯﾄﾞ3　  注入有
MPS
AND R4307                ; ﾊﾟﾙﾐﾙ3 GO検出
RES R50708               ; CT10 真空引き M
CON
SET @MR906               ; ﾍｯﾄﾞ3　  真空到達OK
CON
SET @MR902               ; ﾍｯﾄﾞ3到達確認完了
MPP
ANB R4307                ; ﾊﾟﾙﾐﾙ3 GO検出
TMR @23 #150             ; 真空未到達時間3
CON
AND @T23                 ; 真空未到達時間3
RES R50708               ; CT10 真空引き M
CON
RES @MR906               ; ﾍｯﾄﾞ3　  真空到達OK
CON
SET @MR902               ; ﾍｯﾄﾞ3到達確認完了
MRD
AND @MR014               ; ﾍｯﾄﾞ4　  注入有
MPS
AND R4310                ; ﾊﾟﾙﾐﾙ4 GO検出
RES R50706               ; CT8 真空引き BK
CON
SET @MR907               ; ﾍｯﾄﾞ4　  真空到達OK
CON
SET @MR903               ; ﾍｯﾄﾞ4到達確認完了
MPP
ANB R4310                ; ﾊﾟﾙﾐﾙ4 GO検出
TMR @24 #150             ; 真空未到達時間4
CON
AND @T24                 ; 真空未到達時間4
RES R50706               ; CT8 真空引き BK
CON
RES @MR907               ; ﾍｯﾄﾞ4　  真空到達OK
CON
SET @MR903               ; ﾍｯﾄﾞ4到達確認完了
MPP
LD @MR900                ; ﾍｯﾄﾞ1到達確認完了
ORB @MR011               ; ﾍｯﾄﾞ1　  注入有
LD @MR901                ; ﾍｯﾄﾞ2到達確認完了
ORB @MR012               ; ﾍｯﾄﾞ2　  注入有
ANL
LD @MR902                ; ﾍｯﾄﾞ3到達確認完了
ORB @MR013               ; ﾍｯﾄﾞ3　  注入有
ANL
LD @MR903                ; ﾍｯﾄﾞ4到達確認完了
ORB @MR014               ; ﾍｯﾄﾞ4　  注入有
ANL
ANL
JMP @MR6105              ; 次ｽﾃｯﾌﾟ
STG @MR6105              ; 次ｽﾃｯﾌﾟ
MPS
AND<> DM287 #3           ; ModelIdentficationNumber
TMR #80 #9999            ; 注入真空引き安定時間(Toki BK/CL)
CON
AND T80                  ; 注入真空引き安定時間(Toki BK/CL)
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
JMP @MR6106              ; 次ｽﾃｯﾌﾟ
MPP
AND= DM287 #3            ; ModelIdentficationNumber
TMR #81 #9999            ; 注入真空引き安定時間(Toki2 4CL)
CON
AND T81                  ; 注入真空引き安定時間(Toki2 4CL)
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
JMP @MR6106              ; 次ｽﾃｯﾌﾟ
STG @MR6106              ; 次ｽﾃｯﾌﾟ
RES MR6212               ; ﾒｲﾝ 真空 開
CON
RES MR6213               ; ﾒｲﾝ 大気開放 開
CON
RES MR6208               ; 真空ﾏﾆﾎｰﾙﾄﾞ1 開
CON
RES MR6209               ; 真空ﾏﾆﾎｰﾙﾄﾞ2 開
CON
RES MR6210               ; 真空ﾏﾆﾎｰﾙﾄﾞ3 開
CON
RES MR6211               ; 真空ﾏﾆﾎｰﾙﾄﾞ4 開
CON
TMR #82 #9999            ; 真空監視WAIT
CON
AND T82                  ; 真空監視WAIT
JMP @MR6107              ; 次ｽﾃｯﾌﾟ
STG @MR6107              ; 次ｽﾃｯﾌﾟ
MPS
AND @MR011               ; ﾍｯﾄﾞ1　  注入有
MPS
LD R4302                 ; ﾊﾟﾙﾐﾙ1 LO検出
AND @MR904               ; ﾍｯﾄﾞ1　  真空到達OK
ANL
SET @MR912               ; ﾍｯﾄﾞ1　  真空保持OK
CON
SET @MR908               ; ﾍｯﾄﾞ1保持確認完了
MPP
LDB R4302                ; ﾊﾟﾙﾐﾙ1 LO検出
ORB @MR904               ; ﾍｯﾄﾞ1　  真空到達OK
ANL
RES @MR912               ; ﾍｯﾄﾞ1　  真空保持OK
CON
SET @MR908               ; ﾍｯﾄﾞ1保持確認完了
MRD
AND @MR012               ; ﾍｯﾄﾞ2　  注入有
MPS
LD R4305                 ; ﾊﾟﾙﾐﾙ2 LO検出
AND @MR905               ; ﾍｯﾄﾞ2　  真空到達OK
ANL
SET @MR913               ; ﾍｯﾄﾞ2　  真空保持OK
CON
SET @MR909               ; ﾍｯﾄﾞ2保持確認完了
MPP
LDB R4305                ; ﾊﾟﾙﾐﾙ2 LO検出
ORB @MR905               ; ﾍｯﾄﾞ2　  真空到達OK
ANL
RES @MR913               ; ﾍｯﾄﾞ2　  真空保持OK
CON
SET @MR909               ; ﾍｯﾄﾞ2保持確認完了
MRD
AND @MR013               ; ﾍｯﾄﾞ3　  注入有
MPS
LD R4308                 ; ﾊﾟﾙﾐﾙ3 LO検出
AND @MR906               ; ﾍｯﾄﾞ3　  真空到達OK
ANL
SET @MR914               ; ﾍｯﾄﾞ3　  真空保持OK
CON
SET @MR910               ; ﾍｯﾄﾞ3保持確認完了
MPP
LDB R4308                ; ﾊﾟﾙﾐﾙ3 LO検出
ORB @MR906               ; ﾍｯﾄﾞ3　  真空到達OK
ANL
RES @MR914               ; ﾍｯﾄﾞ3　  真空保持OK
CON
SET @MR910               ; ﾍｯﾄﾞ3保持確認完了
MRD
AND @MR014               ; ﾍｯﾄﾞ4　  注入有
MPS
LD R4311                 ; ﾊﾟﾙﾐﾙ4 LO検出
AND @MR907               ; ﾍｯﾄﾞ4　  真空到達OK
ANL
SET @MR915               ; ﾍｯﾄﾞ4　  真空保持OK
CON
SET @MR911               ; ﾍｯﾄﾞ4保持確認完了
MPP
LDB R4311                ; ﾊﾟﾙﾐﾙ4 LO検出
ORB @MR907               ; ﾍｯﾄﾞ4　  真空到達OK
ANL
RES @MR915               ; ﾍｯﾄﾞ4　  真空保持OK
CON
SET @MR911               ; ﾍｯﾄﾞ4保持確認完了
MPP
LD @MR908                ; ﾍｯﾄﾞ1保持確認完了
ORB @MR011               ; ﾍｯﾄﾞ1　  注入有
LD @MR909                ; ﾍｯﾄﾞ2保持確認完了
ORB @MR012               ; ﾍｯﾄﾞ2　  注入有
ANL
LD @MR910                ; ﾍｯﾄﾞ3保持確認完了
ORB @MR013               ; ﾍｯﾄﾞ3　  注入有
ANL
LD @MR911                ; ﾍｯﾄﾞ4保持確認完了
ORB @MR014               ; ﾍｯﾄﾞ4　  注入有
ANL
ANL
JMP @MR6108              ; 次ｽﾃｯﾌﾟ
STG @MR6108              ; 次ｽﾃｯﾌﾟ
RES MR6200               ; ﾍｯﾄﾞ真空1 開
CON
RES MR6202               ; ﾍｯﾄﾞ真空2 開
CON
RES MR6204               ; ﾍｯﾄﾞ真空3 開
CON
RES MR6206               ; ﾍｯﾄﾞ真空4 開
CON
JMP @MR6109              ; 次ｽﾃｯﾌﾟ
STG @MR6109              ; 次ｽﾃｯﾌﾟ
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
SET @MR6115              ; 真空引き&真空保持call 完了
CON
RES @MR6114              ; 真空引き&真空保持call 実行中
CON
ENDS
;<h1/>　ﾍｯﾄﾞ真空引き 開閉
;　Head vacuum open 　@MR5100〜@MR5115　
STG @MR6300              ; ﾍｯﾄﾞ真空引き 開call FLG
SET @MR6314              ; ﾍｯﾄﾞ真空引き 開call 実行中
CON
JMP @MR6301              ; 次ｽﾃｯﾌﾟ
STG @MR6301              ; 次ｽﾃｯﾌﾟ
RES MR6800               ; (Y) 注入ﾍｯﾄﾞ  大気開放
CON
RES MR6801               ; (M) 注入ﾍｯﾄﾞ  大気開放
CON
RES MR6802               ; (C) 注入ﾍｯﾄﾞ  大気開放
CON
RES MR6803               ; (B) 注入ﾍｯﾄﾞ  大気開放
CON
ZRES MR6800 MR6803       ; (Y) 注入ﾍｯﾄﾞ  大気開放  (B) 注入ﾍｯﾄﾞ  大気開放
CON
RES MR6213               ; ﾒｲﾝ 大気開放 開
CON
RES MR6002               ; ﾍｯﾄﾞ1(Y) ﾛｯﾄﾞ 下降
CON
RES MR6004               ; ﾍｯﾄﾞ2(M) ﾛｯﾄﾞ 下降
CON
RES MR6006               ; ﾍｯﾄﾞ3(C) ﾛｯﾄﾞ 下降
CON
RES MR6008               ; ﾍｯﾄﾞ4(B) ﾛｯﾄﾞ 下降
CON
RES MR6200               ; ﾍｯﾄﾞ真空1 開
CON
RES MR6202               ; ﾍｯﾄﾞ真空2 開
CON
RES MR6204               ; ﾍｯﾄﾞ真空3 開
CON
RES MR6206               ; ﾍｯﾄﾞ真空4 開
CON
RES MR6208               ; 真空ﾏﾆﾎｰﾙﾄﾞ1 開
CON
RES MR6209               ; 真空ﾏﾆﾎｰﾙﾄﾞ2 開
CON
RES MR6210               ; 真空ﾏﾆﾎｰﾙﾄﾞ3 開
CON
RES MR6211               ; 真空ﾏﾆﾎｰﾙﾄﾞ4 開
CON
JMP @MR6302              ; 次ｽﾃｯﾌﾟ
STG @MR6302              ; 次ｽﾃｯﾌﾟ
MPS
AND @MR011               ; ﾍｯﾄﾞ1　  注入有
SET MR6208               ; 真空ﾏﾆﾎｰﾙﾄﾞ1 開
CON
SET MR6200               ; ﾍｯﾄﾞ真空1 開
MRD
AND @MR012               ; ﾍｯﾄﾞ2　  注入有
SET MR6209               ; 真空ﾏﾆﾎｰﾙﾄﾞ2 開
CON
SET MR6202               ; ﾍｯﾄﾞ真空2 開
MRD
AND @MR013               ; ﾍｯﾄﾞ3　  注入有
SET MR6210               ; 真空ﾏﾆﾎｰﾙﾄﾞ3 開
CON
SET MR6204               ; ﾍｯﾄﾞ真空3 開
MRD
AND @MR014               ; ﾍｯﾄﾞ4　  注入有
SET MR6211               ; 真空ﾏﾆﾎｰﾙﾄﾞ4 開
CON
SET MR6206               ; ﾍｯﾄﾞ真空4 開
MPP
JMP @MR6310
STG @MR6310
TMR @15 #2               ; ﾀｲﾐﾝｸﾞﾃﾞｨﾚｲ
CON
AND @T15                 ; ﾀｲﾐﾝｸﾞﾃﾞｨﾚｲ
SET MR6212               ; ﾒｲﾝ 真空 開
CON
JMP @MR6311              ; 次ｽﾃｯﾌﾟ
STG @MR6311              ; 次ｽﾃｯﾌﾟ
TMR @14 #3               ; ﾀｲﾐﾝｸﾞﾃﾞｨﾚｲ
CON
AND @T14                 ; ﾀｲﾐﾝｸﾞﾃﾞｨﾚｲ
JMP @MR6312              ; 次ｽﾃｯﾌﾟ
STG @MR6312              ; 次ｽﾃｯﾌﾟ
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
SET @MR6315              ; ﾍｯﾄﾞ真空引き 開call 完了
CON
RES @MR6314              ; ﾍｯﾄﾞ真空引き 開call 実行中
CON
ENDS
;<h1/>　ｲﾝｸｴﾝﾄﾞﾁｪｯｸ
;　Ink end check　@MR5400〜@MR5415
STG @MR6400              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall FLG
SET @MR6414              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall 実行中
CON
JMP @MR6401              ; 次ｽﾃｯﾌﾟ
STG @MR6401              ; 次ｽﾃｯﾌﾟ
MPS
LDB LR41100              ; AUTO-0    Normal
ANB LR41101              ; AUTO-1 ｲﾝｸ選択1
ANB LR41105              ; AUTO-4 ｲﾝｸ選択1-3
ANL
JMP @MR6402              ; 次ｽﾃｯﾌﾟ
MPP
LD LR41100               ; AUTO-0    Normal
OR LR41101               ; AUTO-1 ｲﾝｸ選択1
OR LR41105               ; AUTO-4 ｲﾝｸ選択1-3
ANL
TMR @10 #10              ; ﾀｲﾐﾝｸﾞﾃﾞｨﾚｲ
CON
AND @T10                 ; ﾀｲﾐﾝｸﾞﾃﾞｨﾚｲ
SET @MR811               ; ｲﾝｸｴﾝﾄﾞ1 (Y)ﾁｪｯｸOKFLG
CON
JMP @MR6405              ; ｲﾝｸEND
STG @MR6402              ; 次ｽﾃｯﾌﾟ
MPS
LDB LR41100              ; AUTO-0    Normal
ANB LR41102              ; AUTO-2 ｲﾝｸ選択2
ANB LR41105              ; AUTO-4 ｲﾝｸ選択1-3
ANL
JMP @MR6403              ; 次ｽﾃｯﾌﾟ
MPP
LD LR41100               ; AUTO-0    Normal
OR LR41102               ; AUTO-2 ｲﾝｸ選択2
OR LR41105               ; AUTO-4 ｲﾝｸ選択1-3
ANL
TMR @11 #10              ; ﾀｲﾐﾝｸﾞﾃﾞｨﾚｲ
CON
AND @T11                 ; ﾀｲﾐﾝｸﾞﾃﾞｨﾚｲ
SET @MR812               ; ｲﾝｸｴﾝﾄﾞ2 (M)ﾁｪｯｸOKFLG
CON
JMP @MR6405              ; ｲﾝｸEND
STG @MR6403              ; 次ｽﾃｯﾌﾟ
MPS
LDB LR41100              ; AUTO-0    Normal
ANB LR41103              ; AUTO-3 ｲﾝｸ選択3
ANB LR41105              ; AUTO-4 ｲﾝｸ選択1-3
ANL
JMP @MR6404              ; 次ｽﾃｯﾌﾟ
MPP
LD LR41100               ; AUTO-0    Normal
OR LR41103               ; AUTO-3 ｲﾝｸ選択3
OR LR41105               ; AUTO-4 ｲﾝｸ選択1-3
ANL
TMR @12 #10              ; ﾀｲﾐﾝｸﾞﾃﾞｨﾚｲ
CON
AND @T12                 ; ﾀｲﾐﾝｸﾞﾃﾞｨﾚｲ
SET @MR813               ; ｲﾝｸｴﾝﾄﾞ3 (C)ﾁｪｯｸOKFLG
CON
JMP @MR6405              ; ｲﾝｸEND
STG @MR6404              ; 次ｽﾃｯﾌﾟ
MPS
LDB LR41100              ; AUTO-0    Normal
ANB LR41104              ; AUTO-4 ｲﾝｸ選択4
ANL
JMP @MR6413              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸ終了
MPP
LD LR41100               ; AUTO-0    Normal
OR LR41104               ; AUTO-4 ｲﾝｸ選択4
ANL
TMR @13 #10              ; ﾀｲﾐﾝｸﾞﾃﾞｨﾚｲ
CON
AND @T13                 ; ﾀｲﾐﾝｸﾞﾃﾞｨﾚｲ
SET @MR814               ; ｲﾝｸｴﾝﾄﾞ4 (B)ﾁｪｯｸOKFLG
CON
JMP @MR6405              ; ｲﾝｸEND
STG @MR6405              ; ｲﾝｸEND
SET @MR200               ; ｲﾝｸｴﾝﾄﾞ表示へ
CON
JMP @MR6406              ; 次ｽﾃｯﾌﾟ
STG @MR6406              ; 次ｽﾃｯﾌﾟ
AND @MR201               ; ｲﾝｸｴﾝﾄﾞ表示中
JMP @MR6407              ; 次ｽﾃｯﾌﾟ
STG @MR6407              ; 次ｽﾃｯﾌﾟ
ANB @MR201               ; ｲﾝｸｴﾝﾄﾞ表示中
AND @MR207               ; ｲﾝｸｴﾝﾄﾞ表示終了
RES @MR207               ; ｲﾝｸｴﾝﾄﾞ表示終了
CON
JMP @MR6400              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall FLG
STG @MR6413              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸ終了
TMR #350 #3              ; ﾀｲﾐﾝｸﾞ
CON
AND T350                 ; ﾀｲﾐﾝｸﾞ
SET @MR6415              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall 完了
CON
RES @MR6414              ; ｲﾝｸｴﾝﾄﾞﾁｪｯｸcall 実行中
CON
ENDS
;<h1/>　真空ﾎﾟﾝﾌﾟ過昇ﾁｪｯｸ
;　Pump check　@MR5600〜@MR5615　
STG @MR6500              ; 真空ﾎﾟﾝﾌﾟ過昇ﾁｪｯｸcall FLG
SET @MR6514              ; 真空ﾎﾟﾝﾌﾟ過昇ﾁｪｯｸcall 実行中
CON
JMP @MR6501              ; 次ｽﾃｯﾌﾟへ
STG @MR6501              ; 次ｽﾃｯﾌﾟへ
MPS
ANB R1110                ; ﾓｼﾞｭｰﾙ用ﾎﾟﾝﾌﾟ過昇検出
JMP @MR6513              ; SR終了
MPP
AND R1110                ; ﾓｼﾞｭｰﾙ用ﾎﾟﾝﾌﾟ過昇検出
SET @MR6511              ; ﾓｼﾞｭｰﾙ用ﾎﾟﾝﾌﾟ過昇検出OK
CON
SET @MR300               ; ﾎﾟﾝﾌﾟ過昇検出表示へ
CON
JMP @MR6502              ; 次ｽﾃｯﾌﾟへ
STG @MR6502              ; 次ｽﾃｯﾌﾟへ
AND @MR301               ; ﾎﾟﾝﾌﾟ過昇検出表示中
JMP @MR6503              ; 次ｽﾃｯﾌﾟへ
STG @MR6503              ; 次ｽﾃｯﾌﾟへ
ANB @MR301               ; ﾎﾟﾝﾌﾟ過昇検出表示中
AND @MR307               ; ﾎﾟﾝﾌﾟ過昇検出表示終了
RES @MR307               ; ﾎﾟﾝﾌﾟ過昇検出表示終了
CON
JMP @MR6501              ; 次ｽﾃｯﾌﾟへ
STG @MR6513              ; SR終了
SET @MR6515              ; 真空ﾎﾟﾝﾌﾟ過昇ﾁｪｯｸcall 完了
CON
RES @MR6514              ; 真空ﾎﾟﾝﾌﾟ過昇ﾁｪｯｸcall 実行中
CON
ENDS
;<h1/>　ﾍｯﾄﾞ1 注入
;　Head 1 Infusion　@MR10000〜@MR10015　
STG @MR7100              ; ﾍｯﾄﾞ1注入
SET @MR7102              ; ﾍｯﾄﾞ1 注入中
CON
JMP @MR7106              ; 次ｽﾃｯﾌﾟへ
STG @MR7106              ; 次ｽﾃｯﾌﾟへ
MPS
AND R50001               ; AUTO
SET MR6002               ; ﾍｯﾄﾞ1(Y) ﾛｯﾄﾞ 下降
CON
AND R4202                ; ﾍｯﾄﾞ1 真空引きﾛｯﾄﾞ　下限
JMP @MR7107              ; 次ｽﾃｯﾌﾟへ
MPP
AND R50002               ; STEP
JMP @MR7107              ; 次ｽﾃｯﾌﾟへ
STG @MR7107              ; 次ｽﾃｯﾌﾟへ
SET MR35108              ; ﾌﾟﾗﾝｼﾞｬｰ1 前進 call FLG
CON
JMP @MR7108              ; 次ｽﾃｯﾌﾟへ
STG @MR7108              ; 次ｽﾃｯﾌﾟへ
MPS
LD R50001                ; AUTO
LD MR001                 ; AP01 中間大気開放有
AND MR39501              ; PP1       中間検出FLG
LDB MR015                ; AP15 ON=中間/後退限入替あり
AND R4400                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 前進限
ORL
LD MR015                 ; AP15 ON=中間/後退限入替あり
AND R4401                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 中間限
ORL
OR MR19004               ; 流路1 圧力異常
ANL
ANL
RES MR6002               ; ﾍｯﾄﾞ1(Y) ﾛｯﾄﾞ 下降
CON
AND R4203                ; ﾍｯﾄﾞ1 真空引きﾛｯﾄﾞ　上限
JMP @MR7109              ; 次ｽﾃｯﾌﾟへ
MPP
AND R50002               ; STEP
JMP @MR7109              ; 次ｽﾃｯﾌﾟへ
STG @MR7109              ; 次ｽﾃｯﾌﾟへ
ANB MR35109              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y) 前進実行中
AND MR35110              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y)  前進call完了
MPS
RES MR35110              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y)  前進call完了
CON
JMP @MR7110              ; 次ｽﾃｯﾌﾟへ
MPP
LD R50001                ; AUTO
ANB MR008                ; AP08 ON=流量計無効
ANB LR104                ; Judge No
AND LR106                ; ﾊﾞﾗﾂｷ判定
ANL
@INC DM754               ; (Y) 注入数ｶｳﾝﾄ
ZRES @MR8101 @MR8105     ; Y 上限警告  Y 重量監視終了
CON
SET @MR8100              ; Y 重量監視
STG @MR7110              ; 次ｽﾃｯﾌﾟへ
ANB MR35110              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y)  前進call完了
ANB MR35101              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y) 後退実行中
ANB MR35102              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y)  後退call完了
SET MR35100              ; ﾌﾟﾗﾝｼﾞｬｰ1 後退 call FLG
CON
JMP @MR7111              ; 次ｽﾃｯﾌﾟへ
STG @MR7111              ; 次ｽﾃｯﾌﾟへ
AND MR35101              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y) 後退実行中
MPS
AND R50001               ; AUTO
JMP @MR7113
MPP
AND R50002               ; STEP
JMP @MR7112
STG @MR7112
ANB MR35101              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y) 後退実行中
AND MR35102              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y)  後退call完了
RES MR35102              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y)  後退call完了
CON
JMP @MR7113
STG @MR7113
LD R50001                ; AUTO
LD MR008                 ; AP08 ON=流量計無効
OR LR104                 ; Judge No
ORB LR106                ; ﾊﾞﾗﾂｷ判定
LDB MR008                ; AP08 ON=流量計無効
ANB LR104                ; Judge No
AND LR106                ; ﾊﾞﾗﾂｷ判定
AND @MR8105              ; Y 重量監視終了
ORL
ANL
OR R50002                ; STEP
ANL
JMP @MR7114
STG @MR7114
RES @MR8105              ; Y 重量監視終了
CON
RES @MR7102              ; ﾍｯﾄﾞ1 注入中
CON
SET @MR7101              ; ﾍｯﾄﾞ1    注入完了
CON
ENDS
;注入重量監視 / Infusion weight check
LD>= FM410 FM409         ; 注入重量異常範囲 Y  注入重量警告範囲 Y
MPS
LDA FM409                ; 注入重量警告範囲 Y
CON
EXT
CON
STA.D DM6108             ; Y 警告範囲
MPP
LDA FM410                ; 注入重量異常範囲 Y
CON
EXT
CON
STA.D DM6110             ; Y 異常範囲
LD< FM410 FM409          ; 注入重量異常範囲 Y  注入重量警告範囲 Y
MPS
LDA FM410                ; 注入重量異常範囲 Y
CON
EXT
CON
STA.D DM6108             ; Y 警告範囲
MPP
LDA FM409                ; 注入重量警告範囲 Y
CON
EXT
CON
STA.D DM6110             ; Y 異常範囲
;'注入重量監視/Infusion weight check
;'回数による動作分岐/Operation divergence for counter
;IF DM754 < 0 THEN
;ELSE IF DM754 = 1 THEN '回数=1の時/n=1 
;DM6102.D = DM6100.D
;DM6104.D = DM6104.D + DM6100.D
;ELSE IF DM754 >= 2 AND DM754 <= 30 THEN '2<=回数<=30の時/ 2<=n<=30
;DM6104.D = DM6104.D + DM6100.D
;	IF DM6100.D < DM6102.D - DM6108.D THEN
;		IF DM6100.D < DM6102.D - DM6110.D THEN
;		SET (@MR8104)
;		ELSE
;		SET (@MR8102)
;		END IF
;	ELSE IF DM6100.D > DM6102.D + DM6108.D THEN
;		IF DM6100.D > DM6102.D + DM6110.D THEN
;		SET (@MR8103)
;		ELSE
;		SET (@MR8101)
;		END IF
;	ELSE
;	END IF
;ELSE 	
;DM6102.D = DM6104.D / 30
;	IF DM6100.D < DM6102.D - DM6108.D THEN
;		IF DM6100.D < DM6102.D - DM6110.D THEN
;		SET (@MR8104)
;		ELSE
;		SET (@MR8102)
;		END IF
;	ELSE IF DM6100.D > DM6102.D + DM6108.D THEN
;		IF DM6100.D > DM6102.D + DM6110.D THEN
;		SET (@MR8103)
;		ELSE
;		SET (@MR8101)
;		END IF
;	ELSE
;	END IF
;END IF
;SET (@MR8105)
;RES (@MR8100)
LD @MR8100               ; Y 重量監視
NCJ #1001
;'注入重量監視/Infusion weight check
;
;'回数による動作分岐/Operation divergence for counter
;
;IF DM754 < 0 THEN
;
LD< DM754 #0             ; (Y) 注入数ｶｳﾝﾄ
NCJ #2000
LD CR2002                ; 常時ON
CJ #2001
LABEL #2000
;ELSE IF DM754 = 1 THEN '回数=1の時/n=1 
;
LD= DM754 #1             ; (Y) 注入数ｶｳﾝﾄ
NCJ #2002
;DM6102.D = DM6100.D
;
LD CR2002                ; 常時ON
MOV.D DM6100 DM6102      ; Y 重量ﾃﾞｰﾀ1  Y 重量基準値1_1
;DM6104.D = DM6104.D + DM6100.D
;
LD CR2002                ; 常時ON
LDA.L DM6104             ; Y 重量積算値1
CON
ADD.L DM6100             ; Y 重量ﾃﾞｰﾀ1
CON
STA.D DM6104             ; Y 重量積算値1
LD CR2002                ; 常時ON
CJ #2003
LABEL #2002
;ELSE IF DM754 >= 2 AND DM754 <= 30 THEN '2<=回数<=30の時/ 2<=n<=30
;
LD>= DM754 #2            ; (Y) 注入数ｶｳﾝﾄ
OUT @VB00
LD<= DM754 #30           ; (Y) 注入数ｶｳﾝﾄ
AND @VB00
NCJ #2004
;DM6104.D = DM6104.D + DM6100.D
;
LD CR2002                ; 常時ON
LDA.L DM6104             ; Y 重量積算値1
CON
ADD.L DM6100             ; Y 重量ﾃﾞｰﾀ1
CON
STA.D DM6104             ; Y 重量積算値1
;	IF DM6100.D < DM6102.D - DM6108.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6102             ; Y 重量基準値1_1
CON
SUB.L DM6108             ; Y 警告範囲
CON
CMP.L DM6100             ; Y 重量ﾃﾞｰﾀ1
LD CR2011                ; 演算結果が正
NCJ #2005
;		IF DM6100.D < DM6102.D - DM6110.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6102             ; Y 重量基準値1_1
CON
SUB.L DM6110             ; Y 異常範囲
CON
CMP.L DM6100             ; Y 重量ﾃﾞｰﾀ1
LD CR2011                ; 演算結果が正
NCJ #2006
;		SET (@MR8104)
;
LD CR2002                ; 常時ON
SET @MR8104              ; Y 下限異常
;		ELSE
;
LD CR2002                ; 常時ON
CJ #2007
LABEL #2006
;		SET (@MR8102)
;
LD CR2002                ; 常時ON
SET @MR8102              ; Y 下限警告
;		END IF
;
LABEL #2007
LD CR2002                ; 常時ON
CJ #2008
LABEL #2005
;	ELSE IF DM6100.D > DM6102.D + DM6108.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6102             ; Y 重量基準値1_1
CON
ADD.L DM6108             ; Y 警告範囲
CON
CMP.L DM6100             ; Y 重量ﾃﾞｰﾀ1
LD CR2009                ; 演算結果が負
NCJ #2009
;		IF DM6100.D > DM6102.D + DM6110.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6102             ; Y 重量基準値1_1
CON
ADD.L DM6110             ; Y 異常範囲
CON
CMP.L DM6100             ; Y 重量ﾃﾞｰﾀ1
LD CR2009                ; 演算結果が負
NCJ #2010
;		SET (@MR8103)
;
LD CR2002                ; 常時ON
SET @MR8103              ; Y 上限異常
;		ELSE
;
LD CR2002                ; 常時ON
CJ #2011
LABEL #2010
;		SET (@MR8101)
;
LD CR2002                ; 常時ON
SET @MR8101              ; Y 上限警告
;		END IF
;
LABEL #2011
;	ELSE
;
LD CR2002                ; 常時ON
CJ #2012
LABEL #2009
;	END IF
;
LABEL #2012
LABEL #2008
;ELSE 	
;
LD CR2002                ; 常時ON
CJ #2013
LABEL #2004
;DM6102.D = DM6104.D / 30
;
LD CR2002                ; 常時ON
LDA.L DM6104             ; Y 重量積算値1
CON
EXT.L
CON
DIV.L +30
CON
STA.D DM6102             ; Y 重量基準値1_1
;	IF DM6100.D < DM6102.D - DM6108.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6102             ; Y 重量基準値1_1
CON
SUB.L DM6108             ; Y 警告範囲
CON
CMP.L DM6100             ; Y 重量ﾃﾞｰﾀ1
LD CR2011                ; 演算結果が正
NCJ #2014
;		IF DM6100.D < DM6102.D - DM6110.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6102             ; Y 重量基準値1_1
CON
SUB.L DM6110             ; Y 異常範囲
CON
CMP.L DM6100             ; Y 重量ﾃﾞｰﾀ1
LD CR2011                ; 演算結果が正
NCJ #2015
;		SET (@MR8104)
;
LD CR2002                ; 常時ON
SET @MR8104              ; Y 下限異常
;		ELSE
;
LD CR2002                ; 常時ON
CJ #2016
LABEL #2015
;		SET (@MR8102)
;
LD CR2002                ; 常時ON
SET @MR8102              ; Y 下限警告
;		END IF
;
LABEL #2016
LD CR2002                ; 常時ON
CJ #2017
LABEL #2014
;	ELSE IF DM6100.D > DM6102.D + DM6108.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6102             ; Y 重量基準値1_1
CON
ADD.L DM6108             ; Y 警告範囲
CON
CMP.L DM6100             ; Y 重量ﾃﾞｰﾀ1
LD CR2009                ; 演算結果が負
NCJ #2018
;		IF DM6100.D > DM6102.D + DM6110.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6102             ; Y 重量基準値1_1
CON
ADD.L DM6110             ; Y 異常範囲
CON
CMP.L DM6100             ; Y 重量ﾃﾞｰﾀ1
LD CR2009                ; 演算結果が負
NCJ #2019
;		SET (@MR8103)
;
LD CR2002                ; 常時ON
SET @MR8103              ; Y 上限異常
;		ELSE
;
LD CR2002                ; 常時ON
CJ #2020
LABEL #2019
;		SET (@MR8101)
;
LD CR2002                ; 常時ON
SET @MR8101              ; Y 上限警告
;		END IF
;
LABEL #2020
;	ELSE
;
LD CR2002                ; 常時ON
CJ #2021
LABEL #2018
;	END IF
;
LABEL #2021
LABEL #2017
;END IF
;
LABEL #2013
LABEL #2003
LABEL #2001
;SET (@MR8105)
;
LD CR2002                ; 常時ON
SET @MR8105              ; Y 重量監視終了
;RES (@MR8100)
LD CR2002                ; 常時ON
RES @MR8100              ; Y 重量監視
LABEL #1001
;
;<h1/>　ﾍｯﾄﾞ2 注入
;　Head 2 Infusion　@MR10100〜@MR10115　
STG @MR7200              ; ﾍｯﾄﾞ2注入
SET @MR7202              ; ﾍｯﾄﾞ2 注入中
CON
JMP @MR7206              ; 次ｽﾃｯﾌﾟへ
STG @MR7206              ; 次ｽﾃｯﾌﾟへ
MPS
AND R50001               ; AUTO
SET MR6004               ; ﾍｯﾄﾞ2(M) ﾛｯﾄﾞ 下降
CON
AND R4204                ; ﾍｯﾄﾞ2 真空引きﾛｯﾄﾞ　下限
JMP @MR7207              ; 次ｽﾃｯﾌﾟへ
MPP
AND R50002               ; STEP
JMP @MR7207              ; 次ｽﾃｯﾌﾟへ
STG @MR7207              ; 次ｽﾃｯﾌﾟへ
SET MR35208              ; ﾌﾟﾗﾝｼﾞｬｰ2 前進 call FLG
CON
JMP @MR7208              ; 次ｽﾃｯﾌﾟへ
STG @MR7208              ; 次ｽﾃｯﾌﾟへ
MPS
LD R50001                ; AUTO
LD MR001                 ; AP01 中間大気開放有
AND MR39502              ; PP2       中間検出FLG
LDB MR015                ; AP15 ON=中間/後退限入替あり
AND R4403                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 前進限
ORL
LD MR015                 ; AP15 ON=中間/後退限入替あり
AND R4404                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 中間限
ORL
OR MR19005               ; 流路2 圧力異常
ANL
ANL
RES MR6004               ; ﾍｯﾄﾞ2(M) ﾛｯﾄﾞ 下降
CON
AND R4205                ; ﾍｯﾄﾞ2 真空引きﾛｯﾄﾞ　上限
JMP @MR7209              ; 次ｽﾃｯﾌﾟへ
MPP
AND R50002               ; STEP
JMP @MR7209              ; 次ｽﾃｯﾌﾟへ
STG @MR7209              ; 次ｽﾃｯﾌﾟへ
ANB MR35209              ; ﾌﾟﾗﾝｼﾞｬｰ2(M) 前進実行中
AND MR35210              ; ﾌﾟﾗﾝｼﾞｬｰ2(M)  前進call完了
MPS
RES MR35210              ; ﾌﾟﾗﾝｼﾞｬｰ2(M)  前進call完了
CON
JMP @MR7210              ; 次ｽﾃｯﾌﾟへ
MPP
LD R50001                ; AUTO
ANB MR008                ; AP08 ON=流量計無効
ANB LR104                ; Judge No
AND LR106                ; ﾊﾞﾗﾂｷ判定
ANL
@INC DM764               ; (M) 注入数ｶｳﾝﾄ
ZRES @MR8109 @MR8113     ; M 上限警告  M 重量監視終了
CON
SET @MR8108              ; M 重量監視
STG @MR7210              ; 次ｽﾃｯﾌﾟへ
ANB MR35210              ; ﾌﾟﾗﾝｼﾞｬｰ2(M)  前進call完了
ANB MR35201              ; ﾌﾟﾗﾝｼﾞｬｰ2(M) 後退実行中
ANB MR35202              ; ﾌﾟﾗﾝｼﾞｬｰ2(M)  後退call完了
SET MR35200              ; ﾌﾟﾗﾝｼﾞｬｰ2 後退 call FLG
CON
JMP @MR7211              ; 次ｽﾃｯﾌﾟへ
STG @MR7211              ; 次ｽﾃｯﾌﾟへ
AND MR35201              ; ﾌﾟﾗﾝｼﾞｬｰ2(M) 後退実行中
MPS
AND R50001               ; AUTO
JMP @MR7213
MPP
AND R50002               ; STEP
JMP @MR7212
STG @MR7212
ANB MR35201              ; ﾌﾟﾗﾝｼﾞｬｰ2(M) 後退実行中
AND MR35202              ; ﾌﾟﾗﾝｼﾞｬｰ2(M)  後退call完了
RES MR35202              ; ﾌﾟﾗﾝｼﾞｬｰ2(M)  後退call完了
CON
JMP @MR7213
STG @MR7213
LD R50001                ; AUTO
LD MR008                 ; AP08 ON=流量計無効
OR LR104                 ; Judge No
ORB LR106                ; ﾊﾞﾗﾂｷ判定
LDB MR008                ; AP08 ON=流量計無効
ANB LR104                ; Judge No
AND LR106                ; ﾊﾞﾗﾂｷ判定
AND @MR8113              ; M 重量監視終了
ORL
ANL
OR R50002                ; STEP
ANL
JMP @MR7214
STG @MR7214
RES @MR8113              ; M 重量監視終了
CON
RES @MR7202              ; ﾍｯﾄﾞ2 注入中
CON
SET @MR7201              ; ﾍｯﾄﾞ2    注入完了
CON
ENDS
;注入重量監視 / Infusion weight check
LD>= FM412 FM411         ; 注入重量異常範囲 M  注入重量警告範囲 M
MPS
LDA FM411                ; 注入重量警告範囲 M
CON
EXT
CON
STA.D DM6128             ; M 警告範囲
MPP
LDA FM412                ; 注入重量異常範囲 M
CON
EXT
CON
STA.D DM6130             ; M 異常範囲
LD< FM412 FM411          ; 注入重量異常範囲 M  注入重量警告範囲 M
MPS
LDA FM412                ; 注入重量異常範囲 M
CON
EXT
CON
STA.D DM6128             ; M 警告範囲
MPP
LDA FM411                ; 注入重量警告範囲 M
CON
EXT
CON
STA.D DM6130             ; M 異常範囲
;'注入重量監視/Infusion weight check
;'回数による動作分岐/Operation divergence for counter
;IF DM764 < 0 THEN
;ELSE IF DM764 = 1 THEN '回数=1の時/n=1 
;DM6122.D = DM6120.D
;DM6124.D = DM6124.D + DM6120.D
;ELSE IF DM764 >= 2 AND DM764 <= 30 THEN '2<=回数<=30の時/ 2<=n<=30
;DM6124.D = DM6124.D + DM6120.D
;	IF DM6120.D < DM6122.D - DM6128.D THEN
;		IF DM6120.D < DM6122.D - DM6130.D THEN
;		SET (@MR8112)
;		ELSE
;		SET (@MR8110)
;		END IF
;	ELSE IF DM6120.D > DM6122.D + DM6128.D THEN
;		IF DM6120.D > DM6122.D + DM6130.D THEN
;		SET (@MR8111)
;		ELSE
;		SET (@MR8109)
;		END IF
;	ELSE
;	END IF
;ELSE 	
;DM6122.D = DM6124.D / 30
;	IF DM6120.D < DM6122.D - DM6128.D THEN
;		IF DM6120.D < DM6122.D - DM6130.D THEN
;		SET (@MR8112)
;		ELSE
;		SET (@MR8110)
;		END IF
;	ELSE IF DM6120.D > DM6122.D + DM6128.D THEN
;		IF DM6120.D > DM6122.D + DM6130.D THEN
;		SET (@MR8111)
;		ELSE
;		SET (@MR8109)
;		END IF
;	ELSE
;	END IF
;END IF
;SET (@MR8113)
;RES (@MR8108)
LD @MR8108               ; M 重量監視
NCJ #1000
;'注入重量監視/Infusion weight check
;
;'回数による動作分岐/Operation divergence for counter
;
;IF DM764 < 0 THEN
;
LD< DM764 #0             ; (M) 注入数ｶｳﾝﾄ
NCJ #2022
LD CR2002                ; 常時ON
CJ #2023
LABEL #2022
;ELSE IF DM764 = 1 THEN '回数=1の時/n=1 
;
LD= DM764 #1             ; (M) 注入数ｶｳﾝﾄ
NCJ #2024
;DM6122.D = DM6120.D
;
LD CR2002                ; 常時ON
MOV.D DM6120 DM6122      ; M 重量ﾃﾞｰﾀ1  M 重量基準値1_1
;DM6124.D = DM6124.D + DM6120.D
;
LD CR2002                ; 常時ON
LDA.L DM6124             ; M 重量積算値1
CON
ADD.L DM6120             ; M 重量ﾃﾞｰﾀ1
CON
STA.D DM6124             ; M 重量積算値1
LD CR2002                ; 常時ON
CJ #2025
LABEL #2024
;ELSE IF DM764 >= 2 AND DM764 <= 30 THEN '2<=回数<=30の時/ 2<=n<=30
;
LD>= DM764 #2            ; (M) 注入数ｶｳﾝﾄ
OUT @VB01
LD<= DM764 #30           ; (M) 注入数ｶｳﾝﾄ
AND @VB01
NCJ #2026
;DM6124.D = DM6124.D + DM6120.D
;
LD CR2002                ; 常時ON
LDA.L DM6124             ; M 重量積算値1
CON
ADD.L DM6120             ; M 重量ﾃﾞｰﾀ1
CON
STA.D DM6124             ; M 重量積算値1
;	IF DM6120.D < DM6122.D - DM6128.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6122             ; M 重量基準値1_1
CON
SUB.L DM6128             ; M 警告範囲
CON
CMP.L DM6120             ; M 重量ﾃﾞｰﾀ1
LD CR2011                ; 演算結果が正
NCJ #2027
;		IF DM6120.D < DM6122.D - DM6130.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6122             ; M 重量基準値1_1
CON
SUB.L DM6130             ; M 異常範囲
CON
CMP.L DM6120             ; M 重量ﾃﾞｰﾀ1
LD CR2011                ; 演算結果が正
NCJ #2028
;		SET (@MR8112)
;
LD CR2002                ; 常時ON
SET @MR8112              ; M 下限異常
;		ELSE
;
LD CR2002                ; 常時ON
CJ #2029
LABEL #2028
;		SET (@MR8110)
;
LD CR2002                ; 常時ON
SET @MR8110              ; M 下限警告
;		END IF
;
LABEL #2029
LD CR2002                ; 常時ON
CJ #2030
LABEL #2027
;	ELSE IF DM6120.D > DM6122.D + DM6128.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6122             ; M 重量基準値1_1
CON
ADD.L DM6128             ; M 警告範囲
CON
CMP.L DM6120             ; M 重量ﾃﾞｰﾀ1
LD CR2009                ; 演算結果が負
NCJ #2031
;		IF DM6120.D > DM6122.D + DM6130.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6122             ; M 重量基準値1_1
CON
ADD.L DM6130             ; M 異常範囲
CON
CMP.L DM6120             ; M 重量ﾃﾞｰﾀ1
LD CR2009                ; 演算結果が負
NCJ #2032
;		SET (@MR8111)
;
LD CR2002                ; 常時ON
SET @MR8111              ; M 上限異常
;		ELSE
;
LD CR2002                ; 常時ON
CJ #2033
LABEL #2032
;		SET (@MR8109)
;
LD CR2002                ; 常時ON
SET @MR8109              ; M 上限警告
;		END IF
;
LABEL #2033
;	ELSE
;
LD CR2002                ; 常時ON
CJ #2034
LABEL #2031
;	END IF
;
LABEL #2034
LABEL #2030
;ELSE 	
;
LD CR2002                ; 常時ON
CJ #2035
LABEL #2026
;DM6122.D = DM6124.D / 30
;
LD CR2002                ; 常時ON
LDA.L DM6124             ; M 重量積算値1
CON
EXT.L
CON
DIV.L +30
CON
STA.D DM6122             ; M 重量基準値1_1
;	IF DM6120.D < DM6122.D - DM6128.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6122             ; M 重量基準値1_1
CON
SUB.L DM6128             ; M 警告範囲
CON
CMP.L DM6120             ; M 重量ﾃﾞｰﾀ1
LD CR2011                ; 演算結果が正
NCJ #2036
;		IF DM6120.D < DM6122.D - DM6130.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6122             ; M 重量基準値1_1
CON
SUB.L DM6130             ; M 異常範囲
CON
CMP.L DM6120             ; M 重量ﾃﾞｰﾀ1
LD CR2011                ; 演算結果が正
NCJ #2037
;		SET (@MR8112)
;
LD CR2002                ; 常時ON
SET @MR8112              ; M 下限異常
;		ELSE
;
LD CR2002                ; 常時ON
CJ #2038
LABEL #2037
;		SET (@MR8110)
;
LD CR2002                ; 常時ON
SET @MR8110              ; M 下限警告
;		END IF
;
LABEL #2038
LD CR2002                ; 常時ON
CJ #2039
LABEL #2036
;	ELSE IF DM6120.D > DM6122.D + DM6128.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6122             ; M 重量基準値1_1
CON
ADD.L DM6128             ; M 警告範囲
CON
CMP.L DM6120             ; M 重量ﾃﾞｰﾀ1
LD CR2009                ; 演算結果が負
NCJ #2040
;		IF DM6120.D > DM6122.D + DM6130.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6122             ; M 重量基準値1_1
CON
ADD.L DM6130             ; M 異常範囲
CON
CMP.L DM6120             ; M 重量ﾃﾞｰﾀ1
LD CR2009                ; 演算結果が負
NCJ #2041
;		SET (@MR8111)
;
LD CR2002                ; 常時ON
SET @MR8111              ; M 上限異常
;		ELSE
;
LD CR2002                ; 常時ON
CJ #2042
LABEL #2041
;		SET (@MR8109)
;
LD CR2002                ; 常時ON
SET @MR8109              ; M 上限警告
;		END IF
;
LABEL #2042
;	ELSE
;
LD CR2002                ; 常時ON
CJ #2043
LABEL #2040
;	END IF
;
LABEL #2043
LABEL #2039
;END IF
;
LABEL #2035
LABEL #2025
LABEL #2023
;SET (@MR8113)
;
LD CR2002                ; 常時ON
SET @MR8113              ; M 重量監視終了
;RES (@MR8108)
LD CR2002                ; 常時ON
RES @MR8108              ; M 重量監視
LABEL #1000
;
;<h1/>　ﾍｯﾄﾞ3 注入
;　Head 3 Infusion　@MR10200〜@MR10215　
STG @MR7300              ; ﾍｯﾄﾞ3注入
SET @MR7302              ; ﾍｯﾄﾞ3 注入中
CON
JMP @MR7306              ; 次ｽﾃｯﾌﾟへ
STG @MR7306              ; 次ｽﾃｯﾌﾟへ
MPS
AND R50001               ; AUTO
SET MR6006               ; ﾍｯﾄﾞ3(C) ﾛｯﾄﾞ 下降
CON
AND R4206                ; ﾍｯﾄﾞ3 真空引きﾛｯﾄﾞ　下限
JMP @MR7307              ; 次ｽﾃｯﾌﾟへ
MPP
AND R50002               ; STEP
JMP @MR7307              ; 次ｽﾃｯﾌﾟへ
STG @MR7307              ; 次ｽﾃｯﾌﾟへ
SET MR35308              ; ﾌﾟﾗﾝｼﾞｬｰ3 前進 call FLG
CON
JMP @MR7308              ; 次ｽﾃｯﾌﾟへ
STG @MR7308              ; 次ｽﾃｯﾌﾟへ
MPS
LD R50001                ; AUTO
LD MR001                 ; AP01 中間大気開放有
AND MR39503              ; PP3       中間検出FLG
LD R4406                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 前進限
ANB MR015                ; AP15 ON=中間/後退限入替あり
ORL
LD R4407                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 中間限
AND MR015                ; AP15 ON=中間/後退限入替あり
ORL
OR MR19006               ; 流路3 圧力異常
ANL
ANL
RES MR6006               ; ﾍｯﾄﾞ3(C) ﾛｯﾄﾞ 下降
CON
AND R4207                ; ﾍｯﾄﾞ3 真空引きﾛｯﾄﾞ　上限
JMP @MR7309              ; 次ｽﾃｯﾌﾟへ
MPP
AND R50002               ; STEP
JMP @MR7309              ; 次ｽﾃｯﾌﾟへ
STG @MR7309              ; 次ｽﾃｯﾌﾟへ
ANB MR35309              ; ﾌﾟﾗﾝｼﾞｬｰ3(C) 前進実行中
AND MR35310              ; ﾌﾟﾗﾝｼﾞｬｰ3(C)  前進call完了
MPS
RES MR35310              ; ﾌﾟﾗﾝｼﾞｬｰ3(C)  前進call完了
CON
JMP @MR7310              ; 次ｽﾃｯﾌﾟへ
MPP
LD R50001                ; AUTO
ANB MR008                ; AP08 ON=流量計無効
ANB LR104                ; Judge No
AND LR106                ; ﾊﾞﾗﾂｷ判定
ANL
@INC DM774               ; (C) 注入数ｶｳﾝﾄ
ZRES @MR8201 @MR8205     ; C 上限警告  C 重量監視終了
CON
SET @MR8200              ; C 重量監視
STG @MR7310              ; 次ｽﾃｯﾌﾟへ
ANB MR35310              ; ﾌﾟﾗﾝｼﾞｬｰ3(C)  前進call完了
ANB MR35301              ; ﾌﾟﾗﾝｼﾞｬｰ3(C) 後退実行中
ANB MR35302              ; ﾌﾟﾗﾝｼﾞｬｰ3(C)  後退call完了
SET MR35300              ; ﾌﾟﾗﾝｼﾞｬｰ3 後退 call FLG
CON
JMP @MR7311              ; 次ｽﾃｯﾌﾟへ
STG @MR7311              ; 次ｽﾃｯﾌﾟへ
AND MR35301              ; ﾌﾟﾗﾝｼﾞｬｰ3(C) 後退実行中
MPS
AND R50001               ; AUTO
JMP @MR7313
MPP
AND R50002               ; STEP
JMP @MR7312
STG @MR7312
ANB MR35301              ; ﾌﾟﾗﾝｼﾞｬｰ3(C) 後退実行中
AND MR35302              ; ﾌﾟﾗﾝｼﾞｬｰ3(C)  後退call完了
RES MR35302              ; ﾌﾟﾗﾝｼﾞｬｰ3(C)  後退call完了
CON
JMP @MR7313
STG @MR7313
LD R50001                ; AUTO
LD MR008                 ; AP08 ON=流量計無効
OR LR104                 ; Judge No
ORB LR106                ; ﾊﾞﾗﾂｷ判定
LDB MR008                ; AP08 ON=流量計無効
ANB LR104                ; Judge No
AND LR106                ; ﾊﾞﾗﾂｷ判定
AND @MR8205              ; C 重量監視終了
ORL
ANL
OR R50002                ; STEP
ANL
JMP @MR7314
STG @MR7314
RES @MR8205              ; C 重量監視終了
CON
RES @MR7302              ; ﾍｯﾄﾞ3 注入中
CON
SET @MR7301              ; ﾍｯﾄﾞ3    注入完了
CON
ENDS
;注入重量監視 / Infusion weight check
LD>= FM414 FM413         ; 注入重量異常範囲 C  注入重量警告範囲 C
MPS
LDA FM413                ; 注入重量警告範囲 C
CON
EXT
CON
STA.D DM6148             ; C 警告範囲
MPP
LDA FM414                ; 注入重量異常範囲 C
CON
EXT
CON
STA.D DM6150             ; C 異常範囲
LD< FM414 FM413          ; 注入重量異常範囲 C  注入重量警告範囲 C
MPS
LDA FM414                ; 注入重量異常範囲 C
CON
EXT
CON
STA.D DM6148             ; C 警告範囲
MPP
LDA FM413                ; 注入重量警告範囲 C
CON
EXT
CON
STA.D DM6150             ; C 異常範囲
;'注入重量監視/Infusion weight check
;'回数による動作分岐/Operation divergence for counter
;IF DM774 < 0 THEN
;ELSE IF DM774 = 1 THEN '回数=1の時/n=1 
;DM6142.D = DM6140.D
;DM6144.D = DM6144.D + DM6140.D
;ELSE IF DM774 >= 2 AND DM774 <= 30 THEN '2<=回数<=30の時/ 2<=n<=30
;DM6144.D = DM6144.D + DM6140.D
;	IF DM6140.D < DM6142.D - DM6148.D THEN
;		IF DM6140.D < DM6142.D - DM6150.D THEN
;		SET (@MR8204)
;		ELSE
;		SET (@MR8202)
;		END IF
;	ELSE IF DM6140.D > DM6142.D + DM6148.D THEN
;		IF DM6140.D > DM6142.D + DM6150.D THEN
;		SET (@MR8203)
;		ELSE
;		SET (@MR8201)
;		END IF
;	ELSE
;	END IF
;ELSE 	
;DM6142.D = DM6144.D / 30
;	IF DM6140.D < DM6142.D - DM6148.D THEN
;		IF DM6140.D < DM6142.D - DM6150.D THEN
;		SET (@MR8204)
;		ELSE
;		SET (@MR8202)
;		END IF
;	ELSE IF DM6140.D > DM6142.D + DM6148.D THEN
;		IF DM6140.D > DM6142.D + DM6150.D THEN
;		SET (@MR8203)
;		ELSE
;		SET (@MR8201)
;		END IF
;	ELSE
;	END IF
;END IF
;SET (@MR8205)
;RES (@MR8200)
LD @MR8200               ; C 重量監視
NCJ #1002
;'注入重量監視/Infusion weight check
;
;'回数による動作分岐/Operation divergence for counter
;
;IF DM774 < 0 THEN
;
LD< DM774 #0             ; (C) 注入数ｶｳﾝﾄ
NCJ #2044
LD CR2002                ; 常時ON
CJ #2045
LABEL #2044
;ELSE IF DM774 = 1 THEN '回数=1の時/n=1 
;
LD= DM774 #1             ; (C) 注入数ｶｳﾝﾄ
NCJ #2046
;DM6142.D = DM6140.D
;
LD CR2002                ; 常時ON
MOV.D DM6140 DM6142      ; C 重量ﾃﾞｰﾀ1  C 重量基準値1_1
;DM6144.D = DM6144.D + DM6140.D
;
LD CR2002                ; 常時ON
LDA.L DM6144             ; C 重量積算値1
CON
ADD.L DM6140             ; C 重量ﾃﾞｰﾀ1
CON
STA.D DM6144             ; C 重量積算値1
LD CR2002                ; 常時ON
CJ #2047
LABEL #2046
;ELSE IF DM774 >= 2 AND DM774 <= 30 THEN '2<=回数<=30の時/ 2<=n<=30
;
LD>= DM774 #2            ; (C) 注入数ｶｳﾝﾄ
OUT @VB02
LD<= DM774 #30           ; (C) 注入数ｶｳﾝﾄ
AND @VB02
NCJ #2048
;DM6144.D = DM6144.D + DM6140.D
;
LD CR2002                ; 常時ON
LDA.L DM6144             ; C 重量積算値1
CON
ADD.L DM6140             ; C 重量ﾃﾞｰﾀ1
CON
STA.D DM6144             ; C 重量積算値1
;	IF DM6140.D < DM6142.D - DM6148.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6142             ; C 重量基準値1_1
CON
SUB.L DM6148             ; C 警告範囲
CON
CMP.L DM6140             ; C 重量ﾃﾞｰﾀ1
LD CR2011                ; 演算結果が正
NCJ #2049
;		IF DM6140.D < DM6142.D - DM6150.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6142             ; C 重量基準値1_1
CON
SUB.L DM6150             ; C 異常範囲
CON
CMP.L DM6140             ; C 重量ﾃﾞｰﾀ1
LD CR2011                ; 演算結果が正
NCJ #2050
;		SET (@MR8204)
;
LD CR2002                ; 常時ON
SET @MR8204              ; C 下限異常
;		ELSE
;
LD CR2002                ; 常時ON
CJ #2051
LABEL #2050
;		SET (@MR8202)
;
LD CR2002                ; 常時ON
SET @MR8202              ; C 下限警告
;		END IF
;
LABEL #2051
LD CR2002                ; 常時ON
CJ #2052
LABEL #2049
;	ELSE IF DM6140.D > DM6142.D + DM6148.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6142             ; C 重量基準値1_1
CON
ADD.L DM6148             ; C 警告範囲
CON
CMP.L DM6140             ; C 重量ﾃﾞｰﾀ1
LD CR2009                ; 演算結果が負
NCJ #2053
;		IF DM6140.D > DM6142.D + DM6150.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6142             ; C 重量基準値1_1
CON
ADD.L DM6150             ; C 異常範囲
CON
CMP.L DM6140             ; C 重量ﾃﾞｰﾀ1
LD CR2009                ; 演算結果が負
NCJ #2054
;		SET (@MR8203)
;
LD CR2002                ; 常時ON
SET @MR8203              ; C 上限異常
;		ELSE
;
LD CR2002                ; 常時ON
CJ #2055
LABEL #2054
;		SET (@MR8201)
;
LD CR2002                ; 常時ON
SET @MR8201              ; C 上限警告
;		END IF
;
LABEL #2055
;	ELSE
;
LD CR2002                ; 常時ON
CJ #2056
LABEL #2053
;	END IF
;
LABEL #2056
LABEL #2052
;ELSE 	
;
LD CR2002                ; 常時ON
CJ #2057
LABEL #2048
;DM6142.D = DM6144.D / 30
;
LD CR2002                ; 常時ON
LDA.L DM6144             ; C 重量積算値1
CON
EXT.L
CON
DIV.L +30
CON
STA.D DM6142             ; C 重量基準値1_1
;	IF DM6140.D < DM6142.D - DM6148.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6142             ; C 重量基準値1_1
CON
SUB.L DM6148             ; C 警告範囲
CON
CMP.L DM6140             ; C 重量ﾃﾞｰﾀ1
LD CR2011                ; 演算結果が正
NCJ #2058
;		IF DM6140.D < DM6142.D - DM6150.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6142             ; C 重量基準値1_1
CON
SUB.L DM6150             ; C 異常範囲
CON
CMP.L DM6140             ; C 重量ﾃﾞｰﾀ1
LD CR2011                ; 演算結果が正
NCJ #2059
;		SET (@MR8204)
;
LD CR2002                ; 常時ON
SET @MR8204              ; C 下限異常
;		ELSE
;
LD CR2002                ; 常時ON
CJ #2060
LABEL #2059
;		SET (@MR8202)
;
LD CR2002                ; 常時ON
SET @MR8202              ; C 下限警告
;		END IF
;
LABEL #2060
LD CR2002                ; 常時ON
CJ #2061
LABEL #2058
;	ELSE IF DM6140.D > DM6142.D + DM6148.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6142             ; C 重量基準値1_1
CON
ADD.L DM6148             ; C 警告範囲
CON
CMP.L DM6140             ; C 重量ﾃﾞｰﾀ1
LD CR2009                ; 演算結果が負
NCJ #2062
;		IF DM6140.D > DM6142.D + DM6150.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6142             ; C 重量基準値1_1
CON
ADD.L DM6150             ; C 異常範囲
CON
CMP.L DM6140             ; C 重量ﾃﾞｰﾀ1
LD CR2009                ; 演算結果が負
NCJ #2063
;		SET (@MR8203)
;
LD CR2002                ; 常時ON
SET @MR8203              ; C 上限異常
;		ELSE
;
LD CR2002                ; 常時ON
CJ #2064
LABEL #2063
;		SET (@MR8201)
;
LD CR2002                ; 常時ON
SET @MR8201              ; C 上限警告
;		END IF
;
LABEL #2064
;	ELSE
;
LD CR2002                ; 常時ON
CJ #2065
LABEL #2062
;	END IF
;
LABEL #2065
LABEL #2061
;END IF
;
LABEL #2057
LABEL #2047
LABEL #2045
;SET (@MR8205)
;
LD CR2002                ; 常時ON
SET @MR8205              ; C 重量監視終了
;RES (@MR8200)
LD CR2002                ; 常時ON
RES @MR8200              ; C 重量監視
LABEL #1002
;
;<h1/>　ﾍｯﾄﾞ4 注入
;　Head 4 Infusion　@MR10300〜@MR10315
STG @MR7400              ; ﾍｯﾄﾞ4注入
SET @MR7402              ; ﾍｯﾄﾞ4 注入中
CON
JMP @MR7406              ; 次ｽﾃｯﾌﾟへ
STG @MR7406              ; 次ｽﾃｯﾌﾟへ
MPS
AND R50001               ; AUTO
SET MR6008               ; ﾍｯﾄﾞ4(B) ﾛｯﾄﾞ 下降
CON
AND R4208                ; ﾍｯﾄﾞ4 真空引きﾛｯﾄﾞ　下限
JMP @MR7407              ; 次ｽﾃｯﾌﾟへ
MPP
AND R50002               ; STEP
JMP @MR7407              ; 次ｽﾃｯﾌﾟへ
STG @MR7407              ; 次ｽﾃｯﾌﾟへ
SET MR35408              ; ﾌﾟﾗﾝｼﾞｬｰ4 前進 call FLG
CON
JMP @MR7408              ; 次ｽﾃｯﾌﾟへ
STG @MR7408              ; 次ｽﾃｯﾌﾟへ
MPS
LD R50001                ; AUTO
LD MR001                 ; AP01 中間大気開放有
AND MR39504              ; PP4       中間検出FLG
LD R4409                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 前進限
ANB MR015                ; AP15 ON=中間/後退限入替あり
ORL
LD R4410                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 中間限
AND MR015                ; AP15 ON=中間/後退限入替あり
ORL
OR MR19007               ; 流路4 圧力異常
ANL
ANL
RES MR6008               ; ﾍｯﾄﾞ4(B) ﾛｯﾄﾞ 下降
CON
AND R4209                ; ﾍｯﾄﾞ4 真空引きﾛｯﾄﾞ　上限
JMP @MR7409              ; 次ｽﾃｯﾌﾟへ
MPP
AND R50002               ; STEP
JMP @MR7409              ; 次ｽﾃｯﾌﾟへ
STG @MR7409              ; 次ｽﾃｯﾌﾟへ
ANB MR35409              ; ﾌﾟﾗﾝｼﾞｬｰ4(B) 前進実行中
AND MR35410              ; ﾌﾟﾗﾝｼﾞｬｰ4(B)  前進call完了
MPS
RES MR35410              ; ﾌﾟﾗﾝｼﾞｬｰ4(B)  前進call完了
CON
JMP @MR7410              ; 次ｽﾃｯﾌﾟへ
MPP
LD R50001                ; AUTO
ANB MR008                ; AP08 ON=流量計無効
ANB LR104                ; Judge No
AND LR106                ; ﾊﾞﾗﾂｷ判定
ANL
@INC DM784               ; (B) 注入数ｶｳﾝﾄ
ZRES @MR8209 @MR8213     ; B 上限警告  B 重量監視終了
CON
SET @MR8208              ; B 重量監視
STG @MR7410              ; 次ｽﾃｯﾌﾟへ
ANB MR35410              ; ﾌﾟﾗﾝｼﾞｬｰ4(B)  前進call完了
ANB MR35401              ; ﾌﾟﾗﾝｼﾞｬｰ4(B) 後退実行中
ANB MR35402              ; ﾌﾟﾗﾝｼﾞｬｰ4(B)  後退call完了
SET MR35400              ; ﾌﾟﾗﾝｼﾞｬｰ4 後退 call FLG
CON
JMP @MR7411              ; 次ｽﾃｯﾌﾟへ
STG @MR7411              ; 次ｽﾃｯﾌﾟへ
AND MR35401              ; ﾌﾟﾗﾝｼﾞｬｰ4(B) 後退実行中
MPS
AND R50001               ; AUTO
JMP @MR7414
MPP
AND R50002               ; STEP
JMP @MR7412
STG @MR7412
ANB MR35401              ; ﾌﾟﾗﾝｼﾞｬｰ4(B) 後退実行中
AND MR35402              ; ﾌﾟﾗﾝｼﾞｬｰ4(B)  後退call完了
RES MR35402              ; ﾌﾟﾗﾝｼﾞｬｰ4(B)  後退call完了
CON
JMP @MR7413
STG @MR7413
LD R50001                ; AUTO
LD MR008                 ; AP08 ON=流量計無効
OR LR104                 ; Judge No
ORB LR106                ; ﾊﾞﾗﾂｷ判定
LDB MR008                ; AP08 ON=流量計無効
ANB LR104                ; Judge No
AND LR106                ; ﾊﾞﾗﾂｷ判定
AND @MR8213              ; B 重量監視終了
ORL
ANL
OR R50002                ; STEP
ANL
JMP @MR7414
STG @MR7414
RES @MR8213              ; B 重量監視終了
CON
RES @MR7402              ; ﾍｯﾄﾞ4 注入中
CON
SET @MR7401              ; ﾍｯﾄﾞ4    注入完了
CON
ENDS
;注入重量監視 / Infusion weight check
LD>= FM416 FM415         ; 注入重量異常範囲 B  注入重量警告範囲 B
MPS
LDA FM415                ; 注入重量警告範囲 B
CON
EXT
CON
STA.D DM6168             ; B 警告範囲
MPP
LDA FM416                ; 注入重量異常範囲 B
CON
EXT
CON
STA.D DM6170             ; B 異常範囲
LD< FM416 FM415          ; 注入重量異常範囲 B  注入重量警告範囲 B
MPS
LDA FM416                ; 注入重量異常範囲 B
CON
EXT
CON
STA.D DM6168             ; B 警告範囲
MPP
LDA FM415                ; 注入重量警告範囲 B
CON
EXT
CON
STA.D DM6170             ; B 異常範囲
;'注入重量監視/Infusion weight check
;'回数による動作分岐/Operation divergence for counter
;IF DM784 < 0 THEN
;ELSE IF DM784 = 1 THEN '回数=1の時/n=1 
;DM6162.D = DM6160.D
;DM6164.D = DM6164.D + DM6160.D
;ELSE IF DM784 >= 2 AND DM784 <= 30 THEN '2<=回数<=30の時/ 2<=n<=30
;DM6164.D = DM6164.D + DM6160.D
;	IF DM6160.D < DM6162.D - DM6168.D THEN
;		IF DM6160.D < DM6162.D - DM6170.D THEN
;		SET (@MR8212)
;		ELSE
;		SET (@MR8210)
;		END IF
;	ELSE IF DM6160.D > DM6162.D + DM6168.D THEN
;		IF DM6160.D > DM6162.D + DM6170.D THEN
;		SET (@MR8211)
;		ELSE
;		SET (@MR8209)
;		END IF
;	ELSE
;	END IF
;ELSE 	
;DM6162.D = DM6164.D / 30
;	IF DM6160.D < DM6162.D - DM6168.D THEN
;		IF DM6160.D < DM6162.D - DM6170.D THEN
;		SET (@MR8212)
;		ELSE
;		SET (@MR8210)
;		END IF
;	ELSE IF DM6160.D > DM6162.D + DM6168.D THEN
;		IF DM6160.D > DM6162.D + DM6170.D THEN
;		SET (@MR8211)
;		ELSE
;		SET (@MR8209)
;		END IF
;	ELSE
;	END IF
;END IF
;SET (@MR8213)
;RES (@MR8208)
LD @MR8208               ; B 重量監視
NCJ #1003
;'注入重量監視/Infusion weight check
;
;'回数による動作分岐/Operation divergence for counter
;
;IF DM784 < 0 THEN
;
LD< DM784 #0             ; (B) 注入数ｶｳﾝﾄ
NCJ #2066
LD CR2002                ; 常時ON
CJ #2067
LABEL #2066
;ELSE IF DM784 = 1 THEN '回数=1の時/n=1 
;
LD= DM784 #1             ; (B) 注入数ｶｳﾝﾄ
NCJ #2068
;DM6162.D = DM6160.D
;
LD CR2002                ; 常時ON
MOV.D DM6160 DM6162      ; B 重量ﾃﾞｰﾀ1  B 重量基準値1_1
;DM6164.D = DM6164.D + DM6160.D
;
LD CR2002                ; 常時ON
LDA.L DM6164             ; B 重量積算値1
CON
ADD.L DM6160             ; B 重量ﾃﾞｰﾀ1
CON
STA.D DM6164             ; B 重量積算値1
LD CR2002                ; 常時ON
CJ #2069
LABEL #2068
;ELSE IF DM784 >= 2 AND DM784 <= 30 THEN '2<=回数<=30の時/ 2<=n<=30
;
LD>= DM784 #2            ; (B) 注入数ｶｳﾝﾄ
OUT @VB03
LD<= DM784 #30           ; (B) 注入数ｶｳﾝﾄ
AND @VB03
NCJ #2070
;DM6164.D = DM6164.D + DM6160.D
;
LD CR2002                ; 常時ON
LDA.L DM6164             ; B 重量積算値1
CON
ADD.L DM6160             ; B 重量ﾃﾞｰﾀ1
CON
STA.D DM6164             ; B 重量積算値1
;	IF DM6160.D < DM6162.D - DM6168.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6162             ; B 重量基準値1_1
CON
SUB.L DM6168             ; B 警告範囲
CON
CMP.L DM6160             ; B 重量ﾃﾞｰﾀ1
LD CR2011                ; 演算結果が正
NCJ #2071
;		IF DM6160.D < DM6162.D - DM6170.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6162             ; B 重量基準値1_1
CON
SUB.L DM6170             ; B 異常範囲
CON
CMP.L DM6160             ; B 重量ﾃﾞｰﾀ1
LD CR2011                ; 演算結果が正
NCJ #2072
;		SET (@MR8212)
;
LD CR2002                ; 常時ON
SET @MR8212              ; B 下限異常
;		ELSE
;
LD CR2002                ; 常時ON
CJ #2073
LABEL #2072
;		SET (@MR8210)
;
LD CR2002                ; 常時ON
SET @MR8210              ; B 下限警告
;		END IF
;
LABEL #2073
LD CR2002                ; 常時ON
CJ #2074
LABEL #2071
;	ELSE IF DM6160.D > DM6162.D + DM6168.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6162             ; B 重量基準値1_1
CON
ADD.L DM6168             ; B 警告範囲
CON
CMP.L DM6160             ; B 重量ﾃﾞｰﾀ1
LD CR2009                ; 演算結果が負
NCJ #2075
;		IF DM6160.D > DM6162.D + DM6170.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6162             ; B 重量基準値1_1
CON
ADD.L DM6170             ; B 異常範囲
CON
CMP.L DM6160             ; B 重量ﾃﾞｰﾀ1
LD CR2009                ; 演算結果が負
NCJ #2076
;		SET (@MR8211)
;
LD CR2002                ; 常時ON
SET @MR8211              ; B 上限異常
;		ELSE
;
LD CR2002                ; 常時ON
CJ #2077
LABEL #2076
;		SET (@MR8209)
;
LD CR2002                ; 常時ON
SET @MR8209              ; B 上限警告
;		END IF
;
LABEL #2077
;	ELSE
;
LD CR2002                ; 常時ON
CJ #2078
LABEL #2075
;	END IF
;
LABEL #2078
LABEL #2074
;ELSE 	
;
LD CR2002                ; 常時ON
CJ #2079
LABEL #2070
;DM6162.D = DM6164.D / 30
;
LD CR2002                ; 常時ON
LDA.L DM6164             ; B 重量積算値1
CON
EXT.L
CON
DIV.L +30
CON
STA.D DM6162             ; B 重量基準値1_1
;	IF DM6160.D < DM6162.D - DM6168.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6162             ; B 重量基準値1_1
CON
SUB.L DM6168             ; B 警告範囲
CON
CMP.L DM6160             ; B 重量ﾃﾞｰﾀ1
LD CR2011                ; 演算結果が正
NCJ #2080
;		IF DM6160.D < DM6162.D - DM6170.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6162             ; B 重量基準値1_1
CON
SUB.L DM6170             ; B 異常範囲
CON
CMP.L DM6160             ; B 重量ﾃﾞｰﾀ1
LD CR2011                ; 演算結果が正
NCJ #2081
;		SET (@MR8212)
;
LD CR2002                ; 常時ON
SET @MR8212              ; B 下限異常
;		ELSE
;
LD CR2002                ; 常時ON
CJ #2082
LABEL #2081
;		SET (@MR8210)
;
LD CR2002                ; 常時ON
SET @MR8210              ; B 下限警告
;		END IF
;
LABEL #2082
LD CR2002                ; 常時ON
CJ #2083
LABEL #2080
;	ELSE IF DM6160.D > DM6162.D + DM6168.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6162             ; B 重量基準値1_1
CON
ADD.L DM6168             ; B 警告範囲
CON
CMP.L DM6160             ; B 重量ﾃﾞｰﾀ1
LD CR2009                ; 演算結果が負
NCJ #2084
;		IF DM6160.D > DM6162.D + DM6170.D THEN
;
LD CR2002                ; 常時ON
LDA.L DM6162             ; B 重量基準値1_1
CON
ADD.L DM6170             ; B 異常範囲
CON
CMP.L DM6160             ; B 重量ﾃﾞｰﾀ1
LD CR2009                ; 演算結果が負
NCJ #2085
;		SET (@MR8211)
;
LD CR2002                ; 常時ON
SET @MR8211              ; B 上限異常
;		ELSE
;
LD CR2002                ; 常時ON
CJ #2086
LABEL #2085
;		SET (@MR8209)
;
LD CR2002                ; 常時ON
SET @MR8209              ; B 上限警告
;		END IF
;
LABEL #2086
;	ELSE
;
LD CR2002                ; 常時ON
CJ #2087
LABEL #2084
;	END IF
;
LABEL #2087
LABEL #2083
;END IF
;
LABEL #2079
LABEL #2069
LABEL #2067
;SET (@MR8213)
;
LD CR2002                ; 常時ON
SET @MR8213              ; B 重量監視終了
;RES (@MR8208)
LD CR2002                ; 常時ON
RES @MR8208              ; B 重量監視
LABEL #1003
;
;<h1/>ﾜｰｸｸﾗﾝﾌﾟ
;Cartridge clamp
STG @MR7700              ; ﾜｰｸｸﾗﾝﾌﾟ
AND @MR002               ; PAUSE・ERROR無し
SET @MR7702              ; ﾜｰｸｸﾗﾝﾌﾟ中
CON
JMP @MR7703
STG @MR7703
AND @MR002               ; PAUSE・ERROR無し
ANB R50014               ; ﾗｲﾄｶｰﾃﾝ遮光記憶
RES MR6104               ; ICﾌﾟﾛｰﾌﾞ　前進
CON
SET MR6105               ; ICﾌﾟﾛｰﾌﾞ　後退
CON
JMP @MR7705
STG @MR7704
MPS
LD R1200                 ; Area sensor
ANB R4005                ; ICﾌﾟﾛｰﾌﾞ　後退限
ANL
JMP @MR7707
MPP
ANB R1200                ; Area sensor
SET R50014               ; ﾗｲﾄｶｰﾃﾝ遮光記憶
CON
JMP @MR7703
STG @MR7705
AND @MR002               ; PAUSE・ERROR無し
RES MR16011              ; 治具1(C)横ﾁｬｯｸ　後退
CON
SET MR16010              ; 治具1(C)横ﾁｬｯｸ　前進
CON
RES MR16101              ; 治具2(B)横ﾁｬｯｸ　後退
CON
SET MR16100              ; 治具2(B)横ﾁｬｯｸ　前進
CON
ANB R14007               ; 治具1(C)横ﾁｬｯｸ 後退限
ANB R14013               ; 治具2(B)横ﾁｬｯｸ 後退限
RES MR6012               ; 1ST ｸﾗﾝﾌﾟ開き
CON
SET MR6010               ; 1ST ｸﾗﾝﾌﾟ閉じ
CON
RES MR16013              ; 治具2(B)縦ﾁｬｯｸ　後退
CON
SET MR16012              ; 治具2(B)縦ﾁｬｯｸ　前進
CON
JMP @MR7706
STG @MR7706
MPS
LD R1200                 ; Area sensor
AND R14006               ; 治具1(C)横ﾁｬｯｸ 前進限
ANB R14007               ; 治具1(C)横ﾁｬｯｸ 後退限
AND R14012               ; 治具2(B)横ﾁｬｯｸ 前進限
ANB R14013               ; 治具2(B)横ﾁｬｯｸ 後退限
ANL
JMP @MR7707
MPP
ANB R1200                ; Area sensor
SET R50014               ; ﾗｲﾄｶｰﾃﾝ遮光記憶
CON
JMP @MR7703
STG @MR7707
OUT R50400               ; Call Post
CON
AND R50402               ; Post Ok
RES MR6012               ; 1ST ｸﾗﾝﾌﾟ開き
CON
SET MR6010               ; 1ST ｸﾗﾝﾌﾟ閉じ
CON
RES MR16013              ; 治具2(B)縦ﾁｬｯｸ　後退
CON
SET MR16012              ; 治具2(B)縦ﾁｬｯｸ　前進
CON
JMP @MR7708
STG @MR7708
MPS
LD R1200                 ; Area sensor
AND R14002               ; 治具1(C)縦ﾁｬｯｸ 前進限
ANB R14003               ; 治具1(C)縦ﾁｬｯｸ 後退限
AND R14008               ; 治具2(B)縦ﾁｬｯｸ 前進限
ANB R14009               ; 治具2(B)縦ﾁｬｯｸ 後退限
ANL
JMP @MR7709
MPP
ANB R1200                ; Area sensor
SET R50014               ; ﾗｲﾄｶｰﾃﾝ遮光記憶
CON
JMP @MR7703
STG @MR7709
AND @MR002               ; PAUSE・ERROR無し
RES @MR7702              ; ﾜｰｸｸﾗﾝﾌﾟ中
CON
SET @MR7701              ; ﾜｰｸｸﾗﾝﾌﾟ完了
CON
ENDS
;<h1/>ﾊﾟﾙﾐﾙ真空値監視
;Yellow
LD CR2002                ; 常時ON
MOV DM39802 DM900        ; ch0 ｱﾅﾛｸﾞﾃﾞｰﾀ  Y ﾊﾟﾙﾐﾙ現在値
MPS
ANP @MR6314              ; ﾍｯﾄﾞ真空引き 開call 実行中
MOV DM900 DM901          ; Y ﾊﾟﾙﾐﾙ現在値  Y 大気圧(注入前)
DW #0 DM906              ; Y 真空引き時間計測
MRD
LD MR6208                ; 真空ﾏﾆﾎｰﾙﾄﾞ1 開
AND MR6200               ; ﾍｯﾄﾞ真空1 開
ANB MR6800               ; (Y) 注入ﾍｯﾄﾞ  大気開放
ANL
MPS
AND CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
@INC DM906               ; Y 真空引き時間計測
MPP
LD R4301                 ; ﾊﾟﾙﾐﾙ1 GO検出
ANP @MR904               ; ﾍｯﾄﾞ1　  真空到達OK
ANL
MOV DM906 DM902          ; Y 真空引き時間計測  Y 真空到達圧(GO)
DW #0 DM906              ; Y 真空引き時間計測
MRD
ANP T80                  ; 注入真空引き安定時間(Toki BK/CL)
MOV DM900 DM903          ; Y ﾊﾟﾙﾐﾙ現在値  Y 真空引き時間(0.1s))
MRD
ANP T82                  ; 真空監視WAIT
MOV DM900 DM904          ; Y ﾊﾟﾙﾐﾙ現在値  Y 真空保持圧(LO)
MPP
LD @MR7102               ; ﾍｯﾄﾞ1 注入中
LDB MR015                ; AP15 ON=中間/後退限入替あり
ANP R4400                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 前進限
LD MR015                 ; AP15 ON=中間/後退限入替あり
ANP R4401                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 中間限
ORL
ANL
ANL
MOV DM900 DM905          ; Y ﾊﾟﾙﾐﾙ現在値  Y 注入完了時真空圧
;Magenta
LD CR2002                ; 常時ON
MOV DM39817 DM910        ; ch3 ｱﾅﾛｸﾞﾃﾞｰﾀ  M ﾊﾟﾙﾐﾙ現在値
MPS
ANP @MR6314              ; ﾍｯﾄﾞ真空引き 開call 実行中
MOV DM910 DM911          ; M ﾊﾟﾙﾐﾙ現在値  M 大気圧(注入前)
DW #0 DM916              ; M 真空引き時間計測
MRD
LD MR6209                ; 真空ﾏﾆﾎｰﾙﾄﾞ2 開
AND MR6202               ; ﾍｯﾄﾞ真空2 開
ANB MR6801               ; (M) 注入ﾍｯﾄﾞ  大気開放
ANL
MPS
AND CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
@INC DM916               ; M 真空引き時間計測
MPP
LD R4304                 ; ﾊﾟﾙﾐﾙ2 GO検出
ANP @MR905               ; ﾍｯﾄﾞ2　  真空到達OK
ANL
MOV DM916 DM912          ; M 真空引き時間計測  M 真空到達圧(GO)
DW #0 DM916              ; M 真空引き時間計測
MRD
ANP T80                  ; 注入真空引き安定時間(Toki BK/CL)
MOV DM910 DM913          ; M ﾊﾟﾙﾐﾙ現在値  M 真空引き時間(0.1s))
MRD
ANP T82                  ; 真空監視WAIT
MOV DM910 DM914          ; M ﾊﾟﾙﾐﾙ現在値  M 真空保持圧(LO)
MPP
LD @MR7202               ; ﾍｯﾄﾞ2 注入中
LDB MR015                ; AP15 ON=中間/後退限入替あり
ANP R4403                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 前進限
LD MR015                 ; AP15 ON=中間/後退限入替あり
ANP R4404                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 中間限
ORL
ANL
ANL
MOV DM910 DM915          ; M ﾊﾟﾙﾐﾙ現在値  M 注入完了時真空圧
;Cyan
LD CR2002                ; 常時ON
MOV DM39812 DM920        ; ch2 ｱﾅﾛｸﾞﾃﾞｰﾀ  C ﾊﾟﾙﾐﾙ現在値
MPS
ANP @MR6314              ; ﾍｯﾄﾞ真空引き 開call 実行中
MOV DM920 DM921          ; C ﾊﾟﾙﾐﾙ現在値  C 大気圧(注入前)
DW #0 DM926              ; C 真空引き時間計測
MRD
LD MR6210                ; 真空ﾏﾆﾎｰﾙﾄﾞ3 開
AND MR6204               ; ﾍｯﾄﾞ真空3 開
ANB MR6802               ; (C) 注入ﾍｯﾄﾞ  大気開放
ANL
MPS
AND CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
@INC DM926               ; C 真空引き時間計測
MPP
LD R4307                 ; ﾊﾟﾙﾐﾙ3 GO検出
ANP @MR906               ; ﾍｯﾄﾞ3　  真空到達OK
ANL
MOV DM926 DM922          ; C 真空引き時間計測  C 真空到達圧(GO)
DW #0 DM926              ; C 真空引き時間計測
MRD
ANP T80                  ; 注入真空引き安定時間(Toki BK/CL)
MOV DM920 DM923          ; C ﾊﾟﾙﾐﾙ現在値  C 真空引き時間(0.1s))
MRD
ANP T82                  ; 真空監視WAIT
MOV DM920 DM924          ; C ﾊﾟﾙﾐﾙ現在値  C 真空保持圧(LO)
MPP
LD @MR7302               ; ﾍｯﾄﾞ3 注入中
LDP R4406                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 前進限
ANB MR015                ; AP15 ON=中間/後退限入替あり
LDP R4407                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 中間限
AND MR015                ; AP15 ON=中間/後退限入替あり
ORL
ANL
ANL
MOV DM920 DM925          ; C ﾊﾟﾙﾐﾙ現在値  C 注入完了時真空圧
;Black
LD CR2002                ; 常時ON
MOV DM39807 DM930        ; ch1 ｱﾅﾛｸﾞﾃﾞｰﾀ  B ﾊﾟﾙﾐﾙ現在値
MPS
ANP @MR6314              ; ﾍｯﾄﾞ真空引き 開call 実行中
MOV DM930 DM931          ; B ﾊﾟﾙﾐﾙ現在値  B 大気圧(注入前)
DW #0 DM936              ; B 真空引き時間計測
MRD
LD MR6211                ; 真空ﾏﾆﾎｰﾙﾄﾞ4 開
AND MR6206               ; ﾍｯﾄﾞ真空4 開
ANB MR6803               ; (B) 注入ﾍｯﾄﾞ  大気開放
ANL
MPS
AND CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
@INC DM936               ; B 真空引き時間計測
MPP
LD R4310                 ; ﾊﾟﾙﾐﾙ4 GO検出
ANP @MR907               ; ﾍｯﾄﾞ4　  真空到達OK
ANL
MOV DM936 DM932          ; B 真空引き時間計測  B 真空到達圧(GO)
DW #0 DM936              ; B 真空引き時間計測
MRD
ANP T80                  ; 注入真空引き安定時間(Toki BK/CL)
MOV DM930 DM933          ; B ﾊﾟﾙﾐﾙ現在値  B 真空引き時間(0.1s))
MRD
ANP T82                  ; 真空監視WAIT
MOV DM930 DM934          ; B ﾊﾟﾙﾐﾙ現在値  B 真空保持圧(LO)
MPP
LD @MR7402               ; ﾍｯﾄﾞ4 注入中
LDP R4409                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 前進限
ANB MR015                ; AP15 ON=中間/後退限入替あり
LDP R4410                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 中間限
AND MR015                ; AP15 ON=中間/後退限入替あり
ORL
ANL
ANL
MOV DM930 DM935          ; B ﾊﾟﾙﾐﾙ現在値  B 注入完了時真空圧
;<h1/>■ Error
;Err42,43 YELLOW流量誤差警告 上限 下限
;         YELLOW Flow margin alarm upper lower
STG @MR8800              ; Err42/43 Y流量警告
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
SET LR49914              ; ｴﾗｰﾘｾｯﾄｷｰ要求
CON
JMP @MR8801              ; Next step
MPS
AND @MR8101              ; Y 上限警告
MOV #42 DM400            ; ﾒｯｾｰｼﾞNo.
MPP
AND @MR8102              ; Y 下限警告
MOV #43 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR8801              ; Next step
AND R50008               ; Error
JMP @MR8802              ; Next step
STG @MR8802              ; Next step
ANB R50008               ; Error
SET @MR8803              ; Err42/43 解除完了
CON
ENDS
;Err44,45 YELLOW流量誤差異常 上限 下限
;         YELLOW Flow margin abnormal upper lower
STG @MR8804              ; Err44/45 Y流量異常
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
SET LR49914              ; ｴﾗｰﾘｾｯﾄｷｰ要求
CON
JMP @MR8805              ; Next step
MPS
AND @MR8103              ; Y 上限異常
MOV #44 DM400            ; ﾒｯｾｰｼﾞNo.
MPP
AND @MR8104              ; Y 下限異常
MOV #45 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR8805              ; Next step
AND R50008               ; Error
JMP @MR8806              ; Next step
STG @MR8806              ; Next step
ANB R50008               ; Error
SET @MR8807              ; Err44/45 解除完了
CON
ENDS
;Err46,47 MAGENTA流量誤差警告 上限 下限
;         MAGENTA Flow margin alarm upper lower
STG @MR8808              ; Err46/47 M流量警告
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
SET LR49914              ; ｴﾗｰﾘｾｯﾄｷｰ要求
CON
JMP @MR8809              ; Next step
MPS
AND @MR8109              ; M 上限警告
MOV #46 DM400            ; ﾒｯｾｰｼﾞNo.
MPP
AND @MR8110              ; M 下限警告
MOV #47 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR8809              ; Next step
AND R50008               ; Error
JMP @MR8810              ; Next step
STG @MR8810              ; Next step
ANB R50008               ; Error
SET @MR8811              ; Err46/47 解除完了
CON
ENDS
;Err48,49 MAGENTA流量誤差異常 上限 下限
;         MAGENTA Flow margin abnormal upper lower
STG @MR8812              ; Err48/49 M流量異常
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
SET LR49914              ; ｴﾗｰﾘｾｯﾄｷｰ要求
CON
JMP @MR8813              ; Next step
MPS
AND @MR8111              ; M 上限異常
MOV #48 DM400            ; ﾒｯｾｰｼﾞNo.
MPP
AND @MR8112              ; M 下限異常
MOV #49 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR8813              ; Next step
AND R50008               ; Error
JMP @MR8814              ; Next step
STG @MR8814              ; Next step
ANB R50008               ; Error
SET @MR8815              ; Err48/49 解除完了
CON
ENDS
;Err50,51 CYAN流量誤差警告 上限 下限
;         CYAN Flow margin alarm upper lower
STG @MR8900              ; Err50/51 C流量警告
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
SET LR49914              ; ｴﾗｰﾘｾｯﾄｷｰ要求
CON
JMP @MR8901              ; Next step
MPS
AND @MR8201              ; C 上限警告
MOV #50 DM400            ; ﾒｯｾｰｼﾞNo.
MPP
AND @MR8202              ; C 下限警告
MOV #51 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR8901              ; Next step
AND R50008               ; Error
JMP @MR8902              ; Next step
STG @MR8902              ; Next step
ANB R50008               ; Error
SET @MR8903              ; Err50/51 解除完了
CON
ENDS
;Err52,53 CYAN流量誤差異常 上限 下限
;         CYAN Flow margin abnormal upper lower
STG @MR8904              ; Err52/53 C流量異常
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
SET LR49914              ; ｴﾗｰﾘｾｯﾄｷｰ要求
CON
JMP @MR8905              ; Next step
MPS
AND @MR8203              ; C 上限異常
MOV #52 DM400            ; ﾒｯｾｰｼﾞNo.
MPP
AND @MR8204              ; C 下限異常
MOV #53 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR8905              ; Next step
AND R50008               ; Error
JMP @MR8906              ; Next step
STG @MR8906              ; Next step
ANB R50008               ; Error
SET @MR8907              ; Err52/53 解除完了
CON
ENDS
;Err54,55 BLACK流量誤差警告 上限 下限
;         BLACK Flow margin alarm upper lower
STG @MR8908              ; Err54/55 B流量警告
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
SET LR49914              ; ｴﾗｰﾘｾｯﾄｷｰ要求
CON
JMP @MR8909              ; Next step
MPS
AND @MR8209              ; B 上限警告
MOV #54 DM400            ; ﾒｯｾｰｼﾞNo.
MPP
AND @MR8210              ; B 下限警告
MOV #55 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR8909              ; Next step
AND R50008               ; Error
JMP @MR8910              ; Next step
STG @MR8910              ; Next step
ANB R50008               ; Error
SET @MR8911              ; Err54/55 解除完了
CON
ENDS
;Err56,57 MAGENTA流量誤差異常 上限 下限
;         MAGENTA Flow margin abnormal upper lower
STG @MR8912              ; Err56/57 B流量異常
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
SET LR49914              ; ｴﾗｰﾘｾｯﾄｷｰ要求
CON
JMP @MR8913              ; Next step
MPS
AND @MR8211              ; B 上限異常
MOV #56 DM400            ; ﾒｯｾｰｼﾞNo.
MPP
AND @MR8212              ; B 下限異常
MOV #57 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR8913              ; Next step
AND R50008               ; Error
JMP @MR8914              ; Next step
STG @MR8914              ; Next step
ANB R50008               ; Error
SET @MR8915              ; Err56/57 解除完了
CON
ENDS
;Err62 KDｲﾝｸ循環未完了
;Err62 KD Ink discharge non-finishing
STG @MR9000              ; Err62 KDｲﾝｸ循環未完了
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
SET LR49914              ; ｴﾗｰﾘｾｯﾄｷｰ要求
CON
JMP @MR9001              ; Next step
MOV #62 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR9001              ; Next step
AND R50008               ; Error
JMP @MR9002              ; Next step
STG @MR9002              ; Next step
ANB R50008               ; Error
SET @MR9003              ; Err62 ST3 Err2解除完了
CON
ENDS
;Err63 ｻﾃﾗｲﾄ循環未完了
;Err63 Consective discharge non-finishing
STG @MR9004              ; Err62 ｻﾃﾗｲﾄ循環未完了
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
SET LR49914              ; ｴﾗｰﾘｾｯﾄｷｰ要求
CON
JMP @MR9005              ; Next step
MOV #63 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR9005              ; Next step
AND R50008               ; Error
JMP @MR9006              ; Next step
STG @MR9006              ; Next step
ANB R50008               ; Error
SET @MR9007              ; Err62 解除完了
CON
ENDS
;Err64 連続吐出未完了
;Err64 Consective discharge non-finishing
STG @MR9008              ; Err63 連続吐出未完了
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
SET LR49914              ; ｴﾗｰﾘｾｯﾄｷｰ要求
CON
JMP @MR9009              ; Next step
MOV #64 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR9009              ; Next step
AND R50008               ; Error
JMP @MR9010              ; Next step
STG @MR9010              ; Next step
ANB R50008               ; Error
SET @MR9011              ; Err63 ST3 Err3解除完了
CON
ENDS
;***　ﾜｰｸ浮き表示 ERROR NO 07  /  Work flotage display 
STG @MR100               ; Err07 ﾜｰｸ浮き表示
ANB R50008               ; Error
SET @MR101               ; ﾜｰｸ浮き表示中
CON
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
JMP @MR102               ; 次ｽﾃｯﾌﾟへ
MOV #7 DM400             ; ﾒｯｾｰｼﾞNo.
STG @MR102               ; 次ｽﾃｯﾌﾟへ
AND R50008               ; Error
JMP @MR103               ; 次ｽﾃｯﾌﾟへ
STG @MR103               ; 次ｽﾃｯﾌﾟへ
ANB R50008               ; Error
RES @MR101               ; ﾜｰｸ浮き表示中
CON
SET @MR107               ; Err07 解除完了
CON
ENDS
;***　真空到達異常表示 ERROR NO 10-13  /  time over to reach vacuum  display
STG @MR108               ; 真空到達異常へ
ANB R50008               ; Error
SET @MR109               ; 真空到達異常中
CON
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
MPS
LDB @MR904               ; ﾍｯﾄﾞ1　  真空到達OK
AND @MR011               ; ﾍｯﾄﾞ1　  注入有
ANL
JMP @MR110               ; 次ｽﾃｯﾌﾟへ
MOV #10 DM400            ; ﾒｯｾｰｼﾞNo.
MRD
LDB @MR905               ; ﾍｯﾄﾞ2　  真空到達OK
AND @MR012               ; ﾍｯﾄﾞ2　  注入有
ANL
JMP @MR110               ; 次ｽﾃｯﾌﾟへ
MOV #11 DM400            ; ﾒｯｾｰｼﾞNo.
MRD
LDB @MR906               ; ﾍｯﾄﾞ3　  真空到達OK
AND @MR013               ; ﾍｯﾄﾞ3　  注入有
ANL
JMP @MR110               ; 次ｽﾃｯﾌﾟへ
MOV #12 DM400            ; ﾒｯｾｰｼﾞNo.
MPP
LDB @MR907               ; ﾍｯﾄﾞ4　  真空到達OK
AND @MR014               ; ﾍｯﾄﾞ4　  注入有
ANL
JMP @MR110               ; 次ｽﾃｯﾌﾟへ
MOV #13 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR110               ; 次ｽﾃｯﾌﾟへ
AND R50008               ; Error
JMP @MR111               ; 次ｽﾃｯﾌﾟへ
STG @MR111               ; 次ｽﾃｯﾌﾟへ
ANB R50008               ; Error
ZRES @MR900 @MR915       ; ﾍｯﾄﾞ1到達確認完了  ﾍｯﾄﾞ4　  真空保持OK
CON
RES @MR109               ; 真空到達異常中
CON
SET @MR115               ; 真空到達異常終了
CON
ENDS
;***　ｲﾝｸｴﾝﾄﾞ表示 ERROR NO 26〜29  /  Ink end  display
STG @MR200               ; ｲﾝｸｴﾝﾄﾞ表示へ
ANB R50008               ; Error
SET @MR201               ; ｲﾝｸｴﾝﾄﾞ表示中
CON
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
MPS
ANB @MR811               ; ｲﾝｸｴﾝﾄﾞ1 (Y)ﾁｪｯｸOKFLG
JMP @MR202               ; 次ｽﾃｯﾌﾟへ
MOV #26 DM400            ; ﾒｯｾｰｼﾞNo.
MRD
ANB @MR812               ; ｲﾝｸｴﾝﾄﾞ2 (M)ﾁｪｯｸOKFLG
JMP @MR202               ; 次ｽﾃｯﾌﾟへ
MOV #27 DM400            ; ﾒｯｾｰｼﾞNo.
MRD
ANB @MR813               ; ｲﾝｸｴﾝﾄﾞ3 (C)ﾁｪｯｸOKFLG
JMP @MR202               ; 次ｽﾃｯﾌﾟへ
MOV #28 DM400            ; ﾒｯｾｰｼﾞNo.
MPP
ANB @MR814               ; ｲﾝｸｴﾝﾄﾞ4 (B)ﾁｪｯｸOKFLG
JMP @MR202               ; 次ｽﾃｯﾌﾟへ
MOV #29 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR202               ; 次ｽﾃｯﾌﾟへ
AND R50008               ; Error
JMP @MR203               ; 次ｽﾃｯﾌﾟへ
STG @MR203               ; 次ｽﾃｯﾌﾟへ
ANB R50008               ; Error
ZRES @MR811 @MR814       ; ｲﾝｸｴﾝﾄﾞ1 (Y)ﾁｪｯｸOKFLG  ｲﾝｸｴﾝﾄﾞ4 (B)ﾁｪｯｸOKFLG
CON
RES @MR201               ; ｲﾝｸｴﾝﾄﾞ表示中
CON
SET @MR207               ; ｲﾝｸｴﾝﾄﾞ表示終了
CON
ENDS
;***　冶具& ｻﾃﾗｲﾄ選択異常表示 ERROR NO 8  /  JIGU & Satellite selection erorr  display
STG @MR208               ; 冶具&ｻﾃﾗｲﾄ選択異常表示へ
ANB R50008               ; Error
SET @MR209               ; 冶具&ﾍｯﾄﾞ選択異常表示中
CON
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
JMP @MR210               ; 次ｽﾃｯﾌﾟへ
MOV #8 DM400             ; ﾒｯｾｰｼﾞNo.
STG @MR210               ; 次ｽﾃｯﾌﾟへ
AND R50008               ; Error
JMP @MR211               ; 次ｽﾃｯﾌﾟへ
STG @MR211               ; 次ｽﾃｯﾌﾟへ
ANB R50008               ; Error
RES @MR209               ; 冶具&ﾍｯﾄﾞ選択異常表示中
CON
SET @MR215               ; 冶具&ﾍｯﾄﾞ選択異常表示終了
CON
ENDS
;***　ﾎﾟﾝﾌﾟ過昇表示 ERROR NO 01〜03  /  pump over heat  display
STG @MR300               ; ﾎﾟﾝﾌﾟ過昇検出表示へ
ANB R50008               ; Error
SET @MR301               ; ﾎﾟﾝﾌﾟ過昇検出表示中
CON
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
MPS
ANB @MR6512              ; 回収用ﾎﾟﾝﾌﾟ過昇検出OK
JMP @MR302               ; 次ｽﾃｯﾌﾟへ
MOV #1 DM400             ; ﾒｯｾｰｼﾞNo.
MRD
ANB @MR6511              ; ﾓｼﾞｭｰﾙ用ﾎﾟﾝﾌﾟ過昇検出OK
JMP @MR302               ; 次ｽﾃｯﾌﾟへ
MOV #2 DM400             ; ﾒｯｾｰｼﾞNo.
MPP
ANB @MR6510              ; 高真空用ﾎﾟﾝﾌﾟ過昇検出OK
JMP @MR302               ; 次ｽﾃｯﾌﾟへ
MOV #3 DM400             ; ﾒｯｾｰｼﾞNo.
STG @MR302               ; 次ｽﾃｯﾌﾟへ
AND R50008               ; Error
JMP @MR303               ; 次ｽﾃｯﾌﾟへ
STG @MR303               ; 次ｽﾃｯﾌﾟへ
ANB R50008               ; Error
ZRES @MR6510 @MR6512     ; 高真空用ﾎﾟﾝﾌﾟ過昇検出OK  回収用ﾎﾟﾝﾌﾟ過昇検出OK
CON
RES @MR301               ; ﾎﾟﾝﾌﾟ過昇検出表示中
CON
SET @MR307               ; ﾎﾟﾝﾌﾟ過昇検出表示終了
CON
ENDS
;***　ﾜｰｸ未除材ｴﾗｰ表示 ERROR NO 05  /  work non remove erorr  display
STG @MR400               ; ﾜｰｸ未除材ｴﾗｰ表示へ
ANB R50008               ; Error
SET @MR401               ; ﾜｰｸ未除材ｴﾗｰ表示中
CON
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
JMP @MR402               ; 次ｽﾃｯﾌﾟへ
MOV #5 DM400             ; ﾒｯｾｰｼﾞNo.
STG @MR402               ; 次ｽﾃｯﾌﾟへ
AND R50008               ; Error
JMP @MR403               ; 次ｽﾃｯﾌﾟへ
STG @MR403               ; 次ｽﾃｯﾌﾟへ
ANB R50008               ; Error
RES @MR401               ; ﾜｰｸ未除材ｴﾗｰ表示中
CON
SET @MR407               ; ﾜｰｸ未除材ｴﾗｰ表示終了
CON
ENDS
;***　ﾜｰｸ未給材ｴﾗｰ表示 ERROR NO 06  /  work non set erorr  display
STG @MR408               ; ﾜｰｸ未給材ｴﾗｰ表示へ
ANB R50008               ; Error
SET @MR409               ; ﾜｰｸ未給材ｴﾗｰ表示中
CON
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
JMP @MR410               ; 次ｽﾃｯﾌﾟへ
MOV #6 DM400             ; ﾒｯｾｰｼﾞNo.
STG @MR410               ; 次ｽﾃｯﾌﾟへ
AND R50008               ; Error
JMP @MR411               ; 次ｽﾃｯﾌﾟへ
STG @MR411               ; 次ｽﾃｯﾌﾟへ
ANB R50008               ; Error
RES @MR409               ; ﾜｰｸ未給材ｴﾗｰ表示中
CON
SET @MR415               ; ﾜｰｸ未給材ｴﾗｰ表示終了
CON
ENDS
;***　真空保持異常表示 ERROR NO 15-18  /  vacuum keep erorr  display
STG @MR500               ; 真空保持異常表示へ
ANB R50008               ; Error
SET @MR501               ; 真空保持異常表示中
CON
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
MPS
LDB @MR912               ; ﾍｯﾄﾞ1　  真空保持OK
AND @MR011               ; ﾍｯﾄﾞ1　  注入有
ANL
JMP @MR502               ; 次ｽﾃｯﾌﾟへ
MOV #15 DM400            ; ﾒｯｾｰｼﾞNo.
MRD
LDB @MR913               ; ﾍｯﾄﾞ2　  真空保持OK
AND @MR012               ; ﾍｯﾄﾞ2　  注入有
ANL
JMP @MR502               ; 次ｽﾃｯﾌﾟへ
MOV #16 DM400            ; ﾒｯｾｰｼﾞNo.
MRD
LDB @MR914               ; ﾍｯﾄﾞ3　  真空保持OK
AND @MR013               ; ﾍｯﾄﾞ3　  注入有
ANL
JMP @MR502               ; 次ｽﾃｯﾌﾟへ
MOV #17 DM400            ; ﾒｯｾｰｼﾞNo.
MPP
LDB @MR915               ; ﾍｯﾄﾞ4　  真空保持OK
AND @MR014               ; ﾍｯﾄﾞ4　  注入有
ANL
JMP @MR502               ; 次ｽﾃｯﾌﾟへ
MOV #18 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR502               ; 次ｽﾃｯﾌﾟへ
AND R50008               ; Error
JMP @MR503               ; 次ｽﾃｯﾌﾟへ
STG @MR503               ; 次ｽﾃｯﾌﾟへ
ANB R50008               ; Error
ZRES @MR900 @MR915       ; ﾍｯﾄﾞ1到達確認完了  ﾍｯﾄﾞ4　  真空保持OK
CON
RES @MR501               ; 真空保持異常表示中
CON
SET @MR507               ; 真空保持異常表示終了
CON
ENDS
;***　ﾓﾃﾞﾙｴﾗｰ表示 ERROR NO 59  /  model erorr  display
STG @MR508               ; ﾓﾃﾞﾙｴﾗｰ表示へ
ANB R50008               ; Error
SET @MR509               ; ﾓﾃﾞﾙｴﾗｰ表示中
CON
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
JMP @MR510               ; 次ｽﾃｯﾌﾟへ
MOV #59 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR510               ; 次ｽﾃｯﾌﾟへ
AND R50008               ; Error
JMP @MR511               ; 次ｽﾃｯﾌﾟへ
STG @MR511               ; 次ｽﾃｯﾌﾟへ
ANB R50008               ; Error
RES @MR509               ; ﾓﾃﾞﾙｴﾗｰ表示中
CON
SET @MR515               ; ﾓﾃﾞﾙｴﾗｰ表示終了
CON
ENDS
;***　真空ﾎﾟﾝﾌﾟ未起動検出表示 ERROR NO 22  /  vacuum pump check erorr  display
STG @MR600               ; 真空ﾎﾟﾝﾌﾟ未起動検出表示へ
ANB R50008               ; Error
SET @MR601               ; 真空ﾎﾟﾝﾌﾟ未起動検出中
CON
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
JMP @MR602               ; 次ｽﾃｯﾌﾟへ
MOV #23 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR602               ; 次ｽﾃｯﾌﾟへ
AND R50008               ; Error
JMP @MR603               ; 次ｽﾃｯﾌﾟへ
STG @MR603               ; 次ｽﾃｯﾌﾟへ
ANB R50008               ; Error
RES @MR601               ; 真空ﾎﾟﾝﾌﾟ未起動検出中
CON
SET @MR607               ; 真空ﾎﾟﾝﾌﾟ未起動検出表示終了
CON
ENDS
;***　脱気ﾓｼﾞｭｰﾙ接続NG ERROR NO 25  /  Decompressed module connection NG
STG @MR2900              ; Err25 脱気ﾓｼﾞｭｰﾙ接続NG
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
JMP @MR2901
MOV #25 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR2901
AND R50008               ; Error
JMP @MR2902
STG @MR2902
ANB R50008               ; Error
SET @MR2903              ; Err25 Release
CON
ENDS
;***** ｶﾗｰﾌﾞﾛｯｸ異常(無いのに検出) ERROR No.40  /  Color block error (Detected)  *****
;
STG @MR704               ; Err40 Color block ERR (ON)
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
JMP @MR705               ; 次ｽﾃｯﾌﾟへ
MOV #40 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR705               ; 次ｽﾃｯﾌﾟへ
AND R50008               ; Error
JMP @MR706               ; 次ｽﾃｯﾌﾟへ
STG @MR706               ; 次ｽﾃｯﾌﾟへ
ANB R50008               ; Error
SET @MR707               ; Err40 Release
CON
ENDS
;***** ｶﾗｰﾌﾞﾛｯｸ異常(有るのに検出できず) ERROR No.41  /  Color block error (No Detected)  *****
;
STG @MR708               ; Err41 Color block ERR (OFF)
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
JMP @MR709               ; 次ｽﾃｯﾌﾟへ
MOV #41 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR709               ; 次ｽﾃｯﾌﾟへ
AND R50008               ; Error
JMP @MR710               ; 次ｽﾃｯﾌﾟへ
STG @MR710               ; 次ｽﾃｯﾌﾟへ
ANB R50008               ; Error
SET @MR711               ; Err41 Release
CON
ENDS
;***** CSIC ﾃﾞｰﾀ書込みPC ﾃﾞｰﾀｾｯﾄ異常 ERROR No.120  /  CSIC PC Data-set error  *****
;
STG @MR800               ; Err120 CSIC Data set ERR
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
JMP @MR801               ; 次ｽﾃｯﾌﾟへ
MOV #120 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR801               ; 次ｽﾃｯﾌﾟへ
AND R50008               ; Error
JMP @MR802               ; 次ｽﾃｯﾌﾟへ
STG @MR802               ; 次ｽﾃｯﾌﾟへ
ANB R50008               ; Error
SET @MR803               ; Err120 Release
CON
ENDS
;***** CSIC ﾃﾞｰﾀ書込み異常 ERROR No.121  /  CSIC Data write error  *****
;
STG @MR804               ; Err121 CSIC Data write ERR
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
JMP @MR805               ; 次ｽﾃｯﾌﾟへ
MOV #121 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR805               ; 次ｽﾃｯﾌﾟへ
AND R50008               ; Error
JMP @MR806               ; 次ｽﾃｯﾌﾟへ
STG @MR806               ; 次ｽﾃｯﾌﾟへ
ANB R50008               ; Error
SET @MR807               ; Err121 Release
CON
ENDS
;***** CSIC ﾃﾞｰﾀﾃﾞｰﾀｾｯﾄﾀｲﾑｱｳﾄ ERROR No.122  /  CSIC Data set time out  *****
;
STG @MR712               ; Err122 CSIC Data set time out
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
JMP @MR713               ; 次ｽﾃｯﾌﾟへ
MOV #122 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR713               ; 次ｽﾃｯﾌﾟへ
AND R50008               ; Error
JMP @MR714               ; 次ｽﾃｯﾌﾟへ
STG @MR714               ; 次ｽﾃｯﾌﾟへ
ANB R50008               ; Error
SET @MR715               ; Err122 Release
CON
ENDS
;Err130 重量調整吐出確認要求
;Err130 Weight adjust exhaust check request
STG @MR9012              ; Err130 重量調整確認要求
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
SET LR49914              ; ｴﾗｰﾘｾｯﾄｷｰ要求
CON
JMP @MR9013              ; Next step
MOV #130 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR9013              ; Next step
AND R50008               ; Error
JMP @MR9014              ; Next step
STG @MR9014              ; Next step
ANB R50008               ; Error
SET @MR9015              ; Err130 解除完了
CON
ENDS
END
ENDH
