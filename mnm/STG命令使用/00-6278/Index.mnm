DEVICE:53
;MODULE:Index
;MODULE_TYPE:0
;***************************************
; 非常停止
; Emergency Stop 
;***************************************
LD R50010                ; Emergency　Stop
OR @MR000                ; Emergency STOP
ZRES @MR001 @MR2815      ; ST1 Cylinder OK
CON
OUT @MR000               ; Emergency STOP
TMR @0 #5
LD @T0
MDSTOP Index
;***************************************
; ﾎﾟｰｽﾞ ･ ｴﾗｰ 監視
; Pause ･ Error Check 
;***************************************
LDB R50300               ; Pause
ANB R50110               ; Err INDEX
OUT @MR015               ; IND1 Pause&Err Nothing
;***************************************
; INDEXｼﾘﾝﾀﾞｲﾝﾀｰﾛｯｸﾁｪｯｸ
; INDEX Cylinder Interlock Check 
;***************************************
LDB R4008                ; INDEX位置決め 上昇限
AND R4009                ; INDEX位置決め 下降限
ANB R4006                ; ｹｰｽ浮き押さえ 前進限
AND R4007                ; ｹｰｽ浮き押さえ 後退限
ANB R4004                ; ICﾌﾟﾛｰﾌﾞ　前進限
AND R4005                ; ICﾌﾟﾛｰﾌﾞ　後退限
OUT @MR001               ; ST1 Cylinder OK
LD CR2002                ; 常時ON
OUT @MR002               ; ST2 Cylinder OK
LDB R4200                ; 注入上下 下限
AND R4201                ; 注入上下 上限
OUT @MR003               ; ST3 Cylinder OK
LD CR2002                ; 常時ON
OUT @MR004               ; ST4 Cylinder OK
LD @MR001                ; ST1 Cylinder OK
AND @MR002               ; ST2 Cylinder OK
AND @MR003               ; ST3 Cylinder OK
AND @MR004               ; ST4 Cylinder OK
OUT @MR005               ; INDEX Cylinder OK
;<h1/>原点復帰動作
;HOME RETURN OPERATION 
LD R50003                ; HOME
ANB R50200               ; INDEX Do
SET R50200               ; INDEX Do
CON
SET @MR1000              ; INDEX HOME START
STG @MR1000              ; INDEX HOME START
AND @MR015               ; IND1 Pause&Err Nothing
RES MR1005               ; INDEX 近回り宣言
CON
ZRES MR6010 MR6100       ; 1ST ｸﾗﾝﾌﾟ閉じ  2ST ｸﾗﾝﾌﾟ開き
CON
SET @MR1001              ; INDEX During a Home 
CON
ZRES DM1000 DM1059       ; ST1 ﾜｰｸ有無(0=無)  ST1(回転後) 
CON
DW #2 DM608              ; 原点復帰時INDEX回転回数
CON
JMP @MR1002              ; 1002
STG @MR1002              ; 1002
AND @MR015               ; IND1 Pause&Err Nothing
AND R50003               ; HOME
RES MR1003               ; INDEX CW回転Fin
CON
RES R50407               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点灯
CON
SET R50406               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点滅
CON
AND R50105               ; ｽﾀｰﾄSW ON
RES R50406               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点滅
CON
SET R50408               ; ｽﾀｰﾄSWﾗﾝﾌﾟ 点灯
CON
JMP @MR1003              ; 1003
STG @MR1003              ; 1003
AND @MR015               ; IND1 Pause&Err Nothing
RES MR6804               ; INDEX位置決め 上昇
CON
SET MR6805               ; INDEX位置決め 下降
CON
JMP @MR1004              ; 1004
STG @MR1004              ; 1004
AND @MR015               ; IND1 Pause&Err Nothing
JMP @MR1005              ; 1005
STG @MR1005              ; 1005
AND @MR015               ; IND1 Pause&Err Nothing
RES MR6102               ; 治具ｴｱｰﾉｽﾞﾙ上昇
CON
AND R4001                ; 1ST 治具ｴｱﾉｽﾞﾙ 下降限
AND R4003                ; 2ST 治具ｴｱﾉｽﾞﾙ 下降限
AND R4009                ; INDEX位置決め 下降限
JMP @MR1006              ; 1006
STG @MR1006              ; 1006
TMH @6 #3
CON
AND @T6
MPS
AND @MR005               ; INDEX Cylinder OK
JMP @MR1100              ; 1100
MPP
ANB @MR005               ; INDEX Cylinder OK
SET @MR304               ; Err180 INDEX Err10
CON
JMP @MR1014              ; 1014
;Err180
STG @MR1014              ; 1014
AND @MR015               ; IND1 Pause&Err Nothing
AND @MR307               ; Err180 INDEX Err10 Release
JMP @MR1015              ; 1015
STG @MR1015              ; 1015
RES @MR307               ; Err180 INDEX Err10 Release
CON
JMP @MR1003              ; 1003
;
STG @MR1100              ; 1100
SET R50100               ; PACK INDEX
CON
JMP @MR1101              ; 1101
STG @MR1101              ; 1101
SET R50106               ; ﾐｭｰﾃｨﾝｸﾞﾘｾｯﾄ
CON
LD T722                  ; Index電源再投入ﾃﾞｨﾚｲ
OR R2105                 ; INDEX電源ON
ANL
MPS
AND @MR005               ; INDEX Cylinder OK
SET MR1000               ; INDEX原点復帰SUB
CON
JMP @MR1102              ; 1102
MPP
ANB @MR005               ; INDEX Cylinder OK
SET @MR304               ; Err180 INDEX Err10
CON
JMP @MR1014              ; 1014
STG @MR1102              ; 1102
AND MR1001               ; INDEX原点復帰完了
SET R50106               ; ﾐｭｰﾃｨﾝｸﾞﾘｾｯﾄ
CON
SET MR1013               ; INDEX原点復帰完了
CON
JMP @MR1103              ; 1103
STG @MR1103              ; 1103
RES MR1001               ; INDEX原点復帰完了
CON
RES R50408               ; ｽﾀｰﾄSWﾗﾝﾌﾟ 点灯
CON
RES R50100               ; PACK INDEX
CON
JMP @MR1300              ; Each ST Case Check
;
STG @MR1108              ; 1108
TMH @1 #20
CON
AND @T1
RES R50100               ; PACK INDEX
CON
JMP @MR1109              ; 1109
STG @MR1109              ; 1109
JMP @MR1200              ; 1200
;ケースチェック
;Check the Case
;UT1のﾜｰｸﾁｪｯｸﾌﾗｸﾞ
;UT1 Work Check Flag
LDB R4100                ; 1ST ﾜﾜｰｸ検出　  ON=有
AND R4101                ; 1ST ﾜｰｸ浮き検出1(内側)
AND R4102                ; 1ST ﾜｰｸ浮き検出2(外側)
OUT @MR010               ; ST1 Case Nothing
;
STG @MR1200              ; 1200
AND @MR015               ; IND1 Pause&Err Nothing
SET MR6102               ; 治具ｴｱｰﾉｽﾞﾙ上昇
CON
AND R4000                ; 1ST 治具ｴｱﾉｽﾞﾙ 上昇限
AND R4002                ; 2ST 治具ｴｱﾉｽﾞﾙ 上昇限
JMP @MR1201              ; On the INDEX Case Nothing
STG @MR1201              ; On the INDEX Case Nothing
AND @MR015               ; IND1 Pause&Err Nothing
MPS
AND @MR010               ; ST1 Case Nothing
MPS
AND<=.S DM608 +0         ; 原点復帰時INDEX回転回数
JMP @MR1202              ; 1202
MPP
AND>.S DM608 +0          ; 原点復帰時INDEX回転回数
RES R50100               ; PACK INDEX
CON
JMP @MR1300              ; Each ST Case Check
MPP
ANB @MR010               ; ST1 Case Nothing
TMH @2 #5
CON
AND @T2
RES MR6010               ; 1ST ｸﾗﾝﾌﾟ閉じ
CON
SET MR6012               ; 1ST ｸﾗﾝﾌﾟ開き
CON
SET @MR108               ; Err173 INDEX Err3
CON
JMP @MR1208              ; ST1 Case Exist
STG @MR1202              ; 1202
SET MR6012               ; 1ST ｸﾗﾝﾌﾟ開き
CON
RES MR1003               ; INDEX CW回転Fin
CON
JMP @MR1203              ; 1203
STG @MR1203              ; 1203
SET R50513               ; 治具原点復帰完了
CON
RES @MR1001              ; INDEX During a Home 
CON
SET R50410               ; INDEX 1ｻｲｸﾙ完了
CON
ENDS
;INDEX ST1ワーク残り　エラー解除・除材
STG @MR1208              ; ST1 Case Exist
AND @MR111               ; Err173 INDEX Err3 Release
JMP @MR1209              ; 2301
STG @MR1209              ; 2301
RES MR6012               ; 1ST ｸﾗﾝﾌﾟ開き
CON
RES @MR111               ; Err173 INDEX Err3 Release
CON
JMP @MR1108              ; 1108
;INDEX ワーク残りの為､INDEX回転
STG @MR1300              ; Each ST Case Check
SET @MR2200              ; Case Floting Check
CON
JMP @MR1301              ; 1301
STG @MR1301              ; 1301
AND @MR2215              ; Case Floting Check Fin
SET R50406               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点滅
CON
RES @MR2215              ; Case Floting Check Fin
CON
JMP @MR1303              ; 1303
STG @MR1303              ; 1303
AND @MR015               ; IND1 Pause&Err Nothing
AND R50105               ; ｽﾀｰﾄSW ON
RES R50406               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点滅
CON
JMP @MR1304
STG @MR1304
AND @MR015               ; IND1 Pause&Err Nothing
TMH @9 #10
CON
AND @T9
RES MR6102               ; 治具ｴｱｰﾉｽﾞﾙ上昇
CON
AND R4001                ; 1ST 治具ｴｱﾉｽﾞﾙ 下降限
AND R4003                ; 2ST 治具ｴｱﾉｽﾞﾙ 下降限
JMP @MR1305
STG @MR1305
MPS
AND @MR005               ; INDEX Cylinder OK
SET R50100               ; PACK INDEX
CON
JMP @MR1400              ; 1400
MPP
ANB @MR005               ; INDEX Cylinder OK
SET @MR304               ; Err180 INDEX Err10
CON
JMP @MR1308              ; 1308
;Err180
STG @MR1308              ; 1308
AND @MR015               ; IND1 Pause&Err Nothing
AND @MR307               ; Err180 INDEX Err10 Release
JMP @MR1309              ; 1309
STG @MR1309              ; 1309
RES @MR307               ; Err180 INDEX Err10 Release
CON
JMP @MR1300              ; Each ST Case Check
;
STG @MR1400              ; 1400
SET MR1002               ; INDEX 180°CW回転SUB
CON
SET R50106               ; ﾐｭｰﾃｨﾝｸﾞﾘｾｯﾄ
CON
SET R50408               ; ｽﾀｰﾄSWﾗﾝﾌﾟ 点灯
CON
JMP @MR1401              ; 1401
STG @MR1401              ; 1401
MPS
LDB MR1010               ; ﾗｲﾄｶｰﾃﾝ遮光
AND MR1003               ; INDEX CW回転Fin
ANL
DEC DM608                ; 原点復帰時INDEX回転回数
CON
JMP @MR1402
MPP
AND MR1010               ; ﾗｲﾄｶｰﾃﾝ遮光
JMP @MR2800              ; Light curtain shade in rotating 
;ﾗｲﾄｶｰﾃﾝ遮光時処理
;Light Curtain shade process
STG @MR2800              ; Light curtain shade in rotating 
AND R50300               ; Pause
ANB R50105               ; ｽﾀｰﾄSW ON
RES R50408               ; ｽﾀｰﾄSWﾗﾝﾌﾟ 点灯
CON
RES R50100               ; PACK INDEX
CON
JMP @MR2801
STG @MR2801
AND @MR015               ; IND1 Pause&Err Nothing
SET R50406               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点滅
CON
AND R50105               ; ｽﾀｰﾄSW ON
JMP @MR2802
STG @MR2802
SET R50100               ; PACK INDEX
CON
RES R50406               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点滅
CON
SET R50106               ; ﾐｭｰﾃｨﾝｸﾞﾘｾｯﾄ
CON
JMP @MR1304
;
STG @MR1402
RES R50408               ; ｽﾀｰﾄSWﾗﾝﾌﾟ 点灯
CON
RES MR1003               ; INDEX CW回転Fin
CON
JMP @MR1108              ; 1108
;<h1/>自動運転
;AUTO OERATION
LD R50001                ; AUTO
ANB R50200               ; INDEX Do
ANB @MR1500              ; INDEX AUTO
SET R50200               ; INDEX Do
CON
SET @MR1500              ; INDEX AUTO
LDB LR41100              ; AUTO-0    Normal
ANB LR41101              ; AUTO-1 ｲﾝｸ選択1
ANB LR41102              ; AUTO-2 ｲﾝｸ選択2
ANB LR41103              ; AUTO-3 ｲﾝｸ選択3
ANB LR41104              ; AUTO-4 ｲﾝｸ選択4
ANB LR41105              ; AUTO-4 ｲﾝｸ選択1-3
ANB LR41106              ; AUTO-6
ANB LR41107              ; AUTO-7 背面sw有効
ANB LR41108              ; AUTO-8
OUB @MR013               ; INDEX AUTO Parameter OK
;AUTO Operation Parameter No? / auto動作Ｎｏ．は？
STG @MR1500              ; INDEX AUTO
AND @MR015               ; IND1 Pause&Err Nothing
MPS
AND @MR013               ; INDEX AUTO Parameter OK
JMP @MR1502              ; 4010
MPP
ANB @MR013               ; INDEX AUTO Parameter OK
JMP @MR1501              ; 4003
;動作パラメーター設定不良
;Parameter Set NG
STG @MR1501              ; 4003
SET R50009               ; HOLDRQ
CON
SET R50410               ; INDEX 1ｻｲｸﾙ完了
CON
ENDS
;
STG @MR1502              ; 4010
AND @MR015               ; IND1 Pause&Err Nothing
AND R1201                ; ﾗｲﾄｶｰﾃﾝ
SET MR1011               ; INDEX監視
CON
SET R50106               ; ﾐｭｰﾃｨﾝｸﾞﾘｾｯﾄ
CON
JMP @MR1503
STG @MR1503
AND @MR015               ; IND1 Pause&Err Nothing
RES MR6010               ; 1ST ｸﾗﾝﾌﾟ閉じ
CON
RES MR6012               ; 1ST ｸﾗﾝﾌﾟ開き
CON
RES MR6014               ; 2ST ｸﾗﾝﾌﾟ閉じ
CON
RES MR6100               ; 2ST ｸﾗﾝﾌﾟ開き
CON
RES MR6804               ; INDEX位置決め 上昇
CON
SET MR6805               ; INDEX位置決め 下降
CON
JMP @MR1504              ; 4007
STG @MR1504              ; 4007
AND @MR015               ; IND1 Pause&Err Nothing
SET @MR2200              ; Case Floting Check
CON
JMP @MR1505              ; 4008
STG @MR1505              ; 4008
AND @MR015               ; IND1 Pause&Err Nothing
RES MR6102               ; 治具ｴｱｰﾉｽﾞﾙ上昇
CON
AND R4001                ; 1ST 治具ｴｱﾉｽﾞﾙ 下降限
AND R4003                ; 2ST 治具ｴｱﾉｽﾞﾙ 下降限
AND R4009                ; INDEX位置決め 下降限
JMP @MR1506              ; 4009
STG @MR1506              ; 4009
AND @MR015               ; IND1 Pause&Err Nothing
AND @MR2215              ; Case Floting Check Fin
RES @MR2215              ; Case Floting Check Fin
CON
JMP @MR1507
STG @MR1507
AND @MR015               ; IND1 Pause&Err Nothing
MPS
AND @MR005               ; INDEX Cylinder OK
JMP @MR1600              ; 4011
MPP
ANB @MR005               ; INDEX Cylinder OK
SET @MR304               ; Err180 INDEX Err10
CON
JMP @MR1508              ; 6908
;Err180 Release
STG @MR1508              ; 6908
AND @MR015               ; IND1 Pause&Err Nothing
AND @MR307               ; Err180 INDEX Err10 Release
JMP @MR1509              ; 6909
STG @MR1509              ; 6909
RES @MR307               ; Err180 INDEX Err10 Release
CON
JMP @MR1502              ; 4010
;
STG @MR1600              ; 4011
AND @MR015               ; IND1 Pause&Err Nothing
SET R50100               ; PACK INDEX
CON
SET R50106               ; ﾐｭｰﾃｨﾝｸﾞﾘｾｯﾄ
CON
JMP @MR1601              ; 4012
STG @MR1601              ; 4012
JMP @MR1602              ; 4013
STG @MR1602              ; 4013
MPS
AND @MR005               ; INDEX Cylinder OK
JMP @MR1605              ; 4014
MPP
ANB @MR005               ; INDEX Cylinder OK
SET @MR304               ; Err180 INDEX Err10
CON
JMP @MR1603
;Err180
STG @MR1603
AND @MR015               ; IND1 Pause&Err Nothing
AND @MR307               ; Err180 INDEX Err10 Release
JMP @MR1604
STG @MR1604
RES @MR307               ; Err180 INDEX Err10 Release
CON
JMP @MR1600              ; 4011
;
STG @MR1605              ; 4014
SET MR1002               ; INDEX 180°CW回転SUB
CON
JMP @MR1606
STG @MR1606
MPS
LDB MR1010               ; ﾗｲﾄｶｰﾃﾝ遮光
AND MR1003               ; INDEX CW回転Fin
ANL
JMP @MR1700              ; 4100
MPP
AND MR1010               ; ﾗｲﾄｶｰﾃﾝ遮光
JMP @MR1608              ; Light curtain shade in rotating 
;ﾗｲﾄｶｰﾃﾝ遮光時処理
;Light Curtain shade process
STG @MR1608              ; Light curtain shade in rotating 
AND R50300               ; Pause
ANB R50105               ; ｽﾀｰﾄSW ON
RES R50408               ; ｽﾀｰﾄSWﾗﾝﾌﾟ 点灯
CON
RES R50100               ; PACK INDEX
CON
JMP @MR1609              ; 1609
STG @MR1609              ; 1609
AND @MR015               ; IND1 Pause&Err Nothing
RES R50407               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点灯
CON
SET R50406               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点滅
CON
AND R50105               ; ｽﾀｰﾄSW ON
JMP @MR1610              ; 1610
STG @MR1610              ; 1610
SET R50100               ; PACK INDEX
CON
RES R50406               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点滅
CON
SET R50106               ; ﾐｭｰﾃｨﾝｸﾞﾘｾｯﾄ
CON
SET R50408               ; ｽﾀｰﾄSWﾗﾝﾌﾟ 点灯
CON
JMP @MR1507
;
STG @MR1700              ; 4100
RES R50408               ; ｽﾀｰﾄSWﾗﾝﾌﾟ 点灯
CON
RES MR1003               ; INDEX CW回転Fin
CON
JMP @MR1701              ; 4101
STG @MR1701              ; 4101
TMH @7 #5
CON
AND @T7
RES R50100               ; PACK INDEX
CON
AND R1106                ; INDEX Alarm1 正常=ON
AND R1107                ; INDEX Alarm2 正常=ON
JMP @MR1702              ; 4102
STG @MR1702              ; 4102
AND @MR015               ; IND1 Pause&Err Nothing
SET MR6102               ; 治具ｴｱｰﾉｽﾞﾙ上昇
CON
AND R4000                ; 1ST 治具ｴｱﾉｽﾞﾙ 上昇限
AND R4002                ; 2ST 治具ｴｱﾉｽﾞﾙ 上昇限
JMP @MR1703
;回転後ﾜｰｸ確認
;Case check after rotation
STG @MR1703
MPS
LD= DM1040 #0            ; ST1(回転後) ﾜｰｸ有無(0=無)
ANB R4100                ; 1ST ﾜﾜｰｸ検出　  ON=有
LD<> DM1040 #0           ; ST1(回転後) ﾜｰｸ有無(0=無)
AND R4100                ; 1ST ﾜﾜｰｸ検出　  ON=有
ORL
LD= DM1020 #0            ; ST2 ﾜｰｸ有無(0=無)
ANB R4106                ; 2ST ﾜﾜｰｸ検出　  ON=有
LD<> DM1020 #0           ; ST2 ﾜｰｸ有無(0=無)
AND R4106                ; 2ST ﾜﾜｰｸ検出　  ON=有
ORL
ANL
ANL
JMP @MR1707
MPP
TMR @4 #10
CON
AND @T4
JMP @MR1704
STG @MR1704
AND @MR015               ; IND1 Pause&Err Nothing
MPS
LD= DM1040 #0            ; ST1(回転後) ﾜｰｸ有無(0=無)
AND R4100                ; 1ST ﾜﾜｰｸ検出　  ON=有
ANL
SET @MR101               ; ST1 Case error
CON
SET @MR212               ; ×Err178 INDEX Err8
CON
JMP @MR1706
MRD
LD<> DM1040 #0           ; ST1(回転後) ﾜｰｸ有無(0=無)
ANB R4100                ; 1ST ﾜﾜｰｸ検出　  ON=有
ANL
SET @MR101               ; ST1 Case error
CON
SET @MR208               ; Err177 INDEX Err7
CON
JMP @MR1705
MPP
LD= DM1040 #0            ; ST1(回転後) ﾜｰｸ有無(0=無)
ANB R4100                ; 1ST ﾜﾜｰｸ検出　  ON=有
LD<> DM1040 #0           ; ST1(回転後) ﾜｰｸ有無(0=無)
AND R4100                ; 1ST ﾜﾜｰｸ検出　  ON=有
ORL
ANL
MPS
LD= DM1020 #0            ; ST2 ﾜｰｸ有無(0=無)
ANB R4106                ; 2ST ﾜﾜｰｸ検出　  ON=有
ANL
SET @MR212               ; ×Err178 INDEX Err8
CON
JMP @MR1706
MPP
LD<> DM1020 #0           ; ST2 ﾜｰｸ有無(0=無)
AND R4106                ; 2ST ﾜﾜｰｸ検出　  ON=有
ANL
SET @MR208               ; Err177 INDEX Err7
CON
JMP @MR1705
STG @MR1705
AND @MR211               ; Err177 INDEX Err7 Release
RES @MR211               ; Err177 INDEX Err7 Release
CON
JMP @MR1703
STG @MR1706
AND @MR215               ; ×Err178 INDEX Err8 Release
RES @MR215               ; ×Err178 INDEX Err8 Release
CON
JMP @MR1703
;1STﾜｰｸ NG確認
;1ST case NG check
STG @MR1707
AND @MR015               ; IND1 Pause&Err Nothing
MPS
LDB R4100                ; 1ST ﾜﾜｰｸ検出　  ON=有
AND R4101                ; 1ST ﾜｰｸ浮き検出1(内側)
AND R4102                ; 1ST ﾜｰｸ浮き検出2(外側)
ANL
DW #0 DM1040             ; ST1(回転後) ﾜｰｸ有無(0=無)
CON
JMP @MR1800              ; ST1 Case Check Fin
MPP
LD R4100                 ; 1ST ﾜﾜｰｸ検出　  ON=有
ORB R4101                ; 1ST ﾜｰｸ浮き検出1(内側)
ORB R4102                ; 1ST ﾜｰｸ浮き検出2(外側)
ANL
MPS
AND= DM1045 #0           ; ST1(回転後) NGﾜｰｸ 0=OK
JMP @MR1800              ; ST1 Case Check Fin
MPP
AND<> DM1045 #0          ; ST1(回転後) NGﾜｰｸ 0=OK
RES MR6010               ; 1ST ｸﾗﾝﾌﾟ閉じ
CON
SET MR6012               ; 1ST ｸﾗﾝﾌﾟ開き
CON
SET @MR112               ; Err174 INDEX Err4
CON
JMP @MR1708              ; 2109
;ＩＮＤＥＸ　ＵＴ１到着ワーク不良品 エラー・除材
STG @MR1708              ; 2109
MPS
TMH @8 #20
CON
AND @T8
AND @MR115               ; Err174 INDEX Err4 Release
RES @MR115               ; Err174 INDEX Err4 Release
CON
JMP @MR1707
MPP
AND T401                 ; 1ST ｸﾗﾝﾌﾟ開き OK
RES MR2202               ; ｴﾘｱｾﾝｻｰ監視中
;動作終了
STG @MR1800              ; ST1 Case Check Fin
AND @MR015               ; IND1 Pause&Err Nothing
SET MR6102               ; 治具ｴｱｰﾉｽﾞﾙ上昇
CON
AND R4000                ; 1ST 治具ｴｱﾉｽﾞﾙ 上昇限
AND R4002                ; 2ST 治具ｴｱﾉｽﾞﾙ 上昇限
JMP @MR1801              ; 4111
STG @MR1801              ; 4111
AND @MR015               ; IND1 Pause&Err Nothing
JMP @MR1802              ; 4112
STG @MR1802              ; 4112
AND @MR015               ; IND1 Pause&Err Nothing
TMH @17 #2
CON
AND @T17
RES R50407               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点灯
CON
RES R50406               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点滅
CON
SET R50410               ; INDEX 1ｻｲｸﾙ完了
CON
ENDS
;サブルーチン
;Subroutine
;INDEX 原点復帰動作
;INDEX HOME
;The starting point return of an index is program No.5.  
;By 4 division specification, it moves to a starting point position by the shortest. 
;/ ｲﾝﾃﾞｯｸｽの原点復帰は、ﾌﾟﾛｸﾞﾗﾑNo.５　4分割指定で、近周りで原点位置へ移動する
STG MR1000               ; INDEX原点復帰SUB
SET MR2110               ; INDEX    非常停止
CON
TMH @3 #15
CON
AND @T3
SET MR2105               ; INDEX電源ON
CON
JMP @MR2000              ; 6003
STG @MR2000              ; 6003
AND R2105                ; INDEX電源ON
SET MR2107               ; INDEXﾘｾｯﾄ
CON
JMP @MR2001              ; 6004
STG @MR2001              ; 6004
AND R1106                ; INDEX Alarm1 正常=ON
AND R1107                ; INDEX Alarm2 正常=ON
RES MR2107               ; INDEXﾘｾｯﾄ
CON
JMP @MR2002              ; 6005
STG @MR2002              ; 6005
AND R1105                ; INDEX起動待ち
RES MR2112               ; INDEXﾌﾟﾛｸﾞﾗﾑ 0bit
CON
SET MR2113               ; INDEXﾌﾟﾛｸﾞﾗﾑ 1bit
CON
SET MR2114               ; INDEXﾌﾟﾛｸﾞﾗﾑ 2bit
CON
TMH @12 #10
CON
AND @T12
SET MR2106               ; INDEXﾌﾟﾛｸﾞﾗﾑ 1桁
CON
JMP @MR2003              ; 6006
STG @MR2003              ; 6006
TMH @13 #10
CON
AND @T13
SET R50205               ; INDEX回転中（SET/RST）
CON
SET MR2108               ; INDEXｽﾀｰﾄ
CON
ANB R1105                ; INDEX起動待ち
JMP @MR2004              ; 6007
STG @MR2004              ; 6007
RES MR2106               ; INDEXﾌﾟﾛｸﾞﾗﾑ 1桁
CON
RES MR2108               ; INDEXｽﾀｰﾄ
CON
ZRES MR2112 MR2115       ; INDEXﾌﾟﾛｸﾞﾗﾑ 0bit  IDX ﾌﾟﾛｸﾞﾗﾑNo. 3bit
CON
AND R1104                ; INDEX位置決め完了
SET MR2109               ; INDEXｱﾝｻ
CON
JMP @MR2005
STG @MR2005
ANB R1104                ; INDEX位置決め完了
RES MR2109               ; INDEXｱﾝｻ
CON
RES R50205               ; INDEX回転中（SET/RST）
CON
DW #0 DM609              ; INDEX位置記憶
CON
JMP @MR2006
STG @MR2006
SET MR1001               ; INDEX原点復帰完了
CON
ENDS
;<h1/>INDEX回転ｻﾌﾞﾙｰﾁﾝ
;180 degrees positive rotation of an index chooses program No.0 and 1 in order, and starts it. 
;By 2 division specification, it moves to the following position of 2 positions. 
;If movement is completed, the following specification will be written in DM. 
; / ｲﾝﾃﾞｯｸｽの180度正回転は、ﾌﾟﾛｸﾞﾗﾑNo．０から１を順に選択し起動する
;2分割指定で、2位置の次位置へ移動する、移動が完了したらDMに次の指定を書込む
LD MR1011                ; INDEX監視
AND MR1010               ; ﾗｲﾄｶｰﾃﾝ遮光
RES MR1011               ; INDEX監視
CON
RES MR2108               ; INDEXｽﾀｰﾄ
CON
RES MR2109               ; INDEXｱﾝｻ
CON
RES MR2106               ; INDEXﾌﾟﾛｸﾞﾗﾑ 1桁
CON
ZRES MR2112 MR2115       ; INDEXﾌﾟﾛｸﾞﾗﾑ 0bit  IDX ﾌﾟﾛｸﾞﾗﾑNo. 3bit
CON
RES MR1002               ; INDEX 180°CW回転SUB
CON
ZRES @MR2100 @MR2115     ; INDEX CW Rotaition
STG MR1002               ; INDEX 180°CW回転SUB
SET MR1011               ; INDEX監視
CON
ANB MR1010               ; ﾗｲﾄｶｰﾃﾝ遮光
SET MR2110               ; INDEX    非常停止
CON
JMP @MR2100              ; INDEX CW Rotaition
STG @MR2100              ; INDEX CW Rotaition
AND R1105                ; INDEX起動待ち
MPS
AND= DM609 #0            ; INDEX位置記憶
MPS
ANB MR1005               ; INDEX 近回り宣言
SET MR2112               ; INDEXﾌﾟﾛｸﾞﾗﾑ 0bit
CON
RES MR2113               ; INDEXﾌﾟﾛｸﾞﾗﾑ 1bit
CON
RES MR2114               ; INDEXﾌﾟﾛｸﾞﾗﾑ 2bit
CON
JMP @MR2101              ; 6103
MPP
AND MR1005               ; INDEX 近回り宣言
SET MR2112               ; INDEXﾌﾟﾛｸﾞﾗﾑ 0bit
CON
SET MR2113               ; INDEXﾌﾟﾛｸﾞﾗﾑ 1bit
CON
RES MR2114               ; INDEXﾌﾟﾛｸﾞﾗﾑ 2bit
CON
JMP @MR2101              ; 6103
MPP
AND= DM609 #1            ; INDEX位置記憶
MPS
ANB MR1005               ; INDEX 近回り宣言
RES MR2112               ; INDEXﾌﾟﾛｸﾞﾗﾑ 0bit
CON
RES MR2113               ; INDEXﾌﾟﾛｸﾞﾗﾑ 1bit
CON
RES MR2114               ; INDEXﾌﾟﾛｸﾞﾗﾑ 2bit
CON
JMP @MR2101              ; 6103
MPP
AND MR1005               ; INDEX 近回り宣言
RES MR2112               ; INDEXﾌﾟﾛｸﾞﾗﾑ 0bit
CON
SET MR2113               ; INDEXﾌﾟﾛｸﾞﾗﾑ 1bit
CON
RES MR2114               ; INDEXﾌﾟﾛｸﾞﾗﾑ 2bit
CON
JMP @MR2101              ; 6103
STG @MR2101              ; 6103
TMH @14 #3
CON
AND @T14
SET MR2106               ; INDEXﾌﾟﾛｸﾞﾗﾑ 1桁
CON
JMP @MR2102              ; 6104
STG @MR2102              ; 6104
TMH @15 #3
CON
AND @T15
SET R50205               ; INDEX回転中（SET/RST）
CON
SET MR2108               ; INDEXｽﾀｰﾄ
CON
JMP @MR2103              ; 6200
STG @MR2103              ; 6200
ANB R1105                ; INDEX起動待ち
RES MR2106               ; INDEXﾌﾟﾛｸﾞﾗﾑ 1桁
CON
RES MR2108               ; INDEXｽﾀｰﾄ
CON
ZRES MR2112 MR2115       ; INDEXﾌﾟﾛｸﾞﾗﾑ 0bit  IDX ﾌﾟﾛｸﾞﾗﾑNo. 3bit
CON
JMP @MR2104              ; 6201
STG @MR2104              ; 6201
AND R1104                ; INDEX位置決め完了
SET MR2109               ; INDEXｱﾝｻ
CON
JMP @MR2105              ; 6202
STG @MR2105              ; 6202
ANB R1104                ; INDEX位置決め完了
RES MR2109               ; INDEXｱﾝｻ
CON
RES R50205               ; INDEX回転中（SET/RST）
CON
JMP @MR2106
STG @MR2106
SET MR6102               ; 治具ｴｱｰﾉｽﾞﾙ上昇
CON
JMP @MR2107
STG @MR2107
AND R50006               ; ﾐｭｰﾃｨﾝｸﾞ中
RES MR1011               ; INDEX監視
CON
MPS
AND<= DM609 #0           ; INDEX位置記憶
JMP @MR2108              ; 6204
MPP
AND>= DM609 #1           ; INDEX位置記憶
JMP @MR2109              ; 6205
STG @MR2108              ; 6204
INC DM609                ; INDEX位置記憶
CON
JMP @MR2110              ; 6206
STG @MR2109              ; 6205
DW #0 DM609              ; INDEX位置記憶
CON
JMP @MR2110              ; 6206
STG @MR2110              ; 6206
MPS
RES MR1005               ; INDEX 近回り宣言
CON
SET MR1003               ; INDEX CW回転Fin
CON
ENDS
MPP
WSR DM1000 #40 #20       ; ST1 ﾜｰｸ有無(0=無)
;Floating check
;
STG @MR2200              ; Case Floting Check
MPS
LD R4101                 ; 1ST ﾜｰｸ浮き検出1(内側)
AND R4102                ; 1ST ﾜｰｸ浮き検出2(外側)
ANL
JMP @MR2201              ; 3101
MPP
LDB R4101                ; 1ST ﾜｰｸ浮き検出1(内側)
ORB R4102                ; 1ST ﾜｰｸ浮き検出2(外側)
ANL
SET @MR308               ; Err181 ST1 Cartridge Flowting
CON
JMP @MR2205
STG @MR2201              ; 3101
MPS
LD R4107                 ; 2ST ﾜｰｸ浮き検出1(内側)
AND R4108                ; 2ST ﾜｰｸ浮き検出2(外側)
ANL
JMP @MR2202              ; 3102
MPP
LDB R4107                ; 2ST ﾜｰｸ浮き検出1(内側)
ORB R4108                ; 2ST ﾜｰｸ浮き検出2(外側)
ANL
SET @MR400               ; Err182 ST2 Cartridge Flowting
CON
JMP @MR2207
STG @MR2202              ; 3102
SET @MR2215              ; Case Floting Check Fin
CON
ENDS
;Err181-184 Cartridge Flowting Detection Before turn
STG @MR2205
ANB R50110               ; Err INDEX
AND @MR311               ; Err181 Release
RES @MR311               ; Err181 Release
CON
JMP @MR2200              ; Case Floting Check
STG @MR2207
ANB R50110               ; Err INDEX
AND @MR403               ; Err182 Release
RES @MR403               ; Err182 Release
CON
JMP @MR2200              ; Case Floting Check
;
;<h1/>ｽﾃｯﾌﾟ運転
;STEP OERATION
LD R50002                ; STEP
ANB R50115               ; INDEX Do   (STEP)
AND LR40102              ; STEP 注入UT
AND LR40414              ; STEP INDEX回転
SET R50115               ; INDEX Do   (STEP)
CON
SET @MR2500              ; INDEX STEP START
LDB R50003               ; HOME
ANB R50001               ; AUTO
ANB R50002               ; STEP
LD @MR2501               ; INDEX STEP Fin
OR R50410                ; INDEX 1ｻｲｸﾙ完了
ANL
RES R50115               ; INDEX Do   (STEP)
CON
RES @MR2501              ; INDEX STEP Fin
;動作パラメーター確認
;No.0  180°正転
STG @MR2500              ; INDEX STEP START
ANB R50300               ; Pause
ANB R50110               ; Err INDEX
MPS
AND LR40414              ; STEP INDEX回転
JMP @MR2600              ; STEP
MPP
ANB LR40414              ; STEP INDEX回転
JMP @MR2502              ; Parameter No. NG
;動作パラメーター設定不良
STG @MR2502              ; Parameter No. NG
SET R50410               ; INDEX 1ｻｲｸﾙ完了
CON
ENDS
;STEP通常動作
STG @MR2600              ; STEP
AND @MR015               ; IND1 Pause&Err Nothing
ANB _UT1
ANB _UT3
SET @MR2200              ; Case Floting Check
CON
JMP @MR2601              ; 4608
STG @MR2601              ; 4608
AND @MR015               ; IND1 Pause&Err Nothing
AND @MR2215              ; Case Floting Check Fin
RES @MR2215              ; Case Floting Check Fin
CON
JMP @MR2602              ; 4800
STG @MR2602              ; 4800
AND @MR015               ; IND1 Pause&Err Nothing
RES R50407               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点灯
CON
SET R50406               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点滅
CON
AND R50105               ; ｽﾀｰﾄSW ON
SET R50106               ; ﾐｭｰﾃｨﾝｸﾞﾘｾｯﾄ
CON
SET R50407               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点灯
CON
RES R50406               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点滅
CON
JMP @MR2603
STG @MR2603
AND @MR015               ; IND1 Pause&Err Nothing
RES MR6012               ; 1ST ｸﾗﾝﾌﾟ開き
CON
RES MR6100               ; 2ST ｸﾗﾝﾌﾟ開き
CON
MPS
LD R4000                 ; 1ST 治具ｴｱﾉｽﾞﾙ 上昇限
AND R4002                ; 2ST 治具ｴｱﾉｽﾞﾙ 上昇限
ANL
SET MR6010               ; 1ST ｸﾗﾝﾌﾟ閉じ
CON
SET MR6014               ; 2ST ｸﾗﾝﾌﾟ閉じ
CON
JMP @MR2604
MPP
LDB R4000                ; 1ST 治具ｴｱﾉｽﾞﾙ 上昇限
ORB R4002                ; 2ST 治具ｴｱﾉｽﾞﾙ 上昇限
ANL
JMP @MR2605
STG @MR2604
TMH @20 #30
CON
AND @T20
JMP @MR2605
STG @MR2605
AND @MR015               ; IND1 Pause&Err Nothing
RES MR6010               ; 1ST ｸﾗﾝﾌﾟ閉じ
CON
RES MR6014               ; 2ST ｸﾗﾝﾌﾟ閉じ
CON
RES MR6102               ; 治具ｴｱｰﾉｽﾞﾙ上昇
CON
AND R4001                ; 1ST 治具ｴｱﾉｽﾞﾙ 下降限
AND R4003                ; 2ST 治具ｴｱﾉｽﾞﾙ 下降限
JMP @MR2606              ; 4704
STG @MR2606              ; 4704
AND @MR015               ; IND1 Pause&Err Nothing
MPS
AND @MR005               ; INDEX Cylinder OK
JMP @MR2700              ; 4702
MPP
ANB @MR005               ; INDEX Cylinder OK
SET @MR304               ; Err180 INDEX Err10
CON
JMP @MR2608              ; 4712
;Err180 Release
STG @MR2608              ; 4712
AND @MR015               ; IND1 Pause&Err Nothing
AND @MR307               ; Err180 INDEX Err10 Release
JMP @MR2609              ; 4713
STG @MR2609              ; 4713
RES @MR307               ; Err180 INDEX Err10 Release
CON
JMP @MR2606              ; 4704
;
STG @MR2700              ; 4702
SET R50100               ; PACK INDEX
CON
JMP @MR2701              ; 4703
STG @MR2701              ; 4703
MPS
AND @MR005               ; INDEX Cylinder OK
JMP @MR2706
MPP
ANB @MR005               ; INDEX Cylinder OK
SET @MR304               ; Err180 INDEX Err10
CON
JMP @MR2702
;Err180
STG @MR2702
AND @MR015               ; IND1 Pause&Err Nothing
AND @MR307               ; Err180 INDEX Err10 Release
JMP @MR2703
STG @MR2703
RES @MR307               ; Err180 INDEX Err10 Release
CON
JMP @MR2700              ; 4702
;
STG @MR2706
SET MR1002               ; INDEX 180°CW回転SUB
CON
JMP @MR2707
STG @MR2707
MPS
LDB MR1010               ; ﾗｲﾄｶｰﾃﾝ遮光
AND MR1003               ; INDEX CW回転Fin
ANL
JMP @MR2708              ; 4705
MPP
AND MR1010               ; ﾗｲﾄｶｰﾃﾝ遮光
JMP @MR2808              ; Light curtain shade in rotating 
;ﾗｲﾄｶｰﾃﾝ遮光時処理
;Light Curtain shade process
STG @MR2808              ; Light curtain shade in rotating 
AND R50300               ; Pause
ANB R50105               ; ｽﾀｰﾄSW ON
RES R50408               ; ｽﾀｰﾄSWﾗﾝﾌﾟ 点灯
CON
RES R50100               ; PACK INDEX
CON
JMP @MR2809
STG @MR2809
AND @MR015               ; IND1 Pause&Err Nothing
RES R50407               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点灯
CON
SET R50406               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点滅
CON
AND R50105               ; ｽﾀｰﾄSW ON
JMP @MR2810
STG @MR2810
SET R50100               ; PACK INDEX
CON
RES R50406               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点滅
CON
SET R50106               ; ﾐｭｰﾃｨﾝｸﾞﾘｾｯﾄ
CON
JMP @MR2602              ; 4800
;
STG @MR2708              ; 4705
RES MR1003               ; INDEX CW回転Fin
CON
JMP @MR2709              ; 4706
STG @MR2709              ; 4706
TMH @10 #20
CON
AND @T10
RES R50100               ; PACK INDEX
CON
AND R1106                ; INDEX Alarm1 正常=ON
AND R1107                ; INDEX Alarm2 正常=ON
JMP @MR2710              ; 4707
STG @MR2710              ; 4707
AND @MR015               ; IND1 Pause&Err Nothing
MPS
LDB R4100                ; 1ST ﾜﾜｰｸ検出　  ON=有
AND R4101                ; 1ST ﾜｰｸ浮き検出1(内側)
AND R4102                ; 1ST ﾜｰｸ浮き検出2(外側)
ANL
JMP @MR2714
MPP
LD R4100                 ; 1ST ﾜﾜｰｸ検出　  ON=有
ORB R4101                ; 1ST ﾜｰｸ浮き検出1(内側)
ORB R4102                ; 1ST ﾜｰｸ浮き検出2(外側)
ANL
MPS
AND= DM1045 #0           ; ST1(回転後) NGﾜｰｸ 0=OK
JMP @MR2714
MPP
AND<> DM1045 #0          ; ST1(回転後) NGﾜｰｸ 0=OK
SET MR6012               ; 1ST ｸﾗﾝﾌﾟ開き
CON
RES R50407               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点灯
CON
SET @MR112               ; Err174 INDEX Err4
CON
JMP @MR2711              ; 4709
;INDEX UT1到着ワーク不良品 エラー・除材
STG @MR2711              ; 4709
TMH @11 #10
CON
AND @T11
AND @MR115               ; Err174 INDEX Err4 Release
JMP @MR2712              ; 4710
STG @MR2712              ; 4710
SET R50407               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点灯
CON
RES @MR115               ; Err174 INDEX Err4 Release
CON
JMP @MR2709              ; 4706
;
STG @MR2714
AND @MR015               ; IND1 Pause&Err Nothing
SET MR6102               ; 治具ｴｱｰﾉｽﾞﾙ上昇
CON
AND R4000                ; 1ST 治具ｴｱﾉｽﾞﾙ 上昇限
AND R4002                ; 2ST 治具ｴｱﾉｽﾞﾙ 上昇限
JMP @MR2715              ; 4708
STG @MR2715              ; 4708
AND @MR015               ; IND1 Pause&Err Nothing
SET MR6012               ; 1ST ｸﾗﾝﾌﾟ開き
CON
RES R50407               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点灯
CON
RES R50406               ; ｽﾀｰﾄSWﾗﾝﾌﾟ点滅
CON
SET R50009               ; HOLDRQ
CON
SET R50410               ; INDEX 1ｻｲｸﾙ完了
CON
ENDS
;<h1/>Err
;Err173
;原点復帰時ﾜｰｸ有り
STG @MR108               ; Err173 INDEX Err3
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50110               ; Err INDEX
CON
JMP @MR109               ; 109
MOV #173 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR109               ; 109
AND R50008               ; Error
JMP @MR110               ; 110
STG @MR110               ; 110
ANB R50008               ; Error
SET @MR111               ; Err173 INDEX Err3 Release
CON
ENDS
;Error174-176
;到着ワーク不良・除材確認 / Arrival Work NG, Remove Check
STG @MR112               ; Err174 INDEX Err4
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50110               ; Err INDEX
CON
MPS
JMP @MR113               ; 113
MPP
AND= DM1045 #2           ; ST1(回転後) NGﾜｰｸ 0=OK
SET LR49914              ; ｴﾗｰﾘｾｯﾄｷｰ要求
CON
MOV #174 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR113               ; 113
AND R50008               ; Error
JMP @MR114               ; 114
STG @MR114               ; 114
ANB R50008               ; Error
SET @MR115               ; Err174 INDEX Err4 Release
CON
ENDS
;Error177,178
;ﾜｰｸ検出異常 / Work Detect is Abnormal
STG @MR208               ; Err177 INDEX Err7
ANB R50008               ; Error
SET R50008               ; Error
CON
JMP @MR209               ; 209
MPS
AND @MR101               ; ST1 Case error
SET R50111               ; Err ST1
MRD
ANB @MR101               ; ST1 Case error
SET R50112               ; Err ST2
MPP
MOV #177 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR209               ; 209
AND R50008               ; Error
JMP @MR210               ; 210
STG @MR210               ; 210
ANB R50008               ; Error
RES @MR101               ; ST1 Case error
CON
SET @MR211               ; Err177 INDEX Err7 Release
CON
ENDS
;Error177,178
;ﾜｰｸ検出異常 / Work Detect is Abnormal
STG @MR212               ; ×Err178 INDEX Err8
ANB R50008               ; Error
SET R50008               ; Error
CON
JMP @MR213               ; 213
MPS
AND @MR101               ; ST1 Case error
SET R50111               ; Err ST1
MRD
ANB @MR101               ; ST1 Case error
SET R50112               ; Err ST2
MPP
MOV #178 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR213               ; 213
AND R50008               ; Error
JMP @MR214               ; 214
STG @MR214               ; 214
ANB R50008               ; Error
RES @MR101               ; ST1 Case error
CON
SET @MR215               ; ×Err178 INDEX Err8 Release
CON
ENDS
;Error180
;INDEX 干渉ｼﾘﾝﾀﾞ有り
;INDEX interference CY Detect
STG @MR304               ; Err180 INDEX Err10
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50110               ; Err INDEX
CON
JMP @MR305               ; 305
MOV #180 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR305               ; 305
AND R50008               ; Error
JMP @MR306               ; 306
STG @MR306               ; 306
ANB R50008               ; Error
SET @MR307               ; Err180 INDEX Err10 Release
CON
ENDS
;Err181 ST1 Cartridge Flowting Detection Before turn
STG @MR308               ; Err181 ST1 Cartridge Flowting
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50111               ; Err ST1
CON
JMP @MR309               ; 309
MOV #181 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR309               ; 309
AND R50008               ; Error
JMP @MR310               ; 310
STG @MR310               ; 310
ANB R50008               ; Error
SET @MR311               ; Err181 Release
CON
ENDS
;Err182 ST2 Cartridge Flowting Detection Before turn
STG @MR400               ; Err182 ST2 Cartridge Flowting
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50112               ; Err ST2
CON
JMP @MR401               ; 401
MOV #182 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR401               ; 401
AND R50008               ; Error
JMP @MR402               ; 402
STG @MR402               ; 402
ANB R50008               ; Error
SET @MR403               ; Err182 Release
CON
ENDS
END
ENDH
