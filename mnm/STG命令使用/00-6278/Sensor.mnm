DEVICE:53
;MODULE:Sensor
;MODULE_TYPE:0
LD R50010                ; Emergency　Stop
ZRES @MR000 @MR2915      ; INDEX　　　異常発生中
LDB R50110               ; Err INDEX
ANB R50111               ; Err ST1
ANB R50112               ; Err ST2
ANB R50113               ; Err ST3
ANB R50114               ; Err ST4
OUT R50207               ; ｴﾗｰ無し
;<h1/>Cylinder error
;シリンダー動作確認
;確認方法としては
;電磁弁がＯＮしている時に、タイマー時間内に、対象センサーがＯＮしなければエラー
;
;Index
;Index シリンダーエラー総括
; UT1
LD R50004                ; TASKDO
ANB R50008               ; Error
ANB R50300               ; Pause
AND R50207               ; ｴﾗｰ無し
MC
LD R6102                 ; 治具ｴｱｰﾉｽﾞﾙ上昇
LDB R4000                ; 1ST 治具ｴｱﾉｽﾞﾙ 上昇限
LD R4000                 ; 1ST 治具ｴｱﾉｽﾞﾙ 上昇限
AND R4001                ; 1ST 治具ｴｱﾉｽﾞﾙ 下降限
ORL
ANL
TMR @0 #100              ; Cylinder error 4000
CON
AND @T0                  ; Cylinder error 4000
DW #4000 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4000               ; Cylinder Error 4000
LDB R6102                ; 治具ｴｱｰﾉｽﾞﾙ上昇
LDB R4001                ; 1ST 治具ｴｱﾉｽﾞﾙ 下降限
LD R4000                 ; 1ST 治具ｴｱﾉｽﾞﾙ 上昇限
AND R4001                ; 1ST 治具ｴｱﾉｽﾞﾙ 下降限
ORL
ANL
TMR @1 #100              ; Cylinder error 4001
CON
AND @T1                  ; Cylinder error 4001
DW #4001 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4001               ; Cylinder Error 4001
LD R6104                 ; ICﾌﾟﾛｰﾌﾞ　前進
LDB R4004                ; ICﾌﾟﾛｰﾌﾞ　前進限
LD R4004                 ; ICﾌﾟﾛｰﾌﾞ　前進限
AND R4005                ; ICﾌﾟﾛｰﾌﾞ　後退限
ORL
ANL
TMR @4 #100              ; Cylinder error 4004
CON
AND @T4                  ; Cylinder error 4004
DW #4004 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4004               ; Cylinder Error 4004
LDB R6104                ; ICﾌﾟﾛｰﾌﾞ　前進
LDB R4005                ; ICﾌﾟﾛｰﾌﾞ　後退限
LD R4004                 ; ICﾌﾟﾛｰﾌﾞ　前進限
AND R4005                ; ICﾌﾟﾛｰﾌﾞ　後退限
ORL
ANL
TMR @5 #100              ; Cylinder error 4005
CON
AND @T5                  ; Cylinder error 4005
DW #4005 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4005               ; Cylinder Error 4005
LD R6106                 ; ｹｰｽ浮き押さえ　前進
LDB R4006                ; ｹｰｽ浮き押さえ 前進限
LD R4006                 ; ｹｰｽ浮き押さえ 前進限
AND R4007                ; ｹｰｽ浮き押さえ 後退限
ORL
ANL
TMR @6 #100              ; Cylinder error 4006
CON
AND @T6                  ; Cylinder error 4006
DW #4006 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4006               ; Cylinder Error 4006
LD R6107                 ; ｹｰｽ浮き押さえ　後退
LDB R4007                ; ｹｰｽ浮き押さえ 後退限
LD R4006                 ; ｹｰｽ浮き押さえ 前進限
AND R4007                ; ｹｰｽ浮き押さえ 後退限
ORL
ANL
TMR @7 #100              ; Cylinder error 4007
CON
AND @T7                  ; Cylinder error 4007
DW #4007 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4007               ; Cylinder Error 4007
LD R6804                 ; INDEX位置決め 上昇
LDB R4008                ; INDEX位置決め 上昇限
LD R4008                 ; INDEX位置決め 上昇限
AND R4009                ; INDEX位置決め 下降限
ORL
ANL
TMR @8 #100              ; Cylinder error 4008
CON
AND @T8                  ; Cylinder error 4008
DW #4008 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4008               ; Cylinder Error 4008
LD R6805                 ; INDEX位置決め 下降
LDB R4009                ; INDEX位置決め 下降限
LD R4008                 ; INDEX位置決め 上昇限
AND R4009                ; INDEX位置決め 下降限
ORL
ANL
TMR @9 #100              ; Cylinder error 4009
CON
AND @T9                  ; Cylinder error 4009
DW #4009 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4009               ; Cylinder Error 4009
MCR
;UT1 シリンダーエラー総括
LD>= DM409 #4000         ; ｾﾝｻｰｴﾗｰ No.
AND<= DM409 #4001        ; ｾﾝｻｰｴﾗｰ No.
LD>= DM409 #4004         ; ｾﾝｻｰｴﾗｰ No.
AND<= DM409 #4015        ; ｾﾝｻｰｴﾗｰ No.
ORL
OUT R42200               ; ｼﾘﾝﾀﾞｰｴﾗｰ
LD R42200                ; ｼﾘﾝﾀﾞｰｴﾗｰ
ANB @MR500               ; UT1　　　　異常発生中
SET @MR500               ; UT1　　　　異常発生中
CON
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
SET @MR501
MOV #4 DM400             ; ﾒｯｾｰｼﾞNo.
STG @MR501
AND R50008               ; Error
JMP @MR502
STG @MR502
ANB R50008               ; Error
RES @MR500               ; UT1　　　　異常発生中
CON
DW #0 DM409              ; ｾﾝｻｰｴﾗｰ No.
CON
ZRES MR4000 MR5915       ; Cylinder Error 4000  Cylinder Error 5915
CON
ENDS
;UT2
;UT2 シリンダーエラー総括
;ＵＴ３
LD R50004                ; TASKDO
ANB R50008               ; Error
LDB R50300               ; Pause
OR MR15100               ; SubInfo ﾎﾟｰｽﾞ処理中
ANL
AND R50207               ; ｴﾗｰ無し
MC
LD R6102                 ; 治具ｴｱｰﾉｽﾞﾙ上昇
LDB R4002                ; 2ST 治具ｴｱﾉｽﾞﾙ 上昇限
LD R4002                 ; 2ST 治具ｴｱﾉｽﾞﾙ 上昇限
AND R4003                ; 2ST 治具ｴｱﾉｽﾞﾙ 下降限
ORL
ANL
TMR @2 #100              ; Cylinder error 4002
CON
AND @T2                  ; Cylinder error 4002
DW #4002 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4002               ; Cylinder Error 4002
LDB R6102                ; 治具ｴｱｰﾉｽﾞﾙ上昇
LDB R4003                ; 2ST 治具ｴｱﾉｽﾞﾙ 下降限
LD R4002                 ; 2ST 治具ｴｱﾉｽﾞﾙ 上昇限
AND R4003                ; 2ST 治具ｴｱﾉｽﾞﾙ 下降限
ORL
ANL
TMR @3 #100              ; Cylinder error 4003
CON
AND @T3                  ; Cylinder error 4003
DW #4003 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4003               ; Cylinder Error 4003
LD R6000                 ; 注入上下 下降
LDB R4200                ; 注入上下 下限
LD R4200                 ; 注入上下 下限
AND R4201                ; 注入上下 上限
ORL
ANL
TMR @32 #100             ; Cylinder error 4200
CON
AND @T32                 ; Cylinder error 4200
DW #4200 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4200               ; Cylinder Error 4200
LD R6001                 ; 注入上下 上昇
LDB R4201                ; 注入上下 上限
LD R4200                 ; 注入上下 下限
AND R4201                ; 注入上下 上限
ORL
ANL
TMR @33 #100             ; Cylinder error 4201
CON
AND @T33                 ; Cylinder error 4201
DW #4201 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4201               ; Cylinder Error 4201
LD R6002                 ; ﾍｯﾄﾞ1(Y) ﾛｯﾄﾞ 下降
LDB R4202                ; ﾍｯﾄﾞ1 真空引きﾛｯﾄﾞ　下限
LD R4202                 ; ﾍｯﾄﾞ1 真空引きﾛｯﾄﾞ　下限
AND R4203                ; ﾍｯﾄﾞ1 真空引きﾛｯﾄﾞ　上限
ORL
ANL
TMR @34 #100             ; Cylinder error 4202
CON
AND @T34                 ; Cylinder error 4202
DW #4202 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4202               ; Cylinder Error 4202
LDB R6002                ; ﾍｯﾄﾞ1(Y) ﾛｯﾄﾞ 下降
LDB R4203                ; ﾍｯﾄﾞ1 真空引きﾛｯﾄﾞ　上限
LD R4202                 ; ﾍｯﾄﾞ1 真空引きﾛｯﾄﾞ　下限
AND R4203                ; ﾍｯﾄﾞ1 真空引きﾛｯﾄﾞ　上限
ORL
ANL
TMR @35 #100             ; Cylinder error 4203
CON
AND @T35                 ; Cylinder error 4203
DW #4203 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4203               ; Cylinder Error 4203
LD R6004                 ; ﾍｯﾄﾞ2(M) ﾛｯﾄﾞ 下降
LDB R4204                ; ﾍｯﾄﾞ2 真空引きﾛｯﾄﾞ　下限
LD R4204                 ; ﾍｯﾄﾞ2 真空引きﾛｯﾄﾞ　下限
AND R4205                ; ﾍｯﾄﾞ2 真空引きﾛｯﾄﾞ　上限
ORL
ANL
TMR @36 #100             ; Cylinder error 4204
CON
AND @T36                 ; Cylinder error 4204
DW #4204 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4204               ; Cylinder Error 4204
LDB R6004                ; ﾍｯﾄﾞ2(M) ﾛｯﾄﾞ 下降
LDB R4205                ; ﾍｯﾄﾞ2 真空引きﾛｯﾄﾞ　上限
LD R4204                 ; ﾍｯﾄﾞ2 真空引きﾛｯﾄﾞ　下限
AND R4205                ; ﾍｯﾄﾞ2 真空引きﾛｯﾄﾞ　上限
ORL
ANL
TMR @37 #100             ; Cylinder error 4205
CON
AND @T37                 ; Cylinder error 4205
DW #4205 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4205               ; Cylinder Error 4205
LD R6006                 ; ﾍｯﾄﾞ3(C) ﾛｯﾄﾞ 下降
LDB R4206                ; ﾍｯﾄﾞ3 真空引きﾛｯﾄﾞ　下限
LD R4206                 ; ﾍｯﾄﾞ3 真空引きﾛｯﾄﾞ　下限
AND R4207                ; ﾍｯﾄﾞ3 真空引きﾛｯﾄﾞ　上限
ORL
ANL
TMR @38 #100             ; Cylinder error 4206
CON
AND @T38                 ; Cylinder error 4206
DW #4206 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4206               ; Cylinder Error 4206
LDB R6006                ; ﾍｯﾄﾞ3(C) ﾛｯﾄﾞ 下降
LDB R4207                ; ﾍｯﾄﾞ3 真空引きﾛｯﾄﾞ　上限
LD R4206                 ; ﾍｯﾄﾞ3 真空引きﾛｯﾄﾞ　下限
AND R4207                ; ﾍｯﾄﾞ3 真空引きﾛｯﾄﾞ　上限
ORL
ANL
TMR @39 #100             ; Cylinder error 4207
CON
AND @T39                 ; Cylinder error 4207
DW #4207 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4207               ; Cylinder Error 4207
LD R6008                 ; ﾍｯﾄﾞ4(B) ﾛｯﾄﾞ 下降
LDB R4208                ; ﾍｯﾄﾞ4 真空引きﾛｯﾄﾞ　下限
LD R4208                 ; ﾍｯﾄﾞ4 真空引きﾛｯﾄﾞ　下限
AND R4209                ; ﾍｯﾄﾞ4 真空引きﾛｯﾄﾞ　上限
ORL
ANL
TMR @40 #100             ; Cylinder error 4208
CON
AND @T40                 ; Cylinder error 4208
DW #4208 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4208               ; Cylinder Error 4208
LDB R6008                ; ﾍｯﾄﾞ4(B) ﾛｯﾄﾞ 下降
LDB R4209                ; ﾍｯﾄﾞ4 真空引きﾛｯﾄﾞ　上限
LD R4208                 ; ﾍｯﾄﾞ4 真空引きﾛｯﾄﾞ　下限
AND R4209                ; ﾍｯﾄﾞ4 真空引きﾛｯﾄﾞ　上限
ORL
ANL
TMR @41 #100             ; Cylinder error 4209
CON
AND @T41                 ; Cylinder error 4209
DW #4209 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4209               ; Cylinder Error 4209
MCR
LD R50004                ; TASKDO
ANB R50008               ; Error
LDB R50300               ; Pause
OR MR15100               ; SubInfo ﾎﾟｰｽﾞ処理中
ANL
AND R50207               ; ｴﾗｰ無し
ANB MR39911              ; ｻﾃﾗｲﾄ無し
MC
;4400
LD R6400                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 前進
LDB MR015                ; AP15 ON=中間/後退限入替あり
LDB R4400                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 前進限
LD R4400                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 前進限
AND R4402                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 後退限
ORL
ANL
LD MR015                 ; AP15 ON=中間/後退限入替あり
LDB R4401                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 中間限
LD R4401                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 中間限
AND R4402                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 後退限
ORL
ANL
ORL
ANL
TMR @64 #250             ; Cylinder error 4400
CON
AND @T64                 ; Cylinder error 4400
DW #4400 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4400               ; Cylinder Error 4400
LD R6401                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 後退
LDB MR015                ; AP15 ON=中間/後退限入替あり
LDB R4402                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 後退限
LD R4400                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 前進限
AND R4402                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 後退限
ORL
ANL
LD MR015                 ; AP15 ON=中間/後退限入替あり
LDB R4402                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 後退限
LD R4401                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 中間限
AND R4402                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ1 後退限
ORL
ANL
ORL
ANL
TMR @66 #250             ; Cylinder error 4402
CON
AND @T66                 ; Cylinder error 4402
DW #4402 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4402               ; Cylinder Error 4402
LD R6404                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 前進
LDB MR015                ; AP15 ON=中間/後退限入替あり
LDB R4403                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 前進限
LD R4403                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 前進限
AND R4405                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 後退限
ORL
ANL
LD MR015                 ; AP15 ON=中間/後退限入替あり
LDB R4404                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 中間限
LD R4404                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 中間限
AND R4405                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 後退限
ORL
ANL
ORL
ANL
TMR @67 #250             ; Cylinder error 4403
CON
AND @T67                 ; Cylinder error 4403
DW #4403 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4403               ; Cylinder Error 4403
LD R6405                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 後退
LDB MR015                ; AP15 ON=中間/後退限入替あり
LDB R4405                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 後退限
LD R4403                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 前進限
AND R4405                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 後退限
ORL
ANL
LD MR015                 ; AP15 ON=中間/後退限入替あり
LDB R4405                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 後退限
LD R4404                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 中間限
AND R4405                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ2 後退限
ORL
ANL
ORL
ANL
TMR @69 #250             ; Cylinder error 4405
CON
AND @T69                 ; Cylinder error 4405
DW #4405 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4405               ; Cylinder Error 4405
LD R6408                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 前進
LDB MR015                ; AP15 ON=中間/後退限入替あり
LDB R4406                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 前進限
LD R4406                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 前進限
AND R4408                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 後退限
ORL
ANL
LD MR015                 ; AP15 ON=中間/後退限入替あり
LDB R4407                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 中間限
LD R4407                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 中間限
AND R4408                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 後退限
ORL
ANL
ORL
ANL
TMR @70 #250             ; Cylinder error 4406
CON
AND @T70                 ; Cylinder error 4406
DW #4406 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4406               ; Cylinder Error 4406
LD R6409                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 後退
LDB MR015                ; AP15 ON=中間/後退限入替あり
LDB R4408                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 後退限
LD R4406                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 前進限
AND R4408                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 後退限
ORL
ANL
LD MR015                 ; AP15 ON=中間/後退限入替あり
LDB R4408                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 後退限
LD R4407                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 中間限
AND R4408                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ3 後退限
ORL
ANL
ORL
ANL
TMR @72 #250             ; Cylinder error 4408
CON
AND @T72                 ; Cylinder error 4408
DW #4408 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4408               ; Cylinder Error 4408
LD R6412                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 前進
LDB MR015                ; AP15 ON=中間/後退限入替あり
LDB R4409                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 前進限
LD R4409                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 前進限
AND R4411                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 後退限
ORL
ANL
LD MR015                 ; AP15 ON=中間/後退限入替あり
LDB R4410                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 中間限
LD R4410                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 中間限
AND R4411                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 後退限
ORL
ANL
ORL
ANL
TMR @73 #250             ; Cylinder error 4409
CON
AND @T73                 ; Cylinder error 4409
DW #4409 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4409               ; Cylinder Error 4409
LD R6413                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 後退
LDB MR015                ; AP15 ON=中間/後退限入替あり
LDB R4411                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 後退限
LD R4409                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 前進限
AND R4411                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 後退限
ORL
ANL
LD MR015                 ; AP15 ON=中間/後退限入替あり
LDB R4411                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 後退限
LD R4410                 ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 中間限
AND R4411                ; ﾌﾟﾗﾝｼﾞｬｰﾎﾟﾝﾌﾟ4 後退限
ORL
ANL
ORL
ANL
TMR @75 #250             ; Cylinder error 4411
CON
AND @T75                 ; Cylinder error 4411
DW #4411 DM409           ; ｾﾝｻｰｴﾗｰ No.
CON
SET MR4411               ; Cylinder Error 4411
MCR
;ＵＴ３　シリンダーエラー総括
LD>= DM409 #4002         ; ｾﾝｻｰｴﾗｰ No.
AND<= DM409 #4003        ; ｾﾝｻｰｴﾗｰ No.
LD>= DM409 #4200         ; ｾﾝｻｰｴﾗｰ No.
AND<= DM409 #4415        ; ｾﾝｻｰｴﾗｰ No.
ORL
OUT R42200               ; ｼﾘﾝﾀﾞｰｴﾗｰ
LD R42200                ; ｼﾘﾝﾀﾞｰｴﾗｰ
ANB @MR1500              ; UT3　　　異常発生中
SET @MR1500              ; UT3　　　異常発生中
CON
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
SET @MR1501
MOV #4 DM400             ; ﾒｯｾｰｼﾞNo.
STG @MR1501
AND R50008               ; Error
JMP @MR1502
STG @MR1502
ANB R50008               ; Error
RES @MR1500              ; UT3　　　異常発生中
CON
DW #0 DM409              ; ｾﾝｻｰｴﾗｰ No.
CON
ZRES MR4000 MR5915       ; Cylinder Error 4000  Cylinder Error 5915
CON
ENDS
;UT4
;UT4 シリンダーエラー総括
;<h1/>Interlock
LD CR2002                ; 常時ON
DW #400 DM518            ; 非常停止設定圧力
;Interlock 01 Flag set
LD R50007                ; 原点復帰　完了
AND>=.S DM510 DM518      ; Y 圧力1  非常停止設定圧力
SET R50012               ; TRAP       Interlock
MOV #301 DM410           ; Inter Lock Text No
;Interlock 02 Flag set
LD R50007                ; 原点復帰　完了
AND>=.S DM512 DM518      ; M 圧力1  非常停止設定圧力
SET R50012               ; TRAP       Interlock
MOV #302 DM410           ; Inter Lock Text No
;Interlock 03 Flag set
LD R50007                ; 原点復帰　完了
AND>=.S DM514 DM518      ; C 圧力1  非常停止設定圧力
SET R50012               ; TRAP       Interlock
MOV #303 DM410           ; Inter Lock Text No
;Interlock 04 Flag set
LD R50007                ; 原点復帰　完了
AND>=.S DM516 DM518      ; B 圧力1  非常停止設定圧力
SET R50012               ; TRAP       Interlock
MOV #304 DM410           ; Inter Lock Text No
;Interlock 05 Flag set
;Interlock 06 Flag set
LD MR6804                ; INDEX位置決め 上昇
LDB MR6804               ; INDEX位置決め 上昇
ANB R4009                ; INDEX位置決め 下降限
ORL
LD R50205                ; INDEX回転中（SET/RST）
LDB R50300               ; Pause
OR MR1012                ; INDEX監視
ANL
OR MR715                 ; Index 回転中
ANL
@SET R50012              ; TRAP       Interlock
MOV #306 DM410           ; Inter Lock Text No
;Interlock 07 Flag set
LD MR6102                ; 治具ｴｱｰﾉｽﾞﾙ上昇
LDB MR6102               ; 治具ｴｱｰﾉｽﾞﾙ上昇
LDB R4001                ; 1ST 治具ｴｱﾉｽﾞﾙ 下降限
ORB R4003                ; 2ST 治具ｴｱﾉｽﾞﾙ 下降限
ANL
ORL
LD R50205                ; INDEX回転中（SET/RST）
LDB R50300               ; Pause
OR MR1012                ; INDEX監視
ANL
OR MR715                 ; Index 回転中
ANL
@SET R50012              ; TRAP       Interlock
MOV #307 DM410           ; Inter Lock Text No
;Interlock 08 Flag set
LD MR6104                ; ICﾌﾟﾛｰﾌﾞ　前進
LDB MR6104               ; ICﾌﾟﾛｰﾌﾞ　前進
ANB R4005                ; ICﾌﾟﾛｰﾌﾞ　後退限
ORL
LD R50205                ; INDEX回転中（SET/RST）
LDB R50300               ; Pause
OR MR1012                ; INDEX監視
ANL
OR MR715                 ; Index 回転中
ANL
@SET R50012              ; TRAP       Interlock
MOV #308 DM410           ; Inter Lock Text No
;Interlock 09 Flag set
LD MR6106                ; ｹｰｽ浮き押さえ　前進
LDB MR6106               ; ｹｰｽ浮き押さえ　前進
ANB R4007                ; ｹｰｽ浮き押さえ 後退限
ORL
LD R50205                ; INDEX回転中（SET/RST）
LDB R50300               ; Pause
OR MR1012                ; INDEX監視
ANL
OR MR715                 ; Index 回転中
ANL
@SET R50012              ; TRAP       Interlock
MOV #309 DM410           ; Inter Lock Text No
;Interlock 10 Flag set
LD MR6000                ; 注入上下 下降
LDB MR6000               ; 注入上下 下降
ANB R4201                ; 注入上下 上限
ORL
LD R50205                ; INDEX回転中（SET/RST）
LDB R50300               ; Pause
OR MR1012                ; INDEX監視
ANL
OR MR715                 ; Index 回転中
ANL
@SET R50012              ; TRAP       Interlock
MOV #310 DM410           ; Inter Lock Text No
;Interlock 11 Flag set
;Interlock 12 Flag set
;Interlock 13 Flag set
;Interlock 14 Flag set
;Interlock 15 Flag set
;Interlock 16 Flag set
;Interlock 19 Flag set
;Interlock Reset
LD R50012                ; TRAP       Interlock
ONDL #30 R50013          ; Interlock  表示
LD R50013                ; Interlock  表示
AND R40011               ; Interlock  ﾘｾｯﾄ
RES R50012               ; TRAP       Interlock
CON
RES R50013               ; Interlock  表示
CON
ZRES R51000 R51015       ; Interlock  00  Interlock  15
;<h1/>Sensor timer
LD R4112                 ; 1ST ｸﾗﾝﾌﾟ閉じ圧 OK
TMH #400 #30             ; 1ST ｸﾗﾝﾌﾟ閉じ OK
LD R4113                 ; 1ST ｸﾗﾝﾌﾟ開き圧 OK
TMH #401 #30             ; 1ST ｸﾗﾝﾌﾟ開き OK
LD R4114                 ; 2ST ｸﾗﾝﾌﾟ閉じ圧 OK
TMH #402 #30             ; 2ST ｸﾗﾝﾌﾟ閉じ OK
LD R4115                 ; 2ST ｸﾗﾝﾌﾟ開き圧 OK
TMH #403 #30             ; 2ST ｸﾗﾝﾌﾟ開き OK
END
ENDH
