DEVICE:53
;MODULE:Monitor
;MODULE_TYPE:0
LD R50010                ; Emergency　Stop
ZRES @MR000 @MR915
;ﾌﾟﾗﾝｼﾞｬｰ停止時間監視
;Plunger stop time watch
LD CR2002                ; 常時ON
MPS
AND<> DM9 DM8            ; PP停止許容時間(分)  PP停止許容時間記憶
LDA DM9                  ; PP停止許容時間(分)
CON
MUL #60
CON
STA.D DM4                ; PP停止許容時間(秒)
MPP
SEC CM700 DM2            ; ｶﾚﾝﾀﾞﾀｲﾏ（年）  現在日時ﾃﾞｰﾀ(秒)
LD CR2002                ; 常時ON
MOV DM9 DM8              ; PP停止許容時間(分)  PP停止許容時間記憶
;　　Yellow
LDP MR35008              ; ﾌﾟﾗﾝｼﾞｬｰ1-4 前進 call FLG
ORP MR35108              ; ﾌﾟﾗﾝｼﾞｬｰ1 前進 call FLG
ORP MR35508              ; ﾌﾟﾗﾝｼﾞｬｰ1-3 前進 call FLG
ORP MR36000              ; ﾌﾟﾗﾝｼﾞｬｰ1-4吐出引込call FLG
ORP MR36300              ; ﾌﾟﾗﾝｼﾞｬｰ1(Y)  吐出引込call FLG
ORP MR36700              ; ﾌﾟﾗﾝｼﾞｬｰ1-3吐出引込call FLG
OR<> DM9 DM8             ; PP停止許容時間(分)  PP停止許容時間記憶
ORF @MR801               ; 801
MPS
LDA.D DM2                ; 現在日時ﾃﾞｰﾀ(秒)
CON
ADD.D DM4                ; PP停止許容時間(秒)
CON
STA.D DM10               ; Y 停止予定時間
MPP
RSEC DM10 DM12           ; Y 停止予定時間  Y 停止予定時間　年
;　　Magenta
LDP MR35008              ; ﾌﾟﾗﾝｼﾞｬｰ1-4 前進 call FLG
ORP MR35208              ; ﾌﾟﾗﾝｼﾞｬｰ2 前進 call FLG
ORP MR35508              ; ﾌﾟﾗﾝｼﾞｬｰ1-3 前進 call FLG
ORP MR36000              ; ﾌﾟﾗﾝｼﾞｬｰ1-4吐出引込call FLG
ORP MR36400              ; ﾌﾟﾗﾝｼﾞｬｰ2(M)  吐出引込call FLG
ORP MR36700              ; ﾌﾟﾗﾝｼﾞｬｰ1-3吐出引込call FLG
OR<> DM9 DM8             ; PP停止許容時間(分)  PP停止許容時間記憶
ORF @MR801               ; 801
MPS
LDA.D DM2                ; 現在日時ﾃﾞｰﾀ(秒)
CON
ADD.D DM4                ; PP停止許容時間(秒)
CON
STA.D DM20               ; M 停止予定時間
MPP
RSEC DM20 DM22           ; M 停止予定時間  M 停止予定時間　年
;　　Cyan
LDP MR35008              ; ﾌﾟﾗﾝｼﾞｬｰ1-4 前進 call FLG
ORP MR35308              ; ﾌﾟﾗﾝｼﾞｬｰ3 前進 call FLG
ORP MR35508              ; ﾌﾟﾗﾝｼﾞｬｰ1-3 前進 call FLG
ORP MR36000              ; ﾌﾟﾗﾝｼﾞｬｰ1-4吐出引込call FLG
ORP MR36500              ; ﾌﾟﾗﾝｼﾞｬｰ3(C) 吐出引込call FLG
ORP MR36700              ; ﾌﾟﾗﾝｼﾞｬｰ1-3吐出引込call FLG
OR<> DM9 DM8             ; PP停止許容時間(分)  PP停止許容時間記憶
ORF @MR801               ; 801
MPS
LDA.D DM2                ; 現在日時ﾃﾞｰﾀ(秒)
CON
ADD.D DM4                ; PP停止許容時間(秒)
CON
STA.D DM30               ; C 停止予定時間
MPP
RSEC DM30 DM32           ; C 停止予定時間  C 停止予定時間　年
;　　Black
LDP MR35008              ; ﾌﾟﾗﾝｼﾞｬｰ1-4 前進 call FLG
ORP MR35408              ; ﾌﾟﾗﾝｼﾞｬｰ4 前進 call FLG
ORP MR36000              ; ﾌﾟﾗﾝｼﾞｬｰ1-4吐出引込call FLG
ORP MR36600              ; ﾌﾟﾗﾝｼﾞｬｰ4(B) 吐出引込call FLG
OR<> DM9 DM8             ; PP停止許容時間(分)  PP停止許容時間記憶
ORF @MR801               ; 801
MPS
LDA.D DM2                ; 現在日時ﾃﾞｰﾀ(秒)
CON
ADD.D DM4                ; PP停止許容時間(秒)
CON
STA.D DM40               ; B 停止予定時間
MPP
RSEC DM40 DM42           ; B 停止予定時間  B 停止予定時間　年
;Error140
;装置停止ﾀｲﾑｱｳﾄｴﾗｰ
;M/C Stop Time-out error
LD= DM287 #1             ; ModelIdentficationNumber
AND<=.D DM40 DM2         ; B 停止予定時間  現在日時ﾃﾞｰﾀ(秒)
LD= DM287 #2             ; ModelIdentficationNumber
LD<=.D DM10 DM2          ; Y 停止予定時間  現在日時ﾃﾞｰﾀ(秒)
OR<=.D DM20 DM2          ; M 停止予定時間  現在日時ﾃﾞｰﾀ(秒)
OR<=.D DM30 DM2          ; C 停止予定時間  現在日時ﾃﾞｰﾀ(秒)
ANL
ORL
LD= DM287 #3             ; ModelIdentficationNumber
LD<=.D DM10 DM2          ; Y 停止予定時間  現在日時ﾃﾞｰﾀ(秒)
OR<=.D DM20 DM2          ; M 停止予定時間  現在日時ﾃﾞｰﾀ(秒)
OR<=.D DM30 DM2          ; C 停止予定時間  現在日時ﾃﾞｰﾀ(秒)
OR<=.D DM40 DM2          ; B 停止予定時間  現在日時ﾃﾞｰﾀ(秒)
ANL
ORL
AND<> DM9 #0             ; PP停止許容時間(分)
AND R50007               ; 原点復帰　完了
AND MR805                ; ﾊﾞﾌﾞﾘﾝｸﾞ 終了
RES DM750                ; (Y)ｲﾝｸ循環回数
CON
ZRES DM740 DM741         ; ｲﾝｸ循環回数  連続吐出、循環確認ﾊﾟｽﾓｰﾄﾞ表示
CON
RES MR2900               ; 連続吐出完了FLG
CON
RES MR2902               ; ｻﾌﾞﾀﾝｸｲﾝｸ循環完了FLG
CON
@SET @MR800              ; 800
STG @MR800               ; 800
ANB R50008               ; Error
SET @MR801               ; 801
CON
SET R50008               ; Error
CON
SET LR49914              ; ｴﾗｰﾘｾｯﾄｷｰ要求
CON
JMP @MR802               ; 802
MOV #140 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR802               ; 802
AND R50008               ; Error
JMP @MR803               ; 803
STG @MR803               ; 803
ANB R50008               ; Error
SET R50011               ; TRAP
CON
RES @MR801               ; 801
CON
ENDS
;脱気選択
LD= DM287 #1             ; ModelIdentficationNumber
OUT MR6514               ; BK脱気ﾓｼﾞｭｰﾙ脱気有効
LD= DM287 #2             ; ModelIdentficationNumber
OUT MR6515               ; CL脱気ﾓｼﾞｭｰﾙ脱気有効
;ﾃﾞｼｹｰﾀ用ﾎﾟﾝﾌﾟ 電源制御
;DC-UT Pump power control
LDB R4110                ; ﾃﾞｼｹｰﾀｰ内 圧力検出1(ﾓｼﾞｭｰﾙ用)
ANB R4111                ; ﾃﾞｼｹｰﾀｰ内 圧力検出2(ﾓｼﾞｭｰﾙ用)
OR @MR900                ; 脱気用ﾎﾟﾝﾌﾟ動作中
LD R50007                ; 原点復帰　完了
OR MR1213                ; (YELLOW)  ｲﾝｸ循環中
OR MR1413                ; (MAGENTA) ｲﾝｸ循環中
OR MR1613                ; (CYAN)ｲﾝｸ循環中
OR MR1813                ; (BLACK)ｲﾝｸ循環中
ANL
ANB @MR907               ; 脱気用ﾎﾟﾝﾌﾟ停止
ANB @MR904               ; 定停止中大気開放
OUT @MR900               ; 脱気用ﾎﾟﾝﾌﾟ動作中
OUT MR2104               ; ﾓｼﾞｭｰﾙ用真空ﾎﾟﾝﾌﾟ ON
LDB R41808               ; TPﾖﾘ 手動動作中
ANB MR2104               ; ﾓｼﾞｭｰﾙ用真空ﾎﾟﾝﾌﾟ ON
LD R41808                ; TPﾖﾘ 手動動作中
AND MR15300              ; ﾓｼﾞｭｰﾙ用ﾃﾞｼｹｰﾀｰ大気開放[MANU]
ORL
OUT MR6214               ; ﾓｼﾞｭｰﾙ用ﾃﾞｼｹｰﾀｰ大気開放
LD>= DM4000 #511         ; TP 現在表示中画面
AND<= DM4000 #569        ; TP 現在表示中画面
AND R2104                ; ﾓｼﾞｭｰﾙ用真空ﾎﾟﾝﾌﾟ ON
RES @MR907               ; 脱気用ﾎﾟﾝﾌﾟ停止
CON
OUT @MR815               ; 手動真空ﾎﾟﾝﾌﾟON
LDB R50004               ; TASKDO
ANB R41000               ; 背面SW有効表示
ANB MR306                ; 脱気用ﾃﾞｼｹｰﾀ起動
ANB MR12400              ; ｷｬﾘﾌﾞﾚｰｼｮﾝ動作中
ANB @MR815               ; 手動真空ﾎﾟﾝﾌﾟON
ANB MR1213               ; (YELLOW)  ｲﾝｸ循環中
ANB MR1413               ; (MAGENTA) ｲﾝｸ循環中
ANB MR1613               ; (CYAN)ｲﾝｸ循環中
ANB MR1813               ; (BLACK)ｲﾝｸ循環中
OUT @MR904               ; 定停止中大気開放
LD R50007                ; 原点復帰　完了
AND MR805                ; ﾊﾞﾌﾞﾘﾝｸﾞ 終了
ANB @MR907               ; 脱気用ﾎﾟﾝﾌﾟ停止
ANB @MR900               ; 脱気用ﾎﾟﾝﾌﾟ動作中
ANB @MR904               ; 定停止中大気開放
SET @MR905
STG @MR905
SET @MR907               ; 脱気用ﾎﾟﾝﾌﾟ停止
CON
SET MR300                ; ﾃﾞｼｹｰﾀ圧 開放確認
CON
JMP @MR906
STG @MR906
AND MR307                ; ﾃﾞｼｹｰﾀ圧開放完了
RES MR307                ; ﾃﾞｼｹｰﾀ圧開放完了
CON
RES @MR907               ; 脱気用ﾎﾟﾝﾌﾟ停止
CON
ENDS
LD @MR900                ; 脱気用ﾎﾟﾝﾌﾟ動作中
LDB R1001                ; 操作BOX ｽﾀｰﾄSW
ANB R1005                ; Rear Start sw
ANB R50105               ; ｽﾀｰﾄSW ON
ANB MR708                ; 3UT動作中
OR R50300                ; Pause
ANL
ANB MR1213               ; (YELLOW)  ｲﾝｸ循環中
ANB MR1413               ; (MAGENTA) ｲﾝｸ循環中
ANB MR1613               ; (CYAN)ｲﾝｸ循環中
ANB MR1813               ; (BLACK)ｲﾝｸ循環中
TMR #88 #9999            ; 脱気用ﾎﾟﾝﾌﾟOFFﾀｲﾏ
LDB T88                  ; 脱気用ﾎﾟﾝﾌﾟOFFﾀｲﾏ
LDA T88                  ; 脱気用ﾎﾟﾝﾌﾟOFFﾀｲﾏ
CON
STA DM101                ; 脱気用ﾎﾟﾝﾌﾟOFF時間
LD @MR907                ; 脱気用ﾎﾟﾝﾌﾟ停止
DW #0 DM101              ; 脱気用ﾎﾟﾝﾌﾟOFF時間
LD T88                   ; 脱気用ﾎﾟﾝﾌﾟOFFﾀｲﾏ
MPS
ANB R50004               ; TASKDO
SET @MR907               ; 脱気用ﾎﾟﾝﾌﾟ停止
CON
OUT @MR901               ; 定停止中
MPP
AND R50004               ; TASKDO
OUT @MR908               ; ﾃﾞｼｹｰﾀ圧開放要求
LD @MR901                ; 定停止中
OR @MR902                ; ﾃﾞｼｹｰﾀ圧開放確認
ANB @MR903               ; ﾃﾞｼｹｰﾀ圧開放済み
ANB @MR910               ; ﾃﾞｼｹｰﾀ圧開放処理中
OUT @MR902               ; ﾃﾞｼｹｰﾀ圧開放確認
LD @MR902                ; ﾃﾞｼｹｰﾀ圧開放確認
LD R1001                 ; 操作BOX ｽﾀｰﾄSW
OR R1005                 ; Rear Start sw
OR R50105                ; ｽﾀｰﾄSW ON
ANL
ORP R50003               ; HOME
MPS
LDB R4110                ; ﾃﾞｼｹｰﾀｰ内 圧力検出1(ﾓｼﾞｭｰﾙ用)
ANB R4111                ; ﾃﾞｼｹｰﾀｰ内 圧力検出2(ﾓｼﾞｭｰﾙ用)
ANL
RES @MR907               ; 脱気用ﾎﾟﾝﾌﾟ停止
CON
OUT @MR903               ; ﾃﾞｼｹｰﾀ圧開放済み
MPP
LD R4110                 ; ﾃﾞｼｹｰﾀｰ内 圧力検出1(ﾓｼﾞｭｰﾙ用)
OR R4111                 ; ﾃﾞｼｹｰﾀｰ内 圧力検出2(ﾓｼﾞｭｰﾙ用)
ANL
OUT @MR909               ; ﾃﾞｼｹｰﾀ圧開放要求
LD @MR908                ; ﾃﾞｼｹｰﾀ圧開放要求
OR @MR909                ; ﾃﾞｼｹｰﾀ圧開放要求
OR @MR910                ; ﾃﾞｼｹｰﾀ圧開放処理中
ANB @MR912               ; ﾃﾞｼｹｰﾀ圧開放OK
SET @MR907               ; 脱気用ﾎﾟﾝﾌﾟ停止
CON
@SET MR300               ; ﾃﾞｼｹｰﾀ圧 開放確認
CON
OUT @MR910               ; ﾃﾞｼｹｰﾀ圧開放処理中
LD @MR910                ; ﾃﾞｼｹｰﾀ圧開放処理中
ANB R50003               ; HOME
LD R1001                 ; 操作BOX ｽﾀｰﾄSW
OR R1005                 ; Rear Start sw
OR R50105                ; ｽﾀｰﾄSW ON
ANL
OR @MR911                ; SW on memory flag
ANB @MR914               ; ﾃﾞｼｹｰﾀ圧開放確認終了
OUT @MR911               ; SW on memory flag
LD @MR910                ; ﾃﾞｼｹｰﾀ圧開放処理中
AND MR307                ; ﾃﾞｼｹｰﾀ圧開放完了
OR @MR912                ; ﾃﾞｼｹｰﾀ圧開放OK
ANB @MR913               ; ﾃﾞｼｹｰﾀ圧開放確認OK
OUT @MR912               ; ﾃﾞｼｹｰﾀ圧開放OK
LD @MR912                ; ﾃﾞｼｹｰﾀ圧開放OK
OR @MR913                ; ﾃﾞｼｹｰﾀ圧開放確認OK
ANB @MR914               ; ﾃﾞｼｹｰﾀ圧開放確認終了
RES MR307                ; ﾃﾞｼｹｰﾀ圧開放完了
CON
OUT @MR913               ; ﾃﾞｼｹｰﾀ圧開放確認OK
LD @MR913                ; ﾃﾞｼｹｰﾀ圧開放確認OK
LDB R50003               ; HOME
LD R1001                 ; 操作BOX ｽﾀｰﾄSW
OR R1005                 ; Rear Start sw
OR R50105                ; ｽﾀｰﾄSW ON
OR MR708                 ; 3UT動作中
OR @MR911                ; SW on memory flag
ANL
LD R50003                ; HOME
ANB R4110                ; ﾃﾞｼｹｰﾀｰ内 圧力検出1(ﾓｼﾞｭｰﾙ用)
ANB R4111                ; ﾃﾞｼｹｰﾀｰ内 圧力検出2(ﾓｼﾞｭｰﾙ用)
AND @MR907               ; 脱気用ﾎﾟﾝﾌﾟ停止
ORL
ANL
RES @MR907               ; 脱気用ﾎﾟﾝﾌﾟ停止
CON
OUT @MR914               ; ﾃﾞｼｹｰﾀ圧開放確認終了
;***** ﾃﾞｼｹｰﾀ圧力開放確認  /  Check the pressure of DC-UT  display  *****
;
STG MR300                ; ﾃﾞｼｹｰﾀ圧 開放確認
MPS
LDB R4110                ; ﾃﾞｼｹｰﾀｰ内 圧力検出1(ﾓｼﾞｭｰﾙ用)
ANB R4111                ; ﾃﾞｼｹｰﾀｰ内 圧力検出2(ﾓｼﾞｭｰﾙ用)
ANL
TMR @46 #20
CON
AND @T46
SET MR307                ; ﾃﾞｼｹｰﾀ圧開放完了
CON
ENDS
MPP
LD R4110                 ; ﾃﾞｼｹｰﾀｰ内 圧力検出1(ﾓｼﾞｭｰﾙ用)
OR R4111                 ; ﾃﾞｼｹｰﾀｰ内 圧力検出2(ﾓｼﾞｭｰﾙ用)
ANL
TMR @47 #100
CON
AND @T47
JMP MR308                ; ﾃﾞｼｹｰﾀ圧開放未検出
;*** ﾃﾞｼｹｰﾀ圧力開放NG ERROR NO 75  /  NG Open the Pressure of DC-UT  display  *****
;
STG MR308                ; ﾃﾞｼｹｰﾀ圧開放未検出
ANB R50008               ; Error
SET MR309                ; ﾃﾞｼｹｰﾀ圧開放完了
CON
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
JMP MR310                ; ﾃﾞｼｹｰﾀ圧開放NG
MOV #24 DM400            ; ﾒｯｾｰｼﾞNo.
STG MR310                ; ﾃﾞｼｹｰﾀ圧開放NG
AND R50008               ; Error
JMP MR311                ; ｴﾗｰ23解除中
STG MR311                ; ｴﾗｰ23解除中
ANB R50008               ; Error
MPS
LD R4110                 ; ﾃﾞｼｹｰﾀｰ内 圧力検出1(ﾓｼﾞｭｰﾙ用)
OR R4111                 ; ﾃﾞｼｹｰﾀｰ内 圧力検出2(ﾓｼﾞｭｰﾙ用)
ANL
JMP MR308                ; ﾃﾞｼｹｰﾀ圧開放未検出
MPP
LDB R4110                ; ﾃﾞｼｹｰﾀｰ内 圧力検出1(ﾓｼﾞｭｰﾙ用)
ANB R4111                ; ﾃﾞｼｹｰﾀｰ内 圧力検出2(ﾓｼﾞｭｰﾙ用)
ANL
RES MR309                ; ﾃﾞｼｹｰﾀ圧開放完了
CON
JMP MR300                ; ﾃﾞｼｹｰﾀ圧 開放確認
;Sub Information Window
LD MR15100               ; SubInfo ﾎﾟｰｽﾞ処理中
DW #0 DM621              ; ﾒｲﾝ画面ｳｨﾝﾄﾞｳ表示内容
LD R50004                ; TASKDO
MC
LDB LR41100              ; AUTO-0    Normal
OUT MR15103              ; SubInfo AutoPara通常外
CON
DW #3 DM621              ; ﾒｲﾝ画面ｳｨﾝﾄﾞｳ表示内容
LDB MR1214               ; (Y) ｻﾌﾞﾀﾝｸLO検出中
ANB MR1414               ; (M) ｻﾌﾞﾀﾝｸLO検出中
ANB MR1614               ; (C) ｻﾌﾞﾀﾝｸLO検出中
ANB MR1814               ; (B) ｻﾌﾞﾀﾝｸLO検出中
INV
OUT MR15104              ; SubInfo Lo検出中
CON
DW #4 DM621              ; ﾒｲﾝ画面ｳｨﾝﾄﾞｳ表示内容
MCR
LD MR19008               ; 注入圧力異常記憶
ANB R50001               ; AUTO
ANB R50002               ; STEP
ANB R50003               ; HOME
ANB R50004               ; TASKDO
OUT MR15111              ; SubInfo 11
CON
DW #11 DM621             ; ﾒｲﾝ画面ｳｨﾝﾄﾞｳ表示内容
LD MR17004
ANB MR19008              ; 注入圧力異常記憶
ANB R50001               ; AUTO
ANB R50002               ; STEP
ANB R50003               ; HOME
ANB R50004               ; TASKDO
OUT MR15113              ; SubInfo 13
CON
DW #13 DM621             ; ﾒｲﾝ画面ｳｨﾝﾄﾞｳ表示内容
;R15100〜16点をSub Information 表示用
LD<> $0000 MR15100       ; SubInfo ﾎﾟｰｽﾞ処理中
OUT R42100               ; ﾒｲﾝ画面ｳｨﾝﾄﾞｳ表示
;Index 電源再投入ﾃﾞｨﾚｲ
;Index Re-Power Delay 
LDB R2105                ; INDEX電源ON
TMR #722 #60             ; Index電源再投入ﾃﾞｨﾚｲ
;FC1 係数"0"の時はJudge OFFにする
LD= DM287 #1             ; ModelIdentficationNumber
AND=.D DM367 #0          ; BK FC1BK 1
LD= DM287 #2             ; ModelIdentficationNumber
LD=.D DM337 #0           ; C FC1C 1
OR=.D DM347 #0           ; M FC1M 1
OR=.D DM357 #0           ; Y FC1Y 1
ANL
ORL
LD= DM287 #3             ; ModelIdentficationNumber
LD=.D DM337 #0           ; C FC1C 1
OR=.D DM347 #0           ; M FC1M 1
OR=.D DM357 #0           ; Y FC1Y 1
OR=.D DM367 #0           ; BK FC1BK 1
ANL
ORL
OR MR009                 ; AP09 ON=重量判定無効
SET LR103                ; Raw Mode
CON
SET LR104                ; Judge No
LD<>.D DM337 #0          ; C FC1C 1
AND<>.D DM347 #0         ; M FC1M 1
AND<>.D DM357 #0         ; Y FC1Y 1
OR= DM287 #1             ; ModelIdentficationNumber
LD<>.D DM367 #0          ; BK FC1BK 1
OR= DM287 #2             ; ModelIdentficationNumber
ANL
ANB MR009                ; AP09 ON=重量判定無効
RES LR103                ; Raw Mode
CON
RES LR104                ; Judge No
LD MR011                 ; AP11 ON=流量計判定Mode(ﾊﾞﾗﾂｷ)
LD<>.D DM337 #0          ; C FC1C 1
AND<>.D DM347 #0         ; M FC1M 1
AND<>.D DM357 #0         ; Y FC1Y 1
OR= DM287 #1             ; ModelIdentficationNumber
ANL
LD<>.D DM367 #0          ; BK FC1BK 1
OR= DM287 #2             ; ModelIdentficationNumber
ANL
ANB MR009                ; AP09 ON=重量判定無効
SET LR106                ; ﾊﾞﾗﾂｷ判定
LDB MR011                ; AP11 ON=流量計判定Mode(ﾊﾞﾗﾂｷ)
OR MR009                 ; AP09 ON=重量判定無効
LD= DM287 #1             ; ModelIdentficationNumber
AND=.D DM367 #0          ; BK FC1BK 1
ORL
LD= DM287 #2             ; ModelIdentficationNumber
LD=.D DM337 #0           ; C FC1C 1
OR=.D DM347 #0           ; M FC1M 1
OR=.D DM357 #0           ; Y FC1Y 1
ANL
ORL
LD= DM287 #3             ; ModelIdentficationNumber
LD=.D DM337 #0           ; C FC1C 1
OR=.D DM347 #0           ; M FC1M 1
OR=.D DM357 #0           ; Y FC1Y 1
OR=.D DM367 #0           ; BK FC1BK 1
ANL
ORL
RES LR106                ; ﾊﾞﾗﾂｷ判定
;Error162
;動作中MAIN AIR OFFｴﾗｰ
;Main AIR off during operation error
LD R50004                ; TASKDO
AND MR607                ; 動作中MainAirOff
ANB R50008               ; Error
ANB @MR805               ; 動作中Main Air OFF記憶
SET @MR804               ; 動作中Main Air OFF
STG @MR804               ; 動作中Main Air OFF
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
SET @MR805               ; 動作中Main Air OFF記憶
CON
JMP @MR806               ; Next step
MOV #162 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR806               ; Next step
AND R50008               ; Error
RES MR607                ; 動作中MainAirOff
CON
JMP @MR807               ; Next step
STG @MR807               ; Next step
ANB R50008               ; Error
RES @MR805               ; 動作中Main Air OFF記憶
CON
ENDS
;Error163
;動作中ｻﾌﾞﾀﾝｸ AIR OFFｴﾗｰ
;Subtank AIR off during operation error
LD R50004                ; TASKDO
AND MR608                ; 動作中ｻﾌﾞﾀﾝｸAirOff
ANB R50008               ; Error
ANB @MR809               ; 動作中ｻﾌﾞﾀﾝｸ Air OFF記憶
TMR @10 #10              ; ｻﾌﾞﾀﾝｸｴｱ異常検出時間
CON
AND @T10                 ; ｻﾌﾞﾀﾝｸｴｱ異常検出時間
SET @MR808               ; 動作中ｻﾌﾞﾀﾝｸ Air OFF
STG @MR808               ; 動作中ｻﾌﾞﾀﾝｸ Air OFF
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50113               ; Err ST3
CON
SET @MR809               ; 動作中ｻﾌﾞﾀﾝｸ Air OFF記憶
CON
JMP @MR810               ; Next step
MOV #163 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR810               ; Next step
AND R50008               ; Error
RES MR608                ; 動作中ｻﾌﾞﾀﾝｸAirOff
CON
JMP @MR811               ; Next step
STG @MR811               ; Next step
ANB R50008               ; Error
RES @MR809               ; 動作中ｻﾌﾞﾀﾝｸ Air OFF記憶
CON
ENDS
;Error179 サーモスタット作動
;Error179 INDEX Thermostat
LD CR2002                ; 常時ON
TMR @40 #40
LDB R1108                ; INDEXｻｰﾓｽﾀｯﾄ 正常=ON
AND @T40
ANB @MR608
TMR @37 #10
LD @T37
ANB R50008               ; Error
SET @MR608
CON
SET R50008               ; Error
CON
SET R50110               ; Err INDEX
CON
SET @MR609               ; 609
MOV #179 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR609               ; 609
AND R50008               ; Error
JMP @MR610               ; 610
STG @MR610               ; 610
ANB R50008               ; Error
RES @MR608
CON
SET R50011               ; TRAP
CON
ENDS
;Error172 INDEX ドライバｰアラーム
;Error172 INDEX Driver Alarm
LD R2105                 ; INDEX電源ON
AND R1102                ; 安全ｶﾊﾞｰ 閉=ON
AND R1108                ; INDEXｻｰﾓｽﾀｯﾄ 正常=ON
LDB R1107                ; INDEX Alarm2 正常=ON
ORB R1106                ; INDEX Alarm1 正常=ON
ANL
TMR @20 #20
LDP @T20
MPS
LDB R1106                ; INDEX Alarm1 正常=ON
ANB R1107                ; INDEX Alarm2 正常=ON
ORB R1106                ; INDEX Alarm1 正常=ON
ANL
SET @MR700               ; 909
MPP
LD R1106                 ; INDEX Alarm1 正常=ON
ANB R1107                ; INDEX Alarm2 正常=ON
ANL
SET MR1009               ; INDEX非常停止遮断
STG @MR700               ; 909
ANB R50008               ; Error
SET R50008               ; Error
CON
SET R50110               ; Err INDEX
CON
JMP @MR701               ; 910
MOV #172 DM400           ; ﾒｯｾｰｼﾞNo.
STG @MR701               ; 910
AND R50008               ; Error
JMP @MR702               ; 911
STG @MR702               ; 911
ANB R50008               ; Error
SET R50011               ; TRAP
CON
ENDS
;浮きｾﾝｻｰ切り替え
LD= DM287 #1             ; ModelIdentficationNumber
OR= DM287 #2             ; ModelIdentficationNumber
OUT MR16102              ; Toki1 浮きｾﾝｻｰ 有効
LD= DM287 #3             ; ModelIdentficationNumber
OUT MR16103              ; Toki2 浮きｾﾝｻｰ 有効
END
ENDH
