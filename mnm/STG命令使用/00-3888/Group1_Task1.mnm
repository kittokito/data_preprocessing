DEVICE:53
;MODULE:Group1_Task1
;MODULE_TYPE:0
;SCRIPT_TYPE:
;OneSystem Main-Module
;
;-----------------------------------------
;ModuleName	:	Group1_Task1
;ModuleType	:	Main Module
;Line		:	蛇道ﾌｨﾙﾑ溶着
;Cell		:	
;Function	:	ﾌｨﾙﾑｶｯﾄ・搬送
;-----------------------------------------
;<<Task LocalDevice>>
;/*項目			/*割付ｴﾘｱ				/*備考
;---------------------------------------------------------------------			
;Emergency		@MR000〜@MR015			Emergency処理時RESET禁止ｴﾘｱ
;Free			@MR100〜@MR915			ﾕｰｻﾞｰﾌﾘｰｴﾘｱ
;HOME			@MR1000〜@MR1515		HOME動作時使用ｴﾘｱ
;MAINTENANCE		@MR2000〜@MR2915		MAINTE動作時使用ｴﾘｱ
;AUTO(Main1)		@MR3000〜@MR3915		AUTO(Main1)動作時使用ｴﾘｱ
;	(Main2)		@MR4000〜@MR4915		AUTO(Main2)動作時使用ｴﾘｱ
;SubRoutine		@MR4500〜@MR6415		ｻﾌﾞﾙｰﾁﾝ共通動作使用ｴﾘｱ
;----------------------------------------------------------------------
;<h1/>Device_Init/ﾃﾞﾊﾞｲｽ初期化
;[内容]
;・非常停止、優先ｴﾗｰ発生時に初期化したいﾃﾞﾊﾞｲｽを指定して下さい
;※本Taskで使用するﾛｰｶﾙﾃﾞﾊﾞｲｽなど
;※STG〜JMPにて使用しているﾃﾞﾊﾞｲｽは必須
LDP R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ZRES @MR100 @MR6415      ; Task1 ERROR
;<h1/>Task_Monitor/ﾀｽｸﾓﾆﾀｰ
LD CR2002                ; 常時ON
FLIK #50 #50 @MR000
;ON STG Main1
;TYPE EM608.U,EM609.U,@MR000.U,@MR3000.U
;
;FOR EM608 = EM608 TO 160 STEP 16
;	IF @MR3000:EM608 <> 0 THEN
;		BREAK
;	END IF	
;NEXT
;	
;IF EM608 < 160 THEN
;	EM609 = (EM608 / 16) * 100 + DMX(@MR3000:EM608) + #3000
;END IF		
;		
;EM608 = EM608 + 16		
;IF EM608 > 160 THEN		
;	EM608 = 0		
;END IF
LDP @MR000
NCJ #1000
;TYPE EM608.U,EM609.U,@MR000.U,@MR3000.U
;
;FOR EM608 = EM608 TO 160 STEP 16
;
LD CR2002                ; 常時ON
MOV EM608 EM608          ; Task1 Main1@MR  Task1 Main1@MR
LABEL #2000
LD> EM608 #160           ; Task1 Main1@MR
CJ #2001
;	IF @MR3000:EM608 <> 0 THEN
;
LD CR2002                ; 常時ON
LDA EM608                ; Task1 Main1@MR
CON
EXT
CON
STA.L Z12
LD<> @MR3000:Z12 #0      ; AUTO Main1
NCJ #2002
;		BREAK
;
LD CR2002                ; 常時ON
CJ #2003
;	END IF	
;
LABEL #2002
;NEXT
;
LD CR2002                ; 常時ON
LDA EM608                ; Task1 Main1@MR
CON
ADD #16
CON
STA EM608                ; Task1 Main1@MR
LDB CR2009               ; 演算結果が負
CJ #2000
LABEL #2003
LABEL #2001
;IF EM608 < 160 THEN
;
LD< EM608 #160           ; Task1 Main1@MR
NCJ #2004
;	EM609 = (EM608 / 16) * 100 + DMX(@MR3000:EM608) + #3000
;
LD CR2002                ; 常時ON
LDA EM608                ; Task1 Main1@MR
CON
EXT
CON
STA.L Z12
CON
LDA @MR3000:Z12          ; AUTO Main1
CON
DMX
CON
STA @VM0
CON
LDA EM608                ; Task1 Main1@MR
CON
EXT
CON
EXT.L
CON
DIV.L +16
CON
MUL.L +100
CON
STA.L @VM1
CON
LDA @VM0
CON
EXT
CON
ADD.L @VM1
CON
ADD.L +3000
CON
STA EM609                ; Task1 Main1@MR
;END IF		
;
LABEL #2004
;EM608 = EM608 + 16		
;
LD CR2002                ; 常時ON
LDA EM608                ; Task1 Main1@MR
CON
EXT
CON
ADD.L +16
CON
STA EM608                ; Task1 Main1@MR
;IF EM608 > 160 THEN		
;
LD> EM608 #160           ; Task1 Main1@MR
NCJ #2005
;	EM608 = 0		
;
LD CR2002                ; 常時ON
MOV #0 EM608             ; Task1 Main1@MR
;END IF
LABEL #2005
LABEL #1000
;
;ON STG Main2
;TYPE EM610.U,EM611.U,@MR4000.U
;
;FOR EM610 = EM610 TO 80 STEP 16
;	IF @MR4000:EM610 <> 0 THEN
;		BREAK
;	END IF	
;NEXT	
;
;IF EM610 < 80 THEN
;	EM611 = (EM610 / 16) * 100 + DMX(@MR4000:EM610) + #4000
;END IF
;
;EM610 = EM610 + 16		
;
;IF EM610 > 80 THEN
;	EM610 = 0	
;END IF
LDP @MR000
NCJ #1001
;TYPE EM610.U,EM611.U,@MR4000.U
;
;FOR EM610 = EM610 TO 80 STEP 16
;
LD CR2002                ; 常時ON
MOV EM610 EM610          ; Task1 Main2@MR  Task1 Main2@MR
LABEL #2006
LD> EM610 #80            ; Task1 Main2@MR
CJ #2007
;	IF @MR4000:EM610 <> 0 THEN
;
LD CR2002                ; 常時ON
LDA EM610                ; Task1 Main2@MR
CON
EXT
CON
STA.L Z12
LD<> @MR4000:Z12 #0      ; AUTO Main2
NCJ #2008
;		BREAK
;
LD CR2002                ; 常時ON
CJ #2009
;	END IF	
;
LABEL #2008
;NEXT	
;
LD CR2002                ; 常時ON
LDA EM610                ; Task1 Main2@MR
CON
ADD #16
CON
STA EM610                ; Task1 Main2@MR
LDB CR2009               ; 演算結果が負
CJ #2006
LABEL #2009
LABEL #2007
;IF EM610 < 80 THEN
;
LD< EM610 #80            ; Task1 Main2@MR
NCJ #2010
;	EM611 = (EM610 / 16) * 100 + DMX(@MR4000:EM610) + #4000
;
LD CR2002                ; 常時ON
LDA EM610                ; Task1 Main2@MR
CON
EXT
CON
STA.L Z12
CON
LDA @MR4000:Z12          ; AUTO Main2
CON
DMX
CON
STA @VM3
CON
LDA EM610                ; Task1 Main2@MR
CON
EXT
CON
EXT.L
CON
DIV.L +16
CON
MUL.L +100
CON
STA.L @VM4
CON
LDA @VM3
CON
EXT
CON
ADD.L @VM4
CON
ADD.L +4000
CON
STA EM611                ; Task1 Main2@MR
;END IF
;
LABEL #2010
;EM610 = EM610 + 16		
;
LD CR2002                ; 常時ON
LDA EM610                ; Task1 Main2@MR
CON
EXT
CON
ADD.L +16
CON
STA EM610                ; Task1 Main2@MR
;IF EM610 > 80 THEN
;
LD> EM610 #80            ; Task1 Main2@MR
NCJ #2011
;	EM610 = 0	
;
LD CR2002                ; 常時ON
MOV #0 EM610             ; Task1 Main2@MR
;END IF
LABEL #2011
LABEL #1001
;
;ON STG SubRoutine
;TYPE EM612.U,EM613.U,@MR4500.U
;	
;FOR EM612 = EM612 TO 320 STEP 16
;	IF @MR4500:EM612 <> 0 THEN
;		BREAK
;	END IF	
;NEXT
;		
;IF EM612 < 320 THEN
;	EM613 = (EM612 / 16) * 100 + DMX(@MR4500:EM612) + #4500
;END IF
;		
;EM612 = EM612 + 16	
;
;IF EM612 > 320 THEN
;   EM612 = 0	
;END IF
LDP @MR000
NCJ #1002
;TYPE EM612.U,EM613.U,@MR4500.U
;
;FOR EM612 = EM612 TO 320 STEP 16
;
LD CR2002                ; 常時ON
MOV EM612 EM612          ; Task1 Sub@MR  Task1 Sub@MR
LABEL #2012
LD> EM612 #320           ; Task1 Sub@MR
CJ #2013
;	IF @MR4500:EM612 <> 0 THEN
;
LD CR2002                ; 常時ON
LDA EM612                ; Task1 Sub@MR
CON
EXT
CON
STA.L Z12
LD<> @MR4500:Z12 #0      ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作CALL
NCJ #2014
;		BREAK
;
LD CR2002                ; 常時ON
CJ #2015
;	END IF	
;
LABEL #2014
;NEXT
;
LD CR2002                ; 常時ON
LDA EM612                ; Task1 Sub@MR
CON
ADD #16
CON
STA EM612                ; Task1 Sub@MR
LDB CR2009               ; 演算結果が負
CJ #2012
LABEL #2015
LABEL #2013
;IF EM612 < 320 THEN
;
LD< EM612 #320           ; Task1 Sub@MR
NCJ #2016
;	EM613 = (EM612 / 16) * 100 + DMX(@MR4500:EM612) + #4500
;
LD CR2002                ; 常時ON
LDA EM612                ; Task1 Sub@MR
CON
EXT
CON
STA.L Z12
CON
LDA @MR4500:Z12          ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作CALL
CON
DMX
CON
STA @VM6
CON
LDA EM612                ; Task1 Sub@MR
CON
EXT
CON
EXT.L
CON
DIV.L +16
CON
MUL.L +100
CON
STA.L @VM7
CON
LDA @VM6
CON
EXT
CON
ADD.L @VM7
CON
ADD.L +4500
CON
STA EM613                ; Task1 Sub@MR
;END IF
;
LABEL #2016
;EM612 = EM612 + 16	
;
LD CR2002                ; 常時ON
LDA EM612                ; Task1 Sub@MR
CON
EXT
CON
ADD.L +16
CON
STA EM612                ; Task1 Sub@MR
;IF EM612 > 320 THEN
;
LD> EM612 #320           ; Task1 Sub@MR
NCJ #2017
;   EM612 = 0	
;
LD CR2002                ; 常時ON
MOV #0 EM612             ; Task1 Sub@MR
;END IF
LABEL #2017
LABEL #1002
;
;<h1/>Task_Init/ﾀｽｸ初期化
;[本STG内容]
;・本Task起動時に必要な初期化処理を記述して下さい
;・起動Taskの全Init処理終了後、Task_StartのSTGが起動します
STG LR801                ; _Grp1_Task1_Init.STG
ENDS
;<h1/>Task_Start/ﾀｽｸ開始
;[本STG内容]
;・Task起動後、以下運転ﾓｰﾄﾞに従い、各STGにJMPします
;【HOME】	→	LR5200
;【AUTO】	→	LR5400
;【MAINTE】	→	LR5600
;・本STGは追記、修正不要です
STG LR401                ; _Grp1_Task1_Start.STG
MPS
AND R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
JMP LR5201               ; _Grp1_Task1_HOME.STG
MRD
AND R46100               ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
JMP LR5401               ; _Grp1_Task1_AUTO.STG
MPP
AND R46102               ; _ﾒﾝﾃﾅﾝｽ運転中　ﾓｰﾄﾞﾌﾗｸﾞ
JMP LR5601               ; _Grp1_Task1_MAINTE.STG
;<h1/>Task_Finish/ﾀｽｸ終了
;[本STG内容]
;・各Taskの終了STGになります
;・運転ﾓｰﾄﾞに係わらず終了時は本STGを経由して終了して下さい
;・本STGは追記、修正不要です
STG LR601                ; _Grp1_Task1_Fin.STG
RES R41001               ; _Grp1_Task1_起動中ﾌﾗｸﾞ
CON
ENDS
;<h1/>HOME/原点復帰
;[本STG内容]
;・STG @MR1000の続きから各Taskの原点復帰動作を記述する
;・動作終了時は@MR1515にJMPする事
STG LR5201               ; _Grp1_Task1_HOME.STG
JMP @MR1000              ; HOME
STG @MR1000              ; HOME
SET @MR1002              ; HOME中
CON
JMP @MR1001              ; HOME開始
STG @MR1001              ; HOME開始
JMP @MR1102              ; ﾌｨﾙﾑｸﾗﾝﾌﾟ下降
;ﾌｨﾙﾑｸﾗﾝﾌﾟ下降
STG @MR1102              ; ﾌｨﾙﾑｸﾗﾝﾌﾟ下降
RES MR10600              ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇
CON
SET MR10601              ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ下降
CON
MPS
LDB MR7301               ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ下降限Err
ANB R7300                ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇限
AND R7301                ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ下降限
ANL
JMP @MR1103              ; 台紙ｸﾗﾝﾌﾟ開
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7301               ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ下降限Err
ANL
SET @MR1900              ; Main1 HALT許可
;台紙ｸﾗﾝﾌﾟ開
STG @MR1103              ; 台紙ｸﾗﾝﾌﾟ開
RES MR10602              ; 台紙ｸﾗﾝﾌﾟ閉
CON
SET MR10603              ; 台紙ｸﾗﾝﾌﾟ開
CON
MPS
LDB MR7303               ; 台紙ｸﾗﾝﾌﾟ開限Err
ANB R7302                ; 台紙ｸﾗﾝﾌﾟ閉限
AND R7303                ; 台紙ｸﾗﾝﾌﾟ開限
ANL
JMP @MR1105              ; T2仮溶着原点復帰待ち
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7303               ; 台紙ｸﾗﾝﾌﾟ開限Err
ANL
SET @MR1900              ; Main1 HALT許可
;T2仮溶着終了待ち
STG @MR1105              ; T2仮溶着原点復帰待ち
MPS
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR10902              ; T2仮溶着終了
ANL
JMP @MR1106
;ﾌｨﾙﾑ捲れ押さえ開
STG @MR1106
RES MR10714              ; ﾌｨﾙﾑ捲れ押さえ閉
CON
SET MR10715              ; ﾌｨﾙﾑ捲れ押さえ開
CON
MPS
LDB MR7411               ; ﾌｨﾙﾑ捲れ押さえ開限Err
ANB R7410                ; ﾌｨﾙﾑ捲れ押さえ閉限
AND R7411                ; ﾌｨﾙﾑ捲れ押さえ開限
ANL
JMP @MR1107
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7411               ; ﾌｨﾙﾑ捲れ押さえ開限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ押さえ上昇
STG @MR1107
RES MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
AND R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
ANB R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
JMP @MR1108
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
ANL
SET @MR1900              ; Main1 HALT許可
;全吸着OFF
STG @MR1108
RES MR10409              ; ｶｯﾄ後下2吸着ON
CON
RES MR10411              ; ｶｯﾄ後下2吸着破壊ON
CON
SET MR10410              ; ｶｯﾄ後下2吸着OFF
CON
RES MR10403              ; ｶｯﾄ2個前下吸着ON
CON
RES MR10405              ; ｶｯﾄ2個前下吸着破壊ON
CON
SET MR10404              ; ｶｯﾄ2個前下吸着OFF
CON
RES MR10400              ; ｶｯﾄ1個前下吸着ON(切出し台)
CON
RES MR10401              ; ｶｯﾄ1個前下吸着OFF(切出し台)
CON
SET MR10402              ; ｶｯﾄ1個前下吸着破壊ON(切出し台)
CON
TMR @10 #25              ; 全吸着OFFﾀｲﾏ
CON
AND @T10                 ; 全吸着OFFﾀｲﾏ
JMP @MR1200
;切り出し台位置確認
LDB R7311                ; ﾌｨﾙﾑ切出し台後退限
ANB R7310                ; ﾌｨﾙﾑ切出し台前進限
AND R7309                ; ﾌｨﾙﾑ切出し台中間位置
AND R7401                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退限
ANB R7400                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進限
ANB R7408                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ中間限
AND R7406                ; 押さえｼﾌﾄ後退限
ANB R7407                ; 押さえｼﾌﾄ前進限
AND R7405                ; 切出台ｼﾌﾄ後退限
ANB R7404                ; 切出台ｼﾌﾄ前進限
OUT @MR700               ; 切り出し台位置ok
STG @MR1200
MPS
AND @MR700               ; 切り出し台位置ok
JMP @MR1211
MPP
ANB @MR700               ; 切り出し台位置ok
JMP @MR1201
;ﾌｨﾙﾑ押さえ下降
STG @MR1201
SET MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANB R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
AND R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
JMP @MR1202
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ押さえ吸着ON
STG @MR1202
RES MR10413              ; 押さえ吸着OFF
CON
RES MR10414              ; 押さえ吸着破壊ON
CON
SET MR10412              ; 押さえ吸着ON
CON
JMP @MR1203
STG @MR1203
MPS
LD R7608                 ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT1
ANB R7609                ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT2
ANL
JMP @MR1205
MPP
LDB R7608                ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT1
OR R7609                 ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT2
ANL
TMR @24 #80              ; 押さえ吸着ONﾀｲﾏ
CON
AND @T24                 ; 押さえ吸着ONﾀｲﾏ
SET MR12015              ; 押さえ吸着圧異常
CON
JMP @MR1204
;押さえ吸着異常
STG @MR1204
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12100              ; 押さえ吸着圧異常SW1処理
RES MR12100              ; 押さえ吸着圧異常SW1処理
CON
JMP @MR1202
MPP
AND MR12101              ; 押さえ吸着圧異常SW2処理
RES MR12101              ; 押さえ吸着圧異常SW2処理
CON
JMP @MR1205
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ押さえ上昇
STG @MR1205
RES MR10400              ; ｶｯﾄ1個前下吸着ON(切出し台)
CON
RES MR10401              ; ｶｯﾄ1個前下吸着OFF(切出し台)
CON
SET MR10402              ; ｶｯﾄ1個前下吸着破壊ON(切出し台)
CON
RES MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
AND R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
ANB R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
JMP @MR1206
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR1206
RES MR10403              ; ｶｯﾄ2個前下吸着ON
CON
RES MR10404              ; ｶｯﾄ2個前下吸着OFF
CON
SET MR10405              ; ｶｯﾄ2個前下吸着破壊ON
CON
RES MR10400              ; ｶｯﾄ1個前下吸着ON(切出し台)
CON
RES MR10401              ; ｶｯﾄ1個前下吸着OFF(切出し台)
CON
SET MR10402              ; ｶｯﾄ1個前下吸着破壊ON(切出し台)
CON
JMP @MR1207
STG @MR1207
RES MR10612              ; 切出台押さえ同期出
CON
SET MR10613              ; 切出台押さえ同期戻り
CON
RES MR10614              ; 切出台ｼﾌﾄ前進
CON
SET MR10615              ; 切出台ｼﾌﾄ後退
CON
RES MR10604              ; ﾌｨﾙﾑ切出し台前進
CON
SET MR10605              ; ﾌｨﾙﾑ切出し台後退
CON
TMR @40 #10              ; 切り出し台ﾀｲﾏ
CON
AND @T40                 ; 切り出し台ﾀｲﾏ
JMP @MR1208
STG @MR1208
RES MR10412              ; 押さえ吸着ON
CON
RES MR10413              ; 押さえ吸着OFF
CON
SET MR10414              ; 押さえ吸着破壊ON
CON
TMR @39 #10              ; 押さえ吸着破壊ONﾀｲﾏ
CON
AND @T39                 ; 押さえ吸着破壊ONﾀｲﾏ
JMP @MR1209
;押さえ台ｼﾌﾄ後退
STG @MR1209
RES MR10700              ; ﾌｨﾙﾑｶｯﾄ押さえｼﾌﾄ前進
CON
SET MR10701              ; ﾌｨﾙﾑｶｯﾄ押さえｼﾌﾄ後退
CON
MPS
LDB MR7406               ; 押さえｼﾌﾄ後退限Err
AND R7406                ; 押さえｼﾌﾄ後退限
ANB R7407                ; 押さえｼﾌﾄ前進限
ANL
JMP @MR1210
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7406               ; 押さえｼﾌﾄ後退限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ押さえ後退
STG @MR1210
RES MR10610              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進
CON
SET MR10611              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退
CON
MPS
LDB MR7401               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退限Err
ANB R7400                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進限
AND R7401                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退限
ANL
JMP @MR1211
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7401               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ｶｯﾀｰ分岐
STG @MR1211
MPS
LDB R7314                ; ｶｯﾀｰ前後後退限
ANB R7315                ; ｶｯﾀｰ前後前進限
ANL
JMP @MR1212
MPP
LD R7314                 ; ｶｯﾀｰ前後後退限
ANB R7315                ; ｶｯﾀｰ前後前進限
LDB R7314                ; ｶｯﾀｰ前後後退限
AND R7315                ; ｶｯﾀｰ前後前進限
ORL
ANL
JMP @MR1213
STG @MR1212
ANB R7314                ; ｶｯﾀｰ前後後退限
ANB R7315                ; ｶｯﾀｰ前後前進限
RES MR10608              ; ｶｯﾀｰ後退
CON
SET MR10609              ; ｶｯﾀｰ前進
CON
MPS
LDB MR7315               ; ｶｯﾀｰ前後前進限Err
ANB R7314                ; ｶｯﾀｰ前後後退限
AND R7315                ; ｶｯﾀｰ前後前進限
ANL
JMP @MR1213
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7315               ; ｶｯﾀｰ前後前進限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ切出し台押さえ同期後退
STG @MR1213
RES MR10612              ; 切出台押さえ同期出
CON
SET MR10613              ; 切出台押さえ同期戻り
CON
MPS
LDB MR7403               ; 切出台押さえ同期後退限Err
ANB R7402                ; 切出台押さえ同期出限
AND R7403                ; 切出台押さえ同期戻限
ANL
JMP @MR1214
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7403               ; 切出台押さえ同期後退限Err
ANL
SET @MR1900              ; Main1 HALT許可
;切出し台ｼﾌﾄ後退
STG @MR1214
RES MR10614              ; 切出台ｼﾌﾄ前進
CON
SET MR10615              ; 切出台ｼﾌﾄ後退
CON
MPS
LDB MR7405               ; 切出台ｼﾌﾄ後退限Err
ANB R7404                ; 切出台ｼﾌﾄ前進限
AND R7405                ; 切出台ｼﾌﾄ後退限
ANL
JMP @MR1215
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7405               ; 切出台ｼﾌﾄ後退限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ切出し台後退
STG @MR1215
RES MR10604              ; ﾌｨﾙﾑ切出し台前進
CON
SET MR10605              ; ﾌｨﾙﾑ切出し台後退
CON
MPS
LDB MR7309               ; ﾌｨﾙﾑ切出し台中限Err
ANB R7310                ; ﾌｨﾙﾑ切出し台前進限
ANB R7311                ; ﾌｨﾙﾑ切出し台後退限
AND R7309                ; ﾌｨﾙﾑ切出し台中間位置
ANL
JMP @MR1300
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7309               ; ﾌｨﾙﾑ切出し台中限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑﾛｰﾙ確認
STG @MR1300
ANB @MR6300              ; ﾌｨﾙﾑﾛｰﾙ確認CALL
ANB @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
ANB @MR6302              ; ﾌｨﾙﾑﾛｰﾙ確認BUSY
SET @MR6300              ; ﾌｨﾙﾑﾛｰﾙ確認CALL
CON
JMP @MR1301
STG @MR1301
AND @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
RES @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
CON
JMP @MR1302
;ﾌｨﾙﾑ押さえ下降
STG @MR1302
SET MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANB R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
AND R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
JMP @MR1303
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANL
SET @MR1900              ; Main1 HALT許可
;切出し台ﾌｨﾙﾑ有無確認
STG @MR1303
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
RES MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
SET MR10406              ; ｶｯﾄ後下1吸着ON
CON
TMR @1 #10               ; ｶｯﾄ後下1吸着ONﾀｲﾏ
CON
AND @T1                  ; ｶｯﾄ後下1吸着ONﾀｲﾏ
JMP @MR1304
STG @MR1304
MPS
LDB R7604                ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
AND R7605                ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
ANL
RES MR10406              ; ｶｯﾄ後下1吸着ON
CON
RES MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
SET MR10407              ; ｶｯﾄ後下1吸着OFF
CON
MPS
ANB MR10102              ; ﾌｨﾙﾑｶｯﾄ済み
SET MR10103              ; ﾌｨﾙﾑｾｯﾄ要求ﾌﾗｸﾞ
CON
JMP @MR1305
MPP
AND MR10102              ; ﾌｨﾙﾑｶｯﾄ済み
JMP @MR1305
MPP
LD R7604                 ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
ORB R7605                ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
ANL
SET MR10003              ; 切出し台ﾌｨﾙﾑ残り有り
CON
JMP @MR1400
;ﾌｨﾙﾑ押さえ上昇
STG @MR1305
MPS
AND MR10103              ; ﾌｨﾙﾑｾｯﾄ要求ﾌﾗｸﾞ
RES MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
AND R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
ANB R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
SET MR12213              ; ﾌｨﾙﾑｾｯﾄ要求
CON
JMP @MR1306
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
ANL
SET @MR1900              ; Main1 HALT許可
MPP
ANB MR10103              ; ﾌｨﾙﾑｾｯﾄ要求ﾌﾗｸﾞ
JMP @MR1400
;ﾌｨﾙﾑｾｯﾄ要求
STG @MR1306
AND MR12214              ; ﾌｨﾙﾑｾｯﾄ要求SW1処理
RES MR10103              ; ﾌｨﾙﾑｾｯﾄ要求ﾌﾗｸﾞ
CON
RES MR12214              ; ﾌｨﾙﾑｾｯﾄ要求SW1処理
CON
JMP @MR1302
;ﾌｨﾙﾑ捨てだし分岐
STG @MR1400
MPS
ANB MR10003              ; 切出し台ﾌｨﾙﾑ残り有り
JMP @MR1500              ; T1原点復帰終了
MPP
AND MR10003              ; 切出し台ﾌｨﾙﾑ残り有り
MPS
ANB MR10102              ; ﾌｨﾙﾑｶｯﾄ済み
JMP @MR1401
MPP
AND MR10102              ; ﾌｨﾙﾑｶｯﾄ済み
JMP @MR1500              ; T1原点復帰終了
;ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作
STG @MR1401
ANB @MR4500              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作CALL
ANB @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
ANB @MR4502              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作BUSY
SET @MR4500              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作CALL
CON
JMP @MR1402
STG @MR1402
AND @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
RES @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
CON
JMP @MR1403
STG @MR1403
SET MR10102              ; ﾌｨﾙﾑｶｯﾄ済み
CON
JMP @MR1500              ; T1原点復帰終了
;T1原点復帰終了
STG @MR1500              ; T1原点復帰終了
RES MR10102              ; ﾌｨﾙﾑｶｯﾄ済み
CON
JMP @MR1501
;ﾌｨﾙﾑ押さえ上昇
STG @MR1501
RES MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
AND R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
ANB R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
JMP @MR1513
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR1513
SET MR10901              ; T1ﾌｨﾙﾑﾌｨｰﾄﾞ&ｶｯﾄ終了
CON
JMP @MR1514              ; 各ﾀｽｸ終了待ち
STG @MR1514              ; 各ﾀｽｸ終了待ち
MPS
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR10900              ; T0ﾜｰｸ搬送終了
AND MR10901              ; T1ﾌｨﾙﾑﾌｨｰﾄﾞ&ｶｯﾄ終了
AND MR10902              ; T2仮溶着終了
AND MR10903              ; T3本溶着終了
ANL
JMP @MR1515              ; HOME END
STG @MR1515              ; HOME END
ANB @MR001               ; TASK1 ERROR
RES @MR1002              ; HOME中
CON
JMP LR601                ; _Grp1_Task1_Fin.STG
;<h1/>AUTO/自動動作
STG LR5401               ; _Grp1_Task1_AUTO.STG
JMP @MR3000              ; AUTO Main1
;<h1/>Auto-Main1/Autoﾒｲﾝﾙｰﾁﾝ1
;[本STG内容]
;・各TaskのAUTO動作を記述して下さい
;・動作ﾓｰﾄﾞは「AUTOAC」に格納されています(1〜32)
;・@MR3000:AUTO_Main1開始、@MR3001:AUTO_Main1完了、@MR3002:AUTO_Main1動作中
STG @MR3000              ; AUTO Main1
MPS
ANB MR10007              ; 動作ﾊﾟﾗﾒｰﾀ変更中
JMP @MR3007
MPP
AND MR10007              ; 動作ﾊﾟﾗﾒｰﾀ変更中
MPS
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANB R39104               ; SELECT_Y_N Interlock
ANL
MPS
AND MR10015              ; 動ﾊﾟﾗ変更後AUTO実行
SET @MR3002              ; AUTO Main1 Busy
CON
JMP @MR3004
MPP
AND MR10014              ; 動ﾊﾟﾗ変更後AUTOｷｬﾝｾﾙ
JMP LR601                ; _Grp1_Task1_Fin.STG
STG @MR3004
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
LDB R46106               ; _定停止移行中
AND MR5304               ; ﾋｰﾀ1条件(仮溶着)
AND MR5306               ; ﾋｰﾀ2条件(本溶着SEED)
AND MR5308               ; ﾋｰﾀ3条件(本溶着STR)
ANL
JMP @MR3007
MPP
AND R46106               ; _定停止移行中
JMP @MR3900              ; Auto終了処理
MPP
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;<h1/>自動開始
;台紙ｸﾗﾝﾌﾟ開
STG @MR3007
RES MR10602              ; 台紙ｸﾗﾝﾌﾟ閉
CON
SET MR10603              ; 台紙ｸﾗﾝﾌﾟ開
CON
MPS
LDB MR7303               ; 台紙ｸﾗﾝﾌﾟ開限Err
ANB R7302                ; 台紙ｸﾗﾝﾌﾟ閉限
AND R7303                ; 台紙ｸﾗﾝﾌﾟ開限
ANL
JMP @MR3008
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7303               ; 台紙ｸﾗﾝﾌﾟ開限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ押さえ下降
STG @MR3008
SET MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANB R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
AND R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
JMP @MR3009
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANL
SET @MR1900              ; Main1 HALT許可
;切出し台ﾌｨﾙﾑ有無確認
STG @MR3009
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
RES MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
SET MR10406              ; ｶｯﾄ後下1吸着ON
CON
TMR @27 #10              ; 押さえ吸着ONﾀｲﾏ
CON
AND @T27                 ; 押さえ吸着ONﾀｲﾏ
JMP @MR3010
STG @MR3010
MPS
LDB R7604                ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
AND R7605                ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
ANL
RES MR10406              ; ｶｯﾄ後下1吸着ON
CON
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
SET MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
JMP @MR3100              ; ﾎﾟｰｽﾞ&停止ﾁｪｯｸ
MPP
LD R7604                 ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
ORB R7605                ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
ANL
RES MR10406              ; ｶｯﾄ後下1吸着ON
CON
RES MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
SET MR10407              ; ｶｯﾄ後下1吸着OFF
CON
RES MR10409              ; ｶｯﾄ後下2吸着ON
CON
RES MR10411              ; ｶｯﾄ後下2吸着破壊ON
CON
SET MR10410              ; ｶｯﾄ後下2吸着OFF
CON
SET MR12109              ; 切出しﾌｨﾙﾑ除去要求
CON
JMP @MR3011
;切出しﾌｨﾙﾑ除去要求
STG @MR3011
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12110              ; 切出しﾌｨﾙﾑ除去要求SW1処理
RES MR12110              ; 切出しﾌｨﾙﾑ除去要求SW1処理
CON
JMP @MR3009
MPP
AND MR12111              ; 切出しﾌｨﾙﾑ除去要求SW2処理
RES MR12111              ; 切出しﾌｨﾙﾑ除去要求SW2処理
CON
JMP @MR3012
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑﾛｰﾙ確認
STG @MR3012
ANB @MR6300              ; ﾌｨﾙﾑﾛｰﾙ確認CALL
ANB @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
ANB @MR6302              ; ﾌｨﾙﾑﾛｰﾙ確認BUSY
SET @MR6300              ; ﾌｨﾙﾑﾛｰﾙ確認CALL
CON
JMP @MR3013
STG @MR3013
AND @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
RES @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
CON
JMP @MR3014
;ﾌｨﾙﾑ送り(6mm)&ｶｯﾄ
STG @MR3014
ANB @MR4500              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作CALL
ANB @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
ANB @MR4502              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作BUSY
SET @MR4500              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作CALL
CON
JMP @MR3015
STG @MR3015
AND @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
RES @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
CON
JMP @MR3009
;ﾎﾟｰｽﾞﾁｪｯｸ
STG @MR3100              ; ﾎﾟｰｽﾞ&停止ﾁｪｯｸ
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
ANB R46106               ; _定停止移行中
SET R47000               ; _処理時間1計測開始
CON
JMP @MR3101              ; 押さえｼﾌﾄ後退(STR)
MPP
AND R46106               ; _定停止移行中
JMP @MR3900              ; Auto終了処理
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;押さえｼﾌﾄ後退(STR)
STG @MR3101              ; 押さえｼﾌﾄ後退(STR)
RES MR10700              ; ﾌｨﾙﾑｶｯﾄ押さえｼﾌﾄ前進
CON
SET MR10701              ; ﾌｨﾙﾑｶｯﾄ押さえｼﾌﾄ後退
CON
MPS
LDB MR7406               ; 押さえｼﾌﾄ後退限Err
AND R7406                ; 押さえｼﾌﾄ後退限
ANB R7407                ; 押さえｼﾌﾄ前進限
ANL
JMP @MR3200              ; 機種分岐
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7406               ; 押さえｼﾌﾄ後退限Err
ANL
SET @MR1900              ; Main1 HALT許可
;機種分岐
;SEE:DM400=0
;STR:DM400<>0
STG @MR3200              ; 機種分岐
MPS
AND= DM400 #0            ; _機種分類1　機種別ﾃﾞｰﾀ1
JMP @MR3302              ; ﾌｨﾙﾑﾛｰﾙ確認
MPP
AND<> DM400 #0           ; _機種分類1　機種別ﾃﾞｰﾀ1
JMP @MR3201              ; ﾌｨﾙﾑﾛｰﾙ確認
;STRのみ
;ﾌｨﾙﾑﾛｰﾙ確認
STG @MR3201              ; ﾌｨﾙﾑﾛｰﾙ確認
ANB @MR6300              ; ﾌｨﾙﾑﾛｰﾙ確認CALL
ANB @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
ANB @MR6302              ; ﾌｨﾙﾑﾛｰﾙ確認BUSY
SET @MR6300              ; ﾌｨﾙﾑﾛｰﾙ確認CALL
CON
JMP @MR3202              ; ﾌｨﾙﾑﾛｰﾙ確認待ち
STG @MR3202              ; ﾌｨﾙﾑﾛｰﾙ確認待ち
AND @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
RES @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
CON
MPS
ANB MR10910              ; RESTARTﾌﾗｸﾞ
JMP @MR3300              ; ﾌｨﾙﾑ送り(10mm)動作
MPP
AND MR10910              ; RESTARTﾌﾗｸﾞ
JMP @MR3203
;STRのみ
;ﾌｨﾙﾑ送り(6mm)&ｶｯﾄ(※仕切りなおし)
STG @MR3203
ANB @MR4500              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作CALL
ANB @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
ANB @MR4502              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作BUSY
SET @MR4500              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作CALL
CON
JMP @MR3204
STG @MR3204
AND @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
RES @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
CON
RES MR10910              ; RESTARTﾌﾗｸﾞ
CON
JMP @MR3201              ; ﾌｨﾙﾑﾛｰﾙ確認
;STRのみ
;ﾌｨﾙﾑ送り(10mm)動作
STG @MR3300              ; ﾌｨﾙﾑ送り(10mm)動作
ANB @MR5000              ; ﾌｨﾙﾑ送り大(10mm)動作
ANB @MR5501              ; ﾌｨﾙﾑ送り大(10mm)動作完了
ANB @MR5002              ; ﾌｨﾙﾑ送り大(10mm)動作BUSY
SET @MR5000              ; ﾌｨﾙﾑ送り大(10mm)動作
CON
JMP @MR3301              ; ﾌｨﾙﾑ送り(10mm)動作待ち
STG @MR3301              ; ﾌｨﾙﾑ送り(10mm)動作待ち
AND @MR5501              ; ﾌｨﾙﾑ送り大(10mm)動作完了
RES @MR5501              ; ﾌｨﾙﾑ送り大(10mm)動作完了
CON
JMP @MR3302              ; ﾌｨﾙﾑﾛｰﾙ確認
;↓＊＊＊SEE＆STR共通動作＊＊＊＊
;ﾌｨﾙﾑﾛｰﾙ確認
STG @MR3302              ; ﾌｨﾙﾑﾛｰﾙ確認
ANB @MR6300              ; ﾌｨﾙﾑﾛｰﾙ確認CALL
ANB @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
ANB @MR6302              ; ﾌｨﾙﾑﾛｰﾙ確認BUSY
SET @MR6300              ; ﾌｨﾙﾑﾛｰﾙ確認CALL
CON
JMP @MR3303              ; ﾌｨﾙﾑﾛｰﾙ確認待ち
STG @MR3303              ; ﾌｨﾙﾑﾛｰﾙ確認待ち
AND @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
RES @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
CON
MPS
ANB MR10910              ; RESTARTﾌﾗｸﾞ
JMP @MR3307
MPP
AND MR10910              ; RESTARTﾌﾗｸﾞ
JMP @MR3304
;機種分岐
;SEE:DM400=0
;STR:DM400<>0
STG @MR3304
MPS
AND= DM400 #0            ; _機種分類1　機種別ﾃﾞｰﾀ1
JMP @MR3305
MPP
AND<> DM400 #0           ; _機種分類1　機種別ﾃﾞｰﾀ1
JMP @MR3203
;ﾌｨﾙﾑ送り(6mm)&ｶｯﾄ(※仕切りなおし)
STG @MR3305
ANB @MR4500              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作CALL
ANB @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
ANB @MR4502              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作BUSY
SET @MR4500              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作CALL
CON
JMP @MR3306
STG @MR3306
AND @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
RES @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
CON
RES MR10910              ; RESTARTﾌﾗｸﾞ
CON
JMP @MR3302              ; ﾌｨﾙﾑﾛｰﾙ確認
;ﾌｨﾙﾑ送り(6mm)&ｶｯﾄ（通常)
STG @MR3307
ANB @MR4500              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作CALL
ANB @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
ANB @MR4502              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作BUSY
SET @MR4500              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作CALL
CON
JMP @MR3308
STG @MR3308
AND @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
RES @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
CON
JMP @MR3400              ; ﾌｨﾙﾑ取出し待ち
;ﾌｨﾙﾑ取出し待ち
STG @MR3400              ; ﾌｨﾙﾑ取出し待ち
SET R47100               ; _処理時間1取得
CON
JMP @MR3401
STG @MR3401
MPS
ANB LR100                ; _割り込みSW1　ON/OFF状態
SET MR10009              ; T1→T2ﾌｨﾙﾑﾌｨｰﾄﾞ&ｶｯﾄ完了
CON
JMP @MR3407
MPP
AND LR100                ; _割り込みSW1　ON/OFF状態
RES MR10406              ; ｶｯﾄ後下1吸着ON
CON
RES MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
SET MR10407              ; ｶｯﾄ後下1吸着OFF
CON
RES MR10409              ; ｶｯﾄ後下2吸着ON
CON
RES MR10411              ; ｶｯﾄ後下2吸着破壊ON
CON
SET MR10410              ; ｶｯﾄ後下2吸着OFF
CON
SET MR12109              ; 切出しﾌｨﾙﾑ除去要求
CON
JMP @MR3402
;切出しﾌｨﾙﾑ除去要求
STG @MR3402
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12110              ; 切出しﾌｨﾙﾑ除去要求SW1処理
RES LR100                ; _割り込みSW1　ON/OFF状態
CON
RES MR12110              ; 切出しﾌｨﾙﾑ除去要求SW1処理
CON
JMP @MR3501
MPP
AND MR12111              ; 切出しﾌｨﾙﾑ除去要求SW2処理
RES MR12111              ; 切出しﾌｨﾙﾑ除去要求SW2処理
CON
JMP @MR3012
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
STG @MR3407
MPS
ANB MR10011              ; ﾒﾝﾃﾌﾗｸﾞ
JMP @MR3500
MPP
AND MR10011              ; ﾒﾝﾃﾌﾗｸﾞ
JMP @MR2910              ; Mainte END処理
STG @MR3500
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
LDB MR10900              ; T0ﾜｰｸ搬送終了
AND MR10010              ; T2→T1ﾌｨﾙﾑﾌｨｰﾄﾞ&ｶｯﾄ許可
ANL
RES MR10010              ; T2→T1ﾌｨﾙﾑﾌｨｰﾄﾞ&ｶｯﾄ許可
CON
JMP @MR3501
MPP
LD MR10900               ; T0ﾜｰｸ搬送終了
AND R46106               ; _定停止移行中
ANL
JMP @MR3900              ; Auto終了処理
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ確認
STG @MR3501
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
RES MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
SET MR10406              ; ｶｯﾄ後下1吸着ON
CON
RES MR10410              ; ｶｯﾄ後下2吸着OFF
CON
RES MR10411              ; ｶｯﾄ後下2吸着破壊ON
CON
SET MR10409              ; ｶｯﾄ後下2吸着ON
CON
TMR @46 #5
CON
AND @T46
JMP @MR3502
STG @MR3502
MPS
LDB R7604                ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
AND R7605                ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
ANB R7606                ; ｶｯﾄ後下2圧力ｾﾝｻOUT1
AND R7607                ; ｶｯﾄ後下2圧力ｾﾝｻOUT2
ANL
RES MR10406              ; ｶｯﾄ後下1吸着ON
CON
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
SET MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
RES MR10409              ; ｶｯﾄ後下2吸着ON
CON
RES MR10410              ; ｶｯﾄ後下2吸着OFF
CON
SET MR10411              ; ｶｯﾄ後下2吸着破壊ON
CON
JMP @MR3600              ; AUTO1ｻｲｸﾙ完了
MPP
LD R7604                 ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
ORB R7605                ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
OR R7606                 ; ｶｯﾄ後下2圧力ｾﾝｻOUT1
ORB R7607                ; ｶｯﾄ後下2圧力ｾﾝｻOUT2
ANL
SET MR12109              ; 切出しﾌｨﾙﾑ除去要求
CON
JMP @MR3503
;切出しﾌｨﾙﾑ除去要求
STG @MR3503
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12110              ; 切出しﾌｨﾙﾑ除去要求SW1処理
RES MR12110              ; 切出しﾌｨﾙﾑ除去要求SW1処理
CON
JMP @MR3501
MPP
AND MR12111              ; 切出しﾌｨﾙﾑ除去要求SW2処理
RES MR12111              ; 切出しﾌｨﾙﾑ除去要求SW2処理
CON
JMP @MR3012
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;先頭へ
STG @MR3600              ; AUTO1ｻｲｸﾙ完了
JMP @MR3100              ; ﾎﾟｰｽﾞ&停止ﾁｪｯｸ
;Auto終了処理
STG @MR3900              ; Auto終了処理
MPS
AND MR10902              ; T2仮溶着終了
RES @MR4001              ; Main2 END
CON
JMP @MR3901
MPP
LDB MR10902              ; T2仮溶着終了
AND MR10912              ; 定停止移行中T1再動作要求
ANL
JMP @MR3101              ; 押さえｼﾌﾄ後退(STR)
;切出し台ﾌｨﾙﾑ有無確認
STG @MR3901
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
RES MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
SET MR10406              ; ｶｯﾄ後下1吸着ON
CON
TMR @31 #10              ; ｶｯﾄ後下1吸着ONﾀｲﾏ
CON
AND @T31                 ; ｶｯﾄ後下1吸着ONﾀｲﾏ
JMP @MR3902
STG @MR3902
MPS
LDB R7604                ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
AND R7605                ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
ANL
RES MR10406              ; ｶｯﾄ後下1吸着ON
CON
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
SET MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
JMP @MR3908              ; ﾌｨﾙﾑ押さえ上昇
MPP
LD R7604                 ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
ORB R7605                ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
ANL
RES MR10406              ; ｶｯﾄ後下1吸着ON
CON
RES MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
SET MR10407              ; ｶｯﾄ後下1吸着OFF
CON
RES MR10409              ; ｶｯﾄ後下2吸着ON
CON
RES MR10411              ; ｶｯﾄ後下2吸着破壊ON
CON
SET MR10410              ; ｶｯﾄ後下2吸着OFF
CON
SET MR12109              ; 切出しﾌｨﾙﾑ除去要求
CON
JMP @MR3903
;切出しﾌｨﾙﾑ除去要求
STG @MR3903
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12110              ; 切出しﾌｨﾙﾑ除去要求SW1処理
RES MR12110              ; 切出しﾌｨﾙﾑ除去要求SW1処理
CON
JMP @MR3901
MPP
AND MR12111              ; 切出しﾌｨﾙﾑ除去要求SW2処理
SET MR10109              ; ﾌｨﾙﾑ除去用ﾌﾗｸﾞ
CON
RES MR12111              ; 切出しﾌｨﾙﾑ除去要求SW2処理
CON
JMP @MR3904
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑﾛｰﾙ確認
STG @MR3904
ANB @MR6300              ; ﾌｨﾙﾑﾛｰﾙ確認CALL
ANB @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
ANB @MR6302              ; ﾌｨﾙﾑﾛｰﾙ確認BUSY
SET @MR6300              ; ﾌｨﾙﾑﾛｰﾙ確認CALL
CON
JMP @MR3905
STG @MR3905
AND @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
RES @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
CON
JMP @MR3906
;ﾌｨﾙﾑ送り(6mm)&ｶｯﾄ
STG @MR3906
ANB @MR4500              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作CALL
ANB @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
ANB @MR4502              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作BUSY
SET @MR4500              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作CALL
CON
JMP @MR3907
STG @MR3907
AND @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
RES @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
CON
JMP @MR3901
;ﾌｨﾙﾑ押さえ上昇
STG @MR3908              ; ﾌｨﾙﾑ押さえ上昇
RES MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
AND R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
ANB R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
SET MR10901              ; T1ﾌｨﾙﾑﾌｨｰﾄﾞ&ｶｯﾄ終了
CON
JMP @MR3915              ; AUTO END
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR3915              ; AUTO END
MPS
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR10900              ; T0ﾜｰｸ搬送終了
AND MR10901              ; T1ﾌｨﾙﾑﾌｨｰﾄﾞ&ｶｯﾄ終了
AND MR10902              ; T2仮溶着終了
AND MR10903              ; T3本溶着終了
ANL
JMP LR601                ; _Grp1_Task1_Fin.STG
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;<h1/>Auto-Main2/Autoﾒｲﾝﾙｰﾁﾝ2
;[本STG内容]
;・@MR4000の起動はMain1にて行う事
;・@MR4000:AUTO_Main2開始、@MR4001:AUTO_Main2完了、@MR4002:AUTO_Main2動作中
STG @MR4000              ; AUTO Main2
SET @MR4002              ; Main2 Busy
CON
JMP @MR4003
STG @MR4003
JMP @MR4415              ; Main2 END
STG @MR4415              ; Main2 END
SET @MR4001              ; Main2 END
CON
RES @MR4002              ; Main2 Busy
CON
ENDS
;<h1/>MAINTE/ﾒﾝﾃﾅﾝｽ動作
;[本STG内容]
;・各TaskのMAINTE動作を記述して下さい
;・動作ﾓｰﾄﾞは「MAINTEAC*」に格納されています(1〜32)
;・動作終了時は@MR2915にJMPして下さい
STG LR5601               ; _Grp1_Task1_MAINTE.STG
JMP @MR2000              ; Mainte
STG @MR2000              ; Mainte
SET @MR2002              ; Mainte中
CON
JMP @MR2003
LD @MR2002               ; Mainte中
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
AND R7615                ; ｴﾘｱｾﾝｻｰ出力
OUT @MR2008              ; Task0_Mainte_可能
STG @MR2003
MPS
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND= DM4110 #1           ; _Group1　ﾒﾝﾃ動作番号
JMP @MR2009              ; ﾒﾝﾃ:ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作
MRD
AND= DM4110 #2           ; _Group1　ﾒﾝﾃ動作番号
JMP @MR2100              ; ﾒﾝﾃ:ﾌｨﾙﾑ送り(10mm)動作(STRのみ)
MRD
AND= DM4110 #3           ; _Group1　ﾒﾝﾃ動作番号
JMP @MR2200
MRD
AND= DM4110 #4           ; _Group1　ﾒﾝﾃ動作番号
JMP @MR2910              ; Mainte END処理
MRD
AND= DM4110 #25          ; _Group1　ﾒﾝﾃ動作番号
@DW #2000 DM3008         ; _MainTP　切替ﾍﾟｰｼﾞNo
CON
AND MR23400              ; 単動終了sw
JMP @MR2910              ; Mainte END処理
MRD
AND= DM4110 #26          ; _Group1　ﾒﾝﾃ動作番号
@DW #2150 DM3008         ; _MainTP　切替ﾍﾟｰｼﾞNo
CON
LDP R44915               ; Teaching End
ORP MR10000              ; Teaching End2
ANL
JMP @MR2910              ; Mainte END処理
MPP
AND R47800               ; _Group1　ﾒﾝﾃ動作定停止移行中
JMP @MR2910              ; Mainte END処理
;<h1/>ｼﾘﾝﾀﾞ_単動動作　
LD @MR2008               ; Task0_Mainte_可能
ANP MR20000              ; TPSW_巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇
ANB MR20001              ; TPSW_巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ下降
RES MR10601              ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ下降
CON
SET MR10600              ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇
LD @MR2008               ; Task0_Mainte_可能
ANP MR20001              ; TPSW_巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ下降
ANB MR20000              ; TPSW_巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇
RES MR10600              ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇
CON
SET MR10601              ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ下降
LD @MR2008               ; Task0_Mainte_可能
ANP MR20002              ; TPSW_台紙ｸﾗﾝﾌﾟ戻り
ANB MR20003              ; TPSW_台紙ｸﾗﾝﾌﾟ出
RES MR10603              ; 台紙ｸﾗﾝﾌﾟ開
CON
SET MR10602              ; 台紙ｸﾗﾝﾌﾟ閉
LD @MR2008               ; Task0_Mainte_可能
ANP MR20003              ; TPSW_台紙ｸﾗﾝﾌﾟ出
ANB MR20002              ; TPSW_台紙ｸﾗﾝﾌﾟ戻り
RES MR10602              ; 台紙ｸﾗﾝﾌﾟ閉
CON
SET MR10603              ; 台紙ｸﾗﾝﾌﾟ開
LD @MR2008               ; Task0_Mainte_可能
ANP MR20005              ; TPSW_ﾌｨﾙﾑ切出し台前進
ANB MR20004              ; TPSW_ﾌｨﾙﾑ切出し台後退
ANB MR20306              ; TPSW_ﾌｨﾙﾑ切出し台OFF
ANB R7413                ; 仮溶着ﾍｯﾄﾞ移動ｶｯﾄ側
AND R7412                ; 仮溶着ﾍｯﾄﾞ移動溶着側
RES MR10605              ; ﾌｨﾙﾑ切出し台後退
CON
SET MR10604              ; ﾌｨﾙﾑ切出し台前進
LD @MR2008               ; Task0_Mainte_可能
ANP MR20004              ; TPSW_ﾌｨﾙﾑ切出し台後退
ANB MR20005              ; TPSW_ﾌｨﾙﾑ切出し台前進
ANB MR20306              ; TPSW_ﾌｨﾙﾑ切出し台OFF
RES MR10604              ; ﾌｨﾙﾑ切出し台前進
CON
SET MR10605              ; ﾌｨﾙﾑ切出し台後退
LD @MR2008               ; Task0_Mainte_可能
ANP MR20306              ; TPSW_ﾌｨﾙﾑ切出し台OFF
ANB MR20005              ; TPSW_ﾌｨﾙﾑ切出し台前進
ANB MR20006              ; TPSW_ｶｯﾄ部ﾌｨﾙﾑ押さえ上昇
RES MR10604              ; ﾌｨﾙﾑ切出し台前進
CON
RES MR10605              ; ﾌｨﾙﾑ切出し台後退
LDB R10604               ; ﾌｨﾙﾑ切出し台前進
ANB R10605               ; ﾌｨﾙﾑ切出し台後退
OUT MR20406              ; TPSW_ﾌｨﾙﾑ切出し台OFFﾗﾝﾌﾟ
LD @MR2008               ; Task0_Mainte_可能
OR MR10104               ; 押さえ上下SW表示
ANP MR20006              ; TPSW_ｶｯﾄ部ﾌｨﾙﾑ押さえ上昇
ANB MR20007              ; TPSW_ｶｯﾄ部ﾌｨﾙﾑ押さえ下降
RES MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
LD @MR2008               ; Task0_Mainte_可能
OR MR10104               ; 押さえ上下SW表示
ANP MR20007              ; TPSW_ｶｯﾄ部ﾌｨﾙﾑ押さえ下降
ANB MR20006              ; TPSW_ｶｯﾄ部ﾌｨﾙﾑ押さえ上昇
SET MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
LD @MR2008               ; Task0_Mainte_可能
ANP MR20008              ; TPSW_ｶｯﾀｰ後退
ANB MR20009              ; TPSW_ｶｯﾀｰ前進
LD R7312                 ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
AND R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
LDB R7400                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進限
AND R7401                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退限
ANB R7310                ; ﾌｨﾙﾑ切出し台前進限
AND R7311                ; ﾌｨﾙﾑ切出し台後退限
ORL
ANL
RES MR10609              ; ｶｯﾀｰ前進
CON
SET MR10608              ; ｶｯﾀｰ後退
LD @MR2008               ; Task0_Mainte_可能
ANP MR20009              ; TPSW_ｶｯﾀｰ前進
ANB MR20008              ; TPSW_ｶｯﾀｰ後退
LD R7312                 ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
AND R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
LDB R7400                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進限
AND R7401                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退限
ANB R7310                ; ﾌｨﾙﾑ切出し台前進限
AND R7311                ; ﾌｨﾙﾑ切出し台後退限
ORL
ANL
RES MR10608              ; ｶｯﾀｰ後退
CON
SET MR10609              ; ｶｯﾀｰ前進
LD @MR2008               ; Task0_Mainte_可能
ANP MR20010              ; TPSW_ｶｯﾄ部ﾌｨﾙﾑ押さえ前進
ANB MR20011              ; TPSW_ｶｯﾄ部ﾌｨﾙﾑ押さえ後退
ANB R7413                ; 仮溶着ﾍｯﾄﾞ移動ｶｯﾄ側
AND R7412                ; 仮溶着ﾍｯﾄﾞ移動溶着側
RES MR10611              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退
CON
SET MR10610              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進
LD @MR2008               ; Task0_Mainte_可能
ANP MR20011              ; TPSW_ｶｯﾄ部ﾌｨﾙﾑ押さえ後退
ANB MR20010              ; TPSW_ｶｯﾄ部ﾌｨﾙﾑ押さえ前進
AND R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
ANB R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
RES MR10610              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進
CON
SET MR10611              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退
LD @MR2008               ; Task0_Mainte_可能
ANP MR20012              ; TPSW_切出台押さえ同調前進
ANB MR20013              ; TPSW_切出台押さえ同調後退
RES MR10613              ; 切出台押さえ同期戻り
CON
SET MR10612              ; 切出台押さえ同期出
LD @MR2008               ; Task0_Mainte_可能
ANP MR20013              ; TPSW_切出台押さえ同調後退
ANB MR20012              ; TPSW_切出台押さえ同調前進
RES MR10612              ; 切出台押さえ同期出
CON
SET MR10613              ; 切出台押さえ同期戻り
LD @MR2008               ; Task0_Mainte_可能
ANP MR20014              ; TPSW_切出台ｼﾌﾄ前進
ANB MR20015              ; TPSW_切出台ｼﾌﾄ後退
RES MR10615              ; 切出台ｼﾌﾄ後退
CON
SET MR10614              ; 切出台ｼﾌﾄ前進
LD @MR2008               ; Task0_Mainte_可能
ANP MR20015              ; TPSW_切出台ｼﾌﾄ後退
ANB MR20014              ; TPSW_切出台ｼﾌﾄ前進
RES MR10614              ; 切出台ｼﾌﾄ前進
CON
SET MR10615              ; 切出台ｼﾌﾄ後退
LD @MR2008               ; Task0_Mainte_可能
ANP MR20100              ; TPSW_ﾌｨﾙﾑｶｯﾄ押さえｼﾌﾄ後退
ANB MR20101              ; TPSW_ﾌｨﾙﾑｶｯﾄ押さえｼﾌﾄ前進
RES MR10700              ; ﾌｨﾙﾑｶｯﾄ押さえｼﾌﾄ前進
CON
SET MR10701              ; ﾌｨﾙﾑｶｯﾄ押さえｼﾌﾄ後退
LD @MR2008               ; Task0_Mainte_可能
ANP MR20101              ; TPSW_ﾌｨﾙﾑｶｯﾄ押さえｼﾌﾄ前進
ANB MR20100              ; TPSW_ﾌｨﾙﾑｶｯﾄ押さえｼﾌﾄ後退
ANB R7413                ; 仮溶着ﾍｯﾄﾞ移動ｶｯﾄ側
AND R7412                ; 仮溶着ﾍｯﾄﾞ移動溶着側
RES MR10701              ; ﾌｨﾙﾑｶｯﾄ押さえｼﾌﾄ後退
CON
SET MR10700              ; ﾌｨﾙﾑｶｯﾄ押さえｼﾌﾄ前進
LD @MR2008               ; Task0_Mainte_可能
ANP MR20215              ; TPSW_巻取りﾓｰﾀｱﾗｰﾑ解除
ANB R5302                ; 巻取りﾓｰﾀｱﾗｰﾑ
SET MR6007               ; ﾌｨﾙﾑ巻取りﾓｰﾀ異常解除
LD @MR2008               ; Task0_Mainte_可能
OR MR10908               ; ﾌｨﾙﾑ捲れ押さえSW表示
ANP MR20307              ; TPSW_ﾌｨﾙﾑ捲れ押さえ閉
ANB MR20308              ; TPSW_ﾌｨﾙﾑ捲れ押さえ開
ANB R7413                ; 仮溶着ﾍｯﾄﾞ移動ｶｯﾄ側
AND R7412                ; 仮溶着ﾍｯﾄﾞ移動溶着側
RES MR10715              ; ﾌｨﾙﾑ捲れ押さえ開
CON
SET MR10714              ; ﾌｨﾙﾑ捲れ押さえ閉
LD @MR2008               ; Task0_Mainte_可能
OR MR10908               ; ﾌｨﾙﾑ捲れ押さえSW表示
ANP MR20308              ; TPSW_ﾌｨﾙﾑ捲れ押さえ開
ANB MR20307              ; TPSW_ﾌｨﾙﾑ捲れ押さえ閉
RES MR10714              ; ﾌｨﾙﾑ捲れ押さえ閉
CON
SET MR10715              ; ﾌｨﾙﾑ捲れ押さえ開
;吸着
LD @MR2008               ; Task0_Mainte_可能
ANP MR20200              ; TPSW_ｶｯﾄ1個前下吸着ON(切出し台)
ANB MR20201              ; TPSW_ｶｯﾄ1個前下吸着OFF(切出し台)
ANB MR20202              ; TPSW_ｶｯﾄ1個前下吸着破壊ON(切出し
RES MR10401              ; ｶｯﾄ1個前下吸着OFF(切出し台)
CON
RES MR10402              ; ｶｯﾄ1個前下吸着破壊ON(切出し台)
CON
SET MR10400              ; ｶｯﾄ1個前下吸着ON(切出し台)
LD @MR2008               ; Task0_Mainte_可能
ANP MR20201              ; TPSW_ｶｯﾄ1個前下吸着OFF(切出し台)
ANB MR20200              ; TPSW_ｶｯﾄ1個前下吸着ON(切出し台)
ANB MR20202              ; TPSW_ｶｯﾄ1個前下吸着破壊ON(切出し
RES MR10400              ; ｶｯﾄ1個前下吸着ON(切出し台)
CON
RES MR10402              ; ｶｯﾄ1個前下吸着破壊ON(切出し台)
CON
SET MR10401              ; ｶｯﾄ1個前下吸着OFF(切出し台)
LD @MR2008               ; Task0_Mainte_可能
ANP MR20202              ; TPSW_ｶｯﾄ1個前下吸着破壊ON(切出し
ANB MR20200              ; TPSW_ｶｯﾄ1個前下吸着ON(切出し台)
ANB MR20201              ; TPSW_ｶｯﾄ1個前下吸着OFF(切出し台)
RES MR10400              ; ｶｯﾄ1個前下吸着ON(切出し台)
CON
RES MR10401              ; ｶｯﾄ1個前下吸着OFF(切出し台)
CON
SET MR10402              ; ｶｯﾄ1個前下吸着破壊ON(切出し台)
LD @MR2008               ; Task0_Mainte_可能
ANP MR20203              ; TPSW_ｶｯﾄ2個前下吸着ON
ANB MR20204              ; TPSW_ｶｯﾄ2個前下吸着OFF
ANB MR20205              ; TPSW_ｶｯﾄ2個前下吸着破壊ON
RES MR10404              ; ｶｯﾄ2個前下吸着OFF
CON
RES MR10405              ; ｶｯﾄ2個前下吸着破壊ON
CON
SET MR10403              ; ｶｯﾄ2個前下吸着ON
LD @MR2008               ; Task0_Mainte_可能
ANP MR20204              ; TPSW_ｶｯﾄ2個前下吸着OFF
ANB MR20203              ; TPSW_ｶｯﾄ2個前下吸着ON
ANB MR20205              ; TPSW_ｶｯﾄ2個前下吸着破壊ON
RES MR10403              ; ｶｯﾄ2個前下吸着ON
CON
RES MR10405              ; ｶｯﾄ2個前下吸着破壊ON
CON
SET MR10404              ; ｶｯﾄ2個前下吸着OFF
LD @MR2008               ; Task0_Mainte_可能
ANP MR20205              ; TPSW_ｶｯﾄ2個前下吸着破壊ON
ANB MR20203              ; TPSW_ｶｯﾄ2個前下吸着ON
ANB MR20204              ; TPSW_ｶｯﾄ2個前下吸着OFF
RES MR10403              ; ｶｯﾄ2個前下吸着ON
CON
RES MR10404              ; ｶｯﾄ2個前下吸着OFF
CON
SET MR10405              ; ｶｯﾄ2個前下吸着破壊ON
LD @MR2008               ; Task0_Mainte_可能
ANP MR20206              ; TPSW_ｶｯﾄ後下1吸着ON
ANB MR20207              ; TPSW_ｶｯﾄ後下1吸着OFF
ANB MR20208              ; TPSW_ｶｯﾄ後下1吸着破壊ON
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
RES MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
SET MR10406              ; ｶｯﾄ後下1吸着ON
LD @MR2008               ; Task0_Mainte_可能
ANP MR20207              ; TPSW_ｶｯﾄ後下1吸着OFF
ANB MR20206              ; TPSW_ｶｯﾄ後下1吸着ON
ANB MR20208              ; TPSW_ｶｯﾄ後下1吸着破壊ON
RES MR10406              ; ｶｯﾄ後下1吸着ON
CON
RES MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
SET MR10407              ; ｶｯﾄ後下1吸着OFF
LD @MR2008               ; Task0_Mainte_可能
ANP MR20208              ; TPSW_ｶｯﾄ後下1吸着破壊ON
ANB MR20206              ; TPSW_ｶｯﾄ後下1吸着ON
ANB MR20207              ; TPSW_ｶｯﾄ後下1吸着OFF
RES MR10406              ; ｶｯﾄ後下1吸着ON
CON
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
SET MR10408              ; ｶｯﾄ後下1吸着破壊ON
LD @MR2008               ; Task0_Mainte_可能
ANP MR20209              ; TPSW_ｶｯﾄ後下2吸着ON
ANB MR20210              ; TPSW_ｶｯﾄ後下2吸着OFF
ANB MR20211              ; TPSW_ｶｯﾄ後下2吸着破壊ON
RES MR10410              ; ｶｯﾄ後下2吸着OFF
CON
RES MR10411              ; ｶｯﾄ後下2吸着破壊ON
CON
SET MR10409              ; ｶｯﾄ後下2吸着ON
LD @MR2008               ; Task0_Mainte_可能
ANP MR20210              ; TPSW_ｶｯﾄ後下2吸着OFF
ANB MR20209              ; TPSW_ｶｯﾄ後下2吸着ON
ANB MR20211              ; TPSW_ｶｯﾄ後下2吸着破壊ON
RES MR10409              ; ｶｯﾄ後下2吸着ON
CON
RES MR10411              ; ｶｯﾄ後下2吸着破壊ON
CON
SET MR10410              ; ｶｯﾄ後下2吸着OFF
LD @MR2008               ; Task0_Mainte_可能
ANP MR20211              ; TPSW_ｶｯﾄ後下2吸着破壊ON
ANB MR20209              ; TPSW_ｶｯﾄ後下2吸着ON
ANB MR20210              ; TPSW_ｶｯﾄ後下2吸着OFF
RES MR10409              ; ｶｯﾄ後下2吸着ON
CON
RES MR10410              ; ｶｯﾄ後下2吸着OFF
CON
SET MR10411              ; ｶｯﾄ後下2吸着破壊ON
LD @MR2008               ; Task0_Mainte_可能
ANP MR20212              ; TPSW_押さえ吸着ON
ANB MR20213              ; TPSW_押さえ吸着OFF
ANB MR20214              ; TPSW_押さえ吸着破壊ON
RES MR10413              ; 押さえ吸着OFF
CON
RES MR10414              ; 押さえ吸着破壊ON
CON
SET MR10412              ; 押さえ吸着ON
LD @MR2008               ; Task0_Mainte_可能
ANP MR20213              ; TPSW_押さえ吸着OFF
ANB MR20212              ; TPSW_押さえ吸着ON
ANB MR20214              ; TPSW_押さえ吸着破壊ON
RES MR10412              ; 押さえ吸着ON
CON
RES MR10414              ; 押さえ吸着破壊ON
CON
SET MR10413              ; 押さえ吸着OFF
LD @MR2008               ; Task0_Mainte_可能
ANP MR20214              ; TPSW_押さえ吸着破壊ON
ANB MR20212              ; TPSW_押さえ吸着ON
ANB MR20213              ; TPSW_押さえ吸着OFF
RES MR10412              ; 押さえ吸着ON
CON
RES MR10413              ; 押さえ吸着OFF
CON
SET MR10414              ; 押さえ吸着破壊ON
;<h1/>STEP　通常動作
;<h1/>ﾒﾝﾃ:ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作
STG @MR2009              ; ﾒﾝﾃ:ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作
SET @MR2102              ; STEP
CON
JMP @MR2010              ; 選択待ち
STG @MR2010              ; 選択待ち
MPS
AND MR10011              ; ﾒﾝﾃﾌﾗｸﾞ
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR2011              ; ﾌｨﾙﾑﾛｰﾙ確認
MPP
LDB MR10011              ; ﾒﾝﾃﾌﾗｸﾞ
AND MR10012              ; ｷｬﾝｾﾙﾌﾗｸﾞ
ANL
JMP @MR2910              ; Mainte END処理
STG @MR2011              ; ﾌｨﾙﾑﾛｰﾙ確認
ANB @MR6300              ; ﾌｨﾙﾑﾛｰﾙ確認CALL
ANB @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
ANB @MR6302              ; ﾌｨﾙﾑﾛｰﾙ確認BUSY
SET @MR6300              ; ﾌｨﾙﾑﾛｰﾙ確認CALL
CON
JMP @MR2012              ; ﾌｨﾙﾑﾛｰﾙ確認待ち
STG @MR2012              ; ﾌｨﾙﾑﾛｰﾙ確認待ち
AND @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
RES @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
CON
JMP @MR2013              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作
STG @MR2013              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作
ANB @MR4500              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作CALL
ANB @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
ANB @MR4502              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作BUSY
SET @MR4500              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作CALL
CON
JMP @MR2014              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作待ち
STG @MR2014              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作待ち
AND @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
RES @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
CON
JMP @MR2015              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作済
STG @MR2015              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作済
JMP @MR2910              ; Mainte END処理
;<h1/>ﾒﾝﾃ:ﾌｨﾙﾑ送り(10mm)動作(STRのみ)
STG @MR2100              ; ﾒﾝﾃ:ﾌｨﾙﾑ送り(10mm)動作(STRのみ)
SET @MR2102              ; STEP
CON
JMP @MR2101              ; 選択待ち
STG @MR2101              ; 選択待ち
MPS
AND MR10011              ; ﾒﾝﾃﾌﾗｸﾞ
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR2103              ; ﾌｨﾙﾑﾛｰﾙ確認
MPP
LDB MR10011              ; ﾒﾝﾃﾌﾗｸﾞ
AND MR10012              ; ｷｬﾝｾﾙﾌﾗｸﾞ
ANL
JMP @MR2910              ; Mainte END処理
STG @MR2103              ; ﾌｨﾙﾑﾛｰﾙ確認
ANB @MR6300              ; ﾌｨﾙﾑﾛｰﾙ確認CALL
ANB @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
ANB @MR6302              ; ﾌｨﾙﾑﾛｰﾙ確認BUSY
SET @MR6300              ; ﾌｨﾙﾑﾛｰﾙ確認CALL
CON
JMP @MR2104              ; ﾌｨﾙﾑﾛｰﾙ確認待ち
STG @MR2104              ; ﾌｨﾙﾑﾛｰﾙ確認待ち
AND @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
RES @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
CON
JMP @MR2106              ; ﾌｨﾙﾑ送り大(10mm)動作
STG @MR2106              ; ﾌｨﾙﾑ送り大(10mm)動作
ANB @MR5000              ; ﾌｨﾙﾑ送り大(10mm)動作
ANB @MR5501              ; ﾌｨﾙﾑ送り大(10mm)動作完了
ANB @MR5002              ; ﾌｨﾙﾑ送り大(10mm)動作BUSY
SET @MR5000              ; ﾌｨﾙﾑ送り大(10mm)動作
CON
JMP @MR2107              ; ﾌｨﾙﾑ送り大(10mm)動作待ち
STG @MR2107              ; ﾌｨﾙﾑ送り大(10mm)動作待ち
AND @MR5501              ; ﾌｨﾙﾑ送り大(10mm)動作完了
RES @MR5501              ; ﾌｨﾙﾑ送り大(10mm)動作完了
CON
JMP @MR2108
STG @MR2108
JMP @MR2910              ; Mainte END処理
;<h1/>ﾒﾝﾃ:自動部使用前
STG @MR2200
SET @MR2102              ; STEP
CON
JMP @MR2201
STG @MR2201
MPS
AND MR10011              ; ﾒﾝﾃﾌﾗｸﾞ
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR3401
MPP
LDB MR10011              ; ﾒﾝﾃﾌﾗｸﾞ
AND MR10012              ; ｷｬﾝｾﾙﾌﾗｸﾞ
ANL
JMP @MR2910              ; Mainte END処理
;Maintenance　終了
STG @MR2910              ; Mainte END処理
MPS
AND MR10902              ; T2仮溶着終了
SET MR10901              ; T1ﾌｨﾙﾑﾌｨｰﾄﾞ&ｶｯﾄ終了
CON
JMP @MR2911              ; 各ﾀｽｸ終了待ち
MPP
LDB MR10902              ; T2仮溶着終了
AND MR10113              ; ﾌｨﾙﾑ再取出しT1(ﾒﾝﾃ時)
ANL
RES MR10113              ; ﾌｨﾙﾑ再取出しT1(ﾒﾝﾃ時)
CON
JMP @MR3401
STG @MR2911              ; 各ﾀｽｸ終了待ち
ANB @MR001               ; TASK1 ERROR
MPS
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
MPP
LDB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
OR MR23400               ; 単動終了sw
AND MR10900              ; T0ﾜｰｸ搬送終了
AND MR10901              ; T1ﾌｨﾙﾑﾌｨｰﾄﾞ&ｶｯﾄ終了
AND MR10902              ; T2仮溶着終了
AND MR10903              ; T3本溶着終了
ANL
RES @MR2102              ; STEP
CON
JMP @MR2914
STG @MR2914
MCALL HOLD_REQUEST #1
JMP @MR2915              ; Mainte END
STG @MR2915              ; Mainte END
MPS
MCALL MODE_INDI #2
MPP
ANB @MR001               ; TASK1 ERROR
JMP LR601                ; _Grp1_Task1_Fin.STG
;<h1/>ERROR
;//*Error Sample
;[使用方法]
;・@DM1にERROR番号を代入
;・@DM2にSensor番号を代入(センサ無しエラーの場合は0)
;・@DM9に復帰SW番号(1〜9、0はSW無し)をdegit単位で4桁入力
;・Task0 ERROR SET(@MR100)でエラー処理開始
;・エラー復帰でTask0 ERROR END(@MR101)がON
;・押下復帰SW番号により左から対応した@MR105,@MR106,@MR107,@MR108のいずれかがON
;・上記ONが成立したらJMPするSTGに対応する処理を記述
;Error0を左側から1,2,3,4の番号に対応した復帰選択SWを出力する
;MyTask Error Process Substance/エラー処理実体
STG @MR100               ; Task1 ERROR
ANB R39002               ; ERROR_DISP Busy
MPS
ZRES @MR105 @MR108       ; SW1  SW4
CON
LDA @DM9                 ; ReturnSW /ERROR_DISP
CON
TBCD
CON
STA @DM10
CON
DISN @DM10 @DM3 #4
MRD
DW #1 @DM0               ; TaskNo /ERROR_DISP
CON
BMOV @DM0 DM60000 #7     ; TaskNo /ERROR_DISP  TaskNo /ERROR_DISP
MPP
SET R39000               ; ERROR_DISP Start
CON
SET @MR102               ; Task1 ERROR Busy
CON
JMP @MR103
STG @MR103
AND R39002               ; ERROR_DISP Busy
AND= DM60008 @DM1        ; ReturnNo /ERROR_DISP  ErrorNo /ERROR_DISP
MPS
AND= DM60007 @DM6        ; ReturnSW /ERROR_DISP
SET @MR105               ; SW1
CON
JMP @MR104
MRD
AND= DM60007 @DM5        ; ReturnSW /ERROR_DISP
SET @MR106               ; SW2
CON
JMP @MR104
MRD
AND= DM60007 @DM4        ; ReturnSW /ERROR_DISP
SET @MR107               ; SW3
CON
JMP @MR104
MPP
AND= DM60007 @DM3        ; ReturnSW /ERROR_DISP
SET @MR108               ; SW4
CON
JMP @MR104
STG @MR104
ANB R39002               ; ERROR_DISP Busy
RES @MR102               ; Task1 ERROR Busy
CON
SET @MR101               ; Task1 ERROR_End
CON
ENDS
;ｶｯﾄ1個前下吸着異常
LD MR12000               ; ｶｯﾄ1個前下吸着異常
ANB R39004               ; ｴﾗｰ処理中
SET R39004               ; ｴﾗｰ処理中
CON
ZRES MR12001 MR12004     ; ｶｯﾄ1個前下吸着異常SW1処理  ｶｯﾄ1個前下吸着異常SW4処理
CON
DW #2400 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #40 @DM1              ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task1 ERROR
CON
SET MR10104              ; 押さえ上下SW表示
CON
SET @MR900
STG @MR900
AND @MR101               ; Task1 ERROR_End
RES @MR101               ; Task1 ERROR_End
CON
RES R39004               ; ｴﾗｰ処理中
CON
RES MR12000              ; ｶｯﾄ1個前下吸着異常
CON
RES MR10104              ; 押さえ上下SW表示
CON
RES MR10908              ; ﾌｨﾙﾑ捲れ押さえSW表示
CON
MPS
AND @MR105               ; SW1
SET MR12001              ; ｶｯﾄ1個前下吸着異常SW1処理
CON
ENDS
MPP
AND @MR106               ; SW2
SET MR12002              ; ｶｯﾄ1個前下吸着異常SW2処理
CON
ENDS
;ｶｯﾄ後下1吸着異常
LD MR12005               ; ｶｯﾄ後下1吸着異常
ANB R39004               ; ｴﾗｰ処理中
SET R39004               ; ｴﾗｰ処理中
CON
ZRES MR12006 MR12009     ; ｶｯﾄ後下1吸着異常SW1処理  ｶｯﾄ後下1吸着異常SW4処理
CON
DW #2400 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #41 @DM1              ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task1 ERROR
CON
SET MR10104              ; 押さえ上下SW表示
CON
SET @MR901
STG @MR901
AND @MR101               ; Task1 ERROR_End
RES @MR101               ; Task1 ERROR_End
CON
RES R39004               ; ｴﾗｰ処理中
CON
RES MR12005              ; ｶｯﾄ後下1吸着異常
CON
RES MR10104              ; 押さえ上下SW表示
CON
RES MR10908              ; ﾌｨﾙﾑ捲れ押さえSW表示
CON
MPS
AND @MR105               ; SW1
SET MR12006              ; ｶｯﾄ後下1吸着異常SW1処理
CON
ENDS
MPP
AND @MR106               ; SW2
SET MR12007              ; ｶｯﾄ後下1吸着異常SW2処理
CON
ENDS
;ｶｯﾄ2個前下1吸着圧異常
LD MR12010               ; 2個前下1吸着圧異常
ANB R39004               ; ｴﾗｰ処理中
SET R39004               ; ｴﾗｰ処理中
CON
ZRES MR12011 MR12014     ; ｶｯﾄ2個前下1吸着圧異常SW1処理  ｶｯﾄ2個前下1吸着圧異常SW4処理
CON
DW #2400 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #42 @DM1              ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task1 ERROR
CON
SET MR10104              ; 押さえ上下SW表示
CON
SET @MR902
STG @MR902
AND @MR101               ; Task1 ERROR_End
RES @MR101               ; Task1 ERROR_End
CON
RES R39004               ; ｴﾗｰ処理中
CON
RES MR12010              ; 2個前下1吸着圧異常
CON
RES MR10104              ; 押さえ上下SW表示
CON
MPS
AND @MR105               ; SW1
SET MR12011              ; ｶｯﾄ2個前下1吸着圧異常SW1処理
CON
ENDS
MPP
AND @MR106               ; SW2
SET MR12012              ; ｶｯﾄ2個前下1吸着圧異常SW2処理
CON
ENDS
;押さえ吸着圧異常
LD MR12015               ; 押さえ吸着圧異常
ANB R39004               ; ｴﾗｰ処理中
SET R39004               ; ｴﾗｰ処理中
CON
ZRES MR12100 MR12103     ; 押さえ吸着圧異常SW1処理  押さえ吸着圧異常SW4処理
CON
DW #2400 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #43 @DM1              ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task1 ERROR
CON
SET MR10104              ; 押さえ上下SW表示
CON
SET @MR903
STG @MR903
AND @MR101               ; Task1 ERROR_End
RES @MR101               ; Task1 ERROR_End
CON
RES R39004               ; ｴﾗｰ処理中
CON
RES MR12015              ; 押さえ吸着圧異常
CON
RES MR10104              ; 押さえ上下SW表示
CON
MPS
AND @MR105               ; SW1
SET MR12100              ; 押さえ吸着圧異常SW1処理
CON
ENDS
MPP
AND @MR106               ; SW2
SET MR12101              ; 押さえ吸着圧異常SW2処理
CON
ENDS
;ｶｯﾄ後下2吸着異常
LD MR12104               ; ｶｯﾄ後下2吸着異常
ANB R39004               ; ｴﾗｰ処理中
SET R39004               ; ｴﾗｰ処理中
CON
ZRES MR12105 MR12108     ; ｶｯﾄ後下2吸着異常SW1処理  ｶｯﾄ後下2吸着異常SW4処理
CON
DW #2400 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #44 @DM1              ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task1 ERROR
CON
SET MR10104              ; 押さえ上下SW表示
CON
SET @MR904
STG @MR904
AND @MR101               ; Task1 ERROR_End
RES @MR101               ; Task1 ERROR_End
CON
RES R39004               ; ｴﾗｰ処理中
CON
RES MR12104              ; ｶｯﾄ後下2吸着異常
CON
RES MR10104              ; 押さえ上下SW表示
CON
RES MR10908              ; ﾌｨﾙﾑ捲れ押さえSW表示
CON
MPS
AND @MR105               ; SW1
SET MR12105              ; ｶｯﾄ後下2吸着異常SW1処理
CON
ENDS
MPP
AND @MR106               ; SW2
SET MR12106              ; ｶｯﾄ後下2吸着異常SW2処理
CON
ENDS
;切出しﾌｨﾙﾑ除去要求
LD MR12109               ; 切出しﾌｨﾙﾑ除去要求
ANB R39004               ; ｴﾗｰ処理中
SET R39004               ; ｴﾗｰ処理中
CON
ZRES MR12110 MR12113     ; 切出しﾌｨﾙﾑ除去要求SW1処理  切出しﾌｨﾙﾑ除去要求SW4処理
CON
DW #7500 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #45 @DM1              ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task1 ERROR
CON
SET @MR905
STG @MR905
AND @MR101               ; Task1 ERROR_End
RES @MR101               ; Task1 ERROR_End
CON
RES R39004               ; ｴﾗｰ処理中
CON
RES MR12109              ; 切出しﾌｨﾙﾑ除去要求
CON
MPS
AND @MR105               ; SW1
SET MR12110              ; 切出しﾌｨﾙﾑ除去要求SW1処理
CON
ENDS
MPP
AND @MR106               ; SW2
SET MR12111              ; 切出しﾌｨﾙﾑ除去要求SW2処理
CON
ENDS
;ﾌｨﾙﾑ残少検出
LD MR12114               ; ﾌｨﾙﾑ残少検出
ANB R39004               ; ｴﾗｰ処理中
SET R39004               ; ｴﾗｰ処理中
CON
ZRES MR12115 MR12202     ; ﾌｨﾙﾑ残少検出SW1処理  ﾌｨﾙﾑ残少検出SW4処理
CON
DW #1400 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #46 @DM1              ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task1 ERROR
CON
SET @MR906
STG @MR906
AND @MR101               ; Task1 ERROR_End
RES @MR101               ; Task1 ERROR_End
CON
RES R39004               ; ｴﾗｰ処理中
CON
RES MR12114              ; ﾌｨﾙﾑ残少検出
CON
MPS
AND @MR105               ; SW1
SET MR12115              ; ﾌｨﾙﾑ残少検出SW1処理
CON
ENDS
MPP
AND @MR106               ; SW2
SET MR12200              ; ﾌｨﾙﾑ残少検出SW2処理
CON
ENDS
;台紙満杯検出
LD MR12203               ; 台紙満杯検出
ANB R39004               ; ｴﾗｰ処理中
SET R39004               ; ｴﾗｰ処理中
CON
ZRES MR12204 MR12207     ; 台紙満杯検出SW1処理  台紙満杯検出SW4処理
CON
DW #1400 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #47 @DM1              ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task1 ERROR
CON
SET @MR907
STG @MR907
AND @MR101               ; Task1 ERROR_End
RES @MR101               ; Task1 ERROR_End
CON
RES R39004               ; ｴﾗｰ処理中
CON
RES MR12203              ; 台紙満杯検出
CON
MPS
AND @MR105               ; SW1
SET MR12204              ; 台紙満杯検出SW1処理
CON
ENDS
MPP
AND @MR106               ; SW2
SET MR12205              ; 台紙満杯検出SW2処理
CON
ENDS
;巻取りﾓｰﾀ異常
LD MR12208               ; 巻取りﾓｰﾀ異常
ANB R39004               ; ｴﾗｰ処理中
SET R39004               ; ｴﾗｰ処理中
CON
ZRES MR12209 MR12212     ; 巻取りﾓｰﾀ異常SW1処理  巻取りﾓｰﾀ異常SW4処理
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #48 @DM1              ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task1 ERROR
CON
SET @MR908
STG @MR908
AND @MR101               ; Task1 ERROR_End
RES @MR101               ; Task1 ERROR_End
CON
RES R39004               ; ｴﾗｰ処理中
CON
RES MR12208              ; 巻取りﾓｰﾀ異常
CON
AND @MR105               ; SW1
SET MR12209              ; 巻取りﾓｰﾀ異常SW1処理
CON
ENDS
;ﾌｨﾙﾑｾｯﾄ要求
LD MR12213               ; ﾌｨﾙﾑｾｯﾄ要求
ANB R39004               ; ｴﾗｰ処理中
SET MR10104              ; 押さえ上下SW表示
CON
SET R39004               ; ｴﾗｰ処理中
CON
ZRES MR12214 MR12301     ; ﾌｨﾙﾑｾｯﾄ要求SW1処理  ﾌｨﾙﾑｾｯﾄ要求SW4処理
CON
DW #1000 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #49 @DM1              ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task1 ERROR
CON
SET @MR909
STG @MR909
AND @MR101               ; Task1 ERROR_End
RES @MR101               ; Task1 ERROR_End
CON
RES R39004               ; ｴﾗｰ処理中
CON
RES MR12213              ; ﾌｨﾙﾑｾｯﾄ要求
CON
AND @MR105               ; SW1
SET MR12214              ; ﾌｨﾙﾑｾｯﾄ要求SW1処理
CON
ENDS
;ﾌｨﾙﾑNG検出
LD MR12302               ; ﾌｨﾙﾑNG検出
ANB R39004               ; ｴﾗｰ処理中
SET MR10104              ; 押さえ上下SW表示
CON
SET R39004               ; ｴﾗｰ処理中
CON
ZRES MR12303 MR12306     ; ﾌｨﾙﾑNG検出SW1処理  ﾌｨﾙﾑNG検出SW4処理
CON
DW #4130 @DM9            ; ReturnSW /ERROR_DISP
CON
DW #50 @DM1              ; ErrorNo /ERROR_DISP
CON
DW #0 @DM2               ; SensorNo /ERROR_DISP
CON
SET @MR100               ; Task1 ERROR
CON
SET @MR910
STG @MR910
AND @MR101               ; Task1 ERROR_End
RES @MR101               ; Task1 ERROR_End
CON
RES R39004               ; ｴﾗｰ処理中
CON
RES MR12302              ; ﾌｨﾙﾑNG検出
CON
MPS
AND @MR105               ; SW1
SET MR12303              ; ﾌｨﾙﾑNG検出SW1処理
CON
ENDS
MRD
AND @MR106               ; SW2
SET MR12304              ; ﾌｨﾙﾑNG検出SW2処理
CON
ENDS
MPP
AND @MR107               ; SW3
SET MR12305              ; ﾌｨﾙﾑNG検出SW3処理
CON
ENDS
;<h1/>SELECT_ACT
;//*Select_ACT Sample
;画面番号33をブザー有りで選択SW番号を左から#5,#10,#0(無し),#34の並びで表示する
STG @MR4104
ANB R39204               ; SELECT_ACT Interlock
SET R39204               ; SELECT_ACT Interlock
CON
MPS
DW #33 @DM31             ; ScreenNo /SELECT_ACT
CON
DW #1 @DM32              ; Bz_Use /SELECT_ACT
CON
DW #5 @DM33              ; SW1_No /SELECT_ACT
CON
DW #10 @DM34             ; SW2_No /SELECT_ACT
CON
DW #0 @DM35              ; SW3_No /SELECT_ACT
CON
DW #34 @DM36             ; SW4_No /SELECT_ACT
MPP
SET @MR200               ; Task1 SELECT_ACT
CON
JMP @MR4105
STG @MR4105
AND @MR201               ; Task1 SEL_ACT END
RES @MR201               ; Task1 SEL_ACT END
CON
RES R39204               ; SELECT_ACT Interlock
CON
MPS
AND @MR205               ; SW1
JMP @MR4106
MRD
AND @MR206               ; SW2
JMP @MR4107
MRD
AND @MR207               ; SW3
JMP @MR4108
MPP
AND @MR208               ; SW4
JMP @MR4109
;Select_ACT Sample *//
;MyTask Select_ACT Process Substance/SELECT_ACT処理実体
STG @MR200               ; Task1 SELECT_ACT
ANB R39202               ; SELECT_ACT Busy
MPS
ZRES @MR205 @MR208       ; SW1  SW4
CON
DW #1 @DM30              ; TaskNo /SELECT_ACT
CON
BMOV @DM30 DM60030 #7    ; TaskNo /SELECT_ACT  TaskNo /SELECT_ACT
MPP
SET R39200               ; SELECT_ACT Start
CON
SET @MR202               ; Task1 SEL_ACT Busy
CON
JMP @MR203
STG @MR203
AND R39202               ; SELECT_ACT Busy
AND<> DM60037 #0         ; SelectSW /SELECT_ACT
MPS
AND= DM60037 #1          ; SelectSW /SELECT_ACT
SET @MR205               ; SW1
CON
JMP @MR204
MRD
AND= DM60037 #2          ; SelectSW /SELECT_ACT
SET @MR206               ; SW2
CON
JMP @MR204
MRD
AND= DM60037 #3          ; SelectSW /SELECT_ACT
SET @MR207               ; SW3
CON
JMP @MR204
MPP
AND= DM60037 #4          ; SelectSW /SELECT_ACT
SET @MR208               ; SW4
CON
JMP @MR204
STG @MR204
ANB R39202               ; SELECT_ACT Busy
RES @MR202               ; Task1 SEL_ACT Busy
CON
SET @MR201               ; Task1 SEL_ACT END
CON
ENDS
;<h1/>SELECT_Y_N
;//*Select_Y_N Sample
STG @MR4203
ANB R39104               ; SELECT_Y_N Interlock
SET R39104               ; SELECT_Y_N Interlock
CON
DW #7 @DM21              ; ScreenNo /SELECT_Y_N
CON
DW #0 @DM22              ; Bz_Use /SELECT_Y_N
CON
SET @MR300               ; Task1 SELECT_Y_N
CON
JMP @MR4204
STG @MR4204
AND @MR301               ; Task1 Y/N END
RES @MR301               ; Task1 Y/N END
CON
RES R39104               ; SELECT_Y_N Interlock
CON
MPS
AND @MR306               ; Task1 Y/N
JMP @MR4205
MPP
ANB @MR306               ; Task1 Y/N
JMP @MR4206
;*Select_Y_N Sample//
;MyTask Select_Y_N Process Substance/SELECT_Y_N処理実体
STG @MR300               ; Task1 SELECT_Y_N
ANB R39102               ; SELECT_Y_N Busy
MPS
ZRES @MR306 @MR307       ; Task1 Y/N
CON
DW #1 @DM20              ; TaskNo /SELECT_Y_N
CON
BMOV @DM20 DM60020 #3    ; TaskNo /SELECT_Y_N  TaskNo /SELECT_Y_N
MPP
SET R39100               ; SELECT_Y_N Start
CON
SET @MR302               ; Task1 Y_N Busy
CON
JMP @MR303
STG @MR303
AND R39102               ; SELECT_Y_N Busy
MPS
AND= DM60023 #1          ; Y_N /SELECT_Y_N
SET @MR306               ; Task1 Y/N
CON
JMP @MR304
MPP
AND= DM60023 #2          ; Y_N /SELECT_Y_N
RES @MR306               ; Task1 Y/N
CON
JMP @MR304
STG @MR304
ANB R39102               ; SELECT_Y_N Busy
RES @MR302               ; Task1 Y_N Busy
CON
SET @MR301               ; Task1 Y/N END
CON
ENDS
;<h1/>TIMEUP_ERROR
;//*TIMEUP_ERROR Sample
;サンプルセンサ:MR5000=ON AND MR5001 = OFF のいずれかが5sタイムアップしたらTIMEUP_ERROR出力
;エラー復帰後、再度センサ確認
STG @MR4208
MPS
LD MR5000
ANB MR5001
ANL
JMP @MR4215
MPP
LDB MR5000
OR MR5001
ANL
TMR @0 #50
CON
AND @T0
JMP @MR4209
STG @MR4209
ANB R39304               ; TIMEUP_ERR Interlock
SET R39304               ; TIMEUP_ERR Interlock
CON
DW #16 @DM41             ; SensorNo /TIMEUP_ERR
CON
SET @MR400               ; Task1 TIMEUP_ERR
CON
JMP @MR4210
STG @MR4210
AND @MR401               ; Task1 TIMEUP_END
RES R39304               ; TIMEUP_ERR Interlock
CON
RES @MR401               ; Task1 TIMEUP_END
CON
JMP @MR4208
;TIMEUP_ERROR Sample *//
;MyTask TIMEUP_ERROR Process Substance/TIMEUP_ERROR処理実体
STG @MR400               ; Task1 TIMEUP_ERR
ANB R39302               ; TIMEUP_ERR Busy
MPS
DW #1 @DM40              ; TaskNo /TIMEUP_ERR
CON
BMOV @DM40 DM60040 #2    ; TaskNo /TIMEUP_ERR  TaskNo /TIMEUP_ERR
MPP
SET R39300               ; TIMEUP_ERR Start
CON
SET @MR402               ; Task1 TIMEUP Busy
CON
JMP @MR403
STG @MR403
AND R39302               ; TIMEUP_ERR Busy
JMP @MR404
STG @MR404
ANB R39302               ; TIMEUP_ERR Busy
RES @MR402               ; Task1 TIMEUP Busy
CON
SET @MR401               ; Task1 TIMEUP_END
CON
ENDS
;<h1/>SubRoutines/ｻﾌﾞﾙｰﾁﾝ
;[記述方法]
;・ｻﾌﾞﾙｰﾁﾝは本ﾌﾞｯｸﾏｰｸから下に記述していって下さい
;・ｻﾌﾞﾙｰﾁﾝは必ずﾌﾞｯｸﾏｰｸを挿入して処理内容を明確にする事
;<h1/>ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作
STG @MR4500              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作CALL
SET @MR4502              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作BUSY
CON
JMP @MR4504
STG @MR4915
RES @MR4502              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作BUSY
CON
ENDS
;切り出し台位置確認
LDB R7311                ; ﾌｨﾙﾑ切出し台後退限
ANB R7310                ; ﾌｨﾙﾑ切出し台前進限
AND R7309                ; ﾌｨﾙﾑ切出し台中間位置
AND R7401                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退限
ANB R7400                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進限
ANB R7408                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ中間限
AND R7406                ; 押さえｼﾌﾄ後退限
ANB R7407                ; 押さえｼﾌﾄ前進限
AND R7405                ; 切出台ｼﾌﾄ後退限
ANB R7404                ; 切出台ｼﾌﾄ前進限
OUT @MR4503              ; 切り出し台位置後退済み
STG @MR4504
MPS
AND @MR4503              ; 切り出し台位置後退済み
JMP @MR4600
MPP
ANB @MR4503              ; 切り出し台位置後退済み
JMP @MR4505
;切り出し台後退処理
;ﾌｨﾙﾑ押さえ上昇
STG @MR4505
RES MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
AND R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
ANB R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
JMP @MR4506
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
ANL
SET @MR1900              ; Main1 HALT許可
;切り出し台後退処理
;ｶｯﾄ1個前破壊
STG @MR4506
RES MR10400              ; ｶｯﾄ1個前下吸着ON(切出し台)
CON
RES MR10401              ; ｶｯﾄ1個前下吸着OFF(切出し台)
CON
SET MR10402              ; ｶｯﾄ1個前下吸着破壊ON(切出し台)
CON
TMR @25 #5               ; ｶｯﾄ1個前下吸着破壊ONﾀｲﾏ
CON
AND @T25                 ; ｶｯﾄ1個前下吸着破壊ONﾀｲﾏ
JMP @MR4507
;切り出し台後退処理
;ﾌｨﾙﾑ押さえ下降
STG @MR4507
SET MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANB R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
AND R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
JMP @MR4508
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANL
SET @MR1900              ; Main1 HALT許可
;切り出し台後退処理
;ﾌｨﾙﾑ押さえ吸着ON
STG @MR4508
RES MR10400              ; ｶｯﾄ1個前下吸着ON(切出し台)
CON
RES MR10401              ; ｶｯﾄ1個前下吸着OFF(切出し台)
CON
SET MR10402              ; ｶｯﾄ1個前下吸着破壊ON(切出し台)
CON
RES MR10413              ; 押さえ吸着OFF
CON
RES MR10414              ; 押さえ吸着破壊ON
CON
SET MR10412              ; 押さえ吸着ON
CON
JMP @MR4509
STG @MR4509
MPS
LD R7608                 ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT1
ANB R7609                ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT2
ANL
JMP @MR4511
MPP
LDB R7608                ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT1
OR R7609                 ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT2
ANL
TMR @26 #30              ; 押さえ吸着ONﾀｲﾏ
CON
AND @T26                 ; 押さえ吸着ONﾀｲﾏ
SET MR12015              ; 押さえ吸着圧異常
CON
JMP @MR4510
;切り出し台後退処理
;押さえ吸着異常
STG @MR4510
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12100              ; 押さえ吸着圧異常SW1処理
RES MR12100              ; 押さえ吸着圧異常SW1処理
CON
JMP @MR4508
MPP
AND MR12101              ; 押さえ吸着圧異常SW2処理
RES MR12101              ; 押さえ吸着圧異常SW2処理
CON
JMP @MR4511
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;切り出し台後退処理
;ﾌｨﾙﾑ押さえ上昇
STG @MR4511
RES MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
AND R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
ANB R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
JMP @MR4512
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
ANL
SET @MR1900              ; Main1 HALT許可
;切り出し台後退処理
;切り出し台後退
STG @MR4512
RES MR10604              ; ﾌｨﾙﾑ切出し台前進
CON
SET MR10605              ; ﾌｨﾙﾑ切出し台後退
CON
MPS
LDB MR7311               ; ﾌｨﾙﾑ切出し台後退限Err
ANB R7310                ; ﾌｨﾙﾑ切出し台前進限
ANL
JMP @MR4600
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7311               ; ﾌｨﾙﾑ切出し台後退限Err
ANL
SET @MR1900              ; Main1 HALT許可
;↓予備STG
STG @MR4513
JMP @MR4514
STG @MR4514
JMP @MR4515
STG @MR4515
AND CR2003               ; 常時OFF
ENDS
;↑予備STG
;@ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作1_ﾌｨﾙﾑ引出動作準備
;ﾌｨﾙﾑ押さえ下降
STG @MR4600
SET MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANB R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
AND R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR4601
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出動作準備
;ｶｯﾄ1個前下吸着ON
STG @MR4601
RES MR10401              ; ｶｯﾄ1個前下吸着OFF(切出し台)
CON
RES MR10402              ; ｶｯﾄ1個前下吸着破壊ON(切出し台)
CON
SET MR10400              ; ｶｯﾄ1個前下吸着ON(切出し台)
CON
JMP @MR4602
STG @MR4602
MPS
LD R7600                 ; ｶｯﾄ1個前下圧力ｾﾝｻOUT1
ANB R7601                ; ｶｯﾄ1個前下圧力ｾﾝｻOUT2
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR4604
MPP
LDB R7600                ; ｶｯﾄ1個前下圧力ｾﾝｻOUT1
OR R7601                 ; ｶｯﾄ1個前下圧力ｾﾝｻOUT2
ANL
TMR @3 #30               ; ｶｯﾄ1個前下吸着ONﾀｲﾏ
CON
AND @T3                  ; ｶｯﾄ1個前下吸着ONﾀｲﾏ
SET MR12000              ; ｶｯﾄ1個前下吸着異常
CON
JMP @MR4603
;ﾌｨﾙﾑ引出動作準備
;ｶｯﾄ1個前下吸着異常
STG @MR4603
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12001              ; ｶｯﾄ1個前下吸着異常SW1処理
RES MR12001              ; ｶｯﾄ1個前下吸着異常SW1処理
CON
JMP @MR4601
MPP
AND MR12002              ; ｶｯﾄ1個前下吸着異常SW2処理
RES MR12002              ; ｶｯﾄ1個前下吸着異常SW2処理
CON
JMP @MR4604
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出動作準備
;ｶｯﾄ後下1吸着ON
STG @MR4604
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
RES MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
SET MR10406              ; ｶｯﾄ後下1吸着ON
CON
JMP @MR4605
STG @MR4605
MPS
LD R7604                 ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
ANB R7605                ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
OR LR200                 ; ﾃﾞﾊﾞｯｸﾞ用
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR4607
MPP
LDB R7604                ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
OR R7605                 ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
ANL
TMR @4 #30               ; ｶｯﾄ後下1吸着ONﾀｲﾏ
CON
AND @T4                  ; ｶｯﾄ後下1吸着ONﾀｲﾏ
ANB LR200                ; ﾃﾞﾊﾞｯｸﾞ用
SET MR12005              ; ｶｯﾄ後下1吸着異常
CON
RES MR10406              ; ｶｯﾄ後下1吸着ON
CON
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
SET MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
JMP @MR4606
;ﾌｨﾙﾑ引出動作準備
;ｶｯﾄ後下1吸着異常
STG @MR4606
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12006              ; ｶｯﾄ後下1吸着異常SW1処理
RES MR12006              ; ｶｯﾄ後下1吸着異常SW1処理
CON
JMP @MR4604
MPP
AND MR12007              ; ｶｯﾄ後下1吸着異常SW2処理
RES MR12007              ; ｶｯﾄ後下1吸着異常SW2処理
CON
JMP @MR4607
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出動作準備
;機種分岐
;SEE:DM400=0
;STR:DM400<>0
;※ｶｯﾄ後下2吸着をONするか否か
STG @MR4607
MPS
AND= DM400 #0            ; _機種分類1　機種別ﾃﾞｰﾀ1
JMP @MR4611
MPP
AND<> DM400 #0           ; _機種分類1　機種別ﾃﾞｰﾀ1
MPS
AND R46100               ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
MPS
LDB MR10109              ; ﾌｨﾙﾑ除去用ﾌﾗｸﾞ
ANB MR10910              ; RESTARTﾌﾗｸﾞ
ANL
JMP @MR4608
MPP
LD MR10109               ; ﾌｨﾙﾑ除去用ﾌﾗｸﾞ
OR MR10910               ; RESTARTﾌﾗｸﾞ
ANL
JMP @MR4611
MPP
ANB R46100               ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
JMP @MR4611
;ﾌｨﾙﾑ引出動作準備
;ｶｯﾄ後下2吸着ON
STG @MR4608
RES MR10410              ; ｶｯﾄ後下2吸着OFF
CON
RES MR10411              ; ｶｯﾄ後下2吸着破壊ON
CON
SET MR10409              ; ｶｯﾄ後下2吸着ON
CON
JMP @MR4609
STG @MR4609
MPS
LD R7606                 ; ｶｯﾄ後下2圧力ｾﾝｻOUT1
ANB R7607                ; ｶｯﾄ後下2圧力ｾﾝｻOUT2
OR LR200                 ; ﾃﾞﾊﾞｯｸﾞ用
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR4611
MPP
LDB R7606                ; ｶｯﾄ後下2圧力ｾﾝｻOUT1
OR R7607                 ; ｶｯﾄ後下2圧力ｾﾝｻOUT2
ANL
TMR @7 #30               ; ｶｯﾄ後下2吸着ONﾀｲﾏ
CON
AND @T7                  ; ｶｯﾄ後下2吸着ONﾀｲﾏ
ANB LR200                ; ﾃﾞﾊﾞｯｸﾞ用
SET MR12104              ; ｶｯﾄ後下2吸着異常
CON
JMP @MR4610
;ﾌｨﾙﾑ引出動作準備
;ｶｯﾄ後下2吸着異常
STG @MR4610
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12105              ; ｶｯﾄ後下2吸着異常SW1処理
RES MR12105              ; ｶｯﾄ後下2吸着異常SW1処理
CON
JMP @MR4608
MPP
AND MR12106              ; ｶｯﾄ後下2吸着異常SW2処理
RES MR12106              ; ｶｯﾄ後下2吸着異常SW2処理
CON
JMP @MR4611
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出動作準備
;2個前下1吸着&押さえ吸着OFF
STG @MR4611
RES MR10403              ; ｶｯﾄ2個前下吸着ON
CON
RES MR10404              ; ｶｯﾄ2個前下吸着OFF
CON
SET MR10405              ; ｶｯﾄ2個前下吸着破壊ON
CON
RES MR10412              ; 押さえ吸着ON
CON
RES MR10413              ; 押さえ吸着OFF
CON
SET MR10414              ; 押さえ吸着破壊ON
CON
TMR @5 #5                ; 押さえ吸着OFFﾀｲﾏ
CON
AND @T5                  ; 押さえ吸着OFFﾀｲﾏ
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR4612
;ﾌｨﾙﾑ引出動作準備
;ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇
;台紙ｸﾗﾝﾌﾟ閉じ
STG @MR4612
RES MR10601              ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ下降
CON
SET MR10600              ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇
CON
RES MR10603              ; 台紙ｸﾗﾝﾌﾟ開
CON
SET MR10602              ; 台紙ｸﾗﾝﾌﾟ閉
CON
MPS
LDB MR7300               ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇限Err
AND R7300                ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇限
ANB R7301                ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ下降限
ANB MR7302               ; 台紙ｸﾗﾝﾌﾟ閉限Err
AND R7302                ; 台紙ｸﾗﾝﾌﾟ閉限
ANB R7303                ; 台紙ｸﾗﾝﾌﾟ開限
ANL
JMP @MR4700
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD MR7300                ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇限Err
OR MR7302                ; 台紙ｸﾗﾝﾌﾟ閉限Err
ANL
ANL
SET @MR1900              ; Main1 HALT許可
;↓予備STG
STG @MR4613
JMP @MR4614
STG @MR4614
JMP @MR4615
STG @MR4615
AND CR2003               ; 常時OFF
ENDS
;↑予備STG
;Aﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作2_ﾌｨﾙﾑ引出&ｶｯﾄ動作
;押え台前進(6mm)
STG @MR4700
RES MR10611              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退
CON
SET MR10610              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進
CON
MPS
LDB MR7400               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進限Err
AND R7408                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ中間限
ANB R7400                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進限
ANB R7401                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR4701
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7400               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出&ｶｯﾄ動作
;ﾌｨﾙﾑｸﾗﾝﾌﾟ下降
STG @MR4701
RES MR10600              ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇
CON
SET MR10601              ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ下降
CON
RES MR10602              ; 台紙ｸﾗﾝﾌﾟ閉
CON
SET MR10603              ; 台紙ｸﾗﾝﾌﾟ開
CON
MPS
LDB MR7301               ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ下降限Err
ANB R7300                ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇限
AND R7301                ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ下降限
ANB MR7303               ; 台紙ｸﾗﾝﾌﾟ開限Err
ANB R7302                ; 台紙ｸﾗﾝﾌﾟ閉限
AND R7303                ; 台紙ｸﾗﾝﾌﾟ開限
ANL
JMP @MR4702
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD MR7301                ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ下降限Err
OR MR7303                ; 台紙ｸﾗﾝﾌﾟ開限Err
ANL
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR4702
JMP @MR4703
;ﾌｨﾙﾑ引出&ｶｯﾄ動作
;巻き取りﾓｰﾀ回転
STG @MR4703
SET MR6005               ; ﾌｨﾙﾑ巻取りﾓｰﾀ逆転
CON
JMP @MR4704
;ﾌｨﾙﾑ引出&ｶｯﾄ動作
;ﾌｨﾙﾑ切出し台前後ｼﾘﾝﾀﾞ戻し(保持用)
STG @MR4704
RES MR10605              ; ﾌｨﾙﾑ切出し台後退
CON
SET MR10604              ; ﾌｨﾙﾑ切出し台前進
CON
MPS
LDB MR7310               ; ﾌｨﾙﾑ切出し台前進限Err
AND R7310                ; ﾌｨﾙﾑ切出し台前進限
ANB R7311                ; ﾌｨﾙﾑ切出し台後退限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR4705
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7310               ; ﾌｨﾙﾑ切出し台前進限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出&ｶｯﾄ動作
;切出し台押さえ同期ｼﾘﾝﾀﾞ戻し
STG @MR4705
RES MR10612              ; 切出台押さえ同期出
CON
SET MR10613              ; 切出台押さえ同期戻り
CON
MPS
LDB MR7403               ; 切出台押さえ同期後退限Err
ANB R7402                ; 切出台押さえ同期出限
AND R7403                ; 切出台押さえ同期戻限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR4706
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7403               ; 切出台押さえ同期後退限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出&ｶｯﾄ動作
;ｶｯﾄ2個前下吸着ON
STG @MR4706
RES MR10404              ; ｶｯﾄ2個前下吸着OFF
CON
RES MR10405              ; ｶｯﾄ2個前下吸着破壊ON
CON
SET MR10403              ; ｶｯﾄ2個前下吸着ON
CON
JMP @MR4707
STG @MR4707
MPS
LD R7602                 ; ｶｯﾄ2個前圧力ｾﾝｻOUT1
ANB R7603                ; ｶｯﾄ2個前圧力ｾﾝｻOUT2
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR4709
MPP
LDB R7602                ; ｶｯﾄ2個前圧力ｾﾝｻOUT1
OR R7603                 ; ｶｯﾄ2個前圧力ｾﾝｻOUT2
ANL
TMR @6 #30               ; ｶｯﾄ2個前下吸着ONﾀｲﾏ
CON
AND @T6                  ; ｶｯﾄ2個前下吸着ONﾀｲﾏ
SET MR12010              ; 2個前下1吸着圧異常
CON
JMP @MR4708
;ﾌｨﾙﾑ引出&ｶｯﾄ動作
;2個前下1吸着異常
STG @MR4708
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12011              ; ｶｯﾄ2個前下1吸着圧異常SW1処理
RES MR12011              ; ｶｯﾄ2個前下1吸着圧異常SW1処理
CON
JMP @MR4706
MPP
AND MR12012              ; ｶｯﾄ2個前下1吸着圧異常SW2処理
RES MR12012              ; ｶｯﾄ2個前下1吸着圧異常SW2処理
CON
JMP @MR4709
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出&ｶｯﾄ動作
;ｶｯﾀｰ位置分岐
STG @MR4709
MPS
LD R7314                 ; ｶｯﾀｰ前後後退限
ANB R7315                ; ｶｯﾀｰ前後前進限
ANL
JMP @MR4710
MPP
LDB R7314                ; ｶｯﾀｰ前後後退限
AND R7315                ; ｶｯﾀｰ前後前進限
ANL
JMP @MR4711
;ﾌｨﾙﾑ引出&ｶｯﾄ動作
;ｶｯﾀ-前進
STG @MR4710
RES MR10608              ; ｶｯﾀｰ後退
CON
SET MR10609              ; ｶｯﾀｰ前進
CON
MPS
LDB MR7315               ; ｶｯﾀｰ前後前進限Err
ANB R7314                ; ｶｯﾀｰ前後後退限
AND R7315                ; ｶｯﾀｰ前後前進限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR4800
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7315               ; ｶｯﾀｰ前後前進限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出&ｶｯﾄ動作
;ｶｯﾀ-後退
STG @MR4711
RES MR10609              ; ｶｯﾀｰ前進
CON
SET MR10608              ; ｶｯﾀｰ後退
CON
MPS
LDB MR7314               ; ｶｯﾀｰ前後後退限Err
AND R7314                ; ｶｯﾀｰ前後後退限
ANB R7315                ; ｶｯﾀｰ前後前進限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR4800
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7314               ; ｶｯﾀｰ前後後退限Err
ANL
SET @MR1900              ; Main1 HALT許可
;↓予備STG
STG @MR4712
JMP @MR4713
STG @MR4713
JMP @MR4714
STG @MR4714
JMP @MR4715
STG @MR4715
AND CR2003               ; 常時OFF
ENDS
;↑予備STG
;Bﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作3_仮溶着取出し準備
;ﾌｨﾙﾑ押さえ上昇
STG @MR4800
RES MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
AND R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
ANB R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR4801
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
ANL
SET @MR1900              ; Main1 HALT許可
;仮溶着取出し準備
;ﾌｨﾙﾑ押さえ後退
STG @MR4801
RES MR10610              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進
CON
SET MR10611              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退
CON
MPS
LDB MR7401               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退限Err
ANB R7400                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進限
AND R7401                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR4802
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7401               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退限Err
ANL
SET @MR1900              ; Main1 HALT許可
;仮溶着取出し準備
;ﾌｨﾙﾑ押さえ下降
STG @MR4802
SET MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANB R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
AND R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR4803
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANL
SET @MR1900              ; Main1 HALT許可
;仮溶着取出し準備
;ｶｯﾄ後下1吸着ON
STG @MR4803
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
RES MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
SET MR10406              ; ｶｯﾄ後下1吸着ON
CON
JMP @MR4804
STG @MR4804
MPS
LD R7604                 ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
ANB R7605                ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
OR LR200                 ; ﾃﾞﾊﾞｯｸﾞ用
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR4806
MPP
LDB R7604                ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
OR R7605                 ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
ANL
TMR @8 #30               ; ｶｯﾄ後下1吸着ON確認
CON
AND @T8                  ; ｶｯﾄ後下1吸着ON確認
ANB LR200                ; ﾃﾞﾊﾞｯｸﾞ用
SET MR12005              ; ｶｯﾄ後下1吸着異常
CON
RES MR10406              ; ｶｯﾄ後下1吸着ON
CON
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
SET MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
JMP @MR4805
;ﾌｨﾙﾑ引出動作準備
;ｶｯﾄ後下1吸着異常
STG @MR4805
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12006              ; ｶｯﾄ後下1吸着異常SW1処理
RES MR12006              ; ｶｯﾄ後下1吸着異常SW1処理
CON
JMP @MR4803
MPP
AND MR12007              ; ｶｯﾄ後下1吸着異常SW2処理
RES MR12007              ; ｶｯﾄ後下1吸着異常SW2処理
CON
JMP @MR4806
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;仮溶着取出し準備
;機種分岐
;SEE:DM400=0
;STR:DM400<>0
STG @MR4806
MPS
AND= DM400 #0            ; _機種分類1　機種別ﾃﾞｰﾀ1
JMP @MR4900
MPP
AND<> DM400 #0           ; _機種分類1　機種別ﾃﾞｰﾀ1
MPS
ANB R46100               ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
JMP @MR4900
MPP
AND R46100               ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
MPS
ANB MR10910              ; RESTARTﾌﾗｸﾞ
JMP @MR4807
MPP
AND MR10910              ; RESTARTﾌﾗｸﾞ
JMP @MR4900
;仮溶着取出し準備
;↓STRのみ
;ｶｯﾄ後下2吸着OFF
STG @MR4807
RES MR10409              ; ｶｯﾄ後下2吸着ON
CON
RES MR10411              ; ｶｯﾄ後下2吸着破壊ON
CON
SET MR10410              ; ｶｯﾄ後下2吸着OFF
CON
JMP @MR4808
STG @MR4808
MPS
LD R7606                 ; ｶｯﾄ後下2圧力ｾﾝｻOUT1
ANB R7607                ; ｶｯﾄ後下2圧力ｾﾝｻOUT2
OR LR200                 ; ﾃﾞﾊﾞｯｸﾞ用
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR4900
MPP
LDB R7606                ; ｶｯﾄ後下2圧力ｾﾝｻOUT1
OR R7607                 ; ｶｯﾄ後下2圧力ｾﾝｻOUT2
ANL
TMR @9 #30               ; ｶｯﾄ後下2吸着OFFﾀｲﾏ
CON
AND @T9                  ; ｶｯﾄ後下2吸着OFFﾀｲﾏ
ANB LR200                ; ﾃﾞﾊﾞｯｸﾞ用
SET MR12104              ; ｶｯﾄ後下2吸着異常
CON
JMP @MR4809
;仮溶着取出し準備
;ｶｯﾄ後下1吸着異常
STG @MR4809
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12105              ; ｶｯﾄ後下2吸着異常SW1処理
RES MR12105              ; ｶｯﾄ後下2吸着異常SW1処理
CON
JMP @MR4807
MPP
AND MR12106              ; ｶｯﾄ後下2吸着異常SW2処理
RES MR12106              ; ｶｯﾄ後下2吸着異常SW2処理
CON
JMP @MR4900
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;↑STRのみ
;↓予備STG
STG @MR4810
JMP @MR4811
STG @MR4811
JMP @MR4812
STG @MR4812
JMP @MR4813
STG @MR4813
JMP @MR4814
STG @MR4814
JMP @MR4815
STG @MR4815
AND CR2003               ; 常時OFF
ENDS
;↑予備STG
;Cﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作4_ﾌｨﾙﾑ除去分岐
;切出し完了
STG @MR4900
MPS
ANB R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
MPS
ANB MR10910              ; RESTARTﾌﾗｸﾞ
JMP @MR4914
MPP
AND MR10910              ; RESTARTﾌﾗｸﾞ
SET MR12109              ; 切出しﾌｨﾙﾑ除去要求
CON
RES MR10406              ; ｶｯﾄ後下1吸着ON
CON
RES MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
SET MR10407              ; ｶｯﾄ後下1吸着OFF
CON
RES MR10409              ; ｶｯﾄ後下2吸着ON
CON
RES MR10411              ; ｶｯﾄ後下2吸着破壊ON
CON
SET MR10410              ; ｶｯﾄ後下2吸着OFF
CON
JMP @MR4901
MPP
AND R46101               ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
RES MR10910              ; RESTARTﾌﾗｸﾞ
CON
MPS
ANB MR10003              ; 切出し台ﾌｨﾙﾑ残り有り
JMP @MR4914
MPP
AND MR10003              ; 切出し台ﾌｨﾙﾑ残り有り
SET MR12109              ; 切出しﾌｨﾙﾑ除去要求
CON
RES MR10406              ; ｶｯﾄ後下1吸着ON
CON
RES MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
SET MR10407              ; ｶｯﾄ後下1吸着OFF
CON
RES MR10409              ; ｶｯﾄ後下2吸着ON
CON
RES MR10411              ; ｶｯﾄ後下2吸着破壊ON
CON
SET MR10410              ; ｶｯﾄ後下2吸着OFF
CON
JMP @MR4901
;切出しﾌｨﾙﾑ除去要求
STG @MR4901
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12110              ; 切出しﾌｨﾙﾑ除去要求SW1処理
RES MR12110              ; 切出しﾌｨﾙﾑ除去要求SW1処理
CON
JMP @MR4902
MPP
AND MR12111              ; 切出しﾌｨﾙﾑ除去要求SW2処理
RES MR12111              ; 切出しﾌｨﾙﾑ除去要求SW2処理
CON
JMP @MR4500              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作CALL
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;切出しﾌｨﾙﾑ除去確認
STG @MR4902
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
RES MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
SET MR10406              ; ｶｯﾄ後下1吸着ON
CON
JMP @MR4903
STG @MR4903
MPS
LDB R7604                ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
AND R7605                ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
ANL
RES MR10406              ; ｶｯﾄ後下1吸着ON
CON
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
SET MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
RES MR10409              ; ｶｯﾄ後下2吸着ON
CON
RES MR10410              ; ｶｯﾄ後下2吸着OFF
CON
SET MR10411              ; ｶｯﾄ後下2吸着破壊ON
CON
RES MR10003              ; 切出し台ﾌｨﾙﾑ残り有り
CON
JMP @MR4914
MPP
LD R7604                 ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
ORB R7605                ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
ANL
TMR @12 #30              ; ｶｯﾄ後下1吸着ONﾀｲﾏ
CON
AND @T12                 ; ｶｯﾄ後下1吸着ONﾀｲﾏ
RES MR10406              ; ｶｯﾄ後下1吸着ON
CON
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
SET MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
RES MR10409              ; ｶｯﾄ後下2吸着ON
CON
RES MR10410              ; ｶｯﾄ後下2吸着OFF
CON
SET MR12109              ; 切出しﾌｨﾙﾑ除去要求
CON
SET MR10411              ; ｶｯﾄ後下2吸着破壊ON
CON
JMP @MR4901
;↓予備STG
STG @MR4904
JMP @MR4905
STG @MR4905
JMP @MR4906
STG @MR4906
JMP @MR4907
STG @MR4907
JMP @MR4908
STG @MR4908
JMP @MR4909
STG @MR4909
JMP @MR4910
STG @MR4910
JMP @MR4911
STG @MR4911
JMP @MR4912
STG @MR4912
JMP @MR4913
STG @MR4913
AND CR2003               ; 常時OFF
ENDS
;↑予備STG
;ﾌｨﾙﾑ切出し動作完了
STG @MR4914
SET @MR4501              ; ﾌｨﾙﾑ送り少(6mm)&ｶｯﾄ動作完了
CON
JMP @MR4915
;<h1/>ﾌｨﾙﾑ送り大(10mm)動作(STRのみ)
STG @MR5000              ; ﾌｨﾙﾑ送り大(10mm)動作
SET MR10001              ; ﾌｨﾙﾑ送り大(10mm)動作
CON
SET @MR5002              ; ﾌｨﾙﾑ送り大(10mm)動作BUSY
CON
JMP @MR5003
STG @MR6215              ; ﾌｨﾙﾑ送り大(10mm)動作BUSY解除
RES MR10001              ; ﾌｨﾙﾑ送り大(10mm)動作
CON
RES @MR5002              ; ﾌｨﾙﾑ送り大(10mm)動作BUSY
CON
ENDS
;@ﾌｨﾙﾑ送り大(10mm)動作1_ﾌｨﾙﾑ引出動作準備
;ﾌｨﾙﾑ押さえ上昇
STG @MR5003
RES MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
AND R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
ANB R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5004
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出動作準備
;ﾌｨﾙﾑ押さえ前進
STG @MR5004
RES MR10611              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退
CON
SET MR10610              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進
CON
MPS
LDB MR7400               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進限Err
AND R7408                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ中間限
ANB R7401                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5005
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7400               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出動作準備
;押え台下降
STG @MR5005
SET MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANB R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
AND R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5006
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出動作準備
;巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇
;台紙ｸﾗﾝﾌﾟ閉じ
STG @MR5006
RES MR10601              ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ下降
CON
SET MR10600              ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇
CON
RES MR10603              ; 台紙ｸﾗﾝﾌﾟ開
CON
SET MR10602              ; 台紙ｸﾗﾝﾌﾟ閉
CON
MPS
LDB MR7300               ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇限Err
AND R7300                ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇限
ANB R7301                ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ下降限
ANB MR7302               ; 台紙ｸﾗﾝﾌﾟ閉限Err
AND R7302                ; 台紙ｸﾗﾝﾌﾟ閉限
ANB R7303                ; 台紙ｸﾗﾝﾌﾟ開限
ANL
JMP @MR5007
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD MR7300                ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇限Err
OR MR7302                ; 台紙ｸﾗﾝﾌﾟ閉限Err
ANL
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出動作準備
;切出し台･押え同期ｼﾘﾝﾀﾞ出&ﾌｨﾙﾑ切出し前後OFF
STG @MR5007
RES MR10604              ; ﾌｨﾙﾑ切出し台前進
CON
RES MR10605              ; ﾌｨﾙﾑ切出し台後退
CON
RES MR10613              ; 切出台押さえ同期戻り
CON
SET MR10612              ; 切出台押さえ同期出
CON
MPS
LDB MR7402               ; 切出台押さえ同期前進限Err
ANB R7309                ; ﾌｨﾙﾑ切出し台中間位置
AND R7310                ; ﾌｨﾙﾑ切出し台前進限
ANB R7311                ; ﾌｨﾙﾑ切出し台後退限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5008
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7402               ; 切出台押さえ同期前進限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出動作準備
;ｶｯﾄ2個前下吸着OFF
STG @MR5008
RES MR10403              ; ｶｯﾄ2個前下吸着ON
CON
RES MR10404              ; ｶｯﾄ2個前下吸着OFF
CON
SET MR10405              ; ｶｯﾄ2個前下吸着破壊ON
CON
JMP @MR5009
STG @MR5009
MPS
LDB R7602                ; ｶｯﾄ2個前圧力ｾﾝｻOUT1
AND R7603                ; ｶｯﾄ2個前圧力ｾﾝｻOUT2
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5600
MPP
LD R7602                 ; ｶｯﾄ2個前圧力ｾﾝｻOUT1
ORB R7603                ; ｶｯﾄ2個前圧力ｾﾝｻOUT2
ANL
TMR @13 #100             ; ｶｯﾄ2個前下吸着OFFﾀｲﾏ
CON
AND @T13                 ; ｶｯﾄ2個前下吸着OFFﾀｲﾏ
SET MR12010              ; 2個前下1吸着圧異常
CON
JMP @MR5010
;ﾌｨﾙﾑ引出動作準備
;2個前下1吸着異常
STG @MR5010
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12011              ; ｶｯﾄ2個前下1吸着圧異常SW1処理
RES MR12011              ; ｶｯﾄ2個前下1吸着圧異常SW1処理
CON
JMP @MR5008
MPP
AND MR12012              ; ｶｯﾄ2個前下1吸着圧異常SW2処理
RES MR12012              ; ｶｯﾄ2個前下1吸着圧異常SW2処理
CON
JMP @MR5600
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;↓予備STG
STG @MR5011
JMP @MR5012
STG @MR5012
JMP @MR5013
STG @MR5013
JMP @MR5014
STG @MR5014
JMP @MR5015
STG @MR5015
AND CR2003               ; 常時OFF
ENDS
;↑予備STG
;Aﾌｨﾙﾑ送り大(10mm)動作2_ﾌｨﾙﾑ引出動作
;ﾌｨﾙﾑ押さえ前進&切出し台ｼﾌﾄ前進
STG @MR5600
RES MR10611              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退
CON
SET MR10610              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進
CON
TMR @30 #5               ; 同期ﾀｲﾏ
CON
AND @T30                 ; 同期ﾀｲﾏ
JMP @MR5601
STG @MR5601
RES MR10615              ; 切出台ｼﾌﾄ後退
CON
SET MR10614              ; 切出台ｼﾌﾄ前進
CON
MPS
LDB MR7404               ; 切出台ｼﾌﾄ前進限Err
AND R7404                ; 切出台ｼﾌﾄ前進限
ANB R7405                ; 切出台ｼﾌﾄ後退限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5602
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7404               ; 切出台ｼﾌﾄ前進限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出動作
;位置確認
STG @MR5602
MPS
LDB MR7400               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進限Err
AND R7400                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進限
ANB R7401                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5603
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7400               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出動作
;ﾌｨﾙﾑｸﾗﾝﾌﾟ下降&台紙ｸﾗﾝﾌﾟ開
STG @MR5603
RES MR10600              ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇
CON
SET MR10601              ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ下降
CON
RES MR10602              ; 台紙ｸﾗﾝﾌﾟ閉
CON
SET MR10603              ; 台紙ｸﾗﾝﾌﾟ開
CON
MPS
LDB MR7300               ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇限Err
ANB R7300                ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ上昇限
AND R7301                ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ下降限
ANB MR7303               ; 台紙ｸﾗﾝﾌﾟ開限Err
ANB R7302                ; 台紙ｸﾗﾝﾌﾟ閉限
AND R7303                ; 台紙ｸﾗﾝﾌﾟ開限
ANL
JMP @MR5604
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
LD MR7301                ; 巻出ﾌｨﾙﾑｸﾗﾝﾌﾟ下降限Err
OR MR7303                ; 台紙ｸﾗﾝﾌﾟ開限Err
ANL
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出動作
;巻き取りﾓｰﾀ回転
STG @MR5604
SET MR6005               ; ﾌｨﾙﾑ巻取りﾓｰﾀ逆転
CON
JMP @MR5700
;↓予備STG
STG @MR5605
JMP @MR5606
STG @MR5606
JMP @MR5607
STG @MR5607
JMP @MR5608
STG @MR5608
JMP @MR5609
STG @MR5609
JMP @MR5610
STG @MR5610
JMP @MR5611
STG @MR5611
JMP @MR5612
STG @MR5612
JMP @MR5613
STG @MR5613
JMP @MR5614
STG @MR5614
JMP @MR5615
STG @MR5615
AND CR2003               ; 常時OFF
ENDS
;↑予備STG
;Bﾌｨﾙﾑ送り大(10mm)動作3_ﾌｨﾙﾑ引出後動作1
;ﾌｨﾙﾑ切出し台前後ｼﾘﾝﾀﾞ前進(保持用)
STG @MR5700
RES MR10605              ; ﾌｨﾙﾑ切出し台後退
CON
SET MR10604              ; ﾌｨﾙﾑ切出し台前進
CON
MPS
LDB MR7310               ; ﾌｨﾙﾑ切出し台前進限Err
AND R7310                ; ﾌｨﾙﾑ切出し台前進限
ANB R7311                ; ﾌｨﾙﾑ切出し台後退限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5701
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7310               ; ﾌｨﾙﾑ切出し台前進限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出後動作1
;切出し台押さえ同期ｼﾘﾝﾀﾞ戻し
STG @MR5701
RES MR10612              ; 切出台押さえ同期出
CON
SET MR10613              ; 切出台押さえ同期戻り
CON
MPS
LDB MR7403               ; 切出台押さえ同期後退限Err
ANB R7402                ; 切出台押さえ同期出限
AND R7403                ; 切出台押さえ同期戻限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5702
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7403               ; 切出台押さえ同期後退限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出後動作1
;押さえｼﾌﾄ前進
STG @MR5702
RES MR10701              ; ﾌｨﾙﾑｶｯﾄ押さえｼﾌﾄ後退
CON
SET MR10700              ; ﾌｨﾙﾑｶｯﾄ押さえｼﾌﾄ前進
CON
MPS
LDB MR7407               ; 押さえｼﾌﾄ前進限Err
ANB R7406                ; 押さえｼﾌﾄ後退限
AND R7407                ; 押さえｼﾌﾄ前進限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5703
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7407               ; 押さえｼﾌﾄ前進限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出後動作1
;ﾌｨﾙﾑ押さえ上昇
STG @MR5703
RES MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
AND R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
ANB R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5704
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出後動作1
;切り出し台ﾘｾｯﾄ
STG @MR5704
RES MR10605              ; ﾌｨﾙﾑ切出し台後退
CON
RES MR10604              ; ﾌｨﾙﾑ切出し台前進
CON
TMR @42 #5               ; 切り出し台ﾘｾｯﾄﾀｲﾏ
CON
AND @T42                 ; 切り出し台ﾘｾｯﾄﾀｲﾏ
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5705
;ﾌｨﾙﾑ引出後動作1
;ﾌｨﾙﾑ押さえ後退
STG @MR5705
RES MR10610              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進
CON
SET MR10611              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退
CON
MPS
LDB MR7401               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退限Err
ANB R7400                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ前進限
ANB R7401                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退限
AND R7408                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ中間限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5706
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7401               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ後退限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出後動作1
;ｶｯﾄ1個前破壊&押さえ吸着
STG @MR5706
RES MR10400              ; ｶｯﾄ1個前下吸着ON(切出し台)
CON
RES MR10401              ; ｶｯﾄ1個前下吸着OFF(切出し台)
CON
SET MR10402              ; ｶｯﾄ1個前下吸着破壊ON(切出し台)
CON
RES MR10413              ; 押さえ吸着OFF
CON
RES MR10414              ; 押さえ吸着破壊ON
CON
SET MR10412              ; 押さえ吸着ON
CON
TMR @43 #5               ; WAIT
CON
AND @T43                 ; WAIT
JMP @MR5707
;ﾌｨﾙﾑ引出後動作1
;ﾌｨﾙﾑ押さえ下降
STG @MR5707
SET MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANB R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
AND R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5708
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出後動作1
;ｶｯﾄ1個前破壊＆ﾌｨﾙﾑ押さえ上昇
STG @MR5708
RES MR10400              ; ｶｯﾄ1個前下吸着ON(切出し台)
CON
RES MR10401              ; ｶｯﾄ1個前下吸着OFF(切出し台)
CON
SET MR10402              ; ｶｯﾄ1個前下吸着破壊ON(切出し台)
CON
RES MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
AND R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
ANB R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5709
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出後動作1
;切り出し台後退
STG @MR5709
RES MR10604              ; ﾌｨﾙﾑ切出し台前進
CON
SET MR10605              ; ﾌｨﾙﾑ切出し台後退
CON
MPS
LDB MR7309               ; ﾌｨﾙﾑ切出し台中限Err
ANB R7310                ; ﾌｨﾙﾑ切出し台前進限
ANB R7311                ; ﾌｨﾙﾑ切出し台後退限
ANB R7309                ; ﾌｨﾙﾑ切出し台中間位置
ANL
TMR @44 #5               ; wait
CON
AND @T44                 ; wait
JMP @MR5800
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7309               ; ﾌｨﾙﾑ切出し台中限Err
ANL
SET @MR1900              ; Main1 HALT許可
;↓予備STG
STG @MR5710
JMP @MR5711
STG @MR5711
JMP @MR5712
STG @MR5712
JMP @MR5713
STG @MR5713
JMP @MR5714
STG @MR5714
JMP @MR5715
STG @MR5715
AND CR2003               ; 常時OFF
ENDS
;↑予備STG
;Cﾌｨﾙﾑ送り大(10mm)動作4_ﾌｨﾙﾑ引出後動作2
;ﾌｨﾙﾑ捲れ押さえ閉(先行押さえ動作)
;動作ﾊﾟﾗﾒｰﾀ：DM2000.3_ON→ﾌｨﾙﾑ押さえ先行有り
STG @MR5800
MPS
BAND DM2000 #3           ; _動作ﾊﾟﾗﾒｰﾀ
RES MR10715              ; ﾌｨﾙﾑ捲れ押さえ開
CON
SET MR10714              ; ﾌｨﾙﾑ捲れ押さえ閉
CON
MPS
LDB MR7410               ; ﾌｨﾙﾑ捲れ押さえ閉限Err
AND R7410                ; ﾌｨﾙﾑ捲れ押さえ閉限
ANB R7411                ; ﾌｨﾙﾑ捲れ押さえ開限
ANL
JMP @MR5801
MPP
LD MR7410                ; ﾌｨﾙﾑ捲れ押さえ閉限Err
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
BANB DM2000 #3           ; _動作ﾊﾟﾗﾒｰﾀ
JMP @MR5801
;ｶｯﾄ1個前下吸着破壊
STG @MR5801
RES MR10400              ; ｶｯﾄ1個前下吸着ON(切出し台)
CON
RES MR10401              ; ｶｯﾄ1個前下吸着OFF(切出し台)
CON
SET MR10402              ; ｶｯﾄ1個前下吸着破壊ON(切出し台)
CON
JMP @MR5802
STG @MR5802
MPS
LDB R7600                ; ｶｯﾄ1個前下圧力ｾﾝｻOUT1
AND R7601                ; ｶｯﾄ1個前下圧力ｾﾝｻOUT2
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5804
MPP
LD R7600                 ; ｶｯﾄ1個前下圧力ｾﾝｻOUT1
ORB R7601                ; ｶｯﾄ1個前下圧力ｾﾝｻOUT2
ANL
TMR @15 #300             ; ｶｯﾄ1個前下吸着OFFﾀｲﾏ
CON
AND @T15                 ; ｶｯﾄ1個前下吸着OFFﾀｲﾏ
ANB R39004               ; ｴﾗｰ処理中
SET MR10908              ; ﾌｨﾙﾑ捲れ押さえSW表示
CON
RES MR10401              ; ｶｯﾄ1個前下吸着OFF(切出し台)
CON
SET MR12000              ; ｶｯﾄ1個前下吸着異常
CON
JMP @MR5803
;ﾌｨﾙﾑ引出後動作2
;ｶｯﾄ1個前下吸着異常
STG @MR5803
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12001              ; ｶｯﾄ1個前下吸着異常SW1処理
RES MR12001              ; ｶｯﾄ1個前下吸着異常SW1処理
CON
JMP @MR5801
MPP
AND MR12002              ; ｶｯﾄ1個前下吸着異常SW2処理
RES MR12002              ; ｶｯﾄ1個前下吸着異常SW2処理
CON
JMP @MR5804
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出後動作2
;押さえ下降
STG @MR5804
SET MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANB R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
AND R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5805
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出後動作2
;押さえ吸着ON
STG @MR5805
RES MR10413              ; 押さえ吸着OFF
CON
RES MR10414              ; 押さえ吸着破壊ON
CON
SET MR10412              ; 押さえ吸着ON
CON
JMP @MR5806
STG @MR5806
MPS
LD R7608                 ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT1
ANB R7609                ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT2
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5808
MPP
LDB R7608                ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT1
OR R7609                 ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT2
ANL
TMR @16 #30              ; 押さえ吸着ONﾀｲﾏ
CON
AND @T16                 ; 押さえ吸着ONﾀｲﾏ
ANB R39004               ; ｴﾗｰ処理中
SET MR10908              ; ﾌｨﾙﾑ捲れ押さえSW表示
CON
SET MR12015              ; 押さえ吸着圧異常
CON
JMP @MR5807
;ﾌｨﾙﾑ引出後動作2
;押さえ吸着異常
STG @MR5807
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12100              ; 押さえ吸着圧異常SW1処理
RES MR12100              ; 押さえ吸着圧異常SW1処理
CON
JMP @MR5805
MPP
AND MR12101              ; 押さえ吸着圧異常SW2処理
RES MR12101              ; 押さえ吸着圧異常SW2処理
CON
JMP @MR5808
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出後動作2
;ﾌｨﾙﾑ押さえ上昇
STG @MR5808
RES MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
AND R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
ANB R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5809
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出後動作2
;ｶｯﾄ後1吸着破壊＆切り出し台後退
STG @MR5809
RES MR10406              ; ｶｯﾄ後下1吸着ON
CON
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
SET MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
RES MR10604              ; ﾌｨﾙﾑ切出し台前進
CON
SET MR10605              ; ﾌｨﾙﾑ切出し台後退
CON
MPS
LDB MR7309               ; ﾌｨﾙﾑ切出し台中限Err
ANB R7310                ; ﾌｨﾙﾑ切出し台前進限
ANB R7311                ; ﾌｨﾙﾑ切出し台後退限
ANB R7309                ; ﾌｨﾙﾑ切出し台中間位置
ANL
TMR @45 #5               ; dly
CON
AND @T45                 ; dly
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5810
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7309               ; ﾌｨﾙﾑ切出し台中限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出後動作2
;ﾌｨﾙﾑ押さえ下降
STG @MR5810
SET MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANB R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
AND R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5900
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANL
SET @MR1900              ; Main1 HALT許可
;↓予備STG
STG @MR5811
JMP @MR5812
STG @MR5812
JMP @MR5813
STG @MR5813
JMP @MR5814
STG @MR5814
JMP @MR5815
STG @MR5815
AND CR2003               ; 常時OFF
ENDS
;↑予備STG
;Dﾌｨﾙﾑ送り大(10mm)動作5_ﾌｨﾙﾑ引出後動作3
;ｶｯﾄ後1吸着
STG @MR5900
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
RES MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
SET MR10406              ; ｶｯﾄ後下1吸着ON
CON
JMP @MR5901
STG @MR5901
MPS
LD R7604                 ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
ANB R7605                ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
OR LR200                 ; ﾃﾞﾊﾞｯｸﾞ用
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5903
MPP
LDB R7604                ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
OR R7605                 ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
ANL
TMR @38 #30              ; ｶｯﾄ後下1圧力確認ﾀｲﾏ
CON
AND @T38                 ; ｶｯﾄ後下1圧力確認ﾀｲﾏ
ANB R39004               ; ｴﾗｰ処理中
ANB LR200                ; ﾃﾞﾊﾞｯｸﾞ用
SET MR10908              ; ﾌｨﾙﾑ捲れ押さえSW表示
CON
SET MR12005              ; ｶｯﾄ後下1吸着異常
CON
JMP @MR5902
;ﾌｨﾙﾑ引出後動作3
;ｶｯﾄ後下1吸着異常
STG @MR5902
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12006              ; ｶｯﾄ後下1吸着異常SW1処理
RES MR12006              ; ｶｯﾄ後下1吸着異常SW1処理
CON
JMP @MR5900
MPP
AND MR12007              ; ｶｯﾄ後下1吸着異常SW2処理
RES MR12007              ; ｶｯﾄ後下1吸着異常SW2処理
CON
JMP @MR5903
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出後動作3
;押さえ破壊
STG @MR5903
RES MR10412              ; 押さえ吸着ON
CON
RES MR10413              ; 押さえ吸着OFF
CON
SET MR10414              ; 押さえ吸着破壊ON
CON
JMP @MR5904
STG @MR5904
MPS
ANB R7608                ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT1
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5906
MPP
AND R7608                ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT1
TMR @37 #100             ; ｶｯﾄ部押さえ圧力確認
CON
AND @T37                 ; ｶｯﾄ部押さえ圧力確認
ANB R39004               ; ｴﾗｰ処理中
SET MR10908              ; ﾌｨﾙﾑ捲れ押さえSW表示
CON
SET MR12015              ; 押さえ吸着圧異常
CON
JMP @MR5905
;ﾌｨﾙﾑ引出後動作3
;押さえ吸着異常
STG @MR5905
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12100              ; 押さえ吸着圧異常SW1処理
RES MR12100              ; 押さえ吸着圧異常SW1処理
CON
JMP @MR5903
MPP
AND MR12101              ; 押さえ吸着圧異常SW2処理
RES MR12101              ; 押さえ吸着圧異常SW2処理
CON
JMP @MR5906
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出後動作3
;ｶｯﾄ部ﾌｨﾙﾑ押さえ上昇
STG @MR5906
RES MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
AND R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
ANB R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5907
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出後動作3
;ﾌｨﾙﾑ切出し台ﾘｾｯﾄ
STG @MR5907
RES MR10604              ; ﾌｨﾙﾑ切出し台前進
CON
RES MR10605              ; ﾌｨﾙﾑ切出し台後退
CON
TMR @32 #5               ; ﾌｨﾙﾑ切出し台ﾘｾｯﾄﾀｲﾏ
CON
AND @T32                 ; ﾌｨﾙﾑ切出し台ﾘｾｯﾄﾀｲﾏ
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5908
;ﾌｨﾙﾑ引出後動作3
;押さえｼﾌﾄ後退
STG @MR5908
RES MR10700              ; ﾌｨﾙﾑｶｯﾄ押さえｼﾌﾄ前進
CON
SET MR10701              ; ﾌｨﾙﾑｶｯﾄ押さえｼﾌﾄ後退
CON
MPS
LDB MR7406               ; 押さえｼﾌﾄ後退限Err
AND R7406                ; 押さえｼﾌﾄ後退限
ANB R7407                ; 押さえｼﾌﾄ前進限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR800
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7406               ; 押さえｼﾌﾄ後退限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出後動作3
;ﾌｨﾙﾑ捲れ押さえ閉(通常押さえ動作)
STG @MR800
MPS
AND CR2002               ; 常時ON
RES MR10715              ; ﾌｨﾙﾑ捲れ押さえ開
CON
SET MR10714              ; ﾌｨﾙﾑ捲れ押さえ閉
CON
MPS
LDB MR7410               ; ﾌｨﾙﾑ捲れ押さえ閉限Err
AND R7410                ; ﾌｨﾙﾑ捲れ押さえ閉限
ANB R7411                ; ﾌｨﾙﾑ捲れ押さえ開限
ANL
JMP @MR5909
MPP
LD MR7410                ; ﾌｨﾙﾑ捲れ押さえ閉限Err
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
ANB CR2002               ; 常時ON
JMP @MR5909
;押さえ吸着ON
STG @MR5909
RES MR10400              ; ｶｯﾄ1個前下吸着ON(切出し台)
CON
RES MR10401              ; ｶｯﾄ1個前下吸着OFF(切出し台)
CON
SET MR10402              ; ｶｯﾄ1個前下吸着破壊ON(切出し台)
CON
RES MR10413              ; 押さえ吸着OFF
CON
RES MR10414              ; 押さえ吸着破壊ON
CON
SET MR10412              ; 押さえ吸着ON
CON
JMP @MR5910
;ﾌｨﾙﾑ引出後動作3
;ﾌｨﾙﾑ押さえ下降
STG @MR5910
SET MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANB R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
AND R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR5911
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANL
SET @MR1900              ; Main1 HALT許可
STG @MR5911
MPS
LD R7608                 ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT1
ANB R7609                ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT2
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR6000
MPP
LDB R7608                ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT1
OR R7609                 ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT2
ANL
TMR @33 #100             ; ｶｯﾄ部押さえ圧力確認ﾀｲﾏ
CON
AND @T33                 ; ｶｯﾄ部押さえ圧力確認ﾀｲﾏ
ANB R39004               ; ｴﾗｰ処理中
SET MR10908              ; ﾌｨﾙﾑ捲れ押さえSW表示
CON
SET MR12015              ; 押さえ吸着圧異常
CON
JMP @MR5912
;ﾌｨﾙﾑ引出後動作3
;押さえ吸着異常
STG @MR5912
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12100              ; 押さえ吸着圧異常SW1処理
RES MR12100              ; 押さえ吸着圧異常SW1処理
CON
JMP @MR5909
MPP
AND MR12101              ; 押さえ吸着圧異常SW2処理
RES MR12101              ; 押さえ吸着圧異常SW2処理
CON
JMP @MR6000
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;↓予備STG
STG @MR5913
JMP @MR5914
STG @MR5914
JMP @MR5915
STG @MR5915
AND CR2003               ; 常時OFF
ENDS
;↑予備STG
;Eﾌｨﾙﾑ送り大(10mm)動作6_ﾌｨﾙﾑ引出後動作4
;ｶｯﾄ後下1吸着破壊
STG @MR6000
RES MR10406              ; ｶｯﾄ後下1吸着ON
CON
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
SET MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
JMP @MR6001
STG @MR6001
MPS
LDB R7604                ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
AND R7605                ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
OR LR200                 ; ﾃﾞﾊﾞｯｸﾞ用
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR6003
MPP
LD R7604                 ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
ORB R7605                ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
ANL
TMR @36 #200             ; ｶｯﾄ後下1圧力確認ﾀｲﾏ
CON
AND @T36                 ; ｶｯﾄ後下1圧力確認ﾀｲﾏ
ANB R39004               ; ｴﾗｰ処理中
ANB LR200                ; ﾃﾞﾊﾞｯｸﾞ用
SET MR10908              ; ﾌｨﾙﾑ捲れ押さえSW表示
CON
SET MR12005              ; ｶｯﾄ後下1吸着異常
CON
JMP @MR6002
;ﾌｨﾙﾑ引出後動作4
;ｶｯﾄ後下1吸着異常
STG @MR6002
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12006              ; ｶｯﾄ後下1吸着異常SW1処理
RES MR12006              ; ｶｯﾄ後下1吸着異常SW1処理
CON
JMP @MR6000
MPP
AND MR12007              ; ｶｯﾄ後下1吸着異常SW2処理
RES MR12007              ; ｶｯﾄ後下1吸着異常SW2処理
CON
JMP @MR6003
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出後動作4
;ﾌｨﾙﾑ押さえ上昇
STG @MR6003
RES MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
AND R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
ANB R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR6004
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7312               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出後動作4
;ｶｯﾄ後1破壊&切り出し台後退
STG @MR6004
RES MR10406              ; ｶｯﾄ後下1吸着ON
CON
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
SET MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
RES MR10604              ; ﾌｨﾙﾑ切出し台前進
CON
SET MR10605              ; ﾌｨﾙﾑ切出し台後退
CON
MPS
LDB MR7309               ; ﾌｨﾙﾑ切出し台中限Err
ANB R7310                ; ﾌｨﾙﾑ切出し台前進限
AND R7311                ; ﾌｨﾙﾑ切出し台後退限
ANB R7309                ; ﾌｨﾙﾑ切出し台中間位置
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR6005
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7309               ; ﾌｨﾙﾑ切出し台中限Err
ANL
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ引出後動作4
;ﾌｨﾙﾑ押さえ下降
STG @MR6005
SET MR10606              ; ｶｯﾄ部ﾌｨﾙﾑ押さえ(ON下降)
CON
MPS
LDB MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANB R7312                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ上限
AND R7313                ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR6100
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7313               ; ｶｯﾄ部ﾌｨﾙﾑ押さえ下限Err
ANL
SET @MR1900              ; Main1 HALT許可
;↓予備STG
STG @MR6006
JMP @MR6007
STG @MR6007
JMP @MR6008
STG @MR6008
JMP @MR6009
STG @MR6009
JMP @MR6010
STG @MR6010
JMP @MR6011
STG @MR6011
JMP @MR6012
STG @MR6012
JMP @MR6013
STG @MR6013
JMP @MR6014
STG @MR6014
JMP @MR6015
STG @MR6015
AND CR2003               ; 常時OFF
ENDS
;↑予備STG
;Fﾌｨﾙﾑ送り大(10mm)動作7_ﾌｨﾙﾑ吸着処理
;ﾌｨﾙﾑ捲れ押さえ閉(通常押さえ動作)
;動作ﾊﾟﾗﾒｰﾀ：DM2000.3_ON→ﾌｨﾙﾑ押さえ先行有り
STG @MR6100
MPS
ANB CR2002               ; 常時ON
MPS
BANB DM2000 #3           ; _動作ﾊﾟﾗﾒｰﾀ
RES MR10715              ; ﾌｨﾙﾑ捲れ押さえ開
CON
SET MR10714              ; ﾌｨﾙﾑ捲れ押さえ閉
CON
MPS
LDB MR7410               ; ﾌｨﾙﾑ捲れ押さえ閉限Err
AND R7410                ; ﾌｨﾙﾑ捲れ押さえ閉限
ANB R7411                ; ﾌｨﾙﾑ捲れ押さえ開限
ANL
JMP @MR6101
MPP
LD MR7410                ; ﾌｨﾙﾑ捲れ押さえ閉限Err
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
MPP
BAND DM2000 #3           ; _動作ﾊﾟﾗﾒｰﾀ
JMP @MR6101
MPP
AND CR2002               ; 常時ON
JMP @MR6101
;ﾌｨﾙﾑ吸着処理
;ｶｯﾄ1個前下吸着ON
STG @MR6101
RES MR10401              ; ｶｯﾄ1個前下吸着OFF(切出し台)
CON
RES MR10402              ; ｶｯﾄ1個前下吸着破壊ON(切出し台)
CON
SET MR10400              ; ｶｯﾄ1個前下吸着ON(切出し台)
CON
JMP @MR6102
STG @MR6102
MPS
LD R7600                 ; ｶｯﾄ1個前下圧力ｾﾝｻOUT1
ANB R7601                ; ｶｯﾄ1個前下圧力ｾﾝｻOUT2
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR6104
MPP
LDB R7600                ; ｶｯﾄ1個前下圧力ｾﾝｻOUT1
OR R7601                 ; ｶｯﾄ1個前下圧力ｾﾝｻOUT2
ANL
TMR @17 #30              ; ｶｯﾄ1個前下吸着ONﾀｲﾏ
CON
AND @T17                 ; ｶｯﾄ1個前下吸着ONﾀｲﾏ
ANB R39004               ; ｴﾗｰ処理中
SET MR10908              ; ﾌｨﾙﾑ捲れ押さえSW表示
CON
SET MR12000              ; ｶｯﾄ1個前下吸着異常
CON
JMP @MR6103
;ﾌｨﾙﾑ吸着処理
;ｶｯﾄ1個前下吸着異常
STG @MR6103
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12001              ; ｶｯﾄ1個前下吸着異常SW1処理
RES MR12001              ; ｶｯﾄ1個前下吸着異常SW1処理
CON
JMP @MR6100
MPP
AND MR12002              ; ｶｯﾄ1個前下吸着異常SW2処理
RES MR12002              ; ｶｯﾄ1個前下吸着異常SW2処理
CON
JMP @MR6104
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ吸着処理
;ｶｯﾄ後下1吸着ON
STG @MR6104
RES MR10407              ; ｶｯﾄ後下1吸着OFF
CON
RES MR10408              ; ｶｯﾄ後下1吸着破壊ON
CON
SET MR10406              ; ｶｯﾄ後下1吸着ON
CON
JMP @MR6105
STG @MR6105
MPS
LD R7604                 ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
ANB R7605                ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
OR LR200                 ; ﾃﾞﾊﾞｯｸﾞ用
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR6107
MPP
LDB R7604                ; ｶｯﾄ後下1圧力ｾﾝｻOUT1
OR R7605                 ; ｶｯﾄ後下1圧力ｾﾝｻOUT2
ANL
TMR @18 #30              ; ｶｯﾄ後下1吸着ONﾀｲﾏ
CON
AND @T18                 ; ｶｯﾄ後下1吸着ONﾀｲﾏ
ANB R39004               ; ｴﾗｰ処理中
ANB LR200                ; ﾃﾞﾊﾞｯｸﾞ用
SET MR10908              ; ﾌｨﾙﾑ捲れ押さえSW表示
CON
SET MR12005              ; ｶｯﾄ後下1吸着異常
CON
JMP @MR6106
;ﾌｨﾙﾑ吸着処理
;ｶｯﾄ後下1吸着異常
STG @MR6106
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12006              ; ｶｯﾄ後下1吸着異常SW1処理
RES MR12006              ; ｶｯﾄ後下1吸着異常SW1処理
CON
JMP @MR6104
MPP
AND MR12007              ; ｶｯﾄ後下1吸着異常SW2処理
RES MR12007              ; ｶｯﾄ後下1吸着異常SW2処理
CON
JMP @MR6200              ; 押さえ吸着OFF
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ吸着処理
;ｶｯﾄ後下2吸着ON
STG @MR6107
RES MR10410              ; ｶｯﾄ後下2吸着OFF
CON
RES MR10411              ; ｶｯﾄ後下2吸着破壊ON
CON
SET MR10409              ; ｶｯﾄ後下2吸着ON
CON
JMP @MR6108
STG @MR6108
MPS
LD R7606                 ; ｶｯﾄ後下2圧力ｾﾝｻOUT1
ANB R7607                ; ｶｯﾄ後下2圧力ｾﾝｻOUT2
OR LR200                 ; ﾃﾞﾊﾞｯｸﾞ用
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR6110
MPP
LDB R7606                ; ｶｯﾄ後下2圧力ｾﾝｻOUT1
OR R7607                 ; ｶｯﾄ後下2圧力ｾﾝｻOUT2
ANL
TMR @35 #30              ; ｶｯﾄ後下2圧力確認ﾀｲﾏ
CON
AND @T35                 ; ｶｯﾄ後下2圧力確認ﾀｲﾏ
ANB R39004               ; ｴﾗｰ処理中
ANB LR200                ; ﾃﾞﾊﾞｯｸﾞ用
SET MR10908              ; ﾌｨﾙﾑ捲れ押さえSW表示
CON
SET MR12104              ; ｶｯﾄ後下2吸着異常
CON
JMP @MR6109
;ﾌｨﾙﾑ吸着処理
;ｶｯﾄ後下2吸着異常
STG @MR6109
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12105              ; ｶｯﾄ後下2吸着異常SW1処理
RES MR12105              ; ｶｯﾄ後下2吸着異常SW1処理
CON
JMP @MR6107
MPP
AND MR12106              ; ｶｯﾄ後下2吸着異常SW2処理
RES MR12106              ; ｶｯﾄ後下2吸着異常SW2処理
CON
JMP @MR6110
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑ吸着処理
;ﾌｨﾙﾑ捲れ押さえ閉
STG @MR6110
RES MR10714              ; ﾌｨﾙﾑ捲れ押さえ閉
CON
SET MR10715              ; ﾌｨﾙﾑ捲れ押さえ開
CON
MPS
LDB MR7411               ; ﾌｨﾙﾑ捲れ押さえ開限Err
ANB R7410                ; ﾌｨﾙﾑ捲れ押さえ閉限
AND R7411                ; ﾌｨﾙﾑ捲れ押さえ開限
ANL
JMP @MR6200              ; 押さえ吸着OFF
MPP
LD MR7411                ; ﾌｨﾙﾑ捲れ押さえ開限Err
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
ANL
SET @MR1900              ; Main1 HALT許可
;↓予備STG
STG @MR6111
JMP @MR6112
STG @MR6112
JMP @MR6113
STG @MR6113
JMP @MR6114
STG @MR6114
JMP @MR6115
STG @MR6115
AND CR2003               ; 常時OFF
ENDS
;↑予備STG
;Gﾌｨﾙﾑ送り大(10mm)動作8_終了処理
;押さえ吸着破壊
STG @MR6200              ; 押さえ吸着OFF
RES MR10412              ; 押さえ吸着ON
CON
RES MR10413              ; 押さえ吸着OFF
CON
SET MR10414              ; 押さえ吸着破壊ON
CON
JMP @MR6201
STG @MR6201
MPS
LDB R7608                ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT1
AND R7609                ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT2
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR6203
MPP
LD R7608                 ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT1
ORB R7609                ; ｶｯﾄ部押さえ圧力ｾﾝｻOUT2
ANL
TMR @34 #150             ; ｶｯﾄ部押さえ圧力確認ﾀｲﾏ
CON
AND @T34                 ; ｶｯﾄ部押さえ圧力確認ﾀｲﾏ
SET MR12015              ; 押さえ吸着圧異常
CON
JMP @MR6202
;終了処理
;押さえ吸着異常
STG @MR6202
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12100              ; 押さえ吸着圧異常SW1処理
RES MR12100              ; 押さえ吸着圧異常SW1処理
CON
JMP @MR6200              ; 押さえ吸着OFF
MPP
AND MR12101              ; 押さえ吸着圧異常SW2処理
RES MR12101              ; 押さえ吸着圧異常SW2処理
CON
JMP @MR6203
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;終了処理
;切り出し台ｼﾌﾄ後退
STG @MR6203
RES MR10614              ; 切出台ｼﾌﾄ前進
CON
SET MR10615              ; 切出台ｼﾌﾄ後退
CON
MPS
LDB MR7405               ; 切出台ｼﾌﾄ後退限Err
AND R7405                ; 切出台ｼﾌﾄ後退限
ANB R7404                ; 切出台ｼﾌﾄ前進限
ANL
SET R47600               ; _Group1　動作区切り開始
CON
AND R47608               ; _Group1　動作区切り完了
JMP @MR6214              ; 完了
MPP
LD R44200                ; _Grp1 ﾎﾟｰｽﾞ要求
AND MR7405               ; 切出台ｼﾌﾄ後退限Err
ANL
SET @MR1900              ; Main1 HALT許可
;↓予備STG
STG @MR6204
JMP @MR6205
STG @MR6205
JMP @MR6206
STG @MR6206
JMP @MR6207
STG @MR6207
JMP @MR6208
STG @MR6208
JMP @MR6209
STG @MR6209
JMP @MR6210
STG @MR6210
JMP @MR6211
STG @MR6211
JMP @MR6212
STG @MR6212
JMP @MR6213
STG @MR6213
AND CR2003               ; 常時OFF
ENDS
;↑予備STG
;ﾌｨﾙﾑ送り大(10mm)動作完了
STG @MR6214              ; 完了
SET @MR5501              ; ﾌｨﾙﾑ送り大(10mm)動作完了
CON
JMP @MR6215              ; ﾌｨﾙﾑ送り大(10mm)動作BUSY解除
;<h1/>ﾌｨﾙﾑﾛｰﾙ確認
STG @MR6300              ; ﾌｨﾙﾑﾛｰﾙ確認CALL
SET @MR6302              ; ﾌｨﾙﾑﾛｰﾙ確認BUSY
CON
JMP @MR6303
STG @MR6315
RES @MR6302              ; ﾌｨﾙﾑﾛｰﾙ確認BUSY
CON
ENDS
;<h1/>ﾌｨﾙﾑｴﾝﾄﾞ確認
STG @MR6303
MPS
AND R7304                ; 巻き出しﾌｨﾙﾑ有無確認
JMP @MR6305
MPP
ANB R7304                ; 巻き出しﾌｨﾙﾑ有無確認
SET MR12114              ; ﾌｨﾙﾑ残少検出
CON
JMP @MR6304              ; ﾌｨﾙﾑ残少検出
;ﾌｨﾙﾑ残少検出
STG @MR6304              ; ﾌｨﾙﾑ残少検出
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12115              ; ﾌｨﾙﾑ残少検出SW1処理
RES MR12115              ; ﾌｨﾙﾑ残少検出SW1処理
CON
JMP @MR6303
MPP
AND MR12200              ; ﾌｨﾙﾑ残少検出SW2処理
RES MR12200              ; ﾌｨﾙﾑ残少検出SW2処理
CON
JMP @MR6305
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;<h1/>ﾌｨﾙﾑNG確認
LD R46100                ; _自動運転中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R7306                ; NG検出(OFF=NG）OUT1
ANB MR12302              ; ﾌｨﾙﾑNG検出
SET MR10907              ; NG検出ﾌﾗｸﾞ
LD R46101                ; _原点復帰中　ﾓｰﾄﾞﾌﾗｸﾞ
ANB R7306                ; NG検出(OFF=NG）OUT1
ANB MR12302              ; ﾌｨﾙﾑNG検出
SET MR10907              ; NG検出ﾌﾗｸﾞ
LD MR10011               ; ﾒﾝﾃﾌﾗｸﾞ
ANB R7306                ; NG検出(OFF=NG）OUT1
ANB MR12302              ; ﾌｨﾙﾑNG検出
SET MR10907              ; NG検出ﾌﾗｸﾞ
STG @MR6305
MPS
LDB MR10907              ; NG検出ﾌﾗｸﾞ
ANB MR10909              ; NG検出記憶
ANL
JMP @MR6311
MPP
LD MR10907               ; NG検出ﾌﾗｸﾞ
OR MR10909               ; NG検出記憶
ANL
SET MR10909              ; NG検出記憶
CON
SET MR12302              ; ﾌｨﾙﾑNG検出
CON
JMP @MR6306
;ﾌｨﾙﾑNG検出
STG @MR6306
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12303              ; ﾌｨﾙﾑNG検出SW1処理
RES MR10907              ; NG検出ﾌﾗｸﾞ
CON
RES MR12303              ; ﾌｨﾙﾑNG検出SW1処理
CON
JMP @MR6311
MRD
AND MR12304              ; ﾌｨﾙﾑNG検出SW2処理
RES MR10907              ; NG検出ﾌﾗｸﾞ
CON
RES MR10909              ; NG検出記憶
CON
RES MR12304              ; ﾌｨﾙﾑNG検出SW2処理
CON
JMP @MR6311
MPP
AND MR12305              ; ﾌｨﾙﾑNG検出SW3処理
RES MR10907              ; NG検出ﾌﾗｸﾞ
CON
SET MR10910              ; RESTARTﾌﾗｸﾞ
CON
RES MR12305              ; ﾌｨﾙﾑNG検出SW3処理
CON
JMP @MR6311
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;<h1/>巻き取り台紙満杯確認
STG @MR6311
MPS
ANB R7305                ; 巻取り台紙満杯確認
JMP @MR6313              ; ﾌｨﾙﾑﾛｰﾙ確認END
MPP
AND R7305                ; 巻取り台紙満杯確認
SET MR12203              ; 台紙満杯検出
CON
JMP @MR6312              ; 台紙満杯検出
;台紙満杯検出
STG @MR6312              ; 台紙満杯検出
MPS
ANB R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
MPS
AND MR12204              ; 台紙満杯検出SW1処理
RES MR12204              ; 台紙満杯検出SW1処理
CON
JMP @MR6303
MPP
AND MR12205              ; 台紙満杯検出SW2処理
RES MR12204              ; 台紙満杯検出SW1処理
CON
JMP @MR6313              ; ﾌｨﾙﾑﾛｰﾙ確認END
MPP
AND R44200               ; _Grp1 ﾎﾟｰｽﾞ要求
SET @MR1900              ; Main1 HALT許可
;ﾌｨﾙﾑﾛｰﾙ確認完了
STG @MR6313              ; ﾌｨﾙﾑﾛｰﾙ確認END
SET @MR6301              ; ﾌｨﾙﾑﾛｰﾙ確認完了
CON
JMP @MR6315
;<h1/>HALT
LD @MR1900               ; Main1 HALT許可
LD @MR1901               ; Main2 HALT許可
ORB @MR4002              ; Main2 Busy
ANL
TMR @2 #2                ; HALTﾀｲﾏ
CON
AND @T2                  ; HALTﾀｲﾏ
@SET R42601              ; _Grp1_Task1_ﾎﾟｰｽﾞ許可
LD R42601                ; _Grp1_Task1_ﾎﾟｰｽﾞ許可
RES @MR1900              ; Main1 HALT許可
CON
RES @MR1901              ; Main2 HALT許可
END
ENDH
