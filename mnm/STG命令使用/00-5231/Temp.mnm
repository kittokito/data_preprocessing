DEVICE:51
;MODULE:Temp
;MODULE_TYPE:0
;非常停止　出力クリア　／　Emergency stop output clear   
LD R50000                ; 即停止
OR R55000                ; TRAP
OR R55001                ; TRAP2
SET MR2815               ; TEMP ﾛｰｶﾙｸﾘｱ
CON
ZRES @MR000 @MR3915
;原点復帰
LD R50003                ; 原点復帰中
DIFU @MR1000
LD @MR1000
RES MR2815               ; TEMP ﾛｰｶﾙｸﾘｱ
CON
SET @MR1001
STG @MR1001
AND R50003               ; 原点復帰中
SET R50201               ; 温調動作中
CON
TMR #100 #10
CON
AND T100
JMP @MR1002
STG @MR1002
AND R50003               ; 原点復帰中
RES R50201               ; 温調動作中
CON
ENDS
;ヒーター通電　／　heater flows electricity   
LDP R50007               ; 原点復帰　 完了
SET R35000               ; ﾋｰﾀｰ1 ON
LD R50110                ; Err TEMP
RES R35000               ; ﾋｰﾀｰ1 ON
LD R35000                ; ﾋｰﾀｰ1 ON
TMR #101 #20
;エラー１			／ Error 1
;ヒーター適温外		／ Heater no moderate temperature
;ユーザーメッセージ２に　『ＯＵＴ ＯＦ ＳＵＩＴＡＢＬＥ　ＴＥＭＰ』　表示
;／'OUT OF SUITABLE TEMP' a/the display in user message 2   
LD R50008                ; ｴﾘｱｾﾝｻｰ　　有効中
ANB R50003               ; 原点復帰中
ANB R50100               ; ｽﾀｰﾄSW PLS
ANB R001                 ; ﾋｰﾀｰ適温
AND T200
ANB MR300                ; Err TEMP-0
ANB R1105                ; 調整ﾓｰﾄﾞ
AND CR2003               ; 常時OFF
SET @MR3000
LD @MR3000
SET @MR3001
STG @MR3001
RES R30008               ; ﾋｰﾀｰ 下降
CON
SET R50006               ; 異常発生中
CON
SET R50110               ; Err TEMP
CON
SET MR300                ; Err TEMP-0
CON
JMP @MR3002
STG @MR3002
AND R50006               ; 異常発生中
DW $0001 CM1720          ; ﾕｰｻﾞﾒｯｾｰｼﾞ1
CON
SET CR2900               ; ﾕｰｻﾞﾒｯｾｰｼﾞ1表示
CON
AND R50014               ; 異常ﾌﾞｻﾞｰ 停止
SET @MR3003
CON
JMP @MR3004
STG @MR3004
RES CR2900               ; ﾕｰｻﾞﾒｯｾｰｼﾞ1表示
CON
SET CR2901               ; ﾕｰｻﾞﾒｯｾｰｼﾞ2表示
CON
AND R50015               ; ｴﾗｰﾘｾｯﾄON
RES @MR3003
CON
RES CR2901               ; ﾕｰｻﾞﾒｯｾｰｼﾞ2表示
CON
RES R50110               ; Err TEMP
CON
RES MR300                ; Err TEMP-0
CON
SET R55000               ; TRAP
CON
ENDS
;ユーザーメッセージ２に　『ＯＵＴ ＯＦ ＳＵＩＴＡＢＬＥ　ＴＥＭＰ』　表示
;／'OUT OF SUITABLE TEMP' a/the display in user message 2   
LD @MR3003
AWMSG "OUT OF SUITABLE TEMP"
;ヒーター適温確認				／Heater moderate temperature confirmation 
;ＷＥＬＤＩＮＧにて出力される。	／It is output with WELDING.  
;ＭＲ２１００
LD MR2100                ; ﾋｰﾀｰ温度範囲外
SET @MR3108
LD MR2200                ; ﾋｰﾀｰ温度範囲外ｽﾀｰﾄBZ警告
TMR #60 #2
CON
AND T60
OUT MR2201
CON
RES MR2200               ; ﾋｰﾀｰ温度範囲外ｽﾀｰﾄBZ警告
;エラー１			／ Error 1
;ヒーター適温外		／ Heater no moderate temperature
;ユーザーメッセージ２に　『ＯＵＴ ＯＦ ＳＵＩＴＡＢＬＥ　ＴＥＭＰ』　表示
;／'OUT OF SUITABLE TEMP' a/the display in user message 2   
LD @MR3108
RES MR2100               ; ﾋｰﾀｰ温度範囲外
CON
SET @MR3109
STG @MR3109
RES R30008               ; ﾋｰﾀｰ 下降
CON
SET R50006               ; 異常発生中
CON
SET R50110               ; Err TEMP
CON
SET MR300                ; Err TEMP-0
CON
JMP @MR3110
STG @MR3110
AND R50006               ; 異常発生中
DW $0001 CM1720          ; ﾕｰｻﾞﾒｯｾｰｼﾞ1
CON
SET CR2900               ; ﾕｰｻﾞﾒｯｾｰｼﾞ1表示
CON
AND R50014               ; 異常ﾌﾞｻﾞｰ 停止
SET @MR3111
CON
JMP @MR3112
STG @MR3112
RES CR2900               ; ﾕｰｻﾞﾒｯｾｰｼﾞ1表示
CON
SET CR2901               ; ﾕｰｻﾞﾒｯｾｰｼﾞ2表示
CON
AND R50015               ; ｴﾗｰﾘｾｯﾄON
RES @MR3111
CON
RES CR2901               ; ﾕｰｻﾞﾒｯｾｰｼﾞ2表示
CON
RES R50110               ; Err TEMP
CON
RES MR300                ; Err TEMP-0
CON
SET R55001               ; TRAP2
CON
ENDS
;ユーザーメッセージ２に　『ＯＵＴ ＯＦ ＳＵＩＴＡＢＬＥ　ＴＥＭＰ』　表示
;／'OUT OF SUITABLE TEMP' a/the display in user message 2   
LD @MR3111
AWMSG "OUT OF SUITABLE TEMP"
;エラー２		／ error 2
;ヒーター断線	／ Heater snapping of a wire   
;ユーザーメッセージ２に　『ＨＥＡＴＥＲ　ＤＩＳＣＯＮＮＥＣＴＩＯＮ』　表示
;／'HEATER DISCONNECTION' a/the display in user message 2   
;ＥＲＲＯＲ２ ＨＥＡＴＥＲ ＤＩＳＣＯＮＮＥＣＴＩＯＮ
LD T101
AND R000                 ; ﾋｰﾀｰ断線検出
ANB R20110               ; 調整ﾓｰﾄﾞﾌﾗｸﾞ
DIFU @MR3008
LD @MR3008
SET @MR3009
STG @MR3009
RES R30008               ; ﾋｰﾀｰ 下降
CON
SET R50006               ; 異常発生中
CON
SET R50110               ; Err TEMP
CON
SET MR301                ; Err TEMP-1
CON
JMP @MR3010
STG @MR3010
AND R50006               ; 異常発生中
DW $0002 CM1720          ; ﾕｰｻﾞﾒｯｾｰｼﾞ1
CON
SET CR2900               ; ﾕｰｻﾞﾒｯｾｰｼﾞ1表示
CON
AND R50014               ; 異常ﾌﾞｻﾞｰ 停止
SET @MR3011
CON
RES R35000               ; ﾋｰﾀｰ1 ON
CON
JMP @MR3012
STG @MR3012
RES CR2900               ; ﾕｰｻﾞﾒｯｾｰｼﾞ1表示
CON
SET CR2901               ; ﾕｰｻﾞﾒｯｾｰｼﾞ2表示
CON
AND R50015               ; ｴﾗｰﾘｾｯﾄON
RES @MR3011
CON
RES CR2901               ; ﾕｰｻﾞﾒｯｾｰｼﾞ2表示
CON
RES R50110               ; Err TEMP
CON
RES MR301                ; Err TEMP-1
CON
SET R55000               ; TRAP
CON
ENDS
;ユーザーメッセージ２に　『ＨＥＡＴＥＲ　ＤＩＳＣＯＮＮＥＣＴＩＯＮ』　表示
;／'HEATER DISCONNECTION' a/the display in user message 2  
LD @MR3011
AWMSG "HEATER DISCONNECTION"
;エラー３		／ error3
;ヒーター過昇温	／ heater Over heat
;ユーザーメッセージ２に　『ＨＥＡＴＥＲ　ＯＶＥＲ　ＨＥＡＴＩＮＧ』　表示
;／'HEATER OVER HEATING' a/the display in user message 2   
;ＥＲＲＯＲ３  ＨＥＡＴＥＲ ＯＶＥＲ ＨＥＡＴＩＮＧ
LD T101
ANB R002                 ; ﾋｰﾀｰｵｰﾊﾞｰﾋｰﾄ
ANB R20110               ; 調整ﾓｰﾄﾞﾌﾗｸﾞ
OUT @MR3107
LD @MR3107
DIFU @MR3100
LD @MR3100
SET @MR3101
STG @MR3101
RES R30008               ; ﾋｰﾀｰ 下降
CON
SET R50006               ; 異常発生中
CON
SET R50110               ; Err TEMP
CON
SET MR302                ; Err TEMP-2
CON
JMP @MR3102
STG @MR3102
AND R50006               ; 異常発生中
DW $0003 CM1720          ; ﾕｰｻﾞﾒｯｾｰｼﾞ1
CON
SET CR2900               ; ﾕｰｻﾞﾒｯｾｰｼﾞ1表示
CON
AND R50014               ; 異常ﾌﾞｻﾞｰ 停止
SET @MR3103
CON
RES R35000               ; ﾋｰﾀｰ1 ON
CON
JMP @MR3104
STG @MR3104
RES CR2900               ; ﾕｰｻﾞﾒｯｾｰｼﾞ1表示
CON
SET CR2901               ; ﾕｰｻﾞﾒｯｾｰｼﾞ2表示
CON
AND R50015               ; ｴﾗｰﾘｾｯﾄON
RES @MR3103
CON
RES CR2901               ; ﾕｰｻﾞﾒｯｾｰｼﾞ2表示
CON
RES R50110               ; Err TEMP
CON
RES MR302                ; Err TEMP-2
CON
SET R55000               ; TRAP
CON
ENDS
;ユーザーメッセージ２に　『ＨＥＡＴＥＲ　ＯＶＥＲ　ＨＥＡＴＩＮＧ』　表示
;／'HEATER OVER HEATING' a/the display in user message 2   
LD @MR3103
AWMSG "HEATER OVER HEATING"
LD R50110                ; Err TEMP
RES R30008               ; ﾋｰﾀｰ 下降
END
ENDH
