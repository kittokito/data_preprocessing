DEVICE:51
;MODULE:Monitor
;MODULE_TYPE:0
LD R50010                ; Emargency　Stop
ZRES @MR000 @MR915       ; 000  　
;Error54 INDEX ドライバｰアラーム
;
LD R2008                 ; ｲﾝﾃﾞｯｸｽ電源ON
LDB R1108                ; INDEX  ALARM1
ORB R1109                ; INDEX  ALARM2
ANL
ANB R50300               ; 一時停止中
ANB @MR905               ; INDEXﾄﾞﾗｲﾊﾞｰｱﾗｰﾑｴﾗｰ中
TMR @16 #30              ; ｳｴｲﾄﾀｲﾏｰ16
LD @T16                  ; ｳｴｲﾄﾀｲﾏｰ16
ANB R50008               ; 全体ERROR
SET @MR905               ; INDEXﾄﾞﾗｲﾊﾞｰｱﾗｰﾑｴﾗｰ中
CON
SET R50008               ; 全体ERROR
CON
SET R50904               ; INDEXｴﾗｰ発生
CON
SET R50806               ; Err54
CON
SET @MR906               ; 906
MOV #54 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR906               ; 906
AND R50008               ; 全体ERROR
JMP @MR907               ; 907
STG @MR907               ; 907
ANB R50008               ; 全体ERROR
RES @MR905               ; INDEXﾄﾞﾗｲﾊﾞｰｱﾗｰﾑｴﾗｰ中
CON
SET R50011               ; TRAP
CON
ENDS
;Error55 ﾛﾎﾞｼﾘﾝﾀﾞ コントローラアラーム
;
LD R50004                ; TASKDO
ANB R1310                ; RB ｺﾝﾄﾛｰﾗｱﾗｰﾑ検出
ANB R50300               ; 一時停止中
ANB @MR805               ; RBｺﾝﾄﾛｰﾗｱﾗｰﾑｴﾗｰ中
TMR @15 #30
LD @T15
ANB R50008               ; 全体ERROR
SET @MR805               ; RBｺﾝﾄﾛｰﾗｱﾗｰﾑｴﾗｰ中
CON
SET R50008               ; 全体ERROR
CON
SET R50112               ; ST2部ｴﾗｰ発生中
CON
SET R50807               ; Err55
CON
SET @MR806               ; 806
MOV #55 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR806               ; 806
AND R50008               ; 全体ERROR
JMP @MR807               ; 807
STG @MR807               ; 807
ANB R50008               ; 全体ERROR
RES @MR805               ; RBｺﾝﾄﾛｰﾗｱﾗｰﾑｴﾗｰ中
CON
SET R50011               ; TRAP
CON
ENDS
;ﾊﾟｰﾂﾌｨｰﾀﾞｰ停止処理
;
;
LD MR5000                ; ｲﾝﾗｲﾝﾌｨｰﾀﾞｰ動作監視
ANB R50008               ; 全体ERROR
TMR #10 #9999
CON
AND T10
RES MR6200               ; B/F　動作ON
CON
RES MR6201               ; I/F　動作ON
CON
RES MR6202               ; HOPPER　動作ON
;Error52 元圧空低下
LD R50004                ; TASKDO
AND MR607                ; ﾒｲﾝｴｱｰOFF
ANB R50008               ; 全体ERROR
SET @MR800               ; ﾒｲﾝｴｱｰOFFｴﾗｰ
STG @MR800               ; ﾒｲﾝｴｱｰOFFｴﾗｰ
ANB R50008               ; 全体ERROR
SET R50008               ; 全体ERROR
CON
SET R50905               ; 装置全体ｴﾗｰ発生
CON
SET R50804               ; Err52
CON
JMP @MR802               ; 802
MOV #52 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR802               ; 802
AND R50008               ; 全体ERROR
RES MR607                ; ﾒｲﾝｴｱｰOFF
CON
JMP @MR803               ; 803
STG @MR803               ; 803
ANB R50008               ; 全体ERROR
ENDS
;Error14 P/F ｱﾗｰﾑ検出
LD R50004                ; TASKDO
LD R50001                ; AUTO　MODE
LD R50002                ; STEP
AND LR200                ; STEP ｼｬﾌﾄ給材-0選択ﾗﾝﾌﾟ
ORL
ANL
AND R1314                ; P/Fｱﾗｰﾑ出力
ANB R50008               ; 全体ERROR
OUT MR1314               ; P/Fｱﾗｰﾑ　ｼｬﾌﾄ満杯未検出警報
LD R50001                ; AUTO　MODE
AND R50004               ; TASKDO
ANB R50008               ; 全体ERROR
AND MR1314               ; P/Fｱﾗｰﾑ　ｼｬﾌﾄ満杯未検出警報
TMR #13 #9999            ; P/Fｱﾗｰﾑ　ｼｬﾌﾄ切れ
CON
AND T13                  ; P/Fｱﾗｰﾑ　ｼｬﾌﾄ切れ
SET @MR100               ; 100
STG @MR100               ; 100
ANB R50008               ; 全体ERROR
SET R50008               ; 全体ERROR
CON
SET R50112               ; ST2部ｴﾗｰ発生中
CON
SET R50514               ; Err14
CON
JMP @MR102               ; 102
MOV #14 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR102               ; 102
AND R50008               ; 全体ERROR
JMP @MR103
STG @MR103
ANB R50008               ; 全体ERROR
ENDS
;Error48 ｽﾃｰﾀ 搬送CV ｱﾗｰﾑ
;
LD T230                  ; 電源ON後ｳｪｲﾄ
ANB R1112                ; 投入側C/V　ｽﾃｰﾀC/Vｱﾗｰﾑ
@SET @MR200              ; Err48
LD @MR200                ; Err48
ANB R50008               ; 全体ERROR
SET R50008               ; 全体ERROR
CON
SET R50111               ; ST1部ｴﾗｰ発生中
CON
SET R50800               ; Err48
CON
SET @MR202
MOV #48 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR202
AND R50008               ; 全体ERROR
JMP @MR203
STG @MR203
ANB R50008               ; 全体ERROR
SET R50011               ; TRAP
CON
ENDS
;Error49 ﾛｰﾀ 搬送CV ｱﾗｰﾑ
;
LD T230                  ; 電源ON後ｳｪｲﾄ
ANB R1113                ; 投入側C/V　ﾛｰﾀC/Vｱﾗｰﾑ
@SET @MR208              ; Err49
LD @MR208                ; Err49
ANB R50008               ; 全体ERROR
SET R50008               ; 全体ERROR
CON
SET R50111               ; ST1部ｴﾗｰ発生中
CON
SET R50801               ; Err49
CON
SET @MR210
MOV #49 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR210
AND R50008               ; 全体ERROR
JMP @MR211
STG @MR211
ANB R50008               ; 全体ERROR
SET R50011               ; TRAP
CON
ENDS
;Error50 ｽﾃｰﾀ 排出CV ｱﾗｰﾑ
;
LD T230                  ; 電源ON後ｳｪｲﾄ
ANB R1114                ; 排出側C/V　ｽﾃｰﾀC/Vｱﾗｰﾑ
@SET @MR300              ; Err49
LD @MR300                ; Err49
ANB R50008               ; 全体ERROR
SET R50008               ; 全体ERROR
CON
SET R50114               ; ST4部ｴﾗｰ発生中
CON
SET R50802               ; Err50
CON
SET @MR302               ; 302
MOV #50 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR302               ; 302
AND R50008               ; 全体ERROR
JMP @MR303
STG @MR303
ANB R50008               ; 全体ERROR
SET R50011               ; TRAP
CON
ENDS
;Error51 ﾛｰﾀ 排出CV ｱﾗｰﾑ
;
LD T230                  ; 電源ON後ｳｪｲﾄ
ANB R1115                ; 排出側C/V　ﾛｰﾀC/Vｱﾗｰﾑ
@SET @MR308              ; Err51
LD @MR308                ; Err51
ANB R50008               ; 全体ERROR
SET R50008               ; 全体ERROR
CON
SET R50114               ; ST4部ｴﾗｰ発生中
CON
SET R50803               ; Err51
CON
SET @MR310               ; 310
MOV #51 DM400            ; ﾒｯｾｰｼﾞNo.
STG @MR310               ; 310
AND R50008               ; 全体ERROR
JMP @MR311
STG @MR311
ANB R50008               ; 全体ERROR
SET R50011               ; TRAP
CON
ENDS
END
ENDH
