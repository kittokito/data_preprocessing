DEVICE:51
;MODULE:P0710_出力_ｱﾅﾛｸﾞ･温調
;MODULE_TYPE:0
LD MR30000               ; 運転準備完了
ANB MR30104              ; ﾓｰﾄﾞ変更ﾊﾟﾙｽ
ANB MR60915              ; 全ｱﾗｰﾑ
MC
;オートチューニング開始リレー
LDP MR34000              ; 試験庫温調ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
OR R93001                ; 試験庫温調_ｵｰﾄﾁｭｰﾆﾝｸﾞ開始ﾘﾚｰ
AND MR34000              ; 試験庫温調ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
ANB MR71003              ; 試験庫温調_手動ﾓｰﾄﾞ温調開始
OUT R93001               ; 試験庫温調_ｵｰﾄﾁｭｰﾆﾝｸﾞ開始ﾘﾚｰ
LDP MR34008              ; 蒸気ﾋｰﾀ温調ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
OR R93101                ; 蒸気ﾋｰﾀ温調_ｵｰﾄﾁｭｰﾆﾝｸﾞ開始ﾘﾚｰ
AND MR34008              ; 蒸気ﾋｰﾀ温調ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
ANB MR71007              ; 蒸気ﾋｰﾀ温調_手動ﾓｰﾄﾞ温調開始
OUT R93101               ; 蒸気ﾋｰﾀ温調_ｵｰﾄﾁｭｰﾆﾝｸﾞ開始ﾘﾚｰ
LDP MR34100              ; 窓ﾋｰﾀ温調ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
OR R92001                ; ﾄｯﾌﾟﾋｰﾀ温調_ｵｰﾄﾁｭｰﾆﾝｸﾞ開始ﾘﾚｰ
AND MR34100              ; 窓ﾋｰﾀ温調ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
ANB MR71011              ; 窓ﾋｰﾀ温調_手動ﾓｰﾄﾞ温調開始
OUT R92001               ; ﾄｯﾌﾟﾋｰﾀ温調_ｵｰﾄﾁｭｰﾆﾝｸﾞ開始ﾘﾚｰ
LDP MR34100              ; 窓ﾋｰﾀ温調ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
OR R92101                ; ｻｲﾄﾞﾋｰﾀ1温調_ｵｰﾄﾁｭｰﾆﾝｸﾞ開始ﾘﾚｰ
AND MR34100              ; 窓ﾋｰﾀ温調ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
ANB MR71011              ; 窓ﾋｰﾀ温調_手動ﾓｰﾄﾞ温調開始
OUT R92101               ; ｻｲﾄﾞﾋｰﾀ1温調_ｵｰﾄﾁｭｰﾆﾝｸﾞ開始ﾘﾚｰ
LDP MR34100              ; 窓ﾋｰﾀ温調ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
OR R92201                ; ｻｲﾄﾞﾋｰﾀ2温調_ｵｰﾄﾁｭｰﾆﾝｸﾞ開始ﾘﾚｰ
AND MR34100              ; 窓ﾋｰﾀ温調ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
ANB MR71011              ; 窓ﾋｰﾀ温調_手動ﾓｰﾄﾞ温調開始
OUT R92201               ; ｻｲﾄﾞﾋｰﾀ2温調_ｵｰﾄﾁｭｰﾆﾝｸﾞ開始ﾘﾚｰ
LDP MR34108              ; 湿度PID制御ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
OR R94001                ; 湿度PID制御_ｵｰﾄﾁｭｰﾆﾝｸﾞ開始ﾘﾚｰ
AND MR34108              ; 湿度PID制御ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
ANB MR71103              ; 湿度PID制御_手動ﾓｰﾄﾞ制御開始
OUT R94001               ; 湿度PID制御_ｵｰﾄﾁｭｰﾆﾝｸﾞ開始ﾘﾚｰ
LDP MR34200              ; 圧力PID制御ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
OR R94101                ; 圧力PID制御_ｵｰﾄﾁｭｰﾆﾝｸﾞ開始ﾘﾚｰ
AND MR34200              ; 圧力PID制御ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
ANB MR71111              ; 圧力PID制御_手動ﾓｰﾄﾞ制御開始
OUT R94101               ; 圧力PID制御_ｵｰﾄﾁｭｰﾆﾝｸﾞ開始ﾘﾚｰ
;試験庫温調開始リレー
LD MR40412               ; 試験庫温調開始_AUT
OUT MR71000              ; 試験庫温調_自動ﾓｰﾄﾞ温調開始信号
LD MR50012               ; 温調停止_SUB
OUT MR71001              ; 試験庫温調_自動ﾓｰﾄﾞ温調停止信号
LD MR71000               ; 試験庫温調_自動ﾓｰﾄﾞ温調開始信号
OR MR71002               ; 試験庫温調_自動ﾓｰﾄﾞ温調開始
ANB MR71001              ; 試験庫温調_自動ﾓｰﾄﾞ温調停止信号
OUT MR71002              ; 試験庫温調_自動ﾓｰﾄﾞ温調開始
LD MR31011               ; 試験庫温調･開始_MAN
OR MR71003               ; 試験庫温調_手動ﾓｰﾄﾞ温調開始
ANB MR31012              ; 試験庫温調･停止_MAN
ANB MR34000              ; 試験庫温調ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
OUT MR71003              ; 試験庫温調_手動ﾓｰﾄﾞ温調開始
LD MR71002               ; 試験庫温調_自動ﾓｰﾄﾞ温調開始
OR MR71003               ; 試験庫温調_手動ﾓｰﾄﾞ温調開始
OR MR34000               ; 試験庫温調ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
OUT R93000               ; 試験庫温調_動作開始ﾘﾚｰ
OUT R93200               ; ﾍﾞｰｽﾋｰﾀ測温_動作開始ﾘﾚｰ
;蒸気ヒータ温調開始リレー
LD MR40600               ; 蒸気ﾋｰﾀ温調開始_AUT
OUT MR71004              ; 蒸気ﾋｰﾀ温調_自動ﾓｰﾄﾞ温調開始信号
LD MR50012               ; 温調停止_SUB
OUT MR71005              ; 蒸気ﾋｰﾀ温調_自動ﾓｰﾄﾞ温調停止信号
LD MR71004               ; 蒸気ﾋｰﾀ温調_自動ﾓｰﾄﾞ温調開始信号
OR MR71006               ; 蒸気ﾋｰﾀ温調_自動ﾓｰﾄﾞ温調開始
ANB MR71005              ; 蒸気ﾋｰﾀ温調_自動ﾓｰﾄﾞ温調停止信号
OUT MR71006              ; 蒸気ﾋｰﾀ温調_自動ﾓｰﾄﾞ温調開始
LD MR31013               ; 蒸気ﾋｰﾀ温調･開始_MAN
OR MR71007               ; 蒸気ﾋｰﾀ温調_手動ﾓｰﾄﾞ温調開始
ANB MR31014              ; 蒸気ﾋｰﾀ温調･停止_MAN
ANB MR34008              ; 蒸気ﾋｰﾀ温調ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
OUT MR71007              ; 蒸気ﾋｰﾀ温調_手動ﾓｰﾄﾞ温調開始
LD MR71006               ; 蒸気ﾋｰﾀ温調_自動ﾓｰﾄﾞ温調開始
OR MR71007               ; 蒸気ﾋｰﾀ温調_手動ﾓｰﾄﾞ温調開始
OR MR34008               ; 蒸気ﾋｰﾀ温調ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
OUT R93100               ; 蒸気ﾋｰﾀ温調_動作開始ﾘﾚｰ
OUT R93300               ; 蒸発器測温_動作開始ﾘﾚｰ
OUT R92300               ; 蒸気ﾋｰﾀ過昇測温_動作開始ﾘﾚｰ
;窓ヒータ温調開始リレー
LD MR40500               ; 窓ﾋｰﾀ温調急速加熱開始_AUT
OR MR40508               ; 窓ﾋｰﾀ通常温調開始_AUT
OUT MR71008              ; 窓ﾋｰﾀ温調_自動ﾓｰﾄﾞ温調開始信号
LD MR50012               ; 温調停止_SUB
OUT MR71009              ; 窓ﾋｰﾀ温調_自動ﾓｰﾄﾞ温調停止信号
LD MR71008               ; 窓ﾋｰﾀ温調_自動ﾓｰﾄﾞ温調開始信号
OR MR71010               ; 窓ﾋｰﾀ温調_自動ﾓｰﾄﾞ温調開始
ANB MR71009              ; 窓ﾋｰﾀ温調_自動ﾓｰﾄﾞ温調停止信号
OUT MR71010              ; 窓ﾋｰﾀ温調_自動ﾓｰﾄﾞ温調開始
LD MR31015               ; 窓ﾋｰﾀ温調･開始_MAN
OR MR71011               ; 窓ﾋｰﾀ温調_手動ﾓｰﾄﾞ温調開始
ANB MR31100              ; 窓ﾋｰﾀ温調･停止_MAN
ANB MR34100              ; 窓ﾋｰﾀ温調ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
OUT MR71011              ; 窓ﾋｰﾀ温調_手動ﾓｰﾄﾞ温調開始
LD MR71010               ; 窓ﾋｰﾀ温調_自動ﾓｰﾄﾞ温調開始
OR MR71011               ; 窓ﾋｰﾀ温調_手動ﾓｰﾄﾞ温調開始
OR MR34100               ; 窓ﾋｰﾀ温調ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
OUT R92000               ; ﾄｯﾌﾟﾋｰﾀ温調_動作開始ﾘﾚｰ
OUT R92100               ; ｻｲﾄﾞﾋｰﾀ1温調_動作開始ﾘﾚｰ
OUT R92200               ; ｻｲﾄﾞﾋｰﾀ2温調_動作開始ﾘﾚｰ
;湿度PID制御開始リレー
LD MR41000               ; 湿度PID制御開始指令_AUT
OUT MR71100              ; 湿度PID制御_自動ﾓｰﾄﾞ制御開始信号
LD MR50004               ; 全PID制御停止_SUB
OUT MR71101              ; 湿度PID制御_自動ﾓｰﾄﾞ制御停止信号
LD MR71100               ; 湿度PID制御_自動ﾓｰﾄﾞ制御開始信号
OR MR71102               ; 湿度PID制御_自動ﾓｰﾄﾞ制御開始
ANB MR71101              ; 湿度PID制御_自動ﾓｰﾄﾞ制御停止信号
OUT MR71102              ; 湿度PID制御_自動ﾓｰﾄﾞ制御開始
LD MR31101               ; ﾁｭｰﾌﾞﾎﾟﾝﾌﾟPID制御･開始_MAN
OR MR71103               ; 湿度PID制御_手動ﾓｰﾄﾞ制御開始
ANB MR31102              ; ﾁｭｰﾌﾞﾎﾟﾝﾌﾟPID制御･停止_MAN
ANB MR34108              ; 湿度PID制御ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
OUT MR71103              ; 湿度PID制御_手動ﾓｰﾄﾞ制御開始
LD MR71102               ; 湿度PID制御_自動ﾓｰﾄﾞ制御開始
OR MR71103               ; 湿度PID制御_手動ﾓｰﾄﾞ制御開始
OR MR34108               ; 湿度PID制御ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
OUT R94000               ; 湿度PID制御_動作開始ﾘﾚｰ
;圧力PID制御開始リレー
LD MR40808               ; 圧力PID制御開始処理_AUT
OUT MR71108              ; 圧力PID制御_自動ﾓｰﾄﾞ制御開始信号
LD MR50004               ; 全PID制御停止_SUB
OR MR40812               ; 電子ﾊﾞﾙﾌﾞ電源OFF_AUT
OUT MR71109              ; 圧力PID制御_自動ﾓｰﾄﾞ制御停止信号
LD MR71108               ; 圧力PID制御_自動ﾓｰﾄﾞ制御開始信号
OR MR71110               ; 圧力PID制御_自動ﾓｰﾄﾞ制御開始
ANB MR71109              ; 圧力PID制御_自動ﾓｰﾄﾞ制御停止信号
OUT MR71110              ; 圧力PID制御_自動ﾓｰﾄﾞ制御開始
LD MR31103               ; 電子ﾊﾞﾙﾌﾞPID制御･開始_MAN
OR MR71111               ; 圧力PID制御_手動ﾓｰﾄﾞ制御開始
ANB MR31104              ; 電子ﾊﾞﾙﾌﾞPID制御･停止_MAN
ANB MR34200              ; 圧力PID制御ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
OUT MR71111              ; 圧力PID制御_手動ﾓｰﾄﾞ制御開始
LD MR71110               ; 圧力PID制御_自動ﾓｰﾄﾞ制御開始
OR MR71111               ; 圧力PID制御_手動ﾓｰﾄﾞ制御開始
OR MR34200               ; 圧力PID制御ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
OUT R94100               ; 圧力PID制御_動作開始ﾘﾚｰ
MCR
;温調、PID制御への設定値入力
;窓ヒータ温調設定値
LDP MR40500              ; 窓ﾋｰﾀ温調急速加熱開始_AUT
LD MR71204               ; 窓ﾋｰﾀ急速加熱中
ANB MR40507              ; 試験庫内温度監視完了(急速加熱)
ORL
OUT MR71204              ; 窓ﾋｰﾀ急速加熱中
MOV.S DM40070 DM60201    ; 窓ﾋｰﾀ急速加熱_目標温度設定T4s1  ﾄｯﾌﾟﾋｰﾀ温調_設定値
MOV.S DM40070 DM60215    ; 窓ﾋｰﾀ急速加熱_目標温度設定T4s1  ｻｲﾄﾞﾋｰﾀ1温調_設定値
MOV.S DM40070 DM60229    ; 窓ﾋｰﾀ急速加熱_目標温度設定T4s1  ｻｲﾄﾞﾋｰﾀ2温調_設定値
LDA.S DM40               ; 試験庫_温度設定Ts
CON
SUB.S DM40074            ; 窓ﾋｰﾀ急速加熱_終了温度設定T1s1
CON
STA.S EM730              ; 自動_窓ﾋｰﾀ急速加熱目標値
LD MR30102               ; 自動ﾓｰﾄﾞ
ANB MR71204              ; 窓ﾋｰﾀ急速加熱中
OUT MR71205              ; 窓ﾋｰﾀ通常温調中
MPS
LDA.S DM40               ; 試験庫_温度設定Ts
CON
ADD.S DM40054            ; ﾄｯﾌﾟ窓ﾋｰﾀ_ｹﾞﾀ温度設定T4s
CON
STA.S EM732              ; 自動_ﾄｯﾌﾟﾋｰﾀ温度設定値
MRD
LDA.S EM732              ; 自動_ﾄｯﾌﾟﾋｰﾀ温度設定値
CON
SUB.S DM40078            ; 窓ﾋｰﾀ温度到達確認幅T4s3
CON
STA.S EM736              ; 自動_ﾄｯﾌﾟﾋｰﾀ温度目標下限値
MRD
LDA.S EM732              ; 自動_ﾄｯﾌﾟﾋｰﾀ温度設定値
CON
ADD.S DM40078            ; 窓ﾋｰﾀ温度到達確認幅T4s3
CON
STA.S EM760              ; 自動_ﾄｯﾌﾟﾋｰﾀ温度目標上限値
MRD
LDA.S DM40               ; 試験庫_温度設定Ts
CON
ADD.S DM40058            ; ｻｲﾄﾞ窓ﾋｰﾀ_ｹﾞﾀ温度設定T4s
CON
STA.S EM740              ; 自動_ｻｲﾄﾞﾋｰﾀ温度設定値
MRD
LDA.S EM740              ; 自動_ｻｲﾄﾞﾋｰﾀ温度設定値
CON
SUB.S DM40078            ; 窓ﾋｰﾀ温度到達確認幅T4s3
CON
STA.S EM762              ; 自動_ｻｲﾄﾞﾋｰﾀ温度目標下限値
MRD
LDA.S EM740              ; 自動_ｻｲﾄﾞﾋｰﾀ温度設定値
CON
ADD.S DM40078            ; 窓ﾋｰﾀ温度到達確認幅T4s3
CON
STA.S EM764              ; 自動_ｻｲﾄﾞﾋｰﾀ温度目標上限値
MRD
MOV.S EM732 DM60201      ; 自動_ﾄｯﾌﾟﾋｰﾀ温度設定値  ﾄｯﾌﾟﾋｰﾀ温調_設定値
MRD
MOV.S EM740 DM60215      ; 自動_ｻｲﾄﾞﾋｰﾀ温度設定値  ｻｲﾄﾞﾋｰﾀ1温調_設定値
MPP
MOV.S EM740 DM60229      ; 自動_ｻｲﾄﾞﾋｰﾀ温度設定値  ｻｲﾄﾞﾋｰﾀ2温調_設定値
LD MR30103               ; 手動ﾓｰﾄﾞ
MPS
LDA.S DM10260            ; 手動_試験庫温調_温度設定_Tpd
CON
ADD.S DM10264            ; 手動_窓ﾋｰﾀ温調_ｹﾞﾀ温度設定_Tpd
CON
STA.S EM734              ; 手動_窓ﾋｰﾀ温度設定値
MRD
MOV.S EM734 DM60201      ; 手動_窓ﾋｰﾀ温度設定値  ﾄｯﾌﾟﾋｰﾀ温調_設定値
MRD
MOV.S EM734 DM60215      ; 手動_窓ﾋｰﾀ温度設定値  ｻｲﾄﾞﾋｰﾀ1温調_設定値
MPP
MOV.S EM734 DM60229      ; 手動_窓ﾋｰﾀ温度設定値  ｻｲﾄﾞﾋｰﾀ2温調_設定値
;試験庫温調設定値
LD MR30102               ; 自動ﾓｰﾄﾞ
MOV.S DM40 DM60301       ; 試験庫_温度設定Ts  試験庫温調_設定値
LD MR30103               ; 手動ﾓｰﾄﾞ
MOV DM10260 DM60301      ; 手動_試験庫温調_温度設定_Tpd  試験庫温調_設定値
;蒸気ヒータ温調設定値
LD MR30102               ; 自動ﾓｰﾄﾞ
MOV.S DM40050 DM60315    ; 蒸気ﾋｰﾀ_温度設定T7s  蒸気ﾋｰﾀ温調_設定値
LD MR30103               ; 手動ﾓｰﾄﾞ
MOV.S DM10262 DM60315    ; 手動_蒸気ﾋｰﾀ温調_温度設定_Tpd  蒸気ﾋｰﾀ温調_設定値
;湿度PID制御設定値
LD MR41000               ; 湿度PID制御開始指令_AUT
MPS
AND MR30110              ; ﾊﾟﾀｰﾝ運転ﾓｰﾄﾞ
MPS
AND MR41502              ; 高湿度ﾓｰﾄﾞ
MOV.S DM0 DM20020        ; ﾊﾟﾀｰﾝ運転･高湿度設定RhHs  湿度目標値[%]
MPP
AND MR41503              ; 低湿度ﾓｰﾄﾞ
MOV.S DM4 DM20020        ; ﾊﾟﾀｰﾝ運転･低湿度設定RhLs  湿度目標値[%]
MPP
AND MR30111              ; 一定湿度運転ﾓｰﾄﾞ
MOV.S DM8 DM20020        ; 一定湿度運転･湿度設定Rhs  湿度目標値[%]
LD MR30103               ; 手動ﾓｰﾄﾞ
MOV.S DM10266 DM20020    ; 手動_湿度PID制御･湿度設定_Tpd  湿度目標値[%]
LD MR50000               ; 除湿処理ｻﾌﾞﾙｰﾁﾝMC
MOV.S +0 DM20020         ; 湿度目標値[%]
LD CR2002                ; 常時ON
MPS
LDA DM20020              ; 湿度目標値[%]
CON
MUL #40
CON
STA DM60401              ; 湿度PID制御_設定値
MPP
LDA DM20020              ; 湿度目標値[%]
CON
MUL #10
CON
STA DM20022              ; 湿度目標値[0.1%]
;圧力PID制御設定値
LD MR30102               ; 自動ﾓｰﾄﾞ
ANB MR71305              ; 降湿中_圧力PID制御設定値_一時変
MOV.S DM40082 EM720      ; 圧力設定Ps  圧力設定_TMP1
LD MR30103               ; 手動ﾓｰﾄﾞ
MOV.S DM10268 EM720      ; 手動_圧力PID制御･圧力設定_Tpd  圧力設定_TMP1
LDP MR40907              ; 1ｻｲｸﾙﾀｲﾏ初期化完了
OR MR71305               ; 降湿中_圧力PID制御設定値_一時変
AND MR30408              ; 自動運転中
AND MR41503              ; 低湿度ﾓｰﾄﾞ
AND> DM20010 DM20020     ; 湿度現在値[%]  湿度目標値[%]
OUT MR71305              ; 降湿中_圧力PID制御設定値_一時変
MOV.S DM40086 EM720      ; 圧力設定Ps(降湿中)  圧力設定_TMP1
LD CR2002                ; 常時ON
LDA EM720                ; 圧力設定_TMP1
CON
FLOAT
CON
MUL.F +8.16
CON
INTG
CON
STA DM60415              ; 圧力PID制御_設定値
;PID制御への外部測定値入力
;湿度PID制御 測定値
LD CR2002                ; 常時ON
MPS
LDA #0
CON
STA TM0
CON
LDA DM60001              ; 庫内湿度H0_特殊ﾃﾞｰﾀ
CON
STA DM60413              ; 湿度PID制御_外部測定値入力
MRD
LDA #0
CON
STA TM0
CON
LDA DM60001              ; 庫内湿度H0_特殊ﾃﾞｰﾀ
CON
DIV #40
CON
STA DM20010              ; 湿度現在値[%]
MRD
LDA #0
CON
STA TM0
CON
LDA DM60001              ; 庫内湿度H0_特殊ﾃﾞｰﾀ
CON
DIV #4
CON
STA DM20012              ; 湿度現在値[0.1%]
MRD
MOV DM20012 DM10644      ; 湿度現在値[0.1%]  湿度現在値[0.1%]
MRD
LDA DM20022              ; 湿度目標値[0.1%]
CON
ADD #20
CON
STA DM20014              ; 湿度目標上限値[0.1%]
MPP
LDA DM20022              ; 湿度目標値[0.1%]
CON
SUB #20
CON
STA DM20016              ; 湿度目標下限値[0.1%]
;圧力PID制御 測定値
LD CR2002                ; 常時ON
LDA #0
CON
STA TM0
CON
LDA DM60011              ; 圧力ｾﾝｻP1_特殊ﾃﾞｰﾀ
CON
DIV #1
CON
STA DM60427              ; 圧力PID制御_外部測定値入力
;アナログ指令出力処理
;チューブポンプ アナログ指令値出力処理
LD R94000                ; 湿度PID制御_動作開始ﾘﾚｰ
OR R94001                ; 湿度PID制御_ｵｰﾄﾁｭｰﾆﾝｸﾞ開始ﾘﾚｰ
LDA DM60402              ; 湿度PID制御_出力量
CON
MUL #20
CON
STA DM60100              ; ﾁｭｰﾌﾞﾎﾟﾝﾌﾟ流量_出力ﾃﾞｰﾀ
LDB R94000               ; 湿度PID制御_動作開始ﾘﾚｰ
ANB R94001               ; 湿度PID制御_ｵｰﾄﾁｭｰﾆﾝｸﾞ開始ﾘﾚｰ
OUT R22411               ; 手動_ﾁｭｰﾌﾞﾎﾟﾝﾌﾟ･電圧変更許可_Tpb
LDA DM10240              ; 手動_ﾁｭｰﾌﾞﾎﾟﾝﾌﾟ指令電圧[V]_Tpd
CON
MUL #200
CON
STA DM60100              ; ﾁｭｰﾌﾞﾎﾟﾝﾌﾟ流量_出力ﾃﾞｰﾀ
;湿度設定3%以下のときチューブポンプ停止
LD<= DM20020 #3          ; 湿度目標値[%]
OUT MR71310              ; 湿度3%以下のときﾁｭｰﾌﾞﾎﾟﾝﾌﾟ一時停
;チューブポンプ流量現在値[mL/rev]の算出
LD CR2002                ; 常時ON
MPS
LDA DM60100              ; ﾁｭｰﾌﾞﾎﾟﾝﾌﾟ流量_出力ﾃﾞｰﾀ
CON
FLOAT
CON
STA.F EM700              ; ﾁｭｰﾌﾞﾎﾟﾝﾌﾟ流量ﾃﾞｰﾀ_TMP1_FL
MRD
LDA.F EM700              ; ﾁｭｰﾌﾞﾎﾟﾝﾌﾟ流量ﾃﾞｰﾀ_TMP1_FL
CON
DIV.F +2000
CON
STA.F EM702              ; ﾁｭｰﾌﾞﾎﾟﾝﾌﾟ流量ﾃﾞｰﾀ_TMP2_FL
MRD
LDA.F EM702              ; ﾁｭｰﾌﾞﾎﾟﾝﾌﾟ流量ﾃﾞｰﾀ_TMP2_FL
CON
MUL.F +4.9
CON
STA.F EM704              ; ﾁｭｰﾌﾞﾎﾟﾝﾌﾟ流用ﾃﾞｰﾀ_TMP3_FL
MPP
LDA.F EM704              ; ﾁｭｰﾌﾞﾎﾟﾝﾌﾟ流用ﾃﾞｰﾀ_TMP3_FL
CON
INTG
CON
STA DM20030              ; ﾁｭｰﾌﾞﾎﾟﾝﾌﾟ流量現在値[mL/rev]
;手動電子バルブ閉度値[%]処理
LD MR31007               ; 電子ﾊﾞﾙﾌﾞ･閉_MAN
MPS
LDA.S DM10242            ; 手動_電子ﾊﾞﾙﾌﾞ閉度[%]_Tpd
CON
ADD.S +10
CON
STA.S DM10242            ; 手動_電子ﾊﾞﾙﾌﾞ閉度[%]_Tpd
MPP
AND>.S DM10242 +100      ; 手動_電子ﾊﾞﾙﾌﾞ閉度[%]_Tpd
MOV.S +100 DM10242       ; 手動_電子ﾊﾞﾙﾌﾞ閉度[%]_Tpd
LD MR31006               ; 電子ﾊﾞﾙﾌﾞ･開_MAN
MPS
LDA.S DM10242            ; 手動_電子ﾊﾞﾙﾌﾞ閉度[%]_Tpd
CON
SUB.S +10
CON
STA.S DM10242            ; 手動_電子ﾊﾞﾙﾌﾞ閉度[%]_Tpd
MPP
AND<.S DM10242 +0        ; 手動_電子ﾊﾞﾙﾌﾞ閉度[%]_Tpd
MOV.S +0 DM10242         ; 手動_電子ﾊﾞﾙﾌﾞ閉度[%]_Tpd
;電子バルブ アナログ指令値出力処理
LDB R2011                ; 電子ﾊﾞﾙﾌﾞ電源
DW #0 DM60102            ; 電子ﾊﾞﾙﾌﾞ閉度_出力ﾃﾞｰﾀ
LD R94100                ; 圧力PID制御_動作開始ﾘﾚｰ
OR R94101                ; 圧力PID制御_ｵｰﾄﾁｭｰﾆﾝｸﾞ開始ﾘﾚｰ
LDA DM60416              ; 圧力PID制御_出力量
CON
MUL #16
CON
STA DM60102              ; 電子ﾊﾞﾙﾌﾞ閉度_出力ﾃﾞｰﾀ
LDB R94100               ; 圧力PID制御_動作開始ﾘﾚｰ
ANB R94101               ; 圧力PID制御_ｵｰﾄﾁｭｰﾆﾝｸﾞ開始ﾘﾚｰ
OUT R22415               ; 手動_電子ﾊﾞﾙﾌﾞ･閉度変更許可_Tpb
LDA DM10242              ; 手動_電子ﾊﾞﾙﾌﾞ閉度[%]_Tpd
CON
MUL #160
CON
STA DM60102              ; 電子ﾊﾞﾙﾌﾞ閉度_出力ﾃﾞｰﾀ
;電子バルブ開度現在値[%]の算出
LD CR2002                ; 常時ON
MPS
LDA #0
CON
STA TM0
CON
LDA DM60102              ; 電子ﾊﾞﾙﾌﾞ閉度_出力ﾃﾞｰﾀ
CON
DIV #160
CON
STA EM710                ; 電子ﾊﾞﾙﾌﾞ開度表示用ﾃﾞｰﾀ_TMP1
MPP
LDA.S +100
CON
SUB.S EM710              ; 電子ﾊﾞﾙﾌﾞ開度表示用ﾃﾞｰﾀ_TMP1
CON
STA.S DM20040            ; 電子ﾊﾞﾙﾌﾞ開度現在値[%]
;流量設定アナログ指令値出力処理
LDB MR30408              ; 自動運転中
MOV DM90 DM60104         ; 流量設定(通常運転時)  ﾌﾛｰｺﾝ流量_出力ﾃﾞｰﾀ
LD MR30408               ; 自動運転中
MOV DM40090 DM60104      ; 流量設定  ﾌﾛｰｺﾝ流量_出力ﾃﾞｰﾀ
MPS
ANB MR40707              ; 湿度監視完了
MOV #50 DM60104          ; ﾌﾛｰｺﾝ流量_出力ﾃﾞｰﾀ
MPP
LD MR40808               ; 圧力PID制御開始処理_AUT
OR MR71313               ; 圧力制御中流量増
ANB MR40811              ; 圧力到達確認完了
ANL
MOV #50 DM60104          ; ﾌﾛｰｺﾝ流量_出力ﾃﾞｰﾀ
OUT MR71313              ; 圧力制御中流量増
LD MR34108               ; 湿度PID制御ｵｰﾄﾁｭｰﾆﾝｸﾞ開始
MPS
AND> DM60402 #0          ; 湿度PID制御_出力量
MOV #20 DM60104          ; ﾌﾛｰｺﾝ流量_出力ﾃﾞｰﾀ
MPP
AND= DM60402 #0          ; 湿度PID制御_出力量
MOV #80 DM60104          ; ﾌﾛｰｺﾝ流量_出力ﾃﾞｰﾀ
LD MR50000               ; 除湿処理ｻﾌﾞﾙｰﾁﾝMC
MOV #50 DM60104          ; ﾌﾛｰｺﾝ流量_出力ﾃﾞｰﾀ
LDB R2008                ; 圧縮機電源
MOV #0 DM60104           ; ﾌﾛｰｺﾝ流量_出力ﾃﾞｰﾀ
;湿度PID制御データのグラフ出力データ処理
LD CR2002                ; 常時ON
MPS
LDA #0
CON
STA TM0
CON
LDA.S DM60402            ; 湿度PID制御_出力量
CON
DIV.S -10
CON
STA.S DM20200            ; 湿度PID制御_出力量_ｸﾞﾗﾌ出力
MPP
LDA #0
CON
STA TM0
CON
LDA.S DM60403            ; 湿度PID制御_冷却出力量
CON
DIV.S -10
CON
STA.S DM20202            ; 湿度PID制御_冷却出力量_ｸﾞﾗﾌ出力
;自動運転中パラメータ書込み処理
LD MR30408               ; 自動運転中
MOV DM40100 DM60406      ; 湿度PID制御_比例帯  湿度PID制御_比例帯(P)
MOV DM40101 DM60407      ; 湿度PID制御_積分時間  湿度PID制御_積分時間(I)
MOV DM40102 DM60408      ; 湿度PID制御_微分時間  湿度PID制御_微分時間(D)
END
ENDH
