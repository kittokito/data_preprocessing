DEVICE:51
;MODULE:P0400_自動運転
;MODULE_TYPE:0
LDB CR2002               ; 常時ON
OUT MR40008              ; ﾊﾟﾗﾒｰﾀﾁｪｯｸ用接点
;総運転時間タイマ、1サイクルタイマ計時処理
LD MR30408               ; 自動運転中
LDP CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ANB MR000                ; 机上ｼﾐｭﾚｰｼｮﾝ中
LDP CR2004               ; 10msｸﾛｯｸﾊﾟﾙｽ
AND MR000                ; 机上ｼﾐｭﾚｰｼｮﾝ中
ORL
ANL
MPS
INC EM401                ; 総運転時間ﾀｲﾏ(秒)
MPP
AND>= EM401 #60          ; 総運転時間ﾀｲﾏ(秒)
INC EM400                ; 総運転時間ﾀｲﾏt(分)
DW #0 EM401              ; 総運転時間ﾀｲﾏ(秒)
LD MR40900               ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ有効化
OR MR40000               ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ開始
ANB MR41112              ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ無効化
ANB MR41300              ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ無効化
AND MR40300              ; 自動運転MC
OUT MR40000              ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ開始
LD MR40000               ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ開始
LDP CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ANB MR000                ; 机上ｼﾐｭﾚｰｼｮﾝ中
LDP CR2004               ; 10msｸﾛｯｸﾊﾟﾙｽ
AND MR000                ; 机上ｼﾐｭﾚｰｼｮﾝ中
ORL
ANL
MPS
INC EM431                ; 1ｻｲｸﾙﾀｲﾏ(秒)
MPP
AND>= EM431 #60          ; 1ｻｲｸﾙﾀｲﾏ(秒)
INC EM430                ; 1ｻｲｸﾙﾀｲﾏ(分)tc
DW #0 EM431              ; 1ｻｲｸﾙﾀｲﾏ(秒)
;自動運転中停止スイッチ押下後除湿処理
LD MR40300               ; 自動運転MC
AND MR20001              ; 停止信号
ANB MR41200              ; 一定湿度運転待機
OR MR40100               ; 自動運転中停止ｽｲｯﾁ押下時処理
AND MR30000              ; 運転準備完了
ANB MR60915              ; 全ｱﾗｰﾑ
ANB MR40115              ; 自動運転中停止ｽｲｯﾁ押下時処理完了
OUT MR40100              ; 自動運転中停止ｽｲｯﾁ押下時処理
LD MR40100               ; 自動運転中停止ｽｲｯﾁ押下時処理
MC
LD MR40100               ; 自動運転中停止ｽｲｯﾁ押下時処理
ANB MR40102              ; 自動運転停止確認完了
OUT MR40101              ; 自動運転停止指令
LD MR40101               ; 自動運転停止指令
ANB MR40300              ; 自動運転MC
OR MR40102               ; 自動運転停止確認完了
OUT MR40102              ; 自動運転停止確認完了
LD MR40102               ; 自動運転停止確認完了
ANB MR40104              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ停止確認完了
OUT MR40103              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ停止確認指令
LD MR40103               ; 除湿処理ｻﾌﾞﾙｰﾁﾝ停止確認指令
ANB MR50000              ; 除湿処理ｻﾌﾞﾙｰﾁﾝMC
OR MR40104               ; 除湿処理ｻﾌﾞﾙｰﾁﾝ停止確認完了
OUT MR40104              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ停止確認完了
LD MR40104               ; 除湿処理ｻﾌﾞﾙｰﾁﾝ停止確認完了
ANB MR40106              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ完了
OUT MR40105              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ呼び出し指令
LD MR40105               ; 除湿処理ｻﾌﾞﾙｰﾁﾝ呼び出し指令
AND MR50110              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ終了_SUB
OR MR40106               ; 除湿処理ｻﾌﾞﾙｰﾁﾝ完了
OUT MR40106              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ完了
LD MR40106               ; 除湿処理ｻﾌﾞﾙｰﾁﾝ完了
ANB MR40108              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ終了確認完了
OUT MR40107              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ終了確認指令
LD MR40107               ; 除湿処理ｻﾌﾞﾙｰﾁﾝ終了確認指令
ANB MR50000              ; 除湿処理ｻﾌﾞﾙｰﾁﾝMC
OR MR40108               ; 除湿処理ｻﾌﾞﾙｰﾁﾝ終了確認完了
OUT MR40108              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ終了確認完了
LD MR40108               ; 除湿処理ｻﾌﾞﾙｰﾁﾝ終了確認完了
OUT MR40115              ; 自動運転中停止ｽｲｯﾁ押下時処理完了
MCR
;自動運転起動条件
LD MR30000               ; 運転準備完了
ANB MR30407              ; 手動運転中
ANB MR30408              ; 自動運転中
ANB MR60900              ; 警告
ANB MR60915              ; 全ｱﾗｰﾑ
AND R1107                ; 試験庫扉SW
AND MR30102              ; 自動ﾓｰﾄﾞ
LD MR30110               ; ﾊﾟﾀｰﾝ運転ﾓｰﾄﾞ
OR MR30111               ; 一定湿度運転ﾓｰﾄﾞ
ANL
AND R24500               ; 試験庫内温度_起動可能温度_Tpl
OUT MR40200              ; 自動運転起動可
;自動運転MC
LD MR20000               ; 起動信号
AND MR40200              ; 自動運転起動可
OR MR40300               ; 自動運転MC
AND MR30000              ; 運転準備完了
ANB MR60915              ; 全ｱﾗｰﾑ
ANB MR41415              ; 自動運転MC_完了
ANB MR40101              ; 自動運転停止指令
OUT MR40300              ; 自動運転MC
LD MR40300               ; 自動運転MC
MC
;オートチューニングできているか？
LDB MR40008              ; ﾊﾟﾗﾒｰﾀﾁｪｯｸ用接点
AND MR40300              ; 自動運転MC
MPS
LDB MR34400              ; ｵｰﾄﾁｭｰﾆﾝｸﾞ設定完了
ANB MR40307              ; ｵｰﾄﾁｭｰﾆﾝｸﾞ完了
OR MR40304               ; ｵｰﾄﾁｭｰﾆﾝｸﾞ不完了
ANB MR000                ; 机上ｼﾐｭﾚｰｼｮﾝ中
ANL
OUT MR40304              ; ｵｰﾄﾁｭｰﾆﾝｸﾞ不完了
MPP
LDB MR40304              ; ｵｰﾄﾁｭｰﾆﾝｸﾞ不完了
OR MR40307               ; ｵｰﾄﾁｭｰﾆﾝｸﾞ完了
ANL
OUT MR40307              ; ｵｰﾄﾁｭｰﾆﾝｸﾞ完了
;データは妥当か？
LD MR40307               ; ｵｰﾄﾁｭｰﾆﾝｸﾞ完了
MPS
LDB MR30205              ; 設定完了
ANB MR40311              ; 運転設定完了
OR MR40308               ; 運転設定不完了
ANL
OUT MR40308              ; 運転設定不完了
MPP
LDB MR40308              ; 運転設定不完了
OR MR40311               ; 運転設定完了
ANL
OUT MR40311              ; 運転設定完了
;サイクル回数カウンタ、総運転時間タイマ、1サイクルタイマ、運転終了時間の初期化
LD MR40311               ; 運転設定完了
ANB MR40403              ; ﾀｲﾏおよびｶｳﾝﾀ初期化完了
OUT MR40400              ; ﾀｲﾏおよびｶｳﾝﾀ初期化
DW #0 EM410              ; ｻｲｸﾙ回数ｶｳﾝﾀC
DW #0 EM400              ; 総運転時間ﾀｲﾏt(分)
DW #0 EM401              ; 総運転時間ﾀｲﾏ(秒)
DW #0 EM430              ; 1ｻｲｸﾙﾀｲﾏ(分)tc
DW #0 EM431              ; 1ｻｲｸﾙﾀｲﾏ(秒)
DW #9999 DM10030         ; 運転終了時刻･｢年｣_Tpd
DW #9999 DM10031         ; 運転終了時刻･｢月｣_Tpd
DW #9999 DM10032         ; 運転終了時刻･｢日｣_Tpd
DW #9999 DM10033         ; 運転終了時刻･｢時｣_Tpd
DW #9999 DM10034         ; 運転終了時刻･｢分｣_Tpd
DW #9999 DM10035         ; 運転終了時刻･｢秒｣_Tpd
LD MR40400               ; ﾀｲﾏおよびｶｳﾝﾀ初期化
OR MR40403               ; ﾀｲﾏおよびｶｳﾝﾀ初期化完了
OUT MR40403              ; ﾀｲﾏおよびｶｳﾝﾀ初期化完了
;電子バルブ電源OFF(大気開放)
LD MR40403               ; ﾀｲﾏおよびｶｳﾝﾀ初期化完了
ANB MR40407              ; 電子ﾊﾞﾙﾌﾞ電源OFF完了
OUT MR40404              ; 電子ﾊﾞﾙﾌﾞ電源OFF_AUT
LD MR40404               ; 電子ﾊﾞﾙﾌﾞ電源OFF_AUT
ANB R2011                ; 電子ﾊﾞﾙﾌﾞ電源
OR MR40407               ; 電子ﾊﾞﾙﾌﾞ電源OFF完了
OUT MR40407              ; 電子ﾊﾞﾙﾌﾞ電源OFF完了
;圧縮機ON・圧縮機冷却ファンモータON
LD MR40407               ; 電子ﾊﾞﾙﾌﾞ電源OFF完了
ANB MR40703              ; ﾄﾞﾗｲ圧縮機ON完了
OUT MR40700              ; ﾄﾞﾗｲ圧縮機ON_AUT
OUT MR40701              ; ﾄﾞﾗｲ圧縮機冷却ﾌｧﾝﾓｰﾀON_AUT
LD MR40700               ; ﾄﾞﾗｲ圧縮機ON_AUT
AND R2008                ; 圧縮機電源
AND R2004                ; 圧縮機冷却ﾌｧﾝﾓｰﾀ
OR MR40703               ; ﾄﾞﾗｲ圧縮機ON完了
OUT MR40703              ; ﾄﾞﾗｲ圧縮機ON完了
;全ヒータ電源ON
LD MR40703               ; ﾄﾞﾗｲ圧縮機ON完了
ANB MR40411              ; 全ﾋｰﾀ電源ON完了
OUT MR40408              ; 全ﾋｰﾀ電源ON_AUT
LD MR40408               ; 全ﾋｰﾀ電源ON_AUT
AND R2010                ; ﾋｰﾀ電源
OR MR40411               ; 全ﾋｰﾀ電源ON完了
OUT MR40411              ; 全ﾋｰﾀ電源ON完了
;試験庫温調開始
LD MR40411               ; 全ﾋｰﾀ電源ON完了
ANB MR40415              ; 試験庫温調開始完了
OUT MR40412              ; 試験庫温調開始_AUT
LD MR40412               ; 試験庫温調開始_AUT
LD R93008                ; 試験庫温調_動作状態ﾘﾚｰ
OR MR000                 ; 机上ｼﾐｭﾚｰｼｮﾝ中
ANL
OR MR40415               ; 試験庫温調開始完了
OUT MR40415              ; 試験庫温調開始完了
;窓ヒータ温調開始
;急速加熱処理開始
LD MR40415               ; 試験庫温調開始完了
ANB MR40503              ; 窓ﾋｰﾀ急速加熱開始完了
OUT MR40500              ; 窓ﾋｰﾀ温調急速加熱開始_AUT
LD MR40500               ; 窓ﾋｰﾀ温調急速加熱開始_AUT
LD R92008                ; ﾄｯﾌﾟﾋｰﾀ温調_動作状態ﾘﾚｰ
AND R92108               ; ｻｲﾄﾞﾋｰﾀ1温調_動作状態ﾘﾚｰ
AND R92208               ; ｻｲﾄﾞﾋｰﾀ2温調_動作状態ﾘﾚｰ
OR MR000                 ; 机上ｼﾐｭﾚｰｼｮﾝ中
ANL
OR MR40503               ; 窓ﾋｰﾀ急速加熱開始完了
OUT MR40503              ; 窓ﾋｰﾀ急速加熱開始完了
;窓ヒータ急速加熱温度監視
LD MR40503               ; 窓ﾋｰﾀ急速加熱開始完了
ANB MR40507              ; 試験庫内温度監視完了(急速加熱)
OUT MR40504              ; 試験庫内温度監視開始(急速加熱)
LD MR40504               ; 試験庫内温度監視開始(急速加熱)
LD>=.S DM60300 EM730     ; 試験庫温調_測定値  自動_窓ﾋｰﾀ急速加熱目標値
LD R19212                ; 運転状況_窓ﾋｰﾀ急速加熱終了_Tpb
AND MR000                ; 机上ｼﾐｭﾚｰｼｮﾝ中
ORL
ANL
OR MR40507               ; 試験庫内温度監視完了(急速加熱)
OUT MR40507              ; 試験庫内温度監視完了(急速加熱)
;窓ヒータ通常温調開始
LD MR40507               ; 試験庫内温度監視完了(急速加熱)
ANB MR40511              ; 窓ﾋｰﾀ通常温調開始完了
OUT MR40508              ; 窓ﾋｰﾀ通常温調開始_AUT
LD MR40508               ; 窓ﾋｰﾀ通常温調開始_AUT
LDB MR71204              ; 窓ﾋｰﾀ急速加熱中
AND MR71205              ; 窓ﾋｰﾀ通常温調中
OR MR000                 ; 机上ｼﾐｭﾚｰｼｮﾝ中
ANL
OR MR40511               ; 窓ﾋｰﾀ通常温調開始完了
OUT MR40511              ; 窓ﾋｰﾀ通常温調開始完了
;窓ヒータ温度監視
LD MR40511               ; 窓ﾋｰﾀ通常温調開始完了
ANB MR40515              ; 窓ﾋｰﾀ温度監視終了
OUT MR40512              ; 窓ﾋｰﾀ温度監視開始
LD MR40512               ; 窓ﾋｰﾀ温度監視開始
LD>=.S DM60200 EM736     ; ﾄｯﾌﾟﾋｰﾀ温調_測定値  自動_ﾄｯﾌﾟﾋｰﾀ温度目標下限値
AND<=.S DM60200 EM760    ; ﾄｯﾌﾟﾋｰﾀ温調_測定値  自動_ﾄｯﾌﾟﾋｰﾀ温度目標上限値
AND>=.S DM60214 EM762    ; ｻｲﾄﾞﾋｰﾀ1温調_測定値  自動_ｻｲﾄﾞﾋｰﾀ温度目標下限値
AND<=.S DM60214 EM764    ; ｻｲﾄﾞﾋｰﾀ1温調_測定値  自動_ｻｲﾄﾞﾋｰﾀ温度目標上限値
AND>=.S DM60228 EM762    ; ｻｲﾄﾞﾋｰﾀ2温調_測定値  自動_ｻｲﾄﾞﾋｰﾀ温度目標下限値
AND<=.S DM60228 EM764    ; ｻｲﾄﾞﾋｰﾀ2温調_測定値  自動_ｻｲﾄﾞﾋｰﾀ温度目標上限値
LD R19304                ; 運転状況_窓ﾋｰﾀ温度到達確認_Tpb
AND MR000                ; 机上ｼﾐｭﾚｰｼｮﾝ中
ORL
ANL
OR MR40515               ; 窓ﾋｰﾀ温度監視終了
OUT MR40515              ; 窓ﾋｰﾀ温度監視終了
;蒸気ヒータ温調開始
LD MR40411               ; 全ﾋｰﾀ電源ON完了
ANB MR40603              ; 蒸気ﾋｰﾀ温調開始完了
OUT MR40600              ; 蒸気ﾋｰﾀ温調開始_AUT
LD MR40600               ; 蒸気ﾋｰﾀ温調開始_AUT
LD R93108                ; 蒸気ﾋｰﾀ温調_動作状態ﾘﾚｰ
OR MR000                 ; 机上ｼﾐｭﾚｰｼｮﾝ中
ANL
OR MR40603               ; 蒸気ﾋｰﾀ温調開始完了
OUT MR40603              ; 蒸気ﾋｰﾀ温調開始完了
;蒸気ヒータ・蒸発器温度監視
LD MR40603               ; 蒸気ﾋｰﾀ温調開始完了
ANB MR40607              ; 蒸気ﾋｰﾀ温度到達確認完了
OUT MR40604              ; 蒸気ﾋｰﾀ温度到達確認
MPS
AND>= DM40 DM40062       ; 試験庫_温度設定Ts  圧力制御使用/不使用切換庫内設定
LDA.S DM40050            ; 蒸気ﾋｰﾀ_温度設定T7s
CON
SUB.S +800
CON
STA.S EM424              ; 蒸発器目標温度
MPP
AND< DM40 DM40062        ; 試験庫_温度設定Ts  圧力制御使用/不使用切換庫内設定
LDA.S DM40050            ; 蒸気ﾋｰﾀ_温度設定T7s
CON
SUB.S +600
CON
STA.S EM424              ; 蒸発器目標温度
LD MR40604               ; 蒸気ﾋｰﾀ温度到達確認
LD>=.S DM60342 EM424     ; 蒸発器測温_測定値  蒸発器目標温度
LD R19312                ; 運転状況_蒸発器温度到達確認_Tpb
AND MR000                ; 机上ｼﾐｭﾚｰｼｮﾝ中
ORL
ANL
OR MR40607               ; 蒸気ﾋｰﾀ温度到達確認完了
OUT MR40607              ; 蒸気ﾋｰﾀ温度到達確認完了
;試験庫温度監視
LD MR40515               ; 窓ﾋｰﾀ温度監視終了
AND MR40607              ; 蒸気ﾋｰﾀ温度到達確認完了
ANB MR40611              ; 試験庫温度監視完了
OUT MR40608              ; 試験庫温度監視
MPS
LDA.S DM40               ; 試験庫_温度設定Ts
CON
SUB.S DM40066            ; 試験庫予熱完了温度設定T1s0
CON
STA.S EM420              ; 試験庫予熱完了温度下限
MPP
LDA.S DM40               ; 試験庫_温度設定Ts
CON
ADD.S DM40066            ; 試験庫予熱完了温度設定T1s0
CON
STA.S EM422              ; 試験庫予熱完了温度上限
LD MR40608               ; 試験庫温度監視
LD>=.S DM60300 EM420     ; 試験庫温調_測定値  試験庫予熱完了温度下限
AND<=.S DM60300 EM422    ; 試験庫温調_測定値  試験庫予熱完了温度上限
LD R19400                ; 運転状況_試験庫温Ts近傍確認_Tpb
AND MR000                ; 机上ｼﾐｭﾚｰｼｮﾝ中
ORL
ANL
OR MR40611               ; 試験庫温度監視完了
OUT MR40611              ; 試験庫温度監視完了
;高湿度ﾓｰﾄﾞに設定
LD MR40611               ; 試験庫温度監視完了
ANB MR40615              ; 高湿度ﾓｰﾄﾞに設定完了
OUT MR40612              ; 高湿度ﾓｰﾄﾞに設定
LD MR40612               ; 高湿度ﾓｰﾄﾞに設定
AND MR41502              ; 高湿度ﾓｰﾄﾞ
OR MR40615               ; 高湿度ﾓｰﾄﾞに設定完了
OUT MR40615              ; 高湿度ﾓｰﾄﾞに設定完了
;ドライヤ点検警告
LD MR40615               ; 高湿度ﾓｰﾄﾞに設定完了
ANB MR40707              ; 湿度監視完了
OUT MR40704              ; 湿度監視開始
TMR #400 #12000          ; 湿度監視ﾀｲﾏ
LD MR40704               ; 湿度監視開始
LD<= DM20012 #30         ; 湿度現在値[0.1%]
ANB MR000                ; 机上ｼﾐｭﾚｰｼｮﾝ中
LD R19406                ; 運転状況_Rh<=3%確認(開始時)_Tpb
AND MR000                ; 机上ｼﾐｭﾚｰｼｮﾝ中
ORL
ANL
OR MR40707               ; 湿度監視完了
OUT MR40707              ; 湿度監視完了
;これよりパターンサイクル内
;ループ運転開始
LD MR41103               ; 低湿度ﾓｰﾄﾞ
OR MR41111               ; ﾊﾟﾀｰﾝ運転ﾘﾀｰﾝ
OR MR41202               ; 一定湿度運転再開
OUT MR40715              ; ｻｲｸﾙ繰り返し_NODE
LDB MR40715              ; ｻｲｸﾙ繰り返し_NODE
MC
;電子バルブ制御方法切換え
LD MR40707               ; 湿度監視完了
MPS
LD>.S DM40 DM40062       ; 試験庫_温度設定Ts  圧力制御使用/不使用切換庫内設定
ANB MR40803              ; 電子ﾊﾞﾙﾌﾞOFFへ
OR MR40800               ; 電子ﾊﾞﾙﾌﾞ電源ONへ
ANL
OUT MR40800              ; 電子ﾊﾞﾙﾌﾞ電源ONへ
MPP
LDB MR40800              ; 電子ﾊﾞﾙﾌﾞ電源ONへ
OR MR40803               ; 電子ﾊﾞﾙﾌﾞOFFへ
ANL
OUT MR40803              ; 電子ﾊﾞﾙﾌﾞOFFへ
;電子バルブ電源ON
;
LD MR40800               ; 電子ﾊﾞﾙﾌﾞ電源ONへ
ANB MR40807              ; 電子ﾊﾞﾙﾌﾞ電源ON完了
OUT MR40804              ; 電子ﾊﾞﾙﾌﾞ電源ON_AUT
LD MR40804               ; 電子ﾊﾞﾙﾌﾞ電源ON_AUT
AND MR72102              ; 自動ﾓｰﾄﾞ_電子ﾊﾞﾙﾌﾞ電源ON
OR MR40807               ; 電子ﾊﾞﾙﾌﾞ電源ON完了
OUT MR40807              ; 電子ﾊﾞﾙﾌﾞ電源ON完了
;圧力PID制御開始
LD MR40807               ; 電子ﾊﾞﾙﾌﾞ電源ON完了
ANB MR40809              ; 圧力PID制御開始処理完了
OUT MR40808              ; 圧力PID制御開始処理_AUT
LD MR40808               ; 圧力PID制御開始処理_AUT
LD R94108                ; 圧力PID制御_動作状態ﾘﾚｰ
OR MR000                 ; 机上ｼﾐｭﾚｰｼｮﾝ中
ANL
OR MR40809               ; 圧力PID制御開始処理完了
OUT MR40809              ; 圧力PID制御開始処理完了
;圧力到達確認
LD MR40809               ; 圧力PID制御開始処理完了
ANB MR40811              ; 圧力到達確認完了
OUT MR40810              ; 圧力到達確認開始
TMR #402 #9000           ; 圧力監視ﾀｲﾏ
LD MR40810               ; 圧力到達確認開始
LD>=.S DM20000 DM40082   ; 圧力現在値[kPa]  圧力設定Ps
ANB MR000                ; 机上ｼﾐｭﾚｰｼｮﾝ中
LD R19414                ; 運転状況_圧力到達確認_Tpb
AND MR000                ; 机上ｼﾐｭﾚｰｼｮﾝ中
ORL
ANL
OR MR40811               ; 圧力到達確認完了
OUT MR40811              ; 圧力到達確認完了
;電子バルブ電源OFF(大気開放)
LD MR40803               ; 電子ﾊﾞﾙﾌﾞOFFへ
ANB MR40815              ; 電子ﾊﾞﾙﾌﾞ電源OFF完了
OUT MR40812              ; 電子ﾊﾞﾙﾌﾞ電源OFF_AUT
LD MR40812               ; 電子ﾊﾞﾙﾌﾞ電源OFF_AUT
ANB R2011                ; 電子ﾊﾞﾙﾌﾞ電源
ANB R94108               ; 圧力PID制御_動作状態ﾘﾚｰ
OR MR40815               ; 電子ﾊﾞﾙﾌﾞ電源OFF完了
OUT MR40815              ; 電子ﾊﾞﾙﾌﾞ電源OFF完了
;1サイクルタイマカウント有効
LD MR40811               ; 圧力到達確認完了
OR MR40815               ; 電子ﾊﾞﾙﾌﾞ電源OFF完了
ANB MR40903              ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ有効化完了
OUT MR40900              ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ有効化
LD MR40900               ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ有効化
AND MR40000              ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ開始
OR MR40903               ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ有効化完了
OUT MR40903              ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ有効化完了
;1サイクルタイマ初期化
LD MR40903               ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ有効化完了
ANB MR40907              ; 1ｻｲｸﾙﾀｲﾏ初期化完了
OUT MR40904              ; 1ｻｲｸﾙﾀｲﾏ初期化
DW #0 EM430              ; 1ｻｲｸﾙﾀｲﾏ(分)tc
DW #0 EM431              ; 1ｻｲｸﾙﾀｲﾏ(秒)
LD MR40904               ; 1ｻｲｸﾙﾀｲﾏ初期化
OR MR40907               ; 1ｻｲｸﾙﾀｲﾏ初期化完了
OUT MR40907              ; 1ｻｲｸﾙﾀｲﾏ初期化完了
;チューブポンプ起動
LD MR40907               ; 1ｻｲｸﾙﾀｲﾏ初期化完了
ANB MR40915              ; ﾁｭｰﾌﾞﾎﾟﾝﾌﾟ起動完了
OUT MR40912              ; ﾁｭｰﾌﾞﾎﾟﾝﾌﾟ起動_AUT
LD MR40912               ; ﾁｭｰﾌﾞﾎﾟﾝﾌﾟ起動_AUT
AND MR72110              ; 自動ﾓｰﾄﾞ_ﾁｭｰﾌﾞﾎﾟﾝﾌﾟ起動
OR MR40915               ; ﾁｭｰﾌﾞﾎﾟﾝﾌﾟ起動完了
OUT MR40915              ; ﾁｭｰﾌﾞﾎﾟﾝﾌﾟ起動完了
;湿度PID制御開始
LD MR40915               ; ﾁｭｰﾌﾞﾎﾟﾝﾌﾟ起動完了
LD MR40300               ; 自動運転MC
AND MR40008              ; ﾊﾟﾗﾒｰﾀﾁｪｯｸ用接点
ORL
ANB MR41003              ; 湿度PID制御開始完了
OUT MR41000              ; 湿度PID制御開始指令_AUT
LD MR41000               ; 湿度PID制御開始指令_AUT
LD R94008                ; 湿度PID制御_動作状態ﾘﾚｰ
OR MR000                 ; 机上ｼﾐｭﾚｰｼｮﾝ中
ANL
OR MR41003               ; 湿度PID制御開始完了
OUT MR41003              ; 湿度PID制御開始完了
;運転時間監視制御
LD MR41003               ; 湿度PID制御開始完了
MPS
AND MR30110              ; ﾊﾟﾀｰﾝ運転ﾓｰﾄﾞ
MPS
LD MR41502               ; 高湿度ﾓｰﾄﾞ
LD>= EM430 DM20          ; 1ｻｲｸﾙﾀｲﾏ(分)tc  高湿度時間設定t1s
ORP R12300               ; 自動運転_高湿/低湿_強制切替_Tpb
ANL
OR MR41004               ; 高湿度運転終了
ANL
OUT MR41004              ; 高湿度運転終了
MRD
LD MR41503               ; 低湿度ﾓｰﾄﾞ
LD>= EM430 DM24          ; 1ｻｲｸﾙﾀｲﾏ(分)tc  低湿度時間設定t2s
ORP R12300               ; 自動運転_高湿/低湿_強制切替_Tpb
ANL
OR MR41005               ; 低湿度運転終了
ANL
OUT MR41005              ; 低湿度運転終了
MPP
LD>= EM400 DM28          ; 総運転時間ﾀｲﾏt(分)  総運転時間設定t0s
OR MR41006               ; ﾊﾟﾀｰﾝ運転終了
ANL
OUT MR41006              ; ﾊﾟﾀｰﾝ運転終了
MPP
LD MR30111               ; 一定湿度運転ﾓｰﾄﾞ
AND>= EM430 DM36         ; 1ｻｲｸﾙﾀｲﾏ(分)tc  一定湿度運転時間設定t3s
OR MR41007               ; 一定湿度運転終了
ANL
OUT MR41007              ; 一定湿度運転終了
LD MR41004               ; 高湿度運転終了
OR MR41005               ; 低湿度運転終了
OR MR41006               ; ﾊﾟﾀｰﾝ運転終了
OR MR41007               ; 一定湿度運転終了
OUT MR41008              ; 1ｻｲｸﾙ運転時間終了
;運転パターン判定
LD MR41008               ; 1ｻｲｸﾙ運転時間終了
MPS
LD MR30110               ; ﾊﾟﾀｰﾝ運転ﾓｰﾄﾞ
ANB MR41010              ; 一定湿度運転
OR MR41009               ; ﾊﾟﾀｰﾝ運転
ANL
OUT MR41009              ; ﾊﾟﾀｰﾝ運転
MPP
LD MR30111               ; 一定湿度運転ﾓｰﾄﾞ
ANB MR41009              ; ﾊﾟﾀｰﾝ運転
OR MR41010               ; 一定湿度運転
ANL
OUT MR41010              ; 一定湿度運転
;パターン運転終了処理
;高湿度/低湿度モード切換
LD MR41009               ; ﾊﾟﾀｰﾝ運転
ANB MR41014              ; 低湿度ﾓｰﾄﾞへ切換完了
ANB MR41015              ; 高湿度ﾓｰﾄﾞ切換完了
MPS
LD MR41502               ; 高湿度ﾓｰﾄﾞ
ANB MR41013              ; 高湿度ﾓｰﾄﾞへ切換
OR MR41012               ; 低湿度ﾓｰﾄﾞへ切換
ANL
OUT MR41012              ; 低湿度ﾓｰﾄﾞへ切換
MPP
LD MR41503               ; 低湿度ﾓｰﾄﾞ
ANB MR41012              ; 低湿度ﾓｰﾄﾞへ切換
OR MR41013               ; 高湿度ﾓｰﾄﾞへ切換
ANL
OUT MR41013              ; 高湿度ﾓｰﾄﾞへ切換
LD MR41012               ; 低湿度ﾓｰﾄﾞへ切換
AND MR41503              ; 低湿度ﾓｰﾄﾞ
OR MR41014               ; 低湿度ﾓｰﾄﾞへ切換完了
OUT MR41014              ; 低湿度ﾓｰﾄﾞへ切換完了
LD MR41013               ; 高湿度ﾓｰﾄﾞへ切換
AND MR41502              ; 高湿度ﾓｰﾄﾞ
OR MR41015               ; 高湿度ﾓｰﾄﾞ切換完了
OUT MR41015              ; 高湿度ﾓｰﾄﾞ切換完了
;運転モード確認
LD MR41014               ; 低湿度ﾓｰﾄﾞへ切換完了
OR MR41015               ; 高湿度ﾓｰﾄﾞ切換完了
MPS
LD MR41502               ; 高湿度ﾓｰﾄﾞ
ANB MR41103              ; 低湿度ﾓｰﾄﾞ
OR MR41100               ; 高湿度ﾓｰﾄﾞ
ANL
OUT MR41100              ; 高湿度ﾓｰﾄﾞ
MPP
LD MR41503               ; 低湿度ﾓｰﾄﾞ
ANB MR41100              ; 高湿度ﾓｰﾄﾞ
OR MR41103               ; 低湿度ﾓｰﾄﾞ
ANL
OUT MR41103              ; 低湿度ﾓｰﾄﾞ
;サイクルカウンタインクリメント
LD MR41100               ; 高湿度ﾓｰﾄﾞ
ANB MR41107              ; ｻｲｸﾙｶｳﾝﾀINC完了
OUT MR41104              ; ｻｲｸﾙｶｳﾝﾀINC
INC EM410                ; ｻｲｸﾙ回数ｶｳﾝﾀC
LD MR41104               ; ｻｲｸﾙｶｳﾝﾀINC
OR MR41107               ; ｻｲｸﾙｶｳﾝﾀINC完了
OUT MR41107              ; ｻｲｸﾙｶｳﾝﾀINC完了
;パターン運転終了
LD MR41107               ; ｻｲｸﾙｶｳﾝﾀINC完了
MPS
LD>= EM410 DM32          ; ｻｲｸﾙ回数ｶｳﾝﾀC  ｻｲｸﾙ数設定Cs
OR>= EM400 DM28          ; 総運転時間ﾀｲﾏt(分)  総運転時間設定t0s
ANB MR41111              ; ﾊﾟﾀｰﾝ運転ﾘﾀｰﾝ
OR MR41108               ; ﾊﾟﾀｰﾝ運転終了
ANL
OUT MR41108              ; ﾊﾟﾀｰﾝ運転終了
MPP
LDB MR41108              ; ﾊﾟﾀｰﾝ運転終了
OR MR41111               ; ﾊﾟﾀｰﾝ運転ﾘﾀｰﾝ
ANL
OUT MR41111              ; ﾊﾟﾀｰﾝ運転ﾘﾀｰﾝ
;一定湿度運転終了処理
;1サイクルタイマ カウント無効
LD MR41010               ; 一定湿度運転
ANB MR41115              ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ無効化完了
OUT MR41112              ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ無効化
LD MR41112               ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ無効化
ANB MR40000              ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ開始
OR MR41115               ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ無効化完了
OUT MR41115              ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ無効化完了
;黄ランプ点滅
;スイッチが押されるまで待機
LD MR41115               ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ無効化完了
MPS
OUT MR41200              ; 一定湿度運転待機
MPP
LDB MR41202              ; 一定湿度運転再開
ANB MR41203              ; 一定湿度運転終了
ANL
OUT MR41201              ; 起動PL点滅_AUT
LD MR41200               ; 一定湿度運転待機
MPS
LD MR20000               ; 起動信号
ANB MR41203              ; 一定湿度運転終了
OR MR41202               ; 一定湿度運転再開
ANL
OUT MR41202              ; 一定湿度運転再開
MPP
LD MR20001               ; 停止信号
ANB MR41202              ; 一定湿度運転再開
OR MR41203               ; 一定湿度運転終了
ANL
OUT MR41203              ; 一定湿度運転終了
MCR
;1サイクルタイマ カウント無効
LD MR41108               ; ﾊﾟﾀｰﾝ運転終了
OR MR41203               ; 一定湿度運転終了
ANB MR41303              ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ無効化完了
OUT MR41300              ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ無効化
LD MR41300               ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ無効化
ANB MR40000              ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ開始
OR MR41303               ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ無効化完了
OUT MR41303              ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ無効化完了
;除湿運転サブルーチン呼出
LD MR41303               ; 1ｻｲｸﾙﾀｲﾏｶｳﾝﾄ無効化完了
ANB MR41307              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ呼出可確認完了
OUT MR41304              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ呼出開始指令
LD MR41304               ; 除湿処理ｻﾌﾞﾙｰﾁﾝ呼出開始指令
ANB MR50000              ; 除湿処理ｻﾌﾞﾙｰﾁﾝMC
OR MR41307               ; 除湿処理ｻﾌﾞﾙｰﾁﾝ呼出可確認完了
OUT MR41307              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ呼出可確認完了
LD MR41307               ; 除湿処理ｻﾌﾞﾙｰﾁﾝ呼出可確認完了
ANB MR41311              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ完了
OUT MR41308              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ呼出指令
LD MR41308               ; 除湿処理ｻﾌﾞﾙｰﾁﾝ呼出指令
AND MR50110              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ終了_SUB
OR MR41311               ; 除湿処理ｻﾌﾞﾙｰﾁﾝ完了
OUT MR41311              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ完了
LD MR41311               ; 除湿処理ｻﾌﾞﾙｰﾁﾝ完了
ANB MR41315              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ終了確認完了
OUT MR41312              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ終了確認指令
LD MR41312               ; 除湿処理ｻﾌﾞﾙｰﾁﾝ終了確認指令
ANB MR50000              ; 除湿処理ｻﾌﾞﾙｰﾁﾝMC
OR MR41315               ; 除湿処理ｻﾌﾞﾙｰﾁﾝ終了確認完了
OUT MR41315              ; 除湿処理ｻﾌﾞﾙｰﾁﾝ終了確認完了
;1サイクル終了時刻or試験終了時刻記録
LD MR41315               ; 除湿処理ｻﾌﾞﾙｰﾁﾝ終了確認完了
ANB MR41403              ; 試験終了時間書込完了
OUT MR41400              ; 試験終了時間書込
MOV CM700 DM10030        ; ｶﾚﾝﾀﾞﾀｲﾏ（年）  運転終了時刻･｢年｣_Tpd
MOV CM701 DM10031        ; ｶﾚﾝﾀﾞﾀｲﾏ（月）  運転終了時刻･｢月｣_Tpd
MOV CM702 DM10032        ; ｶﾚﾝﾀﾞﾀｲﾏ（日）  運転終了時刻･｢日｣_Tpd
MOV CM703 DM10033        ; ｶﾚﾝﾀﾞﾀｲﾏ（時）  運転終了時刻･｢時｣_Tpd
MOV CM704 DM10034        ; ｶﾚﾝﾀﾞﾀｲﾏ（分）  運転終了時刻･｢分｣_Tpd
MOV CM705 DM10035        ; ｶﾚﾝﾀﾞﾀｲﾏ（秒）  運転終了時刻･｢秒｣_Tpd
LD MR41400               ; 試験終了時間書込
OR MR41403               ; 試験終了時間書込完了
OUT MR41403              ; 試験終了時間書込完了
LD MR41403               ; 試験終了時間書込完了
OUT MR41415              ; 自動運転MC_完了
MCR
;湿度モードの設定
LD MR40612               ; 高湿度ﾓｰﾄﾞに設定
OR MR41013               ; 高湿度ﾓｰﾄﾞへ切換
OUT MR41500              ; 高湿度ﾓｰﾄﾞへ切換
LD MR41012               ; 低湿度ﾓｰﾄﾞへ切換
OUT MR41501              ; 低湿度ﾓｰﾄﾞへ切換
LD MR41500               ; 高湿度ﾓｰﾄﾞへ切換
OR MR41502               ; 高湿度ﾓｰﾄﾞ
ANB MR41501              ; 低湿度ﾓｰﾄﾞへ切換
AND MR40300              ; 自動運転MC
OUT MR41502              ; 高湿度ﾓｰﾄﾞ
LD MR41501               ; 低湿度ﾓｰﾄﾞへ切換
OR MR41503               ; 低湿度ﾓｰﾄﾞ
ANB MR41500              ; 高湿度ﾓｰﾄﾞへ切換
AND MR40300              ; 自動運転MC
OUT MR41503              ; 低湿度ﾓｰﾄﾞ
END
ENDH
