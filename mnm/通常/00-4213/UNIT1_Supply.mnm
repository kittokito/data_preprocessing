DEVICE:53
;MODULE:UNIT1_Supply
;MODULE_TYPE:0
;SCRIPT_TYPE:
;<h1/>□_入力受け
;関連する入力受け(ｾﾝｻのﾃﾞｨﾚｲﾀｲﾏ等)を必要があれば作成する。
;通常は入力ﾕﾆｯﾄに入力時定数(ﾃﾞｨﾚｲ)があるので直接使用しても問題は無い。
LD X1200                 ; 給材部ﾜｰｸ有確認(ON:有)
TMR K101 K5              ; 給材部ﾜｰｸ有確認(ON=有)
LDB X1200                ; 給材部ﾜｰｸ有確認(ON:有)
TMR K105 K5              ; 給材部ﾜｰｸ無し確認
LD X1202                 ; 給材部ｽﾗｲﾀﾞｰ上ﾜｰｸ確認(ON:有)
TMH K108 K10             ; 給材ｽﾗｲﾀﾞ上ﾜｰｸ有確認
LDB X1202                ; 給材部ｽﾗｲﾀﾞｰ上ﾜｰｸ確認(ON:有)
TMH K109 K15             ; 給材ｽﾗｲﾀﾞ上ﾜｰｸ無し確認
LD X1203                 ; 給材部ﾜｰｸ浮き確認(ON:正常)
TMR K102 K3              ; 給材部ﾜｰｸ浮き確認(ON=OK)
LD X1201                 ; 給材部ﾜｰｸ受渡位置ﾜｰｸ有確認(ON:有
TMR K103 K3              ; ﾜｰｸ受渡し部ﾜｰｸ有確認(ON=有)
LDB X1305                ; NG BOXﾜｰｸ無確認
TMR K104 K3              ; NGﾎﾞｯｸｽﾜｰｸ有検知
LD X1305                 ; NG BOXﾜｰｸ無確認
TMR K107 K10             ; NGﾎﾞｯｸｽﾜｰｸ無
LD CR2003                ; 常時OFF
TMR K130 K3              ; ﾜｰｸｾｯﾄ部_搬送前進端
LD CR2003                ; 常時OFF
TMR K131 K3              ; ﾜｰｸｾｯﾄ部_搬送後退端
LD X1208                 ; 給材ﾊﾟﾚｯﾄID_1
OUT D1052.0              ; 投入部JIG識別ID_1_Copy
LD X1209                 ; 給材ﾊﾟﾚｯﾄID_2
OUT D1052.1              ; 投入部JIG識別ID_2_Copy
LD X120A                 ; 給材ﾊﾟﾚｯﾄID_3
OUT D1052.2              ; 投入部JIG識別ID_4_Copy
LD<> D1050 D1052         ; 投入部JIG_ID  投入部JIG識別ID_Copy
AND M1471                ; RB1_ﾜｰｸ投入位置(待機位置)
MPS
TMR K106 K5              ; 投入治具ID_変更有り
MPP
AND T106                 ; 投入治具ID_変更有り
MOV D1052 D1050          ; 投入部JIG識別ID_Copy  投入部JIG_ID
LD CR2002                ; 常時ON
MOV D1050 W0120          ; 投入部JIG_ID  投入ﾊﾟﾚｯﾄID
LD D1201.0
AND= D1204 K1            ; 投入部_FBT検査結果(1=OK_2=NG)
OUT M1300                ; 供給ｽﾗｲﾀﾞOK品
LD D1201.0
AND= D1204 K2            ; 投入部_FBT検査結果(1=OK_2=NG)
OUT M1301                ; 供給ｽﾗｲﾀﾞNG品
LDB M1432                ; CP検査NGﾌﾗｸﾞ
ANB M1437                ; PA_Tape CHEACK NG
ANB M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
INV
MEP
MOV K1 D1207             ; 投入部_投入NG記憶
LD D1201.0
AND= D1204 K0            ; 投入部_FBT検査結果(1=OK_2=NG)
AND= D1215 K0            ; 投入部_FBT検査SKIP(1：ｽｷｯﾌﾟ)
AND= D1207 K0            ; 投入部_投入NG記憶
OUT M1304                ; 供給ｽﾗｲﾀﾞ上投入可能ﾜｰｸ有
;<h1/>□_装置状態・動作条件
;ﾕﾆｯﾄまとめ
LD M1070                 ; ﾕﾆｯﾄ1-1原点_供給ｽﾗｲﾀﾞ部
AND M1150                ; BCR原点
OUT M1480                ; ﾕﾆｯﾄ1原点
;□ 非常停止
LDB M1071                ; ﾕﾆｯﾄ1-1即停止異常_供給ｽﾗｲﾀﾞ部
ANB M1151                ; BCR異常
ANB M1231                ; NG品処理Sub全異常
INV
OUT M1481                ; ﾕﾆｯﾄ1即停止異常
;□ 起動条件
LD M1072                 ; ﾕﾆｯﾄ1-1起動条件_供給ｽﾗｲﾀﾞ部
AND M1152                ; BCR起動条件
OUT M1482                ; ﾕﾆｯﾄ1起動条件
;□ 起動OFF
LDB M50                  ; 運転準備
LD M60                   ; ｴﾗｰ発生
OR M52                   ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
AND M1484                ; ﾕﾆｯﾄ1原点復帰中
ORL
OR T15                   ; 強制停止
OUT M1483                ; ﾕﾆｯﾄ1_原点復帰起動OFF
;□ 原点復帰
LD M82                   ; 原点復帰開始
ANB M1484                ; ﾕﾆｯﾄ1原点復帰中
OR M1484                 ; ﾕﾆｯﾄ1原点復帰中
ANB M1483                ; ﾕﾆｯﾄ1_原点復帰起動OFF
ANB M1491                ; ﾕﾆｯﾄ1ｴﾗｰ発生
ANB M1297                ; STEPEND
OUT M1484                ; ﾕﾆｯﾄ1原点復帰中
@MOV K0 D1550
;□ 起動中
LDB M1074                ; ﾕﾆｯﾄ1-1起動中
ANB M1154                ; BCR起動中
ANB M1234                ; NG品処理Sub起動中
INV
OUT M1485                ; ﾕﾆｯﾄ1起動中
;□ ｻｲｸﾙ停止異常
LDB M1075                ; ﾕﾆｯﾄ1-1ｻｲｸﾙ停止異常
ANB M1155                ; BCRｻｲｸﾙ停止異常
ANB M1235                ; NG品処理Subｻｲｸﾙ停止異常
ANB B024                 ; B024_037)投入ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
INV
OUT M1486                ; ﾕﾆｯﾄ1ｻｲｸﾙ停止異常
;□ 払出停止異常
LDB CR2003               ; 常時OFF
INV
OUT M1487                ; ﾕﾆｯﾄ1払出停止異常
;□ 警報補助
LDB B023                 ; B023_036)ﾜｰｸ投入NG異常
ANB B028                 ; B028_041)FBTｽｷｯﾌﾟ品取出し要求
ANB B030                 ; B030_049)投入製品検知OFF異常
ANB B032                 ; B032_051)ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査NG
ANB B033                 ; B033_052)PA画像検査NG
ANB B036                 ; B036_055)投入基板除去要求
INV
OUT M1488                ; ﾕﾆｯﾄ1警報補助
;□ 機器準備確認
LD X100E                 ; RB1 #01_RX00E_ALM
AND X100F                ; RB1 #01_RX00F_SAVO状態
AND X101B                ; RB1 #01_RX01B_REMOTO READY
AND B2015                ; IV Series[1]ﾚﾃﾞｨ
LD X130B                 ; CP検査画像処理運転中
OR CR2002                ; 常時ON
ANL
OUT M1490                ; ﾕﾆｯﾄ1機器準備完了
;□ ｴﾗｰ発生　一時停止
LDB M1076                ; ﾕﾆｯﾄ1-1ｴﾗｰ発生(一時停止処理)
ANB M1156                ; BCRｴﾗｰ発生
ANB M1236                ; NG品処理Subｴﾗｰ発生
INV
OUT M1491                ; ﾕﾆｯﾄ1ｴﾗｰ発生
;□ 動作中ﾕﾆｯﾄ無し
LD M1077                 ; ﾕﾆｯﾄ1-1動作無し
AND M1157                ; BCR動作無し
AND M1237                ; NG品処理Sub動作無し
OUT M1492                ; ﾕﾆｯﾄ1動作無し確認
;□ 払出しﾜｰｸ無し
LD T105                  ; 給材部ﾜｰｸ無し確認
ANB T103                 ; ﾜｰｸ受渡し部ﾜｰｸ有確認(ON=有)
AND M36                  ; 払出ﾓｰﾄﾞ
TMR K114 K10             ; UNIT1払出処理ﾜｰｸ無
LD T114                  ; UNIT1払出処理ﾜｰｸ無
OUT M1493                ; ﾕﾆｯﾄ1ﾜｰｸ無し
;□ ｽﾃｯﾌﾟ起動
LD M30                   ; 自動ﾓｰﾄﾞ
OR M31                   ; 手動ﾓｰﾄﾞ
ANB M130                 ; 一時停止
AND M123                 ; 安全扉正常
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M51                  ; 即停止異常(緊急停止)
ANB M52                  ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
ANB M57                  ; 全ﾕﾆｯﾄ払出完了
ANB M59                  ; 払出停止異常まとめ
ANB M60                  ; ｴﾗｰ発生
OUT M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
;<h1/>□_UNIT_1_自動回路
;<h1/>◇_ﾕﾆｯﾄ1-1状態・動作条件(補助)
LD M1471                 ; RB1_ﾜｰｸ投入位置(待機位置)
LDB T101                 ; 給材部ﾜｰｸ有確認(ON=有)
ANB T103                 ; ﾜｰｸ受渡し部ﾜｰｸ有確認(ON=有)
AND T107                 ; NGﾎﾞｯｸｽﾜｰｸ無
OR M75                   ; 自動運転開始PCﾁｪｯｸ開始
OR M71                   ; 自動運転開始BZ
ANL
AND= D1201 K0            ; 投入部_ﾜｰｸ有無記憶
OUT M1070                ; ﾕﾆｯﾄ1-1原点_供給ｽﾗｲﾀﾞ部
LDB B020                 ; B020_033)RBC1 ｺﾝﾄﾛｰﾗｰ異常
ANB B022                 ; B022_035)投入部ﾜｰｸ受渡し異常
ANB B02A                 ; B02A_043)投入ｽﾗｲﾀﾞ不要ﾜｰｸ有異常
ANB B02B                 ; B02B_044)投入ｽﾗｲﾀﾞﾜｰｸ受取り異常
INV
OUT M1071                ; ﾕﾆｯﾄ1-1即停止異常_供給ｽﾗｲﾀﾞ部
LD M1070                 ; ﾕﾆｯﾄ1-1原点_供給ｽﾗｲﾀﾞ部
ANB M1074                ; ﾕﾆｯﾄ1-1起動中
ANB M130                 ; 一時停止
ANB M56                  ; 自動起動停止指令(ｻｲｸﾙ停止)
LDB M36                  ; 払出ﾓｰﾄﾞ
ANB M38                  ; 段取りﾓｰﾄﾞ
OR M3314                 ; 投入ｽﾗｲﾀﾞ_搭載位置移動要求
ANL
LDB M170                 ; 日常点検中
LD M172                  ; OK/NG選択完了
AND T105                 ; 給材部ﾜｰｸ無し確認
ORL
ANL
ANB W01.0                ; ｽｷｬﾅ読込完了
ANB W01.2                ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
ANB W02.8                ; ｸﾘｽﾀﾙｷｬｯﾌﾟ検査完了
ANB W02.10               ; ｸﾘｽﾀﾙｷｬｯﾌﾟ検査画像保存中
ANB M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
ANB M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
ANB M1404                ; ID異常時ｻｲｸﾙ停止選択
ANB M1405                ; ID異常時取出し選択
ANB M1406                ; ID異常時段取り替え選択
ANB M1431                ; CP検査OKﾌﾗｸﾞ
ANB M1432                ; CP検査NGﾌﾗｸﾞ
ANB M1436                ; PA_Tape CHEAK OK
ANB M1437                ; PA_Tape CHEACK NG
OUT M1072                ; ﾕﾆｯﾄ1-1起動条件_供給ｽﾗｲﾀﾞ部
LDB M50                  ; 運転準備
OR M1486                 ; ﾕﾆｯﾄ1ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M1073                ; ﾕﾆｯﾄ1-1起動OFF
LD M71                   ; 自動運転開始BZ
AND M1072                ; ﾕﾆｯﾄ1-1起動条件_供給ｽﾗｲﾀﾞ部
OR M1074                 ; ﾕﾆｯﾄ1-1起動中
ANB M1073                ; ﾕﾆｯﾄ1-1起動OFF
ANB M1063                ; 1-1_S63_STEPEND
OUT M1074                ; ﾕﾆｯﾄ1-1起動中
;ﾕﾆｯﾄ1-1 ｻｲｸﾙ停止異常
LDB B020                 ; B020_033)RBC1 ｺﾝﾄﾛｰﾗｰ異常
ANB B04C                 ; B04C_077)ﾁｬｯｸ閉速度確認異常
ANB B034                 ; B034_053)IVｺﾝﾄﾛｰﾗｰ(PA検査)ERROR
ANB B035                 ; B035_054)CC検査ｺﾝﾄﾛｰﾗｰERROR
INV
OUT M1075                ; ﾕﾆｯﾄ1-1ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-1 一時停止ｴﾗｰ発生まとめ
LDB B021                 ; B021_034)投入部JIG_ID異常
ANB B025                 ; B025_038)ID一致無し
ANB B026                 ; B026_039)ｽﾃｰｼﾞ有効化要求
ANB B028                 ; B028_041)FBTｽｷｯﾌﾟ品取出し要求
ANB B029                 ; B029_042)投入部ﾜｰｸ浮き異常
ANB B02C                 ; B02C_045)NGﾜｰｸ処理警報
ANB B02D                 ; B02D_046)基板表裏反対ｾｯﾄ異常
ANB B031                 ; B031_050)NGBOXﾜｰｸ除去要求
ANB B0321                ; B321_802)投入部ﾜｰｸ除去要求
INV
OUT M1076                ; ﾕﾆｯﾄ1-1ｴﾗｰ発生(一時停止処理)
;ﾕﾆｯﾄ1-1 停止判定
LD= D1000 D1005          ; 1-1自動運転ｽﾃｯﾌﾟ  1-1動作中判定
ORB M1074                ; ﾕﾆｯﾄ1-1起動中
LD X100D                 ; RB1 #01_RX00D_運転完了
ORB X100C                ; RB1 #01_RX00C_運転実行中
ANL
TMR K110 K20             ; ﾕﾆｯﾄ1-1動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D1000 D1005          ; 1-1自動運転ｽﾃｯﾌﾟ  1-1動作中判定
LD T110                  ; ﾕﾆｯﾄ1-1動作無し判定ﾀｲﾏ
OUT M1077                ; ﾕﾆｯﾄ1-1動作無し
;□
;□　ﾕﾆｯﾄ1-1 自動運転ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M1000 K4         ; ﾕﾆｯﾄ1-1ｽﾃｯﾌﾟ開始_S0
LDB M1074                ; ﾕﾆｯﾄ1-1起動中
MOV K0 D1000             ; 1-1自動運転ｽﾃｯﾌﾟ
MOV K0 D1201             ; 投入部_ﾜｰｸ有無記憶
@ZRES M1402 M1406        ; ﾊﾞｰｺｰﾄﾞ読取_正常終了  ID異常時段取り替え選択
LD M1074                 ; ﾕﾆｯﾄ1-1起動中
MPS
AND B030                 ; B030_049)投入製品検知OFF異常
@MOV K40 D1000           ; 1-1自動運転ｽﾃｯﾌﾟ
MRD
MOV D1000 Z1             ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
SET M1000:Z1             ; ﾕﾆｯﾄ1-1ｽﾃｯﾌﾟ開始_S0
;<h1/>__S0_投入部ﾜｰｸ有無分岐
LD M1000                 ; ﾕﾆｯﾄ1-1ｽﾃｯﾌﾟ開始_S0
LD B300F                 ; Assy自動運転中
LDB B300F                ; Assy自動運転中
ANP B1050                ; 自動運転 ASSY未起動sw
ORL
OR M170                  ; 日常点検中
OR M162                  ; FBT日常点検ﾓｰﾄﾞ
OR M1065                 ; 起動時確認完了ﾌﾗｸﾞ
ANL
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1000                 ; ﾕﾆｯﾄ1-1ｽﾃｯﾌﾟ開始_S0
ANP B1050                ; 自動運転 ASSY未起動sw
OR M1065                 ; 起動時確認完了ﾌﾗｸﾞ
AND M71                  ; 自動運転開始BZ
OUT M1065                ; 起動時確認完了ﾌﾗｸﾞ
LD M1000                 ; ﾕﾆｯﾄ1-1ｽﾃｯﾌﾟ開始_S0
ANB B300F                ; Assy自動運転中
ANB M170                 ; 日常点検中
ANB M1065                ; 起動時確認完了ﾌﾗｸﾞ
OUT B150F                ; Assy未起動確認画面表示
;<h1/>__S1_ﾜｰｸ供給待ち
LD M1001                 ; 1-1_S1_ﾜｰｸ投入待ち
AND M2659                ; 初期起動時吸着ｾﾝｻ確認完了記憶
ANB M130                 ; 一時停止
MPS
LDB M36                  ; 払出ﾓｰﾄﾞ
ANB M38                  ; 段取りﾓｰﾄﾞ
AND T66                  ; 投入部ﾗｲﾄｶｰﾃﾝ_遮光_確認
OR T101                  ; 給材部ﾜｰｸ有確認(ON=有)
LDB M170                 ; 日常点検中
OR M172                  ; OK/NG選択完了
ANL
AND T101                 ; 給材部ﾜｰｸ有確認(ON=有)
ANL
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
MRD
LD M3314                 ; 投入ｽﾗｲﾀﾞ_搭載位置移動要求
ANB T101                 ; 給材部ﾜｰｸ有確認(ON=有)
ANL
MOV K48 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
LDB M3314                ; 投入ｽﾗｲﾀﾞ_搭載位置移動要求
LD M36                   ; 払出ﾓｰﾄﾞ
OR M38                   ; 段取りﾓｰﾄﾞ
ANL
ANB T101                 ; 給材部ﾜｰｸ有確認(ON=有)
ANL
MOV K63 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1002                 ; 1-1_S2_検査ﾜｰｸ供給中
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
LD T101                  ; 給材部ﾜｰｸ有確認(ON=有)
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
MPS
AND T120                 ; ﾜｰｸ投入確認ﾃﾞｨﾚｲ
MPS
MOV K3 D1000             ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
AND M162                 ; FBT日常点検ﾓｰﾄﾞ
MOV K1 D1208             ; 投入部_日常点検品(1=点検/0=通常)
MPP
TMR K120 K2              ; ﾜｰｸ投入確認ﾃﾞｨﾚｲ
MPP
LD T105                  ; 給材部ﾜｰｸ無し確認
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
MOV K1 D1000             ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1002                 ; 1-1_S2_検査ﾜｰｸ供給中
LD M1450                 ; 供給ｽﾗｲﾀﾞ_ﾜｰｸ投入動作中
ANB M1001                ; 1-1_S1_ﾜｰｸ投入待ち
ANB M1036                ; 1-1_S36_ﾜｰｸ取出完了確認
ORL
AND M1074                ; ﾕﾆｯﾄ1-1起動中
OUT M1450                ; 供給ｽﾗｲﾀﾞ_ﾜｰｸ投入動作中
;	NGﾎﾞｯｸｽﾜｰｸ無し確認
LD M1003                 ; 1-1_S3
MPS
AND T107                 ; NGﾎﾞｯｸｽﾜｰｸ無
MOV K5 D1000             ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
AND T104                 ; NGﾎﾞｯｸｽﾜｰｸ有検知
MOV K4 D1000             ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1004                 ; 1-1_S4_NGBOXﾜｰｸ取出し要求
ANPB M1004               ; 1-1_S4_NGBOXﾜｰｸ取出し要求
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
ANB B031                 ; B031_050)NGBOXﾜｰｸ除去要求
AND T107                 ; NGﾎﾞｯｸｽﾜｰｸ無
MOV K1 D1000             ; 1-1自動運転ｽﾃｯﾌﾟ
;	ﾜｰｸ投入OK　&JigNO.ﾁｪｯｸ
LD M1005                 ; 1-1_S5_ｲﾝﾃﾞｯｸｽNO.ﾁｪｯｸ
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
LDB M1076                ; ﾕﾆｯﾄ1-1ｴﾗｰ発生(一時停止処理)
AND<> D1050 K0           ; 投入部JIG_ID
ANL
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
AND= D1050 K0            ; 投入部JIG_ID
MOV K1 D1000             ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1006                 ; 1-1_S6
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
;　　■ｽﾃｰｼﾞ有効ﾁｪｯｸ（ここではＰＣからのＩＤ情報がこないので、ステージの有効／無効のみをチェックする）
LD M1007                 ; 1-1_S7_ｽﾃｰｼﾞﾁｪｯｸ
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
LD L1200                 ; FBTST1_有効状態
OR L1400                 ; FBTST2_有効状態
OR L1600                 ; FBTST3_有効状態
ANL
MOV K10 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
OUT M1422                ; ｽﾃｰｼﾞ状態OK
MPP
ANB M1422                ; ｽﾃｰｼﾞ状態OK
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
;　　ｽﾃｰｼﾞﾁｪｯｸ
LD M1008                 ; 1-1_S8_ｽﾃｰｼﾞ異常
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND B026                 ; B026_039)ｽﾃｰｼﾞ有効化要求
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1009                 ; 1-1_S9
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
ANB B026                 ; B026_039)ｽﾃｰｼﾞ有効化要求
MOV K1 D1000             ; 1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S10_ﾜｰｸ浮きﾁｪｯｸ
LD M1010                 ; 1-1_S10
MPS
LD T121                  ; 浮き検知ディレイ
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
ANL
MPS
LD T102                  ; 給材部ﾜｰｸ浮き確認(ON=OK)
AND X1202                ; 給材部ｽﾗｲﾀﾞｰ上ﾜｰｸ確認(ON:有)
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
MOV K12 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
LDB T102                 ; 給材部ﾜｰｸ浮き確認(ON=OK)
ORB X1202                ; 給材部ｽﾗｲﾀﾞｰ上ﾜｰｸ確認(ON:有)
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
TMR K121 K3              ; 浮き検知ディレイ
;　ﾜｰｸ浮き検出
LD M1011                 ; 1-1_S11_ﾜｰｸ浮き検知
ANPB M1011               ; 1-1_S11_ﾜｰｸ浮き検知
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
ANB B029                 ; B029_042)投入部ﾜｰｸ浮き異常
ANB B02D                 ; B02D_046)基板表裏反対ｾｯﾄ異常
LD T105                  ; 給材部ﾜｰｸ無し確認
OR CR2002                ; 常時ON
ANL
MOV K63 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
;BCR位置移動&ﾜｰｸ情報ｾｯﾄ
LD M1012                 ; 1-1_S12_移動前条件確認
MPS
LD T60                   ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND M1242                ; RB1位置決めSub起動条件
ANL
MPS
MOV K2 D1024             ; RB1_移動先POS_NO.
MPP
AND= K2 D1024            ; RB1_移動先POS_NO.
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
@MOV K1 D1201            ; 投入部_ﾜｰｸ有無記憶
LD M1013                 ; 1-1_S13_ﾊﾞｰｺｰﾄﾞ読取位置移動
AND M1244                ; RB1位置決めSub起動中
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
;ﾊﾝﾄﾞﾜｰｸ無し確認
;無効予約が入っているステージがあったら無効化されるまで待機する。
LDB M3100                ; ﾊﾝﾄﾞ1_ﾜｰｸ有
OR M3103                 ; ﾊﾝﾄﾞ1_検査完了品(排出ﾜｰｸ)
LDB M3150                ; ﾊﾝﾄﾞ2_ﾜｰｸ有
OR M3153                 ; ﾊﾝﾄﾞ2_検査完了品(排出ﾜｰｸ)
ANL
LD L1200                 ; FBTST1_有効状態
LDB M6909                ; 電特ST1_無効予約(自動運転)
OR M3105                 ; ﾊﾝﾄﾞ1_NG品
OR M3155                 ; ﾊﾝﾄﾞ2_NG品
ANL
ORB L1200                ; FBTST1_有効状態
ANL
LD L1400                 ; FBTST2_有効状態
LDB M7909                ; 電特ST2_無効予約(自動運転)
OR M3105                 ; ﾊﾝﾄﾞ1_NG品
OR M3155                 ; ﾊﾝﾄﾞ2_NG品
ANL
ORB L1400                ; FBTST2_有効状態
ANL
LD L1600                 ; FBTST3_有効状態
LDB M8909                ; 電特ST3_無効予約(自動運転)
OR M3105                 ; ﾊﾝﾄﾞ1_NG品
OR M3155                 ; ﾊﾝﾄﾞ2_NG品
ANL
ORB L1600                ; FBTST3_有効状態
ANL
OUT M1465                ; 投入可能状態
LD M1014                 ; 1-1_S14_
ANB M1244                ; RB1位置決めSub起動中
AND M1472                ; RB1_BCR読取位置
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND M1465                ; 投入可能状態
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S15_ﾊﾞｰｺｰﾄﾞ読み取り
LD M1015                 ; 1-1_S15ﾊﾞｰｺｰﾄﾞ読取要求
MPS
AND M1154                ; BCR起動中
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
LDB W01.0                ; ｽｷｬﾅ読込完了
ANB W0101.0              ; ｽｷｬﾅ読取要求
ANB W01.2                ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
ANL
OUT M1400                ; ﾊﾞｰｺｰﾄﾞ読み取り要求FLG
LD M1016                 ; 1-1_S16_BCR読取結果判別
ANB M1154                ; BCR起動中
MPS
AND M1401                ; BCR結果NGﾌﾗｸﾞ
MOV K40 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
AND M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
MPS
ANB M1424                ; ｽｷｯﾌﾟ品取出し要求Flg
MPS
ANB M161                 ; PA tape日常点検ﾓｰﾄﾞ
MOV K17 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
AND M161                 ; PA tape日常点検ﾓｰﾄﾞ
MOV K23 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
AND M1424                ; ｽｷｯﾌﾟ品取出し要求Flg
MOV K40 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
LDB M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
ANB M1404                ; ID異常時ｻｲｸﾙ停止選択
ANB M1405                ; ID異常時取出し選択
INV
AND M1016                ; 1-1_S16_BCR読取結果判別
OR M1401                 ; BCR結果NGﾌﾗｸﾞ
AND M1074                ; ﾕﾆｯﾄ1-1起動中
OUT M1401                ; BCR結果NGﾌﾗｸﾞ
;<h1/>__S17_CrystalCap 検査
LD M1017                 ; 1-1_S17_
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND M1242                ; RB1位置決めSub起動条件
MPS
MOV D1031 D1024          ; RB1_CP検査位置POS指定  RB1_移動先POS_NO.
MPP
AND= D1031 D1024         ; RB1_CP検査位置POS指定  RB1_移動先POS_NO.
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1018                 ; 1-1_S18_CP検査位置移動指令
AND M1244                ; RB1位置決めSub起動中
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1019                 ; 1-1_S19
ANB M1244                ; RB1位置決めSub起動中
AND M1475                ; RB1_CP検査位置
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
;
LD M1020                 ; 1-1_S20_CP検査有無確認
MPS
LDB L30                  ; CP検査有無(1:無_0:有)
ANB M3                   ; OFFLINE_MODE
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
LD L30                   ; CP検査有無(1:無_0:有)
OR M3                    ; OFFLINE_MODE
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
MOV K23 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1021                 ; 1-1_S21_CP検査ﾘｾｯﾄﾌﾗｸﾞ
ANB M1431                ; CP検査OKﾌﾗｸﾞ
ANB M1432                ; CP検査NGﾌﾗｸﾞ
ANB M1436                ; PA_Tape CHEAK OK
ANB M1437                ; PA_Tape CHEACK NG
ANB M1370                ; PA_Tape検査SUB起動
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1022                 ; 1-1_S22_CP検査&PA検査
MPS
LD M1431                 ; CP検査OKﾌﾗｸﾞ
ANB M1432                ; CP検査NGﾌﾗｸﾞ
LDB M170                 ; 日常点検中
LD M1436                 ; PA_Tape CHEAK OK
ANB M1437                ; PA_Tape CHEACK NG
ORB L40                  ; PA検査はCP検査と同時(ONで同時)
ANL
OR L31                   ; PA TapeCheck有無(1:無_0:有)
ANL
ANL
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
MRD
LD M1432                 ; CP検査NGﾌﾗｸﾞ
LD M170                  ; 日常点検中
AND M1431                ; CP検査OKﾌﾗｸﾞ
ORL
LD L40                   ; PA検査はCP検査と同時(ONで同時)
AND M1437                ; PA_Tape CHEACK NG
LD M1431                 ; CP検査OKﾌﾗｸﾞ
OR M1432                 ; CP検査NGﾌﾗｸﾞ
ANL
ORL
ANL
MOV K40 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
MRD
LDB M1431                ; CP検査OKﾌﾗｸﾞ
ANB M1432                ; CP検査NGﾌﾗｸﾞ
ANL
OUT M1430                ; CP検査起動ﾌﾗｸﾞ
MPP
LD L40                   ; PA検査はCP検査と同時(ONで同時)
ANB L31                  ; PA TapeCheck有無(1:無_0:有)
ANB M1436                ; PA_Tape CHEAK OK
ANB M1437                ; PA_Tape CHEACK NG
ANL
OUT M1434                ; PA Tape検査ﾌﾗｸﾞ(自動CPと同時)
@MOV D1213 D1100         ; 投入部_PA検査No.  PAﾃｰﾌﾟ検査NO.
;PCからの検査完了を入れる
;検査開始前にﾘｾｯﾄ
LD M1430                 ; CP検査起動ﾌﾗｸﾞ
AND W0102.8              ; ｸﾘｽﾀﾙｷｬｯﾌﾟ検査要求
AND W02.8                ; ｸﾘｽﾀﾙｷｬｯﾌﾟ検査完了
AND W02.9                ; ｸﾘｽﾀﾙｷｬｯﾌﾟ検査結果(1でOK)
LD M1431                 ; CP検査OKﾌﾗｸﾞ
ANPB M1021               ; 1-1_S21_CP検査ﾘｾｯﾄﾌﾗｸﾞ
ANPB M170                ; 日常点検中
ORL
AND M1074                ; ﾕﾆｯﾄ1-1起動中
OUT M1431                ; CP検査OKﾌﾗｸﾞ
LD M1430                 ; CP検査起動ﾌﾗｸﾞ
AND W0102.8              ; ｸﾘｽﾀﾙｷｬｯﾌﾟ検査要求
AND W02.8                ; ｸﾘｽﾀﾙｷｬｯﾌﾟ検査完了
ANB W02.9                ; ｸﾘｽﾀﾙｷｬｯﾌﾟ検査結果(1でOK)
LD M1432                 ; CP検査NGﾌﾗｸﾞ
ANPB M1021               ; 1-1_S21_CP検査ﾘｾｯﾄﾌﾗｸﾞ
ANPB M170                ; 日常点検中
ORL
AND M1074                ; ﾕﾆｯﾄ1-1起動中
OUT M1432                ; CP検査NGﾌﾗｸﾞ
LDP M1396                ; PA_結果OK
LD M1436                 ; PA_Tape CHEAK OK
ANB M1021                ; 1-1_S21_CP検査ﾘｾｯﾄﾌﾗｸﾞ
ANB M1026                ; 1-1_S26_検査結果ﾘｾｯﾄ
ANB M1380                ; PA検査開始PCへ
ORL
AND M1074                ; ﾕﾆｯﾄ1-1起動中
ANB M1437                ; PA_Tape CHEACK NG
OUT M1436                ; PA_Tape CHEAK OK
LDP M1397                ; PA_結果NG
LD M1437                 ; PA_Tape CHEACK NG
ANB M1021                ; 1-1_S21_CP検査ﾘｾｯﾄﾌﾗｸﾞ
ANB M1026                ; 1-1_S26_検査結果ﾘｾｯﾄ
ANB M1380                ; PA検査開始PCへ
ORL
AND M1074                ; ﾕﾆｯﾄ1-1起動中
ANB M1436                ; PA_Tape CHEAK OK
OUT M1437                ; PA_Tape CHEACK NG
;<h1/>__S23_PA_Tape検査
LD M1023                 ; 1-1_S23_PA検査有無
MPS
LDB L31                  ; PA TapeCheck有無(1:無_0:有)
ANB L40                  ; PA検査はCP検査と同時(ONで同時)
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
LD L31                   ; PA TapeCheck有無(1:無_0:有)
OR L40                   ; PA検査はCP検査と同時(ONで同時)
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
MOV K28 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1024                 ; 1-1_S24
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND M1242                ; RB1位置決めSub起動条件
MPS
MOV D1030 D1024          ; RB1_PAﾃｰﾌﾟ検査位置POS指定  RB1_移動先POS_NO.
MPP
AND= D1030 D1024         ; RB1_PAﾃｰﾌﾟ検査位置POS指定  RB1_移動先POS_NO.
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1025                 ; 1-1_S25_PA検査位置移動
AND M1244                ; RB1位置決めSub起動中
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1026                 ; 1-1_S26_検査結果ﾘｾｯﾄ
ANB M1244                ; RB1位置決めSub起動中
AND M1474                ; RB1_PAﾃｰﾌﾟ検査位置
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
ANB M1436                ; PA_Tape CHEAK OK
ANB M1437                ; PA_Tape CHEACK NG
ANB M1370                ; PA_Tape検査SUB起動
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1027                 ; 1-1_S27_
MPS
LD M1436                 ; PA_Tape CHEAK OK
ANB M1437                ; PA_Tape CHEACK NG
ANB M161                 ; PA tape日常点検ﾓｰﾄﾞ
ANL
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
MRD
LD M1437                 ; PA_Tape CHEACK NG
LD M161                  ; PA tape日常点検ﾓｰﾄﾞ
AND M1436                ; PA_Tape CHEAK OK
ORL
ANL
MOV K40 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
LDB M1436                ; PA_Tape CHEAK OK
ANB M1437                ; PA_Tape CHEACK NG
ANL
OUT M1435                ; PA Tape検査ﾌﾗｸﾞ
@MOV D1213 D1100         ; 投入部_PA検査No.  PAﾃｰﾌﾟ検査NO.
;<h1/>__S28_搬送部へ移動
LD M1028                 ; 1-1_S28_
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND M1242                ; RB1位置決めSub起動条件
MPS
MOV K3 D1024             ; RB1_移動先POS_NO.
MPP
AND= K3 D1024            ; RB1_移動先POS_NO.
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1029                 ; 1-1_S29_ﾜｰｸ受渡し部移動指令
AND M1244                ; RB1位置決めSub起動中
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1030                 ; 1-1_S30
ANB M1244                ; RB1位置決めSub起動中
AND M1473                ; RB1_ﾜｰｸ受渡し位置
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1031                 ; 1-1_S31
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1032                 ; 1-1_S32
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1033                 ; 1-1_S33_
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S34_ﾜｰｸ除材要求
;ﾌﾗｸﾞ受取完了とﾜｰｸ受取完了を入れる
;ﾃﾞｰﾀｼﾌﾄは、搬送側にて行う
LD M1034                 ; 1-1_S34_ﾜｰｸ除材要求
MPS
LD M1410                 ; 供給→搬送RB1_除材要求
AND M3300                ; 搬送→供給_取出開始
ANL
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
MRD
ANB M1412                ; ﾜｰｸ投入不可状態
OUT M1410                ; 供給→搬送RB1_除材要求
MPP
AND M1412                ; ﾜｰｸ投入不可状態
MOV K40 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1034                 ; 1-1_S34_ﾜｰｸ除材要求
AND M2151                ; U2-S651_ﾜｰｸ受取りﾌﾗｸﾞON
AND D1201.0
AND M3100                ; ﾊﾝﾄﾞ1_ﾜｰｸ有
AND M3150                ; ﾊﾝﾄﾞ2_ﾜｰｸ有
OR M1412                 ; ﾜｰｸ投入不可状態
AND M1074                ; ﾕﾆｯﾄ1-1起動中
OUT M1412                ; ﾜｰｸ投入不可状態
LD M1035                 ; 1-1_S35_ﾜｰｸ除材完了
LD M3301                 ; 搬送→供給取出完了
OR M1411                 ; 供給→搬送RB1_取出完了受取り
ANL
MPS
LDB M3300                ; 搬送→供給_取出開始
ANB M3301                ; 搬送→供給取出完了
ANL
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1411                ; 供給→搬送RB1_取出完了受取り
;ﾜｰｸ受取完了ﾁｪｯｸ
LD M1036                 ; 1-1_S36_ﾜｰｸ取出完了確認
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
ANB T103                 ; ﾜｰｸ受渡し部ﾜｰｸ有確認(ON=有)
MOV K39 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
AND T103                 ; ﾜｰｸ受渡し部ﾜｰｸ有確認(ON=有)
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1037                 ; 1-1_S37_搬送へのﾜｰｸ受渡し失敗
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND B022                 ; B022_035)投入部ﾜｰｸ受渡し異常
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1038                 ; 1-1_S38
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
ANB B022                 ; B022_035)投入部ﾜｰｸ受渡し異常
MOV K63 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
;電特検査NG品有無分岐
;____▼_搬送ﾍｯﾄﾞにNGﾜｰｸがある場合は、受取りｻｲｸﾙへ分岐する
LD M1039                 ; 1-1_S39
MPS
LDB M3105                ; ﾊﾝﾄﾞ1_NG品
ANB M3155                ; ﾊﾝﾄﾞ2_NG品
ANL
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
LD M3105                 ; ﾊﾝﾄﾞ1_NG品
OR M3155                 ; ﾊﾝﾄﾞ2_NG品
ANL
MOV K48 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S40 ﾜｰｸｾｯﾄ位置(待機)へ移動
LD M1040                 ; 1-1_S40_途中投入のﾌﾗｸﾞをﾘｾｯﾄ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND M1320                ; 供給ｽﾗｲﾀﾞﾜｰｸ投入(待機)位置移動OK
ANB M1447                ; ﾜｰｸ投入無し確認ﾌﾗｸﾞ
ANB M1460                ; RB1位置決めSUB強制停止ﾌﾗｸﾞ
AND M1242                ; RB1位置決めSub起動条件
MPS
MOV K1 D1024             ; RB1_移動先POS_NO.
MPP
AND= K1 D1024            ; RB1_移動先POS_NO.
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1041                 ; 1-1_S41_待機位置移動指令
AND M1244                ; RB1位置決めSub起動中
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1042                 ; 1-1_S42
ANB M1244                ; RB1位置決めSub起動中
AND M1471                ; RB1_ﾜｰｸ投入位置(待機位置)
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1043                 ; 1-1_S43_各種異常発生
ANPB M1043               ; 1-1_S43_各種異常発生
MPS
LDB B023                 ; B023_036)ﾜｰｸ投入NG異常
ANB B028                 ; B028_041)FBTｽｷｯﾌﾟ品取出し要求
ANB B030                 ; B030_049)投入製品検知OFF異常
ANB B032                 ; B032_051)ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査NG
ANB B033                 ; B033_052)PA画像検査NG
ANB B036                 ; B036_055)投入基板除去要求
ANB M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
ANB D1201.0
ANL
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
LD B023                  ; B023_036)ﾜｰｸ投入NG異常
OR B028                  ; B028_041)FBTｽｷｯﾌﾟ品取出し要求
OR B030                  ; B030_049)投入製品検知OFF異常
OR B032                  ; B032_051)ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査NG
OR B033                  ; B033_052)PA画像検査NG
OR B036                  ; B036_055)投入基板除去要求
OR M1403                 ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
OR M170                  ; 日常点検中
ANL
MOV K45 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1044                 ; 1-1_S44_正常時ｻｲｸﾙ終了
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MOV K63 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
;　NG品取出し処理(NGﾎﾞｯｸｽには入れない)
LD M1045                 ; 1-1_S45_ﾘｾｯﾄ待ち
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND T105                 ; 給材部ﾜｰｸ無し確認
ANB B023                 ; B023_036)ﾜｰｸ投入NG異常
ANB B028                 ; B028_041)FBTｽｷｯﾌﾟ品取出し要求
ANB B030                 ; B030_049)投入製品検知OFF異常
ANB B032                 ; B032_051)ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査NG
ANB B033                 ; B033_052)PA画像検査NG
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
;　　PCﾜｰｸ情報削除
LD M1046                 ; 1-1_S46_PCﾃﾞｰﾀ削除ﾌﾗｸﾞ
ANB B029                 ; B029_042)投入部ﾜｰｸ浮き異常
MPS
LD M1360                 ; 投入部PCﾃﾞｰﾀ削除ﾌﾗｸﾞ
LD W01.13                ; ｲﾝﾃﾞｯｸｽﾃﾞｰﾀｸﾘｱ完了
OR M3                    ; OFFLINE_MODE
ANL
ANL
MOV K63 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
MRD
LDB W0101.13             ; ｲﾝﾃﾞｯｸｽﾃﾞｰﾀｸﾘｱ要求
OR M1360                 ; 投入部PCﾃﾞｰﾀ削除ﾌﾗｸﾞ
ANL
OUT M1360                ; 投入部PCﾃﾞｰﾀ削除ﾌﾗｸﾞ
@MOV K1 W0148            ; ﾃﾞｰﾀｸﾘｱｲﾝﾃﾞｯｸｽNo
MPP
FMOV K0 D1200 K100       ; 投入部_INDEX NO.
;<h1/>__S48_検査完了ﾜｰｸ受取り
LD M1048                 ; 1-1_S48
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND M1242                ; RB1位置決めSub起動条件
MPS
MOV K3 D1024             ; RB1_移動先POS_NO.
MPP
AND= K3 D1024            ; RB1_移動先POS_NO.
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1049                 ; 1-1_S49_ﾜｰｸ受渡し(受取り)位置へ
AND M1244                ; RB1位置決めSub起動中
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1050                 ; 1-1_S50_搬送からﾜｰｸ受取移動中
ANB M1244                ; RB1位置決めSub起動中
MPS
LDB M1447                ; ﾜｰｸ投入無し確認ﾌﾗｸﾞ
AND M1473                ; RB1_ﾜｰｸ受渡し位置
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
ANL
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
AND M1447                ; ﾜｰｸ投入無し確認ﾌﾗｸﾞ
MOV K40 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
;移動中にﾗｲﾄｶｰﾃﾝOFFの場合、投入位置へもどる
LD M1050                 ; 1-1_S50_搬送からﾜｰｸ受取移動中
LDB T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB X1009                ; RB1 #01_RX009_ZONE
OR X1202                 ; 給材部ｽﾗｲﾀﾞｰ上ﾜｰｸ確認(ON:有)
LD M1471                 ; RB1_ﾜｰｸ投入位置(待機位置)
AND X1200                ; 給材部ﾜｰｸ有確認(ON:有)
ORL
ANL
LD M1447                 ; ﾜｰｸ投入無し確認ﾌﾗｸﾞ
ANB M1040                ; 1-1_S40_途中投入のﾌﾗｸﾞをﾘｾｯﾄ
ORL
AND M1074                ; ﾕﾆｯﾄ1-1起動中
OUT M1447                ; ﾜｰｸ投入無し確認ﾌﾗｸﾞ
LD M1447                 ; ﾜｰｸ投入無し確認ﾌﾗｸﾞ
AND M1244                ; RB1位置決めSub起動中
OR M1448                 ; RB1位置決めSUB強制終了FLG
AND M1447                ; ﾜｰｸ投入無し確認ﾌﾗｸﾞ
OUT M1448                ; RB1位置決めSUB強制終了FLG
;
LD M1051                 ; 1-1_S51
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
TMR K122 K5              ; ﾜｰｸ無し確認時間
MPP
LD T122                  ; ﾜｰｸ無し確認時間
AND M1473                ; RB1_ﾜｰｸ受渡し位置
ANB X1201                ; 給材部ﾜｰｸ受渡位置ﾜｰｸ有確認(ON:有
ANB T103                 ; ﾜｰｸ受渡し部ﾜｰｸ有確認(ON=有)
ANL
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1051                 ; 1-1_S51
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND M1473                ; RB1_ﾜｰｸ受渡し位置
AND T103                 ; ﾜｰｸ受渡し部ﾜｰｸ有確認(ON=有)
LD M1445                 ; 給材ｽﾗｲﾀﾞ_不要ﾜｰｸ有異常
ANB M1053                ; 1-1_S53_ﾜｰｸ受取り完了待ち
ORL
AND M1074                ; ﾕﾆｯﾄ1-1起動中
LD M2811                 ; 電特&給材_ｾﾝｻｰ確認有効高さ
LDB L291                 ; ﾊﾝﾄﾞ1OKｺﾝﾍﾞﾔ部ﾜｰｸ受渡し動作完了
ANB L220                 ; ﾊﾝﾄﾞ1投入部ﾜｰｸ受渡し動作完了(XY
ANB L221                 ; ﾊﾝﾄﾞ2投入部ﾜｰｸ受渡し動作完了(XY
ORL
ANL
OUT M1445                ; 給材ｽﾗｲﾀﾞ_不要ﾜｰｸ有異常
LD M1052                 ; 1-1_S52_ﾜｰｸ供給要求
MPS
AND M3316                ; 搬送_投入ｽﾗｲﾀﾞへﾜｰｸ供給開始
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1440                ; 搬送へﾜｰｸ供給要求(NG受取)
LD M1053                 ; 1-1_S53_ﾜｰｸ受取り完了待ち
LD M3317                 ; 搬送_ﾜｰｸ供給完了
OR M1441                 ; ﾜｰｸ供給完了受取り
ANL
MPS
LDB M3316                ; 搬送_投入ｽﾗｲﾀﾞへﾜｰｸ供給開始
ANB M3317                ; 搬送_ﾜｰｸ供給完了
ANL
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1441                ; ﾜｰｸ供給完了受取り
LD M1054                 ; 1-1_S54
LD L309                  ; 搬送高さ移動完了(HIGH)
OR L308                  ; 搬送高さ移動完了(MIDLE)
ANL
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
LD T103                  ; ﾜｰｸ受渡し部ﾜｰｸ有確認(ON=有)
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
LDB T103                 ; ﾜｰｸ受渡し部ﾜｰｸ有確認(ON=有)
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
OUT M1446                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受取り異常
LD M1055                 ; 1-1_S55_
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND M1242                ; RB1位置決めSub起動条件
MPS
MOV K1 D1024             ; RB1_移動先POS_NO.
MPP
AND= K1 D1024            ; RB1_移動先POS_NO.
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1056                 ; 1-1_S56_ﾜｰｸ除材待ち
AND M1244                ; RB1位置決めSub起動中
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1057                 ; 1-1_S57_
ANB M1244                ; RB1位置決めSub起動中
AND M1471                ; RB1_ﾜｰｸ投入位置(待機位置)
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
AND= D1208 K0            ; 投入部_日常点検品(1=点検/0=通常)
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
LD= D1208 K1             ; 投入部_日常点検品(1=点検/0=通常)
AND T105                 ; 給材部ﾜｰｸ無し確認
ANL
MOV K60 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S58_NG品排出処理
LD M1058                 ; 1-1_S58_NG品処理Sub開始
AND M1234                ; NG品処理Sub起動中
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1059                 ; 1-1_S59_
AND M1303                ; NG品処理完了ﾌﾗｸﾞ
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
LD M1060                 ; 1-1_S60_NG品処理完了ﾌﾗｸﾞOFF
ANB M1303                ; NG品処理完了ﾌﾗｸﾞ
ANB M1234                ; NG品処理Sub起動中
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
@FMOV K0 D1200 K100      ; 投入部_INDEX NO.
LD M1061                 ; 1-1_S61
MPS
LD W01.9                 ; NG排出製品ﾃﾞｰﾀｸﾘｱ完了
OR M35                   ; 空運転ﾓｰﾄﾞ
OR M3                    ; OFFLINE_MODE
ANL
INC D1000                ; 1-1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1311                ; NG品ﾃﾞｰﾀｸﾘｱ要求(OKと共通)
LD M1062                 ; 1-1_S62
MOV K63 D1000            ; 1-1自動運転ｽﾃｯﾌﾟ
;<h1/>◇_ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2状態・動作条件(補助)
LD CR2002                ; 常時ON
OUT M1150                ; BCR原点
LDB CR2003               ; 常時OFF
INV
OUT M1151                ; BCR異常
LD M1150                 ; BCR原点
ANB M1154                ; BCR起動中
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND M300                 ; PC通信正常
ANB W01.0                ; ｽｷｬﾅ読込完了
ANB W01.2                ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
OUT M1152                ; BCR起動条件
LDB M50                  ; 運転準備
OR B029                  ; B029_042)投入部ﾜｰｸ浮き異常
OR M1486                 ; ﾕﾆｯﾄ1ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M1153                ; BCR起動OFF
LD M1400                 ; ﾊﾞｰｺｰﾄﾞ読み取り要求FLG
AND M1152                ; BCR起動条件
OR M1154                 ; BCR起動中
ANB M1153                ; BCR起動OFF
ANB M1143                ; U1-2_S63 STEPEND
OUT M1154                ; BCR起動中
;ﾕﾆｯﾄ1-2ｻｲｸﾙ停止異常
LDB CR2003               ; 常時OFF
INV
OUT M1155                ; BCRｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-2ｴﾗｰ発生まとめ
LDB CR2003               ; 常時OFF
INV
OUT M1156                ; BCRｴﾗｰ発生
;ﾕﾆｯﾄ1-2停止判定
LD= D1001 D1006          ; BCR 自動運転ｽﾃｯﾌﾟ  BCR動作中判定
ORB M1154                ; BCR起動中
TMR K111 K20             ; ﾕﾆｯﾄ1-2動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D1001 D1006          ; BCR 自動運転ｽﾃｯﾌﾟ  BCR動作中判定
LD T111                  ; ﾕﾆｯﾄ1-2動作無し判定ﾀｲﾏ
LD CR2003                ; 常時OFF
AND M31                  ; 手動ﾓｰﾄﾞ
ORL
OUT M1157                ; BCR動作無し
;□
;□　ﾕﾆｯﾄ1-2ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M1080 K4         ; U1-2_S0
LDB M1154                ; BCR起動中
MOV K0 D1001             ; BCR 自動運転ｽﾃｯﾌﾟ
LD M1154                 ; BCR起動中
MOV D1001 Z1             ; BCR 自動運転ｽﾃｯﾌﾟ
SET M1080:Z1             ; U1-2_S0
@ZRES M1402 M1406        ; ﾊﾞｰｺｰﾄﾞ読取_正常終了  ID異常時段取り替え選択
;　　条件分岐
LD M1080                 ; U1-2_S0
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
ANB W0101.0              ; ｽｷｬﾅ読取要求
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
LD M1081                 ; U1-2_S1
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
LD M1082                 ; U1-2_S2
ANB W01.0                ; ｽｷｬﾅ読込完了
ANB W01.2                ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
ANB M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
ANB M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
;　　ｺｰﾄﾞﾘｰﾀﾞｰへﾄﾘｶﾞｰ発信
LD M1083                 ; U1-2_S3_ｽｷｬﾅ読取要求
LD W01.0                 ; ｽｷｬﾅ読込完了
OR W01.2                 ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
OR M35                   ; 空運転ﾓｰﾄﾞ
OR M3                    ; OFFLINE_MODE
ANL
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
LD M1083                 ; U1-2_S3_ｽｷｬﾅ読取要求
OR W0101.0               ; ｽｷｬﾅ読取要求
AND M1154                ; BCR起動中
ANB M3                   ; OFFLINE_MODE
ANB M35                  ; 空運転ﾓｰﾄﾞ
OUT W0101.0              ; ｽｷｬﾅ読取要求
LD M1084                 ; U1-2_S4
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
LD M1085                 ; U1-2_S5
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
;<h1/>__S6_受取りﾃﾞｰﾀ格納
;投入RBＮＯをいれる
;
LD M1086                 ; U1-2_S6_読込みﾃﾞｰﾀ格納
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
MPS
LD M3                    ; OFFLINE_MODE
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
@MOV D1050 D502          ; 投入部JIG_ID  【OFFﾗｲﾝ】自動_JIG_NO.指定
@MOV D502 W020           ; 【OFFﾗｲﾝ】自動_JIG_NO.指定  投入ﾊﾟﾚｯﾄID
@MOV D502 W021           ; 【OFFﾗｲﾝ】自動_JIG_NO.指定  投入搬送ﾛﾎﾞｯﾄNo.
@MOV K0 W022             ; PA検査SKIP（0：検査／1：SKIP）
@MOV D502 W023           ; 【OFFﾗｲﾝ】自動_JIG_NO.指定  PA検査No.
@MOV D502 W024           ; 【OFFﾗｲﾝ】自動_JIG_NO.指定  PCB搬送ﾛﾎﾞｯﾄNo.
@MOV K0 W025             ; FBT検査SKIP（0：検査／1：SKIP）
@MOV D502 W026           ; 【OFFﾗｲﾝ】自動_JIG_NO.指定  FBT検査ﾊﾟﾚｯﾄID
@MOV D502 W027           ; 【OFFﾗｲﾝ】自動_JIG_NO.指定  FBT検査ﾃｽﾄﾍｯﾄﾞID
@MOV D502 W028           ; 【OFFﾗｲﾝ】自動_JIG_NO.指定  FBT検査ｽﾃｰｼﾞｺﾝﾀｸﾄﾛﾎﾞｯﾄNo.
@MOV D502 W029           ; 【OFFﾗｲﾝ】自動_JIG_NO.指定  ASSY装置投入CV幅ID
MRD
AND W06.0                ; PA検査ﾃﾞﾊﾞｯｸﾞﾓｰﾄﾞ
@MOV K1 W022             ; PA検査SKIP（0：検査／1：SKIP）
MRD
BMOV W020 D1210 K16      ; 投入ﾊﾟﾚｯﾄID  投入部_投入ﾊﾟﾚｯﾄID
MRD
AND W01.6                ; 電気特性検査再投入品
MOV K1 D1206             ; 投入部_再検査品ﾌﾗｸﾞ(ON=再検査)
MPS
AND= W030 K6             ; 電気特性検査再投入ステージ
MOV K3 D1205             ; 投入部_再検査品st
MRD
AND= W030 K5             ; 電気特性検査再投入ステージ
MOV K2 D1205             ; 投入部_再検査品st
MPP
AND= W030 K4             ; 電気特性検査再投入ステージ
MOV K1 D1205             ; 投入部_再検査品st
MRD
ANB W01.6                ; 電気特性検査再投入品
MOV K0 D1206             ; 投入部_再検査品ﾌﾗｸﾞ(ON=再検査)
MOV K0 D1205             ; 投入部_再検査品st
MRD
LDB W01.1                ; 基板投入不可
ANB W01.2                ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
ANL
SET M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
CON
RES M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
MPP
LD W01.1                 ; 基板投入不可
OR W01.2                 ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
ANL
SET M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
CON
RES M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
;　ﾊﾞｰｺｰﾄﾞ読取結果NGならｻｲｸﾙ停止
LD M1087                 ; U1-2_S7_読取ﾄﾘｶﾞｰOFF指令
MPS
AND M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
MPP
AND M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
MOV K30 D1001            ; BCR 自動運転ｽﾃｯﾌﾟ
;<h1/>__S8_基板投入可能処理
LD M1088                 ; U1-2_S8
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
MPS
@INC D1200               ; 投入部_INDEX NO.
MPP
AND> D1200 K10           ; 投入部_INDEX NO.
DW K1 D1200              ; 投入部_INDEX NO.
LD M1089                 ; U1-2_S9_
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
LD M1090                 ; U1-2_S10_
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
;<h1/>__S11_IDﾁｪｯｸ
LD M1091                 ; U1-2_S11_ｽﾃｰｼﾞ有効確認
MPS
LD L1200                 ; FBTST1_有効状態
LD= D1205 K0             ; 投入部_再検査品st
OR= D1205 K1             ; 投入部_再検査品st
AND= D1216 D6601         ; 投入部_FBT検査ﾊﾟﾚｯﾄID  FBTST1_ﾊﾟﾚｯﾄID
AND= D1217 D6600         ; 投入部_FBT検査ﾃｽﾄﾍｯﾄﾞID  FBTST1_ｺﾝﾀｸﾄﾍｯﾄﾞID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
LD L1400                 ; FBTST2_有効状態
LD= D1205 K0             ; 投入部_再検査品st
OR= D1205 K2             ; 投入部_再検査品st
AND= D1216 D7601         ; 投入部_FBT検査ﾊﾟﾚｯﾄID  FBTST2_ﾊﾟﾚｯﾄID
AND= D1217 D7600         ; 投入部_FBT検査ﾃｽﾄﾍｯﾄﾞID  FBTST2_ｺﾝﾀｸﾄﾍｯﾄﾞID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
ORL
LD L1600                 ; FBTST3_有効状態
LD= D1205 K0             ; 投入部_再検査品st
OR= D1205 K3             ; 投入部_再検査品st
AND= D1216 D8601         ; 投入部_FBT検査ﾊﾟﾚｯﾄID  FBTST3_ﾊﾟﾚｯﾄID
AND= D1217 D8600         ; 投入部_FBT検査ﾃｽﾄﾍｯﾄﾞID  FBTST3_ｺﾝﾀｸﾄﾍｯﾄﾞID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
ORL
OR M170                  ; 日常点検中
ANL
OUT M1421                ; ST受入れ準備OK
MRD
ANB M1421                ; ST受入れ準備OK
OUT M1420                ; ST受入れ準備NG
MPP
LD M1421                 ; ST受入れ準備OK
ANB B025                 ; B025_038)ID一致無し
ANL
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
LD M1092                 ; U1-2_S12
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
LD M1093                 ; U1-2_S13
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
LD M1094                 ; U1-2_S14
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
;　　FBTｽｷｯﾌﾟ分岐待ち
LD M1095                 ; U1-2_S15_FBTｽｷｯﾌﾟ有無分岐
MPS
AND= D1215 K1            ; 投入部_FBT検査SKIP(1：ｽｷｯﾌﾟ)
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
MPP
AND= D1215 K0            ; 投入部_FBT検査SKIP(1：ｽｷｯﾌﾟ)
MOV K63 D1001            ; BCR 自動運転ｽﾃｯﾌﾟ
LDB D1701.0
OR M3104                 ; ﾊﾝﾄﾞ1_OK品(FBTskip品も含む)
LDB D1801.0
OR M3154                 ; ﾊﾝﾄﾞ2_OK品(FBTskip品も含む)
ANL
ANB D6701.0
ANB D7701.0
ANB D8701.0
OUT M1423                ; 装置内ﾜｰｸ無し確認
LD M1096                 ; U1-2_S16_装置内ﾜｰｸ搬出待ち
MPS
LDB M3105                ; ﾊﾝﾄﾞ1_NG品
ANB M3155                ; ﾊﾝﾄﾞ2_NG品
ANL
MPS
AND M1423                ; 装置内ﾜｰｸ無し確認
MOV K63 D1001            ; BCR 自動運転ｽﾃｯﾌﾟ
MPP
ANB M1423                ; 装置内ﾜｰｸ無し確認
OUT W0103.14             ; FBT SKIP品投入待機ダイアログ指示
MPP
LD M3105                 ; ﾊﾝﾄﾞ1_NG品
OR M3155                 ; ﾊﾝﾄﾞ2_NG品
ANL
MOV K17 D1001            ; BCR 自動運転ｽﾃｯﾌﾟ
LD M1097                 ; U1-2_S17_ｽｷｯﾌﾟ品取出し要求ON
LD M1424                 ; ｽｷｯﾌﾟ品取出し要求Flg
ORB M1074                ; ﾕﾆｯﾄ1-1起動中
ANL
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
LD M1097                 ; U1-2_S17_ｽｷｯﾌﾟ品取出し要求ON
OR M1424                 ; ｽｷｯﾌﾟ品取出し要求Flg
AND M1074                ; ﾕﾆｯﾄ1-1起動中
OUT M1424                ; ｽｷｯﾌﾟ品取出し要求Flg
LD M1098                 ; U1-2_S18
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
LD M1099                 ; U1-2_S19
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
LD M1100                 ; U1-2_S20
MOV K63 D1001            ; BCR 自動運転ｽﾃｯﾌﾟ
;<h1/>__S30_読取_ID_NG
;　　ﾀﾞｲｱﾛｸﾞ要求有無ﾁｪｯｸ
LD M1110                 ; U1-2_S30_ID読取_NG処理
MPS
AND W01.2                ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
MPP
ANB W01.2                ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
MOV K63 D1001            ; BCR 自動運転ｽﾃｯﾌﾟ
LD M1111                 ; U1-2_S31
MPS
LD M1404                 ; ID異常時ｻｲｸﾙ停止選択
OR M1405                 ; ID異常時取出し選択
OR M1406                 ; ID異常時段取り替え選択
ANL
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
MRD
LDP B1020                ; REMOVE取り出し選択_Tws
ANB B1021                ; JIG_CHANGE段取り替え選択_Tws
ANB B1022                ; Cycle Stopｻｲｸﾙ停止選択_Tws
ANL
RES M1404                ; ID異常時ｻｲｸﾙ停止選択
CON
SET M1405                ; ID異常時取出し選択
CON
RES M1406                ; ID異常時段取り替え選択
MRD
LDP B1021                ; JIG_CHANGE段取り替え選択_Tws
ANB B1020                ; REMOVE取り出し選択_Tws
ANB B1022                ; Cycle Stopｻｲｸﾙ停止選択_Tws
ANL
RES M1404                ; ID異常時ｻｲｸﾙ停止選択
CON
RES M1405                ; ID異常時取出し選択
CON
SET M1406                ; ID異常時段取り替え選択
MRD
LDP B1022                ; Cycle Stopｻｲｸﾙ停止選択_Tws
ANB B1020                ; REMOVE取り出し選択_Tws
ANB B1021                ; JIG_CHANGE段取り替え選択_Tws
ANL
RES M1405                ; ID異常時取出し選択
CON
SET M1404                ; ID異常時ｻｲｸﾙ停止選択
CON
RES M1406                ; ID異常時段取り替え選択
MPP
OUT B151F                ; ID異常_選択Window_Open
;　　段取り時以外はここで終了
LD M1112                 ; U1-2_S32_ID読取_NG_処理選択完了
MPS
ANB M1406                ; ID異常時段取り替え選択
MOV K63 D1001            ; BCR 自動運転ｽﾃｯﾌﾟ
MPP
AND M1406                ; ID異常時段取り替え選択
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
;　　段取り処理
LDB L1200                ; FBTST1_有効状態
ANB L1400                ; FBTST2_有効状態
ANB L1600                ; FBTST3_有効状態
INV
OUT M1419                ; ｽﾃｰｼﾞ有効確認
LD M1113                 ; U1-2_S33
MPS
ANB M1419                ; ｽﾃｰｼﾞ有効確認
INC D1001                ; BCR 自動運転ｽﾃｯﾌﾟ
MPP
AND W01.0                ; ｽｷｬﾅ読込完了
MOV K6 D1001             ; BCR 自動運転ｽﾃｯﾌﾟ
LD M1114                 ; U1-2_S34
AND M1419                ; ｽﾃｰｼﾞ有効確認
AND W01.0                ; ｽｷｬﾅ読込完了
MOV K6 D1001             ; BCR 自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND CR2003               ; 常時OFF
MOV K62 D1001            ; BCR 自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
LD M1142                 ; U1-2_S62
MOV K63 D1001            ; BCR 自動運転ｽﾃｯﾌﾟ
;<h1/>◇_NGﾎﾞｯｸｽ処理_ﾕﾆｯﾄ1-3状態・動作条件(補助)
LD CR2002                ; 常時ON
OUT M1230                ; NG品処理Sub原点
LDB CR2003               ; 常時OFF
INV
OUT M1231                ; NG品処理Sub全異常
LD M1230                 ; NG品処理Sub原点
ANB M1234                ; NG品処理Sub起動中
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
OUT M1232                ; NG品処理Sub起動条件
LDB M50                  ; 運転準備
OR M1486                 ; ﾕﾆｯﾄ1ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M1233                ; NG品処理Sub起動OFF
LD M1058                 ; 1-1_S58_NG品処理Sub開始
AND M1232                ; NG品処理Sub起動条件
OR M1234                 ; NG品処理Sub起動中
AND M1074                ; ﾕﾆｯﾄ1-1起動中
ANB M1233                ; NG品処理Sub起動OFF
ANB M1175                ; NG_15_StepEND
OUT M1234                ; NG品処理Sub起動中
;ﾕﾆｯﾄ1-3ｻｲｸﾙ停止異常
LDB CR2003               ; 常時OFF
INV
OUT M1235                ; NG品処理Subｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-3ｴﾗｰ発生まとめ
LDB CR2003               ; 常時OFF
INV
OUT M1236                ; NG品処理Subｴﾗｰ発生
;ﾕﾆｯﾄ1-3停止判定
LD= D1002 D1007          ; NGBOX 自動運転ｽﾃｯﾌﾟ  NG BOX動作中判定
TMR K112 K20             ; 除材部動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D1002 D1007          ; NGBOX 自動運転ｽﾃｯﾌﾟ  NG BOX動作中判定
LD T112                  ; 除材部動作無し判定ﾀｲﾏ
ORB M1234                ; NG品処理Sub起動中
OUT M1237                ; NG品処理Sub動作無し
;□
;□　ﾕﾆｯﾄ1-3自動運転ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M1160 K1         ; NG_00_NGﾎﾞｯｸｽﾜｰｸ置き警報
LDB M1234                ; NG品処理Sub起動中
MOV K0 D1002             ; NGBOX 自動運転ｽﾃｯﾌﾟ
LD M1234                 ; NG品処理Sub起動中
MOV D1002 Z1             ; NGBOX 自動運転ｽﾃｯﾌﾟ
SET M1160:Z1             ; NG_00_NGﾎﾞｯｸｽﾜｰｸ置き警報
;ﾜｰｸ有無判定
LD M1160                 ; NG_00_NGﾎﾞｯｸｽﾜｰｸ置き警報
AND B02C                 ; B02C_045)NGﾜｰｸ処理警報
INC D1002                ; NGBOX 自動運転ｽﾃｯﾌﾟ
LD M1160                 ; NG_00_NGﾎﾞｯｸｽﾜｰｸ置き警報
OR M1302                 ; NGﾎﾞｯｸｽﾋﾟｯｷﾝｸﾞﾗﾝﾌﾟ点灯指令
AND M1234                ; NG品処理Sub起動中
OUT M1302                ; NGﾎﾞｯｸｽﾋﾟｯｷﾝｸﾞﾗﾝﾌﾟ点灯指令
LD M1161                 ; NG_01_NGﾎﾞｯｸｽﾜｰｸ置き警報
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
AND T105                 ; 給材部ﾜｰｸ無し確認
AND T104                 ; NGﾎﾞｯｸｽﾜｰｸ有検知
ANB B02C                 ; B02C_045)NGﾜｰｸ処理警報
INC D1002                ; NGBOX 自動運転ｽﾃｯﾌﾟ
LD M1162                 ; NG_02_NG品取り出し確認
LDB T104                 ; NGﾎﾞｯｸｽﾜｰｸ有検知
OR CR2002                ; 常時ON
ANL
ANB B02C                 ; B02C_045)NGﾜｰｸ処理警報
INC D1002                ; NGBOX 自動運転ｽﾃｯﾌﾟ
LD M1163                 ; NG_03_NG品処理完了
AND M1303                ; NG品処理完了ﾌﾗｸﾞ
INC D1002                ; NGBOX 自動運転ｽﾃｯﾌﾟ
LD M1163                 ; NG_03_NG品処理完了
LD M1303                 ; NG品処理完了ﾌﾗｸﾞ
ANB M1060                ; 1-1_S60_NG品処理完了ﾌﾗｸﾞOFF
ORL
AND M1234                ; NG品処理Sub起動中
OUT M1303                ; NG品処理完了ﾌﾗｸﾞ
LD M1164                 ; NG_04_
ANB M1303                ; NG品処理完了ﾌﾗｸﾞ
INC D1002                ; NGBOX 自動運転ｽﾃｯﾌﾟ
LD M1165                 ; NG_05_
MOV K15 D1002            ; NGBOX 自動運転ｽﾃｯﾌﾟ
;<h1/>□_UNIT_1_原点復帰回路
LD CR2002                ; 常時ON
FMOV K0 M1250 K3         ; STEP0
LDB M1484                ; ﾕﾆｯﾄ1原点復帰中
MOV K0 D1010             ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1484                 ; ﾕﾆｯﾄ1原点復帰中
MOV D1010 Z1             ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
SET M1250:Z1             ; STEP0
;原点復帰ｻｲｸﾙ監視
LD M1484                 ; ﾕﾆｯﾄ1原点復帰中
ANB X100C                ; RB1 #01_RX00C_運転実行中
TMR K100 K200            ; ﾕﾆｯﾄ1原点復帰ﾀｲﾑｱｳﾄ
;原点復帰ステップ開始
LD M1250                 ; STEP0
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;搬送部原点復帰待ち
LD M1251                 ; STEP1
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND L309                 ; 搬送高さ移動完了(HIGH)
MPS
AND X1202                ; 給材部ｽﾗｲﾀﾞｰ上ﾜｰｸ確認(ON:有)
MOV K8 D1010             ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
ANB X1202                ; 給材部ｽﾗｲﾀﾞｰ上ﾜｰｸ確認(ON:有)
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1252                 ; STEP2
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
AND X100B                ; RB1 #01_RX00B_ORG原点復帰完了状
MOV K4 D1010             ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
ANB X100B                ; RB1 #01_RX00B_ORG原点復帰完了状
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1253                 ; STEP3_搬送ｽﾗｲﾀ原点復帰指令
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND Y200B                ; #01_RY00B_原点復帰
AND X100B                ; RB1 #01_RX00B_ORG原点復帰完了状
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1254                 ; STEP4
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND M1242                ; RB1位置決めSub起動条件
MPS
MOV K1 D1024             ; RB1_移動先POS_NO.
MPP
AND= K1 D1024            ; RB1_移動先POS_NO.
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1255                 ; STEP5_待機位置移動指令
AND M1244                ; RB1位置決めSub起動中
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1256                 ; STEP6
ANB M1244                ; RB1位置決めSub起動中
AND M1471                ; RB1_ﾜｰｸ投入位置(待機位置)
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;　　ﾜｰｸﾁｪｯｸ
LD M1257                 ; STEP7
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND M1471                ; RB1_ﾜｰｸ投入位置(待機位置)
MPS
ANB X1200                ; 給材部ﾜｰｸ有確認(ON:有)
MOV K10 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
AND X1200                ; 給材部ﾜｰｸ有確認(ON:有)
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;　　ﾜｰｸ除去要求
LD M1258                 ; STEP8_給材部ﾜｰｸ除去要求
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND B0321                ; B321_802)投入部ﾜｰｸ除去要求
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1259                 ; STEP9
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
ANB B0321                ; B321_802)投入部ﾜｰｸ除去要求
MOV K47 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;NGﾎﾞｯｸｽ確認
LD M1260                 ; STEP10
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
AND T107                 ; NGﾎﾞｯｸｽﾜｰｸ無
MOV K45 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
ANB T107                 ; NGﾎﾞｯｸｽﾜｰｸ無
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1261                 ; STEP11_NGﾎﾞｯｸｽﾜｰｸ置き警報
AND B052                 ; B052_083)NGﾎﾞｯｸｽﾜｰｸ除去警告
MOV K47 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;原点復帰終了
LD M1295                 ; STEP45
AND M1480                ; ﾕﾆｯﾄ1原点
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
FMOV K0 D1200 K100       ; 投入部_INDEX NO.
LD M1296                 ; STEP46
ANB M82                  ; 原点復帰開始
MOV K47 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;<h1/>□_UNIT_1_手動回路
;　　ｲﾝﾀｰﾛｯｸ
LDB L205                 ; Y_待機位置
ANB L209                 ; XY_待機位置
ANB L231                 ; XY_FBTST1先行動作位置
ANB L232                 ; XY_FBTST2先行動作位置
ANB L233                 ; XY_FBTST3先行動作位置
ANB L261                 ; ﾊﾝﾄﾞ1st1部ﾜｰｸ受取り動作完了
ANB L262                 ; ﾊﾝﾄﾞ1st1部ﾜｰｸ受渡し動作完了
ANB L265                 ; ﾊﾝﾄﾞ2st1部ﾜｰｸ受取り動作完了
ANB L266                 ; ﾊﾝﾄﾞ2st1部ﾜｰｸ受渡し動作完了
ANB L271                 ; ﾊﾝﾄﾞ1st2部ﾜｰｸ受取り動作完了
ANB L272                 ; ﾊﾝﾄﾞ1st2部ﾜｰｸ受渡し動作完了
ANB L275                 ; ﾊﾝﾄﾞ2st2部ﾜｰｸ受取り動作完了
ANB L276                 ; ﾊﾝﾄﾞ2st2部ﾜｰｸ受渡し動作完了
ANB L281                 ; ﾊﾝﾄﾞ1st3部ﾜｰｸ受取り動作完了
ANB L282                 ; ﾊﾝﾄﾞ1st3部ﾜｰｸ受渡し動作完了
ANB L285                 ; ﾊﾝﾄﾞ2st3部ﾜｰｸ受取り動作完了
ANB L286                 ; ﾊﾝﾄﾞ2st3部ﾜｰｸ受渡し動作完了
ANB L291                 ; ﾊﾝﾄﾞ1OKｺﾝﾍﾞﾔ部ﾜｰｸ受渡し動作完了
ANB L295                 ; ﾊﾝﾄﾞ2OKｺﾝﾍﾞﾔ部ﾜｰｸ受渡し動作完了
INV
OUT M1329                ; 搬送RB_投入ｽﾗｲﾀﾞ部にいない
LD X100B                 ; RB1 #01_RX00B_ORG原点復帰完了状
LD X100D                 ; RB1 #01_RX00D_運転完了
ORB X100C                ; RB1 #01_RX00C_運転実行中
ANL
LD L309                  ; 搬送高さ移動完了(HIGH)
OR L307                  ; ﾜｰｸ入替高さ移動完了(LOW)
OR L308                  ; 搬送高さ移動完了(MIDLE)
OR M1329                 ; 搬送RB_投入ｽﾗｲﾀﾞ部にいない
ANL
ANB M1330                ; 供給ｽﾗｲﾀﾞﾜｰｸ投入(待機)位置指令
ANB M1331                ; 供給ｽﾗｲﾀﾞ_BCR位置移動指令
ANB M1332                ; 供給ｽﾗｲﾀﾞ_CP検査位置移動指令
ANB M1333                ; 供給ｽﾗｲﾀﾞ_PA検査位置移動指令
ANB M1334                ; 供給ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動指令
MPS
OUT M1320                ; 供給ｽﾗｲﾀﾞﾜｰｸ投入(待機)位置移動OK
MPP
LD M1471                 ; RB1_ﾜｰｸ投入位置(待機位置)
LD T101                  ; 給材部ﾜｰｸ有確認(ON=有)
AND T102                 ; 給材部ﾜｰｸ浮き確認(ON=OK)
AND X1202                ; 給材部ｽﾗｲﾀﾞｰ上ﾜｰｸ確認(ON:有)
LDB T101                 ; 給材部ﾜｰｸ有確認(ON=有)
ANB X1202                ; 給材部ｽﾗｲﾀﾞｰ上ﾜｰｸ確認(ON:有)
ORL
ANL
ORB M1471                ; RB1_ﾜｰｸ投入位置(待機位置)
ANL
OUT M1321                ; 供給ｽﾗｲﾀﾞ_BCR位置移動OK
OUT M1322                ; 供給ｽﾗｲﾀﾞ_CP検査位置移動OK
OUT M1323                ; 供給ｽﾗｲﾀﾞ_PA検査位置移動OK
OUT M1324                ; 供給ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動OK
LD M31                   ; 手動ﾓｰﾄﾞ
LD T60                   ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M32                  ; ﾒｲﾝ手動操作可能条件
OR CR2002                ; 常時ON
ANL
ANB M1485                ; ﾕﾆｯﾄ1起動中
ANB M1484                ; ﾕﾆｯﾄ1原点復帰中
MC
LDP B1080                ; 供給ｽﾗｲﾀﾞ_ﾜｰｸ投入(待機)位置TPSW
AND M1320                ; 供給ｽﾗｲﾀﾞﾜｰｸ投入(待機)位置移動OK
OR M1330                 ; 供給ｽﾗｲﾀﾞﾜｰｸ投入(待機)位置指令
ANB M1247                ; RB1位置決め動作完了
OUT M1330                ; 供給ｽﾗｲﾀﾞﾜｰｸ投入(待機)位置指令
@MOV K1 D1024            ; RB1_移動先POS_NO.
LDP B1081                ; 供給ｽﾗｲﾀﾞ_BCR位置TPSW
AND M1321                ; 供給ｽﾗｲﾀﾞ_BCR位置移動OK
OR M1331                 ; 供給ｽﾗｲﾀﾞ_BCR位置移動指令
ANB M1247                ; RB1位置決め動作完了
OUT M1331                ; 供給ｽﾗｲﾀﾞ_BCR位置移動指令
@MOV K2 D1024            ; RB1_移動先POS_NO.
LDP B1082                ; 供給ｽﾗｲﾀﾞ_CP検査位置TPSW
AND M1322                ; 供給ｽﾗｲﾀﾞ_CP検査位置移動OK
OR M1332                 ; 供給ｽﾗｲﾀﾞ_CP検査位置移動指令
ANB M1247                ; RB1位置決め動作完了
OUT M1332                ; 供給ｽﾗｲﾀﾞ_CP検査位置移動指令
@MOV D1031 D1024         ; RB1_CP検査位置POS指定  RB1_移動先POS_NO.
LDP B1083                ; 供給ｽﾗｲﾀﾞ_PA検査位置TPSW
AND M1323                ; 供給ｽﾗｲﾀﾞ_PA検査位置移動OK
OR M1333                 ; 供給ｽﾗｲﾀﾞ_PA検査位置移動指令
ANB M1247                ; RB1位置決め動作完了
OUT M1333                ; 供給ｽﾗｲﾀﾞ_PA検査位置移動指令
@MOV D1030 D1024         ; RB1_PAﾃｰﾌﾟ検査位置POS指定  RB1_移動先POS_NO.
LDP B1084                ; 供給ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置TPSW
AND M1324                ; 供給ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動OK
OR M1334                 ; 供給ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動指令
ANB M1247                ; RB1位置決め動作完了
OUT M1334                ; 供給ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動指令
@MOV K3 D1024            ; RB1_移動先POS_NO.
;PA検査
LD M1474                 ; RB1_PAﾃｰﾌﾟ検査位置
OR M1475                 ; RB1_CP検査位置
AND B2015                ; IV Series[1]ﾚﾃﾞｨ
ANB M1370                ; PA_Tape検査SUB起動
OUT M1340                ; PA検査OK
LDP B1085                ; PAﾃｰﾌﾟ検査開始TPSW
AND M1340                ; PA検査OK
OR M1341                 ; 【手動】PAﾃｰﾌﾟ検査開始指令
ANB M1395                ; PA検査STEPEND
OUT M1341                ; 【手動】PAﾃｰﾌﾟ検査開始指令
@MOV D1102 D1100         ; 手動_PAﾃｰﾌﾟ検査NO.  PAﾃｰﾌﾟ検査NO.
MCR
;<h1/>□_RB1位置決めSub
LD X100B                 ; RB1 #01_RX00B_ORG原点復帰完了状
AND X100D                ; RB1 #01_RX00D_運転完了
MPS
AND X1000                ; #01_RX000_完了位置_1
OUT D1028.0              ; RB1_完了POS1
MRD
AND X1001                ; RB1 #01_RX001_完了位置_2
OUT D1028.1              ; RB1_完了POS2
MRD
AND X1002                ; RB1 #01_RX002_完了位置_3
OUT D1028.2              ; RB1_完了POS4
MRD
AND X1003                ; RB1 #01_RX003_完了位置_4
OUT D1028.3              ; RB1_完了POS8
MRD
AND X1004                ; RB1 #01_RX004_完了位置_5
OUT D1028.4              ; RB1_完了POS16
MRD
AND X1005                ; RB1 #01_RX005_完了位置_6
OUT D1028.5              ; RB1_完了POS32
MRD
AND X1006                ; RB1 #01_RX006_完了位置_7
OUT D1028.6              ; RB1_完了POS64
MPP
INV
MOV K0 D1028             ; RB1_完了POS
;'RB1 POS MANUAL JIG SETTING
;IF D500 < K1 THEN
;   D500 = K1
;END IF
;D1030 = D500 + 50	'PA TAPE
;D1031 = D500 + 10	'CP CHEAK
LD M31                   ; 手動ﾓｰﾄﾞ
NCJ K1000
;'RB1 POS MANUAL JIG SETTING
;
;IF D500 < K1 THEN
;
LD< D500 K1              ; 手動_JIG_NO.指定
NCJ K2000
;   D500 = K1
;
LD CR2002                ; 常時ON
MOV K1 D500              ; 手動_JIG_NO.指定
;END IF
;
LABEL K2000
;D1030 = D500 + 50	'PA TAPE
;
LD CR2002                ; 常時ON
LDA D500                 ; 手動_JIG_NO.指定
CON
EXT
CON
ADD.L +50
CON
STA D1030                ; RB1_PAﾃｰﾌﾟ検査位置POS指定
;D1031 = D500 + 10	'CP CHEAK
LD CR2002                ; 常時ON
LDA D500                 ; 手動_JIG_NO.指定
CON
EXT
CON
ADD.L +10
CON
STA D1031                ; RB1_CP検査位置POS指定
LABEL K1000
;
;'RB1 POS AUTO JIG SETTING
;D1030 = D1211 + 50 	'PA TAPE
;D1031 = D1211 + 10	'CP CHEAK
LD M30                   ; 自動ﾓｰﾄﾞ
NCJ K1001
;'RB1 POS AUTO JIG SETTING
;
;D1030 = D1211 + 50 	'PA TAPE
;
LD CR2002                ; 常時ON
LDA D1211                ; 投入部_投入搬送ﾛﾎﾞｯﾄNo.
CON
EXT
CON
ADD.L +50
CON
STA D1030                ; RB1_PAﾃｰﾌﾟ検査位置POS指定
;D1031 = D1211 + 10	'CP CHEAK
LD CR2002                ; 常時ON
LDA D1211                ; 投入部_投入搬送ﾛﾎﾞｯﾄNo.
CON
EXT
CON
ADD.L +10
CON
STA D1031                ; RB1_CP検査位置POS指定
LABEL K1001
;
LD X100B                 ; RB1 #01_RX00B_ORG原点復帰完了状
AND X100D                ; RB1 #01_RX00D_運転完了
MPS
AND= K1 D1028            ; RB1_完了POS
OUT M1471                ; RB1_ﾜｰｸ投入位置(待機位置)
MRD
AND= K2 D1028            ; RB1_完了POS
OUT M1472                ; RB1_BCR読取位置
MRD
AND= K3 D1028            ; RB1_完了POS
OUT M1473                ; RB1_ﾜｰｸ受渡し位置
MRD
AND= D1030 D1028         ; RB1_PAﾃｰﾌﾟ検査位置POS指定  RB1_完了POS
OUT M1474                ; RB1_PAﾃｰﾌﾟ検査位置
MPP
AND= D1031 D1028         ; RB1_CP検査位置POS指定  RB1_完了POS
OUT M1475                ; RB1_CP検査位置
LD Y200C                 ; #01_RY00C_ｲﾝﾀｰﾛｯｸ
AND X100B                ; RB1 #01_RX00B_ORG原点復帰完了状
LDB X100C                ; RB1 #01_RX00C_運転実行中
OR X100D                 ; RB1 #01_RX00D_運転完了
ANL
AND X100E                ; RB1 #01_RX00E_ALM
AND X100F                ; RB1 #01_RX00F_SAVO状態
AND X101B                ; RB1 #01_RX01B_REMOTO READY
OUT M1240                ; RB1_状態OK
LD M50                   ; 運転準備
ANB M51                  ; 即停止異常(緊急停止)
AND M1240                ; RB1_状態OK
ANB M1244                ; RB1位置決めSub起動中
OUT M1242                ; RB1位置決めSub起動条件
LDB M1013                ; 1-1_S13_ﾊﾞｰｺｰﾄﾞ読取位置移動
ANB M1018                ; 1-1_S18_CP検査位置移動指令
ANB M1025                ; 1-1_S25_PA検査位置移動
ANB M1029                ; 1-1_S29_ﾜｰｸ受渡し部移動指令
ANB M1041                ; 1-1_S41_待機位置移動指令
ANB M1049                ; 1-1_S49_ﾜｰｸ受渡し(受取り)位置へ
ANB M1056                ; 1-1_S56_ﾜｰｸ除材待ち
ANB M1330                ; 供給ｽﾗｲﾀﾞﾜｰｸ投入(待機)位置指令
ANB M1331                ; 供給ｽﾗｲﾀﾞ_BCR位置移動指令
ANB M1332                ; 供給ｽﾗｲﾀﾞ_CP検査位置移動指令
ANB M1333                ; 供給ｽﾗｲﾀﾞ_PA検査位置移動指令
ANB M1334                ; 供給ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動指令
ANB M1255                ; STEP5_待機位置移動指令
INV
OUT M1243                ; RB1位置決め指令(まとめ)
LD M1243                 ; RB1位置決め指令(まとめ)
AND M1242                ; RB1位置決めSub起動条件
OR M1244                 ; RB1位置決めSub起動中
AND M50                  ; 運転準備
ANB M51                  ; 即停止異常(緊急停止)
ANB M1247                ; RB1位置決め動作完了
AND X100E                ; RB1 #01_RX00E_ALM
AND X100F                ; RB1 #01_RX00F_SAVO状態
AND X101B                ; RB1 #01_RX01B_REMOTO READY
ANB M1460                ; RB1位置決めSUB強制停止ﾌﾗｸﾞ
OUT M1244                ; RB1位置決めSub起動中
LD M1244                 ; RB1位置決めSub起動中
@MOV D1024 D1026         ; RB1_移動先POS_NO.  RB1_指令POS
TMH K140 K5              ; ﾃﾞｰﾀ転送ﾃﾞｨﾚｲ
LD T140                  ; ﾃﾞｰﾀ転送ﾃﾞｨﾚｲ
OR M1245                 ; RB1位置決めｽﾀｰﾄ指令ON
AND M1244                ; RB1位置決めSub起動中
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M123                 ; 安全扉正常
OUT M1245                ; RB1位置決めｽﾀｰﾄ指令ON
LD M1245                 ; RB1位置決めｽﾀｰﾄ指令ON
AND Y200D                ; #01_RY00D_スタート
AND X100C                ; RB1 #01_RX00C_運転実行中
OR M1246                 ; RB1位置決め動作中
AND M1244                ; RB1位置決めSub起動中
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M123                 ; 安全扉正常
OUT M1246                ; RB1位置決め動作中
LD M1246                 ; RB1位置決め動作中
ANB X100C                ; RB1 #01_RX00C_運転実行中
AND X100D                ; RB1 #01_RX00D_運転完了
AND= D1028 D1026         ; RB1_完了POS  RB1_指令POS
OR M1247                 ; RB1位置決め動作完了
AND M1244                ; RB1位置決めSub起動中
OUT M1247                ; RB1位置決め動作完了
;位置決めｻﾌﾞ強制終了
LDP M1448                ; RB1位置決めSUB強制終了FLG
ORP B030                 ; B030_049)投入製品検知OFF異常
OR M1460                 ; RB1位置決めSUB強制停止ﾌﾗｸﾞ
AND M50                  ; 運転準備
ANB M1461                ; RB1_位置決め強制停止完了
OUT M1460                ; RB1位置決めSUB強制停止ﾌﾗｸﾞ
LD M1460                 ; RB1位置決めSUB強制停止ﾌﾗｸﾞ
LDB X100C                ; RB1 #01_RX00C_運転実行中
OR X100D                 ; RB1 #01_RX00D_運転完了
ANL
ANB Y200C                ; #01_RY00C_ｲﾝﾀｰﾛｯｸ
ANB M1244                ; RB1位置決めSub起動中
OUT M1461                ; RB1_位置決め強制停止完了
;<h1/>□_PA Tape
LDP M1434                ; PA Tape検査ﾌﾗｸﾞ(自動CPと同時)
ORP M1435                ; PA Tape検査ﾌﾗｸﾞ
ORP M1341                ; 【手動】PAﾃｰﾌﾟ検査開始指令
ANB M1370                ; PA_Tape検査SUB起動
OR M1370                 ; PA_Tape検査SUB起動
AND M50                  ; 運転準備
ANB M1395                ; PA検査STEPEND
OUT M1370                ; PA_Tape検査SUB起動
LD CR2002                ; 常時ON
FMOV K0 M1380 K1         ; PA検査開始PCへ
LDB M1370                ; PA_Tape検査SUB起動
MOV K0 D1012             ; PATAPEｽﾃｯﾌﾟ
LD M1370                 ; PA_Tape検査SUB起動
MOV D1012 Z1             ; PATAPEｽﾃｯﾌﾟ
SET M1380:Z1             ; PA検査開始PCへ
;PATAPE SUB開始
LD M1380                 ; PA検査開始PCへ
ANB M1396                ; PA_結果OK
ANB M1397                ; PA_結果NG
ANB M1437                ; PA_Tape CHEACK NG
MPS
LDB M71                  ; 自動運転開始BZ
LD M1376                 ; PCよりPA検査受付OK
AND= D1212 K0            ; 投入部_PA検査SKIP(1：SKIP_0検査)
ORL
ANL
@INC D1012               ; PATAPEｽﾃｯﾌﾟ
MPP
LD M1376                 ; PCよりPA検査受付OK
AND= D1212 K1            ; 投入部_PA検査SKIP(1：SKIP_0検査)
ANL
MOV K9 D1012             ; PATAPEｽﾃｯﾌﾟ
LD M1380                 ; PA検査開始PCへ
AND M71                  ; 自動運転開始BZ
OR M1375                 ; PCへPA検査中ﾌﾗｸﾞON
AND M1370                ; PA_Tape検査SUB起動
OUT M1375                ; PCへPA検査中ﾌﾗｸﾞON
LD M1380                 ; PA検査開始PCへ
LD W02.0                 ; PA検査開始受付
OR M3                    ; OFFLINE_MODE
ANL
OR M1376                 ; PCよりPA検査受付OK
AND M1375                ; PCへPA検査中ﾌﾗｸﾞON
OUT M1376                ; PCよりPA検査受付OK
;検査NO.の入力
;PA検査Prg_No.切替
LD M1381                 ; PA検査開始ON
ANB B2012                ; IV Series[1]ﾋﾞｼﾞｰ
INC D1012                ; PATAPEｽﾃｯﾌﾟ
MOV D1100 W05C0          ; PAﾃｰﾌﾟ検査NO.  IV Series[1]ﾌﾟﾛｸﾞﾗﾑ番号
LD M1382                 ; PA検査　PRO_No切替指令
AND B2002                ; IV Series[1]ﾌﾟﾛｸﾞﾗﾑ切替応答
INC D1012                ; PATAPEｽﾃｯﾌﾟ
LD M1383                 ; PA検査　BUSY確認
ANB B2012                ; IV Series[1]ﾋﾞｼﾞｰ
INC D1012                ; PATAPEｽﾃｯﾌﾟ
LD M1384                 ; PA検査　PRO_No切替確認
ANB B2002                ; IV Series[1]ﾌﾟﾛｸﾞﾗﾑ切替応答
ANB B2012                ; IV Series[1]ﾋﾞｼﾞｰ
INC D1012                ; PATAPEｽﾃｯﾌﾟ
;計測結果ﾊﾞｯﾌｧｸﾘｱ
LD M1385                 ; PA検査ﾊﾞｯﾌｧｸﾘｱ
ANB B2010                ; IV Series[1]結果取得可能
ANB B2020                ; IV Series[1]総合判定
INC D1012                ; PATAPEｽﾃｯﾌﾟ
;PA検査実行
LD M1386                 ; PA検査ﾊﾞｯﾌｧｸﾘｱ確認
ANB B2012                ; IV Series[1]ﾋﾞｼﾞｰ
INC D1012                ; PATAPEｽﾃｯﾌﾟ
LD M1387                 ; PA検査　指令
AND B2012                ; IV Series[1]ﾋﾞｼﾞｰ
INC D1012                ; PATAPEｽﾃｯﾌﾟ
;検査完了結果判定
LD M1388                 ; PA検査　BUSY確認
ANB B2012                ; IV Series[1]ﾋﾞｼﾞｰ
INC D1012                ; PATAPEｽﾃｯﾌﾟ
LD M1389                 ; PA検査結果記憶
LD M1396                 ; PA_結果OK
ANB M1397                ; PA_結果NG
LD M1397                 ; PA_結果NG
ANB M1396                ; PA_結果OK
ORL
ANL
INC D1012                ; PATAPEｽﾃｯﾌﾟ
LD M1389                 ; PA検査結果記憶
LDB B2012                ; IV Series[1]ﾋﾞｼﾞｰ
AND B2020                ; IV Series[1]総合判定
LD= D1212 K1             ; 投入部_PA検査SKIP(1：SKIP_0検査)
AND M71                  ; 自動運転開始BZ
ORL
ANL
LD M1396                 ; PA_結果OK
ANB M1380                ; PA検査開始PCへ
ANB M1021                ; 1-1_S21_CP検査ﾘｾｯﾄﾌﾗｸﾞ
ORL
ANB M1397                ; PA_結果NG
OUT M1396                ; PA_結果OK
LD M1389                 ; PA検査結果記憶
ANB B2012                ; IV Series[1]ﾋﾞｼﾞｰ
ANB B2020                ; IV Series[1]総合判定
LD M1397                 ; PA_結果NG
ANB M1380                ; PA検査開始PCへ
ANB M1021                ; 1-1_S21_CP検査ﾘｾｯﾄﾌﾗｸﾞ
ORL
ANB M1396                ; PA_結果OK
OUT M1397                ; PA_結果NG
LD M1390                 ; PA検査ｻｲｸﾙ完了
MOV K15 D1012            ; PATAPEｽﾃｯﾌﾟ
;<h1/>□_出力回路
;ソレノイドバルブ出力
;<h1/>____▼_PC→PLCへ出力
LD W05.0                 ; 投入部ｽｷｬﾅ電源OFF
OUT Y2318                ; BCR_電源RESET
;<h1/>____▼_PLC→PCへ出力
LD M1404                 ; ID異常時ｻｲｸﾙ停止選択
OUT W0101.1              ; ID異常時ｻｲｸﾙ停止選択
LD M1405                 ; ID異常時取出し選択
OUT W0101.2              ; ID異常時取出し選択
LD M1406                 ; ID異常時段取り替え選択
OUT W0101.3              ; ID位常時段取指示
LD M1375                 ; PCへPA検査中ﾌﾗｸﾞON
ANB M3                   ; OFFLINE_MODE
OUT W0102.0              ; PA検査動作中
LD M1396                 ; PA_結果OK
ANB M3                   ; OFFLINE_MODE
OUT W0102.1              ; PA検査結果(OK時ON)
LD M1430                 ; CP検査起動ﾌﾗｸﾞ
OUT W0102.8              ; ｸﾘｽﾀﾙｷｬｯﾌﾟ検査要求
;<h1/>____▼_I/O出力
LD M50                   ; 運転準備
ANB M51                  ; 即停止異常(緊急停止)
OUT Y2316                ; ﾜｰｸ給材RB動力電源ON(RB1)
LD M1302                 ; NGﾎﾞｯｸｽﾋﾟｯｷﾝｸﾞﾗﾝﾌﾟ点灯指令
OR B031                  ; B031_050)NGBOXﾜｰｸ除去要求
LD CR2005                ; 100msｸﾛｯｸﾊﾟﾙｽ
OR T104                  ; NGﾎﾞｯｸｽﾜｰｸ有検知
ANL
LDB X1305                ; NG BOXﾜｰｸ無確認
ANB M1302                ; NGﾎﾞｯｸｽﾋﾟｯｷﾝｸﾞﾗﾝﾌﾟ点灯指令
ORL
OUT Y2315                ; NGBOXﾋﾟｯｷﾝｸﾞﾗﾝﾌﾟ表示
;<h1/>____▼_RB出力
LD M1245                 ; RB1位置決めｽﾀｰﾄ指令ON
ANB M1246                ; RB1位置決め動作中
OUT Y200D                ; #01_RY00D_スタート
LD M1244                 ; RB1位置決めSub起動中
MPS
AND D1026.0              ; 給材搬送PP RB_指令POS1
OUT Y2000                ; #01_RY000_指令位置_1
MRD
AND D1026.1              ; 給材搬送PP RB_指令POS2
OUT Y2001                ; #01_RY001_指令位置_2
MRD
AND D1026.2              ; 給材搬送PP RB_指令POS4
OUT Y2002                ; #01_RY002_指令位置_3
MRD
AND D1026.3              ; 給材搬送PP RB_指令POS8
OUT Y2003                ; #01_RY003_指令位置_4
MRD
AND D1026.4              ; 給材搬送PP RB_指令POS16
OUT Y2004                ; #01_RY004_指令位置_5
MRD
AND D1026.5              ; 給材搬送PP RB_指令POS32
OUT Y2005                ; #01_RY005_指令位置_6
MRD
AND D1026.6              ; 給材搬送PP RB_指令POS64
OUT Y2006                ; #01_RY006_指令位置_7
MPP
AND D1026.7              ; 給材搬送PP RB_指令POS128
OUT Y2007                ; #01_RY006_指令位置_8
LD M1253                 ; STEP3_搬送ｽﾗｲﾀ原点復帰指令
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
OUT Y200B                ; #01_RY00B_原点復帰
LD X02                   ; 扉閉確認
AND X04                  ; 供給部ﾗｲﾄｶｰﾃﾝOUT1
AND X05                  ; 供給部ﾗｲﾄｶｰﾃﾝOUT2
OR M39                   ; ｴﾘｱｾﾝｻｰ解除ﾓｰﾄﾞ
AND M129                 ; 安全入力OK
ANB M1460                ; RB1位置決めSUB強制停止ﾌﾗｸﾞ
OUT Y200C                ; #01_RY00C_ｲﾝﾀｰﾛｯｸ
LD M16                   ; ﾘｾｯﾄPB
ANB X100E                ; RB1 #01_RX00E_ALM
OUT Y200E                ; #01_RY00E_ﾘｾｯﾄ
LD M50                   ; 運転準備
AND X100E                ; RB1 #01_RX00E_ALM
OUT Y200F                ; #01_RY00F_ｻｰﾎﾞON
;<h1/>____▼_PA検査
LDB M1387                ; PA検査　指令
INV
OUT B2040                ; IV Series[1]ﾄﾘｶﾞ要求
LDB M1382                ; PA検査　PRO_No切替指令
INV
OUT B2042                ; IV Series[1]ﾌﾟﾛｸﾞﾗﾑ切替要求
LDB CR2003               ; 常時OFF
INV
OUT B2043                ; IV Series[1]ﾜｰﾆﾝｸﾞｸﾘｱ要求
LDB M1385                ; PA検査ﾊﾞｯﾌｧｸﾘｱ
INV
OUT B2045                ; IV Series[1]ﾊﾞｯﾌｧｸﾘｱ要求
;<h1/>____▼_パネル表示
LD M1471                 ; RB1_ﾜｰｸ投入位置(待機位置)
LD M1330                 ; 供給ｽﾗｲﾀﾞﾜｰｸ投入(待機)位置指令
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1580                ; 供給ｽﾗｲﾀﾞ_ﾜｰｸ投入(待機)位置TPPL
LD M1472                 ; RB1_BCR読取位置
LD M1331                 ; 供給ｽﾗｲﾀﾞ_BCR位置移動指令
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1581                ; 供給ｽﾗｲﾀﾞ_BCR位置TPPL
LD M1475                 ; RB1_CP検査位置
LD M1332                 ; 供給ｽﾗｲﾀﾞ_CP検査位置移動指令
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1582                ; 供給ｽﾗｲﾀﾞ_CP検査位置TPPL
LD M1474                 ; RB1_PAﾃｰﾌﾟ検査位置
LD M1333                 ; 供給ｽﾗｲﾀﾞ_PA検査位置移動指令
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1583                ; 供給ｽﾗｲﾀﾞ_PA検査位置TPPL
LD M1473                 ; RB1_ﾜｰｸ受渡し位置
LD M1334                 ; 供給ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動指令
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1584                ; 供給ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置TPPL
LD M1341                 ; 【手動】PAﾃｰﾌﾟ検査開始指令
OUT B1585                ; PAﾃｰﾌﾟ検査中PL
;<h1/>□_異常検出
LDB X100E                ; RB1 #01_RX00E_ALM
AND X100F                ; RB1 #01_RX00F_SAVO状態
AND M50                  ; 運転準備
AND Y2316                ; ﾜｰｸ給材RB動力電源ON(RB1)
LD CR2003                ; 常時OFF
ANB B0520                ; B020_033)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B020                 ; B020_033)RBC1 ｺﾝﾄﾛｰﾗｰ異常
ORL
OUT B020                 ; B020_033)RBC1 ｺﾝﾄﾛｰﾗｰ異常
LDP B020                 ; B020_033)RBC1 ｺﾝﾄﾛｰﾗｰ異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1033 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0520                 ; B020_033)Bz停止
AND B020                 ; B020_033)RBC1 ｺﾝﾄﾛｰﾗｰ異常
OUT B0520                ; B020_033)Bz停止
LD M1005                 ; 1-1_S5_ｲﾝﾃﾞｯｸｽNO.ﾁｪｯｸ
LD M30                   ; 自動ﾓｰﾄﾞ
ANB M41                  ; ﾕﾆｯﾄ_起動中
ORL
AND= D1050 K0            ; 投入部JIG_ID
AND M1471                ; RB1_ﾜｰｸ投入位置(待機位置)
LD CR2003                ; 常時OFF
ANB B0521                ; B021_034)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B021                 ; B021_034)投入部JIG_ID異常
ORL
OUT B021                 ; B021_034)投入部JIG_ID異常
LDP B021                 ; B021_034)投入部JIG_ID異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K34 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0521                 ; B021_034)Bz停止
AND B021                 ; B021_034)投入部JIG_ID異常
OUT B0521                ; B021_034)Bz停止
LD M1037                 ; 1-1_S37_搬送へのﾜｰｸ受渡し失敗
LD CR2003                ; 常時OFF
ANB B0522                ; B022_035)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B022                 ; B022_035)投入部ﾜｰｸ受渡し異常
ORL
OUT B022                 ; B022_035)投入部ﾜｰｸ受渡し異常
LDP B022                 ; B022_035)投入部ﾜｰｸ受渡し異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K35 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0522                 ; B022_035)Bz停止
AND B022                 ; B022_035)投入部ﾜｰｸ受渡し異常
OUT B0522                ; B022_035)Bz停止
;
LDP M1043                ; 1-1_S43_各種異常発生
AND M1401                ; BCR結果NGﾌﾗｸﾞ
LD CR2003                ; 常時OFF
ANB B0523                ; B023_036)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
ORB T105                 ; 給材部ﾜｰｸ無し確認
OR W00.2                 ; PC Busy
AND B023                 ; B023_036)ﾜｰｸ投入NG異常
ORL
LD T101                  ; 給材部ﾜｰｸ有確認(ON=有)
OR W00.2                 ; PC Busy
ANL
OUT B023                 ; B023_036)ﾜｰｸ投入NG異常
LDP B023                 ; B023_036)ﾜｰｸ投入NG異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K36 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0523                 ; B023_036)Bz停止
AND B023                 ; B023_036)ﾜｰｸ投入NG異常
OUT B0523                ; B023_036)Bz停止
;
LD T100                  ; ﾕﾆｯﾄ1原点復帰ﾀｲﾑｱｳﾄ
LD CR2003                ; 常時OFF
ANB B0524                ; B024_037)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B024                 ; B024_037)投入ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
ORL
OUT B024                 ; B024_037)投入ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
LDP B024                 ; B024_037)投入ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K37 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0524                 ; B024_037)Bz停止
AND B024                 ; B024_037)投入ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
OUT B0524                ; B024_037)Bz停止
;　
LD M1091                 ; U1-2_S11_ｽﾃｰｼﾞ有効確認
AND M1420                ; ST受入れ準備NG
LD CR2003                ; 常時OFF
ANB B0525                ; B025_038)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B025                 ; B025_038)ID一致無し
ORL
OUT B025                 ; B025_038)ID一致無し
LDP B025                 ; B025_038)ID一致無し
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K38 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0525                 ; B025_038)Bz停止
AND B025                 ; B025_038)ID一致無し
OUT B0525                ; B025_038)Bz停止
;
LD M1008                 ; 1-1_S8_ｽﾃｰｼﾞ異常
ANB M1422                ; ｽﾃｰｼﾞ状態OK
LD CR2003                ; 常時OFF
ANB B0526                ; B026_039)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B026                 ; B026_039)ｽﾃｰｼﾞ有効化要求
ORL
OUT B026                 ; B026_039)ｽﾃｰｼﾞ有効化要求
LDP B026                 ; B026_039)ｽﾃｰｼﾞ有効化要求
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K39 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0526                 ; B026_039)Bz停止
AND B026                 ; B026_039)ｽﾃｰｼﾞ有効化要求
OUT B0526                ; B026_039)Bz停止
;ﾜｰｸ搬送異常
LD M1043                 ; 1-1_S43_各種異常発生
AND M1424                ; ｽｷｯﾌﾟ品取出し要求Flg
LD CR2003                ; 常時OFF
ANB B0528                ; B028_041)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B028                 ; B028_041)FBTｽｷｯﾌﾟ品取出し要求
ORL
OUT B028                 ; B028_041)FBTｽｷｯﾌﾟ品取出し要求
LDP B028                 ; B028_041)FBTｽｷｯﾌﾟ品取出し要求
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K41 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0528                 ; B028_041)Bz停止
AND B028                 ; B028_041)FBTｽｷｯﾌﾟ品取出し要求
OUT B0528                ; B028_041)Bz停止
;
LD M1011                 ; 1-1_S11_ﾜｰｸ浮き検知
AND T101                 ; 給材部ﾜｰｸ有確認(ON=有)
ANB T102                 ; 給材部ﾜｰｸ浮き確認(ON=OK)
LD CR2003                ; 常時OFF
ANB B0529                ; B029_042)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
LD T101                  ; 給材部ﾜｰｸ有確認(ON=有)
AND CR2003               ; 常時OFF
ORL
AND B029                 ; B029_042)投入部ﾜｰｸ浮き異常
ORL
LD T101                  ; 給材部ﾜｰｸ有確認(ON=有)
ORB T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANL
OUT B029                 ; B029_042)投入部ﾜｰｸ浮き異常
LDP B029                 ; B029_042)投入部ﾜｰｸ浮き異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K42 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0529                 ; B029_042)Bz停止
AND B029                 ; B029_042)投入部ﾜｰｸ浮き異常
OUT B0529                ; B029_042)Bz停止
;
LD M1445                 ; 給材ｽﾗｲﾀﾞ_不要ﾜｰｸ有異常
LD CR2003                ; 常時OFF
ANB B052A                ; B02A_043)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B02A                 ; B02A_043)投入ｽﾗｲﾀﾞ不要ﾜｰｸ有異常
ORL
OUT B02A                 ; B02A_043)投入ｽﾗｲﾀﾞ不要ﾜｰｸ有異常
LDP B02A                 ; B02A_043)投入ｽﾗｲﾀﾞ不要ﾜｰｸ有異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K43 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B052A                 ; B02A_043)Bz停止
AND B02A                 ; B02A_043)投入ｽﾗｲﾀﾞ不要ﾜｰｸ有異常
OUT B052A                ; B02A_043)Bz停止
;
LD M1446                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受取り異常
LD CR2003                ; 常時OFF
ANB B052B                ; B02B_044)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B02B                 ; B02B_044)投入ｽﾗｲﾀﾞﾜｰｸ受取り異常
ORL
OUT B02B                 ; B02B_044)投入ｽﾗｲﾀﾞﾜｰｸ受取り異常
LDP B02B                 ; B02B_044)投入ｽﾗｲﾀﾞﾜｰｸ受取り異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K44 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B052B                 ; B02B_044)Bz停止
AND B02B                 ; B02B_044)投入ｽﾗｲﾀﾞﾜｰｸ受取り異常
OUT B052B                ; B02B_044)Bz停止
;
LD M1160                 ; NG_00_NGﾎﾞｯｸｽﾜｰｸ置き警報
OR M1161                 ; NG_01_NGﾎﾞｯｸｽﾜｰｸ置き警報
LDB T105                 ; 給材部ﾜｰｸ無し確認
ORB T104                 ; NGﾎﾞｯｸｽﾜｰｸ有検知
ANL
LD CR2003                ; 常時OFF
ANB B052C                ; B02C_045)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B02C                 ; B02C_045)NGﾜｰｸ処理警報
ORL
OUT B02C                 ; B02C_045)NGﾜｰｸ処理警報
LDP B02C                 ; B02C_045)NGﾜｰｸ処理警報
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K45 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B052C                 ; B02C_045)Bz停止
AND B02C                 ; B02C_045)NGﾜｰｸ処理警報
OUT B052C                ; B02C_045)Bz停止
;
LD M1011                 ; 1-1_S11_ﾜｰｸ浮き検知
AND T101                 ; 給材部ﾜｰｸ有確認(ON=有)
ANB X1202                ; 給材部ｽﾗｲﾀﾞｰ上ﾜｰｸ確認(ON:有)
LD CR2003                ; 常時OFF
ANB B052D                ; B02D_046)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
LD T101                  ; 給材部ﾜｰｸ有確認(ON=有)
AND CR2003               ; 常時OFF
ORL
AND B02D                 ; B02D_046)基板表裏反対ｾｯﾄ異常
ORL
LD T101                  ; 給材部ﾜｰｸ有確認(ON=有)
ORB T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANL
OUT B02D                 ; B02D_046)基板表裏反対ｾｯﾄ異常
LDP B02D                 ; B02D_046)基板表裏反対ｾｯﾄ異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K46 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B052D                 ; B02D_046)Bz停止
AND B02D                 ; B02D_046)基板表裏反対ｾｯﾄ異常
OUT B052D                ; B02D_046)Bz停止
;　　
LDB M1258                ; STEP8_給材部ﾜｰｸ除去要求
INV
LD M36                   ; 払出ﾓｰﾄﾞ
ANB M1074                ; ﾕﾆｯﾄ1-1起動中
AND T101                 ; 給材部ﾜｰｸ有確認(ON=有)
ORL
LD CR2003                ; 常時OFF
ANB B0821                ; B321_802)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0321                ; B321_802)投入部ﾜｰｸ除去要求
ORL
AND T108                 ; 給材ｽﾗｲﾀﾞ上ﾜｰｸ有確認
OUT B0321                ; B321_802)投入部ﾜｰｸ除去要求
LDP B0321                ; B321_802)投入部ﾜｰｸ除去要求
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K802 D13500          ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0821                 ; B321_802)Bz停止
AND B0321                ; B321_802)投入部ﾜｰｸ除去要求
OUT B0821                ; B321_802)Bz停止
;給材部ワーク検知ＯＦＦ異常
LD D1201.0
AND= D1204 K0            ; 投入部_FBT検査結果(1=OK_2=NG)
AND T109                 ; 給材ｽﾗｲﾀﾞ上ﾜｰｸ無し確認
LDB W02.8                ; ｸﾘｽﾀﾙｷｬｯﾌﾟ検査完了
ANB W02.10               ; ｸﾘｽﾀﾙｷｬｯﾌﾟ検査画像保存中
OR M3                    ; OFFLINE_MODE
ANL
ANB M3300                ; 搬送→供給_取出開始
ANB M3301                ; 搬送→供給取出完了
ANB M1045                ; 1-1_S45_ﾘｾｯﾄ待ち
LD CR2003                ; 常時OFF
ANB B0530                ; B030_049)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
ORB M1045                ; 1-1_S45_ﾘｾｯﾄ待ち
AND B030                 ; B030_049)投入製品検知OFF異常
ORL
ANB M35                  ; 空運転ﾓｰﾄﾞ
AND M71                  ; 自動運転開始BZ
OUT B030                 ; B030_049)投入製品検知OFF異常
LDP B030                 ; B030_049)投入製品検知OFF異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1049 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0530                 ; B030_049)Bz停止
AND B030                 ; B030_049)投入製品検知OFF異常
OUT B0530                ; B030_049)Bz停止
;NGﾎﾞｯｸｽﾜｰｸ取出し要求
LDP M1004                ; 1-1_S4_NGBOXﾜｰｸ取出し要求
LD CR2003                ; 常時OFF
ANB B0531                ; B031_050)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
ORB X1305                ; NG BOXﾜｰｸ無確認
AND B031                 ; B031_050)NGBOXﾜｰｸ除去要求
ORL
ANB T107                 ; NGﾎﾞｯｸｽﾜｰｸ無
OUT B031                 ; B031_050)NGBOXﾜｰｸ除去要求
LDP B031                 ; B031_050)NGBOXﾜｰｸ除去要求
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K50 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0531                 ; B031_050)Bz停止
AND B031                 ; B031_050)NGBOXﾜｰｸ除去要求
OUT B0531                ; B031_050)Bz停止
;CP画像検査NG
LD M1043                 ; 1-1_S43_各種異常発生
AND M1432                ; CP検査NGﾌﾗｸﾞ
LD CR2003                ; 常時OFF
ANB B0532                ; B032_051)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
OR T101                  ; 給材部ﾜｰｸ有確認(ON=有)
AND B032                 ; B032_051)ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査NG
ORL
LD T101                  ; 給材部ﾜｰｸ有確認(ON=有)
ORB T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANL
OUT B032                 ; B032_051)ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査NG
LDP B032                 ; B032_051)ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査NG
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K51 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0532                 ; B032_051)Bz停止
AND B032                 ; B032_051)ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査NG
OUT B0532                ; B032_051)Bz停止
;PA画像検査NG
LD M1043                 ; 1-1_S43_各種異常発生
AND M1437                ; PA_Tape CHEACK NG
LD CR2003                ; 常時OFF
ANB B0533                ; B033_052)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
OR T101                  ; 給材部ﾜｰｸ有確認(ON=有)
AND B033                 ; B033_052)PA画像検査NG
ORL
LD T101                  ; 給材部ﾜｰｸ有確認(ON=有)
ORB T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANL
OUT B033                 ; B033_052)PA画像検査NG
LDP B033                 ; B033_052)PA画像検査NG
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K52 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0533                 ; B033_052)Bz停止
AND B033                 ; B033_052)PA画像検査NG
OUT B0533                ; B033_052)Bz停止
;IV異常
LD B201F                 ; IV Series[1]ｴﾗｰ
LD CR2003                ; 常時OFF
ANB B0534                ; B034_053)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B034                 ; B034_053)IVｺﾝﾄﾛｰﾗｰ(PA検査)ERROR
ORL
OUT B034                 ; B034_053)IVｺﾝﾄﾛｰﾗｰ(PA検査)ERROR
LDP B034                 ; B034_053)IVｺﾝﾄﾛｰﾗｰ(PA検査)ERROR
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K53 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0534                 ; B034_053)Bz停止
AND B034                 ; B034_053)IVｺﾝﾄﾛｰﾗｰ(PA検査)ERROR
OUT B0534                ; B034_053)Bz停止
;CV−X異常
LD X130A                 ; CP検査画像処理ｴﾗｰ
LD CR2003                ; 常時OFF
ANB B0535                ; B035_054)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B035                 ; B035_054)CC検査ｺﾝﾄﾛｰﾗｰERROR
ORL
OUT B035                 ; B035_054)CC検査ｺﾝﾄﾛｰﾗｰERROR
LDP B035                 ; B035_054)CC検査ｺﾝﾄﾛｰﾗｰERROR
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K54 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0535                 ; B035_054)Bz停止
AND B035                 ; B035_054)CC検査ｺﾝﾄﾛｰﾗｰERROR
OUT B0535                ; B035_054)Bz停止
;投入ﾜｰｸ除去要求
LD M1043                 ; 1-1_S43_各種異常発生
LD M1412                 ; ﾜｰｸ投入不可状態
OR M170                  ; 日常点検中
ANL
LD CR2003                ; 常時OFF
ANB B0536                ; B036_055)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
OR T101                  ; 給材部ﾜｰｸ有確認(ON=有)
AND B036                 ; B036_055)投入基板除去要求
ORL
AND T101                 ; 給材部ﾜｰｸ有確認(ON=有)
OUT B036                 ; B036_055)投入基板除去要求
LDP B036                 ; B036_055)投入基板除去要求
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K55 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0536                 ; B036_055)Bz停止
AND B036                 ; B036_055)投入基板除去要求
OUT B0536                ; B036_055)Bz停止
;異常ﾌﾞｻﾞｰまとめ
LDB B020                 ; B020_033)RBC1 ｺﾝﾄﾛｰﾗｰ異常
OR B0520                 ; B020_033)Bz停止
LDB B021                 ; B021_034)投入部JIG_ID異常
OR B0521                 ; B021_034)Bz停止
ANL
LDB B022                 ; B022_035)投入部ﾜｰｸ受渡し異常
OR B0522                 ; B022_035)Bz停止
ANL
LDB B023                 ; B023_036)ﾜｰｸ投入NG異常
OR B0523                 ; B023_036)Bz停止
ANL
LDB B024                 ; B024_037)投入ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
OR B0524                 ; B024_037)Bz停止
ANL
LDB B025                 ; B025_038)ID一致無し
OR B0525                 ; B025_038)Bz停止
ANL
LDB B026                 ; B026_039)ｽﾃｰｼﾞ有効化要求
OR B0526                 ; B026_039)Bz停止
ANL
LDB B027                 ; B027_040)
OR B0527                 ; B027_040)Bz停止
ANL
LDB B028                 ; B028_041)FBTｽｷｯﾌﾟ品取出し要求
OR B0528                 ; B028_041)Bz停止
ANL
LDB B029                 ; B029_042)投入部ﾜｰｸ浮き異常
OR B0529                 ; B029_042)Bz停止
ANL
LDB B02A                 ; B02A_043)投入ｽﾗｲﾀﾞ不要ﾜｰｸ有異常
OR B052A                 ; B02A_043)Bz停止
ANL
LDB B02B                 ; B02B_044)投入ｽﾗｲﾀﾞﾜｰｸ受取り異常
OR B052B                 ; B02B_044)Bz停止
ANL
LDB B02C                 ; B02C_045)NGﾜｰｸ処理警報
OR B052C                 ; B02C_045)Bz停止
ANL
LDB B02D                 ; B02D_046)基板表裏反対ｾｯﾄ異常
OR B052D                 ; B02D_046)Bz停止
ANL
LDB B02E                 ; B02E_047)
OR B052E                 ; B02E_047)Bz停止
ANL
LDB B02F                 ; B02F_048)
OR B052F                 ; B02F_048)Bz停止
ANL
LDB B030                 ; B030_049)投入製品検知OFF異常
OR B0530                 ; B030_049)Bz停止
ANL
LDB B031                 ; B031_050)NGBOXﾜｰｸ除去要求
OR B0531                 ; B031_050)Bz停止
ANL
LDB B032                 ; B032_051)ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査NG
OR B0532                 ; B032_051)Bz停止
ANL
LDB B033                 ; B033_052)PA画像検査NG
OR B0533                 ; B033_052)Bz停止
ANL
LDB B034                 ; B034_053)IVｺﾝﾄﾛｰﾗｰ(PA検査)ERROR
OR B0534                 ; B034_053)Bz停止
ANL
LDB B035                 ; B035_054)CC検査ｺﾝﾄﾛｰﾗｰERROR
OR B0535                 ; B035_054)Bz停止
ANL
LDB B036                 ; B036_055)投入基板除去要求
OR B0536                 ; B036_055)Bz停止
ANL
LDB B037                 ; B037_056)
OR B0537                 ; B037_056)Bz停止
ANL
LDB B038                 ; B038_057)
OR B0538                 ; B038_057)Bz停止
ANL
LDB B039                 ; B039_058)
OR B0539                 ; B039_058)Bz停止
ANL
LDB B03A                 ; B03A_059)
OR B053A                 ; B03A_059)Bz停止
ANL
LDB B03B                 ; B03B_060)
OR B053B                 ; B03B_060)Bz停止
ANL
LDB B03C                 ; B03C_061)
OR B053C                 ; B03C_061)Bz停止
ANL
LDB B03D                 ; B03D_062)
OR B053D                 ; B03D_062)Bz停止
ANL
LDB B03E                 ; B03E_063)
OR B053E                 ; B03E_063)Bz停止
ANL
LDB B03F                 ; B03F_064)
OR B053F                 ; B03F_064)Bz停止
ANL
LDB B0321                ; B321_802)投入部ﾜｰｸ除去要求
OR B0821                 ; B321_802)Bz停止
ANL
INV
OUT M1489                ; ﾕﾆｯﾄ1異常BZ補助
END
ENDH
