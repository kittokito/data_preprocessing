DEVICE:53
;MODULE:UT2_Screw_RB
;MODULE_TYPE:0
;<h1/>■入力受け
;ﾈｼﾞ供給ﾕﾆｯﾄ
LD X0D                   ; ﾈｼﾞ供給ﾈｼﾞ検出
TMH K210 K30             ; ﾈｼﾞ供給ﾈｼﾞ検出
LDB X0D                  ; ﾈｼﾞ供給ﾈｼﾞ検出
TMH K211 K20             ; ﾈｼﾞ供給無検出ｳｪｲﾄ
LD X0E                   ; ﾈｼﾞ供給切出端
TMH K212 K30             ; ﾈｼﾞ供給ｴｽｹｰﾌﾟ切出側端
LD X0F                   ; ﾈｼﾞ供給切出戻端
TMH K213 K30             ; ﾈｼﾞ供給ｴｽｹｰﾌﾟORG側端
LD X1002                 ; ﾈｼﾞ供給ｽﾗｲﾄﾞ閉端
TMH K214 K30             ; ﾈｼﾞ供給ｽﾗｲﾄﾞ閉確認ﾃﾞｨﾚｲ
LD X1000                 ; ﾈｼﾞ供給ｽﾗｲﾄﾞﾛｯｸ端
TMH K215 K30             ; ﾈｼﾞ供給ﾛｯｸ確認ﾃﾞｨﾚｲ
;■ロボット等機器入力受け
LD CR2002                ; 常時ON
PMOV X1270 K0 D1524 K0 K8; ﾈｼﾞ締め_RB_Posi_1  Screwe RB  結果POS No.
;<h1/>■状態･条件
;□
;□□ 装置状態・動作条件 □□
;□
;□ ﾕﾆｯﾄ原点
LD X1223                 ; ﾈｼﾞ締め_RB_SV_ON
AND X1224                ; ﾈｼﾞ締め_RB_Ready
AND X1225                ; ﾈｼﾞ締め_RB_Auto
AND X1226                ; ﾈｼﾞ締め_RB_EXT
ANB X1228                ; ﾈｼﾞ締め_RB_Worning
AND X1286                ; ﾈｼﾞ締め_RB_ORG(870)
AND X126F                ; ﾈｼﾞ締め_RB_Area1(ORG)
OUT M1980                ; ﾕﾆｯﾄ2原点
;□ 非常停止
LDB B040                 ; ﾈｼﾞ締めRB原点復帰時ﾈｼﾞ排出異常
ANB B041                 ; ﾈｼﾞ締めRB原点復帰時ｴﾘｱ外
ANB B045                 ; ﾈｼﾞ締めRB異常
ANB B04B                 ; ﾈｼﾞ締め動作中押え開異常
ANB B04C                 ; ﾈｼﾞ締め動作中RBﾓｰﾄﾞ切替異常
INV
OUT M1981                ; ﾕﾆｯﾄ2全異常
;□ 起動条件
LD M1980                 ; ﾕﾆｯﾄ2原点
ANB M36                  ; 払出ﾓｰﾄﾞ
OUT M1982                ; ﾕﾆｯﾄ2起動条件
;□ 起動OFF
LDB M50                  ; 運転準備
OR M1986                 ; ﾕﾆｯﾄ2ｻｲｸﾙ停止異常
OR M51                   ; 即停止異常(緊急停止)
OR T15                   ; 強制停止
OUT M1983                ; ﾕﾆｯﾄ2起動OFF
;□ 原点復帰
LD M82                   ; 原点復帰開始
ANB M1984                ; ﾕﾆｯﾄ2原点復帰中
OR M1984                 ; ﾕﾆｯﾄ2原点復帰中
ANB M1983                ; ﾕﾆｯﾄ2起動OFF
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
ANB M1799                ; ﾕﾆｯﾄ2原点終了
MPS
OUT M1984                ; ﾕﾆｯﾄ2原点復帰中
MPP
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT B15B9                ; UNIT2-2-10 TP-PL
;□ 起動中
LD M73                   ; 各工程起動指令
LD M1031                 ; ｼｰﾙﾄﾞﾈｼﾞ締めRB先行起動要求
ANB M1071                ; 基板ﾈｼﾞ締めRB先行起動要求
LD M1071                 ; 基板ﾈｼﾞ締めRB先行起動要求
ANB M1031                ; ｼｰﾙﾄﾞﾈｼﾞ締めRB先行起動要求
ORL
ANL
AND M1982                ; ﾕﾆｯﾄ2起動条件
OR M1985                 ; ﾕﾆｯﾄ2起動中
ANB M1983                ; ﾕﾆｯﾄ2起動OFF
ANB M1549                ; ﾕﾆｯﾄ12-1ｻｲｸﾙ停止
OUT M1985                ; ﾕﾆｯﾄ2起動中
;□ ｻｲｸﾙ停止異常
LDB CR2003               ; 常時OFF
INV
OUT M1986                ; ﾕﾆｯﾄ2ｻｲｸﾙ停止異常
;□ 払出停止異常
LDB CR2003               ; 常時OFF
INV
OUT M1987                ; ﾕﾆｯﾄ2払出停止異常
;□ 警報補助
LDB B042                 ; ねじ締めRB_LOW_Battery
OR B0542
ANB B0140                ; ﾈｼﾞ供給ﾕﾆｯﾄ開
INV
OUT M1988                ; ﾕﾆｯﾄ2警報補助
;□ 機器準備確認
LD X1223                 ; ﾈｼﾞ締め_RB_SV_ON
AND X1224                ; ﾈｼﾞ締め_RB_Ready
AND X1225                ; ﾈｼﾞ締め_RB_Auto
AND X1226                ; ﾈｼﾞ締め_RB_EXT
OUT M1990                ; ﾕﾆｯﾄ2機器準備完了
;□ ｴﾗｰ発生  一時停止
LDB B043                 ; ﾈｼﾞ供給切出側ｼﾘﾝﾀﾞ異常
ANB B044                 ; ﾈｼﾞ供給原点側ｼﾘﾝﾀﾞ異常
ANB B046                 ; ﾈｼﾞ供給引掛かり異常
ANB B047                 ; ﾈｼﾞ供給ﾈｼﾞ取出不良
ANB B048                 ; ﾈｼﾞ供給切出位置ﾈｼﾞ残
ANB B049                 ; ﾈｼﾞ供給切出引掛りｴﾗｰ
ANB B04A                 ; ﾈｼﾞ供給ﾕﾆｯﾄﾛｯｸｼﾘﾝﾀﾞ異常
INV
OUT M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
;□ 動作中ﾕﾆｯﾄ無し
LD X1229                 ; ﾈｼﾞ締め_RB_Continue
ANB X1221                ; ﾈｼﾞ締め_RB_RUN
AND M130                 ; 全体PAUSE
ORB M1985                ; ﾕﾆｯﾄ2起動中
ANB M1984                ; ﾕﾆｯﾄ2原点復帰中
TMR K201 K20             ; ﾕﾆｯﾄ2動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D1500 D1505          ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ2動作中判定
LD T201                  ; ﾕﾆｯﾄ2動作無し判定ﾀｲﾏ
OUT M1992                ; ﾕﾆｯﾄ2動作無し確認
;□ 払出しﾜｰｸ無し
LD CR2002                ; 常時ON
TMR K205 K10             ; UNIT2払出処理ﾜｰｸ無し
LD T205                  ; UNIT2払出処理ﾜｰｸ無し
OUT M1993                ; ﾕﾆｯﾄ2ﾜｰｸ無し
;□ ｽﾃｯﾌﾟ起動
LD M30                   ; 自動ﾓｰﾄﾞ
LD M31                   ; 手動ﾓｰﾄﾞ
AND CR2003               ; 常時OFF
ORL
OUT M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
;□□□□□□□□□□□□□□□
;□       UNIT2自動回路      □
;□□□□□□□□□□□□□□□
;<h1/>■自動回路
;ﾈｼﾞ締めﾛﾎﾞｯﾄ
LD CR2002                ; 常時ON
ZRES M1500 M1549         ; ﾕﾆｯﾄ2-1ｽﾃｯﾌﾟ開始  ﾕﾆｯﾄ12-1ｻｲｸﾙ停止
LDB M1985                ; ﾕﾆｯﾄ2起動中
MOV K0 D1500             ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
DW K0 D1600              ; UT2-1 ｽﾃｯﾌﾟﾓﾆﾀ
LD M1985                 ; ﾕﾆｯﾄ2起動中
MOV D1500 Z1             ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
SET M1500:Z1             ; ﾕﾆｯﾄ2-1ｽﾃｯﾌﾟ開始
CAL+ D1500 K1500 D1600   ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ  UT2-1 ｽﾃｯﾌﾟﾓﾆﾀ
;<h1/>/ 処理判定
;動作判定(ｼｰﾙﾄﾞ･基板)
LD M1500                 ; ﾕﾆｯﾄ2-1ｽﾃｯﾌﾟ開始
MPS
AND M1031                ; ｼｰﾙﾄﾞﾈｼﾞ締めRB先行起動要求
@MOV D1055 D1560         ; ｼｰﾙﾄﾞ板ﾈｼﾞ締めRB_No.  ﾈｼﾞ締めRB機種No.
@MOV D1057 D1561         ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め本数  ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
AND M1071                ; 基板ﾈｼﾞ締めRB先行起動要求
@MOV D1056 D1560         ; GD基板ﾈｼﾞ締めRB_No.  ﾈｼﾞ締めRB機種No.
@MOV D1058 D1561         ; GD基板ﾈｼﾞ締め本数  ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
@MOV K3 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;■ｼｰﾙﾄﾞﾈｼﾞ締め先行起動確認
LD M1501                 ; ｼｰﾙﾄﾞﾈｼﾞ締め先行起動確認
ANB M1031                ; ｼｰﾙﾄﾞﾈｼﾞ締めRB先行起動要求
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;■ｼｰﾙﾄﾞﾈｼﾞ締め開始(PCﾊﾝﾄﾞｼｪｲｸ)
LD M1502                 ; ｼｰﾙﾄﾞﾈｼﾞ締め要求(PC)
LD W0101.8               ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め動作中
AND W01.8                ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め受付
OR M3                    ; OFFLINE_MODE
ANL
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
@MOV K5 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;■基板ﾈｼﾞ締め先行起動確認
LD M1503                 ; 基板ﾈｼﾞ締め先行起動確認
ANB M1071                ; 基板ﾈｼﾞ締めRB先行起動要求
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;■基板締め開始(PCﾊﾝﾄﾞｼｪｲｸ)
LD M1504                 ; 基板ﾈｼﾞ締め要求(PC)
LD W0101.10              ; GD基板ﾈｼﾞ締め動作中
AND W01.10               ; GD基板ﾈｼﾞ締め受付
OR M3                    ; OFFLINE_MODE
ANL
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
@MOV K6 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ｸﾗﾝﾌﾟ確認
LD M1505                 ; ｼｰﾙﾄﾞﾈｼﾞ締め受付確認
LD T114                  ; ｼｰﾙﾄﾞｸﾗﾝﾌﾟ端
OR CR2002                ; 常時ON
ANL
LD M1506                 ; 基板ﾈｼﾞ締め受付確認
LD T116                  ; 基板ｸﾗﾝﾌﾟ端
OR CR2002                ; 常時ON
ANL
ORL
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
@MOV K7 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;<h1/>/ ﾈｼﾞ締め開始
;設定･ﾛｸﾞ初期化
LD M1507                 ; ｸﾗﾝﾌﾟ確認
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
FMOV K0 D1521 K3         ; Screwe RB  機種 No.
FMOV K0 D1550 K3         ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
FMOV K0 W0130 K80        ; ﾈｼﾞ締め結果_#1
MPS
WSUM D1700 K30           ; ｼｰﾙﾄﾞﾈｼﾞ締め1結果TP-PL
CON
STA D1590                ; ｼｰﾙﾄﾞﾈｼﾞ締め結果
MPP
WSUM D1730 K30           ; 基板ﾈｼﾞ締め1結果TP-PL
CON
STA D1592                ; 基板ﾈｼﾞ締め結果
LD M1507                 ; ｸﾗﾝﾌﾟ確認
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
LD= D1590 K0             ; ｼｰﾙﾄﾞﾈｼﾞ締め結果
AND W0101.8              ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め動作中
LD= D1592 K0             ; 基板ﾈｼﾞ締め結果
AND W0101.10             ; GD基板ﾈｼﾞ締め動作中
ORL
ANL
AND= D1521 K0            ; Screwe RB  機種 No.
AND= D1522 K0            ; Screwe RB  ﾈｼﾞ締め本数
AND= D1550 K0            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D1551 K0            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D1552 K0            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
@MOV K10 D1500           ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締めﾃﾞｰﾀ転送
LD M1510                 ; ﾈｼﾞ締めﾃﾞｰﾀｾｯﾄ
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
@MOV D1560 D1521         ; ﾈｼﾞ締めRB機種No.  Screwe RB  機種 No.
MPS
@MOV D1561 D1522         ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数  Screwe RB  ﾈｼﾞ締め本数
MPP
LD= D1560 D1521          ; ﾈｼﾞ締めRB機種No.  Screwe RB  機種 No.
AND= D1561 D1522         ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数  Screwe RB  ﾈｼﾞ締め本数
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締め動作開始起動
LD M1511                 ; ﾈｼﾞ締め開始
MPS
LD W0101.8               ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め動作中
ANB W02.2                ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め無効ﾓｰﾄﾞ
LD W0101.10              ; GD基板ﾈｼﾞ締め動作中
ANB W02.3                ; GD基板ﾈｼﾞ締め無効ﾓｰﾄﾞ
ORL
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
ANL
@MOV K1 D1550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D1551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K1 D1552            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D1550 K1             ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D1551 K1            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D1552 K1            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
LD W0101.8               ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め動作中
AND W02.2                ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め無効ﾓｰﾄﾞ
LD W0101.10              ; GD基板ﾈｼﾞ締め動作中
AND W02.3                ; GD基板ﾈｼﾞ締め無効ﾓｰﾄﾞ
ORL
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
ANL
@MOV K15 D1500           ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M1512                 ; ﾈｼﾞ締めPRG.ｽﾀｰﾄ
AND X1221                ; ﾈｼﾞ締め_RB_RUN
AND X1225                ; ﾈｼﾞ締め_RB_Auto
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1513                 ; ﾈｼﾞ締め動作開始確認
AND X1288                ; ﾈｼﾞ締め_RB_Screw_Start(872)
ANB X1280                ; ﾈｼﾞ締め_RB_ALL_Complete(864)
ANB X1283                ; ﾈｼﾞ締め_RB_Take_out failure(867)
ANB X1285                ; ﾈｼﾞ締め_RB_Screw fail  (869)
ANB X128A                ; ﾈｼﾞ締め_RB_Process_of_Stop(874)
ANB X128C                ; ﾈｼﾞ締め_RB_Discharge_miss(876)
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締め1ｻｲｸﾙ完了
LD M1514                 ; ﾈｼﾞ締め完了待ち
AND X1280                ; ﾈｼﾞ締め_RB_ALL_Complete(864)
ANB X1288                ; ﾈｼﾞ締め_RB_Screw_Start(872)
AND X128B                ; ﾈｼﾞ締め_RB_Operat_stop(875)
ANB X1221                ; ﾈｼﾞ締め_RB_RUN
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;結果判断
LD M1515                 ; ﾈｼﾞ締め結果確認
AND= D1530 K1            ; ﾈｼﾞ締めPOS.1 ｴﾗｰｺｰﾄﾞ
LD= D1531 K1             ; ﾈｼﾞ締めPOS.2 ｴﾗｰｺｰﾄﾞ
LD= D1532 K1             ; ﾈｼﾞ締めPOS.3 ｴﾗｰｺｰﾄﾞ
LD= D1533 K1             ; ﾈｼﾞ締めPOS.4 ｴﾗｰｺｰﾄﾞ
LD= D1534 K1             ; ﾈｼﾞ締めPOS.5 ｴﾗｰｺｰﾄﾞ
OR< D1561 K5             ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
ANL
OR< D1561 K4             ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
ANL
OR< D1561 K3             ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
ANL
OR< D1561 K2             ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
ANL
OUT M1700                ; ﾈｼﾞ締め1-5OK
LD M1515                 ; ﾈｼﾞ締め結果確認
LD>= D1561 K1            ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
AND<> D1530 K1           ; ﾈｼﾞ締めPOS.1 ｴﾗｰｺｰﾄﾞ
LD>= D1561 K2            ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
AND<> D1531 K1           ; ﾈｼﾞ締めPOS.2 ｴﾗｰｺｰﾄﾞ
ORL
LD>= D1561 K3            ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
AND<> D1532 K1           ; ﾈｼﾞ締めPOS.3 ｴﾗｰｺｰﾄﾞ
ORL
LD>= D1561 K4            ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
AND<> D1533 K1           ; ﾈｼﾞ締めPOS.4 ｴﾗｰｺｰﾄﾞ
ORL
LD>= D1561 K5            ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
AND<> D1534 K1           ; ﾈｼﾞ締めPOS.5 ｴﾗｰｺｰﾄﾞ
ORL
ANL
OUT M1701                ; ﾈｼﾞ締め1-5NG
LD M1515                 ; ﾈｼﾞ締め結果確認
LD= D1535 K1             ; ﾈｼﾞ締めPOS.6 ｴﾗｰｺｰﾄﾞ
LD= D1536 K1             ; ﾈｼﾞ締めPOS.7 ｴﾗｰｺｰﾄﾞ
LD= D1537 K1             ; ﾈｼﾞ締めPOS.8 ｴﾗｰｺｰﾄﾞ
LD= D1538 K1             ; ﾈｼﾞ締めPOS.9 ｴﾗｰｺｰﾄﾞ
LD= D1539 K1             ; ﾈｼﾞ締めPOS.10 ｴﾗｰｺｰﾄﾞ
OR< D1561 K10            ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
ANL
OR< D1561 K9             ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
ANL
OR< D1561 K8             ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
ANL
OR< D1561 K7             ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
ANL
OR< D1561 K6             ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
ANL
OUT M1702                ; ﾈｼﾞ締め6-10OK
LD M1515                 ; ﾈｼﾞ締め結果確認
LD>= D1561 K6            ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
AND<> D1535 K1           ; ﾈｼﾞ締めPOS.6 ｴﾗｰｺｰﾄﾞ
LD>= D1561 K7            ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
AND<> D1536 K1           ; ﾈｼﾞ締めPOS.7 ｴﾗｰｺｰﾄﾞ
ORL
LD>= D1561 K8            ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
AND<> D1537 K1           ; ﾈｼﾞ締めPOS.8 ｴﾗｰｺｰﾄﾞ
ORL
LD>= D1561 K9            ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
AND<> D1538 K1           ; ﾈｼﾞ締めPOS.9 ｴﾗｰｺｰﾄﾞ
ORL
LD>= D1561 K10           ; ﾈｼﾞ締めRB  ﾈｼﾞ締め本数
AND<> D1539 K1           ; ﾈｼﾞ締めPOS.10 ｴﾗｰｺｰﾄﾞ
ORL
ANL
OUT M1703                ; ﾈｼﾞ締め6-10NG
;ﾈｼﾞ締め総合判定
LD M1515                 ; ﾈｼﾞ締め結果確認
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
MPS
LD M1700                 ; ﾈｼﾞ締め1-5OK
ANB M1701                ; ﾈｼﾞ締め1-5NG
AND M1702                ; ﾈｼﾞ締め6-10OK
ANB M1703                ; ﾈｼﾞ締め6-10NG
LD W02.2                 ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め無効ﾓｰﾄﾞ
AND W0101.8              ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め動作中
ORL
LD W02.3                 ; GD基板ﾈｼﾞ締め無効ﾓｰﾄﾞ
AND W0101.10             ; GD基板ﾈｼﾞ締め動作中
ORL
ANL
@MOV K1 D1540            ; ﾈｼﾞ締め結果(1:OK 0:NG)
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
LDB W02.2                ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め無効ﾓｰﾄﾞ
AND W0101.8              ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め動作中
LDB W02.3                ; GD基板ﾈｼﾞ締め無効ﾓｰﾄﾞ
AND W0101.10             ; GD基板ﾈｼﾞ締め動作中
ORL
LD M1701                 ; ﾈｼﾞ締め1-5NG
OR M1703                 ; ﾈｼﾞ締め6-10NG
ANL
ANL
@MOV K0 D1540            ; ﾈｼﾞ締め結果(1:OK 0:NG)
MOV K17 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;判定OK
LD M1516                 ; ﾈｼﾞ締め結果OK
LD W0101.8               ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め動作中
AND W0101.9              ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め結果
LD W0101.10              ; GD基板ﾈｼﾞ締め動作中
AND W0101.11             ; GD基板ﾈｼﾞ締め結果
ORL
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;動作中OFF後に結果OFF
LD M1517                 ; ﾈｼﾞ締め開始 OFF
ANB W0101.8              ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め動作中
ANB W01.8                ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め受付
ANB W0101.10             ; GD基板ﾈｼﾞ締め動作中
ANB W01.10               ; GD基板ﾈｼﾞ締め受付
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1518                 ; ﾈｼﾞ締め結果OFF
ANB W0101.9              ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め結果
ANB W0101.11             ; GD基板ﾈｼﾞ締め結果
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1519                 ; ﾈｼﾞ締め結果OFF確認
MOV K25 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1525                 ; 作業完了
ANB M1036                ; ｼｰﾙﾄﾞﾈｼﾞ締め要求
ANB M1076                ; 基板ﾈｼﾞ締め要求
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M1500                ; ﾕﾆｯﾄ2-1ｽﾃｯﾌﾟ開始
MOV K48 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
LD M1526                 ; ﾈｼﾞ締め作業要求OFF確認
OR M1548                 ; ﾕﾆｯﾄ12-1ｻｲｸﾙ停止処理
@MOV K49 D1500           ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締め停止、続行指令補助
;先行動作は今の所無いので実行と続行は常時可
LD CR2003                ; 常時OFF
AND X1289                ; ﾈｼﾞ締め_RB_Wait(873)
ANB M1562                ; ﾈｼﾞ締め続行ﾌﾗｸﾞ
OR M1560                 ; 停止指令
AND M1985                ; ﾕﾆｯﾄ2起動中
ANB M1561                ; ﾈｼﾞ締め実行許可
OUT M1560                ; 停止指令
LD CR2002                ; 常時ON
AND M1514                ; ﾈｼﾞ締め完了待ち
ANB M1560                ; 停止指令
OR M1561                 ; ﾈｼﾞ締め実行許可
AND M1985                ; ﾕﾆｯﾄ2起動中
OUT M1561                ; ﾈｼﾞ締め実行許可
TMH K225 K5              ; ﾈｼﾞ締めｽﾀｰﾄ
LD M1561                 ; ﾈｼﾞ締め実行許可
OUT M1562                ; ﾈｼﾞ締め続行ﾌﾗｸﾞ
;<h1/>■ﾈｼﾞ締め結果取得
;PC送信用ﾃﾞｰﾀ展開
LD M1985                 ; ﾕﾆｯﾄ2起動中
OR CR2002                ; 常時ON
MC
LD CR2002                ; 常時ON
MPS
AND> D1524 K0            ; Screwe RB  結果POS No.
CAL- D1524 K1 Z3         ; Screwe RB  結果POS No.
MRD
AND= D1524 K0            ; Screwe RB  結果POS No.
MOV K0 Z3
MPP
CAL* Z3 K2 Z4
LD CR2002                ; 常時ON
AND T227                 ; ﾈｼﾞ締め結果取得ﾃﾞｨﾚｲ
OR M1570                 ; ﾃﾞｰﾀ取得確認
AND X1281                ; ﾈｼﾞ締め_RB_Complete(865)
MOV D10604 W0130:Z3      ; ﾈｼﾞ締め_RB_RWr0  ﾈｼﾞ締め結果_#1
MOV D10605 W0150:Z3      ; ﾈｼﾞ締め_RB_RWr1  ﾈｼﾞ締め最終ﾄﾙｸ値_#1
CAL*.S D10606 +1 W0160:Z4; ﾈｼﾞ締め_RB_RWr2  ﾈｼﾞ締め高さ差_#1
MOV D10607 W0140         ; ﾈｼﾞ締め_RB_RWr3  ﾈｼﾞ締め最終ﾄﾙｸ判定基準下限値
MOV D10608 W0141         ; ﾈｼﾞ締め_RB_RWr4  ﾈｼﾞ締め最終ﾄﾙｸ判定基準上限値
CAL*.S D10610 +1 W0144   ; ﾈｼﾞ締め_RB_RWr6  ﾈｼﾞ締め高さ判定基準上限値
CAL*.S D10609 +1 W0142   ; ﾈｼﾞ締め_RB_RWr5  ﾈｼﾞ締め高さ判定基準下限値
OUT M1570                ; ﾃﾞｰﾀ取得確認
MCR
;TP表示用ﾃﾞｰﾀ展開
LD CR2002                ; 常時ON
AND X1281                ; ﾈｼﾞ締め_RB_Complete(865)
MPS
TMH K227 K2              ; ﾈｼﾞ締め結果取得ﾃﾞｨﾚｲ
MPP
AND T227                 ; ﾈｼﾞ締め結果取得ﾃﾞｨﾚｲ
CAL- D1524 K1 Z4         ; Screwe RB  結果POS No.
MPS
AND W0101.8              ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め動作中
MPS
AND= D10604 K1           ; ﾈｼﾞ締め_RB_RWr0
@MOV K2 D1700:Z4         ; ｼｰﾙﾄﾞﾈｼﾞ締め1結果TP-PL
MRD
AND> D10604 K1           ; ﾈｼﾞ締め_RB_RWr0
@MOV K1 D1700:Z4         ; ｼｰﾙﾄﾞﾈｼﾞ締め1結果TP-PL
MRD
@MOV D10605 D1710:Z4     ; ﾈｼﾞ締め_RB_RWr1  ｼｰﾙﾄﾞﾈｼﾞ締め1ﾄﾙｸ_TP表示
MPP
@MOV D10604 D1720:Z4     ; ﾈｼﾞ締め_RB_RWr0  ｼｰﾙﾄﾞﾈｼﾞ締め1結果ｺｰﾄﾞ_TP表示
MPP
AND W0101.10             ; GD基板ﾈｼﾞ締め動作中
MPS
AND= D10604 K1           ; ﾈｼﾞ締め_RB_RWr0
@MOV K2 D1730:Z4         ; 基板ﾈｼﾞ締め1結果TP-PL
MRD
AND> D10604 K1           ; ﾈｼﾞ締め_RB_RWr0
@MOV K1 D1730:Z4         ; 基板ﾈｼﾞ締め1結果TP-PL
MRD
@MOV D10605 D1740:Z4     ; ﾈｼﾞ締め_RB_RWr1  基板ﾈｼﾞ締め1ﾄﾙｸ_TP表示
MPP
@MOV D10604 D1750:Z4     ; ﾈｼﾞ締め_RB_RWr0  基板ﾈｼﾞ締め1結果ｺｰﾄﾞ_TP表示
;ﾈｼﾞ締めｴﾗｰｺｰﾄﾞ読込 1-5
LD M1985                 ; ﾕﾆｯﾄ2起動中
AND T227                 ; ﾈｼﾞ締め結果取得ﾃﾞｨﾚｲ
MPS
AND= D1524 K1            ; Screwe RB  結果POS No.
MOV D10604 D1530         ; ﾈｼﾞ締め_RB_RWr0  ﾈｼﾞ締めPOS.1 ｴﾗｰｺｰﾄﾞ
MRD
AND= D1524 K2            ; Screwe RB  結果POS No.
MOV D10604 D1531         ; ﾈｼﾞ締め_RB_RWr0  ﾈｼﾞ締めPOS.2 ｴﾗｰｺｰﾄﾞ
MRD
AND= D1524 K3            ; Screwe RB  結果POS No.
MOV D10604 D1532         ; ﾈｼﾞ締め_RB_RWr0  ﾈｼﾞ締めPOS.3 ｴﾗｰｺｰﾄﾞ
MRD
AND= D1524 K4            ; Screwe RB  結果POS No.
MOV D10604 D1533         ; ﾈｼﾞ締め_RB_RWr0  ﾈｼﾞ締めPOS.4 ｴﾗｰｺｰﾄﾞ
MPP
AND= D1524 K5            ; Screwe RB  結果POS No.
MOV D10604 D1534         ; ﾈｼﾞ締め_RB_RWr0  ﾈｼﾞ締めPOS.5 ｴﾗｰｺｰﾄﾞ
;ﾈｼﾞ締めｴﾗｰｺｰﾄﾞ読込 6-10
LD M1985                 ; ﾕﾆｯﾄ2起動中
AND T227                 ; ﾈｼﾞ締め結果取得ﾃﾞｨﾚｲ
MPS
AND= D1524 K6            ; Screwe RB  結果POS No.
MOV D10604 D1535         ; ﾈｼﾞ締め_RB_RWr0  ﾈｼﾞ締めPOS.6 ｴﾗｰｺｰﾄﾞ
MRD
AND= D1524 K7            ; Screwe RB  結果POS No.
MOV D10604 D1536         ; ﾈｼﾞ締め_RB_RWr0  ﾈｼﾞ締めPOS.7 ｴﾗｰｺｰﾄﾞ
MRD
AND= D1524 K8            ; Screwe RB  結果POS No.
MOV D10604 D1537         ; ﾈｼﾞ締め_RB_RWr0  ﾈｼﾞ締めPOS.8 ｴﾗｰｺｰﾄﾞ
MRD
AND= D1524 K9            ; Screwe RB  結果POS No.
MOV D10604 D1538         ; ﾈｼﾞ締め_RB_RWr0  ﾈｼﾞ締めPOS.9 ｴﾗｰｺｰﾄﾞ
MPP
AND= D1524 K10           ; Screwe RB  結果POS No.
MOV D10604 D1539         ; ﾈｼﾞ締め_RB_RWr0  ﾈｼﾞ締めPOS.10 ｴﾗｰｺｰﾄﾞ
LD M1985                 ; ﾕﾆｯﾄ2起動中
AND T227                 ; ﾈｼﾞ締め結果取得ﾃﾞｨﾚｲ
MPS
AND W0101.8              ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め動作中
@MOV D1524 W0123         ; Screwe RB  結果POS No.  ｼｰﾙﾄﾞ板ﾈｼﾞ締め本数
MPP
AND W0101.10             ; GD基板ﾈｼﾞ締め動作中
@MOV D1524 W0124         ; Screwe RB  結果POS No.  GD基板ﾈｼﾞ締め本数
;<h1/>■PLC→PC I/F
;ﾈｼﾞ締め開始･結果
LD M1502                 ; ｼｰﾙﾄﾞﾈｼﾞ締め要求(PC)
OR W0101.8               ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め動作中
ANB M1517                ; ﾈｼﾞ締め開始 OFF
AND M1985                ; ﾕﾆｯﾄ2起動中
OUT W0101.8              ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め動作中
LD M1516                 ; ﾈｼﾞ締め結果OK
AND W0101.8              ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め動作中
OR W0101.9               ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め結果
ANB M1518                ; ﾈｼﾞ締め結果OFF
AND M1985                ; ﾕﾆｯﾄ2起動中
OUT W0101.9              ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め結果
LD M1504                 ; 基板ﾈｼﾞ締め要求(PC)
OR W0101.10              ; GD基板ﾈｼﾞ締め動作中
ANB M1517                ; ﾈｼﾞ締め開始 OFF
AND M1985                ; ﾕﾆｯﾄ2起動中
OUT W0101.10             ; GD基板ﾈｼﾞ締め動作中
LD M1516                 ; ﾈｼﾞ締め結果OK
AND W0101.10             ; GD基板ﾈｼﾞ締め動作中
OR W0101.11              ; GD基板ﾈｼﾞ締め結果
ANB M1518                ; ﾈｼﾞ締め結果OFF
AND M1985                ; ﾕﾆｯﾄ2起動中
OUT W0101.11             ; GD基板ﾈｼﾞ締め結果
;<h1/>/ ﾈｼﾞ供給自動
LD CR2002                ; 常時ON
ZRES M1600 M1639         ; ﾈｼﾞ供給開始
LDB M73                  ; 各工程起動指令
ANB M1985                ; ﾕﾆｯﾄ2起動中
ANB M1821                ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
ANB M1822                ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
ANB M1852                ; ﾈｼﾞ供給確認動作
MOV K0 D1501             ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
DW K0 D1601              ; UT2-2 ｽﾃｯﾌﾟﾓﾆﾀ
LD M73                   ; 各工程起動指令
OR M1985                 ; ﾕﾆｯﾄ2起動中
OR M1821                 ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
OR M1822                 ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
OR M1852                 ; ﾈｼﾞ供給確認動作
MOV D1501 Z1             ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
SET M1600:Z1             ; ﾈｼﾞ供給開始
CAL+ D1501 K1600 D1601   ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ  UT2-2 ｽﾃｯﾌﾟﾓﾆﾀ
;ﾈｼﾞ供給ｽﾃｯﾌﾟ開始
LD M1600                 ; ﾈｼﾞ供給開始
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
MPS
ANB T210                 ; ﾈｼﾞ供給ﾈｼﾞ検出
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
MPP
AND T210                 ; ﾈｼﾞ供給ﾈｼﾞ検出
MOV K10 D1501            ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
LD M1601                 ; ﾈｼﾞ供給ｴｽｹｰﾌﾟ戻り
AND T213                 ; ﾈｼﾞ供給ｴｽｹｰﾌﾟORG側端
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ到着確認
;到着時はｴｽｹｰﾌﾟ動作・未到着時は引っ掛かりNG
LD M1602                 ; ﾈｼﾞ供給ｴｽｹｰﾌﾟ戻り確認
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
MOV K0 D1580             ; ﾈｼﾞ検出ｶｳﾝﾀ(ﾁｬﾀﾘﾝｸﾞ対策)
MPS
ANB T210                 ; ﾈｼﾞ供給ﾈｼﾞ検出
MPS
TMR K240 K100            ; ﾈｼﾞ供給1ﾈｼﾞ引掛り
MPP
AND T240                 ; ﾈｼﾞ供給1ﾈｼﾞ引掛り
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
MRD
LD X0D                   ; ﾈｼﾞ供給ﾈｼﾞ検出
AND CR2004               ; 10msｸﾛｯｸﾊﾟﾙｽ
ANL
INC D1580                ; ﾈｼﾞ検出ｶｳﾝﾀ(ﾁｬﾀﾘﾝｸﾞ対策)
MPP
LD T210                  ; ﾈｼﾞ供給ﾈｼﾞ検出
OR>= D1580 K30           ; ﾈｼﾞ検出ｶｳﾝﾀ(ﾁｬﾀﾘﾝｸﾞ対策)
LD M125                  ; ﾈｼﾞ供給ﾕﾆｯﾄ閉正常
OR M1852                 ; ﾈｼﾞ供給確認動作
ANL
ANL
MOV K10 D1501            ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ引っ掛りｴﾗｰ発生
LD M1603                 ; ﾈｼﾞ供給引掛り
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K200 D200             ; ｴﾗｰｺｰﾄﾞNo.
CON
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
LD M1604                 ; ﾈｼﾞ供給引掛りｴﾗｰ発生
AND T214                 ; ﾈｼﾞ供給ｽﾗｲﾄﾞ閉確認ﾃﾞｨﾚｲ
ANP M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
LD M1605                 ; ﾈｼﾞ供給引掛ｴﾗｰ解除
AND T215                 ; ﾈｼﾞ供給ﾛｯｸ確認ﾃﾞｨﾚｲ
MPS
ANB X1002                ; ﾈｼﾞ供給ｽﾗｲﾄﾞ閉端
MOV K4 D1501             ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
MPP
AND X1002                ; ﾈｼﾞ供給ｽﾗｲﾄﾞ閉端
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
LD M1606                 ; ﾈｼﾞ供給ﾛｯｸ確認
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
MOV K1 D1501             ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
;ｴｽｹｰﾌﾟ送り確認、ﾛﾎﾞｯﾄへ取出可ON
LD M1610                 ; ﾈｼﾞ供給ﾈｼﾞ到着ｴｽｹｰﾌﾟ送
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
ANB M130                 ; 全体PAUSE
MPS
AND T212                 ; ﾈｼﾞ供給ｴｽｹｰﾌﾟ切出側端
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
MPP
ANB T212                 ; ﾈｼﾞ供給ｴｽｹｰﾌﾟ切出側端
MPS
TMR K241 K100            ; ﾈｼﾞ供給1ﾈｼﾞ切出引掛り
MPP
AND T241                 ; ﾈｼﾞ供給1ﾈｼﾞ切出引掛り
MOV K30 D1501            ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
;切出ｴﾗｰ
LD M1630                 ; ﾈｼﾞ供給切出ｴﾗｰ
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K201 D200             ; ｴﾗｰｺｰﾄﾞNo.
CON
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
LD M1631                 ; ﾈｼﾞ供給切出引掛りｴﾗｰ発生
AND T214                 ; ﾈｼﾞ供給ｽﾗｲﾄﾞ閉確認ﾃﾞｨﾚｲ
ANP M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
LD M1632                 ; ﾈｼﾞ供給ﾛｯｸ確認
AND T215                 ; ﾈｼﾞ供給ﾛｯｸ確認ﾃﾞｨﾚｲ
MPS
ANB X1002                ; ﾈｼﾞ供給ｽﾗｲﾄﾞ閉端
MOV K31 D1501            ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
MPP
AND X1002                ; ﾈｼﾞ供給ｽﾗｲﾄﾞ閉端
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
LD M1633                 ; ﾈｼﾞ供給ﾈｼﾞ切出ｴﾗｰ解除確認
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
MOV K11 D1501            ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
;ﾛﾎﾞｯﾄより取出完了確認
LD M1611                 ; ﾈｼﾞ供給ﾈｼﾞ取出可ON
MPS
LD X1282                 ; ﾈｼﾞ締め_RB_Take_out_OK(866)
LDB T210                 ; ﾈｼﾞ供給ﾈｼﾞ検出
AND M1852                ; ﾈｼﾞ供給確認動作
ORL
ANL
MOV K16 D1501            ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
MPP
LD X1283                 ; ﾈｼﾞ締め_RB_Take_out failure(867)
ANB M1852                ; ﾈｼﾞ供給確認動作
ANL
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
;RBねじ取出し不良
LD M1612                 ; ﾈｼﾞ供給ﾈｼﾞ取出ｴﾗｰ
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K202 D200             ; ｴﾗｰｺｰﾄﾞNo.
CON
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
LD M1613                 ; ﾈｼﾞ供給ﾈｼﾞ取出ｴﾗｰ発生
AND T214                 ; ﾈｼﾞ供給ｽﾗｲﾄﾞ閉確認ﾃﾞｨﾚｲ
ANP M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
LD M1614                 ; ﾈｼﾞ供給ﾛｯｸ確認
AND T215                 ; ﾈｼﾞ供給ﾛｯｸ確認ﾃﾞｨﾚｲ
MPS
ANB X1002                ; ﾈｼﾞ供給ｽﾗｲﾄﾞ閉端
MOV K13 D1501            ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
MPP
AND X1002                ; ﾈｼﾞ供給ｽﾗｲﾄﾞ閉端
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
LD M1615                 ; ﾈｼﾞ供給ﾈｼﾞ取出ｴﾗｰ解除確認
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ残ﾁｪｯｸ
LD M1616                 ; ﾈｼﾞ供給ﾈｼﾞ取出完了確認
ANB X1282                ; ﾈｼﾞ締め_RB_Take_out_OK(866)
MPS
TMR K242 K3              ; ﾈｼﾞ供給1ﾈｼﾞ残確認ﾃﾞｨﾚｲ
MPP
AND T242                 ; ﾈｼﾞ供給1ﾈｼﾞ残確認ﾃﾞｨﾚｲ
MPS
ANB T210                 ; ﾈｼﾞ供給ﾈｼﾞ検出
MOV K21 D1501            ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
MPP
AND T210                 ; ﾈｼﾞ供給ﾈｼﾞ検出
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
;切出ﾈｼﾞ残
LD M1617                 ; ﾈｼﾞ供給ﾈｼﾞ残ｴﾗｰ
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K203 D200             ; ｴﾗｰｺｰﾄﾞNo.
CON
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
LD M1618                 ; ﾈｼﾞ供給1ﾈｼﾞ残ｴﾗｰ発生
ANB T210                 ; ﾈｼﾞ供給ﾈｼﾞ検出
AND T214                 ; ﾈｼﾞ供給ｽﾗｲﾄﾞ閉確認ﾃﾞｨﾚｲ
ANP M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
LD M1619                 ; ﾈｼﾞ供給ﾛｯｸ確認
AND T215                 ; ﾈｼﾞ供給ﾛｯｸ確認ﾃﾞｨﾚｲ
MPS
ANB X1002                ; ﾈｼﾞ供給ｽﾗｲﾄﾞ閉端
MOV K18 D1501            ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
MPP
AND X1002                ; ﾈｼﾞ供給ｽﾗｲﾄﾞ閉端
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
LD M1620                 ; ﾈｼﾞ供給ﾈｼﾞ残ｴﾗｰ解除確認
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
;ｴｽｹｰﾌﾟ戻
LD M1621                 ; ﾈｼﾞ供給ﾈｼﾞ取出完了OFF確認
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
INC D1501                ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
LD M1622                 ; ﾈｼﾞ供給ｴｽｹｰﾌﾟ戻り
AND T213                 ; ﾈｼﾞ供給ｴｽｹｰﾌﾟORG側端
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
ANB M130                 ; 全体PAUSE
MOV K0 D1501             ; ﾕﾆｯﾄ2-2自動運転ｽﾃｯﾌﾟ
;<h1/>■原点復帰
;□□□□□□□□□□□□□□□
;□     UNIT2原点復帰回路    □
;□□□□□□□□□□□□□□□
LD CR2002                ; 常時ON
ZRES M1750 M1799         ; 原点復帰開始  ﾕﾆｯﾄ2原点終了
LDB M1984                ; ﾕﾆｯﾄ2原点復帰中
MOV K0 D1510             ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
DW K0 D1610              ; UT2 origin STEP monitor
LD M1984                 ; ﾕﾆｯﾄ2原点復帰中
MOV D1510 Z1             ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
SET M1750:Z1             ; 原点復帰開始
CAL+ D1510 K1750 D1610   ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ  UT2 origin STEP monitor
;設定初期化
LD M1750                 ; 原点復帰開始
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
@MOV K0 D1550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K0 D1551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K0 D1552            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D1550 K0             ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D1551 K0            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D1552 K0            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
;原点復帰開始
LD M1751                 ; ﾃﾞｰﾀ初期化完了
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
@MOV K1 D1550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D1551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K50 D1552           ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D1550 K1             ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D1551 K1            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D1552 K50           ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1752                 ; 原点復帰起動
AND X1221                ; ﾈｼﾞ締め_RB_RUN
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1753                 ; 原点復帰起動確認
ANB X1221                ; ﾈｼﾞ締め_RB_RUN
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1754                 ; ﾈｼﾞ締め押え上昇
AND T115                 ; ｼｰﾙﾄﾞｱﾝｸﾗﾝﾌﾟ端
AND T117                 ; 基板ｱﾝｸﾗﾝﾌﾟ端
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
;原点復帰終了
LD M1755                 ; 基板ﾈｼﾞ締め押え上昇確認
AND M1980                ; ﾕﾆｯﾄ2原点
@MOV K48 D1510           ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1798                 ; ﾕﾆｯﾄ2原点確認
ANB M82                  ; 原点復帰開始
@MOV K49 D1510           ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
;<h1/>■手動回路
;□□□□□□□□□□□□□□□
;□       UNIT2手動回路      □
;□□□□□□□□□□□□□□□
LD M50                   ; 運転準備
AND M31                  ; 手動ﾓｰﾄﾞ
AND M32                  ; ﾒｲﾝ手動操作可能条件
ANB M1985                ; ﾕﾆｯﾄ2起動中
ANB M1984                ; ﾕﾆｯﾄ2原点復帰中
MC
;ﾈｼﾞ供給切出
LD CR2002                ; 常時ON
OUT M1800                ; ﾈｼﾞ供給切出可
LD B10A0                 ; UNIT2-1-1 TP-PB
AND M1800                ; ﾈｼﾞ供給切出可
OR M1801                 ; ﾈｼﾞ供給切出
ANPB M1803               ; ﾈｼﾞ供給切出戻
ANB M1821                ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
ANB M1852                ; ﾈｼﾞ供給確認動作
OUT M1801                ; ﾈｼﾞ供給切出
LD CR2002                ; 常時ON
OUT M1802                ; ﾈｼﾞ供給切出戻可
LD B10A1                 ; UNIT2-1-2 TP-PB
AND M1802                ; ﾈｼﾞ供給切出戻可
OR M1803                 ; ﾈｼﾞ供給切出戻
ANPB M1801               ; ﾈｼﾞ供給切出
ANB M1821                ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
ANB M1852                ; ﾈｼﾞ供給確認動作
OUT M1803                ; ﾈｼﾞ供給切出戻
;ﾈｼﾞ供給電源
LD CR2002                ; 常時ON
OUT M1804                ; ﾈｼﾞ供給電源入可
LD B10A2                 ; UNIT2-1-3 TP-PB
AND M1804                ; ﾈｼﾞ供給電源入可
OR M1805                 ; ﾈｼﾞ供給電源入
LDB B10A3                ; UNIT2-1-4 TP-PB
OR M1821                 ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
ANL
OUT M1805                ; ﾈｼﾞ供給電源入
;ﾈｼﾞ供給ﾛｯｸ
LD CR2002                ; 常時ON
ANB M1821                ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
OUT M1806                ; ﾈｼﾞ供給ﾛｯｸ解除可
LD B10A4                 ; UNIT2-1-5 TP-PB
AND M1806                ; ﾈｼﾞ供給ﾛｯｸ解除可
OR M1807                 ; ﾈｼﾞ供給ﾛｯｸ解除
ANPB M1809               ; ﾈｼﾞ供給ﾛｯｸ
OUT M1807                ; ﾈｼﾞ供給ﾛｯｸ解除
LD CR2002                ; 常時ON
ANB M1821                ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
OUT M1808                ; ﾈｼﾞ供給ﾛｯｸ可
LD B10A5                 ; UNIT2-1-6 TP-PB
AND M1808                ; ﾈｼﾞ供給ﾛｯｸ可
OR M1809                 ; ﾈｼﾞ供給ﾛｯｸ
ANPB M1807               ; ﾈｼﾞ供給ﾛｯｸ解除
OUT M1809                ; ﾈｼﾞ供給ﾛｯｸ
;ﾈｼﾞ締め1ｻｲｸﾙ手動
LDB X1221                ; ﾈｼﾞ締め_RB_RUN
AND X1223                ; ﾈｼﾞ締め_RB_SV_ON
AND X1224                ; ﾈｼﾞ締め_RB_Ready
AND X1225                ; ﾈｼﾞ締め_RB_Auto
AND X1226                ; ﾈｼﾞ締め_RB_EXT
ANB X1228                ; ﾈｼﾞ締め_RB_Worning
AND X1286                ; ﾈｼﾞ締め_RB_ORG(870)
AND X126F                ; ﾈｼﾞ締め_RB_Area1(ORG)
AND T215                 ; ﾈｼﾞ供給ﾛｯｸ確認ﾃﾞｨﾚｲ
ANB M1821                ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
ANB M1822                ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
ANB M1836                ; 原点移動(手動)
ANB M1841                ; ﾒﾝﾃﾅﾝｽ移動(手動)
ANB M1857                ; MANUAL_ON
OUT M1820                ; ﾈｼﾞ締めｻｲｸﾙ可
;ｼｰﾙﾄﾞ
LDP B10A8                ; UNIT2-1-9 TP-PB
AND M1820                ; ﾈｼﾞ締めｻｲｸﾙ可
AND= D1570 W0121         ; 手動ﾈｼﾞ締め機種No.  ｼｰﾙﾄﾞ押えﾊﾞｯｸｱｯﾌﾟﾎﾞｰﾄﾞID
ANB M1822                ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
OR M1821                 ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
ANB M1983                ; ﾕﾆｯﾄ2起動OFF
ANB M1829                ; ﾈｼﾞ締め終了
@MOV K1 D1572            ; 手動ﾈｼﾞ締め選択(1:WJ 2:GD)
OUT M1821                ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
;基板
LDP B10A9                ; UNIT2-1-10 TP-PB
AND M1820                ; ﾈｼﾞ締めｻｲｸﾙ可
AND= D1570 W0122         ; 手動ﾈｼﾞ締め機種No.  基板押えﾊﾞｯｸｱｯﾌﾟﾎﾞｰﾄﾞID
ANB M1821                ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
OR M1822                 ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
ANB M1983                ; ﾕﾆｯﾄ2起動OFF
ANB M1829                ; ﾈｼﾞ締め終了
@MOV K2 D1572            ; 手動ﾈｼﾞ締め選択(1:WJ 2:GD)
OUT M1822                ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
;ﾜｰｸｸﾗﾝﾌﾟ
LDP M1821                ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
ORP M1822                ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
OR M1823                 ; 1ｻｲｸﾙﾈｼﾞ締めｸﾗﾝﾌﾟ閉
LD M1821                 ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
OR M1822                 ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
ANL
ANB M1824                ; ﾈｼﾞ締めﾃﾞｰﾀｾｯﾄ
OUT M1823                ; 1ｻｲｸﾙﾈｼﾞ締めｸﾗﾝﾌﾟ閉
;ﾈｼﾞ締めﾃﾞｰﾀ転送
LD M1823                 ; 1ｻｲｸﾙﾈｼﾞ締めｸﾗﾝﾌﾟ閉
AND T114                 ; ｼｰﾙﾄﾞｸﾗﾝﾌﾟ端
AND T116                 ; 基板ｸﾗﾝﾌﾟ端
OR M1824                 ; ﾈｼﾞ締めﾃﾞｰﾀｾｯﾄ
LD M1821                 ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
OR M1822                 ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
ANL
ANB M1825                ; ﾈｼﾞ締めPRG.ｽﾀｰﾄ
@MOV D1570 D1521         ; 手動ﾈｼﾞ締め機種No.  Screwe RB  機種 No.
MPS
@MOV D1571 D1522         ; 手動ﾈｼﾞ締め本数  Screwe RB  ﾈｼﾞ締め本数
MPP
LD= D1521 D1570          ; Screwe RB  機種 No.  手動ﾈｼﾞ締め機種No.
AND= D1522 D1571         ; Screwe RB  ﾈｼﾞ締め本数  手動ﾈｼﾞ締め本数
ANL
OUT M1824                ; ﾈｼﾞ締めﾃﾞｰﾀｾｯﾄ
;ﾈｼﾞ締め動作開始起動
LD M1824                 ; ﾈｼﾞ締めﾃﾞｰﾀｾｯﾄ
OR M1825                 ; ﾈｼﾞ締めPRG.ｽﾀｰﾄ
LD M1821                 ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
OR M1822                 ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
ANL
ANB M1826                ; ﾈｼﾞ締め動作開始確認
@MOV K1 D1550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D1551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K1 D1552            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D1550 K1             ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D1551 K1            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D1552 K1            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
OUT M1825                ; ﾈｼﾞ締めPRG.ｽﾀｰﾄ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M1825                 ; ﾈｼﾞ締めPRG.ｽﾀｰﾄ
AND X1221                ; ﾈｼﾞ締め_RB_RUN
AND X1225                ; ﾈｼﾞ締め_RB_Auto
OR M1826                 ; ﾈｼﾞ締め動作開始確認
LD M1821                 ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
OR M1822                 ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
ANL
ANB M1827                ; ﾈｼﾞ締め完了待ち
OUT M1826                ; ﾈｼﾞ締め動作開始確認
LD M1826                 ; ﾈｼﾞ締め動作開始確認
AND X1288                ; ﾈｼﾞ締め_RB_Screw_Start(872)
ANB X1280                ; ﾈｼﾞ締め_RB_ALL_Complete(864)
ANB X1283                ; ﾈｼﾞ締め_RB_Take_out failure(867)
ANB X1285                ; ﾈｼﾞ締め_RB_Screw fail  (869)
ANB X128A                ; ﾈｼﾞ締め_RB_Process_of_Stop(874)
ANB X128C                ; ﾈｼﾞ締め_RB_Discharge_miss(876)
OR M1827                 ; ﾈｼﾞ締め完了待ち
LD M1821                 ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
OR M1822                 ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
ANL
ANB M1828                ; 1ｻｲｸﾙｸﾗﾝﾌﾟ開
OUT M1827                ; ﾈｼﾞ締め完了待ち
;ﾈｼﾞ締め1ｻｲｸﾙ完了
LD M1827                 ; ﾈｼﾞ締め完了待ち
ANB X1288                ; ﾈｼﾞ締め_RB_Screw_Start(872)
AND X128B                ; ﾈｼﾞ締め_RB_Operat_stop(875)
ANB X1221                ; ﾈｼﾞ締め_RB_RUN
OR M1828                 ; 1ｻｲｸﾙｸﾗﾝﾌﾟ開
LD M1821                 ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
OR M1822                 ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
ANL
ANB M1829                ; ﾈｼﾞ締め終了
OUT M1828                ; 1ｻｲｸﾙｸﾗﾝﾌﾟ開
;ｸﾗﾝﾌﾟ開
LD M1828                 ; 1ｻｲｸﾙｸﾗﾝﾌﾟ開
AND T115                 ; ｼｰﾙﾄﾞｱﾝｸﾗﾝﾌﾟ端
AND T117                 ; 基板ｱﾝｸﾗﾝﾌﾟ端
OR M1829                 ; ﾈｼﾞ締め終了
LD M1821                 ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
OR M1822                 ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
ANL
OUT M1829                ; ﾈｼﾞ締め終了
;原点移動(手動)
LDB X1221                ; ﾈｼﾞ締め_RB_RUN
AND X1223                ; ﾈｼﾞ締め_RB_SV_ON
AND X1224                ; ﾈｼﾞ締め_RB_Ready
AND X1225                ; ﾈｼﾞ締め_RB_Auto
AND X1226                ; ﾈｼﾞ締め_RB_EXT
ANB X1228                ; ﾈｼﾞ締め_RB_Worning
ANB M1821                ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
ANB M1822                ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
ANB M1836                ; 原点移動(手動)
ANB M1841                ; ﾒﾝﾃﾅﾝｽ移動(手動)
ANB M1857                ; MANUAL_ON
OUT M1835                ; 原点移動可
LDP B10AA                ; UNIT2-1-11 TP-PB
AND M1835                ; 原点移動可
OR M1836                 ; 原点移動(手動)
ANB M1983                ; ﾕﾆｯﾄ2起動OFF
ANB M1839                ; 移動終了
OUT M1836                ; 原点移動(手動)
;ﾒﾝﾃﾅﾝｽ位置移動起動
LDP M1836                ; 原点移動(手動)
OR M1837                 ; 原点移動PRG.ｽﾀｰﾄ
AND M1836                ; 原点移動(手動)
ANB M1838                ; 動作開始確認
@MOV K1 D1550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D1551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K50 D1552           ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D1550 K1             ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D1551 K1            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D1552 K50           ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
OUT M1837                ; 原点移動PRG.ｽﾀｰﾄ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M1837                 ; 原点移動PRG.ｽﾀｰﾄ
AND X1221                ; ﾈｼﾞ締め_RB_RUN
OR M1838                 ; 動作開始確認
AND M1836                ; 原点移動(手動)
ANB M1839                ; 移動終了
OUT M1838                ; 動作開始確認
LD M1838                 ; 動作開始確認
ANB X1221                ; ﾈｼﾞ締め_RB_RUN
OR M1839                 ; 移動終了
AND M1836                ; 原点移動(手動)
OUT M1839                ; 移動終了
;ﾒﾝﾃﾅﾝｽ位置移動(手動)
LDB X1221                ; ﾈｼﾞ締め_RB_RUN
AND X1223                ; ﾈｼﾞ締め_RB_SV_ON
AND X1224                ; ﾈｼﾞ締め_RB_Ready
AND X1225                ; ﾈｼﾞ締め_RB_Auto
AND X1226                ; ﾈｼﾞ締め_RB_EXT
ANB X1228                ; ﾈｼﾞ締め_RB_Worning
AND X1286                ; ﾈｼﾞ締め_RB_ORG(870)
AND X126F                ; ﾈｼﾞ締め_RB_Area1(ORG)
ANB M1821                ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
ANB M1822                ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
ANB M1836                ; 原点移動(手動)
ANB M1841                ; ﾒﾝﾃﾅﾝｽ移動(手動)
ANB M1857                ; MANUAL_ON
OUT M1840                ; ﾒﾝﾃﾅﾝｽ移動可
LDP B10AB                ; UNIT2-1-12 TP-PB
AND M1840                ; ﾒﾝﾃﾅﾝｽ移動可
OR M1841                 ; ﾒﾝﾃﾅﾝｽ移動(手動)
ANB M1983                ; ﾕﾆｯﾄ2起動OFF
ANB M1844                ; 移動終了
OUT M1841                ; ﾒﾝﾃﾅﾝｽ移動(手動)
;ﾒﾝﾃﾅﾝｽ位置移動起動
LDP M1841                ; ﾒﾝﾃﾅﾝｽ移動(手動)
OR M1842                 ; ﾒﾝﾃﾅﾝｽ移動PRG.ｽﾀｰﾄ
AND M1841                ; ﾒﾝﾃﾅﾝｽ移動(手動)
ANB M1843                ; 動作開始確認
@MOV K1 D1550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D1551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K10 D1552           ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D1550 K1             ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D1551 K1            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D1552 K10           ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
OUT M1842                ; ﾒﾝﾃﾅﾝｽ移動PRG.ｽﾀｰﾄ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M1842                 ; ﾒﾝﾃﾅﾝｽ移動PRG.ｽﾀｰﾄ
AND X1221                ; ﾈｼﾞ締め_RB_RUN
AND X1225                ; ﾈｼﾞ締め_RB_Auto
OR M1843                 ; 動作開始確認
AND M1841                ; ﾒﾝﾃﾅﾝｽ移動(手動)
ANB M1844                ; 移動終了
OUT M1843                ; 動作開始確認
LD M1843                 ; 動作開始確認
ANB X1221                ; ﾈｼﾞ締め_RB_RUN
ANB X1225                ; ﾈｼﾞ締め_RB_Auto
OR M1844                 ; 移動終了
AND M1841                ; ﾒﾝﾃﾅﾝｽ移動(手動)
OUT M1844                ; 移動終了
;ﾈｼﾞ供給動作確認
LD Y53                   ; ﾈｼﾞ供給機電源ON
ANB M1821                ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
ANB M1822                ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
OUT M1850                ; ﾈｼﾞ供給確認動作可
LDP B10A7                ; UNIT2-1-8 TP-PB
AND M1852                ; ﾈｼﾞ供給確認動作
OUT M1851                ; ﾈｼﾞ供給確認動作切
LDP B10A6                ; UNIT2-1-7 TP-PB
AND M1850                ; ﾈｼﾞ供給確認動作可
ANB M1852                ; ﾈｼﾞ供給確認動作
OR M1852                 ; ﾈｼﾞ供給確認動作
ANB M1851                ; ﾈｼﾞ供給確認動作切
OUT M1852                ; ﾈｼﾞ供給確認動作
MCR
;ROBOT AUTO/MANU
LDB M1984                ; ﾕﾆｯﾄ2原点復帰中
ANB M1821                ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
ANB M1822                ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
ANB M1836                ; 原点移動(手動)
ANB M1841                ; ﾒﾝﾃﾅﾝｽ移動(手動)
OUT M1855                ; MANUAL_切替可
LDP B10AF                ; UNIT2-1-16 TP-PB
AND M1857                ; MANUAL_ON
OUT M1856                ; MANUAL_OFF
LDP B10AF                ; UNIT2-1-16 TP-PB
AND M1855                ; MANUAL_切替可
ANB M1857                ; MANUAL_ON
OR M1857                 ; MANUAL_ON
ANB M1856                ; MANUAL_OFF
AND M31                  ; 手動ﾓｰﾄﾞ
ANB M51                  ; 即停止異常(緊急停止)
AND= D12000 K200         ; 表示画面No.
OUT M1857                ; MANUAL_ON
;<h1/>/ RB補助回路
;ﾛﾎﾞｯﾄ初期準備
LD M50                   ; 運転準備
AND X1224                ; ﾈｼﾞ締め_RB_Ready
AND X1225                ; ﾈｼﾞ締め_RB_Auto
MEP
LD M30                   ; 自動ﾓｰﾄﾞ
ANB X1223                ; ﾈｼﾞ締め_RB_SV_ON
MEP
ORL
OR M1902                 ; 塗布RB運転準備
ANB M1904                ; 塗布RBｻｰﾎﾞON､CAL完了
ANB M1912                ; 塗布RB初期準備
AND X1225                ; ﾈｼﾞ締め_RB_Auto
TMR K231 K5              ; 基板ﾈｼﾞ締RB初期化処理開始ﾃﾞｨﾚｲ
OUT M1902                ; 塗布RB運転準備
LD M1902                 ; 塗布RB運転準備
AND T231                 ; 基板ﾈｼﾞ締RB初期化処理開始ﾃﾞｨﾚｲ
MEP
OR M1903                 ; 塗布RBｻｰﾎﾞON､CAL要求
ANB M1904                ; 塗布RBｻｰﾎﾞON､CAL完了
AND M1902                ; 塗布RB運転準備
MPS
ANB X1223                ; ﾈｼﾞ締め_RB_SV_ON
@MOV K131 D1550          ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
MRD
AND X1223                ; ﾈｼﾞ締め_RB_SV_ON
@MOV K128 D1550          ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
MRD
@MOV K7 D1551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPP
OUT M1903                ; 塗布RBｻｰﾎﾞON､CAL要求
LD M1903                 ; 塗布RBｻｰﾎﾞON､CAL要求
AND X122E                ; ﾈｼﾞ締め_RB_Command_End
MEP
OR M1904                 ; 塗布RBｻｰﾎﾞON､CAL完了
ANB M1905                ; 塗布RB外部ﾓｰﾄﾞ要求
AND M1902                ; 塗布RB運転準備
OUT M1904                ; 塗布RBｻｰﾎﾞON､CAL完了
;調整時速度をペンダントから行う場合(ﾓｰﾀｰON､CAL実行)+(外部ﾓｰﾄﾞ切替)
;時に使用
LD CR2003                ; 常時OFF
AND M1904                ; 塗布RBｻｰﾎﾞON､CAL完了
ANB X122E                ; ﾈｼﾞ締め_RB_Command_End
MEP
OR M1905                 ; 塗布RB外部ﾓｰﾄﾞ要求
ANB M1906                ; 塗布RB外部ﾓｰﾄﾞ完了
AND M1902                ; 塗布RB運転準備
@MOV K128 D1550          ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K7 D1551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
OUT M1905                ; 塗布RB外部ﾓｰﾄﾞ要求
LD M1905                 ; 塗布RB外部ﾓｰﾄﾞ要求
AND X122E                ; ﾈｼﾞ締め_RB_Command_End
MEP
OR M1906                 ; 塗布RB外部ﾓｰﾄﾞ完了
AND M1902                ; 塗布RB運転準備
OUT M1906                ; 塗布RB外部ﾓｰﾄﾞ完了
;自動運転時ﾌﾟﾛｸﾞﾗﾑ強制停止
LDB M1902                ; 塗布RB運転準備
ANB M1903                ; 塗布RBｻｰﾎﾞON､CAL要求
ANB M1904                ; 塗布RBｻｰﾎﾞON､CAL完了
ANB M1905                ; 塗布RB外部ﾓｰﾄﾞ要求
ANB M1906                ; 塗布RB外部ﾓｰﾄﾞ完了
OUT M1919                ; ｺﾏﾝﾄﾞ実行中無
LD X1229                 ; ﾈｼﾞ締め_RB_Continue
ANB M1985                ; ﾕﾆｯﾄ2起動中
ANB M1984                ; ﾕﾆｯﾄ2原点復帰中
AND X1224                ; ﾈｼﾞ締め_RB_Ready
ORP T15                  ; 強制停止
ORP M51                  ; 即停止異常(緊急停止)
OR M1907                 ; 塗布RB停止指令
AND M1919                ; ｺﾏﾝﾄﾞ実行中無
ANB X122E                ; ﾈｼﾞ締め_RB_Command_End
ANB T120                 ; ねじ締めRB強制停止ﾘｾｯﾄ
TMR K120 K10             ; ねじ締めRB強制停止ﾘｾｯﾄ
@MOV K64 D1550           ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D1551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
@MOV D1552 D1552         ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号  ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
OUT M1907                ; 塗布RB停止指令
;自動運転時ｱﾗｰﾑ発生ｽﾃｯﾌﾟ停止
LD CR2003                ; 常時OFF
OR M1909                 ; Screw_RBｽﾃｯﾌﾟ停止
AND M1985                ; ﾕﾆｯﾄ2起動中
AND X1221                ; ﾈｼﾞ締め_RB_RUN
@MOV K16 D1550           ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D1550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D1551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
OUT M1909                ; Screw_RBｽﾃｯﾌﾟ停止
;自動運転時ｱﾗｰﾑ解除ｽﾃｯﾌﾟ続行機動
LD M1514                 ; ﾈｼﾞ締め完了待ち
OR M1984                 ; ﾕﾆｯﾄ2原点復帰中
AND Y52                  ; ﾈｼﾞ締めRBｲﾈｰﾌﾞﾙ
AND Y2222                ; ﾈｼﾞ締め_RB_Instant stop
ANB X1222                ; ﾈｼﾞ締め_RB_Error
ANB X1228                ; ﾈｼﾞ締め_RB_Worning
AND X1223                ; ﾈｼﾞ締め_RB_SV_ON
AND X1224                ; ﾈｼﾞ締め_RB_Ready
AND X1225                ; ﾈｼﾞ締め_RB_Auto
AND X1226                ; ﾈｼﾞ締め_RB_EXT
AND X1229                ; ﾈｼﾞ締め_RB_Continue
TMR K121 K7              ; ねじ締めRBｺﾝﾃｨﾆｭｰﾃﾞｨﾚｲ
LD T121                  ; ねじ締めRBｺﾝﾃｨﾆｭｰﾃﾞｨﾚｲ
OR M1910                 ; Screw_RBｽﾃｯﾌﾟ起動
AND X1229                ; ﾈｼﾞ締め_RB_Continue
@MOV K4 D1550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D1551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
OUT M1910                ; Screw_RBｽﾃｯﾌﾟ起動
;ﾛﾎﾞｯﾄｱﾗｰﾑﾘｾｯﾄ
LD M16                   ; ﾘｾｯﾄPB
ORP M50                  ; 運転準備
OR M1914                 ; Screw_RB1ｱﾗｰﾑﾘｾｯﾄ記憶
LD X1222                 ; ﾈｼﾞ締め_RB_Error
OR X1228                 ; ﾈｼﾞ締め_RB_Worning
ANL
OUT M1914                ; Screw_RB1ｱﾗｰﾑﾘｾｯﾄ記憶
LD M1914                 ; Screw_RB1ｱﾗｰﾑﾘｾｯﾄ記憶
ANB T233                 ; 基板ﾈｼﾞ締RBｱﾗｰﾑﾘｾｯﾄﾘﾄﾗｲ
@MOV K1000 D1551         ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
TMR K233 K10             ; 基板ﾈｼﾞ締RBｱﾗｰﾑﾘｾｯﾄﾘﾄﾗｲ
OUT M1908                ; 塗布RBｱﾗｰﾑﾘｾｯﾄ
;扉開時ﾛﾎﾞｯﾄ警告解除
LD Y52                   ; ﾈｼﾞ締めRBｲﾈｰﾌﾞﾙ
AND Y2222                ; ﾈｼﾞ締め_RB_Instant stop
OR M1911                 ; ﾈｼﾞ締RB扉開時警告解除処理
AND X1228                ; ﾈｼﾞ締め_RB_Worning
ANB T232                 ; 基板ﾈｼﾞ締RB扉開時警告解除ﾀｲﾏ
ANB B01                  ; 非常停止異常
@MOV K1000 D1551         ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
TMR K232 K10             ; 基板ﾈｼﾞ締RB扉開時警告解除ﾀｲﾏ
OUT M1911                ; ﾈｼﾞ締RB扉開時警告解除処理
;<h1/>■出力
;ﾈｼﾞ締めRB ｼｽﾃﾑI/O
LD M5                    ; 運転準備補助
LD M123                  ; 安全扉正常
OR M9                    ; RB停止処理変更
ANL
ANB M1857                ; MANUAL_ON
ANB M1986                ; ﾕﾆｯﾄ2ｻｲｸﾙ停止異常
OUT Y52                  ; ﾈｼﾞ締めRBｲﾈｰﾌﾞﾙ
LD CR2002                ; 常時ON
OUT Y2220                ; ﾈｼﾞ締め_RB_Step_Stop
LD M121                  ; 非常停止正常
AND M123                 ; 安全扉正常
LD M124                  ; ｴﾘｱｾﾝｻ正常
ANB M130                 ; 全体PAUSE
OR X128D                 ; ﾈｼﾞ締め_RB_Screw_Busy(877)
ANL
OUT Y2222                ; ﾈｼﾞ締め_RB_Instant stop
LD M1562                 ; ﾈｼﾞ締め続行ﾌﾗｸﾞ
OUT Y2224                ; ﾈｼﾞ締め_RB_Interrupt_Skip
;ﾛﾎﾞｯﾄｽﾄﾛｰﾌﾞ
LDB M1908                ; 塗布RBｱﾗｰﾑﾘｾｯﾄ
ANB M1911                ; ﾈｼﾞ締RB扉開時警告解除処理
INV
OUT M1912                ; 塗布RB初期準備
;自動､原点復帰､手動1ｻｲｸﾙを入れる
LDB M1512                ; ﾈｼﾞ締めPRG.ｽﾀｰﾄ
ANB M1752                ; 原点復帰起動
ANB M1825                ; ﾈｼﾞ締めPRG.ｽﾀｰﾄ
ANB M1837                ; 原点移動PRG.ｽﾀｰﾄ
ANB M1842                ; ﾒﾝﾃﾅﾝｽ移動PRG.ｽﾀｰﾄ
ANB M1903                ; 塗布RBｻｰﾎﾞON､CAL要求
ANB M1905                ; 塗布RB外部ﾓｰﾄﾞ要求
ANB M1907                ; 塗布RB停止指令
ANB M1909                ; Screw_RBｽﾃｯﾌﾟ停止
ANB M1910                ; Screw_RBｽﾃｯﾌﾟ起動
INV
AND M124                 ; ｴﾘｱｾﾝｻ正常
OUT M1913                ; 基板ﾈｼﾞ締RB起動処理
LDB M1912                ; 塗布RB初期準備
ANB M1913                ; 基板ﾈｼﾞ締RB起動処理
INV
MPS
AND Y2222                ; ﾈｼﾞ締め_RB_Instant stop
TMR K230 K2              ; 基板ﾈｼﾞ締RBｺﾏﾝﾄﾞｽﾄﾛｰﾌﾞONﾃﾞｨﾚｲ
MPP
AND T230                 ; 基板ﾈｼﾞ締RBｺﾏﾝﾄﾞｽﾄﾛｰﾌﾞONﾃﾞｨﾚｲ
OUT Y2223                ; ﾈｼﾞ締め_RB_Strobe
;ﾛﾎﾞｯﾄｺﾏﾝﾄﾞ出力
LD M1912                 ; 塗布RB初期準備
OR M1913                 ; 基板ﾈｼﾞ締RB起動処理
MPS
AND D1551.0              ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ0Bit
OUT Y2240                ; ﾈｼﾞ締め_RB_Cmd_0bit
MRD
AND D1551.1              ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ1Bit
OUT Y2241                ; ﾈｼﾞ締め_RB_Cmd_1bit
MRD
AND D1551.2              ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ2Bit
OUT Y2242                ; ﾈｼﾞ締め_RB_Cmd_2bit
MPP
AND D1551.3              ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ3Bit
OUT Y2243                ; ﾈｼﾞ締め_RB_Cmd_3bit
LD M1913                 ; 基板ﾈｼﾞ締RB起動処理
MPS
LDA D1550                ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
CON
PSTA Y2228 K8            ; ﾈｼﾞ締め_RB_Data1-0bit
MPP
LDA D1552                ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
CON
PSTA Y2230 K8            ; ﾈｼﾞ締め_RB_Data2-0bit
LDB M1913                ; 基板ﾈｼﾞ締RB起動処理
MPS
LDA K0
CON
PSTA Y2228 K8            ; ﾈｼﾞ締め_RB_Data1-0bit
MPP
LDA K0
CON
PSTA Y2230 K8            ; ﾈｼﾞ締め_RB_Data2-0bit
LD CR2003                ; 常時OFF
ANB M1912                ; 塗布RB初期準備
OUT Y2227                ; ﾈｼﾞ締め_RB_Cmd_Odd_Parity
;ﾈｼﾞ締めRBﾌﾟﾛｸﾞﾗﾑI/F I/O
;動作機種･ﾈｼﾞ締め本数転送
LD CR2002                ; 常時ON
PMOV D1521 K0 Y2248 K0 K7; Screwe RB  機種 No.  ﾈｼﾞ締め_RB_機種_No.1
PMOV D1522 K0 Y2250 K0 K7; Screwe RB  ﾈｼﾞ締め本数  ﾈｼﾞ締め_RB_ﾈｼﾞ本数_No.1(560)
;ﾈｼﾞ締め選択(OFF:投入1 ON:投入2)
;※能拡前は投入1のみの為、常時OFF
LD CR2003                ; 常時OFF
OUT Y2258                ; ﾈｼﾞ締め_RB_OFF:1 ON:2 選択(568)
;ﾈｼﾞ締め選択(OFF:WJ ON:GD基板)
LD W0101.10              ; GD基板ﾈｼﾞ締め動作中
LD M1822                 ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
AND= D1572 K2            ; 手動ﾈｼﾞ締め選択(1:WJ 2:GD)
ORL
OUT Y2259                ; ﾈｼﾞ締め_RB_OFF:WJ ON:GD選択(569)
;:
LD CR2002                ; 常時ON
OUT Y2261                ; ﾈｼﾞ締め_RB_Screw_Start(577)
LD M1611                 ; ﾈｼﾞ供給ﾈｼﾞ取出可ON
OUT Y2263                ; ﾈｼﾞ締め_RB_Picup_OK(579)
LD CR2002                ; 常時ON
OUT Y2265                ; ﾈｼﾞ締め_RB_Can continue(581)
LD M1570                 ; ﾃﾞｰﾀ取得確認
LD M1821                 ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
OR M1822                 ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
AND X1281                ; ﾈｼﾞ締め_RB_Complete(865)
AND CR2003               ; 常時OFF
ORL
OUT Y2266                ; ﾈｼﾞ締め_RB_Complete_Ans(582)
LD M1036                 ; ｼｰﾙﾄﾞﾈｼﾞ締め要求
AND W0101.8              ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め動作中
OR M1821                 ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
AND T114                 ; ｼｰﾙﾄﾞｸﾗﾝﾌﾟ端
LD M1076                 ; 基板ﾈｼﾞ締め要求
AND W0101.10             ; GD基板ﾈｼﾞ締め動作中
ORL
OR M1822                 ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
AND T116                 ; 基板ｸﾗﾝﾌﾟ端
OUT Y2267                ; ﾈｼﾞ締め_ﾈｼﾞ締め可能(583)
;ﾈｼﾞ供給電源
LDB M73                  ; 各工程起動指令
ANB M1985                ; ﾕﾆｯﾄ2起動中
ANB M1805                ; ﾈｼﾞ供給電源入
ANB M1821                ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
ANB M1822                ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
INV
LD X1002                 ; ﾈｼﾞ供給ｽﾗｲﾄﾞ閉端
OR M31                   ; 手動ﾓｰﾄﾞ
ANL
OUT Y53                  ; ﾈｼﾞ供給機電源ON
;ﾈｼﾞ供給1ｽﾗｲﾄﾞﾛｯｸ
LD Y50                   ; 安全扉ﾛｯｸ
OR M1809                 ; ﾈｼﾞ供給ﾛｯｸ
LDB M1604                ; ﾈｼﾞ供給引掛りｴﾗｰ発生
ANB M1613                ; ﾈｼﾞ供給ﾈｼﾞ取出ｴﾗｰ発生
ANB M1618                ; ﾈｼﾞ供給1ﾈｼﾞ残ｴﾗｰ発生
ANB M1631                ; ﾈｼﾞ供給切出引掛りｴﾗｰ発生
LDB X1269                ; ﾈｼﾞ締め_RB_Screw_wait(841)
AND X1221                ; ﾈｼﾞ締め_RB_RUN
ORL
ANL
OUT Y2044                ; ﾈｼﾞ供給ｽﾗｲﾄﾞﾛｯｸSV
LDB Y2044                ; ﾈｼﾞ供給ｽﾗｲﾄﾞﾛｯｸSV
OUT Y2045                ; ﾈｼﾞ供給ｽﾗｲﾄﾞｱﾝﾛｯｸSV
;ﾈｼﾞ供給切出ﾊﾞﾙﾌﾞ
LDB M1610                ; ﾈｼﾞ供給ﾈｼﾞ到着ｴｽｹｰﾌﾟ送
ANB M1801                ; ﾈｼﾞ供給切出
INV
LDP M50                  ; 運転準備
AND X0E                  ; ﾈｼﾞ供給切出端
ORL
LD Y2046                 ; ﾈｼﾞ供給切出SV
ANB Y2047                ; ﾈｼﾞ供給切出戻SV
ORL
OUT Y2046                ; ﾈｼﾞ供給切出SV
LDB M1601                ; ﾈｼﾞ供給ｴｽｹｰﾌﾟ戻り
ANB M1622                ; ﾈｼﾞ供給ｴｽｹｰﾌﾟ戻り
ANB M1803                ; ﾈｼﾞ供給切出戻
INV
LDP M50                  ; 運転準備
AND X0F                  ; ﾈｼﾞ供給切出戻端
ORL
LD Y2047                 ; ﾈｼﾞ供給切出戻SV
ANB Y2046                ; ﾈｼﾞ供給切出SV
ORL
OUT Y2047                ; ﾈｼﾞ供給切出戻SV
;<h1/>■表示
;□□　　パネル表示　　□□
LD X0E                   ; ﾈｼﾞ供給切出端
LD Y2046                 ; ﾈｼﾞ供給切出SV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15A0                ; UNIT2-1-1 TP-PL
LD X0F                   ; ﾈｼﾞ供給切出戻端
LD Y2047                 ; ﾈｼﾞ供給切出戻SV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15A1                ; UNIT2-1-2 TP-PL
LD Y53                   ; ﾈｼﾞ供給機電源ON
OUT B15A2                ; UNIT2-1-3 TP-PL
LDB Y53                  ; ﾈｼﾞ供給機電源ON
OUT B15A3                ; UNIT2-1-4 TP-PL
LD X1001                 ; ﾈｼﾞ供給ｽﾗｲﾄﾞｱﾝﾛｯｸ端
LD Y2045                 ; ﾈｼﾞ供給ｽﾗｲﾄﾞｱﾝﾛｯｸSV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15A4                ; UNIT2-1-5 TP-PL
LD X1000                 ; ﾈｼﾞ供給ｽﾗｲﾄﾞﾛｯｸ端
LD Y2044                 ; ﾈｼﾞ供給ｽﾗｲﾄﾞﾛｯｸSV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15A5                ; UNIT2-1-6 TP-PL
LD M1852                 ; ﾈｼﾞ供給確認動作
OUT B15A6                ; UNIT2-1-7 TP-PL
LDB M1852                ; ﾈｼﾞ供給確認動作
OUT B15A7                ; UNIT2-1-8 TP-PL
LD M1821                 ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
OUT B15A8                ; UNIT2-1-9 TP-PL
LD M1822                 ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
OUT B15A9                ; UNIT2-1-10 TP-PL
LD M1836                 ; 原点移動(手動)
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
LD X1286                 ; ﾈｼﾞ締め_RB_ORG(870)
AND X126F                ; ﾈｼﾞ締め_RB_Area1(ORG)
ORL
OUT B15AA                ; UNIT2-1-11 TP-PL
LD M1841                 ; ﾒﾝﾃﾅﾝｽ移動(手動)
OUT B15AB                ; UNIT2-1-12 TP-PL
LD CR2003                ; 常時OFF
OUT B15AC                ; UNIT2-1-13 TP-PL
LD M1857                 ; MANUAL_ON
OUT B15AF                ; UNIT2-1-16 TP-PL
;<h1/>■異常
;□□    異常検出    □□
;B40(K65)--B4F(K79)  B50(K80)--B5F(K96)
LDP X128C                ; ﾈｼﾞ締め_RB_Discharge_miss(876)
AND M50                  ; 運転準備
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B040                 ; ﾈｼﾞ締めRB原点復帰時ﾈｼﾞ排出異常
ORL
OUT B040                 ; ﾈｼﾞ締めRB原点復帰時ﾈｼﾞ排出異常
@DW H0040 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0540
AND B040                 ; ﾈｼﾞ締めRB原点復帰時ﾈｼﾞ排出異常
OUT B0540
LDP X1287                ; ﾈｼﾞ締め_RB_Out_of_range(871)
AND M50                  ; 運転準備
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B041                 ; ﾈｼﾞ締めRB原点復帰時ｴﾘｱ外
ORL
OUT B041                 ; ﾈｼﾞ締めRB原点復帰時ｴﾘｱ外
@DW H0041 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0541
AND B041                 ; ﾈｼﾞ締めRB原点復帰時ｴﾘｱ外
OUT B0541
LD X1227                 ; ﾈｼﾞ締め_RB_LOW_Battery
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B042                 ; ねじ締めRB_LOW_Battery
ORL
MPS
TMR K250 K600            ; ねじ締めRBﾊﾞｯﾃﾘ低下確認
MPP
AND T250                 ; ねじ締めRBﾊﾞｯﾃﾘ低下確認
OUT B042                 ; ねじ締めRB_LOW_Battery
@DW H0042 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0542
AND B042                 ; ねじ締めRB_LOW_Battery
OUT B0542
LD Y2046                 ; ﾈｼﾞ供給切出SV
ANB X0E                  ; ﾈｼﾞ供給切出端
AND M50                  ; 運転準備
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B043                 ; ﾈｼﾞ供給切出側ｼﾘﾝﾀﾞ異常
ORL
MPS
TMR K251 K50             ; ﾈｼﾞ供給切出側ｼﾘﾝﾀﾞ確認
MPP
AND T251                 ; ﾈｼﾞ供給切出側ｼﾘﾝﾀﾞ確認
OUT B043                 ; ﾈｼﾞ供給切出側ｼﾘﾝﾀﾞ異常
@DW H0043 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0543
AND B043                 ; ﾈｼﾞ供給切出側ｼﾘﾝﾀﾞ異常
OUT B0543
LD Y2047                 ; ﾈｼﾞ供給切出戻SV
ANB X0F                  ; ﾈｼﾞ供給切出戻端
AND M50                  ; 運転準備
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B044                 ; ﾈｼﾞ供給原点側ｼﾘﾝﾀﾞ異常
ORL
MPS
TMR K252 K50             ; ﾈｼﾞ供給原点側ｼﾘﾝﾀﾞ確認
MPP
AND T252                 ; ﾈｼﾞ供給原点側ｼﾘﾝﾀﾞ確認
OUT B044                 ; ﾈｼﾞ供給原点側ｼﾘﾝﾀﾞ異常
@DW H0044 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0544
AND B044                 ; ﾈｼﾞ供給原点側ｼﾘﾝﾀﾞ異常
OUT B0544
;RB起動確認後ｽﾀｰﾄ信号が無い場合はﾛﾎﾞｯﾄ異常
LD M1513                 ; ﾈｼﾞ締め動作開始確認
ANB X1288                ; ﾈｼﾞ締め_RB_Screw_Start(872)
TMR K260 K60             ; ﾈｼﾞ締め起動確認ﾀｲﾏ
;;
LD X1222                 ; ﾈｼﾞ締め_RB_Error
OR T260                  ; ﾈｼﾞ締め起動確認ﾀｲﾏ
AND M50                  ; 運転準備
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B045                 ; ﾈｼﾞ締めRB異常
ORL
OUT B045                 ; ﾈｼﾞ締めRB異常
@DW H0045 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0545
AND B045                 ; ﾈｼﾞ締めRB異常
OUT B0545
LD M1604                 ; ﾈｼﾞ供給引掛りｴﾗｰ発生
OUT B046                 ; ﾈｼﾞ供給引掛かり異常
@DW H0046 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0546
AND B046                 ; ﾈｼﾞ供給引掛かり異常
OUT B0546
LD M1618                 ; ﾈｼﾞ供給1ﾈｼﾞ残ｴﾗｰ発生
OUT B047                 ; ﾈｼﾞ供給ﾈｼﾞ取出不良
@DW H0047 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0547
AND B047                 ; ﾈｼﾞ供給ﾈｼﾞ取出不良
OUT B0547
LD M1613                 ; ﾈｼﾞ供給ﾈｼﾞ取出ｴﾗｰ発生
OUT B048                 ; ﾈｼﾞ供給切出位置ﾈｼﾞ残
@DW H0048 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0548
AND B048                 ; ﾈｼﾞ供給切出位置ﾈｼﾞ残
OUT B0548
LD M1631                 ; ﾈｼﾞ供給切出引掛りｴﾗｰ発生
OUT B049                 ; ﾈｼﾞ供給切出引掛りｴﾗｰ
@DW H0049 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0549
AND B049                 ; ﾈｼﾞ供給切出引掛りｴﾗｰ
OUT B0549
LD Y2044                 ; ﾈｼﾞ供給ｽﾗｲﾄﾞﾛｯｸSV
ANB X1000                ; ﾈｼﾞ供給ｽﾗｲﾄﾞﾛｯｸ端
LD Y2045                 ; ﾈｼﾞ供給ｽﾗｲﾄﾞｱﾝﾛｯｸSV
ANB X1001                ; ﾈｼﾞ供給ｽﾗｲﾄﾞｱﾝﾛｯｸ端
ORL
AND M50                  ; 運転準備
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B04A                 ; ﾈｼﾞ供給ﾕﾆｯﾄﾛｯｸｼﾘﾝﾀﾞ異常
ORL
MPS
TMR K253 K50             ; ﾈｼﾞ供給ﾕﾆｯﾄﾛｯｸｼﾘﾝﾀﾞ確認
MPP
AND T253                 ; ﾈｼﾞ供給ﾕﾆｯﾄﾛｯｸｼﾘﾝﾀﾞ確認
OUT B04A                 ; ﾈｼﾞ供給ﾕﾆｯﾄﾛｯｸｼﾘﾝﾀﾞ異常
@DW H004A D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B054A
AND B04A                 ; ﾈｼﾞ供給ﾕﾆｯﾄﾛｯｸｼﾘﾝﾀﾞ異常
OUT B054A
LD X1221                 ; ﾈｼﾞ締め_RB_RUN
AND X126B                ; ﾈｼﾞ締め_RBﾈｼﾞ締侵入中(843)
ANB M51                  ; 即停止異常(緊急停止)
LD W0101.8               ; ｼｰﾙﾄﾞ板ﾈｼﾞ締め動作中
OR M1821                 ; ｼｰﾙﾄﾞﾈｼﾞ締めｻｲｸﾙ(手動)
LDB T114                 ; ｼｰﾙﾄﾞｸﾗﾝﾌﾟ端
ORB T116                 ; 基板ｸﾗﾝﾌﾟ端
ANL
LD W0101.10              ; GD基板ﾈｼﾞ締め動作中
OR M1822                 ; 基板ﾈｼﾞ締めｻｲｸﾙ(手動)
ANB T116                 ; 基板ｸﾗﾝﾌﾟ端
ORL
ANL
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B04B                 ; ﾈｼﾞ締め動作中押え開異常
ORL
OUT B04B                 ; ﾈｼﾞ締め動作中押え開異常
@DW H004B D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B054B
AND B04B                 ; ﾈｼﾞ締め動作中押え開異常
OUT B054B
LDB X1224                ; ﾈｼﾞ締め_RB_Ready
ORB X1225                ; ﾈｼﾞ締め_RB_Auto
AND CR2003               ; 常時OFF
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B04B                 ; ﾈｼﾞ締め動作中押え開異常
ORL
OUT B04C                 ; ﾈｼﾞ締め動作中RBﾓｰﾄﾞ切替異常
@DW H004C D0
CON
@FIFOW D0 D900           ; 異常内容
LD M500                  ; ビット交換（カウントアップ）
OUT B04D                 ; ビット交換
@DW H004D D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B054B
AND B054D
OUT B054D
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B054C
AND B04C                 ; ﾈｼﾞ締め動作中RBﾓｰﾄﾞ切替異常
OUT B054C
LDB X1002                ; ﾈｼﾞ供給ｽﾗｲﾄﾞ閉端
AND M50                  ; 運転準備
AND M30                  ; 自動ﾓｰﾄﾞ
OUT B0140                ; ﾈｼﾞ供給ﾕﾆｯﾄ開
;異常ﾌﾞｻﾞｰまとめ
LDB B040                 ; ﾈｼﾞ締めRB原点復帰時ﾈｼﾞ排出異常
OR B0540
LDB B041                 ; ﾈｼﾞ締めRB原点復帰時ｴﾘｱ外
OR B0541
ANL
LDB B043                 ; ﾈｼﾞ供給切出側ｼﾘﾝﾀﾞ異常
OR B0543
ANL
LDB B044                 ; ﾈｼﾞ供給原点側ｼﾘﾝﾀﾞ異常
OR B0544
ANL
LDB B045                 ; ﾈｼﾞ締めRB異常
OR B0545
ANL
LDB B046                 ; ﾈｼﾞ供給引掛かり異常
OR B0546
ANL
LDB B047                 ; ﾈｼﾞ供給ﾈｼﾞ取出不良
OR B0547
ANL
LDB B048                 ; ﾈｼﾞ供給切出位置ﾈｼﾞ残
OR B0548
ANL
LDB B049                 ; ﾈｼﾞ供給切出引掛りｴﾗｰ
OR B0549
ANL
LDB B04A                 ; ﾈｼﾞ供給ﾕﾆｯﾄﾛｯｸｼﾘﾝﾀﾞ異常
OR B054A
ANL
LDB B04B                 ; ﾈｼﾞ締め動作中押え開異常
OR B054B
ANL
LDB B04C                 ; ﾈｼﾞ締め動作中RBﾓｰﾄﾞ切替異常
OR B054C
ANL
LDB B04D                 ; ビット交換
OR B054D
ANL
INV
OUT M1989                ; ﾕﾆｯﾄ2異常BZ補助
END
ENDH
