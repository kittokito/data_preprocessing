DEVICE:53
;MODULE:検査Z軸
;MODULE_TYPE:0
;SCRIPT_TYPE:
;ﾕﾆｯﾄ動作許可
LD R3607                 ; 検査 Z軸電源MC
ANB MR7209               ; ERR29 ﾓｰｼｮﾝﾕﾆｯﾄ2 動作許可異常
TMH @0 #100
CON
AND @T0
OUT R81600               ; 動作許可
LDB CR2002               ; 常時ON
OUT R81601               ; 強制停止
LD R82802                ; ｴﾗｰ中
AND MR004                ; ﾘｾｯﾄSW
OUT R81608               ; ﾓｰｼｮﾝﾌﾛｰｴﾗｰｸﾘｱ
CON
OUT R81610               ; 補助機能ｴﾗｰｸﾘｱ
;ERR
LD R82801                ; 動作許可ｴﾗｰ
LD MR7209                ; ERR29 ﾓｰｼｮﾝﾕﾆｯﾄ2 動作許可異常
ANB MR004                ; ﾘｾｯﾄSW
ORL
OUT MR7209               ; ERR29 ﾓｰｼｮﾝﾕﾆｯﾄ2 動作許可異常
;<h1/>設定値制限
;'設定値制限
;
;FM20040.L = LIMIT ( -19999, 19999, FM20040.L )	'STEP1_目標値
;FM20016.D = LIMIT ( 1, 500, FM20016.D )			'STEP1_運転速度
;FM20018.D = LIMIT ( 100, 9999, FM20018.D )		'STEP1_加速時間
;FM20020.D = LIMIT ( 100, 9999, FM20020.D )		'STEP1_減速時間
;
;FM20140.L = LIMIT ( -19999, 19999, FM20140.L )	'STEP2_目標値
;FM20116.D = LIMIT ( 1, 500, FM20116.D )			'STEP2_運転速度
;FM20118.D = LIMIT ( 100, 9999, FM20118.D )		'STEP2_加速時間
;FM20120.D = LIMIT ( 100, 9999, FM20120.D )		'STEP2_減速時間
;
;FM20240.L = LIMIT ( -19999, 19999, FM20240.L )	'STEP3_目標値
;FM20216.D = LIMIT ( 1, 500, FM20216.D )			'STEP3_運転速度
;FM20218.D = LIMIT ( 100, 9999, FM20218.D )		'STEP3_加速時間
;FM20220.D = LIMIT ( 100, 9999, FM20220.D )		'STEP3_減速時間
;
;FM20340.L = LIMIT ( -19999, 19999, FM20340.L )	'STEP4_目標値
;FM20316.D = LIMIT ( 1, 500, FM20316.D )			'STEP4_運転速度
;FM20318.D = LIMIT ( 100, 9999, FM20318.D )		'STEP4_加速時間
;FM20320.D = LIMIT ( 100, 9999, FM20320.D )		'STEP4_減速時間
;
;FM20440.L = LIMIT ( -19999, 19999, FM20440.L )	'STEP5_目標値
;FM20416.D = LIMIT ( 1, 500, FM20416.D )			'STEP5_運転速度
;FM20418.D = LIMIT ( 100, 9999, FM20418.D )		'STEP5_加速時間
;FM20420.D = LIMIT ( 100, 9999, FM20420.D )		'STEP5_減速時間
;
;FM20540.L = LIMIT ( -19999, 19999, FM20540.L )	'STEP6_目標値
;FM20516.D = LIMIT ( 1, 500, FM20516.D )			'STEP6_運転速度
;FM20518.D = LIMIT ( 100, 9999, FM20518.D )		'STEP6_加速時間
;FM20520.D = LIMIT ( 100, 9999, FM20520.D )		'STEP6_減速時間
;
;FM20640.L = LIMIT ( -19999, 19999, FM20640.L )	'STEP7_目標値
;FM20616.D = LIMIT ( 1, 500, FM20616.D )			'STEP7_運転速度
;FM20618.D = LIMIT ( 100, 9999, FM20618.D )		'STEP7_加速時間
;FM20620.D = LIMIT ( 100, 9999, FM20620.D )		'STEP7_減速時間
;
;FM20740.L = LIMIT ( -19999, 19999, FM20740.L )	'STEP8_目標値
;FM20716.D = LIMIT ( 1, 500, FM20716.D )			'STEP8_運転速度
;FM20718.D = LIMIT ( 100, 9999, FM20718.D )		'STEP8_加速時間
;FM20720.D = LIMIT ( 100, 9999, FM20720.D )		'STEP8_減速時間
;
;FM20840.L = LIMIT ( -19999, 19999, FM20840.L )	'STEP9_目標値
;FM20816.D = LIMIT ( 1, 500, FM20816.D )			'STEP9_運転速度
;FM20818.D = LIMIT ( 100, 9999, FM20818.D )		'STEP9_加速時間
;FM20820.D = LIMIT ( 100, 9999, FM20820.D )		'STEP9_減速時間
;
;FM20940.L = LIMIT ( -19999, 19999, FM20940.L )	'STEP10_目標値
;FM20916.D = LIMIT ( 1, 500, FM20916.D )			'STEP10_運転速度
;FM20918.D = LIMIT ( 100, 9999, FM20918.D )		'STEP10_加速時間
;FM20920.D = LIMIT ( 100, 9999, FM20920.D )		'STEP10_減速時間
LDB CR2002               ; 常時ON
NCJ #1005
;'設定値制限
;
;FM20040.L = LIMIT ( -19999, 19999, FM20040.L )	'STEP1_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM20040 @VM0;TP検査Z軸 STEP01位置 目標基座標
LDA.L @VM0
CON
STA.L FM20040            ; TP検査Z軸 STEP01位置 目標基座標
;FM20016.D = LIMIT ( 1, 500, FM20016.D )			'STEP1_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM20016 @VM2;TP検査Z軸 STEP01位置 速度
LDA @VM2
CON
EXT
CON
STA.D FM20016            ; TP検査Z軸 STEP01位置 速度
;FM20018.D = LIMIT ( 100, 9999, FM20018.D )		'STEP1_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20018 @VM3;TP検査Z軸 STEP01位置 加速時間
LDA @VM3
CON
EXT
CON
STA.D FM20018            ; TP検査Z軸 STEP01位置 加速時間
;FM20020.D = LIMIT ( 100, 9999, FM20020.D )		'STEP1_減速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20020 @VM4;TP検査Z軸 STEP01位置 減速時間
LDA @VM4
CON
EXT
CON
STA.D FM20020            ; TP検査Z軸 STEP01位置 減速時間
;FM20140.L = LIMIT ( -19999, 19999, FM20140.L )	'STEP2_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM20140 @VM5;TP検査Z軸 STEP02位置 目標基座標
LDA.L @VM5
CON
STA.L FM20140            ; TP検査Z軸 STEP02位置 目標基座標
;FM20116.D = LIMIT ( 1, 500, FM20116.D )			'STEP2_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM20116 @VM7;TP検査Z軸 STEP02位置 速度
LDA @VM7
CON
EXT
CON
STA.D FM20116            ; TP検査Z軸 STEP02位置 速度
;FM20118.D = LIMIT ( 100, 9999, FM20118.D )		'STEP2_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20118 @VM8;TP検査Z軸 STEP02位置 加速時間
LDA @VM8
CON
EXT
CON
STA.D FM20118            ; TP検査Z軸 STEP02位置 加速時間
;FM20120.D = LIMIT ( 100, 9999, FM20120.D )		'STEP2_減速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20120 @VM9;TP検査Z軸 STEP02位置 減速時間
LDA @VM9
CON
EXT
CON
STA.D FM20120            ; TP検査Z軸 STEP02位置 減速時間
;FM20240.L = LIMIT ( -19999, 19999, FM20240.L )	'STEP3_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM20240 @VM10;TP検査Z軸 STEP03位置 目標基座標
LDA.L @VM10
CON
STA.L FM20240            ; TP検査Z軸 STEP03位置 目標基座標
;FM20216.D = LIMIT ( 1, 500, FM20216.D )			'STEP3_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM20216 @VM12;TP検査Z軸 STEP03位置 速度
LDA @VM12
CON
EXT
CON
STA.D FM20216            ; TP検査Z軸 STEP03位置 速度
;FM20218.D = LIMIT ( 100, 9999, FM20218.D )		'STEP3_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20218 @VM13;TP検査Z軸 STEP03位置 加速時間
LDA @VM13
CON
EXT
CON
STA.D FM20218            ; TP検査Z軸 STEP03位置 加速時間
;FM20220.D = LIMIT ( 100, 9999, FM20220.D )		'STEP3_減速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20220 @VM14;TP検査Z軸 STEP03位置 減速時間
LDA @VM14
CON
EXT
CON
STA.D FM20220            ; TP検査Z軸 STEP03位置 減速時間
;FM20340.L = LIMIT ( -19999, 19999, FM20340.L )	'STEP4_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM20340 @VM15;TP検査Z軸 STEP04位置 目標基座標
LDA.L @VM15
CON
STA.L FM20340            ; TP検査Z軸 STEP04位置 目標基座標
;FM20316.D = LIMIT ( 1, 500, FM20316.D )			'STEP4_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM20316 @VM17;TP検査Z軸 STEP04位置 速度
LDA @VM17
CON
EXT
CON
STA.D FM20316            ; TP検査Z軸 STEP04位置 速度
;FM20318.D = LIMIT ( 100, 9999, FM20318.D )		'STEP4_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20318 @VM18;TP検査Z軸 STEP04位置 加速時間
LDA @VM18
CON
EXT
CON
STA.D FM20318            ; TP検査Z軸 STEP04位置 加速時間
;FM20320.D = LIMIT ( 100, 9999, FM20320.D )		'STEP4_減速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20320 @VM19;TP検査Z軸 STEP04位置 減速時間
LDA @VM19
CON
EXT
CON
STA.D FM20320            ; TP検査Z軸 STEP04位置 減速時間
;FM20440.L = LIMIT ( -19999, 19999, FM20440.L )	'STEP5_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM20440 @VM20;TP検査Z軸 STEP05位置 目標基座標
LDA.L @VM20
CON
STA.L FM20440            ; TP検査Z軸 STEP05位置 目標基座標
;FM20416.D = LIMIT ( 1, 500, FM20416.D )			'STEP5_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM20416 @VM22;TP検査Z軸 STEP05位置 速度
LDA @VM22
CON
EXT
CON
STA.D FM20416            ; TP検査Z軸 STEP05位置 速度
;FM20418.D = LIMIT ( 100, 9999, FM20418.D )		'STEP5_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20418 @VM23;TP検査Z軸 STEP05位置 加速時間
LDA @VM23
CON
EXT
CON
STA.D FM20418            ; TP検査Z軸 STEP05位置 加速時間
;FM20420.D = LIMIT ( 100, 9999, FM20420.D )		'STEP5_減速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20420 @VM24;TP検査Z軸 STEP05位置 減速時間
LDA @VM24
CON
EXT
CON
STA.D FM20420            ; TP検査Z軸 STEP05位置 減速時間
;FM20540.L = LIMIT ( -19999, 19999, FM20540.L )	'STEP6_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM20540 @VM25;TP検査Z軸 STEP06位置 目標基座標
LDA.L @VM25
CON
STA.L FM20540            ; TP検査Z軸 STEP06位置 目標基座標
;FM20516.D = LIMIT ( 1, 500, FM20516.D )			'STEP6_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM20516 @VM27;TP検査Z軸 STEP06位置 速度
LDA @VM27
CON
EXT
CON
STA.D FM20516            ; TP検査Z軸 STEP06位置 速度
;FM20518.D = LIMIT ( 100, 9999, FM20518.D )		'STEP6_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20518 @VM28;TP検査Z軸 STEP06位置 加速時間
LDA @VM28
CON
EXT
CON
STA.D FM20518            ; TP検査Z軸 STEP06位置 加速時間
;FM20520.D = LIMIT ( 100, 9999, FM20520.D )		'STEP6_減速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20520 @VM29;TP検査Z軸 STEP06位置 減速時間
LDA @VM29
CON
EXT
CON
STA.D FM20520            ; TP検査Z軸 STEP06位置 減速時間
;FM20640.L = LIMIT ( -19999, 19999, FM20640.L )	'STEP7_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM20640 @VM30;TP検査Z軸 STEP07位置 目標基座標
LDA.L @VM30
CON
STA.L FM20640            ; TP検査Z軸 STEP07位置 目標基座標
;FM20616.D = LIMIT ( 1, 500, FM20616.D )			'STEP7_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM20616 @VM32;TP検査Z軸 STEP07位置 速度
LDA @VM32
CON
EXT
CON
STA.D FM20616            ; TP検査Z軸 STEP07位置 速度
;FM20618.D = LIMIT ( 100, 9999, FM20618.D )		'STEP7_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20618 @VM33;TP検査Z軸 STEP07位置 加速時間
LDA @VM33
CON
EXT
CON
STA.D FM20618            ; TP検査Z軸 STEP07位置 加速時間
;FM20620.D = LIMIT ( 100, 9999, FM20620.D )		'STEP7_減速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20620 @VM34;TP検査Z軸 STEP07位置 減速時間
LDA @VM34
CON
EXT
CON
STA.D FM20620            ; TP検査Z軸 STEP07位置 減速時間
;FM20740.L = LIMIT ( -19999, 19999, FM20740.L )	'STEP8_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM20740 @VM35;TP検査Z軸 STEP08位置 目標基座標
LDA.L @VM35
CON
STA.L FM20740            ; TP検査Z軸 STEP08位置 目標基座標
;FM20716.D = LIMIT ( 1, 500, FM20716.D )			'STEP8_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM20716 @VM37;TP検査Z軸 STEP08位置 速度
LDA @VM37
CON
EXT
CON
STA.D FM20716            ; TP検査Z軸 STEP08位置 速度
;FM20718.D = LIMIT ( 100, 9999, FM20718.D )		'STEP8_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20718 @VM38;TP検査Z軸 STEP08位置 加速時間
LDA @VM38
CON
EXT
CON
STA.D FM20718            ; TP検査Z軸 STEP08位置 加速時間
;FM20720.D = LIMIT ( 100, 9999, FM20720.D )		'STEP8_減速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20720 @VM39;TP検査Z軸 STEP08位置 減速時間
LDA @VM39
CON
EXT
CON
STA.D FM20720            ; TP検査Z軸 STEP08位置 減速時間
;FM20840.L = LIMIT ( -19999, 19999, FM20840.L )	'STEP9_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM20840 @VM40;TP検査Z軸 STEP09位置 目標基座標
LDA.L @VM40
CON
STA.L FM20840            ; TP検査Z軸 STEP09位置 目標基座標
;FM20816.D = LIMIT ( 1, 500, FM20816.D )			'STEP9_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM20816 @VM42;TP検査Z軸 STEP09位置 速度
LDA @VM42
CON
EXT
CON
STA.D FM20816            ; TP検査Z軸 STEP09位置 速度
;FM20818.D = LIMIT ( 100, 9999, FM20818.D )		'STEP9_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20818 @VM43;TP検査Z軸 STEP09位置 加速時間
LDA @VM43
CON
EXT
CON
STA.D FM20818            ; TP検査Z軸 STEP09位置 加速時間
;FM20820.D = LIMIT ( 100, 9999, FM20820.D )		'STEP9_減速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20820 @VM44;TP検査Z軸 STEP09位置 減速時間
LDA @VM44
CON
EXT
CON
STA.D FM20820            ; TP検査Z軸 STEP09位置 減速時間
;FM20940.L = LIMIT ( -19999, 19999, FM20940.L )	'STEP10_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM20940 @VM45;TP検査Z軸 STEP10位置 目標基座標
LDA.L @VM45
CON
STA.L FM20940            ; TP検査Z軸 STEP10位置 目標基座標
;FM20916.D = LIMIT ( 1, 500, FM20916.D )			'STEP10_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM20916 @VM47;TP検査Z軸 STEP10位置 速度
LDA @VM47
CON
EXT
CON
STA.D FM20916            ; TP検査Z軸 STEP10位置 速度
;FM20918.D = LIMIT ( 100, 9999, FM20918.D )		'STEP10_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20918 @VM48;TP検査Z軸 STEP10位置 加速時間
LDA @VM48
CON
EXT
CON
STA.D FM20918            ; TP検査Z軸 STEP10位置 加速時間
;FM20920.D = LIMIT ( 100, 9999, FM20920.D )		'STEP10_減速時間
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM20920 @VM49;TP検査Z軸 STEP10位置 減速時間
LDA @VM49
CON
EXT
CON
STA.D FM20920            ; TP検査Z軸 STEP10位置 減速時間
LABEL #1005
;
;'設定値制限
;
;FM21040.L = LIMIT ( -19999, 19999, FM21040.L )	'STEP11_目標値
;FM21016.D = LIMIT ( 1, 500, FM21016.D )			'STEP11_運転速度
;FM21018.D = LIMIT ( 100, 9999, FM21018.D )		'STEP11_加速時間
;FM21020.D = LIMIT ( 100, 9999, FM21020.D )		'STEP11_減速時間
;
;FM21140.L = LIMIT ( -19999, 19999, FM21140.L )	'STEP12_目標値
;FM21116.D = LIMIT ( 1, 500, FM21116.D )			'STEP12_運転速度
;FM21118.D = LIMIT ( 100, 9999, FM21118.D )		'STEP12_加速時間
;FM21120.D = LIMIT ( 100, 9999, FM21120.D )		'STEP12_減速時間
;
;FM21240.L = LIMIT ( -19999, 19999, FM21240.L )	'STEP13_目標値
;FM21216.D = LIMIT ( 1, 500, FM21216.D )			'STEP13_運転速度
;FM21218.D = LIMIT ( 100, 9999, FM21218.D )		'STEP13_加速時間
;FM21220.D = LIMIT ( 100, 9999, FM21220.D )		'STEP13_減速時間
;
;FM21340.L = LIMIT ( -19999, 19999, FM21340.L )	'STEP14_目標値
;FM21316.D = LIMIT ( 1, 500, FM21316.D )			'STEP14_運転速度
;FM21318.D = LIMIT ( 100, 9999, FM21318.D )		'STEP14_加速時間
;FM21320.D = LIMIT ( 100, 9999, FM21320.D )		'STEP14_減速時間
;
;FM21440.L = LIMIT ( -19999, 19999, FM21440.L )	'STEP15_目標値
;FM21416.D = LIMIT ( 1, 500, FM21416.D )			'STEP15_運転速度
;FM21418.D = LIMIT ( 100, 9999, FM21418.D )		'STEP15_加速時間
;FM21420.D = LIMIT ( 100, 9999, FM21420.D )		'STEP15_減速時間
;
;FM21540.L = LIMIT ( -19999, 19999, FM21540.L )	'STEP16_目標値
;FM21516.D = LIMIT ( 1, 500, FM21516.D )			'STEP16_運転速度
;FM21518.D = LIMIT ( 100, 9999, FM21518.D )		'STEP16_加速時間
;FM21520.D = LIMIT ( 100, 9999, FM21520.D )		'STEP16_減速時間
;
;FM21640.L = LIMIT ( -19999, 19999, FM21640.L )	'STEP17_目標値
;FM21616.D = LIMIT ( 1, 500, FM21616.D )			'STEP17_運転速度
;FM21618.D = LIMIT ( 100, 9999, FM21618.D )		'STEP17_加速時間
;FM21620.D = LIMIT ( 100, 9999, FM21620.D )		'STEP17_減速時間
;
;FM21740.L = LIMIT ( -19999, 19999, FM21740.L )	'STEP18_目標値
;FM21716.D = LIMIT ( 1, 500, FM21716.D )			'STEP18_運転速度
;FM21718.D = LIMIT ( 100, 9999, FM21718.D )		'STEP18_加速時間
;FM21720.D = LIMIT ( 100, 9999, FM21720.D )		'STEP18_減速時間
;
;FM21840.L = LIMIT ( -19999, 19999, FM21840.L )	'STEP19_目標値
;FM21816.D = LIMIT ( 1, 500, FM21816.D )			'STEP19_運転速度
;FM21818.D = LIMIT ( 100, 9999, FM21818.D )		'STEP19_加速時間
;FM21820.D = LIMIT ( 100, 9999, FM21820.D )		'STEP19_減速時間
;
;FM21940.L = LIMIT ( -19999, 19999, FM21940.L )	'STEP20_目標値
;FM21916.D = LIMIT ( 1, 500, FM21916.D )			'STEP20_運転速度
;FM21918.D = LIMIT ( 100, 9999, FM21918.D )		'STEP20_加速時間
;FM21920.D = LIMIT ( 100, 9999, FM21920.D )		'STEP20_減速時間
;
;FM22040.L = LIMIT ( -19999, 19999, FM22040.L )	'待機移動_目標値
;FM22016.D = LIMIT ( 1, 500, FM22016.D )			'待機移動_運転速度
;FM22018.D = LIMIT ( 100, 9999, FM22018.D )		'待機移動_加速時間
;FM22020.D = LIMIT ( 100, 9999, FM22020.D )		'待機移動_減速時間
LDB CR2002               ; 常時ON
NCJ #1023
;'設定値制限
;
;FM21040.L = LIMIT ( -19999, 19999, FM21040.L )	'STEP11_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM21040 @VM50;TP検査Z軸 STEP11位置 目標基座標
LDA.L @VM50
CON
STA.L FM21040            ; TP検査Z軸 STEP11位置 目標基座標
;FM21016.D = LIMIT ( 1, 500, FM21016.D )			'STEP11_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM21016 @VM52;TP検査Z軸 STEP11位置 速度
LDA @VM52
CON
EXT
CON
STA.D FM21016            ; TP検査Z軸 STEP11位置 速度
;FM21018.D = LIMIT ( 100, 9999, FM21018.D )		'STEP11_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21018 @VM53;TP検査Z軸 STEP11位置 加速時間
LDA @VM53
CON
EXT
CON
STA.D FM21018            ; TP検査Z軸 STEP11位置 加速時間
;FM21020.D = LIMIT ( 100, 9999, FM21020.D )		'STEP11_減速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21020 @VM54;TP検査Z軸 STEP11位置 減速時間
LDA @VM54
CON
EXT
CON
STA.D FM21020            ; TP検査Z軸 STEP11位置 減速時間
;FM21140.L = LIMIT ( -19999, 19999, FM21140.L )	'STEP12_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM21140 @VM55;TP検査Z軸 STEP12位置 目標基座標
LDA.L @VM55
CON
STA.L FM21140            ; TP検査Z軸 STEP12位置 目標基座標
;FM21116.D = LIMIT ( 1, 500, FM21116.D )			'STEP12_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM21116 @VM57;TP検査Z軸 STEP12位置 速度
LDA @VM57
CON
EXT
CON
STA.D FM21116            ; TP検査Z軸 STEP12位置 速度
;FM21118.D = LIMIT ( 100, 9999, FM21118.D )		'STEP12_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21118 @VM58;TP検査Z軸 STEP12位置 加速時間
LDA @VM58
CON
EXT
CON
STA.D FM21118            ; TP検査Z軸 STEP12位置 加速時間
;FM21120.D = LIMIT ( 100, 9999, FM21120.D )		'STEP12_減速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21120 @VM59;TP検査Z軸 STEP12位置 減速時間
LDA @VM59
CON
EXT
CON
STA.D FM21120            ; TP検査Z軸 STEP12位置 減速時間
;FM21240.L = LIMIT ( -19999, 19999, FM21240.L )	'STEP13_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM21240 @VM60;TP検査Z軸 STEP13位置 目標基座標
LDA.L @VM60
CON
STA.L FM21240            ; TP検査Z軸 STEP13位置 目標基座標
;FM21216.D = LIMIT ( 1, 500, FM21216.D )			'STEP13_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM21216 @VM62;TP検査Z軸 STEP13位置 速度
LDA @VM62
CON
EXT
CON
STA.D FM21216            ; TP検査Z軸 STEP13位置 速度
;FM21218.D = LIMIT ( 100, 9999, FM21218.D )		'STEP13_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21218 @VM63;TP検査Z軸 STEP13位置 加速時間
LDA @VM63
CON
EXT
CON
STA.D FM21218            ; TP検査Z軸 STEP13位置 加速時間
;FM21220.D = LIMIT ( 100, 9999, FM21220.D )		'STEP13_減速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21220 @VM64;TP検査Z軸 STEP13位置 減速時間
LDA @VM64
CON
EXT
CON
STA.D FM21220            ; TP検査Z軸 STEP13位置 減速時間
;FM21340.L = LIMIT ( -19999, 19999, FM21340.L )	'STEP14_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM21340 @VM65;TP検査Z軸 STEP14位置 目標基座標
LDA.L @VM65
CON
STA.L FM21340            ; TP検査Z軸 STEP14位置 目標基座標
;FM21316.D = LIMIT ( 1, 500, FM21316.D )			'STEP14_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM21316 @VM67;TP検査Z軸 STEP14位置 速度
LDA @VM67
CON
EXT
CON
STA.D FM21316            ; TP検査Z軸 STEP14位置 速度
;FM21318.D = LIMIT ( 100, 9999, FM21318.D )		'STEP14_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21318 @VM68;TP検査Z軸 STEP14位置 加速時間
LDA @VM68
CON
EXT
CON
STA.D FM21318            ; TP検査Z軸 STEP14位置 加速時間
;FM21320.D = LIMIT ( 100, 9999, FM21320.D )		'STEP14_減速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21320 @VM69;TP検査Z軸 STEP14位置 減速時間
LDA @VM69
CON
EXT
CON
STA.D FM21320            ; TP検査Z軸 STEP14位置 減速時間
;FM21440.L = LIMIT ( -19999, 19999, FM21440.L )	'STEP15_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM21440 @VM70;TP検査Z軸 STEP15位置 目標基座標
LDA.L @VM70
CON
STA.L FM21440            ; TP検査Z軸 STEP15位置 目標基座標
;FM21416.D = LIMIT ( 1, 500, FM21416.D )			'STEP15_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM21416 @VM72;TP検査Z軸 STEP15位置 速度
LDA @VM72
CON
EXT
CON
STA.D FM21416            ; TP検査Z軸 STEP15位置 速度
;FM21418.D = LIMIT ( 100, 9999, FM21418.D )		'STEP15_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21418 @VM73;TP検査Z軸 STEP15位置 加速時間
LDA @VM73
CON
EXT
CON
STA.D FM21418            ; TP検査Z軸 STEP15位置 加速時間
;FM21420.D = LIMIT ( 100, 9999, FM21420.D )		'STEP15_減速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21420 @VM74;TP検査Z軸 STEP15位置 減速時間
LDA @VM74
CON
EXT
CON
STA.D FM21420            ; TP検査Z軸 STEP15位置 減速時間
;FM21540.L = LIMIT ( -19999, 19999, FM21540.L )	'STEP16_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM21540 @VM75;TP検査Z軸 STEP16位置 目標基座標
LDA.L @VM75
CON
STA.L FM21540            ; TP検査Z軸 STEP16位置 目標基座標
;FM21516.D = LIMIT ( 1, 500, FM21516.D )			'STEP16_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM21516 @VM77;TP検査Z軸 STEP16位置 速度
LDA @VM77
CON
EXT
CON
STA.D FM21516            ; TP検査Z軸 STEP16位置 速度
;FM21518.D = LIMIT ( 100, 9999, FM21518.D )		'STEP16_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21518 @VM78;TP検査Z軸 STEP16位置 加速時間
LDA @VM78
CON
EXT
CON
STA.D FM21518            ; TP検査Z軸 STEP16位置 加速時間
;FM21520.D = LIMIT ( 100, 9999, FM21520.D )		'STEP16_減速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21520 @VM79;TP検査Z軸 STEP16位置 減速時間
LDA @VM79
CON
EXT
CON
STA.D FM21520            ; TP検査Z軸 STEP16位置 減速時間
;FM21640.L = LIMIT ( -19999, 19999, FM21640.L )	'STEP17_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM21640 @VM80;TP検査Z軸 STEP17位置 目標基座標
LDA.L @VM80
CON
STA.L FM21640            ; TP検査Z軸 STEP17位置 目標基座標
;FM21616.D = LIMIT ( 1, 500, FM21616.D )			'STEP17_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM21616 @VM82;TP検査Z軸 STEP17位置 速度
LDA @VM82
CON
EXT
CON
STA.D FM21616            ; TP検査Z軸 STEP17位置 速度
;FM21618.D = LIMIT ( 100, 9999, FM21618.D )		'STEP17_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21618 @VM83;TP検査Z軸 STEP17位置 加速時間
LDA @VM83
CON
EXT
CON
STA.D FM21618            ; TP検査Z軸 STEP17位置 加速時間
;FM21620.D = LIMIT ( 100, 9999, FM21620.D )		'STEP17_減速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21620 @VM84;TP検査Z軸 STEP17位置 減速時間
LDA @VM84
CON
EXT
CON
STA.D FM21620            ; TP検査Z軸 STEP17位置 減速時間
;FM21740.L = LIMIT ( -19999, 19999, FM21740.L )	'STEP18_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM21740 @VM85;TP検査Z軸 STEP18位置 目標基座標
LDA.L @VM85
CON
STA.L FM21740            ; TP検査Z軸 STEP18位置 目標基座標
;FM21716.D = LIMIT ( 1, 500, FM21716.D )			'STEP18_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM21716 @VM87;TP検査Z軸 STEP18位置 速度
LDA @VM87
CON
EXT
CON
STA.D FM21716            ; TP検査Z軸 STEP18位置 速度
;FM21718.D = LIMIT ( 100, 9999, FM21718.D )		'STEP18_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21718 @VM88;TP検査Z軸 STEP18位置 加速時間
LDA @VM88
CON
EXT
CON
STA.D FM21718            ; TP検査Z軸 STEP18位置 加速時間
;FM21720.D = LIMIT ( 100, 9999, FM21720.D )		'STEP18_減速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21720 @VM89;TP検査Z軸 STEP18位置 減速時間
LDA @VM89
CON
EXT
CON
STA.D FM21720            ; TP検査Z軸 STEP18位置 減速時間
;FM21840.L = LIMIT ( -19999, 19999, FM21840.L )	'STEP19_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM21840 @VM90;TP検査Z軸 STEP19位置 目標基座標
LDA.L @VM90
CON
STA.L FM21840            ; TP検査Z軸 STEP19位置 目標基座標
;FM21816.D = LIMIT ( 1, 500, FM21816.D )			'STEP19_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM21816 @VM92;TP検査Z軸 STEP19位置 速度
LDA @VM92
CON
EXT
CON
STA.D FM21816            ; TP検査Z軸 STEP19位置 速度
;FM21818.D = LIMIT ( 100, 9999, FM21818.D )		'STEP19_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21818 @VM93;TP検査Z軸 STEP19位置 加速時間
LDA @VM93
CON
EXT
CON
STA.D FM21818            ; TP検査Z軸 STEP19位置 加速時間
;FM21820.D = LIMIT ( 100, 9999, FM21820.D )		'STEP19_減速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21820 @VM94;TP検査Z軸 STEP19位置 減速時間
LDA @VM94
CON
EXT
CON
STA.D FM21820            ; TP検査Z軸 STEP19位置 減速時間
;FM21940.L = LIMIT ( -19999, 19999, FM21940.L )	'STEP20_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM21940 @VM95;TP検査Z軸 STEP20位置 目標基座標
LDA.L @VM95
CON
STA.L FM21940            ; TP検査Z軸 STEP20位置 目標基座標
;FM21916.D = LIMIT ( 1, 500, FM21916.D )			'STEP20_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM21916 @VM97;TP検査Z軸 STEP20位置 速度
LDA @VM97
CON
EXT
CON
STA.D FM21916            ; TP検査Z軸 STEP20位置 速度
;FM21918.D = LIMIT ( 100, 9999, FM21918.D )		'STEP20_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21918 @VM98;TP検査Z軸 STEP20位置 加速時間
LDA @VM98
CON
EXT
CON
STA.D FM21918            ; TP検査Z軸 STEP20位置 加速時間
;FM21920.D = LIMIT ( 100, 9999, FM21920.D )		'STEP20_減速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM21920 @VM99;TP検査Z軸 STEP20位置 減速時間
LDA @VM99
CON
EXT
CON
STA.D FM21920            ; TP検査Z軸 STEP20位置 減速時間
;FM22040.L = LIMIT ( -19999, 19999, FM22040.L )	'待機移動_目標値
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT.L -19999 +19999 FM22040 @VM100
LDA.L @VM100
CON
STA.L FM22040
;FM22016.D = LIMIT ( 1, 500, FM22016.D )			'待機移動_運転速度
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #1 #500 FM22016 @VM102;TP検査Z軸 待機位置 速度
LDA @VM102
CON
EXT
CON
STA.D FM22016            ; TP検査Z軸 待機位置 速度
;FM22018.D = LIMIT ( 100, 9999, FM22018.D )		'待機移動_加速時間
;
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM22018 @VM103;TP検査Z軸 待機位置 加速時間
LDA @VM103
CON
EXT
CON
STA.D FM22018            ; TP検査Z軸 待機位置 加速時間
;FM22020.D = LIMIT ( 100, 9999, FM22020.D )		'待機移動_減速時間
LD CR2002                ; 常時ON
LDA.D #0
CON
LIMIT #100 #9999 FM22020 @VM104;TP検査Z軸 待機位置 減速時間
LDA @VM104
CON
EXT
CON
STA.D FM22020            ; TP検査Z軸 待機位置 減速時間
LABEL #1023
;
LD CR2003                ; 常時OFF
OUT R84002               ; 軸1 減速停止
LD CR2002                ; 常時ON
OUT R3607                ; 検査 Z軸電源MC
LD CR2002                ; 常時ON
ANB @MR601               ; 検査Z軸 ｻｰﾎﾞOFF
OUT R84113               ; 軸1 ｻｰﾎﾞON
LD R82800                ; MC20V 動作可能
AND R84513               ; 軸1 ｻｰﾎﾞﾚﾃﾞｨ
ANB MR7200               ; ERR20 検査Z軸 ﾄﾞﾗｲﾊﾞｰ異常
ANB MR7201               ; ERR21 検査Z軸軸ｴﾗｰ
OUT MR806                ; 検査Z軸 動作可能
LDP B0519                ; 検査Z軸 ｻｰﾎﾞOFF_SW
AND B01D4                ; ﾏｽﾀｰﾛｸﾞｲﾝ中PL
OUT @MR600               ; 検査Z軸 ｻｰﾎﾞOFF SW_PLS
LD @MR600                ; 検査Z軸 ｻｰﾎﾞOFF SW_PLS
ANB @MR601               ; 検査Z軸 ｻｰﾎﾞOFF
LDB @MR600               ; 検査Z軸 ｻｰﾎﾞOFF SW_PLS
AND @MR601               ; 検査Z軸 ｻｰﾎﾞOFF
ORL
AND MR100                ; 手動ﾓｰﾄﾞ
OUT @MR601               ; 検査Z軸 ｻｰﾎﾞOFF
OUT R3610                ; 検査Z軸 FREE
LD @MR601                ; 検査Z軸 ｻｰﾎﾞOFF
OUT B0619                ; 検査Z軸 ｻｰﾎﾞOFF_PL
;<h1/>Z軸原点復帰
LDP B0500                ; 検査Z軸 原点復帰SW
OUT @MR000               ; 手動 検査Z軸 原点復帰
;ｲﾝﾀｰﾛｯｸ
LD MR806                 ; 検査Z軸 動作可能
ANB MR7200               ; ERR20 検査Z軸 ﾄﾞﾗｲﾊﾞｰ異常
ANB MR7201               ; ERR21 検査Z軸軸ｴﾗｰ
AND MR400                ; 全ﾄﾞｱ閉確認
LD MR100                 ; 手動ﾓｰﾄﾞ
OR MR101                 ; 自動ﾓｰﾄﾞ
ANL
OUT MR10602              ; ﾏｸﾛHP 検査Z軸 原点復帰IL
LD @MR000                ; 手動 検査Z軸 原点復帰
AND MR100                ; 手動ﾓｰﾄﾞ
LD MR23003               ; 原点復帰 STEP03
ANB MR6912               ; 検査Z軸 原点復帰記憶
AND MR101                ; 自動ﾓｰﾄﾞ
ORL
OR @MR005                ; 検査Z軸 原点復帰
ANB MR10609              ; ﾏｸﾛHP 検査Z軸 原点復帰完了
AND MR10602              ; ﾏｸﾛHP 検査Z軸 原点復帰IL
OUT @MR005               ; 検査Z軸 原点復帰
;ﾎﾟｲﾝﾄﾊﾟﾗﾒｰﾀ転送
;出力
LDB @MR005               ; 検査Z軸 原点復帰
INV
OUT MR10600              ; ﾏｸﾛHP 検査Z軸 原点復帰起動
LD MR004                 ; ﾘｾｯﾄSW
OUT MR10603              ; ﾏｸﾛHP 検査Z軸 原点復帰 ﾘｾｯﾄSW
LD CR2002                ; 常時ON
MSTRT KE_ML_HP2 #1 #2 MR10600 DM19000;ﾏｸﾛHP 検査Z軸 原点復帰起動  給材X軸 ｴﾗｰ状態
LD MR10609               ; ﾏｸﾛHP 検査Z軸 原点復帰完了
OR MR6912                ; 検査Z軸 原点復帰記憶
AND MR806                ; 検査Z軸 動作可能
ANB MR7200               ; ERR20 検査Z軸 ﾄﾞﾗｲﾊﾞｰ異常
ANB MR7201               ; ERR21 検査Z軸軸ｴﾗｰ
ANPB @MR000              ; 手動 検査Z軸 原点復帰
OUT MR6912               ; 検査Z軸 原点復帰記憶
LD MR10612               ; ﾏｸﾛHP 検査Z軸 原点復帰要求
OUT R84012               ; 軸1 原点復帰要求
;ﾗﾝﾌﾟ
LD MR10608               ; ﾏｸﾛHP 検査Z軸 原点復帰中
OUT B0600                ; 検査Z軸 原点復帰SW
;<h1/>手動検査Z軸位置決め
LD MR100                 ; 手動ﾓｰﾄﾞ
AND T130                 ; 検査Z軸手動ﾀﾞﾝﾏﾘ対策
MPS
ANP B0520                ; 検査Z軸 STEP01位置SW
DW #1 DM58               ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
ANP B0521                ; 検査Z軸 STEP02位置SW
DW #2 DM58               ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
ANP B0522                ; 検査Z軸 STEP03位置SW
DW #3 DM58               ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
ANP B0523                ; 検査Z軸 STEP04位置SW
DW #4 DM58               ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
ANP B0524                ; 検査Z軸 STEP05位置SW
DW #5 DM58               ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
ANP B0525                ; 検査Z軸 STEP06位置SW
DW #6 DM58               ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
ANP B0526                ; 検査Z軸 STEP07位置SW
DW #7 DM58               ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
ANP B0527                ; 検査Z軸 STEP08位置SW
DW #8 DM58               ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
ANP B0528                ; 検査Z軸 STEP09位置SW
DW #9 DM58               ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
ANP B0529                ; 検査Z軸 STEP10位置SW
DW #10 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
ANP B052A                ; 検査Z軸 STEP11位置SW
DW #11 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
ANP B052B                ; 検査Z軸 STEP12位置SW
DW #12 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
ANP B052C                ; 検査Z軸 STEP13位置SW
DW #13 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
ANP B052D                ; 検査Z軸 STEP14位置SW
DW #14 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
ANP B052E                ; 検査Z軸 STEP15位置SW
DW #15 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
ANP B052F                ; 検査Z軸 STEP16位置SW
DW #16 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
ANP B0530                ; 検査Z軸 STEP17位置SW
DW #17 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
ANP B0531                ; 検査Z軸 STEP18位置SW
DW #18 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
ANP B0532                ; 検査Z軸 STEP19位置SW
DW #19 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
ANP B0533                ; 検査Z軸 STEP20位置SW
DW #20 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MPP
ANP B0501                ; 検査Z軸 待機位置SW
DW #21 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
LDPB B0520               ; 検査Z軸 STEP01位置SW
ANPB B0521               ; 検査Z軸 STEP02位置SW
ANPB B0522               ; 検査Z軸 STEP03位置SW
ANPB B0523               ; 検査Z軸 STEP04位置SW
ANPB B0524               ; 検査Z軸 STEP05位置SW
ANPB B0525               ; 検査Z軸 STEP06位置SW
ANPB B0526               ; 検査Z軸 STEP07位置SW
ANPB B0527               ; 検査Z軸 STEP08位置SW
ANPB B0528               ; 検査Z軸 STEP09位置SW
ANPB B0529               ; 検査Z軸 STEP10位置SW
ANPB B052A               ; 検査Z軸 STEP11位置SW
ANPB B052B               ; 検査Z軸 STEP12位置SW
ANPB B052C               ; 検査Z軸 STEP13位置SW
ANPB B052D               ; 検査Z軸 STEP14位置SW
ANPB B052E               ; 検査Z軸 STEP15位置SW
ANPB B052F               ; 検査Z軸 STEP16位置SW
ANPB B0530               ; 検査Z軸 STEP17位置SW
ANPB B0531               ; 検査Z軸 STEP18位置SW
ANPB B0532               ; 検査Z軸 STEP19位置SW
ANPB B0533               ; 検査Z軸 STEP20位置SW
ANPB B0501               ; 検査Z軸 待機位置SW
INV
AND T130                 ; 検査Z軸手動ﾀﾞﾝﾏﾘ対策
OUT @MR300               ; 手動 検査Z軸 位置決め
;<h1/>自動X軸位置決め
LD MR101                 ; 自動ﾓｰﾄﾞ
LD MR23004               ; 原点復帰 STEP04
OR MR35001               ; 検査STEP01 位置移動
OR MR36006               ; 除材反転 STEP06 ﾜｰｸ吸着
ANL
DW #21 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
LD MR101                 ; 自動ﾓｰﾄﾞ
AND MR35009              ; 検査STEP09 Z軸移動
MPS
AND= DM3502 #1           ; 検査STEPNo
DW #1 DM58               ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
AND= DM3502 #2           ; 検査STEPNo
DW #2 DM58               ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
AND= DM3502 #3           ; 検査STEPNo
DW #3 DM58               ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
AND= DM3502 #4           ; 検査STEPNo
DW #4 DM58               ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
AND= DM3502 #5           ; 検査STEPNo
DW #5 DM58               ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
AND= DM3502 #6           ; 検査STEPNo
DW #6 DM58               ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
AND= DM3502 #7           ; 検査STEPNo
DW #7 DM58               ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
AND= DM3502 #8           ; 検査STEPNo
DW #8 DM58               ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
AND= DM3502 #9           ; 検査STEPNo
DW #9 DM58               ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
AND= DM3502 #10          ; 検査STEPNo
DW #10 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
AND= DM3502 #11          ; 検査STEPNo
DW #11 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
AND= DM3502 #12          ; 検査STEPNo
DW #12 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
AND= DM3502 #13          ; 検査STEPNo
DW #13 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
AND= DM3502 #14          ; 検査STEPNo
DW #14 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
AND= DM3502 #15          ; 検査STEPNo
DW #15 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
AND= DM3502 #16          ; 検査STEPNo
DW #16 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
AND= DM3502 #17          ; 検査STEPNo
DW #17 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
AND= DM3502 #18          ; 検査STEPNo
DW #18 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MRD
AND= DM3502 #19          ; 検査STEPNo
DW #19 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
MPP
AND= DM3502 #20          ; 検査STEPNo
DW #20 DM58              ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
LDB MR23004              ; 原点復帰 STEP04
ANB MR31300              ; 検査部 準備STEP00
ANB MR35001              ; 検査STEP01 位置移動
ANB MR36006              ; 除材反転 STEP06 ﾜｰｸ吸着
INV
ANB MR6905               ; 検査Z軸 待機位置
LD MR35009               ; 検査STEP09 Z軸移動
LD= DM3502 #1            ; 検査STEPNo
ANB MR6801               ; 検査Z軸 STEP01位置
LD= DM3502 #2            ; 検査STEPNo
ANB MR6802               ; 検査Z軸 STEP02位置
ORL
LD= DM3502 #3            ; 検査STEPNo
ANB MR6803               ; 検査Z軸 STEP03位置
ORL
LD= DM3502 #4            ; 検査STEPNo
ANB MR6804               ; 検査Z軸 STEP04位置
ORL
LD= DM3502 #5            ; 検査STEPNo
ANB MR6805               ; 検査Z軸 STEP05位置
ORL
LD= DM3502 #6            ; 検査STEPNo
ANB MR6806               ; 検査Z軸 STEP06位置
ORL
LD= DM3502 #7            ; 検査STEPNo
ANB MR6807               ; 検査Z軸 STEP07位置
ORL
LD= DM3502 #8            ; 検査STEPNo
ANB MR6808               ; 検査Z軸 STEP08位置
ORL
LD= DM3502 #9            ; 検査STEPNo
ANB MR6809               ; 検査Z軸 STEP09位置
ORL
LD= DM3502 #10           ; 検査STEPNo
ANB MR6810               ; 検査Z軸 STEP10位置
ORL
LD= DM3502 #11           ; 検査STEPNo
ANB MR6811               ; 検査Z軸 STEP11位置
ORL
LD= DM3502 #12           ; 検査STEPNo
ANB MR6812               ; 検査Z軸 STEP12位置
ORL
LD= DM3502 #13           ; 検査STEPNo
ANB MR6813               ; 検査Z軸 STEP13位置
ORL
LD= DM3502 #14           ; 検査STEPNo
ANB MR6814               ; 検査Z軸 STEP14位置
ORL
LD= DM3502 #15           ; 検査STEPNo
ANB MR6815               ; 検査Z軸 STEP15位置
ORL
LD= DM3502 #16           ; 検査STEPNo
ANB MR6900               ; 検査Z軸 STEP16位置
ORL
LD= DM3502 #17           ; 検査STEPNo
ANB MR6901               ; 検査Z軸 STEP17位置
ORL
LD= DM3502 #18           ; 検査STEPNo
ANB MR6902               ; 検査Z軸 STEP18位置
ORL
LD= DM3502 #19           ; 検査STEPNo
ANB MR6903               ; 検査Z軸 STEP19位置
ORL
LD= DM3502 #20           ; 検査STEPNo
ANB MR6904               ; 検査Z軸 STEP20位置
ORL
ANL
ORL
OUT @MR302               ; 自動 検査Z軸 位置決め
;<h1/>ｲﾝﾀｰﾛｯｸ
LD MR806                 ; 検査Z軸 動作可能
AND MR6912               ; 検査Z軸 原点復帰記憶
ANB MR7200               ; ERR20 検査Z軸 ﾄﾞﾗｲﾊﾞｰ異常
ANB MR7201               ; ERR21 検査Z軸軸ｴﾗｰ
AND MR400                ; 全ﾄﾞｱ閉確認
LD MR100                 ; 手動ﾓｰﾄﾞ
OR MR101                 ; 自動ﾓｰﾄﾞ
ANL
OUT MR11602              ; ﾏｸﾛPOS 検査Z軸 位置決めIL
;<h1/>検査Z軸位置決め開始
LDB @MR305               ; 検査Z軸 位置決め
TMH #130 #10             ; 検査Z軸手動ﾀﾞﾝﾏﾘ対策
LD @MR300                ; 手動 検査Z軸 位置決め
AND T130                 ; 検査Z軸手動ﾀﾞﾝﾏﾘ対策
AND MR100                ; 手動ﾓｰﾄﾞ
LD @MR302                ; 自動 検査Z軸 位置決め
AND MR101                ; 自動ﾓｰﾄﾞ
ORL
OR @MR305                ; 検査Z軸 位置決め
ANB MR11609              ; ﾏｸﾛPOS 検査Z軸 位置決め完了
ANB MR11610              ; ﾏｸﾛPOS 検査Z軸 位置決め異常
AND MR11602              ; ﾏｸﾛPOS 検査Z軸 位置決めIL
OUT @MR305               ; 検査Z軸 位置決め
;<h1/>ﾎﾟｲﾝﾄﾊﾟﾗﾒｰﾀ演算
;'検査Z軸  目標座標演算
;
;FM20004.L = FM22004.L + FM20040.L 	'STEP01  目標座標演算
;FM20104.L = FM22004.L + FM20140.L 	'STEP02  目標座標演算
;FM20204.L = FM22004.L + FM20240.L 	'STEP03  目標座標演算
;FM20304.L = FM22004.L + FM20340.L 	'STEP04  目標座標演算
;FM20404.L = FM22004.L + FM20440.L 	'STEP05  目標座標演算
;FM20504.L = FM22004.L + FM20540.L 	'STEP06  目標座標演算
;FM20604.L = FM22004.L + FM20640.L 	'STEP07  目標座標演算
;FM20704.L = FM22004.L + FM20740.L 	'STEP08  目標座標演算
;FM20804.L = FM22004.L + FM20840.L 	'STEP09  目標座標演算
;FM20904.L = FM22004.L + FM20940.L 	'STEP10  目標座標演算
;
;FM21004.L = FM22004.L + FM21040.L 	'STEP11  目標座標演算
;FM21104.L = FM22004.L + FM21140.L 	'STEP12  目標座標演算
;FM21204.L = FM22004.L + FM21240.L 	'STEP13  目標座標演算
;FM21304.L = FM22004.L + FM21340.L 	'STEP14  目標座標演算
;FM21404.L = FM22004.L + FM21440.L 	'STEP15  目標座標演算
;FM21504.L = FM22004.L + FM21540.L 	'STEP16  目標座標演算
;FM21604.L = FM22004.L + FM21640.L 	'STEP17  目標座標演算
;FM21704.L = FM22004.L + FM21740.L 	'STEP18  目標座標演算
;FM21804.L = FM22004.L + FM21840.L 	'STEP19  目標座標演算
;FM21904.L = FM22004.L + FM21940.L 	'STEP20  目標座標演算
LD CR2002                ; 常時ON
NCJ #1001
;'検査Z軸  目標座標演算
;
;FM20004.L = FM22004.L + FM20040.L 	'STEP01  目標座標演算
;
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM20040            ; TP検査Z軸 STEP01位置 目標基座標
CON
STA.L FM20004            ; TP検査Z軸 STEP01位置 目標座標
;FM20104.L = FM22004.L + FM20140.L 	'STEP02  目標座標演算
;
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM20140            ; TP検査Z軸 STEP02位置 目標基座標
CON
STA.L FM20104            ; TP検査Z軸 STEP02位置 目標座標
;FM20204.L = FM22004.L + FM20240.L 	'STEP03  目標座標演算
;
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM20240            ; TP検査Z軸 STEP03位置 目標基座標
CON
STA.L FM20204            ; TP検査Z軸 STEP03位置 目標座標
;FM20304.L = FM22004.L + FM20340.L 	'STEP04  目標座標演算
;
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM20340            ; TP検査Z軸 STEP04位置 目標基座標
CON
STA.L FM20304            ; TP検査Z軸 STEP04位置 目標座標
;FM20404.L = FM22004.L + FM20440.L 	'STEP05  目標座標演算
;
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM20440            ; TP検査Z軸 STEP05位置 目標基座標
CON
STA.L FM20404            ; TP検査Z軸 STEP05位置 目標座標
;FM20504.L = FM22004.L + FM20540.L 	'STEP06  目標座標演算
;
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM20540            ; TP検査Z軸 STEP06位置 目標基座標
CON
STA.L FM20504            ; TP検査Z軸 STEP06位置 目標座標
;FM20604.L = FM22004.L + FM20640.L 	'STEP07  目標座標演算
;
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM20640            ; TP検査Z軸 STEP07位置 目標基座標
CON
STA.L FM20604            ; TP検査Z軸 STEP07位置 目標座標
;FM20704.L = FM22004.L + FM20740.L 	'STEP08  目標座標演算
;
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM20740            ; TP検査Z軸 STEP08位置 目標基座標
CON
STA.L FM20704            ; TP検査Z軸 STEP08位置 目標座標
;FM20804.L = FM22004.L + FM20840.L 	'STEP09  目標座標演算
;
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM20840            ; TP検査Z軸 STEP09位置 目標基座標
CON
STA.L FM20804            ; TP検査Z軸 STEP09位置 目標座標
;FM20904.L = FM22004.L + FM20940.L 	'STEP10  目標座標演算
;
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM20940            ; TP検査Z軸 STEP10位置 目標基座標
CON
STA.L FM20904            ; TP検査Z軸 STEP10位置 目標座標
;FM21004.L = FM22004.L + FM21040.L 	'STEP11  目標座標演算
;
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM21040            ; TP検査Z軸 STEP11位置 目標基座標
CON
STA.L FM21004            ; TP検査Z軸 STEP11位置 目標座標
;FM21104.L = FM22004.L + FM21140.L 	'STEP12  目標座標演算
;
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM21140            ; TP検査Z軸 STEP12位置 目標基座標
CON
STA.L FM21104            ; TP検査Z軸 STEP12位置 目標座標
;FM21204.L = FM22004.L + FM21240.L 	'STEP13  目標座標演算
;
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM21240            ; TP検査Z軸 STEP13位置 目標基座標
CON
STA.L FM21204            ; TP検査Z軸 STEP13位置 目標座標
;FM21304.L = FM22004.L + FM21340.L 	'STEP14  目標座標演算
;
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM21340            ; TP検査Z軸 STEP14位置 目標基座標
CON
STA.L FM21304            ; TP検査Z軸 STEP14位置 目標座標
;FM21404.L = FM22004.L + FM21440.L 	'STEP15  目標座標演算
;
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM21440            ; TP検査Z軸 STEP15位置 目標基座標
CON
STA.L FM21404            ; TP検査Z軸 STEP15位置 目標座標
;FM21504.L = FM22004.L + FM21540.L 	'STEP16  目標座標演算
;
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM21540            ; TP検査Z軸 STEP16位置 目標基座標
CON
STA.L FM21504            ; TP検査Z軸 STEP16位置 目標座標
;FM21604.L = FM22004.L + FM21640.L 	'STEP17  目標座標演算
;
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM21640            ; TP検査Z軸 STEP17位置 目標基座標
CON
STA.L FM21604            ; TP検査Z軸 STEP17位置 目標座標
;FM21704.L = FM22004.L + FM21740.L 	'STEP18  目標座標演算
;
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM21740            ; TP検査Z軸 STEP18位置 目標基座標
CON
STA.L FM21704            ; TP検査Z軸 STEP18位置 目標座標
;FM21804.L = FM22004.L + FM21840.L 	'STEP19  目標座標演算
;
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM21840            ; TP検査Z軸 STEP19位置 目標基座標
CON
STA.L FM21804            ; TP検査Z軸 STEP19位置 目標座標
;FM21904.L = FM22004.L + FM21940.L 	'STEP20  目標座標演算
LD CR2002                ; 常時ON
LDA.L FM22004            ; TP検査Z軸 待機位置 目標座標
CON
ADD.L FM21940            ; TP検査Z軸 STEP20位置 目標基座標
CON
STA.L FM21904            ; TP検査Z軸 STEP20位置 目標座標
LABEL #1001
;
;<h1/>ﾎﾟｲﾝﾄﾊﾟﾗﾒｰﾀ転送
;P1　検査Z軸 STEP01位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #1             ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM20000 DM11600 #16 ; TP検査Z軸 STEP01位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM20016            ; TP検査Z軸 STEP01位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM20018 DM11618 #10 ; TP検査Z軸 STEP01位置 加速時間  検査Z軸 加速時間
;P2　検査Z軸 STEP02位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #2             ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM20100 DM11600 #16 ; TP検査Z軸 STEP02位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM20116            ; TP検査Z軸 STEP02位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM20118 DM11618 #10 ; TP検査Z軸 STEP02位置 加速時間  検査Z軸 加速時間
;P3　検査Z軸 STEP03位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #3             ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM20200 DM11600 #16 ; TP検査Z軸 STEP03位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM20216            ; TP検査Z軸 STEP03位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM20218 DM11618 #10 ; TP検査Z軸 STEP03位置 加速時間  検査Z軸 加速時間
;P4　検査Z軸 STEP04位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #4             ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM20300 DM11600 #16 ; TP検査Z軸 STEP04位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM20316            ; TP検査Z軸 STEP04位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM20318 DM11618 #10 ; TP検査Z軸 STEP04位置 加速時間  検査Z軸 加速時間
;P5　検査Z軸 STEP05位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #5             ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM20400 DM11600 #16 ; TP検査Z軸 STEP05位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM20416            ; TP検査Z軸 STEP05位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM20418 DM11618 #10 ; TP検査Z軸 STEP05位置 加速時間  検査Z軸 加速時間
;P6　検査Z軸 STEP06位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #6             ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM20500 DM11600 #16 ; TP検査Z軸 STEP06位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM20516            ; TP検査Z軸 STEP06位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM20518 DM11618 #10 ; TP検査Z軸 STEP06位置 加速時間  検査Z軸 加速時間
;P7　検査Z軸 STEP07位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #7             ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM20600 DM11600 #16 ; TP検査Z軸 STEP07位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM20616            ; TP検査Z軸 STEP07位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM20618 DM11618 #10 ; TP検査Z軸 STEP07位置 加速時間  検査Z軸 加速時間
;P8　検査Z軸 STEP08位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #8             ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM20700 DM11600 #16 ; TP検査Z軸 STEP08位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM20716            ; TP検査Z軸 STEP08位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM20718 DM11618 #10 ; TP検査Z軸 STEP08位置 加速時間  検査Z軸 加速時間
;P9　検査Z軸 STEP09位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #9             ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM20800 DM11600 #16 ; TP検査Z軸 STEP09位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM20816            ; TP検査Z軸 STEP09位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM20818 DM11618 #10 ; TP検査Z軸 STEP09位置 加速時間  検査Z軸 加速時間
;P10　検査Z軸 STEP10位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #10            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM20900 DM11600 #16 ; TP検査Z軸 STEP10位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM20916            ; TP検査Z軸 STEP10位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM20918 DM11618 #10 ; TP検査Z軸 STEP10位置 加速時間  検査Z軸 加速時間
;P11　検査Z軸 STEP11位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #11            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM21000 DM11600 #16 ; TP検査Z軸 STEP11位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM21016            ; TP検査Z軸 STEP11位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM21018 DM11618 #10 ; TP検査Z軸 STEP11位置 加速時間  検査Z軸 加速時間
;P12　検査Z軸 STEP12位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #12            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM21100 DM11600 #16 ; TP検査Z軸 STEP12位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM21116            ; TP検査Z軸 STEP12位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM21118 DM11618 #10 ; TP検査Z軸 STEP12位置 加速時間  検査Z軸 加速時間
;P13　検査Z軸 STEP13位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #13            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM21200 DM11600 #16 ; TP検査Z軸 STEP13位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM21216            ; TP検査Z軸 STEP13位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM21218 DM11618 #10 ; TP検査Z軸 STEP13位置 加速時間  検査Z軸 加速時間
;P14　検査Z軸 STEP14位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #14            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM21300 DM11600 #16 ; TP検査Z軸 STEP14位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM21316            ; TP検査Z軸 STEP14位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM21318 DM11618 #10 ; TP検査Z軸 STEP14位置 加速時間  検査Z軸 加速時間
;P15　検査Z軸 STEP15位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #15            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM21400 DM11600 #16 ; TP検査Z軸 STEP15位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM21416            ; TP検査Z軸 STEP15位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM21418 DM11618 #10 ; TP検査Z軸 STEP15位置 加速時間  検査Z軸 加速時間
;P16　検査Z軸 STEP16位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #16            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM21500 DM11600 #16 ; TP検査Z軸 STEP16位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM21516            ; TP検査Z軸 STEP16位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM21518 DM11618 #10 ; TP検査Z軸 STEP16位置 加速時間  検査Z軸 加速時間
;P17　検査Z軸 STEP17位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #17            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM21600 DM11600 #16 ; TP検査Z軸 STEP17位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM21616            ; TP検査Z軸 STEP17位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM21618 DM11618 #10 ; TP検査Z軸 STEP17位置 加速時間  検査Z軸 加速時間
;P18　検査Z軸 STEP18位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #18            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM21700 DM11600 #16 ; TP検査Z軸 STEP18位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM21716            ; TP検査Z軸 STEP18位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM21718 DM11618 #10 ; TP検査Z軸 STEP18位置 加速時間  検査Z軸 加速時間
;P19　検査Z軸 STEP19位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #19            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM21800 DM11600 #16 ; TP検査Z軸 STEP19位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM21816            ; TP検査Z軸 STEP19位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM21818 DM11618 #10 ; TP検査Z軸 STEP19位置 加速時間  検査Z軸 加速時間
;P20　検査Z軸 STEP20位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #20            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM21900 DM11600 #16 ; TP検査Z軸 STEP20位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM21916            ; TP検査Z軸 STEP20位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM21918 DM11618 #10 ; TP検査Z軸 STEP20位置 加速時間  検査Z軸 加速時間
;P21　検査Z軸 STEP21位置
LDP @MR305               ; 検査Z軸 位置決め
AND= DM58 #21            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
BMOV FM22000 DM11600 #16 ; TP検査Z軸 待機位置 動作ﾓｰﾄﾞ  検査Z軸 動作ﾓｰﾄﾞ
MPS
LDA.D FM22016            ; TP検査Z軸 待機位置 速度
CON
MUL.D #1000
CON
STA.D DM11616            ; 検査Z軸 速度
MPP
BMOV FM22018 DM11618 #10 ; TP検査Z軸 待機位置 加速時間  検査Z軸 加速時間
LDP @MR305               ; 検査Z軸 位置決め
MCALL KE_ML_PDAT #1 DM58 #2 DM11600;検査Z軸 ﾎﾟｼﾞｼｮﾝNo.  検査Z軸 動作ﾓｰﾄﾞ
;<h1/>X軸位置決め出力
LD @MR305                ; 検査Z軸 位置決め
OUT MR11600              ; ﾏｸﾛPOS 検査Z軸 位置決め起動
LD MR004                 ; ﾘｾｯﾄSW
OUT MR11603              ; ﾏｸﾛPOS 検査Z軸 位置決め ﾘｾｯﾄSW
LD CR2002                ; 常時ON
MSTRT KE_ML_POS2 #1 #2 MR11600 DM19060;ﾏｸﾛPOS 検査Z軸 位置決め起動  検査Z軸 ｴﾗｰ状態
LD MR11613               ; ﾏｸﾛPOS 検査Z軸 位置決め 制御開始
OUT R80000               ; 軸1 位置決め制御開始
LD MR11614               ; ﾏｸﾛPOS 検査Z軸 位置決め 完了ｸﾘｱ
OUT R80002               ; 軸1 位置決め完了ｸﾘｱ
;ﾗﾝﾌﾟ
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #1             ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6801                ; 検査Z軸 STEP01位置
OUT B0620                ; 検査Z軸 STEP01位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #2             ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6802                ; 検査Z軸 STEP02位置
OUT B0621                ; 検査Z軸 STEP02位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #3             ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6803                ; 検査Z軸 STEP03位置
OUT B0622                ; 検査Z軸 STEP03位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #4             ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6804                ; 検査Z軸 STEP04位置
OUT B0623                ; 検査Z軸 STEP04位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #5             ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6805                ; 検査Z軸 STEP05位置
OUT B0624                ; 検査Z軸 STEP05位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #6             ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6806                ; 検査Z軸 STEP06位置
OUT B0625                ; 検査Z軸 STEP06位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #7             ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6807                ; 検査Z軸 STEP07位置
OUT B0626                ; 検査Z軸 STEP07位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #8             ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6808                ; 検査Z軸 STEP08位置
OUT B0627                ; 検査Z軸 STEP08位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #9             ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6809                ; 検査Z軸 STEP09位置
OUT B0628                ; 検査Z軸 STEP09位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #10            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6810                ; 検査Z軸 STEP10位置
OUT B0629                ; 検査Z軸 STEP10位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #11            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6811                ; 検査Z軸 STEP11位置
OUT B062A                ; 検査Z軸 STEP11位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #12            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6812                ; 検査Z軸 STEP12位置
OUT B062B                ; 検査Z軸 STEP12位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #13            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6813                ; 検査Z軸 STEP13位置
OUT B062C                ; 検査Z軸 STEP13位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #14            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6814                ; 検査Z軸 STEP14位置
OUT B062D                ; 検査Z軸 STEP14位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #15            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6815                ; 検査Z軸 STEP15位置
OUT B062E                ; 検査Z軸 STEP15位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #16            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6900                ; 検査Z軸 STEP16位置
OUT B062F                ; 検査Z軸 STEP16位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #17            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6901                ; 検査Z軸 STEP17位置
OUT B0630                ; 検査Z軸 STEP17位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #18            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6902                ; 検査Z軸 STEP18位置
OUT B0631                ; 検査Z軸 STEP18位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #19            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6903                ; 検査Z軸 STEP19位置
OUT B0632                ; 検査Z軸 STEP19位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #20            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6904                ; 検査Z軸 STEP20位置
OUT B0633                ; 検査Z軸 STEP20位置PL
LD MR11608               ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
AND= DM58 #21            ; 検査Z軸 ﾎﾟｼﾞｼｮﾝNo.
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR MR6905                ; 検査Z軸 待機位置
OUT B0601                ; 検査Z軸 待機位置PL
;<h1/>位置出力
;'Z軸位置表示
;FM70.L = DM58292.L			'現在値
LD CR2002                ; 常時ON
NCJ #1000
;'Z軸位置表示
;
;FM70.L = DM58292.L			'現在値
LD CR2002                ; 常時ON
MOV.L DM58292 FM70       ; 軸1 指令座標  検査Z軸 現在値表示
LABEL #1000
;
LD MR6912                ; 検査Z軸 原点復帰記憶
ANB @MR305               ; 検査Z軸 位置決め
ANB MR11608              ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
MPS
AND=.L FM70 +0           ; 検査Z軸 現在値表示
OUT MR6800               ; 検査Z軸 原点位置
MRD
AND=.L FM20004 FM70      ; TP検査Z軸 STEP01位置 目標座標  検査Z軸 現在値表示
OUT MR6801               ; 検査Z軸 STEP01位置
MRD
AND=.L FM20104 FM70      ; TP検査Z軸 STEP02位置 目標座標  検査Z軸 現在値表示
OUT MR6802               ; 検査Z軸 STEP02位置
MRD
AND=.L FM20204 FM70      ; TP検査Z軸 STEP03位置 目標座標  検査Z軸 現在値表示
OUT MR6803               ; 検査Z軸 STEP03位置
MRD
AND=.L FM20304 FM70      ; TP検査Z軸 STEP04位置 目標座標  検査Z軸 現在値表示
OUT MR6804               ; 検査Z軸 STEP04位置
MRD
AND=.L FM20404 FM70      ; TP検査Z軸 STEP05位置 目標座標  検査Z軸 現在値表示
OUT MR6805               ; 検査Z軸 STEP05位置
MRD
AND=.L FM20504 FM70      ; TP検査Z軸 STEP06位置 目標座標  検査Z軸 現在値表示
OUT MR6806               ; 検査Z軸 STEP06位置
MRD
AND=.L FM20604 FM70      ; TP検査Z軸 STEP07位置 目標座標  検査Z軸 現在値表示
OUT MR6807               ; 検査Z軸 STEP07位置
MRD
AND=.L FM20704 FM70      ; TP検査Z軸 STEP08位置 目標座標  検査Z軸 現在値表示
OUT MR6808               ; 検査Z軸 STEP08位置
MRD
AND=.L FM20804 FM70      ; TP検査Z軸 STEP09位置 目標座標  検査Z軸 現在値表示
OUT MR6809               ; 検査Z軸 STEP09位置
MRD
AND=.L FM20904 FM70      ; TP検査Z軸 STEP10位置 目標座標  検査Z軸 現在値表示
OUT MR6810               ; 検査Z軸 STEP10位置
MRD
AND=.L FM21004 FM70      ; TP検査Z軸 STEP11位置 目標座標  検査Z軸 現在値表示
OUT MR6811               ; 検査Z軸 STEP11位置
MRD
AND=.L FM21104 FM70      ; TP検査Z軸 STEP12位置 目標座標  検査Z軸 現在値表示
OUT MR6812               ; 検査Z軸 STEP12位置
MRD
AND=.L FM21204 FM70      ; TP検査Z軸 STEP13位置 目標座標  検査Z軸 現在値表示
OUT MR6813               ; 検査Z軸 STEP13位置
MRD
AND=.L FM21304 FM70      ; TP検査Z軸 STEP14位置 目標座標  検査Z軸 現在値表示
OUT MR6814               ; 検査Z軸 STEP14位置
MRD
AND=.L FM21404 FM70      ; TP検査Z軸 STEP15位置 目標座標  検査Z軸 現在値表示
OUT MR6815               ; 検査Z軸 STEP15位置
MRD
AND=.L FM21504 FM70      ; TP検査Z軸 STEP16位置 目標座標  検査Z軸 現在値表示
OUT MR6900               ; 検査Z軸 STEP16位置
MRD
AND=.L FM21604 FM70      ; TP検査Z軸 STEP17位置 目標座標  検査Z軸 現在値表示
OUT MR6901               ; 検査Z軸 STEP17位置
MRD
AND=.L FM21704 FM70      ; TP検査Z軸 STEP18位置 目標座標  検査Z軸 現在値表示
OUT MR6902               ; 検査Z軸 STEP18位置
MRD
AND=.L FM21804 FM70      ; TP検査Z軸 STEP19位置 目標座標  検査Z軸 現在値表示
OUT MR6903               ; 検査Z軸 STEP19位置
MRD
AND=.L FM21904 FM70      ; TP検査Z軸 STEP20位置 目標座標  検査Z軸 現在値表示
OUT MR6904               ; 検査Z軸 STEP20位置
MPP
AND=.L FM22004 FM70      ; TP検査Z軸 待機位置 目標座標  検査Z軸 現在値表示
OUT MR6905               ; 検査Z軸 待機位置
;<h1/>JOG移動
LD B050A                 ; 検査Z軸 JOG正転SW
OUT @MR500               ; 手動 検査Z軸 JOG運転正転
LD B050B                 ; 検査Z軸 JOG逆転SW
OUT @MR501               ; 手動 検査Z軸 JOG運転逆転
;ｲﾝﾀｰﾛｯｸ
LD MR806                 ; 検査Z軸 動作可能
ANB MR7000               ; ERR00 給材X軸ﾄﾞﾗｲﾊﾞｰ異常
ANB MR7001               ; ERR01 給材X軸軸ｴﾗｰ
AND MR400                ; 全ﾄﾞｱ閉確認
OUT MR12602              ; ﾏｸﾛ 検査Z軸 JOG動作IL
;検査Z軸JOG運転
LD @MR500                ; 手動 検査Z軸 JOG運転正転
AND MR100                ; 手動ﾓｰﾄﾞ
AND MR12602              ; ﾏｸﾛ 検査Z軸 JOG動作IL
ANB MR12010              ; ﾏｸﾛ 給材X軸 JOG動作異常
OUT @MR505               ; 検査Z軸 JOG運転正転
LD @MR501                ; 手動 検査Z軸 JOG運転逆転
AND MR100                ; 手動ﾓｰﾄﾞ
AND MR12602              ; ﾏｸﾛ 検査Z軸 JOG動作IL
ANB MR12010              ; ﾏｸﾛ 給材X軸 JOG動作異常
OUT @MR506               ; 検査Z軸 JOG運転逆転
;検査Z軸JOG速度倍率設定
LD CR2002                ; 常時ON
MSTRT JOG_倍率 B051A B061A DM10860;検査Z軸 JOG倍率0.1SW  検査Z軸 JOG倍率0.1SW  検査Z軸 JOG倍率DATA
;動作ﾃﾞｰﾀ転送
LD @MR505                ; 検査Z軸 JOG運転正転
OR @MR506                ; 検査Z軸 JOG運転逆転
MPS
LDA.D #10
CON
MUL.D DM10860            ; 検査Z軸 JOG倍率DATA
CON
STA.D DM10818            ; 検査Z軸 JOG高速速度
MPP
UWRIT #2 #14168 DM10818 #2;検査Z軸 JOG高速速度
;出力
LD @MR505                ; 検査Z軸 JOG運転正転
OUT MR12600              ; ﾏｸﾛ 検査Z軸 JOG起動＋
LD @MR506                ; 検査Z軸 JOG運転逆転
OUT MR12601              ; ﾏｸﾛ 検査Z軸 JOG起動−
LD MR004                 ; ﾘｾｯﾄSW
OUT MR12603              ; ﾏｸﾛ 検査Z軸 JOG動作 ﾘｾｯﾄSW
LD CR2002                ; 常時ON
MSTRT KE_ML_JOG2 #1 #2 MR12600 DM19060;ﾏｸﾛ 検査Z軸 JOG起動＋  検査Z軸 ｴﾗｰ状態
LD MR12612               ; ﾏｸﾛJOG 検査Z軸 JOG正方向
OUT R84100               ; 軸1 JOG正方向
LD MR12613               ; ﾏｸﾛJOG 検査Z軸 JOG負方向
OUT R84101               ; 軸1 JOG負方向
LD MR12612               ; ﾏｸﾛJOG 検査Z軸 JOG正方向
OR MR12613               ; ﾏｸﾛJOG 検査Z軸 JOG負方向
OUT R84102               ; 軸1 高速JOG
;ﾗﾝﾌﾟ
LD MR12608               ; ﾏｸﾛ 検査Z軸 JOG＋運転中
OUT B060A                ; 検査Z軸 JOG正転SW
LD MR12609               ; ﾏｸﾛ 検査Z軸 JOG−運転中
OUT B060B                ; 検査Z軸 JOG逆転SW
;<h1/>DATA_SET
;FM20040 = FM20004 - FM22004
LD B0540                 ; 検査Z軸 STEP01位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM20004       ; 検査Z軸 現在値表示  TP検査Z軸 STEP01位置 目標座標
NCJ #1002
;FM20040 = FM20004 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM105
CON
LDA FM20004              ; TP検査Z軸 STEP01位置 目標座標
CON
EXT
CON
SUB.L @VM105
CON
STA FM20040              ; TP検査Z軸 STEP01位置 目標基座標
LABEL #1002
;
;FM20140 = FM20104 - FM22004
LD B0541                 ; 検査Z軸 STEP02位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM20104       ; 検査Z軸 現在値表示  TP検査Z軸 STEP02位置 目標座標
NCJ #1003
;FM20140 = FM20104 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM107
CON
LDA FM20104              ; TP検査Z軸 STEP02位置 目標座標
CON
EXT
CON
SUB.L @VM107
CON
STA FM20140              ; TP検査Z軸 STEP02位置 目標基座標
LABEL #1003
;
;FM20240 = FM20204 - FM22004
LD B0542                 ; 検査Z軸 STEP03位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM20204       ; 検査Z軸 現在値表示  TP検査Z軸 STEP03位置 目標座標
NCJ #1004
;FM20240 = FM20204 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM109
CON
LDA FM20204              ; TP検査Z軸 STEP03位置 目標座標
CON
EXT
CON
SUB.L @VM109
CON
STA FM20240              ; TP検査Z軸 STEP03位置 目標基座標
LABEL #1004
;
;FM20340 = FM20304 - FM22004
LD B0543                 ; 検査Z軸 STEP04位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM20304       ; 検査Z軸 現在値表示  TP検査Z軸 STEP04位置 目標座標
NCJ #1006
;FM20340 = FM20304 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM111
CON
LDA FM20304              ; TP検査Z軸 STEP04位置 目標座標
CON
EXT
CON
SUB.L @VM111
CON
STA FM20340              ; TP検査Z軸 STEP04位置 目標基座標
LABEL #1006
;
;FM20440 = FM20404 - FM22004
LD B0544                 ; 検査Z軸 STEP05位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM20404       ; 検査Z軸 現在値表示  TP検査Z軸 STEP05位置 目標座標
NCJ #1007
;FM20440 = FM20404 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM113
CON
LDA FM20404              ; TP検査Z軸 STEP05位置 目標座標
CON
EXT
CON
SUB.L @VM113
CON
STA FM20440              ; TP検査Z軸 STEP05位置 目標基座標
LABEL #1007
;
;FM20540 = FM20504 - FM22004
LD B0545                 ; 検査Z軸 STEP06位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM20504       ; 検査Z軸 現在値表示  TP検査Z軸 STEP06位置 目標座標
NCJ #1008
;FM20540 = FM20504 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM115
CON
LDA FM20504              ; TP検査Z軸 STEP06位置 目標座標
CON
EXT
CON
SUB.L @VM115
CON
STA FM20540              ; TP検査Z軸 STEP06位置 目標基座標
LABEL #1008
;
;FM20640 = FM20604 - FM22004
LD B0546                 ; 検査Z軸 STEP07位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM20604       ; 検査Z軸 現在値表示  TP検査Z軸 STEP07位置 目標座標
NCJ #1009
;FM20640 = FM20604 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM117
CON
LDA FM20604              ; TP検査Z軸 STEP07位置 目標座標
CON
EXT
CON
SUB.L @VM117
CON
STA FM20640              ; TP検査Z軸 STEP07位置 目標基座標
LABEL #1009
;
;FM20740 = FM20704 - FM22004
LD B0547                 ; 検査Z軸 STEP08位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM20704       ; 検査Z軸 現在値表示  TP検査Z軸 STEP08位置 目標座標
NCJ #1010
;FM20740 = FM20704 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM119
CON
LDA FM20704              ; TP検査Z軸 STEP08位置 目標座標
CON
EXT
CON
SUB.L @VM119
CON
STA FM20740              ; TP検査Z軸 STEP08位置 目標基座標
LABEL #1010
;
;FM20840 = FM20804 - FM22004
LD B0548                 ; 検査Z軸 STEP09位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM20804       ; 検査Z軸 現在値表示  TP検査Z軸 STEP09位置 目標座標
NCJ #1011
;FM20840 = FM20804 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM121
CON
LDA FM20804              ; TP検査Z軸 STEP09位置 目標座標
CON
EXT
CON
SUB.L @VM121
CON
STA FM20840              ; TP検査Z軸 STEP09位置 目標基座標
LABEL #1011
;
;FM20940 = FM20904 - FM22004
LD B0549                 ; 検査Z軸 STEP10位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM20904       ; 検査Z軸 現在値表示  TP検査Z軸 STEP10位置 目標座標
NCJ #1012
;FM20940 = FM20904 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM123
CON
LDA FM20904              ; TP検査Z軸 STEP10位置 目標座標
CON
EXT
CON
SUB.L @VM123
CON
STA FM20940              ; TP検査Z軸 STEP10位置 目標基座標
LABEL #1012
;
;FM21040 = FM21004 - FM22004
LD B054A                 ; 検査Z軸 STEP11位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM21004       ; 検査Z軸 現在値表示  TP検査Z軸 STEP11位置 目標座標
NCJ #1013
;FM21040 = FM21004 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM125
CON
LDA FM21004              ; TP検査Z軸 STEP11位置 目標座標
CON
EXT
CON
SUB.L @VM125
CON
STA FM21040              ; TP検査Z軸 STEP11位置 目標基座標
LABEL #1013
;
;FM21140 = FM21104 - FM22004
LD B054B                 ; 検査Z軸 STEP12位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM21104       ; 検査Z軸 現在値表示  TP検査Z軸 STEP12位置 目標座標
NCJ #1014
;FM21140 = FM21104 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM127
CON
LDA FM21104              ; TP検査Z軸 STEP12位置 目標座標
CON
EXT
CON
SUB.L @VM127
CON
STA FM21140              ; TP検査Z軸 STEP12位置 目標基座標
LABEL #1014
;
;FM21240 = FM21204 - FM22004
LD B054C                 ; 検査Z軸 STEP13位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM21204       ; 検査Z軸 現在値表示  TP検査Z軸 STEP13位置 目標座標
NCJ #1015
;FM21240 = FM21204 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM129
CON
LDA FM21204              ; TP検査Z軸 STEP13位置 目標座標
CON
EXT
CON
SUB.L @VM129
CON
STA FM21240              ; TP検査Z軸 STEP13位置 目標基座標
LABEL #1015
;
;FM21340 = FM21304 - FM22004
LD B054D                 ; 検査Z軸 STEP14位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM21304       ; 検査Z軸 現在値表示  TP検査Z軸 STEP14位置 目標座標
NCJ #1016
;FM21340 = FM21304 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM131
CON
LDA FM21304              ; TP検査Z軸 STEP14位置 目標座標
CON
EXT
CON
SUB.L @VM131
CON
STA FM21340              ; TP検査Z軸 STEP14位置 目標基座標
LABEL #1016
;
;FM21440 = FM21404 - FM22004
LD B054E                 ; 検査Z軸 STEP15位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM21404       ; 検査Z軸 現在値表示  TP検査Z軸 STEP15位置 目標座標
NCJ #1017
;FM21440 = FM21404 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM133
CON
LDA FM21404              ; TP検査Z軸 STEP15位置 目標座標
CON
EXT
CON
SUB.L @VM133
CON
STA FM21440              ; TP検査Z軸 STEP15位置 目標基座標
LABEL #1017
;
;FM21540 = FM21504 - FM22004
LD B054F                 ; 検査Z軸 STEP16位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM21504       ; 検査Z軸 現在値表示  TP検査Z軸 STEP16位置 目標座標
NCJ #1018
;FM21540 = FM21504 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM135
CON
LDA FM21504              ; TP検査Z軸 STEP16位置 目標座標
CON
EXT
CON
SUB.L @VM135
CON
STA FM21540              ; TP検査Z軸 STEP16位置 目標基座標
LABEL #1018
;
;FM21640 = FM21604 - FM22004
LD B0550                 ; 検査Z軸 STEP17位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM21604       ; 検査Z軸 現在値表示  TP検査Z軸 STEP17位置 目標座標
NCJ #1019
;FM21640 = FM21604 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM137
CON
LDA FM21604              ; TP検査Z軸 STEP17位置 目標座標
CON
EXT
CON
SUB.L @VM137
CON
STA FM21640              ; TP検査Z軸 STEP17位置 目標基座標
LABEL #1019
;
;FM21740 = FM21704 - FM22004
LD B0551                 ; 検査Z軸 STEP18位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM21704       ; 検査Z軸 現在値表示  TP検査Z軸 STEP18位置 目標座標
NCJ #1020
;FM21740 = FM21704 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM139
CON
LDA FM21704              ; TP検査Z軸 STEP18位置 目標座標
CON
EXT
CON
SUB.L @VM139
CON
STA FM21740              ; TP検査Z軸 STEP18位置 目標基座標
LABEL #1020
;
;FM21840 = FM21804 - FM22004
LD B0552                 ; 検査Z軸 STEP19位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM21804       ; 検査Z軸 現在値表示  TP検査Z軸 STEP19位置 目標座標
NCJ #1021
;FM21840 = FM21804 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM141
CON
LDA FM21804              ; TP検査Z軸 STEP19位置 目標座標
CON
EXT
CON
SUB.L @VM141
CON
STA FM21840              ; TP検査Z軸 STEP19位置 目標基座標
LABEL #1021
;
;FM21940 = FM21904 - FM22004
LD B0553                 ; 検査Z軸 STEP20位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM21904       ; 検査Z軸 現在値表示  TP検査Z軸 STEP20位置 目標座標
NCJ #1022
;FM21940 = FM21904 - FM22004
LD CR2002                ; 常時ON
LDA FM22004              ; TP検査Z軸 待機位置 目標座標
CON
EXT
CON
STA.L @VM143
CON
LDA FM21904              ; TP検査Z軸 STEP20位置 目標座標
CON
EXT
CON
SUB.L @VM143
CON
STA FM21940              ; TP検査Z軸 STEP20位置 目標基座標
LABEL #1022
;
LD B055F                 ; 検査Z軸 待機位置 SET_SW
AND MR100                ; 手動ﾓｰﾄﾞ
MOV.L FM70 FM22004       ; 検査Z軸 現在値表示  TP検査Z軸 待機位置 目標座標
;<h1/>PLC→PC　ﾃﾞｰﾀ書込
LD CR2002                ; 常時ON
MOV.L FM20016 W2100      ; TP検査Z軸 STEP01位置 速度  PLC→PC STEP01 検査Z軸 運転速度
MOV.L FM20116 W2102      ; TP検査Z軸 STEP02位置 速度  PLC→PC STEP02 検査Z軸 運転速度
MOV.L FM20216 W2104      ; TP検査Z軸 STEP03位置 速度  PLC→PC STEP03 検査Z軸 運転速度
MOV.L FM20316 W2106      ; TP検査Z軸 STEP04位置 速度  PLC→PC STEP04 検査Z軸 運転速度
MOV.L FM20416 W2108      ; TP検査Z軸 STEP05位置 速度  PLC→PC STEP05 検査Z軸 運転速度
MOV.L FM20516 W210A      ; TP検査Z軸 STEP06位置 速度  PLC→PC STEP06 検査Z軸 運転速度
MOV.L FM20616 W210C      ; TP検査Z軸 STEP07位置 速度  PLC→PC STEP07 検査Z軸 運転速度
MOV.L FM20716 W210E      ; TP検査Z軸 STEP08位置 速度  PLC→PC STEP08 検査Z軸 運転速度
MOV.L FM20816 W2110      ; TP検査Z軸 STEP09位置 速度  PLC→PC STEP09 検査Z軸 運転速度
MOV.L FM20916 W2112      ; TP検査Z軸 STEP10位置 速度  PLC→PC STEP10 検査Z軸 運転速度
MOV.L FM21016 W2114      ; TP検査Z軸 STEP11位置 速度  PLC→PC STEP11 検査Z軸 運転速度
MOV.L FM21116 W2116      ; TP検査Z軸 STEP12位置 速度  PLC→PC STEP12 検査Z軸 運転速度
MOV.L FM21216 W2118      ; TP検査Z軸 STEP13位置 速度  PLC→PC STEP13 検査Z軸 運転速度
MOV.L FM21316 W211A      ; TP検査Z軸 STEP14位置 速度  PLC→PC STEP14 検査Z軸 運転速度
MOV.L FM21416 W211C      ; TP検査Z軸 STEP15位置 速度  PLC→PC STEP15 検査Z軸 運転速度
MOV.L FM21516 W211E      ; TP検査Z軸 STEP16位置 速度  PLC→PC STEP16 検査Z軸 運転速度
MOV.L FM21616 W2120      ; TP検査Z軸 STEP17位置 速度  PLC→PC STEP17 検査Z軸 運転速度
MOV.L FM21716 W2122      ; TP検査Z軸 STEP18位置 速度  PLC→PC STEP18 検査Z軸 運転速度
MOV.L FM21816 W2124      ; TP検査Z軸 STEP19位置 速度  PLC→PC STEP19 検査Z軸 運転速度
MOV.L FM21916 W2126      ; TP検査Z軸 STEP20位置 速度  PLC→PC STEP20 検査Z軸 運転速度
LD CR2002                ; 常時ON
MOV.L FM20040 W2140      ; TP検査Z軸 STEP01位置 目標基座標  PLC→PC STEP01 検査Z軸 目標座標
MOV.L FM20140 W2142      ; TP検査Z軸 STEP02位置 目標基座標  PLC→PC STEP02 検査Z軸 目標座標
MOV.L FM20240 W2144      ; TP検査Z軸 STEP03位置 目標基座標  PLC→PC STEP03 検査Z軸 目標座標
MOV.L FM20340 W2146      ; TP検査Z軸 STEP04位置 目標基座標  PLC→PC STEP04 検査Z軸 目標座標
MOV.L FM20440 W2148      ; TP検査Z軸 STEP05位置 目標基座標  PLC→PC STEP05 検査Z軸 目標座標
MOV.L FM20540 W214A      ; TP検査Z軸 STEP06位置 目標基座標  PLC→PC STEP06 検査Z軸 目標座標
MOV.L FM20640 W214C      ; TP検査Z軸 STEP07位置 目標基座標  PLC→PC STEP07 検査Z軸 目標座標
MOV.L FM20740 W214E      ; TP検査Z軸 STEP08位置 目標基座標  PLC→PC STEP08 検査Z軸 目標座標
MOV.L FM20840 W2150      ; TP検査Z軸 STEP09位置 目標基座標  PLC→PC STEP09 検査Z軸 目標座標
MOV.L FM20940 W2152      ; TP検査Z軸 STEP10位置 目標基座標  PLC→PC STEP10 検査Z軸 目標座標
MOV.L FM21040 W2154      ; TP検査Z軸 STEP11位置 目標基座標  PLC→PC STEP11 検査Z軸 目標座標
MOV.L FM21140 W2156      ; TP検査Z軸 STEP12位置 目標基座標  PLC→PC STEP12 検査Z軸 目標座標
MOV.L FM21240 W2158      ; TP検査Z軸 STEP13位置 目標基座標  PLC→PC STEP13 検査Z軸 目標座標
MOV.L FM21340 W215A      ; TP検査Z軸 STEP14位置 目標基座標  PLC→PC STEP14 検査Z軸 目標座標
MOV.L FM21440 W215C      ; TP検査Z軸 STEP15位置 目標基座標  PLC→PC STEP15 検査Z軸 目標座標
MOV.L FM21540 W215E      ; TP検査Z軸 STEP16位置 目標基座標  PLC→PC STEP16 検査Z軸 目標座標
MOV.L FM21640 W2160      ; TP検査Z軸 STEP17位置 目標基座標  PLC→PC STEP17 検査Z軸 目標座標
MOV.L FM21740 W2162      ; TP検査Z軸 STEP18位置 目標基座標  PLC→PC STEP18 検査Z軸 目標座標
MOV.L FM21840 W2164      ; TP検査Z軸 STEP19位置 目標基座標  PLC→PC STEP19 検査Z軸 目標座標
MOV.L FM21940 W2166      ; TP検査Z軸 STEP20位置 目標基座標  PLC→PC STEP20 検査Z軸 目標座標
LD CR2002                ; 常時ON
MOV.L FM20018 W2180      ; TP検査Z軸 STEP01位置 加速時間  PLC→PC STEP01 検査Z軸 加速時間
MOV.L FM20118 W2182      ; TP検査Z軸 STEP02位置 加速時間  PLC→PC STEP02 検査Z軸 加速時間
MOV.L FM20218 W2184      ; TP検査Z軸 STEP03位置 加速時間  PLC→PC STEP03 検査Z軸 加速時間
MOV.L FM20318 W2186      ; TP検査Z軸 STEP04位置 加速時間  PLC→PC STEP04 検査Z軸 加速時間
MOV.L FM20418 W2188      ; TP検査Z軸 STEP05位置 加速時間  PLC→PC STEP05 検査Z軸 加速時間
MOV.L FM20518 W218A      ; TP検査Z軸 STEP06位置 加速時間  PLC→PC STEP06 検査Z軸 加速時間
MOV.L FM20618 W218C      ; TP検査Z軸 STEP07位置 加速時間  PLC→PC STEP07 検査Z軸 加速時間
MOV.L FM20718 W218E      ; TP検査Z軸 STEP08位置 加速時間  PLC→PC STEP08 検査Z軸 加速時間
MOV.L FM20818 W2190      ; TP検査Z軸 STEP09位置 加速時間  PLC→PC STEP09 検査Z軸 加速時間
MOV.L FM20918 W2192      ; TP検査Z軸 STEP10位置 加速時間  PLC→PC STEP10 検査Z軸 加速時間
MOV.L FM21018 W2194      ; TP検査Z軸 STEP11位置 加速時間  PLC→PC STEP11 検査Z軸 加速時間
MOV.L FM21118 W2196      ; TP検査Z軸 STEP12位置 加速時間  PLC→PC STEP12 検査Z軸 加速時間
MOV.L FM21218 W2198      ; TP検査Z軸 STEP13位置 加速時間  PLC→PC STEP13 検査Z軸 加速時間
MOV.L FM21318 W219A      ; TP検査Z軸 STEP14位置 加速時間  PLC→PC STEP14 検査Z軸 加速時間
MOV.L FM21418 W219C      ; TP検査Z軸 STEP15位置 加速時間  PLC→PC STEP15 検査Z軸 加速時間
MOV.L FM21518 W219E      ; TP検査Z軸 STEP16位置 加速時間  PLC→PC STEP16 検査Z軸 加速時間
MOV.L FM21618 W21A0      ; TP検査Z軸 STEP17位置 加速時間  PLC→PC STEP17 検査Z軸 加速時間
MOV.L FM21718 W21A2      ; TP検査Z軸 STEP18位置 加速時間  PLC→PC STEP18 検査Z軸 加速時間
MOV.L FM21818 W21A4      ; TP検査Z軸 STEP19位置 加速時間  PLC→PC STEP19 検査Z軸 加速時間
MOV.L FM21918 W21A6      ; TP検査Z軸 STEP20位置 加速時間  PLC→PC STEP20 検査Z軸 加速時間
LD CR2002                ; 常時ON
MOV.L FM20020 W21C0      ; TP検査Z軸 STEP01位置 減速時間  PLC→PC STEP01 検査Z軸 減速時間
MOV.L FM20120 W21C2      ; TP検査Z軸 STEP02位置 減速時間  PLC→PC STEP02 検査Z軸 減速時間
MOV.L FM20220 W21C4      ; TP検査Z軸 STEP03位置 減速時間  PLC→PC STEP03 検査Z軸 減速時間
MOV.L FM20320 W21C6      ; TP検査Z軸 STEP04位置 減速時間  PLC→PC STEP04 検査Z軸 減速時間
MOV.L FM20420 W21C8      ; TP検査Z軸 STEP05位置 減速時間  PLC→PC STEP05 検査Z軸 減速時間
MOV.L FM20520 W21CA      ; TP検査Z軸 STEP06位置 減速時間  PLC→PC STEP06 検査Z軸 減速時間
MOV.L FM20620 W21CC      ; TP検査Z軸 STEP07位置 減速時間  PLC→PC STEP07 検査Z軸 減速時間
MOV.L FM20720 W21CE      ; TP検査Z軸 STEP08位置 減速時間  PLC→PC STEP08 検査Z軸 減速時間
MOV.L FM20820 W21D0      ; TP検査Z軸 STEP09位置 減速時間  PLC→PC STEP09 検査Z軸 減速時間
MOV.L FM20920 W21D2      ; TP検査Z軸 STEP10位置 減速時間  PLC→PC STEP10 検査Z軸 減速時間
MOV.L FM21020 W21D4      ; TP検査Z軸 STEP11位置 減速時間  PLC→PC STEP11 検査Z軸 減速時間
MOV.L FM21120 W21D6      ; TP検査Z軸 STEP12位置 減速時間  PLC→PC STEP12 検査Z軸 減速時間
MOV.L FM21220 W21D8      ; TP検査Z軸 STEP13位置 減速時間  PLC→PC STEP13 検査Z軸 減速時間
MOV.L FM21320 W21DA      ; TP検査Z軸 STEP14位置 減速時間  PLC→PC STEP14 検査Z軸 減速時間
MOV.L FM21420 W21DC      ; TP検査Z軸 STEP15位置 減速時間  PLC→PC STEP15 検査Z軸 減速時間
MOV.L FM21520 W21DE      ; TP検査Z軸 STEP16位置 減速時間  PLC→PC STEP16 検査Z軸 減速時間
MOV.L FM21620 W21E0      ; TP検査Z軸 STEP17位置 減速時間  PLC→PC STEP17 検査Z軸 減速時間
MOV.L FM21720 W21E2      ; TP検査Z軸 STEP18位置 減速時間  PLC→PC STEP18 検査Z軸 減速時間
MOV.L FM21820 W21E4      ; TP検査Z軸 STEP19位置 減速時間  PLC→PC STEP19 検査Z軸 減速時間
MOV.L FM21920 W21E6      ; TP検査Z軸 STEP20位置 減速時間  PLC→PC STEP20 検査Z軸 減速時間
LD B0510                 ; 検査Z軸 ﾃﾞｰﾀ書込SW
OR B0610                 ; 検査Z軸 ﾃﾞｰﾀ書込PL
AND MR100                ; 手動ﾓｰﾄﾞ
ANB W2500.6              ; PC→PLC ﾃﾞｰﾀ書込完了
AND W2500.2              ; PC→PLC 自動可
AND MR003                ; PCｵﾝﾗｲﾝ
OUT B0610                ; 検査Z軸 ﾃﾞｰﾀ書込PL
;<h1/>ｴﾗｰ出力
LD MR10610               ; ﾏｸﾛHP 検査Z軸 原点復帰異常
OR MR11610               ; ﾏｸﾛPOS 検査Z軸 位置決め異常
OR MR12610               ; ﾏｸﾛ 検査Z軸 JOG動作異常
OR CR2002                ; 常時ON
MPS
LD DM19060.0
OR R84705                ; 軸1 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
ANL
OUT MR7200               ; ERR20 検査Z軸 ﾄﾞﾗｲﾊﾞｰ異常
MPP
LD DM19060.1
OR R82802                ; ｴﾗｰ中
OR R84400                ; 軸1 軸ｴﾗｰ中
ANL
OUT MR7201               ; ERR21 検査Z軸軸ｴﾗｰ
LD MR7200                ; ERR20 検査Z軸 ﾄﾞﾗｲﾊﾞｰ異常
OR MR7201                ; ERR21 検査Z軸軸ｴﾗｰ
AND MR004                ; ﾘｾｯﾄSW
OR MR10611               ; ﾏｸﾛHP 検査Z軸 ｴﾗｰｸﾘｱ
OR MR11611               ; ﾏｸﾛPOS 検査Z軸 ｴﾗｰｸﾘｱ
OR MR12611               ; ﾏｸﾛJOG 検査Z軸 ｴﾗｰｸﾘｱ
OUT R84000               ; 軸1 軸ｴﾗｰｸﾘｱ
LD MR7200                ; ERR20 検査Z軸 ﾄﾞﾗｲﾊﾞｰ異常
OR MR7201                ; ERR21 検査Z軸軸ｴﾗｰ
AND MR004                ; ﾘｾｯﾄSW
OR MR10613               ; ﾏｸﾛHP 検査Z軸 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
OR MR11612               ; ﾏｸﾛPOS 検査Z軸 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ ﾘｾｯﾄ
OR MR12614               ; ﾏｸﾛJOG 検査Z軸 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ ﾘｾｯﾄ
OUT R84305               ; 軸1 ﾄﾞﾗｲﾊﾞｱﾗｰﾑﾘｾｯﾄ
;<h1/>まとめ
LD MR7200                ; ERR20 検査Z軸 ﾄﾞﾗｲﾊﾞｰ異常
OR MR7201                ; ERR21 検査Z軸軸ｴﾗｰ
OUT MR6913               ; 検査Z軸 全異常
LD MR6905                ; 検査Z軸 待機位置
OUT MR6914               ; 検査Z軸 全原点
LDB MR10600              ; ﾏｸﾛHP 検査Z軸 原点復帰起動
ANB MR10608              ; ﾏｸﾛHP 検査Z軸 原点復帰中
ANB MR11600              ; ﾏｸﾛPOS 検査Z軸 位置決め起動
ANB MR11608              ; ﾏｸﾛPOS 検査Z軸 位置決め 移動中
ANB MR12600              ; ﾏｸﾛ 検査Z軸 JOG起動＋
ANB MR12601              ; ﾏｸﾛ 検査Z軸 JOG起動−
ANB MR12608              ; ﾏｸﾛ 検査Z軸 JOG＋運転中
ANB MR12609              ; ﾏｸﾛ 検査Z軸 JOG−運転中
OUT MR6915               ; 検査Z軸 全停止
END
ENDH
