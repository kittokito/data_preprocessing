DEVICE:53
;MODULE:RB_CON_Cont
;MODULE_TYPE:0
;SCRIPT_TYPE:
;OneSystem Master-Module
;
;-----------------------------------------
;ModuleName	:	RB_CON_Cont
;ModuleType	:	Master Module
;Function	:	Robot Control
;-----------------------------------------
;
;Emergency Stop
LDP R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ZRES @R001 @R3915
LD CR2002                ; 常時ON
FLIK #30 #30 @MR000
LD CR2002                ; 常時ON
DW.D #10 DM10774         ; SCON-1 位置決め幅（下位8bit）
CON
DW.D #10 DM10782         ; SCON-2 位置決め幅（下位8bit）
LD CR2002                ; 常時ON
DW #30 DM10777           ; SCON-1 加減速度
CON
DW #30 DM10785           ; SCON-2 加減速度
LD CR2008                ; 運転開始時1ｽｷｬﾝON
SET MR2805               ; 搬送X軸RBｻｰﾎﾞｵﾝ ﾗﾝﾌﾟ
CON
SET MR2812               ; 搬送Y軸RBｻｰﾎﾞｵﾝ ﾗﾝﾌﾟ
;<h1/>RB8 (除材X軸) SCON
BLD DM10579 #3           ; SCON-1 状態信号
OUT @MR100
BLD DM10579 #4           ; SCON-1 状態信号
BAND DM10579 #14         ; SCON-1 状態信号
BANB DM10579 #15         ; SCON-1 状態信号
BANB DM10579 #8          ; SCON-1 状態信号
BANB DM10579 #7          ; SCON-1 状態信号
OUT @MR101
BLD DM10579 #0           ; SCON-1 状態信号
OUT MR19215              ; RB8:位置決め完了
LDB R46114               ; _装置原点復帰待ち
BAND DM10579 #3          ; SCON-1 状態信号
ANB @MR007               ; RB8ｱﾗｰﾑON
OUT MR19213              ; RB8:ｱﾗｰﾑ出力
LDP MR19213              ; RB8:ｱﾗｰﾑ出力
ANB R39004               ; ｴﾗｰ中
SET @MR007               ; RB8ｱﾗｰﾑON
CON
SET R39004               ; ｴﾗｰ中
CON
DW #19 @DM1
CON
DW #1000 @DM9
CON
LDA DM60009
CON
STA @DM2
CON
SET @R100                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
LDA DM10578              ; SCON-1 ｱﾗｰﾑｺｰﾄﾞ
CON
STA DM20030              ; TP/ｴﾗｰｺｰﾄﾞ表示
CON
SET MR17600              ; TP/ｴﾗｰｺｰﾄﾞ表示
CON
SET @R000
STG @R000
AND @R101
RES @R101
CON
DW #0 DM60009
CON
AND @R105                ; SW1
SET MR19300              ; ｱﾗｰﾑﾘｾｯﾄ要求
CON
JMP @R001
STG @R001
TMR #1940 #5
CON
AND T1940
RES @MR007               ; RB8ｱﾗｰﾑON
CON
RES R39004               ; ｴﾗｰ中
CON
ENDS
LD MR19305               ; MODE切り替え
BOUT DM10779 #14         ; SCON-1 制御信号
LDB @MR1001
ANB @MR2001
INV
OUT MR19306              ; MODE切り替え不可ｲﾝﾀﾛｯｸ
LDP MR2805               ; 搬送X軸RBｻｰﾎﾞｵﾝ ﾗﾝﾌﾟ
BSET DM10779 #4          ; SCON-1 制御信号
LDF MR2805               ; 搬送X軸RBｻｰﾎﾞｵﾝ ﾗﾝﾌﾟ
BRES DM10779 #4          ; SCON-1 制御信号
BLD DM10779 #4           ; SCON-1 制御信号
OUT MR17700              ; X軸ｻｰﾎﾞON表示
;RB8 (除材X軸) SCON 原点復帰開始
LDP MR2606               ; 搬送X軸RB原点復帰 SW
ORP MR19204              ; RB8:HOME
AND @MR101
ANB @MR1001
RES MR2907               ; 搬送X軸RB原点復帰済み ﾗﾝﾌﾟ
CON
RES MR19202              ; RB8:原点復帰完了
CON
RES MR19204              ; RB8:HOME
CON
RES MR2606               ; 搬送X軸RB原点復帰 SW
CON
SET @MR1001
CON
SET @MR1000
STG @MR1000
ANB @MR100
BRES DM10779 #0          ; SCON-1 制御信号
CON
BRES DM10779 #2          ; SCON-1 制御信号
CON
BRES DM10779 #3          ; SCON-1 制御信号
CON
BSET DM10779 #4          ; SCON-1 制御信号
CON
JMP @MR1003
STG @MR1003
ANB @MR100
MPS
LD @MR101
BANB DM10579 #2          ; SCON-1 状態信号
ANL
JMP @MR1004
MPP
ANB @MR101
TMR #820 #20             ; SCON-1_ｳｪｲﾄﾀｲﾏ
CON
AND T820                 ; SCON-1_ｳｪｲﾄﾀｲﾏ
RES @MR1001
CON
BRES DM10779 #4          ; SCON-1 制御信号
CON
SET @R500                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
ENDS
STG @MR1004
ANB @MR100
BSET DM10779 #1          ; SCON-1 制御信号
CON
JMP @MR1005
STG @MR1005
ANB @MR100
MPS
BANB DM10579 #0          ; SCON-1 状態信号
BRES DM10779 #1          ; SCON-1 制御信号
CON
JMP @MR1006
MPP
BAND DM10579 #0          ; SCON-1 状態信号
TMR #821 #300            ; SCON-1_ｳｪｲﾄﾀｲﾏ
CON
AND T821                 ; SCON-1_ｳｪｲﾄﾀｲﾏ
RES @MR1001
CON
BRES DM10779 #4          ; SCON-1 制御信号
CON
SET @R501                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
ENDS
STG @MR1006
ANB @MR100
MPS
BLDB DM10579 #2          ; SCON-1 状態信号
BAND DM10579 #0          ; SCON-1 状態信号
ANL
JMP @MR1007
MPP
BAND DM10579 #0          ; SCON-1 状態信号
TMR #822 #300            ; SCON-1_ｳｪｲﾄﾀｲﾏ
CON
AND T822                 ; SCON-1_ｳｪｲﾄﾀｲﾏ
RES @MR1001
CON
BRES DM10779 #4          ; SCON-1 制御信号
CON
SET @R502                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
ENDS
STG @MR1007
ANB @MR100
DW.D #0 DM11122          ; RB8 現在位置1
CON
DW #0 DM11124            ; RB8 現在ﾎﾟｼﾞｼｮﾝ番号
CON
JMP @MR1008
STG @MR1008
RES @MR1001
CON
SET MR2907               ; 搬送X軸RB原点復帰済み ﾗﾝﾌﾟ
CON
SET MR19202              ; RB8:原点復帰完了
CON
ENDS
LD @R500                 ; SCON_Axis1 ｱﾗｰﾑ発生
ANB R39004               ; ｴﾗｰ中
SET @MR007               ; RB8ｱﾗｰﾑON
CON
SET R39004               ; ｴﾗｰ中
CON
DW #24 @DM1
CON
DW #1000 @DM9
CON
LDA DM60009
CON
STA @DM2
CON
SET @R100                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
SET @R510                ; SCON_Axis1 ｱﾗｰﾑ発生
LD @R501                 ; SCON_Axis1 ｱﾗｰﾑ発生
OR @R502                 ; SCON_Axis1 ｱﾗｰﾑ発生
ANB R39004               ; ｴﾗｰ中
SET @MR007               ; RB8ｱﾗｰﾑON
CON
SET R39004               ; ｴﾗｰ中
CON
DW #24 @DM1
CON
DW #1000 @DM9
CON
LDA DM60009
CON
STA @DM2
CON
SET @R100                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
SET @R510                ; SCON_Axis1 ｱﾗｰﾑ発生
STG @R510                ; SCON_Axis1 ｱﾗｰﾑ発生
ZRES @R500 @R502         ; SCON_Axis1 ｱﾗｰﾑ発生  SCON_Axis1 ｱﾗｰﾑ発生
CON
AND @R101
RES @R101
CON
DW #0 DM60009
CON
AND @R105                ; SW1
BRES DM10779 #4          ; SCON-1 制御信号
CON
JMP @R511
STG @R511
TMR #1975 #10
CON
AND T1975
RES @MR1001
CON
SET @MR1000
CON
RES @MR007               ; RB8ｱﾗｰﾑON
CON
RES R39004               ; ｴﾗｰ中
CON
ENDS
;RB8 (除材X軸) SCON ﾎﾟｲﾝﾄﾃﾞｰﾀｾｯﾄ→移動
LDP MR19205              ; RB8:X軸　MOVE
ANB @MR2001
RES MR19205              ; RB8:X軸　MOVE
CON
SET MR4612               ; MOVE SW 表示
CON
SET @MR2001
CON
SET @MR2000
STG @MR2000
ANB @MR100
MPS
LD @MR101
BANB DM10579 #2          ; SCON-1 状態信号
ANL
BRES DM10779 #2          ; SCON-1 制御信号
CON
BRES DM10779 #3          ; SCON-1 制御信号
CON
JMP @MR2003
MPP
ANB @MR101
TMR #823 #20             ; SCON-1_ｳｪｲﾄﾀｲﾏ
CON
AND T823                 ; SCON-1_ｳｪｲﾄﾀｲﾏ
RES MR4612               ; MOVE SW 表示
CON
BRES DM10779 #2          ; SCON-1 制御信号
CON
BRES DM10779 #3          ; SCON-1 制御信号
CON
RES MR19205              ; RB8:X軸　MOVE
CON
RES MR19214              ; RB8:MOVE-STOP
CON
RES @MR2001
CON
SET @R503                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
ENDS
STG @MR2003
ANB @MR100
MPS
AND= DM11128 #1          ; RB8 X軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2180 DM10772     ; RB8 P1 目標位置（下位bit）  SCON-1 目標位置（下位8bit）
MOV EM2182 DM10776       ; RB8 P1 指令速度  SCON-1 速度
MRD
AND= DM11128 #2          ; RB8 X軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2183 DM10772     ; RB8 P2 目標位置（下位bit）  SCON-1 目標位置（下位8bit）
MOV EM2185 DM10776       ; RB8 P2 指令速度  SCON-1 速度
MRD
AND= DM11128 #3          ; RB8 X軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2186 DM10772     ; RB8 P3 目標位置（下位bit）  SCON-1 目標位置（下位8bit）
MOV EM2188 DM10776       ; RB8 P3 指令速度  SCON-1 速度
MRD
AND= DM11128 #4          ; RB8 X軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2189 DM10772     ; RB8 P4 目標位置（下位bit）  SCON-1 目標位置（下位8bit）
MOV EM2191 DM10776       ; RB8 P4 指令速度  SCON-1 速度
MRD
AND= DM11128 #5          ; RB8 X軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2192 DM10772     ; RB8 P5 目標位置（下位bit）  SCON-1 目標位置（下位8bit）
MOV EM2194 DM10776       ; RB8 P5 指令速度  SCON-1 速度
MRD
AND= DM11128 #9          ; RB8 X軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2280 DM10772     ; ｱﾗｲﾒﾝﾄ X軸移動量  SCON-1 目標位置（下位8bit）
MOV DM414 DM10776        ; SCON-1 速度
MRD
AND= DM11128 #10         ; RB8 X軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2310 DM10772     ; 受渡し移動 X軸移動量（実）  SCON-1 目標位置（下位8bit）
MOV DM7004 DM10776       ; 装置基礎ﾃﾞｰﾀ3  SCON-1 速度
MPP
TMR #824 #2              ; SCON-1_ｳｪｲﾄﾀｲﾏ
CON
AND T824                 ; SCON-1_ｳｪｲﾄﾀｲﾏ
JMP @MR2004
STG @MR2004
ANB @MR100
BSET DM10779 #0          ; SCON-1 制御信号
CON
JMP @MR2005
STG @MR2005
ANB @MR100
MPS
BANB DM10579 #0          ; SCON-1 状態信号
BRES DM10779 #0          ; SCON-1 制御信号
CON
JMP @MR2006
MPP
BAND DM10579 #0          ; SCON-1 状態信号
TMR #825 #50             ; SCON-1_ｳｪｲﾄﾀｲﾏ
CON
AND T825                 ; SCON-1_ｳｪｲﾄﾀｲﾏ
BRES DM10779 #0          ; SCON-1 制御信号
CON
RES MR4612               ; MOVE SW 表示
CON
BRES DM10779 #2          ; SCON-1 制御信号
CON
BRES DM10779 #3          ; SCON-1 制御信号
CON
RES MR19205              ; RB8:X軸　MOVE
CON
RES MR19214              ; RB8:MOVE-STOP
CON
RES @MR2001
CON
SET @R504                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
ENDS
STG @MR2006
ANB @MR100
MPS
BLDB DM10579 #2          ; SCON-1 状態信号
BAND DM10579 #0          ; SCON-1 状態信号
ANL
TMH #826 #10             ; SCON-1_ｳｪｲﾄﾀｲﾏ
CON
AND T826                 ; SCON-1_ｳｪｲﾄﾀｲﾏ
JMP @MR2007
MRD
BLD DM10579 #2           ; SCON-1 状態信号
AND MR19214              ; RB8:MOVE-STOP
ANL
JMP @MR2008
MPP
BANB DM10579 #2          ; SCON-1 状態信号
TMR #827 #600            ; SCON-1_ｳｪｲﾄﾀｲﾏ
CON
AND T827                 ; SCON-1_ｳｪｲﾄﾀｲﾏ
RES MR4612               ; MOVE SW 表示
CON
BRES DM10779 #2          ; SCON-1 制御信号
CON
BRES DM10779 #3          ; SCON-1 制御信号
CON
RES MR19205              ; RB8:X軸　MOVE
CON
RES MR19214              ; RB8:MOVE-STOP
CON
RES @MR2001
CON
SET @R505                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
ENDS
STG @MR2008
BSET DM10779 #2          ; SCON-1 制御信号
CON
BANB DM10579 #2          ; SCON-1 状態信号
JMP @MR2009
STG @MR2009
BSET DM10779 #3          ; SCON-1 制御信号
CON
TMH #828 #7              ; SCON-1_ｳｪｲﾄﾀｲﾏ
CON
AND T828                 ; SCON-1_ｳｪｲﾄﾀｲﾏ
BRES DM10779 #2          ; SCON-1 制御信号
CON
BRES DM10779 #3          ; SCON-1 制御信号
CON
JMP @MR2010
STG @MR2010
MPS
BAND DM1079 #0
JMP @MR2007
MPP
BANB DM10579 #0          ; SCON-1 状態信号
TMR #829 #50             ; SCON-1_ｳｪｲﾄﾀｲﾏ
CON
AND T829                 ; SCON-1_ｳｪｲﾄﾀｲﾏ
BRES DM10779 #0          ; SCON-1 制御信号
CON
RES MR4612               ; MOVE SW 表示
CON
BRES DM10779 #2          ; SCON-1 制御信号
CON
BRES DM10779 #3          ; SCON-1 制御信号
CON
RES MR19205              ; RB8:X軸　MOVE
CON
RES MR19214              ; RB8:MOVE-STOP
CON
RES @MR2001
CON
SET @R506                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
ENDS
STG @MR2007
ANB @MR100
MOV.L DM10572 DM11122    ; SCON-1 現在位置（下位8bit）  RB8 現在位置1
MOV DM11128 DM11124      ; RB8 X軸　目標ﾎﾟｲﾝﾄ番号  RB8 現在ﾎﾟｼﾞｼｮﾝ番号
RES MR4612               ; MOVE SW 表示
CON
BRES DM10779 #2          ; SCON-1 制御信号
CON
BRES DM10779 #3          ; SCON-1 制御信号
CON
RES MR19205              ; RB8:X軸　MOVE
CON
RES MR19214              ; RB8:MOVE-STOP
CON
RES @MR2001
CON
ENDS
LD @R503                 ; SCON_Axis1 ｱﾗｰﾑ発生
ANB MR19213              ; RB8:ｱﾗｰﾑ出力
ANB R39004               ; ｴﾗｰ中
SET @MR007               ; RB8ｱﾗｰﾑON
CON
SET R39004               ; ｴﾗｰ中
CON
DW #24 @DM1
CON
DW #1000 @DM9
CON
LDA DM60009
CON
STA @DM2
CON
SET @R100                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
SET @R512                ; SCON_Axis2 ｱﾗｰﾑ発生
LD @R504                 ; SCON_Axis1 ｱﾗｰﾑ発生
OR @R505                 ; SCON_Axis1 ｱﾗｰﾑ発生
OR @R506                 ; SCON_Axis1 ｱﾗｰﾑ発生
ANB MR19213              ; RB8:ｱﾗｰﾑ出力
ANB R39004               ; ｴﾗｰ中
SET @MR007               ; RB8ｱﾗｰﾑON
CON
SET R39004               ; ｴﾗｰ中
CON
DW #24 @DM1
CON
DW #1000 @DM9
CON
LDA DM60009
CON
STA @DM2
CON
SET @R100                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
SET @R512                ; SCON_Axis2 ｱﾗｰﾑ発生
STG @R512                ; SCON_Axis2 ｱﾗｰﾑ発生
ZRES @R503 @R506         ; SCON_Axis1 ｱﾗｰﾑ発生  SCON_Axis1 ｱﾗｰﾑ発生
CON
AND @R101
RES @R101
CON
DW #0 DM60009
CON
AND @R105                ; SW1
SET MR19300              ; ｱﾗｰﾑﾘｾｯﾄ要求
CON
JMP @R513
STG @R513
TMR #1976 #30
CON
AND T1976
RES @R100                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
RES R39004               ; ｴﾗｰ中
CON
SET MR19205              ; RB8:X軸　MOVE
CON
RES @MR007               ; RB8ｱﾗｰﾑON
CON
ENDS
;RB8 (除材X軸) SCON JOG/INCHING
LD= DM3000 #1910         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1900         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND MR2907               ; 搬送X軸RB原点復帰済み ﾗﾝﾌﾟ
AND @MR101
ANB @MR1001
ANB @MR2001
MPS
ANB MR19207              ; RB8:JOG/INCH
OUT @MR3000
MPP
AND MR19207              ; RB8:JOG/INCH
OUT @MR3007
LD @MR3000
OR @MR3007
AND MR19208              ; RB8:Hi/Low
BOUT DM10779 #6          ; SCON-1 制御信号
LDP @MR3007
BSET DM10779 #5          ; SCON-1 制御信号
LDF @MR3007
BRES DM10779 #5          ; SCON-1 制御信号
LD @MR3000
OR @MR3007
MPS
LD MR19211               ; RB8:JOG+動作
ANB MR19212              ; RB8:JOG-動作
ANL
BOUT DM10779 #8          ; SCON-1 制御信号
MPP
LD MR19212               ; RB8:JOG-動作
ANB MR19211              ; RB8:JOG+動作
ANL
BOUT DM10779 #7          ; SCON-1 制御信号
;RB8 (除材X軸) SCON Point Data Write
LD CR2002                ; 常時ON
AND @MR010
MPS
ANP MR4700               ; 除材X P1 選択
DW #1 DM11128            ; RB8 X軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14100 MR14104     ; NR_除材搬送_X軸_P1  NR_除材搬送_X軸_P5
CON
ZRES MR13000 MR13004     ; CR_除材搬送_X軸_P1  CR_除材搬送_X軸_P5
CON
SET MR13000              ; CR_除材搬送_X軸_P1
CON
SET MR14100              ; NR_除材搬送_X軸_P1
MRD
ANP MR4701               ; 除材X P2 選択
DW #2 DM11128            ; RB8 X軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14100 MR14104     ; NR_除材搬送_X軸_P1  NR_除材搬送_X軸_P5
CON
ZRES MR13000 MR13004     ; CR_除材搬送_X軸_P1  CR_除材搬送_X軸_P5
CON
SET MR13001              ; CR_除材搬送_X軸_P2
CON
SET MR14101              ; NR_除材搬送_X軸_P2
MRD
ANP MR4702               ; 除材X P3 選択
DW #3 DM11128            ; RB8 X軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14100 MR14104     ; NR_除材搬送_X軸_P1  NR_除材搬送_X軸_P5
CON
ZRES MR13000 MR13004     ; CR_除材搬送_X軸_P1  CR_除材搬送_X軸_P5
CON
SET MR13002              ; CR_除材搬送_X軸_P3
CON
SET MR14102              ; NR_除材搬送_X軸_P3
MRD
ANP MR4703               ; 除材X P4 選択
DW #4 DM11128            ; RB8 X軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14100 MR14104     ; NR_除材搬送_X軸_P1  NR_除材搬送_X軸_P5
CON
ZRES MR13000 MR13004     ; CR_除材搬送_X軸_P1  CR_除材搬送_X軸_P5
CON
SET MR13003              ; CR_除材搬送_X軸_P4
CON
SET MR14103              ; NR_除材搬送_X軸_P4
MPP
ANP MR4704               ; 除材X P5 選択
DW #5 DM11128            ; RB8 X軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14100 MR14104     ; NR_除材搬送_X軸_P1  NR_除材搬送_X軸_P5
CON
ZRES MR13000 MR13004     ; CR_除材搬送_X軸_P1  CR_除材搬送_X軸_P5
CON
SET MR13004              ; CR_除材搬送_X軸_P5
CON
SET MR14104              ; NR_除材搬送_X軸_P5
LD= DM3000 #1900         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1910         ; _MainTP　表示中ﾍﾟｰｼﾞNo
MPS
ANP MR4700               ; 除材X P1 選択
MOV.L EM2180 EM1918      ; RB8 P1 目標位置（下位bit）  RB8 目標位置（下位bit）表示用
MOV EM2182 EM1920        ; RB8 P1 指令速度  RB8 指令速度表示用
MRD
ANP MR4701               ; 除材X P2 選択
MOV.L EM2183 EM1918      ; RB8 P2 目標位置（下位bit）  RB8 目標位置（下位bit）表示用
MOV EM2185 EM1920        ; RB8 P2 指令速度  RB8 指令速度表示用
MRD
ANP MR4702               ; 除材X P3 選択
MOV.L EM2186 EM1918      ; RB8 P3 目標位置（下位bit）  RB8 目標位置（下位bit）表示用
MOV EM2188 EM1920        ; RB8 P3 指令速度  RB8 指令速度表示用
MRD
ANP MR4703               ; 除材X P4 選択
MOV.L EM2189 EM1918      ; RB8 P4 目標位置（下位bit）  RB8 目標位置（下位bit）表示用
MOV EM2191 EM1920        ; RB8 P4 指令速度  RB8 指令速度表示用
MPP
ANP MR4704               ; 除材X P5 選択
MOV.L EM2192 EM1918      ; RB8 P5 目標位置（下位bit）  RB8 目標位置（下位bit）表示用
MOV EM2194 EM1920        ; RB8 P5 指令速度  RB8 指令速度表示用
LD= DM3000 #1900         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1910         ; _MainTP　表示中ﾍﾟｰｼﾞNo
LD MR13000               ; CR_除材搬送_X軸_P1
OR MR14100               ; NR_除材搬送_X軸_P1
ANL
MPS
AND MR4915               ; 現在地書込SW
MOV.L DM10572 EM2180     ; SCON-1 現在位置（下位8bit）  RB8 P1 目標位置（下位bit）
MOV EM1920 EM2182        ; RB8 指令速度表示用  RB8 P1 指令速度
MPP
AND MR4914               ; 確定SW
MOV.L EM1918 EM2180      ; RB8 目標位置（下位bit）表示用  RB8 P1 目標位置（下位bit）
MOV EM1920 EM2182        ; RB8 指令速度表示用  RB8 P1 指令速度
LD= DM3000 #1900         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1910         ; _MainTP　表示中ﾍﾟｰｼﾞNo
LD MR13001               ; CR_除材搬送_X軸_P2
OR MR14101               ; NR_除材搬送_X軸_P2
ANL
MPS
AND MR4915               ; 現在地書込SW
MOV.L DM10572 EM2183     ; SCON-1 現在位置（下位8bit）  RB8 P2 目標位置（下位bit）
MOV EM1920 EM2185        ; RB8 指令速度表示用  RB8 P2 指令速度
MPP
AND MR4914               ; 確定SW
MOV.L EM1918 EM2183      ; RB8 目標位置（下位bit）表示用  RB8 P2 目標位置（下位bit）
MOV EM1920 EM2185        ; RB8 指令速度表示用  RB8 P2 指令速度
LD= DM3000 #1900         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1910         ; _MainTP　表示中ﾍﾟｰｼﾞNo
LD MR13002               ; CR_除材搬送_X軸_P3
OR MR14102               ; NR_除材搬送_X軸_P3
ANL
MPS
AND MR4915               ; 現在地書込SW
MOV.L DM10572 EM2186     ; SCON-1 現在位置（下位8bit）  RB8 P3 目標位置（下位bit）
MOV EM1920 EM2188        ; RB8 指令速度表示用  RB8 P3 指令速度
MPP
AND MR4914               ; 確定SW
MOV.L EM1918 EM2186      ; RB8 目標位置（下位bit）表示用  RB8 P3 目標位置（下位bit）
MOV EM1920 EM2188        ; RB8 指令速度表示用  RB8 P3 指令速度
LD= DM3000 #1900         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1910         ; _MainTP　表示中ﾍﾟｰｼﾞNo
LD MR13003               ; CR_除材搬送_X軸_P4
OR MR14103               ; NR_除材搬送_X軸_P4
ANL
MPS
AND MR4915               ; 現在地書込SW
MOV.L DM10572 EM2189     ; SCON-1 現在位置（下位8bit）  RB8 P4 目標位置（下位bit）
MOV EM1920 EM2191        ; RB8 指令速度表示用  RB8 P4 指令速度
MPP
AND MR4914               ; 確定SW
MOV.L EM1918 EM2189      ; RB8 目標位置（下位bit）表示用  RB8 P4 目標位置（下位bit）
MOV EM1920 EM2191        ; RB8 指令速度表示用  RB8 P4 指令速度
LD= DM3000 #1900         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1910         ; _MainTP　表示中ﾍﾟｰｼﾞNo
LD MR13004               ; CR_除材搬送_X軸_P5
OR MR14104               ; NR_除材搬送_X軸_P5
ANL
MPS
AND MR4915               ; 現在地書込SW
MOV.L DM10572 EM2192     ; SCON-1 現在位置（下位8bit）  RB8 P5 目標位置（下位bit）
MOV EM1920 EM2194        ; RB8 指令速度表示用  RB8 P5 指令速度
MPP
AND MR4914               ; 確定SW
MOV.L EM1918 EM2192      ; RB8 目標位置（下位bit）表示用  RB8 P5 目標位置（下位bit）
MOV EM1920 EM2194        ; RB8 指令速度表示用  RB8 P5 指令速度
;EM42180.l = em2180.l - 2
;EM43180.l = em2180.l + 2
;EM42183.l = em2183.l - 2
;EM43183.l = em2183.l + 2
;EM42186.l = em2186.l - 2
;EM43186.l = em2186.l + 2
;EM42189.l = em2189.l - 2
;EM43189.l = em2189.l + 2
;EM42192.l = em2192.l - 2
;EM43192.l = em2192.l + 2
;EM42195.l = em2195.l - 2
;EM43195.l = em2195.l + 2
LD CR2002                ; 常時ON
NCJ #1000
;EM42180.l = em2180.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2180             ; RB8 P1 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42180
;EM43180.l = em2180.l + 2
;
LD CR2002                ; 常時ON
LDA.L EM2180             ; RB8 P1 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43180
;EM42183.l = em2183.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2183             ; RB8 P2 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42183
;EM43183.l = em2183.l + 2
;
LD CR2002                ; 常時ON
LDA.L EM2183             ; RB8 P2 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43183
;EM42186.l = em2186.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2186             ; RB8 P3 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42186
;EM43186.l = em2186.l + 2
;
LD CR2002                ; 常時ON
LDA.L EM2186             ; RB8 P3 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43186
;EM42189.l = em2189.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2189             ; RB8 P4 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42189
;EM43189.l = em2189.l + 2
;
LD CR2002                ; 常時ON
LDA.L EM2189             ; RB8 P4 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43189
;EM42192.l = em2192.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2192             ; RB8 P5 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42192
;EM43192.l = em2192.l + 2
;
LD CR2002                ; 常時ON
LDA.L EM2192             ; RB8 P5 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43192
;EM42195.l = em2195.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2195             ; RB8 P6 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42195
;EM43195.l = em2195.l + 2
LD CR2002                ; 常時ON
LDA.L EM2195             ; RB8 P6 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43195
LABEL #1000
;
LD MR2907                ; 搬送X軸RB原点復帰済み ﾗﾝﾌﾟ
AND MR2908               ; 搬送Y軸RB原点復帰済み ﾗﾝﾌﾟ
AND MR2909               ; 搬送Z軸RB原点復帰済み ﾗﾝﾌﾟ
AND MR3113               ; 搬送θ軸RB原点復帰済み ﾗﾝﾌﾟ
LD MR001                 ; ｲﾝﾃﾞｯｸｽ原点復帰完了
OR CR2002                ; 常時ON
ANL
ANB MR002                ; ｲﾝﾃﾞｯｸｽ回転中
OUT @MR010
LD CR2002                ; 常時ON
AND MR2907               ; 搬送X軸RB原点復帰済み ﾗﾝﾌﾟ
MPS
LD<=.L EM42180 DM10572   ; SCON-1 現在位置（下位8bit）
AND<=.L DM10572 EM43180  ; SCON-1 現在位置（下位8bit）
LD>.L EM42180 DM10572    ; SCON-1 現在位置（下位8bit）
OR>.L DM10572 EM43180    ; SCON-1 現在位置（下位8bit）
AND @MR000
LD MR14100               ; NR_除材搬送_X軸_P1
OR MR13000               ; CR_除材搬送_X軸_P1
ANL
ORL
ANL
OUT MR23000              ; 除材搬送_X軸_P1
MRD
LD<=.L EM42183 DM10572   ; SCON-1 現在位置（下位8bit）
AND<=.L DM10572 EM43183  ; SCON-1 現在位置（下位8bit）
LD>.L EM42183 DM10572    ; SCON-1 現在位置（下位8bit）
OR>.L DM10572 EM43183    ; SCON-1 現在位置（下位8bit）
AND @MR000
LD MR14101               ; NR_除材搬送_X軸_P2
OR MR13001               ; CR_除材搬送_X軸_P2
ANL
ORL
ANL
OUT MR23001              ; 除材搬送_X軸_P2
MRD
LD<=.L EM42186 DM10572   ; SCON-1 現在位置（下位8bit）
AND<=.L DM10572 EM43186  ; SCON-1 現在位置（下位8bit）
LD>.L EM42186 DM10572    ; SCON-1 現在位置（下位8bit）
OR>.L DM10572 EM43186    ; SCON-1 現在位置（下位8bit）
AND @MR000
LD MR14102               ; NR_除材搬送_X軸_P3
OR MR13002               ; CR_除材搬送_X軸_P3
ANL
ORL
ANL
OUT MR23002              ; 除材搬送_X軸_P3
MRD
LD<=.L EM42189 DM10572   ; SCON-1 現在位置（下位8bit）
AND<=.L DM10572 EM43189  ; SCON-1 現在位置（下位8bit）
LD>.L EM42189 DM10572    ; SCON-1 現在位置（下位8bit）
OR>.L DM10572 EM43189    ; SCON-1 現在位置（下位8bit）
AND @MR000
LD MR14103               ; NR_除材搬送_X軸_P4
OR MR13003               ; CR_除材搬送_X軸_P4
ANL
ORL
ANL
OUT MR23003              ; 除材搬送_X軸_P4
MPP
LD<=.L EM42192 DM10572   ; SCON-1 現在位置（下位8bit）
AND<=.L DM10572 EM43192  ; SCON-1 現在位置（下位8bit）
LD>.L EM42192 DM10572    ; SCON-1 現在位置（下位8bit）
OR>.L DM10572 EM43192    ; SCON-1 現在位置（下位8bit）
AND @MR000
LD MR14104               ; NR_除材搬送_X軸_P5
OR MR13004               ; CR_除材搬送_X軸_P5
ANL
ORL
ANL
OUT MR23004              ; 除材搬送_X軸_P5
LD CR2002                ; 常時ON
AND MR2907               ; 搬送X軸RB原点復帰済み ﾗﾝﾌﾟ
MPS
LD MR14100               ; NR_除材搬送_X軸_P1
OR MR13000               ; CR_除材搬送_X軸_P1
LD>.L EM42180 DM10572    ; SCON-1 現在位置（下位8bit）
OR>.L DM10572 EM43180    ; SCON-1 現在位置（下位8bit）
ANL
ANB @MR2001
AND @MR010
ANP MR4613               ; MOVE SW
ANL
SET MR19205              ; RB8:X軸　MOVE
MRD
LD MR14101               ; NR_除材搬送_X軸_P2
OR MR13001               ; CR_除材搬送_X軸_P2
LD>.L EM42183 DM10572    ; SCON-1 現在位置（下位8bit）
OR>.L DM10572 EM43183    ; SCON-1 現在位置（下位8bit）
ANL
ANB @MR2001
AND @MR010
ANP MR4613               ; MOVE SW
ANL
SET MR19205              ; RB8:X軸　MOVE
MRD
LD MR14102               ; NR_除材搬送_X軸_P3
OR MR13002               ; CR_除材搬送_X軸_P3
LD>.L EM42186 DM10572    ; SCON-1 現在位置（下位8bit）
OR>.L DM10572 EM43186    ; SCON-1 現在位置（下位8bit）
ANL
ANB @MR2001
AND @MR010
ANP MR4613               ; MOVE SW
ANL
SET MR19205              ; RB8:X軸　MOVE
MRD
LD MR14103               ; NR_除材搬送_X軸_P4
OR MR13003               ; CR_除材搬送_X軸_P4
LD>.L EM42189 DM10572    ; SCON-1 現在位置（下位8bit）
OR>.L DM10572 EM43189    ; SCON-1 現在位置（下位8bit）
ANL
ANB @MR2001
AND @MR010
ANP MR4613               ; MOVE SW
ANL
SET MR19205              ; RB8:X軸　MOVE
MPP
LD MR14104               ; NR_除材搬送_X軸_P5
OR MR13004               ; CR_除材搬送_X軸_P5
LD>.L EM42192 DM10572    ; SCON-1 現在位置（下位8bit）
OR>.L DM10572 EM43192    ; SCON-1 現在位置（下位8bit）
ANL
ANB @MR2001
AND @MR010
ANP MR4613               ; MOVE SW
ANL
SET MR19205              ; RB8:X軸　MOVE
;RB8 (除材X軸) SCON ｱﾗｰﾑﾘｾｯﾄ
LDP MR19300              ; ｱﾗｰﾑﾘｾｯﾄ要求
SET MR19301              ; ｱﾗｰﾑﾘｾｯﾄ中
CON
SET MR19302
STG MR19302
RES MR19300              ; ｱﾗｰﾑﾘｾｯﾄ要求
CON
SET MR19209              ; RB8:ARMRST
CON
JMP MR19303
STG MR19303
AND MR19200              ; RB8:動作完了
RES MR19301              ; ｱﾗｰﾑﾘｾｯﾄ中
CON
RES MR19200              ; RB8:動作完了
CON
ENDS
LDP MR19209              ; RB8:ARMRST
ANB @MR3011
RES MR19209              ; RB8:ARMRST
CON
SET @MR3011
CON
SET @MR3010
STG @MR3010
BSET DM10779 #3          ; SCON-1 制御信号
CON
MPS
BANB DM10579 #3          ; SCON-1 状態信号
JMP @MR3013
MPP
BAND DM10579 #3          ; SCON-1 状態信号
TMH #830 #50             ; SCON-1_ｳｪｲﾄﾀｲﾏ
CON
AND T830                 ; SCON-1_ｳｪｲﾄﾀｲﾏ
JMP @MR3012
STG @MR3012
ZRES MR19300 MR19303     ; ｱﾗｰﾑﾘｾｯﾄ要求
CON
RES MR19209              ; RB8:ARMRST
CON
RES @MR3011
CON
SET @R507                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
ENDS
STG @MR3013
MPS
BLDB DM10579 #3          ; SCON-1 状態信号
BAND DM10579 #4          ; SCON-1 状態信号
BAND DM10579 #14         ; SCON-1 状態信号
ANL
JMP @MR3014
MPP
BLD DM10579 #3           ; SCON-1 状態信号
BORB DM10579 #4          ; SCON-1 状態信号
BORB DM10579 #14         ; SCON-1 状態信号
ANL
TMR #831 #100            ; SCON-1_ｳｪｲﾄﾀｲﾏ
CON
AND T831                 ; SCON-1_ｳｪｲﾄﾀｲﾏ
JMP @MR3015
STG @MR3014
RES MR19209              ; RB8:ARMRST
CON
RES @MR3011
CON
SET MR19200              ; RB8:動作完了
CON
ENDS
STG @MR3015
ZRES MR19300 MR19303     ; ｱﾗｰﾑﾘｾｯﾄ要求
CON
RES MR19209              ; RB8:ARMRST
CON
RES @MR3011
CON
SET @R508                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
ENDS
LD @R507                 ; SCON_Axis1 ｱﾗｰﾑ発生
OR @R508                 ; SCON_Axis1 ｱﾗｰﾑ発生
ANB MR19213              ; RB8:ｱﾗｰﾑ出力
ANB R39004               ; ｴﾗｰ中
SET @MR007               ; RB8ｱﾗｰﾑON
CON
SET R39004               ; ｴﾗｰ中
CON
DW #24 @DM1
CON
DW #1000 @DM9
CON
LDA DM60009
CON
STA @DM2
CON
SET @R100                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
SET @R514
STG @R514
ZRES @R507 @R508         ; SCON_Axis1 ｱﾗｰﾑ発生  SCON_Axis1 ｱﾗｰﾑ発生
CON
AND @R101
RES @R101
CON
DW #0 DM60009
CON
AND @R105                ; SW1
SET MR19300              ; ｱﾗｰﾑﾘｾｯﾄ要求
CON
JMP @R515
STG @R515
TMR #1977 #10
CON
AND T1977
RES @R100                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
RES @MR007               ; RB8ｱﾗｰﾑON
CON
RES R39004               ; ｴﾗｰ中
CON
ENDS
;<h1/>RB9 (除材Y軸) SCON
BLD DM10587 #3           ; SCON-2 状態信号
OUT @MR200
BLD DM10587 #4           ; SCON-2 状態信号
BAND DM10587 #14         ; SCON-2 状態信号
BANB DM10587 #15         ; SCON-2 状態信号
BANB DM10587 #8          ; SCON-2 状態信号
BANB DM10587 #7          ; SCON-2 状態信号
OUT @MR201
BLD DM10587 #0           ; SCON-2 状態信号
OUT MR19415              ; RB9:位置決め完了
LDB R46114               ; _装置原点復帰待ち
BAND DM10587 #3          ; SCON-2 状態信号
ANB @MR008               ; RB9ｱﾗｰﾑON
OUT MR19413              ; RB9:ｱﾗｰﾑ出力
LDP MR19413              ; RB9:ｱﾗｰﾑ出力
ANB R39004               ; ｴﾗｰ中
SET @MR009
CON
SET R39004               ; ｴﾗｰ中
CON
DW #20 @DM1
CON
DW #1000 @DM9
CON
LDA DM60009
CON
STA @DM2
CON
SET @R100                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
LDA DM10586              ; SCON-2 ｱﾗｰﾑｺｰﾄﾞ
CON
STA DM20030              ; TP/ｴﾗｰｺｰﾄﾞ表示
CON
SET MR17600              ; TP/ｴﾗｰｺｰﾄﾞ表示
CON
SET @R002
STG @R002
AND @R101
RES @R101
CON
DW #0 DM60009
CON
AND @R105                ; SW1
SET MR19500              ; ｱﾗｰﾑﾘｾｯﾄ要求
CON
JMP @R003
STG @R003
TMR #1941 #5
CON
AND T1941
RES @MR009
CON
RES R39004               ; ｴﾗｰ中
CON
ENDS
LD MR19505               ; MODE切り替え
BOUT DM10787 #14         ; SCON-2 制御信号
LDB @MR1201              ; 搬送Y軸RB　原点復帰動作中
ANB @MR2201
INV
OUT MR19506              ; MODE切り替え不可ｲﾝﾀﾛｯｸ
LDP MR2812               ; 搬送Y軸RBｻｰﾎﾞｵﾝ ﾗﾝﾌﾟ
BSET DM10787 #4          ; SCON-2 制御信号
LDF MR2812               ; 搬送Y軸RBｻｰﾎﾞｵﾝ ﾗﾝﾌﾟ
BRES DM10787 #4          ; SCON-2 制御信号
BLD DM10787 #4           ; SCON-2 制御信号
OUT MR17701              ; Y軸ｻｰﾎﾞON表示
;RB9 (除材Y軸) SCON 原点復帰開始
LDP MR2613               ; 搬送Y軸RB原点復帰 SW
ORP MR19404              ; RB9:HOME
AND @MR201
ANB @MR1201              ; 搬送Y軸RB　原点復帰動作中
RES MR2908               ; 搬送Y軸RB原点復帰済み ﾗﾝﾌﾟ
CON
RES MR19402              ; RB9:原点復帰完了
CON
RES MR19404              ; RB9:HOME
CON
RES MR2613               ; 搬送Y軸RB原点復帰 SW
CON
SET @MR1201              ; 搬送Y軸RB　原点復帰動作中
CON
SET @MR1200
STG @MR1200
ANB @MR200
BRES DM10787 #0          ; SCON-2 制御信号
CON
BRES DM10787 #2          ; SCON-2 制御信号
CON
BRES DM10787 #3          ; SCON-2 制御信号
CON
BSET DM10787 #4          ; SCON-2 制御信号
CON
JMP @MR1203
STG @MR1203
ANB @MR200
MPS
LD @MR201
BANB DM10587 #2          ; SCON-2 状態信号
ANL
JMP @MR1204
MPP
ANB @MR201
TMR #840 #100            ; SCON-2_ｳｪｲﾄﾀｲﾏ
CON
AND T840                 ; SCON-2_ｳｪｲﾄﾀｲﾏ
RES @MR1201              ; 搬送Y軸RB　原点復帰動作中
CON
BRES DM10787 #4          ; SCON-2 制御信号
CON
SET @R600                ; SCON_Axis2 ｱﾗｰﾑ発生
CON
ENDS
STG @MR1204
ANB @MR200
BSET DM10787 #1          ; SCON-2 制御信号
CON
JMP @MR1205
STG @MR1205
ANB @MR200
MPS
BANB DM10587 #0          ; SCON-2 状態信号
BRES DM10787 #1          ; SCON-2 制御信号
CON
JMP @MR1206
MPP
BAND DM10587 #0          ; SCON-2 状態信号
TMR #841 #50             ; SCON-2_ｳｪｲﾄﾀｲﾏ
CON
AND T841                 ; SCON-2_ｳｪｲﾄﾀｲﾏ
RES @MR1201              ; 搬送Y軸RB　原点復帰動作中
CON
BRES DM10787 #4          ; SCON-2 制御信号
CON
SET @R601                ; SCON_Axis2 ｱﾗｰﾑ発生
CON
ENDS
STG @MR1206
ANB @MR200
MPS
BLDB DM10587 #2          ; SCON-2 状態信号
BAND DM10587 #0          ; SCON-2 状態信号
ANL
JMP @MR1207
MPP
BAND DM10587 #0          ; SCON-2 状態信号
TMR #842 #50             ; SCON-2_ｳｪｲﾄﾀｲﾏ
CON
AND T842                 ; SCON-2_ｳｪｲﾄﾀｲﾏ
RES @MR1201              ; 搬送Y軸RB　原点復帰動作中
CON
BRES DM10787 #4          ; SCON-2 制御信号
CON
SET @R602                ; SCON_Axis2 ｱﾗｰﾑ発生
CON
ENDS
STG @MR1207
ANB @MR200
DW.D #0 DM11142          ; RB9 現在位置1
CON
DW #0 DM11144            ; RB9 現在ﾎﾟｼﾞｼｮﾝ番号
CON
JMP @MR1208
STG @MR1208
RES @MR1201              ; 搬送Y軸RB　原点復帰動作中
CON
SET MR2908               ; 搬送Y軸RB原点復帰済み ﾗﾝﾌﾟ
CON
SET MR19402              ; RB9:原点復帰完了
CON
ENDS
LD @R600                 ; SCON_Axis2 ｱﾗｰﾑ発生
ANB R39004               ; ｴﾗｰ中
SET @MR008               ; RB9ｱﾗｰﾑON
CON
SET R39004               ; ｴﾗｰ中
CON
DW #25 @DM1
CON
DW #1000 @DM9
CON
LDA DM60009
CON
STA @DM2
CON
SET @R100                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
SET @R610                ; SCON_Axis2 ｱﾗｰﾑ発生
LD @R601                 ; SCON_Axis2 ｱﾗｰﾑ発生
OR @R602                 ; SCON_Axis2 ｱﾗｰﾑ発生
ANB R39004               ; ｴﾗｰ中
SET @MR008               ; RB9ｱﾗｰﾑON
CON
SET R39004               ; ｴﾗｰ中
CON
DW #25 @DM1
CON
DW #1000 @DM9
CON
LDA DM60009
CON
STA @DM2
CON
SET @R100                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
SET @R610                ; SCON_Axis2 ｱﾗｰﾑ発生
STG @R610                ; SCON_Axis2 ｱﾗｰﾑ発生
ZRES @R600 @R602         ; SCON_Axis2 ｱﾗｰﾑ発生  SCON_Axis2 ｱﾗｰﾑ発生
CON
AND @R101
RES @R101
CON
DW #0 DM60009
CON
AND @R105                ; SW1
BRES DM10787 #4          ; SCON-2 制御信号
CON
JMP @R611
STG @R611
TMR #1980 #10
CON
AND T1980
RES @MR1201              ; 搬送Y軸RB　原点復帰動作中
CON
SET @MR1200
CON
RES @MR008               ; RB9ｱﾗｰﾑON
CON
RES R39004               ; ｴﾗｰ中
CON
ENDS
;RB9 (除材Y軸) SCON ﾎﾟｲﾝﾄﾃﾞｰﾀｾｯﾄ→移動
LDP MR19405              ; RB9:Y軸　MOVE
ANB @MR2201
RES MR19405              ; RB9:Y軸　MOVE
CON
SET MR4712               ; MOVE SW 表示
CON
SET @MR2201
CON
SET @MR2200
STG @MR2200
ANB @MR200
MPS
LD @MR201
BANB DM10587 #2          ; SCON-2 状態信号
ANL
BRES DM10787 #2          ; SCON-2 制御信号
CON
BRES DM10787 #3          ; SCON-2 制御信号
CON
JMP @MR2203
MPP
ANB @MR201
TMR #843 #50             ; SCON-2_ｳｪｲﾄﾀｲﾏ
CON
AND T843                 ; SCON-2_ｳｪｲﾄﾀｲﾏ
RES MR4712               ; MOVE SW 表示
CON
BRES DM10787 #2          ; SCON-2 制御信号
CON
BRES DM10787 #3          ; SCON-2 制御信号
CON
RES MR19405              ; RB9:Y軸　MOVE
CON
RES MR19414              ; RB9:MOVE-STOP
CON
RES @MR2201
CON
SET @R603                ; SCON_Axis2 ｱﾗｰﾑ発生
CON
ENDS
;em2270.l = em2246.l - 2000
;
LD CR2002                ; 常時ON
NCJ #1003
;em2270.l = em2246.l - 2000
;
LD CR2002                ; 常時ON
LDA.L EM2246             ; RB9 P13 目標位置（下位bit）
CON
SUB.L +2000
CON
STA.L EM2270
LABEL #1003
;
STG @MR2203
ANB @MR200
MPS
AND= DM11148 #1          ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2210 DM10780     ; RB9 P1 目標位置（下位bit）  SCON-2 目標位置（下位8bit）
MOV EM2212 DM10784       ; RB9 P1 指令速度  SCON-2 速度
MRD
AND= DM11148 #2          ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2213 DM10780     ; RB9 P2 目標位置（下位bit）  SCON-2 目標位置（下位8bit）
MOV EM2215 DM10784       ; RB9 P2 指令速度  SCON-2 速度
MRD
AND= DM11148 #3          ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2216 DM10780     ; RB9 P3 目標位置（下位bit）  SCON-2 目標位置（下位8bit）
MOV EM2218 DM10784       ; RB9 P3 指令速度  SCON-2 速度
MRD
AND= DM11148 #4          ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2219 DM10780     ; RB9 P4 目標位置（下位bit）  SCON-2 目標位置（下位8bit）
MOV EM2221 DM10784       ; RB9 P4 指令速度  SCON-2 速度
MRD
AND= DM11148 #5          ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2222 DM10780     ; RB9 P5 目標位置（下位bit）  SCON-2 目標位置（下位8bit）
MOV EM2224 DM10784       ; RB9 P5 指令速度  SCON-2 速度
MRD
AND= DM11148 #6          ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2225 DM10780     ; RB9 P6 目標位置（下位bit）  SCON-2 目標位置（下位8bit）
MOV EM2227 DM10784       ; RB9 P6 指令速度  SCON-2 速度
MRD
AND= DM11148 #7          ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2228 DM10780     ; RB9 P7 目標位置（下位bit）  SCON-2 目標位置（下位8bit）
MOV EM2230 DM10784       ; RB9 P7 指令速度  SCON-2 速度
MRD
AND= DM11148 #8          ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2231 DM10780     ; RB9 P8 目標位置（下位bit）  SCON-2 目標位置（下位8bit）
MOV EM2233 DM10784       ; RB9 P8 指令速度  SCON-2 速度
MRD
AND= DM11148 #9          ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2234 DM10780     ; RB9 P9 目標位置（下位bit）  SCON-2 目標位置（下位8bit）
MOV EM2236 DM10784       ; RB9 P9 指令速度  SCON-2 速度
MRD
AND= DM11148 #10         ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2237 DM10780     ; RB9 P10 目標位置（下位bit）  SCON-2 目標位置（下位8bit）
MOV EM2239 DM10784       ; RB9 P10 指令速度  SCON-2 速度
MRD
AND= DM11148 #11         ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2240 DM10780     ; RB9 P11 目標位置（下位bit）  SCON-2 目標位置（下位8bit）
MOV EM2242 DM10784       ; RB9 P11 指令速度  SCON-2 速度
MRD
AND= DM11148 #12         ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2243 DM10780     ; RB9 P12 目標位置（下位bit）  SCON-2 目標位置（下位8bit）
MOV EM2245 DM10784       ; RB9 P12 指令速度  SCON-2 速度
MRD
AND= DM11148 #13         ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2246 DM10780     ; RB9 P13 目標位置（下位bit）  SCON-2 目標位置（下位8bit）
MOV EM2248 DM10784       ; RB9 P13 指令速度  SCON-2 速度
MRD
AND= DM11148 #14         ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2249 DM10780     ; RB9 P14 目標位置（下位bit）  SCON-2 目標位置（下位8bit）
MOV EM2251 DM10784       ; RB9 P14 指令速度  SCON-2 速度
MRD
AND= DM11148 #15         ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2312 DM10780     ; 受渡し移動 Y軸移動量（実）  SCON-2 目標位置（下位8bit）
MOV DM7006 DM10784       ; 装置基礎ﾃﾞｰﾀ4  SCON-2 速度
MRD
AND= DM11148 #20         ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2210 DM10780     ; RB9 P1 目標位置（下位bit）  SCON-2 目標位置（下位8bit）
MOV #30 DM10784          ; SCON-2 速度
MRD
AND= DM11148 #21         ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
MOV.L EM2270 DM10780     ; SCON-2 目標位置（下位8bit）
MOV #70 DM10784          ; SCON-2 速度
MPP
TMR #844 #2              ; SCON-2_ｳｪｲﾄﾀｲﾏ
CON
AND T844                 ; SCON-2_ｳｪｲﾄﾀｲﾏ
JMP @MR2204
STG @MR2204
ANB @MR200
BSET DM10787 #0          ; SCON-2 制御信号
CON
JMP @MR2205
STG @MR2205
ANB @MR200
MPS
BANB DM10587 #0          ; SCON-2 状態信号
BRES DM10787 #0          ; SCON-2 制御信号
CON
JMP @MR2206
MPP
BAND DM10587 #0          ; SCON-2 状態信号
TMR #845 #50             ; SCON-2_ｳｪｲﾄﾀｲﾏ
CON
AND T845                 ; SCON-2_ｳｪｲﾄﾀｲﾏ
BRES DM10787 #0          ; SCON-2 制御信号
CON
RES MR4712               ; MOVE SW 表示
CON
BRES DM10787 #2          ; SCON-2 制御信号
CON
BRES DM10787 #3          ; SCON-2 制御信号
CON
RES MR19405              ; RB9:Y軸　MOVE
CON
RES MR19414              ; RB9:MOVE-STOP
CON
RES @MR2201
CON
SET @R604                ; SCON_Axis2 ｱﾗｰﾑ発生
CON
ENDS
STG @MR2206
ANB @MR200
MPS
BLDB DM10587 #2          ; SCON-2 状態信号
BAND DM10587 #0          ; SCON-2 状態信号
ANL
TMH #846 #10             ; SCON-2_ｳｪｲﾄﾀｲﾏ
CON
AND T846                 ; SCON-2_ｳｪｲﾄﾀｲﾏ
JMP @MR2207
MRD
BLD DM10587 #2           ; SCON-2 状態信号
AND MR19414              ; RB9:MOVE-STOP
ANL
JMP @MR2208
MPP
BANB DM10587 #2          ; SCON-2 状態信号
TMR #847 #600            ; SCON-2_ｳｪｲﾄﾀｲﾏ
CON
AND T847                 ; SCON-2_ｳｪｲﾄﾀｲﾏ
RES MR4712               ; MOVE SW 表示
CON
BRES DM10787 #2          ; SCON-2 制御信号
CON
BRES DM10787 #3          ; SCON-2 制御信号
CON
RES MR19405              ; RB9:Y軸　MOVE
CON
RES MR19414              ; RB9:MOVE-STOP
CON
RES @MR2201
CON
SET @R605                ; SCON_Axis2 ｱﾗｰﾑ発生
CON
ENDS
STG @MR2208
BSET DM10787 #2          ; SCON-2 制御信号
CON
BANB DM10587 #2          ; SCON-2 状態信号
JMP @MR2209
STG @MR2209
BSET DM10787 #3          ; SCON-2 制御信号
CON
TMH #848 #7              ; SCON-2_ｳｪｲﾄﾀｲﾏ
CON
AND T848                 ; SCON-2_ｳｪｲﾄﾀｲﾏ
BRES DM10787 #2          ; SCON-2 制御信号
CON
BRES DM10787 #3          ; SCON-2 制御信号
CON
JMP @MR2210
STG @MR2210
MPS
BAND DM10587 #0          ; SCON-2 状態信号
JMP @MR2207
MPP
BANB DM10587 #0          ; SCON-2 状態信号
TMR #849 #50             ; SCON-2_ｳｪｲﾄﾀｲﾏ
CON
AND T849                 ; SCON-2_ｳｪｲﾄﾀｲﾏ
BRES DM10787 #0          ; SCON-2 制御信号
CON
RES MR4712               ; MOVE SW 表示
CON
BRES DM10787 #2          ; SCON-2 制御信号
CON
BRES DM10787 #3          ; SCON-2 制御信号
CON
RES MR19405              ; RB9:Y軸　MOVE
CON
RES MR19414              ; RB9:MOVE-STOP
CON
RES @MR2201
CON
SET @R606                ; SCON_Axis2 ｱﾗｰﾑ発生
CON
ENDS
STG @MR2207
ANB @MR200
MOV.L DM10580 DM11142    ; SCON-2 現在位置（下位8bit）  RB9 現在位置1
MOV DM11148 DM11144      ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号  RB9 現在ﾎﾟｼﾞｼｮﾝ番号
RES MR4712               ; MOVE SW 表示
CON
BRES DM10787 #2          ; SCON-2 制御信号
CON
BRES DM10787 #3          ; SCON-2 制御信号
CON
RES MR19405              ; RB9:Y軸　MOVE
CON
RES MR19414              ; RB9:MOVE-STOP
CON
RES @MR2201
CON
ENDS
LD @R603                 ; SCON_Axis2 ｱﾗｰﾑ発生
ANB MR19413              ; RB9:ｱﾗｰﾑ出力
ANB R39004               ; ｴﾗｰ中
SET @MR008               ; RB9ｱﾗｰﾑON
CON
SET R39004               ; ｴﾗｰ中
CON
DW #25 @DM1
CON
DW #1000 @DM9
CON
LDA DM60009
CON
STA @DM2
CON
SET @R100                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
SET @R612                ; SCON_Axis2 ｱﾗｰﾑ発生
LD @R604                 ; SCON_Axis2 ｱﾗｰﾑ発生
OR @R605                 ; SCON_Axis2 ｱﾗｰﾑ発生
OR @R606                 ; SCON_Axis2 ｱﾗｰﾑ発生
ANB MR19413              ; RB9:ｱﾗｰﾑ出力
ANB R39004               ; ｴﾗｰ中
SET @MR008               ; RB9ｱﾗｰﾑON
CON
SET R39004               ; ｴﾗｰ中
CON
DW #25 @DM1
CON
DW #1000 @DM9
CON
LDA DM60009
CON
STA @DM2
CON
SET @R100                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
SET @R612                ; SCON_Axis2 ｱﾗｰﾑ発生
STG @R612                ; SCON_Axis2 ｱﾗｰﾑ発生
ZRES @R603 @R606         ; SCON_Axis2 ｱﾗｰﾑ発生  SCON_Axis2 ｱﾗｰﾑ発生
CON
AND @R101
RES @R101
CON
DW #0 DM60009
CON
AND @R105                ; SW1
SET MR19500              ; ｱﾗｰﾑﾘｾｯﾄ要求
CON
JMP @R613
STG @R613
TMR #1981 #10
CON
AND T1981
RES @R100                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
RES R39004               ; ｴﾗｰ中
CON
SET MR19405              ; RB9:Y軸　MOVE
CON
RES @MR008               ; RB9ｱﾗｰﾑON
CON
ENDS
;RB9 (除材Y軸) SCON JOG/INCHING
LD= DM3000 #1911         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1901         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND MR2908               ; 搬送Y軸RB原点復帰済み ﾗﾝﾌﾟ
AND @MR201
ANB @MR1201              ; 搬送Y軸RB　原点復帰動作中
ANB @MR2201
MPS
ANB MR19407              ; RB9:JOG/INCH
OUT @MR3200
MPP
AND MR19407              ; RB9:JOG/INCH
OUT @MR3207
LD @MR3200
OR @MR3207
AND MR19408              ; RB9:Hi/Low
BOUT DM10787 #6          ; SCON-2 制御信号
LDP @MR3207
BSET DM10787 #5          ; SCON-2 制御信号
LDF @MR3207
BRES DM10787 #5          ; SCON-2 制御信号
LD @MR3200
OR @MR3207
MPS
LD MR19411               ; RB9:JOG+動作
ANB MR19412              ; RB9:JOG-動作
ANL
BOUT DM10787 #8          ; SCON-2 制御信号
MPP
LD MR19412               ; RB9:JOG-動作
ANB MR19411              ; RB9:JOG+動作
ANL
BOUT DM10787 #7          ; SCON-2 制御信号
;RB9 (除材Y軸) SCON Point Data Write
LD CR2002                ; 常時ON
AND MR2908               ; 搬送Y軸RB原点復帰済み ﾗﾝﾌﾟ
MPS
ANP MR4200               ; 除材搬送_Y軸_P1
DW #1 DM11148            ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14200              ; NR_除材搬送_Y軸_P1
MRD
ANP MR4201               ; 除材搬送_Y軸_P2
DW #2 DM11148            ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14201              ; NR_除材搬送_Y軸_P2
MRD
LD= DM11200 #1           ; 取り出し位置
AND MR24500              ; 確定ｽｲｯﾁ
ANL
DW #2 DM11148            ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14201              ; NR_除材搬送_Y軸_P2
MRD
ANP MR4202               ; 除材搬送_Y軸_P3
DW #3 DM11148            ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14202              ; NR_除材搬送_Y軸_P3
MRD
LD= DM11200 #2           ; 取り出し位置
AND MR24500              ; 確定ｽｲｯﾁ
ANL
DW #3 DM11148            ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14202              ; NR_除材搬送_Y軸_P3
MRD
ANP MR4203               ; 除材搬送_Y軸_P4
DW #4 DM11148            ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14203              ; NR_除材搬送_Y軸_P4
MRD
LD= DM11200 #3           ; 取り出し位置
AND MR24500              ; 確定ｽｲｯﾁ
ANL
DW #4 DM11148            ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14203              ; NR_除材搬送_Y軸_P4
MRD
ANP MR4204               ; 除材搬送_Y軸_P5
DW #5 DM11148            ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14204              ; NR_除材搬送_Y軸_P5
MRD
LD= DM11200 #4           ; 取り出し位置
AND MR24500              ; 確定ｽｲｯﾁ
ANL
DW #5 DM11148            ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14204              ; NR_除材搬送_Y軸_P5
MRD
ANP MR4205               ; 除材搬送_Y軸_P6
DW #6 DM11148            ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14205              ; NR_除材搬送_Y軸_P6
MRD
LD= DM11200 #5           ; 取り出し位置
AND MR24500              ; 確定ｽｲｯﾁ
ANL
DW #6 DM11148            ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14205              ; NR_除材搬送_Y軸_P6
MRD
ANP MR4206               ; 除材搬送_Y軸_P7
DW #7 DM11148            ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14206              ; NR_除材搬送_Y軸_P7
MRD
LD= DM11200 #6           ; 取り出し位置
AND MR24500              ; 確定ｽｲｯﾁ
ANL
DW #7 DM11148            ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14206              ; NR_除材搬送_Y軸_P7
MRD
ANP MR4207               ; 除材搬送_Y軸_P8
DW #8 DM11148            ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14207              ; NR_除材搬送_Y軸_P8
MRD
LD= DM11200 #7           ; 取り出し位置
AND MR24500              ; 確定ｽｲｯﾁ
ANL
DW #8 DM11148            ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14207              ; NR_除材搬送_Y軸_P8
MRD
ANP MR4208               ; 除材搬送_Y軸_P9
DW #9 DM11148            ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14208              ; NR_除材搬送_Y軸_P9
MRD
LD= DM11200 #8           ; 取り出し位置
AND MR24500              ; 確定ｽｲｯﾁ
ANL
DW #9 DM11148            ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14208              ; NR_除材搬送_Y軸_P9
MRD
ANP MR4209               ; 除材搬送_Y軸_P10
DW #10 DM11148           ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14209              ; NR_除材搬送_Y軸_P10
MRD
LD= DM11200 #9           ; 取り出し位置
AND MR24500              ; 確定ｽｲｯﾁ
ANL
DW #10 DM11148           ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14209              ; NR_除材搬送_Y軸_P10
MRD
ANP MR4210               ; 除材搬送_Y軸_P11
DW #11 DM11148           ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14210              ; NR_除材搬送_Y軸_P11
MRD
LD= DM11200 #10          ; 取り出し位置
AND MR24500              ; 確定ｽｲｯﾁ
ANL
DW #11 DM11148           ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14210              ; NR_除材搬送_Y軸_P11
MRD
ANP MR4211               ; 除材搬送_Y軸_P12
DW #12 DM11148           ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14211              ; NR_除材搬送_Y軸_P12
MRD
ANP MR4212               ; 除材搬送_Y軸_P13
DW #13 DM11148           ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14212              ; NR_除材搬送_Y軸_P13
MPP
ANP MR4213               ; 除材搬送_Y軸_P14
DW #14 DM11148           ; RB9 Y軸　目標ﾎﾟｲﾝﾄ番号
CON
ZRES MR14200 MR14213     ; NR_除材搬送_Y軸_P1  NR_除材搬送_Y軸_P14
CON
SET MR14213              ; NR_除材搬送_Y軸_P14
LD= DM3000 #1901         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1911         ; _MainTP　表示中ﾍﾟｰｼﾞNo
LD MR2908                ; 搬送Y軸RB原点復帰済み ﾗﾝﾌﾟ
OR CR2002                ; 常時ON
ANL
MPS
ANP MR4200               ; 除材搬送_Y軸_P1
MOV.L EM2210 EM1921      ; RB9 P1 目標位置（下位bit）  RB9 目標位置（下位bit）表示用
MOV EM2212 EM1923        ; RB9 P1 指令速度  RB9 指令速度表示用
MRD
ANP MR4201               ; 除材搬送_Y軸_P2
MOV.L EM2213 EM1921      ; RB9 P2 目標位置（下位bit）  RB9 目標位置（下位bit）表示用
MOV EM2215 EM1923        ; RB9 P2 指令速度  RB9 指令速度表示用
MRD
ANP MR4202               ; 除材搬送_Y軸_P3
MOV.L EM2216 EM1921      ; RB9 P3 目標位置（下位bit）  RB9 目標位置（下位bit）表示用
MOV EM2218 EM1923        ; RB9 P3 指令速度  RB9 指令速度表示用
MRD
ANP MR4203               ; 除材搬送_Y軸_P4
MOV.L EM2219 EM1921      ; RB9 P4 目標位置（下位bit）  RB9 目標位置（下位bit）表示用
MOV EM2221 EM1923        ; RB9 P4 指令速度  RB9 指令速度表示用
MRD
ANP MR4204               ; 除材搬送_Y軸_P5
MOV.L EM2222 EM1921      ; RB9 P5 目標位置（下位bit）  RB9 目標位置（下位bit）表示用
MOV EM2224 EM1923        ; RB9 P5 指令速度  RB9 指令速度表示用
MRD
ANP MR4205               ; 除材搬送_Y軸_P6
MOV.L EM2225 EM1921      ; RB9 P6 目標位置（下位bit）  RB9 目標位置（下位bit）表示用
MOV EM2227 EM1923        ; RB9 P6 指令速度  RB9 指令速度表示用
MRD
ANP MR4206               ; 除材搬送_Y軸_P7
MOV.L EM2228 EM1921      ; RB9 P7 目標位置（下位bit）  RB9 目標位置（下位bit）表示用
MOV EM2230 EM1923        ; RB9 P7 指令速度  RB9 指令速度表示用
MRD
ANP MR4207               ; 除材搬送_Y軸_P8
MOV.L EM2231 EM1921      ; RB9 P8 目標位置（下位bit）  RB9 目標位置（下位bit）表示用
MOV EM2233 EM1923        ; RB9 P8 指令速度  RB9 指令速度表示用
MRD
ANP MR4208               ; 除材搬送_Y軸_P9
MOV.L EM2234 EM1921      ; RB9 P9 目標位置（下位bit）  RB9 目標位置（下位bit）表示用
MOV EM2236 EM1923        ; RB9 P9 指令速度  RB9 指令速度表示用
MRD
ANP MR4209               ; 除材搬送_Y軸_P10
MOV.L EM2237 EM1921      ; RB9 P10 目標位置（下位bit）  RB9 目標位置（下位bit）表示用
MOV EM2239 EM1923        ; RB9 P10 指令速度  RB9 指令速度表示用
MRD
ANP MR4210               ; 除材搬送_Y軸_P11
MOV.L EM2240 EM1921      ; RB9 P11 目標位置（下位bit）  RB9 目標位置（下位bit）表示用
MOV EM2242 EM1923        ; RB9 P11 指令速度  RB9 指令速度表示用
MRD
ANP MR4211               ; 除材搬送_Y軸_P12
MOV.L EM2243 EM1921      ; RB9 P12 目標位置（下位bit）  RB9 目標位置（下位bit）表示用
MOV EM2245 EM1923        ; RB9 P12 指令速度  RB9 指令速度表示用
MRD
ANP MR4212               ; 除材搬送_Y軸_P13
MOV.L EM2246 EM1921      ; RB9 P13 目標位置（下位bit）  RB9 目標位置（下位bit）表示用
MOV EM2248 EM1923        ; RB9 P13 指令速度  RB9 指令速度表示用
MPP
ANP MR4213               ; 除材搬送_Y軸_P14
MOV.L EM2250 EM1921      ; RB9 P14 目標位置（上位bit）  RB9 目標位置（下位bit）表示用
MOV EM2250 EM1923        ; RB9 P14 目標位置（上位bit）  RB9 指令速度表示用
LD= DM3000 #1901         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1911         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND MR14200              ; NR_除材搬送_Y軸_P1
MPS
AND MR4915               ; 現在地書込SW
MOV.L DM10580 EM2210     ; SCON-2 現在位置（下位8bit）  RB9 P1 目標位置（下位bit）
MOV EM1923 EM2212        ; RB9 指令速度表示用  RB9 P1 指令速度
MPP
AND MR4914               ; 確定SW
MOV.L EM1921 EM2210      ; RB9 目標位置（下位bit）表示用  RB9 P1 目標位置（下位bit）
MOV EM1923 EM2212        ; RB9 指令速度表示用  RB9 P1 指令速度
LD= DM3000 #1901         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1911         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND MR14201              ; NR_除材搬送_Y軸_P2
MPS
AND MR4915               ; 現在地書込SW
MOV.L DM10580 EM2213     ; SCON-2 現在位置（下位8bit）  RB9 P2 目標位置（下位bit）
MOV EM1923 EM2215        ; RB9 指令速度表示用  RB9 P2 指令速度
MPP
AND MR4914               ; 確定SW
MOV.L EM1921 EM2213      ; RB9 目標位置（下位bit）表示用  RB9 P2 目標位置（下位bit）
MOV EM1923 EM2215        ; RB9 指令速度表示用  RB9 P2 指令速度
MOV EM1923 EM2218        ; RB9 指令速度表示用  RB9 P3 指令速度
MOV EM1923 EM2221        ; RB9 指令速度表示用  RB9 P4 指令速度
MOV EM1923 EM2224        ; RB9 指令速度表示用  RB9 P5 指令速度
MOV EM1923 EM2227        ; RB9 指令速度表示用  RB9 P6 指令速度
MOV EM1923 EM2230        ; RB9 指令速度表示用  RB9 P7 指令速度
MOV EM1923 EM2233        ; RB9 指令速度表示用  RB9 P8 指令速度
MOV EM1923 EM2236        ; RB9 指令速度表示用  RB9 P9 指令速度
MOV EM1923 EM2239        ; RB9 指令速度表示用  RB9 P10 指令速度
MOV EM1923 EM2242        ; RB9 指令速度表示用  RB9 P11 指令速度
LD= DM3000 #1901         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1911         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND MR14202              ; NR_除材搬送_Y軸_P3
MPS
AND MR4915               ; 現在地書込SW
MOV.L DM10580 EM2216     ; SCON-2 現在位置（下位8bit）  RB9 P3 目標位置（下位bit）
MOV EM1923 EM2218        ; RB9 指令速度表示用  RB9 P3 指令速度
MPP
AND MR4914               ; 確定SW
MOV.L EM1921 EM2216      ; RB9 目標位置（下位bit）表示用  RB9 P3 目標位置（下位bit）
MOV EM1923 EM2218        ; RB9 指令速度表示用  RB9 P3 指令速度
MOV EM1923 EM2215        ; RB9 指令速度表示用  RB9 P2 指令速度
MOV EM1923 EM2221        ; RB9 指令速度表示用  RB9 P4 指令速度
MOV EM1923 EM2224        ; RB9 指令速度表示用  RB9 P5 指令速度
MOV EM1923 EM2227        ; RB9 指令速度表示用  RB9 P6 指令速度
MOV EM1923 EM2230        ; RB9 指令速度表示用  RB9 P7 指令速度
MOV EM1923 EM2233        ; RB9 指令速度表示用  RB9 P8 指令速度
MOV EM1923 EM2236        ; RB9 指令速度表示用  RB9 P9 指令速度
MOV EM1923 EM2239        ; RB9 指令速度表示用  RB9 P10 指令速度
MOV EM1923 EM2242        ; RB9 指令速度表示用  RB9 P11 指令速度
LD= DM3000 #1901         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1911         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND MR14203              ; NR_除材搬送_Y軸_P4
MPS
AND MR4915               ; 現在地書込SW
MOV.L DM10580 EM2219     ; SCON-2 現在位置（下位8bit）  RB9 P4 目標位置（下位bit）
MOV EM1923 EM2221        ; RB9 指令速度表示用  RB9 P4 指令速度
MPP
AND MR4914               ; 確定SW
MOV.L EM1921 EM2219      ; RB9 目標位置（下位bit）表示用  RB9 P4 目標位置（下位bit）
MOV EM1923 EM2221        ; RB9 指令速度表示用  RB9 P4 指令速度
MOV EM1923 EM2218        ; RB9 指令速度表示用  RB9 P3 指令速度
MOV EM1923 EM2215        ; RB9 指令速度表示用  RB9 P2 指令速度
MOV EM1923 EM2224        ; RB9 指令速度表示用  RB9 P5 指令速度
MOV EM1923 EM2227        ; RB9 指令速度表示用  RB9 P6 指令速度
MOV EM1923 EM2230        ; RB9 指令速度表示用  RB9 P7 指令速度
MOV EM1923 EM2233        ; RB9 指令速度表示用  RB9 P8 指令速度
MOV EM1923 EM2236        ; RB9 指令速度表示用  RB9 P9 指令速度
MOV EM1923 EM2239        ; RB9 指令速度表示用  RB9 P10 指令速度
MOV EM1923 EM2242        ; RB9 指令速度表示用  RB9 P11 指令速度
LD= DM3000 #1901         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1911         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND MR14204              ; NR_除材搬送_Y軸_P5
MPS
AND MR4915               ; 現在地書込SW
MOV.L DM10580 EM2222     ; SCON-2 現在位置（下位8bit）  RB9 P5 目標位置（下位bit）
MOV EM1923 EM2224        ; RB9 指令速度表示用  RB9 P5 指令速度
MPP
AND MR4914               ; 確定SW
MOV.L EM1921 EM2222      ; RB9 目標位置（下位bit）表示用  RB9 P5 目標位置（下位bit）
MOV EM1923 EM2224        ; RB9 指令速度表示用  RB9 P5 指令速度
MOV EM1923 EM2218        ; RB9 指令速度表示用  RB9 P3 指令速度
MOV EM1923 EM2221        ; RB9 指令速度表示用  RB9 P4 指令速度
MOV EM1923 EM2215        ; RB9 指令速度表示用  RB9 P2 指令速度
MOV EM1923 EM2227        ; RB9 指令速度表示用  RB9 P6 指令速度
MOV EM1923 EM2230        ; RB9 指令速度表示用  RB9 P7 指令速度
MOV EM1923 EM2233        ; RB9 指令速度表示用  RB9 P8 指令速度
MOV EM1923 EM2236        ; RB9 指令速度表示用  RB9 P9 指令速度
MOV EM1923 EM2239        ; RB9 指令速度表示用  RB9 P10 指令速度
MOV EM1923 EM2242        ; RB9 指令速度表示用  RB9 P11 指令速度
LD= DM3000 #1901         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1911         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND MR14205              ; NR_除材搬送_Y軸_P6
MPS
AND MR4915               ; 現在地書込SW
MOV.L DM10580 EM2225     ; SCON-2 現在位置（下位8bit）  RB9 P6 目標位置（下位bit）
MOV EM1923 EM2227        ; RB9 指令速度表示用  RB9 P6 指令速度
MPP
AND MR4914               ; 確定SW
MOV.L EM1921 EM2225      ; RB9 目標位置（下位bit）表示用  RB9 P6 目標位置（下位bit）
MOV EM1923 EM2227        ; RB9 指令速度表示用  RB9 P6 指令速度
MOV EM1923 EM2218        ; RB9 指令速度表示用  RB9 P3 指令速度
MOV EM1923 EM2221        ; RB9 指令速度表示用  RB9 P4 指令速度
MOV EM1923 EM2224        ; RB9 指令速度表示用  RB9 P5 指令速度
MOV EM1923 EM2215        ; RB9 指令速度表示用  RB9 P2 指令速度
MOV EM1923 EM2230        ; RB9 指令速度表示用  RB9 P7 指令速度
MOV EM1923 EM2233        ; RB9 指令速度表示用  RB9 P8 指令速度
MOV EM1923 EM2236        ; RB9 指令速度表示用  RB9 P9 指令速度
MOV EM1923 EM2239        ; RB9 指令速度表示用  RB9 P10 指令速度
MOV EM1923 EM2242        ; RB9 指令速度表示用  RB9 P11 指令速度
LD= DM3000 #1901         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1911         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND MR14206              ; NR_除材搬送_Y軸_P7
MPS
AND MR4915               ; 現在地書込SW
MOV.L DM10580 EM2228     ; SCON-2 現在位置（下位8bit）  RB9 P7 目標位置（下位bit）
MOV EM1923 EM2230        ; RB9 指令速度表示用  RB9 P7 指令速度
MPP
AND MR4914               ; 確定SW
MOV.L EM1921 EM2228      ; RB9 目標位置（下位bit）表示用  RB9 P7 目標位置（下位bit）
MOV EM1923 EM2230        ; RB9 指令速度表示用  RB9 P7 指令速度
MOV EM1923 EM2218        ; RB9 指令速度表示用  RB9 P3 指令速度
MOV EM1923 EM2221        ; RB9 指令速度表示用  RB9 P4 指令速度
MOV EM1923 EM2224        ; RB9 指令速度表示用  RB9 P5 指令速度
MOV EM1923 EM2227        ; RB9 指令速度表示用  RB9 P6 指令速度
MOV EM1923 EM2215        ; RB9 指令速度表示用  RB9 P2 指令速度
MOV EM1923 EM2233        ; RB9 指令速度表示用  RB9 P8 指令速度
MOV EM1923 EM2236        ; RB9 指令速度表示用  RB9 P9 指令速度
MOV EM1923 EM2239        ; RB9 指令速度表示用  RB9 P10 指令速度
MOV EM1923 EM2242        ; RB9 指令速度表示用  RB9 P11 指令速度
LD= DM3000 #1901         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1911         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND MR14207              ; NR_除材搬送_Y軸_P8
MPS
AND MR4915               ; 現在地書込SW
MOV.L DM10580 EM2231     ; SCON-2 現在位置（下位8bit）  RB9 P8 目標位置（下位bit）
MOV EM1923 EM2233        ; RB9 指令速度表示用  RB9 P8 指令速度
MPP
AND MR4914               ; 確定SW
MOV.L EM1921 EM2231      ; RB9 目標位置（下位bit）表示用  RB9 P8 目標位置（下位bit）
MOV EM1923 EM2233        ; RB9 指令速度表示用  RB9 P8 指令速度
MOV EM1923 EM2218        ; RB9 指令速度表示用  RB9 P3 指令速度
MOV EM1923 EM2221        ; RB9 指令速度表示用  RB9 P4 指令速度
MOV EM1923 EM2224        ; RB9 指令速度表示用  RB9 P5 指令速度
MOV EM1923 EM2227        ; RB9 指令速度表示用  RB9 P6 指令速度
MOV EM1923 EM2230        ; RB9 指令速度表示用  RB9 P7 指令速度
MOV EM1923 EM2215        ; RB9 指令速度表示用  RB9 P2 指令速度
MOV EM1923 EM2236        ; RB9 指令速度表示用  RB9 P9 指令速度
MOV EM1923 EM2239        ; RB9 指令速度表示用  RB9 P10 指令速度
MOV EM1923 EM2242        ; RB9 指令速度表示用  RB9 P11 指令速度
LD= DM3000 #1901         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1911         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND MR14208              ; NR_除材搬送_Y軸_P9
MPS
AND MR4915               ; 現在地書込SW
MOV.L DM10580 EM2234     ; SCON-2 現在位置（下位8bit）  RB9 P9 目標位置（下位bit）
MOV EM1923 EM2236        ; RB9 指令速度表示用  RB9 P9 指令速度
MPP
AND MR4914               ; 確定SW
MOV.L EM1921 EM2234      ; RB9 目標位置（下位bit）表示用  RB9 P9 目標位置（下位bit）
MOV EM1923 EM2236        ; RB9 指令速度表示用  RB9 P9 指令速度
MOV EM1923 EM2218        ; RB9 指令速度表示用  RB9 P3 指令速度
MOV EM1923 EM2221        ; RB9 指令速度表示用  RB9 P4 指令速度
MOV EM1923 EM2224        ; RB9 指令速度表示用  RB9 P5 指令速度
MOV EM1923 EM2227        ; RB9 指令速度表示用  RB9 P6 指令速度
MOV EM1923 EM2230        ; RB9 指令速度表示用  RB9 P7 指令速度
MOV EM1923 EM2233        ; RB9 指令速度表示用  RB9 P8 指令速度
MOV EM1923 EM2215        ; RB9 指令速度表示用  RB9 P2 指令速度
MOV EM1923 EM2239        ; RB9 指令速度表示用  RB9 P10 指令速度
MOV EM1923 EM2242        ; RB9 指令速度表示用  RB9 P11 指令速度
LD= DM3000 #1901         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1911         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND MR14209              ; NR_除材搬送_Y軸_P10
MPS
AND MR4915               ; 現在地書込SW
MOV.L DM10580 EM2237     ; SCON-2 現在位置（下位8bit）  RB9 P10 目標位置（下位bit）
MOV EM1923 EM2239        ; RB9 指令速度表示用  RB9 P10 指令速度
MPP
AND MR4914               ; 確定SW
MOV.L EM1921 EM2237      ; RB9 目標位置（下位bit）表示用  RB9 P10 目標位置（下位bit）
MOV EM1923 EM2239        ; RB9 指令速度表示用  RB9 P10 指令速度
MOV EM1923 EM2218        ; RB9 指令速度表示用  RB9 P3 指令速度
MOV EM1923 EM2221        ; RB9 指令速度表示用  RB9 P4 指令速度
MOV EM1923 EM2224        ; RB9 指令速度表示用  RB9 P5 指令速度
MOV EM1923 EM2227        ; RB9 指令速度表示用  RB9 P6 指令速度
MOV EM1923 EM2230        ; RB9 指令速度表示用  RB9 P7 指令速度
MOV EM1923 EM2233        ; RB9 指令速度表示用  RB9 P8 指令速度
MOV EM1923 EM2236        ; RB9 指令速度表示用  RB9 P9 指令速度
MOV EM1923 EM2215        ; RB9 指令速度表示用  RB9 P2 指令速度
MOV EM1923 EM2242        ; RB9 指令速度表示用  RB9 P11 指令速度
LD= DM3000 #1901         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1911         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND MR14210              ; NR_除材搬送_Y軸_P11
MPS
AND MR4915               ; 現在地書込SW
MOV.L DM10580 EM2240     ; SCON-2 現在位置（下位8bit）  RB9 P11 目標位置（下位bit）
MOV EM1923 EM2242        ; RB9 指令速度表示用  RB9 P11 指令速度
MPP
AND MR4914               ; 確定SW
MOV.L EM1921 EM2240      ; RB9 目標位置（下位bit）表示用  RB9 P11 目標位置（下位bit）
MOV EM1923 EM2242        ; RB9 指令速度表示用  RB9 P11 指令速度
MOV EM1923 EM2218        ; RB9 指令速度表示用  RB9 P3 指令速度
MOV EM1923 EM2221        ; RB9 指令速度表示用  RB9 P4 指令速度
MOV EM1923 EM2224        ; RB9 指令速度表示用  RB9 P5 指令速度
MOV EM1923 EM2227        ; RB9 指令速度表示用  RB9 P6 指令速度
MOV EM1923 EM2230        ; RB9 指令速度表示用  RB9 P7 指令速度
MOV EM1923 EM2233        ; RB9 指令速度表示用  RB9 P8 指令速度
MOV EM1923 EM2236        ; RB9 指令速度表示用  RB9 P9 指令速度
MOV EM1923 EM2239        ; RB9 指令速度表示用  RB9 P10 指令速度
MOV EM1923 EM2215        ; RB9 指令速度表示用  RB9 P2 指令速度
LD= DM3000 #1901         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1911         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND MR14211              ; NR_除材搬送_Y軸_P12
MPS
AND MR4915               ; 現在地書込SW
MOV.L DM10580 EM2243     ; SCON-2 現在位置（下位8bit）  RB9 P12 目標位置（下位bit）
MOV EM1923 EM2245        ; RB9 指令速度表示用  RB9 P12 指令速度
MPP
AND MR4914               ; 確定SW
MOV.L EM1921 EM2243      ; RB9 目標位置（下位bit）表示用  RB9 P12 目標位置（下位bit）
MOV EM1923 EM2245        ; RB9 指令速度表示用  RB9 P12 指令速度
LD= DM3000 #1901         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1911         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND MR14212              ; NR_除材搬送_Y軸_P13
MPS
AND MR4915               ; 現在地書込SW
MOV.L DM10580 EM2246     ; SCON-2 現在位置（下位8bit）  RB9 P13 目標位置（下位bit）
MOV EM1923 EM2248        ; RB9 指令速度表示用  RB9 P13 指令速度
MPP
AND MR4914               ; 確定SW
MOV.L EM1921 EM2246      ; RB9 目標位置（下位bit）表示用  RB9 P13 目標位置（下位bit）
MOV EM1923 EM2248        ; RB9 指令速度表示用  RB9 P13 指令速度
LD= DM3000 #1901         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1911         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND MR14213              ; NR_除材搬送_Y軸_P14
MPS
AND MR4915               ; 現在地書込SW
MOV.L DM10580 EM2249     ; SCON-2 現在位置（下位8bit）  RB9 P14 目標位置（下位bit）
MOV EM1923 EM2250        ; RB9 指令速度表示用  RB9 P14 目標位置（上位bit）
MPP
AND MR4914               ; 確定SW
MOV.L EM1921 EM2249      ; RB9 目標位置（下位bit）表示用  RB9 P14 目標位置（下位bit）
MOV EM1923 EM2250        ; RB9 指令速度表示用  RB9 P14 目標位置（上位bit）
;EM42210.l = em2210.l - 2
;EM43210.l = em2210.l + 2
;EM42213.l = em2213.l - 2
;EM43213.l = em2213.l + 2
;EM42216.l = em2216.l - 2
;EM43216.l = em2216.l + 2
;EM42219.l = em2219.l - 2
;EM43219.l = em2219.l + 2
;EM42222.l = em2222.l - 2
;EM43222.l = em2222.l + 2
;EM42225.l = em2225.l - 2
;EM43225.l = em2225.l + 2
;EM42228.l = em2228.l - 2
;EM43228.l = em2228.l + 2
;EM42231.l = em2231.l - 2
;EM43231.l = em2231.l + 2
;EM42234.l = em2234.l - 2
;EM43234.l = em2234.l + 2
;EM42237.l = em2237.l - 2
;EM43237.l = em2237.l + 2
;EM42240.l = em2240.l - 2
;EM43240.l = em2240.l + 2
;EM42243.l = em2243.l - 2
;EM43243.l = em2243.l + 2
;EM42246.l = em2246.l - 2
;EM43246.l = em2246.l + 2
;EM42249.l = em2249.l - 2
;EM43249.l = em2249.l + 2
;EM42252.l = em2252.l - 2
;EM43252.l = em2252.l + 2
LD CR2002                ; 常時ON
NCJ #1002
;EM42210.l = em2210.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2210             ; RB9 P1 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42210
;EM43210.l = em2210.l + 2
;
LD CR2002                ; 常時ON
LDA.L EM2210             ; RB9 P1 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43210
;EM42213.l = em2213.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2213             ; RB9 P2 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42213
;EM43213.l = em2213.l + 2
;
LD CR2002                ; 常時ON
LDA.L EM2213             ; RB9 P2 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43213
;EM42216.l = em2216.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2216             ; RB9 P3 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42216
;EM43216.l = em2216.l + 2
;
LD CR2002                ; 常時ON
LDA.L EM2216             ; RB9 P3 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43216
;EM42219.l = em2219.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2219             ; RB9 P4 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42219
;EM43219.l = em2219.l + 2
;
LD CR2002                ; 常時ON
LDA.L EM2219             ; RB9 P4 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43219
;EM42222.l = em2222.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2222             ; RB9 P5 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42222
;EM43222.l = em2222.l + 2
;
LD CR2002                ; 常時ON
LDA.L EM2222             ; RB9 P5 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43222
;EM42225.l = em2225.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2225             ; RB9 P6 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42225
;EM43225.l = em2225.l + 2
;
LD CR2002                ; 常時ON
LDA.L EM2225             ; RB9 P6 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43225
;EM42228.l = em2228.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2228             ; RB9 P7 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42228
;EM43228.l = em2228.l + 2
;
LD CR2002                ; 常時ON
LDA.L EM2228             ; RB9 P7 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43228
;EM42231.l = em2231.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2231             ; RB9 P8 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42231
;EM43231.l = em2231.l + 2
;
LD CR2002                ; 常時ON
LDA.L EM2231             ; RB9 P8 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43231
;EM42234.l = em2234.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2234             ; RB9 P9 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42234
;EM43234.l = em2234.l + 2
;
LD CR2002                ; 常時ON
LDA.L EM2234             ; RB9 P9 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43234
;EM42237.l = em2237.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2237             ; RB9 P10 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42237
;EM43237.l = em2237.l + 2
;
LD CR2002                ; 常時ON
LDA.L EM2237             ; RB9 P10 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43237
;EM42240.l = em2240.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2240             ; RB9 P11 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42240
;EM43240.l = em2240.l + 2
;
LD CR2002                ; 常時ON
LDA.L EM2240             ; RB9 P11 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43240
;EM42243.l = em2243.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2243             ; RB9 P12 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42243
;EM43243.l = em2243.l + 2
;
LD CR2002                ; 常時ON
LDA.L EM2243             ; RB9 P12 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43243
;EM42246.l = em2246.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2246             ; RB9 P13 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42246
;EM43246.l = em2246.l + 2
;
LD CR2002                ; 常時ON
LDA.L EM2246             ; RB9 P13 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43246
;EM42249.l = em2249.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2249             ; RB9 P14 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42249
;EM43249.l = em2249.l + 2
;
LD CR2002                ; 常時ON
LDA.L EM2249             ; RB9 P14 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43249
;EM42252.l = em2252.l - 2
;
LD CR2002                ; 常時ON
LDA.L EM2252             ; RB9 P15 目標位置（下位bit）
CON
SUB.L +2
CON
STA.L EM42252
;EM43252.l = em2252.l + 2
LD CR2002                ; 常時ON
LDA.L EM2252             ; RB9 P15 目標位置（下位bit）
CON
ADD.L +2
CON
STA.L EM43252
LABEL #1002
;
LD CR2002                ; 常時ON
AND MR2908               ; 搬送Y軸RB原点復帰済み ﾗﾝﾌﾟ
MPS
LD<=.L EM42210 DM10580   ; SCON-2 現在位置（下位8bit）
AND<=.L DM10580 EM43210  ; SCON-2 現在位置（下位8bit）
LD>.L EM42210 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM42310    ; SCON-2 現在位置（下位8bit）
AND @MR000
LD MR14200               ; NR_除材搬送_Y軸_P1
OR MR13100               ; CR_除材搬送_Y軸_P1
ANL
ORL
ANL
OUT MR24200              ; 除材搬送_Y軸_P1
MRD
LD<=.L EM42213 DM10580   ; SCON-2 現在位置（下位8bit）
AND<=.L DM10580 EM43213  ; SCON-2 現在位置（下位8bit）
LD>.L EM42213 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43213    ; SCON-2 現在位置（下位8bit）
AND @MR000
LD MR14201               ; NR_除材搬送_Y軸_P2
OR MR13101               ; CR_除材搬送_Y軸_P2
ANL
ORL
ANL
OUT MR24201              ; 除材搬送_Y軸_P2
MRD
LD<=.L EM42216 DM10580   ; SCON-2 現在位置（下位8bit）
AND<=.L DM10580 EM43216  ; SCON-2 現在位置（下位8bit）
LD>.L EM42216 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43216    ; SCON-2 現在位置（下位8bit）
AND @MR000
LD MR14202               ; NR_除材搬送_Y軸_P3
OR MR13102               ; CR_除材搬送_Y軸_P3
ANL
ORL
ANL
OUT MR24202              ; 除材搬送_Y軸_P3
MRD
LD<=.L EM42219 DM10580   ; SCON-2 現在位置（下位8bit）
AND<=.L DM10580 EM43219  ; SCON-2 現在位置（下位8bit）
LD>.L EM42219 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43219    ; SCON-2 現在位置（下位8bit）
AND @MR000
LD MR14203               ; NR_除材搬送_Y軸_P4
OR MR13103               ; CR_除材搬送_Y軸_P4
ANL
ORL
ANL
OUT MR24203              ; 除材搬送_Y軸_P4
MRD
LD<=.L EM42222 DM10580   ; SCON-2 現在位置（下位8bit）
AND<=.L DM10580 EM43222  ; SCON-2 現在位置（下位8bit）
LD>.L EM42222 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43222    ; SCON-2 現在位置（下位8bit）
AND @MR000
LD MR14204               ; NR_除材搬送_Y軸_P5
OR MR13104               ; CR_除材搬送_Y軸_P5
ANL
ORL
ANL
OUT MR24204              ; 除材搬送_Y軸_P5
MRD
LD<=.L EM42225 DM10580   ; SCON-2 現在位置（下位8bit）
AND<=.L DM10580 EM43225  ; SCON-2 現在位置（下位8bit）
LD>.L EM42225 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43225    ; SCON-2 現在位置（下位8bit）
AND @MR000
LD MR14205               ; NR_除材搬送_Y軸_P6
OR MR13105               ; CR_除材搬送_Y軸_P6
ANL
ORL
ANL
OUT MR24205              ; 除材搬送_Y軸_P6
MRD
LD<=.L EM42228 DM10580   ; SCON-2 現在位置（下位8bit）
AND<=.L DM10580 EM43228  ; SCON-2 現在位置（下位8bit）
LD>.L EM42228 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43228    ; SCON-2 現在位置（下位8bit）
AND @MR000
LD MR14206               ; NR_除材搬送_Y軸_P7
OR MR13106               ; CR_除材搬送_Y軸_P7
ANL
ORL
ANL
OUT MR24206              ; 除材搬送_Y軸_P7
MRD
LD<=.L EM42231 DM10580   ; SCON-2 現在位置（下位8bit）
AND<=.L DM10580 EM43231  ; SCON-2 現在位置（下位8bit）
LD>.L EM42231 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43231    ; SCON-2 現在位置（下位8bit）
AND @MR000
LD MR14207               ; NR_除材搬送_Y軸_P8
OR MR13107               ; CR_除材搬送_Y軸_P8
ANL
ORL
ANL
OUT MR24207              ; 除材搬送_Y軸_P8
MRD
LD<=.L EM42234 DM10580   ; SCON-2 現在位置（下位8bit）
AND<=.L DM10580 EM43234  ; SCON-2 現在位置（下位8bit）
LD>.L EM42234 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43234    ; SCON-2 現在位置（下位8bit）
AND @MR000
LD MR14208               ; NR_除材搬送_Y軸_P9
OR MR13108               ; CR_除材搬送_Y軸_P9
ANL
ORL
ANL
OUT MR24208              ; 除材搬送_Y軸_P9
MRD
LD<=.L EM42237 DM10580   ; SCON-2 現在位置（下位8bit）
AND<=.L DM10580 EM43237  ; SCON-2 現在位置（下位8bit）
LD>.L EM42237 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43237    ; SCON-2 現在位置（下位8bit）
AND @MR000
LD MR14209               ; NR_除材搬送_Y軸_P10
OR MR13109               ; CR_除材搬送_Y軸_P10
ANL
ORL
ANL
OUT MR24209              ; 除材搬送_Y軸_P10
MRD
LD<=.L EM42240 DM10580   ; SCON-2 現在位置（下位8bit）
AND<=.L DM10580 EM43240  ; SCON-2 現在位置（下位8bit）
LD>.L EM42240 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43240    ; SCON-2 現在位置（下位8bit）
AND @MR000
LD MR14210               ; NR_除材搬送_Y軸_P11
OR MR13110               ; CR_除材搬送_Y軸_P11
ANL
ORL
ANL
OUT MR24210              ; 除材搬送_Y軸_P11
MRD
LD<=.L EM42243 DM10580   ; SCON-2 現在位置（下位8bit）
AND<=.L DM10580 EM43243  ; SCON-2 現在位置（下位8bit）
LD>.L EM42243 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43243    ; SCON-2 現在位置（下位8bit）
AND @MR000
LD MR14211               ; NR_除材搬送_Y軸_P12
OR MR13111               ; CR_除材搬送_Y軸_P12
ANL
ORL
ANL
OUT MR24211              ; 除材搬送_Y軸_P12
MRD
LD<=.L EM42246 DM10580   ; SCON-2 現在位置（下位8bit）
AND<=.L DM10580 EM43246  ; SCON-2 現在位置（下位8bit）
LD>.L EM42246 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43246    ; SCON-2 現在位置（下位8bit）
AND @MR000
LD MR14212               ; NR_除材搬送_Y軸_P13
OR MR13112               ; CR_除材搬送_Y軸_P13
ANL
ORL
ANL
OUT MR24212              ; 除材搬送_Y軸_P13
MPP
LD<=.L EM42249 DM10580   ; SCON-2 現在位置（下位8bit）
AND<=.L DM10580 EM43249  ; SCON-2 現在位置（下位8bit）
LD>.L EM42249 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43249    ; SCON-2 現在位置（下位8bit）
AND @MR000
LD MR14213               ; NR_除材搬送_Y軸_P14
OR MR13113               ; CR_除材搬送_Y軸_P14
ANL
ORL
ANL
OUT MR24213              ; 除材搬送_Y軸_P14
LD CR2002                ; 常時ON
AND MR2908               ; 搬送Y軸RB原点復帰済み ﾗﾝﾌﾟ
MPS
LD MR14200               ; NR_除材搬送_Y軸_P1
OR MR13100               ; CR_除材搬送_Y軸_P1
LD>.L EM42210 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43210    ; SCON-2 現在位置（下位8bit）
ANL
ANB @MR2201
AND @MR010
ANP MR4713               ; MOVE SW
ANL
SET MR19405              ; RB9:Y軸　MOVE
MRD
LD MR14201               ; NR_除材搬送_Y軸_P2
OR MR13101               ; CR_除材搬送_Y軸_P2
LD>.L EM42213 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43213    ; SCON-2 現在位置（下位8bit）
ANL
ANB @MR2201
AND @MR010
AND MR23400              ; 除材搬送_θ軸_P1
ANP MR4713               ; MOVE SW
ANL
SET MR19405              ; RB9:Y軸　MOVE
MRD
LD MR14202               ; NR_除材搬送_Y軸_P3
OR MR13102               ; CR_除材搬送_Y軸_P3
LD>.L EM42216 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43216    ; SCON-2 現在位置（下位8bit）
ANL
ANB @MR2201
AND @MR010
AND MR23400              ; 除材搬送_θ軸_P1
ANP MR4713               ; MOVE SW
ANL
SET MR19405              ; RB9:Y軸　MOVE
MRD
LD MR14203               ; NR_除材搬送_Y軸_P4
OR MR13103               ; CR_除材搬送_Y軸_P4
LD>.L EM42219 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43219    ; SCON-2 現在位置（下位8bit）
ANL
ANB @MR2201
AND @MR010
AND MR23400              ; 除材搬送_θ軸_P1
ANP MR4713               ; MOVE SW
ANL
SET MR19405              ; RB9:Y軸　MOVE
MRD
LD MR14204               ; NR_除材搬送_Y軸_P5
OR MR13104               ; CR_除材搬送_Y軸_P5
LD>.L EM42222 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43222    ; SCON-2 現在位置（下位8bit）
ANL
ANB @MR2201
AND @MR010
AND MR23400              ; 除材搬送_θ軸_P1
ANP MR4713               ; MOVE SW
ANL
SET MR19405              ; RB9:Y軸　MOVE
MRD
LD MR14205               ; NR_除材搬送_Y軸_P6
OR MR13105               ; CR_除材搬送_Y軸_P6
LD>.L EM42225 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43225    ; SCON-2 現在位置（下位8bit）
ANL
ANB @MR2201
AND @MR010
AND MR23400              ; 除材搬送_θ軸_P1
ANP MR4713               ; MOVE SW
ANL
SET MR19405              ; RB9:Y軸　MOVE
MRD
LD MR14206               ; NR_除材搬送_Y軸_P7
OR MR13106               ; CR_除材搬送_Y軸_P7
LD>.L EM42228 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43228    ; SCON-2 現在位置（下位8bit）
ANL
ANB @MR2201
AND @MR010
AND MR23400              ; 除材搬送_θ軸_P1
ANP MR4713               ; MOVE SW
ANL
SET MR19405              ; RB9:Y軸　MOVE
MRD
LD MR14207               ; NR_除材搬送_Y軸_P8
OR MR13107               ; CR_除材搬送_Y軸_P8
LD>.L EM42231 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43231    ; SCON-2 現在位置（下位8bit）
ANL
ANB @MR2201
AND @MR010
AND MR23400              ; 除材搬送_θ軸_P1
ANP MR4713               ; MOVE SW
ANL
SET MR19405              ; RB9:Y軸　MOVE
MRD
LD MR14208               ; NR_除材搬送_Y軸_P9
OR MR13108               ; CR_除材搬送_Y軸_P9
LD>.L EM42234 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43234    ; SCON-2 現在位置（下位8bit）
ANL
ANB @MR2201
AND @MR010
AND MR23400              ; 除材搬送_θ軸_P1
ANP MR4713               ; MOVE SW
ANL
SET MR19405              ; RB9:Y軸　MOVE
MRD
LD MR14209               ; NR_除材搬送_Y軸_P10
OR MR13109               ; CR_除材搬送_Y軸_P10
LD>.L EM42237 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43237    ; SCON-2 現在位置（下位8bit）
ANL
ANB @MR2201
AND @MR010
AND MR23400              ; 除材搬送_θ軸_P1
ANP MR4713               ; MOVE SW
ANL
SET MR19405              ; RB9:Y軸　MOVE
MRD
LD MR14210               ; NR_除材搬送_Y軸_P11
OR MR13110               ; CR_除材搬送_Y軸_P11
LD>.L EM42240 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43240    ; SCON-2 現在位置（下位8bit）
ANL
ANB @MR2201
AND @MR010
AND MR23400              ; 除材搬送_θ軸_P1
ANP MR4713               ; MOVE SW
ANL
SET MR19405              ; RB9:Y軸　MOVE
MRD
LD MR14211               ; NR_除材搬送_Y軸_P12
OR MR13111               ; CR_除材搬送_Y軸_P12
LD MR23401               ; 除材搬送_θ軸_P2
OR MR23400               ; 除材搬送_θ軸_P1
ANL
LD>.L EM42243 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43243    ; SCON-2 現在位置（下位8bit）
ANL
ANB @MR2201
AND @MR010
ANP MR4713               ; MOVE SW
ANL
SET MR19405              ; RB9:Y軸　MOVE
MRD
LD MR14212               ; NR_除材搬送_Y軸_P13
OR MR13112               ; CR_除材搬送_Y軸_P13
LD>.L EM42246 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43246    ; SCON-2 現在位置（下位8bit）
ANL
ANB @MR2201
AND @MR010
AND MR23400              ; 除材搬送_θ軸_P1
ANP MR4713               ; MOVE SW
ANL
SET MR19405              ; RB9:Y軸　MOVE
MPP
LD MR14213               ; NR_除材搬送_Y軸_P14
OR MR13113               ; CR_除材搬送_Y軸_P14
LD>.L EM42249 DM10580    ; SCON-2 現在位置（下位8bit）
OR>.L DM10580 EM43249    ; SCON-2 現在位置（下位8bit）
ANL
ANB @MR2201
AND @MR010
AND MR23400              ; 除材搬送_θ軸_P1
ANP MR4713               ; MOVE SW
ANL
SET MR19405              ; RB9:Y軸　MOVE
;RB9 (除材Y軸) SCON ﾎﾟｲﾝﾄ算出
;EM2320.L = EM2240.L - EM2213.L
;EM2322.L = EM2320.L / 9
;EM2216.L = EM2213.L + (EM2322.L * 1 )
;EM2219.L = EM2213.L + (EM2322.L * 2 )
;EM2222.L = EM2213.L + (EM2322.L * 3 )
;EM2225.L = EM2213.L + (EM2322.L * 4 )
;EM2228.L = EM2213.L + (EM2322.L * 5 )
;EM2231.L = EM2213.L + (EM2322.L * 6 )
;EM2234.L = EM2213.L + (EM2322.L * 7 )
;EM2237.L = EM2213.L + (EM2322.L * 8 )
LD= DM3000 #1911         ; _MainTP　表示中ﾍﾟｰｼﾞNo
OR= DM3000 #1901         ; _MainTP　表示中ﾍﾟｰｼﾞNo
AND MR2908               ; 搬送Y軸RB原点復帰済み ﾗﾝﾌﾟ
ANP MR4310               ; ﾎﾟｼﾞｼｮﾝ計算SW
NCJ #1001
;EM2320.L = EM2240.L - EM2213.L
;
LD CR2002                ; 常時ON
LDA.L EM2240             ; RB9 P11 目標位置（下位bit）
CON
SUB.L EM2213             ; RB9 P2 目標位置（下位bit）
CON
STA.L EM2320
;EM2322.L = EM2320.L / 9
;
LD CR2002                ; 常時ON
LDA.L EM2320
CON
EXT.L
CON
DIV.L +9
CON
STA.L EM2322
;EM2216.L = EM2213.L + (EM2322.L * 1 )
;
LD CR2002                ; 常時ON
LDA.L EM2322
CON
MUL.L +1
CON
ADD.L EM2213             ; RB9 P2 目標位置（下位bit）
CON
STA.L EM2216             ; RB9 P3 目標位置（下位bit）
;EM2219.L = EM2213.L + (EM2322.L * 2 )
;
LD CR2002                ; 常時ON
LDA.L EM2322
CON
MUL.L +2
CON
ADD.L EM2213             ; RB9 P2 目標位置（下位bit）
CON
STA.L EM2219             ; RB9 P4 目標位置（下位bit）
;EM2222.L = EM2213.L + (EM2322.L * 3 )
;
LD CR2002                ; 常時ON
LDA.L EM2322
CON
MUL.L +3
CON
ADD.L EM2213             ; RB9 P2 目標位置（下位bit）
CON
STA.L EM2222             ; RB9 P5 目標位置（下位bit）
;EM2225.L = EM2213.L + (EM2322.L * 4 )
;
LD CR2002                ; 常時ON
LDA.L EM2322
CON
MUL.L +4
CON
ADD.L EM2213             ; RB9 P2 目標位置（下位bit）
CON
STA.L EM2225             ; RB9 P6 目標位置（下位bit）
;EM2228.L = EM2213.L + (EM2322.L * 5 )
;
LD CR2002                ; 常時ON
LDA.L EM2322
CON
MUL.L +5
CON
ADD.L EM2213             ; RB9 P2 目標位置（下位bit）
CON
STA.L EM2228             ; RB9 P7 目標位置（下位bit）
;EM2231.L = EM2213.L + (EM2322.L * 6 )
;
LD CR2002                ; 常時ON
LDA.L EM2322
CON
MUL.L +6
CON
ADD.L EM2213             ; RB9 P2 目標位置（下位bit）
CON
STA.L EM2231             ; RB9 P8 目標位置（下位bit）
;EM2234.L = EM2213.L + (EM2322.L * 7 )
;
LD CR2002                ; 常時ON
LDA.L EM2322
CON
MUL.L +7
CON
ADD.L EM2213             ; RB9 P2 目標位置（下位bit）
CON
STA.L EM2234             ; RB9 P9 目標位置（下位bit）
;EM2237.L = EM2213.L + (EM2322.L * 8 )
LD CR2002                ; 常時ON
LDA.L EM2322
CON
MUL.L +8
CON
ADD.L EM2213             ; RB9 P2 目標位置（下位bit）
CON
STA.L EM2237             ; RB9 P10 目標位置（下位bit）
LABEL #1001
;
;RB9 (除材Y軸) SCON ｱﾗｰﾑﾘｾｯﾄ
LDP MR19500              ; ｱﾗｰﾑﾘｾｯﾄ要求
SET MR19501              ; ｱﾗｰﾑﾘｾｯﾄ中
CON
SET MR19502
STG MR19502
RES MR19500              ; ｱﾗｰﾑﾘｾｯﾄ要求
CON
SET MR19409              ; RB9:ARMRST
CON
JMP MR19503
STG MR19503
AND MR19400              ; RB9:動作完了
RES MR19501              ; ｱﾗｰﾑﾘｾｯﾄ中
CON
RES MR19400              ; RB9:動作完了
CON
ENDS
LDP MR19409              ; RB9:ARMRST
ANB @MR3211
SET @MR3211
CON
SET @MR3210
STG @MR3210
BSET DM10787 #3          ; SCON-2 制御信号
CON
MPS
BANB DM10587 #3          ; SCON-2 状態信号
JMP @MR3213
MPP
BAND DM10587 #3          ; SCON-2 状態信号
TMH #850 #50             ; SCON-2_ｳｪｲﾄﾀｲﾏ
CON
AND T850                 ; SCON-2_ｳｪｲﾄﾀｲﾏ
JMP @MR3212
STG @MR3212
ZRES MR19500 MR19503     ; ｱﾗｰﾑﾘｾｯﾄ要求
CON
RES MR19409              ; RB9:ARMRST
CON
RES @MR3211
CON
SET @R607                ; SCON_Axis2 ｱﾗｰﾑ発生
CON
ENDS
STG @MR3213
MPS
BLDB DM10587 #3          ; SCON-2 状態信号
BAND DM10587 #4          ; SCON-2 状態信号
BAND DM10587 #14         ; SCON-2 状態信号
ANL
JMP @MR3214
MPP
BLD DM10587 #3           ; SCON-2 状態信号
BORB DM10587 #4          ; SCON-2 状態信号
BORB DM10587 #14         ; SCON-2 状態信号
ANL
TMR #851 #100            ; SCON-2_ｳｪｲﾄﾀｲﾏ
CON
AND T851                 ; SCON-2_ｳｪｲﾄﾀｲﾏ
JMP @MR3215
STG @MR3214
RES MR19409              ; RB9:ARMRST
CON
RES @MR3211
CON
SET MR19400              ; RB9:動作完了
CON
ENDS
STG @MR3215
ZRES MR19500 MR19503     ; ｱﾗｰﾑﾘｾｯﾄ要求
CON
RES MR19209              ; RB8:ARMRST
CON
RES @MR3011
CON
SET @R608                ; SCON_Axis2 ｱﾗｰﾑ発生
CON
ENDS
LD @R607                 ; SCON_Axis2 ｱﾗｰﾑ発生
OR @R608                 ; SCON_Axis2 ｱﾗｰﾑ発生
ANB MR19413              ; RB9:ｱﾗｰﾑ出力
ANB R39004               ; ｴﾗｰ中
SET @MR008               ; RB9ｱﾗｰﾑON
CON
SET R39004               ; ｴﾗｰ中
CON
DW #25 @DM1
CON
DW #1000 @DM9
CON
LDA DM60009
CON
STA @DM2
CON
SET @R100                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
SET @R614
STG @R614
ZRES @R607 @R608         ; SCON_Axis2 ｱﾗｰﾑ発生  SCON_Axis2 ｱﾗｰﾑ発生
CON
AND @R101
RES @R101
CON
DW #0 DM60009
CON
AND @R105                ; SW1
SET MR19500              ; ｱﾗｰﾑﾘｾｯﾄ要求
CON
JMP @R615
STG @R615
TMR #1982 #10
CON
AND T1982
RES @R100                ; SCON_Axis1 ｱﾗｰﾑ発生
CON
RES @MR008               ; RB9ｱﾗｰﾑON
CON
RES R39004               ; ｴﾗｰ中
CON
ENDS
;MyTask Error Process Substance/ｴﾗｰ処理実体
STG @R100                ; SCON_Axis1 ｱﾗｰﾑ発生
ANB R39002               ; ERROR_DISP Busy
MPS
ZRES @R105 @R108         ; SW1
CON
LDA @DM9
CON
TBCD
CON
STA @DM10
CON
DISN @DM10 @DM3 #4
MRD
LD @MR007                ; RB8ｱﾗｰﾑON
OR @MR008                ; RB9ｱﾗｰﾑON
ANL
DW #4 @DM0
CON
BMOV @DM0 DM60000 #7     ; TaskNo /ERROR_DISP
MPP
SET R39000               ; ERROR_DISP Start
CON
SET @R102
CON
JMP @R103
STG @R103
AND R39002               ; ERROR_DISP Busy
AND= DM60008 @DM1        ; ReturnNo /ERROR_DISP
AND= DM60007 @DM6        ; ReturnSW /ERROR_DISP
SET @R105                ; SW1
CON
JMP @R104
STG @R104
ANB R39002               ; ERROR_DISP Busy
RES @R102
CON
SET @R101
CON
ENDS
;
END
ENDH
