DEVICE:53
;MODULE:UNIT2-3_Transfar-1
;MODULE_TYPE:0
;<h1/>□入力受け
;関連する入力受け(ｾﾝｻのﾃﾞｨﾚｲﾀｲﾏ等)を必要があれば作成する。
;通常は入力ﾕﾆｯﾄに入力時定数(ﾃﾞｨﾚｲ)があるので直接使用しても問題は無い。
LD X02                   ; 安全扉正常
ANB B0320                ; 800)安全扉開
AND X04                  ; 書込み部ﾗｲﾄｶｰﾃﾝOUT1
OR M39                   ; ｴﾘｱｾﾝｻｰ解除ﾓｰﾄﾞ
TMR K201 K10             ; 搬送部安全OK
LDB T201                 ; 搬送部安全OK
TMR K209 K10             ; 搬送部安全開時間
LD X1022                 ; #02_RX002_ｻｰﾎﾞON状態
TMR K202 K50             ; ｻｰﾎﾞONﾀｲﾏ
LDPB Y2384               ; 搬送P&Pﾁｬｯｸ旋回旋回
AND X1234                ; 搬送P&Pﾁｬｯｸ旋回旋回端
ANB Y2385                ; 搬送P&Pﾁｬｯｸ旋回戻り
TMR K203 K5              ; 搬送P&Pﾁｬｯｸ旋回旋回端
LDPB Y2385               ; 搬送P&Pﾁｬｯｸ旋回戻り
AND X1235                ; 搬送P&Pﾁｬｯｸ旋回戻り端
ANB Y2384                ; 搬送P&Pﾁｬｯｸ旋回旋回
TMR K204 K5              ; 搬送P&Pﾁｬｯｸ旋回戻り端
LD X1165                 ; ﾁｬｯｸ1_開きSW
TMR K206 K10             ; ﾊﾝﾄﾞ1_開SWﾀｲﾏ
LD X116D                 ; ﾁｬｯｸ2_開きSW
TMR K207 K10             ; ﾊﾝﾄﾞ2_開SWﾀｲﾏ
LDPB Y2380               ; 搬送P&Pﾁｬｯｸ1閉
AND X1230                ; 搬送P&Pﾁｬｯｸ1閉端
TMR K220 K5              ; ﾊﾝﾄﾞ1ﾁｬｯｸ閉ONﾀｲﾏ
LDPB Y2381               ; 搬送P&Pﾁｬｯｸ1開
MPS
AND X1231                ; 搬送P&Pﾁｬｯｸ1開端
TMR K221 K5              ; ﾊﾝﾄﾞ1ﾁｬｯｸ開ONﾀｲﾏ
MPP
AND X1236                ; 搬送P&Pﾁｬｯｸ1閉時ﾜｰｸ確認
TMR K224 K15             ; 搬送P&Pﾁｬｯｸ1閉時ﾜｰｸ確認ﾀｲﾏ
LDPB Y2382               ; 搬送P&Pﾁｬｯｸ2閉
AND X1232                ; 搬送P&Pﾁｬｯｸ2閉端
TMR K222 K5              ; ﾊﾝﾄﾞ2閉端ONﾀｲﾏ
LDPB Y2383               ; 搬送P&Pﾁｬｯｸ2開
MPS
AND X1233                ; 搬送P&Pﾁｬｯｸ2開端
TMR K223 K5              ; ﾁｬｯｸ2開端ONﾀｲﾏ
MPP
AND X1237                ; 搬送P&Pﾁｬｯｸ2閉時ﾜｰｸ確認
TMR K225 K15             ; 搬送P&Pﾁｬｯｸ2閉時ﾜｰｸ確認ﾀｲﾏ
;<h1/>____□RB等機器入力受け
LD X102B                 ; #02_RX00B_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ実行状態
OR CR2002                ; 常時ON
MPS
AND X1030                ; #02_RX010_END_20
OUT M1801                ; RCX240動作完了
MPP
AND X1031                ; #02_RX011_BUSY_21
OUT M1802                ; RCX240動作中
LD X1023                 ; #02_RX003_ｱﾗｰﾑ状態
ORB X1028                ; #02_RX008_自動運転ﾓｰﾄﾞ状態
MEP
MOV K0 D1532             ; XY軸_動作完了NO.
MOV K0 D1536             ; Z軸_動作完了NO.
;XY軸分
LD M1730                 ; ﾕﾆｯﾄ1-3原点
MPS
AND= K9 D1532            ; XY軸_動作完了NO.
OUT M1820                ; XY_待機位置
MRD
AND= K1 D1532            ; XY軸_動作完了NO.
OUT M1821                ; XY_ﾜｰｸ受取位置
MRD
AND= K4 D1532            ; XY軸_動作完了NO.
OUT M1834                ; XY_X軸待機位置
MRD
AND= K5 D1532            ; XY軸_動作完了NO.
OUT M1835                ; XY_Y軸待機位置
MRD
AND= K10 D1532           ; XY軸_動作完了NO.
OUT M1822                ; XY_Hand1ST1ﾜｰｸ置き位置
MRD
AND= K11 D1532           ; XY軸_動作完了NO.
OUT M1823                ; XY_Hand2ST1ﾜｰｸ取り位置
MRD
AND= K12 D1532           ; XY軸_動作完了NO.
OUT M1836                ; XY_ST1前待機位置
MRD
AND= K15 D1532           ; XY軸_動作完了NO.
OUT M1824                ; XY_Hand1ST2ﾜｰｸ置き位置
MRD
AND= K16 D1532           ; XY軸_動作完了NO.
OUT M1825                ; XY_Hand2ST2ﾜｰｸ取り位置
MRD
AND= K17 D1532           ; XY軸_動作完了NO.
OUT M1837                ; XY_ST2前待機位置
MRD
AND= K20 D1532           ; XY軸_動作完了NO.
OUT M1826                ; XY_Hand1ST3ﾜｰｸ置き位置
MRD
AND= K21 D1532           ; XY軸_動作完了NO.
OUT M1827                ; XY_Hand2ST3ﾜｰｸ取り位置
MRD
AND= K22 D1532           ; XY軸_動作完了NO.
OUT M1838                ; XY_ST3前待機位置
MRD
AND= K25 D1532           ; XY軸_動作完了NO.
OUT M1828                ; XY_Hand1ST4ﾜｰｸ置き位置
MRD
AND= K26 D1532           ; XY軸_動作完了NO.
OUT M1829                ; XY_Hand2ST4ﾜｰｸ取り位置
MRD
AND= K27 D1532           ; XY軸_動作完了NO.
OUT M1839                ; XY_ST4前待機位置
MRD
AND= K30 D1532           ; XY軸_動作完了NO.
OUT M1830
MRD
AND= K31 D1532           ; XY軸_動作完了NO.
OUT M1831
MRD
AND= K35 D1532           ; XY軸_動作完了NO.
OUT M1832                ; XY_OKｺﾝﾍﾞﾔ位置
MPP
AND= K36 D1532           ; XY軸_動作完了NO.
OUT M1833                ; XY_NGｺﾝﾍﾞﾔ位置
LD M1730                 ; ﾕﾆｯﾄ1-3原点
MPS
LD= K109 D1536           ; Z軸_動作完了NO.
OR= K108 D1536           ; Z軸_動作完了NO.
OR= K999 D1536           ; Z軸_動作完了NO.
ANL
OUT M1840                ; Z_搬送高さ
MRD
AND= K107 D1536          ; Z軸_動作完了NO.
OUT M1854                ; Z_ｽﾃｰｼﾞ内回転OK高さ
MRD
AND= K101 D1536          ; Z軸_動作完了NO.
OUT M1841                ; Z_Hand1ﾜｰｸ受取高さ
MRD
AND= K110 D1536          ; Z軸_動作完了NO.
OUT M1842                ; Z_Hand1ST1ﾜｰｸ置高さ
MRD
AND= K111 D1536          ; Z軸_動作完了NO.
OUT M1843                ; Z_Hand2ST1ﾜｰｸ取高さ
MRD
AND= K115 D1536          ; Z軸_動作完了NO.
OUT M1844                ; Z_Hand1ST2ﾜｰｸ置高さ
MRD
AND= K116 D1536          ; Z軸_動作完了NO.
OUT M1845                ; Z_Hand2ST2ﾜｰｸ取高さ
MRD
AND= K120 D1536          ; Z軸_動作完了NO.
OUT M1846                ; Z_Hand1ST3ﾜｰｸ置高さ
MRD
AND= K121 D1536          ; Z軸_動作完了NO.
OUT M1847                ; Z_Hand2ST3ﾜｰｸ取高さ
MRD
AND= K125 D1536          ; Z軸_動作完了NO.
OUT M1848                ; Z_Hand1ST4ﾜｰｸ置高さ
MRD
AND= K126 D1536          ; Z軸_動作完了NO.
OUT M1849                ; Z_Hand2ST4ﾜｰｸ取高さ
MRD
AND= K130 D1536          ; Z軸_動作完了NO.
OUT M1850                ; Z_
MRD
AND= K131 D1536          ; Z軸_動作完了NO.
OUT M1851                ; Z_
MRD
AND= K135 D1536          ; Z軸_動作完了NO.
OUT M1852                ; Z_OKｺﾝﾍﾞﾔ高さ
MPP
AND= K136 D1536          ; Z軸_動作完了NO.
OUT M1853                ; Z_NGｺﾝﾍﾞﾔ高さ
;<h1/>□装置状態・動作条件
LD M1570                 ; ﾕﾆｯﾄ2-1原点
AND M1730                ; ﾕﾆｯﾄ1-3原点
OUT M1980                ; 搬送ST1_原点
;□ 非常停止
LDB M1571                ; ﾕﾆｯﾄ2-1全異常(即停止)
ANB M1731                ; ﾕﾆｯﾄ1-3全異常
INV
OUT M1981                ; ﾕﾆｯﾄ2即停止異常
;□ 起動条件
LD CR2003                ; 常時OFF
OUT M1982                ; ﾕﾆｯﾄ2起動条件
;□ 起動OFF
LDB M50                  ; 運転準備
LD M60                   ; ｴﾗｰ発生
OR M52                   ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
AND M1984                ; ﾕﾆｯﾄ2原点復帰中
ORL
OR T15                   ; 強制停止
OUT M1983                ; ﾕﾆｯﾄ2起動OFF
;□ 原点復帰
LD M82                   ; 原点復帰開始
ANB M1984                ; ﾕﾆｯﾄ2原点復帰中
OR M1984                 ; ﾕﾆｯﾄ2原点復帰中
ANB M1983                ; ﾕﾆｯﾄ2起動OFF
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
ANB M1797                ; STEP47
OUT M1984                ; ﾕﾆｯﾄ2原点復帰中
;□ 起動中
LDB M1574                ; ﾕﾆｯﾄ2-1起動中
LDB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
OR CR2002                ; 常時ON
ANL
INV
OUT M1985                ; ﾕﾆｯﾄ2起動中
;□ ｻｲｸﾙ停止異常
LDB M1575                ; ﾕﾆｯﾄ2-1ｻｲｸﾙ停止異常
ANB M1735                ; ﾕﾆｯﾄ1-3ｻｲｸﾙ停止異常
INV
OUT M1986                ; ﾕﾆｯﾄ2ｻｲｸﾙ停止異常
;□ 払出停止異常
LDB CR2003               ; 常時OFF
INV
OUT M1987                ; ﾕﾆｯﾄ2払出停止異常
;□ 警報補助
LDB B052                 ; 082)
INV
OUT M1988                ; ﾕﾆｯﾄ2警報補助
;□ 機器準備確認
LD X1022                 ; #02_RX002_ｻｰﾎﾞON状態
AND X1021                ; #02_RX001_CPU_OK状態
AND X300                 ; STﾜｰｸ搬送ﾛﾎﾞｯﾄ主電源投入準備完了
OUT M1990                ; ﾕﾆｯﾄ2機器準備完了
;□ ｴﾗｰ発生　一時停止
LDB M1576                ; ﾕﾆｯﾄ2-1ｴﾗｰ発生
ANB M1736                ; ﾕﾆｯﾄ1-3ｴﾗｰ発生
ANB B0324                ; 804)搬送ﾜｰｸ除去要求
ANB B046                 ; 070)ﾊﾝﾄﾞ傾き異常
ANB B051                 ; 081)RCX240_ABSﾘｾｯﾄ要求
INV
OUT M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
;□ 動作中ﾕﾆｯﾄ無し
LD M1577                 ; ﾕﾆｯﾄ2-1動作無し
AND M1737                ; ﾕﾆｯﾄ1-3動作無し
OUT M1992                ; ﾕﾆｯﾄ2動作無し確認
;□ 払出しﾜｰｸ無し
LD M1138                 ; 供給CV払い出し終了完了
ANB D1701.0
ANB D1801.0
ANB D4201.0
ANB D5201.0
ANB D6201.0
ANB D7201.0
AND M36                  ; 払出ﾓｰﾄﾞ
TMR K214 K0              ; 払出しﾜｰｸ無し
LD T214                  ; 払出しﾜｰｸ無し
OUT M1993                ; ﾕﾆｯﾄ2ﾜｰｸ無し(払出時)
;□ ｽﾃｯﾌﾟ起動
LD M30                   ; 自動ﾓｰﾄﾞ
OR M31                   ; 手動ﾓｰﾄﾞ
AND T201                 ; 搬送部安全OK
ANB M130                 ; 一時停止
ANB M51                  ; 即停止異常(緊急停止)
ANB M52                  ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
ANB M57                  ; 自動起動停止指令(払出停止)
ANB M59                  ; 払出停止異常まとめ
ANB M60                  ; ｴﾗｰ発生
OUT M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
;<h1/>□UNIT_2_自動回路
;<h1/>__□ﾕﾆｯﾄ2-1状態・動作条件(補助)
LD M1840                 ; Z_搬送高さ
LD M1835                 ; XY_Y軸待機位置
OR M1820                 ; XY_待機位置
OR M1836                 ; XY_ST1前待機位置
OR M1837                 ; XY_ST2前待機位置
OR M1838                 ; XY_ST3前待機位置
OR M1839                 ; XY_ST4前待機位置
ANL
LD T203                  ; 搬送P&Pﾁｬｯｸ旋回旋回端
AND M41                  ; 全ﾕﾆｯﾄ起動中
OR T204                  ; 搬送P&Pﾁｬｯｸ旋回戻り端
ANL
LD X1231                 ; 搬送P&Pﾁｬｯｸ1開端
LD M1659                 ; 初期起動時ﾊﾝﾄﾞ確認完了
LD M35                   ; 空運転ﾓｰﾄﾞ
AND X1230                ; 搬送P&Pﾁｬｯｸ1閉端
OR X1236                 ; 搬送P&Pﾁｬｯｸ1閉時ﾜｰｸ確認
ANL
ORL
ANL
LD X1233                 ; 搬送P&Pﾁｬｯｸ2開端
LD M1659                 ; 初期起動時ﾊﾝﾄﾞ確認完了
LD M35                   ; 空運転ﾓｰﾄﾞ
AND X1232                ; 搬送P&Pﾁｬｯｸ2閉端
OR X1237                 ; 搬送P&Pﾁｬｯｸ2閉時ﾜｰｸ確認
ANL
ORL
ANL
LD= D1701 K0             ; 搬送Hand1_有無記憶
AND= D1801 K0            ; 搬送Hand2_有無記憶
OR M1659                 ; 初期起動時ﾊﾝﾄﾞ確認完了
ANL
AND M1995                ; ﾊﾝﾄﾞ傾き確認結果OK記憶
OUT M1570                ; ﾕﾆｯﾄ2-1原点
LDB B040                 ; 064)RCX240異常
ANB B044                 ; 068)ﾊﾝﾄﾞ1_ﾁｬｯｸ空振り異常
ANB B045                 ; 069)ﾊﾝﾄﾞ2_ﾁｬｯｸ空振り異常
ANB B022                 ; 034)供給部ﾜｰｸ受渡し失敗
ANB B042                 ; 066)ﾍｯﾄﾞ2_ST1基板ﾁｬｯｸﾐｽ
ANB B043                 ; 067)ﾍｯﾄﾞ2_ST2基板ﾁｬｯｸﾐｽ
ANB B048                 ; 072)ﾊﾝﾄﾞ2_ST3基板ﾁｬｯｸﾐｽ
ANB B049                 ; 073)ﾊﾝﾄﾞ2_ST4基板ﾁｬｯｸﾐｽ
ANB B04E                 ; 078)ﾜｰｸ情報異常
ANB B060                 ; 096)Hand旋回CLS異常
ANB B061                 ; 097)Hand1ﾁｬｯｸ開閉CLS異常
ANB B062                 ; 098)Hand2ﾁｬｯｸ開閉CLS異常
ANB B064                 ; 100)ﾊﾝﾄﾞ回転指令異常
INV
OUT M1571                ; ﾕﾆｯﾄ2-1全異常(即停止)
LD M1570                 ; ﾕﾆｯﾄ2-1原点
ANB M1574                ; ﾕﾆｯﾄ2-1起動中
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ANB M1578                ; ﾕﾆｯﾄ2-1ｻｲｸﾙ停止完了
OUT M1572                ; ﾕﾆｯﾄ2-1起動条件
LDB M50                  ; 運転準備
OR M1986                 ; ﾕﾆｯﾄ2ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M1573                ; ﾕﾆｯﾄ2-1起動OFF
LD M73                   ; 各工程起動指令
AND M1572                ; ﾕﾆｯﾄ2-1起動条件
OR M1574                 ; ﾕﾆｯﾄ2-1起動中
ANB M1573                ; ﾕﾆｯﾄ2-1起動OFF
ANB M1563                ; STEP63
OUT M1574                ; ﾕﾆｯﾄ2-1起動中
;ﾕﾆｯﾄ1-1 ｻｲｸﾙ停止異常
LDB B063                 ; 099)チャック閉確認不可異常
INV
OUT M1575                ; ﾕﾆｯﾄ2-1ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-1 ｴﾗｰ発生まとめ(一時停止)
LDB B042                 ; 066)ﾍｯﾄﾞ2_ST1基板ﾁｬｯｸﾐｽ
ANB B043                 ; 067)ﾍｯﾄﾞ2_ST2基板ﾁｬｯｸﾐｽ
ANB B048                 ; 072)ﾊﾝﾄﾞ2_ST3基板ﾁｬｯｸﾐｽ
ANB B049                 ; 073)ﾊﾝﾄﾞ2_ST4基板ﾁｬｯｸﾐｽ
ANB B0323                ; 803)FLASHｽﾃｰｼﾞ無効状態
ANB B04A                 ; 074)Please remove ST1 Fixture
ANB B04B                 ; 075)Please remove ST2 Fixture
ANB B04C                 ; 076)Please remove ST3 Fixture
ANB B04D                 ; 077)Please remove ST4 Fixture
INV
OUT M1576                ; ﾕﾆｯﾄ2-1ｴﾗｰ発生
;ﾕﾆｯﾄ1-1 停止判定
LD= D1500 D1505          ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ2-1動作中判定
ORB M1574                ; ﾕﾆｯﾄ2-1起動中
TMR K210 K20             ; ﾕﾆｯﾄ2動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D1500 D1505          ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ2-1動作中判定
LD T210                  ; ﾕﾆｯﾄ2動作無し判定ﾀｲﾏ
OUT M1577                ; ﾕﾆｯﾄ2-1動作無し
;□
;□　ﾕﾆｯﾄ1-1 自動運転ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M1500 K4         ; U2-1_S0_ﾁｬｯｸ開閉確認
FMOV K0 M2000 K16        ; U2-S500_FIFO読出ﾌﾗｸﾞﾘｾｯﾄ
LDB M1574                ; ﾕﾆｯﾄ2-1起動中
@MOV D1500 D1504         ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ2-1自動運転終了ｽﾃｯﾌﾟ
MOV K0 D1500             ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1574                 ; ﾕﾆｯﾄ2-1起動中
MOV D1500 Z1             ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
SET M1500:Z1             ; U2-1_S0_ﾁｬｯｸ開閉確認
;　ｻｲｸﾙ開始
LD M1500                 ; U2-1_S0_ﾁｬｯｸ開閉確認
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MPS
AND M1659                ; 初期起動時ﾊﾝﾄﾞ確認完了
MOV K1 D1500             ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
ANB M1659                ; 初期起動時ﾊﾝﾄﾞ確認完了
MOV K720 D1500           ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;<h1/>__■/S720_ﾁｬｯｸ正常動作確認
LD M2220                 ; U2-S720_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　ﾊﾝﾄﾞﾁｬｯｸ確認動作中
LD M2221                 ; U2-S721_ﾁｬｯｸ閉指令
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND Y2380                ; 搬送P&Pﾁｬｯｸ1閉
MPS
LD M2270                 ; ﾊﾝﾄﾞ1_ﾜｰｸﾁｬｯｸｾﾝｻOK確認
AND M2275                ; ﾊﾝﾄﾞ2_ﾜｰｸﾁｬｯｸｾﾝｻOK確認
AND T220                 ; ﾊﾝﾄﾞ1ﾁｬｯｸ閉ONﾀｲﾏ
AND T222                 ; ﾊﾝﾄﾞ2閉端ONﾀｲﾏ
ANL
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MRD
LD B061                  ; 097)Hand1ﾁｬｯｸ開閉CLS異常
OR B062                  ; 098)Hand2ﾁｬｯｸ開閉CLS異常
OR T205                  ; ﾊﾝﾄﾞｾﾝｻ確認ﾀｲﾑｱｳﾄ
ANL
MOV K725 D1500           ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
TMR K205 K15             ; ﾊﾝﾄﾞｾﾝｻ確認ﾀｲﾑｱｳﾄ
;　　	ﾊﾝﾄﾞ1側ﾁｬｯｸｾﾝｻｰ確認
LD M2221                 ; U2-S721_ﾁｬｯｸ閉指令
MPS
LD X1236                 ; 搬送P&Pﾁｬｯｸ1閉時ﾜｰｸ確認
OR M2271                 ; ﾊﾝﾄﾞ1_ﾜｰｸﾁｬｯｸｾﾝｻON確認
ANL
OUT M2271                ; ﾊﾝﾄﾞ1_ﾜｰｸﾁｬｯｸｾﾝｻON確認
MRD
LD M2271                 ; ﾊﾝﾄﾞ1_ﾜｰｸﾁｬｯｸｾﾝｻON確認
ANB X1236                ; 搬送P&Pﾁｬｯｸ1閉時ﾜｰｸ確認
OR M2272                 ; ﾊﾝﾄﾞ1_ﾜｰｸﾁｬｯｸｾﾝｻOFF確認
ANL
OUT M2272                ; ﾊﾝﾄﾞ1_ﾜｰｸﾁｬｯｸｾﾝｻOFF確認
MPP
LD M2272                 ; ﾊﾝﾄﾞ1_ﾜｰｸﾁｬｯｸｾﾝｻOFF確認
AND T220                 ; ﾊﾝﾄﾞ1ﾁｬｯｸ閉ONﾀｲﾏ
OR M2270                 ; ﾊﾝﾄﾞ1_ﾜｰｸﾁｬｯｸｾﾝｻOK確認
ANL
OUT M2270                ; ﾊﾝﾄﾞ1_ﾜｰｸﾁｬｯｸｾﾝｻOK確認
;　　	ﾊﾝﾄﾞ2側ﾁｬｯｸｾﾝｻｰ確認
LD M2221                 ; U2-S721_ﾁｬｯｸ閉指令
MPS
LD X1237                 ; 搬送P&Pﾁｬｯｸ2閉時ﾜｰｸ確認
OR M2276                 ; ﾊﾝﾄﾞ2_ﾜｰｸﾁｬｯｸｾﾝｻON確認
ANL
OUT M2276                ; ﾊﾝﾄﾞ2_ﾜｰｸﾁｬｯｸｾﾝｻON確認
MRD
LD M2276                 ; ﾊﾝﾄﾞ2_ﾜｰｸﾁｬｯｸｾﾝｻON確認
ANB X1237                ; 搬送P&Pﾁｬｯｸ2閉時ﾜｰｸ確認
OR M2277                 ; ﾊﾝﾄﾞ2_ﾜｰｸﾁｬｯｸｾﾝｻOFF確認
ANL
OUT M2277                ; ﾊﾝﾄﾞ2_ﾜｰｸﾁｬｯｸｾﾝｻOFF確認
MPP
LD M2277                 ; ﾊﾝﾄﾞ2_ﾜｰｸﾁｬｯｸｾﾝｻOFF確認
AND T220                 ; ﾊﾝﾄﾞ1ﾁｬｯｸ閉ONﾀｲﾏ
OR M2275                 ; ﾊﾝﾄﾞ2_ﾜｰｸﾁｬｯｸｾﾝｻOK確認
ANL
OUT M2275                ; ﾊﾝﾄﾞ2_ﾜｰｸﾁｬｯｸｾﾝｻOK確認
LD M2222                 ; U2-S722_ﾁｬｯｸ開指令
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND Y2381                ; 搬送P&Pﾁｬｯｸ1開
AND Y2383                ; 搬送P&Pﾁｬｯｸ2開
AND X1231                ; 搬送P&Pﾁｬｯｸ1開端
AND X1233                ; 搬送P&Pﾁｬｯｸ2開端
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2223                 ; U2-S723_ﾁｬｯｸ開閉確認記憶
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1659                ; 初期起動時ﾊﾝﾄﾞ確認完了
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2223                 ; U2-S723_ﾁｬｯｸ開閉確認記憶
OR M1659                 ; 初期起動時ﾊﾝﾄﾞ確認完了
AND M41                  ; 全ﾕﾆｯﾄ起動中
OUT M1659                ; 初期起動時ﾊﾝﾄﾞ確認完了
LD M2224                 ; U2-S724_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MOV K0 D1500             ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　チャック開閉確認できない場合
LD M2225                 ; U2-S725_チャック閉確認不可異常
AND T201                 ; 搬送部安全OK
AND B063                 ; 099)チャック閉確認不可異常
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2226                 ; U2-S726_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ANB B063                 ; 099)チャック閉確認不可異常
MOV K63 D1500            ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;<h1/>__■/S1_ﾜｰｸ受取確認分岐
LD M1501                 ; U2-1_S1
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MPS
AND= D1701 K0            ; 搬送Hand1_有無記憶
MPS
AND M1410                ; 供給→搬送RB_受渡しFLG
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
ANB M1410                ; 供給→搬送RB_受渡しFLG
MOV K30 D1500            ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
AND= D1701 K1            ; 搬送Hand1_有無記憶
MOV K30 D1500            ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;<h1/>____■/S2_給材ｽﾗｲﾀﾞ_ﾜｰｸ受取位置へ
LD M1502                 ; U2-1_S2
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MPS
MOV D1316 D1520          ; CV_渡部_搬送ﾛﾎﾞｯﾄNo.  RB2_RBNo.
MPP
AND<> D1520 K0           ; RB2_RBNo.
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1503                 ; U2-1_S3
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1840                ; Z_搬送高さ
AND M1871                ; XY_ﾜｰｸ受取位置移動_OK
MPS
MOV K1 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
MPP
AND= K1 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1504                 ; U2-1_S4_供給部ﾜｰｸ取位置移動指令
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1505                 ; U2-1_S5_ﾊﾝﾄﾞ1側回転指令(供ｽﾗ受)
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1821                ; XY_ﾜｰｸ受取位置
AND Y2385                ; 搬送P&Pﾁｬｯｸ旋回戻り
AND T204                 ; 搬送P&Pﾁｬｯｸ旋回戻り端
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1506                 ; U2-1_S6_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　Z軸受取位置移動
LD M1507                 ; U2-1_S7_受取先ﾜｰｸ確認
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1891                ; Z_Hand1ﾜｰｸ受取高さ移動_OK
LD M1451                 ; RB1_ｺｰﾄﾞﾘｰﾀﾞｰ位置_P-D1031
OR M1452                 ; RB1_待機位置_P1
ANL
AND= D1301 K1            ; CV_渡部_有無記憶
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1508                 ; U2-1_S8
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MPS
MOV K101 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
MPP
AND= K101 D1534          ; RB2_Z軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1509                 ; U2-1_S9_Z軸ﾜｰｸ受取高さ移動指令
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1510                 ; U2-1_S10
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1841                ; Z_Hand1ﾜｰｸ受取高さ
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　下降後ﾊﾝﾄﾞ1ﾁｬｯｸ閉
LD M1511                 ; U2-1_S11_ﾊﾝﾄﾞ1_ﾁｬｯｸ閉指令
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND Y2380                ; 搬送P&Pﾁｬｯｸ1閉
MPS
LD T224                  ; 搬送P&Pﾁｬｯｸ1閉時ﾜｰｸ確認ﾀｲﾏ
LD M35                   ; 空運転ﾓｰﾄﾞ
AND T220                 ; ﾊﾝﾄﾞ1ﾁｬｯｸ閉ONﾀｲﾏ
ORL
ANL
MOV K14 D1500            ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
LD B044                  ; 068)ﾊﾝﾄﾞ1_ﾁｬｯｸ空振り異常
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;	ﾁｬｯｸﾐｽ時は、即停止する。
LD M1512                 ; U2-1_S12_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1513                 ; U2-1_S13_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MOV K63 D1500            ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　Z軸上昇
LD M1514                 ; U2-1_S14
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1890                ; Z_搬送高さ移動_OK
MPS
MOV K109 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
MPP
AND= K109 D1534          ; RB2_Z軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1515                 ; U2-1_S15_Z軸上昇指令
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　供給部へ受け取りOK
LD M1516                 ; U2-1_S16
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1840                ; Z_搬送高さ
MPS
ANB M1410                ; 供給→搬送RB_受渡しFLG
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
OUT M2300                ; 搬送→供給受取り完了
;　　z軸上昇後ﾜｰｸ受取確認
;　　OK→Step21
;　　NG→ﾁｬｯｸﾐｽ(ｺﾝﾍﾞﾔにﾜｰｸ置き去り)
LD M1517                 ; U2-1_S17
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MPS
ANB T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
MOV K21 D1500            ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
AND T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　NG→ﾁｬｯｸﾐｽは非常停止扱いｴﾗｰ
LD M1518                 ; U2-1_S18_供給部ｱﾗｰﾑ発報待ち
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND B022                 ; 034)供給部ﾜｰｸ受渡し失敗
MOV K63 D1500            ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;	ﾃﾞｰﾀをｼﾌﾄ(Supply CV -> RB2 )
LD M1521                 ; U2-1_S21_
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
@BMOV D1300 D1700 K100   ; CV_渡部_INDEX NO.  搬送Hand1_INDEX NO.
@FMOV K0 D1300 K100      ; CV_渡部_INDEX NO.
@MOV K1 D1701            ; 搬送Hand1_有無記憶
;PCへﾃﾞｰﾀ送信
LD M1522                 ; U2-1_S22_PCへﾃﾞｰﾀ送信
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1523                 ; U2-1_S23_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　y待機位置へ移動
LD M1524                 ; U2-1_S24_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1840                ; Z_搬送高さ
AND M1870                ; XY_待機位置移動_OK
MPS
MOV K5 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
MPP
AND= K5 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1525                 ; U2-1_S25_XY待機位置移動指令
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1526                 ; U2-1_S26
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1835                ; XY_Y軸待機位置
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　先行動作分岐
LDB L700                 ; ﾌﾗｯｼｭst1_有効状態
ANB L900                 ; ﾌﾗｯｼｭst2_有効状態
ANB L1100                ; ﾌﾗｯｼｭst3_有効状態
ANB L1300                ; ﾌﾗｯｼｭst4_有効状態
INV
OUT M2295                ; 有効ｽﾃｰｼﾞ有
LD M2281                 ; ST1_ﾜｰｸ有
ANB M4422                ; ﾌﾗｯｼｭST1_ﾜｰｸ除去要求
ORB L700                 ; ﾌﾗｯｼｭst1_有効状態
LD M2282                 ; ST2_ﾜｰｸ有
ANB M5422                ; ﾌﾗｯｼｭST2_ﾜｰｸ除去要求
ORB L900                 ; ﾌﾗｯｼｭst2_有効状態
ANL
LD M2283                 ; ST3_ﾜｰｸ有
ANB M6422                ; ﾌﾗｯｼｭST3_ﾜｰｸ除去要求
ORB L1100                ; ﾌﾗｯｼｭst3_有効状態
ANL
LD M2284                 ; ST4_ﾜｰｸ有
ANB M7422                ; ﾌﾗｯｼｭST4_ﾜｰｸ除去要求
ORB L1300                ; ﾌﾗｯｼｭst4_有効状態
ANL
AND M2295                ; 有効ｽﾃｰｼﾞ有
OUT M2294                ; 先行動作条件
LD M1527                 ; U2-1_S27
MPS
AND M2294                ; 先行動作条件
MOV K600 D1500           ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
ANB M2294                ; 先行動作条件
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;		▼ｻｲｸﾙ停止し、条件分岐待ち
LD M1528                 ; U2-1_S28
MOV K63 D1500            ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;<h1/>______/S600_先行排出動作
LD M2100                 ; U2-S600_
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　先行動作処理
LD M71                   ; 自動運転開始BZ
@FMOV K0 D1550 K5        ; 先行待ち動作STNO.
;　　ｽﾃｰｼﾞ優先順位書込み
LD= D4201 K1             ; FlashST1_ﾜｰｸ有無記憶
OUT M2281                ; ST1_ﾜｰｸ有
LD= D5201 K1             ; FlashST2_ﾜｰｸ有無記憶
OUT M2282                ; ST2_ﾜｰｸ有
LD= D6201 K1             ; FlashST3_ﾜｰｸ有無記憶
OUT M2283                ; ST3_ﾜｰｸ有
LD= D7201 K1             ; FlashST4_ﾜｰｸ有無記憶
OUT M2284                ; ST4_ﾜｰｸ有
LDP M2281                ; ST1_ﾜｰｸ有
ORP M2282                ; ST2_ﾜｰｸ有
ORP M2283                ; ST3_ﾜｰｸ有
ORP M2284                ; ST4_ﾜｰｸ有
MOV K0 D1550             ; 先行待ち動作STNO.
MPS
AND M2281                ; ST1_ﾜｰｸ有
INC D1551                ; ST1投入優先順位
MRD
AND M2282                ; ST2_ﾜｰｸ有
INC D1552                ; ST2投入優先順位
MRD
AND M2283                ; ST3_ﾜｰｸ有
INC D1553                ; ST3投入優先順位
MPP
AND M2284                ; ST4_ﾜｰｸ有
INC D1554                ; ST4投入優先順位
LD CR2002                ; 常時ON
MPS
MAX D1551 K4             ; ST1投入優先順位
CON
STA D1550                ; 先行待ち動作STNO.
MRD
LD= D1551 D1550          ; ST1投入優先順位  先行待ち動作STNO.
AND<> D1551 K0           ; ST1投入優先順位
ANL
OUT M2285                ; ST1へ先行動作
MRD
LD= D1552 D1550          ; ST2投入優先順位  先行待ち動作STNO.
AND<> D1552 K0           ; ST2投入優先順位
ANL
OUT M2286                ; ST2へ先行動作
MRD
LD= D1553 D1550          ; ST3投入優先順位  先行待ち動作STNO.
AND<> D1553 K0           ; ST3投入優先順位
ANL
OUT M2287                ; ST3へ先行動作
MPP
LD= D1554 D1550          ; ST4投入優先順位  先行待ち動作STNO.
AND<> D1554 K0           ; ST4投入優先順位
ANL
OUT M2288                ; ST4へ先行動作
LD M71                   ; 自動運転開始BZ
MPS
AND= D4201 K0            ; FlashST1_ﾜｰｸ有無記憶
@MOV K0 D1551            ; ST1投入優先順位
MRD
AND= D5201 K0            ; FlashST2_ﾜｰｸ有無記憶
@MOV K0 D1552            ; ST2投入優先順位
MRD
AND= D6201 K0            ; FlashST3_ﾜｰｸ有無記憶
@MOV K0 D1553            ; ST3投入優先順位
MPP
AND= D7201 K0            ; FlashST4_ﾜｰｸ有無記憶
@MOV K0 D1554            ; ST4投入優先順位
LD M2101                 ; U2-S601_先行動作先決定ﾌﾗｸﾞ
AND M2285                ; ST1へ先行動作
OR M2290                 ; ST1へ先行動作flg
AND M1574                ; ﾕﾆｯﾄ2-1起動中
OUT M2290                ; ST1へ先行動作flg
LD M2101                 ; U2-S601_先行動作先決定ﾌﾗｸﾞ
AND M2286                ; ST2へ先行動作
OR M2291                 ; ST2へ先行動作flg
AND M1574                ; ﾕﾆｯﾄ2-1起動中
ANB M2290                ; ST1へ先行動作flg
OUT M2291                ; ST2へ先行動作flg
LD M2101                 ; U2-S601_先行動作先決定ﾌﾗｸﾞ
AND M2287                ; ST3へ先行動作
OR M2292                 ; ST3へ先行動作flg
AND M1574                ; ﾕﾆｯﾄ2-1起動中
ANB M2290                ; ST1へ先行動作flg
ANB M2291                ; ST2へ先行動作flg
OUT M2292                ; ST3へ先行動作flg
LD M2101                 ; U2-S601_先行動作先決定ﾌﾗｸﾞ
AND M2288                ; ST4へ先行動作
OR M2293                 ; ST4へ先行動作flg
AND M1574                ; ﾕﾆｯﾄ2-1起動中
ANB M2290                ; ST1へ先行動作flg
ANB M2291                ; ST2へ先行動作flg
ANB M2292                ; ST3へ先行動作flg
OUT M2293                ; ST4へ先行動作flg
LDB M2290                ; ST1へ先行動作flg
ANB M2291                ; ST2へ先行動作flg
ANB M2292                ; ST3へ先行動作flg
ANB M2293                ; ST4へ先行動作flg
INV
AND M2101                ; U2-S601_先行動作先決定ﾌﾗｸﾞ
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2102                 ; U2-S602_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1840                ; Z_搬送高さ
AND M1870                ; XY_待機位置移動_OK
MPS
AND M2285                ; ST1へ先行動作
MPS
AND= K12 D1530           ; RB2_XY軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K12 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
AND M2286                ; ST2へ先行動作
MPS
AND= K17 D1530           ; RB2_XY軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K17 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
AND M2287                ; ST3へ先行動作
MPS
AND= K22 D1530           ; RB2_XY軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K22 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
MPP
AND M2288                ; ST4へ先行動作
MPS
AND= K27 D1530           ; RB2_XY軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K27 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
LD M2103                 ; U2-S603_XYｽﾃｰｼﾞ前位置移動
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2104                 ; U2-S604_ﾊﾝﾄﾞ2側へ回転(先行動作)
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
LD M2285                 ; ST1へ先行動作
AND M1836                ; XY_ST1前待機位置
LD M2286                 ; ST2へ先行動作
AND M1837                ; XY_ST2前待機位置
ORL
LD M2287                 ; ST3へ先行動作
AND M1838                ; XY_ST3前待機位置
ORL
LD M2288                 ; ST4へ先行動作
AND M1839                ; XY_ST4前待機位置
ORL
ANL
AND Y2384                ; 搬送P&Pﾁｬｯｸ旋回旋回
AND T203                 ; 搬送P&Pﾁｬｯｸ旋回旋回端
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2105                 ; U2-S605_
MPS
LD M2285                 ; ST1へ先行動作
AND<> D4203 K0           ; FlashST1_Flash書込み結果(1=OK_2=
LD M2286                 ; ST2へ先行動作
AND<> D5203 K0           ; FlashST2_Flash書込み結果(1=OK_2=
ORL
LD M2287                 ; ST3へ先行動作
AND<> D6203 K0           ; FlashST3_Flash書込み結果(1=OK_2=
ORL
LD M2288                 ; ST4へ先行動作
AND<> D7203 K0           ; FlashST4_Flash書込み結果(1=OK_2=
ORL
ANL
OUT M2296                ; 先行動作先書込み完了
MRD
ANB M2296                ; 先行動作先書込み完了
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
AND M2296                ; 先行動作先書込み完了
MOV K63 D1500            ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2106                 ; U2-S606_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1890                ; Z_搬送高さ移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
MPS
MOV K108 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
MPP
AND= K108 D1534          ; RB2_Z軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2107                 ; U2-S607_搬送前待機位置へ移動指令
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2108                 ; U2-S608_
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1840                ; Z_搬送高さ
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2109                 ; U2-S609_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MOV K63 D1500            ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;<h1/>__■/S30_ﾜｰｸ搬送条件処理
;<h1/>____▼_ﾌﾗｯｼｭst給材要求ﾁｪｯｸ
;　　最小書込み回数のｽﾃｰｼﾞ抽出
LD M1530                 ; U2-1_S30_Flashst給材要求ﾁｪｯｸ
@DW K0 Z3
MPS
AND M4420                ; ﾌﾗｯｼｭST1_ﾜｰｸ供給要求→搬送
@MOV D4020 D1570:Z3      ; ST1_flash書込み回数  書込み回数
@INC Z3
MRD
AND M5420                ; ﾌﾗｯｼｭST2_ﾜｰｸ供給要求→搬送
@MOV D5020 D1570:Z3      ; ﾌﾗｯｼｭST2_書込み回数  書込み回数
@INC Z3
MRD
AND M6420                ; ﾌﾗｯｼｭST3_ﾜｰｸ供給要求→搬送
@MOV D6020 D1570:Z3      ; ﾌﾗｯｼｭST3_書込み回数  書込み回数
@INC Z3
MRD
AND M7420                ; ﾌﾗｯｼｭST4_ﾜｰｸ供給要求→搬送
@MOV D7020 D1570:Z3      ; ﾌﾗｯｼｭST4_書込み回数  書込み回数
@INC Z3
MPP
AND<> Z3 K0
@MIN D1570 Z3            ; 書込み回数
CON
@STA D1580               ; ﾌﾗｯｼｭ最小書込みｽﾃｰｼﾞ
LD M1530                 ; U2-1_S30_Flashst給材要求ﾁｪｯｸ
MPS
LD M4420                 ; ﾌﾗｯｼｭST1_ﾜｰｸ供給要求→搬送
AND= D4020 D1580         ; ST1_flash書込み回数  ﾌﾗｯｼｭ最小書込みｽﾃｰｼﾞ
ANL
OUT M2320                ; ST1_書込み優先FLG
MRD
LD M5420                 ; ﾌﾗｯｼｭST2_ﾜｰｸ供給要求→搬送
AND= D5020 D1580         ; ﾌﾗｯｼｭST2_書込み回数  ﾌﾗｯｼｭ最小書込みｽﾃｰｼﾞ
ANL
OUT M2321                ; ST2_書込み優先FLG
MRD
LD M6420                 ; ﾌﾗｯｼｭST3_ﾜｰｸ供給要求→搬送
AND= D6020 D1580         ; ﾌﾗｯｼｭST3_書込み回数  ﾌﾗｯｼｭ最小書込みｽﾃｰｼﾞ
ANL
OUT M2322                ; ST3_書込み優先FLG
MPP
LD M7420                 ; ﾌﾗｯｼｭST4_ﾜｰｸ供給要求→搬送
AND= D7020 D1580         ; ﾌﾗｯｼｭST4_書込み回数  ﾌﾗｯｼｭ最小書込みｽﾃｰｼﾞ
ANL
OUT M2323                ; ST4_書込み優先FLG
LD M1530                 ; U2-1_S30_Flashst給材要求ﾁｪｯｸ
AND M2320                ; ST1_書込み優先FLG
LD M2060                 ; U2-S560_ﾊﾝﾄﾞ1ﾜｰｸ給材ﾌﾗｸﾞON
AND M1944                ; Hand2_st1除材中ﾌﾗｸﾞ
ORL
OR M1940                 ; Hand1_st1給材中ﾌﾗｸﾞ
AND M1574                ; ﾕﾆｯﾄ2-1起動中
ANB M1941                ; Hand1_st2給材中ﾌﾗｸﾞ
ANB M1942                ; Hand1_st3給材中ﾌﾗｸﾞ
ANB M1943                ; Hand1_st4給材中ﾌﾗｸﾞ
OUT M1940                ; Hand1_st1給材中ﾌﾗｸﾞ
LD M1530                 ; U2-1_S30_Flashst給材要求ﾁｪｯｸ
AND M2321                ; ST2_書込み優先FLG
LD M2060                 ; U2-S560_ﾊﾝﾄﾞ1ﾜｰｸ給材ﾌﾗｸﾞON
AND M1945                ; Hand2_st2除材中ﾌﾗｸﾞ
ORL
OR M1941                 ; Hand1_st2給材中ﾌﾗｸﾞ
AND M1574                ; ﾕﾆｯﾄ2-1起動中
ANB M1940                ; Hand1_st1給材中ﾌﾗｸﾞ
ANB M1942                ; Hand1_st3給材中ﾌﾗｸﾞ
ANB M1943                ; Hand1_st4給材中ﾌﾗｸﾞ
OUT M1941                ; Hand1_st2給材中ﾌﾗｸﾞ
LD M1530                 ; U2-1_S30_Flashst給材要求ﾁｪｯｸ
AND M2322                ; ST3_書込み優先FLG
LD M2060                 ; U2-S560_ﾊﾝﾄﾞ1ﾜｰｸ給材ﾌﾗｸﾞON
AND M1946                ; Hand2_st3除材中ﾌﾗｸﾞ
ORL
OR M1942                 ; Hand1_st3給材中ﾌﾗｸﾞ
AND M1574                ; ﾕﾆｯﾄ2-1起動中
ANB M1940                ; Hand1_st1給材中ﾌﾗｸﾞ
ANB M1941                ; Hand1_st2給材中ﾌﾗｸﾞ
ANB M1943                ; Hand1_st4給材中ﾌﾗｸﾞ
OUT M1942                ; Hand1_st3給材中ﾌﾗｸﾞ
LD M1530                 ; U2-1_S30_Flashst給材要求ﾁｪｯｸ
AND M2323                ; ST4_書込み優先FLG
LD M2060                 ; U2-S560_ﾊﾝﾄﾞ1ﾜｰｸ給材ﾌﾗｸﾞON
AND M1947                ; Hand2_st4除材中ﾌﾗｸﾞ
ORL
OR M1943                 ; Hand1_st4給材中ﾌﾗｸﾞ
AND M1574                ; ﾕﾆｯﾄ2-1起動中
ANB M1940                ; Hand1_st1給材中ﾌﾗｸﾞ
ANB M1941                ; Hand1_st2給材中ﾌﾗｸﾞ
ANB M1942                ; Hand1_st3給材中ﾌﾗｸﾞ
OUT M1943                ; Hand1_st4給材中ﾌﾗｸﾞ
LD M1530                 ; U2-1_S30_Flashst給材要求ﾁｪｯｸ
MPS
LD M1940                 ; Hand1_st1給材中ﾌﾗｸﾞ
OR M1941                 ; Hand1_st2給材中ﾌﾗｸﾞ
OR M1942                 ; Hand1_st3給材中ﾌﾗｸﾞ
OR M1943                 ; Hand1_st4給材中ﾌﾗｸﾞ
ANL
MOV K35 D1500            ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
LDB M1940                ; Hand1_st1給材中ﾌﾗｸﾞ
ANB M1941                ; Hand1_st2給材中ﾌﾗｸﾞ
ANB M1942                ; Hand1_st3給材中ﾌﾗｸﾞ
ANB M1943                ; Hand1_st4給材中ﾌﾗｸﾞ
ANL
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1531                 ; U2-1_S31
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;<h1/>____▼_ﾌﾗｯｼｭst除材要求ﾁｪｯｸ
LD CR2002                ; 常時ON
MOV K10 D1611            ; FIFOﾃﾞｰﾀﾃｰﾌﾞﾙ:ﾃﾞｰﾀ格納最大数
LDB M71                  ; 自動運転開始BZ
@FMOV K0 D1610 K10       ; FIFOﾃﾞｰﾀﾃｰﾌﾞﾙ:ﾃﾞｰﾀ格納数
LD M1940                 ; Hand1_st1給材中ﾌﾗｸﾞ
@MOV K1 D1600            ; FIFOﾃﾞｰﾀ_ST搬送先
@FIFOW D1600 D1610       ; FIFOﾃﾞｰﾀ_ST搬送先  FIFOﾃﾞｰﾀﾃｰﾌﾞﾙ:ﾃﾞｰﾀ格納数
LD M1941                 ; Hand1_st2給材中ﾌﾗｸﾞ
@MOV K2 D1600            ; FIFOﾃﾞｰﾀ_ST搬送先
@FIFOW D1600 D1610       ; FIFOﾃﾞｰﾀ_ST搬送先  FIFOﾃﾞｰﾀﾃｰﾌﾞﾙ:ﾃﾞｰﾀ格納数
LD M1942                 ; Hand1_st3給材中ﾌﾗｸﾞ
@MOV K3 D1600            ; FIFOﾃﾞｰﾀ_ST搬送先
@FIFOW D1600 D1610       ; FIFOﾃﾞｰﾀ_ST搬送先  FIFOﾃﾞｰﾀﾃｰﾌﾞﾙ:ﾃﾞｰﾀ格納数
LD M1943                 ; Hand1_st4給材中ﾌﾗｸﾞ
@MOV K4 D1600            ; FIFOﾃﾞｰﾀ_ST搬送先
@FIFOW D1600 D1610       ; FIFOﾃﾞｰﾀ_ST搬送先  FIFOﾃﾞｰﾀﾃｰﾌﾞﾙ:ﾃﾞｰﾀ格納数
LD M1532                 ; U2-1_S32_除材先検討ﾌﾗｸﾞ
LD M4422                 ; ﾌﾗｯｼｭST1_ﾜｰｸ除去要求
OR M5422                 ; ﾌﾗｯｼｭST2_ﾜｰｸ除去要求
OR M6422                 ; ﾌﾗｯｼｭST3_ﾜｰｸ除去要求
OR M7422                 ; ﾌﾗｯｼｭST4_ﾜｰｸ除去要求
ANL
LD M1948                 ; 除材先ﾌﾗｸﾞ読出ﾌﾗｸﾞ
ANB M2000                ; U2-S500_FIFO読出ﾌﾗｸﾞﾘｾｯﾄ
ORL
MPS
AND M71                  ; 自動運転開始BZ
OUT M1948                ; 除材先ﾌﾗｸﾞ読出ﾌﾗｸﾞ
MPP
ANPB M1949               ; 除材先ﾜｰｸ取出し記憶
@FIFOR D1610 D1602       ; FIFOﾃﾞｰﾀﾃｰﾌﾞﾙ:ﾃﾞｰﾀ格納数  除材先STNO.
LD M1948                 ; 除材先ﾌﾗｸﾞ読出ﾌﾗｸﾞ
LD= D1602 K1             ; 除材先STNO.
AND= D4201 K0            ; FlashST1_ﾜｰｸ有無記憶
LD= D1602 K2             ; 除材先STNO.
AND= D5201 K0            ; FlashST2_ﾜｰｸ有無記憶
ORL
LD= D1602 K3             ; 除材先STNO.
AND= D6201 K0            ; FlashST3_ﾜｰｸ有無記憶
ORL
LD= D1602 K4             ; 除材先STNO.
AND= D7201 K0            ; FlashST4_ﾜｰｸ有無記憶
ORL
ANL
OUT M1949                ; 除材先ﾜｰｸ取出し記憶
LD M1948                 ; 除材先ﾌﾗｸﾞ読出ﾌﾗｸﾞ
AND= D1602 K1            ; 除材先STNO.
AND= D4201 K1            ; FlashST1_ﾜｰｸ有無記憶
AND M4422                ; ﾌﾗｯｼｭST1_ﾜｰｸ除去要求
OR M1944                 ; Hand2_st1除材中ﾌﾗｸﾞ
AND M1574                ; ﾕﾆｯﾄ2-1起動中
OUT M1944                ; Hand2_st1除材中ﾌﾗｸﾞ
LD M1948                 ; 除材先ﾌﾗｸﾞ読出ﾌﾗｸﾞ
AND= D1602 K2            ; 除材先STNO.
AND= D5201 K1            ; FlashST2_ﾜｰｸ有無記憶
AND M5422                ; ﾌﾗｯｼｭST2_ﾜｰｸ除去要求
OR M1945                 ; Hand2_st2除材中ﾌﾗｸﾞ
AND M1574                ; ﾕﾆｯﾄ2-1起動中
OUT M1945                ; Hand2_st2除材中ﾌﾗｸﾞ
LD M1948                 ; 除材先ﾌﾗｸﾞ読出ﾌﾗｸﾞ
AND= D1602 K3            ; 除材先STNO.
AND= D6201 K1            ; FlashST3_ﾜｰｸ有無記憶
AND M6422                ; ﾌﾗｯｼｭST3_ﾜｰｸ除去要求
OR M1946                 ; Hand2_st3除材中ﾌﾗｸﾞ
AND M1574                ; ﾕﾆｯﾄ2-1起動中
OUT M1946                ; Hand2_st3除材中ﾌﾗｸﾞ
LD M1948                 ; 除材先ﾌﾗｸﾞ読出ﾌﾗｸﾞ
AND= D1602 K4            ; 除材先STNO.
AND= D7201 K1            ; FlashST4_ﾜｰｸ有無記憶
AND M7422                ; ﾌﾗｯｼｭST4_ﾜｰｸ除去要求
OR M1947                 ; Hand2_st4除材中ﾌﾗｸﾞ
AND M1574                ; ﾕﾆｯﾄ2-1起動中
OUT M1947                ; Hand2_st4除材中ﾌﾗｸﾞ
LD M1532                 ; U2-1_S32_除材先検討ﾌﾗｸﾞ
MPS
LD M1944                 ; Hand2_st1除材中ﾌﾗｸﾞ
OR M1945                 ; Hand2_st2除材中ﾌﾗｸﾞ
OR M1946                 ; Hand2_st3除材中ﾌﾗｸﾞ
OR M1947                 ; Hand2_st4除材中ﾌﾗｸﾞ
ANL
MOV K500 D1500           ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
LDB M1944                ; Hand2_st1除材中ﾌﾗｸﾞ
ANB M1945                ; Hand2_st2除材中ﾌﾗｸﾞ
ANB M1946                ; Hand2_st3除材中ﾌﾗｸﾞ
ANB M1947                ; Hand2_st4除材中ﾌﾗｸﾞ
ANL
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1533                 ; U2-1_S33_ﾌﾗｯｼｭｽﾃｰｼﾞ無効ﾁｪｯｸ
ANPB M1533               ; U2-1_S33_ﾌﾗｯｼｭｽﾃｰｼﾞ無効ﾁｪｯｸ
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ANB B0323                ; 803)FLASHｽﾃｰｼﾞ無効状態
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1534                 ; U2-1_S34
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MPS
ANB M1993                ; ﾕﾆｯﾄ2ﾜｰｸ無し(払出時)
MOV K63 D1500            ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
AND M1993                ; ﾕﾆｯﾄ2ﾜｰｸ無し(払出時)
MOV K710 D1500           ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;<h1/>__■/S35_FLASHstへﾜｰｸ供給
LD M1535                 ; U2-1_S35_旋回戻り指令(F供給時)
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND Y2385                ; 搬送P&Pﾁｬｯｸ旋回戻り
@MOV D1716 D1520         ; 搬送Hand1_搬送ﾛﾎﾞｯﾄNo.  RB2_RBNo.
MPS
LD M1940                 ; Hand1_st1給材中ﾌﾗｸﾞ
AND M1872                ; XY_Hand1ST1ﾜｰｸ置き位置移動_OK
ANL
MPS
AND= K10 D1530           ; RB2_XY軸ﾃﾞｰﾀ指定
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
@MOV K10 D1530           ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
LD M1941                 ; Hand1_st2給材中ﾌﾗｸﾞ
AND M1874                ; XY_Hand1ST2ﾜｰｸ置き位置移動_OK
ANL
MPS
AND= K15 D1530           ; RB2_XY軸ﾃﾞｰﾀ指定
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
@MOV K15 D1530           ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
LD M1942                 ; Hand1_st3給材中ﾌﾗｸﾞ
AND M1876                ; XY_Hand1ST3ﾜｰｸ置き位置移動_OK
ANL
MPS
AND= K20 D1530           ; RB2_XY軸ﾃﾞｰﾀ指定
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
@MOV K20 D1530           ; RB2_XY軸ﾃﾞｰﾀ指定
MPP
LD M1943                 ; Hand1_st4給材中ﾌﾗｸﾞ
AND M1878                ; XY_Hand1ST4ﾜｰｸ置き位置移動_OK
ANL
MPS
AND= K25 D1530           ; RB2_XY軸ﾃﾞｰﾀ指定
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
@MOV K25 D1530           ; RB2_XY軸ﾃﾞｰﾀ指定
LD M1536                 ; U2-1_S36_FlashSTXY位置移動指令
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1537                 ; U2-1_S37_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
LD M1940                 ; Hand1_st1給材中ﾌﾗｸﾞ
AND M1822                ; XY_Hand1ST1ﾜｰｸ置き位置
LD M1941                 ; Hand1_st2給材中ﾌﾗｸﾞ
AND M1824                ; XY_Hand1ST2ﾜｰｸ置き位置
ORL
LD M1942                 ; Hand1_st3給材中ﾌﾗｸﾞ
AND M1826                ; XY_Hand1ST3ﾜｰｸ置き位置
ORL
LD M1943                 ; Hand1_st4給材中ﾌﾗｸﾞ
AND M1828                ; XY_Hand1ST4ﾜｰｸ置き位置
ORL
ANL
AND Y2385                ; 搬送P&Pﾁｬｯｸ旋回戻り
AND T204                 ; 搬送P&Pﾁｬｯｸ旋回戻り端
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　ﾌﾗｯｼｭstとのﾊﾝﾄﾞｼｪｲｸ
LD M1538                 ; U2-1_S38
MPS
AND M1940                ; Hand1_st1給材中ﾌﾗｸﾞ
MPS
ANB M4420                ; ﾌﾗｯｼｭST1_ﾜｰｸ供給要求→搬送
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
AND M4420                ; ﾌﾗｯｼｭST1_ﾜｰｸ供給要求→搬送
OUT M1960                ; 【搬送】搬送→ST1搬送開始
MRD
AND M1941                ; Hand1_st2給材中ﾌﾗｸﾞ
MPS
ANB M5420                ; ﾌﾗｯｼｭST2_ﾜｰｸ供給要求→搬送
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
AND M5420                ; ﾌﾗｯｼｭST2_ﾜｰｸ供給要求→搬送
OUT M1961                ; 【搬送】搬送→ST2搬送開始
MRD
AND M1942                ; Hand1_st3給材中ﾌﾗｸﾞ
MPS
ANB M6420                ; ﾌﾗｯｼｭST3_ﾜｰｸ供給要求→搬送
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
AND M6420                ; ﾌﾗｯｼｭST3_ﾜｰｸ供給要求→搬送
OUT M1962                ; 【搬送】搬送→ST3搬送開始
MPP
AND M1943                ; Hand1_st4給材中ﾌﾗｸﾞ
MPS
ANB M7420                ; ﾌﾗｯｼｭST4_ﾜｰｸ供給要求→搬送
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
AND M7420                ; ﾌﾗｯｼｭST4_ﾜｰｸ供給要求→搬送
OUT M1963                ; 【搬送】搬送→ST4搬送開始
;　　ﾌﾗｯｼｭst位置へ置く
LD M1539                 ; U2-1_S39_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MPS
LD M1940                 ; Hand1_st1給材中ﾌﾗｸﾞ
AND M1892                ; Z_Hand1ST1ﾜｰｸ置高位置移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
ANL
MPS
AND= K110 D1534          ; RB2_Z軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K110 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
MRD
LD M1941                 ; Hand1_st2給材中ﾌﾗｸﾞ
AND M1894                ; Z_Hand1ST2ﾜｰｸ置高さ位置移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
ANL
MPS
AND= K115 D1534          ; RB2_Z軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K115 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
MRD
LD M1942                 ; Hand1_st3給材中ﾌﾗｸﾞ
AND M1896                ; Z_Hand1ST3ﾜｰｸ置高さ位置移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
ANL
MPS
AND= K120 D1534          ; RB2_Z軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K120 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
MPP
LD M1943                 ; Hand1_st4給材中ﾌﾗｸﾞ
AND M1898                ; Z_Hand1ST4ﾜｰｸ置高さ位置移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
ANL
MPS
AND= K125 D1534          ; RB2_Z軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K125 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
LD M1540                 ; U2-1_S40_FlashSTﾜｰｸ置位置指令
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1541                 ; U2-1_S41_STへﾜｰｸ置き中
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
LD M1940                 ; Hand1_st1給材中ﾌﾗｸﾞ
AND M1842                ; Z_Hand1ST1ﾜｰｸ置高さ
LD M1941                 ; Hand1_st2給材中ﾌﾗｸﾞ
AND M1844                ; Z_Hand1ST2ﾜｰｸ置高さ
ORL
LD M1942                 ; Hand1_st3給材中ﾌﾗｸﾞ
AND M1846                ; Z_Hand1ST3ﾜｰｸ置高さ
ORL
LD M1943                 ; Hand1_st4給材中ﾌﾗｸﾞ
AND M1848                ; Z_Hand1ST4ﾜｰｸ置高さ
ORL
ANL
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　ﾍｯﾄﾞ1ﾁｬｯｸ開指令
LD M1542                 ; U2-1_S42_Hand1ﾁｬｯｸ開指令
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND Y2381                ; 搬送P&Pﾁｬｯｸ1開
AND T221                 ; ﾊﾝﾄﾞ1ﾁｬｯｸ開ONﾀｲﾏ
ANB B061                 ; 097)Hand1ﾁｬｯｸ開閉CLS異常
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　ﾃﾞｰﾀｼﾌﾄ
LD M1543                 ; U2-1_S43
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPS
AND M1940                ; Hand1_st1給材中ﾌﾗｸﾞ
BMOV D1700 D4200 K100    ; 搬送Hand1_INDEX NO.  FlashST1_INDEX NO.
FMOV K0 D1700 K100       ; 搬送Hand1_INDEX NO.
MRD
AND M1941                ; Hand1_st2給材中ﾌﾗｸﾞ
BMOV D1700 D5200 K100    ; 搬送Hand1_INDEX NO.  FlashST2_INDEX NO.
FMOV K0 D1700 K100       ; 搬送Hand1_INDEX NO.
MRD
AND M1942                ; Hand1_st3給材中ﾌﾗｸﾞ
BMOV D1700 D6200 K100    ; 搬送Hand1_INDEX NO.  FlashST3_INDEX NO.
FMOV K0 D1700 K100       ; 搬送Hand1_INDEX NO.
MPP
AND M1943                ; Hand1_st4給材中ﾌﾗｸﾞ
BMOV D1700 D7200 K100    ; 搬送Hand1_INDEX NO.  FlashST4_INDEX NO.
FMOV K0 D1700 K100       ; 搬送Hand1_INDEX NO.
LD M1544                 ; U2-1_S44_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1545                 ; U2-1_S45
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1546                 ; U2-1_S46
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1547                 ; U2-1_S47
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　ﾜｰｸ搬送高さへ移動
LD M1548                 ; U2-1_S48
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1890                ; Z_搬送高さ移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
MPS
AND= K109 D1534          ; RB2_Z軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K109 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
LD M1549                 ; U2-1_S49_Z軸上昇位置移動指令
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1550                 ; U2-1_S50
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1840                ; Z_搬送高さ
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　ﾜｰｸ軸搬送位置へ移動
LD M1551                 ; U2-1_S51
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1884                ; XY_Y軸待機位置移動_OK
MPS
AND= K5 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K5 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
LD M1552                 ; U2-1_S52_搬送XY待機位置移動指令
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1553                 ; U2-1_S53
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1835                ; XY_Y軸待機位置
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　給材完了ﾊﾝﾄﾞｼｪｲｸ
LD M1554                 ; U2-1_S54_
MPS
AND M1940                ; Hand1_st1給材中ﾌﾗｸﾞ
MPS
LD M1964                 ; 【搬送】搬送→ST1搬送完了
ANB M4421                ; ﾌﾗｯｼｭST1_ﾜｰｸ供給完了待ち→搬送
ANL
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
LD M4421                 ; ﾌﾗｯｼｭST1_ﾜｰｸ供給完了待ち→搬送
OR M1964                 ; 【搬送】搬送→ST1搬送完了
ANL
OUT M1964                ; 【搬送】搬送→ST1搬送完了
MRD
AND M1941                ; Hand1_st2給材中ﾌﾗｸﾞ
MPS
LD M1965                 ; 【搬送】搬送→ST2搬送完了
ANB M5421                ; ﾌﾗｯｼｭST2_ﾜｰｸ供給完了待ち→搬送
ANL
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
LD M5421                 ; ﾌﾗｯｼｭST2_ﾜｰｸ供給完了待ち→搬送
OR M1965                 ; 【搬送】搬送→ST2搬送完了
ANL
OUT M1965                ; 【搬送】搬送→ST2搬送完了
MRD
AND M1942                ; Hand1_st3給材中ﾌﾗｸﾞ
MPS
LD M1966                 ; 【搬送】搬送→ST3搬送完了
ANB M6421                ; ﾌﾗｯｼｭST3_ﾜｰｸ供給完了待ち→搬送
ANL
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
LD M6421                 ; ﾌﾗｯｼｭST3_ﾜｰｸ供給完了待ち→搬送
OR M1966                 ; 【搬送】搬送→ST3搬送完了
ANL
OUT M1966                ; 【搬送】搬送→ST3搬送完了
MPP
AND M1943                ; Hand1_st4給材中ﾌﾗｸﾞ
MPS
LD M1967                 ; 【搬送】搬送→ST4搬送完了
ANB M7421                ; ﾌﾗｯｼｭST4_ﾜｰｸ供給完了待ち→搬送
ANL
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
LD M7421                 ; ﾌﾗｯｼｭST4_ﾜｰｸ供給完了待ち→搬送
OR M1967                 ; 【搬送】搬送→ST4搬送完了
ANL
OUT M1967                ; 【搬送】搬送→ST4搬送完了
;<h1/>____▼_ﾊﾝﾄﾞ2ﾜｰｸ有無
LD M1555                 ; U2-1_S55
MPS
AND= D1801 K0            ; 搬送Hand2_有無記憶
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
AND= D1801 K1            ; 搬送Hand2_有無記憶
MOV K590 D1500           ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　Supply CV Work確認
LD M1556                 ; U2-1_S56
MPS
LD D1201.0
OR D1301.0
ANL
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
LDB D1201.0
ANB D1301.0
ANL
MOV K63 D1500            ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1557                 ; U2-1_S57
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1884                ; XY_Y軸待機位置移動_OK
MPS
AND= K9 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K9 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
LD M1558                 ; U2-1_S58_XY待機位置移動指令
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M1559                 ; U2-1_S59
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1820                ; XY_待機位置
MOV K63 D1500            ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;<h1/>__■/S500_FLASH_S除材からｺﾝﾍﾞﾔへﾜｰｸ排出(ﾊﾝﾄﾞ2)
;　　除材動作
LD M2000                 ; U2-S500_FIFO読出ﾌﾗｸﾞﾘｾｯﾄ
ANB M1948                ; 除材先ﾌﾗｸﾞ読出ﾌﾗｸﾞ
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2001                 ; U2-S501_
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;flash_stから品種情報読取
LD M2002                 ; U2-S502_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MPS
LD M1944                 ; Hand2_st1除材中ﾌﾗｸﾞ
AND M4422                ; ﾌﾗｯｼｭST1_ﾜｰｸ除去要求
LD M1945                 ; Hand2_st2除材中ﾌﾗｸﾞ
AND M5422                ; ﾌﾗｯｼｭST2_ﾜｰｸ除去要求
ORL
LD M1946                 ; Hand2_st3除材中ﾌﾗｸﾞ
AND M6422                ; ﾌﾗｯｼｭST3_ﾜｰｸ除去要求
ORL
LD M1947                 ; Hand2_st4除材中ﾌﾗｸﾞ
AND M7422                ; ﾌﾗｯｼｭST4_ﾜｰｸ除去要求
ORL
AND M1840                ; Z_搬送高さ
ANL
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MRD
AND M1944                ; Hand2_st1除材中ﾌﾗｸﾞ
@MOV D4216 D1520         ; FlashST1_搬送ﾛﾎﾞｯﾄNo.  RB2_RBNo.
MRD
AND M1945                ; Hand2_st2除材中ﾌﾗｸﾞ
@MOV D5216 D1520         ; FlashST2_搬送ﾛﾎﾞｯﾄNo.  RB2_RBNo.
MRD
AND M1946                ; Hand2_st3除材中ﾌﾗｸﾞ
@MOV D6216 D1520         ; FlashST3_搬送ﾛﾎﾞｯﾄNo.  RB2_RBNo.
MPP
AND M1947                ; Hand2_st4除材中ﾌﾗｸﾞ
@MOV D7216 D1520         ; FlashST4_搬送ﾛﾎﾞｯﾄNo.  RB2_RBNo.
LD M2003                 ; U2-S503_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　ﾌﾗｯｼｭ除材位置へ
LD M2004                 ; U2-S504_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MPS
LD M1944                 ; Hand2_st1除材中ﾌﾗｸﾞ
AND M1873                ; XY_Hand2ST1ﾜｰｸ取り位置移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
ANL
MPS
AND= K11 D1530           ; RB2_XY軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K11 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
LD M1945                 ; Hand2_st2除材中ﾌﾗｸﾞ
AND M1875                ; XY_Hand2ST2ﾜｰｸ取り位置移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
ANL
MPS
AND= K16 D1530           ; RB2_XY軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K16 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
LD M1946                 ; Hand2_st3除材中ﾌﾗｸﾞ
AND M1877                ; XY_Hand2ST3ﾜｰｸ取り位置移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
ANL
MPS
AND= K21 D1530           ; RB2_XY軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K21 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
MPP
LD M1947                 ; Hand2_st4除材中ﾌﾗｸﾞ
AND M1879                ; XY_Hand2ST4ﾜｰｸ取り位置移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
ANL
MPS
AND= K26 D1530           ; RB2_XY軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K26 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
LD M2005                 ; U2-S505_XYFlash受取位置移動
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2006                 ; U2-S506_ﾊﾝﾄﾞ旋回指令
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
LD M1944                 ; Hand2_st1除材中ﾌﾗｸﾞ
AND M1823                ; XY_Hand2ST1ﾜｰｸ取り位置
LD M1945                 ; Hand2_st2除材中ﾌﾗｸﾞ
AND M1825                ; XY_Hand2ST2ﾜｰｸ取り位置
ORL
LD M1946                 ; Hand2_st3除材中ﾌﾗｸﾞ
AND M1827                ; XY_Hand2ST3ﾜｰｸ取り位置
ORL
LD M1947                 ; Hand2_st4除材中ﾌﾗｸﾞ
AND M1829                ; XY_Hand2ST4ﾜｰｸ取り位置
ORL
ANL
AND Y2384                ; 搬送P&Pﾁｬｯｸ旋回旋回
AND T203                 ; 搬送P&Pﾁｬｯｸ旋回旋回端
ANB B060                 ; 096)Hand旋回CLS異常
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　Z軸下降
LD M2007                 ; U2-S507_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MPS
LD M1944                 ; Hand2_st1除材中ﾌﾗｸﾞ
AND M1893                ; Z_Hand2ST1ﾜｰｸ取高さ位置移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
ANL
MPS
AND= K111 D1534          ; RB2_Z軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K111 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
MRD
LD M1945                 ; Hand2_st2除材中ﾌﾗｸﾞ
AND M1895                ; Z_Hand2ST2ﾜｰｸ取高さ位置移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
ANL
MPS
AND= K116 D1534          ; RB2_Z軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K116 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
MRD
LD M1946                 ; Hand2_st3除材中ﾌﾗｸﾞ
AND M1897                ; Z_Hand2ST3ﾜｰｸ取高さ位置移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
ANL
MPS
AND= K121 D1534          ; RB2_Z軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K121 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
MPP
LD M1947                 ; Hand2_st4除材中ﾌﾗｸﾞ
AND M1899                ; Z_Hand2ST4ﾜｰｸ取高さ位置移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
ANL
MPS
AND= K126 D1534          ; RB2_Z軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K126 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
LD M2008                 ; U2-S508_Z軸Hand2Flash受取高移動
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2009                 ; U2-S509_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
LD M1944                 ; Hand2_st1除材中ﾌﾗｸﾞ
AND M1843                ; Z_Hand2ST1ﾜｰｸ取高さ
LD M1945                 ; Hand2_st2除材中ﾌﾗｸﾞ
AND M1845                ; Z_Hand2ST2ﾜｰｸ取高さ
ORL
LD M1946                 ; Hand2_st3除材中ﾌﾗｸﾞ
AND M1847                ; Z_Hand2ST3ﾜｰｸ取高さ
ORL
LD M1947                 ; Hand2_st4除材中ﾌﾗｸﾞ
AND M1849                ; Z_Hand2ST4ﾜｰｸ取高さ
ORL
ANL
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2010                 ; U2-S510_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2011                 ; U2-S511_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　ﾍｯﾄﾞ2ﾁｬｯｸ指令
LD M2012                 ; U2-S512_Hand2ﾁｬｯｸ閉指令
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ANB B062                 ; 098)Hand2ﾁｬｯｸ開閉CLS異常
MPS
LD T225                  ; 搬送P&Pﾁｬｯｸ2閉時ﾜｰｸ確認ﾀｲﾏ
LD M35                   ; 空運転ﾓｰﾄﾞ
AND T222                 ; ﾊﾝﾄﾞ2閉端ONﾀｲﾏ
ORL
ANL
MOV K515 D1500           ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
LD T222                  ; ﾊﾝﾄﾞ2閉端ONﾀｲﾏ
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2013                 ; U2-S513_書込みst基板ﾁｬｯｸﾐｽ
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ANB B042                 ; 066)ﾍｯﾄﾞ2_ST1基板ﾁｬｯｸﾐｽ
ANB B043                 ; 067)ﾍｯﾄﾞ2_ST2基板ﾁｬｯｸﾐｽ
ANB B048                 ; 072)ﾊﾝﾄﾞ2_ST3基板ﾁｬｯｸﾐｽ
ANB B049                 ; 073)ﾊﾝﾄﾞ2_ST4基板ﾁｬｯｸﾐｽ
MOV K512 D1500           ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　Z軸上昇指令
LD M2015                 ; U2-S515_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1890                ; Z_搬送高さ移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
MPS
AND= K109 D1534          ; RB2_Z軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K109 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
LD M2016                 ; U2-S516_Z軸上昇指令
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2017                 ; U2-S517_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1840                ; Z_搬送高さ
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　上昇後ﾊﾝﾄﾞｼｪｲｸ
LD M2018                 ; U2-S518_
LD M35                   ; 空運転ﾓｰﾄﾞ
AND T222                 ; ﾊﾝﾄﾞ2閉端ONﾀｲﾏ
LDB M35                  ; 空運転ﾓｰﾄﾞ
AND T225                 ; 搬送P&Pﾁｬｯｸ2閉時ﾜｰｸ確認ﾀｲﾏ
ORL
ANL
MPS
AND M1944                ; Hand2_st1除材中ﾌﾗｸﾞ
MPS
LD M1970                 ; 【搬送】FLASH_ST1→除材中
ANB M4422                ; ﾌﾗｯｼｭST1_ﾜｰｸ除去要求
ANL
MOV K522 D1500           ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
LD M4422                 ; ﾌﾗｯｼｭST1_ﾜｰｸ除去要求
OR M1970                 ; 【搬送】FLASH_ST1→除材中
ANL
OUT M1970                ; 【搬送】FLASH_ST1→除材中
MRD
AND M1945                ; Hand2_st2除材中ﾌﾗｸﾞ
MPS
LD M1971                 ; 【搬送】FLASH_ST2→除材中
ANB M5421                ; ﾌﾗｯｼｭST2_ﾜｰｸ供給完了待ち→搬送
ANL
MOV K522 D1500           ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
LD M5422                 ; ﾌﾗｯｼｭST2_ﾜｰｸ除去要求
OR M1971                 ; 【搬送】FLASH_ST2→除材中
ANL
OUT M1971                ; 【搬送】FLASH_ST2→除材中
MRD
AND M1946                ; Hand2_st3除材中ﾌﾗｸﾞ
MPS
LD M1972                 ; 【搬送】FLASH_ST3→除材中
ANB M6421                ; ﾌﾗｯｼｭST3_ﾜｰｸ供給完了待ち→搬送
ANL
MOV K522 D1500           ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
LD M6422                 ; ﾌﾗｯｼｭST3_ﾜｰｸ除去要求
OR M1972                 ; 【搬送】FLASH_ST3→除材中
ANL
OUT M1972                ; 【搬送】FLASH_ST3→除材中
MPP
AND M1947                ; Hand2_st4除材中ﾌﾗｸﾞ
MPS
LD M1973                 ; 【搬送】FLASH_ST4→除材中
ANB M7421                ; ﾌﾗｯｼｭST4_ﾜｰｸ供給完了待ち→搬送
ANL
MOV K522 D1500           ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
LD M7422                 ; ﾌﾗｯｼｭST4_ﾜｰｸ除去要求
OR M1973                 ; 【搬送】FLASH_ST4→除材中
ANL
OUT M1973                ; 【搬送】FLASH_ST4→除材中
;　　ﾃﾞｰﾀｼﾌﾄ&PCﾃﾞｰﾀ送信
LD M2022                 ; U2-S522_ﾃﾞｰﾀｼﾌﾄ
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPS
AND M1944                ; Hand2_st1除材中ﾌﾗｸﾞ
BMOV D4200 D1800 K100    ; FlashST1_INDEX NO.  搬送Hand2_INDEX NO.
FMOV K0 D4200 K100       ; FlashST1_INDEX NO.
MOV K0 W0141             ; ｽﾃｰｼﾞ#1製品ｲﾝﾃﾞｯｸｽNo.
MRD
AND M1945                ; Hand2_st2除材中ﾌﾗｸﾞ
BMOV D5200 D1800 K100    ; FlashST2_INDEX NO.  搬送Hand2_INDEX NO.
FMOV K0 D5200 K100       ; FlashST2_INDEX NO.
MOV K0 W0142             ; ｽﾃｰｼﾞ#2製品ｲﾝﾃﾞｯｸｽNo.
MRD
AND M1946                ; Hand2_st3除材中ﾌﾗｸﾞ
BMOV D6200 D1800 K100    ; FlashST3_INDEX NO.  搬送Hand2_INDEX NO.
FMOV K0 D6200 K100       ; FlashST3_INDEX NO.
MOV K0 W0143             ; ｽﾃｰｼﾞ#3製品ｲﾝﾃﾞｯｸｽNo.
MPP
AND M1947                ; Hand2_st4除材中ﾌﾗｸﾞ
BMOV D7200 D1800 K100    ; FlashST4_INDEX NO.  搬送Hand2_INDEX NO.
FMOV K0 D7200 K100       ; FlashST4_INDEX NO.
MOV K0 W0144             ; ｽﾃｰｼﾞ#4製品ｲﾝﾃﾞｯｸｽNo.
LD M2023                 ; U2-S523_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;<h1/>____▼_ﾍｯﾄﾞ1にﾜｰｸがある場合にﾜｰｸをおく判別
LD M2024                 ; U2-S524_ﾊﾝﾄﾞ1給材ﾜｰｸ有無確認
MPS
LD= D1701 K0             ; 搬送Hand1_有無記憶
LD= D1701 K1             ; 搬送Hand1_有無記憶
LD M1944                 ; Hand2_st1除材中ﾌﾗｸﾞ
ANB M4401                ; ﾌﾗｯｼｭst1-搬送ID一致ﾌﾗｸﾞ
LD M1945                 ; Hand2_st2除材中ﾌﾗｸﾞ
ANB M5401                ; ﾌﾗｯｼｭST2-搬送ID一致ﾌﾗｸﾞ
ORL
LD M1946                 ; Hand2_st3除材中ﾌﾗｸﾞ
ANB M6401                ; ﾌﾗｯｼｭST3-搬送ID一致ﾌﾗｸﾞ
ORL
LD M1947                 ; Hand2_st4除材中ﾌﾗｸﾞ
ANB M7401                ; ﾌﾗｯｼｭST4-搬送ID一致ﾌﾗｸﾞ
ORL
ANL
ORL
ANL
MOV K590 D1500           ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
LD= D1701 K1             ; 搬送Hand1_有無記憶
LD M1944                 ; Hand2_st1除材中ﾌﾗｸﾞ
AND M4401                ; ﾌﾗｯｼｭst1-搬送ID一致ﾌﾗｸﾞ
AND M4420                ; ﾌﾗｯｼｭST1_ﾜｰｸ供給要求→搬送
LD M1945                 ; Hand2_st2除材中ﾌﾗｸﾞ
AND M5401                ; ﾌﾗｯｼｭST2-搬送ID一致ﾌﾗｸﾞ
AND M5420                ; ﾌﾗｯｼｭST2_ﾜｰｸ供給要求→搬送
ORL
LD M1946                 ; Hand2_st3除材中ﾌﾗｸﾞ
AND M6401                ; ﾌﾗｯｼｭST3-搬送ID一致ﾌﾗｸﾞ
AND M6420                ; ﾌﾗｯｼｭST3_ﾜｰｸ供給要求→搬送
ORL
LD M1947                 ; Hand2_st4除材中ﾌﾗｸﾞ
AND M7401                ; ﾌﾗｯｼｭST4-搬送ID一致ﾌﾗｸﾞ
AND M7420                ; ﾌﾗｯｼｭST4_ﾜｰｸ供給要求→搬送
ORL
ANL
ANL
MOV K560 D1500           ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;____▼_S560_ﾌﾗｯｼｭ除材後ﾊﾝﾄﾞ1ﾜｰｸ有
;動作ﾌﾗｸﾞをONしてからS35へjump
LD M2060                 ; U2-S560_ﾊﾝﾄﾞ1ﾜｰｸ給材ﾌﾗｸﾞON
ANB M2024                ; U2-S524_ﾊﾝﾄﾞ1給材ﾜｰｸ有無確認
AND= D1536 K109          ; Z軸_動作完了NO.
AND M1840                ; Z_搬送高さ
LD M1944                 ; Hand2_st1除材中ﾌﾗｸﾞ
AND M1940                ; Hand1_st1給材中ﾌﾗｸﾞ
LD M1945                 ; Hand2_st2除材中ﾌﾗｸﾞ
AND M1941                ; Hand1_st2給材中ﾌﾗｸﾞ
ORL
LD M1946                 ; Hand2_st3除材中ﾌﾗｸﾞ
AND M1942                ; Hand1_st3給材中ﾌﾗｸﾞ
ORL
LD M1947                 ; Hand2_st4除材中ﾌﾗｸﾞ
AND M1943                ; Hand1_st4給材中ﾌﾗｸﾞ
ORL
ANL
MOV K35 D1500            ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;<h1/>__■/S590_XY_ｺﾝﾍﾞﾔ位置へ移動位置へ移動
;　　　ｺﾝﾍﾞﾔ振分けへ
LD M2090                 ; U2-S590_ﾌｧｲﾅﾙ搬送位置振り分け
AND= D1803 K1            ; 搬送Hand2_ﾌﾗｯｼｭ書結果(1=OK_2=NG)
OR M1935                 ; Hand2_OK品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
AND M1574                ; ﾕﾆｯﾄ2-1起動中
OUT M1935                ; Hand2_OK品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
LD M2090                 ; U2-S590_ﾌｧｲﾅﾙ搬送位置振り分け
AND= D1803 K2            ; 搬送Hand2_ﾌﾗｯｼｭ書結果(1=OK_2=NG)
OR M1936                 ; Hand2_NG品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
AND M1574                ; ﾕﾆｯﾄ2-1起動中
OUT M1936                ; Hand2_NG品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
LD M2090                 ; U2-S590_ﾌｧｲﾅﾙ搬送位置振り分け
MPS
LD M1935                 ; Hand2_OK品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
OR M1936                 ; Hand2_NG品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
ANL
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
@MOV D1816 D1520         ; 搬送Hand2_搬送ﾛﾎﾞｯﾄNo.  RB2_RBNo.
LD M2091                 ; U2-S591_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MOV K525 D1500           ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　XYｺﾝﾍﾞﾔ位置へ移動
LD M2025                 ; U2-S525_排出ｺﾝﾍﾞﾔへ移動
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MPS
LD M1935                 ; Hand2_OK品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
AND M1882                ; XY_OKｺﾝﾍﾞﾔ位置移動_OK
ANL
MPS
AND= K35 D1530           ; RB2_XY軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K35 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
MPP
LD M1936                 ; Hand2_NG品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
AND M1883                ; XY_NGｺﾝﾍﾞﾔ位置移動_OK
ANL
MPS
AND= K36 D1530           ; RB2_XY軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K36 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
LD M2026                 ; U2-S526_ｺﾝﾍﾞﾔ位置移動指令
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2027                 ; U2-S527_
MPS
LDB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
LD M1935                 ; Hand2_OK品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
AND M1832                ; XY_OKｺﾝﾍﾞﾔ位置
LD M1936                 ; Hand2_NG品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
AND M1833                ; XY_NGｺﾝﾍﾞﾔ位置
ORL
ANL
AND Y2384                ; 搬送P&Pﾁｬｯｸ旋回旋回
AND T203                 ; 搬送P&Pﾁｬｯｸ旋回旋回端
ANL
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
LD M1840                 ; Z_搬送高さ
AND M1808                ; Y軸_ﾌﾗｯｼｭ不干渉位置
ANL
OUT M2260                ; Hand2回転旋回指令(ｺﾝﾍﾞﾔ移動中)
LD M2028                 ; U2-S528_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND Y2384                ; 搬送P&Pﾁｬｯｸ旋回旋回
AND T203                 ; 搬送P&Pﾁｬｯｸ旋回旋回端
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　
LD M2029                 ; U2-S529_OK_CV_要求待ち
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
LD M2310                 ; OKｺﾝﾍﾞﾔ給材開始
ANB M3900                ; OKｺﾝﾍﾞﾔ部_ﾜｰｸ供給要求
LD M2311                 ; NGｺﾝﾍﾞﾔ給材開始
ANB M3901                ; NGｺﾝﾍﾞﾔ部_ﾜｰｸ供給要求
ORL
ANL
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2029                 ; U2-S529_OK_CV_要求待ち
MPS
LD M3900                 ; OKｺﾝﾍﾞﾔ部_ﾜｰｸ供給要求
AND M1935                ; Hand2_OK品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
OR M2310                 ; OKｺﾝﾍﾞﾔ給材開始
ANL
OUT M2310                ; OKｺﾝﾍﾞﾔ給材開始
MPP
LD M3901                 ; NGｺﾝﾍﾞﾔ部_ﾜｰｸ供給要求
AND M1936                ; Hand2_NG品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
OR M2311                 ; NGｺﾝﾍﾞﾔ給材開始
ANL
OUT M2311                ; NGｺﾝﾍﾞﾔ給材開始
LD M2030                 ; U2-S530_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MPS
LD M1935                 ; Hand2_OK品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
AND M1902                ; Z_OKｺﾝﾍﾞﾔ高さ移動_OK
ANL
MPS
AND= K135 D1534          ; RB2_Z軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K135 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
MPP
LD M1936                 ; Hand2_NG品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
AND M1903                ; Z_NGｺﾝﾍﾞﾔ高さ移動_OK
ANL
MPS
AND= K136 D1534          ; RB2_Z軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K136 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
LD M2031                 ; U2-S531_Z軸ｺﾝﾍﾞﾔ位置移動
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2032                 ; U2-S532_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
LD M1935                 ; Hand2_OK品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
AND M1852                ; Z_OKｺﾝﾍﾞﾔ高さ
LD M1936                 ; Hand2_NG品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
AND M1853                ; Z_NGｺﾝﾍﾞﾔ高さ
ORL
ANL
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2033                 ; U2-S533_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　ﾁｬｯｸ開指令
LD M2034                 ; U2-S534_Hand2ﾁｬｯｸ開指令
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND Y2383                ; 搬送P&Pﾁｬｯｸ2開
AND T223                 ; ﾁｬｯｸ2開端ONﾀｲﾏ
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　ﾃﾞｰﾀｼﾌﾄ
LD M2035                 ; U2-S535_
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPS
AND M1935                ; Hand2_OK品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
BMOV D1800 D3700 K100    ; 搬送Hand2_INDEX NO.  OKｺﾝﾍﾞﾔ_INDEX NO.
MOV D3700 W0145          ; OKｺﾝﾍﾞﾔ_INDEX NO.  OK排出ｺﾝﾍﾞｱ#1ｲﾝﾃﾞｯｸｽNo.
FMOV K0 D1800 K100       ; 搬送Hand2_INDEX NO.
MPP
AND M1936                ; Hand2_NG品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
BMOV D1800 D3800 K100    ; 搬送Hand2_INDEX NO.  NGｺﾝﾍﾞﾔ_INDEX NO.
MOV D3800 W0147          ; NGｺﾝﾍﾞﾔ_INDEX NO.  NG排出ｺﾝﾍﾞｱ#1ｲﾝﾃﾞｯｸｽNo.
FMOV K0 D1800 K100       ; 搬送Hand2_INDEX NO.
LD M2036                 ; U2-S536_
MOV K541 D1500           ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2041                 ; U2-S541_
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　Z軸上昇
LD M2042                 ; U2-S542_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1890                ; Z_搬送高さ移動_OK
MPS
AND= K109 D1534          ; RB2_Z軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K109 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
LD M2043                 ; U2-S543_Z軸上昇指令
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2044                 ; U2-S544_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1840                ; Z_搬送高さ
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2045                 ; U2-S545_ｺﾝﾍﾞﾔ給材完了
MPS
AND M1935                ; Hand2_OK品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
MPS
OUT M2312                ; OKｺﾝﾍﾞﾔ給材完了
MPP
AND M3902                ; OKｺﾝﾍﾞﾔ給材完了受け取りFLG
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
AND M1936                ; Hand2_NG品ｺﾝﾍﾞﾔ移動ﾌﾗｸﾞ
MPS
OUT M2313                ; NGｺﾝﾍﾞﾔ給材完了
MPP
AND M3903                ; NGｺﾝﾍﾞﾔ給材完了受け取りFLG
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　XY軸待機位置移動
LD M2046                 ; U2-S546_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1884                ; XY_Y軸待機位置移動_OK
MPS
AND= K9 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K9 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
LD M2047                 ; U2-S547_XY待機位置移動指令
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2048                 ; U2-S548_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1820                ; XY_待機位置
INC D1500                ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2049                 ; U2-S549_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MOV K63 D1500            ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;<h1/>__■/S710_ｻｲｸﾙ停止動作
LD M2210                 ; U2-S710_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2211                 ; U2-S711_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　Z軸上昇
LD M2212                 ; U2-S712_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1890                ; Z_搬送高さ移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
MPS
AND= K109 D1534          ; RB2_Z軸ﾃﾞｰﾀ指定
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K109 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
LD M2213                 ; U2-S713_Z軸待機位置移動
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2214                 ; U2-S714_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1840                ; Z_搬送高さ
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2215                 ; U2-S715_旋回戻り
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND Y2385                ; 搬送P&Pﾁｬｯｸ旋回戻り
AND T204                 ; 搬送P&Pﾁｬｯｸ旋回戻り端
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
;　　XY待機位置移動
LD M2216                 ; U2-S716_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1870                ; XY_待機位置移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
MPS
AND= K9 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
MPP
MOV K9 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
LD M2217                 ; U2-S717_XY待機位置移動
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2218                 ; U2-S718_
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1820                ; XY_待機位置
@INC D1500               ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2219                 ; U2-S719_
LD M1578                 ; ﾕﾆｯﾄ2-1ｻｲｸﾙ停止完了
ORB M36                  ; 払出ﾓｰﾄﾞ
ANL
MOV K63 D1500            ; ﾕﾆｯﾄ2-1自動運転ｽﾃｯﾌﾟ
LD M2219                 ; U2-S719_
OR M1578                 ; ﾕﾆｯﾄ2-1ｻｲｸﾙ停止完了
AND M36                  ; 払出ﾓｰﾄﾞ
OUT M1578                ; ﾕﾆｯﾄ2-1ｻｲｸﾙ停止完了
;<h1/>__□_RB2位置決め処理(RCX240)
;RCX240位置決め処理
LD X1022                 ; #02_RX002_ｻｰﾎﾞON状態
AND X1021                ; #02_RX001_CPU_OK状態
AND X1029                ; #02_RX009_原点復帰完了状態
AND X300                 ; STﾜｰｸ搬送ﾛﾎﾞｯﾄ主電源投入準備完了
OUT M1730                ; ﾕﾆｯﾄ1-3原点
LDB B040                 ; 064)RCX240異常
ANB B050                 ; 080)RB2 PRG異常
INV
OUT M1731                ; ﾕﾆｯﾄ1-3全異常
LD M1730                 ; ﾕﾆｯﾄ1-3原点
ANB M1731                ; ﾕﾆｯﾄ1-3全異常
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
OUT M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
LDB M50                  ; 運転準備
OR M1986                 ; ﾕﾆｯﾄ2ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M1733                ; ﾕﾆｯﾄ1-3起動OFF
MOV K0 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
MOV K0 D1534             ; RB2_Z軸ﾃﾞｰﾀ指定
;XY動作指令
LDB M1861                ; 搬送XY位置移動指令
ANB M1504                ; U2-1_S4_供給部ﾜｰｸ取位置移動指令
ANB M1525                ; U2-1_S25_XY待機位置移動指令
ANB M1536                ; U2-1_S36_FlashSTXY位置移動指令
ANB M1552                ; U2-1_S52_搬送XY待機位置移動指令
ANB M1558                ; U2-1_S58_XY待機位置移動指令
ANB M2005                ; U2-S505_XYFlash受取位置移動
ANB M2026                ; U2-S526_ｺﾝﾍﾞﾔ位置移動指令
ANB M2047                ; U2-S547_XY待機位置移動指令
ANB M1768                ; STEP18_ORG_XY待機位置移動指令
ANB M2217                ; U2-S717_XY待機位置移動
ANB M1777                ; STEP27_XY軸後退指令
ANB M2103                ; U2-S603_XYｽﾃｰｼﾞ前位置移動
INV
AND<> D1530 K0           ; RB2_XY軸ﾃﾞｰﾀ指定
AND< D1530 K100          ; RB2_XY軸ﾃﾞｰﾀ指定
AND= D1534 K0            ; RB2_Z軸ﾃﾞｰﾀ指定
OUT M1814                ; XY軸動作指令時_ｽﾃｯﾊﾟ起動指令
;Z軸動作指令
LDB M1866                ; 搬送Z位置移動指令
ANB M1509                ; U2-1_S9_Z軸ﾜｰｸ受取高さ移動指令
ANB M1515                ; U2-1_S15_Z軸上昇指令
ANB M1540                ; U2-1_S40_FlashSTﾜｰｸ置位置指令
ANB M1549                ; U2-1_S49_Z軸上昇位置移動指令
ANB M2008                ; U2-S508_Z軸Hand2Flash受取高移動
ANB M1763                ; STEP13_ORG_Z軸待機位置移動指令
ANB M2016                ; U2-S516_Z軸上昇指令
ANB M2031                ; U2-S531_Z軸ｺﾝﾍﾞﾔ位置移動
ANB M2043                ; U2-S543_Z軸上昇指令
ANB M2213                ; U2-S713_Z軸待機位置移動
ANB M1774                ; STEP24_傾き確認動作指令
ANB M1780                ; STEP30_Z軸待機高さ移動指令
ANB M2107                ; U2-S607_搬送前待機位置へ移動指令
INV
AND<> D1534 K0           ; RB2_Z軸ﾃﾞｰﾀ指定
AND>= D1534 K100         ; RB2_Z軸ﾃﾞｰﾀ指定
AND= D1530 K0            ; RB2_XY軸ﾃﾞｰﾀ指定
OUT M1815                ; Z軸動作指令時_ｽﾃｯﾊﾟ起動指令
LD M1814                 ; XY軸動作指令時_ｽﾃｯﾊﾟ起動指令
OR M1815                 ; Z軸動作指令時_ｽﾃｯﾊﾟ起動指令
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
OR M1734                 ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
ANB M1733                ; ﾕﾆｯﾄ1-3起動OFF
ANB M1723                ; STEP63
OUT M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
;ﾕﾆｯﾄ1-3ｻｲｸﾙ停止異常
LDB B040                 ; 064)RCX240異常
ANB B050                 ; 080)RB2 PRG異常
INV
OUT M1735                ; ﾕﾆｯﾄ1-3ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-3ｴﾗｰ発生まとめ
LDB CR2003               ; 常時OFF
INV
OUT M1736                ; ﾕﾆｯﾄ1-3ｴﾗｰ発生
;ﾕﾆｯﾄ1-3停止判定
LD= D1502 D1507          ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ2-3動作中判定
TMR K212 K20
LD CR2002                ; 常時ON
MOV D1502 D1507          ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ2-3動作中判定
LD T212
ORB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
OUT M1737                ; ﾕﾆｯﾄ1-3動作無し
;□　ﾕﾆｯﾄ1-3_RCX240_自動運転ステップ開始
LD CR2002                ; 常時ON
FMOV K0 M1660 K4         ; STEP0
LDB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
MOV K0 D1502             ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ
LD M1734                 ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
MOV D1502 Z1             ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ
SET M1660:Z1             ; STEP0
LDP M97                  ; STEPSW
OR CR2002                ; 常時ON
OUT M1739                ; ﾕﾆｯﾄ1-3ｽﾃｯﾊﾟ
;動作開始
LD M1660                 ; STEP0
AND M1739                ; ﾕﾆｯﾄ1-3ｽﾃｯﾊﾟ
@INC D1502               ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ
LD M1661                 ; STEP1
AND X1028                ; #02_RX008_自動運転ﾓｰﾄﾞ状態
AND Y2029                ; #02_RY009_ｲﾝﾀｰﾛｯｸ入力
AND M1739                ; ﾕﾆｯﾄ1-3ｽﾃｯﾊﾟ
@INC D1502               ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ
LD M1662                 ; STEP2
AND X102B                ; #02_RX00B_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ実行状態
AND M1739                ; ﾕﾆｯﾄ1-3ｽﾃｯﾊﾟ
@INC D1502               ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ
LD M1663                 ; STEP3
AND M1739                ; ﾕﾆｯﾄ1-3ｽﾃｯﾊﾟ
@INC D1502               ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ
;　品番入力
LD M1664                 ; STEP4
MPS
LD M30                   ; 自動ﾓｰﾄﾞ
AND= D1520 D11008        ; RB2_RBNo.  #02_RB2_RBNo._004
LD M31                   ; 手動ﾓｰﾄﾞ
ANB M81                  ; 原点復帰動作中
AND= D500 D11008         ; 手動_JIG_NO.指定  #02_RB2_RBNo._004
ORL
LD M81                   ; 原点復帰動作中
AND= D11008 K1           ; #02_RB2_RBNo._004
ORL
AND M1739                ; ﾕﾆｯﾄ1-3ｽﾃｯﾊﾟ
ANL
@INC D1502               ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ
MRD
AND M72                  ; 自動運転開始
MOV D1520 D11008         ; RB2_RBNo.  #02_RB2_RBNo._004
MRD
AND M81                  ; 原点復帰動作中
MOV K1 D11008            ; #02_RB2_RBNo._004
MPP
LD M31                   ; 手動ﾓｰﾄﾞ
ANB M81                  ; 原点復帰動作中
ANL
MOV D500 D11008          ; 手動_JIG_NO.指定  #02_RB2_RBNo._004
;　PrgNO指定指定
LD M1665                 ; STEP5
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MPS
LD M1802                 ; RCX240動作中
ANB M1801                ; RCX240動作完了
AND M1800                ; RCX240動作指令
AND M1739                ; ﾕﾆｯﾄ1-3ｽﾃｯﾊﾟ
ANL
@INC D1502               ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ
MRD
LD<> D1530 K0            ; RB2_XY軸ﾃﾞｰﾀ指定
AND= D1534 K0            ; RB2_Z軸ﾃﾞｰﾀ指定
ANL
DW K0 D1532              ; XY軸_動作完了NO.
CON
LDA D1530                ; RB2_XY軸ﾃﾞｰﾀ指定
CON
STA D11006               ; #02_RWr002_汎用_ｺﾏﾝﾄﾞｺｰﾄﾞ
MRD
LD<> D1534 K0            ; RB2_Z軸ﾃﾞｰﾀ指定
AND= D1530 K0            ; RB2_XY軸ﾃﾞｰﾀ指定
ANL
DW K0 D1536              ; Z軸_動作完了NO.
CON
LDA D1534                ; RB2_Z軸ﾃﾞｰﾀ指定
CON
STA D11006               ; #02_RWr002_汎用_ｺﾏﾝﾄﾞｺｰﾄﾞ
MRD
LD<> D1534 K0            ; RB2_Z軸ﾃﾞｰﾀ指定
AND= D1530 K0            ; RB2_XY軸ﾃﾞｰﾀ指定
ANL
OUT M1805                ; RCX240_Z軸動作指令
MRD
LD<> D1530 K0            ; RB2_XY軸ﾃﾞｰﾀ指定
AND= D1534 K0            ; RB2_Z軸ﾃﾞｰﾀ指定
ANB M1805                ; RCX240_Z軸動作指令
ANL
OUT M1804                ; RCX240_XY軸動作指令
MPP
LD M1804                 ; RCX240_XY軸動作指令
OR M1805                 ; RCX240_Z軸動作指令
ANL
OUT M1800                ; RCX240動作指令
LD M1666                 ; STEP6
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ANB M1802                ; RCX240動作中
@INC D1502               ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ
LD M1667                 ; STEP7
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1801                ; RCX240動作完了
MPS
LD<> D1530 K0            ; RB2_XY軸ﾃﾞｰﾀ指定
AND= D1534 K0            ; RB2_Z軸ﾃﾞｰﾀ指定
AND= D10006 D1530        ; #02_RWw002_完了POS_SIW_02  RB2_XY軸ﾃﾞｰﾀ指定
ANL
LDA D10006               ; #02_RWw002_完了POS_SIW_02
CON
STA D1532                ; XY軸_動作完了NO.
MRD
LD<> D1534 K0            ; RB2_Z軸ﾃﾞｰﾀ指定
AND= D1530 K0            ; RB2_XY軸ﾃﾞｰﾀ指定
AND= D10006 D1534        ; #02_RWw002_完了POS_SIW_02  RB2_Z軸ﾃﾞｰﾀ指定
ANL
LDA D10006               ; #02_RWw002_完了POS_SIW_02
CON
STA D1536                ; Z軸_動作完了NO.
MPP
LD<> D1530 K0            ; RB2_XY軸ﾃﾞｰﾀ指定
AND= D1534 K0            ; RB2_Z軸ﾃﾞｰﾀ指定
AND= D10006 D1532        ; #02_RWw002_完了POS_SIW_02  XY軸_動作完了NO.
LD<> D1534 K0            ; RB2_Z軸ﾃﾞｰﾀ指定
AND= D1530 K0            ; RB2_XY軸ﾃﾞｰﾀ指定
AND= D10006 D1536        ; #02_RWw002_完了POS_SIW_02  Z軸_動作完了NO.
ORL
AND M1739                ; ﾕﾆｯﾄ1-3ｽﾃｯﾊﾟ
ANL
@INC D1502               ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ
LD M1668                 ; STEP8
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1739                ; ﾕﾆｯﾄ1-3ｽﾃｯﾊﾟ
@INC D1502               ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ
LD M1669                 ; STEP9
MPS
LD= D1530 K0             ; RB2_XY軸ﾃﾞｰﾀ指定
AND= D1534 K0            ; RB2_Z軸ﾃﾞｰﾀ指定
ANL
@INC D1502               ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ
MRD
LD<> D1530 K0            ; RB2_XY軸ﾃﾞｰﾀ指定
AND= D1534 K0            ; RB2_Z軸ﾃﾞｰﾀ指定
ANL
MOV K0 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
MPP
LD<> D1534 K0            ; RB2_Z軸ﾃﾞｰﾀ指定
AND= D1530 K0            ; RB2_XY軸ﾃﾞｰﾀ指定
ANL
MOV K0 D1534             ; RB2_Z軸ﾃﾞｰﾀ指定
LD M1670                 ; STEP10
AND M1739                ; ﾕﾆｯﾄ1-3ｽﾃｯﾊﾟ
@INC D1502               ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ
LD M1671                 ; STEP11
@INC D1502               ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ
LD M1672                 ; STEP12
@INC D1502               ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ
LD M1673                 ; STEP13
@INC D1502               ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ
LD M1674                 ; STEP14
@INC D1502               ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ
LD M1675                 ; STEP15
@INC D1502               ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M1676                 ; STEP16
MOV K63 D1502            ; ﾕﾆｯﾄ2-3自動運転ｽﾃｯﾌﾟ
;　　RCX240X軸_現在値吐き出し処理
LD X102B                 ; #02_RX00B_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ実行状態
OR X1034                 ; #02_RX014_PRG_RUN_24
AND<=.L D10014 +22000    ; #02_RWr00A_X軸現在値10
AND X1041                ; #02_41_Z軸搬送高さ(領域判定)
OUT M1806                ; X軸_RB5-7不干渉位置
;　　RCX240Y軸_現在値吐き出し処理
LD X102B                 ; #02_RX00B_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ実行状態
OR X1034                 ; #02_RX014_PRG_RUN_24
AND<=.L D10016 +11500    ; #02_RWr00C_Y軸現在値12
AND X1040                ; #02_40_上治具下降OK(領域判定)
OUT M1808                ; Y軸_ﾌﾗｯｼｭ不干渉位置
;　　RCX240Z軸_現在値吐き出し処理
LD X102B                 ; #02_RX00B_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ実行状態
OR X1034                 ; #02_RX014_PRG_RUN_24
AND<=.L D10018 +10000    ; #02_RWr00E_汎用SOD14
OUT M1810                ; ｾﾝｻｰ確認有効高さ
;<h1/>□原点復帰回路
LD CR2002                ; 常時ON
FMOV K0 M1750 K3         ; ﾕﾆｯﾄ1原点復帰開始
LDB M1984                ; ﾕﾆｯﾄ2原点復帰中
MOV K0 D1510             ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1984                 ; ﾕﾆｯﾄ2原点復帰中
MOV D1510 Z1             ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
SET M1750:Z1             ; ﾕﾆｯﾄ1原点復帰開始
;原点復帰ｻｲｸﾙ監視
LD M1984                 ; ﾕﾆｯﾄ2原点復帰中
TMR K200 K200            ; ｺｰﾃｨﾝｸﾞ部原点復帰ﾀｲﾑｱｳﾄ
;原点復帰ステップ開始
LD M1750                 ; ﾕﾆｯﾄ1原点復帰開始
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1751                 ; STEP1
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1752                 ; STEP2
AND T201                 ; 搬送部安全OK
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MPS
LDB X1231                ; 搬送P&Pﾁｬｯｸ1開端
ORB X1233                ; 搬送P&Pﾁｬｯｸ2開端
ANL
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
MPP
LD X1231                 ; 搬送P&Pﾁｬｯｸ1開端
AND X1233                ; 搬送P&Pﾁｬｯｸ2開端
ANL
@MOV K5 D1510            ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
;　　ﾁｬｯｸ開要求(開いていない場合は、ﾜｰｸがあるだろう)
LD M1753                 ; STEP3_ﾜｰｸ除去要求
AND T201                 ; 搬送部安全OK
AND B0324                ; 804)搬送ﾜｰｸ除去要求
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1754                 ; STEP4
AND T201                 ; 搬送部安全OK
ANB B0324                ; 804)搬送ﾜｰｸ除去要求
@MOV K47 D1510           ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
;　　ﾌﾗｯｼｭ状態ﾁｪｯｸ
LD M1755                 ; STEP5
AND T201                 ; 搬送部安全OK
AND T769                 ; ST1ﾊﾞｯｸｱｯﾌﾟﾎﾞｰﾄﾞ上下上昇端
AND T969                 ; ST2_BackupBoard上下上昇端
LD T1169                 ; ST3_BackupBoard上下上昇端
ORB M990                 ; 能拡_ST3有効(ON:有効)
ANL
LD T1369                 ; ST4_BackupBoard上下上昇端
ORB M991                 ; 能拡_ST4有効(ON:有効)
ANL
MPS
ANB X1042                ; #02_42_ﾁｬｯｸ傾き確認位置(領域判定
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
RES M2331                ; ORG_y軸後退flg_s17より
MPP
AND X1042                ; #02_42_ﾁｬｯｸ傾き確認位置(領域判定
MOV K17 D1510            ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
SET M2331                ; ORG_y軸後退flg_s17より
LD M1756                 ; STEP6
AND T201                 ; 搬送部安全OK
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
;　　RB原点復帰ﾌﾗｸﾞ確認
LD M1757                 ; STEP7
AND T201                 ; 搬送部安全OK
MPS
LDB X1029                ; #02_RX009_原点復帰完了状態
AND CR2003               ; 常時OFF
ANL
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
MPP
AND X1029                ; #02_RX009_原点復帰完了状態
MOV K12 D1510            ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
;　　手動ﾓｰﾄﾞへ切り替え
LD M1758                 ; STEP8_RCX240手動ﾓｰﾄﾞへ変更
AND T201                 ; 搬送部安全OK
ANB X1028                ; #02_RX008_自動運転ﾓｰﾄﾞ状態
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1759                 ; STEP9
AND T201                 ; 搬送部安全OK
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
;　　原点復帰入力
LD M1760                 ; STEP10_原点復帰入力
AND T201                 ; 搬送部安全OK
AND X1029                ; #02_RX009_原点復帰完了状態
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1761                 ; STEP11
AND T201                 ; 搬送部安全OK
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
;　　Z軸待機位置移動
LD M1762                 ; STEP12
AND T201                 ; 搬送部安全OK
AND M1890                ; Z_搬送高さ移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
MPS
AND= K109 D1534          ; RB2_Z軸ﾃﾞｰﾀ指定
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
MPP
MOV K109 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
LD M1763                 ; STEP13_ORG_Z軸待機位置移動指令
AND T201                 ; 搬送部安全OK
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1764                 ; STEP14
AND T201                 ; 搬送部安全OK
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1840                ; Z_搬送高さ
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1765                 ; STEP15_
AND T201                 ; 搬送部安全OK
LD T203                  ; 搬送P&Pﾁｬｯｸ旋回旋回端
OR T204                  ; 搬送P&Pﾁｬｯｸ旋回戻り端
OR M1808                 ; Y軸_ﾌﾗｯｼｭ不干渉位置
ANL
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1766                 ; STEP16
AND T201                 ; 搬送部安全OK
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
;　　Y軸待機位置移動指令
LD M1767                 ; STEP17
AND T201                 ; 搬送部安全OK
AND M1870                ; XY_待機位置移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
MPS
AND= K5 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
MPP
MOV K5 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
LD M1768                 ; STEP18_ORG_XY待機位置移動指令
AND T201                 ; 搬送部安全OK
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1769                 ; STEP19
AND T201                 ; 搬送部安全OK
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1835                ; XY_Y軸待機位置
MPS
ANB M2331                ; ORG_y軸後退flg_s17より
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
MPP
AND M2331                ; ORG_y軸後退flg_s17より
MOV K1 D1510             ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1770                 ; STEP20_ﾁｬｯｸ回転指令
AND T201                 ; 搬送部安全OK
AND Y2385                ; 搬送P&Pﾁｬｯｸ旋回戻り
AND T204                 ; 搬送P&Pﾁｬｯｸ旋回戻り端
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1771                 ; STEP21_ﾁｬｯｸﾜｰｸ有無ﾁｪｯｸ
AND T201                 ; 搬送部安全OK
@INC D1510               ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
;　　ﾜｰｸﾁｬｯｸ無し時ﾁｬｯｸ開指令
LD M1772                 ; STEP22_ﾁｬｯｸ開指令
AND T201                 ; 搬送部安全OK
AND Y2383                ; 搬送P&Pﾁｬｯｸ2開
AND Y2381                ; 搬送P&Pﾁｬｯｸ1開
AND X1231                ; 搬送P&Pﾁｬｯｸ1開端
AND X1233                ; 搬送P&Pﾁｬｯｸ2開端
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
FMOV K0 D1700 K100       ; 搬送Hand1_INDEX NO.
FMOV K0 D1800 K100       ; 搬送Hand2_INDEX NO.
;　　傾き確認動作（Z軸ｺﾏﾝﾄﾞ999）
LD M1773                 ; STEP23
AND T201                 ; 搬送部安全OK
AND M1904                ; ﾊﾝﾄﾞ傾き確認OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
MPS
LD= K999 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
ANB M2330                ; Hand傾き確認異常
ANL
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
MRD
MOV K999 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
MPP
RES M2330                ; Hand傾き確認異常
LD M1774                 ; STEP24_傾き確認動作指令
AND T201                 ; 搬送部安全OK
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1775                 ; STEP25
MPS
LDB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
ANB X103B                ; #02_RX01B_ﾁｬｯｸｶﾀﾑｷｶｸﾆﾝ中_33
ANL
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
MPP
LD X103B                 ; #02_RX01B_ﾁｬｯｸｶﾀﾑｷｶｸﾆﾝ中_33
AND Y203B                ; #02_RY01B_ﾁｬｯｸ傾き有信号_33
ANL
SET M2330                ; Hand傾き確認異常
LD M1776                 ; STEP26_
AND T201                 ; 搬送部安全OK
AND M1870                ; XY_待機位置移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
MPS
AND= K9 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
MPP
MOV K9 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
LD M1777                 ; STEP27_XY軸後退指令
AND T201                 ; 搬送部安全OK
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1778                 ; STEP28
AND T201                 ; 搬送部安全OK
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1820                ; XY_待機位置
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1779                 ; STEP29
AND T201                 ; 搬送部安全OK
AND M1890                ; Z_搬送高さ移動_OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
MPS
AND= K109 D1534          ; RB2_Z軸ﾃﾞｰﾀ指定
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
MPP
MOV K109 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
LD M1780                 ; STEP30_Z軸待機高さ移動指令
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1781                 ; STEP31
AND T201                 ; 搬送部安全OK
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1840                ; Z_搬送高さ
INC D1510                ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1782                 ; STEP32_ﾊﾝﾄﾞ傾き確認結果
MPS
LDB M2330                ; Hand傾き確認異常
AND M1995                ; ﾊﾝﾄﾞ傾き確認結果OK記憶
ANL
MOV K45 D1510            ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
MPP
LD M2330                 ; Hand傾き確認異常
AND B046                 ; 070)ﾊﾝﾄﾞ傾き異常
ANL
MOV K63 D1510            ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1782                 ; STEP32_ﾊﾝﾄﾞ傾き確認結果
ANB M2330                ; Hand傾き確認異常
LD M1995                 ; ﾊﾝﾄﾞ傾き確認結果OK記憶
ANB M1750                ; ﾕﾆｯﾄ1原点復帰開始
ORL
AND M50                  ; 運転準備
OUT M1995                ; ﾊﾝﾄﾞ傾き確認結果OK記憶
;原点復帰終了
LD M1795                 ; STEP45
AND T201                 ; 搬送部安全OK
MPS
AND M1980                ; 搬送ST1_原点
MOV K46 D1510            ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
MPP
FMOV K0 D1700 K200       ; 搬送Hand1_INDEX NO.
LD M1795                 ; STEP45
AND M1980                ; 搬送ST1_原点
LD M1994                 ; 搬送部原点復帰記憶
ANB M1750                ; ﾕﾆｯﾄ1原点復帰開始
ORL
LDB T209                 ; 搬送部安全開時間
OR M71                   ; 自動運転開始BZ
OR M81                   ; 原点復帰動作中
ANL
OUT M1994                ; 搬送部原点復帰記憶
LD M1796                 ; STEP46
AND M1994                ; 搬送部原点復帰記憶
ANB M82                  ; 原点復帰開始
@MOV K47 D1510           ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
;<h1/>□手動回路
;<h1/>____XY軸ｲﾝﾀｰﾛｯｸ
LD M129                  ; 安全入力OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
LD M1840                 ; Z_搬送高さ
OR X1042                 ; #02_42_ﾁｬｯｸ傾き確認位置(領域判定
ANL
MPS
OUT M1870                ; XY_待機位置移動_OK
MPP
LDB X1042                ; #02_42_ﾁｬｯｸ傾き確認位置(領域判定
LD M1820                 ; XY_待機位置
OR M1835                 ; XY_Y軸待機位置
OR M1832                 ; XY_OKｺﾝﾍﾞﾔ位置
OR M1833                 ; XY_NGｺﾝﾍﾞﾔ位置
ANL
AND M1808                ; Y軸_ﾌﾗｯｼｭ不干渉位置
ANB X1042                ; #02_42_ﾁｬｯｸ傾き確認位置(領域判定
ANL
OUT M1871                ; XY_ﾜｰｸ受取位置移動_OK
LD M129                  ; 安全入力OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
AND M1840                ; Z_搬送高さ
ANB X1042                ; #02_42_ﾁｬｯｸ傾き確認位置(領域判定
AND T769                 ; ST1ﾊﾞｯｸｱｯﾌﾟﾎﾞｰﾄﾞ上下上昇端
LD M1820                 ; XY_待機位置
OR M1822                 ; XY_Hand1ST1ﾜｰｸ置き位置
OR M1837                 ; XY_ST2前待機位置
OR M1838                 ; XY_ST3前待機位置
OR M1839                 ; XY_ST4前待機位置
OR M1823                 ; XY_Hand2ST1ﾜｰｸ取り位置
OR M1835                 ; XY_Y軸待機位置
OR M1836                 ; XY_ST1前待機位置
ANL
MPS
LD T204                  ; 搬送P&Pﾁｬｯｸ旋回戻り端
OR M41                   ; 全ﾕﾆｯﾄ起動中
ANL
OUT M1872                ; XY_Hand1ST1ﾜｰｸ置き位置移動_OK
MPP
LD T203                  ; 搬送P&Pﾁｬｯｸ旋回旋回端
OR M41                   ; 全ﾕﾆｯﾄ起動中
AND T223                 ; ﾁｬｯｸ2開端ONﾀｲﾏ
ANL
OUT M1873                ; XY_Hand2ST1ﾜｰｸ取り位置移動_OK
LD M129                  ; 安全入力OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
AND M1840                ; Z_搬送高さ
ANB X1042                ; #02_42_ﾁｬｯｸ傾き確認位置(領域判定
AND X1269                ; ST2ﾊﾞｯｸｱｯﾌﾟﾎﾞｰﾄﾞ上下上昇端
LD M1820                 ; XY_待機位置
OR M1824                 ; XY_Hand1ST2ﾜｰｸ置き位置
OR M1836                 ; XY_ST1前待機位置
OR M1838                 ; XY_ST3前待機位置
OR M1839                 ; XY_ST4前待機位置
OR M1825                 ; XY_Hand2ST2ﾜｰｸ取り位置
OR M1835                 ; XY_Y軸待機位置
OR M1837                 ; XY_ST2前待機位置
ANL
MPS
LD T204                  ; 搬送P&Pﾁｬｯｸ旋回戻り端
OR M41                   ; 全ﾕﾆｯﾄ起動中
ANL
OUT M1874                ; XY_Hand1ST2ﾜｰｸ置き位置移動_OK
MPP
LD T203                  ; 搬送P&Pﾁｬｯｸ旋回旋回端
OR M41                   ; 全ﾕﾆｯﾄ起動中
AND T223                 ; ﾁｬｯｸ2開端ONﾀｲﾏ
ANL
OUT M1875                ; XY_Hand2ST2ﾜｰｸ取り位置移動_OK
LD M129                  ; 安全入力OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
AND M1840                ; Z_搬送高さ
ANB X1042                ; #02_42_ﾁｬｯｸ傾き確認位置(領域判定
AND X1289                ; ST3ﾊﾞｯｸｱｯﾌﾟﾎﾞｰﾄﾞ上下上昇端
LD M1820                 ; XY_待機位置
OR M1826                 ; XY_Hand1ST3ﾜｰｸ置き位置
OR M1836                 ; XY_ST1前待機位置
OR M1837                 ; XY_ST2前待機位置
OR M1839                 ; XY_ST4前待機位置
OR M1827                 ; XY_Hand2ST3ﾜｰｸ取り位置
OR M1835                 ; XY_Y軸待機位置
OR M1838                 ; XY_ST3前待機位置
ANL
MPS
LD T204                  ; 搬送P&Pﾁｬｯｸ旋回戻り端
OR M41                   ; 全ﾕﾆｯﾄ起動中
ANL
OUT M1876                ; XY_Hand1ST3ﾜｰｸ置き位置移動_OK
MPP
LD T203                  ; 搬送P&Pﾁｬｯｸ旋回旋回端
OR M41                   ; 全ﾕﾆｯﾄ起動中
AND T223                 ; ﾁｬｯｸ2開端ONﾀｲﾏ
ANL
OUT M1877                ; XY_Hand2ST3ﾜｰｸ取り位置移動_OK
LD M129                  ; 安全入力OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
AND M1840                ; Z_搬送高さ
ANB X1042                ; #02_42_ﾁｬｯｸ傾き確認位置(領域判定
AND X1309                ; ST4ﾊﾞｯｸｱｯﾌﾟﾎﾞｰﾄﾞ上下上昇端
LD M1820                 ; XY_待機位置
OR M1826                 ; XY_Hand1ST3ﾜｰｸ置き位置
OR M1836                 ; XY_ST1前待機位置
OR M1837                 ; XY_ST2前待機位置
OR M1838                 ; XY_ST3前待機位置
OR M1827                 ; XY_Hand2ST3ﾜｰｸ取り位置
OR M1835                 ; XY_Y軸待機位置
OR M1839                 ; XY_ST4前待機位置
ANL
MPS
LD T204                  ; 搬送P&Pﾁｬｯｸ旋回戻り端
OR M41                   ; 全ﾕﾆｯﾄ起動中
ANL
OUT M1878                ; XY_Hand1ST4ﾜｰｸ置き位置移動_OK
MPP
LD T203                  ; 搬送P&Pﾁｬｯｸ旋回旋回端
OR M41                   ; 全ﾕﾆｯﾄ起動中
AND T223                 ; ﾁｬｯｸ2開端ONﾀｲﾏ
ANL
OUT M1879                ; XY_Hand2ST4ﾜｰｸ取り位置移動_OK
LD M129                  ; 安全入力OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
AND M1840                ; Z_搬送高さ
MPS
AND CR2003               ; 常時OFF
OUT M1880
MRD
AND CR2003               ; 常時OFF
OUT M1881
MRD
ANB X1042                ; #02_42_ﾁｬｯｸ傾き確認位置(領域判定
OUT M1882                ; XY_OKｺﾝﾍﾞﾔ位置移動_OK
OUT M1883                ; XY_NGｺﾝﾍﾞﾔ位置移動_OK
MPP
OUT M1884                ; XY_Y軸待機位置移動_OK
;<h1/>____Z軸ｲﾝﾀｰﾛｯｸ
LD M129                  ; 安全入力OK
AND M1732                ; ﾕﾆｯﾄ1-3_RCX240起動条件
ANB X1042                ; #02_42_ﾁｬｯｸ傾き確認位置(領域判定
OUT M1890                ; Z_搬送高さ移動_OK
MPS
LD T204                  ; 搬送P&Pﾁｬｯｸ旋回戻り端
AND M1821                ; XY_ﾜｰｸ受取位置
LD X1230                 ; 搬送P&Pﾁｬｯｸ1閉端
ANB T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
OR X1236                 ; 搬送P&Pﾁｬｯｸ1閉時ﾜｰｸ確認
OR X1231                 ; 搬送P&Pﾁｬｯｸ1開端
ANL
ANL
OUT M1891                ; Z_Hand1ﾜｰｸ受取高さ移動_OK
MRD
LD T204                  ; 搬送P&Pﾁｬｯｸ旋回戻り端
AND M1822                ; XY_Hand1ST1ﾜｰｸ置き位置
LD X1230                 ; 搬送P&Pﾁｬｯｸ1閉端
AND M35                  ; 空運転ﾓｰﾄﾞ
OR X1236                 ; 搬送P&Pﾁｬｯｸ1閉時ﾜｰｸ確認
ANB M4320                ; ST1ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
OR X1231                 ; 搬送P&Pﾁｬｯｸ1開端
ANL
ANL
OUT M1892                ; Z_Hand1ST1ﾜｰｸ置高位置移動_OK
MRD
LD T203                  ; 搬送P&Pﾁｬｯｸ旋回旋回端
AND M1823                ; XY_Hand2ST1ﾜｰｸ取り位置
LD X1232                 ; 搬送P&Pﾁｬｯｸ2閉端
OR X1237                 ; 搬送P&Pﾁｬｯｸ2閉時ﾜｰｸ確認
ANB M4320                ; ST1ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
OR X1233                 ; 搬送P&Pﾁｬｯｸ2開端
ANL
ANL
OUT M1893                ; Z_Hand2ST1ﾜｰｸ取高さ位置移動_OK
MRD
LD T204                  ; 搬送P&Pﾁｬｯｸ旋回戻り端
AND M1824                ; XY_Hand1ST2ﾜｰｸ置き位置
LD X1230                 ; 搬送P&Pﾁｬｯｸ1閉端
AND M35                  ; 空運転ﾓｰﾄﾞ
OR X1236                 ; 搬送P&Pﾁｬｯｸ1閉時ﾜｰｸ確認
ANB M5320                ; ST2ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
OR X1231                 ; 搬送P&Pﾁｬｯｸ1開端
ANL
ANL
OUT M1894                ; Z_Hand1ST2ﾜｰｸ置高さ位置移動_OK
MRD
LD T203                  ; 搬送P&Pﾁｬｯｸ旋回旋回端
AND M1825                ; XY_Hand2ST2ﾜｰｸ取り位置
LD X1232                 ; 搬送P&Pﾁｬｯｸ2閉端
OR X1237                 ; 搬送P&Pﾁｬｯｸ2閉時ﾜｰｸ確認
ANB M5320                ; ST2ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
OR X1233                 ; 搬送P&Pﾁｬｯｸ2開端
ANL
ANL
OUT M1895                ; Z_Hand2ST2ﾜｰｸ取高さ位置移動_OK
MRD
LD T204                  ; 搬送P&Pﾁｬｯｸ旋回戻り端
AND M1826                ; XY_Hand1ST3ﾜｰｸ置き位置
LD X1230                 ; 搬送P&Pﾁｬｯｸ1閉端
AND M35                  ; 空運転ﾓｰﾄﾞ
OR X1236                 ; 搬送P&Pﾁｬｯｸ1閉時ﾜｰｸ確認
ANB M6320                ; ST3ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
OR X1231                 ; 搬送P&Pﾁｬｯｸ1開端
ANL
ANL
OUT M1896                ; Z_Hand1ST3ﾜｰｸ置高さ位置移動_OK
MRD
LD T203                  ; 搬送P&Pﾁｬｯｸ旋回旋回端
AND M1827                ; XY_Hand2ST3ﾜｰｸ取り位置
LD X1232                 ; 搬送P&Pﾁｬｯｸ2閉端
OR X1237                 ; 搬送P&Pﾁｬｯｸ2閉時ﾜｰｸ確認
ANB M6320                ; ST3ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
OR X1233                 ; 搬送P&Pﾁｬｯｸ2開端
ANL
ANL
OUT M1897                ; Z_Hand2ST3ﾜｰｸ取高さ位置移動_OK
MRD
LD T204                  ; 搬送P&Pﾁｬｯｸ旋回戻り端
AND M1828                ; XY_Hand1ST4ﾜｰｸ置き位置
LD X1230                 ; 搬送P&Pﾁｬｯｸ1閉端
AND M35                  ; 空運転ﾓｰﾄﾞ
OR X1236                 ; 搬送P&Pﾁｬｯｸ1閉時ﾜｰｸ確認
ANB M7320                ; ST4ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
OR X1231                 ; 搬送P&Pﾁｬｯｸ1開端
ANL
ANL
OUT M1898                ; Z_Hand1ST4ﾜｰｸ置高さ位置移動_OK
MRD
LD T203                  ; 搬送P&Pﾁｬｯｸ旋回旋回端
AND M1829                ; XY_Hand2ST4ﾜｰｸ取り位置
LD X1232                 ; 搬送P&Pﾁｬｯｸ2閉端
OR X1237                 ; 搬送P&Pﾁｬｯｸ2閉時ﾜｰｸ確認
ANB M7320                ; ST4ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
OR X1233                 ; 搬送P&Pﾁｬｯｸ2開端
ANL
ANL
OUT M1899                ; Z_Hand2ST4ﾜｰｸ取高さ位置移動_OK
MRD
OUT M1900
MRD
OUT M1901
MRD
AND T203                 ; 搬送P&Pﾁｬｯｸ旋回旋回端
MPS
AND M1832                ; XY_OKｺﾝﾍﾞﾔ位置
OUT M1902                ; Z_OKｺﾝﾍﾞﾔ高さ移動_OK
MPP
AND M1833                ; XY_NGｺﾝﾍﾞﾔ位置
OUT M1903                ; Z_NGｺﾝﾍﾞﾔ高さ移動_OK
MPP
LD T204                  ; 搬送P&Pﾁｬｯｸ旋回戻り端
AND M1840                ; Z_搬送高さ
LD M1820                 ; XY_待機位置
OR M1835                 ; XY_Y軸待機位置
ANL
ANL
OUT M1904                ; ﾊﾝﾄﾞ傾き確認OK
;手動処理部
LD M31                   ; 手動ﾓｰﾄﾞ
AND M32                  ; ﾒｲﾝ手動操作可能条件
ANB M1574                ; ﾕﾆｯﾄ2-1起動中
ANB M1984                ; ﾕﾆｯﾄ2原点復帰中
ANB B040                 ; 064)RCX240異常
ANB B050                 ; 080)RB2 PRG異常
MC
;<h1/>____XY軸移動
LDP B10A0                ; 待機位置移動_SW
AND M1870                ; XY_待機位置移動_OK
LDP B10A1                ; ﾜｰｸ受取位置移動_SW
AND M1871                ; XY_ﾜｰｸ受取位置移動_OK
ORL
LDP B10A2                ; Hand1ST1ﾜｰｸ置き位置指令_SW
AND M1872                ; XY_Hand1ST1ﾜｰｸ置き位置移動_OK
ORL
LDP B10A3                ; Hand2ST1ﾜｰｸ取り位置指令_SW
AND M1873                ; XY_Hand2ST1ﾜｰｸ取り位置移動_OK
ORL
LDP B10A4                ; Hand1ST2ﾜｰｸ置き位置指令_SW
AND M1874                ; XY_Hand1ST2ﾜｰｸ置き位置移動_OK
ORL
LDP B10A5                ; Hand2ST2ﾜｰｸ取り位置指令_SW
AND M1875                ; XY_Hand2ST2ﾜｰｸ取り位置移動_OK
ORL
LDP B10A6                ; Hand1ST3ﾜｰｸ置き位置指令_SW
AND M1876                ; XY_Hand1ST3ﾜｰｸ置き位置移動_OK
ORL
LDP B10A7                ; Hand2ST3ﾜｰｸ取り位置指令_SW
AND M1877                ; XY_Hand2ST3ﾜｰｸ取り位置移動_OK
ORL
LDP B10A8                ; Hand1ST4ﾜｰｸ置き位置指令_SW
AND M1878                ; XY_Hand1ST4ﾜｰｸ置き位置移動_OK
ORL
LDP B10A9                ; Hand2ST4ﾜｰｸ取り位置指令_SW
AND M1879                ; XY_Hand2ST4ﾜｰｸ取り位置移動_OK
ORL
LDP B10AA
AND M1880
ORL
LDP B10AB
AND M1881
ORL
LDP B10AC                ; OKｺﾝﾍﾞﾔ位置移動_SW
AND M1882                ; XY_OKｺﾝﾍﾞﾔ位置移動_OK
ORL
LDP B10AD                ; NGｺﾝﾍﾞﾔ位置移動_SW
AND M1883                ; XY_NGｺﾝﾍﾞﾔ位置移動_OK
ORL
LDP B10AE                ; Y軸待機位置移動_SW
AND M1884                ; XY_Y軸待機位置移動_OK
ORL
ANB M1860                ; 搬送XY位置移動
OR M1860                 ; 搬送XY位置移動
ANB M1863                ; 搬送XY位置決め完了
MPS
OUT M1860                ; 搬送XY位置移動
MPP
ANB M1862                ; 搬送XY位置決め起動中
MPS
AND B10A0                ; 待機位置移動_SW
DW K9 D1530              ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
AND B10A1                ; ﾜｰｸ受取位置移動_SW
DW K1 D1530              ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
AND B10A2                ; Hand1ST1ﾜｰｸ置き位置指令_SW
DW K10 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
AND B10A3                ; Hand2ST1ﾜｰｸ取り位置指令_SW
DW K11 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
AND B10A4                ; Hand1ST2ﾜｰｸ置き位置指令_SW
DW K15 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
AND B10A5                ; Hand2ST2ﾜｰｸ取り位置指令_SW
DW K16 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
AND B10A6                ; Hand1ST3ﾜｰｸ置き位置指令_SW
DW K20 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
AND B10A7                ; Hand2ST3ﾜｰｸ取り位置指令_SW
DW K21 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
AND B10A8                ; Hand1ST4ﾜｰｸ置き位置指令_SW
DW K25 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
AND B10A9                ; Hand2ST4ﾜｰｸ取り位置指令_SW
DW K26 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
LD B10AA
AND CR2003               ; 常時OFF
ANL
DW K30 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
LD B10AB
AND CR2003               ; 常時OFF
ANL
DW K31 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
AND B10AC                ; OKｺﾝﾍﾞﾔ位置移動_SW
DW K35 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
AND B10AD                ; NGｺﾝﾍﾞﾔ位置移動_SW
DW K36 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
MRD
AND B10AE                ; Y軸待機位置移動_SW
DW K5 D1530              ; RB2_XY軸ﾃﾞｰﾀ指定
MPP
OUT M1861                ; 搬送XY位置移動指令
LD M1861                 ; 搬送XY位置移動指令
AND M1860                ; 搬送XY位置移動
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
OR M1862                 ; 搬送XY位置決め起動中
AND M1860                ; 搬送XY位置移動
OUT M1862                ; 搬送XY位置決め起動中
LD M1862                 ; 搬送XY位置決め起動中
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1801                ; RCX240動作完了
AND M1860                ; 搬送XY位置移動
OUT M1863                ; 搬送XY位置決め完了
;<h1/>____Z軸移動
LDP B10B0                ; 搬送高さ移動_SW
AND M1890                ; Z_搬送高さ移動_OK
LDP B10B1                ; Hand1ﾜｰｸ受取高さ移動_SW
AND M1891                ; Z_Hand1ﾜｰｸ受取高さ移動_OK
ORL
LDP B10B2                ; Hand1ST1ﾜｰｸ置高さ位置指令_SW
AND M1892                ; Z_Hand1ST1ﾜｰｸ置高位置移動_OK
ORL
LDP B10B3                ; Hand2ST1ﾜｰｸ取高さ位置指令_SW
AND M1893                ; Z_Hand2ST1ﾜｰｸ取高さ位置移動_OK
ORL
LDP B10B4                ; Hand1ST2ﾜｰｸ置高さ位置指令_SW
AND M1894                ; Z_Hand1ST2ﾜｰｸ置高さ位置移動_OK
ORL
LDP B10B5                ; Hand2ST2ﾜｰｸ取高さ位置指令_SW
AND M1895                ; Z_Hand2ST2ﾜｰｸ取高さ位置移動_OK
ORL
LDP B10B6                ; Hand1ST3ﾜｰｸ置高さ位置指令_SW
AND M1896                ; Z_Hand1ST3ﾜｰｸ置高さ位置移動_OK
ORL
LDP B10B7                ; Hand2ST3ﾜｰｸ取高さ位置指令_SW
AND M1897                ; Z_Hand2ST3ﾜｰｸ取高さ位置移動_OK
ORL
LDP B10B8                ; Hand1ST4ﾜｰｸ置高さ位置指令_SW
AND M1898                ; Z_Hand1ST4ﾜｰｸ置高さ位置移動_OK
ORL
LDP B10B9                ; Hand2ST4ﾜｰｸ取高さ位置指令_SW
AND M1899                ; Z_Hand2ST4ﾜｰｸ取高さ位置移動_OK
ORL
LDP B10BA
AND M1900
ORL
LDP B10BB
AND M1901
ORL
LDP B10BC                ; OKｺﾝﾍﾞﾔ高さ移動_SW
AND M1902                ; Z_OKｺﾝﾍﾞﾔ高さ移動_OK
ORL
LDP B10BD                ; NGｺﾝﾍﾞﾔ高さ移動_SW
AND M1903                ; Z_NGｺﾝﾍﾞﾔ高さ移動_OK
ORL
ANB M1865                ; 搬送Z位置移動
OR M1865                 ; 搬送Z位置移動
ANB M1868                ; 搬送Z位置決め完了
MPS
OUT M1865                ; 搬送Z位置移動
MPP
ANB M1867                ; 搬送Z位置決め起動中
MPS
AND B10B0                ; 搬送高さ移動_SW
DW K109 D1534            ; RB2_Z軸ﾃﾞｰﾀ指定
MRD
AND B10B1                ; Hand1ﾜｰｸ受取高さ移動_SW
DW K101 D1534            ; RB2_Z軸ﾃﾞｰﾀ指定
MRD
AND B10B2                ; Hand1ST1ﾜｰｸ置高さ位置指令_SW
DW K110 D1534            ; RB2_Z軸ﾃﾞｰﾀ指定
MRD
AND B10B3                ; Hand2ST1ﾜｰｸ取高さ位置指令_SW
DW K111 D1534            ; RB2_Z軸ﾃﾞｰﾀ指定
MRD
AND B10B4                ; Hand1ST2ﾜｰｸ置高さ位置指令_SW
DW K115 D1534            ; RB2_Z軸ﾃﾞｰﾀ指定
MRD
AND B10B5                ; Hand2ST2ﾜｰｸ取高さ位置指令_SW
DW K116 D1534            ; RB2_Z軸ﾃﾞｰﾀ指定
MRD
AND B10B6                ; Hand1ST3ﾜｰｸ置高さ位置指令_SW
DW K120 D1534            ; RB2_Z軸ﾃﾞｰﾀ指定
MRD
AND B10B7                ; Hand2ST3ﾜｰｸ取高さ位置指令_SW
DW K121 D1534            ; RB2_Z軸ﾃﾞｰﾀ指定
MRD
AND B10B8                ; Hand1ST4ﾜｰｸ置高さ位置指令_SW
DW K125 D1534            ; RB2_Z軸ﾃﾞｰﾀ指定
MRD
AND B10B9                ; Hand2ST4ﾜｰｸ取高さ位置指令_SW
DW K126 D1534            ; RB2_Z軸ﾃﾞｰﾀ指定
MRD
AND B10BA
DW K130 D1534            ; RB2_Z軸ﾃﾞｰﾀ指定
MRD
AND B10BB
DW K131 D1534            ; RB2_Z軸ﾃﾞｰﾀ指定
MRD
AND B10BC                ; OKｺﾝﾍﾞﾔ高さ移動_SW
DW K135 D1534            ; RB2_Z軸ﾃﾞｰﾀ指定
MRD
AND B10BD                ; NGｺﾝﾍﾞﾔ高さ移動_SW
DW K136 D1534            ; RB2_Z軸ﾃﾞｰﾀ指定
MPP
OUT M1866                ; 搬送Z位置移動指令
LD M1866                 ; 搬送Z位置移動指令
AND M1865                ; 搬送Z位置移動
AND M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
OR M1867                 ; 搬送Z位置決め起動中
AND M1865                ; 搬送Z位置移動
OUT M1867                ; 搬送Z位置決め起動中
LD M1867                 ; 搬送Z位置決め起動中
ANB M1734                ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
AND M1801                ; RCX240動作完了
AND M1865                ; 搬送Z位置移動
OUT M1868                ; 搬送Z位置決め完了
;ﾍｯﾄﾞ旋回
LD CR2002                ; 常時ON
AND M129                 ; 安全入力OK
ANB X1042                ; #02_42_ﾁｬｯｸ傾き確認位置(領域判定
AND M1840                ; Z_搬送高さ
LD M1808                 ; Y軸_ﾌﾗｯｼｭ不干渉位置
LD X1044                 ; #02_44_RBがST1内にいる(領域判定)
ANB X1252                ; ST1ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
AND X124D                ; 下治具ST1基板受取下降端
AND X1250                ; ST1ﾌｨｸｽﾁｬｰ下降確認1
AND X1251                ; ST1ﾌｨｸｽﾁｬｰ下降確認2
ORL
LD X1045                 ; #02_45_RBがST2内にいる(領域判定)
ANB X1272                ; ST2ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
AND X126D                ; 下治具ST2基板受取下降端
AND X1270                ; ST2ﾌｨｸｽﾁｬｰ下降確認1
AND X1271                ; ST2ﾌｨｸｽﾁｬｰ下降確認2
ORL
LD X1046                 ; #02_46_RBがST3内にいる(領域判定)
ANB X1292                ; ST3ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
AND X128D                ; 下治具ST3基板受取下降端
AND X1290                ; ST3ﾌｨｸｽﾁｬｰ下降確認1
AND X1291                ; ST3ﾌｨｸｽﾁｬｰ下降確認2
ORL
LD X1047                 ; #02_47_RBがST4内にいる(領域判定)
ANB X1312                ; ST4ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
AND X130D                ; 下治具ST4基板受取下降端
AND X1310                ; ST4ﾌｨｸｽﾁｬｰ下降確認1
AND X1311                ; ST4ﾌｨｸｽﾁｬｰ下降確認2
ORL
ANL
OUT M1910                ; Hand旋回_旋回側OK
LDP B10C0                ; Hand旋回_旋回側_TP-PB
AND M1910                ; Hand旋回_旋回側OK
LD M1911                 ; Hand旋回_旋回側指令
ANB M1913                ; Hand旋回_戻り側指令
ORL
OUT M1911                ; Hand旋回_旋回側指令
LD CR2002                ; 常時ON
AND M129                 ; 安全入力OK
ANB X1042                ; #02_42_ﾁｬｯｸ傾き確認位置(領域判定
AND M1840                ; Z_搬送高さ
LD M1808                 ; Y軸_ﾌﾗｯｼｭ不干渉位置
LD X1044                 ; #02_44_RBがST1内にいる(領域判定)
ANB X1252                ; ST1ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
AND X124D                ; 下治具ST1基板受取下降端
AND X1250                ; ST1ﾌｨｸｽﾁｬｰ下降確認1
AND X1251                ; ST1ﾌｨｸｽﾁｬｰ下降確認2
ORL
LD X1045                 ; #02_45_RBがST2内にいる(領域判定)
ANB X1272                ; ST2ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
AND X126D                ; 下治具ST2基板受取下降端
AND X1270                ; ST2ﾌｨｸｽﾁｬｰ下降確認1
AND X1271                ; ST2ﾌｨｸｽﾁｬｰ下降確認2
ORL
LD X1046                 ; #02_46_RBがST3内にいる(領域判定)
ANB X1292                ; ST3ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
AND X128D                ; 下治具ST3基板受取下降端
AND X1290                ; ST3ﾌｨｸｽﾁｬｰ下降確認1
AND X1291                ; ST3ﾌｨｸｽﾁｬｰ下降確認2
ORL
LD X1047                 ; #02_47_RBがST4内にいる(領域判定)
ANB X1312                ; ST4ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
AND X130D                ; 下治具ST4基板受取下降端
AND X1310                ; ST4ﾌｨｸｽﾁｬｰ下降確認1
AND X1311                ; ST4ﾌｨｸｽﾁｬｰ下降確認2
ORL
ANL
OUT M1912                ; Hand旋回_戻り側OK
LDP B10C1                ; Hand旋回_戻り側_TP-PB
AND M1912                ; Hand旋回_戻り側OK
LD M1913                 ; Hand旋回_戻り側指令
ANB M1911                ; Hand旋回_旋回側指令
ORL
OUT M1913                ; Hand旋回_戻り側指令
;ﾍｯﾄﾞ1_ﾁｬｯｸ開閉
LD CR2002                ; 常時ON
AND M129                 ; 安全入力OK
LD T204                  ; 搬送P&Pﾁｬｯｸ旋回戻り端
OR M37                   ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
ANL
OUT M1918                ; Hand1ﾁｬｯｸ閉ON_OK
LDP B10C2                ; Hand1_ﾁｬｯｸ閉sw
AND M1918                ; Hand1ﾁｬｯｸ閉ON_OK
LD M1919                 ; Hand1ﾁｬｯｸ閉_指令
ANB M1921                ; Hand1_ﾁｬｯｸ開_指令
ORL
OUT M1919                ; Hand1ﾁｬｯｸ閉_指令
LD CR2002                ; 常時ON
AND M129                 ; 安全入力OK
LD T204                  ; 搬送P&Pﾁｬｯｸ旋回戻り端
OR M37                   ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
ANL
OUT M1920                ; Hand1ﾁｬｯｸ閉OFF_OK
LDP B10C3                ; Hand1_ﾁｬｯｸ開sw
AND M1920                ; Hand1ﾁｬｯｸ閉OFF_OK
LD M1921                 ; Hand1_ﾁｬｯｸ開_指令
ANB M1919                ; Hand1ﾁｬｯｸ閉_指令
ORL
OUT M1921                ; Hand1_ﾁｬｯｸ開_指令
;ﾍｯﾄﾞ2_ﾁｬｯｸ開閉
LD CR2002                ; 常時ON
AND M129                 ; 安全入力OK
LD T203                  ; 搬送P&Pﾁｬｯｸ旋回旋回端
OR M37                   ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
ANL
OUT M1926                ; Hand2ﾁｬｯｸ閉ON_OK
LDP B10C4                ; Hand2_ﾁｬｯｸ閉sw
AND M1926                ; Hand2ﾁｬｯｸ閉ON_OK
LD M1927                 ; Hand2ﾁｬｯｸ閉_指令
ANB M1929                ; Hand2_ﾁｬｯｸ開_指令
ORL
OUT M1927                ; Hand2ﾁｬｯｸ閉_指令
LD CR2002                ; 常時ON
AND M129                 ; 安全入力OK
LD T203                  ; 搬送P&Pﾁｬｯｸ旋回旋回端
OR M37                   ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
ANL
OUT M1928                ; Hand2ﾁｬｯｸ開ON_OK
LDP B10C5                ; Hand2_ﾁｬｯｸ開sw
AND M1928                ; Hand2ﾁｬｯｸ開ON_OK
LD M1929                 ; Hand2_ﾁｬｯｸ開_指令
ANB M1927                ; Hand2ﾁｬｯｸ閉_指令
ORL
OUT M1929                ; Hand2_ﾁｬｯｸ開_指令
MCR
;<h1/>____ﾁｬｯｸ開閉SWBOX
LD T206                  ; ﾊﾝﾄﾞ1_開SWﾀｲﾏ
AND M31                  ; 手動ﾓｰﾄﾞ
ANB M81                  ; 原点復帰動作中
AND M50                  ; 運転準備
ANB M160                 ; ﾁｬｯｸSWﾎﾞｯｸｽﾓｰﾄﾞ選択中
OUT M1922                ; ﾊﾝﾄﾞ1ﾁｬｯｸ開_指令
LD T207                  ; ﾊﾝﾄﾞ2_開SWﾀｲﾏ
AND M31                  ; 手動ﾓｰﾄﾞ
ANB M81                  ; 原点復帰動作中
AND M50                  ; 運転準備
ANB M160                 ; ﾁｬｯｸSWﾎﾞｯｸｽﾓｰﾄﾞ選択中
OUT M1930                ; ﾊﾝﾄﾞ2ﾁｬｯｸ開_指令
LD M1922                 ; ﾊﾝﾄﾞ1ﾁｬｯｸ開_指令
LD L30                   ; ﾁｬｯｸﾘﾘｰｽSW:ST1選択
AND B1645                ; ST1_BackupBoard上昇PL
ORL
LD L31                   ; ﾁｬｯｸﾘﾘｰｽSW:ST2選択
AND B1685                ; ST2_BackupBoard上昇PL
ORL
LD L32                   ; ﾁｬｯｸﾘﾘｰｽSW:ST3選択
AND B16C5                ; ST3_BackupBoard上昇PL
ORL
LD L33                   ; ﾁｬｯｸﾘﾘｰｽSW:ST4選択
AND B1705                ; ST4_BackupBoard上昇PL
ORL
LD M31                   ; 手動ﾓｰﾄﾞ
ANB X1231                ; 搬送P&Pﾁｬｯｸ1開端
ANB M81                  ; 原点復帰動作中
AND B0324                ; 804)搬送ﾜｰｸ除去要求
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT Y2175                ; ﾁｬｯｸ1開SW_PL
LD M1930                 ; ﾊﾝﾄﾞ2ﾁｬｯｸ開_指令
LD L30                   ; ﾁｬｯｸﾘﾘｰｽSW:ST1選択
AND B1644                ; ST1_BackupBoard下降PL
ORL
LD L31                   ; ﾁｬｯｸﾘﾘｰｽSW:ST2選択
AND B1684                ; ST2_BackupBoard下降PL
ORL
LD L32                   ; ﾁｬｯｸﾘﾘｰｽSW:ST3選択
AND B16C4                ; ST3_BackupBoard下降PL
ORL
LD L33                   ; ﾁｬｯｸﾘﾘｰｽSW:ST4選択
AND B1704                ; ST4_BackupBoard下降PL
ORL
LD M31                   ; 手動ﾓｰﾄﾞ
ANB X1233                ; 搬送P&Pﾁｬｯｸ2開端
ANB M81                  ; 原点復帰動作中
AND B0324                ; 804)搬送ﾜｰｸ除去要求
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT Y217D                ; ﾁｬｯｸ2開SW_PL
;<h1/>□□　　出力回路　　□□
;■ソレノイドバルブ出力
LD M1911                 ; Hand旋回_旋回側指令
AND M1910                ; Hand旋回_旋回側OK
LDP X1039                ; #02_RX019_ﾊﾝﾄﾞｾﾝｶｲﾖｳｷｭｳ_31
AND= D1534 K999          ; RB2_Z軸ﾃﾞｰﾀ指定
ORL
AND M31                  ; 手動ﾓｰﾄﾞ
LDB M2006                ; U2-S506_ﾊﾝﾄﾞ旋回指令
ANB M2260                ; Hand2回転旋回指令(ｺﾝﾍﾞﾔ移動中)
ANB M2104                ; U2-S604_ﾊﾝﾄﾞ2側へ回転(先行動作)
INV
ORL
LD M2400                 ; 搬送P&Pﾁｬｯｸ旋回旋回
ANB M2401                ; 搬送P&Pﾁｬｯｸ旋回戻り
ORL
LD M50                   ; 運転準備
OR T203                  ; 搬送P&Pﾁｬｯｸ旋回旋回端
ANL
OUT M2400                ; 搬送P&Pﾁｬｯｸ旋回旋回
LD M2400                 ; 搬送P&Pﾁｬｯｸ旋回旋回
LD T201                  ; 搬送部安全OK
OR T203                  ; 搬送P&Pﾁｬｯｸ旋回旋回端
ANL
OUT Y2384                ; 搬送P&Pﾁｬｯｸ旋回旋回
LDP M50                  ; 運転準備
SET M2384                ; 使用禁止(不明のﾘｾｯﾄがかかるため)
LD M1913                 ; Hand旋回_戻り側指令
AND M1912                ; Hand旋回_戻り側OK
LDP X103A                ; #02_RX01A_ﾊﾝﾄﾞｾﾝｶｲﾓﾄﾞﾘﾖｳｷｭｳ_32
AND= D1534 K999          ; RB2_Z軸ﾃﾞｰﾀ指定
ORL
LDB M1770                ; STEP20_ﾁｬｯｸ回転指令
INV
ORL
AND M31                  ; 手動ﾓｰﾄﾞ
LDB M1505                ; U2-1_S5_ﾊﾝﾄﾞ1側回転指令(供ｽﾗ受)
ANB M1535                ; U2-1_S35_旋回戻り指令(F供給時)
ANB M2215                ; U2-S715_旋回戻り
INV
ORL
LD M2401                 ; 搬送P&Pﾁｬｯｸ旋回戻り
ANB M2400                ; 搬送P&Pﾁｬｯｸ旋回旋回
ORL
LD M50                   ; 運転準備
OR T204                  ; 搬送P&Pﾁｬｯｸ旋回戻り端
ANL
OUT M2401                ; 搬送P&Pﾁｬｯｸ旋回戻り
LD M2401                 ; 搬送P&Pﾁｬｯｸ旋回戻り
LD T201                  ; 搬送部安全OK
OR T204                  ; 搬送P&Pﾁｬｯｸ旋回戻り端
ANL
OUT Y2385                ; 搬送P&Pﾁｬｯｸ旋回戻り
LDP M1919                ; Hand1ﾁｬｯｸ閉_指令
AND M1918                ; Hand1ﾁｬｯｸ閉ON_OK
LDB M1511                ; U2-1_S11_ﾊﾝﾄﾞ1_ﾁｬｯｸ閉指令
ANB M2221                ; U2-S721_ﾁｬｯｸ閉指令
INV
ORL
LD M2380                 ; 搬送P&Pﾁｬｯｸ1閉
ANB M2381                ; 搬送P&Pﾁｬｯｸ1開
ORL
LD M50                   ; 運転準備
OR T220                  ; ﾊﾝﾄﾞ1ﾁｬｯｸ閉ONﾀｲﾏ
OR T224                  ; 搬送P&Pﾁｬｯｸ1閉時ﾜｰｸ確認ﾀｲﾏ
ANL
OUT M2380                ; 搬送P&Pﾁｬｯｸ1閉
LD M2380                 ; 搬送P&Pﾁｬｯｸ1閉
LD T201                  ; 搬送部安全OK
LD T220                  ; ﾊﾝﾄﾞ1ﾁｬｯｸ閉ONﾀｲﾏ
OR T224                  ; 搬送P&Pﾁｬｯｸ1閉時ﾜｰｸ確認ﾀｲﾏ
AND CR2003               ; 常時OFF
ORL
ANL
OUT Y2380                ; 搬送P&Pﾁｬｯｸ1閉
LDP M1921                ; Hand1_ﾁｬｯｸ開_指令
AND M1920                ; Hand1ﾁｬｯｸ閉OFF_OK
LDB M1542                ; U2-1_S42_Hand1ﾁｬｯｸ開指令
ANB M1772                ; STEP22_ﾁｬｯｸ開指令
ANB M2222                ; U2-S722_ﾁｬｯｸ開指令
INV
ORL
OR M1922                 ; ﾊﾝﾄﾞ1ﾁｬｯｸ開_指令
LD M2381                 ; 搬送P&Pﾁｬｯｸ1開
ANB M2380                ; 搬送P&Pﾁｬｯｸ1閉
ORL
LD M50                   ; 運転準備
OR T221                  ; ﾊﾝﾄﾞ1ﾁｬｯｸ開ONﾀｲﾏ
ANL
OUT M2381                ; 搬送P&Pﾁｬｯｸ1開
LD M2381                 ; 搬送P&Pﾁｬｯｸ1開
LD T201                  ; 搬送部安全OK
OR M1922                 ; ﾊﾝﾄﾞ1ﾁｬｯｸ開_指令
OR T221                  ; ﾊﾝﾄﾞ1ﾁｬｯｸ開ONﾀｲﾏ
ANL
OUT Y2381                ; 搬送P&Pﾁｬｯｸ1開
LDP M1927                ; Hand2ﾁｬｯｸ閉_指令
AND M1926                ; Hand2ﾁｬｯｸ閉ON_OK
LDB M2012                ; U2-S512_Hand2ﾁｬｯｸ閉指令
ANB M2221                ; U2-S721_ﾁｬｯｸ閉指令
INV
ORL
LD M2382                 ; 搬送P&Pﾁｬｯｸ2閉
ANB M2383                ; 搬送P&Pﾁｬｯｸ2開
ORL
LD M50                   ; 運転準備
OR T222                  ; ﾊﾝﾄﾞ2閉端ONﾀｲﾏ
OR T225                  ; 搬送P&Pﾁｬｯｸ2閉時ﾜｰｸ確認ﾀｲﾏ
ANL
OUT M2382                ; 搬送P&Pﾁｬｯｸ2閉
LD M2382                 ; 搬送P&Pﾁｬｯｸ2閉
LD T201                  ; 搬送部安全OK
LD T222                  ; ﾊﾝﾄﾞ2閉端ONﾀｲﾏ
OR T225                  ; 搬送P&Pﾁｬｯｸ2閉時ﾜｰｸ確認ﾀｲﾏ
AND CR2003               ; 常時OFF
ORL
ANL
OUT Y2382                ; 搬送P&Pﾁｬｯｸ2閉
LD M1929                 ; Hand2_ﾁｬｯｸ開_指令
AND M1928                ; Hand2ﾁｬｯｸ開ON_OK
LDB M2034                ; U2-S534_Hand2ﾁｬｯｸ開指令
ANB M1772                ; STEP22_ﾁｬｯｸ開指令
ANB M2222                ; U2-S722_ﾁｬｯｸ開指令
INV
ORL
OR M1930                 ; ﾊﾝﾄﾞ2ﾁｬｯｸ開_指令
LD M2383                 ; 搬送P&Pﾁｬｯｸ2開
ANB M2382                ; 搬送P&Pﾁｬｯｸ2閉
ORL
LD M50                   ; 運転準備
OR T223                  ; ﾁｬｯｸ2開端ONﾀｲﾏ
ANL
OUT M2383                ; 搬送P&Pﾁｬｯｸ2開
LD M2383                 ; 搬送P&Pﾁｬｯｸ2開
LD T201                  ; 搬送部安全OK
OR M1930                 ; ﾊﾝﾄﾞ2ﾁｬｯｸ開_指令
OR T223                  ; ﾁｬｯｸ2開端ONﾀｲﾏ
ANL
OUT Y2383                ; 搬送P&Pﾁｬｯｸ2開
;<h1/>■その他制御出力
;　　■RCX240関連出力回路
LD M50                   ; 運転準備
ANB M51                  ; 即停止異常(緊急停止)
OUT Y52                  ; ST ﾜｰｸ搬送ﾛﾎﾞｯﾄ電源
LD CR2002                ; 常時ON
OUT Y310                 ; ST ﾜｰｸ搬送ﾛﾎﾞｯﾄｻｰﾋﾞｽﾓｰﾄﾞ
LD CR2002                ; 常時ON
OR M1950                 ; 搬送RBC1_ｲﾆｼｬﾙﾃﾞｰﾀ処理ｽﾀｰﾄ
ANB B01                  ; 001)非常停止異常
ANB M51                  ; 即停止異常(緊急停止)
OUT Y311                 ; ST ﾜｰｸ搬送ﾛﾎﾞｯﾄ非常停止正常
LD CR2002                ; 常時ON
OR M1950                 ; 搬送RBC1_ｲﾆｼｬﾙﾃﾞｰﾀ処理ｽﾀｰﾄ
ANB B01                  ; 001)非常停止異常
ANB M51                  ; 即停止異常(緊急停止)
OUT Y2020                ; #02_RY000_非常停止入力
LD M95                   ; ｻｰﾎﾞON遅れ時間
OUT Y2021                ; #02_RY001_ｻｰﾎﾞON入力
LD M5                    ; 運転準備補助
AND Y52                  ; ST ﾜｰｸ搬送ﾛﾎﾞｯﾄ電源
AND X300                 ; STﾜｰｸ搬送ﾛﾎﾞｯﾄ主電源投入準備完了
ANB X1020                ; #02_RX000_非常停止入力状態
ANB X1022                ; #02_RX002_ｻｰﾎﾞON状態
ONDL K100 M95            ; ｻｰﾎﾞON遅れ時間
LD CR2002                ; 常時ON
OUT Y2022                ; #02_RY002_ｻｰﾋﾞｽﾓｰﾄﾞ入力
LD T201                  ; 搬送部安全OK
AND M129                 ; 安全入力OK
OR M1950                 ; 搬送RBC1_ｲﾆｼｬﾙﾃﾞｰﾀ処理ｽﾀｰﾄ
AND M50                  ; 運転準備
OUT Y2029                ; #02_RY009_ｲﾝﾀｰﾛｯｸ入力
LD M1734                 ; 搬送RB動作(ﾕﾆｯﾄ1-3)起動中
ANB T201                 ; 搬送部安全OK
ANB Y2029                ; #02_RY009_ｲﾝﾀｰﾛｯｸ入力
LD M1955                 ; PRG再開処理
ANB M1957                ; PRG再開完了
ORL
AND X1022                ; #02_RX002_ｻｰﾎﾞON状態
AND M50                  ; 運転準備
OUT M1955                ; PRG再開処理
LD M1955                 ; PRG再開処理
AND Y2029                ; #02_RY009_ｲﾝﾀｰﾛｯｸ入力
OR M1956                 ; PRG再開要求
AND M1955                ; PRG再開処理
MPS
OUT M1956                ; PRG再開要求
MPP
LD Y2029                 ; #02_RY009_ｲﾝﾀｰﾛｯｸ入力
ANB T292                 ; PRG再開_リトライ
ANL
MPS
TMH K291 K20             ; PRG再開時間
MPP
AND T291                 ; PRG再開時間
TMR K292 K7              ; PRG再開_リトライ
LD M1956                 ; PRG再開要求
AND X102B                ; #02_RX00B_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ実行状態
OR M1957                 ; PRG再開完了
AND M1955                ; PRG再開処理
OUT M1957                ; PRG再開完了
LD M1662                 ; STEP2
AND CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
OR T291                  ; PRG再開時間
ANB X102B                ; #02_RX00B_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ実行状態
OUT Y202A                ; #02_RY00A_ｽﾀｰﾄ入力
LD M1661                 ; STEP1
ANB X1028                ; #02_RX008_自動運転ﾓｰﾄﾞ状態
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT Y202B                ; #02_RY00B_自動ﾓｰﾄﾞ入力
LD CR2003                ; 常時OFF
OUT Y202C                ; #02_RY00C_原点復帰入力
LD X1023                 ; #02_RX003_ｱﾗｰﾑ状態
ORB M50                  ; 運転準備
OR X1020                 ; #02_RX000_非常停止入力状態
AND X1028                ; #02_RX008_自動運転ﾓｰﾄﾞ状態
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ANB X102C                ; #02_RX00C_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑﾘｾｯﾄ状態
OUT Y202D                ; #02_RY00D_ﾌﾟﾛｸﾞﾗﾑﾘｾｯﾄ入力
LD M1758                 ; STEP8_RCX240手動ﾓｰﾄﾞへ変更
OUT Y202E                ; #02_RY00E_手動ﾓｰﾄﾞ入力
LD M1760                 ; STEP10_原点復帰入力
OUT Y202F                ; #02_RY00F_ｱﾌﾞｿﾘｾｯﾄ/原点復帰復帰
LD M1800                 ; RCX240動作指令
OUT Y2030                ; #02_RY010_動作指令20_PLC
LD M1804                 ; RCX240_XY軸動作指令
OUT Y2031                ; #02_RY011_21_PLC
LD M1805                 ; RCX240_Z軸動作指令
OUT Y2032                ; #02_RY012_22_PLC
LD M1840                 ; Z_搬送高さ
OR X1042                 ; #02_42_ﾁｬｯｸ傾き確認位置(領域判定
OUT Y2033                ; #02_RY013_XY軸ｲﾝﾀｰﾛｯｸ23_
LD X1034                 ; #02_RX014_PRG_RUN_24
OUT Y2034                ; #02_RY014_Prg起動確認_24
LD M31                   ; 手動ﾓｰﾄﾞ
OUT Y2035                ; #02_RY015_手動ﾓｰﾄﾞ_25
LDB T203                 ; 搬送P&Pﾁｬｯｸ旋回旋回端
ANB T204                 ; 搬送P&Pﾁｬｯｸ旋回戻り端
INV
OUT Y2036                ; #02_ﾊﾝﾄﾞ回転ﾘﾐｯﾄ検出_26
LD CR2003                ; 常時OFF
OUT Y2037                ; #02_RY017_汎用入力27_PLC→
LD M50                   ; 運転準備
AND M1730                ; ﾕﾆｯﾄ1-3原点
OUT Y2038                ; #02_RY018_運転準備ON出力_30
;　　ﾁｬｯｸ傾き確認用のI/F
LD T203                  ; 搬送P&Pﾁｬｯｸ旋回旋回端
OUT Y2039                ; #02_RY019_搬送ﾁｬｯｸ旋回端_31
LD T204                  ; 搬送P&Pﾁｬｯｸ旋回戻り端
OUT Y203A                ; #02_RY01A_搬送ﾁｬｯｸ旋回戻り端_32
LD X1238                 ; ﾊﾝﾄﾞ1ﾁｬｯｸ傾き確認(通常ON)
AND X1239                ; ﾊﾝﾄﾞ2ﾁｬｯｸ傾き確認(通常ON)
INV
AND X02                  ; 安全扉正常
ANB B0320                ; 800)安全扉開
OR Y203B                 ; #02_RY01B_ﾁｬｯｸ傾き有信号_33
MPS
ANB T215                 ; OFFﾃﾞｨﾚｲ時間
OUT Y203B                ; #02_RY01B_ﾁｬｯｸ傾き有信号_33
MPP
TMR K215 K30             ; OFFﾃﾞｨﾚｲ時間
LD B060                  ; 096)Hand旋回CLS異常
OUT Y203C                ; #02_RY01C_旋回異常_34
LD CR2003                ; 常時OFF
OUT Y203D                ; #02_RY01D_汎用入力35_PLC→
LD CR2003                ; 常時OFF
OUT Y203E                ; #02_RY01E_汎用入力36_PLC→
LD CR2003                ; 常時OFF
OUT Y203F                ; #02_RY01F_汎用入力37_PLC→
LD T290                  ; ｲﾆｼｬﾙﾃﾞｰﾀ処理時間
OUT Y2098                ; #02_RY078_ｲﾆｼｬﾙﾃﾞｰﾀ処理完了ﾌﾗｸﾞ
;<h1/>□□　　パネル表示　　□□
;	XY軸ﾀｯﾁﾊﾟﾈﾙ表示
LD M1820                 ; XY_待機位置
LD= K9 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15A0                ; 待機位置移動_PL
LD M1821                 ; XY_ﾜｰｸ受取位置
LD= K1 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15A1                ; ﾜｰｸ受取位置移動_PL
LD M1822                 ; XY_Hand1ST1ﾜｰｸ置き位置
LD= K10 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15A2                ; Hand1ST1ﾜｰｸ置き位置指令_PL
LD M1823                 ; XY_Hand2ST1ﾜｰｸ取り位置
LD= K11 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15A3                ; Hand2ST1ﾜｰｸ取り位置指令_PL
LD M1824                 ; XY_Hand1ST2ﾜｰｸ置き位置
LD= K15 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15A4                ; Hand1ST2ﾜｰｸ置き位置指令_PL
LD M1825                 ; XY_Hand2ST2ﾜｰｸ取り位置
LD= K16 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15A5                ; Hand2ST2ﾜｰｸ取り位置指令_PL
LD M1826                 ; XY_Hand1ST3ﾜｰｸ置き位置
LD= K20 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15A6                ; Hand1ST3ﾜｰｸ置き位置指令_PL
LD M1827                 ; XY_Hand2ST3ﾜｰｸ取り位置
LD= K21 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15A7                ; Hand2ST3ﾜｰｸ取り位置指令_PL
LD M1828                 ; XY_Hand1ST4ﾜｰｸ置き位置
LD= K25 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15A8                ; Hand1ST4ﾜｰｸ置き位置指令_PL
LD M1829                 ; XY_Hand2ST4ﾜｰｸ取り位置
LD= K26 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15A9                ; Hand2ST4ﾜｰｸ取り位置指令_PL
LD M1830
LD= K30 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15AA
LD M1831
LD= K31 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15AB
LD M1832                 ; XY_OKｺﾝﾍﾞﾔ位置
LD= K35 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15AC                ; OKｺﾝﾍﾞﾔ位置移動_PL
LD M1833                 ; XY_NGｺﾝﾍﾞﾔ位置
LD= K36 D1530            ; RB2_XY軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15AD                ; NGｺﾝﾍﾞﾔ位置移動_PL
LD M1835                 ; XY_Y軸待機位置
LD= K5 D1530             ; RB2_XY軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15AE                ; Y軸待機位置移動_PL
;	Z軸ﾀｯﾁﾊﾟﾈﾙ表示
LD M1840                 ; Z_搬送高さ
LD= K109 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15B0                ; 搬送高さ移動_PL
LD M1841                 ; Z_Hand1ﾜｰｸ受取高さ
LD= K101 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15B1                ; Hand1ﾜｰｸ受取高さ移動_PL
LD M1842                 ; Z_Hand1ST1ﾜｰｸ置高さ
LD= K110 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15B2                ; Hand1ST1ﾜｰｸ置高さ位置指令_PL
LD M1843                 ; Z_Hand2ST1ﾜｰｸ取高さ
LD= K111 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15B3                ; Hand2ST1ﾜｰｸ取高さ位置指令_PL
LD M1844                 ; Z_Hand1ST2ﾜｰｸ置高さ
LD= K115 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15B4                ; Hand1ST2ﾜｰｸ置高さ位置指令_PL
LD M1845                 ; Z_Hand2ST2ﾜｰｸ取高さ
LD= K116 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15B5                ; Hand2ST2ﾜｰｸ取高さ位置指令_PL
LD M1846                 ; Z_Hand1ST3ﾜｰｸ置高さ
LD= K120 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15B6                ; Hand1ST3ﾜｰｸ置高さ位置指令_PL
LD M1847                 ; Z_Hand2ST3ﾜｰｸ取高さ
LD= K121 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15B7                ; Hand2ST3ﾜｰｸ取高さ位置指令_PL
LD M1848                 ; Z_Hand1ST4ﾜｰｸ置高さ
LD= K125 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15B8                ; Hand1ST4ﾜｰｸ置高さ位置指令_PL
LD M1849                 ; Z_Hand2ST4ﾜｰｸ取高さ
LD= K126 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15B9                ; Hand2ST4ﾜｰｸ取高さ位置指令_PL
LD M1850                 ; Z_
LD= K130 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15BA
LD M1851                 ; Z_
LD= K131 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15BB
LD M1852                 ; Z_OKｺﾝﾍﾞﾔ高さ
LD= K135 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15BC                ; OKｺﾝﾍﾞﾔ高さ移動_PL
LD M1853                 ; Z_NGｺﾝﾍﾞﾔ高さ
LD= K136 D1534           ; RB2_Z軸ﾃﾞｰﾀ指定
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15BD                ; NGｺﾝﾍﾞﾔ高さ移動_PL
;	ﾍｯﾄﾞ関係PL
LD Y2384                 ; 搬送P&Pﾁｬｯｸ旋回旋回
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR T203                  ; 搬送P&Pﾁｬｯｸ旋回旋回端
OUT B15C0                ; Hand旋回_旋回側_TP-PBPL
LD Y2385                 ; 搬送P&Pﾁｬｯｸ旋回戻り
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR T204                  ; 搬送P&Pﾁｬｯｸ旋回戻り端
OUT B15C1                ; Hand旋回_戻り側_TP-PBPL
LD Y2380                 ; 搬送P&Pﾁｬｯｸ1閉
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
LD X1230                 ; 搬送P&Pﾁｬｯｸ1閉端
AND CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
ORL
OR X1236                 ; 搬送P&Pﾁｬｯｸ1閉時ﾜｰｸ確認
OUT B15C2                ; Hand1_ﾁｬｯｸ閉swPL
LD Y2381                 ; 搬送P&Pﾁｬｯｸ1開
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR X1231                 ; 搬送P&Pﾁｬｯｸ1開端
OUT B15C3                ; Hand1_ﾁｬｯｸ開swPL
LD Y2382                 ; 搬送P&Pﾁｬｯｸ2閉
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
LD X1232                 ; 搬送P&Pﾁｬｯｸ2閉端
AND CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
ORL
OR X1237                 ; 搬送P&Pﾁｬｯｸ2閉時ﾜｰｸ確認
OUT B15C4                ; Hand2_ﾁｬｯｸ閉swPL
LD Y2383                 ; 搬送P&Pﾁｬｯｸ2開
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR X1233                 ; 搬送P&Pﾁｬｯｸ2開端
OUT B15C5                ; Hand2_ﾁｬｯｸ開swPL
;<h1/>□□　　異常検出　　□□
LD X1023                 ; #02_RX003_ｱﾗｰﾑ状態
OR X1020                 ; #02_RX000_非常停止入力状態
AND T74                  ; Ready On 5s
MEP
LD CR2003                ; 常時OFF
ANB B0540                ; 064)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B040                 ; 064)RCX240異常
ORL
OUT B040                 ; 064)RCX240異常
LDP B040                 ; 064)RCX240異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1064 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0540                 ; 064)BzSTOP
AND B040                 ; 064)RCX240異常
OUT B0540                ; 064)BzSTOP
LD M1518                 ; U2-1_S18_供給部ｱﾗｰﾑ発報待ち
AND CR2003               ; 常時OFF
LD CR2003                ; 常時OFF
ANB B0541                ; 065)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B041                 ; 065)ﾜｰｸ供給部吸着異常
ORL
OUT B041                 ; 065)ﾜｰｸ供給部吸着異常
LDP B041                 ; 065)ﾜｰｸ供給部吸着異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K65 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0541                 ; 065)BzSTOP
AND B041                 ; 065)ﾜｰｸ供給部吸着異常
OUT B0541                ; 065)BzSTOP
LDP M2013                ; U2-S513_書込みst基板ﾁｬｯｸﾐｽ
AND M1944                ; Hand2_st1除材中ﾌﾗｸﾞ
LD CR2003                ; 常時OFF
ANB B0542                ; 066)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B042                 ; 066)ﾍｯﾄﾞ2_ST1基板ﾁｬｯｸﾐｽ
ORL
OUT B042                 ; 066)ﾍｯﾄﾞ2_ST1基板ﾁｬｯｸﾐｽ
LDP B042                 ; 066)ﾍｯﾄﾞ2_ST1基板ﾁｬｯｸﾐｽ
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K66 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0542                 ; 066)BzSTOP
AND B042                 ; 066)ﾍｯﾄﾞ2_ST1基板ﾁｬｯｸﾐｽ
OUT B0542                ; 066)BzSTOP
LDP M2013                ; U2-S513_書込みst基板ﾁｬｯｸﾐｽ
AND M1945                ; Hand2_st2除材中ﾌﾗｸﾞ
AND CR2003               ; 常時OFF
LD CR2003                ; 常時OFF
ANB B0543                ; 067)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B043                 ; 067)ﾍｯﾄﾞ2_ST2基板ﾁｬｯｸﾐｽ
ORL
OUT B043                 ; 067)ﾍｯﾄﾞ2_ST2基板ﾁｬｯｸﾐｽ
LDP B043                 ; 067)ﾍｯﾄﾞ2_ST2基板ﾁｬｯｸﾐｽ
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K67 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0543                 ; 067)BzSTOP
AND B043                 ; 067)ﾍｯﾄﾞ2_ST2基板ﾁｬｯｸﾐｽ
OUT B0543                ; 067)BzSTOP
LD T220                  ; ﾊﾝﾄﾞ1ﾁｬｯｸ閉ONﾀｲﾏ
AND Y2380                ; 搬送P&Pﾁｬｯｸ1閉
AND M1659                ; 初期起動時ﾊﾝﾄﾞ確認完了
LD= D1701 K1             ; 搬送Hand1_有無記憶
ANB T224                 ; 搬送P&Pﾁｬｯｸ1閉時ﾜｰｸ確認ﾀｲﾏ
AND Y2380                ; 搬送P&Pﾁｬｯｸ1閉
AND T201                 ; 搬送部安全OK
ORL
AND M30                  ; 自動ﾓｰﾄﾞ
ANB M35                  ; 空運転ﾓｰﾄﾞ
LD CR2003                ; 常時OFF
ANB B0544                ; 068)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
OR M41                   ; 全ﾕﾆｯﾄ起動中
AND B044                 ; 068)ﾊﾝﾄﾞ1_ﾁｬｯｸ空振り異常
ORL
OUT B044                 ; 068)ﾊﾝﾄﾞ1_ﾁｬｯｸ空振り異常
LDP B044                 ; 068)ﾊﾝﾄﾞ1_ﾁｬｯｸ空振り異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K68 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0544                 ; 068)BzSTOP
AND B044                 ; 068)ﾊﾝﾄﾞ1_ﾁｬｯｸ空振り異常
OUT B0544                ; 068)BzSTOP
LD T222                  ; ﾊﾝﾄﾞ2閉端ONﾀｲﾏ
AND Y2382                ; 搬送P&Pﾁｬｯｸ2閉
AND M1659                ; 初期起動時ﾊﾝﾄﾞ確認完了
LD= D1801 K1             ; 搬送Hand2_有無記憶
ANB T225                 ; 搬送P&Pﾁｬｯｸ2閉時ﾜｰｸ確認ﾀｲﾏ
AND Y2382                ; 搬送P&Pﾁｬｯｸ2閉
AND T201                 ; 搬送部安全OK
ORL
AND M30                  ; 自動ﾓｰﾄﾞ
ANB M35                  ; 空運転ﾓｰﾄﾞ
LD CR2003                ; 常時OFF
ANB B0545                ; 069)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
OR M41                   ; 全ﾕﾆｯﾄ起動中
AND B045                 ; 069)ﾊﾝﾄﾞ2_ﾁｬｯｸ空振り異常
ORL
OUT B045                 ; 069)ﾊﾝﾄﾞ2_ﾁｬｯｸ空振り異常
LDP B045                 ; 069)ﾊﾝﾄﾞ2_ﾁｬｯｸ空振り異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K69 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0545                 ; 069)BzSTOP
AND B045                 ; 069)ﾊﾝﾄﾞ2_ﾁｬｯｸ空振り異常
OUT B0545                ; 069)BzSTOP
LD M1782                 ; STEP32_ﾊﾝﾄﾞ傾き確認結果
AND M2330                ; Hand傾き確認異常
LD CR2003                ; 常時OFF
ANB B0546                ; 070)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
OR M1984                 ; ﾕﾆｯﾄ2原点復帰中
AND B046                 ; 070)ﾊﾝﾄﾞ傾き異常
ORL
OUT B046                 ; 070)ﾊﾝﾄﾞ傾き異常
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0546                 ; 070)BzSTOP
AND B046                 ; 070)ﾊﾝﾄﾞ傾き異常
OUT B0546                ; 070)BzSTOP
LD M1533                 ; U2-1_S33_ﾌﾗｯｼｭｽﾃｰｼﾞ無効ﾁｪｯｸ
AND= D1701 K1            ; 搬送Hand1_有無記憶
LDB L700                 ; ﾌﾗｯｼｭst1_有効状態
LD L700                  ; ﾌﾗｯｼｭst1_有効状態
ANB M4401                ; ﾌﾗｯｼｭst1-搬送ID一致ﾌﾗｸﾞ
ORL
ANL
LDB L900                 ; ﾌﾗｯｼｭst2_有効状態
LD L900                  ; ﾌﾗｯｼｭst2_有効状態
ANB M5401                ; ﾌﾗｯｼｭST2-搬送ID一致ﾌﾗｸﾞ
ORL
ANL
LDB L1100                ; ﾌﾗｯｼｭst3_有効状態
LD L1100                 ; ﾌﾗｯｼｭst3_有効状態
ANB M6401                ; ﾌﾗｯｼｭST3-搬送ID一致ﾌﾗｸﾞ
ORL
ANL
ANB L1300                ; ﾌﾗｯｼｭst4_有効状態
LD CR2003                ; 常時OFF
ANB B0823                ; 803)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0323                ; 803)FLASHｽﾃｰｼﾞ無効状態
AND L1300                ; ﾌﾗｯｼｭst4_有効状態
ANB M7401                ; ﾌﾗｯｼｭST4-搬送ID一致ﾌﾗｸﾞ
ORL
OUT B0323                ; 803)FLASHｽﾃｰｼﾞ無効状態
LDP B0323                ; 803)FLASHｽﾃｰｼﾞ無効状態
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV H0323 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0823                 ; 803)BzSTOP
AND B0323                ; 803)FLASHｽﾃｰｼﾞ無効状態
OUT B0823                ; 803)BzSTOP
LDP M2013                ; U2-S513_書込みst基板ﾁｬｯｸﾐｽ
AND M1946                ; Hand2_st3除材中ﾌﾗｸﾞ
LD CR2003                ; 常時OFF
ANB B0548                ; 072)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B048                 ; 072)ﾊﾝﾄﾞ2_ST3基板ﾁｬｯｸﾐｽ
ORL
OUT B048                 ; 072)ﾊﾝﾄﾞ2_ST3基板ﾁｬｯｸﾐｽ
LDP B048                 ; 072)ﾊﾝﾄﾞ2_ST3基板ﾁｬｯｸﾐｽ
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K72 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0548                 ; 072)BzSTOP
AND B048                 ; 072)ﾊﾝﾄﾞ2_ST3基板ﾁｬｯｸﾐｽ
OUT B0548                ; 072)BzSTOP
;
LDP M2013                ; U2-S513_書込みst基板ﾁｬｯｸﾐｽ
AND M1947                ; Hand2_st4除材中ﾌﾗｸﾞ
LD CR2003                ; 常時OFF
ANB B0549                ; 073)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B049                 ; 073)ﾊﾝﾄﾞ2_ST4基板ﾁｬｯｸﾐｽ
ORL
OUT B049                 ; 073)ﾊﾝﾄﾞ2_ST4基板ﾁｬｯｸﾐｽ
LDP B049                 ; 073)ﾊﾝﾄﾞ2_ST4基板ﾁｬｯｸﾐｽ
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K73 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0549                 ; 073)BzSTOP
AND B049                 ; 073)ﾊﾝﾄﾞ2_ST4基板ﾁｬｯｸﾐｽ
OUT B0549                ; 073)BzSTOP
;
LD M2340                 ; RB_原点復帰不可位置
AND X1044                ; #02_44_RBがST1内にいる(領域判定)
LD CR2003                ; 常時OFF
ANB B054A                ; 074)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B04A                 ; 074)Please remove ST1 Fixture
ORL
ANB M2343                ; 取出し確認OK
OUT B04A                 ; 074)Please remove ST1 Fixture
LDP B04A                 ; 074)Please remove ST1 Fixture
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K74 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B054A                 ; 074)BzSTOP
AND B04A                 ; 074)Please remove ST1 Fixture
OUT B054A                ; 074)BzSTOP
;
LD M2340                 ; RB_原点復帰不可位置
AND X1045                ; #02_45_RBがST2内にいる(領域判定)
LD CR2003                ; 常時OFF
ANB B054B                ; 075)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B04B                 ; 075)Please remove ST2 Fixture
ORL
ANB M2343                ; 取出し確認OK
OUT B04B                 ; 075)Please remove ST2 Fixture
LDP B04B                 ; 075)Please remove ST2 Fixture
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K75 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B054B                 ; 075)BzSTOP
AND B04B                 ; 075)Please remove ST2 Fixture
OUT B054B                ; 075)BzSTOP
;
LD M2340                 ; RB_原点復帰不可位置
AND X1046                ; #02_46_RBがST3内にいる(領域判定)
LD CR2003                ; 常時OFF
ANB B054C                ; 076)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B04C                 ; 076)Please remove ST3 Fixture
ORL
ANB M2343                ; 取出し確認OK
OUT B04C                 ; 076)Please remove ST3 Fixture
LDP B04C                 ; 076)Please remove ST3 Fixture
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K76 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B054C                 ; 076)BzSTOP
AND B04C                 ; 076)Please remove ST3 Fixture
OUT B054C                ; 076)BzSTOP
;
LD M2340                 ; RB_原点復帰不可位置
AND X1047                ; #02_47_RBがST4内にいる(領域判定)
LD CR2003                ; 常時OFF
ANB B054D                ; 077)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B04D                 ; 077)Please remove ST4 Fixture
ORL
ANB M2343                ; 取出し確認OK
OUT B04D                 ; 077)Please remove ST4 Fixture
LDP B04D                 ; 077)Please remove ST4 Fixture
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K77 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B054D                 ; 077)BzSTOP
AND B04D                 ; 077)Please remove ST4 Fixture
OUT B054D                ; 077)BzSTOP
;
LD M1541                 ; U2-1_S41_STへﾜｰｸ置き中
AND M1810                ; ｾﾝｻｰ確認有効高さ
LD M1940                 ; Hand1_st1給材中ﾌﾗｸﾞ
AND X1252                ; ST1ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
LD M1941                 ; Hand1_st2給材中ﾌﾗｸﾞ
AND X1272                ; ST2ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
ORL
LD M1942                 ; Hand1_st3給材中ﾌﾗｸﾞ
AND X1292                ; ST3ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
ORL
LD M1943                 ; Hand1_st4給材中ﾌﾗｸﾞ
AND X1312                ; ST4ﾌｨｸｽﾁｬｰ基板確認(1/有_0/無)
ORL
ANL
LD CR2003                ; 常時OFF
ANB B054E                ; 078)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B04E                 ; 078)ﾜｰｸ情報異常
ORL
OUT B04E                 ; 078)ﾜｰｸ情報異常
LDP B04E                 ; 078)ﾜｰｸ情報異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1078 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B054E                 ; 078)BzSTOP
AND B04E                 ; 078)ﾜｰｸ情報異常
OUT B054E                ; 078)BzSTOP
;
LD M1753                 ; STEP3_ﾜｰｸ除去要求
LD CR2003                ; 常時OFF
ANB B0824                ; 804)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
ORB X1231                ; 搬送P&Pﾁｬｯｸ1開端
ORB X1233                ; 搬送P&Pﾁｬｯｸ2開端
AND B0324                ; 804)搬送ﾜｰｸ除去要求
ORL
OUT B0324                ; 804)搬送ﾜｰｸ除去要求
LDP B0324                ; 804)搬送ﾜｰｸ除去要求
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV H0324 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0824                 ; 804)BzSTOP
AND B0324                ; 804)搬送ﾜｰｸ除去要求
OUT B0824                ; 804)BzSTOP
;
LD X1033                 ; #02_RX013_PRGｴﾗｰ_23
LD CR2003                ; 常時OFF
ANB B0550                ; 080)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B050                 ; 080)RB2 PRG異常
ORL
OUT B050                 ; 080)RB2 PRG異常
LDP B050                 ; 080)RB2 PRG異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1080 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0550                 ; 080)BzSTOP
AND B050                 ; 080)RB2 PRG異常
OUT B0550                ; 080)BzSTOP
;
LD M5                    ; 運転準備補助
AND X109B                ; #02_RX07B_ﾘﾓｰﾄREADY
ANB X1029                ; #02_RX009_原点復帰完了状態
LD CR2003                ; 常時OFF
ANB B0551                ; 081)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B051                 ; 081)RCX240_ABSﾘｾｯﾄ要求
ORL
OUT B051                 ; 081)RCX240_ABSﾘｾｯﾄ要求
LDP B051                 ; 081)RCX240_ABSﾘｾｯﾄ要求
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1081 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0551                 ; 081)BzSTOP
AND B051                 ; 081)RCX240_ABSﾘｾｯﾄ要求
OUT B0551                ; 081)BzSTOP
;
LD X1037                 ; #02_Batt low alm 27
ANB B052                 ; 082)
TMR K211 K36000          ; Batt低下再警報ﾀｲﾏ
LDP X1037                ; #02_Batt low alm 27
OR T211                  ; Batt低下再警報ﾀｲﾏ
LD CR2003                ; 常時OFF
ANB B0552                ; 082)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B052                 ; 082)
ORL
OUT B052                 ; 082)
LDP B052                 ; 082)
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K82 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0552                 ; 082)BzSTOP
AND B052                 ; 082)
OUT B0552                ; 082)BzSTOP
;
LD Y2384                 ; 搬送P&Pﾁｬｯｸ旋回旋回
ANB X1234                ; 搬送P&Pﾁｬｯｸ旋回旋回端
LD Y2385                 ; 搬送P&Pﾁｬｯｸ旋回戻り
ANB X1235                ; 搬送P&Pﾁｬｯｸ旋回戻り端
ORL
LD X1234                 ; 搬送P&Pﾁｬｯｸ旋回旋回端
AND X1235                ; 搬送P&Pﾁｬｯｸ旋回戻り端
ORL
LD CR2003                ; 常時OFF
ANB B0560                ; 096)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B060                 ; 096)Hand旋回CLS異常
ORL
MPS
AND T250                 ; CLSﾀｲﾏ
OUT B060                 ; 096)Hand旋回CLS異常
MPP
TMR K250 K50             ; CLSﾀｲﾏ
LDP B060                 ; 096)Hand旋回CLS異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K96 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0560                 ; 096)BzSTOP
AND B060                 ; 096)Hand旋回CLS異常
OUT B0560                ; 096)BzSTOP
LD Y2380                 ; 搬送P&Pﾁｬｯｸ1閉
ANB X1230                ; 搬送P&Pﾁｬｯｸ1閉端
LDB X1236                ; 搬送P&Pﾁｬｯｸ1閉時ﾜｰｸ確認
LD M71                   ; 自動運転開始BZ
ANB M1659                ; 初期起動時ﾊﾝﾄﾞ確認完了
ORL
ANL
LD Y2381                 ; 搬送P&Pﾁｬｯｸ1開
LDB X1231                ; 搬送P&Pﾁｬｯｸ1開端
OR X1236                 ; 搬送P&Pﾁｬｯｸ1閉時ﾜｰｸ確認
ANL
ORL
LD X1230                 ; 搬送P&Pﾁｬｯｸ1閉端
AND X1231                ; 搬送P&Pﾁｬｯｸ1開端
ORL
LD X1230                 ; 搬送P&Pﾁｬｯｸ1閉端
AND X1236                ; 搬送P&Pﾁｬｯｸ1閉時ﾜｰｸ確認
ORL
LD X1231                 ; 搬送P&Pﾁｬｯｸ1開端
AND X1236                ; 搬送P&Pﾁｬｯｸ1閉時ﾜｰｸ確認
ORL
LD CR2003                ; 常時OFF
ANB B0561                ; 097)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B061                 ; 097)Hand1ﾁｬｯｸ開閉CLS異常
ORL
MPS
AND T251                 ; CLSﾀｲﾏ
OUT B061                 ; 097)Hand1ﾁｬｯｸ開閉CLS異常
MPP
TMR K251 K30             ; CLSﾀｲﾏ
LDP B061                 ; 097)Hand1ﾁｬｯｸ開閉CLS異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K97 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0561                 ; 097)BzSTOP
AND B061                 ; 097)Hand1ﾁｬｯｸ開閉CLS異常
OUT B0561                ; 097)BzSTOP
LD Y2382                 ; 搬送P&Pﾁｬｯｸ2閉
ANB X1232                ; 搬送P&Pﾁｬｯｸ2閉端
LDB X1237                ; 搬送P&Pﾁｬｯｸ2閉時ﾜｰｸ確認
LD M71                   ; 自動運転開始BZ
ANB M1659                ; 初期起動時ﾊﾝﾄﾞ確認完了
ORL
ANL
LD Y2383                 ; 搬送P&Pﾁｬｯｸ2開
LDB X1233                ; 搬送P&Pﾁｬｯｸ2開端
OR X1237                 ; 搬送P&Pﾁｬｯｸ2閉時ﾜｰｸ確認
ANL
ORL
LD X1232                 ; 搬送P&Pﾁｬｯｸ2閉端
AND X1233                ; 搬送P&Pﾁｬｯｸ2開端
ORL
LD X1232                 ; 搬送P&Pﾁｬｯｸ2閉端
AND X1237                ; 搬送P&Pﾁｬｯｸ2閉時ﾜｰｸ確認
ORL
LD X1233                 ; 搬送P&Pﾁｬｯｸ2開端
AND X1237                ; 搬送P&Pﾁｬｯｸ2閉時ﾜｰｸ確認
ORL
LD CR2003                ; 常時OFF
ANB B0562                ; 098)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B062                 ; 098)Hand2ﾁｬｯｸ開閉CLS異常
ORL
MPS
AND T252                 ; CLSﾀｲﾏ
OUT B062                 ; 098)Hand2ﾁｬｯｸ開閉CLS異常
MPP
TMR K252 K50             ; CLSﾀｲﾏ
LDP B062                 ; 098)Hand2ﾁｬｯｸ開閉CLS異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K98 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0562                 ; 098)BzSTOP
AND B062                 ; 098)Hand2ﾁｬｯｸ開閉CLS異常
OUT B0562                ; 098)BzSTOP
;
LD M2225                 ; U2-S725_チャック閉確認不可異常
LD CR2003                ; 常時OFF
ANB B0563                ; 099)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B063                 ; 099)チャック閉確認不可異常
ORL
OUT B063                 ; 099)チャック閉確認不可異常
LDP B063                 ; 099)チャック閉確認不可異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K99 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0563                 ; 099)BzSTOP
AND B063                 ; 099)チャック閉確認不可異常
OUT B0563                ; 099)BzSTOP
;
LD M41                   ; 全ﾕﾆｯﾄ起動中
ANB M2400                ; 搬送P&Pﾁｬｯｸ旋回旋回
ANB M2401                ; 搬送P&Pﾁｬｯｸ旋回戻り
LD CR2003                ; 常時OFF
ANB B0564                ; 100)BzSTOP
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B064                 ; 100)ﾊﾝﾄﾞ回転指令異常
ORL
MPS
TMR K230 K5              ; ﾊﾝﾄﾞ回転指令OFF中時間
MPP
AND T230                 ; ﾊﾝﾄﾞ回転指令OFF中時間
OUT B064                 ; 100)ﾊﾝﾄﾞ回転指令異常
LDP B064                 ; 100)ﾊﾝﾄﾞ回転指令異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1100 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0564                 ; 100)BzSTOP
AND B064                 ; 100)ﾊﾝﾄﾞ回転指令異常
OUT B0564                ; 100)BzSTOP
;異常ﾌﾞｻﾞｰまとめ
LDB B040                 ; 064)RCX240異常
OR B0540                 ; 064)BzSTOP
LDB B041                 ; 065)ﾜｰｸ供給部吸着異常
OR B0541                 ; 065)BzSTOP
ANL
LDB B042                 ; 066)ﾍｯﾄﾞ2_ST1基板ﾁｬｯｸﾐｽ
OR B0542                 ; 066)BzSTOP
ANL
LDB B043                 ; 067)ﾍｯﾄﾞ2_ST2基板ﾁｬｯｸﾐｽ
OR B0543                 ; 067)BzSTOP
ANL
LDB B044                 ; 068)ﾊﾝﾄﾞ1_ﾁｬｯｸ空振り異常
OR B0544                 ; 068)BzSTOP
ANL
LDB B045                 ; 069)ﾊﾝﾄﾞ2_ﾁｬｯｸ空振り異常
OR B0545                 ; 069)BzSTOP
ANL
LDB B046                 ; 070)ﾊﾝﾄﾞ傾き異常
OR B0546                 ; 070)BzSTOP
ANL
LDB B0323                ; 803)FLASHｽﾃｰｼﾞ無効状態
OR B0823                 ; 803)BzSTOP
ANL
LDB B048                 ; 072)ﾊﾝﾄﾞ2_ST3基板ﾁｬｯｸﾐｽ
OR B0548                 ; 072)BzSTOP
ANL
LDB B049                 ; 073)ﾊﾝﾄﾞ2_ST4基板ﾁｬｯｸﾐｽ
OR B0549                 ; 073)BzSTOP
ANL
LDB B0324                ; 804)搬送ﾜｰｸ除去要求
OR B0824                 ; 804)BzSTOP
ANL
LDB B04B                 ; 075)Please remove ST2 Fixture
OR B054B                 ; 075)BzSTOP
ANL
LDB B04C                 ; 076)Please remove ST3 Fixture
OR B054C                 ; 076)BzSTOP
ANL
LDB B04D                 ; 077)Please remove ST4 Fixture
OR B054D                 ; 077)BzSTOP
ANL
LDB B04E                 ; 078)ﾜｰｸ情報異常
OR B054E                 ; 078)BzSTOP
ANL
LDB B04F                 ; 079)
OR B054F                 ; 079)BzSTOP
ANL
LDB B050                 ; 080)RB2 PRG異常
OR B0550                 ; 080)BzSTOP
ANL
LDB B051                 ; 081)RCX240_ABSﾘｾｯﾄ要求
OR B0551                 ; 081)BzSTOP
ANL
LDB B052                 ; 082)
OR B0552                 ; 082)BzSTOP
ANL
LDB B053                 ; 083)
OR B0553                 ; 083)BzSTOP
ANL
LDB B054                 ; 084)
OR B0554                 ; 084)BzSTOP
ANL
LDB B055                 ; 085)
OR B0555                 ; 085)BzSTOP
ANL
LDB B056                 ; 086)
OR B0556                 ; 086)BzSTOP
ANL
LDB B057                 ; 087)
OR B0557                 ; 087)BzSTOP
ANL
LDB B058                 ; 088)
OR B0558                 ; 088)BzSTOP
ANL
LDB B059                 ; 089)
OR B0559                 ; 089)BzSTOP
ANL
LDB B05A                 ; 090)
OR B055A                 ; 090)BzSTOP
ANL
LDB B05B                 ; 091)
OR B055B                 ; 091)BzSTOP
ANL
LDB B05C                 ; 092)
OR B055C                 ; 092)BzSTOP
ANL
LDB B05D                 ; 093)
OR B055D                 ; 093)BzSTOP
ANL
LDB B05E                 ; 094)
OR B055E                 ; 094)BzSTOP
ANL
LDB B05F                 ; 095)
OR B055F                 ; 095)BzSTOP
ANL
INV
OUT M1989                ; ﾕﾆｯﾄ2異常BZ補助
LDB B060                 ; 096)Hand旋回CLS異常
OR B0560                 ; 096)BzSTOP
LDB B061                 ; 097)Hand1ﾁｬｯｸ開閉CLS異常
OR B0561                 ; 097)BzSTOP
ANL
LDB B062                 ; 098)Hand2ﾁｬｯｸ開閉CLS異常
OR B0562                 ; 098)BzSTOP
ANL
LDB B063                 ; 099)チャック閉確認不可異常
OR B0563                 ; 099)BzSTOP
ANL
LDB B064                 ; 100)ﾊﾝﾄﾞ回転指令異常
OR B0564                 ; 100)BzSTOP
ANL
LDB B065                 ; 101)
OR B0565                 ; 101)BzSTOP
ANL
LDB B066                 ; 102)
OR B0566                 ; 102)BzSTOP
ANL
LDB B067                 ; 103)
OR B0567                 ; 103)BzSTOP
ANL
LDB B068                 ; 104)
OR B0568                 ; 104)BzSTOP
ANL
LDB B069                 ; 105)
OR B0569                 ; 105)BzSTOP
ANL
LDB B06A                 ; 106)
OR B056A                 ; 106)BzSTOP
ANL
LDB B06B                 ; 107)
OR B056B                 ; 107)BzSTOP
ANL
LDB B06C                 ; 108)
OR B056C                 ; 108)BzSTOP
ANL
LDB B06D                 ; 109)
OR B056D                 ; 109)BzSTOP
ANL
LDB B06E                 ; 110)
OR B056E                 ; 110)BzSTOP
ANL
LDB B06F                 ; 111)
OR B056F                 ; 111)BzSTOP
ANL
LDB B070                 ; 112)
OR B0570                 ; 112)BzSTOP
ANL
LDB B071                 ; 113)
OR B0571                 ; 113)BzSTOP
ANL
LDB B072                 ; 114)
OR B0572                 ; 114)BzSTOP
ANL
LDB B073                 ; 115)
OR B0573                 ; 115)BzSTOP
ANL
LDB B074                 ; 116)
OR B0574                 ; 116)BzSTOP
ANL
LDB B075                 ; 117)
OR B0575                 ; 117)BzSTOP
ANL
LDB B076                 ; 118)
OR B0576                 ; 118)BzSTOP
ANL
LDB B077                 ; 119)
OR B0577                 ; 119)BzSTOP
ANL
LDB B078                 ; 120)
OR B0578                 ; 120)BzSTOP
ANL
LDB B079                 ; 121)
OR B0579                 ; 121)BzSTOP
ANL
LDB B07A                 ; 122)
OR B057A                 ; 122)BzSTOP
ANL
LDB B07B                 ; 123)
OR B057B                 ; 123)BzSTOP
ANL
LDB B07C                 ; 124)
OR B057C                 ; 124)BzSTOP
ANL
LDB B07D                 ; 125)
OR B057D                 ; 125)BzSTOP
ANL
LDB B07E                 ; 126)
OR B057E                 ; 126)BzSTOP
ANL
LDB B07F                 ; 127)
OR B057F                 ; 127)BzSTOP
ANL
INV
OUT M2489                ; ﾕﾆｯﾄ3異常BZ補助
;<h1/>□　　RCX240　ｲﾆｼｬﾙﾃﾞｰﾀ処理　　□
LD M500                  ; CC-LINK_UNIT_OK
AND X1098                ; #02_RX078_ｲﾆｼｬﾙﾃﾞｰﾀ処理要求ﾌﾗｸﾞ
OR M1950                 ; 搬送RBC1_ｲﾆｼｬﾙﾃﾞｰﾀ処理ｽﾀｰﾄ
ANB M1951                ; 搬送RBC_1_ｲﾆｼｬﾙﾃﾞｰﾀ処理完了
OUT M1950                ; 搬送RBC1_ｲﾆｼｬﾙﾃﾞｰﾀ処理ｽﾀｰﾄ
LD M1950                 ; 搬送RBC1_ｲﾆｼｬﾙﾃﾞｰﾀ処理ｽﾀｰﾄ
ANB X1020                ; #02_RX000_非常停止入力状態
AND Y200C                ; #01_RY00C_インターロック
TMR K290 K1              ; ｲﾆｼｬﾙﾃﾞｰﾀ処理時間
LD T290                  ; ｲﾆｼｬﾙﾃﾞｰﾀ処理時間
ANB X1098                ; #02_RX078_ｲﾆｼｬﾙﾃﾞｰﾀ処理要求ﾌﾗｸﾞ
AND Y2098                ; #02_RY078_ｲﾆｼｬﾙﾃﾞｰﾀ処理完了ﾌﾗｸﾞ
OR M1951                 ; 搬送RBC_1_ｲﾆｼｬﾙﾃﾞｰﾀ処理完了
AND X109B                ; #02_RX07B_ﾘﾓｰﾄREADY
OUT M1951                ; 搬送RBC_1_ｲﾆｼｬﾙﾃﾞｰﾀ処理完了
;<h1/>□　RB電源投入時 RBﾁｬｯｸ位置確認
LDB X1044                ; #02_44_RBがST1内にいる(領域判定)
ANB X1045                ; #02_45_RBがST2内にいる(領域判定)
ANB X1046                ; #02_46_RBがST3内にいる(領域判定)
ANB X1047                ; #02_47_RBがST4内にいる(領域判定)
INV
ANB X1041                ; #02_41_Z軸搬送高さ(領域判定)
LDB M2400                ; 搬送P&Pﾁｬｯｸ旋回旋回
ANB M2401                ; 搬送P&Pﾁｬｯｸ旋回戻り
LDB T203                 ; 搬送P&Pﾁｬｯｸ旋回旋回端
ANB T204                 ; 搬送P&Pﾁｬｯｸ旋回戻り端
ORL
ANL
ANB M81                  ; 原点復帰動作中
LD M2340                 ; RB_原点復帰不可位置
ANB M2341                ; ﾌｨｸｽﾁｬｰ取出し確認終了
ANB M2400                ; 搬送P&Pﾁｬｯｸ旋回旋回
ANB M2401                ; 搬送P&Pﾁｬｯｸ旋回戻り
ORL
AND M50                  ; 運転準備
ANB M2344                ; 取出し確認NG
ANB M30                  ; 自動ﾓｰﾄﾞ
OUT M2340                ; RB_原点復帰不可位置
LD M2340                 ; RB_原点復帰不可位置
AND= D50 K1              ; 現在表示中画面ﾍﾟｰｼﾞ
ANB M2342                ; 取出し確認SW_押し確認
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ANB B151B                ; 画面通知
OUT B151A                ; ﾌｨｸｽﾁｬｰ取出し画面表示
LD M2340                 ; RB_原点復帰不可位置
AND B100A                ; ﾌｨｸｽﾁｬｰ取出し確認SW
AND M50                  ; 運転準備
OR M2342                 ; 取出し確認SW_押し確認
AND M2340                ; RB_原点復帰不可位置
OUT M2342                ; 取出し確認SW_押し確認
LD M2342                 ; 取出し確認SW_押し確認
AND B151B                ; 画面通知
LD X1044                 ; #02_44_RBがST1内にいる(領域判定)
AND X124F                ; ST1ﾌｨｸｽﾁｬｰ在荷確認（ON無）
AND= D4107 K0            ; ﾌﾗｯｼｭst1FixtureIDｾﾝｻｰ状態
ANB X1250                ; ST1ﾌｨｸｽﾁｬｰ下降確認1
ANB X1251                ; ST1ﾌｨｸｽﾁｬｰ下降確認2
AND T761                 ; ST1ﾌｨｸｽﾁｬｰ位置決め上昇端
AND T763                 ; ST1ﾌｨｸｽﾁｬｰ位置決め上昇端
LD X1045                 ; #02_45_RBがST2内にいる(領域判定)
AND X126F                ; ST2ﾌｨｸｽﾁｬｰ在荷確認（ON無）
AND= D5107 K0
ANB X1270                ; ST2ﾌｨｸｽﾁｬｰ下降確認1
ANB X1271                ; ST2ﾌｨｸｽﾁｬｰ下降確認2
AND T961                 ; ST2_Fixture位置決め上昇端
AND T963                 ; ST2_Fixture位置決め上昇端
ORL
LD X1046                 ; #02_46_RBがST3内にいる(領域判定)
AND X128F                ; ST3ﾌｨｸｽﾁｬｰ在荷確認（ON無）
AND= D6107 K0
ANB X1290                ; ST3ﾌｨｸｽﾁｬｰ下降確認1
ANB X1291                ; ST3ﾌｨｸｽﾁｬｰ下降確認2
AND T1161                ; ST3_Fixture位置決め上昇端
AND T1163                ; ST3_Fixture位置決め上昇端
ORL
LD X1047                 ; #02_47_RBがST4内にいる(領域判定)
AND X130F                ; ST4ﾌｨｸｽﾁｬｰ在荷確認（ON無）
AND= D7107 K0
ANB X1310                ; ST4ﾌｨｸｽﾁｬｰ下降確認1
ANB X1311                ; ST4ﾌｨｸｽﾁｬｰ下降確認2
AND T1361                ; ST4_Fixture位置決め上昇端
AND T1363                ; ST4_Fixture位置決め上昇端
ORL
ANL
OR M2343                 ; 取出し確認OK
AND M2340                ; RB_原点復帰不可位置
OUT M2343                ; 取出し確認OK
LD M2342                 ; 取出し確認SW_押し確認
ANB M2343                ; 取出し確認OK
OUT M2344                ; 取出し確認NG
LD M2340                 ; RB_原点復帰不可位置
AND X1047                ; #02_47_RBがST4内にいる(領域判定)
MOV K4 D1540             ; 取出しﾌｨｸｽﾁｬｰNO.
LD M2340                 ; RB_原点復帰不可位置
AND X1046                ; #02_46_RBがST3内にいる(領域判定)
MOV K3 D1540             ; 取出しﾌｨｸｽﾁｬｰNO.
LD M2340                 ; RB_原点復帰不可位置
AND X1045                ; #02_45_RBがST2内にいる(領域判定)
MOV K2 D1540             ; 取出しﾌｨｸｽﾁｬｰNO.
LD M2340                 ; RB_原点復帰不可位置
AND X1044                ; #02_44_RBがST1内にいる(領域判定)
MOV K1 D1540             ; 取出しﾌｨｸｽﾁｬｰNO.
END
ENDH
