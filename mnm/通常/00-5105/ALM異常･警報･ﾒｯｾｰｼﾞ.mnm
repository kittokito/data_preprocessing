DEVICE:51
;MODULE:ALM異常･警報･ﾒｯｾｰｼﾞ
;MODULE_TYPE:0
LD MR010                 ; 装置非常停止
MOV #60 DM3008           ; _MainTP　切替ﾍﾟｰｼﾞNo
LDB MR010                ; 装置非常停止
@MOV #0 DM3008           ; _MainTP　切替ﾍﾟｰｼﾞNo
LD MR6604                ; 過負荷警報:定量供給
OR MR6804                ; 過負荷警報:入口ﾛｰﾀﾘ
OR MR7004                ; 過負荷警報:乾燥用
OR MR7204                ; 過負荷警報:炭化用
OR MR7404                ; 過負荷警報:出口ﾛｰﾀﾘ
OR MR7604                ; 過負荷警報:移送
OR MR7804                ; 過負荷警報:消火･冷却
OUT MR2900               ; 過負荷警報
LD MR6607                ; 異常:定量供給
OR MR6807                ; 異常:入口ﾛｰﾀﾘ
OR MR7007                ; 異常:乾燥用
OR MR7207                ; 異常:炭化用
OR MR7407                ; 異常:出口ﾛｰﾀﾘ
OR MR7607                ; 異常:移送
OR MR7807                ; 異常:消火･冷却
OUT MR2901               ; ｲﾝﾊﾞｰﾀ異常
LD MR2900                ; 過負荷警報
OR MR2901                ; ｲﾝﾊﾞｰﾀ異常
OR MR012                 ; 攪拌モータ回転異常
ANB MR3000               ; 異常発生
ANB MR010                ; 装置非常停止
OR MR3000                ; 異常発生
ANB MR104                ; TPｴﾗｰ解除SW
OUT MR3000               ; 異常発生
;ｲﾝﾊﾞｰﾀｴﾗｰﾘｾｯﾄ
LD MR104                 ; TPｴﾗｰ解除SW
MPS
AND MR6607               ; 異常:定量供給
OUT MR8710               ; ｴﾗｰﾘｾｯﾄ要求ﾌﾗｸﾞ:定量供給
MRD
AND MR6807               ; 異常:入口ﾛｰﾀﾘ
OUT MR8910               ; ｴﾗｰﾘｾｯﾄ要求ﾌﾗｸﾞ:入口ﾛｰﾀﾘ
MRD
AND MR7007               ; 異常:乾燥用
OUT MR9110               ; ｴﾗｰﾘｾｯﾄ要求ﾌﾗｸﾞ:乾燥用
MRD
AND MR7207               ; 異常:炭化用
OUT MR9310               ; ｴﾗｰﾘｾｯﾄ要求ﾌﾗｸﾞ:炭化用
MRD
AND MR7407               ; 異常:出口ﾛｰﾀﾘ
OUT MR9510               ; ｴﾗｰﾘｾｯﾄ要求ﾌﾗｸﾞ:出口ﾛｰﾀﾘ
MRD
AND MR7607               ; 異常:移送
OUT MR9710               ; ｴﾗｰﾘｾｯﾄ要求ﾌﾗｸﾞ:移送
MPP
AND MR7807               ; 異常:消火･冷却
OUT MR9910               ; ｴﾗｰﾘｾｯﾄ要求ﾌﾗｸﾞ:乾消火･冷却
;ｴﾗｰ名称表示
;ｴﾗｰ名称･ｺﾒﾝﾄ･ｺｰﾄﾞｸﾘｱ
LD MR104                 ; TPｴﾗｰ解除SW
DW #0 DM11               ; ｲﾝﾊﾞｰﾀ異常ﾃﾞｰﾀ
CON
DW #0 DM100              ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #1 DM20               ; TPｴﾗｰ名称
CON
DW #1 DM21               ; TPｴﾗｰ名称
;ｴﾗｰ名称･ｺﾒﾝﾄ指定
LD MR6604                ; 過負荷警報:定量供給
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #1 DM100              ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #2 DM20               ; TPｴﾗｰ名称
CON
DW #1 DM21               ; TPｴﾗｰ名称
LD MR6804                ; 過負荷警報:入口ﾛｰﾀﾘ
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #2 DM100              ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #4 DM20               ; TPｴﾗｰ名称
CON
DW #1 DM21               ; TPｴﾗｰ名称
LD MR7004                ; 過負荷警報:乾燥用
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #3 DM100              ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #8 DM20               ; TPｴﾗｰ名称
CON
DW #1 DM21               ; TPｴﾗｰ名称
LD MR7204                ; 過負荷警報:炭化用
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #4 DM100              ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #16 DM20              ; TPｴﾗｰ名称
CON
DW #1 DM21               ; TPｴﾗｰ名称
LD MR7404                ; 過負荷警報:出口ﾛｰﾀﾘ
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #5 DM100              ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #32 DM20              ; TPｴﾗｰ名称
CON
DW #1 DM21               ; TPｴﾗｰ名称
LD MR7604                ; 過負荷警報:移送
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #6 DM100              ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #64 DM20              ; TPｴﾗｰ名称
CON
DW #1 DM21               ; TPｴﾗｰ名称
LD MR7804                ; 過負荷警報:消火･冷却
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #7 DM100              ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #128 DM20             ; TPｴﾗｰ名称
CON
DW #1 DM21               ; TPｴﾗｰ名称
LD MR6607                ; 異常:定量供給
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #8 DM100              ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #256 DM20             ; TPｴﾗｰ名称
CON
DW #1 DM21               ; TPｴﾗｰ名称
LD MR6807                ; 異常:入口ﾛｰﾀﾘ
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #9 DM100              ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #512 DM20             ; TPｴﾗｰ名称
CON
DW #1 DM21               ; TPｴﾗｰ名称
LD MR7007                ; 異常:乾燥用
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #10 DM100             ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #1024 DM20            ; TPｴﾗｰ名称
CON
DW #1 DM21               ; TPｴﾗｰ名称
LD MR7207                ; 異常:炭化用
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #11 DM100             ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #2048 DM20            ; TPｴﾗｰ名称
CON
DW #1 DM21               ; TPｴﾗｰ名称
LD MR7407                ; 異常:出口ﾛｰﾀﾘ
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #12 DM100             ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #5096 DM20            ; TPｴﾗｰ名称
CON
DW #1 DM21               ; TPｴﾗｰ名称
LD MR7607                ; 異常:移送
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #13 DM100             ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #10182 DM20           ; TPｴﾗｰ名称
CON
DW #1 DM21               ; TPｴﾗｰ名称
LD MR7807                ; 異常:消火･冷却
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #14 DM100             ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #20364 DM20           ; TPｴﾗｰ名称
CON
DW #1 DM21               ; TPｴﾗｰ名称
LD MR1005                ; 乾燥ﾋｰﾀ(出口)_AL2(過昇)
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #15 DM100             ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #1 DM20               ; TPｴﾗｰ名称
CON
DW #2 DM21               ; TPｴﾗｰ名称
LD MR1007                ; 乾燥ﾋｰﾀ(中間)_AL2(過昇)
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #16 DM100             ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #1 DM20               ; TPｴﾗｰ名称
CON
DW #4 DM21               ; TPｴﾗｰ名称
LD MR1009                ; 乾燥ﾋｰﾀ(入口)_AL2(過昇)
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #17 DM100             ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #1 DM20               ; TPｴﾗｰ名称
CON
DW #8 DM21               ; TPｴﾗｰ名称
LD MR1011                ; 炭化ﾋｰﾀ(入口)_AL2(過昇)
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #18 DM100             ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #1 DM20               ; TPｴﾗｰ名称
CON
DW #16 DM21              ; TPｴﾗｰ名称
LD MR1013                ; 炭化ﾋｰﾀ(中間)_AL2(過昇)
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #19 DM100             ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #1 DM20               ; TPｴﾗｰ名称
CON
DW #32 DM21              ; TPｴﾗｰ名称
LD MR1015                ; 炭化ﾋｰﾀ(出口)_AL2(過昇)
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #20 DM100             ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #1 DM20               ; TPｴﾗｰ名称
CON
DW #64 DM21              ; TPｴﾗｰ名称
LD MR012                 ; 攪拌モータ回転異常
AND= DM100 #0            ; ｴﾗｰﾒｯｾｰｼﾞ
AND= DM20 #1             ; TPｴﾗｰ名称
AND= DM21 #1             ; TPｴﾗｰ名称
DW #21 DM100             ; ｴﾗｰﾒｯｾｰｼﾞ
CON
DW #1 DM20               ; TPｴﾗｰ名称
CON
DW #128 DM21             ; TPｴﾗｰ名称
;インバータ異常読み出し
LD MR7604                ; 過負荷警報:移送
OR MR7607                ; 異常:移送
DIFU @MR000
LD @MR000
SET @MR001
LD @MR001
ANB MR7615               ; 命令ｺｰﾄﾞ実行完了:移送
MOV $0074 DM902          ; 命令ｺｰﾄﾞ:移送
SET MR9615               ; 命令ｺｰﾄﾞ実行要求:移送
RES @MR001
SET @MR002
LD @MR002
AND MR7615               ; 命令ｺｰﾄﾞ実行完了:移送
MOV DM843 DM11           ; 読み込みﾃﾞｰﾀ:消移送  ｲﾝﾊﾞｰﾀ異常ﾃﾞｰﾀ
RES MR9615               ; 命令ｺｰﾄﾞ実行要求:移送
RES @MR002
END
ENDH
