DEVICE:51
;MODULE:モード・原位置・異常表示
;MODULE_TYPE:0
;<h1/>運転モードの選択
LD CR2002                ; 常時ON
TMR #5 #70               ; 電源ON後７秒
TMR #6 #10               ; 塗装列切換ﾘｾｯﾄ遅延
TMR #7 #30               ; 塗装列切換ｻｰﾎﾞON遅延
LD R30400                ; 段バラシ自動選択SS
OR R30401                ; 段バラシ手動SS
DIFU R41000              ; 段ﾊﾞﾗｼ自動/手動切換確認PLS
DIFD R41006              ; 段ﾊﾞﾗｼ自動選択SS切確認PLS
LD R30800                ; 塗装自動選択SS
OR R30801                ; 塗装手動選択SS
DIFU R41001              ; 塗装自動、手動SS切換ON PLS
DIFD R41007              ; 塗装自動、手動SS切換確認OFF PLS
LD R30100                ; 乾燥炉自動選択SS
OR R30101                ; 乾燥炉手動選択SS
DIFU R41002              ; 乾燥炉自動、手動切換ON PLS
DIFD R41008              ; 乾燥炉自動、手動切換OFF PLS
LD R30600                ; 段積み自動選択SS
OR R30601                ; 段積み手動選択SS
DIFU R41005              ; 段積み自動、手動切換ON PLS
DIFD R41011              ; 段積み自動、手動切換OFF PLS
LD R30000                ; 連動-単独選択SS(メイン)
OUT R40900               ; 連動選択SS（メイン)
LD R40900                ; 連動選択SS（メイン)
DIFU R41012              ; 連動選択SS入確認ON PLS
DIFD R41013              ; 連動選択SS入確認OFF PLS
LD R41006                ; 段ﾊﾞﾗｼ自動選択SS切確認PLS
OR R41007                ; 塗装自動、手動SS切換確認OFF PLS
OR R41008                ; 乾燥炉自動、手動切換OFF PLS
OR R41011                ; 段積み自動、手動切換OFF PLS
DIFU R41014              ; 自動選択SS切確認PLS
LD R30002                ; サイクル停止PB（メイン)
DIFU R41015              ; メインサイクル停止PB ON PLS
;<h1/>原位置の確認
LDB R30506               ; 段バラシ　ストッパー右　前進端
AND R30507               ; 段バラシ　ストッパー右　後退端
ANB R30508               ; 段バラシ　ストッパー左　前進端
AND R30509               ; 段バラシ　ストッパー左　後退端
ANB R30510               ; 段バラシ　パレット上下　上昇１端
ANB R30511               ; 段バラシ　パレット上下　上昇２端
AND R30512               ; 段バラシ　パレット上下　下降１端
AND R30513               ; 段バラシ　パレット上下　下降２端
AND R41506               ; 段バラシ部アラーム無し
ANB R45400               ; 段バラシ　サイクル運転中
OUT R41500               ; 段バラシ原位置
LD R31008                ; 塗装ﾊﾝﾄﾞ上下　上昇１端
ANB R31010               ; 塗装ﾊﾝﾄﾞ上下　下降１端
ANB R31012               ; 塗装ハンド右　閉端
AND R31013               ; 塗装ハンド右　開端
ANB R31014               ; 塗装ハンド左　閉端
AND R31015               ; 塗装ハンド左　開端
OR R46406                ; 塗装列残停ﾒﾓﾘ､次回起動で残列運転
ANB R31006               ; 塗装押さえ　下降端
AND R31007               ; 塗装押さえ　上昇端
AND R31009               ; 塗装ﾊﾝﾄﾞ上下　上昇２端
ANB R31011               ; 塗装ﾊﾝﾄﾞ上下　下降２端
AND R31111               ; 12B　位置決め完了
LD R46314                ; 塗装列ﾛﾎﾞｯﾄP1へ移動完了・原位置
AND R48001               ; 塗装ﾊﾟﾚｯﾄ列ﾎﾟｲﾝﾀ（１）
AND R10207               ; 塗装NC原点停止フラグ
ANB R46303               ; 塗装ﾊﾝﾄﾞ１．２上昇（Org）
OR R46406                ; 塗装列残停ﾒﾓﾘ､次回起動で残列運転
ANL
AND R41507               ; 塗装部アラーム無し
ANB R46800               ; 塗装サイクル運転中
OUT R41501               ; 塗装原位置
LDB R30213               ; 乾燥炉温度調節器１　警報
ANB R30214               ; 乾燥炉温度調節器２　警報
AND T1                   ; 電源ON後３秒
ANB R41400               ; 乾燥炉設定温度到達前確認
LD C3                    ; 乾燥炉温度到達カウント
AND R41400               ; 乾燥炉設定温度到達前確認
ORL
AND R30212               ; 乾燥炉温調　過昇（OFFで過昇）
AND R41508               ; 乾燥部アラーム無し
ANB R50700               ; 乾燥炉サイクル運転中
OUT R41502               ; 乾燥炉原位置
;<h1/>乾燥炉温度到達監視
LD CR2002                ; 常時ON
TMR #1 #30               ; 電源ON後３秒
LD T1                    ; 電源ON後３秒
LD R30213                ; 乾燥炉温度調節器１　警報
OR R30214                ; 乾燥炉温度調節器２　警報
ANL
OR R41400                ; 乾燥炉設定温度到達前確認
ANB T2                   ; 乾燥炉設定温度到達確認Dly
OUT R41400               ; 乾燥炉設定温度到達前確認
C #3 #3 R41401           ; 乾燥炉温度到達カウント  乾燥炉温度到達カウントフラグ
LD R41400                ; 乾燥炉設定温度到達前確認
ANB R30213               ; 乾燥炉温度調節器１　警報
ANB R30214               ; 乾燥炉温度調節器２　警報
ANP T131                 ; １分クロック
OUT R41401               ; 乾燥炉温度到達カウントフラグ
LD R41400                ; 乾燥炉設定温度到達前確認
AND C3                   ; 乾燥炉温度到達カウント
ANB R30213               ; 乾燥炉温度調節器１　警報
ANB R30214               ; 乾燥炉温度調節器２　警報
TMR #2 #50               ; 乾燥炉設定温度到達確認Dly
LDB R30701               ; 段積みﾊﾟﾚｯﾄ突き上げ　上昇端
AND R30702               ; 段積みﾊﾟﾚｯﾄ突き上げ　下降端
ANB R30704               ; 段積みパレット満杯２
AND R41511               ; 段積み部アラーム無し
ANB R53000               ; 段積みサイクル運転中（Auto)
OUT R41505               ; 段積み原位置
LD R71015                ; 段バラシ　アラーム無し
AND R70915               ; 装置共通アラーム無し
OUT R41506               ; 段バラシ部アラーム無し
LD R31114                ; 15B　アラーム
AND R72015               ; 塗装アラーム無し
AND R70915               ; 装置共通アラーム無し
OUT R41507               ; 塗装部アラーム無し
LD R30215                ; 乾燥炉C/Vﾓｰﾀｱﾗｰﾑ
AND R73015               ; 乾燥炉アラーム無し
OUT R41508               ; 乾燥部アラーム無し
LD R76015                ; 段積みアラーム無し
AND R70915               ; 装置共通アラーム無し
OUT R41511               ; 段積み部アラーム無し
LD R41500                ; 段バラシ原位置
AND R41501               ; 塗装原位置
AND R41502               ; 乾燥炉原位置
AND R41505               ; 段積み原位置
OUT R41515               ; 全原位置
LD R41515                ; 全原位置
OUT R31400               ; 全原位置　表示
;<h1/>状態表示・ブザー・カウンタ
LDB R70915               ; 装置共通アラーム無し
ORB R71015               ; 段バラシ　アラーム無し
ORB R72015               ; 塗装アラーム無し
ORB R73015               ; 乾燥炉アラーム無し
ORB R76015               ; 段積みアラーム無し
OR R41512                ; 装置アラーム発生中
AND T1                   ; 電源ON後３秒
ANB R41514               ; アラームリセット
OUT R41512               ; 装置アラーム発生中
DIFU R41513              ; 装置アラーム発生PLS
LD R41512                ; 装置アラーム発生中
OR T240                  ; 段バラシ　ﾊﾟﾚｯﾄ補給警報<#２>
AND T0                   ; ブザーOFF確認
AND R30003               ; リセットPB(メイン)
OUT R41514               ; アラームリセット
LD R41512                ; 装置アラーム発生中
LD T1                    ; 電源ON後３秒
LD R30213                ; 乾燥炉温度調節器１　警報
OR R30214                ; 乾燥炉温度調節器２　警報
ANL
ORL
LD R41400                ; 乾燥炉設定温度到達前確認
ANB C3                   ; 乾燥炉温度到達カウント
ORL
OUT R31401               ; アラーム　表示
LD R41513                ; 装置アラーム発生PLS
OR R60000                ; 段ﾊﾞﾗｼﾊﾟﾚｯﾄ不足、要求ﾌﾞｻﾞｰON PLS
OR R48502                ; 液交換ﾀｲﾑｱｯﾌﾟ警報ﾌﾞｻﾞｰON PLS
OR R31402                ; ブザー
ANB R30003               ; リセットPB(メイン)
ANB R48503               ; 液交換警報リセット
OUT R31402               ; ブザー
LDB R31402               ; ブザー
TMR #0 #10               ; ブザーOFF確認
LD R45414                ; 投入ﾊﾟﾚｯﾄｶｳﾝﾄPLS(段ﾊﾞﾗｼAuto)
OR R31403                ; ﾊﾟﾚｯﾄ投入数カウンタ
ANB T3                   ; 投入ﾊﾟﾚｯﾄｶｳﾝﾀOFF Dly
OUT R31403               ; ﾊﾟﾚｯﾄ投入数カウンタ
TMR #3 #5                ; 投入ﾊﾟﾚｯﾄｶｳﾝﾀOFF Dly
LD R53011                ; 段積みﾊﾟﾚｯﾄ突き上げ下降(Auto)
OR R31404                ; ﾊﾟﾚｯﾄ排出数カウンタ
ANB T4                   ; 排出ﾊﾟﾚｯﾄｶｳﾝﾀOFF Dly
OUT R31404               ; ﾊﾟﾚｯﾄ排出数カウンタ
TMR #4 #5                ; 排出ﾊﾟﾚｯﾄｶｳﾝﾀOFF Dly
LD R41512                ; 装置アラーム発生中
OR T350                  ; 段積みﾊﾟﾚｯﾄ満杯予報<#９４>
OR T240                  ; 段バラシ　ﾊﾟﾚｯﾄ補給警報<#２>
ORB R30212               ; 乾燥炉温調　過昇（OFFで過昇）
OR R30213                ; 乾燥炉温度調節器１　警報
OR R30214                ; 乾燥炉温度調節器２　警報
LD R41400                ; 乾燥炉設定温度到達前確認
ANB C3                   ; 乾燥炉温度到達カウント
ORL
OR R48501                ; 液交換ﾀｲﾑｱｯﾌﾟ警報<#１０>
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORB R31115               ; 非常停止（OFFで非常停止）<#1>
OUT R31406               ; パトライト（黄）
LD R45400                ; 段バラシ　サイクル運転中
OR R46800                ; 塗装サイクル運転中
OR R50700                ; 乾燥炉サイクル運転中
OR R53000                ; 段積みサイクル運転中（Auto)
ANB R45310               ; 段バラシ　サイクル停止受付
ANB R46400               ; 塗装サイクル停止受付
ANB R50500               ; ｱﾗｰﾑ時乾燥炉停止指令受付（Auto）
ANB R62000               ; パレット停止中
LD R45310                ; 段バラシ　サイクル停止受付
OR R46400                ; 塗装サイクル停止受付
OR R50500                ; ｱﾗｰﾑ時乾燥炉停止指令受付（Auto）
OR R62000                ; パレット停止中
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT R31407               ; パトライト（緑）
LDB R44000               ; 連動運転メモリ
ANB R45400               ; 段バラシ　サイクル運転中
ANB R46800               ; 塗装サイクル運転中
ANB R50700               ; 乾燥炉サイクル運転中
ANB R53000               ; 段積みサイクル運転中（Auto)
OUT R31405               ; パトライト（赤）
;<h1/>アラームコードを表示器へ展開
LD CR2002                ; 常時ON
OUT R41600               ; 異常ｺｰﾄﾞ表示器ﾃﾞｰﾀ転送
MPS
LDA DM100                ; 異常コードｾｯﾄRag
CON
TBCD
CON
STA DM100                ; 異常コードｾｯﾄRag
MPP
PMOV DM100 #0 R31408 #0 #8;異常コードｾｯﾄRag  アラームNO.1
LD CR3906                ; 軽度ｴﾗｰ発生中
SET CR3909               ; 現在のｴﾗｰｸﾘｱ
END
ENDH
