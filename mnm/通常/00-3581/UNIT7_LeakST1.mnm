DEVICE:53
;MODULE:UNIT7_LeakST1
;MODULE_TYPE:0
;<h1/>□_入力受け
;関連する入力受け(ｾﾝｻのﾃﾞｨﾚｲﾀｲﾏ等)を必要があれば作成する。
;通常は入力ﾕﾆｯﾄに入力時定数(ﾃﾞｨﾚｲ)があるので直接使用しても問題は無い。
LD X06                   ; ST1-2部ﾗｲﾄｶｰﾃﾝOUT1
AND X0A                  ; 装置背面ﾗｲﾄｶｰﾃﾝOUT1
TMR K701 K5              ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
LD X1310                 ; ST2_ﾘｰｸ検部_ﾜｰｸ浮き確認1(ON=OK)
AND X1311                ; ST2_ﾘｰｸ検部_ﾜｰｸ浮き確認2(ON=OK)
TMR K702 K3              ; ﾘｰｸ部浮き確認OKﾀｲﾏ
LD CR2003                ; 常時OFF
TMR K703 K3
LD CR2003                ; 常時OFF
TMR K704 K3
LD X1300                 ; ST2_ﾘｰｸ検査_ｺﾈｸﾀｼｰﾙ_前進端
TMR K720 K3              ; ST2_ﾘｰｸ検査_ｺﾈｸﾀｼｰﾙ_前進端
LD X1302                 ; ST2_ﾘｰｸ検査_上治具_下降端
TMR K722 K3              ; ST2_ﾘｰｸ検査_上治具_下降端
LD X1303                 ; ST2_ﾘｰｸ検査_上治具_上昇端
TMH K724 K10             ; ST2_ﾘｰｸ検査_上治具_上昇端
;<h1/>__治具ＩＤＮＯ．
;上治具
LD X1308                 ; ST2_ﾘｰｸ検査_上治具ID_1
OUT D4106.0
LD X1309                 ; ST2_ﾘｰｸ検査_上治具ID_2
OUT D4106.1
LD X130A                 ; ST2_ﾘｰｸ検査_上治具ID_4
OUT D4106.2
;下治具(ﾁｬﾝﾊﾞｰ)
LD X130B                 ; ST2_ﾘｰｸ検査_下治具ID_1
OUT D4107.0
LD X130C                 ; ST2_ﾘｰｸ検査_下治具ID_2
OUT D4107.1
LD X130D                 ; ST2_ﾘｰｸ検査_下治具ID_4
OUT D4107.2
;ＩＤ保持
LD M71                   ; 自動運転開始BZ
AND L700                 ; ﾘｰｸst2_有効状態
AND X1303                ; ST2_ﾘｰｸ検査_上治具_上昇端
LD M4412                 ; ST_ID保持ﾄﾘｶﾞ
ANB M4410                ; ST無効中
ORL
AND M71                  ; 自動運転開始BZ
OUT M4412                ; ST_ID保持ﾄﾘｶﾞ
;____上治具ＩＤ保持
LD L700                  ; ﾘｰｸst2_有効状態
LD X1303                 ; ST2_ﾘｰｸ検査_上治具_上昇端
OR T726                  ; 上治具_ID_更新_DLY
ANL
TMR K726 K5              ; 上治具_ID_更新_DLY
@MOV D4106 D4100         ; ﾘｰｸST2_上治具ID_ｾﾝｻｰ状態  ﾘｰｸST2_上治具ID
LD CR2002                ; 常時ON
MOV D4100 W0129          ; ﾘｰｸST2_上治具ID  ﾘｰｸ上治具ID#2
LDB L700                 ; ﾘｰｸst2_有効状態
MOV K0 D4100             ; ﾘｰｸST2_上治具ID
;____下治具ＩＤ保持
LD L700                  ; ﾘｰｸst2_有効状態
MPS
TMR K727 K5              ; 下治具_ID_更新_DLY
MPP
AND T727                 ; 下治具_ID_更新_DLY
@MOV D4107 D4101         ; ﾘｰｸST2_下治具ID_ｾﾝｻｰ状態  ﾘｰｸST2_下治具ID
LD CR2002                ; 常時ON
MOV D4101 W012D          ; ﾘｰｸST2_下治具ID  ﾘｰｸ下治具ID#2
LDB L700                 ; ﾘｰｸst2_有効状態
MOV K0 D4101             ; ﾘｰｸST2_下治具ID
;<h1/>__ﾘｰｸst治具有効/無効選択
;段取り状態中ﾌﾗｸﾞの追加
;自動中は段取り状態中に、ST上のﾜｰｸ無、RBﾊﾝﾄﾞﾜｰｸ無し、供給部ﾜｰｸ無しにて無効状態OKとなる
LDB X120E                ; ST2ﾘｰｸ検査_有効/無効SW
ANB B114A                ; ST2ﾘｰｸ検査_有効/無効_Tpb
ANB W09.1                ; リークステージ#2 無効切替要求
INV
OUT M4406                ; ST2ﾘｰｸ検査_有効/無効SW
LDB M41                  ; ﾕﾆｯﾄ_起動中
LD M41                   ; ﾕﾆｯﾄ_起動中
ANB M4485                ; ﾕﾆｯﾄ7起動中
ANB X130F                ; ST2_ﾘｰｸ検査_ﾜｰｸ確認(ON=有)
AND= D1201 K0            ; 投入部1_ﾜｰｸ有無記憶
AND= D1701 K0            ; 搬送ﾍｯﾄﾞ1_ﾜｰｸ有無記憶
AND= D4201 K0            ; Leak_ST2_ﾜｰｸ有無記憶
ORL
OUT M4408                ; st無効OK条件
LD M4409                 ; ST無効予約(自動運転)
ANB M4410                ; ST無効中
ANP M4406                ; ST2ﾘｰｸ検査_有効/無効SW
OUT M4411                ; ST予約ｷｬﾝｾﾙ
LDP M4406                ; ST2ﾘｰｸ検査_有効/無効SW
AND M71                  ; 自動運転開始BZ
ANB M4409                ; ST無効予約(自動運転)
LD M4409                 ; ST無効予約(自動運転)
ANB M4410                ; ST無効中
ANB M4411                ; ST予約ｷｬﾝｾﾙ
ORL
OUT M4409                ; ST無効予約(自動運転)
LD M4409                 ; ST無効予約(自動運転)
AND M4408                ; st無効OK条件
LDP M4406                ; ST2ﾘｰｸ検査_有効/無効SW
ANB M41                  ; ﾕﾆｯﾄ_起動中
ORL
LDB B0E4                 ; 228)_U7E5_下治具位置決めclｓ異常
ANB M4311                ; 下治具位置決め上昇指令
ANB B0E5                 ; 229)_U7E6_ﾘｰｸST2上治具_ID不一致
ANB B0E6                 ; 230)_U7E7_ﾘｰｸST2下治具_ID不一致
INV
MEP
ORL
LD M4410                 ; ST無効中
ANB L700                 ; ﾘｰｸst2_有効状態
ORL
OUT M4410                ; ST無効中
;<h1/>__リークST_有効処理
LDP M4406                ; ST2ﾘｰｸ検査_有効/無効SW
LD<> D4106 K0            ; ﾘｰｸST2_上治具ID_ｾﾝｻｰ状態
AND<> D4107 K0           ; ﾘｰｸST2_下治具ID_ｾﾝｻｰ状態
AND X1304                ; ST2_ﾘｰｸ検査_下治具位置決1下降端
AND X1306                ; ST2_ﾘｰｸ検査_下治具位置決2下降端
AND X1303                ; ST2_ﾘｰｸ検査_上治具_上昇端
LD M35                   ; 空運転ﾓｰﾄﾞ
AND= D4106 K0            ; ﾘｰｸST2_上治具ID_ｾﾝｻｰ状態
AND= D4107 K0            ; ﾘｰｸST2_下治具ID_ｾﾝｻｰ状態
ORL
ANL
ANB L700                 ; ﾘｰｸst2_有効状態
LD L700                  ; ﾘｰｸst2_有効状態
ANB M4410                ; ST無効中
ORL
OUT L700                 ; ﾘｰｸst2_有効状態
;　□治具LOCK/UNLOCK
LDP X120C                ; ST2ﾘｰｸ検査下治具LOCK_SW
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4410                ; ST無効中
MPS
LDB Y2402                ; ﾘｰｸST2下治具位置決め下降
AND<> D4107 K0           ; ﾘｰｸST2_下治具ID_ｾﾝｻｰ状態
ANL
OUT M4402                ; ﾘｰｸST2_下治具位置決め下降指令
MPP
AND Y2402                ; ﾘｰｸST2下治具位置決め下降
OUT M4404                ; ﾘｰｸST2_下治具位置決め上昇指令
LD X120C                 ; ST2ﾘｰｸ検査下治具LOCK_SW
ANB T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
OUT M4414                ; ｾｯﾄ不可ﾌﾞｻﾞｰ(ｴﾘｱｾﾝｻ検出中)
;JIG_ID一致確認
LD L700                  ; ﾘｰｸst2_有効状態
LD= D4100 D1711          ; ﾘｰｸST2_上治具ID  搬送ﾍｯﾄﾞ1_ﾘｰｸ上治具ID
AND= D4101 D1712         ; ﾘｰｸST2_下治具ID  搬送ﾍｯﾄﾞ1_ﾘｰｸ下治具ID
LD M35                   ; 空運転ﾓｰﾄﾞ
AND= D4100 K0            ; ﾘｰｸST2_上治具ID
AND= D4101 K0            ; ﾘｰｸST2_下治具ID
ORL
ANL
OUT M4401                ; ﾘｰｸST2-搬送ID一致ﾌﾗｸﾞ
;<h1/>__ロボット等機器入力受け
;<h1/>□_装置状態・動作条件
;ﾕﾆｯﾄまとめ
LD M4070                 ; ﾕﾆｯﾄ7-1原点
AND M4150                ; ﾕﾆｯﾄ7-2原点
AND M4230                ; ﾕﾆｯﾄ7-3原点
OUT M4480                ; ﾘｰｸST2ﾕﾆｯﾄ7原点
;□ 非常停止
LDB M4071                ; ﾕﾆｯﾄ7-1全異常
ANB M4151                ; ﾕﾆｯﾄ7-2異常
ANB M4231                ; ﾕﾆｯﾄ7-3全異常
INV
OUT M4481                ; ﾕﾆｯﾄ7即停止異常
;□ 起動条件
LD CR2003                ; 常時OFF
OUT M4482                ; ﾕﾆｯﾄ7起動条件
;□ 起動OFF
LDB M50                  ; 運転準備
LD M60                   ; ｴﾗｰ発生
OR M52                   ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
AND M4484                ; ﾕﾆｯﾄ7原点復帰中
ORL
OR T15                   ; 強制停止
OUT M4483                ; ﾕﾆｯﾄ7起動OFF
;□ 原点復帰
LD M82                   ; 原点復帰開始
ANB M4484                ; ﾕﾆｯﾄ7原点復帰中
OR M4484                 ; ﾕﾆｯﾄ7原点復帰中
ANB M4483                ; ﾕﾆｯﾄ7起動OFF
ANB M4491                ; ﾕﾆｯﾄ7ｴﾗｰ発生
ANB M4297                ; STEPEND
OUT M4484                ; ﾕﾆｯﾄ7原点復帰中
;□ 起動中
LDB M4078                ; ﾕﾆｯﾄ7-1起動中
ANB M4154                ; ﾕﾆｯﾄ7-2起動中
ANB M4234                ; ﾕﾆｯﾄ7-3_ﾘｰｸ検査起動中
INV
OUT M4485                ; ﾕﾆｯﾄ7起動中
;□ ｻｲｸﾙ停止異常
LDB M4075                ; ﾕﾆｯﾄ7-1ｻｲｸﾙ停止異常
ANB M4155                ; ﾕﾆｯﾄ7-2ｻｲｸﾙ停止異常
ANB M4235                ; ﾕﾆｯﾄ7-3ｻｲｸﾙ停止異常
INV
OUT M4486                ; ﾕﾆｯﾄ7ｻｲｸﾙ停止異常
;□ 払出停止異常
LDB CR2003               ; 常時OFF
INV
OUT M4487                ; ﾕﾆｯﾄ7払出停止異常
;□ 警報補助
LDB CR2003               ; 常時OFF
INV
OUT M4488                ; ﾕﾆｯﾄ7警報補助
;□ 機器準備確認
LD CR2002                ; 常時ON
OUT M4490                ; ﾕﾆｯﾄ7機器準備完了
;□ ｴﾗｰ発生　一時停止
LDB M4076                ; ﾕﾆｯﾄ7-1ｴﾗｰ発生
ANB M4156                ; ﾕﾆｯﾄ7-2ｴﾗｰ発生
ANB M4236                ; ﾕﾆｯﾄ7-3ｴﾗｰ発生
INV
OUT M4491                ; ﾕﾆｯﾄ7ｴﾗｰ発生
;□ 動作中ﾕﾆｯﾄ無し
LD M4077                 ; ﾕﾆｯﾄ7-1動作無し
AND M4157                ; ﾕﾆｯﾄ7-2動作無し
AND M4237                ; ﾕﾆｯﾄ7-3動作無し
OUT M4492                ; ﾕﾆｯﾄ7動作無し確認
;□ 払出しﾜｰｸ無し
LDB X130F                ; ST2_ﾘｰｸ検査_ﾜｰｸ確認(ON=有)
ANB M4421                ; ﾘｰｸST2_ﾜｰｸ除材要求
AND M1993                ; ﾕﾆｯﾄ2ﾜｰｸ無し(払出時)
AND M36                  ; 払出ﾓｰﾄﾞ
TMR K714 K10             ; ﾕﾆｯﾄ7_ﾜｰｸ無し(払出時)
LD T714                  ; ﾕﾆｯﾄ7_ﾜｰｸ無し(払出時)
OUT M4493                ; ﾕﾆｯﾄ7ﾜｰｸ無し(払出時)
;□ ｽﾃｯﾌﾟ起動
LD M30                   ; 自動ﾓｰﾄﾞ
OR M31                   ; 手動ﾓｰﾄﾞ
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
ANB M130                 ; 一時停止
ANB M51                  ; 即停止異常(緊急停止)
ANB M52                  ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
ANB M57                  ; 自動起動停止指令(払出停止)
ANB M59                  ; 払出停止異常まとめ
ANB M60                  ; ｴﾗｰ発生
OUT M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
;<h1/>□_UNIT_7_自動回路
;<h1/>◇_ﾕﾆｯﾄ7-1状態・動作条件(補助)
LD X1301                 ; ST2_ﾘｰｸ検査_ｺﾈｸﾀｼｰﾙ_後退端
AND X1303                ; ST2_ﾘｰｸ検査_上治具_上昇端
LD X1305                 ; ST2_ﾘｰｸ検査_下治具位置決1上昇端
AND X1307                ; ST2_ﾘｰｸ検査_下治具位置決2上昇端
LD X1304                 ; ST2_ﾘｰｸ検査_下治具位置決1下降端
AND X1306                ; ST2_ﾘｰｸ検査_下治具位置決2下降端
ORL
ANL
ANB X130F                ; ST2_ﾘｰｸ検査_ﾜｰｸ確認(ON=有)
AND= D4201 K0            ; Leak_ST2_ﾜｰｸ有無記憶
OUT M4070                ; ﾕﾆｯﾄ7-1原点
;M**71は即停止異常
LDB B0E5                 ; 229)_U7E6_ﾘｰｸST2上治具_ID不一致
ANB B0E6                 ; 230)_U7E7_ﾘｰｸST2下治具_ID不一致
ANB B0E7                 ; 231)_U7E8_ﾘｰｸST2ﾜｰｸ受取異常
ANB B0E8                 ; 232)_U7E9_ﾜｰｸ受渡し異常
INV
OUT M4071                ; ﾕﾆｯﾄ7-1全異常
LD M4070                 ; ﾕﾆｯﾄ7-1原点
ANB M4078                ; ﾕﾆｯﾄ7-1起動中
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
AND L700                 ; ﾘｰｸst2_有効状態
LD M4401                 ; ﾘｰｸST2-搬送ID一致ﾌﾗｸﾞ
ANB L10                  ; ﾘｰｸ検査有無(0_有/1_無)
AND M1937                ; ﾍｯﾄﾞ1_ﾜｰｸ判別(1_通常/0_再検品)
OR M179                  ; ﾘｰｸ上治具_休息指令中
ANL
OUT M4072                ; ﾕﾆｯﾄ7-1起動条件
LDB M50                  ; 運転準備
OR M4486                 ; ﾕﾆｯﾄ7ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M4073                ; ﾕﾆｯﾄ7-1起動OFF
LD M73                   ; 各工程起動指令
ANB M4078                ; ﾕﾆｯﾄ7-1起動中
AND M4072                ; ﾕﾆｯﾄ7-1起動条件
OR M4078                 ; ﾕﾆｯﾄ7-1起動中
ANB M4073                ; ﾕﾆｯﾄ7-1起動OFF
ANB M4063                ; ﾕﾆｯﾄ7-1ｻｲｸﾙ終了
OUT M4078                ; ﾕﾆｯﾄ7-1起動中
LD M73                   ; 各工程起動指令
AND L700                 ; ﾘｰｸst2_有効状態
ANB M4078                ; ﾕﾆｯﾄ7-1起動中
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND X130F                ; ST2_ﾘｰｸ検査_ﾜｰｸ確認(ON=有)
SET M2350                ; ﾜｰｸ情報不一致
LDP M73                  ; 各工程起動指令
MOV K0 D4020             ; ﾘｰｸST2投入回数
MOV K0 D4021             ; ﾘｰｸST2排出回数
;ﾕﾆｯﾄ1-1 ｻｲｸﾙ停止異常
LDB B0E3                 ; 227)_U7E4_ﾘｰｸﾃｽﾀ異常
INV
OUT M4075                ; ﾕﾆｯﾄ7-1ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-1 ｴﾗｰ発生まとめ
LDB B0E2                 ; 226)_U7E3_ﾘｰｸST2ﾜｰｸ浮き検出異常
ANB B0325                ; 805)_U7E6_ﾘｰｸST2ﾜｰｸ除去要求
ANB B0E4                 ; 228)_U7E5_下治具位置決めclｓ異常
ANB B0E0                 ; 224)_U7E1_ﾘｰｸS1上治具上下CLS異常
ANB B0E1                 ; 225)_U7E2_ﾘｰｸST1ｺﾈｸﾀｼ前後CLS異常
INV
OUT M4076                ; ﾕﾆｯﾄ7-1ｴﾗｰ発生
;ﾕﾆｯﾄ7-1 停止判定
LD= D4000 D4005          ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ7-1動作中判定
ORB M4078                ; ﾕﾆｯﾄ7-1起動中
TMR K710 K20             ; ﾕﾆｯﾄ7-1_停止中
LD CR2002                ; 常時ON
MOV D4000 D4005          ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ7-1動作中判定
LD T710                  ; ﾕﾆｯﾄ7-1_停止中
OUT M4077                ; ﾕﾆｯﾄ7-1動作無し
;□
;□　ﾕﾆｯﾄ7-1 自動運転ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M4000 K4         ; U7-1_S0
LDF M4078                ; ﾕﾆｯﾄ7-1起動中
MOV D4000 D4008          ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LDB M4078                ; ﾕﾆｯﾄ7-1起動中
MOV K0 D4000             ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4078                 ; ﾕﾆｯﾄ7-1起動中
MOV D4000 Z1             ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
OUT M4000:Z1             ; U7-1_S0
;条件分岐
LD M4000                 ; U7-1_S0
ANB X130F                ; ST2_ﾘｰｸ検査_ﾜｰｸ確認(ON=有)
MPS
ANB M179                 ; ﾘｰｸ上治具_休息指令中
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
MPP
LD M179                  ; ﾘｰｸ上治具_休息指令中
AND M1566                ; 搬送1_休息指令確認
ANL
MOV K50 D4000            ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S1_ﾘｰｸST1ﾜｰｸ要求
LD M4001                 ; U7-1_S1
MPS
LDB M4493                ; ﾕﾆｯﾄ7ﾜｰｸ無し(払出時)
OR M1566                 ; 搬送1_休息指令確認
ANL
MPS
ANB M1566                ; 搬送1_休息指令確認
MPS
AND M1960                ; 【搬送】搬送→LEAK_ST2搬送開始
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
MPP
AND M4401                ; ﾘｰｸST2-搬送ID一致ﾌﾗｸﾞ
OUT M4420                ; ﾘｰｸST2_ﾜｰｸ供給要求→搬送
MPP
AND M1566                ; 搬送1_休息指令確認
MOV K50 D4000            ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
MPP
LD M4493                 ; ﾕﾆｯﾄ7ﾜｰｸ無し(払出時)
ANB M1566                ; 搬送1_休息指令確認
ANL
MOV K63 D4000            ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
;　　供給完了ﾊﾝﾄﾞｼｪｲｸ
LD M4002                 ; U7-1_S2
LDB M1960                ; 【搬送】搬送→LEAK_ST2搬送開始
AND M1964                ; 【搬送】搬送→LEAK_ST2搬送完了
OR M4422                 ; ﾘｰｸST2供給完了信号受取
ANL
MPS
ANB M1964                ; 【搬送】搬送→LEAK_ST2搬送完了
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
MPP
OUT M4422                ; ﾘｰｸST2供給完了信号受取
;ﾜｰｸ置く&搬送位置まで逃げ確認
LD M4003                 ; U7-1_S3
AND M1840                ; Z_搬送高さ(HIGH)_搬送1
AND T203                 ; ﾘｰｸ不干渉位置
AND M1808                ; Y軸_ﾘｰｸ不干渉位置
AND= D4201 K1            ; Leak_ST2_ﾜｰｸ有無記憶
MPS
LD X130F                 ; ST2_ﾘｰｸ検査_ﾜｰｸ確認(ON=有)
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
MPS
ANB T702                 ; ﾘｰｸ部浮き確認OKﾀｲﾏ
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
MPP
AND T702                 ; ﾘｰｸ部浮き確認OKﾀｲﾏ
MOV K6 D4000             ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
MPP
LDB X130F                ; ST2_ﾘｰｸ検査_ﾜｰｸ確認(ON=有)
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
MOV K60 D4000            ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
;　　ﾜｰｸ受取異常
LD M4060                 ; U7-1_S60_ﾜｰｸ受取異常
AND B0E7                 ; 231)_U7E8_ﾘｰｸST2ﾜｰｸ受取異常
MOV K63 D4000            ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
;ﾜｰｸ浮き検出異常処理
LD M4004                 ; U7-1_S4_ﾘｰｸSTﾜｰｸ浮き異常
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
AND B0E2                 ; 226)_U7E3_ﾘｰｸST2ﾜｰｸ浮き検出異常
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4005                 ; U7-1_S5
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
ANB B0E2                 ; 226)_U7E3_ﾘｰｸST2ﾜｰｸ浮き検出異常
MPS
LD X130F                 ; ST2_ﾘｰｸ検査_ﾜｰｸ確認(ON=有)
OR CR2002                ; 常時ON
ANL
MOV K3 D4000             ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
MPP
LD CR2003                ; 常時OFF
ANB X130F                ; ST2_ﾘｰｸ検査_ﾜｰｸ確認(ON=有)
ANL
MOV K63 D4000            ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
FMOV K0 D4200 K100       ; Leak_ST2_INDEX NO.
@DEC D1550               ; 搬送_1_ﾜｰｸ在荷_CNT
LD M4006                 ; U7-1_S6_
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
@INC D4020               ; ﾘｰｸST2投入回数
LD M4007                 ; U7-1_S7_
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4008                 ; U7-1_S8
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S9_ﾘｰｸ検査前ﾁｬﾝﾊﾞｰ処理
LD M4009                 ; U7-1_S9_
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4010                 ; U7-1_S10
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
;上治具下降
LD M4011                 ; U7-1_S11_上治具下降指令
MPS
LD T701                  ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
AND X1302                ; ST2_ﾘｰｸ検査_上治具_下降端
ANL
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
MPP
LDB T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
ORB M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
ANL
MOV K13 D4000            ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4012                 ; U7-1_S12_上治具下降指令
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
AND T722                 ; ST2_ﾘｰｸ検査_上治具_下降端
MOV K15 D4000            ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
;上治具下降中にｴﾘｱｾﾝｻが切れた場合
LD M4013                 ; U7-1_S13_上治具下降指令停止
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4014                 ; U7-1_S14
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
MOV K11 D4000            ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
;上治具下降完了
LD M4015                 ; U7-1_S15
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4016                 ; U7-1_S16_ｺﾈｸﾀｼｰﾙ前進
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
AND T720                 ; ST2_ﾘｰｸ検査_ｺﾈｸﾀｼｰﾙ_前進端
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4017                 ; U7-1_S17
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4018                 ; U7-1_S18
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S19_ﾘｰｸ検査開始
;ﾘｰｸ検査の中でｼﾌﾄﾃﾞｰﾀは作成する
LD M4019                 ; U7-1_S19_ﾘｰｸ検査開始
AND M4234                ; ﾕﾆｯﾄ7-3_ﾘｰｸ検査起動中
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4020                 ; U7-1_S20_
ANB M4234                ; ﾕﾆｯﾄ7-3_ﾘｰｸ検査起動中
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4021                 ; U7-1_S21_ﾘｰｸﾃｽﾄ完了ﾌﾗｸﾞ
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4021                 ; U7-1_S21_ﾘｰｸﾃｽﾄ完了ﾌﾗｸﾞ
OR M4494                 ; ﾘｰｸﾃｽﾄ完了記憶
AND M4078                ; ﾕﾆｯﾄ7-1起動中
OUT M4494                ; ﾘｰｸﾃｽﾄ完了記憶
LD M4011                 ; U7-1_S11_上治具下降指令
ANB X1303                ; ST2_ﾘｰｸ検査_上治具_上昇端
LD M4495                 ; ﾘｰｸｼﾘﾝﾀﾞｰ下降中
ANB M4494                ; ﾘｰｸﾃｽﾄ完了記憶
ORL
AND M4078                ; ﾕﾆｯﾄ7-1起動中
OUT M4495                ; ﾘｰｸｼﾘﾝﾀﾞｰ下降中
LD M4022                 ; U7-1_S22
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4023                 ; U7-1_S23
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
;上治具上昇指令
LD M4024                 ; U7-1_S24_上治具上昇指令
MPS
LD T701                  ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
LD X130E                 ; ST2_ﾘｰｸ検査_上治具中間位置
OR X1303                 ; ST2_ﾘｰｸ検査_上治具_上昇端
ANL
ANL
MOV K26 D4000            ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
MPP
LDB T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
ORB M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
ANL
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4025                 ; U7-1_S25_上治具上昇停止指令
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
MOV K24 D4000            ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
;ｺﾈｸﾀｼｰﾙ後退指令
LD M4026                 ; U7-1_S26_ｺﾈｸﾀｼｰﾙ後退指令
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
AND X1301                ; ST2_ﾘｰｸ検査_ｺﾈｸﾀｼｰﾙ_後退端
AND X1303                ; ST2_ﾘｰｸ検査_上治具_上昇端
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4027                 ; U7-1_S27
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4028                 ; U7-1_S28
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S29_搬送へﾜｰｸ除去要求
LD M4029                 ; U7-1_S29
MPS
AND M1970                ; 【搬送】LEAK_ST2→搬送_除材完了
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
MPP
ANB M180                 ; 搬送1側_再投入品有
OUT M4421                ; ﾘｰｸST2_ﾜｰｸ除材要求
LD M4030                 ; U7-1_S30
ANB M1970                ; 【搬送】LEAK_ST2→搬送_除材完了
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
@INC D4021               ; ﾘｰｸST2排出回数
LD M4031                 ; U7-1_S31
AND= D4201 K0            ; Leak_ST2_ﾜｰｸ有無記憶
AND M1840                ; Z_搬送高さ(HIGH)_搬送1
MPS
ANB X130F                ; ST2_ﾘｰｸ検査_ﾜｰｸ確認(ON=有)
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
MPP
AND X130F                ; ST2_ﾘｰｸ検査_ﾜｰｸ確認(ON=有)
OUT M4430                ; leak_ST2ﾜｰｸ受渡し異常
LD M4032                 ; U7-1_S32
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
MOV K63 D4000            ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4033                 ; U7-1_S33_
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4034                 ; U7-1_S34
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4035                 ; U7-1_S35
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4036                 ; U7-1_S36
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4037                 ; U7-1_S37
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4038                 ; U7-1_S38
MOV K63 D4000            ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S50_上治具下降_休息
LD M4050                 ; U7-1_S50_上治具_休息
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
AND M1808                ; Y軸_ﾘｰｸ不干渉位置
AND X1310                ; ST2_ﾘｰｸ検部_ﾜｰｸ浮き確認1(ON=OK)
AND X1311                ; ST2_ﾘｰｸ検部_ﾜｰｸ浮き確認2(ON=OK)
ANB X130F                ; ST2_ﾘｰｸ検査_ﾜｰｸ確認(ON=有)
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4051                 ; U7-1_S51_ﾘｰｸ上治具_下降
AND X1302                ; ST2_ﾘｰｸ検査_上治具_下降端
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4052                 ; U7-1_S52_ﾘｰｸ上治具_休息終了待ち
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
ANB M179                 ; ﾘｰｸ上治具_休息指令中
AND M1808                ; Y軸_ﾘｰｸ不干渉位置
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4053                 ; U7-1_S53_ﾘｰｸ上治具_上昇
AND X1303                ; ST2_ﾘｰｸ検査_上治具_上昇端
INC D4000                ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
LD M4054                 ; U7-1_S54_
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
MOV K63 D4000            ; ﾕﾆｯﾄ7-1自動運転ｽﾃｯﾌﾟ
;<h1/>◇_未使用_ﾕﾆｯﾄ7-2_状態・動作条件(補助)
LD CR2002                ; 常時ON
OUT M4150                ; ﾕﾆｯﾄ7-2原点
LDB CR2003               ; 常時OFF
INV
OUT M4151                ; ﾕﾆｯﾄ7-2異常
LD M4150                 ; ﾕﾆｯﾄ7-2原点
ANB M4154                ; ﾕﾆｯﾄ7-2起動中
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
OUT M4152                ; ﾕﾆｯﾄ7-2起動条件
LDB M50                  ; 運転準備
OR M4486                 ; ﾕﾆｯﾄ7ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M4153                ; ﾕﾆｯﾄ7-2起動OFF
LD CR2003                ; 常時OFF
AND M4152                ; ﾕﾆｯﾄ7-2起動条件
OR M4154                 ; ﾕﾆｯﾄ7-2起動中
ANB M4153                ; ﾕﾆｯﾄ7-2起動OFF
ANB M4143                ; ﾕﾆｯﾄ7-2ｻｲｸﾙ終了
OUT M4154                ; ﾕﾆｯﾄ7-2起動中
;ﾕﾆｯﾄ7-2ｻｲｸﾙ停止異常
LDB CR2003               ; 常時OFF
INV
OUT M4155                ; ﾕﾆｯﾄ7-2ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ7-2ｴﾗｰ発生まとめ
LDB CR2003               ; 常時OFF
INV
OUT M4156                ; ﾕﾆｯﾄ7-2ｴﾗｰ発生
;ﾕﾆｯﾄ7-2停止判定
LD= D4001 D4006          ; ﾕﾆｯﾄ7-2自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ7-2動作中判定
ORB M4154                ; ﾕﾆｯﾄ7-2起動中
TMR K711 K20             ; ﾕﾆｯﾄ7-2_停止中
LD CR2002                ; 常時ON
MOV D4001 D4006          ; ﾕﾆｯﾄ7-2自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ7-2動作中判定
LD T711                  ; ﾕﾆｯﾄ7-2_停止中
LD CR2003                ; 常時OFF
AND M31                  ; 手動ﾓｰﾄﾞ
ORL
OUT M4157                ; ﾕﾆｯﾄ7-2動作無し
;□
;□　ﾕﾆｯﾄ1-2ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M4080 K4         ; ﾕﾆｯﾄ7-2ｽﾃｯﾌﾟ開始
LDB M4154                ; ﾕﾆｯﾄ7-2起動中
MOV K0 D4001             ; ﾕﾆｯﾄ7-2自動運転ｽﾃｯﾌﾟ
LD M4154                 ; ﾕﾆｯﾄ7-2起動中
MOV D4001 Z1             ; ﾕﾆｯﾄ7-2自動運転ｽﾃｯﾌﾟ
OUT M4080:Z1             ; ﾕﾆｯﾄ7-2ｽﾃｯﾌﾟ開始
;ﾜｰｸ有無判定
LD M4080                 ; ﾕﾆｯﾄ7-2ｽﾃｯﾌﾟ開始
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
MPS
AND CR2003               ; 常時OFF
@INC D4001               ; ﾕﾆｯﾄ7-2自動運転ｽﾃｯﾌﾟ
MPP
AND CR2003               ; 常時OFF
@MOV K3 D4001            ; ﾕﾆｯﾄ7-2自動運転ｽﾃｯﾌﾟ
LD M4082
AND CR2003               ; 常時OFF
@INC D4001               ; ﾕﾆｯﾄ7-2自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND CR2003               ; 常時OFF
MOV K62 D4001            ; ﾕﾆｯﾄ7-2自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
LD M4142                 ; ﾕﾆｯﾄ7-2ｻｲｸﾙ停止処理
OR CR2003                ; 常時OFF
@MOV K63 D4001           ; ﾕﾆｯﾄ7-2自動運転ｽﾃｯﾌﾟ
;<h1/>◇_ﾕﾆｯﾄ7-3_ﾘｰｸﾃｽﾀ_状態・動作条件(補助)
LD CR2002                ; 常時ON
OUT M4230                ; ﾕﾆｯﾄ7-3原点
LDB CR2003               ; 常時OFF
INV
OUT M4231                ; ﾕﾆｯﾄ7-3全異常
LD M4230                 ; ﾕﾆｯﾄ7-3原点
ANB M4234                ; ﾕﾆｯﾄ7-3_ﾘｰｸ検査起動中
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
AND M300                 ; PC通信正常
OUT M4232                ; ﾕﾆｯﾄ7-3起動条件
LDB M50                  ; 運転準備
OR M4486                 ; ﾕﾆｯﾄ7ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M4233                ; ﾕﾆｯﾄ7-3起動OFF
LD M4019                 ; U7-1_S19_ﾘｰｸ検査開始
AND M4232                ; ﾕﾆｯﾄ7-3起動条件
OR M4234                 ; ﾕﾆｯﾄ7-3_ﾘｰｸ検査起動中
ANB M4233                ; ﾕﾆｯﾄ7-3起動OFF
ANB M4223                ; ﾕﾆｯﾄ7-3ｻｲｸﾙ終了
OUT M4234                ; ﾕﾆｯﾄ7-3_ﾘｰｸ検査起動中
LD CR2002                ; 常時ON
DW K0 D4400              ; ﾘｰｸ検査_ｽﾃｰﾀｽ表示
LD M4234                 ; ﾕﾆｯﾄ7-3_ﾘｰｸ検査起動中
DW K1 D4400              ; ﾘｰｸ検査_ｽﾃｰﾀｽ表示
LD= D4203 K1             ; Leak_ST2_Leak検査結果(1=OK_2=NG)
DW K2 D4400              ; ﾘｰｸ検査_ｽﾃｰﾀｽ表示
LD= D4203 K2             ; Leak_ST2_Leak検査結果(1=OK_2=NG)
DW K3 D4400              ; ﾘｰｸ検査_ｽﾃｰﾀｽ表示
LDB L700                 ; ﾘｰｸst2_有効状態
DW K4 D4400              ; ﾘｰｸ検査_ｽﾃｰﾀｽ表示
;ﾕﾆｯﾄ7-3ｻｲｸﾙ停止異常
LDB B0E3                 ; 227)_U7E4_ﾘｰｸﾃｽﾀ異常
INV
OUT M4235                ; ﾕﾆｯﾄ7-3ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ7-3ｴﾗｰ発生まとめ
LDB CR2003               ; 常時OFF
INV
OUT M4236                ; ﾕﾆｯﾄ7-3ｴﾗｰ発生
;ﾕﾆｯﾄ7-3停止判定
LD= D4002 D4007          ; ﾕﾆｯﾄ7-3自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ7-3動作中判定
TMR K712 K20             ; ﾕﾆｯﾄ7-3_停止中
LD CR2002                ; 常時ON
MOV D4002 D4007          ; ﾕﾆｯﾄ7-3自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ7-3動作中判定
LD T712                  ; ﾕﾆｯﾄ7-3_停止中
ORB M4234                ; ﾕﾆｯﾄ7-3_ﾘｰｸ検査起動中
OUT M4237                ; ﾕﾆｯﾄ7-3動作無し
;□
;□　ﾕﾆｯﾄ7-3自動運転ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M4160 K4         ; U7-3_S0
LDB M4234                ; ﾕﾆｯﾄ7-3_ﾘｰｸ検査起動中
MOV K0 D4002             ; ﾕﾆｯﾄ7-3自動運転ｽﾃｯﾌﾟ
LD M4234                 ; ﾕﾆｯﾄ7-3_ﾘｰｸ検査起動中
MOV D4002 Z1             ; ﾕﾆｯﾄ7-3自動運転ｽﾃｯﾌﾟ
OUT M4160:Z1             ; U7-3_S0
;<h1/>__S0_検査開始
LD M4160                 ; U7-3_S0
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
@INC D4002               ; ﾕﾆｯﾄ7-3自動運転ｽﾃｯﾌﾟ
LD M4161                 ; U7-3_S1
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
@INC D4002               ; ﾕﾆｯﾄ7-3自動運転ｽﾃｯﾌﾟ
LD M4162                 ; U7-3_S2_PCへﾘｰｸ検査要求
AND W0102.1              ; ﾘｰｸ検査開始要求#2
LD W02.1                 ; ﾘｰｸ検査ｽﾃｰｼﾞ状態#2
LD CR2003                ; 常時OFF
AND W02.5                ; ﾘｰｸ検査ｽｷｯﾌﾟ_#2
ORL
OR M3                    ; OFFLINE_MODE
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
@INC D4002               ; ﾕﾆｯﾄ7-3自動運転ｽﾃｯﾌﾟ
LD M4163                 ; U7-3_S3
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
MPS
ANB W02.5                ; ﾘｰｸ検査ｽｷｯﾌﾟ_#2
@INC D4002               ; ﾕﾆｯﾄ7-3自動運転ｽﾃｯﾌﾟ
MPP
AND W02.5                ; ﾘｰｸ検査ｽｷｯﾌﾟ_#2
MOV K5 D4002             ; ﾕﾆｯﾄ7-3自動運転ｽﾃｯﾌﾟ
LD M4164                 ; U7-3_S4_真空ON指令
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
AND Y221B                ; ST2_ﾁｬﾝﾊﾞ_真空引き開
MPS
AND T723                 ; ﾘｰｸﾊﾞｲﾊﾟｽ時間
@INC D4002               ; ﾕﾆｯﾄ7-3自動運転ｽﾃｯﾌﾟ
MPP
TMR K723 D4216           ; ﾘｰｸﾊﾞｲﾊﾟｽ時間  Leak_ST2_Leakﾊﾞｲﾊﾟｽ回路開放時間
LD M4165                 ; U7-3_S5_
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
@INC D4002               ; ﾕﾆｯﾄ7-3自動運転ｽﾃｯﾌﾟ
LD M4166                 ; U7-3_S6
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
LDB W02.1                ; ﾘｰｸ検査ｽﾃｰｼﾞ状態#2
ANB W02.5                ; ﾘｰｸ検査ｽｷｯﾌﾟ_#2
OR M3                    ; OFFLINE_MODE
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
@INC D4002               ; ﾕﾆｯﾄ7-3自動運転ｽﾃｯﾌﾟ
LD M4167                 ; U7-3_S7
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
MPS
AND<> D4203 K0           ; Leak_ST2_Leak検査結果(1=OK_2=NG)
@INC D4002               ; ﾕﾆｯﾄ7-3自動運転ｽﾃｯﾌﾟ
MRD
LDB M3                   ; OFFLINE_MODE
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
MPS
AND W02.9                ; ﾘｰｸ検査結果#2
MOV K1 D4203             ; Leak_ST2_Leak検査結果(1=OK_2=NG)
MPP
ANB W02.9                ; ﾘｰｸ検査結果#2
MOV K2 D4203             ; Leak_ST2_Leak検査結果(1=OK_2=NG)
MPP
LD M3                    ; OFFLINE_MODE
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
MPS
ANB B1030                ; ﾘｰｸST2_強制NG_TEST
MOV K1 D4203             ; Leak_ST2_Leak検査結果(1=OK_2=NG)
MPP
AND B1030                ; ﾘｰｸST2_強制NG_TEST
MOV K2 D4203             ; Leak_ST2_Leak検査結果(1=OK_2=NG)
LD M4168                 ; U7-3_S8
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
@INC D4002               ; ﾕﾆｯﾄ7-3自動運転ｽﾃｯﾌﾟ
LD M4169                 ; U7-3_S9
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
@INC D4002               ; ﾕﾆｯﾄ7-3自動運転ｽﾃｯﾌﾟ
LD M4170                 ; U7-3_S10
AND M4479                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ動作
MOV K63 D4002            ; ﾕﾆｯﾄ7-3自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND CR2003               ; 常時OFF
MOV K62 D4002            ; ﾕﾆｯﾄ7-3自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
LD M4222                 ; U7-3_S62
OR CR2003                ; 常時OFF
@MOV K63 D4002           ; ﾕﾆｯﾄ7-3自動運転ｽﾃｯﾌﾟ
;<h1/>□_UNIT_7_原点復帰回路
LD CR2002                ; 常時ON
FMOV K0 M4250 K3         ; STEP0
LDB M4484                ; ﾕﾆｯﾄ7原点復帰中
MOV K0 D4010             ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M4484                 ; ﾕﾆｯﾄ7原点復帰中
MOV D4010 Z1             ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
OUT M4250:Z1             ; STEP0
;原点復帰ｻｲｸﾙ監視
LD M4484                 ; ﾕﾆｯﾄ7原点復帰中
TMR K700 K200            ; ﾕﾆｯﾄ7_原点復帰ﾀｲﾑｱｳﾄ
;原点復帰ステップ開始
LD M4250                 ; STEP0
MPS
LDB X1303                ; ST2_ﾘｰｸ検査_上治具_上昇端
ANB W02.1                ; ﾘｰｸ検査ｽﾃｰｼﾞ状態#2
ANL
@INC D4010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
MPP
AND X1303                ; ST2_ﾘｰｸ検査_上治具_上昇端
MOV K3 D4010             ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M4251                 ; STEP1_真空弁閉
ANB Y221A                ; ST2_ﾁｬﾝﾊﾞ_真空弁開
MPS
AND T736                 ; 真空引き弁開_DLY
@INC D4010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
MPP
TMR K736 K5              ; 真空引き弁開_DLY
LD M4252                 ; STEP2_真空引き弁_開
LD Y221B                 ; ST2_ﾁｬﾝﾊﾞ_真空引き開
OR T737                  ; 真空引き弁閉
ANL
MPS
AND T738                 ; 真空解放完了_DLY
@INC D4010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
MRD
TMR K737 K12             ; 真空引き弁閉
MPP
AND T737                 ; 真空引き弁閉
TMR K738 K5              ; 真空解放完了_DLY
LD M4253                 ; STEP3_上治具上昇指令
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND X1303                ; ST2_ﾘｰｸ検査_上治具_上昇端
@INC D4010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M4254                 ; STEP4
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
@INC D4010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M4255                 ; STEP5_ｺﾈｸﾀｼｰﾙ後退指令
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND X1301                ; ST2_ﾘｰｸ検査_ｺﾈｸﾀｼｰﾙ_後退端
@INC D4010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
;　　ﾜｰｸ有無ﾁｪｯｸ
LD M4256                 ; STEP6
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M1840                ; Z_搬送高さ(HIGH)_搬送1
MPS
ANB X130F                ; ST2_ﾘｰｸ検査_ﾜｰｸ確認(ON=有)
MOV K8 D4010             ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
MPP
AND X130F                ; ST2_ﾘｰｸ検査_ﾜｰｸ確認(ON=有)
@INC D4010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
;　　ﾜｰｸ除去要求
LD M4257                 ; STEP7_ORGﾜｰｸ除去要求
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND B0325                ; 805)_U7E6_ﾘｰｸST2ﾜｰｸ除去要求
@MOV K46 D4010           ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
;　　
LD M4258                 ; STEP8_下治具位置決め固定or解除指
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
@INC D4010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M4259                 ; STEP9
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
@INC D4010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M4260                 ; STEP10
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
MPS
AND M4480                ; ﾘｰｸST2ﾕﾆｯﾄ7原点
@MOV K46 D4010           ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
MRD
FMOV K0 D4200 K100       ; Leak_ST2_INDEX NO.
MPP
AND M8                   ; 能力拡張_テスト
FMOV K0 D5200 K100       ; Leak_ST1_INDEX NO.
LD M4296                 ; STEP46
ANB M82                  ; 原点復帰開始
@MOV K47 D4010           ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
;<h1/>□_UNIT_7_手動回路
LD M31                   ; 手動ﾓｰﾄﾞ
AND M32                  ; ﾒｲﾝ手動操作可能条件
ANB M4485                ; ﾕﾆｯﾄ7起動中
ANB M4484                ; ﾕﾆｯﾄ7原点復帰中
MC
;ﾁｬﾝﾊﾞｰﾘｯﾄﾞ上下
LD CR2002                ; 常時ON
AND M129                 ; 安全入力OK
AND M1732                ; ﾕﾆｯﾄ2-3_RCX240起動条件
AND M1801                ; RCX240動作完了
LD M1820                 ; XY_待機位置
OR M1835                 ; Y_待機位置
ANL
AND M1808                ; Y軸_ﾘｰｸ不干渉位置
OUT M4300                ; 上治具_下降_OK
LD B1140                 ; UNIT7-2-1 TP-PB
ANB B1141                ; UNIT7-2-2 TP-PB
AND M4300                ; 上治具_下降_OK
AND X06                  ; ST1-2部ﾗｲﾄｶｰﾃﾝOUT1
OUT M4301                ; 上治具_下降指令
LD CR2002                ; 常時ON
OUT M4302                ; ﾊﾞｯｸｱｯﾌﾟﾎﾞｰﾄﾞ上昇_OK
LD B1141                 ; UNIT7-2-2 TP-PB
ANB B1140                ; UNIT7-2-1 TP-PB
AND M4302                ; ﾊﾞｯｸｱｯﾌﾟﾎﾞｰﾄﾞ上昇_OK
AND X06                  ; ST1-2部ﾗｲﾄｶｰﾃﾝOUT1
OUT M4303                ; ﾊﾞｯｸｱｯﾌﾟﾎﾞｰﾄﾞ上昇指令
;ｺﾈｸﾀｼｰﾙ
LD CR2002                ; 常時ON
AND M129                 ; 安全入力OK
OUT M4304                ; ｺﾈｸﾀｼｰﾙ前後_前進_起動OK
LDP B1142                ; UNIT7-2-3 TP-PB
AND M4304                ; ｺﾈｸﾀｼｰﾙ前後_前進_起動OK
LD M4305                 ; ｺﾈｸﾀｼｰﾙ前後_前進_指令
ANB M4307                ; ｺﾈｸﾀｼｰﾙ前後_後退_指令
ORL
OUT M4305                ; ｺﾈｸﾀｼｰﾙ前後_前進_指令
LD CR2002                ; 常時ON
OUT M4306                ; ｺﾈｸﾀｼｰﾙ前後_後退_起動OK
LDP B1143                ; UNIT7-2-4 TP-PB
AND M4306                ; ｺﾈｸﾀｼｰﾙ前後_後退_起動OK
LD M4307                 ; ｺﾈｸﾀｼｰﾙ前後_後退_指令
ANB M4305                ; ｺﾈｸﾀｼｰﾙ前後_前進_指令
ORL
OUT M4307                ; ｺﾈｸﾀｼｰﾙ前後_後退_指令
;下治具位置決め
LD CR2002                ; 常時ON
AND M129                 ; 安全入力OK
AND X1301                ; ST2_ﾘｰｸ検査_ｺﾈｸﾀｼｰﾙ_後退端
LD X1303                 ; ST2_ﾘｰｸ検査_上治具_上昇端
OR CR2002                ; 常時ON
ANL
OUT M4308                ; 下治具位置決め下降_OK
LDP B1144                ; UNIT7-2-5 TP-PB
AND M4308                ; 下治具位置決め下降_OK
LD M4309                 ; 下治具位置決め下降指令
ANB M4311                ; 下治具位置決め上昇指令
ORL
OUT M4309                ; 下治具位置決め下降指令
LD CR2002                ; 常時ON
OUT M4310                ; 下治具位置決め上昇_OK
LDP B1145                ; UNIT7-2-6 TP-PB
AND M4310                ; 下治具位置決め上昇_OK
LD M4311                 ; 下治具位置決め上昇指令
ANB M4309                ; 下治具位置決め下降指令
ORL
OUT M4311                ; 下治具位置決め上昇指令
MCR
;<h1/>□_出力回路
;ソレノイドバルブ出力
LD Y2384                 ; ST2ﾁｬﾝﾊﾞｰ蓋下降
OR Y2385                 ; ST2ﾁｬﾝﾊﾞｰ蓋上昇
LD T701                  ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
OR X1302                 ; ST2_ﾘｰｸ検査_上治具_下降端
OR X1303                 ; ST2_ﾘｰｸ検査_上治具_上昇端
ANL
AND M50                  ; 運転準備
OUT Y2380                ; ST2ﾁｬﾝﾊﾞｰ蓋ﾌﾞﾚｰｷ解除
LDB M4251                ; STEP1_真空弁閉
ANB M4252                ; STEP2_真空引き弁_開
OUT Y221A                ; ST2_ﾁｬﾝﾊﾞ_真空弁開
LD M4164                 ; U7-3_S4_真空ON指令
LD M4252                 ; STEP2_真空引き弁_開
ANB T737                 ; 真空引き弁閉
ORL
OUT Y221B                ; ST2_ﾁｬﾝﾊﾞ_真空引き開
LD X1302                 ; ST2_ﾘｰｸ検査_上治具_下降端
MPS
AND CR2003               ; 常時OFF
@SET Y2383               ; ST2ﾁｬﾝﾊﾞｰ蓋上昇時速度切替on低
MPP
@RES Y2382               ; ST2ﾁｬﾝﾊﾞｰ蓋下降時速度切替ON低
LD X1303                 ; ST2_ﾘｰｸ検査_上治具_上昇端
@RES Y2383               ; ST2ﾁｬﾝﾊﾞｰ蓋上昇時速度切替on低
@RES Y2382               ; ST2ﾁｬﾝﾊﾞｰ蓋下降時速度切替ON低
LD Y2384                 ; ST2ﾁｬﾝﾊﾞｰ蓋下降
AND X130E                ; ST2_ﾘｰｸ検査_上治具中間位置
SET Y2382                ; ST2ﾁｬﾝﾊﾞｰ蓋下降時速度切替ON低
LD Y2385                 ; ST2ﾁｬﾝﾊﾞｰ蓋上昇
AND X130E                ; ST2_ﾘｰｸ検査_上治具中間位置
RES Y2383                ; ST2ﾁｬﾝﾊﾞｰ蓋上昇時速度切替on低
LD M4301                 ; 上治具_下降指令
AND M4300                ; 上治具_下降_OK
AND M1808                ; Y軸_ﾘｰｸ不干渉位置
LDB M4011                ; U7-1_S11_上治具下降指令
ANB M4012                ; U7-1_S12_上治具下降指令
ANB M4051                ; U7-1_S51_ﾘｰｸ上治具_下降
INV
AND M1808                ; Y軸_ﾘｰｸ不干渉位置
ORL
LD M4380                 ; ST2_上治具下降
ANB M4381                ; ST2_上治具上昇
ANB M4013                ; U7-1_S13_上治具下降指令停止
LDB M31                  ; 手動ﾓｰﾄﾞ
OR X1302                 ; ST2_ﾘｰｸ検査_上治具_下降端
OR M30                   ; 自動ﾓｰﾄﾞ
ANL
ORL
AND M50                  ; 運転準備
OUT M4380                ; ST2_上治具下降
LD M4380                 ; ST2_上治具下降
LD T701                  ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
OR X1302                 ; ST2_ﾘｰｸ検査_上治具_下降端
ANL
OUT Y2384                ; ST2ﾁｬﾝﾊﾞｰ蓋下降
LD M4303                 ; ﾊﾞｯｸｱｯﾌﾟﾎﾞｰﾄﾞ上昇指令
AND M4302                ; ﾊﾞｯｸｱｯﾌﾟﾎﾞｰﾄﾞ上昇_OK
LDB M4253                ; STEP3_上治具上昇指令
ANB M4024                ; U7-1_S24_上治具上昇指令
ANB M4053                ; U7-1_S53_ﾘｰｸ上治具_上昇
INV
ORL
LD M4381                 ; ST2_上治具上昇
ANB M4380                ; ST2_上治具下降
LDB M31                  ; 手動ﾓｰﾄﾞ
OR M30                   ; 自動ﾓｰﾄﾞ
OR X1303                 ; ST2_ﾘｰｸ検査_上治具_上昇端
ANL
ORL
AND M50                  ; 運転準備
OUT M4381                ; ST2_上治具上昇
LD M4381                 ; ST2_上治具上昇
LD T701                  ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
OR X1303                 ; ST2_ﾘｰｸ検査_上治具_上昇端
ANL
OUT Y2385                ; ST2ﾁｬﾝﾊﾞｰ蓋上昇
LD M4305                 ; ｺﾈｸﾀｼｰﾙ前後_前進_指令
AND M4304                ; ｺﾈｸﾀｼｰﾙ前後_前進_起動OK
LDB M4016                ; U7-1_S16_ｺﾈｸﾀｼｰﾙ前進
INV
ORL
LD Y2400                 ; ﾘｰｸST2ｺﾈｸﾀｼｰﾙｼｰﾙ側
ANB Y2401                ; ﾘｰｸST2ｺﾈｸﾀｼｰﾙ戻り
ORL
AND M50                  ; 運転準備
OUT Y2400                ; ﾘｰｸST2ｺﾈｸﾀｼｰﾙｼｰﾙ側
LD M4307                 ; ｺﾈｸﾀｼｰﾙ前後_後退_指令
AND M4306                ; ｺﾈｸﾀｼｰﾙ前後_後退_起動OK
LDB M4255                ; STEP5_ｺﾈｸﾀｼｰﾙ後退指令
ANB M4026                ; U7-1_S26_ｺﾈｸﾀｼｰﾙ後退指令
INV
ORL
LD Y2401                 ; ﾘｰｸST2ｺﾈｸﾀｼｰﾙ戻り
ANB Y2400                ; ﾘｰｸST2ｺﾈｸﾀｼｰﾙｼｰﾙ側
ORL
AND M50                  ; 運転準備
OUT Y2401                ; ﾘｰｸST2ｺﾈｸﾀｼｰﾙ戻り
LD M4309                 ; 下治具位置決め下降指令
AND M4308                ; 下治具位置決め下降_OK
ORP M4402                ; ﾘｰｸST2_下治具位置決め下降指令
LD Y2402                 ; ﾘｰｸST2下治具位置決め下降
ANB Y2403                ; ﾘｰｸST2下治具位置決め上昇
ORL
OUT Y2402                ; ﾘｰｸST2下治具位置決め下降
LD M4311                 ; 下治具位置決め上昇指令
AND M4310                ; 下治具位置決め上昇_OK
ORP M4404                ; ﾘｰｸST2_下治具位置決め上昇指令
LD Y2403                 ; ﾘｰｸST2下治具位置決め上昇
ANB Y2402                ; ﾘｰｸST2下治具位置決め下降
ORL
OUT Y2403                ; ﾘｰｸST2下治具位置決め上昇
;■ﾗﾝﾌﾟ表示
LD X1304                 ; ST2_ﾘｰｸ検査_下治具位置決1下降端
AND X1306                ; ST2_ﾘｰｸ検査_下治具位置決2下降端
INV
AND<> D4107 K0           ; ﾘｰｸST2_下治具ID_ｾﾝｻｰ状態
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
LD X1304                 ; ST2_ﾘｰｸ検査_下治具位置決1下降端
AND X1306                ; ST2_ﾘｰｸ検査_下治具位置決2下降端
ORL
OUT Y221C                ; ST2_上治具_LOCK表示
INV
OUT Y221D                ; ST2_下治具_UNLOCK表示
LD M4409                 ; ST無効予約(自動運転)
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
LD L700                  ; ﾘｰｸst2_有効状態
ANB M4409                ; ST無効予約(自動運転)
ORL
OUT Y221E                ; ST2_ﾘｰｸ_有効/無効表示
OUT B164A                ; ST2_ﾘｰｸ_有効/無効表示
;■その他制御出力
;PC_I/O
LD X1200                 ; ST2_ﾘｰｸ_OK判定
OUT W0104.0              ; ﾘｰｸ検査結果OK#2
LD X1201                 ; ST2_ﾘｰｸ_NG判定
OUT W0104.1              ; ﾘｰｸ検査結果NG#
LD X1202                 ; ST2_ﾘｰｸ_NGﾏｽﾀｰ
OUT W0104.2              ; ﾘｰｸ検査結果NGﾏｽﾀｰ#2
LD X1203                 ; ST2_ﾘｰｸ_ｱﾗｰﾑ
OUT W0104.3              ; ﾘｰｸﾃｽﾀｰｱﾗｰﾑ#2
LD X1204                 ; ST2_ﾘｰｸ_ｻｲｸﾙ終了
OUT W0104.4              ; ﾘｰｸﾃｽﾀｰｻｲｸﾙ終了#2
LD W04.1                 ; ﾘｰｸﾃｽﾀｰﾘｾｯﾄ#2
OUT Y2210                ; ST2_ﾘｰｸ ﾘｾｯﾄ
LD W04.0                 ; ﾘｰｸ検査ｽﾀｰﾄ#2
OUT Y2211                ; ST2_ﾘｰｸ ｽﾀｰﾄ
LD W04.2                 ; ﾘｰｸﾃｽﾄﾌﾟﾛｸﾞﾗﾑNo.(Bin1)#2
OUT Y2212                ; ST2_ﾘｰｸ PRG1
LD W04.3                 ; ﾘｰｸﾃｽﾄﾌﾟﾛｸﾞﾗﾑNo.(Bin2)#2
OUT Y2213                ; ST2_ﾘｰｸ PRG2
LD W04.4                 ; ﾘｰｸﾃｽﾄﾌﾟﾛｸﾞﾗﾑNo.(Bin4)#2
OUT Y2214                ; ST2_ﾘｰｸ PRG4
LD W04.5                 ; ﾘｰｸﾃｽﾄﾌﾟﾛｸﾞﾗﾑNo.(Bin8)#2
OUT Y2215                ; ST2_ﾘｰｸ PRG8
LD W04.6                 ; ﾘｰｸｵｰﾄｾﾞﾛ#2
OUT Y2216                ; ST2_ﾘｰｸ ｵｰﾄｾﾞﾛ
LD M4162                 ; U7-3_S2_PCへﾘｰｸ検査要求
OUT W0102.1              ; ﾘｰｸ検査開始要求#2
LD L700                  ; ﾘｰｸst2_有効状態
OUT W0102.9              ; ﾘｰｸ検査ｽﾃｰｼﾞ有効/無効#2
;□□　　パネル表示　　□□
LD Y2384                 ; ST2ﾁｬﾝﾊﾞｰ蓋下降
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR X1302                 ; ST2_ﾘｰｸ検査_上治具_下降端
OUT B1640                ; UNIT7-2-1 TP-PL
LD Y2385                 ; ST2ﾁｬﾝﾊﾞｰ蓋上昇
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR X1303                 ; ST2_ﾘｰｸ検査_上治具_上昇端
OUT B1641                ; UNIT7-2-2 TP-PL
LD Y2400                 ; ﾘｰｸST2ｺﾈｸﾀｼｰﾙｼｰﾙ側
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR X1300                 ; ST2_ﾘｰｸ検査_ｺﾈｸﾀｼｰﾙ_前進端
OUT B1642                ; UNIT7-2-3 TP-PL
LD Y2401                 ; ﾘｰｸST2ｺﾈｸﾀｼｰﾙ戻り
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR X1301                 ; ST2_ﾘｰｸ検査_ｺﾈｸﾀｼｰﾙ_後退端
OUT B1643                ; UNIT7-2-4 TP-PL
LDB Y2402                ; ﾘｰｸST2下治具位置決め下降
AND X1304                ; ST2_ﾘｰｸ検査_下治具位置決1下降端
AND X1306                ; ST2_ﾘｰｸ検査_下治具位置決2下降端
INV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
LD X1304                 ; ST2_ﾘｰｸ検査_下治具位置決1下降端
AND X1306                ; ST2_ﾘｰｸ検査_下治具位置決2下降端
ORL
OUT B1644                ; UNIT7-2-5 TP-PL
LD Y2403                 ; ﾘｰｸST2下治具位置決め上昇
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
LD X1307                 ; ST2_ﾘｰｸ検査_下治具位置決2上昇端
AND X1305                ; ST2_ﾘｰｸ検査_下治具位置決1上昇端
ORL
ANB M95                  ; 覚え
OUT B1645                ; UNIT7-2-6 TP-PL
;<h1/>□_異常検出
LD Y2384                 ; ST2ﾁｬﾝﾊﾞｰ蓋下降
ANB X1302                ; ST2_ﾘｰｸ検査_上治具_下降端
LD Y2385                 ; ST2ﾁｬﾝﾊﾞｰ蓋上昇
ANB X1303                ; ST2_ﾘｰｸ検査_上治具_上昇端
ORL
LD X1302                 ; ST2_ﾘｰｸ検査_上治具_下降端
AND X1303                ; ST2_ﾘｰｸ検査_上治具_上昇端
ORL
ANB B0E0                 ; 224)_U7E1_ﾘｰｸS1上治具上下CLS異常
LD CR2003                ; 常時OFF
ANB B05E0                ; 224)_U7E1Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0E0                 ; 224)_U7E1_ﾘｰｸS1上治具上下CLS異常
ORL
MPS
AND T790                 ; CLSﾀｲﾑｱｳﾄ
OUT B0E0                 ; 224)_U7E1_ﾘｰｸS1上治具上下CLS異常
MPP
TMR K790 K300            ; CLSﾀｲﾑｱｳﾄ
LDP B0E0                 ; 224)_U7E1_ﾘｰｸS1上治具上下CLS異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K225 D13500          ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05E0                 ; 224)_U7E1Bz停止
AND B0E0                 ; 224)_U7E1_ﾘｰｸS1上治具上下CLS異常
OUT B05E0                ; 224)_U7E1Bz停止
;ｺﾈｸﾀｼｰﾙ
LD Y2400                 ; ﾘｰｸST2ｺﾈｸﾀｼｰﾙｼｰﾙ側
ANB X1300                ; ST2_ﾘｰｸ検査_ｺﾈｸﾀｼｰﾙ_前進端
LD Y2401                 ; ﾘｰｸST2ｺﾈｸﾀｼｰﾙ戻り
ANB X1301                ; ST2_ﾘｰｸ検査_ｺﾈｸﾀｼｰﾙ_後退端
ORL
LD X1300                 ; ST2_ﾘｰｸ検査_ｺﾈｸﾀｼｰﾙ_前進端
AND X1301                ; ST2_ﾘｰｸ検査_ｺﾈｸﾀｼｰﾙ_後退端
ORL
LD CR2003                ; 常時OFF
ANB B05E1                ; 225)_U7E2Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0E1                 ; 225)_U7E2_ﾘｰｸST1ｺﾈｸﾀｼ前後CLS異常
ORL
MPS
AND T791                 ; CLSﾀｲﾑｱｳﾄ
OUT B0E1                 ; 225)_U7E2_ﾘｰｸST1ｺﾈｸﾀｼ前後CLS異常
MPP
TMR K791 K100            ; CLSﾀｲﾑｱｳﾄ
LDP B0E1                 ; 225)_U7E2_ﾘｰｸST1ｺﾈｸﾀｼ前後CLS異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K226 D13500          ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05E1                 ; 225)_U7E2Bz停止
AND B0E1                 ; 225)_U7E2_ﾘｰｸST1ｺﾈｸﾀｼ前後CLS異常
OUT B05E1                ; 225)_U7E2Bz停止
LD M4004                 ; U7-1_S4_ﾘｰｸSTﾜｰｸ浮き異常
LD CR2003                ; 常時OFF
ANB B05E2                ; 226)_U7E3Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0E2                 ; 226)_U7E3_ﾘｰｸST2ﾜｰｸ浮き検出異常
ORL
OUT B0E2                 ; 226)_U7E3_ﾘｰｸST2ﾜｰｸ浮き検出異常
LDP B0E2                 ; 226)_U7E3_ﾘｰｸST2ﾜｰｸ浮き検出異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K227 D13500          ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05E2                 ; 226)_U7E3Bz停止
AND B0E2                 ; 226)_U7E3_ﾘｰｸST2ﾜｰｸ浮き検出異常
OUT B05E2                ; 226)_U7E3Bz停止
;ﾘｰｸalm
LD X1203                 ; ST2_ﾘｰｸ_ｱﾗｰﾑ
LD CR2003                ; 常時OFF
ANB B05E3                ; 227)_U7E4Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0E3                 ; 227)_U7E4_ﾘｰｸﾃｽﾀ異常
ORL
AND CR2003               ; 常時OFF
OUT B0E3                 ; 227)_U7E4_ﾘｰｸﾃｽﾀ異常
LDP B0E3                 ; 227)_U7E4_ﾘｰｸﾃｽﾀ異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K228 D13500          ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05E3                 ; 227)_U7E4Bz停止
AND B0E3                 ; 227)_U7E4_ﾘｰｸﾃｽﾀ異常
OUT B05E3                ; 227)_U7E4Bz停止
;　　
LD Y2402                 ; ﾘｰｸST2下治具位置決め下降
LDB X1304                ; ST2_ﾘｰｸ検査_下治具位置決1下降端
ORB X1306                ; ST2_ﾘｰｸ検査_下治具位置決2下降端
ANL
LD Y2403                 ; ﾘｰｸST2下治具位置決め上昇
LDB X1305                ; ST2_ﾘｰｸ検査_下治具位置決1上昇端
ORB X1307                ; ST2_ﾘｰｸ検査_下治具位置決2上昇端
ANL
ORL
LD CR2003                ; 常時OFF
ANB B05E4                ; 228)_U7E5Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0E4                 ; 228)_U7E5_下治具位置決めclｓ異常
ORL
MPS
AND T792                 ; clﾀｲﾑｱｳﾄ
OUT B0E4                 ; 228)_U7E5_下治具位置決めclｓ異常
MPP
TMR K792 K100            ; clﾀｲﾑｱｳﾄ
LDP B0E4                 ; 228)_U7E5_下治具位置決めclｓ異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K229 D13500          ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05E4                 ; 228)_U7E5Bz停止
AND B0E4                 ; 228)_U7E5_下治具位置決めclｓ異常
OUT B05E4                ; 228)_U7E5Bz停止
;　　
LD T726                  ; 上治具_ID_更新_DLY
AND L700                 ; ﾘｰｸst2_有効状態
AND<> D4106 D4100        ; ﾘｰｸST2_上治具ID_ｾﾝｻｰ状態  ﾘｰｸST2_上治具ID
AND Y2385                ; ST2ﾁｬﾝﾊﾞｰ蓋上昇
ANB Y2384                ; ST2ﾁｬﾝﾊﾞｰ蓋下降
AND T724                 ; ST2_ﾘｰｸ検査_上治具_上昇端
AND T701                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
LD CR2003                ; 常時OFF
ANB B05E5                ; 229)_U7E6Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0E5                 ; 229)_U7E6_ﾘｰｸST2上治具_ID不一致
ORL
OUT B0E5                 ; 229)_U7E6_ﾘｰｸST2上治具_ID不一致
LDP B0E5                 ; 229)_U7E6_ﾘｰｸST2上治具_ID不一致
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1230 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05E5                 ; 229)_U7E6Bz停止
AND B0E5                 ; 229)_U7E6_ﾘｰｸST2上治具_ID不一致
OUT B05E5                ; 229)_U7E6Bz停止
;　　
LD T727                  ; 下治具_ID_更新_DLY
AND L700                 ; ﾘｰｸst2_有効状態
AND<> D4107 D4101        ; ﾘｰｸST2_下治具ID_ｾﾝｻｰ状態  ﾘｰｸST2_下治具ID
LD CR2003                ; 常時OFF
ANB B05E6                ; 230)_U7E7Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0E6                 ; 230)_U7E7_ﾘｰｸST2下治具_ID不一致
ORL
OUT B0E6                 ; 230)_U7E7_ﾘｰｸST2下治具_ID不一致
LDP B0E6                 ; 230)_U7E7_ﾘｰｸST2下治具_ID不一致
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1231 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05E6                 ; 230)_U7E7Bz停止
AND B0E6                 ; 230)_U7E7_ﾘｰｸST2下治具_ID不一致
OUT B05E6                ; 230)_U7E7Bz停止
;　　ﾘｰｸ_ﾜｰｸ受取失敗異常
LD M4060                 ; U7-1_S60_ﾜｰｸ受取異常
LD CR2003                ; 常時OFF
ANB B05E7                ; 231)_U7E8Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0E7                 ; 231)_U7E8_ﾘｰｸST2ﾜｰｸ受取異常
ORL
OUT B0E7                 ; 231)_U7E8_ﾘｰｸST2ﾜｰｸ受取異常
LDP B0E7                 ; 231)_U7E8_ﾘｰｸST2ﾜｰｸ受取異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1232 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05E7                 ; 231)_U7E8Bz停止
AND B0E7                 ; 231)_U7E8_ﾘｰｸST2ﾜｰｸ受取異常
OUT B05E7                ; 231)_U7E8Bz停止
;
LD M4430                 ; leak_ST2ﾜｰｸ受渡し異常
LD CR2003                ; 常時OFF
ANB B05E8                ; 232)_U7E9Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0E8                 ; 232)_U7E9_ﾜｰｸ受渡し異常
ORL
OUT B0E8                 ; 232)_U7E9_ﾜｰｸ受渡し異常
LDP B0E8                 ; 232)_U7E9_ﾜｰｸ受渡し異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1233 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05E8                 ; 232)_U7E9Bz停止
AND B0E8                 ; 232)_U7E9_ﾜｰｸ受渡し異常
OUT B05E8                ; 232)_U7E9Bz停止
;　　
LD M4257                 ; STEP7_ORGﾜｰｸ除去要求
LD M2019                 ; U2-S519_吸着ﾐｽ異常orﾜｰｸ除去要求
AND M1944                ; ﾍｯﾄﾞ2_ﾘｰｸST2除材中ﾌﾗｸﾞ
AND>= D1540 K3           ; 吸着ﾘﾄﾗｲ回数ｶｳﾝﾀ
ORL
LD CR2003                ; 常時OFF
ANB B0825                ; 805)_U7E6_ブザー停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0325                ; 805)_U7E6_ﾘｰｸST2ﾜｰｸ除去要求
ORL
OUT B0325                ; 805)_U7E6_ﾘｰｸST2ﾜｰｸ除去要求
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0825                 ; 805)_U7E6_ブザー停止
AND B0325                ; 805)_U7E6_ﾘｰｸST2ﾜｰｸ除去要求
OUT B0825                ; 805)_U7E6_ブザー停止
;異常ﾌﾞｻﾞｰまとめ
LDB B0E0                 ; 224)_U7E1_ﾘｰｸS1上治具上下CLS異常
OR B05E0                 ; 224)_U7E1Bz停止
LDB B0E1                 ; 225)_U7E2_ﾘｰｸST1ｺﾈｸﾀｼ前後CLS異常
OR B05E1                 ; 225)_U7E2Bz停止
ANL
LDB B0E2                 ; 226)_U7E3_ﾘｰｸST2ﾜｰｸ浮き検出異常
OR B05E2                 ; 226)_U7E3Bz停止
ANL
LDB B0E3                 ; 227)_U7E4_ﾘｰｸﾃｽﾀ異常
OR B05E3                 ; 227)_U7E4Bz停止
ANL
LDB B0E4                 ; 228)_U7E5_下治具位置決めclｓ異常
OR B05E4                 ; 228)_U7E5Bz停止
ANL
LDB B0E5                 ; 229)_U7E6_ﾘｰｸST2上治具_ID不一致
OR B05E5                 ; 229)_U7E6Bz停止
ANL
LDB B0E6                 ; 230)_U7E7_ﾘｰｸST2下治具_ID不一致
OR B05E6                 ; 230)_U7E7Bz停止
ANL
LDB B0E7                 ; 231)_U7E8_ﾘｰｸST2ﾜｰｸ受取異常
OR B05E7                 ; 231)_U7E8Bz停止
ANL
LDB B0E8                 ; 232)_U7E9_ﾜｰｸ受渡し異常
OR B05E8                 ; 232)_U7E9Bz停止
ANL
LDB B0E9                 ; 233)_U7E10
OR B05E9                 ; 233)_U7E10Bz停止
ANL
LDB B0EA                 ; 234)_U7E11
OR B05EA                 ; 234)_U7E11Bz停止
ANL
LDB B0EB                 ; 235)_U7E12
OR B05EB                 ; 235)_U7E12Bz停止
ANL
LDB B0EC                 ; 236)_U7E13
OR B05EC                 ; 236)_U7E13Bz停止
ANL
LDB B0ED                 ; 237)_U7E14
OR B05ED                 ; 237)_U7E14Bz停止
ANL
LDB B0EE                 ; 238)_U7E15
OR B05EE                 ; 238)_U7E15Bz停止
ANL
LDB B0EF                 ; 239)_U7E16
OR B05EF                 ; 239)_U7E16Bz停止
ANL
LDB B0F0                 ; 240)_U7E17
OR B05F0                 ; 240)_U7E17Bz停止
ANL
LDB B0F1                 ; 241)_U7E18
OR B05F1                 ; 241)_U7E18Bz停止
ANL
LDB B0F2                 ; 242)_U7E19
OR B05F2                 ; 242)_U7E19Bz停止
ANL
LDB B0F3                 ; 243)_U7E20
OR B05F3                 ; 243)_U7E20Bz停止
ANL
LDB B0F4                 ; 244)_U7E21
OR B05F4                 ; 244)_U7E21Bz停止
ANL
LDB B0F5                 ; 245)_U7E22
OR B05F5                 ; 245)_U7E22Bz停止
ANL
LDB B0F6                 ; 246)_U7E23
OR B05F6                 ; 246)_U7E23Bz停止
ANL
LDB B0F7                 ; 247)_U7E24
OR B05F7                 ; 247)_U7E24Bz停止
ANL
LDB B0F8                 ; 248)_U7E25
OR B05F8                 ; 248)_U7E25Bz停止
ANL
LDB B0F9                 ; 249)_U7E26
OR B05F9                 ; 249)_U7E26Bz停止
ANL
LDB B0FA                 ; 250)_U7E27
OR B05FA                 ; 250)_U7E27Bz停止
ANL
LDB B0FB                 ; 251)_U7E28
OR B05FB                 ; 251)_U7E28Bz停止
ANL
LDB B0FC                 ; 252)_U7E29
OR B05FC                 ; 252)_U7E29Bz停止
ANL
LDB B0FD                 ; 253)_U7E30
OR B05FD                 ; 253)_U7E30Bz停止
ANL
LDB B0FE                 ; 254)_U7E31
OR B05FE                 ; 254)_U7E31Bz停止
ANL
LDB B0FF                 ; 255)_U7E32
OR B05FF                 ; 255)_U7E32Bz停止
ANL
LDB B0325                ; 805)_U7E6_ﾘｰｸST2ﾜｰｸ除去要求
OR B0825                 ; 805)_U7E6_ブザー停止
ANL
INV
OUT M4489                ; ﾕﾆｯﾄ7異常BZ補助
END
ENDH
