DEVICE:53
;MODULE:UNIT1_Supply
;MODULE_TYPE:0
;<h1/>□_入力受け
;関連する入力受け(ｾﾝｻのﾃﾞｨﾚｲﾀｲﾏ等)を必要があれば作成する。
;通常は入力ﾕﾆｯﾄに入力時定数(ﾃﾞｨﾚｲ)があるので直接使用しても問題は無い。
LD X1280                 ; 給材部ﾜｰｸ有無確認(ON=有)
TMR K101 K5              ; 給材部ﾜｰｸ有り確認
LDB X1280                ; 給材部ﾜｰｸ有無確認(ON=有)
TMR K105 K5              ; 給材部ﾜｰｸ無し確認
LD X1282                 ; 給材部ﾜｰｸ浮き確認1(ON=OK)
AND X1283                ; 給材部ﾜｰｸ浮き確認2(ON=OK)
TMR K102 K3              ; 給材部ﾜｰｸ浮き確認(ON=OK)
LD X1281                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
TMR K103 K3              ; 給材引込部ﾜｰｸ有無確認(ON=有)
LD CR2003                ; 常時OFF
TMR K104 K3              ; 入力受け4
LD X1285                 ; 投入部JIG識別ID_1
OUT D1052.0              ; 投入部JIG識別ID_1_Copy
LD X1286                 ; 投入部JIG識別ID_2
OUT D1052.1              ; 投入部JIG識別ID_2_Copy
LD X1287                 ; 投入部JIG識別ID_4
OUT D1052.2              ; 投入部JIG識別ID_4_Copy
LD<> D1050 D1052         ; 投入部JIG_ID  投入部JIG識別ID_Copy
AND M1450                ; RB1_ﾜｰｸ投入位置_P2
MPS
TMR K106 K5              ; 投入治具ID_変更有り
MPP
AND T106                 ; 投入治具ID_変更有り
MOV D1052 D1050          ; 投入部JIG識別ID_Copy  投入部JIG_ID
LD CR2002                ; 常時ON
MOV D1050 W0120          ; 投入部JIG_ID  投入ﾊﾟﾚｯﾄID
;<h1/>__ロボット等機器入力受け
;ﾛﾎﾞｯﾄ現在値
LD X100B                 ; #01_RX00B_ORG原点復帰完了状態
AND X100D                ; #01_RX00D_運転完了
MPS
AND X1000                ; #01_RX000_完了位置_1
OUT D1028.0              ; RB1_完了POS1
MRD
AND X1001                ; #01_RX001_完了位置_2
OUT D1028.1              ; RB1_完了POS2
MRD
AND X1002                ; #01_RX002_完了位置_3
OUT D1028.2              ; RB1_完了POS4
MRD
AND X1003                ; #01_RX003_完了位置_4
OUT D1028.3              ; RB1_完了POS8
MRD
AND X1004                ; #01_RX004_完了位置_5
OUT D1028.4              ; RB1_完了POS16
MRD
AND X1005                ; #01_RX005_完了位置_6
OUT D1028.5              ; RB1_完了POS32
MRD
AND X1006                ; #01_RX006_完了位置_7
OUT D1028.6              ; RB1_完了POS64
MPP
INV
MOV K0 D1028             ; RB1_完了POS
LD X100B                 ; #01_RX00B_ORG原点復帰完了状態
AND X100D                ; #01_RX00D_運転完了
MPS
AND= D1028 D1030         ; RB1_完了POS  RB1_ﾜｰｸ投入位置Pos指定
OUT M1450                ; RB1_ﾜｰｸ投入位置_P2
MRD
AND= D1028 D1031         ; RB1_完了POS  RB1_ｺｰﾄﾞ読取位置Pos指定
OUT M1451                ; RB1_ｺｰﾄﾞ読取位置_P-D1031
MPP
AND= D1028 K1            ; RB1_完了POS
OUT M1452                ; RB1_ﾜｰｸ受渡し位置
;<h1/>□_装置状態・動作条件
;ﾕﾆｯﾄまとめ
LD M1070                 ; ﾕﾆｯﾄ1-1原点_供給ｽﾗｲﾀﾞ部
AND M1150                ; ﾕﾆｯﾄ1-2原点_ﾊﾞｰｺｰﾄﾞ読取
AND M1230                ; ﾕﾆｯﾄ1-3原点
OUT M1480                ; ﾕﾆｯﾄ1原点
;□ 非常停止
LDB M1071                ; ﾕﾆｯﾄ1-1全異常_供給ｽﾗｲﾀﾞ部
ANB M1151                ; ﾕﾆｯﾄ1-2異常
ANB M1231                ; ﾕﾆｯﾄ1-3全異常
INV
OUT M1481                ; ﾕﾆｯﾄ1即停止異常
;□ 起動条件
LD M1072                 ; ﾕﾆｯﾄ1-1起動条件_供給ｽﾗｲﾀﾞ部
AND M1152                ; ﾕﾆｯﾄ1-2起動条件
AND M1232                ; ﾕﾆｯﾄ1-3起動条件
OUT M1482                ; ﾕﾆｯﾄ1起動条件
;□ 起動OFF
LDB M50                  ; 運転準備
LD M60                   ; ｴﾗｰ発生
OR M52                   ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
AND M1484                ; ﾕﾆｯﾄ1原点復帰中
ORL
OR T15                   ; 強制停止
OUT M1483                ; ﾕﾆｯﾄ1_原点復帰起動OFF
;□ 原点復帰
LD M82                   ; 原点復帰開始
ANB M1484                ; ﾕﾆｯﾄ1原点復帰中
OR M1484                 ; ﾕﾆｯﾄ1原点復帰中
ANB M1483                ; ﾕﾆｯﾄ1_原点復帰起動OFF
ANB M1491                ; ﾕﾆｯﾄ1ｴﾗｰ発生
ANB M1297                ; STEPEND
OUT M1484                ; ﾕﾆｯﾄ1原点復帰中
MPS
@MOV K0 D1550            ; 搬送_1_ﾜｰｸ在荷_CNT
MPP
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT B1599                ; UNIT1-2-10 TP-PL
;□ 起動中
LDB M1074                ; ﾕﾆｯﾄ1-1起動中
ANB M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
ANB M1234                ; ﾕﾆｯﾄ1-3起動中
INV
OUT M1485                ; ﾕﾆｯﾄ1起動中
;□ ｻｲｸﾙ停止異常
LDB M1075                ; ﾕﾆｯﾄ1-1ｻｲｸﾙ停止異常
ANB M1155                ; ﾕﾆｯﾄ1-2ｻｲｸﾙ停止異常
ANB M1235                ; ﾕﾆｯﾄ1-3ｻｲｸﾙ停止異常
ANB B024                 ; 36)_U1E5_供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
INV
OUT M1486                ; ﾕﾆｯﾄ1ｻｲｸﾙ停止異常
;□ 払出停止異常
LDB CR2003               ; 常時OFF
INV
OUT M1487                ; ﾕﾆｯﾄ1払出停止異常
;□ 警報補助
LDB CR2003               ; 常時OFF
INV
OUT M1488                ; ﾕﾆｯﾄ1警報補助
;□ 機器準備確認
LD X100F                 ; #01_RX00F_サーボ状態
OUT M1490                ; ﾕﾆｯﾄ1機器準備完了
;□ ｴﾗｰ発生　一時停止
LDB M1076                ; ﾕﾆｯﾄ1-1ｴﾗｰ発生(一時停止処理)
ANB M1156                ; ﾕﾆｯﾄ1-2ｴﾗｰ発生
ANB M1236                ; ﾕﾆｯﾄ1-3ｴﾗｰ発生
INV
OUT M1491                ; ﾕﾆｯﾄ1ｴﾗｰ発生
;□ 動作中ﾕﾆｯﾄ無し
LD M1077                 ; ﾕﾆｯﾄ1-1動作無し
AND M1157                ; ﾕﾆｯﾄ1-2動作無し
AND M1237                ; ﾕﾆｯﾄ1-3動作無し
OUT M1492                ; ﾕﾆｯﾄ1動作無し確認
;□ 払出しﾜｰｸ無し
LD T105                  ; 給材部ﾜｰｸ無し確認
ANB T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
AND M36                  ; 払出ﾓｰﾄﾞ
TMR K114 K10             ; UNIT1払出処理ﾜｰｸ無
LD T114                  ; UNIT1払出処理ﾜｰｸ無
OUT M1493                ; ﾕﾆｯﾄ1ﾜｰｸ無し
;□ ｽﾃｯﾌﾟ起動
LD M30                   ; 自動ﾓｰﾄﾞ
OR M31                   ; 手動ﾓｰﾄﾞ
ANB M130                 ; 一時停止
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M51                  ; 即停止異常(緊急停止)
ANB M52                  ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
ANB M57                  ; 自動起動停止指令(払出停止)
ANB M59                  ; 払出停止異常まとめ
ANB M60                  ; ｴﾗｰ発生
OUT M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
;<h1/>□_UNIT_1_自動回路
;<h1/>◇_ﾕﾆｯﾄ1-1状態・動作条件(補助)
LDP M71                  ; 自動運転開始BZ
OR M1078                 ; 供給スライダ_起動初期確認
AND M71                  ; 自動運転開始BZ
ANB M1002                ; _1-1_S2
OUT M1078                ; 供給スライダ_起動初期確認
LD M1450                 ; RB1_ﾜｰｸ投入位置_P2
LD M31                   ; 手動ﾓｰﾄﾞ
ANB X1280                ; 給材部ﾜｰｸ有無確認(ON=有)
OR M30                   ; 自動ﾓｰﾄﾞ
OR M75                   ; 自動運転開始PCﾁｪｯｸ開始
OR M1078                 ; 供給スライダ_起動初期確認
ANL
ANB X1281                ; 給材引込部ﾜｰｸ有無確認(ON=有)
AND= D1201 K0            ; 投入部1_ﾜｰｸ有無記憶
OUT M1070                ; ﾕﾆｯﾄ1-1原点_供給ｽﾗｲﾀﾞ部
LDB B020                 ; 32)_U1E1_TSｺﾝﾄ異常
ANB B028                 ; 40)_U1E9_ﾜｰｸ搬送異常
INV
OUT M1071                ; ﾕﾆｯﾄ1-1全異常_供給ｽﾗｲﾀﾞ部
LD M1070                 ; ﾕﾆｯﾄ1-1原点_供給ｽﾗｲﾀﾞ部
ANB M1074                ; ﾕﾆｯﾄ1-1起動中
ANB M130                 ; 一時停止
ANB M56                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ANB M36                  ; 払出ﾓｰﾄﾞ
ANB M38                  ; 段取りﾓｰﾄﾞ
OUT M1072                ; ﾕﾆｯﾄ1-1起動条件_供給ｽﾗｲﾀﾞ部
LDB M50                  ; 運転準備
OR M1486                 ; ﾕﾆｯﾄ1ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M1073                ; ﾕﾆｯﾄ1-1起動OFF
LD M71                   ; 自動運転開始BZ
AND M1072                ; ﾕﾆｯﾄ1-1起動条件_供給ｽﾗｲﾀﾞ部
OR M1074                 ; ﾕﾆｯﾄ1-1起動中
ANB M1073                ; ﾕﾆｯﾄ1-1起動OFF
ANB M1063                ; _STEPEND
OUT M1074                ; ﾕﾆｯﾄ1-1起動中
;ﾕﾆｯﾄ1-1 ｻｲｸﾙ停止異常
LDB B020                 ; 32)_U1E1_TSｺﾝﾄ異常
ANB B04C                 ; 76)_U2E13_吸着ｾﾝｻ確認異常
INV
OUT M1075                ; ﾕﾆｯﾄ1-1ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-1 一時停止ｴﾗｰ発生まとめ
LDB B021                 ; 33)_U1E2_投入部JIG_ID異常
ANB B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
ANB B023                 ; 35)_U1E4_ﾜｰｸ投入NG異常
ANB B025                 ; 37)_U1E6_ﾘｰｸST2_2ｽﾃｰｼﾞﾁｪｯｸ
ANB B026                 ; 38)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
ANB B0321                ; 801)_U1E8_給材部ﾜｰｸ除去要求
ANB B028                 ; 40)_U1E9_ﾜｰｸ搬送異常
ANB B029                 ; 41)_U1E10_投入部ﾜｰｸ浮き異常
INV
OUT M1076                ; ﾕﾆｯﾄ1-1ｴﾗｰ発生(一時停止処理)
;ﾕﾆｯﾄ1-1 停止判定
LD= D1000 D1005          ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ1-1動作中判定
ORB M1074                ; ﾕﾆｯﾄ1-1起動中
LD X100D                 ; #01_RX00D_運転完了
ORB X100C                ; #01_RX00C_運転実行中
ANL
TMR K110 K20             ; ﾕﾆｯﾄ1-1動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D1000 D1005          ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ1-1動作中判定
LD T110                  ; ﾕﾆｯﾄ1-1動作無し判定ﾀｲﾏ
OUT M1077                ; ﾕﾆｯﾄ1-1動作無し
;□
;□　ﾕﾆｯﾄ1-1 自動運転ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M1000 K4         ; ﾕﾆｯﾄ1-1ｽﾃｯﾌﾟ開始_S0
LDB M1074                ; ﾕﾆｯﾄ1-1起動中
MOV K0 D1000             ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MOV K0 D1201             ; 投入部1_ﾜｰｸ有無記憶
LD M1074                 ; ﾕﾆｯﾄ1-1起動中
MOV D1000 Z1             ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
OUT M1000:Z1             ; ﾕﾆｯﾄ1-1ｽﾃｯﾌﾟ開始_S0
;<h1/>__S0_投入部ﾜｰｸ有無分岐
LD M1000                 ; ﾕﾆｯﾄ1-1ｽﾃｯﾌﾟ開始_S0
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S1_ﾜｰｸ供給待ち
LD M1001                 ; _1-1_S1
AND M1659                ; 初期起動時吸着ｾﾝｻ確認完了記憶
MPS
LDB M36                  ; 払出ﾓｰﾄﾞ
OR T101                  ; 給材部ﾜｰｸ有り確認
ANB M38                  ; 段取りﾓｰﾄﾞ
ANB M130                 ; 一時停止
ANL
MPS
LD T66                   ; 投入部ﾗｲﾄｶｰﾃﾝ_遮光_確認
OR M1351                 ; 上治具休憩解除指令
OR M1078                 ; 供給スライダ_起動初期確認
OR T101                  ; 給材部ﾜｰｸ有り確認
AND T101                 ; 給材部ﾜｰｸ有り確認
ANL
MPS
ANB M172                 ; ﾘｰｸ上治具_休息指令中
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1351                ; 上治具休憩解除指令
MPP
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
MPS
ANB T101                 ; 給材部ﾜｰｸ有り確認
TMR K108 K10             ; ｽﾗｲﾀﾞ_ﾜｰｸ待ち_DLY
MPP
AND T108                 ; ｽﾗｲﾀﾞ_ﾜｰｸ待ち_DLY
OUT M1350                ; ｽﾗｰﾀﾞ_ﾜｰｸ待ち状態
MPP
LD M36                   ; 払出ﾓｰﾄﾞ
OR M38                   ; 段取りﾓｰﾄﾞ
ANB T101                 ; 給材部ﾜｰｸ有り確認
ANL
MOV K63 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1002                 ; _1-1_S2
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
LD T101                  ; 給材部ﾜｰｸ有り確認
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
MPS
AND T120                 ; ﾜｰｸ投入確認ﾃﾞｨﾚｲ
MOV K5 D1000             ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
TMR K120 K2              ; ﾜｰｸ投入確認ﾃﾞｨﾚｲ
MPP
LD T105                  ; 給材部ﾜｰｸ無し確認
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
MOV K1 D1000             ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;	ﾜｰｸ投入OK　&JigNO.ﾁｪｯｸ
LD M1005                 ; _1-1_S5_ｲﾝﾃﾞｯｸｽNO.ﾁｪｯｸ
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
LDB M1076                ; ﾕﾆｯﾄ1-1ｴﾗｰ発生(一時停止処理)
AND<> D1050 K0           ; 投入部JIG_ID
ANL
MPS
MOV D1050 D502           ; 投入部JIG_ID  自動_JIG_NO.指定
MPP
AND= D1050 D502          ; 投入部JIG_ID  自動_JIG_NO.指定
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
AND= D1050 K0            ; 投入部JIG_ID
MOV K1 D1000             ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1006                 ; _1-1_S6
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;　　■ｽﾃｰｼﾞ有効ﾁｪｯｸ（ここではＰＣからのＩＤ情報がこないので、ステージの有効／無効のみをチェックする）
LD M1007                 ; _1-1_S7_ｽﾃｰｼﾞﾁｪｯｸ
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
LD L700                  ; ﾘｰｸst2_有効状態
OR L900                  ; ﾘｰｸst1_有効状態
OR L10                   ; ﾘｰｸ検査有無(0_有/1_無)
LD L800                  ; FINALST2_有効状態
OR L1000                 ; FINALST1_有効状態
OR L11                   ; ﾌｧｲﾅﾙ検査有無(0_有/1_無)
ANL
LD L1100                 ; ﾘｰｸst3_有効状態
OR L10                   ; ﾘｰｸ検査有無(0_有/1_無)
LD L1200                 ; FINALST3_有効状態
OR L11                   ; ﾌｧｲﾅﾙ検査有無(0_有/1_無)
ANL
LD L1300                 ; ﾘｰｸst4_有効状態
OR L10                   ; ﾘｰｸ検査有無(0_有/1_無)
LD L1400                 ; FINALST4_有効状態
OR L11                   ; ﾌｧｲﾅﾙ検査有無(0_有/1_無)
ANL
ORL
AND M99                  ; 能拡後対応FLG
ORL
ANL
MOV K10 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
OUT M1422                ; ｽﾃｰｼﾞ状態OK
MPP
ANB M1422                ; ｽﾃｰｼﾞ状態OK
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1008                 ; _1-1_S8_ｽﾃｰｼﾞ異常
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND B026                 ; 38)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1009                 ; _1-1_S9
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
ANB B026                 ; 38)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
MOV K1 D1000             ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;ﾊﾞｰｺｰﾄﾞ読み取り位置へ
LD M1010                 ; _1-1_S10
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1011                 ; _1-1_S11
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
MOV D1031 D1024          ; RB1_ｺｰﾄﾞ読取位置Pos指定  RB1_POS確定
MPP
AND= D1031 D1024         ; RB1_ｺｰﾄﾞ読取位置Pos指定  RB1_POS確定
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1012                 ; _1-1_S12_RB1ﾊﾞｰｺｰﾄﾞ位置移動指令
AND X100C                ; #01_RX00C_運転実行中
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;（ＣＴ短縮のため、移動中から読取要求をたてる。その後の浮き検知で戻った場合は、ＰＣへデータ消去する処理をかける）
LD M1013                 ; _1-1_S13_ﾊﾞｰｺｰﾄﾞ読取要求
MPS
LD X100D                 ; #01_RX00D_運転完了
AND M1451                ; RB1_ｺｰﾄﾞ読取位置_P-D1031
AND M1401                ; ﾊﾞｰｺｰﾄﾞ読み取り中
ANL
MOV K3 D1000             ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MRD
LDB X100C                ; #01_RX00C_運転実行中
ANB M1451                ; RB1_ｺｰﾄﾞ読取位置_P-D1031
ANL
MOV K11 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MRD
LD M1154                 ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
OR M1401                 ; ﾊﾞｰｺｰﾄﾞ読み取り中
ANL
OUT M1401                ; ﾊﾞｰｺｰﾄﾞ読み取り中
MPP
LDB M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
ANB M1401                ; ﾊﾞｰｺｰﾄﾞ読み取り中
ANL
OUT M1400                ; ﾊﾞｰｺｰﾄﾞ読み取り要求FLG
;<h1/>__S3_ﾜｰｸ浮きﾁｪｯｸ
LD M1003                 ; _1-1_S3
MPS
LD T121                  ; 浮き検知ディレイ
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
ANL
MPS
LD T102                  ; 給材部ﾜｰｸ浮き確認(ON=OK)
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
MOV K14 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
LDB T102                 ; 給材部ﾜｰｸ浮き確認(ON=OK)
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
TMR K121 K3              ; 浮き検知ディレイ
;　ﾜｰｸ浮き検出
LD M1004                 ; _1-1_S4_ﾜｰｸ浮き検知
ANPB M1004               ; _1-1_S4_ﾜｰｸ浮き検知
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
AND B029                 ; 41)_U1E10_投入部ﾜｰｸ浮き異常
AND T105                 ; 給材部ﾜｰｸ無し確認
MOV K40 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S14_ﾊﾞｰｺｰﾄﾞ読み取り結果
LD M1014                 ; _1-1_S14
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1015                 ; _1-1_S15
ANB M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
MPS
LD M1404                 ; ID異常時ｻｲｸﾙ停止選択
OR M1405                 ; ID異常時取出し選択
OR M1416                 ; BCR読み取れなかった異常
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
AND M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
MOV K30 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
@MOV K1 D1201            ; 投入部1_ﾜｰｸ有無記憶
;<h1/>__S16_ﾜｰｸ投入NG処理
;　　ここでワーク投入位置へ移動
LD M1016                 ; _1-1_S16
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
MPS
MOV D1030 D1024          ; RB1_ﾜｰｸ投入位置Pos指定  RB1_POS確定
MPP
AND= D1030 D1024         ; RB1_ﾜｰｸ投入位置Pos指定  RB1_POS確定
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1017                 ; _1-1_S17_ﾜｰｸ投入位置へ移動
AND X100C                ; #01_RX00C_運転実行中
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1018                 ; _1-1_S18
MPS
LD X100D                 ; #01_RX00D_運転完了
AND M1450                ; RB1_ﾜｰｸ投入位置_P2
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
LDB X100C                ; #01_RX00C_運転実行中
ANB M1450                ; RB1_ﾜｰｸ投入位置_P2
ANL
MOV K16 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1019                 ; _1-1_S19_ﾜｰｸ投入NG異常
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
AND B023                 ; 35)_U1E4_ﾜｰｸ投入NG異常
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1020                 ; _1-1_S20_NGﾗﾝﾌﾟ点灯
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
ANB B023                 ; 35)_U1E4_ﾜｰｸ投入NG異常
ANB W00.2                ; PC Busy
MPS
AND T105                 ; 給材部ﾜｰｸ無し確認
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
LD T101                  ; 給材部ﾜｰｸ有り確認
AND CR2003               ; 常時OFF
ANL
MOV K19 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1021                 ; _1-1_S21
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1022                 ; _1-1_S22
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MOV K63 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S30_ﾊﾞｰｺｰﾄﾞ読取正常終了
LD M1030                 ; _1-1_S30
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
MOV K1 D1024             ; RB1_POS確定
MPP
AND= K1 D1024            ; RB1_POS確定
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1031                 ; _1-1_S31_ﾜｰｸ受渡し位置移動指令
AND X100C                ; #01_RX00C_運転実行中
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1032                 ; _1-1_S32
MPS
LD X100D                 ; #01_RX00D_運転完了
AND M1452                ; RB1_ﾜｰｸ受渡し位置
ANL
MPS
LD X1281                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
LDB X1281                ; 給材引込部ﾜｰｸ有無確認(ON=有)
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
MOV K50 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
LDB X100C                ; #01_RX00C_運転実行中
ANB M1452                ; RB1_ﾜｰｸ受渡し位置
ANL
MOV K30 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S50_ﾜｰｸ搬送異常
LD M1050                 ; _1-1_S50_給材部ﾜｰｸ搬送異常
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND B028                 ; 40)_U1E9_ﾜｰｸ搬送異常
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1051                 ; _1-1_S51
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
ANB B028                 ; 40)_U1E9_ﾜｰｸ搬送異常
MOV K16 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S33_受渡しステージ選択
LD M1033                 ; _1-1_S33
MPS
@RES M1408               ; 供給→搬送RB1_受渡確定FLG
CON
@RES M1409               ; 供給→搬送RB2_受渡確定FLG
MPP
LD M1408                 ; 供給→搬送RB1_受渡確定FLG
OR M1409                 ; 供給→搬送RB2_受渡確定FLG
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1033                 ; _1-1_S33
LD L700                  ; ﾘｰｸst2_有効状態
AND= D1211 D4100         ; 投入部1_ﾘｰｸ上治具ID  ﾘｰｸST2_上治具ID
AND= D1212 D4101         ; 投入部1_ﾘｰｸ下治具ID  ﾘｰｸST2_下治具ID
LD L900                  ; ﾘｰｸst1_有効状態
AND= D1211 D5100         ; 投入部1_ﾘｰｸ上治具ID  ﾘｰｸST1_上治具ID
AND= D1212 D5101         ; 投入部1_ﾘｰｸ下治具ID  ﾘｰｸST1_下治具ID
ORL
OR L10                   ; ﾘｰｸ検査有無(0_有/1_無)
ANL
LD L800                  ; FINALST2_有効状態
AND= D1214 D4600         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  ﾌｧｲﾅﾙST2_ｺﾝﾀｸﾄﾍｯﾄﾞID
AND= D1213 D4601         ; 投入部1_電特ﾊﾟﾚｯﾄID  ﾌｧｲﾅﾙST2_ﾊﾟﾚｯﾄID
LD L1000                 ; FINALST1_有効状態
AND= D1214 D5600         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  ﾌｧｲﾅﾙST1_ｺﾝﾀｸﾄﾍｯﾄﾞID
AND= D1213 D5601         ; 投入部1_電特ﾊﾟﾚｯﾄID  ﾌｧｲﾅﾙST1_ﾊﾟﾚｯﾄID
ORL
OR L11                   ; ﾌｧｲﾅﾙ検査有無(0_有/1_無)
ANL
OUT M1414                ; 搬送1側_ST‐ID一致FLG
LD M1033                 ; _1-1_S33
MPS
LD<= D1550 D1560         ; 搬送_1_ﾜｰｸ在荷_CNT  搬送_2_ワーク在荷_CNT
LDB L1100                ; ﾘｰｸst3_有効状態
ANB L1300                ; ﾘｰｸst4_有効状態
ORL
AND M1414                ; 搬送1側_ST‐ID一致FLG
ANL
OUT D1060.0
MPP
LDA D1060                ; ﾘｰｸST1-2ﾜｰｸ有無状況
CON
BCNT
CON
STA D1062                ; ﾘｰｸST1-2ﾜｰｸ数
LD M1033                 ; _1-1_S33
LD L1100                 ; ﾘｰｸst3_有効状態
AND= D1211 D6102         ; 投入部1_ﾘｰｸ上治具ID
AND= D1212 D6103         ; 投入部1_ﾘｰｸ下治具ID
LD L1300                 ; ﾘｰｸst4_有効状態
AND= D1211 D7102         ; 投入部1_ﾘｰｸ上治具ID
AND= D1212 D7103         ; 投入部1_ﾘｰｸ下治具ID
ORL
OR L10                   ; ﾘｰｸ検査有無(0_有/1_無)
ANL
LD L1200                 ; FINALST3_有効状態
AND= D1214 D6602         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID
AND= D1213 D6603         ; 投入部1_電特ﾊﾟﾚｯﾄID
LD L1400                 ; FINALST4_有効状態
AND= D1214 D7602         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID
AND= D1213 D7603         ; 投入部1_電特ﾊﾟﾚｯﾄID
ORL
OR L11                   ; ﾌｧｲﾅﾙ検査有無(0_有/1_無)
ANL
OUT M1415                ; 搬送2側_ST‐ID一致FLG
LD M1033                 ; _1-1_S33
MPS
LD> D1550 D1560          ; 搬送_1_ﾜｰｸ在荷_CNT  搬送_2_ワーク在荷_CNT
LDB L700                 ; ﾘｰｸst2_有効状態
ANB L900                 ; ﾘｰｸst1_有効状態
ORL
AND M1415                ; 搬送2側_ST‐ID一致FLG
ANL
OUT D1061.0
MPP
LDA D1061                ; ﾘｰｸST3-4ﾜｰｸ有無状況
CON
BCNT
CON
STA D1063                ; ﾘｰｸST3-4ﾜｰｸ数
LD M1033                 ; _1-1_S33
MPS
LD>= D1205 K1            ; 投入部1_再検査品st
AND<= D1205 K2           ; 投入部1_再検査品st
ANL
OUT M1412                ; 再検査品ST2-ST1側flg
MPP
LD>= D1205 K3            ; 投入部1_再検査品st
AND<= D1205 K4           ; 投入部1_再検査品st
ANL
OUT M1413                ; 再検査品st3-st4側flg
LD M1033                 ; _1-1_S33
MPS
LD>= D1062 D1063         ; ﾘｰｸST1-2ﾜｰｸ数  ﾘｰｸST3-4ﾜｰｸ数
OR M1412                 ; 再検査品ST2-ST1側flg
ANB M1413                ; 再検査品st3-st4側flg
ANL
RES M1409                ; 供給→搬送RB2_受渡確定FLG
CON
SET M1408                ; 供給→搬送RB1_受渡確定FLG
MPP
LD< D1062 D1063          ; ﾘｰｸST1-2ﾜｰｸ数  ﾘｰｸST3-4ﾜｰｸ数
OR M1413                 ; 再検査品st3-st4側flg
ANB M1412                ; 再検査品ST2-ST1側flg
ANL
RES M1408                ; 供給→搬送RB1_受渡確定FLG
CON
SET M1409                ; 供給→搬送RB2_受渡確定FLG
;<h1/>__S34_ﾜｰｸ除材要求
;ﾌﾗｸﾞ受取完了とﾜｰｸ受取完了を入れる
;ﾃﾞｰﾀｼﾌﾄは、搬送側にて行う
LD M1034                 ; _1-1_S34_ﾜｰｸ除材要求_&_除材完了
MPS
LD M1410                 ; 供給→搬送RB1_除材要求
AND M1840                ; Z_搬送高さ(HIGH)_搬送1
AND M2300                ; 搬送→供給受取り完了
LD M1411                 ; 供給→搬送RB2_除材要求
AND M2840
AND M3300
ORL
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MRD
LD M1408                 ; 供給→搬送RB1_受渡確定FLG
OR M1410                 ; 供給→搬送RB1_除材要求
ANB M1411                ; 供給→搬送RB2_除材要求
ANL
OUT M1410                ; 供給→搬送RB1_除材要求
MPP
LD M1409                 ; 供給→搬送RB2_受渡確定FLG
OR M1411                 ; 供給→搬送RB2_除材要求
ANB M1410                ; 供給→搬送RB1_除材要求
ANL
OUT M1411                ; 供給→搬送RB2_除材要求
;ﾜｰｸ受取完了ﾁｪｯｸ
LD M1035                 ; _1-1_S35
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
ANB X1281                ; 給材引込部ﾜｰｸ有無確認(ON=有)
MOV K40 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
AND X1281                ; 給材引込部ﾜｰｸ有無確認(ON=有)
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1036                 ; _1-1_S36_搬送へのﾜｰｸ受渡し失敗
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1037                 ; _1-1_S37
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
ANB B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
MOV K16 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1038                 ; _1-1_S38
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1039                 ; _1-1_S39
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S40ﾜｰｸ投入位置へ移動
LD M1040                 ; _1-1_S40
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
MPS
MOV K2 D1024             ; RB1_POS確定
MPP
AND= K2 D1024            ; RB1_POS確定
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1041                 ; _1-1_S41_ﾜｰｸ投入位置へ移動
AND X100C                ; #01_RX00C_運転実行中
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1042                 ; _1-1_S42
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
MPS
LD X100D                 ; #01_RX00D_運転完了
AND M1450                ; RB1_ﾜｰｸ投入位置_P2
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
LDB X100C                ; #01_RX00C_運転実行中
ANB M1450                ; RB1_ﾜｰｸ投入位置_P2
ANL
MOV K40 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;　　浮き異常の場合投入部のデータを削除する。
LD M1043                 ; _1-1_S43_ﾜｰｸ浮きﾘｾｯﾄ待ち
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
MPS
ANB B029                 ; 41)_U1E10_投入部ﾜｰｸ浮き異常
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
AND B029                 ; 41)_U1E10_投入部ﾜｰｸ浮き異常
MOV K46 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;　　浮き検知時ﾜｰｸ情報削除
LD M1046                 ; _1-1_S46_PCﾃﾞｰﾀ削除ﾌﾗｸﾞ
ANB B029                 ; 41)_U1E10_投入部ﾜｰｸ浮き異常
MPS
LD M1360                 ; 投入部PCﾃﾞｰﾀ削除ﾌﾗｸﾞ
AND W01.14               ; ｲﾝﾃﾞｯｸｽﾃﾞｰﾀｸﾘｱ完了
ANL
MOV K44 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
LDB W0101.14             ; ｲﾝﾃﾞｯｸｽﾃﾞｰﾀｸﾘｱ要求
OR M1360                 ; 投入部PCﾃﾞｰﾀ削除ﾌﾗｸﾞ
ANL
OUT M1360                ; 投入部PCﾃﾞｰﾀ削除ﾌﾗｸﾞ
@MOV K1 W0148            ; ﾃﾞｰﾀｸﾘｱｲﾝﾃﾞｯｸｽNo
LD M1044                 ; _1-1_S44_
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1045                 ; _1-1_S45
MOV K63 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND CR2003               ; 常時OFF
MOV K62 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
LD M1062                 ; _1-1_S62
OR CR2003                ; 常時OFF
MOV K63 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;<h1/>◇_ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2状態・動作条件(補助)
LD CR2002                ; 常時ON
OUT M1150                ; ﾕﾆｯﾄ1-2原点_ﾊﾞｰｺｰﾄﾞ読取
LDB CR2003               ; 常時OFF
INV
OUT M1151                ; ﾕﾆｯﾄ1-2異常
LD M1150                 ; ﾕﾆｯﾄ1-2原点_ﾊﾞｰｺｰﾄﾞ読取
ANB M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND M300                 ; PC通信正常
OUT M1152                ; ﾕﾆｯﾄ1-2起動条件
LDB M50                  ; 運転準備
OR B029                  ; 41)_U1E10_投入部ﾜｰｸ浮き異常
OR M1486                 ; ﾕﾆｯﾄ1ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M1153                ; ﾕﾆｯﾄ1-2起動OFF
LD M1400                 ; ﾊﾞｰｺｰﾄﾞ読み取り要求FLG
AND M1152                ; ﾕﾆｯﾄ1-2起動条件
OR M1154                 ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
ANB M1153                ; ﾕﾆｯﾄ1-2起動OFF
ANB M1143                ; ﾕﾆｯﾄ1-2ｻｲｸﾙ終了
OUT M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
;ﾕﾆｯﾄ1-2ｻｲｸﾙ停止異常
LDB CR2003               ; 常時OFF
INV
OUT M1155                ; ﾕﾆｯﾄ1-2ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-2ｴﾗｰ発生まとめ
LDB CR2003               ; 常時OFF
INV
OUT M1156                ; ﾕﾆｯﾄ1-2ｴﾗｰ発生
;ﾕﾆｯﾄ1-2停止判定
LD= D1001 D1006          ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ1-2動作中判定
ORB M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
TMR K111 K20             ; ﾕﾆｯﾄ1-2動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D1001 D1006          ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ1-2動作中判定
LD T111                  ; ﾕﾆｯﾄ1-2動作無し判定ﾀｲﾏ
LD CR2003                ; 常時OFF
AND M31                  ; 手動ﾓｰﾄﾞ
ORL
OUT M1157                ; ﾕﾆｯﾄ1-2動作無し
;□
;□　ﾕﾆｯﾄ1-2ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M1080 K4         ; U1-2_S0
LDB M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
MOV K0 D1001             ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1154                 ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
MOV D1001 Z1             ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
OUT M1080:Z1             ; U1-2_S0
@ZRES M1402 M1406        ; ﾊﾞｰｺｰﾄﾞ読取_正常終了  ID異常時段取り替え選択
@RES M1416               ; BCR読み取れなかった異常
;　　条件分岐
LD M1080                 ; U1-2_S0
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1081                 ; U1-2_S1
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1082                 ; U1-2_S2
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;　　ｺｰﾄﾞﾘｰﾀﾞｰへﾄﾘｶﾞｰ発信
LD M1083                 ; U1-2_S3_ｽｷｬﾅ読取要求
MPS
LD W01.0                 ; ｽｷｬﾅ読込完了
OR W01.2                 ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
OR M35                   ; 空運転ﾓｰﾄﾞ
OR M3                    ; OFFLINE_MODE
ANL
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MRD
@ZRES M1402 M1406        ; ﾊﾞｰｺｰﾄﾞ読取_正常終了  ID異常時段取り替え選択
MPP
@RES M1416               ; BCR読み取れなかった異常
LD M1083                 ; U1-2_S3_ｽｷｬﾅ読取要求
OR W0101.0               ; ｽｷｬﾅ読取要求
AND M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
OUT W0101.0              ; ｽｷｬﾅ読取要求
LD M1084                 ; U1-2_S4
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1085                 ; U1-2_S5
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;<h1/>__S6_受取りﾃﾞｰﾀ格納
LD M1086                 ; U1-2_S6_読込みﾃﾞｰﾀ格納
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPS
LD M3                    ; OFFLINE_MODE
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
FMOV D502 W020 K6        ; 自動_JIG_NO.指定  投入ﾊﾟﾚｯﾄID
MOV K50 W026             ; ﾘｰｸﾊﾞｲﾊﾟｽ回路開放時間
MRD
BMOV W020 D1210 K16      ; 投入ﾊﾟﾚｯﾄID  投入部1_投入ﾊﾟﾚｯﾄID
MRD
AND W01.6                ; 電気特性検査再投入品
MOV K1 D1206             ; 投入部1_再検査品ﾌﾗｸﾞ(ON=再検査)
MPS
AND= W02A K13            ; 電気特性検査再投入ステージ
MOV K4 D1205             ; 投入部1_再検査品st
MRD
AND= W02A K12            ; 電気特性検査再投入ステージ
MOV K3 D1205             ; 投入部1_再検査品st
MRD
AND= W02A K11            ; 電気特性検査再投入ステージ
MOV K2 D1205             ; 投入部1_再検査品st
MPP
AND= W02A K10            ; 電気特性検査再投入ステージ
MOV K1 D1205             ; 投入部1_再検査品st
MRD
ANB W01.6                ; 電気特性検査再投入品
MOV K0 D1206             ; 投入部1_再検査品ﾌﾗｸﾞ(ON=再検査)
MOV K0 D1205             ; 投入部1_再検査品st
MRD
LDB W01.1                ; 基板投入不可
ANB W01.2                ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
ANL
SET M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
CON
RES M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
MPP
LD W01.1                 ; 基板投入不可
OR W01.2                 ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
ANL
SET M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
CON
RES M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
;　ﾊﾞｰｺｰﾄﾞ読取結果NGならｻｲｸﾙ停止
LD M1087                 ; U1-2_S7_読取ﾄﾘｶﾞｰOFF指令
MPS
AND M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPP
AND M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
MOV K30 D1001            ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;<h1/>__S8_バーコード読込正常処理
LD M1088                 ; U1-2_S8
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPS
@INC D1200               ; 投入部1_INDEX NO.
MPP
AND> D1200 K10           ; 投入部1_INDEX NO.
DW K1 D1200              ; 投入部1_INDEX NO.
LD M1089                 ; U1-2_S9_
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1090                 ; U1-2_S10_
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;<h1/>__S11_IDﾁｪｯｸ_★再検討必要
LD M1091                 ; U1-2_S11_ｽﾃｰｼﾞ有効確認
MPS
LD L700                  ; ﾘｰｸst2_有効状態
LD= D1211 D4100          ; 投入部1_ﾘｰｸ上治具ID  ﾘｰｸST2_上治具ID
AND= D1212 D4101         ; 投入部1_ﾘｰｸ下治具ID  ﾘｰｸST2_下治具ID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
LD L900                  ; ﾘｰｸst1_有効状態
LD= D1211 D5100          ; 投入部1_ﾘｰｸ上治具ID  ﾘｰｸST1_上治具ID
AND= D1212 D5101         ; 投入部1_ﾘｰｸ下治具ID  ﾘｰｸST1_下治具ID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
ORL
OR L10                   ; ﾘｰｸ検査有無(0_有/1_無)
LD<> D1205 K0            ; 投入部1_再検査品st
AND<> D1205 K3           ; 投入部1_再検査品st
AND<> D1205 K4           ; 投入部1_再検査品st
ORL
LD L800                  ; FINALST2_有効状態
LD= D1205 K0             ; 投入部1_再検査品st
OR= D1205 K2             ; 投入部1_再検査品st
AND= D1213 D4601         ; 投入部1_電特ﾊﾟﾚｯﾄID  ﾌｧｲﾅﾙST2_ﾊﾟﾚｯﾄID
AND= D1214 D4600         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  ﾌｧｲﾅﾙST2_ｺﾝﾀｸﾄﾍｯﾄﾞID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
LD L1000                 ; FINALST1_有効状態
LD= D1205 K0             ; 投入部1_再検査品st
OR= D1205 K1             ; 投入部1_再検査品st
AND= D1213 D5601         ; 投入部1_電特ﾊﾟﾚｯﾄID  ﾌｧｲﾅﾙST1_ﾊﾟﾚｯﾄID
AND= D1214 D5600         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  ﾌｧｲﾅﾙST1_ｺﾝﾀｸﾄﾍｯﾄﾞID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
ORL
OR L11                   ; ﾌｧｲﾅﾙ検査有無(0_有/1_無)
ANL
LD L1100                 ; ﾘｰｸst3_有効状態
LD= D1211 D6102          ; 投入部1_ﾘｰｸ上治具ID
AND= D1212 D6103         ; 投入部1_ﾘｰｸ下治具ID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
LD L1300                 ; ﾘｰｸst4_有効状態
LD= D1211 D7102          ; 投入部1_ﾘｰｸ上治具ID
AND= D1212 D7103         ; 投入部1_ﾘｰｸ下治具ID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
ORL
OR L10                   ; ﾘｰｸ検査有無(0_有/1_無)
LD<> D1205 K0            ; 投入部1_再検査品st
AND<> D1205 K1           ; 投入部1_再検査品st
AND<> D1205 K2           ; 投入部1_再検査品st
ORL
LD L1200                 ; FINALST3_有効状態
LD= D1205 K0             ; 投入部1_再検査品st
OR= D1205 K3             ; 投入部1_再検査品st
AND= D1213 D6603         ; 投入部1_電特ﾊﾟﾚｯﾄID
AND= D1214 D6602         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
LD L1400                 ; FINALST4_有効状態
LD= D1205 K0             ; 投入部1_再検査品st
OR= D1205 K4             ; 投入部1_再検査品st
AND= D1213 D7603         ; 投入部1_電特ﾊﾟﾚｯﾄID
AND= D1214 D7602         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
ORL
OR L11                   ; ﾌｧｲﾅﾙ検査有無(0_有/1_無)
ANL
ORL
ANL
OUT M1421                ; ST受入れ準備OK
MRD
ANB M1421                ; ST受入れ準備OK
OUT M1420                ; ST受入れ準備NG
MPP
LD M1421                 ; ST受入れ準備OK
ANB B025                 ; 37)_U1E6_ﾘｰｸST2_2ｽﾃｰｼﾞﾁｪｯｸ
ANL
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1092                 ; U1-2_S12
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1093                 ; U1-2_S13
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1094                 ; U1-2_S14
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1095                 ; U1-2_S15
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1096                 ; U1-2_S16
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1097                 ; U1-2_S17
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1098                 ; U1-2_S18
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1099                 ; U1-2_S19
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1100                 ; U1-2_S20
MOV K63 D1001            ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;<h1/>__S30_読取_ID_NG
;　　ﾀﾞｲｱﾛｸﾞ要求有無ﾁｪｯｸ
LD M1110                 ; U1-2_S30_ID読取_NG処理
MPS
AND W01.2                ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPP
ANB W01.2                ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
MPS
AND M1416                ; BCR読み取れなかった異常
MOV K63 D1001            ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPP
SET M1416                ; BCR読み取れなかった異常
LD M1111                 ; U1-2_S31
MPS
LD M1404                 ; ID異常時ｻｲｸﾙ停止選択
OR M1405                 ; ID異常時取出し選択
OR M1406                 ; ID異常時段取り替え選択
ANL
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MRD
LDP B1020                ; REMOVE取り出し選択_Tws
ANB B1021                ; JIG_CHANGE段取り替え選択_Tws
ANB B1022                ; Cycle Stopｻｲｸﾙ停止選択_Tws
ANL
RES M1404                ; ID異常時ｻｲｸﾙ停止選択
CON
SET M1405                ; ID異常時取出し選択
CON
RES M1406                ; ID異常時段取り替え選択
MRD
LDP B1021                ; JIG_CHANGE段取り替え選択_Tws
ANB B1020                ; REMOVE取り出し選択_Tws
ANB B1022                ; Cycle Stopｻｲｸﾙ停止選択_Tws
ANL
RES M1404                ; ID異常時ｻｲｸﾙ停止選択
CON
RES M1405                ; ID異常時取出し選択
CON
SET M1406                ; ID異常時段取り替え選択
MRD
LDP B1022                ; Cycle Stopｻｲｸﾙ停止選択_Tws
ANB B1020                ; REMOVE取り出し選択_Tws
ANB B1021                ; JIG_CHANGE段取り替え選択_Tws
ANL
RES M1405                ; ID異常時取出し選択
CON
SET M1404                ; ID異常時ｻｲｸﾙ停止選択
CON
RES M1406                ; ID異常時段取り替え選択
MPP
OUT B151F                ; ID異常_選択Window_Open
;　　段取り時以外はここで終了
LD M1112                 ; U1-2_S32_ID読取_NG_処理選択完了
MPS
ANB M1406                ; ID異常時段取り替え選択
MOV K63 D1001            ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPP
AND M1406                ; ID異常時段取り替え選択
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;　　段取り処理
LDB L700                 ; ﾘｰｸst2_有効状態
ANB L900                 ; ﾘｰｸst1_有効状態
ANB L1100                ; ﾘｰｸst3_有効状態
ANB L1300                ; ﾘｰｸst4_有効状態
INV
OUT M1417                ; ｽﾃｰｼﾞ有効確認
LD M1113                 ; U1-2_S33
MPS
ANB M1417                ; ｽﾃｰｼﾞ有効確認
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPP
AND W01.0                ; ｽｷｬﾅ読込完了
MOV K6 D1001             ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1114                 ; U1-2_S34
AND M1417                ; ｽﾃｰｼﾞ有効確認
AND W01.0                ; ｽｷｬﾅ読込完了
MOV K6 D1001             ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND CR2003               ; 常時OFF
MOV K62 D1001            ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
LD M1142                 ; U1-2_S62
MOV K63 D1001            ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;<h1/>◇_未使用_ﾕﾆｯﾄ1-3状態・動作条件(補助)
LD CR2002                ; 常時ON
OUT M1230                ; ﾕﾆｯﾄ1-3原点
LDB CR2003               ; 常時OFF
INV
OUT M1231                ; ﾕﾆｯﾄ1-3全異常
LD M1230                 ; ﾕﾆｯﾄ1-3原点
ANB M1234                ; ﾕﾆｯﾄ1-3起動中
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND CR2003               ; 常時OFF
OUT M1232                ; ﾕﾆｯﾄ1-3起動条件
LDB M50                  ; 運転準備
OR M1486                 ; ﾕﾆｯﾄ1ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M1233                ; ﾕﾆｯﾄ1-3起動OFF
LD M73                   ; 各工程起動指令
AND M1232                ; ﾕﾆｯﾄ1-3起動条件
OR M1234                 ; ﾕﾆｯﾄ1-3起動中
ANB M1233                ; ﾕﾆｯﾄ1-3起動OFF
ANB M1223                ; ﾕﾆｯﾄ1-3ｻｲｸﾙ終了
OUT M1234                ; ﾕﾆｯﾄ1-3起動中
;ﾕﾆｯﾄ1-3ｻｲｸﾙ停止異常
LDB CR2003               ; 常時OFF
INV
OUT M1235                ; ﾕﾆｯﾄ1-3ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-3ｴﾗｰ発生まとめ
LDB CR2003               ; 常時OFF
INV
OUT M1236                ; ﾕﾆｯﾄ1-3ｴﾗｰ発生
;ﾕﾆｯﾄ1-3停止判定
LD= D1002 D1007          ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ1-3動作中判定
TMR K112 K20             ; 除材部動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D1002 D1007          ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ1-3動作中判定
LD T112                  ; 除材部動作無し判定ﾀｲﾏ
ORB M1234                ; ﾕﾆｯﾄ1-3起動中
OUT M1237                ; ﾕﾆｯﾄ1-3動作無し
;□
;□　ﾕﾆｯﾄ1-3自動運転ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M1160 K4         ; RCX240位置決めSTEP0
LDB M1234                ; ﾕﾆｯﾄ1-3起動中
MOV K0 D1002             ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1234                 ; ﾕﾆｯﾄ1-3起動中
MOV D1002 Z1             ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
OUT M1160:Z1             ; RCX240位置決めSTEP0
;ﾜｰｸ有無判定
LD M1160                 ; RCX240位置決めSTEP0
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
AND CR2003               ; 常時OFF
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
MPP
AND CR2003               ; 常時OFF
MOV K4 D1002             ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND CR2003               ; 常時OFF
MOV K62 D1002            ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
LD M1222                 ; ﾕﾆｯﾄ1-3ｻｲｸﾙ停止処理
OR CR2003                ; 常時OFF
MOV K63 D1002            ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
;<h1/>□_UNIT_1_原点復帰回路
LD CR2002                ; 常時ON
FMOV K0 M1250 K3         ; STEP0
LDB M1484                ; ﾕﾆｯﾄ1原点復帰中
MOV K0 D1010             ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1484                 ; ﾕﾆｯﾄ1原点復帰中
MOV D1010 Z1             ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
OUT M1250:Z1             ; STEP0
;原点復帰ｻｲｸﾙ監視
LD M1484                 ; ﾕﾆｯﾄ1原点復帰中
ANB X100C                ; #01_RX00C_運転実行中
TMR K100 K200            ; ﾕﾆｯﾄ1原点復帰ﾀｲﾑｱｳﾄ
;原点復帰ステップ開始
LD M1250                 ; STEP0
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;搬送部原点復帰待ち
LD M1251                 ; STEP1
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND M1840                ; Z_搬送高さ(HIGH)_搬送1
LD M2840
ORB M99                  ; 能拡後対応FLG
ANL
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1252                 ; STEP2
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
AND X100B                ; #01_RX00B_ORG原点復帰完了状態
MOV K4 D1010             ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
ANB X100B                ; #01_RX00B_ORG原点復帰完了状態
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1253                 ; STEP3
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND Y200B                ; #01_RY00B_原点復帰
AND X100B                ; #01_RX00B_ORG原点復帰完了状態
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1254                 ; STEP4
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
MOV D1030 D1024          ; RB1_ﾜｰｸ投入位置Pos指定  RB1_POS確定
MPP
AND= D1030 D1024         ; RB1_ﾜｰｸ投入位置Pos指定  RB1_POS確定
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1255                 ; STEP5_投入部移動指令
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND X100C                ; #01_RX00C_運転実行中
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1256                 ; STEP6
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
LD X100D                 ; #01_RX00D_運転完了
AND M1450                ; RB1_ﾜｰｸ投入位置_P2
ANL
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
LDB X100C                ; #01_RX00C_運転実行中
ANB M1450                ; RB1_ﾜｰｸ投入位置_P2
ANL
MOV K4 D1010             ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;　　ﾜｰｸﾁｪｯｸ
LD M1257                 ; STEP7
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
ANB X1280                ; 給材部ﾜｰｸ有無確認(ON=有)
MOV K10 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
AND X1280                ; 給材部ﾜｰｸ有無確認(ON=有)
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;　　ﾜｰｸ除去要求
LD M1258                 ; STEP8_給材部ﾜｰｸ除去要求
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1259                 ; STEP9
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1260                 ; STEP10
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MOV K45 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;原点復帰終了
LD M1295                 ; STEP45
AND M1480                ; ﾕﾆｯﾄ1原点
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
FMOV K0 D1200 K100       ; 投入部1_INDEX NO.
LD M1296                 ; STEP46
ANB M82                  ; 原点復帰開始
MOV K47 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;<h1/>□_UNIT_1_手動回路
;　　ｲﾝﾀｰﾛｯｸ
;給材ｽﾗｲﾀﾞ待機位置移動
LD CR2002                ; 常時ON
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND X100B                ; #01_RX00B_ORG原点復帰完了状態
LD X100D                 ; #01_RX00D_運転完了
ORB X100C                ; #01_RX00C_運転実行中
ANL
LD M1840                 ; Z_搬送高さ(HIGH)_搬送1
OR M37                   ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
ANL
ANB M1301                ; 給材RB_ﾜｰｸ投入位置移動
ANB M1306                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動
ANB M1311                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
OUT M1300                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ投入位置移動可
;ｺｰﾄﾞﾘｰﾀﾞｰ読取位置移動
LD CR2002                ; 常時ON
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND X100B                ; #01_RX00B_ORG原点復帰完了状態
LD X100D                 ; #01_RX00D_運転完了
ORB X100C                ; #01_RX00C_運転実行中
ANL
LD M1840                 ; Z_搬送高さ(HIGH)_搬送1
OR M37                   ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
ANL
ANB M1301                ; 給材RB_ﾜｰｸ投入位置移動
ANB M1306                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動
ANB M1311                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
OUT M1305                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動可
;ﾜｰｸ受渡し位置
LD CR2002                ; 常時ON
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND X100B                ; #01_RX00B_ORG原点復帰完了状態
LD X100D                 ; #01_RX00D_運転完了
ORB X100C                ; #01_RX00C_運転実行中
ANL
LD M1840                 ; Z_搬送高さ(HIGH)_搬送1
OR M37                   ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
ANL
ANB M1301                ; 給材RB_ﾜｰｸ投入位置移動
ANB M1306                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動
ANB M1311                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
OUT M1310                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動可
LD M31                   ; 手動ﾓｰﾄﾞ
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M32                  ; ﾒｲﾝ手動操作可能条件
ANB M1485                ; ﾕﾆｯﾄ1起動中
ANB M1484                ; ﾕﾆｯﾄ1原点復帰中
MC
;給材ｽﾗｲﾀﾞ待機位置移動
LDP B1080                ; UNIT1-1-1 TP-PB
ANB B1081                ; UNIT1-1-2 TP-PB
ANB B1082                ; UNIT1-1-3 TP-PB
AND M1300                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ投入位置移動可
OR M1301                 ; 給材RB_ﾜｰｸ投入位置移動
ANB M1304                ; 給材RB_ﾜｰｸ投入位置移動完了
MPS
OUT M1301                ; 給材RB_ﾜｰｸ投入位置移動
MPP
ANB M1303                ; 給材RB_ﾜｰｸ投入位置移動中
OUT M1302                ; 給材RB_ﾜｰｸ投入位置移動指令
@LDA D1030               ; RB1_ﾜｰｸ投入位置Pos指定
CON
@STA D1024               ; RB1_POS確定
LD M1302                 ; 給材RB_ﾜｰｸ投入位置移動指令
LD X100C                 ; #01_RX00C_運転実行中
LD CR2003                ; 常時OFF
ANB X100D                ; #01_RX00D_運転完了
ORL
ANL
OR M1303                 ; 給材RB_ﾜｰｸ投入位置移動中
AND M1301                ; 給材RB_ﾜｰｸ投入位置移動
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
OUT M1303                ; 給材RB_ﾜｰｸ投入位置移動中
LD M1303                 ; 給材RB_ﾜｰｸ投入位置移動中
ANB X100C                ; #01_RX00C_運転実行中
AND X100D                ; #01_RX00D_運転完了
AND= D1028 D1024         ; RB1_完了POS  RB1_POS確定
AND M1301                ; 給材RB_ﾜｰｸ投入位置移動
OUT M1304                ; 給材RB_ﾜｰｸ投入位置移動完了
;ｺｰﾄﾞﾘｰﾀﾞｰ読取位置移動
LDP B1081                ; UNIT1-1-2 TP-PB
ANB B1080                ; UNIT1-1-1 TP-PB
ANB B1082                ; UNIT1-1-3 TP-PB
AND M1305                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動可
OR M1306                 ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動
ANB M1309                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動完了
MPS
OUT M1306                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動
MPP
ANB M1308                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動中
OUT M1307                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動指令
@LDA D1031               ; RB1_ｺｰﾄﾞ読取位置Pos指定
CON
@STA D1024               ; RB1_POS確定
LD M1307                 ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動指令
LD X100C                 ; #01_RX00C_運転実行中
LD CR2003                ; 常時OFF
ANB X100D                ; #01_RX00D_運転完了
ORL
ANL
OR M1308                 ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動中
AND M1306                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
OUT M1308                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動中
LD M1308                 ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動中
ANB X100C                ; #01_RX00C_運転実行中
AND X100D                ; #01_RX00D_運転完了
AND= D1028 D1024         ; RB1_完了POS  RB1_POS確定
AND M1306                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動
OUT M1309                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動完了
;ﾜｰｸ受渡し位置
LDP B1082                ; UNIT1-1-3 TP-PB
ANB B1080                ; UNIT1-1-1 TP-PB
ANB B1081                ; UNIT1-1-2 TP-PB
AND M1310                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動可
OR M1311                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
ANB M1315                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動完了
MPS
OUT M1311                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
MPP
ANB M1314                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動中
OUT M1312                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動指令
@DW K1 D1024             ; RB1_POS確定
LD M1312                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動指令
LD X100C                 ; #01_RX00C_運転実行中
LD CR2003                ; 常時OFF
ANB X100D                ; #01_RX00D_運転完了
ORL
ANL
OR M1314                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動中
AND M1311                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
OUT M1314                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動中
LD M1314                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動中
ANB X100C                ; #01_RX00C_運転実行中
AND X100D                ; #01_RX00D_運転完了
AND= D1028 D1024         ; RB1_完了POS  RB1_POS確定
AND M1311                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
OUT M1315                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動完了
MCR
;<h1/>□_出力回路
;ソレノイドバルブ出力
;<h1/>__PC→PLCへ出力
LD W08.0                 ; 投入部ｽｷｬﾅ電源OFF
OUT Y57                  ; ｺｰﾄﾞﾘｰﾀﾞｰﾘｾｯﾄ
;<h1/>__PLC→PCへ出力
LD M1404                 ; ID異常時ｻｲｸﾙ停止選択
OUT W0101.1              ; ID異常時ｻｲｸﾙ停止選択
LD M1405                 ; ID異常時取出し選択
OUT W0101.2              ; ID異常時取出し選択
LD M1406                 ; ID異常時段取り替え選択
OUT W0101.3              ; ID位常時段取指示
;<h1/>__ロボット動作出力
LDB M1302                ; 給材RB_ﾜｰｸ投入位置移動指令
ANB M1307                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動指令
ANB M1312                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動指令
ANB M1012                ; _1-1_S12_RB1ﾊﾞｰｺｰﾄﾞ位置移動指令
ANB M1017                ; _1-1_S17_ﾜｰｸ投入位置へ移動
ANB M1031                ; _1-1_S31_ﾜｰｸ受渡し位置移動指令
ANB M1041                ; _1-1_S41_ﾜｰｸ投入位置へ移動
ANB M1255                ; STEP5_投入部移動指令
INV
@MOV D1024 D1026         ; RB1_POS確定  RB1_指令POS
MPS
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
TMR K190 K2              ; 給材搬送PPRB_POS確定ﾃﾞｨﾚｲ
MPP
AND T190                 ; 給材搬送PPRB_POS確定ﾃﾞｨﾚｲ
OUT Y200D                ; #01_RY00D_スタート
LD CR2002                ; 常時ON
MPS
AND D1026.0              ; 給材搬送PP RB_指令POS1
OUT Y2000                ; #01_RY000_指令位置_1
MRD
AND D1026.1              ; 給材搬送PP RB_指令POS2
OUT Y2001                ; #01_RY001_指令位置_2
MRD
AND D1026.2              ; 給材搬送PP RB_指令POS4
OUT Y2002                ; #01_RY002_指令位置_3
MRD
AND D1026.3              ; 給材搬送PP RB_指令POS8
OUT Y2003                ; #01_RY003_指令位置_4
MRD
AND D1026.4              ; 給材搬送PP RB_指令POS16
OUT Y2004                ; #01_RY004_指令位置_5
MRD
AND D1026.5              ; 給材搬送PP RB_指令POS32
OUT Y2005                ; #01_RY005_指令位置_6
MRD
AND D1026.6              ; 給材搬送PP RB_指令POS64
OUT Y2006                ; #01_RY006_指令位置_7
MPP
AND D1026.7              ; 給材搬送PP RB_指令POS128
OUT Y2008                ; #01_RY008_ジョグ移動（＋方向）
LD CR2003                ; 常時OFF
OUT Y2179                ; #06_RY079_未使用
OUT Y217A                ; #06_RY07A_未使用
OUT Y217B                ; #06_RY07B_未使用
LD M1253                 ; STEP3
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
OUT Y200B                ; #01_RY00B_原点復帰
LD X04                   ; 供給部ﾗｲﾄｶｰﾃﾝOUT1
AND X06                  ; ST1-2部ﾗｲﾄｶｰﾃﾝOUT1
AND X0A                  ; 装置背面ﾗｲﾄｶｰﾃﾝOUT1
OR M39                   ; ｴﾘｱｾﾝｻｰ解除ﾓｰﾄﾞ
AND M129                 ; 安全入力OK
OUT Y200C                ; #01_RY00C_インターロック
LD M16                   ; ﾘｾｯﾄPB
ANB X100E                ; #01_RX00E_アラーム
OUT Y200E                ; #01_RY00E_リセット
LD M50                   ; 運転準備
AND X100E                ; #01_RX00E_アラーム
OUT Y200F                ; #01_RY00F_サーボON
;□□　　I/O出力　　□□
LD M50                   ; 運転準備
ANB M51                  ; 即停止異常(緊急停止)
OUT Y52                  ; ﾜｰｸ給材RB電源ON
LDB B0321                ; 801)_U1E8_給材部ﾜｰｸ除去要求
ANB M1020                ; _1-1_S20_NGﾗﾝﾌﾟ点灯
INV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT Y318                 ; ﾜｰｸ供給部NGﾗﾝﾌﾟ
LDB M1004                ; _1-1_S4_ﾜｰｸ浮き検知
ANB M1020                ; _1-1_S20_NGﾗﾝﾌﾟ点灯
INV
OUT Y319                 ; ﾜｰｸ供給部ﾌﾞｻﾞｰ
;□□　　パネル表示　　□□
LD M1450                 ; RB1_ﾜｰｸ投入位置_P2
LD M1301                 ; 給材RB_ﾜｰｸ投入位置移動
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1580                ; UNIT1-1-1 TP-PL
LD M1451                 ; RB1_ｺｰﾄﾞ読取位置_P-D1031
LD M1306                 ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1581                ; UNIT1-1-2 TP-PL
LD M1452                 ; RB1_ﾜｰｸ受渡し位置
LD M1311                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1582                ; UNIT1-1-3 TP-PL
;<h1/>□_異常検出
LDB X100E                ; #01_RX00E_アラーム
AND X100F                ; #01_RX00F_サーボ状態
AND M50                  ; 運転準備
AND Y52                  ; ﾜｰｸ給材RB電源ON
LD CR2003                ; 常時OFF
ANB B0520                ; 32)_U1E1Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B020                 ; 32)_U1E1_TSｺﾝﾄ異常
ORL
OUT B020                 ; 32)_U1E1_TSｺﾝﾄ異常
LDP B020                 ; 32)_U1E1_TSｺﾝﾄ異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1033 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0520                 ; 32)_U1E1Bz停止
AND B020                 ; 32)_U1E1_TSｺﾝﾄ異常
OUT B0520                ; 32)_U1E1Bz停止
LD M1005                 ; _1-1_S5_ｲﾝﾃﾞｯｸｽNO.ﾁｪｯｸ
LD M30                   ; 自動ﾓｰﾄﾞ
ANB M41                  ; ﾕﾆｯﾄ_起動中
ORL
AND= D1050 K0            ; 投入部JIG_ID
AND M1450                ; RB1_ﾜｰｸ投入位置_P2
LD CR2003                ; 常時OFF
ANB B0521                ; 33)_U1E2Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B021                 ; 33)_U1E2_投入部JIG_ID異常
ORL
OUT B021                 ; 33)_U1E2_投入部JIG_ID異常
LDP B021                 ; 33)_U1E2_投入部JIG_ID異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K34 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0521                 ; 33)_U1E2Bz停止
AND B021                 ; 33)_U1E2_投入部JIG_ID異常
OUT B0521                ; 33)_U1E2Bz停止
LD M1036                 ; _1-1_S36_搬送へのﾜｰｸ受渡し失敗
LD CR2003                ; 常時OFF
ANB B0522                ; 34)_U1E3Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
ORL
OUT B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
LDP B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K35 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0522                 ; 34)_U1E3Bz停止
AND B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
OUT B0522                ; 34)_U1E3Bz停止
;
LDB M1019                ; _1-1_S19_ﾜｰｸ投入NG異常
ANB M1020                ; _1-1_S20_NGﾗﾝﾌﾟ点灯
INV
LD CR2003                ; 常時OFF
ANB B0523                ; 35)_U1E4Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B023                 ; 35)_U1E4_ﾜｰｸ投入NG異常
ORL
LDB T105                 ; 給材部ﾜｰｸ無し確認
OR W00.2                 ; PC Busy
ANL
OUT B023                 ; 35)_U1E4_ﾜｰｸ投入NG異常
LDP B023                 ; 35)_U1E4_ﾜｰｸ投入NG異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K36 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0523                 ; 35)_U1E4Bz停止
AND B023                 ; 35)_U1E4_ﾜｰｸ投入NG異常
OUT B0523                ; 35)_U1E4Bz停止
;
LD T100                  ; ﾕﾆｯﾄ1原点復帰ﾀｲﾑｱｳﾄ
LD CR2003                ; 常時OFF
ANB B0524                ; 36)_U1E5Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B024                 ; 36)_U1E5_供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
ORL
OUT B024                 ; 36)_U1E5_供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
LDP B024                 ; 36)_U1E5_供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K37 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0524                 ; 36)_U1E5Bz停止
AND B024                 ; 36)_U1E5_供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
OUT B0524                ; 36)_U1E5Bz停止
;　
LD M1091                 ; U1-2_S11_ｽﾃｰｼﾞ有効確認
AND M1420                ; ST受入れ準備NG
LD CR2003                ; 常時OFF
ANB B0525                ; 37)_U1E6Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B025                 ; 37)_U1E6_ﾘｰｸST2_2ｽﾃｰｼﾞﾁｪｯｸ
ORL
OUT B025                 ; 37)_U1E6_ﾘｰｸST2_2ｽﾃｰｼﾞﾁｪｯｸ
LDP B025                 ; 37)_U1E6_ﾘｰｸST2_2ｽﾃｰｼﾞﾁｪｯｸ
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K38 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0525                 ; 37)_U1E6Bz停止
AND B025                 ; 37)_U1E6_ﾘｰｸST2_2ｽﾃｰｼﾞﾁｪｯｸ
OUT B0525                ; 37)_U1E6Bz停止
;
LD M1008                 ; _1-1_S8_ｽﾃｰｼﾞ異常
ANB M1422                ; ｽﾃｰｼﾞ状態OK
LD CR2003                ; 常時OFF
ANB B0526                ; 38)_U1E7Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B026                 ; 38)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
ORL
OUT B026                 ; 38)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
LDP B026                 ; 38)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K39 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0526                 ; 38)_U1E7Bz停止
AND B026                 ; 38)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
OUT B0526                ; 38)_U1E7Bz停止
;　　
LDB M1258                ; STEP8_給材部ﾜｰｸ除去要求
INV
LD M36                   ; 払出ﾓｰﾄﾞ
AND M1450                ; RB1_ﾜｰｸ投入位置_P2
ANB M1074                ; ﾕﾆｯﾄ1-1起動中
AND T101                 ; 給材部ﾜｰｸ有り確認
ORL
LD CR2003                ; 常時OFF
ANB B0821                ; 801)_U1E8_ブザー停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0321                ; 801)_U1E8_給材部ﾜｰｸ除去要求
ORL
ANB X309                 ; ﾜｰｸ供給部NG_SW
ANB T105                 ; 給材部ﾜｰｸ無し確認
OUT B0321                ; 801)_U1E8_給材部ﾜｰｸ除去要求
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0821                 ; 801)_U1E8_ブザー停止
AND B0321                ; 801)_U1E8_給材部ﾜｰｸ除去要求
OUT B0821                ; 801)_U1E8_ブザー停止
;ﾜｰｸ搬送異常
LD M1050                 ; _1-1_S50_給材部ﾜｰｸ搬送異常
LD CR2003                ; 常時OFF
ANB B0528                ; 40)_U1E9Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B028                 ; 40)_U1E9_ﾜｰｸ搬送異常
ORL
OUT B028                 ; 40)_U1E9_ﾜｰｸ搬送異常
LDP B028                 ; 40)_U1E9_ﾜｰｸ搬送異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K41 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0528                 ; 40)_U1E9Bz停止
AND B028                 ; 40)_U1E9_ﾜｰｸ搬送異常
OUT B0528                ; 40)_U1E9Bz停止
;
LD M1004                 ; _1-1_S4_ﾜｰｸ浮き検知
LD CR2003                ; 常時OFF
ANB B0529                ; 41)_U1E10Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
OR X1280                 ; 給材部ﾜｰｸ有無確認(ON=有)
ORB M1450                ; RB1_ﾜｰｸ投入位置_P2
AND B029                 ; 41)_U1E10_投入部ﾜｰｸ浮き異常
ORL
LD X1280                 ; 給材部ﾜｰｸ有無確認(ON=有)
OR T60                   ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ORB M1450                ; RB1_ﾜｰｸ投入位置_P2
ANL
OUT B029                 ; 41)_U1E10_投入部ﾜｰｸ浮き異常
LDP B029                 ; 41)_U1E10_投入部ﾜｰｸ浮き異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K42 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0529                 ; 41)_U1E10Bz停止
AND B029                 ; 41)_U1E10_投入部ﾜｰｸ浮き異常
OUT B0529                ; 41)_U1E10Bz停止
;異常ﾌﾞｻﾞｰまとめ
LDB B020                 ; 32)_U1E1_TSｺﾝﾄ異常
OR B0520                 ; 32)_U1E1Bz停止
LDB B021                 ; 33)_U1E2_投入部JIG_ID異常
OR B0521                 ; 33)_U1E2Bz停止
ANL
LDB B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
OR B0522                 ; 34)_U1E3Bz停止
ANL
LDB B023                 ; 35)_U1E4_ﾜｰｸ投入NG異常
OR B0523                 ; 35)_U1E4Bz停止
ANL
LDB B024                 ; 36)_U1E5_供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
OR B0524                 ; 36)_U1E5Bz停止
ANL
LDB B025                 ; 37)_U1E6_ﾘｰｸST2_2ｽﾃｰｼﾞﾁｪｯｸ
OR B0525                 ; 37)_U1E6Bz停止
ANL
LDB B026                 ; 38)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
OR B0526                 ; 38)_U1E7Bz停止
ANL
LDB B027                 ; 39)_
OR B0527                 ; 39)_U1E8Bz停止
ANL
LDB B028                 ; 40)_U1E9_ﾜｰｸ搬送異常
OR B0528                 ; 40)_U1E9Bz停止
ANL
LDB B029                 ; 41)_U1E10_投入部ﾜｰｸ浮き異常
OR B0529                 ; 41)_U1E10Bz停止
ANL
LDB B02A                 ; 42)_U1E11
OR B052A                 ; 42)_U1E11Bz停止
ANL
LDB B02B                 ; 43)_U1E12
OR B052B                 ; 43)_U1E12Bz停止
ANL
LDB B02C                 ; 44)_U1E13
OR B052C                 ; 44)_U1E13Bz停止
ANL
LDB B02D                 ; 45)_U1E14
OR B052D                 ; 45)_U1E14Bz停止
ANL
LDB B02E                 ; 46)_U1E15
OR B052E                 ; 46)_U1E15Bz停止
ANL
LDB B02F                 ; 47)_U1E16
OR B052F                 ; 47)_U1E16Bz停止
ANL
LDB B030                 ; 48)_U1E17
OR B0530                 ; 48)_U1E17Bz停止
ANL
LDB B031                 ; 49)_U1E18
OR B0531                 ; 49)_U1E18Bz停止
ANL
LDB B032                 ; 50)_U1E19
OR B0532                 ; 50)_U1E19Bz停止
ANL
LDB B033                 ; 51)_U1E20
OR B0533                 ; 51)_U1E20Bz停止
ANL
LDB B034                 ; 52)_U1E21
OR B0534                 ; 52)_U1E21Bz停止
ANL
LDB B035                 ; 53)_U1E22
OR B0535                 ; 53)_U1E22Bz停止
ANL
LDB B036                 ; 54)_U1E23
OR B0536                 ; 54)_U1E23Bz停止
ANL
LDB B037                 ; 55)_U1E24
OR B0537                 ; 55)_U1E24Bz停止
ANL
LDB B038                 ; 56)_U1E25
OR B0538                 ; 56)_U1E25Bz停止
ANL
LDB B039                 ; 57)_U1E26
OR B0539                 ; 57)_U1E26Bz停止
ANL
LDB B03A                 ; 58)_U1E27
OR B053A                 ; 58)_U1E27Bz停止
ANL
LDB B03B                 ; 59)_U1E28
OR B053B                 ; 59)_U1E28Bz停止
ANL
LDB B03C                 ; 60)_U1E29
OR B053C                 ; 60)_U1E29Bz停止
ANL
LDB B03D                 ; 61)_U1E30
OR B053D                 ; 61)_U1E30Bz停止
ANL
LDB B03E                 ; 62)_U1E31
OR B053E                 ; 62)_U1E31Bz停止
ANL
LDB B03F                 ; 63)_U1E32
OR B053F                 ; 63)_U1E32Bz停止
ANL
LDB B0321                ; 801)_U1E8_給材部ﾜｰｸ除去要求
OR B0821                 ; 801)_U1E8_ブザー停止
ANL
INV
OUT M1489                ; ﾕﾆｯﾄ1異常BZ補助
END
ENDH
