DEVICE:53
;MODULE:FJ_COM
;MODULE_TYPE:0
;SCRIPT_TYPE:
;FJ,FHとの通信
LDP R46104               ; _非常停止中　ﾓｰﾄﾞﾌﾗｸﾞ
ZRES @R100 @R515         ; 通信ｺｰﾄﾞ読込
;<h1/>通信 MAIN
;ｺﾏﾝﾄﾞ番号説明
;EM1921
;#0		ｸﾞﾙｰﾌﾟ番号切替　#0
;#1		ｼｰﾝ番号切替　#1
;#2		計測値初期化
;#3		ﾃﾞｨﾚｸﾄﾘ名設定
;#4		計測実行
;#5		結果読込		
;#6		
;#7		-
;#8		-
;#9		-
STG R37100               ; FJ通信START
ANB R37102               ; FJ通信中
ZRES @DM0 @DM8           ; 通信設定先頭
CON
ZRES @DM10 @DM599        ; 送信内容
CON
SET R37102               ; FJ通信中
CON
JMP @R100                ; 通信ｺｰﾄﾞ読込
STG @R100                ; 通信ｺｰﾄﾞ読込
LDA EM1921               ; FJ通信ｺｰﾄﾞ番号
CON
STA @DM50                ; 通信ｺｰﾄﾞ
CON
JMP @R101                ; 通信内容選択
;<h1/>@2013-11-03 機種切り替え
;シーン番号・グループ番号を切り替える
STG @R101                ; 通信内容選択
MPS
AND= #0 @DM50            ; 通信ｺｰﾄﾞ
SMOV "SG 0" @DM10        ; 送信内容
JMP @R200                ; 汎用通信
MRD
AND= #1 @DM50            ; 通信ｺｰﾄﾞ
SMOV "S 1" @DM10         ; 送信内容
JMP @R200                ; 汎用通信
MRD
AND= #2 @DM50            ; 通信ｺｰﾄﾞ
SMOV "CLRMEAS" @DM10     ; 送信内容
JMP @R200                ; 汎用通信
MRD
AND= #3 @DM50            ; 通信ｺｰﾄﾞ
SMOV "UD 1 direct LOTNO$(0)=""5678""" @DM10;送信内容
MPS
LDA.D CM701              ; ｶﾚﾝﾀﾞﾀｲﾏ(月)
CON
ASC
CON
STA.D @DM22
MPP
JMP @R200                ; 汎用通信
MRD
AND= #4 @DM50            ; 通信ｺｰﾄﾞ
SMOV "M" @DM10           ; 送信内容
JMP @R200                ; 汎用通信
MRD
AND= #5 @DM50            ; 通信ｺｰﾄﾞ
SMOV "UD 2 5" @DM10      ; 送信内容
JMP @R200                ; 汎用通信
MRD
AND= #6 @DM50            ; 通信ｺｰﾄﾞ
SMOV "UD 1 direct saveflag&&=1" @DM10;送信内容
JMP @R200                ; 汎用通信
MRD
AND= #7 @DM50            ; 通信ｺｰﾄﾞ
MPS
AND= DM4260 #0           ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ31
SMOV "UD 1 direct saveimage&&=0" @DM10;送信内容
MRD
AND= DM4260 #1           ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ31
SMOV "UD 1 direct saveimage&&=1" @DM10;送信内容
MRD
AND= DM4260 #2           ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ31
SMOV "UD 1 direct saveimage&&=2" @DM10;送信内容
MPP
JMP @R200                ; 汎用通信
MRD
AND= #8 @DM50            ; 通信ｺｰﾄﾞ
MPS
AND= DM4262 #0           ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ32
SMOV "UD 1 direct savelog&&=0" @DM10;送信内容
MRD
AND= DM4262 #1           ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ32
SMOV "UD 1 direct savelog&&=1" @DM10;送信内容
MPP
JMP @R200                ; 汎用通信
MRD
AND= #9 @DM50            ; 通信ｺｰﾄﾞ
MPS
AND= DM4264 #0           ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
SMOV "UD 1 direct savetype&&=0" @DM10;送信内容
MRD
AND= DM4264 #1           ; _機種別ﾃﾞｰﾀ　ﾃﾝﾎﾟﾗﾘ
SMOV "UD 1 direct savetype&&=1" @DM10;送信内容
MPP
JMP @R200                ; 汎用通信
MPP
AND= #10 @DM50           ; 通信ｺｰﾄﾞ
SMOV "DATASAVE" @DM10    ; 送信内容
JMP @R200                ; 汎用通信
;<h1/>汎用通信
STG @R200                ; 汎用通信
ANB @R502                ; 通信中
RES MR10105              ; weit
CON
RES R37103               ; FJ通信異常
CON
RES R37114               ; 計測結果OK
CON
RES R37115               ; 計測結果NG
CON
SET @R500                ; 通信ｽﾀｰﾄ
CON
JMP @R201                ; 汎用通信完了処理
STG @R201                ; 汎用通信完了処理
AND @R501                ; 通信完了
MPS
ANB @R503                ; 通信異常
RES @R501                ; 通信完了
CON
RES @R204                ; 変換完了
CON
JMP @R203                ; ﾚｽﾎﾟﾝｽ変換
MPP
AND @R503                ; 通信異常
RES @R501                ; 通信完了
CON
JMP @R202                ; 汎用通信異常処理
STG @R202                ; 汎用通信異常処理
SET R37103               ; FJ通信異常
CON
SET R37104               ; 通信NG
CON
RES @R503                ; 通信異常
CON
JMP @R215                ; 終了処理
;@DM300.T = CPSASC (@DM200.T)		'CIP文字列変換
;
;IF @DM300.T <> "OK" AND @DM300.T <> "NG" THEN
;	@DM52.F = VAL(@DM300.T)
;	@DM54.L = @DM52.F
;END IF
;
;'判断
;IF @DM300.T = "OK" THEN	'
;@DM51 = #20
;END IF
;
;IF @DM300.T = "ER" THEN	'ｴﾗｰの時
;	@DM51 = #21
;END IF
;
;IF @DM300.T = "1.0000" THEN	'結果読込OK
;	@DM51 = #22
;END IF
;
;IF @DM300.T = "-9999.0000" THEN	'結果読込NG
;	IF @DM51 = #23 THEN 
;		@DM51 = #99
;	ELSE
;		@DM51 = #23
;	END IF
;END IF
;
;'1bit目：良品
;'2bit目：ﾀﾞﾚ幅
;'3bit目：芯ｽﾞﾚ
;'4bit目：異物・ｷｽﾞ
;
;'以下ｴﾗｰ詳細読み込み時のﾚｽﾎﾟﾝｽ
;
;'************ 単発での発生 ***************
;IF @DM300.T = "2.0000" THEN	'①ﾀﾞﾚ幅
;	@DM51 = #42
;
;END IF
;
;IF @DM300.T = "4.0000" THEN	'②芯ｽﾞﾚ
;	@DM51 = #44
;
;END IF
;
;IF @DM300.T = "8.0000" THEN	'③異物・ｷｽﾞ
;	@DM51 = #48
;
;END IF
;
;
;'*****************************************
;'************ 複合での発生ﾊﾟﾀｰﾝ **********
;'************    ①基準複合     **********
;IF @DM300.T = "6.0000" THEN	'① + ②
;	@DM51 = #46
;
;END IF
;
;IF @DM300.T = "10.0000" THEN '① + ③
;	@DM51 = #50
;
;END IF
;
;
;IF @DM300.T = "14.0000" THEN '① + ② + ③
;	@DM51 = #54
;END IF
;
;
;'*****************************************
;'************    ②基準複合     **********
;IF @DM300.T = "12.0000" THEN '② + ③
;	@DM51 = #52
;
;END IF
;
;
;
;'変換完了
;SET (@R204)
LD @R203                 ; ﾚｽﾎﾟﾝｽ変換
NCJ #1008
;@DM300.T = CPSASC (@DM200.T)		'CIP文字列変換
;
LD CR2002                ; 常時ON
ADRSET VM2 VM0
MOV #0 VM2
MOV.D VM0 @VM0
LD CR2002                ; 常時ON
CPSASC @DM200 *@VM0      ; 受信ﾃﾞｰﾀ先頭
LD CR2002                ; 常時ON
SMOV *@VM0 @DM300
;IF @DM300.T <> "OK" AND @DM300.T <> "NG" THEN
;
LD CR2002                ; 常時ON
ADRSET VM2 VM0
MOV #0 VM2
MOV.D VM0 @VM2
SMOV "OK" *@VM2
LD CR2002                ; 常時ON
SCMP @DM300 *@VM2
LDB CR2010               ; 演算結果がｾﾞﾛ
OUT @VB00
LD CR2002                ; 常時ON
ADRADD.S +2 VM0
LD CR2002                ; 常時ON
MOV.D VM0 @VM4
SMOV "NG" *@VM4
LD CR2002                ; 常時ON
SCMP @DM300 *@VM4
LDB CR2010               ; 演算結果がｾﾞﾛ
AND @VB00
NCJ #2000
;	@DM52.F = VAL(@DM300.T)
;
LD CR2002                ; 常時ON
MOV.F +0 @VM6
RFASC @DM300 @VM6
LD CR2002                ; 常時ON
MOV.F @VM6 @DM52         ; ｴﾗｰ詳細Bit
;	@DM54.L = @DM52.F
;
LD CR2002                ; 常時ON
LDA.F @DM52              ; ｴﾗｰ詳細Bit
CON
INTG.L
CON
STA.L @DM54
;END IF
;
LABEL #2000
;'判断
;
;IF @DM300.T = "OK" THEN	'
;
LD CR2002                ; 常時ON
ADRSET VM2 VM0
MOV #0 VM2
MOV.D VM0 @VM8
SMOV "OK" *@VM8
LD CR2002                ; 常時ON
SCMP @DM300 *@VM8
LD CR2010                ; 演算結果がｾﾞﾛ
NCJ #2001
;@DM51 = #20
;
LD CR2002                ; 常時ON
MOV #20 @DM51
;END IF
;
LABEL #2001
;IF @DM300.T = "ER" THEN	'ｴﾗｰの時
;
LD CR2002                ; 常時ON
ADRSET VM2 VM0
MOV #0 VM2
MOV.D VM0 @VM10
SMOV "ER" *@VM10
LD CR2002                ; 常時ON
SCMP @DM300 *@VM10
LD CR2010                ; 演算結果がｾﾞﾛ
NCJ #2002
;	@DM51 = #21
;
LD CR2002                ; 常時ON
MOV #21 @DM51
;END IF
;
LABEL #2002
;IF @DM300.T = "1.0000" THEN	'結果読込OK
;
LD CR2002                ; 常時ON
ADRSET VM2 VM0
MOV #0 VM2
MOV.D VM0 @VM12
SMOV "1.0000" *@VM12
LD CR2002                ; 常時ON
SCMP @DM300 *@VM12
LD CR2010                ; 演算結果がｾﾞﾛ
NCJ #2003
;	@DM51 = #22
;
LD CR2002                ; 常時ON
MOV #22 @DM51
;END IF
;
LABEL #2003
;IF @DM300.T = "-9999.0000" THEN	'結果読込NG
;
LD CR2002                ; 常時ON
ADRSET VM2 VM0
MOV #0 VM2
MOV.D VM0 @VM14
SMOV "-9999.0000" *@VM14
LD CR2002                ; 常時ON
SCMP @DM300 *@VM14
LD CR2010                ; 演算結果がｾﾞﾛ
NCJ #2004
;	IF @DM51 = #23 THEN 
;
LD= @DM51 #23
NCJ #2005
;		@DM51 = #99
;
LD CR2002                ; 常時ON
MOV #99 @DM51
;	ELSE
;
LD CR2002                ; 常時ON
CJ #2006
LABEL #2005
;		@DM51 = #23
;
LD CR2002                ; 常時ON
MOV #23 @DM51
;	END IF
;
LABEL #2006
;END IF
;
LABEL #2004
;'1bit目：良品
;
;'2bit目：ﾀﾞﾚ幅
;
;'3bit目：芯ｽﾞﾚ
;
;'4bit目：異物・ｷｽﾞ
;
;'以下ｴﾗｰ詳細読み込み時のﾚｽﾎﾟﾝｽ
;
;'************ 単発での発生 ***************
;
;IF @DM300.T = "2.0000" THEN	'①ﾀﾞﾚ幅
;
LD CR2002                ; 常時ON
ADRSET VM2 VM0
MOV #0 VM2
MOV.D VM0 @VM16
SMOV "2.0000" *@VM16
LD CR2002                ; 常時ON
SCMP @DM300 *@VM16
LD CR2010                ; 演算結果がｾﾞﾛ
NCJ #2007
;	@DM51 = #42
;
LD CR2002                ; 常時ON
MOV #42 @DM51
;END IF
;
LABEL #2007
;IF @DM300.T = "4.0000" THEN	'②芯ｽﾞﾚ
;
LD CR2002                ; 常時ON
ADRSET VM2 VM0
MOV #0 VM2
MOV.D VM0 @VM18
SMOV "4.0000" *@VM18
LD CR2002                ; 常時ON
SCMP @DM300 *@VM18
LD CR2010                ; 演算結果がｾﾞﾛ
NCJ #2008
;	@DM51 = #44
;
LD CR2002                ; 常時ON
MOV #44 @DM51
;END IF
;
LABEL #2008
;IF @DM300.T = "8.0000" THEN	'③異物・ｷｽﾞ
;
LD CR2002                ; 常時ON
ADRSET VM2 VM0
MOV #0 VM2
MOV.D VM0 @VM20
SMOV "8.0000" *@VM20
LD CR2002                ; 常時ON
SCMP @DM300 *@VM20
LD CR2010                ; 演算結果がｾﾞﾛ
NCJ #2009
;	@DM51 = #48
;
LD CR2002                ; 常時ON
MOV #48 @DM51
;END IF
;
LABEL #2009
;'*****************************************
;
;'************ 複合での発生ﾊﾟﾀｰﾝ **********
;
;'************    ①基準複合     **********
;
;IF @DM300.T = "6.0000" THEN	'① + ②
;
LD CR2002                ; 常時ON
ADRSET VM2 VM0
MOV #0 VM2
MOV.D VM0 @VM22
SMOV "6.0000" *@VM22
LD CR2002                ; 常時ON
SCMP @DM300 *@VM22
LD CR2010                ; 演算結果がｾﾞﾛ
NCJ #2010
;	@DM51 = #46
;
LD CR2002                ; 常時ON
MOV #46 @DM51
;END IF
;
LABEL #2010
;IF @DM300.T = "10.0000" THEN '① + ③
;
LD CR2002                ; 常時ON
ADRSET VM2 VM0
MOV #0 VM2
MOV.D VM0 @VM24
SMOV "10.0000" *@VM24
LD CR2002                ; 常時ON
SCMP @DM300 *@VM24
LD CR2010                ; 演算結果がｾﾞﾛ
NCJ #2011
;	@DM51 = #50
;
LD CR2002                ; 常時ON
MOV #50 @DM51
;END IF
;
LABEL #2011
;IF @DM300.T = "14.0000" THEN '① + ② + ③
;
LD CR2002                ; 常時ON
ADRSET VM2 VM0
MOV #0 VM2
MOV.D VM0 @VM26
SMOV "14.0000" *@VM26
LD CR2002                ; 常時ON
SCMP @DM300 *@VM26
LD CR2010                ; 演算結果がｾﾞﾛ
NCJ #2012
;	@DM51 = #54
;
LD CR2002                ; 常時ON
MOV #54 @DM51
;END IF
;
LABEL #2012
;'*****************************************
;
;'************    ②基準複合     **********
;
;IF @DM300.T = "12.0000" THEN '② + ③
;
LD CR2002                ; 常時ON
ADRSET VM2 VM0
MOV #0 VM2
MOV.D VM0 @VM28
SMOV "12.0000" *@VM28
LD CR2002                ; 常時ON
SCMP @DM300 *@VM28
LD CR2010                ; 演算結果がｾﾞﾛ
NCJ #2013
;	@DM51 = #52
;
LD CR2002                ; 常時ON
MOV #52 @DM51
;END IF
;
LABEL #2013
;'変換完了
;
;SET (@R204)
LD CR2002                ; 常時ON
SET @R204                ; 変換完了
LABEL #1008
;
STG @R203                ; ﾚｽﾎﾟﾝｽ変換
AND @R204                ; 変換完了
MPS
AND= @DM51 #20
RES @R204                ; 変換完了
CON
JMP @R215                ; 終了処理
MRD
LD= @DM51 #21
OR= @DM51 #0
ANL
MPS
AND<> #3 @DM50           ; 通信ｺｰﾄﾞ
SET R37103               ; FJ通信異常
CON
SET R37105               ; ﾚｽﾎﾟﾝｽER
CON
RES @R204                ; 変換完了
CON
JMP @R215                ; 終了処理
MRD
AND= #0 @DM50            ; 通信ｺｰﾄﾞ
SET R37103               ; FJ通信異常
CON
SET R37106               ; ｼｰﾝ切替NG
CON
RES @R204                ; 変換完了
CON
JMP @R215                ; 終了処理
MRD
AND= #1 @DM50            ; 通信ｺｰﾄﾞ
SET R37103               ; FJ通信異常
CON
SET R37107               ; ｸﾞﾙｰﾌﾟ切替NG
CON
RES @R204                ; 変換完了
CON
JMP @R215                ; 終了処理
MRD
AND= #2 @DM50            ; 通信ｺｰﾄﾞ
SET R37103               ; FJ通信異常
CON
SET R37108               ; 計測値初期化NG
CON
RES @R204                ; 変換完了
CON
JMP @R215                ; 終了処理
MRD
AND= #3 @DM50            ; 通信ｺｰﾄﾞ
SET R37103               ; FJ通信異常
CON
SET R37109               ; ﾃﾞｨﾚｸﾄﾘ設定NG
CON
RES @R204                ; 変換完了
CON
JMP @R215                ; 終了処理
MRD
AND= #4 @DM50            ; 通信ｺｰﾄﾞ
SET R37103               ; FJ通信異常
CON
SET R37110               ; 計測実行NG
CON
RES @R204                ; 変換完了
CON
JMP @R215                ; 終了処理
MRD
AND= #5 @DM50            ; 通信ｺｰﾄﾞ
SET R37103               ; FJ通信異常
CON
SET R37111               ; 結果読込NG
CON
RES @R204                ; 変換完了
CON
JMP @R215                ; 終了処理
MPP
LD= #6 @DM50             ; 通信ｺｰﾄﾞ
OR= #7 @DM50             ; 通信ｺｰﾄﾞ
OR= #8 @DM50             ; 通信ｺｰﾄﾞ
OR= #9 @DM50             ; 通信ｺｰﾄﾞ
OR= #10 @DM50            ; 通信ｺｰﾄﾞ
ANL
SET R37103               ; FJ通信異常
CON
SET R37112               ; データ保存NG
CON
RES @R204                ; 変換完了
CON
JMP @R215                ; 終了処理
MRD
AND= @DM51 #22
SET MR10105              ; weit
CON
SET R37114               ; 計測結果OK
CON
RES @R204                ; 変換完了
CON
JMP @R208                ; 結果格納
MRD
LD= @DM51 #23
ANB MR9914
ANL
SET MR9914
CON
JMP @R206                ; ｴﾗｰ詳細読み出し
MPP
LD= @DM51 #42
OR= @DM51 #44
OR= @DM51 #46
OR= @DM51 #48
OR= @DM51 #50
OR= @DM51 #52
OR= @DM51 #54
OR= @DM51 #99
ANL
SET MR10105              ; weit
CON
RES R37114               ; 計測結果OK
CON
RES @R204                ; 変換完了
CON
JMP @R208                ; 結果格納
;ｴﾗｰ詳細読み出し
STG @R206                ; ｴﾗｰ詳細読み出し
MPS
SET MR24000
CON
SMOV "UD 2 6" @DM10      ; 送信内容
MPP
JMP @R200                ; 汎用通信
;結果格納
STG @R208                ; 結果格納
MPS
AND CR2003               ; 常時OFF
MPS
AND= #0 @DM9             ; 結果書込み先
SMOV @DM300 EM6370
LDA @DM51
CON
STA EM6360
CON
LDA.L @DM54
CON
STA.L EM6364
CON
JMP @R209                ; 格納完了
MPP
AND= #1 @DM9             ; 結果書込み先
SMOV @DM300 EM6380
LDA @DM51
CON
STA EM6362
CON
LDA.L @DM54
CON
STA.L EM6366
CON
JMP @R209                ; 格納完了
MPP
AND CR2002               ; 常時ON
JMP @R209                ; 格納完了
STG @R209                ; 格納完了
JMP @R215                ; 終了処理
STG @R215                ; 終了処理
RES MR9914
CON
SET R37101               ; 通信完了
CON
RES R37102               ; FJ通信中
CON
RES MR24000
CON
ENDS
;<h1/>通信START
;'通信の為に以下の設定を行う
;@DM0 = 192	' IPアドレス1バイト目
;@DM1 = 168	' IPアドレス2バイト目
;@DM2 = 0	' IPアドレス3バイト目
;@DM3 = 53	' IPアドレス4バイト目
;@DM4 = $32	' サービスコード
;@DM5 = $64	' クラスID
;@DM6 = $01	' インスタンスID
;@DM7 = $01	' アトリビュートID
LD CR2002                ; 常時ON
NCJ #1009
;'通信の為に以下の設定を行う
;
;@DM0 = 192	' IPアドレス1バイト目
;
LD CR2002                ; 常時ON
MOV #192 @DM0            ; 通信設定先頭
;@DM1 = 168	' IPアドレス2バイト目
;
LD CR2002                ; 常時ON
MOV #168 @DM1
;@DM2 = 0	' IPアドレス3バイト目
;
LD CR2002                ; 常時ON
MOV #0 @DM2
;@DM3 = 53	' IPアドレス4バイト目
;
LD CR2002                ; 常時ON
MOV #53 @DM3
;@DM4 = $32	' サービスコード
;
LD CR2002                ; 常時ON
MOV $0032 @DM4
;@DM5 = $64	' クラスID
;
LD CR2002                ; 常時ON
MOV $0064 @DM5
;@DM6 = $01	' インスタンスID
;
LD CR2002                ; 常時ON
MOV $0001 @DM6
;@DM7 = $01	' アトリビュートID
LD CR2002                ; 常時ON
MOV $0001 @DM7
LABEL #1009
;
STG @R500                ; 通信ｽﾀｰﾄ
ANB @R502                ; 通信中
SET @R502                ; 通信中
CON
JMP @R504
STG @R504
U_MSGTO #0 @DM0          ; 通信設定先頭
RCPSASC @DM10 @DM100 @DM100;送信内容  送信ﾃﾞｰﾀ先頭  送信ﾃﾞｰﾀ先頭
U_MSGSND #0 @DM100       ; 送信ﾃﾞｰﾀ先頭
SET R30700               ; ﾒｯｾｰｼﾞ通信実行要求
CON
JMP @R505
STG @R505
MPS
AND R31700               ; ﾒｯｾｰｼﾞ通信完了
MPS
ANB R31701               ; ﾒｯｾｰｼﾞ通信失敗
@U_MSGRCV #0 @DM200      ; 受信ﾃﾞｰﾀ先頭
RES R30700               ; ﾒｯｾｰｼﾞ通信実行要求
CON
JMP @R515
MPP
AND R31701               ; ﾒｯｾｰｼﾞ通信失敗
SET @R503                ; 通信異常
CON
RES R30700               ; ﾒｯｾｰｼﾞ通信実行要求
CON
JMP @R515
MPP
ANB R31700               ; ﾒｯｾｰｼﾞ通信完了
TMR @0 #100              ; 通信ﾀｲﾑｱｯﾌﾟ
CON
AND @T0                  ; 通信ﾀｲﾑｱｯﾌﾟ
SET @R503                ; 通信異常
CON
RES R30700               ; ﾒｯｾｰｼﾞ通信実行要求
CON
JMP @R515
STG @R515
TMS @1 #10               ; 初回ｺﾏﾝﾄﾞｴﾗｰ対策
CON
TMH #602 #50
CON
TMH #603 #30
CON
LD @T1                   ; 初回ｺﾏﾝﾄﾞｴﾗｰ対策
AND<> #4 @DM50           ; 通信ｺｰﾄﾞ
LD T602
AND @R510                ; 初回
ORL
OR T603
ANL
SET @R510                ; 初回
CON
RES @R502                ; 通信中
CON
SET @R501                ; 通信完了
CON
ENDS
;<h1/>画像検査動作種別NO 
LD CR2002                ; 常時ON
MPS
DW #3 EM2100             ; 画像検査動作種別No1
CON
DW #1 EM2101             ; 画像検査動作種別No2
CON
DW #1 EM2102             ; 画像検査動作種別No3
CON
DW #1 EM2103             ; 画像検査動作種別No4
CON
DW #1 EM2104             ; 画像検査動作種別No5
CON
DW #1 EM2105             ; 画像検査動作種別No6
CON
DW #1 EM2106             ; 画像検査動作種別No7
CON
DW #3 EM2107             ; 画像検査動作種別No8
CON
DW #1 EM2108             ; 画像検査動作種別No9
MRD
DW #1 EM2109             ; 画像検査動作種別No10
CON
DW #1 EM2110             ; 画像検査動作種別No11
CON
DW #1 EM2111             ; 画像検査動作種別No12
CON
DW #1 EM2112             ; 画像検査動作種別No13
CON
DW #1 EM2113             ; 画像検査動作種別No14
CON
DW #0 EM2114             ; 画像検査動作種別No15
CON
DW #0 EM2115             ; 画像検査動作種別No16
CON
DW #0 EM2116             ; 画像検査動作種別No17
CON
DW #0 EM2117             ; 画像検査動作種別No18
MRD
DW #0 EM2118             ; 画像検査動作種別No19
CON
DW #0 EM2119             ; 画像検査動作種別No20
CON
DW #0 EM2120             ; 画像検査動作種別No21
CON
DW #0 EM2121             ; 画像検査動作種別No22
CON
DW #0 EM2122             ; 画像検査動作種別No23
CON
DW #0 EM2123             ; 画像検査動作種別No24
CON
DW #0 EM2124             ; 画像検査動作種別No25
CON
DW #0 EM2125             ; 画像検査動作種別No26
CON
DW #0 EM2126             ; 画像検査動作種別No27
MRD
DW #0 EM2127             ; 画像検査動作種別No28
CON
DW #0 EM2128             ; 画像検査動作種別No29
CON
DW #0 EM2129             ; 画像検査動作種別No30
CON
DW #0 EM2130             ; 画像検査動作種別No31
CON
DW #0 EM2131             ; 画像検査動作種別No32
CON
DW #0 EM2132             ; 画像検査動作種別No33
CON
DW #0 EM2133             ; 画像検査動作種別No34
CON
DW #0 EM2134             ; 画像検査動作種別No35
CON
DW #0 EM2135             ; 画像検査動作種別No36
MRD
DW #0 EM2136             ; 画像検査動作種別No37
CON
DW #0 EM2137             ; 画像検査動作種別No38
CON
DW #0 EM2138             ; 画像検査動作種別No39
CON
DW #0 EM2139             ; 画像検査動作種別No40
CON
DW #0 EM2140             ; 画像検査動作種別No41
CON
DW #0 EM2141             ; 画像検査動作種別No42
CON
DW #0 EM2142             ; 画像検査動作種別No43
CON
DW #0 EM2143             ; 画像検査動作種別No44
CON
DW #0 EM2144             ; 画像検査動作種別No45
MPP
DW #0 EM2145             ; 画像検査動作種別No46
CON
DW #0 EM2146             ; 画像検査動作種別No47
CON
DW #0 EM2147             ; 画像検査動作種別No48
CON
DW #0 EM2148             ; 画像検査動作種別No49
CON
DW #0 EM2149             ; 画像検査動作種別No50
;<h1/>画像検査作業内容
LD CR2002                ; 常時ON
MPS
DW #50 EM2150            ; 画像検査作業内容No1
CON
DW #0 EM2151             ; 画像検査作業内容No2
CON
DW #1 EM2152             ; 画像検査作業内容No3
CON
DW #2 EM2153             ; 画像検査作業内容No4
CON
DW #3 EM2154             ; 画像検査作業内容No5
CON
DW #4 EM2155             ; 画像検査作業内容No6
CON
DW #5 EM2156             ; 画像検査作業内容No7
CON
DW #51 EM2157            ; 画像検査作業内容No8
CON
DW #0 EM2158             ; 画像検査作業内容No9
MRD
DW #1 EM2159             ; 画像検査作業内容No10
CON
DW #2 EM2160             ; 画像検査作業内容No11
CON
DW #3 EM2161             ; 画像検査作業内容No12
CON
DW #4 EM2162             ; 画像検査作業内容No13
CON
DW #5 EM2163             ; 画像検査作業内容No14
CON
DW #0 EM2164             ; 画像検査作業内容No15
CON
DW #0 EM2165             ; 画像検査作業内容No16
CON
DW #0 EM2166             ; 画像検査作業内容No17
CON
DW #0 EM2167             ; 画像検査作業内容No18
MRD
DW #0 EM2168             ; 画像検査作業内容No19
CON
DW #0 EM2169             ; 画像検査作業内容No20
CON
DW #0 EM2170             ; 画像検査作業内容No21
CON
DW #0 EM2171             ; 画像検査作業内容No22
CON
DW #0 EM2172             ; 画像検査作業内容No23
CON
DW #0 EM2173             ; 画像検査作業内容No24
CON
DW #0 EM2174             ; 画像検査作業内容No25
CON
DW #0 EM2175             ; 画像検査作業内容No26
CON
DW #0 EM2176             ; 画像検査作業内容No27
MRD
DW #0 EM2177             ; 画像検査作業内容No28
CON
DW #0 EM2178             ; 画像検査作業内容No29
CON
DW #0 EM2179             ; 画像検査作業内容No30
CON
DW #0 EM2180             ; 画像検査作業内容No31
CON
DW #0 EM2181             ; 画像検査作業内容No32
CON
DW #0 EM2182             ; 画像検査作業内容No33
CON
DW #0 EM2183             ; 画像検査作業内容No34
CON
DW #0 EM2184             ; 画像検査作業内容No35
CON
DW #0 EM2185             ; 画像検査作業内容No36
MRD
DW #0 EM2186             ; 画像検査作業内容No37
CON
DW #0 EM2187             ; 画像検査作業内容No38
CON
DW #0 EM2188             ; 画像検査作業内容No39
CON
DW #0 EM2189             ; 画像検査作業内容No40
CON
DW #0 EM2190             ; 画像検査作業内容No41
CON
DW #0 EM2191             ; 画像検査作業内容No42
CON
DW #0 EM2192             ; 画像検査作業内容No43
CON
DW #0 EM2193             ; 画像検査作業内容No44
CON
DW #0 EM2194             ; 画像検査作業内容No45
MPP
DW #0 EM2195             ; 画像検査作業内容No46
CON
DW #0 EM2196             ; 画像検査作業内容No47
CON
DW #0 EM2197             ; 画像検査作業内容No48
CON
DW #0 EM2198             ; 画像検査作業内容No49
CON
DW #0 EM2199             ; 画像検査作業内容No50
END
ENDH
