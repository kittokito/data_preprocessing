DEVICE:53
;MODULE:UNIT8_Remove_T2
;MODULE_TYPE:0
;
;UNIT8 Remove-Trasfer 2
;
;動作FLG
LD M8840                 ; 除材1Z軸原点復帰完了
OR M8990                 ; 除材2Z軸　原点復帰完了
ANB M103                 ; 原点復帰OK
OUT M8990                ; 除材2Z軸　原点復帰完了
;■ロボット等機器入力受け
;ロボット、検査装置など状態、現在位置などをまとめる信号は一旦ここで受ける。
LD X1238                 ; BUSY ID8
OR X1248                 ; BUSY ID9
OR X1258                 ; BUSY ID10
LDB M131                 ; 安全扉正常
ORB M136                 ; 背面扉正常
ANL
OUT Y2038                ; ID8 HOLD
OUT Y2048                ; ID9 HOLD
OUT Y2058                ; ID10 HOLD
;<h1/>装置状態・動作条件
LD= D117 K1              ; RCA8_Position No.
OR= D117 K2              ; RCA8_Position No.
OR= D117 K5              ; RCA8_Position No.
AND= D118 K1             ; RCA9_Position No.
LD=.L D138 +0            ; RCA10_Position Data
OR=.L D138 E3350         ; RCA10_Position Data  R2ｸﾗﾝﾌﾟ開TP_Pos_Data
ANL
OUT M8900                ; ﾕﾆｯﾄ8原点
LDB B0F0                 ; ﾈｼﾞ締めJig2ID異常
ANB B0F1                 ; 除材2Y軸異常
ANB B0F2                 ; 除材2Z軸異常
ANB B0F3                 ; 除材2ﾁｬｯｸ軸異常
ANB B0F4                 ; 除材2ﾜｰｸ行方不明
ANB B0F5                 ; 除材2ｹｰｽﾁｬｯｸﾐｽ
ANB B0F6                 ; ﾈｼﾞ締台2 ﾜｰｸ有異常
ANB B0F7                 ; ﾈｼﾞ締め治具2ﾜｰｸ行方不明
INV
OUT M8901                ; ﾕﾆｯﾄ8全異常
LD M8900                 ; ﾕﾆｯﾄ8原点
ANB M8000                ; ﾕﾆｯﾄ8ｽﾃｯﾌﾟ開始
ANB X1238                ; BUSY ID8
AND X1239                ; SVRE ID8
AND X123A                ; SETON ID8
ANB X123E                ; ESTOP ID8
ANB X123F                ; ALARM ID8
ANB X1248                ; BUSY ID9
AND X1249                ; SVRE ID9
AND X124A                ; SETON ID9
ANB X124E                ; ESTOP ID9
ANB X124F                ; ALARM ID9
ANB X1258                ; BUSY ID10
AND X1259                ; SVRE ID10
AND X125A                ; SETON ID10
ANB X125E                ; ESTOP ID10
ANB X125F                ; ALARM ID10
OUT M8902                ; ﾕﾆｯﾄ8起動条件
LDB M64                  ; 運転準備
OR M65                   ; 即停止異常(緊急停止)
OR M8901                 ; ﾕﾆｯﾄ8全異常
OR T15                   ; 強制停止
OUT M8903                ; ﾕﾆｯﾄ8起動OFF
LD M98                   ; 原点復帰開始
ANB M8904                ; ﾕﾆｯﾄ8原点復帰中
OR M8904                 ; ﾕﾆｯﾄ8原点復帰中
ANB M8903                ; ﾕﾆｯﾄ8起動OFF
ANB M8589                ; ﾕﾆｯﾄ8原点復帰完了確認
OUT M8904                ; ﾕﾆｯﾄ8原点復帰中
LD M83                   ; 各工程起動指令
LD M33                   ; 手動ﾓｰﾄﾞ
AND M34                  ; ﾒｲﾝ手動操作可能条件
AND CR2003               ; 常時OFF
ORL
AND M8902                ; ﾕﾆｯﾄ8起動条件
OR M8905                 ; ﾕﾆｯﾄ8起動中
ANB M8903                ; ﾕﾆｯﾄ8起動OFF
ANB M8399                ; ﾕﾆｯﾄ8動作完了
OUT M8905                ; ﾕﾆｯﾄ8起動中
LD CR2003                ; 常時OFF
OUT M8908                ; ﾕﾆｯﾄ8警報補助
;Pack処理
LDB M8802                ; 除材2Y 移動中
ANB M8806                ; 除材2Y 原点復帰中
ANB M8812                ; 除材2Z 移動中
ANB M8816                ; 除材2Z 原点復帰中
ANB M8822                ; 除材2ﾁｬｯｸ 移動中
ANB M8826                ; 除材2ﾁｬｯｸ 原点復帰中
INV
OUT M8910                ; UNIT8 Pack
;□エラー発生　一時停止フラグ
;　全体とネジ締め排出エリアの一時停止フラグを分けてある
LD CR2002                ; 常時ON
MPS
PMOV.D M8920 K0 D8100 K0 K10;Err460:除材2ﾜｰｸ残  UT8ｴﾗｰ判別
MPP
AND<> D8100 K0           ; UT8ｴﾗｰ判別
OUT M8912                ; UNIT8 ｴﾗｰ
LD CR2002                ; 常時ON
MPS
PMOV.D M8930 K0 D8102 K0 K10;Err470:除材2ﾈｼﾞ締め異常  UT8_排出停止 ｴﾗｰ判別
MPP
AND<> D8102 K0           ; UT8_排出停止 ｴﾗｰ判別
OUT M8911                ; UNIT8 排出ｴﾗｰ
LDB M8901                ; ﾕﾆｯﾄ8全異常
ANB M160                 ; ALL PAUSE
ANB M180                 ; UNIT6.7.8PAUSE
ANB M8908                ; ﾕﾆｯﾄ8警報補助
ANB M7911                ; UNIT7 排出ｴﾗｰ
ANB M8912                ; UNIT8 ｴﾗｰ
LDB M32                  ; 自動ﾓｰﾄﾞ
ANB M33                  ; 手動ﾓｰﾄﾞ
LD M32                   ; 自動ﾓｰﾄﾞ
AND M8905                ; ﾕﾆｯﾄ8起動中
ORL
LD M33                   ; 手動ﾓｰﾄﾞ
AND M8904                ; ﾕﾆｯﾄ8原点復帰中
ORL
ANL
OUT M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
;RB interlock
LD R3708                 ; 除材2Z    上空位置
ANB X1238                ; BUSY ID8
AND X1239                ; SVRE ID8
LD X123A                 ; SETON ID8
OR M8904                 ; ﾕﾆｯﾄ8原点復帰中
ANL
ANB X123E                ; ESTOP ID8
ANB X123F                ; ALARM ID8
ANB M8800                ; 除材2Y 移動完了
ANB M8802                ; 除材2Y 移動中
ANB M8804                ; 除材2Y 原点復帰完了
OUT M8960                ; 除材2Y軸 動作可能
LDB R3700                ; 除材2Y    取出干渉外
AND R3110                ; Case搬送Y2受渡領域
ORB R3701                ; 除材2Y    除材干渉外
ORB R3708                ; 除材2Z    上空位置
OR M33                   ; 手動ﾓｰﾄﾞ
OR M8904                 ; ﾕﾆｯﾄ8原点復帰中
ANB M6915                ; ﾈｼﾞ締めRB Y2側動作中
ANB X1248                ; BUSY ID9
AND X1249                ; SVRE ID9
LD X124A                 ; SETON ID9
OR M8904                 ; ﾕﾆｯﾄ8原点復帰中
ANL
ANB X124E                ; ESTOP ID9
ANB X124F                ; ALARM ID9
ANB M8810                ; 除材2Z 移動完了
ANB M8812                ; 除材2Z 移動中
ANB M8814                ; 除材2Z 原点復帰完了
OUT M8961                ; 除材2Z軸 動作可能
LDB M6915                ; ﾈｼﾞ締めRB Y2側動作中
ANB X1248                ; BUSY ID9
AND X1249                ; SVRE ID9
AND X124A                ; SETON ID9
ANB X124E                ; ESTOP ID9
ANB X124F                ; ALARM ID9
ANB M8810                ; 除材2Z 移動完了
ANB M8812                ; 除材2Z 移動中
ANB M8814                ; 除材2Z 原点復帰完了
OUT M8970                ; 除材2Z軸 上昇動作可能
LDB X1258                ; BUSY ID10
AND X1259                ; SVRE ID10
ANB X125E                ; ESTOP ID10
ANB X125F                ; ALARM ID10
ANB M8820                ; 除材2ﾁｬｯｸ 移動完了
ANB M8822                ; 除材2ﾁｬｯｸ 移動中
ANB M8824                ; 除材2ﾁｬｯｸ 原点復帰完了
OUT M8963                ; 除材2ﾁｬｯｸ 原点復帰可能
LD M8963                 ; 除材2ﾁｬｯｸ 原点復帰可能
AND X125A                ; SETON ID10
OUT M8962                ; 除材2ﾁｬｯｸ 動作可能
LDF M8905                ; ﾕﾆｯﾄ8起動中
ZRES M8800 M8829         ; 除材2Y 移動完了  HOLD停止後ｻｰﾎﾞOFF
;<h1/>■自動回路 
;
;運転開始・ステッパ初期化・補助接点へ展開
LD CR2002                ; 常時ON
ZRES M8000 M8399         ; ﾕﾆｯﾄ8ｽﾃｯﾌﾟ開始  ﾕﾆｯﾄ8動作完了
LDB M8905                ; ﾕﾆｯﾄ8起動中
MOV K0 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8905                 ; ﾕﾆｯﾄ8起動中
MOV D8000 Z1             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
SET M8000:Z1             ; ﾕﾆｯﾄ8ｽﾃｯﾌﾟ開始
;自動運転ステップ開始
LD M8000                 ; ﾕﾆｯﾄ8ｽﾃｯﾌﾟ開始
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
ANB M39                  ; 日常点検ﾓｰﾄﾞ
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
LD M39                   ; 日常点検ﾓｰﾄﾞ
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ANL
DW K380 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;運転開始時JIG番号ﾁｪｯｸ
;Jig No. check when AUTO start.
LD M8001                 ; 2Z_P1　move
MPS
AND= D94 E3424           ; Screw2 Jig ID  Screw Jig2 ID 
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
AND<> D94 E3424          ; Screw2 Jig ID  Screw Jig2 ID 
OUT M8950                ; ﾈｼﾞ締め2 Jig No.異常
;除材要求確認
;Remove demand check
LD M8002                 ; 除材要求確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
LD M3985                 ; Y2排出要求
OR M8701                 ; Y2嵌合完了先行動作可
ANL
DW K10 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
ANB M3985                ; Y2排出要求
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;Y軸　待機位置移動
;Move to remove waiting posotion
LD M8003                 ; 待機位置移動
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8960                ; 除材2Y軸 動作可能
MPS
AND<> D117 K2            ; RCA8_Position No.
DW K2 D8050              ; 除材2Y軸 移動No.
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
AND= D117 K2             ; RCA8_Position No.
DW K5 D8000              ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8004                 ; 2Y_P2 move
MPS
OUT @M0                  ; 除材2Y軸移動
MPP
AND M8800                ; 除材2Y 移動完了
RES M8800                ; 除材2Y 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;Y2嵌合完了先行動作ﾌﾗｸﾞ
LDP M5983                ; Y2へ嵌合完了
OR M8701                 ; Y2嵌合完了先行動作可
ANB M3985                ; Y2排出要求
ANB M8010                ; 取出し位置移動
ANB M8011                ; 2Y_P3 move
OUT M8701                ; Y2嵌合完了先行動作可
;除材要求 or 先行動作待ち
;Waiting for remove demand
LD M8005                 ; 除材要求待ち
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
LD M3985                 ; Y2排出要求
OR M8701                 ; Y2嵌合完了先行動作可
ANL
DW K10 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
LDB M3985                ; Y2排出要求
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M3398                ; UT3ｻｲｸﾙ停止
ANL
DW K380 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;Y軸　取り出し位置移動
;Move to pick up posotion
LD M8010                 ; 取出し位置移動
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
ANB M8701                ; Y2嵌合完了先行動作可
MPS
AND= D117 K3             ; RCA8_Position No.
DW K12 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
LD<> D117 K3             ; RCA8_Position No.
AND M8960                ; 除材2Y軸 動作可能
LD R3302                 ; 嵌合X     Case2干渉外
OR CR2002                ; 常時ON
ANL
ANL
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8011                 ; 2Y_P3 move
MPS
DW K3 D8050              ; 除材2Y軸 移動No.
CON
OUT @M1                  ; 除材2Y軸移動
MPP
AND M8800                ; 除材2Y 移動完了
RES M8800                ; 除材2Y 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;除材要求　Z軸　取り出し位置下降
;Down to pick up height
LD M8012                 ; 取出し高さ下降
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
LD M3985                 ; Y2排出要求
AND M8961                ; 除材2Z軸 動作可能
AND>=.L D122 +9000       ; RCA2_Position Data
ANL
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
LDB M3985                ; Y2排出要求
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M3398                ; UT3ｻｲｸﾙ停止
ANL
DW K380 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8013                 ; 2Z_P3　move
MPS
DW K3 D8051              ; 除材2Z軸 移動No.
CON
OUT @M20                 ; 除材2Z軸移動
MPP
AND M8810                ; 除材2Z 移動完了
RES M8810                ; 除材2Z 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;ﾁｬｯｸ閉
;Chuck close 
LD M8014                 ; 除材ﾁｬｯｸ閉じ
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8015                 ; Chuck_P2  move
MPS
OUT @M60                 ; 除材2ﾁｬｯｸ  Close
MPP
AND M8820                ; 除材2ﾁｬｯｸ 移動完了
RES M8820                ; 除材2ﾁｬｯｸ 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;ﾁｬｯｸ確認
LD M8016                 ; ﾜｰｸﾁｪｯｸ
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
AND L22                  ; 除材2ﾁｬｯｸ ﾜｰｸ有
DW K40 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
ANB L22                  ; 除材2ﾁｬｯｸ ﾜｰｸ有
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;除材チャック異常 処理選択
;Err461:Chuck error of Remove head 2
LD M8017                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K461 D148             ; 警報No.
CON
SET M8921                ; Err461:除材ﾍｯﾄﾞ2ﾁｬｯｸ異常
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8018                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
RES B1013                ; Remove_FLG
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8019                 ; ｴﾗｰ解除確認
ANB M71                  ; All Error PAUSE
MPS
ANB B1013                ; Remove_FLG
DW K21 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
AND B1013                ; Remove_FLG
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8020                 ; Removeﾌﾗｸﾞ解除
RES B1013                ; Remove_FLG
CON
DW K300 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;ﾘﾄﾗｲのためﾁｬｯｸ開
;Chuck open for retry
LD M8021                 ; ﾘﾄﾗｲ用ﾁｬｯｸ開
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8022                 ; Chuck_P1  move
MPS
OUT @M40                 ; 除材2ﾁｬｯｸ  Open
MPP
AND M8820                ; 除材2ﾁｬｯｸ 移動完了
RES M8820                ; 除材2ﾁｬｯｸ 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8023                 ; 動作終了確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
ANB M8820                ; 除材2ﾁｬｯｸ 移動完了
TMR K811 K10             ; Chuck2 retry wait
CON
AND T811                 ; Chuck2 retry wait
DW K14 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;★★★　ﾁｬｯｸNG除材動作　★★★
;Chuck Error Operation
;ﾁｬｯｸ開
;Chuck Open 
LD M8030                 ; 待機高さ上昇
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
RES L22                  ; 除材2ﾁｬｯｸ ﾜｰｸ有
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8031                 ; Chuck2_P1  move
MPS
OUT @M41                 ; 除材2ﾁｬｯｸ  Open
MPP
AND M8820                ; 除材2ﾁｬｯｸ 移動完了
RES M8820                ; 除材2ﾁｬｯｸ 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;嵌合ﾍｯﾄﾞ上空位置へ上昇
;Assy head up
LD M8032                 ; 除材2Z 上空位置
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8961                ; 除材2Z軸 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8033                 ; 2Z_P1　move
MPS
DW K1 D8051              ; 除材2Z軸 移動No.
CON
OUT @M21                 ; 除材2Z軸移動
MPP
AND M8810                ; 除材2Z 移動完了
RES M8810                ; 除材2Z 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;Frame搬送とﾊﾝﾄﾞｼｪｲｸ
;Handshake with Frame-Trasfer Y2
LD M8034                 ; Frame取出異常
MPS
OUT M8982                ; Y2排出異常
MPP
LD M8913                 ; UNIT8     ｴﾗｰ・PAUSE無し
ANB M3985                ; Y2排出要求
ANL
DW K380 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;★★★　ﾁｬｯｸOK継続動作　★★★
;Z軸　上昇
;Up to weiting point
LD M8040                 ; 待機高さ上昇
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
LD M8961                 ; 除材2Z軸 動作可能
OR M8970                 ; 除材2Z軸 上昇動作可能
ANL
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8041                 ; 2Z_P1 move
MPS
DW K1 D8051              ; 除材2Z軸 移動No.
CON
OUT @M22                 ; 除材2Z軸移動
MPP
AND M8810                ; 除材2Z 移動完了
RES M8810                ; 除材2Z 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;ﾜｰｸﾁｪｯｸ
;Work check
;上昇後､投入ｽﾗｲﾀﾞ上にﾜｰｸがあった場合は異常処理
LD M8042                 ; Y2搬送上Case残確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
MPS
ANB T1510                ; 投入3_受渡位置ﾜｰｸ検出
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
AND T1510                ; 投入3_受渡位置ﾜｰｸ検出
OUT M8951                ; 除材2除材時ﾜｰｸ落下異常
;取出完了
;Pick up comlete
LD M8043                 ; 取出完了
MPS
OUT M8981                ; Y2排出完了
MPP
LD M8913                 ; UNIT8     ｴﾗｰ・PAUSE無し
ANB M3985                ; Y2排出要求
ANL
DW K50 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締め部　状況確認
;Screw stage status check
LD M8050                 ; ﾈｼﾞ締め部状況確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
LD= D94 E3424            ; Screw2 Jig ID  Screw Jig2 ID 
ANB T1708                ; ﾈｼﾞ締め治具2 ﾜｰｸ検出
ANL
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
AND T1708                ; ﾈｼﾞ締め治具2 ﾜｰｸ検出
OUT M8952                ; ﾈｼﾞ締台2ﾜｰｸ有異常
;Y軸　ﾈｼﾞ締め位置移動
;Move to Screw position
LD M8051                 ; ﾈｼﾞ締め部進入確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8960                ; 除材2Y軸 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8052                 ; 2Y_P2 move
MPS
DW K5 D8050              ; 除材2Y軸 移動No.
CON
OUT @M2                  ; 除材2Y軸移動
MPP
AND M8800                ; 除材2Y 移動完了
RES M8800                ; 除材2Y 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;JIG番号ﾁｪｯｸ
;Jig No. check in AUTO operation.
LD M8053                 ; Jig ID 確認
MPS
AND= D94 E3424           ; Screw2 Jig ID  Screw Jig2 ID 
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
AND<> D94 E3424          ; Screw2 Jig ID  Screw Jig2 ID 
OUT M8955                ; ﾈｼﾞ締め2 Jig No.異常
;Z軸　ﾈｼﾞ締め高さ下降
;Down to Screw point
LD M8054                 ; ﾈｼﾞ締め高さへ下降
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8961                ; 除材2Z軸 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8055                 ; 2Z_P5　move
MPS
DW K5 D8051              ; 除材2Z軸 移動No.
CON
OUT @M23                 ; 除材2Z軸移動
MPP
AND M8810                ; 除材2Z 移動完了
RES M8810                ; 除材2Z 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8056                 ; ﾈｼﾞ締め位置移動確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
AND T1708                ; ﾈｼﾞ締め治具2 ﾜｰｸ検出
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
ANB T1708                ; ﾈｼﾞ締め治具2 ﾜｰｸ検出
TMR K820 K30             ; ﾈｼﾞ締め治具ﾜｰｸ確認時間
CON
AND T820                 ; ﾈｼﾞ締め治具ﾜｰｸ確認時間
OUT M8953                ; ﾈｼﾞ締め位置ﾜｰｸ行方不明
;ﾈｼﾞ締め要求ON､判定
;Screw request
LD M8057                 ; 排出2ﾈｼﾞ締め要求ON
MPS
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
LD M6710                 ; 排出2側ﾈｼﾞ締めOK
OR M27                   ; ねじ締めRB無視
ANL
DW K80 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
AND M6711                ; 排出2側ﾈｼﾞ締めNG
DW K60 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
OUT M8850                ; 排出2ﾈｼﾞ締め要求
;■ﾈｼﾞ締めNG 排出動作
;Z軸　NG排出高さ上昇
;Up to NG remove position
LD M8060                 ; NG排出高さへ上昇
ANB M6711                ; 排出2側ﾈｼﾞ締めNG
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8961                ; 除材2Z軸 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8061                 ; 2Z_P6　move
MPS
DW K6 D8051              ; 除材2Z軸 移動No.
CON
OUT @M24                 ; 除材2Z軸移動
MPP
AND M8810                ; 除材2Z 移動完了
RES M8810                ; 除材2Z 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;Y軸　NG排出位置移動
;Move to NG remove position
LD M8062                 ; NG排出位置移動
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8960                ; 除材2Y軸 動作可能
ANB T1714                ; 除材2_ｺﾝﾍﾞｱ受取位置ﾜｰｸ検出
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8063                 ; 2Y_P6 move
MPS
DW K6 D8050              ; 除材2Y軸 移動No.
CON
OUT @M3                  ; 除材2Y軸移動
MPP
AND M8800                ; 除材2Y 移動完了
RES M8800                ; 除材2Y 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締めNG発生
;Err470:Screw result NG
LD M8064                 ; 排出2NG取出位置移動確認
ANB T1711                ; 除材2_排出CV排出位置ﾜｰｸ検出
ANB T1714                ; 除材2_ｺﾝﾍﾞｱ受取位置ﾜｰｸ検出
AND M8401                ; 除材2CV受取位置ﾜｰｸ無し受取可
ANB M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
DW K470 D148             ; 警報No.
CON
SET M8930                ; Err470:除材2ﾈｼﾞ締め異常
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8065                 ; 排出2ﾈｼﾞ締めｴﾗｰ
AND M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8066                 ; 排出2ｴﾗｰ停止中
ANB M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
MPS
AND= D119 K2             ; RCA10_Position No.
DW K64 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
AND<> D119 K2            ; RCA10_Position No.
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;Z軸　待機高さ下降
;Down to Wait position
LD M8067                 ; 待機高さへ下降
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8961                ; 除材2Z軸 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8068                 ; 2Z_P1　move
MPS
DW K1 D8051              ; 除材2Z軸 移動No.
CON
OUT @M25                 ; 除材2Z軸移動
MPP
AND M8810                ; 除材2Z 移動完了
RES M8810                ; 除材2Z 移動完了
CON
DW K380 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;■ﾈｼﾞ締めOK 排出動作
;Z軸　排出高さ上昇
;Up to OK Exit position
LD M8080                 ; 待機高さへ上昇
ANB M6710                ; 排出2側ﾈｼﾞ締めOK
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8961                ; 除材2Z軸 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8081                 ; 2Z_P1　move
MPS
DW K7 D8051              ; 除材2Z軸 移動No.
CON
OUT @M26                 ; 除材2Z軸移動
MPP
AND M8810                ; 除材2Z 移動完了
MPS
ANB T1708                ; ﾈｼﾞ締め治具2 ﾜｰｸ検出
RES M8810                ; 除材2Z 移動完了
CON
DW K84 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
AND T1708                ; ﾈｼﾞ締め治具2 ﾜｰｸ検出
TMR K821 K30             ; ﾈｼﾞ締め治具ﾜｰｸ確認時間
CON
AND T820                 ; ﾈｼﾞ締め治具ﾜｰｸ確認時間
OUT M8954                ; ﾈｼﾞ締め位置ﾜｰｸ残
;排出ｺﾝﾍﾞｱ排出可能確認
;Discharge Conveyor Can Discharge
LD M8084                 ; 除材CVﾜｰｸ確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
ANB T1714                ; 除材2_ｺﾝﾍﾞｱ受取位置ﾜｰｸ検出
AND M8401                ; 除材2CV受取位置ﾜｰｸ無し受取可
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;Y軸　排出位置移動
;Move to remove position
LD M8085                 ; 除材高さへ下降
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
ANB T1714                ; 除材2_ｺﾝﾍﾞｱ受取位置ﾜｰｸ検出
AND M8401                ; 除材2CV受取位置ﾜｰｸ無し受取可
AND M8960                ; 除材2Y軸 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8086                 ; 1Z_P7　move
MPS
DW K7 D8050              ; 除材2Y軸 移動No.
CON
OUT @M4                  ; 除材2Y軸移動
MPP
AND M8800                ; 除材2Y 移動完了
RES M8800                ; 除材2Y 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;ﾁｬｯｸ開　中間位置
;Chuck Open pass point
LD M8087                 ; ﾁｬｯｸ開　中継点
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
DW K89 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8088                 ; Chuck_P3  move
MPS
OUT @M50                 ; 除材2ﾁｬｯｸ  中継点Open
MPP
AND M8820                ; 除材2ﾁｬｯｸ 移動完了
RES M8820                ; 除材2ﾁｬｯｸ 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;ﾁｬｯｸ開、Z軸上昇
;Chuck Open and Up to weiting point
LD M8089                 ; ﾁｬｯｸ開
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8961                ; 除材2Z軸 動作可能
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8090                 ; Chuck_P1  move
MPS
RES L22                  ; 除材2ﾁｬｯｸ ﾜｰｸ有
CON
OUT @M42                 ; 除材2ﾁｬｯｸ  Open
MRD
AND>.L D138 E3360        ; RCA10_Position Data  R2ｸﾗﾝﾌﾟ閉TP_Pos_Data
DW K1 D8051              ; 除材2Z軸 移動No.
CON
OUT @M27                 ; 除材2Z軸移動
MPP
LD M8810                 ; 除材2Z 移動完了
AND M8820                ; 除材2ﾁｬｯｸ 移動完了
ANL
RES M8820                ; 除材2ﾁｬｯｸ 移動完了
CON
RES M8810                ; 除材2Z 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;在荷確認
;Work check
LD M8091                 ; 在荷確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
AND T1714                ; 除材2_ｺﾝﾍﾞｱ受取位置ﾜｰｸ検出
DW K200 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
ANB T1714                ; 除材2_ｺﾝﾍﾞｱ受取位置ﾜｰｸ検出
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;★★★　排出時ﾜｰｸ未検出　★★★
;Err471:CV2 Work NO Detect
LD M8092                 ; 除材2排出時 ﾜｰｸ無
ANB M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
DW K471 D148             ; 警報No.
CON
SET M8931                ; Err471:除材2排出時ﾜｰｸ未検出
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8093                 ; 除材2排出時 ﾜｰｸ無 ｴﾗｰ
AND M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8094                 ; 除材2排出時 ﾜｰｸ無 ｴﾗｰ停止中
AND T131                 ; UT6 7 8   ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K200 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;排出完了
LD M8200                 ; 除材2Z上昇確認排出完了
MPS
ANB M8401                ; 除材2CV受取位置ﾜｰｸ無し受取可
DW K380 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
OUT M8779                ; 除材2受渡完了
;■■■
;サイクル停止条件
;Cycle end check
LD M8380                 ; 1ｻｲｸﾙ終了
MPS
LDB M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ORB M3398                ; UT3ｻｲｸﾙ停止
ANL
DW K0 D8000              ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
LD M70                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M3398                ; UT3ｻｲｸﾙ停止
ANL
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;終了時待機位置移動
;Move to waiting point in Operation finish.
;Y軸　排出位置移動
;Move to remove position
LD M8381                 ; 待機位置移動
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
AND= D117 K2             ; RCA8_Position No.
DW K383 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
LD<> D117 K2             ; RCA8_Position No.
AND M8960                ; 除材2Y軸 動作可能
ANL
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8382                 ; Y_P2 move
MPS
DW K2 D8050              ; 除材2Y軸 移動No.
CON
OUT @M5                  ; 除材2Y軸移動
MPP
AND M8800                ; 除材2Y 移動完了
RES M8800                ; 除材2Y 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;除材CV動作完了待ち
;Waiting for Removre-CV Operation end.
LD M8383                 ; 除材CV動作終了待ち
AND M8401                ; 除材2CV受取位置ﾜｰｸ無し受取可
@MOV K398 D8000          ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;終了
;Unit AUTO cycle end
LD M8398                 ; ﾕﾆｯﾄ8ｻｲｸﾙ停止
MPS
LD M70                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M72                  ; 全ﾕﾆｯﾄ停止確認
ANL
@MOV K399 D8000          ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
ANB M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
DW K0 D8000              ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;<h1/>///排出CV動作
;Remove CV
;運転開始・ステッパ初期化・補助接点へ展開
LDP M83                  ; 各工程起動指令
OR M8905                 ; ﾕﾆｯﾄ8起動中
ANB M8439                ; 排出2CVｻｲｸﾙ完了
ANB M7903                ; ﾕﾆｯﾄ7起動OFF
OUT M8450                ; 除材2CV起動
LD CR2002                ; 常時ON
ZRES M8400 M8439         ; 除材2CV動作開始  排出2CVｻｲｸﾙ完了
LDB M8450                ; 除材2CV起動
MOV K0 D8001             ; UT8SUB1
LD M8450                 ; 除材2CV起動
MOV D8001 Z1             ; UT8SUB1
SET M8400:Z1             ; 除材2CV動作開始
;自動運転ステップ開始
;受取位置ﾜｰｸ有無確認
;Receiving Position Work Check
LD M8400                 ; 除材2CV動作開始
MPS
ANB T1714                ; 除材2_ｺﾝﾍﾞｱ受取位置ﾜｰｸ検出
@INC D8001               ; UT8SUB1
MPP
AND T1714                ; 除材2_ｺﾝﾍﾞｱ受取位置ﾜｰｸ検出
DW K3 D8001              ; UT8SUB1
;受取確認
;Receipt Confirmation
LD M8401                 ; 除材2CV受取位置ﾜｰｸ無し受取可
MPS
AND M8779                ; 除材2受渡完了
@INC D8001               ; UT8SUB1
MPP
ANB M8905                ; ﾕﾆｯﾄ8起動中
DW K39 D8001             ; UT8SUB1
LD M8402                 ; 除材2CV受取完了
ANB M8779                ; 除材2受渡完了
@INC D8001               ; UT8SUB1
;ｺﾝﾍﾞｱ回転
;Conveyor Start
LD M8403                 ; 除材2CV受取完了OFF確認
ANB T1711                ; 除材2_排出CV排出位置ﾜｰｸ検出
MPS
TMH K850 K50             ; 除材2CV回転開始ﾃﾞｨﾚｲ
MPP
AND T850                 ; 除材2CV回転開始ﾃﾞｨﾚｲ
@INC D8001               ; UT8SUB1
;ﾜｰｸ通過判定
;Work Pass Judgment
LD M8404                 ; 除材2CV回転
MPS
AND T1714                ; 除材2_ｺﾝﾍﾞｱ受取位置ﾜｰｸ検出
MPS
TMR K851 K50             ; 除材2CV回転ﾃﾞｨﾚｲ
MPP
AND T851                 ; 除材2CV回転ﾃﾞｨﾚｲ
@INC D8001               ; UT8SUB1
MRD
ANB T1714                ; 除材2_ｺﾝﾍﾞｱ受取位置ﾜｰｸ検出
MPS
TMR K852 K60             ; 除材2CV通過後停止ﾀｲﾏ
MPP
LD T852                  ; 除材2CV通過後停止ﾀｲﾏ
OR T1711                 ; 除材2_排出CV排出位置ﾜｰｸ検出
ANL
DW K10 D8001             ; UT8SUB1
MPP
OUT M8670                ; 除材2_CV 回転
;★★★　排出時ﾜｰｸ引っ掛かり　★★★
;排出CV排出NG発生
;Err472: Discharge CV2 NG
LD M8405                 ; 除材2CVﾜｰｸ排出ﾀｲﾑｱｳﾄ
ANB M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
DW K472 D148             ; 警報No.
CON
SET M8932                ; Err472:除材2排出CV払出異常
CON
@INC D8001               ; UT8SUB1
LD M8406                 ; 除材2CVﾜｰｸ排出ﾀｲﾑｱｳﾄ異常
AND M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
@INC D8001               ; UT8SUB1
LD M8407                 ; 除材2CVﾜｰｸ排出ﾀｲﾑｱｳﾄｴﾗｰ停止中
ANB M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
DW K10 D8001             ; UT8SUB1
;終了
;END
LD M8410                 ; 除材CV2ﾜｰｸ排出完了
DW K39 D8001             ; UT8SUB1
LD M83                   ; 各工程起動指令
AND T1711                ; 除材2_排出CV排出位置ﾜｰｸ検出
TMR K2001 K300           ; 排出CV2取出催促
;<h1/>■原点復帰回路
;Origin
;運転開始・ステッパ初期化・補助接点へ展開
LD CR2002                ; 常時ON
ZRES M8500 M8589         ; ﾕﾆｯﾄ8原点復帰開始  ﾕﾆｯﾄ8原点復帰完了確認
LDB M8904                ; ﾕﾆｯﾄ8原点復帰中
MOV K0 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8904                 ; ﾕﾆｯﾄ8原点復帰中
MOV D8010 Z1             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
SET M8500:Z1             ; ﾕﾆｯﾄ8原点復帰開始
;原点復帰ステップ開始
;Origin start
;ﾈｼﾞ締めﾛﾎﾞｯﾄ原点確認
;Screw Robot Origin check
LD M8500                 ; ﾕﾆｯﾄ8原点復帰開始
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
LD M6510                 ; 原点復帰動作完了
AND M6900                ; ネジ締めRB原点
OR M27                   ; ねじ締めRB無視
ANL
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;除材2ﾜｰｸ残ﾁｪｯｸ
;Remove-2 work remain check
LD M8501                 ; ﾜｰｸ残ﾁｪｯｸ
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
LDB L22                  ; 除材2ﾁｬｯｸ ﾜｰｸ有
LDB X125B                ; INP ID10
OR<> D119 K2             ; RCA10_Position No.
ANL
ANL
DW K10 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
MPP
LD L22                   ; 除材2ﾁｬｯｸ ﾜｰｸ有
LD X125B                 ; INP ID10
AND= D119 K2             ; RCA10_Position No.
ORL
ANL
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;ｴﾗｰ460:ﾜｰｸ取出ｸﾗﾝﾌﾟ開
;Err460:Work remain
LD M8502                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K460 D148             ; 警報No.
CON
SET M8920                ; Err460:除材2ﾜｰｸ残
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8503                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8504                 ; ｴﾗｰ解除確認
ANB M71                  ; All Error PAUSE
MPS
AND<> D119 K2            ; RCA10_Position No.
DW K10 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
MPP
AND= D119 K2             ; RCA10_Position No.
DW K2 D8010              ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;PCB搬送　干渉確認
;PCB Transfer Interference check
LD M8510                 ; PCB搬送干渉確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
ANB M28                  ; 仮 NAT
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;除材2Z軸　原点復帰
;Remove-Transfer Z HOME
LD M8511                 ; 除材1Z原点復帰
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8961                ; 除材2Z軸 動作可能
SET M8816                ; 除材2Z 原点復帰中
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8512                 ; RCA9 HOME
MPS
ANB X1248                ; BUSY ID9
OUT Y204C                ; ID9 SETUP
MPP
AND X1248                ; BUSY ID9
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8513                 ; RCA9 HOME end
ANB X1248                ; BUSY ID9
AND X124A                ; SETON ID9
AND X124B                ; INP ID9
RES M8816                ; 除材2Z 原点復帰中
CON
DW K19 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;除材2Z軸原点復帰完了ﾌﾗｸﾞｾｯﾄ
;Remove-Transfer Z HOME 	complete FLG. set
LD M8519                 ; 除材1Z軸原点復帰完了
MPS
LD M8913                 ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8990                ; 除材2Z軸　原点復帰完了
ANL
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
MPP
OUT M8840                ; 除材1Z軸原点復帰完了
;除材2ﾁｬｯｸ　原点復帰
;Remove-Transfer chuck HOME
LD M8520                 ; 除材2ﾁｬｯｸ原点復帰
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8963                ; 除材2ﾁｬｯｸ 原点復帰可能
RES L22                  ; 除材2ﾁｬｯｸ ﾜｰｸ有
CON
SET M8826                ; 除材2ﾁｬｯｸ 原点復帰中
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8521                 ; Chuck HOME
MPS
ANB X1258                ; BUSY ID10
OUT M8650                ; RCA10 SETUP信号ON
MPP
AND X1258                ; BUSY ID10
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8522                 ; Chuck HOME end
ANB X1258                ; BUSY ID10
AND X125A                ; SETON ID10
AND X125B                ; INP ID10
RES M8826                ; 除材2ﾁｬｯｸ 原点復帰中
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;除材2ﾁｬｯｸ開
;Remove chuck open
LD M8523                 ; ﾁｬｯｸ開位置（ちょっと狭め）
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
RES L22                  ; 除材2ﾁｬｯｸ ﾜｰｸ有
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8524                 ; Chuck_P1 move
MPS
OUT @M43                 ; 除材2ﾁｬｯｸ  Open
MPP
AND M8820                ; 除材2ﾁｬｯｸ 移動完了
RES M8820                ; 除材2ﾁｬｯｸ 移動完了
CON
DW K30 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;除材2Y軸　原点復帰
;Remove-Transfer Y HOME
LD M8530                 ; 除材1Y軸原点復帰
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8960                ; 除材2Y軸 動作可能
ANB M5904                ; ﾕﾆｯﾄ5原点復帰中
SET M8806                ; 除材2Y 原点復帰中
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8531                 ; RCA8 HOME
MPS
ANB X1238                ; BUSY ID8
OUT Y203C                ; ID8 SETUP
MPP
AND X1238                ; BUSY ID8
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8532                 ; RCA8 HOME end
ANB X1238                ; BUSY ID8
AND X123A                ; SETON ID8
AND X123B                ; INP ID8
RES M8806                ; 除材2Y 原点復帰中
CON
DW K50 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;除材2Y軸待機位置移動
;Move to remove waiting posotion
LD M8550                 ; 待機位置移動
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8960                ; 除材2Y軸 動作可能
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8551                 ; Y_P2 move
MPS
DW K2 D8050              ; 除材2Y軸 移動No.
CON
OUT @M6                  ; 除材2Y軸移動
MPP
AND M8800                ; 除材2Y 移動完了
RES M8800                ; 除材2Y 移動完了
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;除材2Z軸上空位置移動
;Move to up point
LD M8552                 ; 待機位置移動
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8961                ; 除材2Z軸 動作可能
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8553                 ; Z_P1 move
MPS
DW K1 D8051              ; 除材2Z軸 移動No.
CON
OUT @M28                 ; 除材2Z軸移動
MPP
AND M8810                ; 除材2Z 移動完了
RES M8810                ; 除材2Z 移動完了
CON
DW K60 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;ﾜｰｸ残ﾁｪｯｸ
;Case remain check
LD M8560                 ; ﾜｰｸ残確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
LDB T1510                ; 投入3_受渡位置ﾜｰｸ検出
ANB T1708                ; ﾈｼﾞ締め治具2 ﾜｰｸ検出
ANB T1714                ; 除材2_ｺﾝﾍﾞｱ受取位置ﾜｰｸ検出
ANL
DW K80 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
MPP
LD T1510                 ; 投入3_受渡位置ﾜｰｸ検出
OR T1708                 ; ﾈｼﾞ締め治具2 ﾜｰｸ検出
OR T1714                 ; 除材2_ｺﾝﾍﾞｱ受取位置ﾜｰｸ検出
ANL
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;ｴﾗｰ440:ﾜｰｸ取出ｸﾗﾝﾌﾟ開
;Err440:Work remain
LD M8561                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K460 D148             ; 警報No.
CON
SET M8920                ; Err460:除材2ﾜｰｸ残
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8562                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8563                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K60 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;除材2原点復帰終了
;Origin end
LD M8580                 ; 原点復帰動作完了
AND M8900                ; ﾕﾆｯﾄ8原点
OUT M8588                ; ﾕﾆｯﾄ8原点復帰完了
LD M8588                 ; ﾕﾆｯﾄ8原点復帰完了
ANB M98                  ; 原点復帰開始
@MOV K89 D8010           ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;■強制ﾁｬｯｸ開回路
;Chuck forcibly canceled
LD M8904                 ; ﾕﾆｯﾄ8原点復帰中
LD T1712                 ; 除材2_ﾁｬｯｸ解除ｽｲｯﾁ
OR T1713                 ; 除材2_ﾁｬｯｸ開ﾌｯﾄｽｲｯﾁ
ANL
LDB M7905                ; ﾕﾆｯﾄ7起動中
LD M8905                 ; ﾕﾆｯﾄ8起動中
LD M8912                 ; UNIT8 ｴﾗｰ
AND B1013                ; Remove_FLG
LD M2912                 ; UNIT2 ｴﾗｰ
AND= D150 K326           ; Status表示No.
ORL
ANL
ORL
AND T1712                ; 除材2_ﾁｬｯｸ解除ｽｲｯﾁ
ORL
LD M8905                 ; ﾕﾆｯﾄ8起動中
AND M8066                ; 排出2ｴﾗｰ停止中
ANB M134                 ; NG排出2安全扉正常
LDB M81                  ; 自動運転開始BZ
ANB M97                  ; 原点復帰動作中
LDB M131                 ; 安全扉正常
ORB M133                 ; NG排出1安全扉正常
ORB M134                 ; NG排出2安全扉正常
ANL
ORL
AND T1713                ; 除材2_ﾁｬｯｸ開ﾌｯﾄｽｲｯﾁ
ORL
OUT M8591                ; 除材2強制ﾁｬｯｸ開
LD CR2002                ; 常時ON
MPS
LD M8591                 ; 除材2強制ﾁｬｯｸ開
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
OR M8590                 ; 除材2ﾁｬｯｸ強制開P1移動
ANB M8820                ; 除材2ﾁｬｯｸ 移動完了
ANL
MPS
RES L22                  ; 除材2ﾁｬｯｸ ﾜｰｸ有
CON
OUT M8590                ; 除材2ﾁｬｯｸ強制開P1移動
MPP
OUT @M44                 ; 除材2ﾁｬｯｸ  Open
MPP
ANF M8590                ; 除材2ﾁｬｯｸ強制開P1移動
RES M8820                ; 除材2ﾁｬｯｸ 移動完了
LD CR2002                ; 常時ON
LD M8591                 ; 除材2強制ﾁｬｯｸ開
ANB M8962                ; 除材2ﾁｬｯｸ 動作可能
AND M8963                ; 除材2ﾁｬｯｸ 原点復帰可能
OR M8592                 ; 除材ﾁｬｯｸ2強制原点復帰で開
ANL
LDB X125A                ; SETON ID10
ORB X125B                ; INP ID10
ANL
MPS
@RES L22                 ; 除材2ﾁｬｯｸ ﾜｰｸ有
CON
@SET M8826               ; 除材2ﾁｬｯｸ 原点復帰中
CON
OUT M8592                ; 除材ﾁｬｯｸ2強制原点復帰で開
MPP
OUT M8651                ; RCA10 SETUP信号ON
;<h1/>■手動回路 
;Manual
LD M33                   ; 手動ﾓｰﾄﾞ
AND M34                  ; ﾒｲﾝ手動操作可能条件
ANB M8905                ; ﾕﾆｯﾄ8起動中
ANB M97                  ; 原点復帰動作中
MC
LDB X1238                ; BUSY ID8
ANB X1248                ; BUSY ID9
ANB X1258                ; BUSY ID10
MPS
AND M8960                ; 除材2Y軸 動作可能
TMH K860 K20             ; 手動起動許可ｳｪｲﾄ
CON
AND T860                 ; 手動起動許可ｳｪｲﾄ
OUT M8608                ; 除材2手動Y軸動作可能
MRD
AND M8961                ; 除材2Z軸 動作可能
TMH K861 K20             ; 手動起動許可ｳｪｲﾄ
CON
AND T861                 ; 手動起動許可ｳｪｲﾄ
OUT M8609                ; 除材2手動Z軸動作可能
MPP
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
TMH K862 K20             ; 手動起動許可ｳｪｲﾄ
CON
AND T862                 ; 手動起動許可ｳｪｲﾄ
OUT M8610                ; 除材2手動ﾁｬｯｸ動作可能
;除材搬送2 Y軸
;Remove-Transfer 2 Y
LD CR2002                ; 常時ON
MPS
LD B1160                 ; 除材2Y軸　OK品排出位置 PB
AND M8608                ; 除材2手動Y軸動作可能
OR M8611                 ; 除材2Y    P7移動
ANB M8800                ; 除材2Y 移動完了
ANL
OUT M8611                ; 除材2Y    P7移動
DW K7 D8050              ; 除材2Y軸 移動No.
CON
OUT @M7                  ; 除材2Y軸移動
MPP
ANF M8611                ; 除材2Y    P7移動
RES M8800                ; 除材2Y 移動完了
LD CR2002                ; 常時ON
MPS
LD B1161                 ; 除材2Y軸　NG品排出位置 PB
AND M8608                ; 除材2手動Y軸動作可能
OR M8612                 ; 除材2Y    P6移動
ANB M8800                ; 除材2Y 移動完了
ANL
OUT M8612                ; 除材2Y    P6移動
DW K6 D8050              ; 除材2Y軸 移動No.
CON
OUT @M8                  ; 除材2Y軸移動
MPP
ANF M8612                ; 除材2Y    P6移動
RES M8800                ; 除材2Y 移動完了
LD CR2002                ; 常時ON
MPS
LD B1162                 ; 除材2Y軸　ﾈｼﾞ締め位置 PB
AND M8608                ; 除材2手動Y軸動作可能
OR M8613                 ; 除材2Y    P5移動
ANB M8800                ; 除材2Y 移動完了
ANL
OUT M8613                ; 除材2Y    P5移動
DW K5 D8050              ; 除材2Y軸 移動No.
CON
OUT @M9                  ; 除材2Y軸移動
MPP
ANF M8613                ; 除材2Y    P5移動
RES M8800                ; 除材2Y 移動完了
LD CR2002                ; 常時ON
MPS
LD B1163                 ; 除材2Y軸　待機位置 PB
AND M8608                ; 除材2手動Y軸動作可能
OR M8614                 ; 除材2Y    P2移動
ANB M8800                ; 除材2Y 移動完了
ANL
OUT M8614                ; 除材2Y    P2移動
DW K2 D8050              ; 除材2Y軸 移動No.
CON
OUT @M10                 ; 除材2Y軸移動
MPP
ANF M8614                ; 除材2Y    P2移動
RES M8800                ; 除材2Y 移動完了
LD CR2002                ; 常時ON
MPS
LD B1164                 ; 除材2Y軸　受取位置 PB
AND M8608                ; 除材2手動Y軸動作可能
OR M8615                 ; 除材2Y    P3移動
ANB M8800                ; 除材2Y 移動完了
ANL
OUT M8615                ; 除材2Y    P3移動
DW K3 D8050              ; 除材2Y軸 移動No.
CON
OUT @M11                 ; 除材2Y軸移動
MPP
ANF M8615                ; 除材2Y    P3移動
RES M8800                ; 除材2Y 移動完了
;除材搬送2 Z軸
;Remove-Transfer 2 Z
LD CR2002                ; 常時ON
MPS
LD B1165                 ; 除材2Z軸　上空待機高さ PB
AND M8609                ; 除材2手動Z軸動作可能
OR M8620                 ; 除材2Z    P1移動
ANB M8810                ; 除材2Z 移動完了
ANL
OUT M8620                ; 除材2Z    P1移動
DW K1 D8051              ; 除材2Z軸 移動No.
CON
OUT @M29                 ; 除材2Z軸移動
MPP
ANF M8620                ; 除材2Z    P1移動
RES M8810                ; 除材2Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1166                 ; 除材2Z軸　NG品排出高さ PB
AND M8609                ; 除材2手動Z軸動作可能
OR M8621                 ; 除材2Z    P6移動
ANB M8810                ; 除材2Z 移動完了
ANL
OUT M8621                ; 除材2Z    P6移動
DW K6 D8051              ; 除材2Z軸 移動No.
CON
OUT @M30                 ; 除材2Z軸移動
MPP
ANF M8621                ; 除材2Z    P6移動
RES M8810                ; 除材2Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1167                 ; 除材2Z軸　OK品排出高さ PB
AND= D117 K7             ; RCA8_Position No.
AND M8609                ; 除材2手動Z軸動作可能
OR M8622                 ; 除材2Z    P7移動
ANB M8810                ; 除材2Z 移動完了
ANL
OUT M8622                ; 除材2Z    P7移動
DW K7 D8051              ; 除材2Z軸 移動No.
CON
OUT @M31                 ; 除材2Z軸移動
MPP
ANF M8622                ; 除材2Z    P7移動
RES M8810                ; 除材2Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1168                 ; 除材2Z軸　ﾈｼﾞ締め高さ PB
AND= D117 K5             ; RCA8_Position No.
AND M8609                ; 除材2手動Z軸動作可能
OR M8623                 ; 除材2Z    P5移動
ANB M8810                ; 除材2Z 移動完了
ANL
OUT M8623                ; 除材2Z    P5移動
DW K5 D8051              ; 除材2Z軸 移動No.
CON
OUT @M32                 ; 除材2Z軸移動
MPP
ANF M8623                ; 除材2Z    P5移動
RES M8810                ; 除材2Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1169                 ; 除材2Z軸　受取高さ PB
AND= D117 K3             ; RCA8_Position No.
AND M8609                ; 除材2手動Z軸動作可能
OR M8624                 ; 除材2Z    P3移動
ANB M8810                ; 除材2Z 移動完了
ANL
OUT M8624                ; 除材2Z    P3移動
DW K3 D8051              ; 除材2Z軸 移動No.
CON
OUT @M33                 ; 除材2Z軸移動
MPP
ANF M8624                ; 除材2Z    P3移動
RES M8810                ; 除材2Z 移動完了
;除材搬送2 ﾁｬｯｸ
;Remove-Transfer 2 Chuck
LD CR2002                ; 常時ON
MPS
LD B116A                 ; 除材2ﾁｬｯｸ1　閉 PB
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
OR M8630                 ; 除材2chuckP2移動
ANB M8820                ; 除材2ﾁｬｯｸ 移動完了
ANL
OUT M8630                ; 除材2chuckP2移動
OUT @M61                 ; 除材2ﾁｬｯｸ  Close
MPP
ANF M8630                ; 除材2chuckP2移動
RES M8820                ; 除材2ﾁｬｯｸ 移動完了
LD CR2002                ; 常時ON
MPS
LD B116B                 ; 除材2ﾁｬｯｸ1　開 PB
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
OR M8631                 ; 除材2chuckP1移動
ANB M8820                ; 除材2ﾁｬｯｸ 移動完了
ANL
MPS
RES L22                  ; 除材2ﾁｬｯｸ ﾜｰｸ有
CON
OUT M8631                ; 除材2chuckP1移動
MPP
OUT @M45                 ; 除材2ﾁｬｯｸ  Open
MPP
ANF M8631                ; 除材2chuckP1移動
RES M8820                ; 除材2ﾁｬｯｸ 移動完了
LD CR2002                ; 常時ON
MPS
LD B116D                 ; 除材2ﾁｬｯｸ1　開中間位置 PB
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
OR M8632                 ; 除材2chuckP3移動
ANB M8820                ; 除材2ﾁｬｯｸ 移動完了
ANL
OUT M8632                ; 除材2chuckP3移動
OUT @M51                 ; 除材1ﾁｬｯｸ  中継点Open
MPP
ANF M8632                ; 除材2chuckP3移動
RES M8820                ; 除材2ﾁｬｯｸ 移動完了
;Jog
LD X1239                 ; SVRE ID8
AND X123A                ; SETON ID8
ANB X123E                ; ESTOP ID8
ANB X123F                ; ALARM ID8
ANB M8800                ; 除材2Y 移動完了
ANB M8802                ; 除材2Y 移動中
ANB M8804                ; 除材2Y 原点復帰完了
MPS
AND B2116                ; 除材2Y軸+JOG PB
OUT Y203E                ; ID8 JOG+
MPP
AND B2117                ; 除材2Y軸-JOG PB
OUT Y203D                ; ID8 JOG-
LD X1249                 ; SVRE ID9
AND X124A                ; SETON ID9
ANB X124E                ; ESTOP ID9
ANB X124F                ; ALARM ID9
ANB M8810                ; 除材2Z 移動完了
ANB M8812                ; 除材2Z 移動中
ANB M8814                ; 除材2Z 原点復帰完了
MPS
AND B2118                ; 除材2Z軸+JOG PB
OUT Y204E                ; ID9 JOG+
MPP
AND B2119                ; 除材2Z軸-JOG PB
OUT Y204D                ; ID9 JOG-
LD X1259                 ; SVRE ID10
AND X125A                ; SETON ID10
ANB X125E                ; ESTOP ID10
ANB X125F                ; ALARM ID10
ANB M8820                ; 除材2ﾁｬｯｸ 移動完了
ANB M8822                ; 除材2ﾁｬｯｸ 移動中
ANB M8824                ; 除材2ﾁｬｯｸ 原点復帰完了
MPS
AND B211A                ; 除材2ﾁｬｯｸ+JOG PB
OUT Y205E                ; ID10 JOG+
MPP
AND B211B                ; 除材2ﾁｬｯｸ-JOG PB
OUT Y205D                ; ID10 JOG-
;除材CV
;Remove CV
LDP B116C                ; 除材CV2 ON PB
AND M33                  ; 手動ﾓｰﾄﾞ
AND M129                 ; 非常停止正常
AND M130                 ; 外部非常停止正常
ANB M8905                ; ﾕﾆｯﾄ8起動中
ANB M97                  ; 原点復帰動作中
ALT M8660                ; 除材CV2 ON
LDF M33                  ; 手動ﾓｰﾄﾞ
ORP M97                  ; 原点復帰動作中
RES M8660                ; 除材CV2 ON
MCR
;<h1/>出力
;OUTPUT
;排出ｺﾝﾍﾞｱ
;Conveyor
LD M32                   ; 自動ﾓｰﾄﾞ
AND M8670                ; 除材2_CV 回転
ANB T1711                ; 除材2_排出CV排出位置ﾜｰｸ検出
LD M33                   ; 手動ﾓｰﾄﾞ
AND M8660                ; 除材CV2 ON
ORL
OUT Y20A                 ; 除材2_排出CV回転
;ﾛﾎﾞｯﾄ
;ROBOT
LDB @M0                  ; 除材2Y軸移動
ANB @M1                  ; 除材2Y軸移動
ANB @M2                  ; 除材2Y軸移動
ANB @M3                  ; 除材2Y軸移動
ANB @M4                  ; 除材2Y軸移動
ANB @M5                  ; 除材2Y軸移動
ANB @M6                  ; 除材2Y軸移動
ANB @M7                  ; 除材2Y軸移動
ANB @M8                  ; 除材2Y軸移動
ANB @M9                  ; 除材2Y軸移動
ANB @M10                 ; 除材2Y軸移動
ANB @M11                 ; 除材2Y軸移動
INV
ANB M6055                ; 排出2ﾈｼﾞ締め完了待ち
MCALL P_MOVE_S K8 D8050 M8801 M8800 M8802;除材2Y軸 移動No.  除材2Y 移動異常  除材2Y 移動完了  除材2Y 移動中
LDB @M20                 ; 除材2Z軸移動
ANB @M21                 ; 除材2Z軸移動
ANB @M22                 ; 除材2Z軸移動
ANB @M23                 ; 除材2Z軸移動
ANB @M24                 ; 除材2Z軸移動
ANB @M25                 ; 除材2Z軸移動
ANB @M26                 ; 除材2Z軸移動
ANB @M27                 ; 除材2Z軸移動
ANB @M28                 ; 除材2Z軸移動
ANB @M29                 ; 除材2Z軸移動
ANB @M30                 ; 除材2Z軸移動
ANB @M31                 ; 除材2Z軸移動
ANB @M32                 ; 除材2Z軸移動
ANB @M33                 ; 除材2Z軸移動
INV
ANB M6055                ; 排出2ﾈｼﾞ締め完了待ち
MCALL P_MOVE_S K9 D8051 M8811 M8810 M8812;除材2Z軸 移動No.  除材2Z 移動異常  除材2Z 移動完了  除材2Z 移動中
LDB @M40                 ; 除材2ﾁｬｯｸ  Open
ANB @M41                 ; 除材2ﾁｬｯｸ  Open
ANB @M42                 ; 除材2ﾁｬｯｸ  Open
ANB @M43                 ; 除材2ﾁｬｯｸ  Open
ANB @M44                 ; 除材2ﾁｬｯｸ  Open
ANB @M45                 ; 除材2ﾁｬｯｸ  Open
INV
ANB M6055                ; 排出2ﾈｼﾞ締め完了待ち
MCALL P_MOVE_S K10 K1 M8821 M8820 M8822;除材2ﾁｬｯｸ 移動異常  除材2ﾁｬｯｸ 移動完了  除材2ﾁｬｯｸ 移動中
LDB @M50                 ; 除材2ﾁｬｯｸ  中継点Open
ANB @M51                 ; 除材1ﾁｬｯｸ  中継点Open
INV
ANB M6055                ; 排出2ﾈｼﾞ締め完了待ち
MCALL P_MOVE_S K10 K3 M8821 M8820 M8822;除材2ﾁｬｯｸ 移動異常  除材2ﾁｬｯｸ 移動完了  除材2ﾁｬｯｸ 移動中
LDB @M60                 ; 除材2ﾁｬｯｸ  Close
ANB @M61                 ; 除材2ﾁｬｯｸ  Close
INV
MCALL P_CHUCK_S K10 K2 M8821 M8820 M8822 L22;除材2ﾁｬｯｸ 移動異常  除材2ﾁｬｯｸ 移動完了  除材2ﾁｬｯｸ 移動中  除材2ﾁｬｯｸ ﾜｰｸ有
;RCA10
LD M8650                 ; RCA10 SETUP信号ON
OR M8651                 ; RCA10 SETUP信号ON
OUT Y205C                ; ID10 SETUP
;<h1/>異常検出
;
LD CR2002                ; 常時ON
MPS
LD M8950                 ; ﾈｼﾞ締め2 Jig No.異常
OR M8955                 ; ﾈｼﾞ締め2 Jig No.異常
LDB B05F0                ; ﾈｼﾞ締台2_Jig番号異常 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0F0                 ; ﾈｼﾞ締めJig2ID異常
ORL
ANL
OUT B0F0                 ; ﾈｼﾞ締めJig2ID異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05F0                 ; ﾈｼﾞ締台2_Jig番号異常 BZ停止
AND B0F0                 ; ﾈｼﾞ締めJig2ID異常
ANL
OUT B05F0                ; ﾈｼﾞ締台2_Jig番号異常 BZ停止
LD CR2002                ; 常時ON
MPS
LD M64                   ; 運転準備
AND X123F                ; ALARM ID8
LDB B05F1                ; 除材2Y軸異常 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0F1                 ; 除材2Y軸異常
ORL
ANL
OUT B0F1                 ; 除材2Y軸異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05F1                 ; 除材2Y軸異常 BZ停止
AND B0F1                 ; 除材2Y軸異常
ANL
OUT B05F1                ; 除材2Y軸異常 BZ停止
LD CR2002                ; 常時ON
MPS
LD M64                   ; 運転準備
AND X124F                ; ALARM ID9
LDB B05F2                ; 除材2Z軸異常 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0F2                 ; 除材2Z軸異常
ORL
ANL
OUT B0F2                 ; 除材2Z軸異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05F2                 ; 除材2Z軸異常 BZ停止
AND B0F2                 ; 除材2Z軸異常
ANL
OUT B05F2                ; 除材2Z軸異常 BZ停止
LD CR2002                ; 常時ON
MPS
LD M64                   ; 運転準備
AND X125F                ; ALARM ID10
LDB B05F3                ; 除材2ﾁｬｯｸ異常 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0F3                 ; 除材2ﾁｬｯｸ軸異常
ORL
ANL
OUT B0F3                 ; 除材2ﾁｬｯｸ軸異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05F3                 ; 除材2ﾁｬｯｸ異常 BZ停止
AND B0F3                 ; 除材2ﾁｬｯｸ軸異常
ANL
OUT B05F3                ; 除材2ﾁｬｯｸ異常 BZ停止
LD M64                   ; 運転準備
AND= D119 K2             ; RCA10_Position No.
AND L22                  ; 除材2ﾁｬｯｸ ﾜｰｸ有
ANB X125B                ; INP ID10
TMR K840 K10             ; ﾁｬｯｸ異常検出時間
LD CR2002                ; 常時ON
MPS
LD T840                  ; ﾁｬｯｸ異常検出時間
LDB B05F4                ; 除材2ﾜｰｸ行方不明 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0F4                 ; 除材2ﾜｰｸ行方不明
ORL
ANL
OUT B0F4                 ; 除材2ﾜｰｸ行方不明
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05F4                 ; 除材2ﾜｰｸ行方不明 BZ停止
AND B0F4                 ; 除材2ﾜｰｸ行方不明
ANL
OUT B05F4                ; 除材2ﾜｰｸ行方不明 BZ停止
LD CR2002                ; 常時ON
MPS
LD M8951                 ; 除材2除材時ﾜｰｸ落下異常
LDB B05F5                ; ﾕﾆｯﾄ8_異常6 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0F5                 ; 除材2ｹｰｽﾁｬｯｸﾐｽ
ORL
ANL
OUT B0F5                 ; 除材2ｹｰｽﾁｬｯｸﾐｽ
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05F5                 ; ﾕﾆｯﾄ8_異常6 BZ停止
AND B0F5                 ; 除材2ｹｰｽﾁｬｯｸﾐｽ
ANL
OUT B05F5                ; ﾕﾆｯﾄ8_異常6 BZ停止
LD CR2002                ; 常時ON
MPS
LD M8952                 ; ﾈｼﾞ締台2ﾜｰｸ有異常
OR M8954                 ; ﾈｼﾞ締め位置ﾜｰｸ残
LDB B05F6                ; ﾈｼﾞ締台2 ﾜｰｸ有異常 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0F6                 ; ﾈｼﾞ締台2 ﾜｰｸ有異常
ORL
ANL
OUT B0F6                 ; ﾈｼﾞ締台2 ﾜｰｸ有異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05F6                 ; ﾈｼﾞ締台2 ﾜｰｸ有異常 BZ停止
AND B0F6                 ; ﾈｼﾞ締台2 ﾜｰｸ有異常
ANL
OUT B05F6                ; ﾈｼﾞ締台2 ﾜｰｸ有異常 BZ停止
LD CR2002                ; 常時ON
MPS
LD M8953                 ; ﾈｼﾞ締め位置ﾜｰｸ行方不明
LDB T1708                ; ﾈｼﾞ締め治具2 ﾜｰｸ検出
AND M6055                ; 排出2ﾈｼﾞ締め完了待ち
AND X1068                ; ﾈｼﾞ締め動作開始ﾌﾗｸﾞ
ORL
LDB B05F7                ; ﾈｼﾞ締め治具ﾜｰｸ行方不明 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0F7                 ; ﾈｼﾞ締め治具2ﾜｰｸ行方不明
ORL
ANL
OUT B0F7                 ; ﾈｼﾞ締め治具2ﾜｰｸ行方不明
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05F7                 ; ﾈｼﾞ締め治具ﾜｰｸ行方不明 BZ停止
AND B0F7                 ; ﾈｼﾞ締め治具2ﾜｰｸ行方不明
ANL
OUT B05F7                ; ﾈｼﾞ締め治具ﾜｰｸ行方不明 BZ停止
;異常ﾌﾞｻﾞｰまとめ
LD B0F0                  ; ﾈｼﾞ締めJig2ID異常
ANB B05F0                ; ﾈｼﾞ締台2_Jig番号異常 BZ停止
LD B0F1                  ; 除材2Y軸異常
ANB B05F1                ; 除材2Y軸異常 BZ停止
ORL
LD B0F2                  ; 除材2Z軸異常
ANB B05F2                ; 除材2Z軸異常 BZ停止
ORL
LD B0F3                  ; 除材2ﾁｬｯｸ軸異常
ANB B05F3                ; 除材2ﾁｬｯｸ異常 BZ停止
ORL
LD B0F4                  ; 除材2ﾜｰｸ行方不明
ANB B05F4                ; 除材2ﾜｰｸ行方不明 BZ停止
ORL
LD B0F5                  ; 除材2ｹｰｽﾁｬｯｸﾐｽ
ANB B05F5                ; ﾕﾆｯﾄ8_異常6 BZ停止
ORL
LD B0F6                  ; ﾈｼﾞ締台2 ﾜｰｸ有異常
ANB B05F6                ; ﾈｼﾞ締台2 ﾜｰｸ有異常 BZ停止
ORL
LD B0F7                  ; ﾈｼﾞ締め治具2ﾜｰｸ行方不明
ANB B05F7                ; ﾈｼﾞ締め治具ﾜｰｸ行方不明 BZ停止
ORL
OUT M8909                ; ﾕﾆｯﾄ8異常BZ補助
END
ENDH
