DEVICE:53
;MODULE:UNIT7_Remove_T1
;MODULE_TYPE:0
;
;UNIT7 Remove-Trasfer 1
;
;動作FLG
LD M7840                 ; 除材1Z軸原点復帰完了
OR M7990                 ; 除材1Z軸　原点復帰完了
ANB M103                 ; 原点復帰OK
OUT M7990                ; 除材1Z軸　原点復帰完了
;■ロボット等機器入力受け
;ロボット、検査装置など状態、現在位置などをまとめる信号は一旦ここで受ける。
LD X1208                 ; BUSY ID5
OR X1218                 ; BUSY ID6
OR X1228                 ; BUSY ID7
LDB M131                 ; 安全扉正常
ORB M136                 ; 背面扉正常
ANL
OUT Y2008                ; ID5 HOLD
OUT Y2018                ; ID6 HOLD
OUT Y2028                ; ID7 HOLD
;<h1/>装置状態・動作条件
LD= D114 K1              ; RCA5_Position No.
OR= D114 K2              ; RCA5_Position No.
OR= D114 K5              ; RCA5_Position No.
AND= D115 K1             ; RCA6_Position No.
LD=.L D132 +0            ; RCA7_Position Data
OR=.L D132 E3300         ; RCA7_Position Data  R1ｸﾗﾝﾌﾟ開TP_Pos_Data
ANL
OUT M7900                ; ﾕﾆｯﾄ7原点
LDB B0E0                 ; ﾈｼﾞ締めJig1ID異常
ANB B0E1                 ; 除材1Y軸異常
ANB B0E2                 ; 除材1Z軸異常
ANB B0E3                 ; 除材1ﾁｬｯｸ軸異常
ANB B0E4                 ; 除材1ﾜｰｸ行方不明
ANB B0E5                 ; 除材1ｹｰｽﾁｬｯｸﾐｽ
ANB B0E6                 ; ﾈｼﾞ締台1 ﾜｰｸ残
ANB B0E7                 ; ﾈｼﾞ締め治具1ﾜｰｸ行方不明
INV
OUT M7901                ; ﾕﾆｯﾄ7全異常
LD M7900                 ; ﾕﾆｯﾄ7原点
ANB M7000                ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ開始
ANB X1208                ; BUSY ID5
AND X1209                ; SVRE ID5
AND X120A                ; SETON ID5
ANB X120E                ; ESTOP ID5
ANB X120F                ; ALARM ID5
ANB X1218                ; BUSY ID6
AND X1219                ; SVRE ID6
AND X121A                ; SETON ID6
ANB X121E                ; ESTOP ID6
ANB X121F                ; ALARM ID6
ANB X1228                ; BUSY ID7
AND X1229                ; SVRE ID7
AND X122A                ; SETON ID7
ANB X122E                ; ESTOP ID7
ANB X122F                ; ALARM ID7
OUT M7902                ; ﾕﾆｯﾄ7起動条件
LDB M64                  ; 運転準備
OR M65                   ; 即停止異常(緊急停止)
OR M7901                 ; ﾕﾆｯﾄ7全異常
OR T15                   ; 強制停止
OUT M7903                ; ﾕﾆｯﾄ7起動OFF
LD M98                   ; 原点復帰開始
ANB M7904                ; ﾕﾆｯﾄ7原点復帰中
OR M7904                 ; ﾕﾆｯﾄ7原点復帰中
ANB M7903                ; ﾕﾆｯﾄ7起動OFF
ANB M7589                ; ﾕﾆｯﾄ7原点復帰完了確認
OUT M7904                ; ﾕﾆｯﾄ7原点復帰中
LD M83                   ; 各工程起動指令
LD M33                   ; 手動ﾓｰﾄﾞ
AND M34                  ; ﾒｲﾝ手動操作可能条件
AND CR2003               ; 常時OFF
ORL
AND M7902                ; ﾕﾆｯﾄ7起動条件
OR M7905                 ; ﾕﾆｯﾄ7起動中
ANB M7903                ; ﾕﾆｯﾄ7起動OFF
ANB M7399                ; ﾕﾆｯﾄ7動作完了
OUT M7905                ; ﾕﾆｯﾄ7起動中
LD CR2003                ; 常時OFF
OUT M7908                ; ﾕﾆｯﾄ7警報補助
;Pack処理
LDB M7802                ; 除材1Y 移動中
ANB M7806                ; 除材1Y 原点復帰中
ANB M7812                ; 除材1Z 移動中
ANB M7816                ; 除材1Z 原点復帰中
ANB M7822                ; 除材1ﾁｬｯｸ 移動中
ANB M7826                ; 除材1ﾁｬｯｸ 原点復帰中
INV
OUT M7910                ; UNIT7 Pack
;□エラー発生　一時停止フラグ
LD CR2002                ; 常時ON
MPS
PMOV.D M7920 K0 D7100 K0 K10;Err440:除材1ﾜｰｸ残  UT7ｴﾗｰ判別
MPP
AND<> D7100 K0           ; UT7ｴﾗｰ判別
OUT M7912                ; UNIT7 ｴﾗｰ
LD CR2002                ; 常時ON
MPS
PMOV.D M7930 K0 D7102 K0 K10;Err450:除材1ﾈｼﾞ締め異常  UT7_排出停止 ｴﾗｰ判別
MPP
AND<> D7102 K0           ; UT7_排出停止 ｴﾗｰ判別
OUT M7911                ; UNIT7 排出ｴﾗｰ
LDB M7901                ; ﾕﾆｯﾄ7全異常
ANB M160                 ; ALL PAUSE
ANB M180                 ; UNIT6.7.8PAUSE
ANB M7908                ; ﾕﾆｯﾄ7警報補助
ANB M7911                ; UNIT7 排出ｴﾗｰ
ANB M7912                ; UNIT7 ｴﾗｰ
LDB M32                  ; 自動ﾓｰﾄﾞ
ANB M33                  ; 手動ﾓｰﾄﾞ
LD M32                   ; 自動ﾓｰﾄﾞ
AND M7905                ; ﾕﾆｯﾄ7起動中
ORL
LD M33                   ; 手動ﾓｰﾄﾞ
AND M7904                ; ﾕﾆｯﾄ7原点復帰中
ORL
ANL
OUT M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
;RB interlock
LD R3508                 ; 除材1Z    上空位置
ANB X1208                ; BUSY ID5
AND X1209                ; SVRE ID5
LD X120A                 ; SETON ID5
OR M7904                 ; ﾕﾆｯﾄ7原点復帰中
ANL
ANB X120E                ; ESTOP ID5
ANB X120F                ; ALARM ID5
ANB M7800                ; 除材1Y 移動完了
ANB M7802                ; 除材1Y 移動中
ANB M7804                ; 除材1Y 原点復帰完了
OUT M7960                ; 除材1Y軸 動作可能
LDB R3500                ; 除材1Y    取出干渉外
AND R3102                ; Case搬送Y1受渡領域
ORB R3501                ; 除材1Y    除材干渉外
ORB R3508                ; 除材1Z    上空位置
OR M33                   ; 手動ﾓｰﾄﾞ
OR M7904                 ; ﾕﾆｯﾄ7原点復帰中
ANB M6914                ; ﾈｼﾞ締めRB Y1側動作中
ANB X1218                ; BUSY ID6
AND X1219                ; SVRE ID6
LD X121A                 ; SETON ID6
OR M7904                 ; ﾕﾆｯﾄ7原点復帰中
ANL
ANB X121E                ; ESTOP ID6
ANB X121F                ; ALARM ID6
ANB M7810                ; 除材1Z 移動完了
ANB M7812                ; 除材1Z 移動中
ANB M7814                ; 除材1Z 原点復帰完了
OUT M7961                ; 除材1Z軸 動作可能
LDB M6914                ; ﾈｼﾞ締めRB Y1側動作中
ANB X1218                ; BUSY ID6
AND X1219                ; SVRE ID6
AND X121A                ; SETON ID6
ANB X121E                ; ESTOP ID6
ANB X121F                ; ALARM ID6
ANB M7810                ; 除材1Z 移動完了
ANB M7812                ; 除材1Z 移動中
ANB M7814                ; 除材1Z 原点復帰完了
OUT M7970                ; 除材1Z軸 上昇動作可能
LDB X1228                ; BUSY ID7
AND X1229                ; SVRE ID7
ANB X122E                ; ESTOP ID7
ANB X122F                ; ALARM ID7
ANB M7820                ; 除材1ﾁｬｯｸ 移動完了
ANB M7822                ; 除材1ﾁｬｯｸ 移動中
ANB M7824                ; 除材1ﾁｬｯｸ 原点復帰完了
OUT M7963                ; 除材1ﾁｬｯｸ 原点復帰可能
LD M7963                 ; 除材1ﾁｬｯｸ 原点復帰可能
AND X122A                ; SETON ID7
OUT M7962                ; 除材1ﾁｬｯｸ 動作可能
LDF M7905                ; ﾕﾆｯﾄ7起動中
ZRES M7800 M7829         ; 除材1Y 移動完了  HOLD停止後ｻｰﾎﾞOFF
;<h1/>■自動回路 
;
;運転開始・ステッパ初期化・補助接点へ展開
LD CR2002                ; 常時ON
ZRES M7000 M7399         ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ開始  ﾕﾆｯﾄ7動作完了
LDB M7905                ; ﾕﾆｯﾄ7起動中
MOV K0 D7000             ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7905                 ; ﾕﾆｯﾄ7起動中
MOV D7000 Z1             ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
SET M7000:Z1             ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ開始
;自動運転ステップ開始
LD M7000                 ; ﾕﾆｯﾄ7ｽﾃｯﾌﾟ開始
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
MPS
ANB M39                  ; 日常点検ﾓｰﾄﾞ
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
LD M39                   ; 日常点検ﾓｰﾄﾞ
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ANL
DW K380 D7000            ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;運転開始時JIG番号ﾁｪｯｸ
;Jig No. check when AUTO start.
LD M7001                 ; Jig No.確認
MPS
AND= D93 E3423           ; Screw Jig1 ID No.  Screw Jig1 ID 
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
AND<> D93 E3423          ; Screw Jig1 ID No.  Screw Jig1 ID 
OUT M7956                ; ﾈｼﾞ締め1 Jig No.異常
;除材要求確認
;Remove demand check
LD M7002                 ; 除材要求確認
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
MPS
LD M1985                 ; Y1排出要求
OR M7701                 ; Y1嵌合完了先行動作可
ANL
DW K10 D7000             ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
ANB M1985                ; Y1排出要求
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;Y軸　待機位置移動
;Move to remove waiting posotion
LD M7003                 ; 待機位置移動
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
AND M7960                ; 除材1Y軸 動作可能
MPS
AND<> D114 K2            ; RCA5_Position No.
DW K2 D7050              ; 除材1Y軸 移動No.
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
AND= D114 K2             ; RCA5_Position No.
DW K5 D7000              ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7004                 ; 1Y_P3 move
MPS
OUT @M0                  ; 除材1Y軸移動
MPP
AND M7800                ; 除材1Y 移動完了
RES M7800                ; 除材1Y 移動完了
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;Y1嵌合完了先行動作ﾌﾗｸﾞ
LDP M5977                ; Y1､Remove1へ嵌合完了
OR M7701                 ; Y1嵌合完了先行動作可
ANB M1985                ; Y1排出要求
ANB M7010                ; 取出し位置移動
ANB M7011                ; 1Y_P3 move
OUT M7701                ; Y1嵌合完了先行動作可
;除材要求 or 先行動作待ち
;Waiting for remove demand
LD M7005                 ; 除材要求待ち
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
MPS
LD M1985                 ; Y1排出要求
OR M7701                 ; Y1嵌合完了先行動作可
ANL
DW K10 D7000             ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
LDB M1985                ; Y1排出要求
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M1398                ; ﾕﾆｯﾄ1ｻｲｸﾙ停止
ANL
DW K380 D7000            ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;Y軸　取り出し位置移動
;Move to pick up posotion
LD M7010                 ; 取出し位置移動
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
ANB M7701                ; Y1嵌合完了先行動作可
MPS
AND= D114 K3             ; RCA5_Position No.
DW K12 D7000             ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
LD<> D114 K3             ; RCA5_Position No.
AND M7960                ; 除材1Y軸 動作可能
LD R3301                 ; 嵌合X     Case1干渉外
OR CR2002                ; 常時ON
ANL
ANL
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7011                 ; 1Y_P3 move
MPS
DW K3 D7050              ; 除材1Y軸 移動No.
CON
OUT @M1                  ; 除材1Y軸移動
MPP
AND M7800                ; 除材1Y 移動完了
RES M7800                ; 除材1Y 移動完了
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;除材要求　Z軸　取り出し位置下降
;Down to pick up height
LD M7012                 ; 取出し高さ下降
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
MPS
LD M1985                 ; Y1排出要求
AND M7961                ; 除材1Z軸 動作可能
AND<=.L D122 +65000      ; RCA2_Position Data
ANL
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
LDB M1985                ; Y1排出要求
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M1398                ; ﾕﾆｯﾄ1ｻｲｸﾙ停止
ANL
DW K380 D7000            ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7013                 ; 1Z_P3　move
MPS
DW K3 D7051              ; 除材1Z軸 移動No.
CON
OUT @M20                 ; 除材1Z軸移動
MPP
AND M7810                ; 除材1Z 移動完了
RES M7810                ; 除材1Z 移動完了
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;ﾁｬｯｸ閉
;Chuck close 
LD M7014                 ; 除材ﾁｬｯｸ閉じ
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
AND M7962                ; 除材1ﾁｬｯｸ 動作可能
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7015                 ; Chuck_P2  move
MPS
OUT @M60                 ; 除材1ﾁｬｯｸ  Close
MPP
AND M7820                ; 除材1ﾁｬｯｸ 移動完了
RES M7820                ; 除材1ﾁｬｯｸ 移動完了
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;ﾁｬｯｸ確認
LD M7016                 ; ﾜｰｸﾁｪｯｸ
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
MPS
AND L21                  ; 除材1ﾁｬｯｸ ﾜｰｸ有
DW K40 D7000             ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
ANB L21                  ; 除材1ﾁｬｯｸ ﾜｰｸ有
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;除材チャック異常 処理選択
;Err441:Chuck error of Remove head 1
LD M7017                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K441 D148             ; 警報No.
CON
SET M7921                ; Err441:除材ﾍｯﾄﾞ1ﾁｬｯｸ異常
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7018                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
RES B1013                ; Remove_FLG
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7019                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
MPS
ANB B1013                ; Remove_FLG
DW K21 D7000             ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
AND B1013                ; Remove_FLG
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7020                 ; Removeﾌﾗｸﾞ解除
RES B1013                ; Remove_FLG
CON
DW K30 D7000             ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;ﾘﾄﾗｲのためﾁｬｯｸ開
;Chuck open for retry
LD M7021                 ; ﾘﾄﾗｲ用ﾁｬｯｸ開
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
AND M7962                ; 除材1ﾁｬｯｸ 動作可能
RES L21                  ; 除材1ﾁｬｯｸ ﾜｰｸ有
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7022                 ; Chuck_P1  move
MPS
OUT @M40                 ; 除材1ﾁｬｯｸ  Open
MPP
AND M7820                ; 除材1ﾁｬｯｸ 移動完了
RES M7820                ; 除材1ﾁｬｯｸ 移動完了
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7023                 ; 動作終了確認
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
ANB M7820                ; 除材1ﾁｬｯｸ 移動完了
TMR K711 K10             ; Chuck1 retry wait
CON
AND T711                 ; Chuck1 retry wait
DW K14 D7000             ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;★★★　ﾁｬｯｸNG除材動作　★★★
;Chuck Error Operation
;ﾁｬｯｸ開
;Chuck Open 
LD M7030                 ; ﾁｬｯｸNG→除材処理へ
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
AND M7962                ; 除材1ﾁｬｯｸ 動作可能
RES L21                  ; 除材1ﾁｬｯｸ ﾜｰｸ有
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7031                 ; Chuck2_P1  move
MPS
OUT @M41                 ; 除材1ﾁｬｯｸ  Open
MPP
AND M7820                ; 除材1ﾁｬｯｸ 移動完了
RES M7820                ; 除材1ﾁｬｯｸ 移動完了
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;除材ﾊﾝﾄﾞ上空位置へ上昇
;Remove hand up
LD M7032                 ; 除材1Z　上空位置
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
AND M7961                ; 除材1Z軸 動作可能
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7033                 ; 1Z_P1 move
MPS
DW K1 D7051              ; 除材1Z軸 移動No.
CON
OUT @M21                 ; 除材1Z軸移動
MPP
AND M7810                ; 除材1Z 移動完了
RES M7810                ; 除材1Z 移動完了
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;Case搬送とﾊﾝﾄﾞｼｪｲｸ
;Handshake with Case-Trasfer Y1
LD M7034                 ; Case取出異常
MPS
OUT M7982                ; Y1排出異常
MPP
LD M7913                 ; UNIT7     ｴﾗｰ・PAUSE無し
ANB M1985                ; Y1排出要求
ANL
DW K380 D7000            ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;★★★　ﾁｬｯｸOK継続動作　★★★
;Z軸　上昇
;Up to weiting point
LD M7040                 ; 待機高さ上昇
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
LD M7961                 ; 除材1Z軸 動作可能
OR M7970                 ; 除材1Z軸 上昇動作可能
ANL
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7041                 ; 1Z_P1 move
MPS
DW K1 D7051              ; 除材1Z軸 移動No.
CON
OUT @M22                 ; 除材1Z軸移動
MPP
AND M7810                ; 除材1Z 移動完了
RES M7810                ; 除材1Z 移動完了
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;ﾜｰｸﾁｪｯｸ
;Work check
;上昇後､投入ｽﾗｲﾀﾞ上にﾜｰｸがあった場合は異常処理
LD M7042                 ; Y1搬送上Case残確認
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
ANB T1310                ; 投入1_受渡位置ﾜｰｸ検出
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
AND T1310                ; 投入1_受渡位置ﾜｰｸ検出
OUT M7951                ; 除材時ﾜｰｸ落下異常
;取出完了
;Pick up comlete
LD M7043                 ; 取出完了
MPS
OUT M7981                ; Y1排出完了
MPP
LD M7913                 ; UNIT7     ｴﾗｰ・PAUSE無し
ANB M1985                ; Y1排出要求
ANL
DW K50 D7000             ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締め部　状況確認
;Screw stage status check
LD M7050                 ; ﾈｼﾞ締め部状況確認
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
MPS
ANB T1700                ; ﾈｼﾞ締め治具1 ﾜｰｸ検出
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
AND T1700                ; ﾈｼﾞ締め治具1 ﾜｰｸ検出
OUT M7955                ; ﾈｼﾞ締めJIG1ﾜｰｸ残
;Y軸　ﾈｼﾞ締め位置移動
;Move to Screw position
LD M7051                 ; ﾈｼﾞ締め部進入可確認
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
AND M7960                ; 除材1Y軸 動作可能
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7052                 ; 1Y_P2 move
MPS
DW K5 D7050              ; 除材1Y軸 移動No.
CON
OUT @M2                  ; 除材1Y軸移動
MPP
AND M7800                ; 除材1Y 移動完了
RES M7800                ; 除材1Y 移動完了
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;JIG番号ﾁｪｯｸ
;Jig No. check in AUTO operation.
LD M7053                 ; Jig ID 確認
MPS
AND= D93 E3423           ; Screw Jig1 ID No.  Screw Jig1 ID 
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
AND<> D93 E3423          ; Screw Jig1 ID No.  Screw Jig1 ID 
OUT M7957                ; ﾈｼﾞ締め1 Jig No.異常
;Z軸　ﾈｼﾞ締め高さ下降
;Down to Screw point
LD M7054                 ; ﾈｼﾞ締め高さへ下降
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
AND M7961                ; 除材1Z軸 動作可能
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7055                 ; 1Z_P5　move
MPS
DW K5 D7051              ; 除材1Z軸 移動No.
CON
OUT @M23                 ; 除材1Z軸移動
MPP
AND M7810                ; 除材1Z 移動完了
RES M7810                ; 除材1Z 移動完了
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7056                 ; ﾈｼﾞ締め位置移動確認
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
MPS
AND T1700                ; ﾈｼﾞ締め治具1 ﾜｰｸ検出
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
ANB T1700                ; ﾈｼﾞ締め治具1 ﾜｰｸ検出
TMR K720 K30             ; ﾈｼﾞ締め治具ﾜｰｸ確認時間
CON
AND T720                 ; ﾈｼﾞ締め治具ﾜｰｸ確認時間
OUT M7953                ; ﾈｼﾞ締め位置ﾜｰｸ行方不明
;ﾈｼﾞ締め要求ON､判定
;Screw request
LD M7057                 ; 排出1ﾈｼﾞ締め要求ON
MPS
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
MPS
LD M6700                 ; 排出1側ﾈｼﾞ締めOK
OR M27                   ; ねじ締めRB無視
ANL
DW K80 D7000             ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
AND M6701                ; 排出1側ﾈｼﾞ締めNG
DW K60 D7000             ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
OUT M7850                ; 排出1ﾈｼﾞ締め要求
;■ﾈｼﾞ締めNG 排出動作
;Z軸　NG排出高さ上昇
;Up to NG remove position
LD M7060                 ; NG排出高さへ上昇
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
ANB M6701                ; 排出1側ﾈｼﾞ締めNG
AND M7961                ; 除材1Z軸 動作可能
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7061                 ; 1Z_P6　move
MPS
DW K6 D7051              ; 除材1Z軸 移動No.
CON
OUT @M24                 ; 除材1Z軸移動
MPP
AND M7810                ; 除材1Z 移動完了
RES M7810                ; 除材1Z 移動完了
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;Y軸　NG排出位置移動
;Move to NG remove position
LD M7062                 ; NG排出位置移動
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
AND M7960                ; 除材1Y軸 動作可能
ANB T1706                ; 除材1CV_受取位置ﾜｰｸ検出
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7063                 ; 1Y_P6 move
MPS
DW K6 D7050              ; 除材1Y軸 移動No.
CON
OUT @M3                  ; 除材1Y軸移動
MPP
AND M7800                ; 除材1Y 移動完了
RES M7800                ; 除材1Y 移動完了
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締めNG発生
;Err450:Screw result NG
LD M7064                 ; 排出2NG取出位置移動確認
ANB T1706                ; 除材1CV_受取位置ﾜｰｸ検出
ANB T1703                ; 除材1_排出CV排出位置ﾜｰｸ検出
AND M7401                ; 除材1CV受取位置ﾜｰｸ無し受取可
ANB M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
DW K450 D148             ; 警報No.
CON
SET M7930                ; Err450:除材1ﾈｼﾞ締め異常
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7065                 ; 排出1ﾈｼﾞ締めｴﾗｰ
AND M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7066                 ; 排出1ｴﾗｰ停止中
AND T131                 ; UT6 7 8   ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
MPS
AND= D116 K2             ; RCA7_Position No.
DW K64 D7000             ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
AND<> D116 K2            ; RCA7_Position No.
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;Z軸　待機高さ下降
;Down to Wait position
LD M7067                 ; 待機高さへ下降
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
AND M7961                ; 除材1Z軸 動作可能
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7068                 ; 1Z_P1　move
MPS
DW K1 D7051              ; 除材1Z軸 移動No.
CON
OUT @M25                 ; 除材1Z軸移動
MPP
AND M7810                ; 除材1Z 移動完了
RES M7810                ; 除材1Z 移動完了
CON
DW K380 D7000            ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;■ﾈｼﾞ締めOK 排出動作
;Z軸　OK品除材高さ上昇
;Up to OK Case remove height
LD M7080                 ; 待機高さへ上昇
ANB M6700                ; 排出1側ﾈｼﾞ締めOK
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
AND M7961                ; 除材1Z軸 動作可能
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7081                 ; 1Z_P1　move
MPS
DW K7 D7051              ; 除材1Z軸 移動No.
CON
OUT @M26                 ; 除材1Z軸移動
MPP
AND M7810                ; 除材1Z 移動完了
MPS
ANB T1700                ; ﾈｼﾞ締め治具1 ﾜｰｸ検出
RES M7810                ; 除材1Z 移動完了
CON
DW K84 D7000             ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
AND T1700                ; ﾈｼﾞ締め治具1 ﾜｰｸ検出
TMR K721 K30             ; ﾈｼﾞ締め治具ﾜｰｸ確認時間
CON
AND T721                 ; ﾈｼﾞ締め治具ﾜｰｸ確認時間
OUT M7954                ; ﾈｼﾞ締めJIG1ﾜｰｸ残
;排出ｺﾝﾍﾞｱ排出可能確認
;Discharge Conveyor Can Discharge
LD M7084                 ; 除材CVﾜｰｸ確認
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
ANB T1706                ; 除材1CV_受取位置ﾜｰｸ検出
AND M7401                ; 除材1CV受取位置ﾜｰｸ無し受取可
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;Y軸　排出位置移動
;Move to remove position
LD M7085                 ; 除材高さへ下降
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
ANB T1706                ; 除材1CV_受取位置ﾜｰｸ検出
AND M7401                ; 除材1CV受取位置ﾜｰｸ無し受取可
AND M7960                ; 除材1Y軸 動作可能
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7086                 ; 1Z_P7　move
MPS
DW K7 D7050              ; 除材1Y軸 移動No.
CON
OUT @M4                  ; 除材1Y軸移動
MPP
AND M7800                ; 除材1Y 移動完了
RES M7800                ; 除材1Y 移動完了
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;ﾁｬｯｸ開　中間位置
;Chuck Open pass point
LD M7087                 ; ﾁｬｯｸ開　中継点
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
AND M7962                ; 除材1ﾁｬｯｸ 動作可能
DW K89 D7000             ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7088                 ; Chuck_P3  move
MPS
OUT @M50                 ; 除材1ﾁｬｯｸ  中継点Open
MPP
AND M7820                ; 除材1ﾁｬｯｸ 移動完了
RES M7820                ; 除材1ﾁｬｯｸ 移動完了
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;ﾁｬｯｸ開、Z軸上昇
;Chuck Open and Up to weiting point
LD M7089                 ; ﾁｬｯｸ開
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
AND M7962                ; 除材1ﾁｬｯｸ 動作可能
AND M7961                ; 除材1Z軸 動作可能
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7090                 ; Chuck_P1  move
MPS
RES L21                  ; 除材1ﾁｬｯｸ ﾜｰｸ有
CON
OUT @M42                 ; 除材1ﾁｬｯｸ  Open
MRD
AND>.L D132 E3310        ; RCA7_Position Data  R1ｸﾗﾝﾌﾟ閉TP_Pos_Data
DW K1 D7051              ; 除材1Z軸 移動No.
CON
OUT @M27                 ; 除材1Z軸移動
MPP
LD M7820                 ; 除材1ﾁｬｯｸ 移動完了
AND M7810                ; 除材1Z 移動完了
ANL
RES M7810                ; 除材1Z 移動完了
CON
RES M7820                ; 除材1ﾁｬｯｸ 移動完了
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;在荷確認
;Work check
LD M7091                 ; 在荷確認
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
MPS
AND T1706                ; 除材1CV_受取位置ﾜｰｸ検出
DW K200 D7000            ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
ANB T1706                ; 除材1CV_受取位置ﾜｰｸ検出
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;★★★　排出時ﾜｰｸ未検出　★★★
;Err451:CV1 Case is not detected
LD M7092                 ; 除材1排出時 ﾜｰｸ無
ANB M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
DW K451 D148             ; 警報No.
CON
SET M7931                ; Err451:除材1排出時ﾜｰｸ未検出
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7093                 ; 除材1排出時 ﾜｰｸ無 ｴﾗｰ
AND M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7094                 ; 除材1排出時 ﾜｰｸ無 ｴﾗｰ停止中
ANB M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
DW K200 D7000            ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;排出完了
LD M7200                 ; 除材1Z上昇確認排出完了
MPS
ANB M7401                ; 除材1CV受取位置ﾜｰｸ無し受取可
DW K380 D7000            ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
OUT M7779                ; 除材1受渡完了
;■■■
;サイクル停止条件
;Cycle end check
LD M7380                 ; 1ｻｲｸﾙ終了
MPS
LDB M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ORB M1398                ; ﾕﾆｯﾄ1ｻｲｸﾙ停止
ANL
DW K0 D7000              ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
LD M70                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M1398                ; ﾕﾆｯﾄ1ｻｲｸﾙ停止
ANL
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;終了時待機位置移動
;Move to waiting point in Operation finish.
;Y軸　排出位置移動
;Move to remove position
LD M7381                 ; 待機位置移動
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
MPS
AND= D114 K2             ; RCA5_Position No.
DW K383 D7000            ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
LD<> D114 K2             ; RCA5_Position No.
AND M7960                ; 除材1Y軸 動作可能
ANL
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
LD M7382                 ; Y_P2 move
MPS
DW K2 D7050              ; 除材1Y軸 移動No.
CON
OUT @M5                  ; 除材1Y軸移動
MPP
AND M7800                ; 除材1Y 移動完了
RES M7800                ; 除材1Y 移動完了
CON
@INC D7000               ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;除材CV動作完了待ち
;Waiting for Removre-CV Operation end.
LD M7383                 ; 除材CV動作終了待ち
AND M7401                ; 除材1CV受取位置ﾜｰｸ無し受取可
@MOV K398 D7000          ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;終了
;Unit AUTO cycle end
LD M7398                 ; ﾕﾆｯﾄ7ｻｲｸﾙ停止
MPS
LD M70                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M72                  ; 全ﾕﾆｯﾄ停止確認
ANL
@MOV K399 D7000          ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
MPP
ANB M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
DW K0 D7000              ; ﾕﾆｯﾄ7自動運転ｽﾃｯﾌﾟ
;<h1/>/// 排出CV動作
;Remove CV
;運転開始・ステッパ初期化・補助接点へ展開
LDP M83                  ; 各工程起動指令
OR M7905                 ; ﾕﾆｯﾄ7起動中
ANB M7439                ; 排出1CVｻｲｸﾙ完了
ANB M7903                ; ﾕﾆｯﾄ7起動OFF
OUT M7450                ; 除材1CV起動
LD CR2002                ; 常時ON
ZRES M7400 M7439         ; 除材1CV動作開始  排出1CVｻｲｸﾙ完了
LDB M7450                ; 除材1CV起動
MOV K0 D7001             ; UT7SUB1　排出CV STEP
LD M7450                 ; 除材1CV起動
MOV D7001 Z1             ; UT7SUB1　排出CV STEP
SET M7400:Z1             ; 除材1CV動作開始
;自動運転ステップ開始
;受取位置ﾜｰｸ有無確認
;Receiving Position Work Check
LD M7400                 ; 除材1CV動作開始
MPS
ANB T1706                ; 除材1CV_受取位置ﾜｰｸ検出
@INC D7001               ; UT7SUB1　排出CV STEP
MPP
AND T1706                ; 除材1CV_受取位置ﾜｰｸ検出
DW K3 D7001              ; UT7SUB1　排出CV STEP
;受取確認
;Receipt Confirmation
LD M7401                 ; 除材1CV受取位置ﾜｰｸ無し受取可
MPS
AND M7779                ; 除材1受渡完了
@INC D7001               ; UT7SUB1　排出CV STEP
MPP
ANB M7905                ; ﾕﾆｯﾄ7起動中
DW K39 D7001             ; UT7SUB1　排出CV STEP
LD M7402                 ; 除材1CV受取完了
ANB M7779                ; 除材1受渡完了
@INC D7001               ; UT7SUB1　排出CV STEP
;ｺﾝﾍﾞｱ回転
;Conveyor Start
LD M7403                 ; 除材1CV受取完了OFF確認
ANB T1703                ; 除材1_排出CV排出位置ﾜｰｸ検出
MPS
TMH K750 K50             ; 除材1CV回転開始ﾃﾞｨﾚｲ
MPP
AND T750                 ; 除材1CV回転開始ﾃﾞｨﾚｲ
@INC D7001               ; UT7SUB1　排出CV STEP
;ﾜｰｸ通過判定
;Work Pass Judgment
LD M7404                 ; 除材1CV回転
MPS
AND T1706                ; 除材1CV_受取位置ﾜｰｸ検出
MPS
TMR K751 K50             ; 除材1CV回転ﾃﾞｨﾚｲ
MPP
AND T751                 ; 除材1CV回転ﾃﾞｨﾚｲ
@INC D7001               ; UT7SUB1　排出CV STEP
MRD
ANB T1706                ; 除材1CV_受取位置ﾜｰｸ検出
MPS
TMR K752 K60             ; 除材1CV通過後停止ﾀｲﾏ
MPP
LD T752                  ; 除材1CV通過後停止ﾀｲﾏ
OR T1703                 ; 除材1_排出CV排出位置ﾜｰｸ検出
ANL
DW K10 D7001             ; UT7SUB1　排出CV STEP
MPP
OUT M7670                ; 除材1_CV 回転
;★★★　排出時ﾜｰｸ引っ掛かり　★★★
;排出CV排出NG発生
;Err452: Discharge CV1 NG
LD M7405                 ; 除材1CVﾜｰｸ排出ﾀｲﾑｱｳﾄ
ANB M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
DW K452 D148             ; 警報No.
CON
SET M7932                ; Err452:除材1排出CV払出異常
CON
@INC D7001               ; UT7SUB1　排出CV STEP
LD M7406                 ; 除材1CVﾜｰｸ排出ﾀｲﾑｱｳﾄ異常
AND M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
@INC D7001               ; UT7SUB1　排出CV STEP
LD M7407                 ; 除材1CVﾜｰｸ排出ﾀｲﾑｱｳﾄｴﾗｰ停止中
ANB M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
DW K10 D7001             ; UT7SUB1　排出CV STEP
;終了
;END
LD M7410                 ; 除材CV1ﾜｰｸ排出完了
DW K39 D7001             ; UT7SUB1　排出CV STEP
LD M83                   ; 各工程起動指令
AND T1703                ; 除材1_排出CV排出位置ﾜｰｸ検出
TMR K2000 K300           ; 排出CV1取出催促
;<h1/>■原点復帰回路
;Origin
;運転開始・ステッパ初期化・補助接点へ展開
LD CR2002                ; 常時ON
ZRES M7500 M7589         ; ﾕﾆｯﾄ7原点復帰開始  ﾕﾆｯﾄ7原点復帰完了確認
LDB M7904                ; ﾕﾆｯﾄ7原点復帰中
MOV K0 D7010             ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M7904                 ; ﾕﾆｯﾄ7原点復帰中
MOV D7010 Z1             ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
SET M7500:Z1             ; ﾕﾆｯﾄ7原点復帰開始
;原点復帰ステップ開始
;Origin start
;ﾈｼﾞ締めﾛﾎﾞｯﾄ原点確認
;Screw Robot Origin check
LD M7500                 ; ﾕﾆｯﾄ7原点復帰開始
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
LD M6510                 ; 原点復帰動作完了
AND M6900                ; ネジ締めRB原点
OR M27                   ; ねじ締めRB無視
ANL
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
;除材1ﾜｰｸ残ﾁｪｯｸ
;Remove-1 work remain check
LD M7501                 ; ﾜｰｸ残ﾁｪｯｸ
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
MPS
LDB L21                  ; 除材1ﾁｬｯｸ ﾜｰｸ有
LDB X122B                ; INP ID7
OR<> D116 K2             ; RCA7_Position No.
ANL
ANL
DW K10 D7010             ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
MPP
LD L21                   ; 除材1ﾁｬｯｸ ﾜｰｸ有
LD X122B                 ; INP ID7
AND= D116 K2             ; RCA7_Position No.
ORL
ANL
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
;ｴﾗｰ440:ﾜｰｸ取出ｸﾗﾝﾌﾟ開
;Err440:Work remain
LD M7502                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K440 D148             ; 警報No.
CON
SET M7920                ; Err440:除材1ﾜｰｸ残
CON
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M7503                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M7504                 ; ｴﾗｰ解除確認
ANB M71                  ; All Error PAUSE
MPS
AND<> D116 K2            ; RCA7_Position No.
DW K10 D7010             ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
MPP
AND= D116 K2             ; RCA7_Position No.
DW K2 D7010              ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
;PCB搬送　干渉確認
;PCB Transfer Interference check
LD M7510                 ; PCB搬送干渉確認
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
ANB M28                  ; 仮 NAT
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
;除材1Z軸　原点復帰
;Remove-Transfer Z HOME
LD M7511                 ; 除材1Z原点復帰
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
AND M7961                ; 除材1Z軸 動作可能
SET M7816                ; 除材1Z 原点復帰中
CON
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M7512                 ; RCA6 HOME
MPS
ANB X1218                ; BUSY ID6
OUT Y201C                ; ID6 SETUP
MPP
AND X1218                ; BUSY ID6
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M7513                 ; RCA6 HOME end
ANB X1218                ; BUSY ID6
AND X121A                ; SETON ID6
AND X121B                ; INP ID6
RES M7816                ; 除材1Z 原点復帰中
CON
DW K19 D7010             ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
;除材1Z軸原点復帰完了
;Remove-Transfer Z HOME end
LD M7519                 ; 除材1Z軸原点復帰完了
MPS
LD M7913                 ; UNIT7     ｴﾗｰ・PAUSE無し
AND M7990                ; 除材1Z軸　原点復帰完了
ANL
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
MPP
OUT M7840                ; 除材1Z軸原点復帰完了
;除材1ﾁｬｯｸ　原点復帰
;Remove-Transfer chuck HOME
LD M7520                 ; ﾁｬｯｸ原点復帰
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
AND M7963                ; 除材1ﾁｬｯｸ 原点復帰可能
RES L21                  ; 除材1ﾁｬｯｸ ﾜｰｸ有
CON
SET M7826                ; 除材1ﾁｬｯｸ 原点復帰中
CON
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M7521                 ; RCA7 HOME
MPS
ANB X1228                ; BUSY ID7
OUT M7650                ; RCA7 SETUP信号ON
MPP
AND X1228                ; BUSY ID7
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M7522                 ; RCA7 HOME　end
ANB X1228                ; BUSY ID7
AND X122A                ; SETON ID7
AND X122B                ; INP ID7
RES M7826                ; 除材1ﾁｬｯｸ 原点復帰中
CON
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
;除材1ﾁｬｯｸ開
;Remove chuck open
LD M7523                 ; ﾁｬｯｸ開位置（ちょっと狭め）
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
AND M7962                ; 除材1ﾁｬｯｸ 動作可能
RES L21                  ; 除材1ﾁｬｯｸ ﾜｰｸ有
CON
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M7524                 ; Chuck_P1 move
MPS
OUT @M43                 ; 除材1ﾁｬｯｸ  Open
MPP
AND M7820                ; 除材1ﾁｬｯｸ 移動完了
RES M7820                ; 除材1ﾁｬｯｸ 移動完了
CON
DW K30 D7010             ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
;除材1Y軸　原点復帰
;Remove-Transfer Y HOME
LD M7530                 ; 除材1Y軸原点復帰
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
AND M7960                ; 除材1Y軸 動作可能
ANB M5904                ; ﾕﾆｯﾄ5原点復帰中
SET M7806                ; 除材1Y 原点復帰中
CON
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M7531                 ; RCA5 HOME
MPS
ANB X1208                ; BUSY ID5
OUT Y200C                ; ID5 SETUP
MPP
AND X1208                ; BUSY ID5
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M7532                 ; RCA5 HOME end
ANB X1208                ; BUSY ID5
AND X120A                ; SETON ID5
AND X120B                ; INP ID5
RES M7806                ; 除材1Y 原点復帰中
CON
DW K50 D7010             ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
;除材1Y軸待機位置移動
;Move to remove waiting posotion
LD M7550                 ; 待機位置移動
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
AND M7960                ; 除材1Y軸 動作可能
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M7551                 ; Y_P2 move
MPS
DW K2 D7050              ; 除材1Y軸 移動No.
CON
OUT @M6                  ; 除材1Y軸移動
MPP
AND M7800                ; 除材1Y 移動完了
RES M7800                ; 除材1Y 移動完了
CON
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
;除材1Z軸上空位置移動
;Move to up point
LD M7552                 ; 待機位置移動
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
AND M7961                ; 除材1Z軸 動作可能
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M7553                 ; Z_P1 move
MPS
DW K1 D7051              ; 除材1Z軸 移動No.
CON
OUT @M28                 ; 除材1Z軸移動
MPP
AND M7810                ; 除材1Z 移動完了
RES M7810                ; 除材1Z 移動完了
CON
DW K60 D7010             ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
;ﾜｰｸ残ﾁｪｯｸ
;Case remain check
LD M7560                 ; ﾜｰｸ残確認
AND M7913                ; UNIT7     ｴﾗｰ・PAUSE無し
MPS
LDB T1310                ; 投入1_受渡位置ﾜｰｸ検出
ANB T1700                ; ﾈｼﾞ締め治具1 ﾜｰｸ検出
ANB T1706                ; 除材1CV_受取位置ﾜｰｸ検出
ANL
DW K80 D7010             ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
MPP
LD T1310                 ; 投入1_受渡位置ﾜｰｸ検出
OR T1700                 ; ﾈｼﾞ締め治具1 ﾜｰｸ検出
OR T1706                 ; 除材1CV_受取位置ﾜｰｸ検出
ANL
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
;ｴﾗｰ440:ﾜｰｸ取出ｸﾗﾝﾌﾟ開
;Err440:Work remain
LD M7561                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K440 D148             ; 警報No.
CON
SET M7920                ; Err440:除材1ﾜｰｸ残
CON
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M7562                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D7010               ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
LD M7563                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K60 D7010             ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
;除材1原点復帰終了
;Origin end
LD M7580                 ; 原点復帰動作完了
AND M7900                ; ﾕﾆｯﾄ7原点
OUT M7588                ; ﾕﾆｯﾄ7原点復帰完了
LD M7588                 ; ﾕﾆｯﾄ7原点復帰完了
ANB M98                  ; 原点復帰開始
@MOV K89 D7010           ; ﾕﾆｯﾄ7原点復帰ｽﾃｯﾌﾟ
;■強制ﾁｬｯｸ開回路
;Chuck forcibly canceled
LD M7904                 ; ﾕﾆｯﾄ7原点復帰中
LD T1704                 ; 除材1_ﾁｬｯｸ解除ｽｲｯﾁ
OR T1705                 ; 除材1_ﾁｬｯｸ開ﾌｯﾄｽｲｯﾁ
ANL
LDB M7905                ; ﾕﾆｯﾄ7起動中
LD M7905                 ; ﾕﾆｯﾄ7起動中
LD M7912                 ; UNIT7 ｴﾗｰ
AND B1013                ; Remove_FLG
LD M1912                 ; UNIT1 ｴﾗｰ
AND= D150 K326           ; Status表示No.
ORL
ANL
ORL
AND T1704                ; 除材1_ﾁｬｯｸ解除ｽｲｯﾁ
ORL
LD M7905                 ; ﾕﾆｯﾄ7起動中
AND M7066                ; 排出1ｴﾗｰ停止中
ANB M133                 ; NG排出1安全扉正常
LDB M81                  ; 自動運転開始BZ
ANB M97                  ; 原点復帰動作中
LDB M131                 ; 安全扉正常
ORB M133                 ; NG排出1安全扉正常
ORB M134                 ; NG排出2安全扉正常
ANL
ORL
AND T1705                ; 除材1_ﾁｬｯｸ開ﾌｯﾄｽｲｯﾁ
ORL
OUT M7591                ; 除材ﾁｬｯｸ強制開
LD CR2002                ; 常時ON
MPS
LD M7591                 ; 除材ﾁｬｯｸ強制開
AND M7962                ; 除材1ﾁｬｯｸ 動作可能
OR M7590                 ; 除材1ﾁｬｯｸ強制開P1移動
ANB M7820                ; 除材1ﾁｬｯｸ 移動完了
ANL
MPS
RES L21                  ; 除材1ﾁｬｯｸ ﾜｰｸ有
CON
OUT M7590                ; 除材1ﾁｬｯｸ強制開P1移動
MPP
OUT @M44                 ; 除材1ﾁｬｯｸ  Open
MPP
ANF M7590                ; 除材1ﾁｬｯｸ強制開P1移動
RES M7820                ; 除材1ﾁｬｯｸ 移動完了
LD CR2002                ; 常時ON
LD M7591                 ; 除材ﾁｬｯｸ強制開
ANB M7962                ; 除材1ﾁｬｯｸ 動作可能
AND M7963                ; 除材1ﾁｬｯｸ 原点復帰可能
OR M7592                 ; 除材ﾁｬｯｸ1強制原点復帰で開
ANL
LDB X122A                ; SETON ID7
ORB X122B                ; INP ID7
ANL
MPS
@RES L21                 ; 除材1ﾁｬｯｸ ﾜｰｸ有
CON
@SET M7826               ; 除材1ﾁｬｯｸ 原点復帰中
CON
OUT M7592                ; 除材ﾁｬｯｸ1強制原点復帰で開
MPP
OUT M7651                ; RCA7 SETUP信号ON
;<h1/>■手動回路 
;Manual
LD M33                   ; 手動ﾓｰﾄﾞ
AND M34                  ; ﾒｲﾝ手動操作可能条件
ANB M7905                ; ﾕﾆｯﾄ7起動中
ANB M97                  ; 原点復帰動作中
MC
LDB X1208                ; BUSY ID5
ANB X1218                ; BUSY ID6
ANB X1228                ; BUSY ID7
MPS
AND M7960                ; 除材1Y軸 動作可能
TMH K760 K20             ; 手動起動許可ｳｪｲﾄ
CON
AND T760                 ; 手動起動許可ｳｪｲﾄ
OUT M7608                ; 除材1手動Y軸動作可能
MRD
AND M7961                ; 除材1Z軸 動作可能
TMH K761 K20             ; 手動起動許可ｳｪｲﾄ
CON
AND T761                 ; 手動起動許可ｳｪｲﾄ
OUT M7609                ; 除材1手動Z軸動作可能
MPP
AND M7962                ; 除材1ﾁｬｯｸ 動作可能
TMH K762 K20             ; 手動起動許可ｳｪｲﾄ
CON
AND T762                 ; 手動起動許可ｳｪｲﾄ
OUT M7610                ; 除材1手動Chuck動作可能
;除材搬送1 Y軸
;Remove-Transfer 1 Y
LD CR2002                ; 常時ON
MPS
LD B1140                 ; 除材1Y軸　OK品排出位置 PB
AND M7608                ; 除材1手動Y軸動作可能
OR M7611                 ; 除材1Y    P7移動
ANB M7800                ; 除材1Y 移動完了
ANL
OUT M7611                ; 除材1Y    P7移動
DW K7 D7050              ; 除材1Y軸 移動No.
CON
OUT @M7                  ; 除材1Y軸移動
MPP
ANF M7611                ; 除材1Y    P7移動
RES M7800                ; 除材1Y 移動完了
LD CR2002                ; 常時ON
MPS
LD B1141                 ; 除材1Y軸　NG品排出位置 PB
AND M7608                ; 除材1手動Y軸動作可能
OR M7612                 ; 除材1Y    P6移動
ANB M7800                ; 除材1Y 移動完了
ANL
OUT M7612                ; 除材1Y    P6移動
DW K6 D7050              ; 除材1Y軸 移動No.
CON
OUT @M8                  ; 除材1Y軸移動
MPP
ANF M7612                ; 除材1Y    P6移動
RES M7800                ; 除材1Y 移動完了
LD CR2002                ; 常時ON
MPS
LD B1142                 ; 除材1Y軸　ﾈｼﾞ締め位置 PB
AND M7608                ; 除材1手動Y軸動作可能
OR M7613                 ; 除材1Y    P5移動
ANB M7800                ; 除材1Y 移動完了
ANL
OUT M7613                ; 除材1Y    P5移動
DW K5 D7050              ; 除材1Y軸 移動No.
CON
OUT @M9                  ; 除材1Y軸移動
MPP
ANF M7613                ; 除材1Y    P5移動
RES M7800                ; 除材1Y 移動完了
LD CR2002                ; 常時ON
MPS
LD B1143                 ; 除材1Y軸　待機位置 PB
AND M7608                ; 除材1手動Y軸動作可能
OR M7614                 ; 除材1Y    P2移動
ANB M7800                ; 除材1Y 移動完了
ANL
OUT M7614                ; 除材1Y    P2移動
DW K2 D7050              ; 除材1Y軸 移動No.
CON
OUT @M10                 ; 除材1Y軸移動
MPP
ANF M7614                ; 除材1Y    P2移動
RES M7800                ; 除材1Y 移動完了
LD CR2002                ; 常時ON
MPS
LD B1144                 ; 除材1Y軸　受取位置 PB
AND M7608                ; 除材1手動Y軸動作可能
OR M7615                 ; 除材1Y    P3移動
ANB M7800                ; 除材1Y 移動完了
ANL
OUT M7615                ; 除材1Y    P3移動
DW K3 D7050              ; 除材1Y軸 移動No.
CON
OUT @M11                 ; 除材1Y軸移動
MPP
ANF M7615                ; 除材1Y    P3移動
RES M7800                ; 除材1Y 移動完了
;除材搬送1 Z軸
;Remove-Transfer 1 Z
LD CR2002                ; 常時ON
MPS
LD B1145                 ; 除材1Z軸　上空待機高さ PB
AND M7609                ; 除材1手動Z軸動作可能
OR M7620                 ; 除材1Z    P1移動
ANB M7810                ; 除材1Z 移動完了
ANL
OUT M7620                ; 除材1Z    P1移動
DW K1 D7051              ; 除材1Z軸 移動No.
CON
OUT @M29                 ; 除材1Z軸移動
MPP
ANF M7620                ; 除材1Z    P1移動
RES M7810                ; 除材1Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1146                 ; 除材1Z軸　NG品排出高さ PB
AND M7609                ; 除材1手動Z軸動作可能
OR M7621                 ; 除材1Z    P6移動
ANB M7810                ; 除材1Z 移動完了
ANL
OUT M7621                ; 除材1Z    P6移動
DW K6 D7051              ; 除材1Z軸 移動No.
CON
OUT @M30                 ; 除材1Z軸移動
MPP
ANF M7621                ; 除材1Z    P6移動
RES M7810                ; 除材1Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1147                 ; 除材1Z軸　OK品排出高さ PB
AND= D114 K7             ; RCA5_Position No.
AND M7609                ; 除材1手動Z軸動作可能
OR M7622                 ; 除材1Z    P7移動
ANB M7810                ; 除材1Z 移動完了
ANL
OUT M7622                ; 除材1Z    P7移動
DW K7 D7051              ; 除材1Z軸 移動No.
CON
OUT @M31                 ; 除材1Z軸移動
MPP
ANF M7622                ; 除材1Z    P7移動
RES M7810                ; 除材1Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1148                 ; 除材1Z軸　ﾈｼﾞ締め高さ PB
AND= D114 K5             ; RCA5_Position No.
AND M7609                ; 除材1手動Z軸動作可能
OR M7623                 ; 除材1Z    P5移動
ANB M7810                ; 除材1Z 移動完了
ANL
OUT M7623                ; 除材1Z    P5移動
DW K5 D7051              ; 除材1Z軸 移動No.
CON
OUT @M32                 ; 除材1Z軸移動
MPP
ANF M7623                ; 除材1Z    P5移動
RES M7810                ; 除材1Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1149                 ; 除材1Z軸　受取高さ PB
AND= D114 K3             ; RCA5_Position No.
AND M7609                ; 除材1手動Z軸動作可能
OR M7624                 ; 除材1Z    P3移動
ANB M7810                ; 除材1Z 移動完了
ANL
OUT M7624                ; 除材1Z    P3移動
DW K3 D7051              ; 除材1Z軸 移動No.
CON
OUT @M33                 ; 除材1Z軸移動
MPP
ANF M7624                ; 除材1Z    P3移動
RES M7810                ; 除材1Z 移動完了
;除材搬送1 ﾁｬｯｸ
;Remove-Transfer 1 Chuck
LD CR2002                ; 常時ON
MPS
LD B114A                 ; 除材1ﾁｬｯｸ1　閉 PB
AND M7962                ; 除材1ﾁｬｯｸ 動作可能
OR M7630                 ; 除材1chuckP2移動
ANB M7820                ; 除材1ﾁｬｯｸ 移動完了
ANL
OUT M7630                ; 除材1chuckP2移動
OUT @M61                 ; 除材1ﾁｬｯｸ  Close
MPP
ANF M7630                ; 除材1chuckP2移動
RES M7820                ; 除材1ﾁｬｯｸ 移動完了
LD CR2002                ; 常時ON
MPS
LD B114B                 ; 除材1ﾁｬｯｸ1　開 PB
AND M7962                ; 除材1ﾁｬｯｸ 動作可能
OR M7631                 ; 除材1chuckP1移動
ANB M7820                ; 除材1ﾁｬｯｸ 移動完了
ANL
MPS
RES L21                  ; 除材1ﾁｬｯｸ ﾜｰｸ有
CON
OUT M7631                ; 除材1chuckP1移動
MPP
OUT @M45                 ; 除材1ﾁｬｯｸ  Open
MPP
ANF M7631                ; 除材1chuckP1移動
RES M7820                ; 除材1ﾁｬｯｸ 移動完了
LD CR2002                ; 常時ON
MPS
LD B114D                 ; 除材1ﾁｬｯｸ1　開中間位置 PB
AND M7962                ; 除材1ﾁｬｯｸ 動作可能
OR M7632                 ; 除材1chuckP3移動
ANB M7820                ; 除材1ﾁｬｯｸ 移動完了
ANL
OUT M7632                ; 除材1chuckP3移動
OUT @M51                 ; 除材1ﾁｬｯｸ  中継点Open
MPP
ANF M7632                ; 除材1chuckP3移動
RES M7820                ; 除材1ﾁｬｯｸ 移動完了
;Jog
LD X1209                 ; SVRE ID5
AND X120A                ; SETON ID5
ANB X120E                ; ESTOP ID5
ANB X120F                ; ALARM ID5
ANB M7800                ; 除材1Y 移動完了
ANB M7802                ; 除材1Y 移動中
ANB M7804                ; 除材1Y 原点復帰完了
MPS
AND B2110                ; 除材1Y軸+JOG PB
OUT Y200E                ; ID5 JOG+
MPP
AND B2111                ; 除材1Y軸-JOG PB
OUT Y200D                ; ID5 JOG-
LD X1219                 ; SVRE ID6
AND X121A                ; SETON ID6
ANB X121E                ; ESTOP ID6
ANB X121F                ; ALARM ID6
ANB M7810                ; 除材1Z 移動完了
ANB M7812                ; 除材1Z 移動中
ANB M7814                ; 除材1Z 原点復帰完了
MPS
AND B2112                ; 除材1Z軸+JOG PB
OUT Y201E                ; ID6 JOG+
MPP
AND B2113                ; 除材1Z軸-JOG PB
OUT Y201D                ; ID6 JOG-
LD X1229                 ; SVRE ID7
AND X122A                ; SETON ID7
ANB X122E                ; ESTOP ID7
ANB X122F                ; ALARM ID7
ANB M7820                ; 除材1ﾁｬｯｸ 移動完了
ANB M7822                ; 除材1ﾁｬｯｸ 移動中
ANB M7824                ; 除材1ﾁｬｯｸ 原点復帰完了
MPS
AND B2114                ; 除材1ﾁｬｯｸ+JOG PB
OUT Y202E                ; ID7 JOG+
MPP
AND B2115                ; 除材1ﾁｬｯｸ-JOG PB
OUT Y202D                ; ID7 JOG-
;除材CV
;Remove CV
LDP B114C                ; 除材CV1 ON PB
AND M33                  ; 手動ﾓｰﾄﾞ
AND M129                 ; 非常停止正常
AND M130                 ; 外部非常停止正常
ANB M7905                ; ﾕﾆｯﾄ7起動中
ANB M97                  ; 原点復帰動作中
ALT M7660                ; 除材CV1 ON
LDF M33                  ; 手動ﾓｰﾄﾞ
ORP M97                  ; 原点復帰動作中
RES M7660                ; 除材CV1 ON
MCR
;<h1/>出力
;OUTPUT
;排出ｺﾝﾍﾞｱ
;Conveyor
LD M32                   ; 自動ﾓｰﾄﾞ
AND M7670                ; 除材1_CV 回転
ANB T1703                ; 除材1_排出CV排出位置ﾜｰｸ検出
LD M33                   ; 手動ﾓｰﾄﾞ
AND M7660                ; 除材CV1 ON
ORL
OUT Y209                 ; 除材1_排出CV回転
;ﾛﾎﾞｯﾄ
;ROBOT
LDB @M0                  ; 除材1Y軸移動
ANB @M1                  ; 除材1Y軸移動
ANB @M2                  ; 除材1Y軸移動
ANB @M3                  ; 除材1Y軸移動
ANB @M4                  ; 除材1Y軸移動
ANB @M5                  ; 除材1Y軸移動
ANB @M6                  ; 除材1Y軸移動
ANB @M7                  ; 除材1Y軸移動
ANB @M8                  ; 除材1Y軸移動
ANB @M9                  ; 除材1Y軸移動
ANB @M10                 ; 除材1Y軸移動
ANB @M11                 ; 除材1Y軸移動
INV
ANB M6015                ; 排出1ﾈｼﾞ締め完了待ち
MCALL P_MOVE_S K5 D7050 M7801 M7800 M7802;除材1Y軸 移動No.  除材1Y 移動異常  除材1Y 移動完了  除材1Y 移動中
LDB @M20                 ; 除材1Z軸移動
ANB @M21                 ; 除材1Z軸移動
ANB @M22                 ; 除材1Z軸移動
ANB @M23                 ; 除材1Z軸移動
ANB @M24                 ; 除材1Z軸移動
ANB @M25                 ; 除材1Z軸移動
ANB @M26                 ; 除材1Z軸移動
ANB @M27                 ; 除材1Z軸移動
ANB @M28                 ; 除材1Z軸移動
ANB @M29                 ; 除材1Z軸移動
ANB @M30                 ; 除材1Z軸移動
ANB @M31                 ; 除材1Z軸移動
ANB @M32                 ; 除材1Z軸移動
ANB @M33                 ; 除材1Z軸移動
INV
ANB M6015                ; 排出1ﾈｼﾞ締め完了待ち
MCALL P_MOVE_S K6 D7051 M7811 M7810 M7812;除材1Z軸 移動No.  除材1Z 移動異常  除材1Z 移動完了  除材1Z 移動中
LDB @M40                 ; 除材1ﾁｬｯｸ  Open
ANB @M41                 ; 除材1ﾁｬｯｸ  Open
ANB @M42                 ; 除材1ﾁｬｯｸ  Open
ANB @M43                 ; 除材1ﾁｬｯｸ  Open
ANB @M44                 ; 除材1ﾁｬｯｸ  Open
ANB @M45                 ; 除材1ﾁｬｯｸ  Open
INV
ANB M6015                ; 排出1ﾈｼﾞ締め完了待ち
MCALL P_MOVE_S K7 K1 M7821 M7820 M7822;除材1ﾁｬｯｸ 移動異常  除材1ﾁｬｯｸ 移動完了  除材1ﾁｬｯｸ 移動中
LDB @M50                 ; 除材1ﾁｬｯｸ  中継点Open
ANB @M51                 ; 除材1ﾁｬｯｸ  中継点Open
INV
ANB M6015                ; 排出1ﾈｼﾞ締め完了待ち
MCALL P_MOVE_S K7 K3 M7821 M7820 M7822;除材1ﾁｬｯｸ 移動異常  除材1ﾁｬｯｸ 移動完了  除材1ﾁｬｯｸ 移動中
LDB @M60                 ; 除材1ﾁｬｯｸ  Close
ANB @M61                 ; 除材1ﾁｬｯｸ  Close
INV
MCALL P_CHUCK_S K7 K2 M7821 M7820 M7822 L21;除材1ﾁｬｯｸ 移動異常  除材1ﾁｬｯｸ 移動完了  除材1ﾁｬｯｸ 移動中  除材1ﾁｬｯｸ ﾜｰｸ有
;RCA7
LD M7650                 ; RCA7 SETUP信号ON
OR M7651                 ; RCA7 SETUP信号ON
OUT Y202C                ; ID7 SETUP
;<h1/>異常検出
;
LD CR2002                ; 常時ON
MPS
LD M7956                 ; ﾈｼﾞ締め1 Jig No.異常
OR M7957                 ; ﾈｼﾞ締め1 Jig No.異常
LDB B05E0                ; ﾈｼﾞ締台1_Jig番号異常 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0E0                 ; ﾈｼﾞ締めJig1ID異常
ORL
ANL
OUT B0E0                 ; ﾈｼﾞ締めJig1ID異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05E0                 ; ﾈｼﾞ締台1_Jig番号異常 BZ停止
AND B0E0                 ; ﾈｼﾞ締めJig1ID異常
ANL
OUT B05E0                ; ﾈｼﾞ締台1_Jig番号異常 BZ停止
LD CR2002                ; 常時ON
MPS
LD M64                   ; 運転準備
AND X120F                ; ALARM ID5
LDB B05E1                ; 除材1Y軸異常 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0E1                 ; 除材1Y軸異常
ORL
ANL
OUT B0E1                 ; 除材1Y軸異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05E1                 ; 除材1Y軸異常 BZ停止
AND B0E1                 ; 除材1Y軸異常
ANL
OUT B05E1                ; 除材1Y軸異常 BZ停止
LD CR2002                ; 常時ON
MPS
LD M64                   ; 運転準備
AND X121F                ; ALARM ID6
LDB B05E2                ; 除材1Z軸異常 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0E2                 ; 除材1Z軸異常
ORL
ANL
OUT B0E2                 ; 除材1Z軸異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05E2                 ; 除材1Z軸異常 BZ停止
AND B0E2                 ; 除材1Z軸異常
ANL
OUT B05E2                ; 除材1Z軸異常 BZ停止
LD CR2002                ; 常時ON
MPS
LD M64                   ; 運転準備
AND X122F                ; ALARM ID7
LDB B05E3                ; 除材1ﾁｬｯｸ異常 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0E3                 ; 除材1ﾁｬｯｸ軸異常
ORL
ANL
OUT B0E3                 ; 除材1ﾁｬｯｸ軸異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05E3                 ; 除材1ﾁｬｯｸ異常 BZ停止
AND B0E3                 ; 除材1ﾁｬｯｸ軸異常
ANL
OUT B05E3                ; 除材1ﾁｬｯｸ異常 BZ停止
LD M64                   ; 運転準備
AND= D116 K2             ; RCA7_Position No.
AND L21                  ; 除材1ﾁｬｯｸ ﾜｰｸ有
ANB X122B                ; INP ID7
TMR K740 K10             ; ﾁｬｯｸ異常検出時間
LD CR2002                ; 常時ON
MPS
LD T740                  ; ﾁｬｯｸ異常検出時間
LDB B05E4                ; 除材1ﾜｰｸ行方不明 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0E4                 ; 除材1ﾜｰｸ行方不明
ORL
ANL
OUT B0E4                 ; 除材1ﾜｰｸ行方不明
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05E4                 ; 除材1ﾜｰｸ行方不明 BZ停止
AND B0E4                 ; 除材1ﾜｰｸ行方不明
ANL
OUT B05E4                ; 除材1ﾜｰｸ行方不明 BZ停止
LD CR2002                ; 常時ON
MPS
LD M7951                 ; 除材時ﾜｰｸ落下異常
LDB B05E5                ; 除材時ﾜｰｸ落下_異常 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0E5                 ; 除材1ｹｰｽﾁｬｯｸﾐｽ
ORL
ANL
OUT B0E5                 ; 除材1ｹｰｽﾁｬｯｸﾐｽ
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05E5                 ; 除材時ﾜｰｸ落下_異常 BZ停止
AND B0E5                 ; 除材1ｹｰｽﾁｬｯｸﾐｽ
ANL
OUT B05E5                ; 除材時ﾜｰｸ落下_異常 BZ停止
LD CR2002                ; 常時ON
MPS
LD M7954                 ; ﾈｼﾞ締めJIG1ﾜｰｸ残
OR M7955                 ; ﾈｼﾞ締めJIG1ﾜｰｸ残
LDB B05E6                ; ﾈｼﾞ締台1 ﾜｰｸ有異常 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0E6                 ; ﾈｼﾞ締台1 ﾜｰｸ残
ORL
ANL
OUT B0E6                 ; ﾈｼﾞ締台1 ﾜｰｸ残
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05E6                 ; ﾈｼﾞ締台1 ﾜｰｸ有異常 BZ停止
AND B0E6                 ; ﾈｼﾞ締台1 ﾜｰｸ残
ANL
OUT B05E6                ; ﾈｼﾞ締台1 ﾜｰｸ有異常 BZ停止
LD CR2002                ; 常時ON
MPS
LD M7953                 ; ﾈｼﾞ締め位置ﾜｰｸ行方不明
LDB T1700                ; ﾈｼﾞ締め治具1 ﾜｰｸ検出
AND M6015                ; 排出1ﾈｼﾞ締め完了待ち
AND X1068                ; ﾈｼﾞ締め動作開始ﾌﾗｸﾞ
ORL
LDB B05E7                ; ﾈｼﾞ締め治具ﾜｰｸ行方不明 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0E7                 ; ﾈｼﾞ締め治具1ﾜｰｸ行方不明
ORL
ANL
OUT B0E7                 ; ﾈｼﾞ締め治具1ﾜｰｸ行方不明
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05E7                 ; ﾈｼﾞ締め治具ﾜｰｸ行方不明 BZ停止
AND B0E7                 ; ﾈｼﾞ締め治具1ﾜｰｸ行方不明
ANL
OUT B05E7                ; ﾈｼﾞ締め治具ﾜｰｸ行方不明 BZ停止
;異常ﾌﾞｻﾞｰまとめ
LD B0E0                  ; ﾈｼﾞ締めJig1ID異常
ANB B05E0                ; ﾈｼﾞ締台1_Jig番号異常 BZ停止
LD B0E1                  ; 除材1Y軸異常
ANB B05E1                ; 除材1Y軸異常 BZ停止
ORL
LD B0E2                  ; 除材1Z軸異常
ANB B05E2                ; 除材1Z軸異常 BZ停止
ORL
LD B0E3                  ; 除材1ﾁｬｯｸ軸異常
ANB B05E3                ; 除材1ﾁｬｯｸ異常 BZ停止
ORL
LD B0E4                  ; 除材1ﾜｰｸ行方不明
ANB B05E4                ; 除材1ﾜｰｸ行方不明 BZ停止
ORL
LD B0E5                  ; 除材1ｹｰｽﾁｬｯｸﾐｽ
ANB B05E5                ; 除材時ﾜｰｸ落下_異常 BZ停止
ORL
LD B0E6                  ; ﾈｼﾞ締台1 ﾜｰｸ残
ANB B05E6                ; ﾈｼﾞ締台1 ﾜｰｸ有異常 BZ停止
ORL
LD B0E7                  ; ﾈｼﾞ締め治具1ﾜｰｸ行方不明
ANB B05E7                ; ﾈｼﾞ締め治具ﾜｰｸ行方不明 BZ停止
ORL
OUT M7909                ; ﾕﾆｯﾄ7異常BZ補助
END
ENDH
