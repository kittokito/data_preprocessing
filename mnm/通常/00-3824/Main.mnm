DEVICE:135
;MODULE:Main
;MODULE_TYPE:0
;SCRIPT_TYPE:
LD R004                  ; 乾燥炉運転中信号
OR CR2002                ; 常時ON
AND R005                 ; モータアラーム
AND R007                 ; 動作可能範囲
OUT MR100                ; 運転可能条件
LDP R000                 ; スタートSW
OR MR200                 ; 自動スタート
AND R001                 ; 非常停止
AND MR100                ; 運転可能条件
ANB R504                 ; アラームリセット
OUT MR200                ; 自動スタート
LD MR200                 ; 自動スタート
LDB MR200                ; 自動スタート
AND R002                 ; 手動操作スイッチ左
ORL
LDB MR200                ; 自動スタート
AND R003                 ; 手動操作スイッチ右
ORL
AND R001                 ; 非常停止
OUT R501                 ; スタート出力
LD R501                  ; スタート出力
AND<= DM10000 #1945      ; ch0_AD A/D変換ﾃﾞｰﾀ
OUT R502                 ; RUN
LD>=.S DM10000 +1000     ; ch0_AD A/D変換ﾃﾞｰﾀ
LDB MR200                ; 自動スタート
AND R003                 ; 手動操作スイッチ右
ORL
OUT R503                 ; CW設定
LDB R005                 ; モータアラーム
MEP
OUT R504                 ; アラームリセット
;DM1000 = 500	'設定値
;DM1001 = 0		'手動操作量
;DM1002 = 0		'動作制御フラグ
;DM1003 = 0		'動作設定
;DM1004 = 1000	'サンプリング周期
;DM1005 = 1		'比例定数
;DM1006 = 1		'積分定数
;DM1007 = 1		'微分定数
;DM1008 = 0		'比例定数2自由度化係数
;DM1009 = 0		'積分定数2自由度化係数
;DM1010 = 0		'微分定数2自由度化係数
;DM1011 = 0		'操作量下限値
;DM1012 = 1000	'操作量上限値
;DM1013 = 0		'操作量変化幅制限値
;DM1014 = 0		'測定値変化幅
;DM1015 = 0		'AT結果調整パラメータ
;DM1016 = 0		'ATヒステリシス
;DM1017 = 0		'ATタイムアウト時間
LD CR2008                ; 運転開始時1ｽｷｬﾝON
NCJ #1000
;DM1000 = 500	'設定値
;
LD CR2002                ; 常時ON
MOV #500 DM1000
;DM1001 = 0		'手動操作量
;
LD CR2002                ; 常時ON
MOV #0 DM1001
;DM1002 = 0		'動作制御フラグ
;
LD CR2002                ; 常時ON
MOV #0 DM1002
;DM1003 = 0		'動作設定
;
LD CR2002                ; 常時ON
MOV #0 DM1003
;DM1004 = 1000	'サンプリング周期
;
LD CR2002                ; 常時ON
MOV #1000 DM1004
;DM1005 = 1		'比例定数
;
LD CR2002                ; 常時ON
MOV #1 DM1005
;DM1006 = 1		'積分定数
;
LD CR2002                ; 常時ON
MOV #1 DM1006
;DM1007 = 1		'微分定数
;
LD CR2002                ; 常時ON
MOV #1 DM1007
;DM1008 = 0		'比例定数2自由度化係数
;
LD CR2002                ; 常時ON
MOV #0 DM1008
;DM1009 = 0		'積分定数2自由度化係数
;
LD CR2002                ; 常時ON
MOV #0 DM1009
;DM1010 = 0		'微分定数2自由度化係数
;
LD CR2002                ; 常時ON
MOV #0 DM1010
;DM1011 = 0		'操作量下限値
;
LD CR2002                ; 常時ON
MOV #0 DM1011
;DM1012 = 1000	'操作量上限値
;
LD CR2002                ; 常時ON
MOV #1000 DM1012
;DM1013 = 0		'操作量変化幅制限値
;
LD CR2002                ; 常時ON
MOV #0 DM1013
;DM1014 = 0		'測定値変化幅
;
LD CR2002                ; 常時ON
MOV #0 DM1014
;DM1015 = 0		'AT結果調整パラメータ
;
LD CR2002                ; 常時ON
MOV #0 DM1015
;DM1016 = 0		'ATヒステリシス
;
LD CR2002                ; 常時ON
MOV #0 DM1016
;DM1017 = 0		'ATタイムアウト時間
LD CR2002                ; 常時ON
MOV #0 DM1017
LABEL #1000
;
LD R502                  ; RUN
MPS
AND CR2003               ; 常時OFF
PIDAT DM10000 DM1000 DM10018;ch0_AD A/D変換ﾃﾞｰﾀ  ch2_DA 出力ﾃﾞｰﾀ
MRD
AND>=.S DM10000 +1000    ; ch0_AD A/D変換ﾃﾞｰﾀ
CAL-.S DM10000 +1000 DM500;ch0_AD A/D変換ﾃﾞｰﾀ
CAL*.S DM500 +2 DM10018  ; ch2_DA 出力ﾃﾞｰﾀ
MPP
AND<.S DM10000 +1000     ; ch0_AD A/D変換ﾃﾞｰﾀ
CAL-.S +1000 DM10000 DM501;ch0_AD A/D変換ﾃﾞｰﾀ
CAL*.S DM501 +2 DM10018  ; ch2_DA 出力ﾃﾞｰﾀ
END
ENDH
