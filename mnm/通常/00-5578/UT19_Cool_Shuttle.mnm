DEVICE:53
;MODULE:UT19_Cool_Shuttle
;MODULE_TYPE:0
;[][]    Received input    [][]
LD X1628                 ; 冷却槽ｼｬﾄﾙ受取ﾜｰｸ確認
TMR K1911 K5             ; 冷却槽搬送ｼｬﾄﾙ受取ﾜｰｸ有
LDB X1628                ; 冷却槽ｼｬﾄﾙ受取ﾜｰｸ確認
TMR K1912 K3             ; 冷却槽搬送ｼｬﾄﾙ受取ﾜｰｸ無
LD X1629                 ; 冷却槽ｼｬﾄﾙ取出ﾜｰｸ確認
TMR K1913 K3             ; 冷却槽搬送ｼｬﾄﾙ取出ﾜｰｸ有
LDB X1629                ; 冷却槽ｼｬﾄﾙ取出ﾜｰｸ確認
TMR K1914 K3             ; 冷却槽搬送ｼｬﾄﾙ取出ﾜｰｸ無
;[] ｾｯﾄ治具ID
;Set JIG ID
LD CR2002                ; 常時ON
MPS
AND X162A                ; 冷却槽ｼｬﾄﾙﾊﾟﾚｯﾄ_ID1
OUT D10052.0
MRD
AND X162B                ; 冷却槽ｼｬﾄﾙﾊﾟﾚｯﾄ_ID2
OUT D10052.1
MPP
AND X162C                ; 冷却槽ｼｬﾄﾙﾊﾟﾚｯﾄ_ID3
OUT D10052.2
LD<> D10050 D10052       ; 冷却槽搬送ｼｬﾄﾙﾊﾟﾚｯﾄID  冷却槽搬送ｼｬﾄﾙﾊﾟﾚｯﾄID_Copy
AND M11471               ; RB17_ﾜｰｸ受取位置(待機位置)
MPS
TMR K1906 K5             ; ﾊﾟﾚｯﾄID_変更有り
MPP
AND T1906                ; ﾊﾟﾚｯﾄID_変更有り
MOV D10052 D10050        ; 冷却槽搬送ｼｬﾄﾙﾊﾟﾚｯﾄID_Copy  冷却槽搬送ｼｬﾄﾙﾊﾟﾚｯﾄID
;高温槽搬送ｼｬﾄﾙ現在値
LD X400A                 ; Cｼｬﾄﾙ(RB17)原点確定_HEND
AND X400B                ; Cｼｬﾄﾙ(RB17)位置決め完了_PEND
MPS
AND X4000                ; Cｼｬﾄﾙ(RB17)完了Pos_PM1
OUT D10028.0
MRD
AND X4001                ; Cｼｬﾄﾙ(RB17)完了Pos_PM2
OUT D10028.1
MRD
AND X4002                ; Cｼｬﾄﾙ(RB17)完了Pos_PM4
OUT D10028.2
MRD
AND X4003                ; Cｼｬﾄﾙ(RB17)完了Pos_PM8
OUT D10028.3
MRD
AND X4004                ; Cｼｬﾄﾙ(RB17)完了Pos_PM16
OUT D10028.4
MRD
AND X4005                ; Cｼｬﾄﾙ(RB17)完了Pos_PM32
OUT D10028.5
MRD
AND X4006                ; Cｼｬﾄﾙ(RB17)完了Pos_PM64
OUT D10028.6
MRD
AND X4007                ; Cｼｬﾄﾙ(RB17)完了Pos_PM128
OUT D10028.7
MPP
INV
MOV K0 D10028            ; 冷却槽搬送ｼｬﾄﾙ_RB_完了POS
LD= D10028 K1            ; 冷却槽搬送ｼｬﾄﾙ_RB_完了POS
OUT M11471               ; RB17_ﾜｰｸ受取位置(待機位置)
LD= D10028 K3            ; 冷却槽搬送ｼｬﾄﾙ_RB_完了POS
OUT M11473               ; RB17_ﾜｰｸ取出位置
;<h1/>/ 装置状態･条件
;ﾕﾆｯﾄ原点
LDB X1628                ; 冷却槽ｼｬﾄﾙ受取ﾜｰｸ確認
ANB X1629                ; 冷却槽ｼｬﾄﾙ取出ﾜｰｸ確認
AND M11471               ; RB17_ﾜｰｸ受取位置(待機位置)
OUT M11480               ; U19_原点
;[] 非常停止
LDB B0260                ; B260_609)RBC17 ｺﾝﾄﾛｰﾗｰ異常
ANB B0261                ; B261_610)冷却槽搬送JIG_ID異常
ANB B0262                ; B262_611)冷却槽ｼｬﾄﾙ受取異常
ANB B0263                ; B263_612)冷却槽ｼｬﾄﾙ取出異常
INV
OUT M11481               ; U19_即停止異常
;[] 起動条件
LD M11480                ; U19_原点
ANB M140                 ; 全一時停止
OUT M11482               ; U19_起動条件
;[] 起動OFF
LDB M50                  ; 運転準備
LD M60                   ; ｴﾗｰ発生
OR M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M11484               ; U19_原点復帰中
ORL
OR M11486                ; U19_CYCLE停止異常
OR T15                   ; 強制停止
OUT M11483               ; U19_起動OFF
;[] 原点復帰
LD M82                   ; 原点復帰開始
ANB M11484               ; U19_原点復帰中
OR M11484                ; U19_原点復帰中
ANB M11483               ; U19_起動OFF
ANB M11491               ; U19_ERR発生
ANB M11299               ; U19_原点復帰完了確認
OUT M11484               ; U19_原点復帰中
;[] 起動中
LD M73                   ; 各工程起動指令
AND M11482               ; U19_起動条件
ANB B101D                ; 途中投入選択TP(1:単独_0:連動)
OR M11485                ; U19_起動中
ANB M11049               ; U19ｻｲｸﾙ終了
ANB M11483               ; U19_起動OFF
ANB M11484               ; U19_原点復帰中
OUT M11485               ; U19_起動中
;[] ｻｲｸﾙ停止異常
LDB CR2003               ; 常時OFF
INV
OUT M11486               ; U19_CYCLE停止異常
;[] 払出停止異常
LDB CR2003               ; 常時OFF
INV
OUT M11487               ; U19_払出停止異常
;[] 警報補助
LDB B0264                ; B264_613)冷却槽ｼｬﾄﾙﾜｰｸ有除去要求
INV
OUT M11488               ; U19_警報補助
;[] 機器準備確認
LDB CR2003               ; 常時OFF
OUT M11490               ; U19_機器準備完了
;[] ｴﾗｰ発生  一時停止
LDB CR2003               ; 常時OFF
INV
OUT M11491               ; U19_ERR発生
;[] 動作中ﾕﾆｯﾄ無し
LD CR2002                ; 常時ON
ORB M11485               ; U19_起動中
ANB M11484               ; U19_原点復帰中
TMR K1901 K20            ; ﾕﾆｯﾄ13動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D10000 D10006        ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ19動作中判定
LD T1901                 ; ﾕﾆｯﾄ13動作無し判定ﾀｲﾏ
OUT M11492               ; U19_動作無し確認
;[] 払出しﾜｰｸ無し
LD= D10100 K0            ; 冷却ｼｬﾄﾙ 高温検査ﾊﾟﾚｯﾄID
AND= D10101 K0           ; 冷却ｼｬﾄﾙ 高温検査ﾃｽﾄﾍｯﾄﾞID
AND= D10102 K0           ; 冷却ｼｬﾄﾙ 高温検査部排出ﾊﾟﾚｯﾄID
AND= D10103 K0           ; 冷却ｼｬﾄﾙ 高温検査搬送ﾛﾎﾞｯﾄNo.
AND= D10104 K0           ; 冷却ｼｬﾄﾙ 高温検査Skip(0:ｼﾅ/1:ｽﾙ)
AND= D10105 K0           ; 冷却ｼｬﾄﾙ 高温検査ﾛﾎﾞｯﾄNo.
AND= D10106 K0           ; 冷却ｼｬﾄﾙ_冷却槽投入ﾛﾎﾞｯﾄNo.
ANB X1628                ; 冷却槽ｼｬﾄﾙ受取ﾜｰｸ確認
ANB X1629                ; 冷却槽ｼｬﾄﾙ取出ﾜｰｸ確認
AND M11471               ; RB17_ﾜｰｸ受取位置(待機位置)
TMR K1905 K10            ; UNIT19払出処理ﾜｰｸ無し
LD T1905                 ; UNIT19払出処理ﾜｰｸ無し
OUT M11493               ; U19_WORK無し
;[] ｽﾃｯﾌﾟ起動
LD M30                   ; 自動ﾓｰﾄﾞ
OR M31                   ; 手動ﾓｰﾄﾞ
AND M128                 ; 高温検査安全扉正常
AND M129                 ; 冷却ｼｬﾄﾙｶﾊﾞｰ正常
AND M130                 ; 冷却槽安全扉正常
ANB M11491               ; U19_ERR発生
ANB M140                 ; 全一時停止
ANB M180                 ; 高温検査一時停止
OUT M11479               ; U19_STEP動作
;<h1/>■自動
;/ 自動運転開始
LD CR2002                ; 常時ON
ZRES M11000 M11049       ; U19-S0_ｼｬﾄﾙｽﾃｯﾌﾟ開始  U19ｻｲｸﾙ終了
LDB M11485               ; U19_起動中
MOV K0 D10000            ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ
LD M11485                ; U19_起動中
MOV D10000 Z1            ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ
OUT M11000:Z1            ; U19-S0_ｼｬﾄﾙｽﾃｯﾌﾟ開始
;ﾜｰｸ無確認
LD M11000                ; U19-S0_ｼｬﾄﾙｽﾃｯﾌﾟ開始
AND T1912                ; 冷却槽搬送ｼｬﾄﾙ受取ﾜｰｸ無
@INC D10000              ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ
;<h1/>/供給要求(→High_Transfer)
LD M11001                ; U19-S1_ｼｬﾄﾙ投入可(→検査搬送RB)
AND M7923                ; 【搬送】搬送→下流供給完了
@INC D10000              ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ
LD M11002                ; U19-S2_ｼｬﾄﾙﾜｰｸ投入完了確認
ANB M7923                ; 【搬送】搬送→下流供給完了
MOV K10 D10000           ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ
;投入完了ﾜｰｸ確認
LD M11010                ; U19-S10_ﾜｰｸ投入完了
LD T1911                 ; 冷却槽搬送ｼｬﾄﾙ受取ﾜｰｸ有
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
@INC D10000              ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ
;取出位置移動
LD M11011                ; U19-S11_ﾜｰｸ確認OK
AND M11479               ; U19_STEP動作
ANB X4040                ; Cool_RB_給材取出侵入中(800)
INC D10000               ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ
LD M11012                ; U19-S12_取出側RB干渉確認
AND M11479               ; U19_STEP動作
AND X400B                ; Cｼｬﾄﾙ(RB17)位置決め完了_PEND
MPS
MOV K3 D10024            ; 冷却槽搬送ｼｬﾄﾙ_RB_POS_確定
MPP
AND= D10024 K3           ; 冷却槽搬送ｼｬﾄﾙ_RB_POS_確定
INC D10000               ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ
LD M11013                ; U19-S13_ｼｬﾄﾙ取出位置移動
ANB X400B                ; Cｼｬﾄﾙ(RB17)位置決め完了_PEND
@INC D10000              ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ
LD M11014                ; U19-S14_位置決め完了OFF確認
AND X400B                ; Cｼｬﾄﾙ(RB17)位置決め完了_PEND
AND M11473               ; RB17_ﾜｰｸ取出位置
@INC D10000              ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ
;ﾜｰｸ確認
LD M11015                ; U19-S15_取出位置ﾜｰｸ確認
LD T1913                 ; 冷却槽搬送ｼｬﾄﾙ取出ﾜｰｸ有
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
MOV K20 D10000           ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ
;<h1/>/取出要求(→Cool_Sup_RB)
LD M11020                ; U19-S20_ﾜｰｸ取出可(→Cool_Sup_RB)
MPS
AND M11590               ; Cool_取出完了確認
@INC D10000              ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ
@FMOV K0 D10100 K10      ; 冷却ｼｬﾄﾙ 高温検査ﾊﾟﾚｯﾄID
MPP
LDB M11985               ; U20_起動中
ANB X4021                ; Cool_RB_RUN
AND CR2003               ; 常時OFF
ANL
MOV K49 D5000            ; U9_自動運転ｽﾃｯﾌﾟ
LD M11021                ; U19-S21_ﾜｰｸ取出完了確認
ANB M11590               ; Cool_取出完了確認
ANB X4040                ; Cool_RB_給材取出侵入中(800)
@INC D10000              ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ
LD M11022                ; U19-S22_取出済ﾜｰｸ確認
AND T1914                ; 冷却槽搬送ｼｬﾄﾙ取出ﾜｰｸ無
@INC D10000              ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ
;<h1/>/投入位置戻
LD M11023                ; U19-S23_ﾌﾚｰﾑ無確認完了
AND M11479               ; U19_STEP動作
AND X400B                ; Cｼｬﾄﾙ(RB17)位置決め完了_PEND
MPS
MOV K1 D10024            ; 冷却槽搬送ｼｬﾄﾙ_RB_POS_確定
MPP
AND= D10024 K1           ; 冷却槽搬送ｼｬﾄﾙ_RB_POS_確定
INC D10000               ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ
LD M11024                ; U19-S24_ｼｬﾄﾙ供給位置移動
ANB X400B                ; Cｼｬﾄﾙ(RB17)位置決め完了_PEND
@INC D10000              ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ
LD M11025                ; U19-S25_位置決め完了OFF確認
AND X400B                ; Cｼｬﾄﾙ(RB17)位置決め完了_PEND
AND M11471               ; RB17_ﾜｰｸ受取位置(待機位置)
@MOV K49 D10000          ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ
;サイクル停止処理
;Cycle end check
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M11001               ; U19-S1_ｼｬﾄﾙ投入可(→検査搬送RB)
ANB M8485                ; U13_起動中
@MOV K48 D10000          ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ
;終了
LD M11048                ; U19ｻｲｸﾙ停止
@MOV K49 D10000          ; ﾕﾆｯﾄ19自動運転ｽﾃｯﾌﾟ
;<h1/>■工程処理 PLC→PC I/F
;各種要求･選択
;ﾊﾟﾚｯﾄID
LD CR2002                ; 常時ON
MPS
AND D10050.0
OUT W013E.0              ; 冷却槽搬送ｼｬﾄﾙﾊﾟﾚｯﾄ_ID_0
MRD
AND D10050.1
OUT W013E.1              ; 冷却槽搬送ｼｬﾄﾙﾊﾟﾚｯﾄ_ID_1
MPP
AND D10050.2
OUT W013E.2              ; 冷却槽搬送ｼｬﾄﾙﾊﾟﾚｯﾄ_ID_2
;<h1/>■原点復帰回路
;[][][][][][][][][][][][][][][]
;[][]    UNIT19 原点復帰   [][]
;[][][][][][][][][][][][][][][]
LD CR2002                ; 常時ON
ZRES M11250 M11299       ; U19原点復帰開始  U19_原点復帰完了確認
LDB M11484               ; U19_原点復帰中
MOV K0 D10010            ; ﾕﾆｯﾄ13原点復帰ｽﾃｯﾌﾟ
LD M11484                ; U19_原点復帰中
MOV D10010 Z1            ; ﾕﾆｯﾄ13原点復帰ｽﾃｯﾌﾟ
OUT M11250:Z1            ; U19原点復帰開始
;原点復帰ｻｲｸﾙ監視
;Origin cycle monitoring
LD M11484                ; U19_原点復帰中
AND CR2003               ; 常時OFF
TMR K1900 K300           ; UNIT13原点復帰ﾀｲﾑｱｳﾄ
;原点復帰ステップ開始
;Origin step start
LD M11250                ; U19原点復帰開始
AND M11479               ; U19_STEP動作
AND M8480                ; U13_原点
AND M11980               ; U20_原点
@INC D10010              ; ﾕﾆｯﾄ13原点復帰ｽﾃｯﾌﾟ
@FMOV K0 D10100 K10      ; 冷却ｼｬﾄﾙ 高温検査ﾊﾟﾚｯﾄID
LD M11251                ; U13.20原点確認
AND M11479               ; U19_STEP動作
AND X400B                ; Cｼｬﾄﾙ(RB17)位置決め完了_PEND
MPS
MOV K1 D10024            ; 冷却槽搬送ｼｬﾄﾙ_RB_POS_確定
MPP
AND= D10024 K1           ; 冷却槽搬送ｼｬﾄﾙ_RB_POS_確定
@INC D10010              ; ﾕﾆｯﾄ13原点復帰ｽﾃｯﾌﾟ
LD M11252                ; ｼｬﾄﾙ供給位置移動
ANB X400B                ; Cｼｬﾄﾙ(RB17)位置決め完了_PEND
@INC D10010              ; ﾕﾆｯﾄ13原点復帰ｽﾃｯﾌﾟ
LD M11253                ; 位置決め完了OFF確認
AND X400B                ; Cｼｬﾄﾙ(RB17)位置決め完了_PEND
AND M11471               ; RB17_ﾜｰｸ受取位置(待機位置)
@INC D10010              ; ﾕﾆｯﾄ13原点復帰ｽﾃｯﾌﾟ
LD M11254                ; ﾜｰｸ有無確認
AND M11479               ; U19_STEP動作
MPS
AND X1628                ; 冷却槽ｼｬﾄﾙ受取ﾜｰｸ確認
@INC D10010              ; ﾕﾆｯﾄ13原点復帰ｽﾃｯﾌﾟ
MPP
ANB X1628                ; 冷却槽ｼｬﾄﾙ受取ﾜｰｸ確認
MOV K6 D10010            ; ﾕﾆｯﾄ13原点復帰ｽﾃｯﾌﾟ
LD M11255                ; ﾜｰｸ有取出要求
AND M11479               ; U19_STEP動作
ANB X1628                ; 冷却槽ｼｬﾄﾙ受取ﾜｰｸ確認
@INC D5010               ; U9_原点復帰ｽﾃｯﾌﾟ
;原点復帰終了
;Origin end
LD M11256                ; ﾜｰｸ無確認
AND M11480               ; U19_原点
@MOV K48 D10010          ; ﾕﾆｯﾄ13原点復帰ｽﾃｯﾌﾟ
LD M11298                ; U19_原点復帰完了
ANB M82                  ; 原点復帰開始
@MOV K49 D10010          ; ﾕﾆｯﾄ13原点復帰ｽﾃｯﾌﾟ
;<h1/>■手動回路
;[][][][][][][][][][][][][][][]
;[] 　　   UNIT1 手動　      []
;[][][][][][][][][][][][][][][]
LD M31                   ; 手動ﾓｰﾄﾞ
AND M32                  ; ﾒｲﾝ手動操作可能条件
ANB M11485               ; U19_起動中
ANB M11484               ; U19_原点復帰中
ANB M11360               ; RB17_MANUAL_ON
MC
;供給位置移動
LD M129                  ; 冷却ｼｬﾄﾙｶﾊﾞｰ正常
AND X400B                ; Cｼｬﾄﾙ(RB17)位置決め完了_PEND
ANB M11311               ; 受渡位置移動
LD M8480                 ; U13_原点
OR L1350                 ; ﾜｰｸ入替高さ移動完了(HiW)
OR L1351                 ; Hi搬送高さ移動完了(MIDLE)
OR L1352                 ; Hi搬送高さ移動完了(HIGH)
ANL
AND M11980               ; U20_原点
ANB M11841               ; Cool_供給1ｻｲｸﾙ(手動)
OUT M11300               ; 供給位置移動可
LD B12C0                 ; Coolｼｬﾄﾙ供給位置移動_TP-PB
AND M11300               ; 供給位置移動可
OR M11301                ; 供給位置移動
ANB M11304               ; 位置決め完了
OUT M11301               ; 供給位置移動
MPS
MOV K1 D10024            ; 冷却槽搬送ｼｬﾄﾙ_RB_POS_確定
MPP
LD= D10024 K1            ; 冷却槽搬送ｼｬﾄﾙ_RB_POS_確定
ANB M11303               ; 位置決め完了OFF確認
ANL
OUT M11302               ; 供給位置移動要求
LD M11301                ; 供給位置移動
ANB X400B                ; Cｼｬﾄﾙ(RB17)位置決め完了_PEND
OR M11303                ; 位置決め完了OFF確認
AND M11301               ; 供給位置移動
OUT M11303               ; 位置決め完了OFF確認
LD M11303                ; 位置決め完了OFF確認
AND X400B                ; Cｼｬﾄﾙ(RB17)位置決め完了_PEND
AND M11471               ; RB17_ﾜｰｸ受取位置(待機位置)
OR M11304                ; 位置決め完了
AND M11301               ; 供給位置移動
OUT M11304               ; 位置決め完了
;受渡位置移動
LD M129                  ; 冷却ｼｬﾄﾙｶﾊﾞｰ正常
AND X400B                ; Cｼｬﾄﾙ(RB17)位置決め完了_PEND
ANB M11301               ; 供給位置移動
LD M8480                 ; U13_原点
OR L1350                 ; ﾜｰｸ入替高さ移動完了(HiW)
OR L1351                 ; Hi搬送高さ移動完了(MIDLE)
OR L1352                 ; Hi搬送高さ移動完了(HIGH)
ANL
AND M11980               ; U20_原点
ANB M11841               ; Cool_供給1ｻｲｸﾙ(手動)
OUT M11310               ; 受渡位置移動可
LD B12C2                 ; Coolｼｬﾄﾙ取出位置移動_TP-PB
AND M11310               ; 受渡位置移動可
OR M11311                ; 受渡位置移動
ANB M11314               ; 位置決め完了
OUT M11311               ; 受渡位置移動
MPS
MOV K3 D10024            ; 冷却槽搬送ｼｬﾄﾙ_RB_POS_確定
MPP
LD= D10024 K3            ; 冷却槽搬送ｼｬﾄﾙ_RB_POS_確定
ANB M11313               ; 位置決め完了OFF確認
ANL
OUT M11312               ; 受渡位置移動要求
LD M11311                ; 受渡位置移動
ANB X400B                ; Cｼｬﾄﾙ(RB17)位置決め完了_PEND
OR M11313                ; 位置決め完了OFF確認
AND M11311               ; 受渡位置移動
OUT M11313               ; 位置決め完了OFF確認
LD M11313                ; 位置決め完了OFF確認
AND X400B                ; Cｼｬﾄﾙ(RB17)位置決め完了_PEND
AND M11473               ; RB17_ﾜｰｸ取出位置
OR M11314                ; 位置決め完了
AND M11311               ; 受渡位置移動
OUT M11314               ; 位置決め完了
MCR
;<h1/>■出力回路
;ROBOT AUTO/MANU
LDP B12DF                ; ﾏﾆｭｱﾙﾓｰﾄﾞ切替SW(1：ﾏﾆｭｱﾙ)
LD<> D50 K205            ; TpM-K_表示中ページNo.
AND<> D50 K210           ; TpM-K_表示中ページNo.
MEP
ORL
LD<> D70 K205            ; TpM-K_表示中ページNo.
AND<> D70 K210           ; TpM-K_表示中ページNo.
MEP
ORL
LD<> D90 K205            ; TpM-K_表示中ページNo.
AND<> D90 K210           ; TpM-K_表示中ページNo.
MEP
ORL
LD<> D110 K205           ; TpM-K_表示中ページNo.
AND<> D110 K210          ; TpM-K_表示中ページNo.
MEP
ORL
AND M11360               ; RB17_MANUAL_ON
OUT M11361               ; RB8_MANUAL_OFF
LDP B12DF                ; ﾏﾆｭｱﾙﾓｰﾄﾞ切替SW(1：ﾏﾆｭｱﾙ)
ANB M11360               ; RB17_MANUAL_ON
OR M11360                ; RB17_MANUAL_ON
ANB M11361               ; RB8_MANUAL_OFF
AND M31                  ; 手動ﾓｰﾄﾞ
OUT M11360               ; RB17_MANUAL_ON
;ｼｬﾄﾙRB
LDB M11013               ; U19-S13_ｼｬﾄﾙ取出位置移動
ANB M11024               ; U19-S24_ｼｬﾄﾙ供給位置移動
ANB M11252               ; ｼｬﾄﾙ供給位置移動
INV
LDB M11302               ; 供給位置移動要求
ANB M11312               ; 受渡位置移動要求
INV
ORL
MOV D10024 D10026        ; 冷却槽搬送ｼｬﾄﾙ_RB_POS_確定  冷却槽搬送ｼｬﾄﾙ_RB_指令POS
MPS
TMH K1991 K5             ; 冷却槽搬送ｼｬﾄﾙRB_POS確定ﾃﾞｨﾚｲ
MPP
AND T1991                ; 冷却槽搬送ｼｬﾄﾙRB_POS確定ﾃﾞｨﾚｲ
OUT Y500D                ; Cｼｬﾄﾙ(RB17)ｽﾀｰﾄ_CSTR
LD CR2002                ; 常時ON
MPS
AND D10026.0
OUT Y5000                ; Cｼｬﾄﾙ(RB17)指令pos_PC1
MRD
AND D10026.1
OUT Y5001                ; Cｼｬﾄﾙ(RB17)指令pos_PC2
MRD
AND D10026.2
OUT Y5002                ; Cｼｬﾄﾙ(RB17)指令pos_PC4
MRD
AND D10026.3
OUT Y5003                ; Cｼｬﾄﾙ(RB17)指令pos_PC8
MRD
AND D10026.4
OUT Y5004                ; Cｼｬﾄﾙ(RB17)指令pos_PC16
MRD
AND D10026.5
OUT Y5005                ; Cｼｬﾄﾙ(RB17)指令pos_PC32
MRD
AND D10026.6
OUT Y5006                ; Cｼｬﾄﾙ(RB17)指令pos_PC64
MPP
AND D10026.7
OUT Y5007                ; Cｼｬﾄﾙ(RB17)指令pos_PC128
LD M11360                ; RB17_MANUAL_ON
OUT Y500A                ; Cｼｬﾄﾙ(RB17)運転ﾓｰﾄﾞ_RMOD
LDB CR2003               ; 常時OFF
INV
OUT Y500B                ; Cｼｬﾄﾙ(RB17)原点復帰_HOME
LD M128                  ; 高温検査安全扉正常
AND M129                 ; 冷却ｼｬﾄﾙｶﾊﾞｰ正常
AND M130                 ; 冷却槽安全扉正常
OR M11360                ; RB17_MANUAL_ON
OR M37                   ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
OUT Y500C                ; Cｼｬﾄﾙ(RB17)一時停止_*STP
LD M16                   ; ﾘｾｯﾄPB
ANB X400E                ; Cｼｬﾄﾙ(RB17)ｱﾗｰﾑ_*ALM
OUT Y500E                ; Cｼｬﾄﾙ(RB17)ﾘｾｯﾄ_RES
LD M50                   ; 運転準備
OUT Y500F                ; Cｼｬﾄﾙ(RB17)ｻｰﾎﾞON_SON
;ﾛﾎﾞｯﾄｻｰﾎﾞ電源
LD M121                  ; 非常停止正常
OUT Y2610                ; 冷却槽搬送ｼｬﾄﾙRB電源
;<h1/>■表示
;□□　　パネル表示　　□□
LD M11471                ; RB17_ﾜｰｸ受取位置(待機位置)
LD M11301                ; 供給位置移動
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B17C0                ; UNIT19-1-1 TP-PL
LD CR2003                ; 常時OFF
LD CR2003                ; 常時OFF
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B17C1                ; UNIT19-1-2 TP-PL
LD M11473                ; RB17_ﾜｰｸ取出位置
LD M11311                ; 受渡位置移動
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B17C2                ; UNIT19-1-3 TP-PL
;<h1/>■異常
;□□    異常検出    □□
;B260--B26F  B270--B27F
LDB X400E                ; Cｼｬﾄﾙ(RB17)ｱﾗｰﾑ_*ALM
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0260                ; B260_609)RBC17 ｺﾝﾄﾛｰﾗｰ異常
ORL
OUT B0260                ; B260_609)RBC17 ｺﾝﾄﾛｰﾗｰ異常
LDP B0260                ; B260_609)RBC17 ｺﾝﾄﾛｰﾗｰ異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0261 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0760                 ; B260_609)Bz停止
AND B0260                ; B260_609)RBC17 ｺﾝﾄﾛｰﾗｰ異常
OUT B0760                ; B260_609)Bz停止
LD M11003                ; U19-S3
OUT B0261                ; B261_610)冷却槽搬送JIG_ID異常
LDP B0261                ; B261_610)冷却槽搬送JIG_ID異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0262 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0761                 ; B261_610)Bz停止
AND B0261                ; B261_610)冷却槽搬送JIG_ID異常
OUT B0761                ; B261_610)Bz停止
LD M11010                ; U19-S10_ﾜｰｸ投入完了
AND T1912                ; 冷却槽搬送ｼｬﾄﾙ受取ﾜｰｸ無
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0262                ; B262_611)冷却槽ｼｬﾄﾙ受取異常
ORL
ANB M35                  ; 空運転ﾓｰﾄﾞ
OUT B0262                ; B262_611)冷却槽ｼｬﾄﾙ受取異常
LDP B0262                ; B262_611)冷却槽ｼｬﾄﾙ受取異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0263 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0762                 ; B262_611)Bz停止
AND B0262                ; B262_611)冷却槽ｼｬﾄﾙ受取異常
OUT B0762                ; B262_611)Bz停止
LD M11022                ; U19-S22_取出済ﾜｰｸ確認
AND T1913                ; 冷却槽搬送ｼｬﾄﾙ取出ﾜｰｸ有
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0263                ; B263_612)冷却槽ｼｬﾄﾙ取出異常
ORL
ANB M35                  ; 空運転ﾓｰﾄﾞ
OUT B0263                ; B263_612)冷却槽ｼｬﾄﾙ取出異常
LDP B0263                ; B263_612)冷却槽ｼｬﾄﾙ取出異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0264 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0763                 ; B263_612)Bz停止
AND B0263                ; B263_612)冷却槽ｼｬﾄﾙ取出異常
OUT B0763                ; B263_612)Bz停止
LD M11255                ; ﾜｰｸ有取出要求
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0264                ; B264_613)冷却槽ｼｬﾄﾙﾜｰｸ有除去要求
ORL
OUT B0264                ; B264_613)冷却槽ｼｬﾄﾙﾜｰｸ有除去要求
LDP B0264                ; B264_613)冷却槽ｼｬﾄﾙﾜｰｸ有除去要求
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0265 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0764                 ; B264_613)Bz停止
AND B0264                ; B264_613)冷却槽ｼｬﾄﾙﾜｰｸ有除去要求
OUT B0764                ; B264_613)Bz停止
;異常ﾌﾞｻﾞｰまとめ
LDB B0260                ; B260_609)RBC17 ｺﾝﾄﾛｰﾗｰ異常
OR B0760                 ; B260_609)Bz停止
LDB B0261                ; B261_610)冷却槽搬送JIG_ID異常
OR B0761                 ; B261_610)Bz停止
ANL
LDB B0262                ; B262_611)冷却槽ｼｬﾄﾙ受取異常
OR B0762                 ; B262_611)Bz停止
ANL
LDB B0263                ; B263_612)冷却槽ｼｬﾄﾙ取出異常
OR B0763                 ; B263_612)Bz停止
ANL
LDB B0264                ; B264_613)冷却槽ｼｬﾄﾙﾜｰｸ有除去要求
OR B0764                 ; B264_613)Bz停止
ANL
LDB B0265                ; B265_614)
OR B0765                 ; B265_614)Bz停止
ANL
LDB B0266                ; B266_615)
OR B0766                 ; B266_615)Bz停止
ANL
LDB B0267                ; B267_616)
OR B0767                 ; B267_616)Bz停止
ANL
LDB B0268                ; B268_617)
OR B0768                 ; B268_617)Bz停止
ANL
LDB B0269                ; B269_618)
OR B0769                 ; B269_618)Bz停止
ANL
LDB B026A                ; B26A_619)
OR B076A                 ; B26A_619)Bz停止
ANL
LDB B026B                ; B26B_620)
OR B076B                 ; B26B_620)Bz停止
ANL
LDB B0270                ; B270_625)
OR B0770                 ; B270_625)Bz停止
ANL
LDB B0271                ; B271_626)
OR B0771                 ; B271_626)Bz停止
ANL
LDB B0274                ; B274_629)
OR B0774                 ; B274_629)Bz停止
ANL
LDB B0275                ; B275_630)
OR B0775                 ; B275_630)Bz停止
ANL
LDB B0276                ; B276_631)
OR B0776                 ; B276_631)Bz停止
ANL
INV
OUT M11489               ; U19_異常BZ補助
END
ENDH
