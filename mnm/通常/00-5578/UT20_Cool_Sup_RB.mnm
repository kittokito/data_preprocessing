DEVICE:53
;MODULE:UT20_Cool_Sup_RB
;MODULE_TYPE:0
;ｶｳﾝﾀ初期化
LD= D10550 K0            ; Cool#1_徐材ｶｳﾝﾀ
MOV K1 D10550            ; Cool#1_徐材ｶｳﾝﾀ
LD= D10551 K0            ; Cool#1_給材ｶｳﾝﾀ
MOV K1 D10551            ; Cool#1_給材ｶｳﾝﾀ
LD= D10552 K0            ; Cool#2_徐材ｶｳﾝﾀ
MOV K1 D10552            ; Cool#2_徐材ｶｳﾝﾀ
LD= D10553 K0            ; Cool#2_給材ｶｳﾝﾀ
MOV K1 D10553            ; Cool#2_給材ｶｳﾝﾀ
LD= D10556 K0            ; Cool_RB給徐材選択ﾌﾗｸﾞ
MOV K1 D10556            ; Cool_RB給徐材選択ﾌﾗｸﾞ
;□□　　入力受け　　□□
;Robot_Chack
LD X1609                 ; 冷却給徐材RBﾁｬｯｸ閉端
TMH K2010 K5             ; 冷却給徐材RBﾁｬｯｸ閉端
LD X1608                 ; 冷却給徐材RBﾁｬｯｸ開端
TMH K2011 K5             ; 冷却給徐材RBﾁｬｯｸ開端
LD X160A                 ; 冷却給徐材RBﾜｰｸ確認
TMH K2012 K2             ; 冷却給徐材RBﾜｰｸ確認
;ｼﾌﾄﾛﾎﾞｯﾄ現在値
LD X130D                 ; High_Shift_RB準備完了
AND X410B                ; Cool__Shift_RB_ORG-S
ANB X410C                ; Cool__Shift_RB_Busy
AND X410D                ; Cool__Shift_RB_END
MPS
AND X4100                ; Cool_Shift_RB_Pout1
OUT D10548.0             ; Hi_sift_RB_完了POS1
MRD
AND X4101                ; Cool_Shift_RB_Pout2
OUT D10548.1             ; Hi_sift_RB_完了POS2
MRD
AND X4102                ; Cool_Shift_RB_Pout4
OUT D10548.2             ; Hi_sift_RB_完了POS4
MRD
AND X4103                ; Cool_Shift_RB_Pout8
OUT D10548.3             ; Hi_sift_RB_完了POS8
MRD
AND X4104                ; Cool_Shift_RB_Pout16
OUT D10548.4             ; Hi_sift_RB_完了POS16
MRD
AND X4105                ; Cool_Shift_RB_Pout32
OUT D10548.5             ; Hi_sift_RB_完了POS32
MRD
AND X4106                ; Cool_Shift_RB_Pout64
OUT D10548.6             ; Hi_sift_RB_完了POS64
MRD
AND X4107                ; Cool_Shift_RB_Pout128
OUT D10548.7             ; Hi_sift_RB_完了POS128
MPP
INV
MOV K0 D10548            ; Cool_Sift_RB_完了POS
;□
;□□ 装置状態・動作条件 □□
;□
;□ ﾕﾆｯﾄ原点
LD T2011                 ; 冷却給徐材RBﾁｬｯｸ開端
AND X4045                ; Cool_RB_ORG(805)
ANB X4062                ; Cool_RB_Sift_取出移動(834)
ANB X4063                ; Cool_RB_Sift_Cool#1位置移動(835)
ANB X4064                ; Cool_RB_Sift_Cool#2位置移動(836)
ANB X4065                ; Cool_RB_Sift_検査仮置移動(837)
ANB X4066                ; Cool_RB_Sift_原点移動(838)
OUT M11980               ; U20_原点
;□ 非常停止
LDB B0281                ; Cool_Sup_RB異常
ANB B0284                ; Cool_Sup_RB供給部取出時ﾜｰｸ無異常
ANB B0285                ; Cool_Sup_RB受信品種ﾃﾞｰﾀ異常
ANB B0286                ; Cool_Sup_RB徐材時槽内ﾜｰｸ有異常
ANB B0287                ; Cool_Sup_RB徐材時槽内ﾜｰｸ無異常
ANB B0288                ; Cool_Sup_RB初期起動時ﾜｰｸ有異常
ANB B028C                ; Cool_Sup_RB給材時槽内ﾜｰｸ有異常
ANB B028D                ; Cool_Sup_ｽﾗｲﾄﾞﾛﾎﾞｯﾄ異常
ANB B029C                ; Cool_Sup_RB_PC照合異常(Cool#1)
ANB B029D                ; Cool_Sup_RB_PC照合異常(Cool#2)
ANB B029E                ; B29E_671)
ANB B029F                ; B29F_672)
INV
OUT M11981               ; U20_即停止異常
;□ 起動条件
LD M11980                ; U20_原点
AND M11979               ; U20_STEP動作
AND M11990               ; U20_機器準備完了
ANB M220                 ; 冷却搬送一時停止
LDB B3014                ; Leak_Final_一時停止要求
OR B101E                 ; Leak_Final連結選択TP(1:ｽﾙ_0ｼﾅｲ)
ANL
LD M11745                ; Cool_Sup_RB_初期起動完了ﾌﾗｸﾞ
LD M11020                ; U19-S20_ﾜｰｸ取出可(→Cool_Sup_RB)
LDB M36                  ; 払出処理
LD B3010                 ; Leak_Final_自動運転中
OR B101E                 ; Leak_Final連結選択TP(1:ｽﾙ_0ｼﾅｲ)
ANL
LD M12001                ; Cool#1_給徐材要求ON
OR M12501                ; Cool#2_給徐材要求ON
ANL
ORL
ANL
ORB M11745               ; Cool_Sup_RB_初期起動完了ﾌﾗｸﾞ
ANL
OUT M11982               ; U20_起動条件
;□ 起動OFF
LDB M50                  ; 運転準備
LD M60                   ; ｴﾗｰ発生
OR M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M11984               ; U20_原点復帰中
ORL
OR M11986                ; U20_CYCLE停止異常
OR T15                   ; 強制停止
OUT M11983               ; U20_起動OFF
;□ 原点復帰
LD M82                   ; 原点復帰開始
LDP B12F0                ; UNIT20-2-1 TP-PB
AND M31                  ; 手動ﾓｰﾄﾞ
ANB M82                  ; 原点復帰開始
ANB M11821               ; Cool_取出1ｻｲｸﾙ(手動)
ANB M11841               ; Cool_供給1ｻｲｸﾙ(手動)
AND CR2003               ; 常時OFF
ORL
ANB M11984               ; U20_原点復帰中
OR M11984                ; U20_原点復帰中
ANB M11983               ; U20_起動OFF
ANB M11991               ; U20_ERR発生
ANB M11799               ; ﾕﾆｯﾄ20原点終了
MPS
OUT M11984               ; U20_原点復帰中
MPP
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT B17F0                ; UNIT20-2-1 TP-PL
;□ Leak_Final受渡可ﾌﾗｸﾞ
;□ 起動中
LD M73                   ; 各工程起動指令
AND M11979               ; U20_STEP動作
AND M11982               ; U20_起動条件
ANB B101D                ; 途中投入選択TP(1:単独_0:連動)
OR M11985                ; U20_起動中
ANB M11983               ; U20_起動OFF
ANB M11649               ; ﾕﾆｯﾄ20ｻｲｸﾙ終了
OUT M11985               ; U20_起動中
;□ ｻｲｸﾙ停止異常
LDB CR2003               ; 常時OFF
INV
OUT M11986               ; U20_CYCLE停止異常
;□ 払出停止異常
LDB CR2003               ; 常時OFF
INV
OUT M11987               ; U20_払出停止異常
;□ 警報補助
LDB B0282                ; Cool_Sup_RB原点復帰ﾜｰｸ有取出要求
OR B0782                 ; B282_643)Bz停止
LDB B0283                ; Cool_Sup_RBﾊﾞｯﾃﾘｰ低下
OR B0783                 ; B283_644)Bz停止
ANL
LDB B028B                ; 冷却槽全停止中
OR B078B                 ; B28B_652)Bz停止
ANL
ANB M11522               ; Cool_RBﾜｰｸ無NG(選択ﾀﾞｲｱﾛｸﾞ)
ANB M11527               ; Cool_RBﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
ANB M11577               ; Cool_槽内ﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
ANB M11642               ; 一時停止確認(ﾀﾞｲｱﾛｸﾞ)
INV
OUT M11988               ; U20_警報補助
;□ 機器準備確認
LDB X4021                ; Cool_RB_RUN
AND X4023                ; Cool_RB_SV_ON
AND X4024                ; Cool_RB_Ready
AND X4025                ; Cool_RB_Auto
AND X4026                ; Cool_RB_EXT
ANB X4028                ; Cool_RB_Worning
AND X410F                ; Cool__Shift_RB_SV_ON
OUT M11990               ; U20_機器準備完了
;□ ｴﾗｰ発生　一時停止
LDB B0280                ; Cool_Sup_RBﾁｬｯｸ開閉異常
ANB B0282                ; Cool_Sup_RB原点復帰ﾜｰｸ有取出要求
INV
OUT M11991               ; U20_ERR発生
;□ 動作中ﾕﾆｯﾄ無し
LD= D10500 D10505        ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ20動作中判定
ORB M11985               ; U20_起動中
OR M11641                ; 段取一時停止処理
OR M11642                ; 一時停止確認(ﾀﾞｲｱﾛｸﾞ)
LD X4029                 ; Cool_RB_Continue
OR X4021                 ; Cool_RB_RUN
AND M140                 ; 全一時停止
ORL
ANB M11984               ; U20_原点復帰中
LDB M11522               ; Cool_RBﾜｰｸ無NG(選択ﾀﾞｲｱﾛｸﾞ)
ANB M11527               ; Cool_RBﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
ANB M11577               ; Cool_槽内ﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
INV
AND M11985               ; U20_起動中
ANB M11979               ; U20_STEP動作
ORL
ANB X4021                ; Cool_RB_RUN
TMR K2001 K20            ; ﾕﾆｯﾄ20動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D10500 D10505        ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ20動作中判定
LD T2001                 ; ﾕﾆｯﾄ20動作無し判定ﾀｲﾏ
OUT M11992               ; U20_動作無し確認
;□ 払出しﾜｰｸ無し
LD T2011                 ; 冷却給徐材RBﾁｬｯｸ開端
TMR K2005 K10            ; UNIT20払出処理ﾜｰｸ無し
LD T2005                 ; UNIT20払出処理ﾜｰｸ無し
OUT M11993               ; U20_WORK無し
;□ ｽﾃｯﾌﾟ起動
LD M30                   ; 自動ﾓｰﾄﾞ
OR M31                   ; 手動ﾓｰﾄﾞ
AND M130                 ; 冷却槽安全扉正常
ANB M11991               ; U20_ERR発生
ANB M140                 ; 全一時停止
ANB M220                 ; 冷却搬送一時停止
OUT M11979               ; U20_STEP動作
;□□□□□□□□□□□□□□□
;□　　 　UNIT10自動回路 　　□
;□□□□□□□□□□□□□□□
;<h1/>■自動回路 
;運転開始・ステッパ初期化・補助接点へ展開
LD CR2002                ; 常時ON
ZRES M11500 M11649       ; Cool槽内ﾜｰｸ情報照合開始  ﾕﾆｯﾄ20ｻｲｸﾙ終了
LDB M11985               ; U20_起動中
MOV K0 D10500            ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11985                ; U20_起動中
MOV D10500 Z1            ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
OUT M11500:Z1            ; Cool槽内ﾜｰｸ情報照合開始
;自動運転ステップ開始
;給徐材要求判定
;槽内ﾜｰｸ情報照合ﾌﾟﾛｸﾞﾗﾑ追加
LD M11500                ; Cool槽内ﾜｰｸ情報照合開始
AND M11979               ; U20_STEP動作
MPS
ANB M11745               ; Cool_Sup_RB_初期起動完了ﾌﾗｸﾞ
@MOV K110 D10500         ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
AND M11745               ; Cool_Sup_RB_初期起動完了ﾌﾗｸﾞ
MOV K10 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;<h1/>/ﾃﾞｰﾀ照合
;槽内､PCﾜｰｸ情報照合
LDB M3                   ; OFFLINE_MODE
LD>= D10550 K2           ; Cool#1_徐材ｶｳﾝﾀ
AND< D10551 K2           ; Cool#1_給材ｶｳﾝﾀ
AND W078.0               ; Cool#1-1ﾜｰｸ(ON:有 OFF:無)
LD>= D10550 K3           ; Cool#1_徐材ｶｳﾝﾀ
AND< D10551 K3           ; Cool#1_給材ｶｳﾝﾀ
AND W078.1               ; Cool#1-2ﾜｰｸ(ON:有 OFF:無)
ORL
LD>= D10550 K4           ; Cool#1_徐材ｶｳﾝﾀ
AND< D10551 K4           ; Cool#1_給材ｶｳﾝﾀ
AND W078.2               ; Cooi#1-3ﾜｰｸ(ON:有 OFF:無)
ORL
ANL
OUT M11730               ; Cool#1_ﾜｰｸ情報異常
LDB M3                   ; OFFLINE_MODE
LD>= D10552 K2           ; Cool#2_徐材ｶｳﾝﾀ
AND< D10553 K2           ; Cool#2_給材ｶｳﾝﾀ
AND W079.0               ; Cool#2-1ﾜｰｸ(ON:有 OFF:無)
LD>= D10552 K3           ; Cool#2_徐材ｶｳﾝﾀ
AND< D10553 K3           ; Cool#2_給材ｶｳﾝﾀ
AND W079.1               ; Cool#2-2ﾜｰｸ(ON:有 OFF:無)
ORL
LD>= D10552 K4           ; Cool#2_徐材ｶｳﾝﾀ
AND< D10553 K4           ; Cool#2_給材ｶｳﾝﾀ
AND W079.2               ; Cool#2-3ﾜｰｸ(ON:有 OFF:無)
ORL
ANL
OUT M11731               ; Cool#2_ﾜｰｸ情報異常
;有効槽ﾜｰｸ情報(PC−PLC)判定
LD M11610                ; Cool_#1情報確認
AND M11979               ; U20_STEP動作
LD X1890                 ; Cool#1_ﾏｽﾀ槽運転有効確認
ANB M11730               ; Cool#1_ﾜｰｸ情報異常
ORB X1890                ; Cool#1_ﾏｽﾀ槽運転有効確認
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11611                ; Cool_#2情報確認
AND M11979               ; U20_STEP動作
LD X1910                 ; Cool#2_ﾏｽﾀ槽運転有効確認
ANB M11731               ; Cool#2_ﾜｰｸ情報異常
ORB X1910                ; Cool#2_ﾏｽﾀ槽運転有効確認
ANL
@MOV K120 D10500         ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;<h1/>/槽1ﾜｰｸ確認
;槽1ﾜｰｸ情報確認済判定
LD M11620                ; Cool_#1ﾜｰｸ状態確認
AND M11979               ; U20_STEP動作
MPS
AND X1890                ; Cool#1_ﾏｽﾀ槽運転有効確認
MPS
ANB M11740               ; Cool#1_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
AND M11740               ; Cool#1_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
@MOV K130 D10500         ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
LDB X1890                ; Cool#1_ﾏｽﾀ槽運転有効確認
AND X1910                ; Cool#2_ﾏｽﾀ槽運転有効確認
ANL
@MOV K130 D10500         ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;設定初期化
;Setting initialization
LD M11621                ; Cool_RB_設定初期化
AND M11979               ; U20_STEP動作
@FMOV K0 D10520 K3       ; Cool_RB Type No.
MPS
@FMOV K0 D10530 K3       ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
MPP
LD= D10520 K0            ; Cool_RB Type No.
AND= D10521 K0           ; Cool_RB_給徐材槽 No.
AND= D10522 K0           ; Cool_RB_給徐材段 No.
AND= D10530 K0           ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D10531 K0           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D10532 K0           ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;確認動作PRGｾｯﾄ
LD M11622                ; Cool_RB_設定ｾｯﾄ
AND M11979               ; U20_STEP動作
@MOV D10651 D10520       ; 冷却槽取出ﾛﾎﾞｯﾄNo.  Cool_RB Type No.
@MOV K1 D10521           ; Cool_RB_給徐材槽 No.
@MOV K2 D10530           ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D10531           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K10 D10532          ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D10521 K1            ; Cool_RB_給徐材槽 No.
AND= D10530 K2           ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D10531 K1           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D10532 K10          ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M11623                ; Cool_RB_確認PRG.ｽﾀｰﾄ
AND X4021                ; Cool_RB_RUN
AND X4025                ; Cool_RB_Auto
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11624                ; Cool_RB_起動確認
AND X405F                ; Cool_RB_確認動作完了(831)
AND M11740               ; Cool#1_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11625                ; Cool_RB_確認完了(Lo_#1)
AND M11979               ; U20_STEP動作
ANB X4021                ; Cool_RB_RUN
ANB X4029                ; Cool_RB_Continue
ANB X405F                ; Cool_RB_確認動作完了(831)
@MOV K130 D10500         ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;<h1/>/槽2ﾜｰｸ確認
;槽2ﾜｰｸ情報確認済判定
LD M11630                ; Cool_#2ﾜｰｸ状態確認
AND M11979               ; U20_STEP動作
MPS
AND X1910                ; Cool#2_ﾏｽﾀ槽運転有効確認
MPS
ANB M11741               ; Cool#2_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
AND M11741               ; Cool#2_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
@MOV K139 D10500         ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
LDB X1910                ; Cool#2_ﾏｽﾀ槽運転有効確認
AND X1890                ; Cool#1_ﾏｽﾀ槽運転有効確認
ANL
@MOV K139 D10500         ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;設定初期化
;Setting initialization
LD M11631                ; Cool_RB_設定初期化
AND M11979               ; U20_STEP動作
@FMOV K0 D10520 K3       ; Cool_RB Type No.
MPS
@FMOV K0 D10530 K3       ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
MPP
LD= D10520 K0            ; Cool_RB Type No.
AND= D10521 K0           ; Cool_RB_給徐材槽 No.
AND= D10522 K0           ; Cool_RB_給徐材段 No.
AND= D10530 K0           ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D10531 K0           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D10532 K0           ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;確認動作PRGｾｯﾄ
LD M11632                ; Cool_RB_設定ｾｯﾄ
AND M11979               ; U20_STEP動作
ANB M11991               ; U20_ERR発生
@MOV D10651 D10520       ; 冷却槽取出ﾛﾎﾞｯﾄNo.  Cool_RB Type No.
@MOV K2 D10521           ; Cool_RB_給徐材槽 No.
@MOV K2 D10530           ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D10531           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K10 D10532          ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D10521 K2            ; Cool_RB_給徐材槽 No.
AND= D10530 K2           ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D10531 K1           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D10532 K10          ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M11633                ; Cool_RB_確認PRG.ｽﾀｰﾄ
AND X4021                ; Cool_RB_RUN
AND X4025                ; Cool_RB_Auto
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11634                ; Cool_RB_起動確認
AND X405F                ; Cool_RB_確認動作完了(831)
AND M11741               ; Cool#2_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11635                ; Cool_RB_確認完了(Lo_#1)
AND M11979               ; U20_STEP動作
ANB X4021                ; Cool_RB_RUN
ANB X4029                ; Cool_RB_Continue
ANB X405F                ; Cool_RB_確認動作完了(831)
@MOV K139 D10500         ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;初期確認完了
LD M11639                ; Cool_初期起動完了
AND M11979               ; U20_STEP動作
AND M11745               ; Cool_Sup_RB_初期起動完了ﾌﾗｸﾞ
@MOV K149 D10500         ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;<h1/>/給徐材判定
;<h1/>2018/2/28 能拡変更
;ﾊﾞｯﾌｧ供給要求｢M13601｣を追加
;自動運転ステップ開始
;給徐材要求判定
LD M11510                ; 給徐材先判定
AND M11979               ; U20_STEP動作
MPS
LDB M56                  ; 自動起動停止指令(ｻｲｸﾙ停止)
LD M11020                ; U19-S20_ﾜｰｸ取出可(→Cool_Sup_RB)
LD B3010                 ; Leak_Final_自動運転中
AND M13601               ; ﾊﾞｯﾌｧ供給要求(RBへ)
ORL
ANL
ANL
MPS
LD M12400                ; Cool#1_READY_ON
ANB M12900               ; Cool#2_READY_ON
ANL
@MOV K1 D10555           ; Cool_RB給徐材優先ﾌﾗｸﾞ
MRD
LDB M12400               ; Cool#1_READY_ON
AND M12900               ; Cool#2_READY_ON
ANL
@MOV K2 D10555           ; Cool_RB給徐材優先ﾌﾗｸﾞ
MRD
LD= D10555 K1            ; Cool_RB給徐材優先ﾌﾗｸﾞ
AND M12001               ; Cool#1_給徐材要求ON
AND M12400               ; Cool#1_READY_ON
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
@MOV D10555 D10556       ; Cool_RB給徐材優先ﾌﾗｸﾞ  Cool_RB給徐材選択ﾌﾗｸﾞ
MPP
LD= D10555 K2            ; Cool_RB給徐材優先ﾌﾗｸﾞ
AND M12501               ; Cool#2_給徐材要求ON
AND M12900               ; Cool#2_READY_ON
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
@MOV D10555 D10556       ; Cool_RB給徐材優先ﾌﾗｸﾞ  Cool_RB給徐材選択ﾌﾗｸﾞ
MPP
AND M56                  ; 自動起動停止指令(ｻｲｸﾙ停止)
MOV K149 D10500          ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;徐材処理判定
LD CR2002                ; 常時ON
AND CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
AND> D10620 D10590       ; 冷却槽取出ﾀｲﾑ設定  冷却槽取出可ﾀｲﾏｶｳﾝﾀ
@INC D10590              ; 冷却槽取出可ﾀｲﾏｶｳﾝﾀ
LD M11511                ; Cool_RB給徐材開始
AND M11979               ; U20_STEP動作
MPS
AND>= D10590 D10620      ; 冷却槽取出可ﾀｲﾏｶｳﾝﾀ  冷却槽取出ﾀｲﾑ設定
MPS
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND<= D10550 K3          ; Cool#1_徐材ｶｳﾝﾀ
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND<= D10552 K3          ; Cool#2_徐材ｶｳﾝﾀ
ORL
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MOV K0 D10590            ; 冷却槽取出可ﾀｲﾏｶｳﾝﾀ
MPP
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND> D10550 K3           ; Cool#1_徐材ｶｳﾝﾀ
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND> D10552 K3           ; Cool#2_徐材ｶｳﾝﾀ
ORL
ANL
MPS
MOV K85 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
AND CR2003               ; 常時OFF
MOV K0 D10590            ; 冷却槽取出可ﾀｲﾏｶｳﾝﾀ
MRD
LD M11020                ; U19-S20_ﾜｰｸ取出可(→Cool_Sup_RB)
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND> D10550 D10551       ; Cool#1_徐材ｶｳﾝﾀ  Cool#1_給材ｶｳﾝﾀ
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND> D10552 D10553       ; Cool#2_徐材ｶｳﾝﾀ  Cool#2_給材ｶｳﾝﾀ
ORL
ANL
ANL
MOV K85 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
AND M56                  ; 自動起動停止指令(ｻｲｸﾙ停止)
MOV K149 D10500          ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;全て徐材か判定2
LD M11585                ; 徐材数判定2
AND M11979               ; U20_STEP動作
MPS
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND<= D10550 K3          ; Cool#1_徐材ｶｳﾝﾀ
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND<= D10552 K3          ; Cool#2_徐材ｶｳﾝﾀ
ORL
ANL
MOV K65 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND> D10550 K3           ; Cool#1_徐材ｶｳﾝﾀ
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND> D10552 K3           ; Cool#2_徐材ｶｳﾝﾀ
ORL
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;徐材完了
LD M11586                ; 全徐材確認2､徐材完了ﾌﾗｸﾞｾｯﾄ
AND M11979               ; U20_STEP動作
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND M11701               ; Cool#1_徐材完了ﾌﾗｸﾞ
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND M11711               ; Cool#2_徐材完了ﾌﾗｸﾞ
ORL
ANL
MOV K65 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;槽内ﾜｰｸ情報要求
LD M11512                ; Cool_RB取出ﾃﾞｰﾀｾｯﾄ
AND M11979               ; U20_STEP動作
MPS
AND= D10556 K1           ; Cool_RB給徐材選択ﾌﾗｸﾞ
MOV K1 W0150             ; 冷却槽No.
MOV D10550 W0151         ; Cool#1_徐材ｶｳﾝﾀ  冷却槽段数
MRD
AND= D10556 K2           ; Cool_RB給徐材選択ﾌﾗｸﾞ
MOV K2 W0150             ; 冷却槽No.
MOV D10552 W0151         ; Cool#2_徐材ｶｳﾝﾀ  冷却槽段数
MPP
ANB W06.4                ; 冷却槽無取出製品情報ｾｯﾄ完了
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;槽内ﾜｰｸ有･ﾜｰｸ情報要求･検査前仮置ID判定
LD M11513                ; Cool_RB槽内ﾜｰｸ情報要求
AND W0106.4              ; 冷却槽内取出製品情報要求
MPS
AND W06.4                ; 冷却槽無取出製品情報ｾｯﾄ完了
TMH K2040 K50            ; 冷却槽情報読込ﾃﾞｨﾚｲ
MRD
LD T2040                 ; 冷却槽情報読込ﾃﾞｨﾚｲ
OR M3                    ; OFFLINE_MODE
ANB W06.5                ; 冷却槽内製品治具IDｴﾗｰ
ANL
@BMOV W070 D10650 K2     ; 冷却槽取出ﾛﾎﾞｯﾄNo.  Leak_Final投入ﾊﾟﾚｯﾄID
@BMOV W07C D10655 K4     ; 冷却槽取出製品低温検査結果  冷却槽取出製品低温検査結果
@BMOV W080 D10660 K10    ; 冷却槽取出製品コード情報  冷却槽取出製品ｺｰﾄﾞ情報
MPS
AND<> W070 K0            ; 冷却槽取出ﾛﾎﾞｯﾄNo.
MOV K1 D10610            ; ﾜｰｸ有取出中(Leak_Final抑制ﾌﾗｸﾞ)
MRD
AND M3                   ; OFFLINE_MODE
DW K7 D10650             ; Leak_Final投入ﾊﾟﾚｯﾄID
CON
DW K7 D10651             ; 冷却槽取出ﾛﾎﾞｯﾄNo.
MPP
MOV K15 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
AND W06.5                ; 冷却槽内製品治具IDｴﾗｰ
MOV K140 D10500          ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;<h1/>/治具IDｴﾗｰ･段取
;治具IDｴﾗｰ･治具交換
LD M11640                ; 治具交換段取開始
AND M11493               ; U19_WORK無し
AND M250                 ; (仮)
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11641                ; 段取一時停止処理
AND M140                 ; 全一時停止
AND M142                 ; 全一時停止OK
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K2004 D200            ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11642                ; 一時停止確認(ﾀﾞｲｱﾛｸﾞ)
LD B1025                 ; 確認TP_PB
OR B1002                 ; ｽﾀｰﾄPB
ANL
AND M140                 ; 全一時停止
AND M130                 ; 冷却槽安全扉正常
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11643                ; 段取完了確認
MPS
OUT W0106.5              ; 冷却槽治具ﾀﾞｲｱﾛｸﾞ完了
MPP
ANB W06.5                ; 冷却槽内製品治具IDｴﾗｰ
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11644                ; 段取終了一時停止解除
ANB M140                 ; 全一時停止
MOV K12 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;<h1/>/槽徐材ｻｲｸﾙ
;<h1/>2018/2/28 能拡変更
;ﾊﾞｯﾌｧ供給要求｢M13601｣を追加
;設定初期化
;Setting initialization
LD M11515                ; Cool_RB_ID照合OK､設定初期化
AND M11979               ; U20_STEP動作
MPS
LDB M56                  ; 自動起動停止指令(ｻｲｸﾙ停止)
LD B3010                 ; Leak_Final_自動運転中
AND M13601               ; ﾊﾞｯﾌｧ供給要求(RBへ)
LD= D10651 K0            ; 冷却槽取出ﾛﾎﾞｯﾄNo.
ANB B3010                ; Leak_Final_自動運転中
ORL
OR B101E                 ; Leak_Final連結選択TP(1:ｽﾙ_0ｼﾅｲ)
ANL
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND M11700               ; Cool#1_給徐材中ﾌﾗｸﾞ
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND M11710               ; Cool#2_給徐材中ﾌﾗｸﾞ
ORL
ANL
ANL
@FMOV K0 D10520 K3       ; Cool_RB Type No.
MPS
@FMOV K0 D10530 K3       ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
MPP
LD= D10520 K0            ; Cool_RB Type No.
AND= D10521 K0           ; Cool_RB_給徐材槽 No.
AND= D10522 K0           ; Cool_RB_給徐材段 No.
AND= D10530 K0           ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D10531 K0           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D10532 K0           ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
AND M56                  ; 自動起動停止指令(ｻｲｸﾙ停止)
MOV K149 D10500          ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;搬送動作開始起動
LD M11516                ; Cool_RB_設定ｾｯﾄ
AND M11979               ; U20_STEP動作
ANB X4029                ; Cool_RB_Continue
@MOV D10651 D10520       ; 冷却槽取出ﾛﾎﾞｯﾄNo.  Cool_RB Type No.
MPS
AND= D10556 K1           ; Cool_RB給徐材選択ﾌﾗｸﾞ
@MOV K1 D10521           ; Cool_RB_給徐材槽 No.
@MOV D10550 D10522       ; Cool#1_徐材ｶｳﾝﾀ  Cool_RB_給徐材段 No.
MRD
AND= D10556 K2           ; Cool_RB給徐材選択ﾌﾗｸﾞ
@MOV K2 D10521           ; Cool_RB_給徐材槽 No.
@MOV D10552 D10522       ; Cool#2_徐材ｶｳﾝﾀ  Cool_RB_給徐材段 No.
MRD
@MOV K2 D10530           ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
MRD
@MOV K1 D10531           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MRD
@MOV K1 D10532           ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D10530 K2            ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D10531 K1           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D10532 K1           ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M11517                ; Cool_RB取出PRG.ｽﾀｰﾄ
AND X4021                ; Cool_RB_RUN
AND X4025                ; Cool_RB_Auto
AND M11670               ; Cool_RB_下流給材中
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;ﾛﾎﾞｯﾄ徐材動作結果判定
LD M11518                ; Cool_RB起動確認
MPS
LD X4053                 ; Cool_RB_ﾜｰｸ無NG完了(819)
ANB X4054                ; Cool_RB_ﾜｰｸ有NG完了(820)
ANB X4052                ; Cool_RB_ﾜｰｸ無正常完了(818)
ANB X4058                ; Cool_RB ﾁｬｯｸNG(824)
ANB X4055                ; Cool_RB_冷却槽取出完了(821)
ANL
MOV K20 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MRD
LD X4054                 ; Cool_RB_ﾜｰｸ有NG完了(820)
ANB X4053                ; Cool_RB_ﾜｰｸ無NG完了(819)
ANB X4052                ; Cool_RB_ﾜｰｸ無正常完了(818)
ANB X4058                ; Cool_RB ﾁｬｯｸNG(824)
ANB X4055                ; Cool_RB_冷却槽取出完了(821)
ANL
MOV K25 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MRD
LD X4052                 ; Cool_RB_ﾜｰｸ無正常完了(818)
ANB X4053                ; Cool_RB_ﾜｰｸ無NG完了(819)
ANB X4054                ; Cool_RB_ﾜｰｸ有NG完了(820)
ANB X4058                ; Cool_RB ﾁｬｯｸNG(824)
ANB X4055                ; Cool_RB_冷却槽取出完了(821)
ANL
MOV K30 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MRD
LD X4058                 ; Cool_RB ﾁｬｯｸNG(824)
ANB X4053                ; Cool_RB_ﾜｰｸ無NG完了(819)
ANB X4054                ; Cool_RB_ﾜｰｸ有NG完了(820)
ANB X4052                ; Cool_RB_ﾜｰｸ無正常完了(818)
ANB X4055                ; Cool_RB_冷却槽取出完了(821)
ANL
MOV K32 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
LD X4055                 ; Cool_RB_冷却槽取出完了(821)
ANB X4053                ; Cool_RB_ﾜｰｸ無NG完了(819)
ANB X4054                ; Cool_RB_ﾜｰｸ有NG完了(820)
ANB X4052                ; Cool_RB_ﾜｰｸ無正常完了(818)
ANB X4058                ; Cool_RB ﾁｬｯｸNG(824)
ANL
MOV K35 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;ﾜｰｸ無NG異常処理
LD M11520                ; Cool_RBﾜｰｸ情報NG確認
AND Y5058                ; Cool_RB_信号受信Ans(568)
ANB X4053                ; Cool_RB_ﾜｰｸ無NG完了(819)
ANB X4050                ; Cool_RB_Cool#1侵入中(816)
ANB X4051                ; Cool_RB_Cool#2侵入中(817)
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11521                ; Cool_RBﾜｰｸ情報NG_OFF確認
ANB X4021                ; Cool_RB_RUN
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K2000 D200            ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11522                ; Cool_RBﾜｰｸ無NG(選択ﾀﾞｲｱﾛｸﾞ)
ANB M11670               ; Cool_RB_下流給材中
MPS
ANP B1020                ; ﾀﾞｲｱﾛｸﾞ選択PB1
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
MOV K16 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
ANP B1021                ; ﾀﾞｲｱﾛｸﾞ選択PB2
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;ﾜｰｸ有NG異常処理
LD M11525                ; Cool_RBﾜｰｸ情報NG確認
AND Y5058                ; Cool_RB_信号受信Ans(568)
ANB X4054                ; Cool_RB_ﾜｰｸ有NG完了(820)
ANB X4050                ; Cool_RB_Cool#1侵入中(816)
ANB X4051                ; Cool_RB_Cool#2侵入中(817)
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11526                ; Cool_RBﾜｰｸ情報NG_OFF確認
ANB X4021                ; Cool_RB_RUN
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K2001 D200            ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11527                ; Cool_RBﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
ANB M11670               ; Cool_RB_下流給材中
MPS
ANP B1020                ; ﾀﾞｲｱﾛｸﾞ選択PB1
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
MOV K16 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
ANP B1021                ; ﾀﾞｲｱﾛｸﾞ選択PB2
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;ﾜｰｸ無正常処理
;徐材ｶｳﾝﾀ +1
LD M11530                ; Cool_RB槽内ﾜｰｸ無OK確認
MPS
AND= D10556 K1           ; Cool_RB給徐材選択ﾌﾗｸﾞ
@CAL+ D10550 K1 D10550   ; Cool#1_徐材ｶｳﾝﾀ  Cool#1_徐材ｶｳﾝﾀ
MRD
AND= D10556 K2           ; Cool_RB給徐材選択ﾌﾗｸﾞ
@CAL+ D10552 K1 D10552   ; Cool#2_徐材ｶｳﾝﾀ  Cool#2_徐材ｶｳﾝﾀ
MPP
LD Y5058                 ; Cool_RB_信号受信Ans(568)
ANB X4052                ; Cool_RB_ﾜｰｸ無正常完了(818)
ANB X4050                ; Cool_RB_Cool#1侵入中(816)
ANB X4051                ; Cool_RB_Cool#2侵入中(817)
ANL
MOV K148 D10500          ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11531                ; Cool_RB槽内ﾜｰｸ無終了
ANB X4021                ; Cool_RB_RUN
MOV K148 D10500          ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;ﾁｬｯｸNG処理
LD M11532                ; Cool_RBﾁｬｯｸNG確認
AND Y5058                ; Cool_RB_信号受信Ans(568)
ANB X4058                ; Cool_RB ﾁｬｯｸNG(824)
ANB X4050                ; Cool_RB_Cool#1侵入中(816)
ANB X4051                ; Cool_RB_Cool#2侵入中(817)
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11533                ; Cool_RBﾁｬｯｸNG_OFF確認
ANB X3221                ; Low_Sup_RB_RUN
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K2000 D200            ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11534                ; Cool_RBﾁｬｯｸNG中
ANB M11670               ; Cool_RB_下流給材中
AND<> D200 K0            ; ｴﾗｰｺｰﾄﾞNo.
ANP B1025                ; 確認TP_PB
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
MOV K15 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;ﾜｰｸ取出OK処理
;徐材ｶｳﾝﾀ +1
LD M11535                ; Cool_RBﾜｰｸ情報OK
MPS
AND= D10556 K1           ; Cool_RB給徐材選択ﾌﾗｸﾞ
@CAL+ D10550 K1 D10550   ; Cool#1_徐材ｶｳﾝﾀ  Cool#1_徐材ｶｳﾝﾀ
MRD
AND= D10556 K2           ; Cool_RB給徐材選択ﾌﾗｸﾞ
@CAL+ D10552 K1 D10552   ; Cool#2_徐材ｶｳﾝﾀ  Cool#2_徐材ｶｳﾝﾀ
MPP
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;/製品取出結果ｾｯﾄ
LD M11536                ; 取出ﾃﾞｰﾀｾｯﾄ､ｶｳﾝﾀ加算
MOV D10521 W0150         ; Cool_RB_給徐材槽 No.  冷却槽No.
MPS
MOV D10522 W0151         ; Cool_RB_給徐材段 No.  冷却槽段数
MPP
ANB W06.6                ; 冷却槽製品取出完了
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;/製品取出結果ﾊﾝﾄﾞｼｪｲｸ
LD M11537                ; Cool_RB取出完了確認
AND W0106.6              ; 冷却槽製品取出要求
LD W06.6                 ; 冷却槽製品取出完了
OR M3                    ; OFFLINE_MODE
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11538                ; Cool_RB取出完了ﾃﾞｰﾀ移動
ANB W0106.6              ; 冷却槽製品取出要求
ANB W06.6                ; 冷却槽製品取出完了
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11539                ; Cool_RBﾃﾞｰﾀ移動確認
AND Y5058                ; Cool_RB_信号受信Ans(568)
ANB X4055                ; Cool_RB_冷却槽取出完了(821)
ANB X4050                ; Cool_RB_Cool#1侵入中(816)
ANB X4051                ; Cool_RB_Cool#2侵入中(817)
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;全て徐材か判定
LD M11540                ; 徐材数判定1
MPS
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND<= D10550 K3          ; Cool#1_徐材ｶｳﾝﾀ
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND<= D10552 K3          ; Cool#2_徐材ｶｳﾝﾀ
ORL
ANL
MOV K42 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND> D10550 K3           ; Cool#1_徐材ｶｳﾝﾀ
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND> D10552 K3           ; Cool#2_徐材ｶｳﾝﾀ
ORL
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;徐材完了
LD M11541                ; 全徐材確認1､徐材完了ﾌﾗｸﾞｾｯﾄ
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND M11701               ; Cool#1_徐材完了ﾌﾗｸﾞ
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND M11711               ; Cool#2_徐材完了ﾌﾗｸﾞ
ORL
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;<h1/>/ﾊﾞｯﾌｧ給材 2018/2/28追加
;バッファ治具ＩＤ照合判定追加
;JIG_ID確認
LD M11542                ; U20_S42_Buffer_IDﾁｪｯｸ
AND M13601               ; ﾊﾞｯﾌｧ供給要求(RBへ)
ANB M13900               ; RB5C ﾊﾞｯﾌｧ取出し位置進入中
ANB X164A                ; ﾊﾞｯﾌｧ部ﾜｰｸ確認(1:有)
ANB W0106.10             ; 後工程投入要求
MPS
AND= D12570 D10650       ; Buffer_JIG_ID  Leak_Final投入ﾊﾟﾚｯﾄID
MOV K44 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
AND<> D12570 D10650      ; Buffer_JIG_ID  Leak_Final投入ﾊﾟﾚｯﾄID
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;JIG_ID不一致
LD M11543                ; U20_S43_Leak_Final_ID不一致
ANPB M11543              ; U20_S43_Leak_Final_ID不一致
ANB B028E                ; B28E_655)Leak_Final_JIG_ID不一致
MOV K42 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11544                ; U20_S44_JIG_ID一致導入要求ON→PC
AND W0106.10             ; 後工程投入要求
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;給材開始･ﾁｬｯｸ開
LD M11545                ; U20_S45_下流開始→RB
AND X4067                ; Cool_RB_下流給材ﾁｬｯｸ開要求(839)
LDB B101E                ; Leak_Final連結選択TP(1:ｽﾙ_0ｼﾅｲ)
LD B101E                 ; Leak_Final連結選択TP(1:ｽﾙ_0ｼﾅｲ)
AND X160B                ; 冷却給徐材RBﾊﾝﾄﾞ開PB
ORL
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;<h1/>/ﾃﾞｰﾀ渡→ﾊﾞｯﾌｧ
LD M11546                ; U20_S46_ﾁｬｯｸ開
AND T2011                ; 冷却給徐材RBﾁｬｯｸ開端
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
@BMOV D10650 D12550 K2   ; Leak_Final投入ﾊﾟﾚｯﾄID  Leak_Final投入ﾊﾟﾚｯﾄID
@BMOV D10655 D12555 K4   ; 冷却槽取出製品低温検査結果  ﾊﾞｯﾌｧ製品低温検査結果
@BMOV D10660 D12560 K10  ; 冷却槽取出製品ｺｰﾄﾞ情報  ﾊﾞｯﾌｧ製品ｺｰﾄﾞ情報
@FMOV K0 D10650 K20      ; Leak_Final投入ﾊﾟﾚｯﾄID
LD M11547                ; U20_S47_ﾁｬｯｸ開確認→RB
ANB X4067                ; Cool_RB_下流給材ﾁｬｯｸ開要求(839)
AND X4043                ; Cool_RB_下流給材完了(803)
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;給材完了_ﾊﾞｯﾌｧ ﾜｰｸ確認
LD M11548                ; U20_S48_Leak_Finalﾜｰｸ供給確認
AND Y5058                ; Cool_RB_信号受信Ans(568)
ANB X4043                ; Cool_RB_下流給材完了(803)
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11549                ; U20_S49_供給完了(ﾊﾞｯﾌｧへ)
ANB M13601               ; ﾊﾞｯﾌｧ供給要求(RBへ)
AND X164A                ; ﾊﾞｯﾌｧ部ﾜｰｸ確認(1:有)
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11550                ; U20_S50_ﾊﾞｯﾌｧ供給確認
LDB W0106.10             ; 後工程投入要求
ANB W06.10               ; 後工程投入完了
OR M3                    ; OFFLINE_MODE
ANL
@MOV K64 D10500          ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;ﾛﾎﾞｯﾄ動作終了
LD M11564                ; U20_S64_移動完了OFF確認
AND M11979               ; U20_STEP動作
ANB X4021                ; Cool_RB_RUN
ANB X4029                ; Cool_RB_Continue
ANB X4053                ; Cool_RB_ﾜｰｸ無NG完了(819)
ANB X4055                ; Cool_RB_冷却槽取出完了(821)
ANB X4057                ; Cool_RB_ﾜｰｸﾃﾞｰﾀ無完了(823)
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;給徐材要求再確認
;取出可OFFでﾀｲﾑｱｳﾄの場合は給材完了処理
LD M11565                ; U20_S65_給徐材要求再確認
ANB M11670               ; Cool_RB_下流給材中
AND M11979               ; U20_STEP動作
MPS
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND M12001               ; Cool#1_給徐材要求ON
ANL
MPS
AND M11020               ; U19-S20_ﾜｰｸ取出可(→Cool_Sup_RB)
MOV K70 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MRD
LDB M11701               ; Cool#1_徐材完了ﾌﾗｸﾞ
ANB M11020               ; U19-S20_ﾜｰｸ取出可(→Cool_Sup_RB)
ANL
MOV K149 D10500          ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
LDB M11020               ; U19-S20_ﾜｰｸ取出可(→Cool_Sup_RB)
AND M11701               ; Cool#1_徐材完了ﾌﾗｸﾞ
AND T2130                ; Cool#1_給材待ちﾀｲﾑｱｳﾄ
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MRD
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND M12501               ; Cool#2_給徐材要求ON
ANL
MPS
AND M11020               ; U19-S20_ﾜｰｸ取出可(→Cool_Sup_RB)
MOV K70 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MRD
LDB M11711               ; Cool#2_徐材完了ﾌﾗｸﾞ
ANB M11020               ; U19-S20_ﾜｰｸ取出可(→Cool_Sup_RB)
ANL
MOV K149 D10500          ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
LDB M11020               ; U19-S20_ﾜｰｸ取出可(→Cool_Sup_RB)
AND M11711               ; Cool#2_徐材完了ﾌﾗｸﾞ
AND T2230                ; Cool#2_給材待ちﾀｲﾑｱｳﾄ
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
ANB M12485               ; U21_起動中
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
ANB M12985               ; U22_起動中
ORL
ANL
MOV K149 D10500          ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11566                ; U20_S66_給材待ちﾀｲﾑｱｳﾄ
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND M11702               ; Cool#1_給材完了ﾌﾗｸﾞ
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND M11712               ; Cool#2_給材完了ﾌﾗｸﾞ
ORL
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11567                ; U20_S67_給材要求OFF確認
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
ANB M12001               ; Cool#1_給徐材要求ON
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
ANB M12501               ; Cool#2_給徐材要求ON
ORL
ANL
MOV K149 D10500          ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;<h1/>/槽給材ｻｲｸﾙ
;給材ｶｳﾝﾀ確認
LD M11570                ; Cool_取出済判定
AND M11979               ; U20_STEP動作
MPS
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND<= D10551 K3          ; Cool#1_給材ｶｳﾝﾀ
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND<= D10553 K3          ; Cool#2_給材ｶｳﾝﾀ
ORL
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND> D10551 K3           ; Cool#1_給材ｶｳﾝﾀ
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND> D10553 K3           ; Cool#2_給材ｶｳﾝﾀ
ORL
ANL
MOV K100 D10500          ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;設定初期化
;Setting initialization
LD M11571                ; Cool_設定初期化
AND M11979               ; U20_STEP動作
@FMOV K0 D10520 K3       ; Cool_RB Type No.
MPS
@FMOV K0 D10530 K3       ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
MPP
LD= D10520 K0            ; Cool_RB Type No.
AND= D10521 K0           ; Cool_RB_給徐材槽 No.
AND= D10522 K0           ; Cool_RB_給徐材段 No.
AND= D10530 K0           ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D10531 K0           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D10532 K0           ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;搬送動作開始起動
LD M11572                ; Cool_給材ﾃﾞｰﾀｾｯﾄ
AND M11979               ; U20_STEP動作
ANB X4029                ; Cool_RB_Continue
@MOV D10106 D10520       ; 冷却ｼｬﾄﾙ_冷却槽投入ﾛﾎﾞｯﾄNo.  Cool_RB Type No.
MPS
AND= D10556 K1           ; Cool_RB給徐材選択ﾌﾗｸﾞ
@MOV K1 D10521           ; Cool_RB_給徐材槽 No.
@MOV D10551 D10522       ; Cool#1_給材ｶｳﾝﾀ  Cool_RB_給徐材段 No.
MRD
AND= D10556 K2           ; Cool_RB給徐材選択ﾌﾗｸﾞ
@MOV K2 D10521           ; Cool_RB_給徐材槽 No.
@MOV D10553 D10522       ; Cool#2_給材ｶｳﾝﾀ  Cool_RB_給徐材段 No.
MRD
@MOV K2 D10530           ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
MRD
@MOV K1 D10531           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MRD
@MOV K2 D10532           ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D10530 K2            ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D10531 K1           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D10532 K2           ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M11573                ; Cool_給材PRG.ｽﾀｰﾄ
AND X4021                ; Cool_RB_RUN
AND X4025                ; Cool_RB_Auto
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11574                ; Cool_RB起動確認
MPS
LD X4058                 ; Cool_RB ﾁｬｯｸNG(824)
ANB X4041                ; Cool_RB_給材取出完了(801)
ANB X4054                ; Cool_RB_ﾜｰｸ有NG完了(820)
ANL
MOV K80 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MRD
LD X4041                 ; Cool_RB_給材取出完了(801)
ANB X4058                ; Cool_RB ﾁｬｯｸNG(824)
ANB X4054                ; Cool_RB_ﾜｰｸ有NG完了(820)
ANL
MOV K90 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
LD X4054                 ; Cool_RB_ﾜｰｸ有NG完了(820)
ANB X4058                ; Cool_RB ﾁｬｯｸNG(824)
ANB X4041                ; Cool_RB_給材取出完了(801)
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11575                ; Cool_槽内ﾜｰｸ有NG確認
AND Y5058                ; Cool_RB_信号受信Ans(568)
ANB X4054                ; Cool_RB_ﾜｰｸ有NG完了(820)
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11576                ; Cool_槽内ﾜｰｸ有NG_OFF確認
ANB X4021                ; Cool_RB_RUN
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K2002 D200            ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11577                ; Cool_槽内ﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
MPS
AND B1020                ; ﾀﾞｲｱﾛｸﾞ選択PB1
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
MOV K72 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
AND B1021                ; ﾀﾞｲｱﾛｸﾞ選択PB2
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;ﾁｬｯｸNG処理
LD M11580                ; Cool_RBﾁｬｯｸNG確認
AND Y5058                ; Cool_RB_信号受信Ans(568)
ANB X4058                ; Cool_RB ﾁｬｯｸNG(824)
ANB X4050                ; Cool_RB_Cool#1侵入中(816)
ANB X4051                ; Cool_RB_Cool#2侵入中(817)
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11581                ; Cool_RBﾁｬｯｸNG_OFF確認
ANB X4021                ; Cool_RB_RUN
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K2001 D200            ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11582                ; Cool_RBﾁｬｯｸNG中
AND<> D200 K0            ; ｴﾗｰｺｰﾄﾞNo.
ANP B1025                ; 確認TP_PB
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
MOV K72 D10500           ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;給材部取出完了
LD M11590                ; Cool_取出完了確認
ANB M11020               ; U19-S20_ﾜｰｸ取出可(→Cool_Sup_RB)
MPS
ANB W06.0                ; 冷却槽搬送ｼｬﾄﾙ取出完了
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
@FMOV K0 D10100 K10      ; 冷却ｼｬﾄﾙ 高温検査ﾊﾟﾚｯﾄID
LD M11591                ; Cool_取出完了ﾃﾞｰﾀ移動
AND W0106.0              ; 冷却搬送RB取出要求
LD W06.0                 ; 冷却槽搬送ｼｬﾄﾙ取出完了
OR M3                    ; OFFLINE_MODE
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11592                ; Cool_ﾃﾞｰﾀ移動確認
ANB W0106.0              ; 冷却搬送RB取出要求
ANB W06.0                ; 冷却槽搬送ｼｬﾄﾙ取出完了
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11593                ; Cool_上流取出ﾃﾞｰﾀ移動完了
AND Y5058                ; Cool_RB_信号受信Ans(568)
ANB X4041                ; Cool_RB_給材取出完了(801)
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;冷却槽給材完了
LD M11594                ; Cool_取出完了OFF確認
AND X4056                ; Cool_RB_冷却槽給材完了(822)
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPS
AND= D10556 K1           ; Cool_RB給徐材選択ﾌﾗｸﾞ
@CAL+ D10551 K1 D10551   ; Cool#1_給材ｶｳﾝﾀ  Cool#1_給材ｶｳﾝﾀ
MPP
AND= D10556 K2           ; Cool_RB給徐材選択ﾌﾗｸﾞ
@CAL+ D10553 K1 D10553   ; Cool#2_給材ｶｳﾝﾀ  Cool#2_給材ｶｳﾝﾀ
LD M11595                ; Cool_給材完了確認
AND Y5058                ; Cool_RB_信号受信Ans(568)
ANB X4056                ; Cool_RB_冷却槽給材完了(822)
ANB W06.2                ; 冷却槽製品投入完了
MOV D10521 W0150         ; Cool_RB_給徐材槽 No.  冷却槽No.
MOV D10522 W0151         ; Cool_RB_給徐材段 No.  冷却槽段数
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11596                ; Cool_給材完了ﾃﾞｰﾀ移動
AND W0106.2              ; 冷却槽製品投入要求
LD W06.2                 ; 冷却槽製品投入完了
OR M3                    ; OFFLINE_MODE
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11597                ; Cool_ﾃﾞｰﾀ移動確認
AND M11979               ; U20_STEP動作
ANB W0106.2              ; 冷却槽製品投入要求
ANB W06.2                ; 冷却槽製品投入完了
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11598                ; Cool_ﾃﾞｰﾀ移動完了
AND M11979               ; U20_STEP動作
ANB X4021                ; Cool_RB_RUN
ANB X4029                ; Cool_RB_Continue
ANB X4053                ; Cool_RB_ﾜｰｸ無NG完了(819)
ANB X4054                ; Cool_RB_ﾜｰｸ有NG完了(820)
ANB X4055                ; Cool_RB_冷却槽取出完了(821)
ANB X4056                ; Cool_RB_冷却槽給材完了(822)
ANB X4057                ; Cool_RB_ﾜｰｸﾃﾞｰﾀ無完了(823)
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;給材数判定
LD M11599                ; Cool_給材数判定
AND M11979               ; U20_STEP動作
MPS
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND<= D10551 K3          ; Cool#1_給材ｶｳﾝﾀ
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND<= D10553 K3          ; Cool#2_給材ｶｳﾝﾀ
ORL
ANL
@MOV K101 D10500         ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
MPP
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND> D10551 K3           ; Cool#1_給材ｶｳﾝﾀ
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND> D10553 K3           ; Cool#2_給材ｶｳﾝﾀ
ORL
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
LD M11600                ; Cool_給材完了
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND M11702               ; Cool#1_給材完了ﾌﾗｸﾞ
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
AND M11712               ; Cool#2_給材完了ﾌﾗｸﾞ
ORL
ANL
@INC D10500              ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;給材中OFF･給材完了
LD M11601                ; Cool_給材中OFF
LD= D10556 K1            ; Cool_RB給徐材選択ﾌﾗｸﾞ
ANB M11700               ; Cool#1_給徐材中ﾌﾗｸﾞ
LD= D10556 K2            ; Cool_RB給徐材選択ﾌﾗｸﾞ
ANB M11710               ; Cool#2_給徐材中ﾌﾗｸﾞ
ORL
ANL
@MOV K149 D10500         ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND CR2003               ; 常時OFF
MOV K148 D10500          ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
;1Cycle End
LD CR2003                ; 常時OFF
OR M11648                ; ﾕﾆｯﾄ20ｻｲｸﾙ停止処理
ANB M11670               ; Cool_RB_下流給材中
@MOV K149 D10500         ; ﾕﾆｯﾄ20-1自動運転ｽﾃｯﾌﾟ
;<h1/>/動作条件ﾌﾗｸﾞ
LD M11517                ; Cool_RB取出PRG.ｽﾀｰﾄ
OR M11670                ; Cool_RB_下流給材中
ANB M11522               ; Cool_RBﾜｰｸ無NG(選択ﾀﾞｲｱﾛｸﾞ)
ANB M11527               ; Cool_RBﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
ANB M11534               ; Cool_RBﾁｬｯｸNG中
ANB M11565               ; U20_S65_給徐材要求再確認
ANB M11648               ; ﾕﾆｯﾄ20ｻｲｸﾙ停止処理
AND M11985               ; U20_起動中
OUT M11670               ; Cool_RB_下流給材中
;各種ﾌﾗｸﾞ
;Other Flag
LD M41                   ; ﾕﾆｯﾄ_起動中
ANB M11542               ; U20_S42_Buffer_IDﾁｪｯｸ
ANB X4053                ; Cool_RB_ﾜｰｸ無NG完了(819)
ANB X4054                ; Cool_RB_ﾜｰｸ有NG完了(820)
ANB X4052                ; Cool_RB_ﾜｰｸ無正常完了(818)
ANB X4058                ; Cool_RB ﾁｬｯｸNG(824)
INV
LD M140                  ; 全一時停止
OR M36                   ; 払出処理
ANB X1340                ; 高温槽搬送ｼｬﾄﾙ受取ﾜｰｸ確認
AND M11993               ; U20_WORK無し
MEP
AND M915                 ; 治具ID別動作変更(藤坂)
ORL
MOV K0 D10610            ; ﾜｰｸ有取出中(Leak_Final抑制ﾌﾗｸﾞ)
LDB M11512               ; Cool_RB取出ﾃﾞｰﾀｾｯﾄ
INV
AND= D10556 K1           ; Cool_RB給徐材選択ﾌﾗｸﾞ
OR M11700                ; Cool#1_給徐材中ﾌﾗｸﾞ
ANB M11566               ; U20_S66_給材待ちﾀｲﾑｱｳﾄ
ANB M11601               ; Cool_給材中OFF
AND M11985               ; U20_起動中
OUT M11700               ; Cool#1_給徐材中ﾌﾗｸﾞ
LDB M11541               ; 全徐材確認1､徐材完了ﾌﾗｸﾞｾｯﾄ
ANB M11586               ; 全徐材確認2､徐材完了ﾌﾗｸﾞｾｯﾄ
INV
AND= D10556 K1           ; Cool_RB給徐材選択ﾌﾗｸﾞ
OR M11701                ; Cool#1_徐材完了ﾌﾗｸﾞ
ANB M12003               ; Cool#1_ﾃｰﾌﾞﾙ回転確認
AND M11985               ; U20_起動中
OUT M11701               ; Cool#1_徐材完了ﾌﾗｸﾞ
LDB M11600               ; Cool_給材完了
ANB M11566               ; U20_S66_給材待ちﾀｲﾑｱｳﾄ
INV
AND= D10556 K1           ; Cool_RB給徐材選択ﾌﾗｸﾞ
OR M11702                ; Cool#1_給材完了ﾌﾗｸﾞ
ANB M12003               ; Cool#1_ﾃｰﾌﾞﾙ回転確認
AND M11985               ; U20_起動中
OUT M11702               ; Cool#1_給材完了ﾌﾗｸﾞ
;/
LDB M11512               ; Cool_RB取出ﾃﾞｰﾀｾｯﾄ
INV
AND= D10556 K2           ; Cool_RB給徐材選択ﾌﾗｸﾞ
OR M11710                ; Cool#2_給徐材中ﾌﾗｸﾞ
ANB M11566               ; U20_S66_給材待ちﾀｲﾑｱｳﾄ
ANB M11601               ; Cool_給材中OFF
AND M11985               ; U20_起動中
OUT M11710               ; Cool#2_給徐材中ﾌﾗｸﾞ
LDB M11541               ; 全徐材確認1､徐材完了ﾌﾗｸﾞｾｯﾄ
ANB M11586               ; 全徐材確認2､徐材完了ﾌﾗｸﾞｾｯﾄ
INV
AND= D10556 K2           ; Cool_RB給徐材選択ﾌﾗｸﾞ
OR M11711                ; Cool#2_徐材完了ﾌﾗｸﾞ
ANB M12503               ; Cool#2_ﾃｰﾌﾞﾙ回転確認
AND M11985               ; U20_起動中
OUT M11711               ; Cool#2_徐材完了ﾌﾗｸﾞ
LDB M11600               ; Cool_給材完了
ANB M11566               ; U20_S66_給材待ちﾀｲﾑｱｳﾄ
INV
AND= D10556 K2           ; Cool_RB給徐材選択ﾌﾗｸﾞ
OR M11712                ; Cool#2_給材完了ﾌﾗｸﾞ
ANB M12503               ; Cool#2_ﾃｰﾌﾞﾙ回転確認
AND M11985               ; U20_起動中
OUT M11712               ; Cool#2_給材完了ﾌﾗｸﾞ
LD X405F                 ; Cool_RB_確認動作完了(831)
AND= D10521 K1           ; Cool_RB_給徐材槽 No.
OR M11740                ; Cool#1_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
AND M41                  ; ﾕﾆｯﾄ_起動中
OUT M11740               ; Cool#1_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
LD X405F                 ; Cool_RB_確認動作完了(831)
AND= D10521 K2           ; Cool_RB_給徐材槽 No.
OR M11741                ; Cool#2_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
AND M41                  ; ﾕﾆｯﾄ_起動中
OUT M11741               ; Cool#2_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
LD M11639                ; Cool_初期起動完了
OR M11745                ; Cool_Sup_RB_初期起動完了ﾌﾗｸﾞ
AND M41                  ; ﾕﾆｯﾄ_起動中
OUT M11745               ; Cool_Sup_RB_初期起動完了ﾌﾗｸﾞ
;<h1/>■工程処理 PLC→PC I/F
;各種要求･選択
LDB M11591               ; Cool_取出完了ﾃﾞｰﾀ移動
INV
OUT W0106.0              ; 冷却搬送RB取出要求
LDB M11596               ; Cool_給材完了ﾃﾞｰﾀ移動
INV
OUT W0106.2              ; 冷却槽製品投入要求
LDB M11513               ; Cool_RB槽内ﾜｰｸ情報要求
INV
OUT W0106.4              ; 冷却槽内取出製品情報要求
LDB M11537               ; Cool_RB取出完了確認
INV
OUT W0106.6              ; 冷却槽製品取出要求
LDB M11544               ; U20_S44_JIG_ID一致導入要求ON→PC
INV
OR W0106.10              ; 後工程投入要求
ANB W06.10               ; 後工程投入完了
OUT W0106.10             ; 後工程投入要求
LD CR2002                ; 常時ON
MOV D18816 W0152         ; 冷却槽1ﾃｰﾌﾞﾙNo.  冷却槽1Position
MOV D18820 W0153         ; 冷却槽2ﾃｰﾌﾞﾙNo.  冷却槽2Position
;<h1/>■原点復帰回路
;□□□□□□□□□□□□□□□
;□　　 UNIT10原点復帰回路 　□
;□□□□□□□□□□□□□□□
LD CR2002                ; 常時ON
ZRES M11750 M11799       ; 原点復帰開始  ﾕﾆｯﾄ20原点終了
LDB M11984               ; U20_原点復帰中
MOV K0 D10510            ; ﾕﾆｯﾄ20原点復帰ｽﾃｯﾌﾟ
LD M11984                ; U20_原点復帰中
MOV D10510 Z1            ; ﾕﾆｯﾄ20原点復帰ｽﾃｯﾌﾟ
OUT M11750:Z1            ; 原点復帰開始
;原点復帰ｻｲｸﾙ監視
LD M11984                ; U20_原点復帰中
TMR K2000 K300           ; UNIT20原点復帰ﾀｲﾑｱｳﾄ
;原点復帰ステップ開始
LD M11750                ; 原点復帰開始
AND M130                 ; 冷却槽安全扉正常
@INC D10510              ; ﾕﾆｯﾄ20原点復帰ｽﾃｯﾌﾟ
;Hi_RBﾜｰｸ有無確認
LD M11751                ; Cool_RBﾜｰｸ有無確認
AND M130                 ; 冷却槽安全扉正常
MPS
LD X160A                 ; 冷却給徐材RBﾜｰｸ確認
ANB T2011                ; 冷却給徐材RBﾁｬｯｸ開端
ANL
@INC D10510              ; ﾕﾆｯﾄ20原点復帰ｽﾃｯﾌﾟ
MPP
LDB X160A                ; 冷却給徐材RBﾜｰｸ確認
OR T2011                 ; 冷却給徐材RBﾁｬｯｸ開端
ANL
@MOV K3 D10510           ; ﾕﾆｯﾄ20原点復帰ｽﾃｯﾌﾟ
LD M11752                ; Cool_RBﾜｰｸ取出要求
AND M130                 ; 冷却槽安全扉正常
AND B0282                ; Cool_Sup_RB原点復帰ﾜｰｸ有取出要求
MOV K0 D10510            ; ﾕﾆｯﾄ20原点復帰ｽﾃｯﾌﾟ
;ﾜｰｸ無確認 RB設定初期化
LD M11753                ; ﾃﾞｰﾀ初期化
AND M130                 ; 冷却槽安全扉正常
ANB M11991               ; U20_ERR発生
@FMOV K0 D16500 K100
@MOV K0 D10530           ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K0 D10531           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K0 D10532           ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D10530 K0            ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D10531 K0           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D10532 K0           ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D10510              ; ﾕﾆｯﾄ20原点復帰ｽﾃｯﾌﾟ
;原点復帰開始
LD M11754                ; ﾃﾞｰﾀ初期化確認
AND M130                 ; 冷却槽安全扉正常
ANB M11991               ; U20_ERR発生
@MOV K2 D10530           ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D10531           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K50 D10532          ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D10530 K2            ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D10531 K1           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D10532 K50          ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D10510              ; ﾕﾆｯﾄ20原点復帰ｽﾃｯﾌﾟ
LD M11755                ; 原点復帰起動
AND X4021                ; Cool_RB_RUN
@INC D10510              ; ﾕﾆｯﾄ20原点復帰ｽﾃｯﾌﾟ
LD M11756                ; 原点復帰起動確認
ANB X4021                ; Cool_RB_RUN
@INC D10510              ; ﾕﾆｯﾄ20原点復帰ｽﾃｯﾌﾟ
;原点復帰終了
LD M11757                ; 原点復帰完了
AND M11980               ; U20_原点
@MOV K48 D10510          ; ﾕﾆｯﾄ20原点復帰ｽﾃｯﾌﾟ
LD M11798                ; ﾕﾆｯﾄ20原点確認
ANB M82                  ; 原点復帰開始
@MOV K49 D10510          ; ﾕﾆｯﾄ20原点復帰ｽﾃｯﾌﾟ
;<h1/>■手動回路
;□□□□□□□□□□□□□□□
;□　　 　UNIT10手動回路 　　□
;□□□□□□□□□□□□□□□
LD M31                   ; 手動ﾓｰﾄﾞ
AND M32                  ; ﾒｲﾝ手動操作可能条件
ANB M11985               ; U20_起動中
ANB M11984               ; U20_原点復帰中
MC
;<h1/>/手動動作選択
;給徐材槽選択
LDB CR2003               ; 常時OFF
ANB X4021                ; Cool_RB_RUN
ANB M11821               ; Cool_取出1ｻｲｸﾙ(手動)
ANB M11841               ; Cool_供給1ｻｲｸﾙ(手動)
OUT M11800               ; Cool_槽選択可
LDP B12E0                ; UNIT20-1-1 TP-PB
AND M11800               ; Cool_槽選択可
OR M11801                ; Cool_槽1選択
ANPB M11802              ; Cool_槽2選択
AND X1883                ; Cool#1_ﾏｽﾀ搬送運転中
OUT M11801               ; Cool_槽1選択
LDP B12E1                ; UNIT20-1-2 TP-PB
AND M11800               ; Cool_槽選択可
OR M11802                ; Cool_槽2選択
ANPB M11801              ; Cool_槽1選択
AND X1903                ; Cool#2_ﾏｽﾀ搬送運転中
OUT M11802               ; Cool_槽2選択
;槽給徐材段選択
LDB CR2003               ; 常時OFF
ANB X4021                ; Cool_RB_RUN
ANB M11821               ; Cool_取出1ｻｲｸﾙ(手動)
ANB M11841               ; Cool_供給1ｻｲｸﾙ(手動)
OUT M11804               ; Cool_槽段選択可
LDP B12E2                ; UNIT20-1-3 TP-PB
AND M11804               ; Cool_槽段選択可
OR M11805                ; Cool_槽上段選択
ANPB M11806              ; Cool_槽中段選択
ANPB M11807              ; Cool_槽下段選択
OUT M11805               ; Cool_槽上段選択
LDP B12E3                ; UNIT20-1-4 TP-PB
AND M11804               ; Cool_槽段選択可
OR M11806                ; Cool_槽中段選択
ANPB M11805              ; Cool_槽上段選択
ANPB M11807              ; Cool_槽下段選択
OUT M11806               ; Cool_槽中段選択
LDP B12E4                ; UNIT20-1-5 TP-PB
AND M11804               ; Cool_槽段選択可
OR M11807                ; Cool_槽下段選択
ANPB M11805              ; Cool_槽上段選択
ANPB M11806              ; Cool_槽中段選択
OUT M11807               ; Cool_槽下段選択
;<h1/>/ﾁｬｯｸ開閉
LDB CR2003               ; 常時OFF
OUT M11810               ; Cool_RBﾁｬｯｸ閉可
LDPB B12E6               ; UNIT20-1-7 TP-PB
INV
AND M11810               ; Cool_RBﾁｬｯｸ閉可
OR M11811                ; Cool_RBﾁｬｯｸ閉
ANPB M11813              ; Cool_RBﾁｬｯｸ開
OUT M11811               ; Cool_RBﾁｬｯｸ閉
LDB CR2003               ; 常時OFF
OUT M11812               ; Cool_RBﾁｬｯｸ開可
LDPB B12E7               ; UNIT20-1-8 TP-PB
INV
AND M11810               ; Cool_RBﾁｬｯｸ閉可
OR M11813                ; Cool_RBﾁｬｯｸ開
ANPB M11811              ; Cool_RBﾁｬｯｸ閉
OUT M11813               ; Cool_RBﾁｬｯｸ開
;<h1/>/冷却槽取出1ｻｲｸﾙ
;槽取出1ｻｲｸﾙ(PRO_No1.)
LD M11801                ; Cool_槽1選択
ANB M11802               ; Cool_槽2選択
LD M11802                ; Cool_槽2選択
ANB M11801               ; Cool_槽1選択
ORL
LD M11805                ; Cool_槽上段選択
ANB M11806               ; Cool_槽中段選択
ANB M11807               ; Cool_槽下段選択
LD M11806                ; Cool_槽中段選択
ANB M11805               ; Cool_槽上段選択
ANB M11807               ; Cool_槽下段選択
ORL
LD M11807                ; Cool_槽下段選択
ANB M11805               ; Cool_槽上段選択
ANB M11806               ; Cool_槽中段選択
ORL
ANL
ANB X4021                ; Cool_RB_RUN
AND X4023                ; Cool_RB_SV_ON
AND X4024                ; Cool_RB_Ready
AND X4025                ; Cool_RB_Auto
AND X4026                ; Cool_RB_EXT
ANB X4028                ; Cool_RB_Worning
AND X4045                ; Cool_RB_ORG(805)
ANB X164A                ; ﾊﾞｯﾌｧ部ﾜｰｸ確認(1:有)
AND= D12570 D10580       ; Buffer_JIG_ID  Cool_RB手動取出機種No.
ANB M11841               ; Cool_供給1ｻｲｸﾙ(手動)
AND M13960               ; 受渡Y(RB5C)待機位置
ANB M13816               ; Yﾊﾞｯﾌｧ位置移動
OUT M11820               ; Cool_取出1ｻｲｸﾙ可
LDP B12E8                ; UNIT20-1-9 TP-PB
AND M11820               ; Cool_取出1ｻｲｸﾙ可
OR M11821                ; Cool_取出1ｻｲｸﾙ(手動)
ANB M11983               ; U20_起動OFF
ANB M11832               ; Cool_取出終了
OUT M11821               ; Cool_取出1ｻｲｸﾙ(手動)
;取出ﾃﾞｰﾀ転送
LD M11821                ; Cool_取出1ｻｲｸﾙ(手動)
MPS
LD M11801                ; Cool_槽1選択
ANB M11802               ; Cool_槽2選択
ANL
@MOV K1 D10521           ; Cool_RB_給徐材槽 No.
MRD
LD M11802                ; Cool_槽2選択
ANB M11801               ; Cool_槽1選択
ANL
@MOV K2 D10521           ; Cool_RB_給徐材槽 No.
MRD
LD M11805                ; Cool_槽上段選択
ANB M11806               ; Cool_槽中段選択
ANB M11807               ; Cool_槽下段選択
ANL
@MOV K1 D10522           ; Cool_RB_給徐材段 No.
MRD
LD M11806                ; Cool_槽中段選択
ANB M11805               ; Cool_槽上段選択
ANB M11807               ; Cool_槽下段選択
ANL
@MOV K2 D10522           ; Cool_RB_給徐材段 No.
MPP
LD M11807                ; Cool_槽下段選択
ANB M11805               ; Cool_槽上段選択
ANB M11806               ; Cool_槽中段選択
ANL
@MOV K3 D10522           ; Cool_RB_給徐材段 No.
LD M11821                ; Cool_取出1ｻｲｸﾙ(手動)
OR M11822                ; Cool_取出ﾃﾞｰﾀｾｯﾄ
AND M11821               ; Cool_取出1ｻｲｸﾙ(手動)
MPS
@MOV D10580 D10520       ; Cool_RB手動取出機種No.  Cool_RB Type No.
MPP
LD= D10520 D10580        ; Cool_RB Type No.  Cool_RB手動取出機種No.
LD M11801                ; Cool_槽1選択
AND= D10521 K1           ; Cool_RB_給徐材槽 No.
LD M11802                ; Cool_槽2選択
AND= D10521 K2           ; Cool_RB_給徐材槽 No.
ORL
ANL
LD M11805                ; Cool_槽上段選択
AND= D10522 K1           ; Cool_RB_給徐材段 No.
LD M11806                ; Cool_槽中段選択
AND= D10522 K2           ; Cool_RB_給徐材段 No.
ORL
LD M11807                ; Cool_槽下段選択
AND= D10522 K3           ; Cool_RB_給徐材段 No.
ORL
ANL
ANL
OUT M11822               ; Cool_取出ﾃﾞｰﾀｾｯﾄ
;取出動作開始起動
LDP M11822               ; Cool_取出ﾃﾞｰﾀｾｯﾄ
OR M11823                ; Cool_取出PRG.ｽﾀｰﾄ
AND M11821               ; Cool_取出1ｻｲｸﾙ(手動)
ANB M11824               ; Cool_動作開始確認
@MOV K2 D10530           ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D10531           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K1 D10532           ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D10530 K2            ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D10531 K1           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D10532 K1           ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
OUT M11823               ; Cool_取出PRG.ｽﾀｰﾄ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M11823                ; Cool_取出PRG.ｽﾀｰﾄ
AND X4021                ; Cool_RB_RUN
AND X4025                ; Cool_RB_Auto
OR M11824                ; Cool_動作開始確認
AND M11821               ; Cool_取出1ｻｲｸﾙ(手動)
ANB M11825               ; Cool_ﾜｰｸ無し確認
ANB M11828               ; Cool_ﾜｰｸ取出完了
OUT M11824               ; Cool_動作開始確認
;ﾜｰｸ無し､終了処理へ
LD M11824                ; Cool_動作開始確認
LD X4052                 ; Cool_RB_ﾜｰｸ無正常完了(818)
OR X4053                 ; Cool_RB_ﾜｰｸ無NG完了(819)
OR X4054                 ; Cool_RB_ﾜｰｸ有NG完了(820)
OR X4058                 ; Cool_RB ﾁｬｯｸNG(824)
ANL
OR M11825                ; Cool_ﾜｰｸ無し確認
AND M11821               ; Cool_取出1ｻｲｸﾙ(手動)
ANB M11826               ; Cool_ﾜｰｸ無し完了OFF確認
OUT M11825               ; Cool_ﾜｰｸ無し確認
LD M11825                ; Cool_ﾜｰｸ無し確認
AND Y5058                ; Cool_RB_信号受信Ans(568)
ANB X4052                ; Cool_RB_ﾜｰｸ無正常完了(818)
ANB X4053                ; Cool_RB_ﾜｰｸ無NG完了(819)
ANB X4054                ; Cool_RB_ﾜｰｸ有NG完了(820)
ANB X4058                ; Cool_RB ﾁｬｯｸNG(824)
OR M11826                ; Cool_ﾜｰｸ無し完了OFF確認
AND M11821               ; Cool_取出1ｻｲｸﾙ(手動)
ANB M11832               ; Cool_取出終了
OUT M11826               ; Cool_ﾜｰｸ無し完了OFF確認
;取出確認
LD M11824                ; Cool_動作開始確認
AND X4055                ; Cool_RB_冷却槽取出完了(821)
OR M11828                ; Cool_ﾜｰｸ取出完了
AND M11821               ; Cool_取出1ｻｲｸﾙ(手動)
ANB M11829               ; Cool_取出完了OFF確認
OUT M11828               ; Cool_ﾜｰｸ取出完了
;ﾜｰｸ有り取出→低温検査給材
LD M11828                ; Cool_ﾜｰｸ取出完了
AND Y5058                ; Cool_RB_信号受信Ans(568)
ANB X4055                ; Cool_RB_冷却槽取出完了(821)
OR M11829                ; Cool_取出完了OFF確認
AND M11821               ; Cool_取出1ｻｲｸﾙ(手動)
ANB M11830               ; Cool_高温検査仮置給材完了
OUT M11829               ; Cool_取出完了OFF確認
LD M11829                ; Cool_取出完了OFF確認
AND X4043                ; Cool_RB_下流給材完了(803)
OR M11830                ; Cool_高温検査仮置給材完了
AND M11821               ; Cool_取出1ｻｲｸﾙ(手動)
ANB M11831               ; 検査仮置給材完了OFF確認
OUT M11830               ; Cool_高温検査仮置給材完了
LD M11830                ; Cool_高温検査仮置給材完了
AND Y5058                ; Cool_RB_信号受信Ans(568)
ANB X4043                ; Cool_RB_下流給材完了(803)
OR M11831                ; 検査仮置給材完了OFF確認
AND M11821               ; Cool_取出1ｻｲｸﾙ(手動)
ANB M11832               ; Cool_取出終了
OUT M11831               ; 検査仮置給材完了OFF確認
;取出1ｻｲｸﾙ完了
LD M11826                ; Cool_ﾜｰｸ無し完了OFF確認
OR M11831                ; 検査仮置給材完了OFF確認
ANB X4021                ; Cool_RB_RUN
ANB X4043                ; Cool_RB_下流給材完了(803)
ANB X4053                ; Cool_RB_ﾜｰｸ無NG完了(819)
ANB X4054                ; Cool_RB_ﾜｰｸ有NG完了(820)
ANB X4055                ; Cool_RB_冷却槽取出完了(821)
ANB X4056                ; Cool_RB_冷却槽給材完了(822)
ANB X4057                ; Cool_RB_ﾜｰｸﾃﾞｰﾀ無完了(823)
OR M11832                ; Cool_取出終了
AND M11821               ; Cool_取出1ｻｲｸﾙ(手動)
OUT M11832               ; Cool_取出終了
;<h1/>/冷却槽給材1ｻｲｸﾙ
;槽供給1ｻｲｸﾙ(PRO_No2.)
LD M11473                ; RB17_ﾜｰｸ取出位置
AND X1629                ; 冷却槽ｼｬﾄﾙ取出ﾜｰｸ確認
ANB M11301               ; 供給位置移動
ANB M11311               ; 受渡位置移動
LD M11801                ; Cool_槽1選択
ANB M11802               ; Cool_槽2選択
LD M11802                ; Cool_槽2選択
ANB M11801               ; Cool_槽1選択
ORL
ANL
LD M11805                ; Cool_槽上段選択
ANB M11806               ; Cool_槽中段選択
ANB M11807               ; Cool_槽下段選択
LD M11806                ; Cool_槽中段選択
ANB M11805               ; Cool_槽上段選択
ANB M11807               ; Cool_槽下段選択
ORL
LD M11807                ; Cool_槽下段選択
ANB M11805               ; Cool_槽上段選択
ANB M11806               ; Cool_槽中段選択
ORL
ANL
ANB X4021                ; Cool_RB_RUN
AND X4023                ; Cool_RB_SV_ON
AND X4023                ; Cool_RB_SV_ON
AND X4023                ; Cool_RB_SV_ON
AND X4025                ; Cool_RB_Auto
AND X4026                ; Cool_RB_EXT
ANB X4028                ; Cool_RB_Worning
AND X4045                ; Cool_RB_ORG(805)
ANB M11821               ; Cool_取出1ｻｲｸﾙ(手動)
OUT M11840               ; Cool_供給1ｻｲｸﾙ可
LDP B12E9                ; UNIT20-1-10 TP-PB
AND M11840               ; Cool_供給1ｻｲｸﾙ可
OR M11841                ; Cool_供給1ｻｲｸﾙ(手動)
ANB M11983               ; U20_起動OFF
ANB M11848               ; Cool_槽内ﾜｰｸ有NG(終了)
ANB M11852               ; Cool_給材終了
OUT M11841               ; Cool_供給1ｻｲｸﾙ(手動)
;取出ﾃﾞｰﾀ転送
LD M11841                ; Cool_供給1ｻｲｸﾙ(手動)
MPS
LD M11801                ; Cool_槽1選択
ANB M11802               ; Cool_槽2選択
ANL
@MOV K1 D10521           ; Cool_RB_給徐材槽 No.
MRD
LD M11802                ; Cool_槽2選択
ANB M11801               ; Cool_槽1選択
ANL
@MOV K2 D10521           ; Cool_RB_給徐材槽 No.
MRD
LD M11805                ; Cool_槽上段選択
ANB M11806               ; Cool_槽中段選択
ANB M11807               ; Cool_槽下段選択
ANL
@MOV K1 D10522           ; Cool_RB_給徐材段 No.
MRD
LD M11806                ; Cool_槽中段選択
ANB M11805               ; Cool_槽上段選択
ANB M11807               ; Cool_槽下段選択
ANL
@MOV K2 D10522           ; Cool_RB_給徐材段 No.
MPP
LD M11807                ; Cool_槽下段選択
ANB M11805               ; Cool_槽上段選択
ANB M11806               ; Cool_槽中段選択
ANL
@MOV K3 D10522           ; Cool_RB_給徐材段 No.
LD M11841                ; Cool_供給1ｻｲｸﾙ(手動)
OR M11842                ; Cool_供給ﾃﾞｰﾀｾｯﾄ
AND M11841               ; Cool_供給1ｻｲｸﾙ(手動)
MPS
@MOV D10580 D10520       ; Cool_RB手動取出機種No.  Cool_RB Type No.
MPP
LD= D10520 D10580        ; Cool_RB Type No.  Cool_RB手動取出機種No.
LD M11801                ; Cool_槽1選択
AND= D10521 K1           ; Cool_RB_給徐材槽 No.
LD M11802                ; Cool_槽2選択
AND= D10521 K2           ; Cool_RB_給徐材槽 No.
ORL
ANL
LD M11805                ; Cool_槽上段選択
AND= D10522 K1           ; Cool_RB_給徐材段 No.
LD M11806                ; Cool_槽中段選択
AND= D10522 K2           ; Cool_RB_給徐材段 No.
ORL
LD M11807                ; Cool_槽下段選択
AND= D10522 K3           ; Cool_RB_給徐材段 No.
ORL
ANL
ANL
OUT M11842               ; Cool_供給ﾃﾞｰﾀｾｯﾄ
;供給動作開始起動
LDP M11842               ; Cool_供給ﾃﾞｰﾀｾｯﾄ
OR M11843                ; Cool_供給PRG.ｽﾀｰﾄ
AND M11841               ; Cool_供給1ｻｲｸﾙ(手動)
ANB M11844               ; Cool_動作開始確認
@MOV K2 D10530           ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D10531           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K2 D10532           ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D10530 K2            ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D10531 K1           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D10532 K2           ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
OUT M11843               ; Cool_供給PRG.ｽﾀｰﾄ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M11843                ; Cool_供給PRG.ｽﾀｰﾄ
AND X4021                ; Cool_RB_RUN
AND X4025                ; Cool_RB_Auto
OR M11844                ; Cool_動作開始確認
AND M11841               ; Cool_供給1ｻｲｸﾙ(手動)
ANB M11845               ; Cool_給材取出完了
ANB M11846               ; Cool_槽内ﾜｰｸ有りNG確認
OUT M11844               ; Cool_動作開始確認
LD M11844                ; Cool_動作開始確認
AND X4041                ; Cool_RB_給材取出完了(801)
OR M11845                ; Cool_給材取出完了
AND M11841               ; Cool_供給1ｻｲｸﾙ(手動)
ANB M11849               ; Cool_取出完了OFF確認
OUT M11845               ; Cool_給材取出完了
LD M11844                ; Cool_動作開始確認
LD X4054                 ; Cool_RB_ﾜｰｸ有NG完了(820)
OR X4058                 ; Cool_RB ﾁｬｯｸNG(824)
ANL
OR M11846                ; Cool_槽内ﾜｰｸ有りNG確認
AND M11841               ; Cool_供給1ｻｲｸﾙ(手動)
ANB M11847               ; Cool_槽内ﾜｰｸ有NG_OFF確認
OUT M11846               ; Cool_槽内ﾜｰｸ有りNG確認
LD M11846                ; Cool_槽内ﾜｰｸ有りNG確認
AND Y5058                ; Cool_RB_信号受信Ans(568)
ANB X4054                ; Cool_RB_ﾜｰｸ有NG完了(820)
ANB X4058                ; Cool_RB ﾁｬｯｸNG(824)
OR M11847                ; Cool_槽内ﾜｰｸ有NG_OFF確認
AND M11841               ; Cool_供給1ｻｲｸﾙ(手動)
ANB M11848               ; Cool_槽内ﾜｰｸ有NG(終了)
OUT M11847               ; Cool_槽内ﾜｰｸ有NG_OFF確認
LD M11847                ; Cool_槽内ﾜｰｸ有NG_OFF確認
ANB X4021                ; Cool_RB_RUN
ANB X4053                ; Cool_RB_ﾜｰｸ無NG完了(819)
ANB X4054                ; Cool_RB_ﾜｰｸ有NG完了(820)
ANB X4055                ; Cool_RB_冷却槽取出完了(821)
ANB X4056                ; Cool_RB_冷却槽給材完了(822)
ANB X4057                ; Cool_RB_ﾜｰｸﾃﾞｰﾀ無完了(823)
OR M11848                ; Cool_槽内ﾜｰｸ有NG(終了)
AND M11841               ; Cool_供給1ｻｲｸﾙ(手動)
ANB M11852               ; Cool_給材終了
OUT M11848               ; Cool_槽内ﾜｰｸ有NG(終了)
;高温槽給材完了
LD M11845                ; Cool_給材取出完了
AND Y5058                ; Cool_RB_信号受信Ans(568)
ANB X4041                ; Cool_RB_給材取出完了(801)
OR M11849                ; Cool_取出完了OFF確認
AND M11841               ; Cool_供給1ｻｲｸﾙ(手動)
ANB M11850               ; Cool_給材完了確認
OUT M11849               ; Cool_取出完了OFF確認
LD M11849                ; Cool_取出完了OFF確認
AND X4056                ; Cool_RB_冷却槽給材完了(822)
OR M11850                ; Cool_給材完了確認
AND M11841               ; Cool_供給1ｻｲｸﾙ(手動)
ANB M11851               ; Cool_給材完了OFF確認
OUT M11850               ; Cool_給材完了確認
LD M11850                ; Cool_給材完了確認
AND Y5058                ; Cool_RB_信号受信Ans(568)
ANB X4056                ; Cool_RB_冷却槽給材完了(822)
OR M11851                ; Cool_給材完了OFF確認
AND M11841               ; Cool_供給1ｻｲｸﾙ(手動)
ANB M11852               ; Cool_給材終了
OUT M11851               ; Cool_給材完了OFF確認
;取出1ｻｲｸﾙ完了
LD M11848                ; Cool_槽内ﾜｰｸ有NG(終了)
OR M11851                ; Cool_給材完了OFF確認
ANB X4021                ; Cool_RB_RUN
ANB X4053                ; Cool_RB_ﾜｰｸ無NG完了(819)
ANB X4054                ; Cool_RB_ﾜｰｸ有NG完了(820)
ANB X4055                ; Cool_RB_冷却槽取出完了(821)
ANB X4056                ; Cool_RB_冷却槽給材完了(822)
ANB X4057                ; Cool_RB_ﾜｰｸﾃﾞｰﾀ無完了(823)
OR M11852                ; Cool_給材終了
AND M11841               ; Cool_供給1ｻｲｸﾙ(手動)
OUT M11852               ; Cool_給材終了
MCR
;ROBOT AUTO/MANU
LDP B12EF                ; UNIT20-1-16 TP-PB
AND M11860               ; Cool_MANUAL_ON
OUT M11861               ; Cool_MANUAL_OFF
LDP B12EF                ; UNIT20-1-16 TP-PB
ANB M11860               ; Cool_MANUAL_ON
OR M11860                ; Cool_MANUAL_ON
ANB M11861               ; Cool_MANUAL_OFF
AND M31                  ; 手動ﾓｰﾄﾞ
OUT M11860               ; Cool_MANUAL_ON
;<h1/>/搬送RB補助回路
;ﾛﾎﾞｯﾄ初期準備
LDB X4028                ; Cool_RB_Worning
LD M50                   ; 運転準備
AND X4024                ; Cool_RB_Ready
AND X4025                ; Cool_RB_Auto
MEP
LD M30                   ; 自動ﾓｰﾄﾞ
ANB X4023                ; Cool_RB_SV_ON
MEP
ORL
ANL
OR M11902                ; Cool_SUP_RB運転準備
ANB M11904               ; Cool_SUP_RBｻｰﾎﾞON､CAL完了
AND X4025                ; Cool_RB_Auto
TMR K2031 K5             ; 冷却搬送RB初期化処理開始ﾃﾞｨﾚｲ
OUT M11902               ; Cool_SUP_RB運転準備
LD M11902                ; Cool_SUP_RB運転準備
AND T2031                ; 冷却搬送RB初期化処理開始ﾃﾞｨﾚｲ
MEP
OR M11903                ; Cool_SUP_RBｻｰﾎﾞON､CAL要求
ANB M11904               ; Cool_SUP_RBｻｰﾎﾞON､CAL完了
AND M11902               ; Cool_SUP_RB運転準備
MPS
AND CR2003               ; 常時OFF
@MOV K131 D10530         ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
MRD
ANB CR2003               ; 常時OFF
@MOV K1 D10530           ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
MRD
@MOV K7 D10531           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPP
OUT M11903               ; Cool_SUP_RBｻｰﾎﾞON､CAL要求
LD M11903                ; Cool_SUP_RBｻｰﾎﾞON､CAL要求
AND X402E                ; Cool_RB_Command_End
MEP
OR M11904                ; Cool_SUP_RBｻｰﾎﾞON､CAL完了
ANB M11905               ; Cool_SUP_RB外部ﾓｰﾄﾞ要求
AND M11902               ; Cool_SUP_RB運転準備
OUT M11904               ; Cool_SUP_RBｻｰﾎﾞON､CAL完了
;調整時速度をペンダントから行う場合(ﾓｰﾀｰON､CAL実行)+(外部ﾓｰﾄﾞ切替)
;時に使用
LDB CR2003               ; 常時OFF
AND M11904               ; Cool_SUP_RBｻｰﾎﾞON､CAL完了
ANB X402E                ; Cool_RB_Command_End
MEP
OR M11905                ; Cool_SUP_RB外部ﾓｰﾄﾞ要求
ANB M11906               ; Cool_SUP_RB外部ﾓｰﾄﾞ完了
AND M11902               ; Cool_SUP_RB運転準備
@MOV K128 D10530         ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K7 D10531           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
OUT M11905               ; Cool_SUP_RB外部ﾓｰﾄﾞ要求
LD M11905                ; Cool_SUP_RB外部ﾓｰﾄﾞ要求
AND X402E                ; Cool_RB_Command_End
OR M11906                ; Cool_SUP_RB外部ﾓｰﾄﾞ完了
AND M11902               ; Cool_SUP_RB運転準備
OUT M11906               ; Cool_SUP_RB外部ﾓｰﾄﾞ完了
;自動運転時ﾌﾟﾛｸﾞﾗﾑ強制停止
LDP T15                  ; 強制停止
ORP M51                  ; 即停止異常(緊急停止)
ORP M11981               ; U20_即停止異常
ORP M11983               ; U20_起動OFF
OR M11907                ; Cool_SUP_RB停止指令
ANB M11902               ; Cool_SUP_RB運転準備
ANB X402E                ; Cool_RB_Command_End
@MOV K64 D10530          ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D10531           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
@MOV.S -1 D10532         ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
OUT M11907               ; Cool_SUP_RB停止指令
;自動運転時ｱﾗｰﾑ発生ｽﾃｯﾌﾟ停止
LD CR2003                ; 常時OFF
OR M11909                ; Cool_SUP_RBｽﾃｯﾌﾟ停止
AND M11985               ; U20_起動中
AND X4021                ; Cool_RB_RUN
@MOV K16 D10530          ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D10531           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
@MOV K1 D10532           ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
OUT M11909               ; Cool_SUP_RBｽﾃｯﾌﾟ停止
;自動運転時ｱﾗｰﾑ解除ｽﾃｯﾌﾟ続行起動
LD M130                  ; 冷却槽安全扉正常
ANB M140                 ; 全一時停止
ANB M220                 ; 冷却搬送一時停止
LD B3012                 ; Leak_Final_扉閉
OR B101E                 ; Leak_Final連結選択TP(1:ｽﾙ_0ｼﾅｲ)
ANL
ANB X4021                ; Cool_RB_RUN
ANB X4022                ; Cool_RB_Error
ANB X4028                ; Cool_RB_Worning
AND X4023                ; Cool_RB_SV_ON
AND X4024                ; Cool_RB_Ready
AND X4025                ; Cool_RB_Auto
AND X4026                ; Cool_RB_EXT
AND X4029                ; Cool_RB_Continue
TMR K2020 K15            ; Cool_Sup_RB_Continue_Delay
LDB M140                 ; 全一時停止
ANB M220                 ; 冷却搬送一時停止
LD B3012                 ; Leak_Final_扉閉
OR B101E                 ; Leak_Final連結選択TP(1:ｽﾙ_0ｼﾅｲ)
ANL
INV
@MOV D10532 D10535       ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号  Cool_RB_一時停止時ﾌﾟﾛｸﾞﾗﾑ番号
LD T2020                 ; Cool_Sup_RB_Continue_Delay
MEP
OR M11910                ; Cool_SUP_RBｽﾃｯﾌﾟ起動
AND X4029                ; Cool_RB_Continue
@MOV K2 D10530           ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D10531           ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
@MOV D10535 D10532       ; Cool_RB_一時停止時ﾌﾟﾛｸﾞﾗﾑ番号  Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
OUT M11910               ; Cool_SUP_RBｽﾃｯﾌﾟ起動
;ﾛﾎﾞｯﾄｱﾗｰﾑﾘｾｯﾄ
LD M16                   ; ﾘｾｯﾄPB
OR M11914                ; Cool_SUP_RBｱﾗｰﾑﾘｾｯﾄ記憶
LD X4022                 ; Cool_RB_Error
OR X4028                 ; Cool_RB_Worning
ANL
OUT M11914               ; Cool_SUP_RBｱﾗｰﾑﾘｾｯﾄ記憶
LD M11914                ; Cool_SUP_RBｱﾗｰﾑﾘｾｯﾄ記憶
ANB T2033                ; 冷却搬送RBｱﾗｰﾑﾘｾｯﾄﾘﾄﾗｲ
@MOV K1000 D10531        ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
TMR K2033 K10            ; 冷却搬送RBｱﾗｰﾑﾘｾｯﾄﾘﾄﾗｲ
OUT M11908               ; Cool_SUP_RBｱﾗｰﾑﾘｾｯﾄ
;扉開時ﾛﾎﾞｯﾄ警告解除
LDP M130                 ; 冷却槽安全扉正常
LDB M51                  ; 即停止異常(緊急停止)
AND M130                 ; 冷却槽安全扉正常
AND X4028                ; Cool_RB_Worning
ORL
OR M11911                ; Cool_SUP_RB扉開時警告解除処理
AND X4028                ; Cool_RB_Worning
ANB T2032                ; 冷却搬送RB扉開時警告解除ﾀｲﾏ
ANB B00                  ; B000_001)非常停止異常
@MOV K1000 D10531        ; Cool_RB_ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
TMR K2032 K10            ; 冷却搬送RB扉開時警告解除ﾀｲﾏ
OUT M11911               ; Cool_SUP_RB扉開時警告解除処理
;<h1/>/ｼﾌﾄRB補助回路
;Low_Sup_RB→ｼﾌﾄRB移動指令動作
LD X4021                 ; Cool_RB_RUN
AND X4045                ; Cool_RB_ORG(805)
AND X4062                ; Cool_RB_Sift_取出移動(834)
MOV K1 D10544            ; Cool_Sift_RB_POS_確定
OUT M11920               ; ｼﾌﾄRB取出位置移動要求
LD X4021                 ; Cool_RB_RUN
AND X4045                ; Cool_RB_ORG(805)
AND X4063                ; Cool_RB_Sift_Cool#1位置移動(835)
MOV K2 D10544            ; Cool_Sift_RB_POS_確定
OUT M11921               ; ｼﾌﾄRB_Cool#1位置移動要求
LD X4021                 ; Cool_RB_RUN
AND X4045                ; Cool_RB_ORG(805)
AND X4064                ; Cool_RB_Sift_Cool#2位置移動(836)
MOV K3 D10544            ; Cool_Sift_RB_POS_確定
OUT M11922               ; ｼﾌﾄRB_Cool#2位置移動開始
LD X4021                 ; Cool_RB_RUN
AND X4045                ; Cool_RB_ORG(805)
AND X4065                ; Cool_RB_Sift_検査仮置移動(837)
MOV K4 D10544            ; Cool_Sift_RB_POS_確定
OUT M11923               ; ｼﾌﾄRB_Cool検査仮置位置移動開始
LD X4021                 ; Cool_RB_RUN
AND X4045                ; Cool_RB_ORG(805)
AND X4066                ; Cool_RB_Sift_原点移動(838)
MOV K5 D10544            ; Cool_Sift_RB_POS_確定
OUT M11924               ; ｼﾌﾄRB_Cool原点移動開始
;
LDB X4040                ; Cool_RB_給材取出侵入中(800)
LDB X4042                ; Cool_RB_下流侵入中(802)
ORB CR2003               ; 常時OFF
ANL
ANB X4050                ; Cool_RB_Cool#1侵入中(816)
ANB X4051                ; Cool_RB_Cool#2侵入中(817)
ANB X4022                ; Cool_RB_Error
LD X4024                 ; Cool_RB_Ready
LD M130                  ; 冷却槽安全扉正常
OR M37                   ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
ANL
LD M31                   ; 手動ﾓｰﾄﾞ
AND X402A                ; Cool_RB_SS_Mode
ORL
ANL
OUT M11935               ; ｼﾌﾄRB動作可
LDB M11920               ; ｼﾌﾄRB取出位置移動要求
ANB M11921               ; ｼﾌﾄRB_Cool#1位置移動要求
ANB M11922               ; ｼﾌﾄRB_Cool#2位置移動開始
ANB M11923               ; ｼﾌﾄRB_Cool検査仮置位置移動開始
ANB M11924               ; ｼﾌﾄRB_Cool原点移動開始
INV
AND M130                 ; 冷却槽安全扉正常
AND M11935               ; ｼﾌﾄRB動作可
MPS
OUT M11930               ; ｼﾌﾄRB_移動開始(Cool_Sup_RB)
MPP
ANB M11932               ; 位置決完了OFF確認
OUT M11931               ; ｼﾌﾄRB_移動(Cool_Sup_RB)
LD M11931                ; ｼﾌﾄRB_移動(Cool_Sup_RB)
AND X410C                ; Cool__Shift_RB_Busy
ANB X410D                ; Cool__Shift_RB_END
OR M11932                ; 位置決完了OFF確認
AND M11930               ; ｼﾌﾄRB_移動開始(Cool_Sup_RB)
OUT M11932               ; 位置決完了OFF確認
LD M11932                ; 位置決完了OFF確認
ANB X410C                ; Cool__Shift_RB_Busy
AND X410D                ; Cool__Shift_RB_END
OR M11933                ; 位置決完了確認
AND M11930               ; ｼﾌﾄRB_移動開始(Cool_Sup_RB)
OUT M11933               ; 位置決完了確認
;<h1/>■出力
;□□　　出力回路　　□□
;ソレノイドバルブ出力
LDB M11546               ; U20_S46_ﾁｬｯｸ開
ANPB X4061               ; Cool_RB_ﾁｬｯｸ開要求(833)
LDPB X4067               ; Cool_RB_下流給材ﾁｬｯｸ開要求(839)
ORB M31                  ; 手動ﾓｰﾄﾞ
ANL
ANPB M11813              ; Cool_RBﾁｬｯｸ開
INV
LDP X160B                ; 冷却給徐材RBﾊﾝﾄﾞ開PB
AND M31                  ; 手動ﾓｰﾄﾞ
ANB X4021                ; Cool_RB_RUN
ORL
LD Y2618                 ; 冷却槽給徐材RBﾁｬｯｸ開SV
ANB Y2619                ; 冷却槽給徐材RBﾁｬｯｸ閉SV
ORL
OUT Y2618                ; 冷却槽給徐材RBﾁｬｯｸ開SV
LDPB X4060               ; Cool_RB_ﾁｬｯｸ閉要求(832)
ANPB M11811              ; Cool_RBﾁｬｯｸ閉
INV
LD Y2619                 ; 冷却槽給徐材RBﾁｬｯｸ閉SV
ANB Y2618                ; 冷却槽給徐材RBﾁｬｯｸ開SV
ORL
OUT Y2619                ; 冷却槽給徐材RBﾁｬｯｸ閉SV
LD X160B                 ; 冷却給徐材RBﾊﾝﾄﾞ開PB
AND M31                  ; 手動ﾓｰﾄﾞ
ANB M81                  ; 原点復帰動作中
AND M50                  ; 運転準備
LD B0289                 ; B289_650)
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
AND Y2618                ; 冷却槽給徐材RBﾁｬｯｸ開SV
OUT Y261B                ; 冷却槽給徐材RBﾁｬｯｸ開PL
;高温槽給徐材RB ｼｽﾃﾑI/O
LD M50                   ; 運転準備
LD M130                  ; 冷却槽安全扉正常
ORB M9                   ; RB停止処理変更
ANL
ANB M11860               ; Cool_MANUAL_ON
OUT Y2611                ; 冷却槽給徐材RBｲﾈｰﾌﾞﾙ
LD M50                   ; 運転準備
LD M130                  ; 冷却槽安全扉正常
ORB M9                   ; RB停止処理変更
ANL
ANB M11860               ; Cool_MANUAL_ON
OUT Y2612                ; 冷却槽給徐材RB防護柵
LD M130                  ; 冷却槽安全扉正常
ANB M140                 ; 全一時停止
LDB M220                 ; 冷却搬送一時停止
ORB M11670               ; Cool_RB_下流給材中
AND B3012                ; Leak_Final_扉閉
OR B3013                 ; Leak_Final_途中投入ﾓｰﾄﾞ中
ANL
ORB X4046                ; Cool_RB_槽収納中(806)
LDB M11517               ; Cool_RB取出PRG.ｽﾀｰﾄ
ANB M11573               ; Cool_給材PRG.ｽﾀｰﾄ
ANB M11623               ; Cool_RB_確認PRG.ｽﾀｰﾄ
ANB M11633               ; Cool_RB_確認PRG.ｽﾀｰﾄ
ANB M11755               ; 原点復帰起動
ANB M11843               ; Cool_供給PRG.ｽﾀｰﾄ
ANB M11823               ; Cool_取出PRG.ｽﾀｰﾄ
INV
ORL
OUT Y5020                ; Cool_RB_Step_Stop
LD M130                  ; 冷却槽安全扉正常
ANB M140                 ; 全一時停止
LDB M220                 ; 冷却搬送一時停止
ORB M11670               ; Cool_RB_下流給材中
AND B3012                ; Leak_Final_扉閉
OR B3013                 ; Leak_Final_途中投入ﾓｰﾄﾞ中
ANL
OR X4046                 ; Cool_RB_槽収納中(806)
LDB M11517               ; Cool_RB取出PRG.ｽﾀｰﾄ
ANB M11573               ; Cool_給材PRG.ｽﾀｰﾄ
ANB M11623               ; Cool_RB_確認PRG.ｽﾀｰﾄ
ANB M11633               ; Cool_RB_確認PRG.ｽﾀｰﾄ
ANB M11755               ; 原点復帰起動
ANB M11843               ; Cool_供給PRG.ｽﾀｰﾄ
ANB M11823               ; Cool_取出PRG.ｽﾀｰﾄ
INV
ORL
OUT Y5022                ; Cool_RB_Instant stop
;ﾛﾎﾞｯﾄｽﾄﾛｰﾌﾞ
LDB M11908               ; Cool_SUP_RBｱﾗｰﾑﾘｾｯﾄ
ANB M11911               ; Cool_SUP_RB扉開時警告解除処理
INV
OUT M11912               ; Cool_SUP_RB初期準備
LDB M11517               ; Cool_RB取出PRG.ｽﾀｰﾄ
ANB M11573               ; Cool_給材PRG.ｽﾀｰﾄ
ANB M11623               ; Cool_RB_確認PRG.ｽﾀｰﾄ
ANB M11633               ; Cool_RB_確認PRG.ｽﾀｰﾄ
ANB M11755               ; 原点復帰起動
ANB M11843               ; Cool_供給PRG.ｽﾀｰﾄ
ANB M11823               ; Cool_取出PRG.ｽﾀｰﾄ
ANB M11903               ; Cool_SUP_RBｻｰﾎﾞON､CAL要求
ANB M11905               ; Cool_SUP_RB外部ﾓｰﾄﾞ要求
ANB M11907               ; Cool_SUP_RB停止指令
ANB M11909               ; Cool_SUP_RBｽﾃｯﾌﾟ停止
ANB M11910               ; Cool_SUP_RBｽﾃｯﾌﾟ起動
INV
AND M11979               ; U20_STEP動作
OUT M11913               ; Cool_SUP_RB起動処理
LDB M11912               ; Cool_SUP_RB初期準備
ANB M11913               ; Cool_SUP_RB起動処理
INV
MPS
TMH K2030 K2             ; 冷却搬送RBｺﾏﾝﾄﾞｽﾄﾛｰﾌﾞONﾃﾞｨﾚｲ
MPP
AND T2030                ; 冷却搬送RBｺﾏﾝﾄﾞｽﾄﾛｰﾌﾞONﾃﾞｨﾚｲ
OUT Y5023                ; Cool_RB_Strobe
;ﾛﾎﾞｯﾄｺﾏﾝﾄﾞ出力
LD M11912                ; Cool_SUP_RB初期準備
OR M11913                ; Cool_SUP_RB起動処理
MPS
AND D10531.0
OUT Y5040                ; Cool_RB_Cmd_0bit
MRD
AND D10531.1
OUT Y5041                ; Cool_RB_Cmd_1bit
MRD
AND D10531.2
OUT Y5042                ; Cool_RB_Cmd_2bit
MPP
AND D10531.3
OUT Y5043                ; Cool_RB_Cmd_3bit
LD M11913                ; Cool_SUP_RB起動処理
MPS
LDA D10530               ; Cool_RB_ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
CON
PSTA Y5028 K8            ; Cool_RB_Data1-0bit
MPP
LDA D10532               ; Cool_RB_ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
CON
PSTA Y5030 K16           ; Cool_RB_Data2-0bit
LDB M11913               ; Cool_SUP_RB起動処理
MPS
LDA K0
CON
PSTA Y5028 K8            ; Cool_RB_Data1-0bit
MPP
LDA K0
CON
PSTA Y5030 K16           ; Cool_RB_Data2-0bit
LD CR2003                ; 常時OFF
ANB M11912               ; Cool_SUP_RB初期準備
OUT Y5027                ; Cool_RB_Cmd_Odd_Parity
;低温槽給徐材RBﾌﾟﾛｸﾞﾗﾑI/F I/O
;動作機種指定
LD CR2002                ; 常時ON
MPS
AND D10520.0
OUT Y5048                ; Cool_RB_Type_No.1(552)
MRD
AND D10520.1
OUT Y5049                ; Cool_RB_Type_No.2(553)
MRD
AND D10520.2
OUT Y504A                ; Cool_RB_Type_No.4(554)
MPP
AND D10520.3
OUT Y504B                ; Cool_RB_Type_No.8(555)
;給徐材槽指定
LD= D10521 K1            ; Cool_RB_給徐材槽 No.
OUT Y5050                ; Cool_RB_給徐材槽1(560)
LD= D10521 K2            ; Cool_RB_給徐材槽 No.
OUT Y5051                ; Cool_RB_給徐材槽2(561)
;槽侵入可
LDB X1888                ; Cool#1_上段扉開端
ANB X188A                ; Cool#1_中段扉開端
ANB X188C                ; Cool#1_下段扉開端
INV
OUT Y5052                ; Cool_RB_Cool#1侵入可(562)
LDB X1908                ; Cool#2_上段扉開端
ANB X190A                ; Cool#2_中段扉開端
ANB X190C                ; Cool#2_下段扉開端
INV
OUT Y5053                ; Cool_RB_Cool#2侵入可(563)
;給徐材段指示
LD= D10522 K1            ; Cool_RB_給徐材段 No.
OUT Y5054                ; Cool_RB_給徐材槽上段(564)
LD= D10522 K2            ; Cool_RB_給徐材段 No.
OUT Y5055                ; Cool_RB_給徐材槽中段(565)
LD= D10522 K3            ; Cool_RB_給徐材段 No.
OUT Y5056                ; Cool_RB_給徐材槽下段(566)
LD<> D10520 K0           ; Cool_RB Type No.
OUT Y5057                ; Cool_RB_ﾜｰｸ有ﾌﾗｸﾞ(567)
;/
LDB M11520               ; Cool_RBﾜｰｸ情報NG確認
ANB M11525               ; Cool_RBﾜｰｸ情報NG確認
ANB M11530               ; Cool_RB槽内ﾜｰｸ無OK確認
ANB M11532               ; Cool_RBﾁｬｯｸNG確認
ANB M11539               ; Cool_RBﾃﾞｰﾀ移動確認
ANB M11548               ; U20_S48_Leak_Finalﾜｰｸ供給確認
ANB M11580               ; Cool_RBﾁｬｯｸNG確認
ANB M11593               ; Cool_上流取出ﾃﾞｰﾀ移動完了
ANB M11575               ; Cool_槽内ﾜｰｸ有NG確認
ANB M11595               ; Cool_給材完了確認
ANB M11825               ; Cool_ﾜｰｸ無し確認
ANB M11828               ; Cool_ﾜｰｸ取出完了
ANB M11830               ; Cool_高温検査仮置給材完了
ANB M11845               ; Cool_給材取出完了
ANB M11846               ; Cool_槽内ﾜｰｸ有りNG確認
ANB M11850               ; Cool_給材完了確認
INV
OUT Y5058                ; Cool_RB_信号受信Ans(568)
;徐材済ﾌﾗｸﾞ
LD= D10521 K1            ; Cool_RB_給徐材槽 No.
AND> D10550 K1           ; Cool#1_徐材ｶｳﾝﾀ
LD= D10521 K2            ; Cool_RB_給徐材槽 No.
AND> D10552 K1           ; Cool#2_徐材ｶｳﾝﾀ
ORL
AND M30                  ; 自動ﾓｰﾄﾞ
OUT Y5059                ; Cool_RB_槽上段徐材済(569)
LD= D10521 K1            ; Cool_RB_給徐材槽 No.
AND> D10550 K2           ; Cool#1_徐材ｶｳﾝﾀ
LD= D10521 K2            ; Cool_RB_給徐材槽 No.
AND> D10552 K2           ; Cool#2_徐材ｶｳﾝﾀ
ORL
AND M30                  ; 自動ﾓｰﾄﾞ
OUT Y505A                ; Cool_RB_槽中段徐材済(570)
LD= D10521 K1            ; Cool_RB_給徐材槽 No.
AND> D10550 K3           ; Cool#1_徐材ｶｳﾝﾀ
LD= D10521 K2            ; Cool_RB_給徐材槽 No.
AND> D10552 K3           ; Cool#2_徐材ｶｳﾝﾀ
ORL
AND M30                  ; 自動ﾓｰﾄﾞ
OUT Y505B                ; Cool_RB_槽下段徐材済(571)
;給材済ﾌﾗｸﾞ
LD= D10521 K1            ; Cool_RB_給徐材槽 No.
AND> D10551 K1           ; Cool#1_給材ｶｳﾝﾀ
LD= D10521 K2            ; Cool_RB_給徐材槽 No.
AND> D10553 K1           ; Cool#2_給材ｶｳﾝﾀ
ORL
OUT Y505C                ; Cool_RB_槽上段給材済(572)
LD= D10521 K1            ; Cool_RB_給徐材槽 No.
AND> D10551 K2           ; Cool#1_給材ｶｳﾝﾀ
LD= D10521 K2            ; Cool_RB_給徐材槽 No.
AND> D10553 K2           ; Cool#2_給材ｶｳﾝﾀ
ORL
OUT Y505D                ; Cool_RB_槽中段給材済(573)
LD= D10521 K1            ; Cool_RB_給徐材槽 No.
AND> D10551 K3           ; Cool#1_給材ｶｳﾝﾀ
LD= D10521 K2            ; Cool_RB_給徐材槽 No.
AND> D10553 K3           ; Cool#2_給材ｶｳﾝﾀ
ORL
OUT Y505E                ; Cool_RB_槽下段給材済(574)
LD M11740                ; Cool#1_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
AND= D10521 K1           ; Cool_RB_給徐材槽 No.
LD M11741                ; Cool#2_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
AND= D10521 K2           ; Cool_RB_給徐材槽 No.
ORL
OUT Y505F                ; Cool_RB_初期確認済(575)
;ﾊﾝﾄﾞ開閉状態
LD T2010                 ; 冷却給徐材RBﾁｬｯｸ閉端
OUT Y5060                ; Cool_RB_ﾁｬｯｸ閉端(576)
LD T2011                 ; 冷却給徐材RBﾁｬｯｸ開端
LDB X4067                ; Cool_RB_下流給材ﾁｬｯｸ開要求(839)
OR M31                   ; 手動ﾓｰﾄﾞ
ANL
LD M11547                ; U20_S47_ﾁｬｯｸ開確認→RB
AND X4067                ; Cool_RB_下流給材ﾁｬｯｸ開要求(839)
ORL
OUT Y5061                ; Cool_RB_ﾁｬｯｸ開端(577)
;ｼﾌﾄ位置
;K1=低温検査済POS K2=Hi1 K3=Hi2 K4=下流給材
LD X410D                 ; Cool__Shift_RB_END
MPS
AND= D10548 K1           ; Cool_Sift_RB_完了POS
OUT Y5062                ; Cool_RB_Sift_取出位置(578)
MRD
LD= D10548 K2            ; Cool_Sift_RB_完了POS
OR= D10548 K5            ; Cool_Sift_RB_完了POS
ANL
OUT Y5063                ; Cool_RB_Sift_Hi#1位置(579)
MRD
AND= D10548 K3           ; Cool_Sift_RB_完了POS
OUT Y5064                ; Cool_RB_Sift_Hi#2位置(580)
MPP
AND= D10548 K4           ; Cool_Sift_RB_完了POS
OUT Y5065                ; Cool_RB_Sift_検査仮置位置(581)
;ﾊﾝﾄﾞﾜｰｸ有無
LD T2012                 ; 冷却給徐材RBﾜｰｸ確認
LD M11518                ; Cool_RB起動確認
AND M35                  ; 空運転ﾓｰﾄﾞ
ORL
OUT Y5066                ; Cool_RB_ﾜｰｸ有(582)
;動作条件
LD M11020                ; U19-S20_ﾜｰｸ取出可(→Cool_Sup_RB)
OUT Y5067                ; Cool_RB上流取出要求(583)
LD X410A                 ; Cool__Shift_RB_ZONE
OUT Y5068                ; Cool_RB_SIFT_ZONE(584)
LD M11545                ; U20_S45_下流開始→RB
LD M11821                ; Cool_取出1ｻｲｸﾙ(手動)
ANB X164A                ; ﾊﾞｯﾌｧ部ﾜｰｸ確認(1:有)
ORL
OUT Y5069                ; Cool_RB_下流給材開始可(585)
LDB X410C                ; Cool__Shift_RB_Busy
OUT Y506E                ; Cool_RB_SIFT_END(590)
;高温槽1ｼｬｯﾀ開閉→RB
LD CR2002                ; 常時ON
OUT Y5070                ; Cool_RB_Cool#1上段ｼｬｯﾀｰ開端(592)
LD CR2002                ; 常時ON
OUT Y5071                ; Cool_RB_Cool#1上段ｼｬｯﾀｰ閉端(593)
LD CR2002                ; 常時ON
OUT Y5072                ; Cool_RB_Cool#1中段ｼｬｯﾀｰ開端(594)
LD CR2002                ; 常時ON
OUT Y5073                ; Cool_RB_Cool#1中段ｼｬｯﾀｰ閉端(595)
LD CR2002                ; 常時ON
OUT Y5074                ; Cool_RB_Cool#1下段ｼｬｯﾀｰ開端(596)
LD CR2002                ; 常時ON
OUT Y5075                ; Cool_RB_Cool#1下段ｼｬｯﾀｰ閉端(597)
;低温槽2ｼｬｯﾀ開閉→RB
LD CR2002                ; 常時ON
OUT Y5078                ; Cool_RB_Cool#2上段ｼｬｯﾀｰ開端(600)
LD CR2002                ; 常時ON
OUT Y5079                ; Cool_RB_Cool#2上段ｼｬｯﾀｰ閉端(601)
LD CR2002                ; 常時ON
OUT Y507A                ; Cool_RB_Cool#2中段ｼｬｯﾀｰ開端(602)
LD CR2002                ; 常時ON
OUT Y507B                ; Cool_RB_Cool#2中段ｼｬｯﾀｰ閉端(603)
LD CR2002                ; 常時ON
OUT Y507C                ; Cool_RB_Cool#2下段ｼｬｯﾀｰ開端(604)
LD CR2002                ; 常時ON
OUT Y507D                ; Cool_RB_Cool#2下段ｼｬｯﾀｰ閉端(605)
;ｼﾌﾄﾛﾎﾞｯﾄ
LDB CR2003               ; 常時OFF
ANB M11931               ; ｼﾌﾄRB_移動(Cool_Sup_RB)
INV
MOV D10544 D10546        ; Cool_Sift_RB_POS_確定  Cool_Sift_RB_指令POS
MPS
TMH K2090 K3             ; Cool_Sift_RB_POS確定ﾃﾞｨﾚｲ
MPP
AND T2090                ; Cool_Sift_RB_POS確定ﾃﾞｨﾚｲ
OUT Y510D                ; Cool_Sift_RB_Start
LD CR2002                ; 常時ON
MPS
AND D10546.0
OUT Y5100                ; Cool_Sift_RB_Pin1
MRD
AND D10546.1
OUT Y5101                ; Cool_Sift_RB_Pin2
MRD
AND D10546.2
OUT Y5102                ; Cool_Sift_RB_Pin4
MRD
AND D10546.3
OUT Y5103                ; Cool_Sift_RB_Pin8
MRD
AND D10546.4
OUT Y5104                ; Cool_Sift_RB_Pin16
MRD
AND D10546.5
OUT Y5105                ; Cool_Sift_RB_Pin32
MRD
AND D10546.6
OUT Y5106                ; Cool_Sift_RB_Pin64
MPP
AND D10546.7
OUT Y5107                ; Cool_Sift_RB_Pin128
LD CR2003                ; 常時OFF
OUT Y5108                ; Cool_Sift_RB_JOG+
OUT Y5109                ; Cool_Sift_RB_JOG-
OUT Y510A                ; Cool_Sift_RB_Manu
LDB CR2003               ; 常時OFF
INV
OUT Y510B                ; Cool_Sift_RB_ORG
LD M130                  ; 冷却槽安全扉正常
AND M11935               ; ｼﾌﾄRB動作可
OUT Y510C                ; Cool_Sift_RB_IL
LD M16                   ; ﾘｾｯﾄPB
ANB X410E                ; Cool__Shift_RB_Alarm
OUT Y510E                ; Cool_Sift_RB_Reset
LD M50                   ; 運転準備
LD M130                  ; 冷却槽安全扉正常
OR M37                   ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
LD M31                   ; 手動ﾓｰﾄﾞ
AND X402A                ; Cool_RB_SS_Mode
ORL
ANL
MPS
ANB X410F                ; Cool__Shift_RB_SV_ON
MPS
ANB T2022                ; Cool_Sift_RB_SV_Reset
TMR K2021 K10            ; Cool_Sift_RB_SV_On
MPP
AND T2021                ; Cool_Sift_RB_SV_On
TMR K2022 K5             ; Cool_Sift_RB_SV_Reset
MPP
ANB T2021                ; Cool_Sift_RB_SV_On
OUT Y510F                ; Cool_Sift_RB_SV_ON
;ﾛﾎﾞｯﾄｻｰﾎﾞ電源
LD M121                  ; 非常停止正常
OUT Y2613                ; 冷却槽間移動RB電源
;<h1/>■表示
;□□　　パネル表示　　□□
LD M11801                ; Cool_槽1選択
OUT B17E0                ; UNIT20-1-1 TP-PL
LD M11802                ; Cool_槽2選択
OUT B17E1                ; UNIT20-1-2 TP-PL
LD M11805                ; Cool_槽上段選択
OUT B17E2                ; UNIT20-1-3 TP-PL
LD M11806                ; Cool_槽中段選択
OUT B17E3                ; UNIT20-1-4 TP-PL
LD M11807                ; Cool_槽下段選択
OUT B17E4                ; UNIT20-1-5 TP-PL
LD CR2003                ; 常時OFF
LD CR2003                ; 常時OFF
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B17E5                ; UNIT20-1-6 TP-PL
LD X1609                 ; 冷却給徐材RBﾁｬｯｸ閉端
LD Y2619                 ; 冷却槽給徐材RBﾁｬｯｸ閉SV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B17E6                ; UNIT20-1-7 TP-PL
LD X1608                 ; 冷却給徐材RBﾁｬｯｸ開端
LD Y261B                 ; 冷却槽給徐材RBﾁｬｯｸ開PL
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B17E7                ; UNIT20-1-8 TP-PL
LD M11821                ; Cool_取出1ｻｲｸﾙ(手動)
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT B17E8                ; UNIT20-1-9 TP-PL
LD M11841                ; Cool_供給1ｻｲｸﾙ(手動)
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT B17E9                ; UNIT20-1-10 TP-PL
LD CR2003                ; 常時OFF
LD CR2003                ; 常時OFF
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B17EA                ; UNIT20-1-11 TP-PL
LD CR2003                ; 常時OFF
LD CR2003                ; 常時OFF
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B17EB                ; UNIT20-1-12 TP-PL
LD X1627                 ; 冷却槽搬送ｼｬﾄﾙ受取ﾜｰｸ確認
OUT B17EC                ; UNIT20-1-13 TP-PL
LD CR2003                ; 常時OFF
OUT B17ED                ; UNIT20-1-14 TP-PL
LD M12482                ; U21_起動条件
OUT B17EE                ; UNIT20-1-15 TP-PL
LD M12982                ; U22_起動条件
OUT B17EF                ; UNIT20-1-16 TP-PL
LD CR2003                ; 常時OFF
LD CR2003                ; 常時OFF
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B17FF                ; UNIT20-2-16 TP-PL
;<h1/>■異常
;□□    異常検出    □□
;B280--B28F  B290--B29F
LD Y2618                 ; 冷却槽給徐材RBﾁｬｯｸ開SV
ANB X1608                ; 冷却給徐材RBﾁｬｯｸ開端
LD Y2619                 ; 冷却槽給徐材RBﾁｬｯｸ閉SV
ANB X1609                ; 冷却給徐材RBﾁｬｯｸ閉端
ORL
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0280                ; Cool_Sup_RBﾁｬｯｸ開閉異常
ORL
ANB M35                  ; 空運転ﾓｰﾄﾞ
AND M50                  ; 運転準備
MPS
TMR K2050 K50            ; ﾁｬｯｸ開閉確認
MPP
AND T2050                ; ﾁｬｯｸ開閉確認
OUT B0280                ; Cool_Sup_RBﾁｬｯｸ開閉異常
LDP B0280                ; Cool_Sup_RBﾁｬｯｸ開閉異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0281 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0780                 ; B280_641)Bz停止
AND B0280                ; Cool_Sup_RBﾁｬｯｸ開閉異常
OUT B0780                ; B280_641)Bz停止
LD X4022                 ; Cool_RB_Error
AND M50                  ; 運転準備
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0281                ; Cool_Sup_RB異常
ORL
OUT B0281                ; Cool_Sup_RB異常
LDP B0281                ; Cool_Sup_RB異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0282 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0781                 ; B281_642)Bz停止
AND B0281                ; Cool_Sup_RB異常
OUT B0781                ; B281_642)Bz停止
LD M11752                ; Cool_RBﾜｰｸ取出要求
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0282                ; Cool_Sup_RB原点復帰ﾜｰｸ有取出要求
ORL
OUT B0282                ; Cool_Sup_RB原点復帰ﾜｰｸ有取出要求
LDP B0282                ; Cool_Sup_RB原点復帰ﾜｰｸ有取出要求
AND< D900 K64            ; FIFO_DATA_VALUE
@DW H0283 D0             ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0782                 ; B282_643)Bz停止
AND B0282                ; Cool_Sup_RB原点復帰ﾜｰｸ有取出要求
OUT B0782                ; B282_643)Bz停止
LD X4027                 ; Cool_RB_LOW_Battery
AND M50                  ; 運転準備
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0283                ; Cool_Sup_RBﾊﾞｯﾃﾘｰ低下
ORL
OUT B0283                ; Cool_Sup_RBﾊﾞｯﾃﾘｰ低下
LDP B0283                ; Cool_Sup_RBﾊﾞｯﾃﾘｰ低下
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0284 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0783                 ; B283_644)Bz停止
AND B0283                ; Cool_Sup_RBﾊﾞｯﾃﾘｰ低下
OUT B0783                ; B283_644)Bz停止
LD Y2619                 ; 冷却槽給徐材RBﾁｬｯｸ閉SV
AND T2010                ; 冷却給徐材RBﾁｬｯｸ閉端
AND M11985               ; U20_起動中
OR M11862                ; Cool_RB_ﾜｰｸﾁｬｯｸ記憶
AND Y2619                ; 冷却槽給徐材RBﾁｬｯｸ閉SV
OUT M11862               ; Cool_RB_ﾜｰｸﾁｬｯｸ記憶
LD Y2619                 ; 冷却槽給徐材RBﾁｬｯｸ閉SV
ANB T2010                ; 冷却給徐材RBﾁｬｯｸ閉端
AND M11862               ; Cool_RB_ﾜｰｸﾁｬｯｸ記憶
AND M50                  ; 運転準備
MEP
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0284                ; Cool_Sup_RB供給部取出時ﾜｰｸ無異常
ORL
ANB M35                  ; 空運転ﾓｰﾄﾞ
OUT B0284                ; Cool_Sup_RB供給部取出時ﾜｰｸ無異常
LDP B0284                ; Cool_Sup_RB供給部取出時ﾜｰｸ無異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0285 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0784                 ; B284_645)Bz停止
AND B0284                ; Cool_Sup_RB供給部取出時ﾜｰｸ無異常
OUT B0784                ; B284_645)Bz停止
LD X4059                 ; Cool_RB 品種ﾃﾞｰﾀ異常(825)
AND M50                  ; 運転準備
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0285                ; Cool_Sup_RB受信品種ﾃﾞｰﾀ異常
ORL
OUT B0285                ; Cool_Sup_RB受信品種ﾃﾞｰﾀ異常
LDP B0285                ; Cool_Sup_RB受信品種ﾃﾞｰﾀ異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0286 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0785                 ; B285_646)Bz停止
AND B0285                ; Cool_Sup_RB受信品種ﾃﾞｰﾀ異常
OUT B0785                ; B285_646)Bz停止
LD M11528                ; Cool_RBﾜ徐材NG選択(異常)
AND M50                  ; 運転準備
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0286                ; Cool_Sup_RB徐材時槽内ﾜｰｸ有異常
ORL
OUT B0286                ; Cool_Sup_RB徐材時槽内ﾜｰｸ有異常
LDP B0286                ; Cool_Sup_RB徐材時槽内ﾜｰｸ有異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0287 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0786                 ; B286_647)Bz停止
AND B0286                ; Cool_Sup_RB徐材時槽内ﾜｰｸ有異常
OUT B0786                ; B286_647)Bz停止
LD M11523                ; Cool_RBﾜ徐材NG選択(異常)
AND M50                  ; 運転準備
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0287                ; Cool_Sup_RB徐材時槽内ﾜｰｸ無異常
ORL
OUT B0287                ; Cool_Sup_RB徐材時槽内ﾜｰｸ無異常
LDP B0287                ; Cool_Sup_RB徐材時槽内ﾜｰｸ無異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0288 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0787                 ; B287_648)Bz停止
AND B0287                ; Cool_Sup_RB徐材時槽内ﾜｰｸ無異常
OUT B0787                ; B287_648)Bz停止
LDP X405A                ; Cool_RB_初期起動槽内ﾜｰｸ異常(826)
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0288                ; Cool_Sup_RB初期起動時ﾜｰｸ有異常
ORL
OUT B0288                ; Cool_Sup_RB初期起動時ﾜｰｸ有異常
LDP B0288                ; Cool_Sup_RB初期起動時ﾜｰｸ有異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0289 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0788                 ; B288_649)Bz停止
AND B0288                ; Cool_Sup_RB初期起動時ﾜｰｸ有異常
OUT B0788                ; B288_649)Bz停止
LD CR2003                ; 常時OFF
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0289                ; B289_650)
ORL
OUT B0289                ; B289_650)
LDP B0289                ; B289_650)
AND< D900 K64            ; FIFO_DATA_VALUE
DW H028A D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0789                 ; B289_650)Bz停止
AND B0289                ; B289_650)
OUT B0789                ; B289_650)Bz停止
LD M30                   ; 自動ﾓｰﾄﾞ
LD M11985                ; U20_起動中
OR M18                   ; 起動PB
ANL
ANB X1890                ; Cool#1_ﾏｽﾀ槽運転有効確認
ANB X1910                ; Cool#2_ﾏｽﾀ槽運転有効確認
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B028B                ; 冷却槽全停止中
ORL
OUT B028B                ; 冷却槽全停止中
LDP B028B                ; 冷却槽全停止中
AND< D900 K64            ; FIFO_DATA_VALUE
DW H028C D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B078B                 ; B28B_652)Bz停止
AND B028B                ; 冷却槽全停止中
OUT B078B                ; B28B_652)Bz停止
LD M11578                ; Cool_槽内ﾜｰｸ有NG選択(異常)
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B028C                ; Cool_Sup_RB給材時槽内ﾜｰｸ有異常
ORL
OUT B028C                ; Cool_Sup_RB給材時槽内ﾜｰｸ有異常
LDP B028C                ; Cool_Sup_RB給材時槽内ﾜｰｸ有異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW H028D D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B078C                 ; B28C_653)Bz停止
AND B028C                ; Cool_Sup_RB給材時槽内ﾜｰｸ有異常
OUT B078C                ; B28C_653)Bz停止
LDB X410E                ; Cool__Shift_RB_Alarm
AND T12                  ; 運転準備ONﾃﾞｨﾚｲ(3S)
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B028D                ; Cool_Sup_ｽﾗｲﾄﾞﾛﾎﾞｯﾄ異常
ORL
OUT B028D                ; Cool_Sup_ｽﾗｲﾄﾞﾛﾎﾞｯﾄ異常
LDP B028D                ; Cool_Sup_ｽﾗｲﾄﾞﾛﾎﾞｯﾄ異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW H028E D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B078D                 ; B28D_654)Bz停止
AND B028D                ; Cool_Sup_ｽﾗｲﾄﾞﾛﾎﾞｯﾄ異常
OUT B078D                ; B28D_654)Bz停止
LDP M11543               ; U20_S43_Leak_Final_ID不一致
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B028E                ; B28E_655)Leak_Final_JIG_ID不一致
ORL
OUT B028E                ; B28E_655)Leak_Final_JIG_ID不一致
LDP B028E                ; B28E_655)Leak_Final_JIG_ID不一致
AND< D900 K64            ; FIFO_DATA_VALUE
DW H028F D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD CR2003                ; 常時OFF
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B028F                ; B28F_656)Leak_Final給材ﾜｰｸ検知NG
ORL
OUT B028F                ; B28F_656)Leak_Final給材ﾜｰｸ検知NG
LDP B028E                ; B28E_655)Leak_Final_JIG_ID不一致
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0290 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B078F                 ; B28F_656)Bz停止
AND B028F                ; B28F_656)Leak_Final給材ﾜｰｸ検知NG
OUT B078F                ; B28F_656)Bz停止
;冷却槽1ﾜｰｸ情報異常
LD= D10555 K1            ; Cool_RB給徐材優先ﾌﾗｸﾞ
AND= D10550 K1           ; Cool#1_徐材ｶｳﾝﾀ
MPS
AND M11522               ; Cool_RBﾜｰｸ無NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B0290                ; Cool_Sup_RBﾜｰｸ無不一致 槽1上段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0291 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
MPP
AND M11527               ; Cool_RBﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B0291                ; Cool_Sup_RBﾜｰｸ有不一致 槽1上段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0292 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD= D10555 K1            ; Cool_RB給徐材優先ﾌﾗｸﾞ
AND= D10550 K2           ; Cool#1_徐材ｶｳﾝﾀ
MPS
AND M11522               ; Cool_RBﾜｰｸ無NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B0292                ; Cool_Sup_RBﾜｰｸ無不一致 槽1中段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0293 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
MPP
AND M11527               ; Cool_RBﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B0293                ; Cool_Sup_RBﾜｰｸ有不一致 槽1中段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0294 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD= D10555 K1            ; Cool_RB給徐材優先ﾌﾗｸﾞ
AND= D10550 K3           ; Cool#1_徐材ｶｳﾝﾀ
MPS
AND M11522               ; Cool_RBﾜｰｸ無NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B0294                ; Cool_Sup_RBﾜｰｸ無不一致 槽1下段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0295 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
MPP
AND M11527               ; Cool_RBﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B0295                ; Cool_Sup_RBﾜｰｸ有不一致 槽1下段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0296 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
;冷却槽2ﾜｰｸ情報異常
LD= D10555 K2            ; Cool_RB給徐材優先ﾌﾗｸﾞ
AND= D10550 K1           ; Cool#1_徐材ｶｳﾝﾀ
MPS
AND M11522               ; Cool_RBﾜｰｸ無NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B0296                ; Cool_Sup_RBﾜｰｸ無不一致 槽2上段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0297 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
MPP
AND M11527               ; Cool_RBﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B0297                ; Cool_Sup_RBﾜｰｸ有不一致 槽2上段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0298 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD= D10555 K2            ; Cool_RB給徐材優先ﾌﾗｸﾞ
AND= D10550 K2           ; Cool#1_徐材ｶｳﾝﾀ
MPS
AND M11522               ; Cool_RBﾜｰｸ無NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B0298                ; Cool_Sup_RBﾜｰｸ無不一致 槽2中段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW H0299 D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
MPP
AND M11527               ; Cool_RBﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B0299                ; Cool_Sup_RBﾜｰｸ有不一致 槽2中段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW H029A D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD= D10555 K2            ; Cool_RB給徐材優先ﾌﾗｸﾞ
AND= D10550 K3           ; Cool#1_徐材ｶｳﾝﾀ
MPS
AND M11522               ; Cool_RBﾜｰｸ無NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B029A                ; Cool_Sup_RBﾜｰｸ無不一致 槽2下段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW H029B D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
MPP
AND M11527               ; Cool_RBﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B029B                ; Cool_Sup_RBﾜｰｸ有不一致 槽2下段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW H029C D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
;槽照合NG
LD M11610                ; Cool_#1情報確認
AND X1890                ; Cool#1_ﾏｽﾀ槽運転有効確認
AND M11730               ; Cool#1_ﾜｰｸ情報異常
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B029C                ; Cool_Sup_RB_PC照合異常(Cool#1)
ORL
OUT B029C                ; Cool_Sup_RB_PC照合異常(Cool#1)
LDP B029C                ; Cool_Sup_RB_PC照合異常(Cool#1)
AND< D900 K64            ; FIFO_DATA_VALUE
DW H029D D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B079C                 ; B29C_669)Bz停止
AND B029C                ; Cool_Sup_RB_PC照合異常(Cool#1)
OUT B079C                ; B29C_669)Bz停止
LD M11611                ; Cool_#2情報確認
AND X1910                ; Cool#2_ﾏｽﾀ槽運転有効確認
AND M11731               ; Cool#2_ﾜｰｸ情報異常
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B029D                ; Cool_Sup_RB_PC照合異常(Cool#2)
ORL
OUT B029D                ; Cool_Sup_RB_PC照合異常(Cool#2)
LDP B029D                ; Cool_Sup_RB_PC照合異常(Cool#2)
AND< D900 K64            ; FIFO_DATA_VALUE
DW H029E D0              ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B079D                 ; B29D_670)Bz停止
AND B029D                ; Cool_Sup_RB_PC照合異常(Cool#2)
OUT B079D                ; B29D_670)Bz停止
;異常ﾌﾞｻﾞｰまとめ
LDB B0280                ; Cool_Sup_RBﾁｬｯｸ開閉異常
OR B0780                 ; B280_641)Bz停止
LDB B0281                ; Cool_Sup_RB異常
OR B0781                 ; B281_642)Bz停止
ANL
LDB B0282                ; Cool_Sup_RB原点復帰ﾜｰｸ有取出要求
OR B0782                 ; B282_643)Bz停止
ANL
LDB B0284                ; Cool_Sup_RB供給部取出時ﾜｰｸ無異常
OR B0784                 ; B284_645)Bz停止
ANL
LDB B0285                ; Cool_Sup_RB受信品種ﾃﾞｰﾀ異常
OR B0785                 ; B285_646)Bz停止
ANL
LDB B0286                ; Cool_Sup_RB徐材時槽内ﾜｰｸ有異常
OR B0786                 ; B286_647)Bz停止
ANL
LDB B0287                ; Cool_Sup_RB徐材時槽内ﾜｰｸ無異常
OR B0787                 ; B287_648)Bz停止
ANL
LDB B0288                ; Cool_Sup_RB初期起動時ﾜｰｸ有異常
OR B0788                 ; B288_649)Bz停止
ANL
LDB B0289                ; B289_650)
OR B0789                 ; B289_650)Bz停止
ANL
LDB B028C                ; Cool_Sup_RB給材時槽内ﾜｰｸ有異常
OR B078C                 ; B28C_653)Bz停止
ANL
LDB B028D                ; Cool_Sup_ｽﾗｲﾄﾞﾛﾎﾞｯﾄ異常
OR B078D                 ; B28D_654)Bz停止
ANL
LDB B028E                ; B28E_655)Leak_Final_JIG_ID不一致
OR B078E                 ; B28E_655)Bz停止
ANL
LDB B029C                ; Cool_Sup_RB_PC照合異常(Cool#1)
OR B079C                 ; B29C_669)Bz停止
ANL
LDB B029D                ; Cool_Sup_RB_PC照合異常(Cool#2)
OR B079D                 ; B29D_670)Bz停止
ANL
LDB B029E                ; B29E_671)
OR B079E                 ; B29E_671)Bz停止
ANL
LDB B029F                ; B29F_672)
OR B079F                 ; B29F_672)Bz停止
ANL
INV
OUT M11989               ; U20_異常BZ補助
END
ENDH
