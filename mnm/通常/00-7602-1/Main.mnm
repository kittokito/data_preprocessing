DEVICE:133
;MODULE:Main
;MODULE_TYPE:0
;
LD CR3905                ; 重度ｴﾗｰ発生中
INV
OUT M1                   ; CPU正常
LD CR2002                ; 常時ON
FLIK K20 K20 M2          ; 200ms FLIK
;OFFLINEにする
LD T300                  ; PC normal check timer
OR T301                  ; PC normal check timer
ANB C0                   ; Offline Reset
ANB M902                 ; OFFLINE移行への有効時間
OUT M900                 ; Offline移行可能
LD M901                  ; OFFLINE移行開始
ANB M3                   ; OFFLINE
ONDL K500 M902           ; OFFLINE移行への有効時間
LD M912                  ; 結果選択完了
OUT M3                   ; OFFLINE
LDP CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
RES C0                   ; Offline Reset
LD X00                   ; ﾃｽﾄ_PB
OUTC K0 K5               ; Offline Reset
;	移行ﾓｰﾄﾞ処理
LD M900                  ; Offline移行可能
LD X00                   ; ﾃｽﾄ_PB
ANB X02                  ; NG_PB
LD X02                   ; NG_PB
ANB X00                  ; ﾃｽﾄ_PB
ORL
LD M920                  ; ON DELAY TIMER
LD X00                   ; ﾃｽﾄ_PB
OR X02                   ; NG_PB
ANL
ORL
ANL
ONDL K50 M920            ; ON DELAY TIMER
LD M900                  ; Offline移行可能
LD X00                   ; ﾃｽﾄ_PB
AND X02                  ; NG_PB
ANB M920                 ; ON DELAY TIMER
OR M901                  ; OFFLINE移行開始
ANL
ONDL K500 M901           ; OFFLINE移行開始
LD M901                  ; OFFLINE移行開始
LD X01                   ; OK_PB
OR M903                  ; OFFLINE移行中
ANL
OUT M903                 ; OFFLINE移行中
LD M903                  ; OFFLINE移行中
LDB X01                  ; OK_PB
OR M904                  ; DEBAG 治具選択
ANL
OUT M904                 ; DEBAG 治具選択
LD M904                  ; DEBAG 治具選択
MPS
LD X00                   ; ﾃｽﾄ_PB
ANB X01                  ; OK_PB
ANB X02                  ; NG_PB
OR M905                  ; 低温選択
ANB M906                 ; 高温選択
ANB M907                 ; 電特選択
ANL
OUT M905                 ; 低温選択
MRD
LDB X00                  ; ﾃｽﾄ_PB
AND X01                  ; OK_PB
ANB X02                  ; NG_PB
OR M906                  ; 高温選択
ANB M905                 ; 低温選択
ANB M907                 ; 電特選択
ANL
OUT M906                 ; 高温選択
MPP
LDB X00                  ; ﾃｽﾄ_PB
ANB X01                  ; OK_PB
AND X02                  ; NG_PB
OR M907                  ; 電特選択
ANB M905                 ; 低温選択
ANB M906                 ; 高温選択
ANL
OUT M907                 ; 電特選択
LD M904                  ; DEBAG 治具選択
LD M905                  ; 低温選択
OR M906                  ; 高温選択
OR M907                  ; 電特選択
OR M909                  ; 工程選択完了から結果選択
ANL
OUT M908                 ; 工程選択完了
LD M908                  ; 工程選択完了
LDB X00                  ; ﾃｽﾄ_PB
ANB X01                  ; OK_PB
ANB X02                  ; NG_PB
OR M909                  ; 工程選択完了から結果選択
ANL
OUT M909                 ; 工程選択完了から結果選択
LD M909                  ; 工程選択完了から結果選択
MPS
LD X01                   ; OK_PB
ANB X02                  ; NG_PB
OR M910                  ; 結果OK選択完了
ANB M911                 ; 結果NG選択完了
ANL
OUT M910                 ; 結果OK選択完了
MPP
LDB X01                  ; OK_PB
AND X02                  ; NG_PB
OR M911                  ; 結果NG選択完了
ANB M910                 ; 結果OK選択完了
ANL
OUT M911                 ; 結果NG選択完了
LD M910                  ; 結果OK選択完了
OR M911                  ; 結果NG選択完了
OUT M912                 ; 結果選択完了
;DEBAG
LD M3                    ; OFFLINE
ANP X01                  ; OK_PB
OUT M7                   ; 工程ｽﾃｯﾌﾟ
;MODE
LD M910                  ; 結果OK選択完了
OUT M8                   ; [DEBAG]OK
LD M911                  ; 結果NG選択完了
OUT M9                   ; [DEBAG]NG
LD= W05 K1               ; 工程指示(PC→PLC)
OR W00.5                 ; 低温起動中
ANB M3                   ; OFFLINE
LD M3                    ; OFFLINE
AND M905                 ; 低温選択
ORL
OUT M10                  ; 低温起動中
@MOV K1 D160             ; 工程NO
LD= W05 K3               ; 工程指示(PC→PLC)
ANB M3                   ; OFFLINE
LD M3                    ; OFFLINE
AND M907                 ; 電特選択
ORL
OUT M11                  ; 電特起動中
@MOV K2 D160             ; 工程NO
LD= W05 K2               ; 工程指示(PC→PLC)
ANB M3                   ; OFFLINE
LD M3                    ; OFFLINE
AND M906                 ; 高温選択
ORL
OUT M12                  ; 高温起動中
@MOV K3 D160             ; 工程NO
;<h1/>□_INPUT
LD Y54                   ; ｸﾗﾝﾌﾟﾛｯｸ
AND X06                  ; ｸﾗﾝﾌﾟ位置決めﾛｯｸ端
ANB X07                  ; ｸﾗﾝﾌﾟ位置決めｱﾝﾛｯｸ端
TMR K120 K5              ; ｸﾗﾝﾌﾟﾛｯｸ確認ﾀｲﾏ
LD Y55                   ; ｸﾗﾝﾌﾟｱﾝﾛｯｸ
ANB X06                  ; ｸﾗﾝﾌﾟ位置決めﾛｯｸ端
AND X07                  ; ｸﾗﾝﾌﾟ位置決めｱﾝﾛｯｸ端
TMR K121 K5              ; ｸﾗﾝﾌﾟ解除確認ﾀｲﾏ
LD Y56                   ; ﾌﾟﾛｰﾌﾞ上昇(GND接続)
AND X16                  ; ﾌﾟﾛｰﾌﾞ上昇端(接続側)
ANB X17                  ; ﾌﾟﾛｰﾌﾞ下降端
ORB M11                  ; 電特起動中
TMR K122 K5              ; ﾌﾟﾛｰﾌﾞ上昇端(GND接続側)ONﾀｲﾏ
LD Y57                   ; ﾌﾟﾛｰﾌﾞ下降
ANB X16                  ; ﾌﾟﾛｰﾌﾞ上昇端(接続側)
AND X17                  ; ﾌﾟﾛｰﾌﾞ下降端
ORB M11                  ; 電特起動中
TMR K123 K5              ; ﾌﾟﾛｰﾌﾞ下降端(ONﾀｲﾏ)
LD X04                   ; ｸﾗﾝﾌﾟ原点
ANB X05                  ; ｸﾗﾝﾌﾟ動作点
TMR K124 K2              ; ｸﾗﾝﾌﾟ原点ONﾀｲﾏ
LDB X04                  ; ｸﾗﾝﾌﾟ原点
AND X05                  ; ｸﾗﾝﾌﾟ動作点
TMR K125 K2              ; ｸﾗﾝﾌﾟ動作点ONﾀｲﾏ
LD X03                   ; ﾜｰｸ有検出
TMR K126 K2              ; ﾜｰｸ有ONﾀｲﾏ
LDB X03                  ; ﾜｰｸ有検出
TMR K127 K2              ; ﾜｰｸ無ONﾀｲﾏ
LD M61                   ; 槽1→PLC 取り出しｷｬﾝｾﾙ信号
ANB M70                  ; 槽2→PLC ﾜｰｸ取出し記憶
LD M71                   ; 槽2→PLC 取り出しｷｬﾝｾﾙ信号
ANB M60                  ; 槽1→PLC ﾜｰｸ取出し記憶
ORL
OR M95                   ; JIG IN 投入ｷｬﾝｾﾙ受け
OR X14                   ; 槽時間ｶｳﾝﾄｷｬﾝｾﾙSW
OUT M1060                ; 投入ｷｬﾝｾﾙ
;<h1/>□_Main_Cycle
LDB B01                  ; PC通信異常
INV
OUT M101                 ; STOP ERROR
LDB B020                 ; ｸﾗﾝﾌﾟ位置決めﾛｯｸ端CLS異常
ANB B021                 ; ｸﾗﾝﾌﾟ位置決めｱﾝﾛｯｸ端CLS異常
ANB B022                 ; ｸﾗﾝﾌﾟ位置決めCLS両端同時ON異常
ANB B023                 ; ﾌﾟﾛｰﾌﾞ上昇端CLS異常
ANB B024                 ; ﾌﾟﾛｰﾌﾞ下降端CLS異常
ANB B025                 ; ﾌﾟﾛｰﾌﾞ上下端CLS同時ON異常
INV
OUT M102                 ; CYCLE STOP ERROR
LD M300                  ; PC通信正常
ANB M1049                ; S49_ｻｲｸﾙ終了
ANB M101                 ; STOP ERROR
AND W00.4                ; ｽﾃｰｼﾞ有効/無効
OUT M100                 ; 起動指令
LD CR2002                ; 常時ON
ZRES M1000 M1049         ; S00_動作開始(原点移動)  S49_ｻｲｸﾙ終了
LDB M100                 ; 起動指令
MOV K0 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MOV K0 W02F              ; PLC動作ｽﾃｯﾌﾟ
LD M100                  ; 起動指令
MOV D1000 Z1             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
SET M1000:Z1             ; S00_動作開始(原点移動)
MPS
CAL+ D1000 K1000 W02F    ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ  PLC動作ｽﾃｯﾌﾟ
MPP
LDF W00.4                ; ｽﾃｰｼﾞ有効/無効
ANB M3                   ; OFFLINE
ORF M3                   ; OFFLINE
ANL
MOV K49 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;<h1/>__S000_CYCLE START
LD M1000                 ; S00_動作開始(原点移動)
MPS
ANB W01.4                ; 検査中
OUT M1100                ; S00_原点位置移動指令
MPP
LD T10                   ; ﾋｰﾀｰ温度到達
ORB M10                  ; 低温起動中
ANB M102                 ; CYCLE STOP ERROR
ANB X00                  ; ﾃｽﾄ_PB
AND T127                 ; ﾜｰｸ無ONﾀｲﾏ
AND T124                 ; ｸﾗﾝﾌﾟ原点ONﾀｲﾏ
AND T121                 ; ｸﾗﾝﾌﾟ解除確認ﾀｲﾏ
AND T123                 ; ﾌﾟﾛｰﾌﾞ下降端(ONﾀｲﾏ)
ANL
MPS
LDB M11                  ; 電特起動中
LD W00.4                 ; ｽﾃｰｼﾞ有効/無効
AND W01.2                ; 槽取出し可能
OR M3                    ; OFFLINE
ANL
ANL
INC D1000                ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M11                  ; 電特起動中
DW K5 D1000              ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1001                 ; S01_取出し開始要求ON
AND M50                  ; ﾁｬﾝﾊﾞｰ取出開始PL(ﾁｬﾝﾊﾞｰへ)
INC D1000                ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1002                 ; S02_取出開始要求確認
MPS
LD M60                   ; 槽1→PLC ﾜｰｸ取出し記憶
OR M70                   ; 槽2→PLC ﾜｰｸ取出し記憶
OR M7                    ; 工程ｽﾃｯﾌﾟ
ANL
INC D1000                ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M1060                ; 投入ｷｬﾝｾﾙ
MOV K15 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;<h1/>__S003_ﾁｬﾝﾊﾞｰ開･時間計測開始/Chamber open timer measurement start
LD M1003                 ; S03_ﾁｬﾝﾊﾞｰ取出可能確認
LD W011.0                ; 扉開（計時開始要求）
AND W01.0                ; 計時開始受付
OR M3                    ; OFFLINE
ANL
INC D1000                ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1004                 ; S04_計時開始確認
OR M1051                 ; 時間計測開始
ANB M1015                ; S15_槽取出ｷｬﾝｾﾙ
ANB M1014                ; S14_ﾀｲﾑｱｳﾄNG
ANB M1024                ; S24_検査開始要求
AND M100                 ; 起動指令
OUT M1051                ; 時間計測開始
LD M1004                 ; S04_計時開始確認
AND M1051                ; 時間計測開始
INC D1000                ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1005                 ; S05_ﾜｰｸ搭載確認
MPS
LD T126                  ; ﾜｰｸ有ONﾀｲﾏ
ANB T124                 ; ｸﾗﾝﾌﾟ原点ONﾀｲﾏ
ANL
MOV K6 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
AND W00.6                ; 時間計測ﾀｲﾑｱｳﾄ
MOV K14 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M1060                ; 投入ｷｬﾝｾﾙ
MOV K15 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;<h1/>__S006_ﾜｰｸｸﾗﾝﾌﾟ検査開始/Work clamp and inspection start
LD M1006                 ; S06_ﾜｰｸｸﾗﾝﾌﾟ要求
MPS
AND X00                  ; ﾃｽﾄ_PB
OUT M1080                ; TEST SW ON記憶1
MRD
LD M1080                 ; TEST SW ON記憶1
LDB T124                 ; ｸﾗﾝﾌﾟ原点ONﾀｲﾏ
ANB T125                 ; ｸﾗﾝﾌﾟ動作点ONﾀｲﾏ
OR M1081                 ; TEST SW ON記憶2
ANL
ANL
OUT M1081                ; TEST SW ON記憶2
MRD
LD M1081                 ; TEST SW ON記憶2
LD T125                  ; ｸﾗﾝﾌﾟ動作点ONﾀｲﾏ
OR M1082                 ; TEST SW ON記憶3
ANL
ANL
OUT M1082                ; TEST SW ON記憶3
MRD
AND M1082                ; TEST SW ON記憶3
OUT M1083                ; ｸﾗﾝﾌﾟﾛｯｸ指令
MPP
AND M1083                ; ｸﾗﾝﾌﾟﾛｯｸ指令
OUT M1084                ; ｸﾗﾝﾌﾟﾛｯｸ確認
LD M1006                 ; S06_ﾜｰｸｸﾗﾝﾌﾟ要求
MPS
AND T125                 ; ｸﾗﾝﾌﾟ動作点ONﾀｲﾏ
MPS
LD M1082                 ; TEST SW ON記憶3
AND T126                 ; ﾜｰｸ有ONﾀｲﾏ
ANL
MOV K7 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
ANB M1082                ; TEST SW ON記憶3
MOV K8 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
LDB T125                 ; ｸﾗﾝﾌﾟ動作点ONﾀｲﾏ
AND M1084                ; ｸﾗﾝﾌﾟﾛｯｸ確認
ANL
MOV K21 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
AND W00.6                ; 時間計測ﾀｲﾑｱｳﾄ
MOV K14 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
LD M1060                 ; 投入ｷｬﾝｾﾙ
OR M102                  ; CYCLE STOP ERROR
ANL
MOV K15 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND T127                 ; ﾜｰｸ無ONﾀｲﾏ
MOV K10 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;<h1/>__S008_TEST_PB押されていない/Not pushed TEST_PB
;  作業者のために異常解除処理を他と同じ状態にするため、ｸﾗﾝﾌﾟを上昇する。
LD M1008                 ; S08_TEST_PB_NG
MPS
LD Y54                   ; ｸﾗﾝﾌﾟﾛｯｸ
AND T120                 ; ｸﾗﾝﾌﾟﾛｯｸ確認ﾀｲﾏ
AND X02                  ; NG_PB
ANL
INC D1000                ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LD M1060                 ; 投入ｷｬﾝｾﾙ
OR M102                  ; CYCLE STOP ERROR
ANL
MOV K15 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1009                 ; S09_ｸﾗﾝﾌﾟ開確認
MPS
LD Y55                   ; ｸﾗﾝﾌﾟｱﾝﾛｯｸ
AND T121                 ; ｸﾗﾝﾌﾟ解除確認ﾀｲﾏ
AND T124                 ; ｸﾗﾝﾌﾟ原点ONﾀｲﾏ
ANL
MOV K6 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
AND W00.6                ; 時間計測ﾀｲﾑｱｳﾄ
MOV K14 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LD M1060                 ; 投入ｷｬﾝｾﾙ
OR M102                  ; CYCLE STOP ERROR
ANL
MOV K15 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;<h1/>__S010_ﾜｰｸ未検出/Work undetected
LD M1010                 ; S10_ﾜｰｸ未検出NG
AND T124                 ; ｸﾗﾝﾌﾟ原点ONﾀｲﾏ
AND B015                 ; ﾜｰｸ未検出検査開始不可
AND X02                  ; NG_PB
MOV K15 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;<h1/>__S007_ｺｰﾄﾞ読取/Code reading
LD M1007                 ; S07_ﾊﾞｰｺｰﾄﾞ読取完了ﾜｰｸｾｯﾄ要求
MPS
AND T120                 ; ｸﾗﾝﾌﾟﾛｯｸ確認ﾀｲﾏ
MPS
AND T125                 ; ｸﾗﾝﾌﾟ動作点ONﾀｲﾏ
OUT M1052                ; BCR読取り要求
MPP
ANB T125                 ; ｸﾗﾝﾌﾟ動作点ONﾀｲﾏ
MOV K21 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
LD M1052                 ; BCR読取り要求
LD W01.3                 ; 読取済ﾊﾞｰｺｰﾄﾞﾃﾞｰﾀあり
OR M3                    ; OFFLINE
ANL
ANL
MOV K23 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
AND W00.6                ; 時間計測ﾀｲﾑｱｳﾄ
MOV K14 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
LD M1060                 ; 投入ｷｬﾝｾﾙ
OR M102                  ; CYCLE STOP ERROR
ANL
MOV K15 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND W01.6                ; BCR読取り異常*
MOV K17 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;<h1/>__S014_ﾀｲﾑｱｳﾄ異常/Time_out_NG
LD M1014                 ; S14_ﾀｲﾑｱｳﾄNG
AND M1050                ; NG点灯補助
ANB M1051                ; 時間計測開始
ANB M50                  ; ﾁｬﾝﾊﾞｰ取出開始PL(ﾁｬﾝﾊﾞｰへ)
LD X02                   ; NG_PB
OR M95                   ; JIG IN 投入ｷｬﾝｾﾙ受け
ANL
INC D1000                ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;<h1/>__S015_槽取出ｷｬﾝｾﾙ処理/Chamber take-out cancel
LD M1015                 ; S15_槽取出ｷｬﾝｾﾙ
LD W011.1                ; 槽取出しｷｬﾝｾﾙ要求
AND W01.1                ; 槽取出しｷｬﾝｾﾙ受付
OR M11                   ; 電特起動中
OR M3                    ; OFFLINE
ANL
ANB M1050                ; NG点灯補助
ANB W00.6                ; 時間計測ﾀｲﾑｱｳﾄ
MOV K48 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1048                 ; S48_ｸﾗﾝﾌﾟ解除
AND T121                 ; ｸﾗﾝﾌﾟ解除確認ﾀｲﾏ
AND T123                 ; ﾌﾟﾛｰﾌﾞ下降端(ONﾀｲﾏ)
ANB M1060                ; 投入ｷｬﾝｾﾙ
MOV K49 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;<h1/>__S017_BCR読取り異常処理 / BCR ERROR
LD M1017                 ; S17_BCR読取り異常
AND B01D                 ; BCR読取り異常
AND X02                  ; NG_PB
INC D1000                ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;    S018_ｸﾗﾝﾌﾟ解除
LD M1018                 ; S18_ｸﾗﾝﾌﾟ解除指令
LD W011.1                ; 槽取出しｷｬﾝｾﾙ要求
AND W01.1                ; 槽取出しｷｬﾝｾﾙ受付
OR M11                   ; 電特起動中
OR M3                    ; OFFLINE
ANL
AND Y55                  ; ｸﾗﾝﾌﾟｱﾝﾛｯｸ
AND T121                 ; ｸﾗﾝﾌﾟ解除確認ﾀｲﾏ
AND T124                 ; ｸﾗﾝﾌﾟ原点ONﾀｲﾏ
ANB B01D                 ; BCR読取り異常
MOV K15 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;  S021_ｸﾗﾝﾌﾟﾛｯｸ異常
LD M1021                 ; S21_ｸﾗﾝﾌﾟﾛｯｸｴﾗｰ
AND B01A                 ; ｸﾗﾝﾌﾟﾛｯｸｴﾗｰ
AND X02                  ; NG_PB
INC D1000                ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1022                 ; S22_ｸﾗﾝﾌﾟﾛｯｸ解除
MPS
LD Y55                   ; ｸﾗﾝﾌﾟｱﾝﾛｯｸ
AND T121                 ; ｸﾗﾝﾌﾟ解除確認ﾀｲﾏ
AND T124                 ; ｸﾗﾝﾌﾟ原点ONﾀｲﾏ
ANB B01A                 ; ｸﾗﾝﾌﾟﾛｯｸｴﾗｰ
ANL
MOV K6 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
AND W00.6                ; 時間計測ﾀｲﾑｱｳﾄ
MOV K14 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LD M1060                 ; 投入ｷｬﾝｾﾙ
OR M102                  ; CYCLE STOP ERROR
ANL
MOV K15 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;<h1/>__S023_ｸﾞﾗﾝﾄﾞ接続後検査開始/Grand connection after the test start
LD M1023                 ; S23_ｸﾞﾗﾝﾄﾞ接続
MPS
AND T122                 ; ﾌﾟﾛｰﾌﾞ上昇端(GND接続側)ONﾀｲﾏ
INC D1000                ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
AND M102                 ; CYCLE STOP ERROR
MOV K15 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND W00.6                ; 時間計測ﾀｲﾑｱｳﾄ
MOV K14 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1024                 ; S24_検査開始要求
MPS
LDB M1051                ; 時間計測開始
LD W011.4                ; 検査開始要求
AND W01.4                ; 検査中
OR M3                    ; OFFLINE
ANL
ANB M50                  ; ﾁｬﾝﾊﾞｰ取出開始PL(ﾁｬﾝﾊﾞｰへ)
ANL
INC D1000                ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND W00.6                ; 時間計測ﾀｲﾑｱｳﾄ
MOV K14 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1025                 ; S25_検査開始確認
ANB W01.4                ; 検査中
MPS
LD W01.5                 ; 検査結果OK
OR M8                    ; [DEBAG]OK
ANB M9                   ; [DEBAG]NG
ANL
INC D1000                ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LDB W01.5                ; 検査結果OK
ANB M8                   ; [DEBAG]OK
OR M9                    ; [DEBAG]NG
ANL
MOV K30 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;検査OK
;Test OK
LD M1026                 ; S26_検査OKｸﾞﾗﾝﾄﾞ解放
AND T123                 ; ﾌﾟﾛｰﾌﾞ下降端(ONﾀｲﾏ)
INC D1000                ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1027                 ; S27_ｸﾗﾝﾌﾟﾛｯｸ解除
AND T121                 ; ｸﾗﾝﾌﾟ解除確認ﾀｲﾏ
INC D1000                ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1028                 ; S28_OKﾜｰｸ取出
AND T124                 ; ｸﾗﾝﾌﾟ原点ONﾀｲﾏ
AND T127                 ; ﾜｰｸ無ONﾀｲﾏ
INC D1000                ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1029                 ; S29_OKﾜｰｸ取出確認
ANB Y51                  ; OK_PL
ANB Y52                  ; NG_PL
MOV K49 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;検査NG
;Test NG
LD M1030                 ; S30_検査NG
ANP X02                  ; NG_PB
INC D1000                ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1031                 ; S31_検査NGｸﾞﾗﾝﾄﾞ解放
AND T123                 ; ﾌﾟﾛｰﾌﾞ下降端(ONﾀｲﾏ)
INC D1000                ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1032                 ; S32_ｸﾗﾝﾌﾟﾛｯｸ解除
AND T121                 ; ｸﾗﾝﾌﾟ解除確認ﾀｲﾏ
INC D1000                ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1033                 ; S33_NGﾜｰｸ取出
AND T124                 ; ｸﾗﾝﾌﾟ原点ONﾀｲﾏ
AND T127                 ; ﾜｰｸ無ONﾀｲﾏ
ANB W00.1                ; PC Busy
INC D1000                ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1034                 ; S34_NGﾜｰｸ取出確認
ANB Y51                  ; OK_PL
ANB Y52                  ; NG_PL
MOV K49 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;<h1/>□_Heater
LD X02                   ; NG_PB
ONDL K500 M15            ; OFFLINE HEATER ON補助
LDP M15                  ; OFFLINE HEATER ON補助
ANB M16                  ; OFFLINE HEATER ON指令
LDPB M15                 ; OFFLINE HEATER ON補助
AND M16                  ; OFFLINE HEATER ON指令
ORL
AND M3                   ; OFFLINE
AND M10                  ; 低温起動中
OUT M16                  ; OFFLINE HEATER ON指令
LDB M3                   ; OFFLINE
AND W00.7                ; ﾋｰﾀｰON
LD M3                    ; OFFLINE
AND M10                  ; 低温起動中
AND M16                  ; OFFLINE HEATER ON指令
ORL
OUT M20                  ; HEATER ON
LD M10                   ; 低温起動中
AND M20                  ; HEATER ON
AND Y5A                  ; 熱風ﾌﾞﾛｰ_ON
OR M1070                 ; ﾋｰﾀｰ起動  ｴｱﾌﾞﾛｰON
ANB T130                 ; ﾋｰﾀｰ冷却ﾀｲﾏ
OUT M1070                ; ﾋｰﾀｰ起動  ｴｱﾌﾞﾛｰON
LD M1070                 ; ﾋｰﾀｰ起動  ｴｱﾌﾞﾛｰON
ANB Y59                  ; 熱風発生器_ON
TMR K130 K600            ; ﾋｰﾀｰ冷却ﾀｲﾏ
;<h1/>□_PLC→PC I/F
LDB T303                 ; PLC startup timer 2
TMR K302 K15             ; PLC startup timer 1
LD T302                  ; PLC startup timer 1
TMR K303 K15             ; PLC startup timer 2
LD M1                    ; CPU正常
ANB T302                 ; PLC startup timer 1
OUT W010.0               ; PLC動作中
LDB M3                   ; OFFLINE
AND M300                 ; PC通信正常
MPS
LD W00.1                 ; PC Busy
AND X02                  ; NG_PB
ANL
OUT W010.1               ; Reset SW受付
MRD
LD T124                  ; ｸﾗﾝﾌﾟ原点ONﾀｲﾏ
ANB X06                  ; ｸﾗﾝﾌﾟ位置決めﾛｯｸ端
AND X07                  ; ｸﾗﾝﾌﾟ位置決めｱﾝﾛｯｸ端
LDB X16                  ; ﾌﾟﾛｰﾌﾞ上昇端(接続側)
AND X17                  ; ﾌﾟﾛｰﾌﾞ下降端
ORB L12                  ; Final test M/C
ANL
ANL
OUT W010.4               ; ｸﾗﾝﾌﾟ原点
MRD
AND T126                 ; ﾜｰｸ有ONﾀｲﾏ
OUT W010.5               ; ﾜｰｸ検出
MPP
AND T10                  ; ﾋｰﾀｰ温度到達
OUT W010.6               ; ﾋｰﾀｰ温度到達
;
LDB M3                   ; OFFLINE
MPS
AND M1003                ; S03_ﾁｬﾝﾊﾞｰ取出可能確認
OUT W011.0               ; 扉開（計時開始要求）
MRD
LD M1015                 ; S15_槽取出ｷｬﾝｾﾙ
OR M1018                 ; S18_ｸﾗﾝﾌﾟ解除指令
ANB M11                  ; 電特起動中
ANL
OUT W011.1               ; 槽取出しｷｬﾝｾﾙ要求
MRD
AND M1052                ; BCR読取り要求
OUT W011.3               ; 読取り要求(PLC→PC)
MPP
AND M1024                ; S24_検査開始要求
OUT W011.4               ; 検査開始要求
;JIG ID
LDB M3                   ; OFFLINE
MPS
AND X08                  ; 治具ID_1(左)
OUT W022.0
MRD
AND X09                  ; 治具ID_2(中)
OUT W022.1
MPP
AND X0A                  ; 治具ID_3(右)
OUT W022.2
;<h1/>□_OUT_PUT
LD M1004                 ; S04_計時開始確認
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
LD> D1000 K4             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
AND< D1000 K8            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
AND CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
ORL
OR M1025                 ; S25_検査開始確認
ANB B01                  ; PC通信異常
LD B01                   ; PC通信異常
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
LDB M904                 ; DEBAG 治具選択
OR M3                    ; OFFLINE
ANL
LD M904                  ; DEBAG 治具選択
ANB M908                 ; 工程選択完了
ORL
OUT Y50                  ; TEST_PL
LD M1026                 ; S26_検査OKｸﾞﾗﾝﾄﾞ解放
OR M1055                 ; OK点灯補助
ANB M1029                ; S29_OKﾜｰｸ取出確認
AND M100                 ; 起動指令
OUT M1055                ; OK点灯補助
LD M1055                 ; OK点灯補助
ANB B01                  ; PC通信異常
LD B01                   ; PC通信異常
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
LDB M901                 ; OFFLINE移行開始
OR M3                    ; OFFLINE
ANL
LD M901                  ; OFFLINE移行開始
ANB M903                 ; OFFLINE移行中
ORL
LDB M904                 ; DEBAG 治具選択
OR M3                    ; OFFLINE
ANL
LD M904                  ; DEBAG 治具選択
ANB M908                 ; 工程選択完了
ORL
LD M909                  ; 工程選択完了から結果選択
ANB M912                 ; 結果選択完了
ORL
OUT Y51                  ; OK_PL
LD M1014                 ; S14_ﾀｲﾑｱｳﾄNG
OR M1031                 ; S31_検査NGｸﾞﾗﾝﾄﾞ解放
OR M1050                 ; NG点灯補助
ANB M1015                ; S15_槽取出ｷｬﾝｾﾙ
ANB M1034                ; S34_NGﾜｰｸ取出確認
AND M100                 ; 起動指令
OUT M1050                ; NG点灯補助
LDB M101                 ; STOP ERROR
ANB M102                 ; CYCLE STOP ERROR
INV
OUT M30                  ; NG_PL ON FLG 1
LDB W00.1                ; PC Busy
ANB B014                 ; TEST_PB_NG検査開始不可
ANB B01B                 ; Over_heat
ANB M1030                ; S30_検査NG
INV
ANB M30                  ; NG_PL ON FLG 1
OUT M31                  ; NG_PL ON FLG 2
LDB B015                 ; ﾜｰｸ未検出検査開始不可
ANB B01C                 ; ｸﾗﾝﾌﾟ開要求
ANB B019                 ; 不明ﾜｰｸ有り取出要求
ANB B01A                 ; ｸﾗﾝﾌﾟﾛｯｸｴﾗｰ
ANB B01D                 ; BCR読取り異常
INV
ANB M30                  ; NG_PL ON FLG 1
ANB M31                  ; NG_PL ON FLG 2
OUT M32                  ; NG_PL ON FLG 3
LD M1050                 ; NG点灯補助
LD M30                   ; NG_PL ON FLG 1
AND M2                   ; 200ms FLIK
ORL
LD M31                   ; NG_PL ON FLG 2
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
LD M32                   ; NG_PL ON FLG 3
AND CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
ORL
ANB B01                  ; PC通信異常
LD B01                   ; PC通信異常
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
LDB M904                 ; DEBAG 治具選択
OR M3                    ; OFFLINE
ANL
LD M904                  ; DEBAG 治具選択
ANB M908                 ; 工程選択完了
ORL
LD M909                  ; 工程選択完了から結果選択
ANB M912                 ; 結果選択完了
ORL
OUT Y52                  ; NG_PL
LD M1008                 ; S08_TEST_PB_NG
OR M1083                 ; ｸﾗﾝﾌﾟﾛｯｸ指令
OR M1020                 ; S20_ｸﾗﾝﾌﾟﾛｯｸ
OR M3301                 ; 位置決めﾛｯｸ指令
LD Y54                   ; ｸﾗﾝﾌﾟﾛｯｸ
ANB Y55                  ; ｸﾗﾝﾌﾟｱﾝﾛｯｸ
ORL
LD M100                  ; 起動指令
OR M3300                 ; ﾌﾟﾛｰﾌﾞ上昇開始
ANL
OUT Y54                  ; ｸﾗﾝﾌﾟﾛｯｸ
LDB M1100                ; S00_原点位置移動指令
ANB M1009                ; S09_ｸﾗﾝﾌﾟ開確認
ANB M1018                ; S18_ｸﾗﾝﾌﾟ解除指令
ANB M1022                ; S22_ｸﾗﾝﾌﾟﾛｯｸ解除
ANB M1027                ; S27_ｸﾗﾝﾌﾟﾛｯｸ解除
ANB M1032                ; S32_ｸﾗﾝﾌﾟﾛｯｸ解除
ANB M1048                ; S48_ｸﾗﾝﾌﾟ解除
INV
LDB M3309                ; 位置決め解除指令
INV
ORL
LD Y55                   ; ｸﾗﾝﾌﾟｱﾝﾛｯｸ
ANB Y54                  ; ｸﾗﾝﾌﾟﾛｯｸ
ORL
LD M100                  ; 起動指令
OR M3300                 ; ﾌﾟﾛｰﾌﾞ上昇開始
ANL
OUT Y55                  ; ｸﾗﾝﾌﾟｱﾝﾛｯｸ
LD M1023                 ; S23_ｸﾞﾗﾝﾄﾞ接続
OR M3304                 ; ﾌﾟﾛｰﾌﾞ上昇指令
LD Y56                   ; ﾌﾟﾛｰﾌﾞ上昇(GND接続)
ANB Y57                  ; ﾌﾟﾛｰﾌﾞ下降
ORL
LD M100                  ; 起動指令
AND M11                  ; 電特起動中
OR M3300                 ; ﾌﾟﾛｰﾌﾞ上昇開始
ANL
OUT Y56                  ; ﾌﾟﾛｰﾌﾞ上昇(GND接続)
LDB M1100                ; S00_原点位置移動指令
ANB M1026                ; S26_検査OKｸﾞﾗﾝﾄﾞ解放
ANB M1031                ; S31_検査NGｸﾞﾗﾝﾄﾞ解放
ANB M1048                ; S48_ｸﾗﾝﾌﾟ解除
ANB M3307                ; ﾌﾟﾛｰﾌﾞ下降指令
INV
LD Y57                   ; ﾌﾟﾛｰﾌﾞ下降
ANB Y56                  ; ﾌﾟﾛｰﾌﾞ上昇(GND接続)
ORL
LD M100                  ; 起動指令
AND M11                  ; 電特起動中
OR M3300                 ; ﾌﾟﾛｰﾌﾞ上昇開始
ANL
OUT Y57                  ; ﾌﾟﾛｰﾌﾞ下降
;Heater
LD M20                   ; HEATER ON
AND M10                  ; 低温起動中
AND Y5A                  ; 熱風ﾌﾞﾛｰ_ON
ANB B01B                 ; Over_heat
AND X12                  ; ﾋｰﾀｰ過昇検知(ON正常)
OUT Y59                  ; 熱風発生器_ON
LD Y59                   ; 熱風発生器_ON
AND X13                  ; ﾋｰﾀｰ温度正常(範囲内)
TMR K10 K30              ; ﾋｰﾀｰ温度到達
LDB M20                  ; HEATER ON
ANB M1070                ; ﾋｰﾀｰ起動  ｴｱﾌﾞﾛｰON
ANB Y59                  ; 熱風発生器_ON
INV
OUT Y5A                  ; 熱風ﾌﾞﾛｰ_ON
;<h1/>□_Message
LD M1002                 ; S02_取出開始要求確認
OUT B010                 ; ﾜｰｸ取出可能､ﾁｬﾝﾊﾞｰ開PB要求
@DW H0010 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M1004                 ; S04_計時開始確認
OUT B011                 ; ﾜｰｸ取出､読取要求
@DW H0011 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M1005                 ; S05_ﾜｰｸ搭載確認
ANB T125                 ; ｸﾗﾝﾌﾟ動作点ONﾀｲﾏ
ANB T126                 ; ﾜｰｸ有ONﾀｲﾏ
OUT B012                 ; ﾜｰｸｾｯﾄ要求
@DW H0012 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M1006                 ; S06_ﾜｰｸｸﾗﾝﾌﾟ要求
OUT B013                 ; 検査開始要求
@DW H0013 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M1008                 ; S08_TEST_PB_NG
OUT B014                 ; TEST_PB_NG検査開始不可
@DW H0014 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M1010                 ; S10_ﾜｰｸ未検出NG
OUT B015                 ; ﾜｰｸ未検出検査開始不可
@DW H0015 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M1025                 ; S25_検査開始確認
OUT B016                 ; 検査中
@DW H0016 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M1028                 ; S28_OKﾜｰｸ取出
OUT B017                 ; 検査OKﾜｰｸ取出要求
@DW H0017 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M1030                 ; S30_検査NG
OR M1031                 ; S31_検査NGｸﾞﾗﾝﾄﾞ解放
OR M1032                 ; S32_ｸﾗﾝﾌﾟﾛｯｸ解除
OR M1033                 ; S33_NGﾜｰｸ取出
OUT B018                 ; 検査NGﾜｰｸ取出要求
@DW H0018 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M1100                 ; S00_原点位置移動指令
OR M1001                 ; S01_取出し開始要求ON
OR M1002                 ; S02_取出開始要求確認
OR M1003                 ; S03_ﾁｬﾝﾊﾞｰ取出可能確認
OR M1004                 ; S04_計時開始確認
AND T126                 ; ﾜｰｸ有ONﾀｲﾏ
OUT B019                 ; 不明ﾜｰｸ有り取出要求
@DW H0019 D0
CON
@FIFOW D0 D900           ; 異常内容
;<h1/>□_Error
LD CR2007                ; 運転開始時1ｽｷｬﾝOFF
TMR K0 K30               ; PLC RUN TIMER
LD T0                    ; PLC RUN TIMER
ANB M300                 ; PC通信正常
ANB M3                   ; OFFLINE
LDB X02                  ; NG_PB
AND B01                  ; PC通信異常
ORL
MPS
ANB M901                 ; OFFLINE移行開始
OUT B01                  ; PC通信異常
MPP
@DW H0001 D0
CON
@FIFOW D0 D900           ; 異常内容
;
LD M1021                 ; S21_ｸﾗﾝﾌﾟﾛｯｸｴﾗｰ
LD B01A                  ; ｸﾗﾝﾌﾟﾛｯｸｴﾗｰ
LDB X02                  ; NG_PB
ORB T124                 ; ｸﾗﾝﾌﾟ原点ONﾀｲﾏ
ANL
ORL
OUT B01A                 ; ｸﾗﾝﾌﾟﾛｯｸｴﾗｰ
@DW H001A D0
CON
@FIFOW D0 D900           ; 異常内容
;
LDB X12                  ; ﾋｰﾀｰ過昇検知(ON正常)
LD B01B                  ; Over_heat
ANB X02                  ; NG_PB
ORL
MPS
AND M10                  ; 低温起動中
OUT B01B                 ; Over_heat
MPP
@DW H001B D0
CON
@FIFOW D0 D900           ; 異常内容
;
LDB M1100                ; S00_原点位置移動指令
ANB M1001                ; S01_取出し開始要求ON
ANB M1002                ; S02_取出開始要求確認
ANB M1003                ; S03_ﾁｬﾝﾊﾞｰ取出可能確認
ANB M1004                ; S04_計時開始確認
ANB M1005                ; S05_ﾜｰｸ搭載確認
ANB M1009                ; S09_ｸﾗﾝﾌﾟ開確認
ANB M1010                ; S10_ﾜｰｸ未検出NG
ANB M1018                ; S18_ｸﾗﾝﾌﾟ解除指令
ANB M1022                ; S22_ｸﾗﾝﾌﾟﾛｯｸ解除
INV
OUT M1061                ; ｸﾗﾝﾌﾟ解除要求
LD M1061                 ; ｸﾗﾝﾌﾟ解除要求
ANB T124                 ; ｸﾗﾝﾌﾟ原点ONﾀｲﾏ
TMR K140 K20             ; ClampOpenCHK
MPS
AND T140                 ; ClampOpenCHK
OUT B01C                 ; ｸﾗﾝﾌﾟ開要求
MPP
@DW H001C D0
CON
@FIFOW D0 D900           ; 異常内容
;
LD M1017                 ; S17_BCR読取り異常
LDB X02                  ; NG_PB
AND B01D                 ; BCR読取り異常
ORL
AND M100                 ; 起動指令
OUT B01D                 ; BCR読取り異常
@DW H001D D0
CON
@FIFOW D0 D900           ; 異常内容
;
LD Y54                   ; ｸﾗﾝﾌﾟﾛｯｸ
ANB X06                  ; ｸﾗﾝﾌﾟ位置決めﾛｯｸ端
TMR K20 K30              ; CLS 監視ﾀｲﾏ
LD T20                   ; CLS 監視ﾀｲﾏ
LD B020                  ; ｸﾗﾝﾌﾟ位置決めﾛｯｸ端CLS異常
ANB X02                  ; NG_PB
ORL
OUT B020                 ; ｸﾗﾝﾌﾟ位置決めﾛｯｸ端CLS異常
@DW H0020 D0
CON
@FIFOW D0 D900           ; 異常内容
;
LD Y55                   ; ｸﾗﾝﾌﾟｱﾝﾛｯｸ
ANB X07                  ; ｸﾗﾝﾌﾟ位置決めｱﾝﾛｯｸ端
TMR K21 K30              ; CLS 監視ﾀｲﾏ
LD T21                   ; CLS 監視ﾀｲﾏ
LD B021                  ; ｸﾗﾝﾌﾟ位置決めｱﾝﾛｯｸ端CLS異常
ANB X02                  ; NG_PB
ORL
OUT B021                 ; ｸﾗﾝﾌﾟ位置決めｱﾝﾛｯｸ端CLS異常
@DW H0021 D0
CON
@FIFOW D0 D900           ; 異常内容
;
LD X06                   ; ｸﾗﾝﾌﾟ位置決めﾛｯｸ端
AND X07                  ; ｸﾗﾝﾌﾟ位置決めｱﾝﾛｯｸ端
TMR K22 K5               ; CLS 監視ﾀｲﾏ
LD T22                   ; CLS 監視ﾀｲﾏ
LD B022                  ; ｸﾗﾝﾌﾟ位置決めCLS両端同時ON異常
ANB X02                  ; NG_PB
ORL
OUT B022                 ; ｸﾗﾝﾌﾟ位置決めCLS両端同時ON異常
@DW H0022 D0
CON
@FIFOW D0 D900           ; 異常内容
;
LD Y56                   ; ﾌﾟﾛｰﾌﾞ上昇(GND接続)
ANB X16                  ; ﾌﾟﾛｰﾌﾞ上昇端(接続側)
TMR K23 K30              ; CLS 監視ﾀｲﾏ
LD T23                   ; CLS 監視ﾀｲﾏ
LD B023                  ; ﾌﾟﾛｰﾌﾞ上昇端CLS異常
ANB X02                  ; NG_PB
ORL
AND M11                  ; 電特起動中
OUT B023                 ; ﾌﾟﾛｰﾌﾞ上昇端CLS異常
@DW H0023 D0
CON
@FIFOW D0 D900           ; 異常内容
;
LD Y57                   ; ﾌﾟﾛｰﾌﾞ下降
ANB X17                  ; ﾌﾟﾛｰﾌﾞ下降端
TMR K24 K30              ; CLS 監視ﾀｲﾏ
LD T24                   ; CLS 監視ﾀｲﾏ
LD B024                  ; ﾌﾟﾛｰﾌﾞ下降端CLS異常
ANB X02                  ; NG_PB
ORL
AND M11                  ; 電特起動中
OUT B024                 ; ﾌﾟﾛｰﾌﾞ下降端CLS異常
@DW H0024 D0
CON
@FIFOW D0 D900           ; 異常内容
;
LD X16                   ; ﾌﾟﾛｰﾌﾞ上昇端(接続側)
AND X17                  ; ﾌﾟﾛｰﾌﾞ下降端
TMR K25 K5               ; CLS 監視ﾀｲﾏ
LD T25                   ; CLS 監視ﾀｲﾏ
LD B025                  ; ﾌﾟﾛｰﾌﾞ上下端CLS同時ON異常
ANB X02                  ; NG_PB
ORL
AND M11                  ; 電特起動中
OUT B025                 ; ﾌﾟﾛｰﾌﾞ上下端CLS同時ON異常
@DW H0025 D0
CON
@FIFOW D0 D900           ; 異常内容
END
ENDH
