DEVICE:53
;MODULE:UNIT1_PCB-Main_T
;MODULE_TYPE:0
;
;UNIT1 Case-Transfer Y1
;
;動作FLG
LD T1008                 ; ﾗｲﾄｶｰﾃﾝ1 OUT1
AND T1009                ; ﾗｲﾄｶｰﾃﾝ1 OUT2
OUT M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
LD X08                   ; ﾗｲﾄｶｰﾃﾝ1 OUT1
AND X09                  ; ﾗｲﾄｶｰﾃﾝ1 OUT2
TMH K156 K10             ; 遮光無し （即決）
LDB M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
OR M1850                 ; 取り出し作業確認
LD M1004                 ; ｴﾗｰ発生
OR M1005                 ; ｴﾗｰ中
OR M1006                 ; ｴﾗｰ解除確認
OR M1152                 ; ｴﾗｰ発生
OR M1153                 ; ｴﾗｰ中
OR M1154                 ; ｴﾗｰ解除確認
ANL
OUT M1850                ; 取り出し作業確認
LDB T1300                ; 投入1_ｹｰｽ検出
ANB T1301                ; 投入1_基板検出
AND T1302                ; 投入1_ｹｰｽ浮き1
AND T1303                ; 投入1_ｹｰｽ浮き2
AND M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
OR M1851                 ; 日常点検治具取り外し確認
LD M1433                 ; 治具取り外し確認
OR M1010                 ; 投入位置移動
OR M1011                 ; Y1_P11 move
OR M1012                 ; 日常点検Case check
ANL
OUT M1851                ; 日常点検治具取り外し確認
LD CR2002                ; 常時ON
MPS
LD<= D1000 K12           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
OR> D1000 K92            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
ANL
DW K0 D1020              ; Y1ﾊﾞｯﾌｧ数
MPP
LD> D1000 K12            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
AND<= D1000 K92          ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
ANL
DW K1 D1020              ; Y1ﾊﾞｯﾌｧ数
LD= D1000 K93            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD>= D1000 K110          ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
AND<= D1000 K112         ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
ORL
OUT M1852                ; Case1 受渡準備中
LD R3203                 ; PCB-Assy Z 搬送干渉外
AND T1607                ; PCB移載ﾍｯﾄﾞ 上昇限
AND R3300                ; PCB-Chuck1 開
AND R3400                ; PCB-Chuck2 開
AND R3600                ; 除材1Y    受取干渉外
OUT M1853                ; PCB搬送　嵌合領域進入可能
LD CR2002                ; 常時ON
DW K0 D1030              ; UT1 Case status
MPS
LD> D1000 K15            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
AND<= D1000 K32          ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
ANL
DW K1 D1030              ; UT1 Case status
MPP
LD> D1000 K32            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
AND<= D1000 K92          ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
ANL
DW K2 D1030              ; UT1 Case status
;■ロボット等機器入力受け
;ロボット、検査装置など状態、現在位置などをまとめる信号は一旦ここで受ける。
LD<> D1050 K12           ; 搬送Y1   移動No.
AND<> D1050 K21          ; 搬送Y1   移動No.
AND<> D1050 K51          ; 搬送Y1   移動No.
AND R3100                ; Case搬送Y1投入領域
LD= D1050 K12            ; 搬送Y1   移動No.
OR= D1050 K21            ; 搬送Y1   移動No.
OR= D1050 K51            ; 搬送Y1   移動No.
AND R3105                ; Case搬送Y1投入時LC一時停止領域
ORL
AND X5604                ; 軸3 軸制御中
OR M1501                 ; Y1原点復帰中
OR Y5562                 ; 軸3 減速停止
LDB M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
ANB T156                 ; 遮光無し （即決）
OR M1700                 ; 減速停止中
ANL
ANB M4915                ; Y1塗布動作中
OUT Y5562                ; 軸3 減速停止
SHOT K30 M1700           ; 減速停止中
LD Y5562                 ; 軸3 減速停止
ANB M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
TMR K140 K30             ; SMA431一時停止超過
;<h1/>装置状態・動作条件
LD=.L D31410 E2400       ; 軸3 現在座標  Case搬送1_TP_Pos1_Data
OR=.L D31410 E2420       ; 軸3 現在座標  Case搬送1_TP_Case投入位置
AND R3100                ; Case搬送Y1投入領域
ANB X5604                ; 軸3 軸制御中
OUT M1900                ; ﾕﾆｯﾄ1原点
LDB B020                 ; ﾕﾆｯﾄ1_Jig番号異常
ANB B021                 ; SMA431ｱﾗｰﾑ
ANB B022                 ; ﾕﾆｯﾄ1_異常3
ANB B023                 ; ﾕﾆｯﾄ1_異常4
ANB B024                 ; ﾕﾆｯﾄ1_異常5
ANB B025                 ; 塗布位置ﾜｰｸ行方不明
ANB B026                 ; 嵌合位置ﾜｰｸ行方不明
ANB B027                 ; ﾕﾆｯﾄ1_異常8
INV
OUT M1901                ; ﾕﾆｯﾄ1全異常
LD M1900                 ; ﾕﾆｯﾄ1原点
ANB M1000                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ開始
AND X561D                ; 軸3 ｻｰﾎﾞﾚﾃﾞｨ
ANB X5600                ; 軸3 軸ｴﾗｰ中
ANB X5604                ; 軸3 軸制御中
OUT M1902                ; ﾕﾆｯﾄ1起動条件
LDB M64                  ; 運転準備
OR M65                   ; 即停止異常(緊急停止)
OR M1901                 ; ﾕﾆｯﾄ1全異常
OR T15                   ; 強制停止
OUT M1903                ; ﾕﾆｯﾄ1起動OFF
LD M98                   ; 原点復帰開始
ANB M1904                ; ﾕﾆｯﾄ1原点復帰中
OR M1904                 ; ﾕﾆｯﾄ1原点復帰中
ANB M1903                ; ﾕﾆｯﾄ1起動OFF
ANB M1579                ; ﾕﾆｯﾄ1原点復帰完了確認
OUT M1904                ; ﾕﾆｯﾄ1原点復帰中
LD M83                   ; 各工程起動指令
AND M1902                ; ﾕﾆｯﾄ1起動条件
OR M1905                 ; ﾕﾆｯﾄ1起動中
ANB M1903                ; ﾕﾆｯﾄ1起動OFF
ANB M1399                ; ﾕﾆｯﾄ1動作完了
OUT M1905                ; ﾕﾆｯﾄ1起動中
LD CR2003                ; 常時OFF
OUT M1908                ; ﾕﾆｯﾄ1警報補助
;Pack処理
LDB M1802                ; 搬送Y1 移動中
ANB M1501                ; Y1原点復帰中
ANB M1503                ; Y1 P11移動中
INV
OUT M1910                ; UNIT1 Pack
;□エラー発生　一時停止フラグ
LD CR2002                ; 常時ON
MPS
PMOV.D M1920 K0 D1100 K0 K20;Err320:ﾜｰｸ残  UT1ｴﾗｰ判別
MPP
AND<>.D D1100 K0         ; UT1ｴﾗｰ判別
OUT M1912                ; UNIT1 ｴﾗｰ
LDB M1901                ; ﾕﾆｯﾄ1全異常
ANB M160                 ; ALL PAUSE
ANB M1908                ; ﾕﾆｯﾄ1警報補助
ANB M1912                ; UNIT1 ｴﾗｰ
LDB M32                  ; 自動ﾓｰﾄﾞ
ANB M33                  ; 手動ﾓｰﾄﾞ
LD M32                   ; 自動ﾓｰﾄﾞ
AND M1905                ; ﾕﾆｯﾄ1起動中
ORL
LD M33                   ; 手動ﾓｰﾄﾞ
AND M1904                ; ﾕﾆｯﾄ1原点復帰中
ORL
ANL
OUT M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
;RB interlock
LD R3000                 ; 塗布X　   Case1干渉外
OR R3010                 ; 塗布Z　   搬送Y干渉外高さ
OR M4915                 ; Y1塗布動作中
LD R3104                 ; Case搬送Y1嵌合干渉外
LD R3203                 ; PCB-Assy Z 搬送干渉外
OR T1605                 ; 基板嵌合ﾁｬｯｸ 退避側限
AND T1607                ; PCB移載ﾍｯﾄﾞ 上昇限
ORL
LD>= D1000 K124          ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
AND< D1000 K130          ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
ORL
ANL
AND X561D                ; 軸3 ｻｰﾎﾞﾚﾃﾞｨ
ANB X5600                ; 軸3 軸ｴﾗｰ中
ANB X5604                ; 軸3 軸制御中
ANB M1800                ; 搬送Y1 移動完了
ANB M1804                ; 搬送Y1 原点復帰完了
AND T133                 ; 次移動指示ｳｪｲﾄ
OUT M1960                ; Case搬送動作可能
LDB M1803                ; Case搬送Y1移動指示有
TMH K133 K10             ; 次移動指示ｳｪｲﾄ
LDF M1905                ; ﾕﾆｯﾄ1起動中
ZRES M1800 M1805         ; 搬送Y1 移動完了  搬送Y1 原点復帰異常
;<h1/>■自動回路 
;
;運転開始・ステッパ初期化・補助接点へ展開
LD CR2002                ; 常時ON
ZRES M1000 M1499         ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ開始
LDB M1905                ; ﾕﾆｯﾄ1起動中
MOV K0 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1905                 ; ﾕﾆｯﾄ1起動中
MOV D1000 Z1             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
OUT M1000:Z1             ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ開始
;自動運転ステップ開始
;投入位置移動
;Move to Work set point
LD M1000                 ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ開始
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1960                ; Case搬送動作可能
AND M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1001                 ; Y1_P11 move
MPS
DW K11 D1050             ; 搬送Y1   移動No.
CON
OUT @M0                  ; PCB搬送Y軸移動
MPP
AND M1800                ; 搬送Y1 移動完了
RES M1800                ; 搬送Y1 移動完了
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;運転開始時JIG番号ﾁｪｯｸ
;Jig No. check when AUTO start.
LD M1002                 ; Jig No. 確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND= D90 E3420           ; PCB-Transfer Jig ID  PCB-Transfer Jig ID
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND<> D90 E3420          ; PCB-Transfer Jig ID  PCB-Transfer Jig ID
OUT M1963                ; Jig No.異常
;運転開始時ﾜｰｸ残ﾁｪｯｸ
;Remain work check when AUTO start.
LD M1003                 ; 運転開始時ﾜｰｸ残ﾁｪｯｸ
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
TMR K110 K5              ; ﾜｰｸ残検出ｳｪｲﾄ
CON
AND T110                 ; ﾜｰｸ残検出ｳｪｲﾄ
MPS
LDB T1300                ; 投入1_ｹｰｽ検出
ANB T1301                ; 投入1_基板検出
AND T1302                ; 投入1_ｹｰｽ浮き1
AND T1303                ; 投入1_ｹｰｽ浮き2
ANL
DW K12 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LD T1300                 ; 投入1_ｹｰｽ検出
OR T1301                 ; 投入1_基板検出
ORB T1302                ; 投入1_ｹｰｽ浮き1
ORB T1303                ; 投入1_ｹｰｽ浮き2
ANL
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;Err320:Work remain  (when START)
LD M1004                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K320 D148             ; 警報No.
CON
SET M1920                ; Err320:ﾜｰｸ残
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1005                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1006                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
MPS
ANB M1850                ; 取り出し作業確認
DW K3 D1000              ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M1850                ; 取り出し作業確認
DW K15 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;投入位置移動
;Move to Work set point
LD M1010                 ; 投入位置移動
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1960                ; Case搬送動作可能
AND M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
MPS
AND=.L D31410 E2420      ; 軸3 現在座標  Case搬送1_TP_Case投入位置
DW K12 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND<>.L D31410 E2420     ; 軸3 現在座標  Case搬送1_TP_Case投入位置
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1011                 ; Y1_P11 move
MPS
DW K11 D1050             ; 搬送Y1   移動No.
CON
OUT @M1                  ; PCB搬送Y軸移動
MPP
AND M1800                ; 搬送Y1 移動完了
RES M1800                ; 搬送Y1 移動完了
CON
MPS
ANB M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
DW K300 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;日常点検時Case除材確認
;Case remove check when Daily check
LD M1012                 ; 日常点検Case check
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
ANB M39                  ; 日常点検ﾓｰﾄﾞ
DW K15 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M39                  ; 日常点検ﾓｰﾄﾞ
MPS
AND M1851                ; 日常点検治具取り外し確認
DW K15 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
TMR K116 K10             ; 日常点検治具取外し催促
;投入完了待ち
;waiting for Work set up end
LD M1015                 ; Case投入依頼
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
LD M1950                 ; ﾗｲﾄｶｰﾃﾝ  遮光無し
OR T156                  ; 遮光無し （即決）
ANL
MPS
LDB M39                  ; 日常点検ﾓｰﾄﾞ
AND T1300                ; 投入1_ｹｰｽ検出
AND T1301                ; 投入1_基板検出
ANL
MPS
LD T1302                 ; 投入1_ｹｰｽ浮き1
AND T1303                ; 投入1_ｹｰｽ浮き2
ANL
DW K20 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
TMR K111 K10             ; ﾜｰｸ浮き検出ｳｪｲﾄ
CON
AND T111                 ; ﾜｰｸ浮き検出ｳｪｲﾄ
LDB T1302                ; 投入1_ｹｰｽ浮き1
ORB T1303                ; 投入1_ｹｰｽ浮き2
ANL
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
LD M39                   ; 日常点検ﾓｰﾄﾞ
LDB B2055                ; DC_Y2 select
AND B2056                ; DC_D start
OR B205E                 ; DC_PA start
ANL
ANL
DW K400 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LDB T1300                ; 投入1_ｹｰｽ検出
ANB T1301                ; 投入1_基板検出
OR M39                   ; 日常点検ﾓｰﾄﾞ
ANB B2056                ; DC_D start
ANB B205E                ; DC_PA start
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ANL
MPS
ANB M39                  ; 日常点検ﾓｰﾄﾞ
DW K300 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M39                  ; 日常点検ﾓｰﾄﾞ
DW K310 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;Err321:Work floated
LD M1016                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K321 D148             ; 警報No.
CON
SET M1921                ; Err321:ﾜｰｸ浮き
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1017                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1018                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K15 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;▼↓↓↓　Daily check mode　↓↓↓▼
;Err327:Daily check Jig set up demand
LD M1400                 ; DC_Jig装着依頼
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
DW K404 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;治具を在荷ｾﾝｻで確認
;Jig set up check
LD M1404                 ; 在荷確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
MPS
LD T1300                 ; 投入1_ｹｰｽ検出
AND T1301                ; 投入1_基板検出
ANL
MPS
LD T1302                 ; 投入1_ｹｰｽ浮き1
AND T1303                ; 投入1_ｹｰｽ浮き2
ANL
MPS
ANB M45                  ; PAﾁｪｯｸ日常点検
DW K410 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M45                  ; PAﾁｪｯｸ日常点検
DW K20 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LDB T1302                ; 投入1_ｹｰｽ浮き1
ORB T1303                ; 投入1_ｹｰｽ浮き2
ANL
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
ANB T1300                ; 投入1_ｹｰｽ検出
MPS
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
DW K300 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LDB M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND B205A                ; DC_D cancel sw
ANL
DW K15 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;Err321:Work floated
LD M1405                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K321 D148             ; 警報No.
CON
SET M1921                ; Err321:ﾜｰｸ浮き
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1406                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1407                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K404 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;OK flag reset
LD M1410                 ; OK FLG. reset
ANB M40                  ; Y1 Daily check OK
DW K50 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;▲↑↑↑　Daily check mode　↑↑↑▲
;投入後JIG番号ﾁｪｯｸ
;Jig No. check when Case in.
LD M1020                 ; Jig番号確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND= D90 E3420           ; PCB-Transfer Jig ID  PCB-Transfer Jig ID
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND<> D90 E3420          ; PCB-Transfer Jig ID  PCB-Transfer Jig ID
OUT M1964                ; 投入後　  Jig No.異常
LD M1021                 ; PCB受け渡し位置可否判断
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
AND M1960                ; Case搬送動作可能
MPS
LD M1853                 ; PCB搬送　嵌合領域進入可能
AND M2985                ; PCB取出準備
ANL
DW K30 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LDB M1853                ; PCB搬送　嵌合領域進入可能
ORB M2985                ; PCB取出準備
ANL
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;基板受渡待機位置移動　
;Move to Waiting for PCB PASS point
LD M1022                 ; PCB受渡待機位置移動
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
AND M1960                ; Case搬送動作可能
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1023                 ; PCB-T P.12 move
MPS
DW K12 D1050             ; 搬送Y1   移動No.
CON
OUT @M2                  ; PCB搬送Y軸移動
MPP
AND M1800                ; 搬送Y1 移動完了
RES M1800                ; 搬送Y1 移動完了
CON
DW K30 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;基板受渡位置移動　
;Move to PCB PASS point
LD M1030                 ; PCB受渡位置移動
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
LD M1950                 ; ﾗｲﾄｶｰﾃﾝ  遮光無し
ORB R3100                ; Case搬送Y1投入領域
ANL
AND M1960                ; Case搬送動作可能
AND M1853                ; PCB搬送　嵌合領域進入可能
AND M2985                ; PCB取出準備
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1031                 ; PCB-T P.21 move
MPS
DW K21 D1050             ; 搬送Y1   移動No.
CON
OUT @M3                  ; PCB搬送Y軸移動
MPP
AND M1800                ; 搬送Y1 移動完了
MPS
LD T1312                 ; PCB_嵌合位置ﾜｰｸ検出
OR M37                   ; 空運転ﾓｰﾄﾞ
ANL
RES M1800                ; 搬送Y1 移動完了
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LDB T1312                ; PCB_嵌合位置ﾜｰｸ検出
ANB M37                  ; 空運転ﾓｰﾄﾞ
ANL
TMR K124 K30             ; ｴﾗｰﾃﾞｨﾚｲ
CON
AND T124                 ; ｴﾗｰﾃﾞｨﾚｲ
OUT M1916                ; 受渡位置ﾜｰｸ不明
;取出要求
;Pick up demand to PCB-Assy head
LD M1032                 ; 取出し要求
MPS
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND M2986                ; PCB取出完了
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
AND M2987                ; PCB取出異常
DW K34 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LDB M2986                ; PCB取出完了
ANB M2987                ; PCB取出異常
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M2398                ; ﾕﾆｯﾄ2ｻｲｸﾙ停止
LD R3200                 ; PCB-Assy Z 待機領域
OR R3203                 ; PCB-Assy Z 搬送干渉外
ANL
ANL
DW K150 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1976                ; PCB取出要求
LD M1033                 ; 正常完了確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
ANB M2986                ; PCB取出完了
MPS
LD T1312                 ; PCB_嵌合位置ﾜｰｸ検出
OR M37                   ; 空運転ﾓｰﾄﾞ
ANL
MPS
ANB M45                  ; PAﾁｪｯｸ日常点検
DW K50 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M45                  ; PAﾁｪｯｸ日常点検
DW K90 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LDB T1312                ; PCB_嵌合位置ﾜｰｸ検出
ANB M37                  ; 空運転ﾓｰﾄﾞ
ANL
TMR K125 K30             ; ｴﾗｰﾃﾞｨﾚｲ
CON
AND T125                 ; ｴﾗｰﾃﾞｨﾚｲ
OUT M1915                ; 嵌合位置ﾜｰｸ不明2
LD M1034                 ; 異常完了確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
ANB M2987                ; PCB取出異常
DW K150 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;塗布開始点移動　　　　　　　　　　　　　　　　　　＜開始点はARC無し・吐出無し・補完無しでお願いします＞
;Move to bonding start point
LD M1050                 ; 塗布開始点移動
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1960                ; Case搬送動作可能
MPS
ANB M39                  ; 日常点検ﾓｰﾄﾞ
DW K61 D1050             ; 搬送Y1   移動No.
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M39                  ; 日常点検ﾓｰﾄﾞ
DW K101 D1050            ; 搬送Y1   移動No.
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1051                 ; Y1_P61 move
MPS
OUT @M4                  ; PCB搬送Y軸移動
MPP
AND M1800                ; 搬送Y1 移動完了
MPS
LD T1311                 ; 投入1_塗布位置ﾜｰｸ検出
OR M37                   ; 空運転ﾓｰﾄﾞ
OR M39                   ; 日常点検ﾓｰﾄﾞ
ANL
RES M1800                ; 搬送Y1 移動完了
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LDB T1311                ; 投入1_塗布位置ﾜｰｸ検出
ANB M37                  ; 空運転ﾓｰﾄﾞ
ANB M39                  ; 日常点検ﾓｰﾄﾞ
ANL
TMR K120 K30             ; ｴﾗｰﾃﾞｨﾚｲ
CON
AND T120                 ; ｴﾗｰﾃﾞｨﾚｲ
OUT M1917                ; 塗布位置ﾜｰｸ不明
;接着剤塗布要求
;Bonding demand to bonding head
LD M1052                 ; 接着剤塗布要求
MPS
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND M4983                ; Y1へ塗布完了
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
AND M4984                ; Y1へ塗布異常
DW K55 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LDB M4983                ; Y1へ塗布完了
ANB M4984                ; Y1へ塗布異常
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M4398                ; ﾕﾆｯﾄ4ｻｲｸﾙ停止
ANL
DW K150 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1981                ; PCB 塗布要求
;塗布軸とハンドシェイク
;Handshake with Dispence axis
LD M1053                 ; 正常完了確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
ANB M4983                ; Y1へ塗布完了
DW K70 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1055                 ; 異常完了確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
ANB M4984                ; Y1へ塗布異常
DW K150 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;塗布形状測定位置へ移動
;Move to form measurement point
LD M1070                 ; 形状測定位置へ移動
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1960                ; Case搬送動作可能
MPS
ANB M39                  ; 日常点検ﾓｰﾄﾞ
DW K51 D1050             ; 搬送Y1   移動No.
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M39                  ; 日常点検ﾓｰﾄﾞ
DW K54 D1050             ; 搬送Y1   移動No.
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1071                 ; Y1_P24 move
MPS
OUT @M5                  ; PCB搬送Y軸移動
MPP
AND M1800                ; 搬送Y1 移動完了
RES M1800                ; 搬送Y1 移動完了
CON
MPS
ANB M39                  ; 日常点検ﾓｰﾄﾞ
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M39                  ; 日常点検ﾓｰﾄﾞ
DW K420 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;塗布形状測定要求
;Form measurement demand
LD M1072                 ; 形状測定要求
MPS
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND M4988                ; PCB形状測定完了
RES M1810                ; 塗布幅NGﾌﾗｸﾞ
CON
DW K1 D1110              ; Y1形状測定NGﾘﾄﾗｲ回数
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
LDB M44                  ; 接着剤塗布日常点検
AND M4989                ; PCB形状測定異常
ANL
MPS
AND<= D1110 K1           ; Y1形状測定NGﾘﾄﾗｲ回数
DW K74 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND>= D1110 K2           ; Y1形状測定NGﾘﾄﾗｲ回数
SET M1810                ; 塗布幅NGﾌﾗｸﾞ
CON
DW K80 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LDB M5974                ; Y1形状測定完了
ANB M5975                ; Y1形状測定異常
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M4398                ; ﾕﾆｯﾄ4ｻｲｸﾙ停止
LD R3008                 ; 塗布Z　   上空位置
OR R3000                 ; 塗布X　   Case1干渉外
ANL
ANL
DW K150 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1982                ; PCB形状測定要求
LD M1073                 ; 正常完了確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
ANB M4988                ; PCB形状測定完了
DW K90 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;塗布幅ＮＧ塗布開始点移動(計測リトライ動作)
;Move to bonding start point(measurement Retry)
LD M1074                 ; 異常ﾘﾄﾗｲ
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
AND M1960                ; Case搬送動作可能
ANB M4989                ; PCB形状測定異常
DW K2 D1110              ; Y1形状測定NGﾘﾄﾗｲ回数
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1075                 ; Y1_P61 move
MPS
DW K61 D1050             ; 搬送Y1   移動No.
CON
OUT @M22                 ; PCB搬送Y軸移動
MPP
AND M1800                ; 搬送Y1 移動完了
RES M1800                ; 搬送Y1 移動完了
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1076                 ; 移動後待機ﾀｲﾏ
TMR K135 K5              ; 塗布幅NG戻り後待機ﾀｲﾏ
CON
AND T135                 ; 塗布幅NG戻り後待機ﾀｲﾏ
DW K70 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;計測２回異常は排出
;Eject of NG work
LD M1080                 ; 異常完了確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
ANB M4989                ; PCB形状測定異常
DW K1 D1110              ; Y1形状測定NGﾘﾄﾗｲ回数
CON
DW K150 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;嵌合位置へ移動
;Move to Cover set point
LD M1090                 ; 嵌合位置へ移動
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1960                ; Case搬送動作可能
MPS
AND M2993                ; PCB異常除材
DW K150 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LDB M2993                ; PCB異常除材
AND M1853                ; PCB搬送　嵌合領域進入可能
ANL
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1091                 ; Y1_P21 move
MPS
DW K21 D1050             ; 搬送Y1   移動No.
CON
OUT @M6                  ; PCB搬送Y軸移動
MPP
AND M1800                ; 搬送Y1 移動完了
MPS
LD T1312                 ; PCB_嵌合位置ﾜｰｸ検出
OR M37                   ; 空運転ﾓｰﾄﾞ
ANL
RES M1800                ; 搬送Y1 移動完了
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LDB T1312                ; PCB_嵌合位置ﾜｰｸ検出
ANB M37                  ; 空運転ﾓｰﾄﾞ
ANL
TMR K121 K30             ; ｴﾗｰﾃﾞｨﾚｲ
CON
AND T121                 ; ｴﾗｰﾃﾞｨﾚｲ
OUT M1918                ; 嵌合位置ﾜｰｸ不明1
;ｶﾊﾞｰ嵌合要求
;Cover set demand to Cover-Tranfer
LD M1092                 ; 嵌合要求
MPS
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND M2988                ; PCB嵌合完了
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
AND M2989                ; PCB嵌合異常
DW K94 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
AND M2993                ; PCB異常除材
DW K150 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LDB M2988                ; PCB嵌合完了
ANB M2989                ; PCB嵌合異常
ANB M2993                ; PCB異常除材
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M2398                ; ﾕﾆｯﾄ2ｻｲｸﾙ停止
LD R3200                 ; PCB-Assy Z 待機領域
OR R3203                 ; PCB-Assy Z 搬送干渉外
ANL
ANL
DW K150 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1983                ; PCB　嵌合要求
LD M1093                 ; 正常完了確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
ANB M2988                ; PCB嵌合完了
MPS
ANB M45                  ; PAﾁｪｯｸ日常点検
DW K120 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M45                  ; PAﾁｪｯｸ日常点検
DW K124 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1094                 ; 異常完了確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
ANB M2989                ; PCB嵌合異常
DW K150 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;念のため、ﾜｰｸ残確認
;Check for Work remain
LD M1120                 ; ﾜｰｸ残ﾁｪｯｸ
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
ANB T1312                ; PCB_嵌合位置ﾜｰｸ検出
DW K124 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
TMR K112 K10             ; ｴﾗｰﾃﾞｨﾚｲ
CON
AND T112                 ; ｴﾗｰﾃﾞｨﾚｲ
AND T1312                ; PCB_嵌合位置ﾜｰｸ検出
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;Err326:NG work remain on pass position 
LD M1121                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K326 D148             ; 警報No.
CON
SET M1926                ; Err326:排出位置ﾜｰｸ残
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1122                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1123                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K120 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;LC1遮光確認
;LC1 shade check
LD M1124
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
DW K126 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LDB M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
AND M1960                ; Case搬送動作可能
ANL
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1125
MPS
DW K12 D1050             ; 搬送Y1   移動No.
CON
OUT @M26                 ; PCB搬送Y軸移動
MPP
AND M1800                ; 搬送Y1 移動完了
RES M1800                ; 搬送Y1 移動完了
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;投入位置移動
;Move to Work set point
LD M1126                 ; 投入位置へ戻り
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1960                ; Case搬送動作可能
AND M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1127                 ; Y1_P11 move
MPS
DW K11 D1050             ; 搬送Y1   移動No.
CON
OUT @M8                  ; PCB搬送Y軸移動
MPP
AND M1800                ; 搬送Y1 移動完了
RES M1800                ; 搬送Y1 移動完了
CON
MPS
ANB M45                  ; PAﾁｪｯｸ日常点検
DW K300 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M45                  ; PAﾁｪｯｸ日常点検
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;▼↓↓↓　Daily check mode　↓↓↓▼
LD M1128                 ; 結果判定依頼
MPS
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND B1518                ; DC_PA OK sw
SET M42                  ; PA Daily check OK
CON
DW K10 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
AND B1519                ; DC_PA NG sw
RES M42                  ; PA Daily check OK
CON
DW K10 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND B151A                ; DC_PA Retry sw
RES M42                  ; PA Daily check OK
CON
DW K400 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1991                ; DC_作業者OK確認依頼画面表示2
;▲↑↑↑　Daily check mode　↑↑↑▲
;★★★　異常有ﾜｰｸ排出動作　★★★
;Eject of NG work　
LD M1150                 ; 投入位置へ戻り
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
OUT M1988                ; PCB除材了解
LD M1150                 ; 投入位置へ戻り
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
AND M1960                ; Case搬送動作可能
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1151                 ; Y1_P11 move
MPS
DW K11 D1050             ; 搬送Y1   移動No.
CON
OUT @M9                  ; PCB搬送Y軸移動
MPP
AND M1800                ; 搬送Y1 移動完了
RES M1800                ; 搬送Y1 移動完了
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;Err325:NG work remove demand 
LD M1152                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
MPS
ANB M1810                ; 塗布幅NGﾌﾗｸﾞ
DW K325 D148             ; 警報No.
CON
SET M1925                ; Err325:NGﾜｰｸ除材要求
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M1810                ; 塗布幅NGﾌﾗｸﾞ
DW K330 D148             ; 警報No.
CON
SET M1930                ; Err330:塗布幅NG
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1153                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1154                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
MPS
AND M1850                ; 取り出し作業確認
MPS
AND M1810                ; 塗布幅NGﾌﾗｸﾞ
DW K160 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
ANB M1810                ; 塗布幅NGﾌﾗｸﾞ
DW K300 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
ANB M1850                ; 取り出し作業確認
DW K152 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;塗布幅NGの場合Caseのみ投入（PCB救済　給材されたら塗布から再開）
;Only Case in when width check NG
LD M1160                 ; ﾌﾗｸﾞﾘｾｯﾄ
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
RES M1810                ; 塗布幅NGﾌﾗｸﾞ
CON
ANB M1810                ; 塗布幅NGﾌﾗｸﾞ
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1161                 ; ｹｰｽ投入待ち
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
AND T1300                ; 投入1_ｹｰｽ検出
MPS
LD T1302                 ; 投入1_ｹｰｽ浮き1
AND T1303                ; 投入1_ｹｰｽ浮き2
ANL
MPS
ANB T1301                ; 投入1_基板検出
MPS
AND= D90 E3420           ; PCB-Transfer Jig ID  PCB-Transfer Jig ID
DW K50 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND<> D90 E3420          ; PCB-Transfer Jig ID  PCB-Transfer Jig ID
OUT M1965                ; 投入後　  Jig No.異常
MPP
AND T1301                ; 投入1_基板検出
DW K163 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
TMR K117 K10             ; ﾜｰｸ浮き検出ｳｪｲﾄ
CON
AND T117                 ; ﾜｰｸ浮き検出ｳｪｲﾄ
LDB T1302                ; 投入1_ｹｰｽ浮き1
ORB T1303                ; 投入1_ｹｰｽ浮き2
ANL
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;Err321:Work floated
LD M1162                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K321 D148             ; 警報No.
CON
SET M1921                ; Err321:ﾜｰｸ浮き
CON
DW K164 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;Err331:Request for Only Case
LD M1163                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K331 D148             ; 警報No.
CON
SET M1931                ; Err331:ｹｰｽのみ投入依頼
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;
LD M1164                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1165                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K161 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;★★★
;▼↓↓↓　Daily check mode　↓↓↓▼
;Y1日常点検　形状測定要求
;Request of form measurement
LD>= D1000 K420          ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
AND< D1000 K430          ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
OUT M1984                ; DC_Y1形状測定要求
;Y1日常点検　形状測定終了位置移動要求待ち
;Waiting for Request of Move to form measurement End point
LD M1420                 ; 形状測定依頼待ち
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M4691                ; DC1形状測定終了位置移動要求
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;Y1日常点検　形状測定終了位置移動
;Move to form measurement End point
LD M1421                 ; Case1搬送DC測定終了位置移動
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1960                ; Case搬送動作可能
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1422                 ; Y1_P55
MPS
DW K55 D1050             ; 搬送Y1   移動No.
CON
OUT @M23                 ; PCB搬送Y軸移動
MPP
AND M1800                ; 搬送Y1 移動完了
RES M1800                ; 搬送Y1 移動完了
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;移動終了ﾊﾝﾄﾞｼｪｲｸ
;Hand shake of move end
LD M1423                 ; 移動終了ﾊﾝﾄﾞｼｪｲｸ
MPS
LD M1913                 ; UNIT1     ｴﾗｰ・PAUSE無し
ANB M4691                ; DC1形状測定終了位置移動要求
ANL
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1691                ; DC形状測定終了位置移動完了
;測定終了ﾊﾝﾄﾞｼｪｲｸ
;Hand shake of measurement end
LD M1424                 ; 測定終了ﾊﾝﾄﾞｼｪｲｸ
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M4692                ; Y1_DC形状測定完了
DW K430 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;投入位置移動
;Move to Work set point
LD M1430                 ; Case1搬送投入位置戻り
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1960                ; Case搬送動作可能
AND M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1431                 ; Y1_P11
MPS
DW K11 D1050             ; 搬送Y1   移動No.
CON
OUT @M10                 ; PCB搬送Y軸移動
MPP
AND M1800                ; 搬送Y1 移動完了
RES M1800                ; 搬送Y1 移動完了
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1432                 ; 結果判定依頼
MPS
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND B1514                ; DC_OK sw
SET M40                  ; Y1 Daily check OK
CON
DW K10 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
AND B1516                ; DC_NG sw
RES M40                  ; Y1 Daily check OK
CON
DW K10 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND B1515                ; DC_Retry sw
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1990                ; DC_作業者OK確認依頼画面表示1
LD M1433                 ; 治具取り外し確認
MPS
LD M1913                 ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1851                ; 日常点検治具取り外し確認
ANL
DW K400 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
TMR K115 K10             ; 日常点検治具取外し催促
;▲↑↑↑　Daily check mode　↑↑↑▲
;サイクル停止条件
;Cycle end check
LD M1300                 ; 1ｻｲｸﾙ終了
MPS
ANB M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
DW K10 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1301                 ; 投入位置戻り
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1960                ; Case搬送動作可能
AND M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1302                 ; Y1_P11 move
MPS
DW K11 D1050             ; 搬送Y1   移動No.
CON
OUT @M11                 ; PCB搬送Y軸移動
MPP
AND M1800                ; 搬送Y1 移動完了
RES M1800                ; 搬送Y1 移動完了
CON
DW K397 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;▼↓↓↓　Daily check mode　↓↓↓▼
LD M1310                 ; 治具取り外し待ち
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
LDB T1300                ; 投入1_ｹｰｽ検出
ANB T1301                ; 投入1_基板検出
AND T1302                ; 投入1_ｹｰｽ浮き1
AND T1302                ; 投入1_ｹｰｽ浮き1
AND M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
ANL
DW K397 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LD T1300                 ; 投入1_ｹｰｽ検出
OR T1301                 ; 投入1_基板検出
ORB T1302                ; 投入1_ｹｰｽ浮き1
ORB T1302                ; 投入1_ｹｰｽ浮き1
ANL
TMR K114 K100            ; 日常点検治具取外し催促
TMR K118 K2              ; 日常点検治具取外し催促ﾗﾝﾌﾟ
;▲↑↑↑　Daily check mode　↑↑↑▲
LD M1397                 ; ｻｲｸﾙ終了
@MOV K398 D1000          ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;終了
;Unit AUTO cycle end
LD M1398                 ; ﾕﾆｯﾄ1ｻｲｸﾙ停止
MPS
LD M70                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M72                  ; 全ﾕﾆｯﾄ停止確認
ANL
@MOV K399 D1000          ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
ANB M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
DW K10 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;<h1/>■原点復帰回路
;
;運転開始・ステッパ初期化・補助接点へ展開
LD CR2002                ; 常時ON
ZRES M1500 M1599         ; ﾕﾆｯﾄ1原点復帰開始
LDB M1904                ; ﾕﾆｯﾄ1原点復帰中
MOV K0 D1010             ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1904                 ; ﾕﾆｯﾄ1原点復帰中
MOV D1010 Z1             ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
OUT M1500:Z1             ; ﾕﾆｯﾄ1原点復帰開始
;原点復帰ステップ開始
;Origin start
LD M1500                 ; ﾕﾆｯﾄ1原点復帰開始
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M4975                ; 塗布Z軸　原点復帰完了
AND M2995                ; PCB嵌合Z軸　原点復帰完了
AND M1960                ; Case搬送動作可能
ANB X5604                ; 軸3 軸制御中
AND M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
@INC D1010               ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;搬送Y　原点復帰
;Transport-Y1 HOME start
LD M1501                 ; Y1原点復帰中
MPS
MCALL ORIGIN_K K4 K3 M1805 M1804;搬送Y1 原点復帰異常  搬送Y1 原点復帰完了
MPP
AND M1804                ; 搬送Y1 原点復帰完了
RES M1804                ; 搬送Y1 原点復帰完了
CON
MPS
AND M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
@INC D1010               ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
ANB M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
DW K0 D1010              ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;搬送Y　投入位置移動
;Y1 Point4 move
LD M1502
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1960                ; Case搬送動作可能
@INC D1010               ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1503                 ; Y1 P11移動中
MPS
DW K11 D1050             ; 搬送Y1   移動No.
CON
OUT @M12                 ; PCB搬送Y軸移動
MPP
AND M1800                ; 搬送Y1 移動完了
RES M1800                ; 搬送Y1 移動完了
CON
@INC D1010               ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;ﾜｰｸ有無Check
;Work check
LD M1504                 ; ﾜｰｸﾁｪｯｸ
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
TMR K101 K5              ; ﾜｰｸ無し確認ﾃﾞｨﾚｲ
CON
AND T101                 ; ﾜｰｸ無し確認ﾃﾞｨﾚｲ
MPS
LDB T1300                ; 投入1_ｹｰｽ検出
ANB T1301                ; 投入1_基板検出
AND T1302                ; 投入1_ｹｰｽ浮き1
AND T1303                ; 投入1_ｹｰｽ浮き2
ANL
DW K70 D1010             ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
LD T1300                 ; 投入1_ｹｰｽ検出
OR T1301                 ; 投入1_基板検出
ORB T1302                ; 投入1_ｹｰｽ浮き1
ORB T1303                ; 投入1_ｹｰｽ浮き2
ANL
@INC D1010               ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;***　ﾜｰｸ有り時処理
;Work remain
LD M1505                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K320 D148             ; 警報No.
CON
SET M1920                ; Err320:ﾜｰｸ残
CON
@INC D1010               ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1506                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D1010               ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1507                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K4 D1010              ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;***
;原点復帰終了
LD M1570                 ; 原点復帰動作完了
AND M1900                ; ﾕﾆｯﾄ1原点
OUT M1578                ; ﾕﾆｯﾄ1原点復帰完了
LD M1578                 ; ﾕﾆｯﾄ1原点復帰完了
ANB M98                  ; 原点復帰開始
@MOV K79 D1010           ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;<h1/>■手動回路 
;
LD M33                   ; 手動ﾓｰﾄﾞ
AND M34                  ; ﾒｲﾝ手動操作可能条件
ANB M1905                ; ﾕﾆｯﾄ1起動中
ANB M97                  ; 原点復帰動作中
MC
;Case-Transfer Y1
LD M1960                 ; Case搬送動作可能
AND M1950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
ANB M1800                ; 搬送Y1 移動完了
ANB M1801                ; 搬送Y1 移動異常
ANB M1802                ; 搬送Y1 移動中
LD R3200                 ; PCB-Assy Z 待機領域
OR R3203                 ; PCB-Assy Z 搬送干渉外
ANL
AND R3600                ; 除材1Y    受取干渉外
ANB M7802                ; PCB排出Y 移動指示中
ANB M2802                ; PCB嵌合Z 指示移動中
ANB Y2168                ; PCB移載ﾍｯﾄﾞ 下降
AND Y2169                ; PCB移載ﾍｯﾄﾞ 上昇
AND T1607                ; PCB移載ﾍｯﾄﾞ 上昇限
OUT M1610                ; ｹｰｽ搬送Y1動作可
LD CR2002                ; 常時ON
MPS
LDP B1080                ; 搬送Y1_投入位置移動PB
AND M1610                ; ｹｰｽ搬送Y1動作可
OR M1611                 ; Y1_P11移動
ANB M1800                ; 搬送Y1 移動完了
ANL
OUT M1611                ; Y1_P11移動
DW K11 D1050             ; 搬送Y1   移動No.
CON
OUT @M13                 ; PCB搬送Y軸移動
MPP
ANF M1611                ; Y1_P11移動
RES M1800                ; 搬送Y1 移動完了
LD CR2002                ; 常時ON
MPS
LDP B1081                ; 搬送Y1_塗布位置移動PB
AND M1610                ; ｹｰｽ搬送Y1動作可
OR M1612                 ; Y1_P61移動
ANB M1800                ; 搬送Y1 移動完了
ANL
OUT M1612                ; Y1_P61移動
DW K61 D1050             ; 搬送Y1   移動No.
CON
OUT @M14                 ; PCB搬送Y軸移動
MPP
ANF M1612                ; Y1_P61移動
RES M1800                ; 搬送Y1 移動完了
LD CR2002                ; 常時ON
MPS
LDP B1082                ; 搬送Y1_測定位置移動PB
AND M1610                ; ｹｰｽ搬送Y1動作可
OR M1613                 ; Y1_P51移動
ANB M1800                ; 搬送Y1 移動完了
ANL
OUT M1613                ; Y1_P51移動
DW K51 D1050             ; 搬送Y1   移動No.
CON
OUT @M15                 ; PCB搬送Y軸移動
MPP
ANF M1613                ; Y1_P51移動
RES M1800                ; 搬送Y1 移動完了
LD CR2002                ; 常時ON
MPS
LDP B1083                ; 搬送Y1_嵌合位置移動PB
AND M1610                ; ｹｰｽ搬送Y1動作可
AND R3600                ; 除材1Y    受取干渉外
AND R3203                ; PCB-Assy Z 搬送干渉外
AND T1607                ; PCB移載ﾍｯﾄﾞ 上昇限
OR M1614                 ; Y1_P21移動
ANB M1800                ; 搬送Y1 移動完了
ANL
OUT M1614                ; Y1_P21移動
DW K21 D1050             ; 搬送Y1   移動No.
CON
OUT @M16                 ; PCB搬送Y軸移動
MPP
ANF M1614                ; Y1_P21移動
RES M1800                ; 搬送Y1 移動完了
LD CR2002                ; 常時ON
MPS
LDP B1084                ; 搬送Y1_待機位置移動PB
AND M1610                ; ｹｰｽ搬送Y1動作可
OR M1615                 ; Y1_P12移動
ANB M1800                ; 搬送Y1 移動完了
ANL
OUT M1615                ; Y1_P12移動
DW K12 D1050             ; 搬送Y1   移動No.
CON
OUT @M25                 ; PCB搬送Y軸移動
MPP
ANF M1615                ; Y1_P12移動
RES M1800                ; 搬送Y1 移動完了
LD CR2002                ; 常時ON
MPS
LDP B1086                ; 搬送Y1_DC測定開始位置
AND M1610                ; ｹｰｽ搬送Y1動作可
OR M1620                 ; Y1_P12移動
ANB M1800                ; 搬送Y1 移動完了
ANL
OUT M1620                ; Y1_P12移動
DW K54 D1050             ; 搬送Y1   移動No.
CON
OUT @M19                 ; PCB搬送Y軸移動
MPP
ANF M1620                ; Y1_P12移動
RES M1800                ; 搬送Y1 移動完了
LD CR2002                ; 常時ON
MPS
LDP B1087                ; 搬送Y1_DC測定終了位置
AND M1610                ; ｹｰｽ搬送Y1動作可
OR M1621                 ; Y1_P54 move
ANB M1800                ; 搬送Y1 移動完了
ANL
OUT M1621                ; Y1_P54 move
DW K55 D1050             ; 搬送Y1   移動No.
CON
OUT @M20                 ; PCB搬送Y軸移動
MPP
ANF M1621                ; Y1_P54 move
RES M1800                ; 搬送Y1 移動完了
LD CR2002                ; 常時ON
MPS
LDP B1089                ; 搬送Y1_日常点検位置移動PB
AND M1610                ; ｹｰｽ搬送Y1動作可
OR M1622                 ; Y1_P101 move
ANB M1800                ; 搬送Y1 移動完了
ANL
OUT M1622                ; Y1_P101 move
DW K101 D1050            ; 搬送Y1   移動No.
CON
OUT @M21                 ; PCB搬送Y軸移動
MPP
ANF M1622                ; Y1_P101 move
RES M1800                ; 搬送Y1 移動完了
;Jog
LD X561D                 ; 軸3 ｻｰﾎﾞﾚﾃﾞｨ
ANB X5600                ; 軸3 軸ｴﾗｰ中
AND>=.L D31410 +0        ; 軸3 現在座標
AND<=.L D31410 +100200   ; 軸3 現在座標
MPS
AND B2104                ; CaseY1軸+JOG PB
OUT Y5570                ; 軸3 JOG正方向
MPP
AND B2105                ; CaseY1軸-JOG PB
OUT Y5571                ; 軸3 JOG負方向
MCR
;<h1/>出力回路
;搬送Y軸
;PCB-Slider Y axis
LDB @M0                  ; PCB搬送Y軸移動
ANB @M1                  ; PCB搬送Y軸移動
ANB @M2                  ; PCB搬送Y軸移動
ANB @M3                  ; PCB搬送Y軸移動
ANB @M4                  ; PCB搬送Y軸移動
ANB @M5                  ; PCB搬送Y軸移動
ANB @M6                  ; PCB搬送Y軸移動
ANB @M7                  ; PCB搬送Y軸移動
ANB @M8                  ; PCB搬送Y軸移動
ANB @M9                  ; PCB搬送Y軸移動
ANB @M10                 ; PCB搬送Y軸移動
ANB @M11                 ; PCB搬送Y軸移動
ANB @M12                 ; PCB搬送Y軸移動
ANB @M13                 ; PCB搬送Y軸移動
ANB @M14                 ; PCB搬送Y軸移動
ANB @M15                 ; PCB搬送Y軸移動
ANB @M16                 ; PCB搬送Y軸移動
ANB @M17                 ; PCB搬送Y軸移動
ANB @M18                 ; PCB搬送Y軸移動
ANB @M19                 ; PCB搬送Y軸移動
ANB @M20                 ; PCB搬送Y軸移動
ANB @M21                 ; PCB搬送Y軸移動
ANB @M22                 ; PCB搬送Y軸移動
ANB @M23                 ; PCB搬送Y軸移動
ANB @M24                 ; PCB搬送Y軸移動
ANB @M25                 ; PCB搬送Y軸移動
ANB @M26                 ; PCB搬送Y軸移動
ANB R31700               ; Case搬送Y1起動
ANB R31701               ; Case搬送Y1起動
ANB R32000               ; Case搬送Y1移動
INV
OUT M1803                ; Case搬送Y1移動指示有
LD M1803                 ; Case搬送Y1移動指示有
MCALL P_MOVE_K K4 K3 D1050 M1801 M1800 M1802;搬送Y1   移動No.  搬送Y1 移動異常  搬送Y1 移動完了  搬送Y1 移動中
;<h1/>異常検出
;
LD CR2002                ; 常時ON
MPS
LD M1963                 ; Jig No.異常
OR M1964                 ; 投入後　  Jig No.異常
OR M1965                 ; 投入後　  Jig No.異常
LDB B0520                ; ﾕﾆｯﾄ1_異常1BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B020                 ; ﾕﾆｯﾄ1_Jig番号異常
ORL
ANL
OUT B020                 ; ﾕﾆｯﾄ1_Jig番号異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0520                 ; ﾕﾆｯﾄ1_異常1BZ停止
AND B020                 ; ﾕﾆｯﾄ1_Jig番号異常
ANL
OUT B0520                ; ﾕﾆｯﾄ1_異常1BZ停止
LD M541                  ; SMA431ｱﾗｰﾑﾘｾｯﾄ
AND X5635                ; 軸3 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
LD M64                   ; 運転準備
AND X5600                ; 軸3 軸ｴﾗｰ中
ORL
TMR K190 K30             ; SMA431ｱﾗｰﾑ
LD CR2002                ; 常時ON
MPS
LD T190                  ; SMA431ｱﾗｰﾑ
LDB B0521                ; ﾕﾆｯﾄ1_異常2BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B021                 ; SMA431ｱﾗｰﾑ
ORL
ANL
OUT B021                 ; SMA431ｱﾗｰﾑ
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0521                 ; ﾕﾆｯﾄ1_異常2BZ停止
AND B021                 ; SMA431ｱﾗｰﾑ
ANL
OUT B0521                ; ﾕﾆｯﾄ1_異常2BZ停止
LD CR2002                ; 常時ON
MPS
LD CR2003                ; 常時OFF
LDB B0522                ; ﾕﾆｯﾄ1_異常3BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B022                 ; ﾕﾆｯﾄ1_異常3
ORL
ANL
OUT B022                 ; ﾕﾆｯﾄ1_異常3
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0522                 ; ﾕﾆｯﾄ1_異常3BZ停止
AND B022                 ; ﾕﾆｯﾄ1_異常3
ANL
OUT B0522                ; ﾕﾆｯﾄ1_異常3BZ停止
LD CR2002                ; 常時ON
MPS
LD CR2003                ; 常時OFF
LDB B0523                ; ﾕﾆｯﾄ1_異常4BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B023                 ; ﾕﾆｯﾄ1_異常4
ORL
ANL
OUT B023                 ; ﾕﾆｯﾄ1_異常4
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0523                 ; ﾕﾆｯﾄ1_異常4BZ停止
AND B023                 ; ﾕﾆｯﾄ1_異常4
ANL
OUT B0523                ; ﾕﾆｯﾄ1_異常4BZ停止
LD CR2002                ; 常時ON
MPS
LD CR2003                ; 常時OFF
LDB B0524                ; ﾕﾆｯﾄ1_異常5BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B024                 ; ﾕﾆｯﾄ1_異常5
ORL
ANL
OUT B024                 ; ﾕﾆｯﾄ1_異常5
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0524                 ; ﾕﾆｯﾄ1_異常5BZ停止
AND B024                 ; ﾕﾆｯﾄ1_異常5
ANL
OUT B0524                ; ﾕﾆｯﾄ1_異常5BZ停止
LD CR2002                ; 常時ON
MPS
LD M1917                 ; 塗布位置ﾜｰｸ不明
LDB B0525                ; ﾕﾆｯﾄ1_異常6BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B025                 ; 塗布位置ﾜｰｸ行方不明
ORL
ANL
OUT B025                 ; 塗布位置ﾜｰｸ行方不明
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0525                 ; ﾕﾆｯﾄ1_異常6BZ停止
AND B025                 ; 塗布位置ﾜｰｸ行方不明
ANL
OUT B0525                ; ﾕﾆｯﾄ1_異常6BZ停止
LD CR2002                ; 常時ON
MPS
LD M1915                 ; 嵌合位置ﾜｰｸ不明2
OR M1916                 ; 受渡位置ﾜｰｸ不明
OR M1918                 ; 嵌合位置ﾜｰｸ不明1
LDB B0526                ; ﾕﾆｯﾄ1_異常7BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B026                 ; 嵌合位置ﾜｰｸ行方不明
ORL
ANL
OUT B026                 ; 嵌合位置ﾜｰｸ行方不明
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0526                 ; ﾕﾆｯﾄ1_異常7BZ停止
AND B026                 ; 嵌合位置ﾜｰｸ行方不明
ANL
OUT B0526                ; ﾕﾆｯﾄ1_異常7BZ停止
LD CR2002                ; 常時ON
MPS
LD CR2003                ; 常時OFF
LDB B0527                ; ﾕﾆｯﾄ1_異常8BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B027                 ; ﾕﾆｯﾄ1_異常8
ORL
ANL
OUT B027                 ; ﾕﾆｯﾄ1_異常8
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0527                 ; ﾕﾆｯﾄ1_異常8BZ停止
AND B027                 ; ﾕﾆｯﾄ1_異常8
ANL
OUT B0527                ; ﾕﾆｯﾄ1_異常8BZ停止
;異常ﾌﾞｻﾞｰまとめ
LD B020                  ; ﾕﾆｯﾄ1_Jig番号異常
ANB B0520                ; ﾕﾆｯﾄ1_異常1BZ停止
LD B021                  ; SMA431ｱﾗｰﾑ
ANB B0521                ; ﾕﾆｯﾄ1_異常2BZ停止
ORL
LD B022                  ; ﾕﾆｯﾄ1_異常3
ANB B0522                ; ﾕﾆｯﾄ1_異常3BZ停止
ORL
LD B023                  ; ﾕﾆｯﾄ1_異常4
ANB B0523                ; ﾕﾆｯﾄ1_異常4BZ停止
ORL
LD B024                  ; ﾕﾆｯﾄ1_異常5
ANB B0524                ; ﾕﾆｯﾄ1_異常5BZ停止
ORL
LD B025                  ; 塗布位置ﾜｰｸ行方不明
ANB B0525                ; ﾕﾆｯﾄ1_異常6BZ停止
ORL
LD B026                  ; 嵌合位置ﾜｰｸ行方不明
ANB B0526                ; ﾕﾆｯﾄ1_異常7BZ停止
ORL
LD B027                  ; ﾕﾆｯﾄ1_異常8
ANB B0527                ; ﾕﾆｯﾄ1_異常8BZ停止
ORL
LD B028                  ; ﾕﾆｯﾄ1_異常9
ANB B0528                ; ﾕﾆｯﾄ1_異常9BZ停止
ORL
OUT M1909                ; ﾕﾆｯﾄ1異常BZ補助
END
ENDH
