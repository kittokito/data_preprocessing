DEVICE:53
;MODULE:Product
;MODULE_TYPE:0
;SCRIPT_TYPE:
LDP M65                  ; 即停止異常(緊急停止)
ZRES @M0 @M99            ; ﾌﾗｯｼｭROM書込開始
;レシピ管理 / Recipe manegement
;Type data LOAD
LD= D12000 K410          ; 表示画面No.
OR= D12000 K300          ; 表示画面No.
@MOV E55 E57             ; Type No.  Type No.記憶
LDP B200D                ; Product No. cancel sw
MOV E57 E55              ; Type No.記憶  Type No.
;FMOV(#0,E2000,#3000)
;Z7 = (E55-1)*3000
;BMOV(E5000:Z7,E2000,#3000)
;set(@M80)
LDP B2000                ; Type No. set
ORP B200C                ; Product No. set sw
AND<> E55 E57            ; Type No.  Type No.記憶
ORP B2001                ; Read sw
ORP @M61                 ; Y1側修正完了
ORP @M71                 ; Y2側修正完了
NCJ K1000
;FMOV(#0,E2000,#3000)
;
LD CR2002                ; 常時ON
FMOV K0 E2000 K3000      ; X_P61
;Z7 = (E55-1)*3000
;
LD CR2002                ; 常時ON
LDA E55                  ; Type No.
CON
EXT
CON
SUB.L +1
CON
MUL.L +3000
CON
STA.L Z7
;BMOV(E5000:Z7,E2000,#3000)
;
LD CR2002                ; 常時ON
BMOV E5000:Z7 E2000 K3000; X_P61
;set(@M80)
LD CR2002                ; 常時ON
SET @M80                 ; 機種ﾃﾞｰﾀ書込開始
LABEL K1000
;
STG @M80                 ; 機種ﾃﾞｰﾀ書込開始
TMH @1 K2                ; 書込みﾃﾞｨﾚｲ
CON
AND @T1                  ; 書込みﾃﾞｨﾚｲ
SET R30605               ; ﾚｼﾋﾟﾃﾞｰﾀ  SET中
CON
SET R32100               ; 通常生産用閾値書込
CON
SET @M45                 ; KEYENCE全ﾃﾞｰﾀ書込開始
CON
JMP @M83                 ; 機種ﾃﾞｰﾀ書込完(KEYENCE)
STG @M83                 ; 機種ﾃﾞｰﾀ書込完(KEYENCE)
AND @M46                 ; KEYENCE全ﾃﾞｰﾀ書込完了
RES @M46                 ; KEYENCE全ﾃﾞｰﾀ書込完了
CON
SET @M50                 ; KEYENCE塗布ﾃﾞｰﾀ書込開始
CON
SET @M100                ; IAI全ﾃﾞｰﾀ転送開始
CON
JMP @M84                 ; 機種ﾃﾞｰﾀ書込完待ち(SMC)
STG @M84                 ; 機種ﾃﾞｰﾀ書込完待ち(SMC)
AND @M51                 ; KEYENCE塗布ﾃﾞｰﾀ書込完了
AND @M38                 ; SMC全転送完了
AND R32101               ; SNU閾値書込完了FLG.
JMP @M85                 ; 機種ﾃﾞｰﾀ書込完
STG @M85                 ; 機種ﾃﾞｰﾀ書込完
RES R32100               ; 通常生産用閾値書込
CON
RES @M61                 ; Y1側修正完了
CON
RES @M71                 ; Y2側修正完了
CON
RES @M51                 ; KEYENCE塗布ﾃﾞｰﾀ書込完了
CON
RES @M38                 ; SMC全転送完了
CON
RES R30605               ; ﾚｼﾋﾟﾃﾞｰﾀ  SET中
CON
SET @M0                  ; ﾌﾗｯｼｭROM書込開始
CON
ENDS
LDP B2000                ; Type No. set
ORP B2001                ; Read sw
UREAD K4 K14166 D200 K2  ; 塗布X軸JOG速度[0.00]
UREAD K4 K14216 D202 K2  ; 塗布Z軸JOG速度[0.00]
UREAD K4 K14266 D204 K2  ; CaseY1軸JOG速度[0.00]
UREAD K4 K14316 D206 K2  ; CaseY2軸JOG速度[0.00]
;Type data SAVE
;Z1 = (E55-1)*3000
;BMOV(E2000,E5000:Z1,#3000)
;SET(@M0)
LDP B2002                ; Write sw
NCJ K1001
;Z1 = (E55-1)*3000
;
LD CR2002                ; 常時ON
LDA E55                  ; Type No.
CON
EXT
CON
SUB.L +1
CON
MUL.L +3000
CON
STA.L Z1
;BMOV(E2000,E5000:Z1,#3000)
;
LD CR2002                ; 常時ON
BMOV E2000 E5000:Z1 K3000; X_P61
;SET(@M0)
LD CR2002                ; 常時ON
SET @M0                  ; ﾌﾗｯｼｭROM書込開始
LABEL K1001
;
LDP @M0                  ; ﾌﾗｯｼｭROM書込開始
ANB X528C                ; ﾌﾗｯｼｭROM書込完了
SET Y516C                ; ﾌﾗｯｼｭROM書込要求
LD X528C                 ; ﾌﾗｯｼｭROM書込完了
MPS
RES @M0                  ; ﾌﾗｯｼｭROM書込開始
CON
RES Y516C                ; ﾌﾗｯｼｭROM書込要求
MRD
UREAD K4 K105 @D0 K1     ; Type No.
MPP
AND<> K0 @D0             ; Type No.
OUT R30606               ; ﾌﾗｯｼｭROM書込み異常
;Temprary Input
LD< D12000 K411          ; 表示画面No.
OR> D12000 K499          ; 表示画面No.
OR X528C                 ; ﾌﾗｯｼｭROM書込完了
ZRES R30000 R30603       ; P1_set  P100_set
CON
ZRES R31001 R31205       ; R1P1_set  R2SC_P3_set
CON
ZRES R31300 R31508       ; P101_set  Sensor threshold set
LDB R30608               ; P61-P100 転送中
ANB R30914               ; K転送中
ANB R30800               ; KK転送中
ANB R30908               ; KKK転送中
INV
OUT R30607               ; 転送中ﾃﾞｰﾀ有り
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
TMH @0 K10               ; 転送可能
;ﾎﾟｲﾝﾄﾃﾞｰﾀ格納
;目標座標ﾊﾞｯﾌｧｴﾘｱは 18016+32*(軸番号-1)+512*(Point番号-1)
;速度ﾊﾞｯﾌｧｴﾘｱは     18028+32*(軸番号-1)+512*(Point番号-1)
;P61-P100
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
MPS
ANP E3200.6              ; P61 Temp.Input sw
SET R30312               ; P61_set
CON
DW K61 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3201.6              ; P62 Temp.Input sw
SET R30313               ; P62_set
CON
DW K62 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3202.6              ; P63 Temp.Input sw
SET R30314               ; P63_set
CON
DW K63 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3203.6              ; P64 Temp.Input sw
SET R30315               ; P64_set
CON
DW K64 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3204.6              ; P65 Temp.Input sw
SET R30400               ; P65_set
CON
DW K65 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3205.6              ; P66 Temp.Input sw
SET R30401               ; P66_set
CON
DW K66 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3206.6              ; P67 Temp.Input sw
SET R30402               ; P67_set
CON
DW K67 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3207.6              ; P68 Temp.Input sw
SET R30403               ; P68_set
CON
DW K68 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3208.6              ; P69 Temp.Input sw
SET R30404               ; P69_set
CON
DW K69 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3209.6              ; P70 Temp.Input sw
SET R30405               ; P70_set
CON
DW K70 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3210.6              ; P71 Temp.Input sw
SET R30406               ; P71_set
CON
DW K71 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3211.6              ; P72 Temp.Input sw
SET R30407               ; P72_set
CON
DW K72 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3212.6              ; P73 Temp.Input sw
SET R30408               ; P73_set
CON
DW K73 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3213.6              ; P74 Temp.Input sw
SET R30409               ; P74_set
CON
DW K74 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3214.6              ; P75 Temp.Input sw
SET R30410               ; P75_set
CON
DW K75 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3215.6              ; P76 Temp.Input sw
SET R30411               ; P76_set
CON
DW K76 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3216.6              ; P77 Temp.Input sw
SET R30412               ; P77_set
CON
DW K77 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3217.6              ; P78 Temp.Input sw
SET R30413               ; P78_set
CON
DW K78 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3218.6              ; P79 Temp.Input sw
SET R30414               ; P79_set
CON
DW K79 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3219.6              ; P80 Temp.Input sw
SET R30415               ; P80_set
CON
DW K80 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3220.6              ; P81 Temp.Input sw
SET R30500               ; P81_set
CON
DW K81 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3221.6              ; P82 Temp.Input sw
SET R30501               ; P82_set
CON
DW K82 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3222.6              ; P83 Temp.Input sw
SET R30502               ; P83_set
CON
DW K83 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3223.6              ; P84 Temp.Input sw
SET R30503               ; P84_set
CON
DW K84 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3224.6              ; P85 Temp.Input sw
SET R30504               ; P85_set
CON
DW K85 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3225.6              ; P86 Temp.Input sw
SET R30505               ; P86_set
CON
DW K86 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3226.6              ; P87 Temp.Input sw
SET R30506               ; P87_set
CON
DW K87 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3227.6              ; P88 Temp.Input sw
SET R30507               ; P88_set
CON
DW K88 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3228.6              ; P89 Temp.Input sw
SET R30508               ; P89_set
CON
DW K89 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3229.6              ; P90 Temp.Input sw
SET R30509               ; P90_set
CON
DW K90 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3230.6              ; P91 Temp.Input sw
SET R30510               ; P91_set
CON
DW K91 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3231.6              ; P92 Temp.Input sw
SET R30511               ; P92_set
CON
DW K92 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3232.6              ; P93 Temp.Input sw
SET R30512               ; P93_set
CON
DW K93 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3233.6              ; P94 Temp.Input sw
SET R30513               ; P94_set
CON
DW K94 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3234.6              ; P95 Temp.Input sw
SET R30514               ; P95_set
CON
DW K95 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3235.6              ; P96 Temp.Input sw
SET R30515               ; P96_set
CON
DW K96 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3236.6              ; P97 Temp.Input sw
SET R30600               ; P97_set
CON
DW K97 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3237.6              ; P98 Temp.Input sw
SET R30601               ; P98_set
CON
DW K98 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MRD
ANP E3238.6              ; P99 Temp.Input sw
SET R30602               ; P99_set
CON
DW K99 E60               ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
MPP
ANP E3239.6              ; P100 Temp.Input sw
SET R30603               ; P100_set
CON
DW K100 E60              ; 書込Position No.
CON
SET R30608               ; P61-P100 転送中
LD R30608                ; P61-P100 転送中
MCALL P_INPUT_3T E55 E60 R30609;Type No.  書込Position No.  P61-P100 転送完了
LD R30609                ; P61-P100 転送完了
ZRES R30608 R30609       ; P61-P100 転送中  P61-P100 転送完了
;P101-P140
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
MPS
ANP E3250.6              ; P101 Temp.Input sw
SET R31300               ; P101_set
CON
DW K101 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3251.6              ; P102 Temp.Input sw
SET R31301               ; P102_set
CON
DW K102 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3252.6              ; P103 Temp.Input sw
SET R31302               ; P103_set
CON
DW K103 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3253.6              ; P104 Temp.Input sw
SET R31303               ; P104_set
CON
DW K104 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3254.6              ; P105 Temp.Input sw
SET R31304               ; P105_set
CON
DW K105 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3255.6              ; P106 Temp.Input sw
SET R31305               ; P106_set
CON
DW K106 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3256.6              ; P107 Temp.Input sw
SET R31306               ; P107_set
CON
DW K107 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3257.6              ; P108 Temp.Input sw
SET R31307               ; P108_set
CON
DW K108 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3258.6              ; P109 Temp.Input sw
SET R31308               ; P109_set
CON
DW K109 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3259.6              ; P110 Temp.Input sw
SET R31309               ; P110_set
CON
DW K110 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3260.6              ; P111 Temp.Input sw
SET R31310               ; P111_set
CON
DW K111 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3261.6              ; P112 Temp.Input sw
SET R31311               ; P112_set
CON
DW K112 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3262.6              ; P113 Temp.Input sw
SET R31312               ; P113_set
CON
DW K113 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3263.6              ; P114 Temp.Input sw
SET R31313               ; P114_set
CON
DW K114 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3264.6              ; P115 Temp.Input sw
SET R31314               ; P115_set
CON
DW K115 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3265.6              ; P116 Temp.Input sw
SET R31315               ; P116_set
CON
DW K116 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3266.6              ; P117 Temp.Input sw
SET R31400               ; P117_set
CON
DW K117 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3267.6              ; P118 Temp.Input sw
SET R31401               ; P118_set
CON
DW K118 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3268.6              ; P119 Temp.Input sw
SET R31402               ; P119_set
CON
DW K119 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3269.6              ; P120 Temp.Input sw
SET R31403               ; P120_set
CON
DW K120 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3270.6              ; P121 Temp.Input sw
SET R31404               ; P121_set
CON
DW K121 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3271.6              ; P122 Temp.Input sw
SET R31405               ; P122_set
CON
DW K122 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3272.6              ; P123 Temp.Input sw
SET R31406               ; P123_set
CON
DW K123 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3273.6              ; P124 Temp.Input sw
SET R31407               ; P124_set
CON
DW K124 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3274.6              ; P125 Temp.Input sw
SET R31408               ; P125_set
CON
DW K125 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3275.6              ; P126 Temp.Input sw
SET R31409               ; P126_set
CON
DW K126 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3276.6              ; P127 Temp.Input sw
SET R31410               ; P127_set
CON
DW K127 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3277.6              ; P128 Temp.Input sw
SET R31411               ; P128_set
CON
DW K128 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3278.6              ; P129 Temp.Input sw
SET R31412               ; P129_set
CON
DW K129 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3279.6              ; P130 Temp.Input sw
SET R31413               ; P130_set
CON
DW K130 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3280.6              ; P131 Temp.Input sw
SET R31414               ; P131_set
CON
DW K131 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3281.6              ; P132 Temp.Input sw
SET R31415               ; P132_set
CON
DW K132 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3282.6              ; P133 Temp.Input sw
SET R31500               ; P133_set
CON
DW K133 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3283.6              ; P134 Temp.Input sw
SET R31501               ; P134_set
CON
DW K134 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3284.6              ; P135 Temp.Input sw
SET R31502               ; P135_set
CON
DW K135 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3285.6              ; P136 Temp.Input sw
SET R31503               ; P136_set
CON
DW K136 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3286.6              ; P137 Temp.Input sw
SET R31504               ; P137_set
CON
DW K137 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3287.6              ; P138 Temp.Input sw
SET R31505               ; P138_set
CON
DW K138 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MRD
ANP E3288.6              ; P139 Temp.Input sw
SET R31506               ; P139_set
CON
DW K139 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
MPP
ANP E3289.6              ; P140 Temp.Input sw
SET R31507               ; P140_set
CON
DW K140 E60              ; 書込Position No.
CON
SET R30610               ; P101-P140 転送中
LD R30610                ; P101-P140 転送中
MCALL P_INPUT_DC E55 E60 R30611;Type No.  書込Position No.  P101-P140 転送完了
LD R30611                ; P101-P140 転送完了
ZRES R30610 R30611       ; P101-P140 転送中  P101-P140 転送完了
;<h1/>Position teaching
;<h1/>　Bond1
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4312.0              ; P61 Temp.Input sw
MOV.D E2000 @D132        ; X_P61  KKK書込1_Position data
MOV.D E3790 @D134        ; 塗布X_TP_Pos61_Vel_Data  KKK書込1_Vel. data
MOV.D E2004 @D138        ; Z_P61  KKK書込2_Position data
MOV.D E3890 @D140        ; 塗布Z_TP_Pos61_Vel_Data  KKK書込2_Vel. data
MOV.D E2002 @D144        ; Y1_P61  KKK書込3_Position data
MOV.D E3590 @D146        ; 塗布Y1_TP_Pos61_Vel_Data  KKK書込3_Vel. data
DW K1 @D130              ; KKK書込1_軸No.
CON
DW K2 @D136              ; KKK書込2_軸No.
CON
DW K3 @D142              ; KKK書込3_軸No.
CON
DW K61 @D131             ; KKK書込1_Point No.
CON
DW K61 @D137             ; KKK書込2_Point No.
CON
DW K61 @D143             ; KKK書込3_Point No.
CON
SET R30312               ; P61_set
CON
SET R30908               ; KKK転送中
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4312.2              ; P51 Temp.Input sw
MOV.D E2620 @D82         ; 塗布X_TP_Pos51_Data  KK書込1_Position data
MOV.D E3770 @D84         ; 塗布X_TP_Pos51_Vel_Data  KK書込1_Vel. data
MOV.D E2470 @D88         ; Case搬送1_TP_Pos51_Data  KK書込2_Position data
MOV.D E3570 @D90         ; Case搬送1_TP_Pos51_Vel_Data  KK書込2_Vel. data
DW K1 @D80               ; KK書込1_軸No.
CON
DW K3 @D86               ; KK書込2_軸No.
CON
DW K51 @D81              ; KK書込1_Point No.
CON
DW K51 @D87              ; KK書込2_Point No.
CON
SET R30302               ; P51_set
CON
SET R30800               ; KK転送中
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4312.4              ; P81 Temp.Input sw
MOV.D E2200 @D132        ; X_P81  KKK書込1_Position data
MOV.D E3792 @D134        ; 塗布X_TP_Pos81_Vel_Data  KKK書込1_Vel. data
MOV.D E2204 @D138        ; Z_P81  KKK書込2_Position data
MOV.D E3892 @D140        ; 塗布Z_TP_Pos81_Vel_Data  KKK書込2_Vel. data
MOV.D E2202 @D144        ; Y2_P81  KKK書込3_Position data
MOV.D E3690 @D146        ; 塗布Y1_TP_Pos61_Vel_Data  KKK書込3_Vel. data
DW K1 @D130              ; KKK書込1_軸No.
CON
DW K2 @D136              ; KKK書込2_軸No.
CON
DW K4 @D142              ; KKK書込3_軸No.
CON
DW K81 @D131             ; KKK書込1_Point No.
CON
DW K81 @D137             ; KKK書込2_Point No.
CON
DW K81 @D143             ; KKK書込3_Point No.
CON
SET R30500               ; P81_set
CON
SET R30908               ; KKK転送中
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4312.6              ; P56 temp.Input sw
MOV.D E2630 @D82         ; 塗布X_TP_Pos56_Data  KK書込1_Position data
MOV.D E3780 @D84         ; 塗布X_TP_Pos56_Vel_Data  KK書込1_Vel. data
MOV.D E2580 @D88         ; Case搬送2_TP_Pos56_Data  KK書込2_Position data
MOV.D E3680 @D90         ; Case搬送2_TP_Pos56_Vel_Data  KK書込2_Vel. data
DW K1 @D80               ; KK書込1_軸No.
CON
DW K4 @D86               ; KK書込2_軸No.
CON
DW K56 @D81              ; KK書込1_Point No.
CON
DW K56 @D87              ; KK書込2_Point No.
CON
SET R30307               ; P56_set
CON
SET R30800               ; KK転送中
;Bond2
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4316.0              ; P2 Temp.Input sw
MOV.D E2700 @D152        ; 塗布Z_TP_Pos1_Data  K書込1_Position data
MOV.D E3800 @D154        ; 塗布Z_TP_Pos1_Vel_Data  K書込1_Vel. data
DW K2 @D150              ; K書込1_軸No.
CON
DW K1 @D151              ; K書込1_Point No.
CON
SET R30000               ; P1_set
CON
SET R30914               ; K転送中
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4316.6
MOV.D E2702 @D152        ; 塗布Z_TP_Pos2_Data  K書込1_Position data
MOV.D E3802 @D154        ; 塗布Z_TP_Pos2_Vel_Data  K書込1_Vel. data
DW K2 @D150              ; K書込1_軸No.
CON
DW K2 @D151              ; K書込1_Point No.
CON
SET R30001               ; P2_set
CON
SET R30914               ; K転送中
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4316.2              ; P101 Temp.Input sw
MOV.D E4600 @D132        ; KKK書込1_Position data
MOV.D E3794 @D134        ; KKK書込1_Vel. data
MOV.D E4604 @D138        ; KKK書込2_Position data
MOV.D E3894 @D140        ; KKK書込2_Vel. data
MOV.D E4602 @D144        ; KKK書込3_Position data
MOV.D E3594 @D146        ; KKK書込3_Vel. data
DW K1 @D130              ; KKK書込1_軸No.
CON
DW K2 @D136              ; KKK書込2_軸No.
CON
DW K3 @D142              ; KKK書込3_軸No.
CON
DW K101 @D131            ; KKK書込1_Point No.
CON
DW K101 @D137            ; KKK書込2_Point No.
CON
DW K101 @D143            ; KKK書込3_Point No.
CON
SET R31300               ; P101_set
CON
SET R30908               ; KKK転送中
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4316.4              ; P121 Temp.Input sw
MOV.D E4800 @D132        ; KKK書込1_Position data
MOV.D E3796 @D134        ; KKK書込1_Vel. data
MOV.D E4804 @D138        ; KKK書込2_Position data
MOV.D E3896 @D140        ; KKK書込2_Vel. data
MOV.D E4802 @D144        ; KKK書込3_Position data
MOV.D E3694 @D146        ; 塗布Y2_TP_Pos121_Vel_Data  KKK書込3_Vel. data
DW K1 @D130              ; KKK書込1_軸No.
CON
DW K2 @D136              ; KKK書込2_軸No.
CON
DW K4 @D142              ; KKK書込3_軸No.
CON
DW K121 @D131            ; KKK書込1_Point No.
CON
DW K121 @D137            ; KKK書込2_Point No.
CON
DW K121 @D143            ; KKK書込3_Point No.
CON
SET R31404               ; P121_set
CON
SET R30908               ; KKK転送中
;<h1/>　Assy-1
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4300.0              ; P22 Temp.Input sw
MPS
LDA K22
CON
SUB K1
CON
MUL K4
CON
STA Z1
CON
ADD K2
CON
STA Z2
CON
SET R30105               ; P22_set
MRD
MOV.L E2822 E34000:Z1    ; PCB嵌合Z_TP_Pos22_Data  RCA1 P1 Position data
MPP
MOV E3922 E34000:Z2      ; 嵌合X_TP_Pos22_Vel_Data  RCA1 P1 Position data
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4300.2              ; P24 Temp.Input sw
MPS
SET R30107               ; P24_set
CON
LDA K24
CON
SUB K1
CON
MUL K4
CON
STA Z1
CON
ADD K2
CON
STA Z2
MRD
MOV.L E2826 E34000:Z1    ; PCB嵌合Z_TP_Pos24_Data  RCA1 P1 Position data
MPP
MOV E3926 E34000:Z2      ; 嵌合X_TP_Pos24_Vel_Data  RCA1 P1 Position data
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4300.4              ; P26 Temp.Input sw
MPS
SET R30109               ; P26_set
CON
LDA K26
CON
SUB K1
CON
MUL K4
CON
STA Z1
CON
ADD K2
CON
STA Z2
MRD
MOV.L E2830 E34000:Z1    ; PCB嵌合Z_TP_Pos26_Data  RCA1 P1 Position data
MPP
MOV E3930 E34000:Z2      ; 嵌合X_TP_Pos26_Vel_Data  RCA1 P1 Position data
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4300.6              ; P27 Temp.Input sw
MPS
SET R30110               ; P27_set
CON
LDA K27
CON
SUB K1
CON
MUL K4
CON
STA Z1
CON
ADD K2
CON
STA Z2
MRD
MOV.L E2832 E34000:Z1    ; PCB嵌合Z_TP_Pos27_Data  RCA1 P1 Position data
MPP
MOV E3932 E34000:Z2      ; 嵌合X_TP_Pos27_Vel_Data  RCA1 P1 Position data
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4300.8              ; P21 Temp.Input sw
MPS
LDA K21
CON
SUB K1
CON
MUL K4
CON
STA Z1
CON
ADD K2
CON
STA Z2
MRD
MOV.L E2820 E34000:Z1    ; PCB嵌合Z_TP_Pos21_Data  RCA1 P1 Position data
MRD
MOV E3920 E34000:Z2      ; 嵌合X_TP_Pos21_Vel_Data  RCA1 P1 Position data
MRD
MOV.D E2440 @D152        ; Case搬送1_TP_Pos21_Data  K書込1_Position data
MRD
MOV.D E3540 @D154        ; Case搬送1_TP_Pos21_Vel_Data  K書込1_Vel. data
MPP
DW K3 @D150              ; K書込1_軸No.
CON
DW K21 @D151             ; K書込1_Point No.
CON
SET R30104               ; P21_set
CON
SET R30914               ; K転送中
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4300.10             ; P23 Temp.Input sw
MPS
SET R30106               ; P23_set
CON
LDA K23
CON
SUB K1
CON
MUL K4
CON
STA Z1
CON
ADD K2
CON
STA Z2
MRD
MOV.L E2824 E34000:Z1    ; PCB嵌合Z_TP_Pos23_Data  RCA1 P1 Position data
MPP
MOV E3924 E34000:Z2      ; 嵌合X_TP_Pos23_Vel_Data  RCA1 P1 Position data
;<h1/>　Assy-2　
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4302.0              ; P31 Temp.Input sw
MPS
SET R30114               ; P31_set
CON
LDA K31
CON
SUB K1
CON
MUL K4
CON
STA Z1
CON
ADD K2
CON
STA Z2
MRD
MOV.L E2940 E34200:Z1    ; Cover嵌合Z_TP_Pos31_Data  RCA4 P1 Position data
MPP
MOV E4040 E34200:Z2      ; 嵌合Z_TP_Pos31_Vel_Data  RCA4 P1 Position data
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4302.2              ; P37 Temp.Input sw
MPS
SET R30204               ; P37_set
CON
LDA K37
CON
SUB K1
CON
MUL K4
CON
STA Z1
CON
ADD K2
CON
STA Z2
MRD
MOV.L E2952 E34200:Z1    ; Cover嵌合Z_TP_Pos37_Data  RCA4 P1 Position data
MPP
MOV E4052 E34200:Z2      ; 嵌合Z_TP_Pos37_Vel_Data  RCA4 P1 Position data
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4302.4              ; P35 Temp.Input sw
MPS
LDA K35
CON
SUB K1
CON
MUL K4
CON
STA Z1
CON
ADD K2
CON
STA Z2
MRD
MOV.L E2948 E34200:Z1    ; Cover嵌合Z_TP_Pos35_Data  RCA4 P1 Position data
MRD
MOV E4048 E34200:Z2      ; 嵌合Z_TP_Pos35_Vel_Data  RCA4 P1 Position data
MRD
MOV.D E2548 @D152        ; Case搬送2_TP_Pos35_Data  K書込1_Position data
MRD
MOV.D E3648 @D154        ; Case搬送2_TP_Pos35_Vel_Data  K書込1_Vel. data
MPP
DW K4 @D150              ; K書込1_軸No.
CON
DW K35 @D151             ; K書込1_Point No.
CON
SET R30202               ; P35_set
CON
SET R30914               ; K転送中
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4302.6              ; P36 Temp.Input sw
MPS
SET R30203               ; P36_set
CON
LDA K36
CON
SUB K1
CON
MUL K4
CON
STA Z1
CON
ADD K2
CON
STA Z2
MRD
MOV.L E2950 E34200:Z1    ; Cover嵌合Z_TP_Pos36_Data  RCA4 P1 Position data
MPP
MOV E4050 E34200:Z2      ; 嵌合Z_TP_Pos36_Vel_Data  RCA4 P1 Position data
;<h1/>　Case-Transfer1
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4306.12             ; P11 Temp.Input sw
MOV.D E2420 @D152        ; Case搬送1_TP_Case投入位置  K書込1_Position data
MOV.D E3520 @D154        ; Case搬送1_TP_Pos11_Vel_Data  K書込1_Vel. data
DW K3 @D150              ; K書込1_軸No.
CON
DW K11 @D151             ; K書込1_Point No.
CON
SET R30010               ; P11_set
CON
SET R30914               ; K転送中
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4306.14             ; P12 Temp.Input sw
MOV.D E2422 @D152        ; Case搬送1_TP_Pos12_Data  K書込1_Position data
MOV.D E3522 @D154        ; Case搬送1_TP_Pos12_Vel_Data  K書込1_Vel. data
DW K3 @D150              ; K書込1_軸No.
CON
DW K12 @D151             ; K書込1_Point No.
CON
SET R30011               ; P12_set
CON
SET R30914               ; K転送中
;<h1/>　Case-Transfer2
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4306.0              ; P14 Temp.Input sw
MOV.D E2526 @D152        ; Case搬送2_TP_Case投入位置  K書込1_Position data
MOV.D E3626 @D154        ; Case搬送2_TP_Pos14_Vel_Data  K書込1_Vel. data
DW K4 @D150              ; K書込1_軸No.
CON
DW K14 @D151             ; K書込1_Point No.
CON
SET R30013               ; P14_set
CON
SET R30914               ; K転送中
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4306.2              ; P15 Temp.Input sw
MOV.D E2528 @D152        ; Case搬送2_TP_Pos15_Data  K書込1_Position data
MOV.D E3628 @D154        ; Case搬送2_TP_Pos15_Vel_Data  K書込1_Vel. data
DW K4 @D150              ; K書込1_軸No.
CON
DW K15 @D151             ; K書込1_Point No.
CON
SET R30014               ; P15_set
CON
SET R30914               ; K転送中
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4306.4              ; P19 Temp.Input sw
MOV.D E2536 @D152        ; Case搬送2_TP_Pos19_Data  K書込1_Position data
MOV.D E3636 @D154        ; Case搬送2_TP_Pos19_Vel_Data  K書込1_Vel. data
DW K4 @D150              ; K書込1_軸No.
CON
DW K19 @D151             ; K書込1_Point No.
CON
SET R30102               ; P19_set
CON
SET R30914               ; K転送中
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4306.6              ; P16 Temp.Input sw
MOV.D E2530 @D152        ; Case搬送2_TP_Pos16_Data  K書込1_Position data
MOV.D E3630 @D154        ; Case搬送2_TP_Pos16_Vel_Data  K書込1_Vel. data
DW K4 @D150              ; K書込1_軸No.
CON
DW K16 @D151             ; K書込1_Point No.
CON
SET R30015               ; P16_set
CON
SET R30914               ; K転送中
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4306.8              ; P18 Temp.Input sw
MOV.D E2534 @D152        ; Case搬送2_TP_Pos18_Data  K書込1_Position data
MOV.D E3634 @D154        ; Case搬送2_TP_Pos18_Vel_Data  K書込1_Vel. data
DW K4 @D150              ; K書込1_軸No.
CON
DW K18 @D151             ; K書込1_Point No.
CON
SET R30101               ; P18_set
CON
SET R30914               ; K転送中
;<h1/>　Remove-1
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4308.0              ; R1P3 Temp.Input sw
MPS
SET R31003               ; R1P3_set
CON
LDA K3
CON
SUB K1
CON
MUL K4
CON
STA Z1
CON
ADD K2
CON
STA Z2
MRD
MOV.L E3104 E34400:Z1    ; 除材1Y_TP_Pos3_Data  RCA5 P1 Position data
MPP
MOV E4204 E34400:Z2      ; 除材1Y_TP_Pos3_Vel_Data  RCA5 P1 Position data
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4308.2              ; R1P4 Temp.Input sw
MPS
SET R31004               ; R1P4_set
CON
LDA K4
CON
SUB K1
CON
MUL K4
CON
STA Z1
CON
ADD K2
CON
STA Z2
MRD
MOV.L E3106 E34400:Z1    ; 除材1Y_TP_Pos4_Data  RCA5 P1 Position data
MPP
MOV E4206 E34400:Z2      ; 除材1Y_TP_Pos4_Vel_Data  RCA5 P1 Position data
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4308.4              ; R1P2 Temp.Input sw
MPS
SET R31002               ; R1P2_set
CON
LDA K2
CON
SUB K1
CON
MUL K4
CON
STA Z1
CON
ADD K2
CON
STA Z2
MRD
MOV.L E3102 E34400:Z1    ; 除材1Y_TP_Pos2_Data  RCA5 P1 Position data
MPP
MOV E4202 E34400:Z2      ; 除材1Y_TP_Pos2_Vel_Data  RCA5 P1 Position data
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4308.6              ; R1P7 Temp.Input sw
MPS
SET R31007               ; R1P7_set
CON
LDA K7
CON
SUB K1
CON
MUL K4
CON
STA Z1
CON
ADD K2
CON
STA Z2
MRD
MOV.L E3112 E34400:Z1    ; 除材1Y_TP_Pos7_Data  RCA5 P1 Position data
MPP
MOV E4212 E34400:Z2      ; 除材1Y_TP_Pos7_Vel_Data  RCA5 P1 Position data
;<h1/>PCB-Transfer chuck
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4308.10             ; R1SC_P2 Temp.Input sw
BMOV E3310 E34610 K6     ; R1ｸﾗﾝﾌﾟ閉TP_Pos_Data  RCA2 P2 Position data
BMOV E3360 E34710 K6     ; R2ｸﾗﾝﾌﾟ閉TP_Pos_Data  RCA3 P2 Position data
SET R31201               ; R1SC_P2_set
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4308.12             ; R1SC_P1 Temp.Input sw
BMOV E3300 E34600 K4     ; R1ｸﾗﾝﾌﾟ開TP_Pos_Data  RCA2 P1 Position data
BMOV E3350 E34700 K4     ; R2ｸﾗﾝﾌﾟ開TP_Pos_Data  RCA3 P1 Position data
SET R31200               ; R1SC_P1_set
;<h1/>　Remove-2
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4310.0              ; R2P3 Temp.Input sw
MPS
LDA K3
CON
SUB K1
CON
MUL K4
CON
STA Z1
CON
ADD K2
CON
STA Z2
MRD
MOV.L E3154 E34500:Z1    ; 除材2Y_TP_Pos3_Data  RCA6 P1 Position data
MRD
MOV E4254 E34500:Z2      ; 除材2Y_TP_Pos3_Vel_Data  RCA6 P1 Position data
MRD
MOV.D E2536 @D152        ; Case搬送2_TP_Pos19_Data  K書込1_Position data
MRD
MOV.D E3636 @D154        ; Case搬送2_TP_Pos19_Vel_Data  K書込1_Vel. data
MPP
DW K4 @D150              ; K書込1_軸No.
CON
DW K19 @D151             ; K書込1_Point No.
CON
SET R31103               ; R2P3_set
CON
SET R30914               ; K転送中
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4310.2              ; R2P4 Temp.Input sw
MPS
SET R31104               ; R2P4_set
CON
LDA K4
CON
SUB K1
CON
MUL K4
CON
STA Z1
CON
ADD K2
CON
STA Z2
MRD
MOV.L E3156 E34500:Z1    ; 除材2Y_TP_Pos4_Data  RCA6 P1 Position data
MPP
MOV E4256 E34500:Z2      ; 除材2Y_TP_Pos4_Vel_Data  RCA6 P1 Position data
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4310.4              ; R2P5 Temp.Input sw
MPS
SET R31105               ; R2P5_set
CON
LDA K5
CON
SUB K1
CON
MUL K4
CON
STA Z1
CON
ADD K2
CON
STA Z2
MRD
MOV.L E3158 E34500:Z1    ; 除材2Y_TP_Pos5_Data  RCA6 P1 Position data
MPP
MOV E4258 E34500:Z2      ; 除材2Y_TP_Pos5_Vel_Data  RCA6 P1 Position data
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4310.6              ; R2P7 Temp.Input sw
MPS
SET R31107               ; R2P7_set
CON
LDA K7
CON
SUB K1
CON
MUL K4
CON
STA Z1
CON
ADD K2
CON
STA Z2
MRD
MOV.L E3162 E34500:Z1    ; 除材2Y_TP_Pos7_Data  RCA6 P1 Position data
MPP
MOV E4262 E34500:Z2      ; 除材2Y_TP_Pos7_Vel_Data  RCA6 P1 Position data
;<h1/>　Daily check
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4314.0              ; P54 Temp.Input sw
MOV.D E2626 @D82         ; 塗布X_TP_Pos54_Data  KK書込1_Position data
MOV.D E3776 @D84         ; 塗布X_TP_Pos54_Vel_Data  KK書込1_Vel. data
MOV.D E2476 @D88         ; Case搬送1_TP_Pos54_Data  KK書込2_Position data
MOV.D E3576 @D90         ; Case搬送1_TP_Pos54_Vel_Data  KK書込2_Vel. data
DW K1 @D80               ; KK書込1_軸No.
CON
DW K3 @D86               ; KK書込2_軸No.
CON
DW K54 @D81              ; KK書込1_Point No.
CON
DW K54 @D87              ; KK書込2_Point No.
CON
SET R30305               ; P54_set
CON
SET R30800               ; KK転送中
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4314.2              ; P55 Temp.Input sw
MOV.D E2478 @D152        ; Case搬送1_TP_Pos55_Data  K書込1_Position data
MOV.D E3578 @D154        ; Case搬送1_TP_Pos55_Vel_Data  K書込1_Vel. data
DW K3 @D150              ; K書込1_軸No.
CON
DW K55 @D151             ; K書込1_Point No.
CON
SET R30306               ; P55_set
CON
SET R30914               ; K転送中
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4314.4              ; P59 Temp.Input sw
MOV.D E2636 @D82         ; 塗布X_TP_Pos59_Data  KK書込1_Position data
MOV.D E3786 @D84         ; 塗布X_TP_Pos59_Vel_Data  KK書込1_Vel. data
MOV.D E2586 @D88         ; Case搬送2_TP_Pos59_Data  KK書込2_Position data
MOV.D E3686 @D90         ; Case搬送2_TP_Pos59_Vel_Data  KK書込2_Vel. data
DW K1 @D80               ; KK書込1_軸No.
CON
DW K4 @D86               ; KK書込2_軸No.
CON
DW K59 @D81              ; KK書込1_Point No.
CON
DW K59 @D87              ; KK書込2_Point No.
CON
SET R30310               ; P59_set
CON
SET R30800               ; KK転送中
LDB R30607               ; 転送中ﾃﾞｰﾀ有り
ANP E4314.6              ; P60 Temp.Input sw
MOV.D E2588 @D152        ; Case搬送2_TP_Pos60_Data  K書込1_Position data
MOV.D E3688 @D154        ; Case搬送2_TP_Pos60_Vel_Data  K書込1_Vel. data
DW K4 @D150              ; K書込1_軸No.
CON
DW K60 @D151             ; K書込1_Point No.
CON
SET R30311               ; P60_set
CON
SET R30914               ; K転送中
;<h1/>　基準位置補正
;@D280.L = E1010.L - E1000.L                     'X座標偏差
;@D282.L = E1012.L - E1002.L                     'Z座標偏差
;@D284.L = E1014.L - E1004.L                     'Y1座標偏差
;
;FOR @D286 = 0 TO 7                              '品種分繰り返し
;  FOR @D287 = 0 TO 19                           'POINT数分繰り返し
;      Z1 = @D287*10 + @D286*3000
;    IF (E5000.L:Z1 <> 0)AND(E5002.L:Z1<>0) THEN 
;      E5000.L:Z1 = E5000.L:Z1 + @D280.L           '塗布X偏差修正
;      E5004.L:Z1 = E5004.L:Z1 + @D282.L           '塗布Z偏差修正
;      E5002.L:Z1 = E5002.L:Z1 + @D284.L           '塗布Y1偏差修正
;    END IF
;      
;    IF (E7600.L:Z1 <> 0)AND(E7602.L:Z1<>0) THEN 
;      E7600.L:Z1 = E7600.L:Z1 + @D280.L           '日常点検X偏差修正
;      E7604.L:Z1 = E7604.L:Z1 + @D282.L           '日常点検Z偏差修正
;      E7602.L:Z1 = E7602.L:Z1 + @D284.L           '日常点検Y1偏差修正
;    END IF
;  NEXT
;NEXT
;
;E1000.L = E1010.L                               'X基準点更新
;E1002.L = E1012.L                               'Z基準点更新
;E1004.L = E1014.L                               'Y1基準点更新
;
;RES(@M60)
;SET(@M61)
;
LDP B2008                ; Y1基準点設定SW
NCJ K1002
;@D280.L = E1010.L - E1000.L                     'X座標偏差
;
LD CR2002                ; 常時ON
LDA.L E1010
CON
SUB.L E1000
CON
STA.L @D280              ; X座標偏差
;@D282.L = E1012.L - E1002.L                     'Z座標偏差
;
LD CR2002                ; 常時ON
LDA.L E1012
CON
SUB.L E1002
CON
STA.L @D282              ; Z座標偏差
;@D284.L = E1014.L - E1004.L                     'Y1座標偏差
;
LD CR2002                ; 常時ON
LDA.L E1014
CON
SUB.L E1004
CON
STA.L @D284              ; Y1座標偏差
;FOR @D286 = 0 TO 7                              '品種分繰り返し
;
LD CR2002                ; 常時ON
MOV K0 @D286             ; 品種繰り返し数
LABEL K2000
LD> @D286 K7             ; 品種繰り返し数
CJ K2001
;  FOR @D287 = 0 TO 19                           'POINT数分繰り返し
;
LD CR2002                ; 常時ON
MOV K0 @D287             ; ﾎﾟｲﾝﾄ繰り返し数
LABEL K2002
LD> @D287 K19            ; ﾎﾟｲﾝﾄ繰り返し数
CJ K2003
;      Z1 = @D287*10 + @D286*3000
;
LD CR2002                ; 常時ON
LDA @D286                ; 品種繰り返し数
CON
EXT
CON
MUL.L +3000
CON
STA.L @VM0
CON
LDA @D287                ; ﾎﾟｲﾝﾄ繰り返し数
CON
EXT
CON
MUL.L +10
CON
ADD.L @VM0
CON
STA.L Z1
;    IF (E5000.L:Z1 <> 0)AND(E5002.L:Z1<>0) THEN 
;
LD<>.L E5000:Z1 +0
OUT @VB00
LD<>.L E5002:Z1 +0
AND @VB00
NCJ K2004
;      E5000.L:Z1 = E5000.L:Z1 + @D280.L           '塗布X偏差修正
;
LD CR2002                ; 常時ON
LDA.L E5000:Z1
CON
ADD.L @D280              ; X座標偏差
CON
STA.L E5000:Z1
;      E5004.L:Z1 = E5004.L:Z1 + @D282.L           '塗布Z偏差修正
;
LD CR2002                ; 常時ON
LDA.L E5004:Z1
CON
ADD.L @D282              ; Z座標偏差
CON
STA.L E5004:Z1
;      E5002.L:Z1 = E5002.L:Z1 + @D284.L           '塗布Y1偏差修正
;
LD CR2002                ; 常時ON
LDA.L E5002:Z1
CON
ADD.L @D284              ; Y1座標偏差
CON
STA.L E5002:Z1
;    END IF
;
LABEL K2004
;    IF (E7600.L:Z1 <> 0)AND(E7602.L:Z1<>0) THEN 
;
LD<>.L E7600:Z1 +0
OUT @VB01
LD<>.L E7602:Z1 +0
AND @VB01
NCJ K2005
;      E7600.L:Z1 = E7600.L:Z1 + @D280.L           '日常点検X偏差修正
;
LD CR2002                ; 常時ON
LDA.L E7600:Z1
CON
ADD.L @D280              ; X座標偏差
CON
STA.L E7600:Z1
;      E7604.L:Z1 = E7604.L:Z1 + @D282.L           '日常点検Z偏差修正
;
LD CR2002                ; 常時ON
LDA.L E7604:Z1
CON
ADD.L @D282              ; Z座標偏差
CON
STA.L E7604:Z1
;      E7602.L:Z1 = E7602.L:Z1 + @D284.L           '日常点検Y1偏差修正
;
LD CR2002                ; 常時ON
LDA.L E7602:Z1
CON
ADD.L @D284              ; Y1座標偏差
CON
STA.L E7602:Z1
;    END IF
;
LABEL K2005
;  NEXT
;
LD CR2002                ; 常時ON
INC @D287                ; ﾎﾟｲﾝﾄ繰り返し数
LDB CR2009               ; 演算結果が負
CJ K2002
LABEL K2003
;NEXT
;
LD CR2002                ; 常時ON
INC @D286                ; 品種繰り返し数
LDB CR2009               ; 演算結果が負
CJ K2000
LABEL K2001
;E1000.L = E1010.L                               'X基準点更新
;
LD CR2002                ; 常時ON
MOV.L E1010 E1000
;E1002.L = E1012.L                               'Z基準点更新
;
LD CR2002                ; 常時ON
MOV.L E1012 E1002
;E1004.L = E1014.L                               'Y1基準点更新
;
LD CR2002                ; 常時ON
MOV.L E1014 E1004
;RES(@M60)
;
LD CR2002                ; 常時ON
RES @M60                 ; Y1偏差修正
;SET(@M61)
;
LD CR2002                ; 常時ON
SET @M61                 ; Y1側修正完了
LABEL K1002
;
;@D290.L = E1030.L - E1020.L                     'X座標偏差
;@D292.L = E1032.L - E1022.L                     'Z座標偏差
;@D294.L = E1034.L - E1024.L                     'Y2座標偏差
;
;FOR @D296 = 0 TO 7                              '品種分繰り返し
;  FOR @D297 = 0 TO 19                           'POINT数分繰り返し
;    Z1 = @D297*10 + @D296*3000
;    IF (E5200.L:Z1 <> 0)AND(E5202.L:Z1<>0) THEN 
;      E5200.L:Z1 = E5200.L:Z1 + @D290.L           '塗布X偏差修正
;      E5204.L:Z1 = E5204.L:Z1 + @D292.L           '塗布Z偏差修正
;      E5202.L:Z1 = E5202.L:Z1 + @D294.L           '塗布Y1偏差修正
;    END IF
;
;    IF (E7800.L:Z1 <> 0)AND(E7802.L:Z1<>0) THEN         
;      E7800.L:Z1 = E7800.L:Z1 + @D290.L           '日常点検X偏差修正
;      E7804.L:Z1 = E7804.L:Z1 + @D292.L           '日常点検Z偏差修正
;      E7802.L:Z1 = E7802.L:Z1 + @D294.L           '日常点検Y1偏差修正
;    END IF
;  NEXT
;NEXT
;
;E1020.L = E1030.L                               'X基準点更新
;E1022.L = E1032.L                               'Z基準点更新
;E1024.L = E1034.L                               'Y2基準点更新
;
;RES(@M70)
;SET(@M71)
;
LDP B2009                ; Y2基準点設定SW
NCJ K1003
;@D290.L = E1030.L - E1020.L                     'X座標偏差
;
LD CR2002                ; 常時ON
LDA.L E1030
CON
SUB.L E1020
CON
STA.L @D290              ; X座標偏差
;@D292.L = E1032.L - E1022.L                     'Z座標偏差
;
LD CR2002                ; 常時ON
LDA.L E1032
CON
SUB.L E1022
CON
STA.L @D292              ; Z座標偏差
;@D294.L = E1034.L - E1024.L                     'Y2座標偏差
;
LD CR2002                ; 常時ON
LDA.L E1034
CON
SUB.L E1024
CON
STA.L @D294              ; Y2座標偏差
;FOR @D296 = 0 TO 7                              '品種分繰り返し
;
LD CR2002                ; 常時ON
MOV K0 @D296             ; 品種繰り返し数
LABEL K2006
LD> @D296 K7             ; 品種繰り返し数
CJ K2007
;  FOR @D297 = 0 TO 19                           'POINT数分繰り返し
;
LD CR2002                ; 常時ON
MOV K0 @D297             ; ﾎﾟｲﾝﾄ繰り返し数
LABEL K2008
LD> @D297 K19            ; ﾎﾟｲﾝﾄ繰り返し数
CJ K2009
;    Z1 = @D297*10 + @D296*3000
;
LD CR2002                ; 常時ON
LDA @D296                ; 品種繰り返し数
CON
EXT
CON
MUL.L +3000
CON
STA.L @VM2
CON
LDA @D297                ; ﾎﾟｲﾝﾄ繰り返し数
CON
EXT
CON
MUL.L +10
CON
ADD.L @VM2
CON
STA.L Z1
;    IF (E5200.L:Z1 <> 0)AND(E5202.L:Z1<>0) THEN 
;
LD<>.L E5200:Z1 +0
OUT @VB02
LD<>.L E5202:Z1 +0
AND @VB02
NCJ K2010
;      E5200.L:Z1 = E5200.L:Z1 + @D290.L           '塗布X偏差修正
;
LD CR2002                ; 常時ON
LDA.L E5200:Z1
CON
ADD.L @D290              ; X座標偏差
CON
STA.L E5200:Z1
;      E5204.L:Z1 = E5204.L:Z1 + @D292.L           '塗布Z偏差修正
;
LD CR2002                ; 常時ON
LDA.L E5204:Z1
CON
ADD.L @D292              ; Z座標偏差
CON
STA.L E5204:Z1
;      E5202.L:Z1 = E5202.L:Z1 + @D294.L           '塗布Y1偏差修正
;
LD CR2002                ; 常時ON
LDA.L E5202:Z1
CON
ADD.L @D294              ; Y2座標偏差
CON
STA.L E5202:Z1
;    END IF
;
LABEL K2010
;    IF (E7800.L:Z1 <> 0)AND(E7802.L:Z1<>0) THEN         
;
LD<>.L E7800:Z1 +0
OUT @VB03
LD<>.L E7802:Z1 +0
AND @VB03
NCJ K2011
;      E7800.L:Z1 = E7800.L:Z1 + @D290.L           '日常点検X偏差修正
;
LD CR2002                ; 常時ON
LDA.L E7800:Z1
CON
ADD.L @D290              ; X座標偏差
CON
STA.L E7800:Z1
;      E7804.L:Z1 = E7804.L:Z1 + @D292.L           '日常点検Z偏差修正
;
LD CR2002                ; 常時ON
LDA.L E7804:Z1
CON
ADD.L @D292              ; Z座標偏差
CON
STA.L E7804:Z1
;      E7802.L:Z1 = E7802.L:Z1 + @D294.L           '日常点検Y1偏差修正
;
LD CR2002                ; 常時ON
LDA.L E7802:Z1
CON
ADD.L @D294              ; Y2座標偏差
CON
STA.L E7802:Z1
;    END IF
;
LABEL K2011
;  NEXT
;
LD CR2002                ; 常時ON
INC @D297                ; ﾎﾟｲﾝﾄ繰り返し数
LDB CR2009               ; 演算結果が負
CJ K2008
LABEL K2009
;NEXT
;
LD CR2002                ; 常時ON
INC @D296                ; 品種繰り返し数
LDB CR2009               ; 演算結果が負
CJ K2006
LABEL K2007
;E1020.L = E1030.L                               'X基準点更新
;
LD CR2002                ; 常時ON
MOV.L E1030 E1020
;E1022.L = E1032.L                               'Z基準点更新
;
LD CR2002                ; 常時ON
MOV.L E1032 E1022
;E1024.L = E1034.L                               'Y2基準点更新
;
LD CR2002                ; 常時ON
MOV.L E1034 E1024
;RES(@M70)
;
LD CR2002                ; 常時ON
RES @M70                 ; Y2偏差修正
;SET(@M71)
;
LD CR2002                ; 常時ON
SET @M71                 ; Y2側修正完了
LABEL K1003
;
LDP B201A                ; Y1 current position X･Y sw
MOV.L D31290 E1010       ; 軸1 現在座標
MOV.L D31410 E1014       ; 軸3 現在座標
LDP B201B                ; Y1 current position Z sw
MOV.L D31350 E1012       ; 軸2 現在座標
LDP B201C                ; Y2 current position X･Y sw
MOV.L D31290 E1030       ; 軸1 現在座標
MOV.L D31470 E1034       ; 軸4 現在座標
LDP B201D                ; Y2 current position Z sw
MOV.L D31350 E1032       ; 軸2 現在座標
;<h1/>　レシピ項目書き込み処理
;<h1/>　　SMA411-441
;FOR @D210=0 TO 10                             'ﾌﾞﾛｯｸ数分繰り返し
;  Z3 = @D210
;  @D200 = D9090:Z3                              'AXIX No.
;  @D201 = D9060:Z3                              'Position No.
;  @D202 = D9000:Z3                              '位置ﾃﾞｰﾀ先頭ｱﾄﾞﾚｽ
;  @D203 = D9030:Z3                              'DATA数
;  @D209 = D9120:Z3                              '速度ﾃﾞｰﾀ先頭ｱﾄﾞﾚｽ
;
;  FOR @D207=1 TO @D203
;    @D208 = @D201 + @D207 -1                    '書込POINT No.
;    @D204 = (@D208-1) / 25                      'BANK No.  
;    @D205 = @D208 - @D204 * 25                  'P-No. in BANK
;    UWRIT(#4,#98,@D204,#1)                      'BANK CHANGE
;    @D206 = 18016 + 512*(@D205-1)+32*(@D200-1)  'POSITION DATA ADDRESS
;    @D211 = @D206 + 12                          'SPEED DATA ADDRESS
;    Z1 = @D202 + ((@D207-1) * 2 )
;    Z2 = @D209 + ((@D207-1) * 2 )
;    UREAD(#4,@D206,E0:Z1,#2)                    'POSITION READ  
;    UREAD(#4,@D211,E0:Z2,#2)                    'POSITION READ  
;  NEXT
;
;UWRIT(#4,#98,#0,#1)
;
;NEXT
;
;RES(@M40)
;SET(@M41)
LD @M40                  ; KEYENCE全ﾃﾞｰﾀ読込開始
NCJ K1004
;FOR @D210=0 TO 10                             'ﾌﾞﾛｯｸ数分繰り返し
;
LD CR2002                ; 常時ON
MOV K0 @D210             ; ﾌﾞﾛｯｸ繰り返しNo.
LABEL K2012
LD> @D210 K10            ; ﾌﾞﾛｯｸ繰り返しNo.
CJ K2013
;  Z3 = @D210
;
LD CR2002                ; 常時ON
LDA @D210                ; ﾌﾞﾛｯｸ繰り返しNo.
CON
EXT
CON
STA.L Z3
;  @D200 = D9090:Z3                              'AXIX No.
;
LD CR2002                ; 常時ON
MOV D9090:Z3 @D200       ; 時間log  軸No.
;  @D201 = D9060:Z3                              'Position No.
;
LD CR2002                ; 常時ON
MOV D9060:Z3 @D201       ; 時間log  Position No.
;  @D202 = D9000:Z3                              '位置ﾃﾞｰﾀ先頭ｱﾄﾞﾚｽ
;
LD CR2002                ; 常時ON
MOV D9000:Z3 @D202       ; 位置ﾃﾞｰﾀ先頭ﾊﾞｯﾌｧｱﾄﾞﾚｽ
;  @D203 = D9030:Z3                              'DATA数
;
LD CR2002                ; 常時ON
MOV D9030:Z3 @D203       ; 時間log  ﾃﾞｰﾀ数
;  @D209 = D9120:Z3                              '速度ﾃﾞｰﾀ先頭ｱﾄﾞﾚｽ
;
LD CR2002                ; 常時ON
MOV D9120:Z3 @D209       ; 吐出ﾓｰﾀ正転ﾌﾗｸﾞlog  速度ﾃﾞｰﾀ先頭ﾊﾞｯﾌｧｱﾄﾞﾚｽ
;  FOR @D207=1 TO @D203
;
LD CR2002                ; 常時ON
MOV K1 @D207             ; 読込繰り返しNo.
LABEL K2014
LD> @D207 @D203          ; 読込繰り返しNo.  ﾃﾞｰﾀ数
CJ K2015
;    @D208 = @D201 + @D207 -1                    '書込POINT No.
;
LD CR2002                ; 常時ON
LDA @D207                ; 読込繰り返しNo.
CON
EXT
CON
STA.L @VM4
CON
LDA @D201                ; Position No.
CON
EXT
CON
ADD.L @VM4
CON
SUB.L +1
CON
STA @D208                ; 読込P.No.
;    @D204 = (@D208-1) / 25                      'BANK No.  
;
LD CR2002                ; 常時ON
LDA @D208                ; 読込P.No.
CON
EXT
CON
SUB.L +1
CON
EXT.L
CON
DIV.L +25
CON
STA @D204                ; Bank No.
;    @D205 = @D208 - @D204 * 25                  'P-No. in BANK
;
LD CR2002                ; 常時ON
LDA @D204                ; Bank No.
CON
EXT
CON
MUL.L +25
CON
STA.L @VM6
CON
LDA @D208                ; 読込P.No.
CON
EXT
CON
SUB.L @VM6
CON
STA @D205                ; Position No. in Bank
;    UWRIT(#4,#98,@D204,#1)                      'BANK CHANGE
;
LD CR2002                ; 常時ON
UWRIT K4 K98 @D204 K1    ; Bank No.
;    @D206 = 18016 + 512*(@D205-1)+32*(@D200-1)  'POSITION DATA ADDRESS
;
LD CR2002                ; 常時ON
LDA @D200                ; 軸No.
CON
EXT
CON
SUB.L +1
CON
MUL.L +32
CON
STA.L @VM8
CON
LDA @D205                ; Position No. in Bank
CON
EXT
CON
SUB.L +1
CON
MUL.L +512
CON
ADD.L +18016
CON
ADD.L @VM8
CON
STA @D206                ; 位置ﾃﾞｰﾀｱﾄﾞﾚｽ
;    @D211 = @D206 + 12                          'SPEED DATA ADDRESS
;
LD CR2002                ; 常時ON
LDA @D206                ; 位置ﾃﾞｰﾀｱﾄﾞﾚｽ
CON
EXT
CON
ADD.L +12
CON
STA @D211                ; 速度ﾃﾞｰﾀｱﾄﾞﾚｽ
;    Z1 = @D202 + ((@D207-1) * 2 )
;
LD CR2002                ; 常時ON
LDA @D207                ; 読込繰り返しNo.
CON
EXT
CON
SUB.L +1
CON
MUL.L +2
CON
STA.L @VM10
CON
LDA @D202                ; 位置ﾃﾞｰﾀ先頭ﾊﾞｯﾌｧｱﾄﾞﾚｽ
CON
EXT
CON
ADD.L @VM10
CON
STA.L Z1
;    Z2 = @D209 + ((@D207-1) * 2 )
;
LD CR2002                ; 常時ON
LDA @D207                ; 読込繰り返しNo.
CON
EXT
CON
SUB.L +1
CON
MUL.L +2
CON
STA.L @VM12
CON
LDA @D209                ; 速度ﾃﾞｰﾀ先頭ﾊﾞｯﾌｧｱﾄﾞﾚｽ
CON
EXT
CON
ADD.L @VM12
CON
STA.L Z2
;    UREAD(#4,@D206,E0:Z1,#2)                    'POSITION READ  
;
LD CR2002                ; 常時ON
UREAD K4 @D206 E0:Z1 K2  ; 位置ﾃﾞｰﾀｱﾄﾞﾚｽ
;    UREAD(#4,@D211,E0:Z2,#2)                    'POSITION READ  
;
LD CR2002                ; 常時ON
UREAD K4 @D211 E0:Z2 K2  ; 速度ﾃﾞｰﾀｱﾄﾞﾚｽ
;  NEXT
;
LD CR2002                ; 常時ON
INC @D207                ; 読込繰り返しNo.
LDB CR2009               ; 演算結果が負
CJ K2014
LABEL K2015
;UWRIT(#4,#98,#0,#1)
;
LD CR2002                ; 常時ON
UWRIT K4 K98 K0 K1
;NEXT
;
LD CR2002                ; 常時ON
INC @D210                ; ﾌﾞﾛｯｸ繰り返しNo.
LDB CR2009               ; 演算結果が負
CJ K2012
LABEL K2013
;RES(@M40)
;
LD CR2002                ; 常時ON
RES @M40                 ; KEYENCE全ﾃﾞｰﾀ読込開始
;SET(@M41)
LD CR2002                ; 常時ON
SET @M41                 ; KEYENCE全ﾃﾞｰﾀ読込完了
LABEL K1004
;
LD CR2003                ; 常時OFF
RES @M41                 ; KEYENCE全ﾃﾞｰﾀ読込完了
;FOR @D230=0 TO 11                             'ﾌﾞﾛｯｸ数分繰り返し
;  Z3 = @D230
;  @D220 = D9090:Z3                              'AXIX No.
;  @D221 = D9060:Z3                              'Position No.
;  @D222 = D9000:Z3                              '先頭ｱﾄﾞﾚｽ
;  @D223 = D9030:Z3                              'DATA数
;  @D229 = D9120:Z3                              '速度ﾃﾞｰﾀ先頭ｱﾄﾞﾚｽ
;
;  FOR @D227=1 TO @D223
;    @D228 = @D221 + @D227 -1                    '書込POINT No.
;    @D224 = (@D228-1) / 25                      'BANK No.  
;    @D225 = @D228 - @D224 * 25                  'P-No. in BANK
;    UWRIT(#4,#98,@D224,#1)                      'BANK CHANGE
;    @D226 = 18016 + 512*(@D225-1)+32*(@D220-1)  'POSITION DATA ADDRESS
;    @D231 = @D226 + 12                          'SPEED DATA ADDRESS
;    Z1 = @D222 + ((@D227-1) * 2 )
;    Z2 = @D229 + ((@D227-1) * 2 )
;    UWRIT(#4,@D226,E0:Z1,#2)                    'POSITION WRITE  
;    UWRIT(#4,@D231,E0:Z2,#2)                    'POSITION WRITE  
;  NEXT
;
;UWRIT(#4,#98,#0,#1)
;
;NEXT
;
;RES(@M45)
;SET(@M46)
LD @M45                  ; KEYENCE全ﾃﾞｰﾀ書込開始
NCJ K1005
;FOR @D230=0 TO 11                             'ﾌﾞﾛｯｸ数分繰り返し
;
LD CR2002                ; 常時ON
MOV K0 @D230             ; ﾌﾞﾛｯｸ繰り返しNo.
LABEL K2016
LD> @D230 K11            ; ﾌﾞﾛｯｸ繰り返しNo.
CJ K2017
;  Z3 = @D230
;
LD CR2002                ; 常時ON
LDA @D230                ; ﾌﾞﾛｯｸ繰り返しNo.
CON
EXT
CON
STA.L Z3
;  @D220 = D9090:Z3                              'AXIX No.
;
LD CR2002                ; 常時ON
MOV D9090:Z3 @D220       ; 時間log  軸No.
;  @D221 = D9060:Z3                              'Position No.
;
LD CR2002                ; 常時ON
MOV D9060:Z3 @D221       ; 時間log  Position No.
;  @D222 = D9000:Z3                              '先頭ｱﾄﾞﾚｽ
;
LD CR2002                ; 常時ON
MOV D9000:Z3 @D222       ; 位置ﾃﾞｰﾀ先頭ﾊﾞｯﾌｧｱﾄﾞﾚｽ
;  @D223 = D9030:Z3                              'DATA数
;
LD CR2002                ; 常時ON
MOV D9030:Z3 @D223       ; 時間log  ﾃﾞｰﾀ数
;  @D229 = D9120:Z3                              '速度ﾃﾞｰﾀ先頭ｱﾄﾞﾚｽ
;
LD CR2002                ; 常時ON
MOV D9120:Z3 @D229       ; 吐出ﾓｰﾀ正転ﾌﾗｸﾞlog  速度ﾃﾞｰﾀ先頭ﾊﾞｯﾌｧｱﾄﾞﾚｽ
;  FOR @D227=1 TO @D223
;
LD CR2002                ; 常時ON
MOV K1 @D227             ; 読込繰り返しNo.
LABEL K2018
LD> @D227 @D223          ; 読込繰り返しNo.  ﾃﾞｰﾀ数
CJ K2019
;    @D228 = @D221 + @D227 -1                    '書込POINT No.
;
LD CR2002                ; 常時ON
LDA @D227                ; 読込繰り返しNo.
CON
EXT
CON
STA.L @VM14
CON
LDA @D221                ; Position No.
CON
EXT
CON
ADD.L @VM14
CON
SUB.L +1
CON
STA @D228                ; 読込P.No.
;    @D224 = (@D228-1) / 25                      'BANK No.  
;
LD CR2002                ; 常時ON
LDA @D228                ; 読込P.No.
CON
EXT
CON
SUB.L +1
CON
EXT.L
CON
DIV.L +25
CON
STA @D224                ; Bank No.
;    @D225 = @D228 - @D224 * 25                  'P-No. in BANK
;
LD CR2002                ; 常時ON
LDA @D224                ; Bank No.
CON
EXT
CON
MUL.L +25
CON
STA.L @VM16
CON
LDA @D228                ; 読込P.No.
CON
EXT
CON
SUB.L @VM16
CON
STA @D225                ; Position No. in Bank
;    UWRIT(#4,#98,@D224,#1)                      'BANK CHANGE
;
LD CR2002                ; 常時ON
UWRIT K4 K98 @D224 K1    ; Bank No.
;    @D226 = 18016 + 512*(@D225-1)+32*(@D220-1)  'POSITION DATA ADDRESS
;
LD CR2002                ; 常時ON
LDA @D220                ; 軸No.
CON
EXT
CON
SUB.L +1
CON
MUL.L +32
CON
STA.L @VM18
CON
LDA @D225                ; Position No. in Bank
CON
EXT
CON
SUB.L +1
CON
MUL.L +512
CON
ADD.L +18016
CON
ADD.L @VM18
CON
STA @D226                ; 位置ﾃﾞｰﾀｱﾄﾞﾚｽ
;    @D231 = @D226 + 12                          'SPEED DATA ADDRESS
;
LD CR2002                ; 常時ON
LDA @D226                ; 位置ﾃﾞｰﾀｱﾄﾞﾚｽ
CON
EXT
CON
ADD.L +12
CON
STA @D231                ; 速度ﾃﾞｰﾀｱﾄﾞﾚｽ
;    Z1 = @D222 + ((@D227-1) * 2 )
;
LD CR2002                ; 常時ON
LDA @D227                ; 読込繰り返しNo.
CON
EXT
CON
SUB.L +1
CON
MUL.L +2
CON
STA.L @VM20
CON
LDA @D222                ; 位置ﾃﾞｰﾀ先頭ﾊﾞｯﾌｧｱﾄﾞﾚｽ
CON
EXT
CON
ADD.L @VM20
CON
STA.L Z1
;    Z2 = @D229 + ((@D227-1) * 2 )
;
LD CR2002                ; 常時ON
LDA @D227                ; 読込繰り返しNo.
CON
EXT
CON
SUB.L +1
CON
MUL.L +2
CON
STA.L @VM22
CON
LDA @D229                ; 速度ﾃﾞｰﾀ先頭ﾊﾞｯﾌｧｱﾄﾞﾚｽ
CON
EXT
CON
ADD.L @VM22
CON
STA.L Z2
;    UWRIT(#4,@D226,E0:Z1,#2)                    'POSITION WRITE  
;
LD CR2002                ; 常時ON
UWRIT K4 @D226 E0:Z1 K2  ; 位置ﾃﾞｰﾀｱﾄﾞﾚｽ
;    UWRIT(#4,@D231,E0:Z2,#2)                    'POSITION WRITE  
;
LD CR2002                ; 常時ON
UWRIT K4 @D231 E0:Z2 K2  ; 速度ﾃﾞｰﾀｱﾄﾞﾚｽ
;  NEXT
;
LD CR2002                ; 常時ON
INC @D227                ; 読込繰り返しNo.
LDB CR2009               ; 演算結果が負
CJ K2018
LABEL K2019
;UWRIT(#4,#98,#0,#1)
;
LD CR2002                ; 常時ON
UWRIT K4 K98 K0 K1
;NEXT
;
LD CR2002                ; 常時ON
INC @D230                ; ﾌﾞﾛｯｸ繰り返しNo.
LDB CR2009               ; 演算結果が負
CJ K2016
LABEL K2017
;RES(@M45)
;
LD CR2002                ; 常時ON
RES @M45                 ; KEYENCE全ﾃﾞｰﾀ書込開始
;SET(@M46)
LD CR2002                ; 常時ON
SET @M46                 ; KEYENCE全ﾃﾞｰﾀ書込完了
LABEL K1005
;
;FOR @D251 = 61 TO 140
;
;  IF @D251 <= 80  OR ((@D251 >= 101)AND(@D251 <= 120)) THEN  'Y AXIX No. SELECT
;    @D252 = 1
;  ELSE
;    @D252 = 2
;  END IF
;
;  @D254 = (@D251-1) / 25                     'BANK No.
;  @D256 = @D251 - @D254 * 25                 'P-No. in BANK
;
;  UWRIT(#4,#98,@D254,#1)                     'BANK CHANGE
;
;  @D257 = 18016 + 512*(@D256-1)              'POSITION DATA BUFFA ADDRESS X
;  @D258 = @D257 + 32                         'POSITION DATA BUFFA ADDRESS Z
;  @D259 = @D258 + 32*@D252                   'POSITION DATA BUFFA ADDRESS Y
;
;
;  IF (@D251 <> 61)AND(@D251 <> 81)AND(@D251 <> 101)AND(@D251 <> 121) THEN
;    @D260 = 18028 + 512*(@D256-1)            'SPEED DATA BUFFA ADDRESS X 
;    @D261 = @D260 + 32                       'SPEED DATA BUFFA ADDRESS Z
;    @D262 = @D261 + 32*@D252                 'SPEED DATA BUFFA ADDRESS Y
;  END IF
;
;  IF @D251 <= 100 THEN
;    Z1 = 10*(@D251 - 61)
;    Z2 = Z1 +4
;    Z3 = Z1 +2
;    Z4 = Z1 +6
;    Z5 = @D251 -61
;
;    UWRIT(#4,@D257,E2000:Z1,#2)               'POSITION X WRITE
;    UWRIT(#4,@D258,E2000:Z2,#2)               'POSITION Z WRITE
;    UWRIT(#4,@D259,E2000:Z3,#2)               'POSITION Y WRITE
;
;    UWRIT(#4,@D260,E2000:Z4,#2)              'SPEED X WRITE
;    UWRIT(#4,@D261,E2000:Z4,#2)              'SPEED Z WRITE
;    UWRIT(#4,@D262,E2000:Z4,#2)              'SPEED Y WRITE
;
;    @D264 = 18013 + 512*(@D256-1)            'ARC DATA ADDRES
;    @D263 = E3200:Z5                         'ARC data
;    IF @D263.2 = 1 THEN                      'ARC WRITE
;      UWRIT(#4,@D264,#3,#1)
;    ELSE
;      UWRIT(#4,@D264,#0,#1)
;    END IF   
;  ELSE
;    Z1 = 10*(@D251 - 101)
;    Z2 = Z1 +4
;    Z3 = Z1 +2
;    Z4 = Z1 +6
;    Z5 = @D251 -101    
;
;    UWRIT(#4,@D257,E4600:Z1,#2)               'POSITION X WRITE
;    UWRIT(#4,@D258,E4600:Z2,#2)               'POSITION Z WRITE
;    UWRIT(#4,@D259,E4600:Z3,#2)               'POSITION Y WRITE
;
;    UWRIT(#4,@D260,E4600:Z4,#2)              'SPEED X WRITE
;    UWRIT(#4,@D261,E4600:Z4,#2)              'SPEED Z WRITE
;    UWRIT(#4,@D262,E4600:Z4,#2)              'SPEED Y WRITE
;    
;
;    @D264 = 18013 + 512*(@D256-1)            'ARC DATA ADDRES
;    @D263 = E3250:Z5                         'ARC data
;    IF @D263.2 = 1 THEN                      'ARC WRITE
;      UWRIT(#4,@D264,#3,#1)
;    ELSE
;      UWRIT(#4,@D264,#0,#1)
;    END IF
;  
;  END IF
;
;  UWRIT(#4,#98,#0,#1)
;
;
;NEXT 
;
;RES(@M50)
;SET(@M51)
;
;
;
;
;
LD @M50                  ; KEYENCE塗布ﾃﾞｰﾀ書込開始
NCJ K1006
;FOR @D251 = 61 TO 140
;
LD CR2002                ; 常時ON
MOV K61 @D251            ; Position No.
LABEL K2020
LD> @D251 K140           ; Position No.
CJ K2021
;  IF @D251 <= 80  OR ((@D251 >= 101)AND(@D251 <= 120)) THEN  'Y AXIX No. SELECT
;
LD<= @D251 K80           ; Position No.
OUT @VB04
LD>= @D251 K101          ; Position No.
OUT @VB05
LD<= @D251 K120          ; Position No.
AND @VB05
OR @VB04
NCJ K2022
;    @D252 = 1
;
LD CR2002                ; 常時ON
MOV K1 @D252             ; Y軸No.
;  ELSE
;
LD CR2002                ; 常時ON
CJ K2023
LABEL K2022
;    @D252 = 2
;
LD CR2002                ; 常時ON
MOV K2 @D252             ; Y軸No.
;  END IF
;
LABEL K2023
;  @D254 = (@D251-1) / 25                     'BANK No.
;
LD CR2002                ; 常時ON
LDA @D251                ; Position No.
CON
EXT
CON
SUB.L +1
CON
EXT.L
CON
DIV.L +25
CON
STA @D254                ; Bank No.
;  @D256 = @D251 - @D254 * 25                 'P-No. in BANK
;
LD CR2002                ; 常時ON
LDA @D254                ; Bank No.
CON
EXT
CON
MUL.L +25
CON
STA.L @VM24
CON
LDA @D251                ; Position No.
CON
EXT
CON
SUB.L @VM24
CON
STA @D256                ; Position No. in Bank
;  UWRIT(#4,#98,@D254,#1)                     'BANK CHANGE
;
LD CR2002                ; 常時ON
UWRIT K4 K98 @D254 K1    ; Bank No.
;  @D257 = 18016 + 512*(@D256-1)              'POSITION DATA BUFFA ADDRESS X
;
LD CR2002                ; 常時ON
LDA @D256                ; Position No. in Bank
CON
EXT
CON
SUB.L +1
CON
MUL.L +512
CON
ADD.L +18016
CON
STA @D257                ; X軸Point data ﾊﾞｯﾌｧｱﾄﾞﾚｽ
;  @D258 = @D257 + 32                         'POSITION DATA BUFFA ADDRESS Z
;
LD CR2002                ; 常時ON
LDA @D257                ; X軸Point data ﾊﾞｯﾌｧｱﾄﾞﾚｽ
CON
EXT
CON
ADD.L +32
CON
STA @D258                ; Z軸Point data ﾊﾞｯﾌｧｱﾄﾞﾚｽ
;  @D259 = @D258 + 32*@D252                   'POSITION DATA BUFFA ADDRESS Y
;
LD CR2002                ; 常時ON
LDA @D252                ; Y軸No.
CON
EXT
CON
MUL.L +32
CON
STA.L @VM26
CON
LDA @D258                ; Z軸Point data ﾊﾞｯﾌｧｱﾄﾞﾚｽ
CON
EXT
CON
ADD.L @VM26
CON
STA @D259                ; Y軸Point data ﾊﾞｯﾌｧｱﾄﾞﾚｽ
;  IF (@D251 <> 61)AND(@D251 <> 81)AND(@D251 <> 101)AND(@D251 <> 121) THEN
;
LD<> @D251 K61           ; Position No.
OUT @VB06
LD<> @D251 K81           ; Position No.
AND @VB06
OUT @VB07
LD<> @D251 K101          ; Position No.
AND @VB07
OUT @VB08
LD<> @D251 K121          ; Position No.
AND @VB08
NCJ K2024
;    @D260 = 18028 + 512*(@D256-1)            'SPEED DATA BUFFA ADDRESS X 
;
LD CR2002                ; 常時ON
LDA @D256                ; Position No. in Bank
CON
EXT
CON
SUB.L +1
CON
MUL.L +512
CON
ADD.L +18028
CON
STA @D260                ; X軸SPEED data ﾊﾞｯﾌｧｱﾄﾞﾚｽ
;    @D261 = @D260 + 32                       'SPEED DATA BUFFA ADDRESS Z
;
LD CR2002                ; 常時ON
LDA @D260                ; X軸SPEED data ﾊﾞｯﾌｧｱﾄﾞﾚｽ
CON
EXT
CON
ADD.L +32
CON
STA @D261                ; Z軸SPEED data ﾊﾞｯﾌｧｱﾄﾞﾚｽ
;    @D262 = @D261 + 32*@D252                 'SPEED DATA BUFFA ADDRESS Y
;
LD CR2002                ; 常時ON
LDA @D252                ; Y軸No.
CON
EXT
CON
MUL.L +32
CON
STA.L @VM28
CON
LDA @D261                ; Z軸SPEED data ﾊﾞｯﾌｧｱﾄﾞﾚｽ
CON
EXT
CON
ADD.L @VM28
CON
STA @D262                ; Y軸SPEED data ﾊﾞｯﾌｧｱﾄﾞﾚｽ
;  END IF
;
LABEL K2024
;  IF @D251 <= 100 THEN
;
LD<= @D251 K100          ; Position No.
NCJ K2025
;    Z1 = 10*(@D251 - 61)
;
LD CR2002                ; 常時ON
LDA @D251                ; Position No.
CON
EXT
CON
SUB.L +61
CON
MUL.L +10
CON
STA.L Z1
;    Z2 = Z1 +4
;
LD CR2002                ; 常時ON
LDA.L Z1
CON
ADD.L +4
CON
STA.L Z2
;    Z3 = Z1 +2
;
LD CR2002                ; 常時ON
LDA.L Z1
CON
ADD.L +2
CON
STA.L Z3
;    Z4 = Z1 +6
;
LD CR2002                ; 常時ON
LDA.L Z1
CON
ADD.L +6
CON
STA.L Z4
;    Z5 = @D251 -61
;
LD CR2002                ; 常時ON
LDA @D251                ; Position No.
CON
EXT
CON
SUB.L +61
CON
STA.L Z5
;    UWRIT(#4,@D257,E2000:Z1,#2)               'POSITION X WRITE
;
LD CR2002                ; 常時ON
UWRIT K4 @D257 E2000:Z1 K2;X軸Point data ﾊﾞｯﾌｧｱﾄﾞﾚｽ  X_P61
;    UWRIT(#4,@D258,E2000:Z2,#2)               'POSITION Z WRITE
;
LD CR2002                ; 常時ON
UWRIT K4 @D258 E2000:Z2 K2;Z軸Point data ﾊﾞｯﾌｧｱﾄﾞﾚｽ  X_P61
;    UWRIT(#4,@D259,E2000:Z3,#2)               'POSITION Y WRITE
;
LD CR2002                ; 常時ON
UWRIT K4 @D259 E2000:Z3 K2;Y軸Point data ﾊﾞｯﾌｧｱﾄﾞﾚｽ  X_P61
;    UWRIT(#4,@D260,E2000:Z4,#2)              'SPEED X WRITE
;
LD CR2002                ; 常時ON
UWRIT K4 @D260 E2000:Z4 K2;X軸SPEED data ﾊﾞｯﾌｧｱﾄﾞﾚｽ  X_P61
;    UWRIT(#4,@D261,E2000:Z4,#2)              'SPEED Z WRITE
;
LD CR2002                ; 常時ON
UWRIT K4 @D261 E2000:Z4 K2;Z軸SPEED data ﾊﾞｯﾌｧｱﾄﾞﾚｽ  X_P61
;    UWRIT(#4,@D262,E2000:Z4,#2)              'SPEED Y WRITE
;
LD CR2002                ; 常時ON
UWRIT K4 @D262 E2000:Z4 K2;Y軸SPEED data ﾊﾞｯﾌｧｱﾄﾞﾚｽ  X_P61
;    @D264 = 18013 + 512*(@D256-1)            'ARC DATA ADDRES
;
LD CR2002                ; 常時ON
LDA @D256                ; Position No. in Bank
CON
EXT
CON
SUB.L +1
CON
MUL.L +512
CON
ADD.L +18013
CON
STA @D264                ; ARC data Buffa adress
;    @D263 = E3200:Z5                         'ARC data
;
LD CR2002                ; 常時ON
MOV E3200:Z5 @D263       ; P61 FLG  ARC data
;    IF @D263.2 = 1 THEN                      'ARC WRITE
;
LD @D263.2
NCJ K2026
;      UWRIT(#4,@D264,#3,#1)
;
LD CR2002                ; 常時ON
UWRIT K4 @D264 K3 K1     ; ARC data Buffa adress
;    ELSE
;
LD CR2002                ; 常時ON
CJ K2027
LABEL K2026
;      UWRIT(#4,@D264,#0,#1)
;
LD CR2002                ; 常時ON
UWRIT K4 @D264 K0 K1     ; ARC data Buffa adress
;    END IF   
;
LABEL K2027
;  ELSE
;
LD CR2002                ; 常時ON
CJ K2028
LABEL K2025
;    Z1 = 10*(@D251 - 101)
;
LD CR2002                ; 常時ON
LDA @D251                ; Position No.
CON
EXT
CON
SUB.L +101
CON
MUL.L +10
CON
STA.L Z1
;    Z2 = Z1 +4
;
LD CR2002                ; 常時ON
LDA.L Z1
CON
ADD.L +4
CON
STA.L Z2
;    Z3 = Z1 +2
;
LD CR2002                ; 常時ON
LDA.L Z1
CON
ADD.L +2
CON
STA.L Z3
;    Z4 = Z1 +6
;
LD CR2002                ; 常時ON
LDA.L Z1
CON
ADD.L +6
CON
STA.L Z4
;    Z5 = @D251 -101    
;
LD CR2002                ; 常時ON
LDA @D251                ; Position No.
CON
EXT
CON
SUB.L +101
CON
STA.L Z5
;    UWRIT(#4,@D257,E4600:Z1,#2)               'POSITION X WRITE
;
LD CR2002                ; 常時ON
UWRIT K4 @D257 E4600:Z1 K2;X軸Point data ﾊﾞｯﾌｧｱﾄﾞﾚｽ
;    UWRIT(#4,@D258,E4600:Z2,#2)               'POSITION Z WRITE
;
LD CR2002                ; 常時ON
UWRIT K4 @D258 E4600:Z2 K2;Z軸Point data ﾊﾞｯﾌｧｱﾄﾞﾚｽ
;    UWRIT(#4,@D259,E4600:Z3,#2)               'POSITION Y WRITE
;
LD CR2002                ; 常時ON
UWRIT K4 @D259 E4600:Z3 K2;Y軸Point data ﾊﾞｯﾌｧｱﾄﾞﾚｽ
;    UWRIT(#4,@D260,E4600:Z4,#2)              'SPEED X WRITE
;
LD CR2002                ; 常時ON
UWRIT K4 @D260 E4600:Z4 K2;X軸SPEED data ﾊﾞｯﾌｧｱﾄﾞﾚｽ
;    UWRIT(#4,@D261,E4600:Z4,#2)              'SPEED Z WRITE
;
LD CR2002                ; 常時ON
UWRIT K4 @D261 E4600:Z4 K2;Z軸SPEED data ﾊﾞｯﾌｧｱﾄﾞﾚｽ
;    UWRIT(#4,@D262,E4600:Z4,#2)              'SPEED Y WRITE
;
LD CR2002                ; 常時ON
UWRIT K4 @D262 E4600:Z4 K2;Y軸SPEED data ﾊﾞｯﾌｧｱﾄﾞﾚｽ
;    @D264 = 18013 + 512*(@D256-1)            'ARC DATA ADDRES
;
LD CR2002                ; 常時ON
LDA @D256                ; Position No. in Bank
CON
EXT
CON
SUB.L +1
CON
MUL.L +512
CON
ADD.L +18013
CON
STA @D264                ; ARC data Buffa adress
;    @D263 = E3250:Z5                         'ARC data
;
LD CR2002                ; 常時ON
MOV E3250:Z5 @D263       ; ARC data
;    IF @D263.2 = 1 THEN                      'ARC WRITE
;
LD @D263.2
NCJ K2029
;      UWRIT(#4,@D264,#3,#1)
;
LD CR2002                ; 常時ON
UWRIT K4 @D264 K3 K1     ; ARC data Buffa adress
;    ELSE
;
LD CR2002                ; 常時ON
CJ K2030
LABEL K2029
;      UWRIT(#4,@D264,#0,#1)
;
LD CR2002                ; 常時ON
UWRIT K4 @D264 K0 K1     ; ARC data Buffa adress
;    END IF
;
LABEL K2030
;  END IF
;
LABEL K2028
;  UWRIT(#4,#98,#0,#1)
;
LD CR2002                ; 常時ON
UWRIT K4 K98 K0 K1
;NEXT 
;
LD CR2002                ; 常時ON
INC @D251                ; Position No.
LDB CR2009               ; 演算結果が負
CJ K2020
LABEL K2021
;RES(@M50)
;
LD CR2002                ; 常時ON
RES @M50                 ; KEYENCE塗布ﾃﾞｰﾀ書込開始
;SET(@M51)
;
LD CR2002                ; 常時ON
SET @M51                 ; KEYENCE塗布ﾃﾞｰﾀ書込完了
LABEL K1006
;
LD CR2003                ; 常時OFF
SET @M51                 ; KEYENCE塗布ﾃﾞｰﾀ書込完了
;ﾊﾞｯﾌｧ管理  /  Buffer control
LD M330                  ; ﾃﾞｰﾀ読込仮接点
MPS
MCALL P_OUTPUT_K @D190 @D191 @D192 @D193 @M20;軸番号  ﾎﾟｲﾝﾄ番号  ｱﾄﾞﾚｽ  数量
MPP
AND @M20
RES @M20
CON
RES M330                 ; ﾃﾞｰﾀ読込仮接点
LD M331
BMOV E2000 E5000 K3000   ; X_P61
;<h1/>　　RCA1-RCA6ﾃﾞｰﾀ転送
;　　Data Trasport from PLC to RCA1-RCA6
;RCA1転送
;Transfer data to RCA1 
;FOR @D3 = 0 TO 9
;  Z1 = @D3 * 4
;  Z2 = Z1 + 2
;  Z3 = @D3 * 2
;  E34000.L:Z1 = E2800.L:Z3
;  E34000:Z2 = E3900:Z3
;NEXT
;FOR @D3 = 0 TO 19
;  Z1 = @D3 * 4
;  Z2 = Z1 + 2
;  Z3 = @D3 * 2
;  E34080.L:Z1 = E2820.L:Z3
;  E34080:Z2 = E3920:Z3
;NEXT
;SET(@M110)
LD @M100                 ; IAI全ﾃﾞｰﾀ転送開始
NCJ K1010
;FOR @D3 = 0 TO 9
;
LD CR2002                ; 常時ON
MOV K0 @D3               ; IAIﾃﾞｰﾀ転送変数
LABEL K2031
LD> @D3 K9               ; IAIﾃﾞｰﾀ転送変数
CJ K2032
;  Z1 = @D3 * 4
;
LD CR2002                ; 常時ON
LDA @D3                  ; IAIﾃﾞｰﾀ転送変数
CON
EXT
CON
MUL.L +4
CON
STA.L Z1
;  Z2 = Z1 + 2
;
LD CR2002                ; 常時ON
LDA.L Z1
CON
ADD.L +2
CON
STA.L Z2
;  Z3 = @D3 * 2
;
LD CR2002                ; 常時ON
LDA @D3                  ; IAIﾃﾞｰﾀ転送変数
CON
EXT
CON
MUL.L +2
CON
STA.L Z3
;  E34000.L:Z1 = E2800.L:Z3
;
LD CR2002                ; 常時ON
MOV.L E2800:Z3 E34000:Z1 ; PCB嵌合Z_TP_Pos1_Data  RCA1 P1 Position data
;  E34000:Z2 = E3900:Z3
;
LD CR2002                ; 常時ON
MOV E3900:Z3 E34000:Z2   ; 嵌合X_TP_Pos1_Vel_Data  RCA1 P1 Position data
;NEXT
;
LD CR2002                ; 常時ON
INC @D3                  ; IAIﾃﾞｰﾀ転送変数
LDB CR2009               ; 演算結果が負
CJ K2031
LABEL K2032
;FOR @D3 = 0 TO 19
;
LD CR2002                ; 常時ON
MOV K0 @D3               ; IAIﾃﾞｰﾀ転送変数
LABEL K2033
LD> @D3 K19              ; IAIﾃﾞｰﾀ転送変数
CJ K2034
;  Z1 = @D3 * 4
;
LD CR2002                ; 常時ON
LDA @D3                  ; IAIﾃﾞｰﾀ転送変数
CON
EXT
CON
MUL.L +4
CON
STA.L Z1
;  Z2 = Z1 + 2
;
LD CR2002                ; 常時ON
LDA.L Z1
CON
ADD.L +2
CON
STA.L Z2
;  Z3 = @D3 * 2
;
LD CR2002                ; 常時ON
LDA @D3                  ; IAIﾃﾞｰﾀ転送変数
CON
EXT
CON
MUL.L +2
CON
STA.L Z3
;  E34080.L:Z1 = E2820.L:Z3
;
LD CR2002                ; 常時ON
MOV.L E2820:Z3 E34080:Z1 ; PCB嵌合Z_TP_Pos21_Data  RCA1 P21 Position data
;  E34080:Z2 = E3920:Z3
;
LD CR2002                ; 常時ON
MOV E3920:Z3 E34080:Z2   ; 嵌合X_TP_Pos21_Vel_Data  RCA1 P21 Position data
;NEXT
;
LD CR2002                ; 常時ON
INC @D3                  ; IAIﾃﾞｰﾀ転送変数
LDB CR2009               ; 演算結果が負
CJ K2033
LABEL K2034
;SET(@M110)
LD CR2002                ; 常時ON
SET @M110                ; RCA1転送完了
LABEL K1010
;
STG @M100                ; IAI全ﾃﾞｰﾀ転送開始
AND @M110                ; RCA1転送完了
RES @M110                ; RCA1転送完了
CON
JMP @M101                ; RCA2転送
;RCA2転送
;Transfer data to RCA2 
;BMOV(E3300,E34600,50)
;SET(@M111)
LD @M101                 ; RCA2転送
NCJ K1011
;BMOV(E3300,E34600,50)
;
LD CR2002                ; 常時ON
BMOV E3300 E34600 K50    ; R1ｸﾗﾝﾌﾟ開TP_Pos_Data  RCA2 P1 Position data
;SET(@M111)
LD CR2002                ; 常時ON
SET @M111                ; RCA2転送完了
LABEL K1011
;
STG @M101                ; RCA2転送
AND @M111                ; RCA2転送完了
RES @M111                ; RCA2転送完了
CON
JMP @M102                ; RCA3転送
;RCA3転送
;Transfer data to RCA3 
;BMOV(E3350,E34700,50)
;SET(@M112)
LD @M102                 ; RCA3転送
NCJ K1012
;BMOV(E3350,E34700,50)
;
LD CR2002                ; 常時ON
BMOV E3350 E34700 K50    ; R2ｸﾗﾝﾌﾟ開TP_Pos_Data  RCA3 P1 Position data
;SET(@M112)
LD CR2002                ; 常時ON
SET @M112                ; RCA3転送完了
LABEL K1012
;
STG @M102                ; RCA3転送
AND @M112                ; RCA3転送完了
RES @M112                ; RCA3転送完了
CON
JMP @M103                ; RCA4転送
;RCA4転送
;Transfer data to RCA4 
;FOR @D3 = 0 TO 9
;  Z1 = @D3 * 4
;  Z2 = Z1 + 2
;  Z3 = @D3 * 2
;  E34200.L:Z1 = E2900.L:Z3
;  E34200:Z2 = E4000:Z3
;NEXT
;FOR @D3 = 0 TO 19
;  Z1 = @D3 * 4
;  Z2 = Z1 + 2
;  Z3 = @D3 * 2
;  E34280.L:Z1 = E2920.L:Z3
;  E34280:Z2 = E4020:Z3
;NEXT
;SET(@M113)
LD @M103                 ; RCA4転送
NCJ K1013
;FOR @D3 = 0 TO 9
;
LD CR2002                ; 常時ON
MOV K0 @D3               ; IAIﾃﾞｰﾀ転送変数
LABEL K2035
LD> @D3 K9               ; IAIﾃﾞｰﾀ転送変数
CJ K2036
;  Z1 = @D3 * 4
;
LD CR2002                ; 常時ON
LDA @D3                  ; IAIﾃﾞｰﾀ転送変数
CON
EXT
CON
MUL.L +4
CON
STA.L Z1
;  Z2 = Z1 + 2
;
LD CR2002                ; 常時ON
LDA.L Z1
CON
ADD.L +2
CON
STA.L Z2
;  Z3 = @D3 * 2
;
LD CR2002                ; 常時ON
LDA @D3                  ; IAIﾃﾞｰﾀ転送変数
CON
EXT
CON
MUL.L +2
CON
STA.L Z3
;  E34200.L:Z1 = E2900.L:Z3
;
LD CR2002                ; 常時ON
MOV.L E2900:Z3 E34200:Z1 ; Cover嵌合Z_TP_Pos1_Data  RCA4 P1 Position data
;  E34200:Z2 = E4000:Z3
;
LD CR2002                ; 常時ON
MOV E4000:Z3 E34200:Z2   ; 嵌合Z_TP_Pos1_Vel_Data  RCA4 P1 Position data
;NEXT
;
LD CR2002                ; 常時ON
INC @D3                  ; IAIﾃﾞｰﾀ転送変数
LDB CR2009               ; 演算結果が負
CJ K2035
LABEL K2036
;FOR @D3 = 0 TO 19
;
LD CR2002                ; 常時ON
MOV K0 @D3               ; IAIﾃﾞｰﾀ転送変数
LABEL K2037
LD> @D3 K19              ; IAIﾃﾞｰﾀ転送変数
CJ K2038
;  Z1 = @D3 * 4
;
LD CR2002                ; 常時ON
LDA @D3                  ; IAIﾃﾞｰﾀ転送変数
CON
EXT
CON
MUL.L +4
CON
STA.L Z1
;  Z2 = Z1 + 2
;
LD CR2002                ; 常時ON
LDA.L Z1
CON
ADD.L +2
CON
STA.L Z2
;  Z3 = @D3 * 2
;
LD CR2002                ; 常時ON
LDA @D3                  ; IAIﾃﾞｰﾀ転送変数
CON
EXT
CON
MUL.L +2
CON
STA.L Z3
;  E34280.L:Z1 = E2920.L:Z3
;
LD CR2002                ; 常時ON
MOV.L E2920:Z3 E34280:Z1 ; Cover嵌合Z_TP_Pos21_Data  RCA4 P21 Position data
;  E34280:Z2 = E4020:Z3
;
LD CR2002                ; 常時ON
MOV E4020:Z3 E34280:Z2   ; 嵌合Z_TP_Pos21_Vel_Data  RCA4 P21 Position data
;NEXT
;
LD CR2002                ; 常時ON
INC @D3                  ; IAIﾃﾞｰﾀ転送変数
LDB CR2009               ; 演算結果が負
CJ K2037
LABEL K2038
;SET(@M113)
LD CR2002                ; 常時ON
SET @M113                ; RCA4転送完了
LABEL K1013
;
STG @M103                ; RCA4転送
AND @M113                ; RCA4転送完了
RES @M113                ; RCA4転送完了
CON
JMP @M104                ; RCA5転送
;RCA5転送
;Transfer data to RCA5 
;FOR @D3 = 0 TO 9
;  Z1 = @D3 * 4
;  Z2 = Z1 + 2
;  Z3 = @D3 * 2
;  E34400.L:Z1 = E3100.L:Z3
;  E34400:Z2 = E4200:Z3
;NEXT
;
;SET(@M114)
LD @M104                 ; RCA5転送
NCJ K1014
;FOR @D3 = 0 TO 9
;
LD CR2002                ; 常時ON
MOV K0 @D3               ; IAIﾃﾞｰﾀ転送変数
LABEL K2039
LD> @D3 K9               ; IAIﾃﾞｰﾀ転送変数
CJ K2040
;  Z1 = @D3 * 4
;
LD CR2002                ; 常時ON
LDA @D3                  ; IAIﾃﾞｰﾀ転送変数
CON
EXT
CON
MUL.L +4
CON
STA.L Z1
;  Z2 = Z1 + 2
;
LD CR2002                ; 常時ON
LDA.L Z1
CON
ADD.L +2
CON
STA.L Z2
;  Z3 = @D3 * 2
;
LD CR2002                ; 常時ON
LDA @D3                  ; IAIﾃﾞｰﾀ転送変数
CON
EXT
CON
MUL.L +2
CON
STA.L Z3
;  E34400.L:Z1 = E3100.L:Z3
;
LD CR2002                ; 常時ON
MOV.L E3100:Z3 E34400:Z1 ; 除材1Y_TP_Pos1_Data  RCA5 P1 Position data
;  E34400:Z2 = E4200:Z3
;
LD CR2002                ; 常時ON
MOV E4200:Z3 E34400:Z2   ; 除材1Y_TP_Pos1_Vel_Data  RCA5 P1 Position data
;NEXT
;
LD CR2002                ; 常時ON
INC @D3                  ; IAIﾃﾞｰﾀ転送変数
LDB CR2009               ; 演算結果が負
CJ K2039
LABEL K2040
;SET(@M114)
LD CR2002                ; 常時ON
SET @M114                ; RCA5転送完了
LABEL K1014
;
STG @M104                ; RCA5転送
AND @M114                ; RCA5転送完了
RES @M114                ; RCA5転送完了
CON
JMP @M105                ; RCA6転送
;RCA6転送
;Transfer data to RCA6 
;FOR @D3 = 0 TO 9
;  Z1 = @D3 * 4
;  Z2 = Z1 + 2
;  Z3 = @D3 * 2
;  E34500.L:Z1 = E3150.L:Z3
;  E34500:Z2 = E4250:Z3
;NEXT
;SET(@M115)
LD @M105                 ; RCA6転送
NCJ K1015
;FOR @D3 = 0 TO 9
;
LD CR2002                ; 常時ON
MOV K0 @D3               ; IAIﾃﾞｰﾀ転送変数
LABEL K2041
LD> @D3 K9               ; IAIﾃﾞｰﾀ転送変数
CJ K2042
;  Z1 = @D3 * 4
;
LD CR2002                ; 常時ON
LDA @D3                  ; IAIﾃﾞｰﾀ転送変数
CON
EXT
CON
MUL.L +4
CON
STA.L Z1
;  Z2 = Z1 + 2
;
LD CR2002                ; 常時ON
LDA.L Z1
CON
ADD.L +2
CON
STA.L Z2
;  Z3 = @D3 * 2
;
LD CR2002                ; 常時ON
LDA @D3                  ; IAIﾃﾞｰﾀ転送変数
CON
EXT
CON
MUL.L +2
CON
STA.L Z3
;  E34500.L:Z1 = E3150.L:Z3
;
LD CR2002                ; 常時ON
MOV.L E3150:Z3 E34500:Z1 ; 除材2Y_TP_Pos1_Data  RCA6 P1 Position data
;  E34500:Z2 = E4250:Z3
;
LD CR2002                ; 常時ON
MOV E4250:Z3 E34500:Z2   ; 除材2Y_TP_Pos1_Vel_Data  RCA6 P1 Position data
;NEXT
;
LD CR2002                ; 常時ON
INC @D3                  ; IAIﾃﾞｰﾀ転送変数
LDB CR2009               ; 演算結果が負
CJ K2041
LABEL K2042
;SET(@M115)
LD CR2002                ; 常時ON
SET @M115                ; RCA6転送完了
LABEL K1015
;
STG @M105                ; RCA6転送
AND @M115                ; RCA6転送完了
RES @M115                ; RCA6転送完了
CON
SET @M38                 ; SMC全転送完了
CON
ENDS
;<h1/>　　浮きｾﾝｻ閾値転送
;　　Threshold Data Trasport from PLC to SNU
;通常生産
;Normal Products
STG R32100               ; 通常生産用閾値書込
SET R32102               ; 通常閾値 書込中
CON
JMP @M121
STG @M121
MPS
ANB T35                  ; Retry delay
JMP @M122
MRD
MOV E3430 @D304          ; PCB Product F.S.1 Threshold  SNU1-1-PD 設定値
MRD
MOV E3431 @D309          ; PCB Product F.S.2 Threshold  SNU1-2-PD 設定値
MRD
MOV E3434 @D324          ; Cover Product F.S.1 Threshold  SNU2-1-PD 設定値
MPP
MOV E3435 @D329          ; Cover Product F.S.2 Threshold  SNU2-2-PD 設定値
STG @M122
JMP @M123
SPWR K0 K1 K1 K833 @D300 ; SNU1-1-PD 結果格納先
SPWR K0 K1 K2 K833 @D305 ; SNU1-2-PD 結果格納先
SPWR K0 K2 K1 K833 @D320 ; SNU2-1-PD 結果格納先
SPWR K0 K2 K2 K833 @D325 ; SNU2-2-PD 結果格納先
STG @M123
MPS
LD @D300.0               ; SNU1-1_PD 完了ﾋﾞｯﾄ
AND @D305.0              ; SNU1-2_PD 完了ﾋﾞｯﾄ
AND @D320.0              ; SNU2-1_PD 完了ﾋﾞｯﾄ
AND @D325.0              ; SNU2-2_PD 完了ﾋﾞｯﾄ
ANL
JMP @M124
MPP
TMR K35 K5               ; Retry delay
CON
AND T35                  ; Retry delay
JMP @M121
STG @M124
RES @D300.0              ; SNU1-1_PD 完了ﾋﾞｯﾄ
CON
RES @D305.0              ; SNU1-2_PD 完了ﾋﾞｯﾄ
CON
RES @D320.0              ; SNU2-1_PD 完了ﾋﾞｯﾄ
CON
RES @D325.0              ; SNU2-2_PD 完了ﾋﾞｯﾄ
CON
RES R32102               ; 通常閾値 書込中
CON
SET R32101               ; SNU閾値書込完了FLG.
CON
ENDS
;日常点検
;Daily check
STG R32105               ; 日常点検用閾値書込
SET R32107               ; 日常点検閾値書込中
CON
JMP @M131
STG @M131
MPS
ANB T36                  ; Retry delay
JMP @M132
MRD
MOV E3432 @D314          ; PCB D.C F.S.1 Threshold  SNU1-1-DC 設定値
MRD
MOV E3433 @D319          ; PCB D.C F.S.2 Threshold  SNU1-2-DC 設定値
MRD
MOV E3436 @D334          ; Cover D.C F.S.1 Threshold  SNU2-1-DC 設定値
MPP
MOV E3437 @D339          ; Cover D.C F.S.2 Threshold  SNU2-2-DC 設定値
STG @M132
JMP @M133
SPWR K0 K1 K1 K833 @D310 ; SNU1-1-DC 結果格納先
SPWR K0 K1 K2 K833 @D315 ; SNU1-2-DC 結果格納先
SPWR K0 K2 K1 K833 @D330 ; SNU2-1-DC 結果格納先
SPWR K0 K2 K2 K833 @D335 ; SNU2-2-DC 結果格納先
STG @M133
MPS
LD @D310.0               ; SNU1-1_DC 完了ﾋﾞｯﾄ
AND @D315.0              ; SNU1-2_DC 完了ﾋﾞｯﾄ
AND @D330.0              ; SNU2-1_DC 完了ﾋﾞｯﾄ
AND @D335.0              ; SNU2-2_DC 完了ﾋﾞｯﾄ
ANL
JMP @M134
MPP
TMR K36 K5               ; Retry delay
CON
AND T36                  ; Retry delay
JMP @M131
STG @M134
RES @D310.0              ; SNU1-1_DC 完了ﾋﾞｯﾄ
CON
RES @D315.0              ; SNU1-2_DC 完了ﾋﾞｯﾄ
CON
RES @D330.0              ; SNU2-1_DC 完了ﾋﾞｯﾄ
CON
RES @D335.0              ; SNU2-2_DC 完了ﾋﾞｯﾄ
CON
RES R32107               ; 日常点検閾値書込中
CON
SET R32106               ; SNU閾値書込完了FLG.
CON
ENDS
;閾値切り替え
;Threshold change
LDP M44                  ; 接着剤塗布日常点検
SET R32105               ; 日常点検用閾値書込
LDF M44                  ; 接着剤塗布日常点検
ORP M97                  ; 原点復帰動作中
LDP B0490                ; 閾値仮書込sw
ANB R32102               ; 通常閾値 書込中
ORL
MPS
SET R32100               ; 通常生産用閾値書込
MPP
AND B0490                ; 閾値仮書込sw
SET R31508               ; Sensor threshold set
;
LDP M1020                ; Jig番号確認
LDP M1016                ; ｴﾗｰ発生
AND CR2003               ; 常時OFF
ORL
BMOV D11000 D11001 K90
SPRD K0 K1 K1 K805 D11000
BMOV D11100 D11101 K90
SPRD K0 K1 K2 K805 D11100
LDP M3020                ; Jig番号確認
LDP M3016                ; ｴﾗｰ発生
AND CR2003               ; 常時OFF
ORL
BMOV D11200 D11201 K90
SPRD K0 K2 K1 K805 D11200
BMOV D11300 D11301 K90
SPRD K0 K2 K2 K805 D11300
;<h1/>転送
;KK
;ﾃﾞｰﾀ転送(ｷｰｴﾝｽ,ｷｰｴﾝｽ)
;Transfer data to KEYENCE + KEYENCE
LD R30800                ; KK転送中
MPS
MCALL D_INPUT_K @D80 @D81 @D82 @D84 R30801;KK書込1_軸No.  KK書込1_Point No.  KK書込1_Position data  KK書込1_Vel. data  KK転送完了1
MPP
AND R30801               ; KK転送完了1
MCALL D_INPUT_K @D86 @D87 @D88 @D90 R30802;KK書込2_軸No.  KK書込2_Point No.  KK書込2_Position data  KK書込2_Vel. data  KK転送完了2
LD R30801                ; KK転送完了1
AND R30802               ; KK転送完了2
ZRES R30800 R30803       ; KK転送中
;KKK
;ﾃﾞｰﾀ転送(ｷｰｴﾝｽ,ｷｰｴﾝｽ,ｷｰｴﾝｽ)
;Transfer data to KEYENCE + KEYENCE + KEYENCE
LD R30908                ; KKK転送中
MCALL D_INPUT_K @D130 @D131 @D132 @D134 R30909;KKK書込1_軸No.  KKK書込1_Point No.  KKK書込1_Position data  KKK書込1_Vel. data  KKK転送完了1
MPS
AND R30909               ; KKK転送完了1
MCALL D_INPUT_K @D136 @D137 @D138 @D140 R30910;KKK書込2_軸No.  KKK書込2_Point No.  KKK書込2_Position data  KKK書込2_Vel. data  KKK転送完了2
MPP
AND R30910               ; KKK転送完了2
MCALL D_INPUT_K @D142 @D143 @D144 @D146 R30911;KKK書込3_軸No.  KKK書込3_Point No.  KKK書込3_Position data  KKK書込3_Vel. data  KKK転送完了3
LD R30909                ; KKK転送完了1
AND R30910               ; KKK転送完了2
AND R30911               ; KKK転送完了3
ZRES R30908 R30911       ; KKK転送中  KKK転送完了3
;K
;ﾃﾞｰﾀ転送(ｷｰｴﾝｽ)
;Transfer data to KEYENCE
LD R30914                ; K転送中
MPS
MCALL D_INPUT_K @D150 @D151 @D152 @D154 R30915;K書込1_軸No.  K書込1_Point No.  K書込1_Position data  K書込1_Vel. data  K転送完了1
MPP
AND R30915               ; K転送完了1
ZRES R30914 R30915       ; K転送中  K転送完了1
;<h1/>Move
;Point move
;Bonding-1
LD CR2002                ; 常時ON
MPS
LDP E3200.0              ; Move sw
AND M4610                ; 塗布ﾍｯﾄﾞZ軸動作可
OR @M10                  ; Z軸上昇
ANB @M12                 ; P61移動完了
ANL
MPS
OUT @M10                 ; Z軸上昇
MPP
ANB @M11                 ; XY_P61 move
DW K1 D4051              ; 塗布Z軸  移動No.
CON
OUT R31808               ; 塗布Z軸起動
MRD
LD @M10                  ; Z軸上昇
AND M4810                ; 塗布Z 移動完了
AND M4609                ; 塗布ﾍｯﾄﾞX軸動作可
AND M1610                ; ｹｰｽ搬送Y1動作可
OR @M11                  ; XY_P61 move
ANB @M12                 ; P61移動完了
ANL
MPS
@RES M4810               ; 塗布Z 移動完了
CON
OUT @M11                 ; XY_P61 move
MRD
DW K61 D4050             ; 塗布X軸  移動No.
CON
OUT R31800               ; 塗布X軸起動
MPP
DW K61 D1050             ; 搬送Y1   移動No.
CON
OUT R31700               ; Case搬送Y1起動
MRD
LD @M11                  ; XY_P61 move
AND M4800                ; 塗布X 移動完了
AND M1800                ; 搬送Y1 移動完了
AND M4610                ; 塗布ﾍｯﾄﾞZ軸動作可
OR @M18                  ; Z_P61 move
ANB @M12                 ; P61移動完了
ANL
MPS
RES M4800                ; 塗布X 移動完了
CON
RES M1800                ; 搬送Y1 移動完了
CON
OUT @M18                 ; Z_P61 move
MPP
DW K61 D4051             ; 塗布Z軸  移動No.
CON
OUT R31809               ; 塗布Z軸起動
MPP
LD @M18                  ; Z_P61 move
AND M4810                ; 塗布Z 移動完了
ANL
@RES M4810               ; 塗布Z 移動完了
CON
OUT @M12                 ; P61移動完了
LD=.L D31290 E2000       ; 軸1 現在座標  X_P61
LD<=.L D31350 +1500      ; 軸2 現在座標
OR=.L D31350 E2004       ; 軸2 現在座標  Z_P61
ANL
AND=.L D31410 E2002      ; 軸3 現在座標  Y1_P61
LD=.L D31290 +69700      ; 軸1 現在座標
AND<=.L D31350 +1500     ; 軸2 現在座標
AND=.L D31410 +26600     ; 軸3 現在座標
ORL
OUT @M13                 ; P61
LD<> D502 K61            ; 完了ポイントNo.
AND<> D31304 K61         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M13                 ; P61
INV
AND E3201.0              ; Move sw
AND>=.L E2010 +42000
AND>=.L E2012 +11000
DW K62 D4050             ; 塗布X軸  移動No.
LD<> D502 K62            ; 完了ポイントNo.
AND<> D31304 K62         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M13                 ; P61
INV
AND E3202.0              ; Move sw
AND>=.L E2020 +42000
AND>=.L E2022 +11000
DW K63 D4050             ; 塗布X軸  移動No.
LD<> D502 K63            ; 完了ポイントNo.
AND<> D31304 K63         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M13                 ; P61
INV
AND E3203.0              ; Move sw
AND>=.L E2030 +42000
AND>=.L E2032 +11000
DW K64 D4050             ; 塗布X軸  移動No.
LD<> D502 K64            ; 完了ポイントNo.
AND<> D31304 K64         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M13                 ; P61
INV
AND E3204.0              ; Move sw
AND>=.L E2040 +42000
AND>=.L E2042 +11000
DW K65 D4050             ; 塗布X軸  移動No.
LD<> D502 K65            ; 完了ポイントNo.
AND<> D31304 K65         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M13                 ; P61
INV
AND E3205.0              ; Move sw
AND>=.L E2050 +42000
AND>=.L E2052 +11000
DW K66 D4050             ; 塗布X軸  移動No.
LD<> D502 K66            ; 完了ポイントNo.
AND<> D31304 K66         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M13                 ; P61
INV
AND E3206.0              ; Move sw
AND>=.L E2060 +42000
AND>=.L E2062 +11000
DW K67 D4050             ; 塗布X軸  移動No.
LD<> D502 K67            ; 完了ポイントNo.
AND<> D31304 K67         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M13                 ; P61
INV
AND E3207.0              ; Move sw
AND>=.L E2070 +42000
AND>=.L E2072 +11000
DW K68 D4050             ; 塗布X軸  移動No.
LD<> D502 K68            ; 完了ポイントNo.
AND<> D31304 K68         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M13                 ; P61
INV
AND E3208.0              ; Move sw
AND>=.L E2080 +42000
AND>=.L E2082 +11000
DW K69 D4050             ; 塗布X軸  移動No.
LD<> D502 K69            ; 完了ポイントNo.
AND<> D31304 K69         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M13                 ; P61
INV
AND E3209.0              ; Move sw
AND>=.L E2090 +42000
AND>=.L E2092 +11000
DW K70 D4050             ; 塗布X軸  移動No.
LD<> D502 K70            ; 完了ポイントNo.
AND<> D31304 K70         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M13                 ; P61
INV
AND E3210.0              ; Move sw
AND>=.L E2100 +42000
AND>=.L E2102 +11000
DW K71 D4050             ; 塗布X軸  移動No.
LD<> D502 K71            ; 完了ポイントNo.
AND<> D31304 K71         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M13                 ; P61
INV
AND E3211.0              ; Move sw
AND>=.L E2110 +42000
AND>=.L E2112 +11000
DW K72 D4050             ; 塗布X軸  移動No.
LD<> D502 K72            ; 完了ポイントNo.
AND<> D31304 K72         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M13                 ; P61
INV
AND E3212.0              ; Move sw
AND>=.L E2120 +42000
AND>=.L E2122 +11000
DW K73 D4050             ; 塗布X軸  移動No.
LD<> D502 K73            ; 完了ポイントNo.
AND<> D31304 K73         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M13                 ; P61
INV
AND E3213.0              ; Move sw
AND>=.L E2130 +42000
AND>=.L E2132 +11000
DW K74 D4050             ; 塗布X軸  移動No.
LD<> D502 K74            ; 完了ポイントNo.
AND<> D31304 K74         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M13                 ; P61
INV
AND E3214.0              ; Move sw
AND>=.L E2140 +42000
AND>=.L E2142 +11000
DW K75 D4050             ; 塗布X軸  移動No.
LD<> D502 K75            ; 完了ポイントNo.
AND<> D31304 K75         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M13                 ; P61
INV
AND E3215.0              ; Move sw
AND>=.L E2150 +42000
AND>=.L E2152 +11000
DW K76 D4050             ; 塗布X軸  移動No.
LD<> D502 K76            ; 完了ポイントNo.
AND<> D31304 K76         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M13                 ; P61
INV
AND E3216.0              ; Move sw
AND>=.L E2160 +42000
AND>=.L E2162 +11000
DW K77 D4050             ; 塗布X軸  移動No.
LD<> D502 K77            ; 完了ポイントNo.
AND<> D31304 K77         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M13                 ; P61
INV
AND E3217.0              ; Move sw
AND>=.L E2170 +42000
AND>=.L E2172 +11000
DW K78 D4050             ; 塗布X軸  移動No.
LD<> D502 K78            ; 完了ポイントNo.
AND<> D31304 K78         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M13                 ; P61
INV
AND E3218.0              ; Move sw
AND>=.L E2180 +42000
AND>=.L E2182 +11000
DW K79 D4050             ; 塗布X軸  移動No.
LD<> D502 K79            ; 完了ポイントNo.
AND<> D31304 K79         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M13                 ; P61
INV
AND E3219.0              ; Move sw
AND>=.L E2190 +42000
AND>=.L E2192 +11000
DW K80 D4050             ; 塗布X軸  移動No.
;Bonding-2
LD CR2002                ; 常時ON
MPS
LDP E3220.0              ; Move sw
AND M4610                ; 塗布ﾍｯﾄﾞZ軸動作可
OR @M14                  ; Z軸上昇
ANB @M16                 ; P81移動完了
ANL
MPS
OUT @M14                 ; Z軸上昇
MPP
ANB @M15                 ; XY_P81 move
DW K1 D4051              ; 塗布Z軸  移動No.
CON
OUT R31810               ; 塗布Z軸起動
MRD
LD @M14                  ; Z軸上昇
AND M4810                ; 塗布Z 移動完了
AND M4609                ; 塗布ﾍｯﾄﾞX軸動作可
AND M3610                ; Case搬送Y2動作可
OR @M15                  ; XY_P81 move
ANB @M16                 ; P81移動完了
ANL
MPS
@RES M4810               ; 塗布Z 移動完了
CON
OUT @M15                 ; XY_P81 move
MRD
DW K81 D4050             ; 塗布X軸  移動No.
CON
OUT R31801               ; 塗布X軸起動
MPP
DW K81 D3050             ; 搬送Y2   移動No.
CON
OUT R31708               ; Case搬送Y2起動
MRD
LD @M15                  ; XY_P81 move
ANB M4810                ; 塗布Z 移動完了
AND M4800                ; 塗布X 移動完了
AND M3800                ; 搬送Y2 移動完了
AND M4610                ; 塗布ﾍｯﾄﾞZ軸動作可
OR @M19                  ; Z_P81 move
ANB @M16                 ; P81移動完了
ANL
MPS
RES M4800                ; 塗布X 移動完了
CON
RES M3800                ; 搬送Y2 移動完了
CON
OUT @M19                 ; Z_P81 move
MPP
DW K81 D4051             ; 塗布Z軸  移動No.
CON
OUT R31811               ; 塗布Z軸起動
MPP
LD @M19                  ; Z_P81 move
AND M4810                ; 塗布Z 移動完了
ANL
RES M4810                ; 塗布Z 移動完了
CON
OUT @M16                 ; P81移動完了
LD=.L D31290 E2200       ; 軸1 現在座標  X_P81
LD<=.L D31350 +1500      ; 軸2 現在座標
OR=.L D31350 E2204       ; 軸2 現在座標  Z_P81
ANL
AND=.L D31470 E2202      ; 軸4 現在座標  Y2_P81
OUT @M17                 ; P81
LD<> D502 K81            ; 完了ポイントNo.
AND<> D31304 K81         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M17                 ; P81
INV
AND E3221.0              ; Move sw
AND<=.L E2210 +48000
AND>=.L E2212 +11000
DW K82 D4050             ; 塗布X軸  移動No.
LD<> D502 K82            ; 完了ポイントNo.
AND<> D31304 K82         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M17                 ; P81
INV
AND E3222.0              ; Move sw
AND<=.L E2220 +48000
AND>=.L E2222 +11000
DW K83 D4050             ; 塗布X軸  移動No.
LD<> D502 K83            ; 完了ポイントNo.
AND<> D31304 K83         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M17                 ; P81
INV
AND E3223.0              ; Move sw
AND<=.L E2230 +48000
AND>=.L E2232 +11000
DW K84 D4050             ; 塗布X軸  移動No.
LD<> D502 K84            ; 完了ポイントNo.
AND<> D31304 K84         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M17                 ; P81
INV
AND E3224.0              ; Move sw
AND<=.L E2240 +48000
AND>=.L E2242 +11000
DW K85 D4050             ; 塗布X軸  移動No.
LD<> D502 K85            ; 完了ポイントNo.
AND<> D31304 K85         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M17                 ; P81
INV
AND E3225.0              ; Move sw
AND<=.L E2250 +48000
AND>=.L E2252 +11000
DW K86 D4050             ; 塗布X軸  移動No.
LD<> D502 K86            ; 完了ポイントNo.
AND<> D31304 K86         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M17                 ; P81
INV
AND E3226.0              ; Move sw
AND<=.L E2260 +48000
AND>=.L E2262 +11000
DW K87 D4050             ; 塗布X軸  移動No.
LD<> D502 K87            ; 完了ポイントNo.
AND<> D31304 K87         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M17                 ; P81
INV
AND E3227.0              ; Move sw
AND<=.L E2270 +48000
AND>=.L E2272 +11000
DW K88 D4050             ; 塗布X軸  移動No.
LD<> D502 K88            ; 完了ポイントNo.
AND<> D31304 K88         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M17                 ; P81
INV
AND E3228.0              ; Move sw
AND<=.L E2280 +48000
AND>=.L E2282 +11000
DW K89 D4050             ; 塗布X軸  移動No.
LD<> D502 K89            ; 完了ポイントNo.
AND<> D31304 K89         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M17                 ; P81
INV
AND E3229.0              ; Move sw
AND<=.L E2290 +48000
AND>=.L E2292 +11000
DW K90 D4050             ; 塗布X軸  移動No.
LD<> D502 K90            ; 完了ポイントNo.
AND<> D31304 K90         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M17                 ; P81
INV
AND E3230.0              ; Move sw
AND<=.L E2300 +48000
AND>=.L E2302 +11000
DW K91 D4050             ; 塗布X軸  移動No.
LD<> D502 K91            ; 完了ポイントNo.
AND<> D31304 K91         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M17                 ; P81
INV
AND E3231.0              ; Move sw
AND<=.L E2310 +48000
AND>=.L E2312 +11000
DW K92 D4050             ; 塗布X軸  移動No.
LD<> D502 K92            ; 完了ポイントNo.
AND<> D31304 K92         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M17                 ; P81
INV
AND E3232.0              ; Move sw
AND<=.L E2320 +48000
AND>=.L E2322 +11000
DW K93 D4050             ; 塗布X軸  移動No.
LD<> D502 K93            ; 完了ポイントNo.
AND<> D31304 K93         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M17                 ; P81
INV
AND E3233.0              ; Move sw
AND<=.L E2330 +48000
AND>=.L E2332 +11000
DW K94 D4050             ; 塗布X軸  移動No.
LD<> D502 K94            ; 完了ポイントNo.
AND<> D31304 K94         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M17                 ; P81
INV
AND E3234.0              ; Move sw
AND<=.L E2340 +48000
AND>=.L E2342 +11000
DW K95 D4050             ; 塗布X軸  移動No.
LD<> D502 K95            ; 完了ポイントNo.
AND<> D31304 K95         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M17                 ; P81
INV
AND E3235.0              ; Move sw
AND<=.L E2350 +48000
AND>=.L E2352 +11000
DW K96 D4050             ; 塗布X軸  移動No.
LD<> D502 K96            ; 完了ポイントNo.
AND<> D31304 K96         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M17                 ; P81
INV
AND E3236.0              ; Move sw
AND<=.L E2360 +48000
AND>=.L E2362 +11000
DW K97 D4050             ; 塗布X軸  移動No.
LD<> D502 K97            ; 完了ポイントNo.
AND<> D31304 K97         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M17                 ; P81
INV
AND E3237.0              ; Move sw
AND<=.L E2370 +48000
AND>=.L E2372 +11000
DW K98 D4050             ; 塗布X軸  移動No.
LD<> D502 K98            ; 完了ポイントNo.
AND<> D31304 K98         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M17                 ; P81
INV
AND E3238.0              ; Move sw
AND<=.L E2380 +48000
AND>=.L E2382 +11000
DW K99 D4050             ; 塗布X軸  移動No.
LD<> D502 K99            ; 完了ポイントNo.
AND<> D31304 K99         ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M17                 ; P81
INV
AND E3239.0              ; Move sw
AND<=.L E2390 +48000
AND>=.L E2392 +11000
DW K100 D4050            ; 塗布X軸  移動No.
;<h1/>Daily check1
LDB M65                  ; 即停止異常(緊急停止)
MC
LD CR2002                ; 常時ON
MPS
LDP E3250.0              ; Move sw
AND M4610                ; 塗布ﾍｯﾄﾞZ軸動作可
OR @M21                  ; Z軸上昇
ANB @M24                 ; P101移動完了
ANL
MPS
OUT @M21                 ; Z軸上昇
MPP
ANB @M22                 ; XY_P101 move
DW K1 D4051              ; 塗布Z軸  移動No.
CON
OUT R31812               ; 塗布Z軸起動
MRD
LD @M21                  ; Z軸上昇
AND M4810                ; 塗布Z 移動完了
AND M4609                ; 塗布ﾍｯﾄﾞX軸動作可
AND M1610                ; ｹｰｽ搬送Y1動作可
OR @M22                  ; XY_P101 move
ANB @M24                 ; P101移動完了
ANL
MPS
@RES M4810               ; 塗布Z 移動完了
CON
OUT @M22                 ; XY_P101 move
MRD
DW K101 D4050            ; 塗布X軸  移動No.
CON
OUT R31802               ; 塗布X軸起動
MPP
DW K101 D1050            ; 搬送Y1   移動No.
CON
OUT R31701               ; Case搬送Y1起動
MRD
LD @M22                  ; XY_P101 move
AND M4800                ; 塗布X 移動完了
AND M1800                ; 搬送Y1 移動完了
AND M4610                ; 塗布ﾍｯﾄﾞZ軸動作可
OR @M23                  ; Z_P101 move
ANB @M24                 ; P101移動完了
ANL
MPS
RES M4800                ; 塗布X 移動完了
CON
RES M1800                ; 搬送Y1 移動完了
CON
OUT @M23                 ; Z_P101 move
MPP
DW K101 D4051            ; 塗布Z軸  移動No.
CON
OUT R31813               ; 塗布Z軸起動
MPP
LD @M23                  ; Z_P101 move
AND M4810                ; 塗布Z 移動完了
ANL
@RES M4810               ; 塗布Z 移動完了
CON
OUT @M24                 ; P101移動完了
MCR
LD=.L D31290 E4600       ; 軸1 現在座標
LD=.L D31350 E4604       ; 軸2 現在座標
OR<=.L D31350 +1500      ; 軸2 現在座標
ANL
AND=.L D31410 E4602      ; 軸3 現在座標
OUT @M27                 ; P101
LD<> D502 K101           ; 完了ポイントNo.
AND<> D31304 K101        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M27                 ; P101
INV
AND E3251.0              ; Move sw
AND>=.L E4610 +42000
AND>=.L E4612 +11000
DW K102 D4050            ; 塗布X軸  移動No.
LD<> D502 K102           ; 完了ポイントNo.
AND<> D31304 K102        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M27                 ; P101
INV
AND E3252.0              ; Move sw
AND>=.L E4620 +42000
AND>=.L E4622 +11000
DW K103 D4050            ; 塗布X軸  移動No.
LD<> D502 K103           ; 完了ポイントNo.
AND<> D31304 K103        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M27                 ; P101
INV
AND E3253.0              ; Move sw
AND>=.L E4630 +42000
AND>=.L E4632 +11000
DW K104 D4050            ; 塗布X軸  移動No.
LD<> D502 K104           ; 完了ポイントNo.
AND<> D31304 K104        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M27                 ; P101
INV
AND E3254.0              ; Move sw
AND>=.L E4640 +42000
AND>=.L E4642 +11000
DW K105 D4050            ; 塗布X軸  移動No.
LD<> D502 K105           ; 完了ポイントNo.
AND<> D31304 K105        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M27                 ; P101
INV
AND E3255.0              ; Move sw
AND>=.L E4650 +42000
AND>=.L E4652 +11000
DW K106 D4050            ; 塗布X軸  移動No.
LD<> D502 K106           ; 完了ポイントNo.
AND<> D31304 K106        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M27                 ; P101
INV
AND E3256.0              ; Move sw
AND>=.L E4660 +42000
AND>=.L E4662 +11000
DW K107 D4050            ; 塗布X軸  移動No.
LD<> D502 K107           ; 完了ポイントNo.
AND<> D31304 K107        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M27                 ; P101
INV
AND E3257.0              ; Move sw
AND>=.L E4670 +42000
AND>=.L E4672 +11000
DW K108 D4050            ; 塗布X軸  移動No.
LD<> D502 K108           ; 完了ポイントNo.
AND<> D31304 K108        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M27                 ; P101
INV
AND E3258.0              ; Move sw
AND>=.L E4680 +42000
AND>=.L E4682 +11000
DW K109 D4050            ; 塗布X軸  移動No.
LD<> D502 K109           ; 完了ポイントNo.
AND<> D31304 K109        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M27                 ; P101
INV
AND E3259.0              ; Move sw
AND>=.L E4690 +42000
AND>=.L E4692 +11000
DW K110 D4050            ; 塗布X軸  移動No.
LD<> D502 K110           ; 完了ポイントNo.
AND<> D31304 K110        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M27                 ; P101
INV
AND E3260.0              ; Move sw
AND>=.L E4700 +42000
AND>=.L E4702 +11000
DW K111 D4050            ; 塗布X軸  移動No.
LD<> D502 K111           ; 完了ポイントNo.
AND<> D31304 K111        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M27                 ; P101
INV
AND E3261.0              ; Move sw
AND>=.L E4710 +42000
AND>=.L E4712 +11000
DW K112 D4050            ; 塗布X軸  移動No.
LD<> D502 K112           ; 完了ポイントNo.
AND<> D31304 K112        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M27                 ; P101
INV
AND E3262.0              ; Move sw
AND>=.L E4720 +42000
AND>=.L E4722 +11000
DW K113 D4050            ; 塗布X軸  移動No.
LD<> D502 K113           ; 完了ポイントNo.
AND<> D31304 K113        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M27                 ; P101
INV
AND E3263.0              ; Move sw
AND>=.L E4730 +42000
AND>=.L E4732 +11000
DW K114 D4050            ; 塗布X軸  移動No.
LD<> D502 K114           ; 完了ポイントNo.
AND<> D31304 K114        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M27                 ; P101
INV
AND E3264.0              ; Move sw
AND>=.L E4740 +42000
AND>=.L E4742 +11000
DW K115 D4050            ; 塗布X軸  移動No.
LD<> D502 K115           ; 完了ポイントNo.
AND<> D31304 K115        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M27                 ; P101
INV
AND E3265.0              ; Move sw
AND>=.L E4750 +42000
AND>=.L E4752 +11000
DW K116 D4050            ; 塗布X軸  移動No.
LD<> D502 K116           ; 完了ポイントNo.
AND<> D31304 K116        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M27                 ; P101
INV
AND E3266.0              ; Move sw
AND>=.L E4760 +42000
AND>=.L E4762 +11000
DW K117 D4050            ; 塗布X軸  移動No.
LD<> D502 K117           ; 完了ポイントNo.
AND<> D31304 K117        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M27                 ; P101
INV
AND E3267.0              ; Move sw
AND>=.L E4770 +42000
AND>=.L E4772 +11000
DW K118 D4050            ; 塗布X軸  移動No.
LD<> D502 K118           ; 完了ポイントNo.
AND<> D31304 K118        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M27                 ; P101
INV
AND E3268.0              ; Move sw
AND>=.L E4780 +42000
AND>=.L E4782 +11000
DW K119 D4050            ; 塗布X軸  移動No.
LD<> D502 K119           ; 完了ポイントNo.
AND<> D31304 K119        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M27                 ; P101
INV
AND E3269.0              ; Move sw
AND>=.L E4790 +42000
AND>=.L E4792 +11000
DW K120 D4050            ; 塗布X軸  移動No.
;<h1/>Daily check 2
LDB M65                  ; 即停止異常(緊急停止)
MC
LD CR2002                ; 常時ON
MPS
LDP E3270.0              ; Move sw
AND M4610                ; 塗布ﾍｯﾄﾞZ軸動作可
OR @M31                  ; Z軸上昇
ANB @M34                 ; P121移動完了
ANL
MPS
OUT @M31                 ; Z軸上昇
MPP
ANB @M32                 ; XY_P121 move
DW K1 D4051              ; 塗布Z軸  移動No.
CON
OUT R31814               ; 塗布Z軸起動
MRD
LD @M31                  ; Z軸上昇
AND M4810                ; 塗布Z 移動完了
AND M4609                ; 塗布ﾍｯﾄﾞX軸動作可
AND M3610                ; Case搬送Y2動作可
OR @M32                  ; XY_P121 move
ANB @M34                 ; P121移動完了
ANL
MPS
@RES M4810               ; 塗布Z 移動完了
CON
OUT @M32                 ; XY_P121 move
MRD
DW K121 D4050            ; 塗布X軸  移動No.
CON
OUT R31803               ; 塗布X軸起動
MPP
DW K121 D3050            ; 搬送Y2   移動No.
CON
OUT R31709               ; Case搬送Y2起動
MRD
LD @M32                  ; XY_P121 move
ANB M4810                ; 塗布Z 移動完了
AND M4800                ; 塗布X 移動完了
AND M3800                ; 搬送Y2 移動完了
AND M4610                ; 塗布ﾍｯﾄﾞZ軸動作可
OR @M33                  ; Z_P121 move
ANB @M34                 ; P121移動完了
ANL
MPS
RES M4800                ; 塗布X 移動完了
CON
RES M3800                ; 搬送Y2 移動完了
CON
OUT @M33                 ; Z_P121 move
MPP
DW K121 D4051            ; 塗布Z軸  移動No.
CON
OUT R31815               ; 塗布Z軸起動
MPP
LD @M33                  ; Z_P121 move
AND M4810                ; 塗布Z 移動完了
ANL
RES M4810                ; 塗布Z 移動完了
CON
OUT @M34                 ; P121移動完了
MCR
LD=.L D31290 E4800       ; 軸1 現在座標
LD=.L D31350 E4804       ; 軸2 現在座標
OR<=.L D31350 +1500      ; 軸2 現在座標
ANL
AND=.L D31470 E4802      ; 軸4 現在座標
OUT @M37                 ; P121
LD<> D502 K121           ; 完了ポイントNo.
AND<> D31304 K121        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M37                 ; P121
INV
AND E3271.0              ; Move sw
AND<=.L E4810 +48000
AND>=.L E4812 +11000
DW K122 D4050            ; 塗布X軸  移動No.
LD<> D502 K122           ; 完了ポイントNo.
AND<> D31304 K122        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M37                 ; P121
INV
AND E3272.0              ; Move sw
AND<=.L E4820 +48000
AND>=.L E4822 +11000
DW K123 D4050            ; 塗布X軸  移動No.
LD<> D502 K123           ; 完了ポイントNo.
AND<> D31304 K123        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M37                 ; P121
INV
AND E3273.0              ; Move sw
AND<=.L E4830 +48000
AND>=.L E4832 +11000
DW K124 D4050            ; 塗布X軸  移動No.
LD<> D502 K124           ; 完了ポイントNo.
AND<> D31304 K124        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M37                 ; P121
INV
AND E3274.0              ; Move sw
AND<=.L E4840 +48000
AND>=.L E4842 +11000
DW K125 D4050            ; 塗布X軸  移動No.
LD<> D502 K125           ; 完了ポイントNo.
AND<> D31304 K125        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M37                 ; P121
INV
AND E3275.0              ; Move sw
AND<=.L E4850 +48000
AND>=.L E4852 +11000
DW K126 D4050            ; 塗布X軸  移動No.
LD<> D502 K126           ; 完了ポイントNo.
AND<> D31304 K126        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M37                 ; P121
INV
AND E3276.0              ; Move sw
AND<=.L E4860 +48000
AND>=.L E4862 +11000
DW K127 D4050            ; 塗布X軸  移動No.
LD<> D502 K127           ; 完了ポイントNo.
AND<> D31304 K127        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M37                 ; P121
INV
AND E3277.0              ; Move sw
AND<=.L E4870 +48000
AND>=.L E4872 +11000
DW K128 D4050            ; 塗布X軸  移動No.
LD<> D502 K128           ; 完了ポイントNo.
AND<> D31304 K128        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M37                 ; P121
INV
AND E3278.0              ; Move sw
AND<=.L E4880 +48000
AND>=.L E4882 +11000
DW K129 D4050            ; 塗布X軸  移動No.
LD<> D502 K129           ; 完了ポイントNo.
AND<> D31304 K129        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M37                 ; P121
INV
AND E3279.0              ; Move sw
AND<=.L E4890 +48000
AND>=.L E4892 +11000
DW K130 D4050            ; 塗布X軸  移動No.
LD<> D502 K130           ; 完了ポイントNo.
AND<> D31304 K130        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M37                 ; P121
INV
AND E3280.0              ; Move sw
AND<=.L E4900 +48000
AND>=.L E4902 +11000
DW K131 D4050            ; 塗布X軸  移動No.
LD<> D502 K131           ; 完了ポイントNo.
AND<> D31304 K131        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M37                 ; P121
INV
AND E3281.0              ; Move sw
AND<=.L E4910 +48000
AND>=.L E4912 +11000
DW K132 D4050            ; 塗布X軸  移動No.
LD<> D502 K132           ; 完了ポイントNo.
AND<> D31304 K132        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M37                 ; P121
INV
AND E3282.0              ; Move sw
AND<=.L E4920 +48000
AND>=.L E4922 +11000
DW K133 D4050            ; 塗布X軸  移動No.
LD<> D502 K133           ; 完了ポイントNo.
AND<> D31304 K133        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M37                 ; P121
INV
AND E3283.0              ; Move sw
AND<=.L E4930 +48000
AND>=.L E4932 +11000
DW K134 D4050            ; 塗布X軸  移動No.
LD<> D502 K134           ; 完了ポイントNo.
AND<> D31304 K134        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M37                 ; P121
INV
AND E3284.0              ; Move sw
AND<=.L E4940 +48000
AND>=.L E4942 +11000
DW K135 D4050            ; 塗布X軸  移動No.
LD<> D502 K135           ; 完了ポイントNo.
AND<> D31304 K135        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M37                 ; P121
INV
AND E3285.0              ; Move sw
AND<=.L E4950 +48000
AND>=.L E4952 +11000
DW K136 D4050            ; 塗布X軸  移動No.
LD<> D502 K136           ; 完了ポイントNo.
AND<> D31304 K136        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M37                 ; P121
INV
AND E3286.0              ; Move sw
AND<=.L E4960 +48000
AND>=.L E4962 +11000
DW K137 D4050            ; 塗布X軸  移動No.
LD<> D502 K137           ; 完了ポイントNo.
AND<> D31304 K137        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M37                 ; P121
INV
AND E3287.0              ; Move sw
AND<=.L E4970 +48000
AND>=.L E4972 +11000
DW K138 D4050            ; 塗布X軸  移動No.
LD<> D502 K138           ; 完了ポイントNo.
AND<> D31304 K138        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M37                 ; P121
INV
AND E3288.0              ; Move sw
AND<=.L E4980 +48000
AND>=.L E4982 +11000
DW K139 D4050            ; 塗布X軸  移動No.
LD<> D502 K139           ; 完了ポイントNo.
AND<> D31304 K139        ; 軸1 位置決め現在ﾎﾟｲﾝﾄ番号
ANB @M37                 ; P121
INV
AND E3289.0              ; Move sw
AND<=.L E4990 +48000
AND>=.L E4992 +11000
DW K140 D4050            ; 塗布X軸  移動No.
;移動まとめ
LDB E3201.0              ; Move sw
ANB E3202.0              ; Move sw
ANB E3203.0              ; Move sw
ANB E3204.0              ; Move sw
ANB E3205.0              ; Move sw
ANB E3206.0              ; Move sw
ANB E3207.0              ; Move sw
ANB E3208.0              ; Move sw
ANB E3209.0              ; Move sw
ANB E3210.0              ; Move sw
ANB E3211.0              ; Move sw
ANB E3212.0              ; Move sw
ANB E3213.0              ; Move sw
ANB E3214.0              ; Move sw
ANB E3215.0              ; Move sw
ANB E3216.0              ; Move sw
ANB E3217.0              ; Move sw
ANB E3218.0              ; Move sw
ANB E3219.0              ; Move sw
ANB E3221.0              ; Move sw
ANB E3222.0              ; Move sw
ANB E3223.0              ; Move sw
ANB E3224.0              ; Move sw
ANB E3225.0              ; Move sw
ANB E3226.0              ; Move sw
ANB E3227.0              ; Move sw
ANB E3228.0              ; Move sw
ANB E3229.0              ; Move sw
ANB E3230.0              ; Move sw
ANB E3231.0              ; Move sw
ANB E3232.0              ; Move sw
ANB E3233.0              ; Move sw
ANB E3234.0              ; Move sw
ANB E3235.0              ; Move sw
ANB E3236.0              ; Move sw
ANB E3237.0              ; Move sw
ANB E3238.0              ; Move sw
ANB E3239.0              ; Move sw
ANB E3251.0              ; Move sw
ANB E3252.0              ; Move sw
ANB E3253.0              ; Move sw
ANB E3254.0              ; Move sw
ANB E3255.0              ; Move sw
ANB E3256.0              ; Move sw
ANB E3257.0              ; Move sw
ANB E3258.0              ; Move sw
ANB E3259.0              ; Move sw
ANB E3260.0              ; Move sw
ANB E3261.0              ; Move sw
ANB E3262.0              ; Move sw
ANB E3263.0              ; Move sw
ANB E3264.0              ; Move sw
ANB E3265.0              ; Move sw
ANB E3266.0              ; Move sw
ANB E3267.0              ; Move sw
ANB E3268.0              ; Move sw
ANB E3269.0              ; Move sw
ANB E3271.0              ; Move sw
ANB E3272.0              ; Move sw
ANB E3273.0              ; Move sw
ANB E3274.0              ; Move sw
ANB E3275.0              ; Move sw
ANB E3276.0              ; Move sw
ANB E3277.0              ; Move sw
ANB E3278.0              ; Move sw
ANB E3279.0              ; Move sw
ANB E3280.0              ; Move sw
ANB E3281.0              ; Move sw
ANB E3282.0              ; Move sw
ANB E3283.0              ; Move sw
ANB E3284.0              ; Move sw
ANB E3285.0              ; Move sw
ANB E3286.0              ; Move sw
ANB E3287.0              ; Move sw
ANB E3288.0              ; Move sw
ANB E3289.0              ; Move sw
INV
OUT @M1                  ; Point move 入力有
LD CR2002                ; 常時ON
MPS
LDP @M1                  ; Point move 入力有
AND<> D4050 K0           ; 塗布X軸  移動No.
AND M4609                ; 塗布ﾍｯﾄﾞX軸動作可
OR @M2                   ; 塗布ポイント移動
ANB M4800                ; 塗布X 移動完了
ANL
OUT @M2                  ; 塗布ポイント移動
OUT R31804               ; 塗布X軸起動
MPP
ANF @M2                  ; 塗布ポイント移動
MOV D4050 D502           ; 塗布X軸  移動No.  完了ポイントNo.
DW K0 D4050              ; 塗布X軸  移動No.
CON
RES M1800                ; 搬送Y1 移動完了
CON
RES M4800                ; 塗布X 移動完了
CON
RES M4810                ; 塗布Z 移動完了
;JOG setting
LD=.D D200 D214          ; 塗布X軸JOG速度[0.00]  塗布X軸JOG速度記憶
AND=.D D202 D216         ; 塗布Z軸JOG速度[0.00]  塗布Z軸JOG速度記憶
AND=.D D204 D218         ; CaseY1軸JOG速度[0.00]  CaseY1軸JOG速度記憶
AND=.D D206 D220         ; CaseY2軸JOG速度[0.00]  CaseY2軸JOG速度記憶
INV
OUT @M5                  ; JOG速度自動書き込み
LD @M5                   ; JOG速度自動書き込み
UWRIT K4 K14166 D200 K2  ; 塗布X軸JOG速度[0.00]
UWRIT K4 K14216 D202 K2  ; 塗布Z軸JOG速度[0.00]
UWRIT K4 K14266 D204 K2  ; CaseY1軸JOG速度[0.00]
UWRIT K4 K14316 D206 K2  ; CaseY2軸JOG速度[0.00]
BMOV D200 D214 K8        ; 塗布X軸JOG速度[0.00]  塗布X軸JOG速度記憶
;品種選択
LDP B1021                ; 製品1選択
DW K1 E55                ; Type No.
LDP B1022                ; 製品2選択
DW K2 E55                ; Type No.
LDP B1023                ; 製品3選択
DW K3 E55                ; Type No.
LDP B1024                ; 製品4選択
DW K4 E55                ; Type No.
LDP B1025                ; 製品5選択
DW K5 E55                ; Type No.
LDP B1026                ; 製品6選択
DW K6 E55                ; Type No.
LDP B1027                ; 製品7選択
DW K7 E55                ; Type No.
LDP B1028                ; 製品8選択
DW K8 E55                ; Type No.
;初期設定
;'治具No.はType No.なので
;E3420 = E55
;E3421 = E55
;E3422 = E55
;E3423 = E55
;E3424 = E55
;E3425 = E55
;E3426 = E55
;
;
;'  KEYENCE
;'  位置
;D9000 = 2600
;D9001 = 2620
;
;D9002 = 2700
;D9003 = 2720
;
;D9004 = 2400
;D9005 = 2460
;D9006 = 2470
;
;D9007 = 2500
;D9008 = 2540
;D9009 = 2560
;D9010 = 2570
;
;'  連続ﾃﾞｰﾀ数
;D9030 = 10
;D9031 = 10
;
;D9032 = 10
;D9033 = 10
;
;D9034 = 30
;D9035 = 5
;D9036 = 10
;
;D9037 = 20
;D9038 = 10
;D9039 = 5
;D9040 = 10
;
;'  POINT No.
;D9060 = 1
;D9061 = 51
;
;D9062 = 1
;D9063 = 51
;
;D9064 = 1
;D9065 = 41
;D9066 = 51
;
;D9067 = 1
;D9068 = 31
;D9069 = 46
;D9070 = 51
;
;'  AXIS No.
;D9090 = 1
;D9091 = 1
;
;D9092 = 2
;D9093 = 2
;
;D9094 = 3
;D9095 = 3
;D9096 = 3
;
;D9097 = 4
;D9098 = 4
;D9099 = 4
;D9100 = 4
;
;'  速度
;D9120 = 3700
;D9121 = 3770
;
;D9122 = 3800
;D9123 = 3870
;
;D9124 = 3500
;D9125 = 3560
;D9126 = 3570
;
;D9127 = 3600
;D9128 = 3640
;D9129 = 3660
;D9130 = 3670
;
LD CR2002                ; 常時ON
NCJ K1007
;'治具No.はType No.なので
;
;E3420 = E55
;
LD CR2002                ; 常時ON
MOV E55 E3420            ; Type No.  PCB-Transfer Jig ID
;E3421 = E55
;
LD CR2002                ; 常時ON
MOV E55 E3421            ; Type No.  PCB-Eject Jig ID
;E3422 = E55
;
LD CR2002                ; 常時ON
MOV E55 E3422            ; Type No.  PCB-Remove S.A.Plate Jig ID
;E3423 = E55
;
LD CR2002                ; 常時ON
MOV E55 E3423            ; Type No.  COVER-Transfer Jig ID
;E3424 = E55
;
LD CR2002                ; 常時ON
MOV E55 E3424            ; Type No.  COVER-Assy Jig ID
;E3425 = E55
;
LD CR2002                ; 常時ON
MOV E55 E3425            ; Type No.  COVER-Eject Jig ID
;E3426 = E55
;
LD CR2002                ; 常時ON
MOV E55 E3426            ; Type No.  COVER-Remove S.A.Plate Jig ID
;'  KEYENCE
;
;'  位置
;
;D9000 = 2600
;
LD CR2002                ; 常時ON
MOV K2600 D9000
;D9001 = 2620
;
LD CR2002                ; 常時ON
MOV K2620 D9001          ; 時間log
;D9002 = 2700
;
LD CR2002                ; 常時ON
MOV K2700 D9002          ; 時間log
;D9003 = 2720
;
LD CR2002                ; 常時ON
MOV K2720 D9003          ; 時間log
;D9004 = 2400
;
LD CR2002                ; 常時ON
MOV K2400 D9004          ; 時間log
;D9005 = 2460
;
LD CR2002                ; 常時ON
MOV K2460 D9005          ; 時間log
;D9006 = 2470
;
LD CR2002                ; 常時ON
MOV K2470 D9006          ; 時間log
;D9007 = 2500
;
LD CR2002                ; 常時ON
MOV K2500 D9007          ; 時間log
;D9008 = 2540
;
LD CR2002                ; 常時ON
MOV K2540 D9008          ; 時間log
;D9009 = 2560
;
LD CR2002                ; 常時ON
MOV K2560 D9009          ; 時間log
;D9010 = 2570
;
LD CR2002                ; 常時ON
MOV K2570 D9010          ; 時間log
;'  連続ﾃﾞｰﾀ数
;
;D9030 = 10
;
LD CR2002                ; 常時ON
MOV K10 D9030            ; 時間log
;D9031 = 10
;
LD CR2002                ; 常時ON
MOV K10 D9031            ; 時間log
;D9032 = 10
;
LD CR2002                ; 常時ON
MOV K10 D9032            ; 時間log
;D9033 = 10
;
LD CR2002                ; 常時ON
MOV K10 D9033            ; 時間log
;D9034 = 30
;
LD CR2002                ; 常時ON
MOV K30 D9034            ; 時間log
;D9035 = 5
;
LD CR2002                ; 常時ON
MOV K5 D9035             ; 時間log
;D9036 = 10
;
LD CR2002                ; 常時ON
MOV K10 D9036            ; 時間log
;D9037 = 20
;
LD CR2002                ; 常時ON
MOV K20 D9037            ; 時間log
;D9038 = 10
;
LD CR2002                ; 常時ON
MOV K10 D9038            ; 時間log
;D9039 = 5
;
LD CR2002                ; 常時ON
MOV K5 D9039             ; 時間log
;D9040 = 10
;
LD CR2002                ; 常時ON
MOV K10 D9040            ; 時間log
;'  POINT No.
;
;D9060 = 1
;
LD CR2002                ; 常時ON
MOV K1 D9060             ; 時間log
;D9061 = 51
;
LD CR2002                ; 常時ON
MOV K51 D9061            ; 時間log
;D9062 = 1
;
LD CR2002                ; 常時ON
MOV K1 D9062             ; 時間log
;D9063 = 51
;
LD CR2002                ; 常時ON
MOV K51 D9063            ; 時間log
;D9064 = 1
;
LD CR2002                ; 常時ON
MOV K1 D9064             ; 時間log
;D9065 = 41
;
LD CR2002                ; 常時ON
MOV K41 D9065            ; 時間log
;D9066 = 51
;
LD CR2002                ; 常時ON
MOV K51 D9066            ; 時間log
;D9067 = 1
;
LD CR2002                ; 常時ON
MOV K1 D9067             ; 時間log
;D9068 = 31
;
LD CR2002                ; 常時ON
MOV K31 D9068            ; 時間log
;D9069 = 46
;
LD CR2002                ; 常時ON
MOV K46 D9069            ; 時間log
;D9070 = 51
;
LD CR2002                ; 常時ON
MOV K51 D9070            ; 時間log
;'  AXIS No.
;
;D9090 = 1
;
LD CR2002                ; 常時ON
MOV K1 D9090             ; 時間log
;D9091 = 1
;
LD CR2002                ; 常時ON
MOV K1 D9091             ; 時間log
;D9092 = 2
;
LD CR2002                ; 常時ON
MOV K2 D9092             ; 時間log
;D9093 = 2
;
LD CR2002                ; 常時ON
MOV K2 D9093             ; 時間log
;D9094 = 3
;
LD CR2002                ; 常時ON
MOV K3 D9094             ; 時間log
;D9095 = 3
;
LD CR2002                ; 常時ON
MOV K3 D9095             ; 時間log
;D9096 = 3
;
LD CR2002                ; 常時ON
MOV K3 D9096             ; 時間log
;D9097 = 4
;
LD CR2002                ; 常時ON
MOV K4 D9097             ; 時間log
;D9098 = 4
;
LD CR2002                ; 常時ON
MOV K4 D9098             ; 時間log
;D9099 = 4
;
LD CR2002                ; 常時ON
MOV K4 D9099             ; 時間log
;D9100 = 4
;
LD CR2002                ; 常時ON
MOV K4 D9100
;'  速度
;
;D9120 = 3700
;
LD CR2002                ; 常時ON
MOV K3700 D9120          ; 吐出ﾓｰﾀ正転ﾌﾗｸﾞlog
;D9121 = 3770
;
LD CR2002                ; 常時ON
MOV K3770 D9121          ; 吐出ﾓｰﾀ正転ﾌﾗｸﾞlog
;D9122 = 3800
;
LD CR2002                ; 常時ON
MOV K3800 D9122          ; 吐出ﾓｰﾀ正転ﾌﾗｸﾞlog
;D9123 = 3870
;
LD CR2002                ; 常時ON
MOV K3870 D9123          ; 吐出ﾓｰﾀ正転ﾌﾗｸﾞlog
;D9124 = 3500
;
LD CR2002                ; 常時ON
MOV K3500 D9124          ; 吐出ﾓｰﾀ正転ﾌﾗｸﾞlog
;D9125 = 3560
;
LD CR2002                ; 常時ON
MOV K3560 D9125          ; 吐出ﾓｰﾀ正転ﾌﾗｸﾞlog
;D9126 = 3570
;
LD CR2002                ; 常時ON
MOV K3570 D9126          ; 吐出ﾓｰﾀ正転ﾌﾗｸﾞlog
;D9127 = 3600
;
LD CR2002                ; 常時ON
MOV K3600 D9127          ; 吐出ﾓｰﾀ正転ﾌﾗｸﾞlog
;D9128 = 3640
;
LD CR2002                ; 常時ON
MOV K3640 D9128          ; 吐出ﾓｰﾀ正転ﾌﾗｸﾞlog
;D9129 = 3660
;
LD CR2002                ; 常時ON
MOV K3660 D9129          ; 吐出ﾓｰﾀ正転ﾌﾗｸﾞlog
;D9130 = 3670
;
LD CR2002                ; 常時ON
MOV K3670 D9130          ; 吐出ﾓｰﾀ正転ﾌﾗｸﾞlog
LABEL K1007
;
;品種複製
;Recipe copy
;Z6 = (E64-1) * 3000
;Z7 = (E65-1) * 3000
;BMOV(E5000:Z6,E5000:Z7,#3000)
LDP B2070                ; 品種ｺﾋﾟｰsw
NCJ K1008
;Z6 = (E64-1) * 3000
;
LD CR2002                ; 常時ON
LDA E64                  ; ｺﾋﾟｰ元No.
CON
EXT
CON
SUB.L +1
CON
MUL.L +3000
CON
STA.L Z6
;Z7 = (E65-1) * 3000
;
LD CR2002                ; 常時ON
LDA E65                  ; ｺﾋﾟｰ先No.
CON
EXT
CON
SUB.L +1
CON
MUL.L +3000
CON
STA.L Z7
;BMOV(E5000:Z6,E5000:Z7,#3000)
LD CR2002                ; 常時ON
BMOV E5000:Z6 E5000:Z7 K3000
LABEL K1008
;
END
ENDH
