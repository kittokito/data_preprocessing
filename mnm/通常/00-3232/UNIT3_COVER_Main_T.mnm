DEVICE:53
;MODULE:UNIT3_COVER_Main_T
;MODULE_TYPE:0
;
;UNIT3 Case-Transfer Y2
;
;動作FLG
LD T1010                 ; ﾗｲﾄｶｰﾃﾝ2 OUT1
AND T1011                ; ﾗｲﾄｶｰﾃﾝ2 OUT2
AND T1012                ; ﾗｲﾄｶｰﾃﾝ3 OUT1
AND T1013                ; ﾗｲﾄｶｰﾃﾝ3 OUT2
OUT M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
LD T1012                 ; ﾗｲﾄｶｰﾃﾝ3 OUT1
AND T1013                ; ﾗｲﾄｶｰﾃﾝ3 OUT2
OUT M3951                ; ASSY部   遮光無し
LD X0A                   ; ﾗｲﾄｶｰﾃﾝ2 OUT1
AND X0B                  ; ﾗｲﾄｶｰﾃﾝ2 OUT2
TMH K356 K10             ; 遮光無し （即決）
LDB M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
OR M3850                 ; 取り出し作業確認
LD M3004                 ; ｴﾗｰ発生
OR M3005                 ; ｴﾗｰ中
OR M3006                 ; ｴﾗｰ解除確認
ANL
OUT M3850                ; 取り出し作業確認
LDB T1800                ; 投入2_ｹｰｽ検出
AND T1801                ; 投入2_ﾜｰｸ浮き1(手前)
AND T1802                ; 投入2_ﾜｰｸ浮き2(奥)
AND M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
OR M3851                 ; 日常点検治具取り外し確認
LD M3433                 ; 治具取り外し確認
OR M3010                 ; 投入位置移動
OR M3011                 ; Y2_P14 move
OR M3012                 ; 日常点検Case check
ANL
OUT M3851                ; 日常点検治具取り外し確認
LD CR2002                ; 常時ON
MPS
LD< D3000 K30            ; UT3自動運転ｽﾃｯﾌﾟ
OR> D3000 K92            ; UT3自動運転ｽﾃｯﾌﾟ
ANL
DW K0 D3020              ; Y2ﾊﾞｯﾌｧ数
MPP
LD>= D3000 K30           ; UT3自動運転ｽﾃｯﾌﾟ
AND<= D3000 K92          ; UT3自動運転ｽﾃｯﾌﾟ
ANL
DW K1 D3020              ; Y2ﾊﾞｯﾌｧ数
LD= D3000 K93            ; UT3自動運転ｽﾃｯﾌﾟ
LD>= D3000 K110          ; UT3自動運転ｽﾃｯﾌﾟ
AND<= D3000 K112         ; UT3自動運転ｽﾃｯﾌﾟ
ORL
OUT M3852                ; Case2 受渡準備中
LD M3570                 ; UT3 HOME end flg. set
OR M3991                 ; Cover搬送原点復帰完了
ANB M103                 ; 原点復帰OK
OUT M3991                ; Cover搬送原点復帰完了
LD CR2002                ; 常時ON
MPS
LD M3152                 ; Case2     NG処理確認ﾌﾗｸﾞｾｯﾄ1
OR M3966                 ; Case2     NG処理確認
ANB M3967                ; NG解除確認
ANL
OUT M3966                ; Case2     NG処理確認
MPP
LD M3966                 ; Case2     NG処理確認
LD T1815                 ; 投入2 CASE-NGｽｲｯﾁ
OR M3950                 ; ﾗｲﾄｶｰﾃﾝ  遮光無し
ANL
ANB T1800                ; 投入2_ｹｰｽ検出
AND T1801                ; 投入2_ﾜｰｸ浮き1(手前)
AND T1802                ; 投入2_ﾜｰｸ浮き2(奥)
ANL
TMH K328 K20             ; NG解除確認ﾃﾞｨﾚｲ
CON
AND T328                 ; NG解除確認ﾃﾞｨﾚｲ
OUT M3967                ; NG解除確認
LD M3015                 ; Case投入依頼
OR M3404                 ; 在荷確認
OR M3300                 ; 1ｻｲｸﾙ終了
AND M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
ANB T1800                ; 投入2_ｹｰｽ検出
AND T1801                ; 投入2_ﾜｰｸ浮き1(手前)
AND T1802                ; 投入2_ﾜｰｸ浮き2(奥)
ANB Y209E                ; ｶﾊﾞｰ嵌合ﾍｯﾄﾞ 吸着ON
ANB Y209F                ; ｶﾊﾞｰ嵌合ﾍｯﾄﾞ 破壊ON
ANB T501                 ; 嵌合ﾍｯﾄﾞ吸着OK
TMR K300 K30             ; UT3　 AUTO終了ﾃﾞｨﾚｲ
LD>= D3000 K92           ; UT3自動運転ｽﾃｯﾌﾟ
AND< D3000 K150          ; UT3自動運転ｽﾃｯﾌﾟ
OUT M3855                ; 排出2 待機位置移動可能
LD CR2002                ; 常時ON
DW K0 D3030              ; UT3 Case status
MPS
LD> D3000 K92            ; UT3自動運転ｽﾃｯﾌﾟ
AND<= D3000 K112         ; UT3自動運転ｽﾃｯﾌﾟ
ANL
DW K1 D3030              ; UT3 Case status
MPP
LD> D3000 K15            ; UT3自動運転ｽﾃｯﾌﾟ
AND<= D3000 K92          ; UT3自動運転ｽﾃｯﾌﾟ
LD>= D3000 K150          ; UT3自動運転ｽﾃｯﾌﾟ
AND<= D3000 K156         ; UT3自動運転ｽﾃｯﾌﾟ
ORL
ANL
DW K2 D3030              ; UT3 Case status
;■ロボット等機器入力受け
;ロボット、検査装置など状態、現在位置などをまとめる信号は一旦ここで受ける。
LD<> D3050 K15           ; 搬送Y2   移動No.
AND<> D3050 K18          ; 搬送Y2   移動No.
AND<> D3050 K19          ; 搬送Y2   移動No.
AND<> D3050 K35          ; 搬送Y2   移動No.
LD= D3050 K15            ; 搬送Y2   移動No.
OR= D3050 K35            ; 搬送Y2   移動No.
AND R3108                ; Case搬送Y2投入時LC一時停止領域
ORL
LD= D3050 K19            ; 搬送Y2   移動No.
OR= D3050 K18            ; 搬送Y2   移動No.
ANB R3505                ; COVER-Assy Z LC3無視領域
ANB R3115                ; 嵌合後移動領域
ORL
LD X5684                 ; 軸4 軸制御中
OR M3802                 ; 搬送Y2 移動中
ANL
AND R3114                ; Case搬送2_LC一時停止ｴﾘｱ
OR M3501                 ; Y2原点復帰中
OR Y5642                 ; 軸4 減速停止
LDB M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
LDB T356                 ; 遮光無し （即決）
ORB M3031                ; Y2_P15 move
ANL
OR M3700                 ; 減速停止中
ANL
ANB M4916                ; Y2塗布動作中
OUT Y5642                ; 軸4 減速停止
SHOT K30 M3700           ; 減速停止中
LD Y5642                 ; 軸4 減速停止
ANB M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
TMR K340 K30             ; SMA441一時停止超過
;<h1/>装置状態・動作条件
LD=.L D31470 E2500       ; 軸4 現在座標  Case搬送2_TP_Pos1_Data
OR R3113                 ; Case搬送2_TP_Case投入位置
AND R3113                ; Case搬送2_TP_Case投入位置
ANB X5684                ; 軸4 軸制御中
OUT M3900                ; ﾕﾆｯﾄ3原点
LDB B060                 ; ﾕﾆｯﾄ3_JIG番号異常
ANB B061                 ; SMA441ｱﾗｰﾑ
ANB B062                 ; ﾕﾆｯﾄ3_異常3
ANB B063                 ; ﾕﾆｯﾄ3_異常4
ANB B064                 ; ﾕﾆｯﾄ3_異常5
ANB B065                 ; Y2塗布位置ｹｰｽ行方不明
ANB B066                 ; Y2嵌合位置ｹｰｽ行方不明
ANB B067                 ; Y2受渡位置ｹｰｽ行方不明
INV
OUT M3901                ; ﾕﾆｯﾄ3全異常
LD M3900                 ; ﾕﾆｯﾄ3原点
ANB M3000                ; UT3ｽﾃｯﾌﾟ開始
AND X569D                ; 軸4 ｻｰﾎﾞﾚﾃﾞｨ
ANB X5680                ; 軸4 軸ｴﾗｰ中
ANB X5684                ; 軸4 軸制御中
OUT M3902                ; ﾕﾆｯﾄ3起動条件
LDB M64                  ; 運転準備
OR M65                   ; 即停止異常(緊急停止)
OR M3901                 ; ﾕﾆｯﾄ3全異常
OR T15                   ; 強制停止
OUT M3903                ; ﾕﾆｯﾄ3起動OFF
LD M98                   ; 原点復帰開始
ANB M3904                ; ﾕﾆｯﾄ3原点復帰中
OR M3904                 ; ﾕﾆｯﾄ3原点復帰中
ANB M3903                ; ﾕﾆｯﾄ3起動OFF
ANB M3579                ; UT3原点復帰完了確認
OUT M3904                ; ﾕﾆｯﾄ3原点復帰中
LD M83                   ; 各工程起動指令
AND M3902                ; ﾕﾆｯﾄ3起動条件
OR M3905                 ; ﾕﾆｯﾄ3起動中
ANB M3903                ; ﾕﾆｯﾄ3起動OFF
ANB M3399                ; UT3動作完了
OUT M3905                ; ﾕﾆｯﾄ3起動中
LD CR2003                ; 常時OFF
OUT M3908                ; ﾕﾆｯﾄ3警報補助
;Pack処理
LDB M3802                ; 搬送Y2 移動中
ANB M3501                ; Y2原点復帰中
ANB M3503                ; Y2 P14移動中
INV
OUT M3910                ; UNIT3 Pack
;□エラー発生　一時停止フラグ
LD CR2002                ; 常時ON
MPS
PMOV.D M3920 K0 D3100 K0 K20;Err360:ﾜｰｸ残  UT3ｴﾗｰ判別
MPP
AND<> D3100 K0           ; UT3ｴﾗｰ判別
OUT M3912                ; UNIT3 ｴﾗｰ
LDB M3901                ; ﾕﾆｯﾄ3全異常
ANB M160                 ; ALL PAUSE
ANB M3908                ; ﾕﾆｯﾄ3警報補助
ANB M3912                ; UNIT3 ｴﾗｰ
LDB M32                  ; 自動ﾓｰﾄﾞ
ANB M33                  ; 手動ﾓｰﾄﾞ
LD M32                   ; 自動ﾓｰﾄﾞ
AND M3905                ; ﾕﾆｯﾄ3起動中
ORL
LD M33                   ; 手動ﾓｰﾄﾞ
AND M3904                ; ﾕﾆｯﾄ3原点復帰中
ORL
ANL
OUT M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
;RB interlock
LD R3010                 ; 塗布Z　   搬送Y干渉外高さ
OR R3001                 ; 塗布X　   Case2干渉外
OR M4916                 ; Y2塗布動作中
AND R3500                ; COVER-Assy Z 待機領域
AND X569D                ; 軸4 ｻｰﾎﾞﾚﾃﾞｨ
ANB X5680                ; 軸4 軸ｴﾗｰ中
ANB X5684                ; 軸4 軸制御中
ANB M3800                ; 搬送Y2 移動完了
ANB M3804                ; 搬送Y2 原点復帰完了
AND T333                 ; 次移動指示ｳｪｲﾄ
MPS
LD T1505                 ; 除材2_移載ﾁｬｯｸ　上昇限
LD T1504                 ; 除材2_移載ﾁｬｯｸ　下降限
AND T1507                ; 除材2_移載ﾁｬｯｸ　開限
ORL
ANL
OUT M3960                ; Case搬送Y2原点復帰可能
MPP
LD T1505                 ; 除材2_移載ﾁｬｯｸ　上昇限
ANB T1810                ; 投入2_塗布位置ﾜｰｸ検出
LD T1504                 ; 除材2_移載ﾁｬｯｸ　下降限
AND T1507                ; 除材2_移載ﾁｬｯｸ　開限
ORL
LD R3701                 ; 除材2Y    塗布干渉外
OR M3904                 ; ﾕﾆｯﾄ3原点復帰中
OR>= D3000 K10           ; UT3自動運転ｽﾃｯﾌﾟ
ANL
LD R3701                 ; 除材2Y    塗布干渉外
LD>= D3000 K100          ; UT3自動運転ｽﾃｯﾌﾟ
AND< D3000 K111          ; UT3自動運転ｽﾃｯﾌﾟ
AND R3702                ; 除材2Y    受渡干渉外
ORL
LD>= D3000 K124          ; UT3自動運転ｽﾃｯﾌﾟ
AND< D3000 K130          ; UT3自動運転ｽﾃｯﾌﾟ
ORL
AND M3905                ; ﾕﾆｯﾄ3起動中
AND M32                  ; 自動ﾓｰﾄﾞ
ORL
ANL
OUT M3961                ; Case搬送Y2動作可能
LDB M3803                ; Case搬送Y2移動指示有
TMH K333 K10             ; 次移動指示ｳｪｲﾄ
LDF M3905                ; ﾕﾆｯﾄ3起動中
ZRES M3800 M3805         ; 搬送Y2 移動完了  搬送Y2 原点復帰異常
;<h1/>■自動回路 
;
;運転開始・ステッパ初期化・補助接点へ展開
LD CR2002                ; 常時ON
ZRES M3000 M3499         ; UT3ｽﾃｯﾌﾟ開始
LDB M3905                ; ﾕﾆｯﾄ3起動中
MOV K0 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
LD M3905                 ; ﾕﾆｯﾄ3起動中
MOV D3000 Z1             ; UT3自動運転ｽﾃｯﾌﾟ
OUT M3000:Z1             ; UT3ｽﾃｯﾌﾟ開始
;自動運転ステップ開始
;投入位置移動
;Move to Work set point
LD M3000                 ; UT3ｽﾃｯﾌﾟ開始
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
AND M3961                ; Case搬送Y2動作可能
AND M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
@FMOV K0 D920 K8         ; BCR3読み取りﾃﾞｰﾀ
@FMOV K0 D5210 K8        ; Case2 照合用ﾃﾞｰﾀ
LD M3001                 ; Y2_P14 move
MPS
DW K14 D3050             ; 搬送Y2   移動No.
CON
OUT @M0                  ; Case搬送Y2移動
MPP
AND M3800                ; 搬送Y2 移動完了
RES M3800                ; 搬送Y2 移動完了
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
;運転開始時JIG番号ﾁｪｯｸ
;Jig No. check when AUTO start.
LD M3002                 ; Jig番号確認
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
MPS
AND= D93 E3423           ; COVER-Transfer Jig ID  COVER-Transfer Jig ID
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
MPP
AND<> D93 E3423          ; COVER-Transfer Jig ID  COVER-Transfer Jig ID
OUT M3963                ; Jig No.異常
;運転開始時ﾜｰｸ残ﾁｪｯｸ
;Remain work check when AUTO start.
LD M3003                 ; 運転開始時ﾜｰｸﾁｪｯｸ
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
TMR K310 K5              ; ﾜｰｸ残検出ｳｪｲﾄ
CON
AND T310                 ; ﾜｰｸ残検出ｳｪｲﾄ
MPS
LDB T1800                ; 投入2_ｹｰｽ検出
AND T1801                ; 投入2_ﾜｰｸ浮き1(手前)
AND T1802                ; 投入2_ﾜｰｸ浮き2(奥)
ANL
DW K15 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
MPP
LD T1800                 ; 投入2_ｹｰｽ検出
ORB T1801                ; 投入2_ﾜｰｸ浮き1(手前)
ORB T1802                ; 投入2_ﾜｰｸ浮き2(奥)
ANL
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
;Err360:Work remain  (when START)
LD M3004                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K360 D148             ; 警報No.
CON
SET M3920                ; Err360:ﾜｰｸ残
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3005                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3006                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
MPS
ANB M3850                ; 取り出し作業確認
DW K2 D3000              ; UT3自動運転ｽﾃｯﾌﾟ
MPP
AND M3850                ; 取り出し作業確認
DW K15 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
;投入位置移動
;Move to Work set point
LD M3010                 ; 投入位置移動
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
AND M3961                ; Case搬送Y2動作可能
AND M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
MPS
AND R3113                ; Case搬送2_TP_Case投入位置
DW K12 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
MPP
ANB R3113                ; Case搬送2_TP_Case投入位置
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3011                 ; Y2_P14 move
MPS
DW K14 D3050             ; 搬送Y2   移動No.
CON
OUT @M1                  ; Case搬送Y2移動
MPP
AND M3800                ; 搬送Y2 移動完了
RES M3800                ; 搬送Y2 移動完了
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
;日常点検時Case除材確認
;Case remove check when Daily check
LD M3012                 ; 日常点検Case check
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
MPS
ANB M39                  ; 日常点検ﾓｰﾄﾞ
DW K15 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
MPP
AND M39                  ; 日常点検ﾓｰﾄﾞ
MPS
AND M3851                ; 日常点検治具取り外し確認
DW K15 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
MPP
TMR K316 K10             ; 日常点検治具取外し催促
;投入完了待ち
;waiting for Work set up end
LD M3015                 ; Case投入依頼
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
LD M3950                 ; ﾗｲﾄｶｰﾃﾝ  遮光無し
OR T356                  ; 遮光無し （即決）
ANL
MPS
LDB M3966                ; Case2     NG処理確認
AND R7202                ; BCR3 ｼｰｹﾝｽ処理ﾃﾞｰﾀ書込み許可
AND T1800                ; 投入2_ｹｰｽ検出
ANB M44                  ; 接着剤塗布日常点検
ANL
MPS
LD T1801                 ; 投入2_ﾜｰｸ浮き1(手前)
AND T1802                ; 投入2_ﾜｰｸ浮き2(奥)
ANL
DW K20 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
MPP
TMR K311 K10             ; ﾜｰｸ浮き検出ｳｪｲﾄ
CON
AND T311                 ; ﾜｰｸ浮き検出ｳｪｲﾄ
LDB T1801                ; 投入2_ﾜｰｸ浮き1(手前)
ORB T1802                ; 投入2_ﾜｰｸ浮き2(奥)
ANL
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
MRD
LD B2055                 ; DC_Y2 select
AND B2056                ; DC_D start
ANL
DW K400 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
MPP
LDB T1800                ; 投入2_ｹｰｽ検出
OR M39                   ; 日常点検ﾓｰﾄﾞ
ANB B2056                ; DC_D start
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ANL
MPS
LDB M39                  ; 日常点検ﾓｰﾄﾞ
AND M7398                ; ﾕﾆｯﾄ7ｻｲｸﾙ停止
AND T300                 ; UT3　 AUTO終了ﾃﾞｨﾚｲ
ANL
DW K300 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
MPP
AND M39                  ; 日常点検ﾓｰﾄﾞ
DW K310 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
;Err361:Work floated
LD M3016                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K361 D148             ; 警報No.
CON
SET M3921                ; Err361:ﾜｰｸ浮き
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3017                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3018                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K15 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
;投入後JIG番号ﾁｪｯｸ
;Jig No. check when Case in.
LD M3020                 ; Jig番号確認
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
MPS
AND= D93 E3423           ; COVER-Transfer Jig ID  COVER-Transfer Jig ID
DW K30 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
MPP
AND<> D93 E3423          ; COVER-Transfer Jig ID  COVER-Transfer Jig ID
OUT M3964                ; 投入後　  Jig No.異常
;ｺｰﾄﾞ読み取り位置移動
;Move to code-reader point
LD M3030                 ; ｺｰﾄﾞ読み取り位置移動
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
AND M3961                ; Case搬送Y2動作可能
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3031                 ; Y2_P15 move
MPS
DW K15 D3050             ; 搬送Y2   移動No.
CON
OUT @M2                  ; Case搬送Y2移動
MPP
AND M3800                ; 搬送Y2 移動完了
RES M3800                ; 搬送Y2 移動完了
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
;BCR3　ﾄﾘｶﾞ先行ON
;BCR3 Triger ON
LDB M1980                ; BCR1　　　読み取り
AND=.D D5200 K0          ; Case1 照合用ﾃﾞｰﾀ
OUT M3979                ; BCR3     読取り可能
LD M3031                 ; Y2_P15 move
AND CR2003               ; 常時OFF
OR M3032                 ; 基板ｺｰﾄﾞ読み取り
ANB M23                  ; ｺｰﾄﾞﾘｰﾀﾞ無視
OUT M3980                ; BCR3　　　読み取り
;基板ｺｰﾄﾞ読み取り
;Code read
LD M3032                 ; 基板ｺｰﾄﾞ読み取り
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
MPS
ANB M23                  ; ｺｰﾄﾞﾘｰﾀﾞ無視
MPS
AND M10623               ; BCR3     読取り完了
DW K40 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
BMOV D850 D860 K40       ; BCR3読み取りﾃﾞｰﾀ　Log1  BCR3読み取りﾃﾞｰﾀ　Log2
BMOV D920 D850 K10       ; BCR3読み取りﾃﾞｰﾀ  BCR3読み取りﾃﾞｰﾀ　Log1
MRD
AND M10633               ; BCR3     読取りｴﾗｰ
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
MPP
AND M10635               ; ﾗﾍﾞﾙ発行PC応答無し
DW K34 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
MPP
AND M23                  ; ｺｰﾄﾞﾘｰﾀﾞ無視
TMH K323 K20             ; 移動ﾃﾞｨﾚｲ
CON
AND T323                 ; 移動ﾃﾞｨﾚｲ
DW K40 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
;Err363:Code read error
LD M3033                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K363 D148             ; 警報No.
CON
SET M3923                ; Err363:ｺｰﾄﾞ読み取りｴﾗｰ
CON
DW K35 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
LD M3034                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K369 D148             ; 警報No.
CON
SET M3929                ; Err369:ﾗﾍﾞﾙ発行PC応答無し
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3035                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
RES B1013                ; Remove_FLG
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3036                 ; ｴﾗｰ解除確認
ANB M71                  ; All Error PAUSE
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3037                 ; Caseﾁｪｯｸ
MPS
ANB B1013                ; Remove_FLG
DW K30 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
MPP
AND B1013                ; Remove_FLG
DW K150 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
;日常点検ﾓｰﾄﾞ確認
;Daily-check mode check
;塗布領域進入可否確認
;Dispense area move enable check
LD M3040                 ; 塗布領域進入判断
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
MPS
LD M39                   ; 日常点検ﾓｰﾄﾞ
AND R3701                ; 除材2Y    塗布干渉外
ANL
DW K400 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
MPP
ANB M39                  ; 日常点検ﾓｰﾄﾞ
MPS
LD M6995                 ; COVER搬送進入可能
AND R3701                ; 除材2Y    塗布干渉外
ANL
DW K50 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
MPP
LDB M6995                ; COVER搬送進入可能
ORB R3701                ; 除材2Y    塗布干渉外
ANL
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
;塗布領域進入不可なので待機位置移動
;Move to Dispense waiting area 
LD M3041                 ; 塗布待機位置移動
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
AND M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
AND M3961                ; Case搬送Y2動作可能
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3042                 ; Y2_P16 move
MPS
DW K16 D3050             ; 搬送Y2   移動No.
CON
OUT @M3                  ; Case搬送Y2移動
MPP
AND M3800                ; 搬送Y2 移動完了
RES M3800                ; 搬送Y2 移動完了
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3043                 ; 進入許可待ち
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
AND M6995                ; COVER搬送進入可能
AND R3701                ; 除材2Y    塗布干渉外
DW K50 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
;▼↓↓↓　Daily check mode　↓↓↓▼
;Err327:Daily check Jig set up demand
LD M3400                 ; DC_Jig装着依頼
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
DW K404 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
;治具を在荷ｾﾝｻで確認
;Jig set up check
LD M3404                 ; 在荷確認
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
AND M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
MPS
AND T1800                ; 投入2_ｹｰｽ検出
MPS
LD T1801                 ; 投入2_ﾜｰｸ浮き1(手前)
AND T1802                ; 投入2_ﾜｰｸ浮き2(奥)
ANL
DW K410 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
MPP
LDB T1801                ; 投入2_ﾜｰｸ浮き1(手前)
ORB T1802                ; 投入2_ﾜｰｸ浮き2(奥)
ANL
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
MPP
ANB T1800                ; 投入2_ｹｰｽ検出
MPS
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
DW K301 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
MPP
LDB M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND B205A                ; DC_D cancel sw
ANL
DW K15 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
;Err321:Work floated
LD M3405                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K361 D148             ; 警報No.
CON
SET M3921                ; Err361:ﾜｰｸ浮き
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3406                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3407                 ; ｴﾗｰ解除確認
ANB M71                  ; All Error PAUSE
DW K404 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
;OK flag reset
LD M3410                 ; OK FLG. reset
ANB M41                  ; Y2 Daily check OK
DW K50 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
;▲↑↑↑　Daily check mode　↑↑↑▲
;塗布開始点移動　　　　　　　　　　　　　　　　　　＜開始点はARC無し・吐出無し・補完無しでお願いします＞
;Move to bonding start point
LD M3050                 ; 塗布開始点移動
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
LD M3950                 ; ﾗｲﾄｶｰﾃﾝ  遮光無し
OR R3701                 ; 除材2Y    塗布干渉外
ANL
AND M3961                ; Case搬送Y2動作可能
MPS
LDB M39                  ; 日常点検ﾓｰﾄﾞ
AND M6995                ; COVER搬送進入可能
ANL
DW K81 D3050             ; 搬送Y2   移動No.
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
MPP
AND M39                  ; 日常点検ﾓｰﾄﾞ
DW K121 D3050            ; 搬送Y2   移動No.
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3051                 ; Y2_P81 move
MPS
OUT @M4                  ; Case搬送Y2移動
MPP
AND M3800                ; 搬送Y2 移動完了
MPS
LD T1810                 ; 投入2_塗布位置ﾜｰｸ検出
OR M37                   ; 空運転ﾓｰﾄﾞ
OR M39                   ; 日常点検ﾓｰﾄﾞ
ANL
RES M3800                ; 搬送Y2 移動完了
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
MPP
LDB T1810                ; 投入2_塗布位置ﾜｰｸ検出
ANB M37                  ; 空運転ﾓｰﾄﾞ
ANB M39                  ; 日常点検ﾓｰﾄﾞ
ANL
TMR K320 K30             ; No Case check wait
CON
AND T320                 ; No Case check wait
OUT M3917                ; 塗布位置Case不明
;接着剤塗布要求
;Bonding demand to bonding head
LD M3052                 ; 接着剤塗布要求
MPS
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
MPS
AND M4986                ; Y2へ塗布完了
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
MRD
AND M4987                ; Y2へ塗布異常
DW K55 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
MPP
LDB M4986                ; Y2へ塗布完了
ANB M4987                ; Y2へ塗布異常
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M4398                ; ﾕﾆｯﾄ4ｻｲｸﾙ停止
ANL
DW K150 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
MPP
OUT M3981                ; Y2 塗布要求
;塗布軸とハンドシェイク
;Handshake with Dispence axis
LD M3053                 ; 正常完了確認
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
ANB M4986                ; Y2へ塗布完了
DW K1 D3110              ; Y2形状測定NGﾘﾄﾗｲ回数
CON
DW K70 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
LD M3055                 ; 異常完了確認
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
ANB M4987                ; Y2へ塗布異常
DW K150 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
;塗布形状測定位置へ移動
;Move to form measurement point
LD M3070                 ; 形状測定位置へ移動
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
AND M3961                ; Case搬送Y2動作可能
MPS
ANB M39                  ; 日常点検ﾓｰﾄﾞ
DW K56 D3050             ; 搬送Y2   移動No.
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
MPP
AND M39                  ; 日常点検ﾓｰﾄﾞ
DW K59 D3050             ; 搬送Y2   移動No.
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3071                 ; Y2_P34 move
MPS
OUT @M5                  ; Case搬送Y2移動
MPP
AND M3800                ; 搬送Y2 移動完了
RES M3800                ; 搬送Y2 移動完了
CON
MPS
ANB M39                  ; 日常点検ﾓｰﾄﾞ
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
MPP
AND M39                  ; 日常点検ﾓｰﾄﾞ
DW K420 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
;塗布形状測定要求
;Form measurement demand
LD M3072                 ; 形状測定要求
MPS
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
MPS
AND M4990                ; Cover形状測定完了
RES M3810                ; 塗布幅NGﾌﾗｸﾞ
CON
DW K1 D3110              ; Y2形状測定NGﾘﾄﾗｲ回数
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
MRD
LDB M44                  ; 接着剤塗布日常点検
AND M4991                ; Cover形状測定異常
ANL
MPS
AND<= D3110 K1           ; Y2形状測定NGﾘﾄﾗｲ回数
DW K74 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
MPP
AND>= D3110 K2           ; Y2形状測定NGﾘﾄﾗｲ回数
SET M3810                ; 塗布幅NGﾌﾗｸﾞ
CON
DW K79 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
MPP
LDB M4990                ; Cover形状測定完了
ANB M4991                ; Cover形状測定異常
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M4398                ; ﾕﾆｯﾄ4ｻｲｸﾙ停止
AND R3500                ; COVER-Assy Z 待機領域
ANL
DW K150 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
MPP
OUT M3982                ; COVER側形状測定要求
LD M3073                 ; 正常完了確認
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
ANB M4990                ; Cover形状測定完了
DW K80 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
;塗布幅ＮＧ塗布開始点移動(計測リトライ動作)
;Move to bonding start point(measurement Retry)
LD M3074                 ; 異常完了確認
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
AND M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
AND M3961                ; Case搬送Y2動作可能
ANB M4991                ; Cover形状測定異常
DW K2 D3110              ; Y2形状測定NGﾘﾄﾗｲ回数
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3075                 ; Y1_P81 move
MPS
DW K81 D3050             ; 搬送Y2   移動No.
CON
OUT @M25                 ; Case搬送Y2移動
MPP
AND M3800                ; 搬送Y2 移動完了
RES M3800                ; 搬送Y2 移動完了
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3076                 ; ﾘﾄﾗｲｳｪｲﾄ
TMH K335 K150            ; 塗布幅NG戻り後待機ﾀｲﾏ
CON
AND T335                 ; 塗布幅NG戻り後待機ﾀｲﾏ
DW K70 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
;異常は排出
;Eject of NG work
LD M3079                 ; 塗布幅異常　排出へ
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
ANB M4991                ; Cover形状測定異常
DW K1 D3110              ; Y2形状測定NGﾘﾄﾗｲ回数
CON
DW K150 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
;ﾗｲﾄｶｰﾃﾝ遮光なら嵌合待機位置へ移動
;Move to Waiting point when Lightcuartain shade
LD M3080                 ; 嵌合待機位置へ移動
DW K90 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
;嵌合位置へ移動
;Move to Cover set point
LD M3090                 ; 嵌合位置へ移動
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
AND M3961                ; Case搬送Y2動作可能
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3091                 ; Y2_P35 move
MPS
DW K35 D3050             ; 搬送Y2   移動No.
CON
OUT @M7                  ; Case搬送Y2移動
MPP
AND M3800                ; 搬送Y2 移動完了
MPS
LD T1811                 ; 投入2_嵌合位置ﾜｰｸ検出
OR M37                   ; 空運転ﾓｰﾄﾞ
ANL
RES M3800                ; 搬送Y2 移動完了
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
MPP
LDB T1811                ; 投入2_嵌合位置ﾜｰｸ検出
ANB M37                  ; 空運転ﾓｰﾄﾞ
ANL
TMR K321 K30             ; ｴﾗｰﾃﾞｨﾚｲ
CON
AND T321                 ; ｴﾗｰﾃﾞｨﾚｲ
OUT M3918                ; 嵌合位置ﾜｰｸ不明
;ｶﾊﾞｰ嵌合要求
;Cover set demand to Cover-Tranfer
LD M3092                 ; 嵌合要求
MPS
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
MPS
AND M5983                ; Y2へ嵌合完了
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
MRD
AND M5984                ; Y2へ嵌合異常
DW K94 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
MRD
LD B11F0                 ; Case2 Change sw
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
ANL
DW K150 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
MPP
LDB M5983                ; Y2へ嵌合完了
ANB M5984                ; Y2へ嵌合異常
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M5398                ; ﾕﾆｯﾄ5ｻｲｸﾙ停止
AND R3500                ; COVER-Assy Z 待機領域
ANL
DW K150 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
MPP
OUT M3983                ; Y2　嵌合要求
LD M3093                 ; 正常完了確認
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
ANB M5983                ; Y2へ嵌合完了
DW K100 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
LD M3094                 ; 異常完了確認
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
ANB M5984                ; Y2へ嵌合異常
DW K150 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
;排出ｴﾘｱ進入可否確認
;Check to enable of move to Eject area
LD M3100                 ; 排出領域進入判断
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
MPS
LD M6995                 ; COVER搬送進入可能
AND R3702                ; 除材2Y    受渡干渉外
ANL
DW K110 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
MPP
LDB M6995                ; COVER搬送進入可能
ORB R3702                ; 除材2Y    受渡干渉外
ANL
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
;排出領域進入不可なので待機位置移動
;Move to Eject waiting area 
LD M3101                 ; 排出待機位置移動
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
LD M3950                 ; ﾗｲﾄｶｰﾃﾝ  遮光無し
OR M3951                 ; ASSY部   遮光無し
ANL
AND M3961                ; Case搬送Y2動作可能
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3102                 ; Y2_P18 move
MPS
DW K18 D3050             ; 搬送Y2   移動No.
CON
OUT @M8                  ; Case搬送Y2移動
MPP
AND M3800                ; 搬送Y2 移動完了
RES M3800                ; 搬送Y2 移動完了
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3103                 ; 排出領域許可待ち
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
AND M6995                ; COVER搬送進入可能
AND R3702                ; 除材2Y    受渡干渉外
DW K110 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
;排出位置へ移動
;Move to pass position
LD M3110                 ; 排出位置移動
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
LD M3950                 ; ﾗｲﾄｶｰﾃﾝ  遮光無し
OR M3951                 ; ASSY部   遮光無し
ANL
AND M3961                ; Case搬送Y2動作可能
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3111                 ; Y2_P19 move
MPS
DW K19 D3050             ; 搬送Y2   移動No.
CON
OUT @M9                  ; Case搬送Y2移動
MPP
AND M3800                ; 搬送Y2 移動完了
MPS
LD T1810                 ; 投入2_塗布位置ﾜｰｸ検出
OR M37                   ; 空運転ﾓｰﾄﾞ
ANL
RES M3800                ; 搬送Y2 移動完了
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
MPP
LDB T1810                ; 投入2_塗布位置ﾜｰｸ検出
ANB M37                  ; 空運転ﾓｰﾄﾞ
ANL
TMR K322 K30             ; ｴﾗｰﾃﾞｨﾚｲ
CON
AND T322                 ; ｴﾗｰﾃﾞｨﾚｲ
OUT M3919                ; 受渡位置ﾜｰｸ不明
;排出要求
;Pass demand to Remove-Tranfer
LD M3112                 ; 排出要求
MPS
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
MPS
AND M6980                ; Y2排出完了
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
MRD
AND M6981                ; Y2排出異常
DW K114 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
MPP
LDB M6980                ; Y2排出完了
ANB M6981                ; Y2排出異常
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M8398                ; ﾕﾆｯﾄ8ｻｲｸﾙ停止
AND T1505                ; 除材2_移載ﾁｬｯｸ　上昇限
AND T1506                ; 除材2_移載ﾁｬｯｸ　閉限 (ﾜｰｸ有でON)
ANL
DW K150 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
MPP
OUT M3985                ; Y2排出要求
LD M3113                 ; 正常完了確認
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
ANB M6980                ; Y2排出完了
DW K120 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
FMOV K0 D950 K8          ; C2嵌合ﾜｰｸｺｰﾄﾞ
LD M3114                 ; 異常完了確認
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
ANB M6981                ; Y2排出異常
DW K150 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
;念のため、ﾜｰｸ残確認
;Check for Work remain
LD M3120                 ; ﾜｰｸ残ﾁｪｯｸ
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
MPS
ANB T1810                ; 投入2_塗布位置ﾜｰｸ検出
DW K124 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
MPP
TMR K312 K10             ; ﾜｰｸ残検出ｳｪｲﾄ
CON
AND T312                 ; ﾜｰｸ残検出ｳｪｲﾄ
AND T1810                ; 投入2_塗布位置ﾜｰｸ検出
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
;Err366:NG work remain on pass position 
LD M3121                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K366 D148             ; 警報No.
CON
SET M3926                ; Err366:排出位置ﾜｰｸ残
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3122                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3123                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K120 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
;ﾗｲﾄｶｰﾃﾝ遮光なら嵌合位置へ移動
;Move to Assy point when Lightcuartain shade
LD M3124                 ; LC遮光なら待機位置
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
MPS
AND M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
DW K126 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
MPP
LDB M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
AND M3961                ; Case搬送Y2動作可能
ANL
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3125                 ; Y2_P16 move
MPS
DW K35 D3050             ; 搬送Y2   移動No.
CON
OUT @M28                 ; Case搬送Y2移動
MPP
AND M3800                ; 搬送Y2 移動完了
RES M3800                ; 搬送Y2 移動完了
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
;投入位置移動
;Move to Work set point
LD M3126                 ; 投入位置へ戻り
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
AND M3961                ; Case搬送Y2動作可能
AND M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3127                 ; Y2_P14 move
MPS
DW K14 D3050             ; 搬送Y2   移動No.
CON
OUT @M10                 ; Case搬送Y2移動
MPP
AND M3800                ; 搬送Y2 移動完了
RES M3800                ; 搬送Y2 移動完了
CON
DW K300 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
;★★★　異常有ﾜｰｸ排出動作　★★★
;Eject of NG work　
LD M3150                 ; 投入位置へ戻り
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
AND M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
AND M3961                ; Case搬送Y2動作可能
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3151                 ; Y2_P14 move
MPS
DW K14 D3050             ; 搬送Y2   移動No.
CON
OUT @M11                 ; Case搬送Y2移動
MPP
AND M3800                ; 搬送Y2 移動完了
RES M3800                ; 搬送Y2 移動完了
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3152                 ; Case2     NG処理確認ﾌﾗｸﾞｾｯﾄ1
AND M3966                ; Case2     NG処理確認
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
;Err365:NG work remove demand 
LD M3153                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
MPS
ANB M3810                ; 塗布幅NGﾌﾗｸﾞ
DW K155 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
MPP
AND M3810                ; 塗布幅NGﾌﾗｸﾞ
DW K370 D148             ; 警報No.
CON
SET M3930                ; Err370:塗布幅NG
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3154                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3155                 ; ﾜｰｸ残ﾁｪｯｸ
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
ANB M3966                ; Case2     NG処理確認
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3156                 ; ｴﾗｰ解除確認
MPS
RES M3810                ; 塗布幅NGﾌﾗｸﾞ
CON
RES B11F0                ; Case2 Change sw
CON
ANB M3810                ; 塗布幅NGﾌﾗｸﾞ
ANB B11F0                ; Case2 Change sw
AND=.D D5210 K0          ; Case2 照合用ﾃﾞｰﾀ
DW K300 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
MRD
FMOV K0 D920 K8          ; BCR3読み取りﾃﾞｰﾀ
MRD
FMOV K0 D950 K8          ; C2嵌合ﾜｰｸｺｰﾄﾞ
MPP
FMOV K0 D5210 K8         ; Case2 照合用ﾃﾞｰﾀ
;★★★
;▼↓↓↓　Daily check mode　↓↓↓▼
;Y2日常点検　形状測定要求
;Request of form measurement
LD>= D3000 K420          ; UT3自動運転ｽﾃｯﾌﾟ
AND< D3000 K430          ; UT3自動運転ｽﾃｯﾌﾟ
OUT M3986                ; DC_Y2形状測定要求
;Y2日常点検　形状測定終了位置移動要求待ち
;Waiting for Request of Move to form measurement End point
LD M3420                 ; 形状測定依頼待ち
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
AND M4693                ; DC2形状測定終了位置移動要求
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
;Y2日常点検　形状測定終了位置移動
;Move to form measurement End point
LD M3421                 ; Case2搬送DC測定終了位置移動
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
AND M3961                ; Case搬送Y2動作可能
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3422                 ; Y2_P60
MPS
DW K60 D3050             ; 搬送Y2   移動No.
CON
OUT @M26                 ; Case搬送Y2移動
MPP
AND M3800                ; 搬送Y2 移動完了
RES M3800                ; 搬送Y2 移動完了
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
;移動終了ﾊﾝﾄﾞｼｪｲｸ
;Hand shake of move end
LD M3423                 ; 移動終了ﾊﾝﾄﾞｼｪｲｸ
MPS
LD M3913                 ; UNIT3     ｴﾗｰ・PAUSE無し
ANB M4693                ; DC2形状測定終了位置移動要求
ANL
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
MPP
OUT M3691                ; DC形状測定終了位置移動完了
;測定終了ﾊﾝﾄﾞｼｪｲｸ
;Hand shake of measurement end
LD M3424                 ; 測定終了ﾊﾝﾄﾞｼｪｲｸ
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
AND M4694                ; Y2_DC形状測定完了
DW K430 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
;投入位置移動
;Move to Work set point
LD M3430                 ; Case2搬送投入位置戻り
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
AND M3961                ; Case搬送Y2動作可能
AND M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3431                 ; Y2_P14
MPS
DW K14 D3050             ; 搬送Y2   移動No.
CON
OUT @M12                 ; Case搬送Y2移動
MPP
AND M3800                ; 搬送Y2 移動完了
RES M3800                ; 搬送Y2 移動完了
CON
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3432                 ; 結果判定依頼
MPS
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
MPS
AND B1514                ; DC_OK sw
SET M41                  ; Y2 Daily check OK
CON
DW K10 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
MRD
AND B1516                ; DC_NG sw
RES M41                  ; Y2 Daily check OK
CON
DW K10 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
MPP
AND B1515                ; DC_Retry sw
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
MPP
OUT M3990                ; DC_作業者OK確認依頼画面表示
LD M3433                 ; 治具取り外し確認
MPS
LD M3913                 ; UNIT3     ｴﾗｰ・PAUSE無し
AND M3851                ; 日常点検治具取り外し確認
ANL
DW K400 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
MPP
TMR K315 K10             ; 日常点検治具取外し催促
;▲↑↑↑　Daily check mode　↑↑↑▲
;サイクル停止条件
;Cycle end check
LD M3300                 ; 1ｻｲｸﾙ終了
MPS
LDB M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ORB M7398                ; ﾕﾆｯﾄ7ｻｲｸﾙ停止
LDB T300                 ; UT3　 AUTO終了ﾃﾞｨﾚｲ
ANB M39                  ; 日常点検ﾓｰﾄﾞ
ORL
ANL
DW K10 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
MPP
LD M70                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M7398                ; ﾕﾆｯﾄ7ｻｲｸﾙ停止
LD T300                  ; UT3　 AUTO終了ﾃﾞｨﾚｲ
OR M39                   ; 日常点検ﾓｰﾄﾞ
ANL
ANL
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3301                 ; 投入位置戻り
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
AND M3961                ; Case搬送Y2動作可能
AND M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
@INC D3000               ; UT3自動運転ｽﾃｯﾌﾟ
LD M3302                 ; Y2_P14 move
MPS
DW K14 D3050             ; 搬送Y2   移動No.
CON
OUT @M13                 ; Case搬送Y2移動
MPP
AND M3800                ; 搬送Y2 移動完了
RES M3800                ; 搬送Y2 移動完了
CON
DW K397 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
;▼↓↓↓　Daily check mode　↓↓↓▼
LD M3310                 ; 治具取り外し待ち
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
MPS
LDB T1800                ; 投入2_ｹｰｽ検出
AND T1801                ; 投入2_ﾜｰｸ浮き1(手前)
AND T1802                ; 投入2_ﾜｰｸ浮き2(奥)
AND M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
ANL
DW K397 D3000            ; UT3自動運転ｽﾃｯﾌﾟ
MPP
LD T1800                 ; 投入2_ｹｰｽ検出
ORB T1801                ; 投入2_ﾜｰｸ浮き1(手前)
ORB T1802                ; 投入2_ﾜｰｸ浮き2(奥)
ANL
TMR K314 K100            ; 日常点検治具取外し催促
TMR K318 K2              ; 日常点検治具取外し催促ﾗﾝﾌﾟ
;▲↑↑↑　Daily check mode　↑↑↑▲
LD M3397                 ; ｻｲｸﾙ終了
@MOV K398 D3000          ; UT3自動運転ｽﾃｯﾌﾟ
;終了
;Unit AUTO cycle end
LD M3398                 ; UT3ｻｲｸﾙ停止
MPS
LD M70                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M72                  ; 全ﾕﾆｯﾄ停止確認
ANL
@MOV K399 D3000          ; UT3自動運転ｽﾃｯﾌﾟ
MPP
ANB M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
DW K10 D3000             ; UT3自動運転ｽﾃｯﾌﾟ
;<h1/>■原点復帰回路
;
;運転開始・ステッパ初期化・補助接点へ展開
LD CR2002                ; 常時ON
ZRES M3500 M3599         ; ﾕﾆｯﾄ3原点復帰開始
LDB M3904                ; ﾕﾆｯﾄ3原点復帰中
MOV K0 D3010             ; UT3原点復帰ｽﾃｯﾌﾟ
LD M3904                 ; ﾕﾆｯﾄ3原点復帰中
MOV D3010 Z1             ; UT3原点復帰ｽﾃｯﾌﾟ
OUT M3500:Z1             ; ﾕﾆｯﾄ3原点復帰開始
;原点復帰ステップ開始
;Origin start
LD M3500                 ; ﾕﾆｯﾄ3原点復帰開始
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
AND M4975                ; 塗布Z軸　原点復帰完了
AND M5990                ; 嵌合Z軸　原点復帰完了
AND M3960                ; Case搬送Y2原点復帰可能
AND M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
@INC D3010               ; UT3原点復帰ｽﾃｯﾌﾟ
;搬送Y　原点復帰
;Transport-Y1 HOME start
LD M3501                 ; Y2原点復帰中
MPS
MCALL ORIGIN_K K4 K4 M3805 M3804;搬送Y2 原点復帰異常  搬送Y2 原点復帰完了
MPP
AND M3804                ; 搬送Y2 原点復帰完了
RES M3804                ; 搬送Y2 原点復帰完了
CON
MPS
AND M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
@INC D3010               ; UT3原点復帰ｽﾃｯﾌﾟ
MPP
ANB M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
DW K0 D3010              ; UT3原点復帰ｽﾃｯﾌﾟ
;搬送Y　投入位置移動
;Y1 Point4 move
LD M3502
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
AND M3961                ; Case搬送Y2動作可能
@INC D3010               ; UT3原点復帰ｽﾃｯﾌﾟ
LD M3503                 ; Y2 P14移動中
MPS
DW K14 D3050             ; 搬送Y2   移動No.
CON
OUT @M14                 ; Case搬送Y2移動
MPP
AND M3800                ; 搬送Y2 移動完了
RES M3800                ; 搬送Y2 移動完了
CON
@INC D3010               ; UT3原点復帰ｽﾃｯﾌﾟ
;ﾜｰｸ有無Check
;Work check
LD M3504                 ; ﾜｰｸﾁｪｯｸ
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
TMR K301 K5              ; ﾜｰｸ無し確認ﾃﾞｨﾚｲ
CON
AND T301                 ; ﾜｰｸ無し確認ﾃﾞｨﾚｲ
MPS
LDB T1800                ; 投入2_ｹｰｽ検出
AND T1801                ; 投入2_ﾜｰｸ浮き1(手前)
AND T1802                ; 投入2_ﾜｰｸ浮き2(奥)
ANL
DW K10 D3010             ; UT3原点復帰ｽﾃｯﾌﾟ
MPP
LD T1800                 ; 投入2_ｹｰｽ検出
ORB T1801                ; 投入2_ﾜｰｸ浮き1(手前)
ORB T1802                ; 投入2_ﾜｰｸ浮き2(奥)
ANL
@INC D3010               ; UT3原点復帰ｽﾃｯﾌﾟ
;***　ﾜｰｸ有り時処理
;Work remain
LD M3505                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K360 D148             ; 警報No.
CON
SET M3920                ; Err360:ﾜｰｸ残
CON
@INC D3010               ; UT3原点復帰ｽﾃｯﾌﾟ
LD M3506                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D3010               ; UT3原点復帰ｽﾃｯﾌﾟ
LD M3507                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K4 D3010              ; UT3原点復帰ｽﾃｯﾌﾟ
;***
;BCR check
LD M3510                 ; BCR2 FLG. reset
MPS
AND M28                  ; 仮 NAT
MPS
AND M3913                ; UNIT3     ｴﾗｰ・PAUSE無し
ZRES M10800 M10811       ; ﾄﾘｶﾞ有効BUSY  結果有効
CON
ANB M10305               ; ｺｰﾄﾞﾘｰﾀﾞﾄﾘｶﾞ有効ON
@INC D3010               ; UT3原点復帰ｽﾃｯﾌﾟ
MPP
OUT M10306               ; ｺｰﾄﾞﾘｰﾀﾞﾄﾘｶﾞ有効OFF
MPP
ANB M28                  ; 仮 NAT
DW K70 D3010             ; UT3原点復帰ｽﾃｯﾌﾟ
LD M3511                 ; BCR3 CHECK
MPS
AND M28                  ; 仮 NAT
MPS
AND M10605               ; ｺｰﾄﾞﾘｰﾀﾞﾄﾘｶﾞ有効ON
DW K70 D3010             ; UT3原点復帰ｽﾃｯﾌﾟ
MRD
AND M10604               ; ｺｰﾄﾞﾘｰﾀﾞ通信NG PLS
@INC D3010               ; UT3原点復帰ｽﾃｯﾌﾟ
MPP
OUT M10607               ; ｺｰﾄﾞﾘｰﾀﾞ通信確認入力
MPP
ANB M28                  ; 仮 NAT
DW K70 D3010             ; UT3原点復帰ｽﾃｯﾌﾟ
;Err362:BCR3 communication error
LD M3512                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K368 D148             ; 警報No.
CON
SET M3928                ; Err368:BCR3通信確認異常
CON
@INC D3010               ; UT3原点復帰ｽﾃｯﾌﾟ
LD M3513                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D3010               ; UT3原点復帰ｽﾃｯﾌﾟ
LD M3514                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K10 D3010             ; UT3原点復帰ｽﾃｯﾌﾟ
;原点復帰終了
LD M3570                 ; UT3 HOME end flg. set
AND M3991                ; Cover搬送原点復帰完了
@INC D3010               ; UT3原点復帰ｽﾃｯﾌﾟ
LD M3571                 ; 原点復帰動作完了
AND M3900                ; ﾕﾆｯﾄ3原点
OUT M3578                ; UT3原点復帰完了
LD M3578                 ; UT3原点復帰完了
ANB M98                  ; 原点復帰開始
@MOV K79 D3010           ; UT3原点復帰ｽﾃｯﾌﾟ
;<h1/>■手動回路 
;
LD M33                   ; 手動ﾓｰﾄﾞ
AND M34                  ; ﾒｲﾝ手動操作可能条件
ANB M3905                ; ﾕﾆｯﾄ3起動中
ANB M97                  ; 原点復帰動作中
MC
;Case-Transfer Y2
LD M3961                 ; Case搬送Y2動作可能
AND M3950                ; ﾗｲﾄｶｰﾃﾝ  遮光無し
ANB M3800                ; 搬送Y2 移動完了
ANB M3801                ; 搬送Y2 移動異常
ANB M3802                ; 搬送Y2 移動中
AND R3500                ; COVER-Assy Z 待機領域
LD R3109                 ; Case搬送Y2塗布領域
ANB T1810                ; 投入2_塗布位置ﾜｰｸ検出
ORB R3109                ; Case搬送Y2塗布領域
LD T1504                 ; 除材2_移載ﾁｬｯｸ　下降限
AND T1507                ; 除材2_移載ﾁｬｯｸ　開限
ORL
ANL
AND R3701                ; 除材2Y    塗布干渉外
ANB M8802                ; COVER排出Y 移動指示中
OUT M3610                ; Case搬送Y2動作可
LD CR2002                ; 常時ON
MPS
LDP B10C0                ; 搬送Y2_投入位置移動PB
AND M3610                ; Case搬送Y2動作可
OR M3611                 ; Y2_P14 move
ANB M3800                ; 搬送Y2 移動完了
ANL
OUT M3611                ; Y2_P14 move
DW K14 D3050             ; 搬送Y2   移動No.
CON
OUT @M15                 ; Case搬送Y2移動
MPP
ANF M3611                ; Y2_P14 move
RES M3800                ; 搬送Y2 移動完了
LD CR2002                ; 常時ON
MPS
LDP B10C1                ; 搬送Y2_塗布位置移動PB
AND M3610                ; Case搬送Y2動作可
AND T1504                ; 除材2_移載ﾁｬｯｸ　下降限
AND T1507                ; 除材2_移載ﾁｬｯｸ　開限
OR M3612                 ; Y2_P81 move
ANB M3800                ; 搬送Y2 移動完了
ANL
OUT M3612                ; Y2_P81 move
DW K81 D3050             ; 搬送Y2   移動No.
CON
OUT @M16                 ; Case搬送Y2移動
MPP
ANF M3612                ; Y2_P81 move
RES M3800                ; 搬送Y2 移動完了
LD CR2002                ; 常時ON
MPS
LDP B10C2                ; 搬送Y2_測定位置移動PB
AND M3610                ; Case搬送Y2動作可
AND T1504                ; 除材2_移載ﾁｬｯｸ　下降限
AND T1507                ; 除材2_移載ﾁｬｯｸ　開限
OR M3613                 ; Y2_P56 move
ANB M3800                ; 搬送Y2 移動完了
ANL
OUT M3613                ; Y2_P56 move
DW K56 D3050             ; 搬送Y2   移動No.
CON
OUT @M17                 ; Case搬送Y2移動
MPP
ANF M3613                ; Y2_P56 move
RES M3800                ; 搬送Y2 移動完了
LD CR2002                ; 常時ON
MPS
LDP B10C3                ; 搬送Y2_嵌合位置移動PB
AND M3610                ; Case搬送Y2動作可
OR M3614                 ; Y2_P35 move
ANB M3800                ; 搬送Y2 移動完了
ANL
OUT M3614                ; Y2_P35 move
DW K35 D3050             ; 搬送Y2   移動No.
CON
OUT @M18                 ; Case搬送Y2移動
MPP
ANF M3614                ; Y2_P35 move
RES M3800                ; 搬送Y2 移動完了
LD CR2002                ; 常時ON
MPS
LDP B10C5                ; 搬送Y2_排出位置移動PB
AND M3610                ; Case搬送Y2動作可
LD T1504                 ; 除材2_移載ﾁｬｯｸ　下降限
AND T1507                ; 除材2_移載ﾁｬｯｸ　開限
LD T1505                 ; 除材2_移載ﾁｬｯｸ　上昇限
AND T1506                ; 除材2_移載ﾁｬｯｸ　閉限 (ﾜｰｸ有でON)
ANB T1810                ; 投入2_塗布位置ﾜｰｸ検出
ORL
ANL
OR M3616                 ; Y2_P19 move
ANB M3800                ; 搬送Y2 移動完了
ANL
OUT M3616                ; Y2_P19 move
DW K19 D3050             ; 搬送Y2   移動No.
CON
OUT @M20                 ; Case搬送Y2移動
MPP
ANF M3616                ; Y2_P19 move
RES M3800                ; 搬送Y2 移動完了
LD CR2002                ; 常時ON
MPS
LDP B10C6                ; 搬送Y2_ｺｰﾄﾞ読取位置移動PB
AND M3610                ; Case搬送Y2動作可
OR M3617                 ; Y2_P15 move
ANB M3800                ; 搬送Y2 移動完了
ANL
OUT M3617                ; Y2_P15 move
DW K15 D3050             ; 搬送Y2   移動No.
CON
OUT @M21                 ; Case搬送Y2移動
MPP
ANF M3617                ; Y2_P15 move
RES M3800                ; 搬送Y2 移動完了
LD CR2002                ; 常時ON
MPS
LDP B10C7                ; 搬送Y2DC測定開始位置PB
AND M3610                ; Case搬送Y2動作可
AND T1504                ; 除材2_移載ﾁｬｯｸ　下降限
AND T1507                ; 除材2_移載ﾁｬｯｸ　開限
OR M3618                 ; Y2_P59 move
ANB M3800                ; 搬送Y2 移動完了
ANL
OUT M3618                ; Y2_P59 move
DW K59 D3050             ; 搬送Y2   移動No.
CON
OUT @M22                 ; Case搬送Y2移動
MPP
ANF M3618                ; Y2_P59 move
RES M3800                ; 搬送Y2 移動完了
LD CR2002                ; 常時ON
MPS
LDP B10C8                ; 搬送Y2DC測定終了位置PB
AND M3610                ; Case搬送Y2動作可
AND T1504                ; 除材2_移載ﾁｬｯｸ　下降限
AND T1507                ; 除材2_移載ﾁｬｯｸ　開限
OR M3619                 ; Y2_P60 move
ANB M3800                ; 搬送Y2 移動完了
ANL
OUT M3619                ; Y2_P60 move
DW K60 D3050             ; 搬送Y2   移動No.
CON
OUT @M23                 ; Case搬送Y2移動
MPP
ANF M3619                ; Y2_P60 move
RES M3800                ; 搬送Y2 移動完了
LD CR2002                ; 常時ON
MPS
LDP B10C9                ; 搬送Y2_日常点検位置移動PB
AND M3610                ; Case搬送Y2動作可
AND T1504                ; 除材2_移載ﾁｬｯｸ　下降限
AND T1507                ; 除材2_移載ﾁｬｯｸ　開限
OR M3620                 ; Y2_P121 move
ANB M3800                ; 搬送Y2 移動完了
ANL
OUT M3620                ; Y2_P121 move
DW K121 D3050            ; 搬送Y2   移動No.
CON
OUT @M24                 ; Case搬送Y2移動
MPP
ANF M3620                ; Y2_P121 move
RES M3800                ; 搬送Y2 移動完了
LD CR2002                ; 常時ON
MPS
LDP B10CA                ; 搬送Y2_受渡前待機位置位置移動PB
AND M3610                ; Case搬送Y2動作可
OR M3621                 ; Y2_P16 move
ANB M3800                ; 搬送Y2 移動完了
ANL
OUT M3621                ; Y2_P16 move
DW K16 D3050             ; 搬送Y2   移動No.
CON
OUT @M27                 ; Case搬送Y2移動
MPP
ANF M3621                ; Y2_P16 move
RES M3800                ; 搬送Y2 移動完了
;Jog
LD X569D                 ; 軸4 ｻｰﾎﾞﾚﾃﾞｨ
ANB X5680                ; 軸4 軸ｴﾗｰ中
AND>=.L D31470 +0        ; 軸4 現在座標
AND<=.L D31470 +100200   ; 軸4 現在座標
MPS
AND B2106                ; CaseY2軸+JOG PB
OUT Y5650                ; 軸4 JOG正方向
MPP
AND B2107                ; CaseY2軸-JOG PB
OUT Y5651                ; 軸4 JOG負方向
;code-reader 3
LDP B10CC                ; BCR3 read PB
OR M3630                 ; BCR3 read
ANB M10623               ; BCR3     読取り完了
ANB M10633               ; BCR3     読取りｴﾗｰ
ANB T355                 ; ｺｰﾄﾞﾘｰﾄﾞﾀｲﾑｱｳﾄ
OUT M3630                ; BCR3 read
FMOV K0 D920 K8          ; BCR3読み取りﾃﾞｰﾀ
TMR K355 K60             ; ｺｰﾄﾞﾘｰﾄﾞﾀｲﾑｱｳﾄ
MCR
;<h1/>出力回路
;搬送X軸
LDB @M0                  ; Case搬送Y2移動
ANB @M1                  ; Case搬送Y2移動
ANB @M2                  ; Case搬送Y2移動
ANB @M3                  ; Case搬送Y2移動
ANB @M4                  ; Case搬送Y2移動
ANB @M5                  ; Case搬送Y2移動
ANB @M6                  ; Case搬送Y2移動
ANB @M7                  ; Case搬送Y2移動
ANB @M8                  ; Case搬送Y2移動
ANB @M9                  ; Case搬送Y2移動
ANB @M10                 ; Case搬送Y2移動
ANB @M11                 ; Case搬送Y2移動
ANB @M12                 ; Case搬送Y2移動
ANB @M13                 ; Case搬送Y2移動
ANB @M14                 ; Case搬送Y2移動
ANB @M15                 ; Case搬送Y2移動
ANB @M16                 ; Case搬送Y2移動
ANB @M17                 ; Case搬送Y2移動
ANB @M18                 ; Case搬送Y2移動
ANB @M19                 ; Case搬送Y2移動
ANB @M20                 ; Case搬送Y2移動
ANB @M21                 ; Case搬送Y2移動
ANB @M22                 ; Case搬送Y2移動
ANB @M23                 ; Case搬送Y2移動
ANB @M24                 ; Case搬送Y2移動
ANB @M25                 ; Case搬送Y2移動
ANB @M26                 ; Case搬送Y2移動
ANB @M27                 ; Case搬送Y2移動
ANB @M28                 ; Case搬送Y2移動
ANB R31708               ; Case搬送Y2起動
ANB R31709               ; Case搬送Y2起動
ANB R32001               ; Case搬送Y2移動
INV
OUT M3803                ; Case搬送Y2移動指示有
LD M3803                 ; Case搬送Y2移動指示有
MCALL P_MOVE_K K4 K4 D3050 M3801 M3800 M3802;搬送Y2   移動No.  搬送Y2 移動異常  搬送Y2 移動完了  搬送Y2 移動中
;<h1/>異常検出
;
LD CR2002                ; 常時ON
MPS
LD M3963                 ; Jig No.異常
OR M3964                 ; 投入後　  Jig No.異常
LDB B0560                ; ﾕﾆｯﾄ3_異常1BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B060                 ; ﾕﾆｯﾄ3_JIG番号異常
ORL
ANL
OUT B060                 ; ﾕﾆｯﾄ3_JIG番号異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0560                 ; ﾕﾆｯﾄ3_異常1BZ停止
AND B060                 ; ﾕﾆｯﾄ3_JIG番号異常
ANL
OUT B0560                ; ﾕﾆｯﾄ3_異常1BZ停止
LD M64                   ; 運転準備
AND X5680                ; 軸4 軸ｴﾗｰ中
LD M551                  ; SMA441ｱﾗｰﾑﾘｾｯﾄ
AND X5715                ; 軸4 ﾄﾞﾗｲﾊﾞｱﾗｰﾑ
ORL
TMR K390 K30             ; SMA441ｱﾗｰﾑ
LD CR2002                ; 常時ON
MPS
LD T390                  ; SMA441ｱﾗｰﾑ
LDB B0561                ; ﾕﾆｯﾄ3_異常2BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B061                 ; SMA441ｱﾗｰﾑ
ORL
ANL
OUT B061                 ; SMA441ｱﾗｰﾑ
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0561                 ; ﾕﾆｯﾄ3_異常2BZ停止
AND B061                 ; SMA441ｱﾗｰﾑ
ANL
OUT B0561                ; ﾕﾆｯﾄ3_異常2BZ停止
LD CR2002                ; 常時ON
MPS
LD CR2003                ; 常時OFF
LDB B0562                ; ﾕﾆｯﾄ3_異常3BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B062                 ; ﾕﾆｯﾄ3_異常3
ORL
ANL
OUT B062                 ; ﾕﾆｯﾄ3_異常3
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0562                 ; ﾕﾆｯﾄ3_異常3BZ停止
AND B062                 ; ﾕﾆｯﾄ3_異常3
ANL
OUT B0562                ; ﾕﾆｯﾄ3_異常3BZ停止
LD CR2002                ; 常時ON
MPS
LD CR2003                ; 常時OFF
LDB B0563                ; ﾕﾆｯﾄ3_異常4BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B063                 ; ﾕﾆｯﾄ3_異常4
ORL
ANL
OUT B063                 ; ﾕﾆｯﾄ3_異常4
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0563                 ; ﾕﾆｯﾄ3_異常4BZ停止
AND B063                 ; ﾕﾆｯﾄ3_異常4
ANL
OUT B0563                ; ﾕﾆｯﾄ3_異常4BZ停止
LD CR2002                ; 常時ON
MPS
LD CR2003                ; 常時OFF
LDB B0564                ; ﾕﾆｯﾄ3_異常5BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B064                 ; ﾕﾆｯﾄ3_異常5
ORL
ANL
OUT B064                 ; ﾕﾆｯﾄ3_異常5
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0564                 ; ﾕﾆｯﾄ3_異常5BZ停止
AND B064                 ; ﾕﾆｯﾄ3_異常5
ANL
OUT B0564                ; ﾕﾆｯﾄ3_異常5BZ停止
LD CR2002                ; 常時ON
MPS
LD M3917                 ; 塗布位置Case不明
LDB B0565                ; ﾕﾆｯﾄ3_異常6BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B065                 ; Y2塗布位置ｹｰｽ行方不明
ORL
ANL
OUT B065                 ; Y2塗布位置ｹｰｽ行方不明
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0565                 ; ﾕﾆｯﾄ3_異常6BZ停止
AND B065                 ; Y2塗布位置ｹｰｽ行方不明
ANL
OUT B0565                ; ﾕﾆｯﾄ3_異常6BZ停止
LD CR2002                ; 常時ON
MPS
LD M3918                 ; 嵌合位置ﾜｰｸ不明
LDB B0566                ; ﾕﾆｯﾄ3_異常7BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B066                 ; Y2嵌合位置ｹｰｽ行方不明
ORL
ANL
OUT B066                 ; Y2嵌合位置ｹｰｽ行方不明
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0566                 ; ﾕﾆｯﾄ3_異常7BZ停止
AND B066                 ; Y2嵌合位置ｹｰｽ行方不明
ANL
OUT B0566                ; ﾕﾆｯﾄ3_異常7BZ停止
LD CR2002                ; 常時ON
MPS
LD M3919                 ; 受渡位置ﾜｰｸ不明
LDB B0567                ; ﾕﾆｯﾄ3_異常8BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B067                 ; Y2受渡位置ｹｰｽ行方不明
ORL
ANL
OUT B067                 ; Y2受渡位置ｹｰｽ行方不明
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0567                 ; ﾕﾆｯﾄ3_異常8BZ停止
AND B067                 ; Y2受渡位置ｹｰｽ行方不明
ANL
OUT B0567                ; ﾕﾆｯﾄ3_異常8BZ停止
;異常ﾌﾞｻﾞｰまとめ
LD B060                  ; ﾕﾆｯﾄ3_JIG番号異常
ANB B0560                ; ﾕﾆｯﾄ3_異常1BZ停止
LD B061                  ; SMA441ｱﾗｰﾑ
ANB B0561                ; ﾕﾆｯﾄ3_異常2BZ停止
ORL
LD B062                  ; ﾕﾆｯﾄ3_異常3
ANB B0562                ; ﾕﾆｯﾄ3_異常3BZ停止
ORL
LD B063                  ; ﾕﾆｯﾄ3_異常4
ANB B0563                ; ﾕﾆｯﾄ3_異常4BZ停止
ORL
LD B064                  ; ﾕﾆｯﾄ3_異常5
ANB B0564                ; ﾕﾆｯﾄ3_異常5BZ停止
ORL
LD B065                  ; Y2塗布位置ｹｰｽ行方不明
ANB B0565                ; ﾕﾆｯﾄ3_異常6BZ停止
ORL
LD B066                  ; Y2嵌合位置ｹｰｽ行方不明
ANB B0566                ; ﾕﾆｯﾄ3_異常7BZ停止
ORL
LD B067                  ; Y2受渡位置ｹｰｽ行方不明
ANB B0567                ; ﾕﾆｯﾄ3_異常8BZ停止
ORL
OUT M3909                ; ﾕﾆｯﾄ3異常BZ補助
END
ENDH
