DEVICE:53
;MODULE:UT02_Low_Sup_RB
;MODULE_TYPE:0
;ｶｳﾝﾀ初期化
LD= D1550 K0             ; Lo#1_徐材ｶｳﾝﾀ
MOV K1 D1550             ; Lo#1_徐材ｶｳﾝﾀ
LD= D1551 K0             ; Lo#1_給材ｶｳﾝﾀ
MOV K1 D1551             ; Lo#1_給材ｶｳﾝﾀ
LD= D1552 K0             ; Lo#2_徐材ｶｳﾝﾀ
MOV K1 D1552             ; Lo#2_徐材ｶｳﾝﾀ
LD= D1553 K0             ; Lo#2_給材ｶｳﾝﾀ
MOV K1 D1553             ; Lo#2_給材ｶｳﾝﾀ
LD= D1555 K0             ; Low_給徐材優先ﾌﾗｸﾞ
MOV K1 D1555             ; Low_給徐材優先ﾌﾗｸﾞ
;□□　　入力受け　　□□
LD X1001                 ; 低温給徐材RBﾁｬｯｸ閉端
TMH K210 K5              ; 低温給徐材RBﾁｬｯｸ閉端
LD X1000                 ; 低温給徐材RBﾁｬｯｸ開端
TMH K211 K3              ; 低温給徐材RBﾁｬｯｸ開端
LD X1002                 ; 低温給徐材RBﾜｰｸ確認
TMH K212 K2              ; 低温給徐材RBﾜｰｸ確認
LD CR2003                ; 常時OFF
TMH K213 K30             ; 入力予備
;ｼﾌﾄﾛﾎﾞｯﾄ現在値
LD X1004                 ; Low_Shift_RB準備完了
AND X328B                ; Low_Shift_RB_ORG-S
ANB X328C                ; Low_Shift_RB_Busy
AND X328D                ; Low_Shift_RB_END
MPS
AND X3280                ; Low_Shift_RB_Pout1
OUT D1548.0              ; Low_sift_RB_完了POS1
MRD
AND X3281                ; Low_Shift_RB_Pout2
OUT D1548.1              ; Low_sift_RB_完了POS2
MRD
AND X3282                ; Low_Shift_RB_Pout4
OUT D1548.2              ; Low_sift_RB_完了POS4
MRD
AND X3283                ; Low_Shift_RB_Pout8
OUT D1548.3              ; Low_sift_RB_完了POS8
MRD
AND X3284                ; Low_Shift_RB_Pout16
OUT D1548.4              ; Low_sift_RB_完了POS16
MRD
AND X3285                ; Low_Shift_RB_Pout32
OUT D1548.5              ; Low_sift_RB_完了POS32
MRD
AND X3286                ; Low_Shift_RB_Pout64
OUT D1548.6              ; Low_sift_RB_完了POS64
MRD
AND X3287                ; Low_Shift_RB_Pout128
OUT D1548.7              ; Low_sift_RB_完了POS128
MPP
INV
MOV K0 D1548             ; Low_Sift_RB_完了POS
;□
;□□ 装置状態・動作条件 □□
;□
;□ ﾕﾆｯﾄ原点
LD T211                  ; 低温給徐材RBﾁｬｯｸ開端
AND X3225                ; Low_Sup_RB_ORG(805)
ANB X3242                ; Low_RB_Sift_取出移動(834)
ANB X3243                ; Low_RB_Sift_Lo#1位置移動(835)
ANB X3244                ; Low_RB_Sift_Lo#2位置移動(836)
ANB X3245                ; Low_RB_Sift_検査仮置移動(837)
ANB X3246                ; Low_RB_Sift原点移動(838)
OUT M1980                ; ﾕﾆｯﾄ2原点
;□ 非常停止
LDB B041                 ; Low_Sup_RB異常
ANB B044                 ; Low_Sup_RB搬送中ﾜｰｸ無異常
ANB B045                 ; Low_Sup_RB受信品種ﾃﾞｰﾀ異常
ANB B046                 ; Low_Sup_RB徐材時槽内ﾜｰｸ有異常
ANB B047                 ; Low_Sup_RB徐材時槽内ﾜｰｸ無異常
ANB B048                 ; Low_Sup_RB初期起動時ﾜｰｸ有異常
ANB B04C                 ; Low_Sup_RB給材時槽内ﾜｰｸ有異常
ANB B04D                 ; Low_Sup_ｽﾗｲﾄﾞﾛﾎﾞｯﾄ異常
ANB B05C                 ; Low_Sup_RB_PC照合異常(Low#1)
ANB B05D                 ; Low_Sup_RB_PC照合異常(Low#2)
ANB B05E                 ; Low_Sup_RB_ﾜｰｸ照合異常(Low#1)
ANB B05F                 ; Low_Sup_RB_ﾜｰｸ照合異常(Low#2)
INV
OUT M1981                ; ﾕﾆｯﾄ2全異常
;□ 起動条件
LD M1980                 ; ﾕﾆｯﾄ2原点
AND M1990                ; ﾕﾆｯﾄ2機器準備完了
OUT M1982                ; ﾕﾆｯﾄ2起動条件
;□ 起動OFF
LDB M50                  ; 運転準備
LD M60                   ; ｴﾗｰ発生
OR M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M1984                ; ﾕﾆｯﾄ2原点復帰中
ORL
OR M1986                 ; ﾕﾆｯﾄ2ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M1983                ; ﾕﾆｯﾄ2起動OFF
;□ 原点復帰
LD M82                   ; 原点復帰開始
LDP B10B0                ; UNIT2-2-1 TP-PB
AND M31                  ; 手動ﾓｰﾄﾞ
ANB M82                  ; 原点復帰開始
ANB M1821                ; 取出1ｻｲｸﾙ(手動)
ANB M1841                ; 供給1ｻｲｸﾙ(手動)
AND CR2003               ; 常時OFF
ORL
ANB M1984                ; ﾕﾆｯﾄ2原点復帰中
OR M1984                 ; ﾕﾆｯﾄ2原点復帰中
ANB M1983                ; ﾕﾆｯﾄ2起動OFF
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
ANB M1799                ; ﾕﾆｯﾄ2原点復帰完了確認
MPS
OUT M1984                ; ﾕﾆｯﾄ2原点復帰中
MPP
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT B15B0                ; UNIT2-2-1 TP-PL
;□ 起動中
LD M73                   ; 各工程起動指令
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND M1982                ; ﾕﾆｯﾄ2起動条件
LD M6225                 ; Hi_Sup_RB_初期起動完了ﾌﾗｸﾞ
LD M1053                 ; 給材部ﾌﾚｰﾑ取出可ON(RBへ)
LDB M36                  ; 払出ﾓｰﾄﾞ
AND M3001                ; 低温検査前仮置台ﾜｰｸ供給可
LD M2001                 ; Lo#1_給徐材要求ON
OR M2501                 ; Lo#2_給徐材要求ON
ANL
ORL
ANL
ORB M1725                ; Lo_Sup_RB_初期起動完了ﾌﾗｸﾞ
ANL
OR M1985                 ; ﾕﾆｯﾄ2起動中
ANB M1983                ; ﾕﾆｯﾄ2起動OFF
ANB M1649                ; ﾕﾆｯﾄ2ｻｲｸﾙ終了
OUT M1985                ; ﾕﾆｯﾄ2起動中
;□ ｻｲｸﾙ停止異常
LDB CR2003               ; 常時OFF
INV
OUT M1986                ; ﾕﾆｯﾄ2ｻｲｸﾙ停止異常
;□ 払出停止異常
LDB CR2003               ; 常時OFF
INV
OUT M1987                ; ﾕﾆｯﾄ2払出停止異常
;□ 警報補助
LDB B043                 ; Low_Sup_RBﾊﾞｯﾃﾘｰ低下
OR B0543
LDB B04B                 ; 低温槽全停止中
OR B054B
ANL
ANB M1522                ; Lo_RBﾜｰｸ無NG(選択ﾀﾞｲｱﾛｸﾞ)
ANB M1527                ; Lo_RBﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
ANB M1567                ; 槽内ﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
INV
OUT M1988                ; ﾕﾆｯﾄ2警報補助
;□ 機器準備確認
LDB X3201                ; Low_Sup_RB_RUN
AND X3203                ; Low_Sup_RB_SV_ON
AND X3204                ; Low_Sup_RB_Ready
AND X3205                ; Low_Sup_RB_Auto
AND X3206                ; Low_Sup_RB_EXT
ANB X3208                ; Low_Sup_RB_Worning
AND X328F                ; Low_Shift_RB_SV_ON
OUT M1990                ; ﾕﾆｯﾄ2機器準備完了
;□ ｴﾗｰ発生　一時停止
LDB B040                 ; 低温槽給徐材RBﾁｬｯｸ異常
ANB B042                 ; Low_Sup_RB原点復帰ﾜｰｸ有取出要求
INV
OUT M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
;□ 動作中ﾕﾆｯﾄ無し
LDB M1985                ; ﾕﾆｯﾄ2起動中
ANB M1984                ; ﾕﾆｯﾄ2原点復帰中
LDB M1522                ; Lo_RBﾜｰｸ無NG(選択ﾀﾞｲｱﾛｸﾞ)
ANB M1527                ; Lo_RBﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
ANB M1567                ; 槽内ﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
INV
AND M1985                ; ﾕﾆｯﾄ2起動中
ANB M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ORL
LD M1510                 ; 給徐材先判定
OR M1511                 ; Lo_RB給徐材開始
ANB M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
ORL
ANB X3201                ; Low_Sup_RB_RUN
TMR K201 K20             ; ﾕﾆｯﾄ2動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D1500 D1505          ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ2ｻﾌﾞ運転ｽﾃｯﾌﾟ
LD T201                  ; ﾕﾆｯﾄ2動作無し判定ﾀｲﾏ
OUT M1992                ; ﾕﾆｯﾄ2動作無し確認
;□ 払出しﾜｰｸ無し
LD T211                  ; 低温給徐材RBﾁｬｯｸ開端
TMR K205 K10             ; UNIT2払出処理ﾜｰｸ無
LD T205                  ; UNIT2払出処理ﾜｰｸ無
OUT M1993                ; ﾕﾆｯﾄ2ﾜｰｸ無し
;□ ｽﾃｯﾌﾟ起動
LD M30                   ; 自動ﾓｰﾄﾞ
OR M31                   ; 手動ﾓｰﾄﾞ
AND M123                 ; 安全扉正常
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
ANB M130                 ; 一時停止
OUT M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
;□□□□□□□□□□□□□□□
;□　　 　UNIT2自動回路  　　□
;□□□□□□□□□□□□□□□
;<h1/>■自動回路
;運転開始・ステッパ初期化・補助接点へ展開
LD CR2002                ; 常時ON
ZRES M1500 M1649         ; Lo槽内ﾜｰｸ情報照合開始  ﾕﾆｯﾄ2ｻｲｸﾙ終了
LDB M1985                ; ﾕﾆｯﾄ2起動中
MOV K0 D1500             ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1985                 ; ﾕﾆｯﾄ2起動中
MOV D1500 Z1             ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
OUT M1500:Z1             ; Lo槽内ﾜｰｸ情報照合開始
;自動運転ステップ開始
;給徐材要求判定
;槽内ﾜｰｸ情報照合ﾌﾟﾛｸﾞﾗﾑ追加
LD M1500                 ; Lo槽内ﾜｰｸ情報照合開始
MPS
ANB M1725                ; Lo_Sup_RB_初期起動完了ﾌﾗｸﾞ
@MOV K100 D1500          ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
AND M1725                ; Lo_Sup_RB_初期起動完了ﾌﾗｸﾞ
@MOV K10 D1500           ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;<h1/>/ﾃﾞｰﾀ照合
;槽内､PCﾜｰｸ情報照合
LD CR2002                ; 常時ON
LD>= D1550 K2            ; Lo#1_徐材ｶｳﾝﾀ
AND< D1551 K2            ; Lo#1_給材ｶｳﾝﾀ
AND W038.0               ; Lo#1-1ﾜｰｸ(ON:有 OFF:無)
LD>= D1550 K3            ; Lo#1_徐材ｶｳﾝﾀ
AND< D1551 K3            ; Lo#1_給材ｶｳﾝﾀ
AND W038.1               ; Lo#1-2ﾜｰｸ(ON:有 OFF:無)
ORL
LD>= D1550 K4            ; Lo#1_徐材ｶｳﾝﾀ
AND< D1551 K4            ; Lo#1_給材ｶｳﾝﾀ
AND W038.2               ; Lo#1-3ﾜｰｸ(ON:有 OFF:無)
ORL
ANL
OUT M1730                ; Lo#1_ﾜｰｸ情報異常
LD CR2002                ; 常時ON
LD>= D1552 K2            ; Lo#2_徐材ｶｳﾝﾀ
AND< D1553 K2            ; Lo#2_給材ｶｳﾝﾀ
AND W039.0               ; Lo#2-1ﾜｰｸ(ON:有 OFF:無)
LD>= D1552 K3            ; Lo#2_徐材ｶｳﾝﾀ
AND< D1553 K3            ; Lo#2_給材ｶｳﾝﾀ
AND W039.1               ; Lo#2-2ﾜｰｸ(ON:有 OFF:無)
ORL
LD>= D1552 K4            ; Lo#2_徐材ｶｳﾝﾀ
AND< D1553 K4            ; Lo#2_給材ｶｳﾝﾀ
AND W039.2               ; Lo#2-3ﾜｰｸ(ON:有 OFF:無)
ORL
ANL
OUT M1731                ; Lo#2_ﾜｰｸ情報異常
;有効槽ﾜｰｸ情報(PC−PLC)判定
LD M1600                 ; Lo_#1情報確認
LD X1210                 ; Lo#1_ﾏｽﾀ槽運転有効確認
ANB M1730                ; Lo#1_ﾜｰｸ情報異常
ORB X1210                ; Lo#1_ﾏｽﾀ槽運転有効確認
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1601                 ; Lo_#2情報確認
LD X1230                 ; Lo#2_ﾏｽﾀ槽運転有効確認
ANB M1731                ; Lo#2_ﾜｰｸ情報異常
ORB X1230                ; Lo#2_ﾏｽﾀ槽運転有効確認
ANL
@MOV K110 D1500          ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;<h1/>/槽1ﾜｰｸ確認
;槽1ﾜｰｸ情報確認済判定
LD M1610                 ; Lo_#1ﾜｰｸ状態確認
MPS
AND X1210                ; Lo#1_ﾏｽﾀ槽運転有効確認
MPS
ANB M1720                ; Lo#1_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
AND M1720                ; Lo#1_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
@MOV K120 D1500          ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
LDB X1210                ; Lo#1_ﾏｽﾀ槽運転有効確認
AND X1230                ; Lo#2_ﾏｽﾀ槽運転有効確認
ANL
@MOV K120 D1500          ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;設定初期化
;Setting initialization
LD M1611                 ; Lo_RB_設定初期化
@FMOV K0 D1520 K3        ; Low_搬送RB Type No.
MPS
@FMOV K0 D1530 K3        ; Low_搬送RB_制御ﾃﾞｰﾀ1
MPP
LD= D1520 K0             ; Low_搬送RB Type No.
AND= D1521 K0            ; Low_搬送RB給徐材槽 No.
AND= D1522 K0            ; Low_搬送RB給徐材段 No.
AND= D1530 K0            ; Low_搬送RB_制御ﾃﾞｰﾀ1
AND= D1531 K0            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D1532 K0            ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;確認動作PRGｾｯﾄ
LD M1612                 ; Lo_RB_設定ｾｯﾄ
@MOV D1561 D1520         ; 投入部ﾛﾎﾞｯﾄNo.  Low_搬送RB Type No.
@MOV K1 D1521            ; Low_搬送RB給徐材槽 No.
@MOV K2 D1530            ; Low_搬送RB_制御ﾃﾞｰﾀ1
@MOV K1 D1531            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K10 D1532           ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D1530 K2             ; Low_搬送RB_制御ﾃﾞｰﾀ1
AND= D1531 K1            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D1532 K10           ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M1613                 ; Lo_RB_確認PRG.ｽﾀｰﾄ
AND X3201                ; Low_Sup_RB_RUN
AND X3205                ; Low_Sup_RB_Auto
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1614                 ; Lo_RB_起動確認
AND X323F                ; Low_RB_確認動作完了(831)
AND M1720                ; Lo#1_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1615                 ; Lo_RB_確認完了(Lo_#1)
ANB X3201                ; Low_Sup_RB_RUN
ANB X323F                ; Low_RB_確認動作完了(831)
@MOV K120 D1500          ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;<h1/>/槽2ﾜｰｸ確認
;槽2ﾜｰｸ情報確認済判定
LD M1620                 ; Lo_#1情報判定
MPS
AND X1230                ; Lo#2_ﾏｽﾀ槽運転有効確認
MPS
ANB M1721                ; Lo#2_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
AND M1721                ; Lo#2_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
@MOV K129 D1500          ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
LDB X1230                ; Lo#2_ﾏｽﾀ槽運転有効確認
AND X1210                ; Lo#1_ﾏｽﾀ槽運転有効確認
ANL
@MOV K129 D1500          ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;設定初期化
;Setting initialization
LD M1621                 ; Lo_RB_設定初期化
@FMOV K0 D1520 K3        ; Low_搬送RB Type No.
MPS
@FMOV K0 D1530 K3        ; Low_搬送RB_制御ﾃﾞｰﾀ1
MPP
LD= D1520 K0             ; Low_搬送RB Type No.
AND= D1521 K0            ; Low_搬送RB給徐材槽 No.
AND= D1522 K0            ; Low_搬送RB給徐材段 No.
AND= D1530 K0            ; Low_搬送RB_制御ﾃﾞｰﾀ1
AND= D1531 K0            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D1532 K0            ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;確認動作PRGｾｯﾄ
LD M1622                 ; Lo_RB_設定ｾｯﾄ
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
@MOV D1561 D1520         ; 投入部ﾛﾎﾞｯﾄNo.  Low_搬送RB Type No.
@MOV K2 D1521            ; Low_搬送RB給徐材槽 No.
@MOV K2 D1530            ; Low_搬送RB_制御ﾃﾞｰﾀ1
@MOV K1 D1531            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K10 D1532           ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D1530 K2             ; Low_搬送RB_制御ﾃﾞｰﾀ1
AND= D1531 K1            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D1532 K10           ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M1623                 ; Lo_RB_確認PRG.ｽﾀｰﾄ
AND X3201                ; Low_Sup_RB_RUN
AND X3205                ; Low_Sup_RB_Auto
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1624                 ; Lo_RB_起動確認
AND X323F                ; Low_RB_確認動作完了(831)
AND M1721                ; Lo#2_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1625                 ; Lo_RB_確認完了(Lo_#1)
ANB X3201                ; Low_Sup_RB_RUN
ANB X323F                ; Low_RB_確認動作完了(831)
@MOV K129 D1500          ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;初期確認完了
LD M1629                 ; Lo_初期起動完了
AND M1725                ; Lo_Sup_RB_初期起動完了ﾌﾗｸﾞ
@MOV K149 D1500          ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;<h1/>/給徐材判定
LD M1510                 ; 給徐材先判定
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MPS
LDB M56                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M3001                ; 低温検査前仮置台ﾜｰｸ供給可
ANL
MPS
LD M2400                 ; Lo#1_READY_ON
ANB M2900                ; Lo#2_READY_ON
ANL
@MOV K1 D1555            ; Low_給徐材優先ﾌﾗｸﾞ
MRD
LDB M2400                ; Lo#1_READY_ON
AND M2900                ; Lo#2_READY_ON
ANL
@MOV K2 D1555            ; Low_給徐材優先ﾌﾗｸﾞ
MRD
LD= D1555 K1             ; Low_給徐材優先ﾌﾗｸﾞ
AND M2400                ; Lo#1_READY_ON
AND M2001                ; Lo#1_給徐材要求ON
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
@MOV D1555 D1556         ; Low_給徐材優先ﾌﾗｸﾞ  Low_給徐材選択ﾌﾗｸﾞ
MPP
LD= D1555 K2             ; Low_給徐材優先ﾌﾗｸﾞ
AND M2900                ; Lo#2_READY_ON
AND M2501                ; Lo#2_給徐材要求ON
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
@MOV D1555 D1556         ; Low_給徐材優先ﾌﾗｸﾞ  Low_給徐材選択ﾌﾗｸﾞ
MPP
AND M56                  ; 自動起動停止指令(ｻｲｸﾙ停止)
@MOV K149 D1500          ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;徐材処理判定
LDP CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
MOV K0 D1611             ; 有効ST数
MPS
LD L700                  ; LoST1_有効状態
ANB M4909                ; LoST1_無効予約(自動運転)
ANL
@INC D1611               ; 有効ST数
MRD
LD L800                  ; Lo検査ST2_有効状態
ANB M5409                ; LoST2_無効予約(自動運転)
ANL
@INC D1611               ; 有効ST数
MRD
LD L900                  ; Lo検査ST3_有効状態
ANB M5909                ; LoST3_無効予約(自動運転)
ANL
@INC D1611               ; 有効ST数
MPP
AND<> K0 D1611           ; 有効ST数
CAL* D1610 K3 D1612      ; 低温槽取出ﾀｲﾑ設定  低温槽取出基準時間
CAL/ D1612 D1611 D1614   ; 低温槽取出基準時間  有効ST数  低温槽取出時間
LD CR2002                ; 常時ON
AND CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
AND> D1614 D1590         ; 低温槽取出時間  低温槽取出可ﾀｲﾏｶｳﾝﾀ
@INC D1590               ; 低温槽取出可ﾀｲﾏｶｳﾝﾀ
LD M1511                 ; Lo_RB給徐材開始
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MPS
LD M3001                 ; 低温検査前仮置台ﾜｰｸ供給可
ANB T1013                ; 低温検査済仮置ﾜｰｸ確認
AND>= D1590 D1614        ; 低温槽取出可ﾀｲﾏｶｳﾝﾀ  低温槽取出時間
ANL
MPS
LD= D1556 K1             ; Low_給徐材選択ﾌﾗｸﾞ
AND<= D1550 K3           ; Lo#1_徐材ｶｳﾝﾀ
LD= D1556 K2             ; Low_給徐材選択ﾌﾗｸﾞ
AND<= D1552 K3           ; Lo#2_徐材ｶｳﾝﾀ
ORL
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MOV K0 D1590             ; 低温槽取出可ﾀｲﾏｶｳﾝﾀ
MPP
LD= D1556 K1             ; Low_給徐材選択ﾌﾗｸﾞ
AND> D1550 K3            ; Lo#1_徐材ｶｳﾝﾀ
LD= D1556 K2             ; Low_給徐材選択ﾌﾗｸﾞ
AND> D1552 K3            ; Lo#2_徐材ｶｳﾝﾀ
ORL
ANL
MOV K49 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MOV K0 D1590             ; 低温槽取出可ﾀｲﾏｶｳﾝﾀ
MRD
LD= D1556 K1             ; Low_給徐材選択ﾌﾗｸﾞ
AND> D1550 D1551         ; Lo#1_徐材ｶｳﾝﾀ  Lo#1_給材ｶｳﾝﾀ
LD= D1556 K2             ; Low_給徐材選択ﾌﾗｸﾞ
AND> D1552 D1553         ; Lo#2_徐材ｶｳﾝﾀ  Lo#2_給材ｶｳﾝﾀ
ORL
AND M1053                ; 給材部ﾌﾚｰﾑ取出可ON(RBへ)
ANL
MOV K49 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
AND M56                  ; 自動起動停止指令(ｻｲｸﾙ停止)
@MOV K149 D1500          ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;槽内ﾜｰｸ情報要求
LD M1512                 ; Lo_RB取出ﾃﾞｰﾀｾｯﾄ
MPS
AND= D1556 K1            ; Low_給徐材選択ﾌﾗｸﾞ
MOV K1 W0140             ; 低温槽No.
MOV D1550 W0141          ; Lo#1_徐材ｶｳﾝﾀ  低温槽段数
MRD
AND= D1556 K2            ; Low_給徐材選択ﾌﾗｸﾞ
MOV K2 W0140             ; 低温槽No.
MOV D1552 W0141          ; Lo#2_徐材ｶｳﾝﾀ  低温槽段数
MPP
ANB W02.4                ; 低温槽無取出製品情報ｾｯﾄ完了
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;槽内ﾜｰｸ情報･検査前仮置ID判定
LD M1513                 ; Lo_RB槽内ﾜｰｸ情報要求
AND W0102.4              ; 低温槽内取出製品情報要求
LD W02.4                 ; 低温槽無取出製品情報ｾｯﾄ完了
OR M3                    ; OFFLINE_MODE
ANL
MPS
ANB W02.5                ; 低温槽内治具IDｴﾗｰ
@BMOV W030 D1560 K2      ; 低温検査部投入ﾊﾟﾚｯﾄID  投入ﾊﾟﾚｯﾄID
@BMOV W040 D1570 K4      ; 低温検査ﾊﾟﾚｯﾄID  低温検査ﾊﾟﾚｯﾄID
MPS
AND<> W031 K0            ; 低温槽取出ﾛﾎﾞｯﾄNo.
MOV K1 D1600             ; ﾜｰｸ有取出中(検査搬送抑制ﾌﾗｸﾞ)
MRD
ANB W02.12               ; 低温検査Skip
MOV K0 D1574             ; 低温検査Skip(0:ｼﾅ/1:ｽﾙ)
MRD
AND W02.12               ; 低温検査Skip
MOV K1 D1574             ; 低温検査Skip(0:ｼﾅ/1:ｽﾙ)
MRD
MOV W044 D1575           ; 高温槽投入ﾛﾎﾞｯﾄNo.  高温槽投入ﾛﾎﾞｯﾄNo.
MRD
AND M3                   ; OFFLINE_MODE
MPS
DW K7 D1560              ; 投入ﾊﾟﾚｯﾄID
CON
DW K7 D1561              ; 投入部ﾛﾎﾞｯﾄNo.
MPP
DW K7 D1570              ; 低温検査ﾊﾟﾚｯﾄID
CON
DW K7 D1571              ; 低温検査ﾃｽﾄﾍｯﾄﾞID
CON
DW K7 D1572              ; 低温検査部排出ﾊﾟﾚｯﾄID
CON
DW K7 D1573              ; 低温検査ｽﾃｰｼﾞﾛﾎﾞｯﾄNo.
CON
DW K7 D1575              ; 高温槽投入ﾛﾎﾞｯﾄNo.
MPP
MOV K15 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
AND W02.5                ; 低温槽内治具IDｴﾗｰ
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1514                 ; Lo_RB_ID照合NG
ANB W02.5                ; 低温槽内治具IDｴﾗｰ
MOV K12 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;<h1/>/槽徐材ｻｲｸﾙ
;設定初期化
;Setting initialization
LD M1515                 ; Lo_RB_ID照合OK､設定初期化
LD= D1556 K1             ; Low_給徐材選択ﾌﾗｸﾞ
AND M1700                ; Lo#1_給徐材中ﾌﾗｸﾞ
LD= D1556 K2             ; Low_給徐材選択ﾌﾗｸﾞ
AND M1710                ; Lo#2_給徐材中ﾌﾗｸﾞ
ORL
ANL
@FMOV K0 D1520 K3        ; Low_搬送RB Type No.
MPS
@FMOV K0 D1530 K3        ; Low_搬送RB_制御ﾃﾞｰﾀ1
MPP
LD= D1520 K0             ; Low_搬送RB Type No.
AND= D1521 K0            ; Low_搬送RB給徐材槽 No.
AND= D1522 K0            ; Low_搬送RB給徐材段 No.
AND= D1530 K0            ; Low_搬送RB_制御ﾃﾞｰﾀ1
AND= D1531 K0            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D1532 K0            ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;搬送動作開始起動
LD M1516                 ; Lo_RB_設定ｾｯﾄ
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
@MOV D1561 D1520         ; 投入部ﾛﾎﾞｯﾄNo.  Low_搬送RB Type No.
MPS
AND= D1556 K1            ; Low_給徐材選択ﾌﾗｸﾞ
@MOV K1 D1521            ; Low_搬送RB給徐材槽 No.
@MOV D1550 D1522         ; Lo#1_徐材ｶｳﾝﾀ  Low_搬送RB給徐材段 No.
MRD
AND= D1556 K2            ; Low_給徐材選択ﾌﾗｸﾞ
@MOV K2 D1521            ; Low_搬送RB給徐材槽 No.
@MOV D1552 D1522         ; Lo#2_徐材ｶｳﾝﾀ  Low_搬送RB給徐材段 No.
MRD
@MOV K2 D1530            ; Low_搬送RB_制御ﾃﾞｰﾀ1
MRD
@MOV K1 D1531            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
MRD
@MOV K1 D1532            ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D1530 K2             ; Low_搬送RB_制御ﾃﾞｰﾀ1
AND= D1531 K1            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D1532 K1            ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M1517                 ; Lo_RB取出PRG.ｽﾀｰﾄ
AND X3201                ; Low_Sup_RB_RUN
AND X3205                ; Low_Sup_RB_Auto
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ﾛﾎﾞｯﾄ徐材動作結果判定
LD M1518                 ; Lo_RB起動確認
MPS
LD X3233                 ; Low_RB_ﾜｰｸ無NG完了(819)
ANB X3234                ; Low_RB_ﾜｰｸ有NG完了(820)
ANB X3232                ; Low_RB_ﾜｰｸ無正常完了(818)
ANB X3238                ; Low_RB ﾁｬｯｸNG(824)
ANB X3235                ; Low_RB_低温槽取出完了(821)
ANL
MOV K20 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MRD
LD X3234                 ; Low_RB_ﾜｰｸ有NG完了(820)
ANB X3233                ; Low_RB_ﾜｰｸ無NG完了(819)
ANB X3232                ; Low_RB_ﾜｰｸ無正常完了(818)
ANB X3238                ; Low_RB ﾁｬｯｸNG(824)
ANB X3235                ; Low_RB_低温槽取出完了(821)
ANL
MOV K23 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MRD
LD X3232                 ; Low_RB_ﾜｰｸ無正常完了(818)
ANB X3233                ; Low_RB_ﾜｰｸ無NG完了(819)
ANB X3234                ; Low_RB_ﾜｰｸ有NG完了(820)
ANB X3238                ; Low_RB ﾁｬｯｸNG(824)
ANB X3235                ; Low_RB_低温槽取出完了(821)
ANL
MOV K30 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MRD
LD X3238                 ; Low_RB ﾁｬｯｸNG(824)
ANB X3233                ; Low_RB_ﾜｰｸ無NG完了(819)
ANB X3234                ; Low_RB_ﾜｰｸ有NG完了(820)
ANB X3232                ; Low_RB_ﾜｰｸ無正常完了(818)
ANB X3235                ; Low_RB_低温槽取出完了(821)
ANL
MOV K31 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
LD X3235                 ; Low_RB_低温槽取出完了(821)
ANB X3233                ; Low_RB_ﾜｰｸ無NG完了(819)
ANB X3234                ; Low_RB_ﾜｰｸ有NG完了(820)
ANB X3232                ; Low_RB_ﾜｰｸ無正常完了(818)
ANB X3238                ; Low_RB ﾁｬｯｸNG(824)
ANL
MOV K35 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ﾜｰｸ無NG異常処理
LD M1520                 ; Lo_RBﾜｰｸ情報NG確認
AND Y4238                ; Low_RB_信号受信Ans(568)
ANB X3233                ; Low_RB_ﾜｰｸ無NG完了(819)
ANB X3230                ; Low_RB_Lo#1侵入中(816)
ANB X3231                ; Low_RB_Lo#2侵入中(817)
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1521                 ; Lo_RBﾜｰｸ情報NG_OFF確認
ANB X3201                ; Low_Sup_RB_RUN
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K200 D200             ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1522                 ; Lo_RBﾜｰｸ無NG(選択ﾀﾞｲｱﾛｸﾞ)
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MPS
ANP B1020                ; ﾀﾞｲｱﾛｸﾞ選択PB1
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
MOV K16 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
ANP B1021                ; ﾀﾞｲｱﾛｸﾞ選択PB2
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ﾜｰｸ有NG異常処理
LD M1525                 ; Lo_RBﾜｰｸ情報NG確認
AND Y4238                ; Low_RB_信号受信Ans(568)
ANB X3234                ; Low_RB_ﾜｰｸ有NG完了(820)
ANB X3230                ; Low_RB_Lo#1侵入中(816)
ANB X3231                ; Low_RB_Lo#2侵入中(817)
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1526                 ; Lo_RBﾜｰｸ情報NG_OFF確認
ANB X3201                ; Low_Sup_RB_RUN
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K201 D200             ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1527                 ; Lo_RBﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
MPS
ANP B1020                ; ﾀﾞｲｱﾛｸﾞ選択PB1
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
MOV K16 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
ANP B1021                ; ﾀﾞｲｱﾛｸﾞ選択PB2
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ﾜｰｸ無正常処理
;徐材ｶｳﾝﾀ +1
LD M1530                 ; Lo_RB槽内ﾜｰｸ無OK確認
MPS
AND= D1556 K1            ; Low_給徐材選択ﾌﾗｸﾞ
@CAL+ D1550 K1 D1550     ; Lo#1_徐材ｶｳﾝﾀ  Lo#1_徐材ｶｳﾝﾀ
MRD
AND= D1556 K2            ; Low_給徐材選択ﾌﾗｸﾞ
@CAL+ D1552 K1 D1552     ; Lo#2_徐材ｶｳﾝﾀ  Lo#2_徐材ｶｳﾝﾀ
MPP
LD Y4238                 ; Low_RB_信号受信Ans(568)
ANB X3232                ; Low_RB_ﾜｰｸ無正常完了(818)
ANB X3230                ; Low_RB_Lo#1侵入中(816)
ANB X3231                ; Low_RB_Lo#2侵入中(817)
ANL
MOV K48 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ﾁｬｯｸNG処理
LD M1531                 ; Lo_RBﾁｬｯｸNG確認
AND Y4238                ; Low_RB_信号受信Ans(568)
ANB X3238                ; Low_RB ﾁｬｯｸNG(824)
ANB X3230                ; Low_RB_Lo#1侵入中(816)
ANB X3231                ; Low_RB_Lo#2侵入中(817)
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1532                 ; Lo_RBﾁｬｯｸNG_OFF確認
ANB X3201                ; Low_Sup_RB_RUN
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K200 D200             ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1533                 ; Lo_RBﾁｬｯｸNG中
AND M1979                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ動作
AND<> D200 K0            ; ｴﾗｰｺｰﾄﾞNo.
ANP B1025                ; 確認TP_PB
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
MOV K15 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ﾜｰｸ取出OK処理
;徐材ｶｳﾝﾀ +1
LD M1535                 ; Lo_RBﾜｰｸ情報OK
MPS
AND= D1556 K1            ; Low_給徐材選択ﾌﾗｸﾞ
@CAL+ D1550 K1 D1550     ; Lo#1_徐材ｶｳﾝﾀ  Lo#1_徐材ｶｳﾝﾀ
MRD
AND= D1556 K2            ; Low_給徐材選択ﾌﾗｸﾞ
@CAL+ D1552 K1 D1552     ; Lo#2_徐材ｶｳﾝﾀ  Lo#2_徐材ｶｳﾝﾀ
MPP
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;/製品取出結果ｾｯﾄ
LD M1536                 ; 取出ﾃﾞｰﾀｾｯﾄ､ｶｳﾝﾀ加算
MOV D1521 W0140          ; Low_搬送RB給徐材槽 No.  低温槽No.
MPS
MOV D1522 W0141          ; Low_搬送RB給徐材段 No.  低温槽段数
MPP
ANB W02.6                ; 低温槽製品取出完了
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;/製品取出結果ﾊﾝﾄﾞｼｪｲｸ
LD M1537                 ; Lo_RB取出完了確認
AND W0102.6              ; 低温槽製品取出要求
LD W02.6                 ; 低温槽製品取出完了
OR M3                    ; OFFLINE_MODE
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1538                 ; Lo_RB取出完了ﾃﾞｰﾀ移動
ANB W0102.6              ; 低温槽製品取出要求
ANB W02.6                ; 低温槽製品取出完了
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1539                 ; Lo_RBﾃﾞｰﾀ移動確認
AND Y4238                ; Low_RB_信号受信Ans(568)
ANB X3235                ; Low_RB_低温槽取出完了(821)
ANB X3230                ; Low_RB_Lo#1侵入中(816)
ANB X3231                ; Low_RB_Lo#2侵入中(817)
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;低温検査前仮置給材確認
LD M1540                 ; Lo_RB取出完了OFF
AND X3223                ; Low_RB_検査前給材完了(803)
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1541                 ; Lo_RB下流給材終了確認
AND Y4238                ; Low_RB_信号受信Ans(568)
ANB X3223                ; Low_RB_検査前給材完了(803)
ANB W02.8                ; 低温検査前仮置給材完了
MOV K45 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ﾃﾞｰﾀ移動
LD M1545                 ; 検査前仮置給材完了ﾃﾞｰﾀ移動
AND W0102.8              ; 低温槽仮置き要求
LD W02.8                 ; 低温検査前仮置給材完了
OR M3                    ; OFFLINE_MODE
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
BMOV D1570 D3100 K6      ; 低温検査ﾊﾟﾚｯﾄID  仮置台_低温検査ﾊﾟﾚｯﾄID
FMOV K0 D1570 K6         ; 低温検査ﾊﾟﾚｯﾄID
LD M1546                 ; ﾃﾞｰﾀ移動確認
ANB W0102.8              ; 低温槽仮置き要求
ANB W02.8                ; 低温検査前仮置給材完了
ANB X3222                ; Low_RB_検査仮置侵入中(802)
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1547                 ; Lo_検査前仮置給材完了
ANB M3001                ; 低温検査前仮置台ﾜｰｸ供給可
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1548                 ; 給材要求OFF確認
ANB X3201                ; Low_Sup_RB_RUN
ANB X3233                ; Low_RB_ﾜｰｸ無NG完了(819)
ANB X3235                ; Low_RB_低温槽取出完了(821)
ANB X3237                ; Low_RB_ﾜｰｸﾃﾞｰﾀ無完了(823)
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;全て徐材か判定
LD M1549                 ; 徐材数判定
MPS
LD= D1556 K1             ; Low_給徐材選択ﾌﾗｸﾞ
AND<= D1550 K3           ; Lo#1_徐材ｶｳﾝﾀ
LD= D1556 K2             ; Low_給徐材選択ﾌﾗｸﾞ
AND<= D1552 K3           ; Lo#2_徐材ｶｳﾝﾀ
ORL
ANL
MOV K51 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
LD= D1556 K1             ; Low_給徐材選択ﾌﾗｸﾞ
AND> D1550 K3            ; Lo#1_徐材ｶｳﾝﾀ
LD= D1556 K2             ; Low_給徐材選択ﾌﾗｸﾞ
AND> D1552 K3            ; Lo#2_徐材ｶｳﾝﾀ
ORL
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;徐材完了
LD M1550                 ; 全徐材確認､徐材完了ﾌﾗｸﾞｾｯﾄ
LD= D1556 K1             ; Low_給徐材選択ﾌﾗｸﾞ
AND M1701                ; Lo#1_徐材完了ﾌﾗｸﾞ
LD= D1556 K2             ; Low_給徐材選択ﾌﾗｸﾞ
AND M1711                ; Lo#2_徐材完了ﾌﾗｸﾞ
ORL
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;給徐材要求再確認
;取出可OFFでﾀｲﾑｱｳﾄの場合は給材完了処理
LD M1551                 ; 給徐材要求再確認
MPS
LD= D1556 K1             ; Low_給徐材選択ﾌﾗｸﾞ
AND M2001                ; Lo#1_給徐材要求ON
ANL
MPS
AND M1053                ; 給材部ﾌﾚｰﾑ取出可ON(RBへ)
MOV K60 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MRD
LDB M1701                ; Lo#1_徐材完了ﾌﾗｸﾞ
ANB M1053                ; 給材部ﾌﾚｰﾑ取出可ON(RBへ)
ANL
MOV K149 D1500           ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
LDB M1053                ; 給材部ﾌﾚｰﾑ取出可ON(RBへ)
AND M1701                ; Lo#1_徐材完了ﾌﾗｸﾞ
AND T330                 ; Lo#1_給材待ちﾀｲﾑｱｳﾄ
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MRD
LD= D1556 K2             ; Low_給徐材選択ﾌﾗｸﾞ
AND M2501                ; Lo#2_給徐材要求ON
ANL
MPS
AND M1053                ; 給材部ﾌﾚｰﾑ取出可ON(RBへ)
MOV K60 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MRD
LDB M1711                ; Lo#2_徐材完了ﾌﾗｸﾞ
ANB M1053                ; 給材部ﾌﾚｰﾑ取出可ON(RBへ)
ANL
MOV K149 D1500           ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
LDB M1053                ; 給材部ﾌﾚｰﾑ取出可ON(RBへ)
AND M1711                ; Lo#2_徐材完了ﾌﾗｸﾞ
AND T430                 ; Lo#2_給材待ちﾀｲﾑｱｳﾄ
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
LD= D1556 K1             ; Low_給徐材選択ﾌﾗｸﾞ
ANB M2485                ; ﾕﾆｯﾄ3起動中
LD= D1556 K2             ; Low_給徐材選択ﾌﾗｸﾞ
ANB M2985                ; ﾕﾆｯﾄ4起動中
ORL
ANL
MOV K149 D1500           ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1552                 ; 給材待ちﾀｲﾑｱｳﾄ
LD= D1556 K1             ; Low_給徐材選択ﾌﾗｸﾞ
AND M1702                ; Lo#1_給材完了ﾌﾗｸﾞ
LD= D1556 K2             ; Low_給徐材選択ﾌﾗｸﾞ
AND M1712                ; Lo#2_給材完了ﾌﾗｸﾞ
ORL
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1553                 ; 給材要求OFF確認
LD= D1556 K1             ; Low_給徐材選択ﾌﾗｸﾞ
ANB M2001                ; Lo#1_給徐材要求ON
LD= D1556 K2             ; Low_給徐材選択ﾌﾗｸﾞ
ANB M2501                ; Lo#2_給徐材要求ON
ORL
ANL
MOV K149 D1500           ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;<h1/>/槽給材ｻｲｸﾙ
;給材ｶｳﾝﾀ確認
LD M1560                 ; 取出済判定
MPS
LD= D1556 K1             ; Low_給徐材選択ﾌﾗｸﾞ
AND<= D1551 K3           ; Lo#1_給材ｶｳﾝﾀ
LD= D1556 K2             ; Low_給徐材選択ﾌﾗｸﾞ
AND<= D1553 K3           ; Lo#2_給材ｶｳﾝﾀ
ORL
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
LD= D1556 K1             ; Low_給徐材選択ﾌﾗｸﾞ
AND> D1551 K3            ; Lo#1_給材ｶｳﾝﾀ
LD= D1556 K2             ; Low_給徐材選択ﾌﾗｸﾞ
AND> D1553 K3            ; Lo#2_給材ｶｳﾝﾀ
ORL
ANL
MOV K90 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;設定初期化
;Setting initialization
LD M1561                 ; 設定初期化
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
@FMOV K0 D1520 K3        ; Low_搬送RB Type No.
MPS
@FMOV K0 D1530 K3        ; Low_搬送RB_制御ﾃﾞｰﾀ1
MPP
LD= D1520 K0             ; Low_搬送RB Type No.
AND= D1521 K0            ; Low_搬送RB給徐材槽 No.
AND= D1522 K0            ; Low_搬送RB給徐材段 No.
AND= D1530 K0            ; Low_搬送RB_制御ﾃﾞｰﾀ1
AND= D1531 K0            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D1532 K0            ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;搬送動作開始起動
LD M1562                 ; 給材ﾃﾞｰﾀｾｯﾄ
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
@MOV D1111 D1520         ; 投入部ﾛﾎﾞｯﾄNo.(反転)  Low_搬送RB Type No.
MPS
AND= D1556 K1            ; Low_給徐材選択ﾌﾗｸﾞ
@MOV K1 D1521            ; Low_搬送RB給徐材槽 No.
@MOV D1551 D1522         ; Lo#1_給材ｶｳﾝﾀ  Low_搬送RB給徐材段 No.
MRD
AND= D1556 K2            ; Low_給徐材選択ﾌﾗｸﾞ
@MOV K2 D1521            ; Low_搬送RB給徐材槽 No.
@MOV D1553 D1522         ; Lo#2_給材ｶｳﾝﾀ  Low_搬送RB給徐材段 No.
MRD
@MOV K2 D1530            ; Low_搬送RB_制御ﾃﾞｰﾀ1
MRD
@MOV K1 D1531            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
MRD
@MOV K2 D1532            ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D1530 K2             ; Low_搬送RB_制御ﾃﾞｰﾀ1
AND= D1531 K1            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D1532 K2            ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M1563                 ; 給材PRG.ｽﾀｰﾄ
AND X3201                ; Low_Sup_RB_RUN
AND X3205                ; Low_Sup_RB_Auto
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1564                 ; RB起動確認
MPS
LD X3238                 ; Low_RB ﾁｬｯｸNG(824)
ANB X3221                ; Low_RB_給材取出完了(801)
ANB X3234                ; Low_RB_ﾜｰｸ有NG完了(820)
ANL
MOV K70 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MRD
LD X3221                 ; Low_RB_給材取出完了(801)
ANB X3238                ; Low_RB ﾁｬｯｸNG(824)
ANB X3234                ; Low_RB_ﾜｰｸ有NG完了(820)
ANL
MOV K80 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
LD X3234                 ; Low_RB_ﾜｰｸ有NG完了(820)
ANB X3238                ; Low_RB ﾁｬｯｸNG(824)
ANB X3221                ; Low_RB_給材取出完了(801)
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1565                 ; 槽内ﾜｰｸ有NG確認
AND Y4238                ; Low_RB_信号受信Ans(568)
ANB X3234                ; Low_RB_ﾜｰｸ有NG完了(820)
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1566                 ; 槽内ﾜｰｸ有NG_OFF確認
ANB X3201                ; Low_Sup_RB_RUN
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K202 D200             ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1567                 ; 槽内ﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
MPS
AND B1020                ; ﾀﾞｲｱﾛｸﾞ選択PB1
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
MOV K62 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
AND B1021                ; ﾀﾞｲｱﾛｸﾞ選択PB2
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ﾁｬｯｸNG処理
LD M1570                 ; Lo_RBﾁｬｯｸNG確認
AND Y4238                ; Low_RB_信号受信Ans(568)
ANB X3238                ; Low_RB ﾁｬｯｸNG(824)
ANB X3230                ; Low_RB_Lo#1侵入中(816)
ANB X3231                ; Low_RB_Lo#2侵入中(817)
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1571                 ; Lo_RBﾁｬｯｸNG_OFF確認
ANB X3201                ; Low_Sup_RB_RUN
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K201 D200             ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1572                 ; Lo_RBﾁｬｯｸNG中
AND<> D200 K0            ; ｴﾗｰｺｰﾄﾞNo.
ANP B1025                ; 確認TP_PB
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
MOV K62 D1500            ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;給材部取出完了
LD M1580                 ; 取出完了確認
ANB M1053                ; 給材部ﾌﾚｰﾑ取出可ON(RBへ)
ANB W02.0                ; 反転部製品取出完了
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1581                 ; Lo_取出完了ﾃﾞｰﾀ移動
AND W0102.0              ; 反転部製品取出要求
LD W02.0                 ; 反転部製品取出完了
OR M3                    ; OFFLINE_MODE
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1582                 ; ﾃﾞｰﾀ移動確認
MPS
LDB W0102.0              ; 反転部製品取出要求
ANB W02.0                ; 反転部製品取出完了
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
@FMOV K0 D1110 K10       ; 投入ﾊﾟﾚｯﾄID(反転)
LD M1583                 ; 上流取出ﾃﾞｰﾀ移動完了
AND Y4238                ; Low_RB_信号受信Ans(568)
ANB X3221                ; Low_RB_給材取出完了(801)
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;低温槽給材完了
LD M1584                 ; 取出完了OFF確認
AND X3236                ; Low_RB_低温槽給材完了(822)
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPS
AND= D1556 K1            ; Low_給徐材選択ﾌﾗｸﾞ
@CAL+ D1551 K1 D1551     ; Lo#1_給材ｶｳﾝﾀ  Lo#1_給材ｶｳﾝﾀ
MPP
AND= D1556 K2            ; Low_給徐材選択ﾌﾗｸﾞ
@CAL+ D1553 K1 D1553     ; Lo#2_給材ｶｳﾝﾀ  Lo#2_給材ｶｳﾝﾀ
LD M1585                 ; 低温槽給材完了確認
AND Y4238                ; Low_RB_信号受信Ans(568)
ANB X3236                ; Low_RB_低温槽給材完了(822)
ANB W02.2                ; 低温槽製品投入完了
MOV D1521 W0140          ; Low_搬送RB給徐材槽 No.  低温槽No.
MOV D1522 W0141          ; Low_搬送RB給徐材段 No.  低温槽段数
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1586                 ; Lo_給材完了ﾃﾞｰﾀ移動
AND W0102.2              ; 低温槽製品投入要求
LD W02.2                 ; 低温槽製品投入完了
OR M3                    ; OFFLINE_MODE
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1587                 ; ﾃﾞｰﾀ移動確認
ANB W0102.2              ; 低温槽製品投入要求
ANB W02.2                ; 低温槽製品投入完了
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1588                 ; ﾃﾞｰﾀ移動完了
ANB X3201                ; Low_Sup_RB_RUN
ANB X3233                ; Low_RB_ﾜｰｸ無NG完了(819)
ANB X3234                ; Low_RB_ﾜｰｸ有NG完了(820)
ANB X3235                ; Low_RB_低温槽取出完了(821)
ANB X3236                ; Low_RB_低温槽給材完了(822)
ANB X3237                ; Low_RB_ﾜｰｸﾃﾞｰﾀ無完了(823)
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;給材数判定
LD M1589                 ; 給材数判定
MPS
LD= D1556 K1             ; Low_給徐材選択ﾌﾗｸﾞ
AND<= D1551 K3           ; Lo#1_給材ｶｳﾝﾀ
LD= D1556 K2             ; Low_給徐材選択ﾌﾗｸﾞ
AND<= D1553 K3           ; Lo#2_給材ｶｳﾝﾀ
ORL
ANL
@MOV K91 D1500           ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
MPP
LD= D1556 K1             ; Low_給徐材選択ﾌﾗｸﾞ
AND> D1551 K3            ; Lo#1_給材ｶｳﾝﾀ
LD= D1556 K2             ; Low_給徐材選択ﾌﾗｸﾞ
AND> D1553 K3            ; Lo#2_給材ｶｳﾝﾀ
ORL
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
LD M1590                 ; 給材完了
LD= D1556 K1             ; Low_給徐材選択ﾌﾗｸﾞ
AND M1702                ; Lo#1_給材完了ﾌﾗｸﾞ
LD= D1556 K2             ; Low_給徐材選択ﾌﾗｸﾞ
AND M1712                ; Lo#2_給材完了ﾌﾗｸﾞ
ORL
ANL
@INC D1500               ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;給材中OFF･給材完了
LD M1591                 ; 給材中OFF
LD= D1556 K1             ; Low_給徐材選択ﾌﾗｸﾞ
ANB M1700                ; Lo#1_給徐材中ﾌﾗｸﾞ
LD= D1556 K2             ; Low_給徐材選択ﾌﾗｸﾞ
ANB M1710                ; Lo#2_給徐材中ﾌﾗｸﾞ
ORL
ANL
@MOV K149 D1500          ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND CR2003               ; 常時OFF
MOV K148 D1500           ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
;1Cycle End
LD CR2003                ; 常時OFF
OR M1648                 ; ﾕﾆｯﾄ2ｻｲｸﾙ停止処理
@MOV K149 D1500          ; ﾕﾆｯﾄ2自動運転ｽﾃｯﾌﾟ
;<h1/>/動作条件ﾌﾗｸﾞ
;各種ﾌﾗｸﾞ
;Other Flag
LD M41                   ; ﾕﾆｯﾄ_起動中
ANB M3012                ; 低温検査前ﾜｰｸ取出完了確認
ANB X3233                ; Low_RB_ﾜｰｸ無NG完了(819)
ANB X3234                ; Low_RB_ﾜｰｸ有NG完了(820)
ANB X3232                ; Low_RB_ﾜｰｸ無正常完了(818)
ANB X3238                ; Low_RB ﾁｬｯｸNG(824)
INV
MOV K0 D1600             ; ﾜｰｸ有取出中(検査搬送抑制ﾌﾗｸﾞ)
LDB M1512                ; Lo_RB取出ﾃﾞｰﾀｾｯﾄ
INV
AND= D1556 K1            ; Low_給徐材選択ﾌﾗｸﾞ
OR M1700                 ; Lo#1_給徐材中ﾌﾗｸﾞ
ANB M1552                ; 給材待ちﾀｲﾑｱｳﾄ
ANB M1591                ; 給材中OFF
AND M1985                ; ﾕﾆｯﾄ2起動中
OUT M1700                ; Lo#1_給徐材中ﾌﾗｸﾞ
LDB M1550                ; 全徐材確認､徐材完了ﾌﾗｸﾞｾｯﾄ
INV
AND= D1556 K1            ; Low_給徐材選択ﾌﾗｸﾞ
OR M1701                 ; Lo#1_徐材完了ﾌﾗｸﾞ
ANB M2003                ; Lo#1_ﾃｰﾌﾞﾙ回転確認
AND M1985                ; ﾕﾆｯﾄ2起動中
OUT M1701                ; Lo#1_徐材完了ﾌﾗｸﾞ
LDB M1590                ; 給材完了
ANB M1552                ; 給材待ちﾀｲﾑｱｳﾄ
INV
AND= D1556 K1            ; Low_給徐材選択ﾌﾗｸﾞ
OR M1702                 ; Lo#1_給材完了ﾌﾗｸﾞ
ANB M2003                ; Lo#1_ﾃｰﾌﾞﾙ回転確認
AND M1985                ; ﾕﾆｯﾄ2起動中
OUT M1702                ; Lo#1_給材完了ﾌﾗｸﾞ
;/
LDB M1512                ; Lo_RB取出ﾃﾞｰﾀｾｯﾄ
INV
AND= D1556 K2            ; Low_給徐材選択ﾌﾗｸﾞ
OR M1710                 ; Lo#2_給徐材中ﾌﾗｸﾞ
ANB M1552                ; 給材待ちﾀｲﾑｱｳﾄ
ANB M1591                ; 給材中OFF
AND M1985                ; ﾕﾆｯﾄ2起動中
OUT M1710                ; Lo#2_給徐材中ﾌﾗｸﾞ
LDB M1550                ; 全徐材確認､徐材完了ﾌﾗｸﾞｾｯﾄ
INV
AND= D1556 K2            ; Low_給徐材選択ﾌﾗｸﾞ
OR M1711                 ; Lo#2_徐材完了ﾌﾗｸﾞ
ANB M2503                ; Lo#2_ﾃｰﾌﾞﾙ回転確認
AND M1985                ; ﾕﾆｯﾄ2起動中
OUT M1711                ; Lo#2_徐材完了ﾌﾗｸﾞ
LDB M1590                ; 給材完了
ANB M1552                ; 給材待ちﾀｲﾑｱｳﾄ
INV
AND= D1556 K2            ; Low_給徐材選択ﾌﾗｸﾞ
OR M1712                 ; Lo#2_給材完了ﾌﾗｸﾞ
ANB M2503                ; Lo#2_ﾃｰﾌﾞﾙ回転確認
AND M1985                ; ﾕﾆｯﾄ2起動中
OUT M1712                ; Lo#2_給材完了ﾌﾗｸﾞ
LD X323F                 ; Low_RB_確認動作完了(831)
AND= D1521 K1            ; Low_搬送RB給徐材槽 No.
OR M1720                 ; Lo#1_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
AND M41                  ; ﾕﾆｯﾄ_起動中
OUT M1720                ; Lo#1_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
LD X323F                 ; Low_RB_確認動作完了(831)
AND= D1521 K2            ; Low_搬送RB給徐材槽 No.
OR M1721                 ; Lo#2_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
AND M41                  ; ﾕﾆｯﾄ_起動中
OUT M1721                ; Lo#2_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
LD M1629                 ; Lo_初期起動完了
OR M1725                 ; Lo_Sup_RB_初期起動完了ﾌﾗｸﾞ
AND M41                  ; ﾕﾆｯﾄ_起動中
OUT M1725                ; Lo_Sup_RB_初期起動完了ﾌﾗｸﾞ
;<h1/>■工程処理 PLC→PC I/F
;各種要求･選択
LDB M1581                ; Lo_取出完了ﾃﾞｰﾀ移動
INV
OUT W0102.0              ; 反転部製品取出要求
LDB M1586                ; Lo_給材完了ﾃﾞｰﾀ移動
INV
OUT W0102.2              ; 低温槽製品投入要求
LDB M1513                ; Lo_RB槽内ﾜｰｸ情報要求
INV
OUT W0102.4              ; 低温槽内取出製品情報要求
LDB M1537                ; Lo_RB取出完了確認
INV
OUT W0102.6              ; 低温槽製品取出要求
LDB M1545                ; 検査前仮置給材完了ﾃﾞｰﾀ移動
INV
OUT W0102.8              ; 低温槽仮置き要求
LD CR2002                ; 常時ON
MOV D18800 W0142         ; 低温槽1ﾃｰﾌﾞﾙNo.  低温槽1Position
MOV D18804 W0143         ; 低温槽2ﾃｰﾌﾞﾙNo.  低温槽2Position
;<h1/>■原点復帰回路
;□□□□□□□□□□□□□□□
;□　　 UNIT2原点復帰回路　　□
;□□□□□□□□□□□□□□□
LD CR2002                ; 常時ON
ZRES M1750 M1799         ; 原点復帰開始  ﾕﾆｯﾄ2原点復帰完了確認
LDB M1984                ; ﾕﾆｯﾄ2原点復帰中
MOV K0 D1510             ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1984                 ; ﾕﾆｯﾄ2原点復帰中
MOV D1510 Z1             ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
OUT M1750:Z1             ; 原点復帰開始
;原点復帰ｻｲｸﾙ監視
LD M1984                 ; ﾕﾆｯﾄ2原点復帰中
AND M1480                ; ﾕﾆｯﾄ1原点
AND M3480                ; ﾕﾆｯﾄ5原点
TMR K200 K200            ; 低温槽給徐材原点復帰ﾀｲﾑｱｳﾄ
;原点復帰ステップ開始
LD M1750                 ; 原点復帰開始
AND M123                 ; 安全扉正常
@INC D1510               ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
;ﾜｰｸ有無確認
LD M1751                 ; ﾜｰｸ有無確認
AND M123                 ; 安全扉正常
MPS
ANB X1000                ; 低温給徐材RBﾁｬｯｸ開端
@INC D1510               ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
MPP
AND X1000                ; 低温給徐材RBﾁｬｯｸ開端
@MOV K3 D1510            ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1752                 ; ﾜｰｸ取出要求
AND M123                 ; 安全扉正常
AND B042                 ; Low_Sup_RB原点復帰ﾜｰｸ有取出要求
MOV K0 D1510             ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
;ﾜｰｸ無確認 RB設定初期化
;Setting initialization
LD M1753                 ; ﾃﾞｰﾀ初期化
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
@FMOV K0 D16500 K100
@MOV K0 D1530            ; Low_搬送RB_制御ﾃﾞｰﾀ1
@MOV K0 D1531            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K0 D1532            ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D1530 K0             ; Low_搬送RB_制御ﾃﾞｰﾀ1
AND= D1531 K0            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D1532 K0            ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D1510               ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
;原点復帰開始
LD M1754                 ; ﾃﾞｰﾀ初期化確認
ANB M1991                ; ﾕﾆｯﾄ2ｴﾗｰ発生
@MOV K2 D1530            ; Low_搬送RB_制御ﾃﾞｰﾀ1
@MOV K1 D1531            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K50 D1532           ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D1530 K2             ; Low_搬送RB_制御ﾃﾞｰﾀ1
AND= D1531 K1            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D1532 K50           ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D1510               ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1755                 ; 原点復帰起動
AND X3201                ; Low_Sup_RB_RUN
@INC D1510               ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1756                 ; 原点復帰起動確認
ANB X3201                ; Low_Sup_RB_RUN
@INC D1510               ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
;原点復帰終了
LD M1757                 ; 原点復帰完了
AND M1980                ; ﾕﾆｯﾄ2原点
@MOV K48 D1510           ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
LD M1798                 ; ﾕﾆｯﾄ2原点復帰完了
ANB M82                  ; 原点復帰開始
@MOV K49 D1510           ; ﾕﾆｯﾄ2原点復帰ｽﾃｯﾌﾟ
;<h1/>■手動回路
;□□□□□□□□□□□□□□□
;□　　 　UNIT2手動回路  　　□
;□□□□□□□□□□□□□□□
LD M31                   ; 手動ﾓｰﾄﾞ
AND M32                  ; ﾒｲﾝ手動操作可能条件
ANB M1985                ; ﾕﾆｯﾄ2起動中
ANB M1984                ; ﾕﾆｯﾄ2原点復帰中
MC
;<h1/>/手動動作選択
;給徐材槽選択
LDB CR2003               ; 常時OFF
ANB X3201                ; Low_Sup_RB_RUN
ANB M1821                ; 取出1ｻｲｸﾙ(手動)
ANB M1841                ; 供給1ｻｲｸﾙ(手動)
OUT M1800                ; 槽選択可
LDP B10A0                ; UNIT2-1-1 TP-PB
AND M1800                ; 槽選択可
OR M1801                 ; 槽1選択
ANPB M1802               ; 槽2選択
AND X1203                ; Lo#1_ﾏｽﾀ搬送運転中
OUT M1801                ; 槽1選択
LDP B10A1                ; UNIT2-1-2 TP-PB
AND M1800                ; 槽選択可
OR M1802                 ; 槽2選択
ANPB M1801               ; 槽1選択
AND X1223                ; Lo#2_ﾏｽﾀ搬送運転中
OUT M1802                ; 槽2選択
;槽給徐材段選択
LDB CR2003               ; 常時OFF
ANB X3201                ; Low_Sup_RB_RUN
ANB M1821                ; 取出1ｻｲｸﾙ(手動)
ANB M1841                ; 供給1ｻｲｸﾙ(手動)
OUT M1804                ; 槽段選択可
LDP B10A2                ; UNIT2-1-3 TP-PB
AND M1804                ; 槽段選択可
OR M1805                 ; 槽上段選択
ANPB M1806               ; 槽中段選択
ANPB M1807               ; 槽下段選択
OUT M1805                ; 槽上段選択
LDP B10A3                ; UNIT2-1-4 TP-PB
AND M1804                ; 槽段選択可
OR M1806                 ; 槽中段選択
ANPB M1805               ; 槽上段選択
ANPB M1807               ; 槽下段選択
OUT M1806                ; 槽中段選択
LDP B10A4                ; UNIT2-1-5 TP-PB
AND M1804                ; 槽段選択可
OR M1807                 ; 槽下段選択
ANPB M1805               ; 槽上段選択
ANPB M1806               ; 槽中段選択
OUT M1807                ; 槽下段選択
;<h1/>/ﾁｬｯｸ開閉
LDB CR2003               ; 常時OFF
OUT M1810                ; Lo_RBﾁｬｯｸ閉可
LDPB X3240               ; Low_RB_ﾁｬｯｸ閉(832)
ANPB B10A6               ; UNIT2-1-7 TP-PB
INV
AND M1810                ; Lo_RBﾁｬｯｸ閉可
OR M1811                 ; Lo_RBﾁｬｯｸ閉
ANPB M1813               ; Lo_RBﾁｬｯｸ開
OUT M1811                ; Lo_RBﾁｬｯｸ閉
LDB CR2003               ; 常時OFF
OUT M1812                ; Lo_RBﾁｬｯｸ開可
LDPB X3241               ; Low_RB_ﾁｬｯｸ開(833)
ANPB B10A7               ; UNIT2-1-8 TP-PB
INV
AND M1812                ; Lo_RBﾁｬｯｸ開可
OR M1813                 ; Lo_RBﾁｬｯｸ開
ANPB M1811               ; Lo_RBﾁｬｯｸ閉
OUT M1813                ; Lo_RBﾁｬｯｸ開
;<h1/>/ﾊﾝﾄﾞﾋｰﾀｰON/OFF
LDB CR2003               ; 常時OFF
OUT M1860                ; ﾋｰﾀｰOFF可
LDPB B10AA               ; UNIT2-1-11 TP-PB
INV
AND M1860                ; ﾋｰﾀｰOFF可
OR M1861                 ; ﾋｰﾀｰOFF
ANPB M1863               ; ﾋｰﾀｰON
OUT M1861                ; ﾋｰﾀｰOFF
LDB CR2003               ; 常時OFF
OUT M1862                ; ﾋｰﾀｰON可
LDPB B10AB               ; UNIT2-1-12 TP-PB
INV
AND M1862                ; ﾋｰﾀｰON可
OR M1863                 ; ﾋｰﾀｰON
ANPB M1861               ; ﾋｰﾀｰOFF
OUT M1863                ; ﾋｰﾀｰON
MCR
LD M31                   ; 手動ﾓｰﾄﾞ
AND M120                 ; 圧空正常
AND M121                 ; 非常停止正常
AND M122                 ; 外部非常停止正常
ANB M1985                ; ﾕﾆｯﾄ2起動中
ANB M1984                ; ﾕﾆｯﾄ2原点復帰中
MC
;<h1/>/低温槽取出1ｻｲｸﾙ
;槽取出1ｻｲｸﾙ(PRO_No1.)
LDB X1040                ; 低温検査前仮置ﾜｰｸ確認
AND L602                 ; XY_待機位置
LD M1801                 ; 槽1選択
ANB M1802                ; 槽2選択
LD M1802                 ; 槽2選択
ANB M1801                ; 槽1選択
ORL
ANL
LD M1805                 ; 槽上段選択
ANB M1806                ; 槽中段選択
ANB M1807                ; 槽下段選択
LD M1806                 ; 槽中段選択
ANB M1805                ; 槽上段選択
ANB M1807                ; 槽下段選択
ORL
LD M1807                 ; 槽下段選択
ANB M1805                ; 槽上段選択
ANB M1806                ; 槽中段選択
ORL
ANL
LD X1028                 ; 給材ﾃｰﾌﾞﾙ1側供給旋回端
AND Y2038                ; 投入ﾃｰﾌﾞﾙ1側供給旋回SV
LD X1029                 ; 給材ﾃｰﾌﾞﾙ2側供給旋回端
AND Y2039                ; 投入ﾃｰﾌﾞﾙ2側供給旋回SV
ORL
ANL
ANB X3201                ; Low_Sup_RB_RUN
AND X3203                ; Low_Sup_RB_SV_ON
AND X3204                ; Low_Sup_RB_Ready
AND X3205                ; Low_Sup_RB_Auto
AND X3206                ; Low_Sup_RB_EXT
ANB X3208                ; Low_Sup_RB_Worning
AND X3225                ; Low_Sup_RB_ORG(805)
ANB M1841                ; 供給1ｻｲｸﾙ(手動)
ANB M4100                ; Lo搬送XY位置移動
OUT M1820                ; 取出1ｻｲｸﾙ可
LDP B10A8                ; UNIT2-1-9 TP-PB
AND M1820                ; 取出1ｻｲｸﾙ可
OR M1821                 ; 取出1ｻｲｸﾙ(手動)
ANB M1983                ; ﾕﾆｯﾄ2起動OFF
ANB M1832                ; 取出終了
OUT M1821                ; 取出1ｻｲｸﾙ(手動)
;取出ﾃﾞｰﾀ転送
LD M1821                 ; 取出1ｻｲｸﾙ(手動)
MPS
LD M1801                 ; 槽1選択
ANB M1802                ; 槽2選択
ANL
@MOV K1 D1521            ; Low_搬送RB給徐材槽 No.
MRD
LD M1802                 ; 槽2選択
ANB M1801                ; 槽1選択
ANL
@MOV K2 D1521            ; Low_搬送RB給徐材槽 No.
MRD
LD M1805                 ; 槽上段選択
ANB M1806                ; 槽中段選択
ANB M1807                ; 槽下段選択
ANL
@MOV K1 D1522            ; Low_搬送RB給徐材段 No.
MRD
LD M1806                 ; 槽中段選択
ANB M1805                ; 槽上段選択
ANB M1807                ; 槽下段選択
ANL
@MOV K2 D1522            ; Low_搬送RB給徐材段 No.
MPP
LD M1807                 ; 槽下段選択
ANB M1805                ; 槽上段選択
ANB M1806                ; 槽中段選択
ANL
@MOV K3 D1522            ; Low_搬送RB給徐材段 No.
LD M1821                 ; 取出1ｻｲｸﾙ(手動)
OR M1822                 ; 取出ﾃﾞｰﾀｾｯﾄ
AND M1821                ; 取出1ｻｲｸﾙ(手動)
MPS
@MOV D1580 D1520         ; Low_RB手動取出機種No.  Low_搬送RB Type No.
MPP
LD= D1520 D1580          ; Low_搬送RB Type No.  Low_RB手動取出機種No.
LD M1801                 ; 槽1選択
AND= D1521 K1            ; Low_搬送RB給徐材槽 No.
LD M1802                 ; 槽2選択
AND= D1521 K2            ; Low_搬送RB給徐材槽 No.
ORL
ANL
LD M1805                 ; 槽上段選択
AND= D1522 K1            ; Low_搬送RB給徐材段 No.
LD M1806                 ; 槽中段選択
AND= D1522 K2            ; Low_搬送RB給徐材段 No.
ORL
LD M1807                 ; 槽下段選択
AND= D1522 K3            ; Low_搬送RB給徐材段 No.
ORL
ANL
ANL
OUT M1822                ; 取出ﾃﾞｰﾀｾｯﾄ
;取出動作開始起動
LDP M1822                ; 取出ﾃﾞｰﾀｾｯﾄ
OR M1823                 ; 取出PRG.ｽﾀｰﾄ
AND M1821                ; 取出1ｻｲｸﾙ(手動)
ANB M1824                ; 動作開始確認
@MOV K2 D1530            ; Low_搬送RB_制御ﾃﾞｰﾀ1
@MOV K1 D1531            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K1 D1532            ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D1530 K2             ; Low_搬送RB_制御ﾃﾞｰﾀ1
AND= D1531 K1            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D1532 K1            ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
ANL
OUT M1823                ; 取出PRG.ｽﾀｰﾄ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M1823                 ; 取出PRG.ｽﾀｰﾄ
AND X3201                ; Low_Sup_RB_RUN
AND X3205                ; Low_Sup_RB_Auto
OR M1824                 ; 動作開始確認
AND M1821                ; 取出1ｻｲｸﾙ(手動)
ANB M1825                ; ﾜｰｸ無･他NG終了
ANB M1828                ; ﾜｰｸ取出完了
OUT M1824                ; 動作開始確認
;ﾜｰｸ無･他NG終了処理
LD M1824                 ; 動作開始確認
LD X3232                 ; Low_RB_ﾜｰｸ無正常完了(818)
OR X3233                 ; Low_RB_ﾜｰｸ無NG完了(819)
OR X3234                 ; Low_RB_ﾜｰｸ有NG完了(820)
OR X3238                 ; Low_RB ﾁｬｯｸNG(824)
ANL
OR M1825                 ; ﾜｰｸ無･他NG終了
AND M1821                ; 取出1ｻｲｸﾙ(手動)
ANB M1826                ; ﾜｰｸ無･他NG終了OFF確認
OUT M1825                ; ﾜｰｸ無･他NG終了
LD M1825                 ; ﾜｰｸ無･他NG終了
AND Y4238                ; Low_RB_信号受信Ans(568)
ANB X3232                ; Low_RB_ﾜｰｸ無正常完了(818)
ANB X3233                ; Low_RB_ﾜｰｸ無NG完了(819)
ANB X3234                ; Low_RB_ﾜｰｸ有NG完了(820)
ANB X3238                ; Low_RB ﾁｬｯｸNG(824)
OR M1826                 ; ﾜｰｸ無･他NG終了OFF確認
AND M1821                ; 取出1ｻｲｸﾙ(手動)
ANB M1832                ; 取出終了
OUT M1826                ; ﾜｰｸ無･他NG終了OFF確認
;取出確認
LD M1824                 ; 動作開始確認
AND X3235                ; Low_RB_低温槽取出完了(821)
OR M1828                 ; ﾜｰｸ取出完了
AND M1821                ; 取出1ｻｲｸﾙ(手動)
ANB M1829                ; 取出完了OFF確認
OUT M1828                ; ﾜｰｸ取出完了
;ﾜｰｸ有り取出→低温検査給材
LD M1828                 ; ﾜｰｸ取出完了
AND Y4238                ; Low_RB_信号受信Ans(568)
ANB X3235                ; Low_RB_低温槽取出完了(821)
OR M1829                 ; 取出完了OFF確認
AND M1821                ; 取出1ｻｲｸﾙ(手動)
ANB M1830                ; 低温検査仮置給材完了
OUT M1829                ; 取出完了OFF確認
LD M1829                 ; 取出完了OFF確認
AND X3223                ; Low_RB_検査前給材完了(803)
OR M1830                 ; 低温検査仮置給材完了
AND M1821                ; 取出1ｻｲｸﾙ(手動)
ANB M1831                ; 検査仮置給材完了OFF確認
OUT M1830                ; 低温検査仮置給材完了
LD M1830                 ; 低温検査仮置給材完了
AND Y4238                ; Low_RB_信号受信Ans(568)
ANB X3223                ; Low_RB_検査前給材完了(803)
OR M1831                 ; 検査仮置給材完了OFF確認
ANB M1832                ; 取出終了
OUT M1831                ; 検査仮置給材完了OFF確認
;取出1ｻｲｸﾙ完了
LD M1826                 ; ﾜｰｸ無･他NG終了OFF確認
OR M1831                 ; 検査仮置給材完了OFF確認
ANB X3201                ; Low_Sup_RB_RUN
ANB X3223                ; Low_RB_検査前給材完了(803)
ANB X3233                ; Low_RB_ﾜｰｸ無NG完了(819)
ANB X3234                ; Low_RB_ﾜｰｸ有NG完了(820)
ANB X3235                ; Low_RB_低温槽取出完了(821)
ANB X3236                ; Low_RB_低温槽給材完了(822)
ANB X3237                ; Low_RB_ﾜｰｸﾃﾞｰﾀ無完了(823)
OR M1832                 ; 取出終了
AND M1821                ; 取出1ｻｲｸﾙ(手動)
OUT M1832                ; 取出終了
;<h1/>/低温槽給材1ｻｲｸﾙ
;槽供給1ｻｲｸﾙ(PRO_No2.)
LD X1022                 ; 給材ﾃｰﾌﾞﾙﾜｰｸ確認
AND X1023                ; 給材ﾃｰﾌﾞﾙﾜｰｸ浮き確認1
AND X1024                ; 給材ﾃｰﾌﾞﾙﾜｰｸ浮き確認2
LD M1801                 ; 槽1選択
ANB M1802                ; 槽2選択
LD M1802                 ; 槽2選択
ANB M1801                ; 槽1選択
ORL
ANL
LD M1805                 ; 槽上段選択
ANB M1806                ; 槽中段選択
ANB M1807                ; 槽下段選択
LD M1806                 ; 槽中段選択
ANB M1805                ; 槽上段選択
ANB M1807                ; 槽下段選択
ORL
LD M1807                 ; 槽下段選択
ANB M1805                ; 槽上段選択
ANB M1806                ; 槽中段選択
ORL
ANL
ANB X3201                ; Low_Sup_RB_RUN
AND X3203                ; Low_Sup_RB_SV_ON
AND X3204                ; Low_Sup_RB_Ready
AND X3205                ; Low_Sup_RB_Auto
AND X3206                ; Low_Sup_RB_EXT
ANB X3208                ; Low_Sup_RB_Worning
AND X3225                ; Low_Sup_RB_ORG(805)
ANB M1821                ; 取出1ｻｲｸﾙ(手動)
OUT M1840                ; 供給1ｻｲｸﾙ可
LDP B10A9                ; UNIT2-1-10 TP-PB
AND M1840                ; 供給1ｻｲｸﾙ可
OR M1841                 ; 供給1ｻｲｸﾙ(手動)
ANB M1983                ; ﾕﾆｯﾄ2起動OFF
ANB M1848                ; 槽内ﾜｰｸ有NG(終了)
ANB M1852                ; 給材終了
OUT M1841                ; 供給1ｻｲｸﾙ(手動)
;取出ﾃﾞｰﾀ転送
LD M1841                 ; 供給1ｻｲｸﾙ(手動)
MPS
LD M1801                 ; 槽1選択
ANB M1802                ; 槽2選択
ANL
@MOV K1 D1521            ; Low_搬送RB給徐材槽 No.
MRD
LD M1802                 ; 槽2選択
ANB M1801                ; 槽1選択
ANL
@MOV K2 D1521            ; Low_搬送RB給徐材槽 No.
MRD
LD M1805                 ; 槽上段選択
ANB M1806                ; 槽中段選択
ANB M1807                ; 槽下段選択
ANL
@MOV K1 D1522            ; Low_搬送RB給徐材段 No.
MRD
LD M1806                 ; 槽中段選択
ANB M1805                ; 槽上段選択
ANB M1807                ; 槽下段選択
ANL
@MOV K2 D1522            ; Low_搬送RB給徐材段 No.
MPP
LD M1807                 ; 槽下段選択
ANB M1805                ; 槽上段選択
ANB M1806                ; 槽中段選択
ANL
@MOV K3 D1522            ; Low_搬送RB給徐材段 No.
LD M1841                 ; 供給1ｻｲｸﾙ(手動)
OR M1842                 ; 供給ﾃﾞｰﾀｾｯﾄ
AND M1841                ; 供給1ｻｲｸﾙ(手動)
MPS
@MOV D1580 D1520         ; Low_RB手動取出機種No.  Low_搬送RB Type No.
MPP
LD= D1520 D1580          ; Low_搬送RB Type No.  Low_RB手動取出機種No.
LD M1801                 ; 槽1選択
AND= D1521 K1            ; Low_搬送RB給徐材槽 No.
LD M1802                 ; 槽2選択
AND= D1521 K2            ; Low_搬送RB給徐材槽 No.
ORL
ANL
LD M1805                 ; 槽上段選択
AND= D1522 K1            ; Low_搬送RB給徐材段 No.
LD M1806                 ; 槽中段選択
AND= D1522 K2            ; Low_搬送RB給徐材段 No.
ORL
LD M1807                 ; 槽下段選択
AND= D1522 K3            ; Low_搬送RB給徐材段 No.
ORL
ANL
ANL
OUT M1842                ; 供給ﾃﾞｰﾀｾｯﾄ
;供給動作開始起動
LDP M1842                ; 供給ﾃﾞｰﾀｾｯﾄ
OR M1843                 ; 供給PRG.ｽﾀｰﾄ
AND M1841                ; 供給1ｻｲｸﾙ(手動)
ANB M1844                ; 動作開始確認
@MOV K2 D1530            ; Low_搬送RB_制御ﾃﾞｰﾀ1
@MOV K1 D1531            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K2 D1532            ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D1530 K2             ; Low_搬送RB_制御ﾃﾞｰﾀ1
AND= D1531 K1            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D1532 K2            ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
ANL
OUT M1843                ; 供給PRG.ｽﾀｰﾄ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M1843                 ; 供給PRG.ｽﾀｰﾄ
AND X3201                ; Low_Sup_RB_RUN
AND X3205                ; Low_Sup_RB_Auto
OR M1844                 ; 動作開始確認
AND M1841                ; 供給1ｻｲｸﾙ(手動)
ANB M1845                ; 給材取出完了
ANB M1846                ; 槽内ﾜｰｸ有りNG確認
OUT M1844                ; 動作開始確認
LD M1844                 ; 動作開始確認
AND X3221                ; Low_RB_給材取出完了(801)
OR M1845                 ; 給材取出完了
AND M1841                ; 供給1ｻｲｸﾙ(手動)
ANB M1849                ; 取出完了OFF確認
OUT M1845                ; 給材取出完了
LD M1844                 ; 動作開始確認
LD X3234                 ; Low_RB_ﾜｰｸ有NG完了(820)
OR X3238                 ; Low_RB ﾁｬｯｸNG(824)
ANL
OR M1846                 ; 槽内ﾜｰｸ有りNG確認
AND M1841                ; 供給1ｻｲｸﾙ(手動)
ANB M1847                ; 槽内ﾜｰｸ有NG_OFF確認
OUT M1846                ; 槽内ﾜｰｸ有りNG確認
LD M1846                 ; 槽内ﾜｰｸ有りNG確認
AND Y4238                ; Low_RB_信号受信Ans(568)
ANB X3234                ; Low_RB_ﾜｰｸ有NG完了(820)
ANB X3238                ; Low_RB ﾁｬｯｸNG(824)
OR M1847                 ; 槽内ﾜｰｸ有NG_OFF確認
AND M1841                ; 供給1ｻｲｸﾙ(手動)
ANB M1848                ; 槽内ﾜｰｸ有NG(終了)
OUT M1847                ; 槽内ﾜｰｸ有NG_OFF確認
LD M1847                 ; 槽内ﾜｰｸ有NG_OFF確認
ANB X3201                ; Low_Sup_RB_RUN
ANB X3233                ; Low_RB_ﾜｰｸ無NG完了(819)
ANB X3234                ; Low_RB_ﾜｰｸ有NG完了(820)
ANB X3235                ; Low_RB_低温槽取出完了(821)
ANB X3236                ; Low_RB_低温槽給材完了(822)
ANB X3237                ; Low_RB_ﾜｰｸﾃﾞｰﾀ無完了(823)
OR M1848                 ; 槽内ﾜｰｸ有NG(終了)
AND M1841                ; 供給1ｻｲｸﾙ(手動)
ANB M1852                ; 給材終了
OUT M1848                ; 槽内ﾜｰｸ有NG(終了)
;低温槽給材完了
LD M1845                 ; 給材取出完了
AND Y4238                ; Low_RB_信号受信Ans(568)
ANB X3221                ; Low_RB_給材取出完了(801)
OR M1849                 ; 取出完了OFF確認
AND M1841                ; 供給1ｻｲｸﾙ(手動)
ANB M1850                ; 給材完了確認
OUT M1849                ; 取出完了OFF確認
LD M1849                 ; 取出完了OFF確認
AND X3236                ; Low_RB_低温槽給材完了(822)
OR M1850                 ; 給材完了確認
AND M1841                ; 供給1ｻｲｸﾙ(手動)
ANB M1851                ; 給材完了OFF確認
OUT M1850                ; 給材完了確認
LD M1850                 ; 給材完了確認
AND Y4238                ; Low_RB_信号受信Ans(568)
ANB X3236                ; Low_RB_低温槽給材完了(822)
OR M1851                 ; 給材完了OFF確認
AND M1841                ; 供給1ｻｲｸﾙ(手動)
ANB M1852                ; 給材終了
OUT M1851                ; 給材完了OFF確認
;取出1ｻｲｸﾙ完了
LD M1848                 ; 槽内ﾜｰｸ有NG(終了)
OR M1851                 ; 給材完了OFF確認
ANB X3201                ; Low_Sup_RB_RUN
ANB X3233                ; Low_RB_ﾜｰｸ無NG完了(819)
ANB X3234                ; Low_RB_ﾜｰｸ有NG完了(820)
ANB X3235                ; Low_RB_低温槽取出完了(821)
ANB X3236                ; Low_RB_低温槽給材完了(822)
ANB X3237                ; Low_RB_ﾜｰｸﾃﾞｰﾀ無完了(823)
OR M1852                 ; 給材終了
AND M1841                ; 供給1ｻｲｸﾙ(手動)
OUT M1852                ; 給材終了
MCR
;ROBOT AUTO/MANU
LDP B10AF                ; UNIT2-1-16 TP-PB
AND M1870                ; MANUAL_ON
OUT M1871                ; MANUAL_OFF
LDP B10AF                ; UNIT2-1-16 TP-PB
ANB M1870                ; MANUAL_ON
OR M1870                 ; MANUAL_ON
ANB M1871                ; MANUAL_OFF
AND M31                  ; 手動ﾓｰﾄﾞ
OUT M1870                ; MANUAL_ON
;<h1/>/搬送RB補助回路
;ﾛﾎﾞｯﾄ初期準備
LDB X3208                ; Low_Sup_RB_Worning
LD M50                   ; 運転準備
AND X3204                ; Low_Sup_RB_Ready
AND X3205                ; Low_Sup_RB_Auto
MEP
LD M30                   ; 自動ﾓｰﾄﾞ
ANB X3203                ; Low_Sup_RB_SV_ON
MEP
ORL
ANL
OR M1902                 ; LOW_SUP_RB運転準備
ANB M1904                ; LOW_SUP_RBｻｰﾎﾞON､CAL完了
AND X3205                ; Low_Sup_RB_Auto
TMR K231 K5              ; 低温搬送RB初期化処理開始ﾃﾞｨﾚｲ
OUT M1902                ; LOW_SUP_RB運転準備
LD M1902                 ; LOW_SUP_RB運転準備
AND T231                 ; 低温搬送RB初期化処理開始ﾃﾞｨﾚｲ
MEP
OR M1903                 ; LOW_SUP_RBｻｰﾎﾞON､CAL要求
ANB M1904                ; LOW_SUP_RBｻｰﾎﾞON､CAL完了
AND M1902                ; LOW_SUP_RB運転準備
MPS
ANB CR2003               ; 常時OFF
@MOV K131 D1530          ; Low_搬送RB_制御ﾃﾞｰﾀ1
MRD
AND CR2003               ; 常時OFF
@MOV K1 D1530            ; Low_搬送RB_制御ﾃﾞｰﾀ1
MRD
@MOV K7 D1531            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
MPP
OUT M1903                ; LOW_SUP_RBｻｰﾎﾞON､CAL要求
LD M1903                 ; LOW_SUP_RBｻｰﾎﾞON､CAL要求
AND X320E                ; Low_Sup_RB_Command_End
MEP
OR M1904                 ; LOW_SUP_RBｻｰﾎﾞON､CAL完了
ANB M1905                ; LOW_SUP_RB外部ﾓｰﾄﾞ要求
AND M1902                ; LOW_SUP_RB運転準備
OUT M1904                ; LOW_SUP_RBｻｰﾎﾞON､CAL完了
;調整時速度をペンダントから行う場合(ﾓｰﾀｰON､CAL実行)+(外部ﾓｰﾄﾞ切替)
;時に使用
LD CR2003                ; 常時OFF
AND M1904                ; LOW_SUP_RBｻｰﾎﾞON､CAL完了
ANB X320E                ; Low_Sup_RB_Command_End
MEP
OR M1905                 ; LOW_SUP_RB外部ﾓｰﾄﾞ要求
ANB M1906                ; LOW_SUP_RB外部ﾓｰﾄﾞ完了
AND M1902                ; LOW_SUP_RB運転準備
@MOV K128 D1530          ; Low_搬送RB_制御ﾃﾞｰﾀ1
@MOV K7 D1531            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
OUT M1905                ; LOW_SUP_RB外部ﾓｰﾄﾞ要求
LD M1905                 ; LOW_SUP_RB外部ﾓｰﾄﾞ要求
AND X320E                ; Low_Sup_RB_Command_End
OR M1906                 ; LOW_SUP_RB外部ﾓｰﾄﾞ完了
AND M1902                ; LOW_SUP_RB運転準備
OUT M1906                ; LOW_SUP_RB外部ﾓｰﾄﾞ完了
;自動運転時ﾌﾟﾛｸﾞﾗﾑ強制停止
LDP T15                  ; 強制停止
ORP M51                  ; 即停止異常(緊急停止)
ORP M1981                ; ﾕﾆｯﾄ2全異常
ORP M1983                ; ﾕﾆｯﾄ2起動OFF
OR M1907                 ; LOW_SUP_RB停止指令
ANB M1902                ; LOW_SUP_RB運転準備
ANB X320E                ; Low_Sup_RB_Command_End
@MOV K64 D1530           ; Low_搬送RB_制御ﾃﾞｰﾀ1
@MOV K1 D1531            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
@MOV.S -1 D1532          ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
OUT M1907                ; LOW_SUP_RB停止指令
;自動運転時ｱﾗｰﾑ発生ｽﾃｯﾌﾟ停止
LD CR2003                ; 常時OFF
OR M1909                 ; LOW_SUP_RBｽﾃｯﾌﾟ停止
AND M1985                ; ﾕﾆｯﾄ2起動中
AND X3201                ; Low_Sup_RB_RUN
@MOV K16 D1530           ; Low_搬送RB_制御ﾃﾞｰﾀ1
@MOV K1 D1531            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
@MOV K1 D1532            ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
OUT M1909                ; LOW_SUP_RBｽﾃｯﾌﾟ停止
;自動運転時ｱﾗｰﾑ解除ｽﾃｯﾌﾟ続行機動
LD M123                  ; 安全扉正常
ANB X3202                ; Low_Sup_RB_Error
ANB X3208                ; Low_Sup_RB_Worning
AND X3203                ; Low_Sup_RB_SV_ON
AND X3204                ; Low_Sup_RB_Ready
AND X3205                ; Low_Sup_RB_Auto
AND X3206                ; Low_Sup_RB_EXT
AND X3209                ; Low_Sup_RB_Continue
TMR K220 K15             ; Lo_Sup_RB_Continue_Delay
LD T220                  ; Lo_Sup_RB_Continue_Delay
MEP
OR M1910                 ; LOW_SUP_RBｽﾃｯﾌﾟ起動
AND X3209                ; Low_Sup_RB_Continue
@MOV K2 D1530            ; Low_搬送RB_制御ﾃﾞｰﾀ1
@MOV K1 D1531            ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
@MOV D1532 D1532         ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号  Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
OUT M1910                ; LOW_SUP_RBｽﾃｯﾌﾟ起動
;ﾛﾎﾞｯﾄｱﾗｰﾑﾘｾｯﾄ
LD M16                   ; ﾘｾｯﾄPB
OR M1914                 ; LOW_SUP_RBｱﾗｰﾑﾘｾｯﾄ記憶
LD X3202                 ; Low_Sup_RB_Error
OR X3208                 ; Low_Sup_RB_Worning
ANL
OUT M1914                ; LOW_SUP_RBｱﾗｰﾑﾘｾｯﾄ記憶
LD M1914                 ; LOW_SUP_RBｱﾗｰﾑﾘｾｯﾄ記憶
ANB T233                 ; 低温搬送RBｱﾗｰﾑﾘｾｯﾄﾘﾄﾗｲ
@MOV K1000 D1531         ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
TMR K233 K10             ; 低温搬送RBｱﾗｰﾑﾘｾｯﾄﾘﾄﾗｲ
OUT M1908                ; LOW_SUP_RBｱﾗｰﾑﾘｾｯﾄ
;扉開時ﾛﾎﾞｯﾄ警告解除
LDP M123                 ; 安全扉正常
OR M1911                 ; LOW_SUP_RB扉開時警告解除処理
AND X3208                ; Low_Sup_RB_Worning
ANB T232                 ; 低温搬送RB扉開時警告解除ﾀｲﾏ
ANB B00                  ; 非常停止異常
@MOV K1000 D1531         ; Low_搬送RB_ｺﾏﾝﾄﾞﾃﾞｰﾀ
TMR K232 K10             ; 低温搬送RB扉開時警告解除ﾀｲﾏ
OUT M1911                ; LOW_SUP_RB扉開時警告解除処理
;<h1/>/ｼﾌﾄRB補助回路
;Low_Sup_RB→ｼﾌﾄRB移動指令動作
LD X3201                 ; Low_Sup_RB_RUN
LD X3225                 ; Low_Sup_RB_ORG(805)
ORB M1984                ; ﾕﾆｯﾄ2原点復帰中
ANL
AND X3242                ; Low_RB_Sift_取出移動(834)
MOV K1 D1544             ; Low_Sift_RB_POS_確定
OUT M1920                ; ｼﾌﾄRB取出位置移動要求
LD X3201                 ; Low_Sup_RB_RUN
LD X3225                 ; Low_Sup_RB_ORG(805)
ORB M1984                ; ﾕﾆｯﾄ2原点復帰中
ANL
AND X3243                ; Low_RB_Sift_Lo#1位置移動(835)
MOV K2 D1544             ; Low_Sift_RB_POS_確定
OUT M1921                ; ｼﾌﾄRB_Lo#1位置移動要求
LD X3201                 ; Low_Sup_RB_RUN
LD X3225                 ; Low_Sup_RB_ORG(805)
ORB M1984                ; ﾕﾆｯﾄ2原点復帰中
ANL
AND X3244                ; Low_RB_Sift_Lo#2位置移動(836)
MOV K3 D1544             ; Low_Sift_RB_POS_確定
OUT M1922                ; ｼﾌﾄRB_Lo#2位置移動開始
LD X3201                 ; Low_Sup_RB_RUN
LD X3225                 ; Low_Sup_RB_ORG(805)
ORB M1984                ; ﾕﾆｯﾄ2原点復帰中
ANL
AND X3245                ; Low_RB_Sift_検査仮置移動(837)
MOV K4 D1544             ; Low_Sift_RB_POS_確定
OUT M1923                ; ｼﾌﾄRB_Lo検査仮置位置移動開始
LD X3201                 ; Low_Sup_RB_RUN
LD X3225                 ; Low_Sup_RB_ORG(805)
ORB M1984                ; ﾕﾆｯﾄ2原点復帰中
ANL
AND X3246                ; Low_RB_Sift原点移動(838)
MOV K5 D1544             ; Low_Sift_RB_POS_確定
OUT M1924                ; ｼﾌﾄRB_原点移動開始
;
LDB X3220                ; Low_RB_給材取出侵入中(800)
LDB X3222                ; Low_RB_検査仮置侵入中(802)
ORB CR2003               ; 常時OFF
ANL
ANB X3230                ; Low_RB_Lo#1侵入中(816)
ANB X3231                ; Low_RB_Lo#2侵入中(817)
ANB X3202                ; Low_Sup_RB_Error
AND X3204                ; Low_Sup_RB_Ready
OUT M1935                ; ｼﾌﾄRB動作可
LDB M1920                ; ｼﾌﾄRB取出位置移動要求
ANB M1921                ; ｼﾌﾄRB_Lo#1位置移動要求
ANB M1922                ; ｼﾌﾄRB_Lo#2位置移動開始
ANB M1923                ; ｼﾌﾄRB_Lo検査仮置位置移動開始
ANB M1924                ; ｼﾌﾄRB_原点移動開始
INV
AND M123                 ; 安全扉正常
AND M1935                ; ｼﾌﾄRB動作可
MPS
OUT M1930                ; ｼﾌﾄRB_移動開始(Low_Sup_RB)
MPP
ANB M1932                ; 位置決完了OFF確認
OUT M1931                ; ｼﾌﾄRB_移動(Low_Sup_RB)
LD M1931                 ; ｼﾌﾄRB_移動(Low_Sup_RB)
AND X328C                ; Low_Shift_RB_Busy
ANB X328D                ; Low_Shift_RB_END
OR M1932                 ; 位置決完了OFF確認
AND M1930                ; ｼﾌﾄRB_移動開始(Low_Sup_RB)
OUT M1932                ; 位置決完了OFF確認
LD M1932                 ; 位置決完了OFF確認
ANB X328C                ; Low_Shift_RB_Busy
AND X328D                ; Low_Shift_RB_END
OR M1933                 ; 位置決完了確認
AND M1930                ; ｼﾌﾄRB_移動開始(Low_Sup_RB)
OUT M1933                ; 位置決完了確認
;<h1/>■出力回路
;□□　　出力回路　　□□
;ソレノイドバルブ出力
LDPB X3241               ; Low_RB_ﾁｬｯｸ開(833)
ANPB M1813               ; Lo_RBﾁｬｯｸ開
INV
LDP X1003                ; 低温給徐材RBﾊﾝﾄﾞ開PB
AND M31                  ; 手動ﾓｰﾄﾞ
ANB X3201                ; Low_Sup_RB_RUN
ORL
LD Y2010                 ; 低温槽給徐材RBﾁｬｯｸ開SV
ANB Y2011                ; 低温槽給徐材RBﾁｬｯｸ閉SV
ORL
OUT Y2010                ; 低温槽給徐材RBﾁｬｯｸ開SV
LDPB X3240               ; Low_RB_ﾁｬｯｸ閉(832)
ANPB M1811               ; Lo_RBﾁｬｯｸ閉
INV
LD Y2011                 ; 低温槽給徐材RBﾁｬｯｸ閉SV
ANB Y2010                ; 低温槽給徐材RBﾁｬｯｸ開SV
ORL
OUT Y2011                ; 低温槽給徐材RBﾁｬｯｸ閉SV
LD X1003                 ; 低温給徐材RBﾊﾝﾄﾞ開PB
AND M31                  ; 手動ﾓｰﾄﾞ
ANB M81                  ; 原点復帰動作中
AND M50                  ; 運転準備
AND Y2010                ; 低温槽給徐材RBﾁｬｯｸ開SV
OUT Y2013                ; 低温槽給徐材RBﾁｬｯｸ開PL
LD M50                   ; 運転準備
OUT Y54                  ; 低温槽給徐材RB霜取ﾋｰﾀ電源ON
;低温槽給徐材RB ｼｽﾃﾑI/O
LD M50                   ; 運転準備
LD M123                  ; 安全扉正常
ORB M9                   ; RB停止処理変更
ANL
ANB M1870                ; MANUAL_ON
OUT Y50                  ; 低温槽給徐材RBｲﾈｰﾌﾞﾙ
LD M50                   ; 運転準備
LD M123                  ; 安全扉正常
ORB M9                   ; RB停止処理変更
ANL
ANB M1870                ; MANUAL_ON
OUT Y51                  ; 低温槽給徐材RB防護柵
LD M123                  ; 安全扉正常
ORB X3226                ; Low_RB_槽収納中(806)
LDB M1517                ; Lo_RB取出PRG.ｽﾀｰﾄ
ANB M1563                ; 給材PRG.ｽﾀｰﾄ
ANB M1613                ; Lo_RB_確認PRG.ｽﾀｰﾄ
ANB M1623                ; Lo_RB_確認PRG.ｽﾀｰﾄ
ANB M1755                ; 原点復帰起動
ANB M1843                ; 供給PRG.ｽﾀｰﾄ
ANB M1823                ; 取出PRG.ｽﾀｰﾄ
INV
ORL
OUT Y4200                ; Low_RB_Step_Stop
LD M123                  ; 安全扉正常
OR X3226                 ; Low_RB_槽収納中(806)
LDB M1517                ; Lo_RB取出PRG.ｽﾀｰﾄ
ANB M1563                ; 給材PRG.ｽﾀｰﾄ
ANB M1613                ; Lo_RB_確認PRG.ｽﾀｰﾄ
ANB M1623                ; Lo_RB_確認PRG.ｽﾀｰﾄ
ANB M1755                ; 原点復帰起動
ANB M1843                ; 供給PRG.ｽﾀｰﾄ
ANB M1823                ; 取出PRG.ｽﾀｰﾄ
INV
ORL
OUT Y4202                ; Low_RB_Instant stop
;ﾛﾎﾞｯﾄｽﾄﾛｰﾌﾞ
LDB M1908                ; LOW_SUP_RBｱﾗｰﾑﾘｾｯﾄ
ANB M1911                ; LOW_SUP_RB扉開時警告解除処理
INV
OUT M1912                ; LOW_SUP_RB初期準備
LDB M1517                ; Lo_RB取出PRG.ｽﾀｰﾄ
ANB M1563                ; 給材PRG.ｽﾀｰﾄ
ANB M1613                ; Lo_RB_確認PRG.ｽﾀｰﾄ
ANB M1623                ; Lo_RB_確認PRG.ｽﾀｰﾄ
ANB M1755                ; 原点復帰起動
ANB M1843                ; 供給PRG.ｽﾀｰﾄ
ANB M1823                ; 取出PRG.ｽﾀｰﾄ
ANB M1903                ; LOW_SUP_RBｻｰﾎﾞON､CAL要求
ANB M1905                ; LOW_SUP_RB外部ﾓｰﾄﾞ要求
ANB M1907                ; LOW_SUP_RB停止指令
ANB M1909                ; LOW_SUP_RBｽﾃｯﾌﾟ停止
ANB M1910                ; LOW_SUP_RBｽﾃｯﾌﾟ起動
INV
OUT M1913                ; LOW_SUP_RB起動処理
LDB M1912                ; LOW_SUP_RB初期準備
ANB M1913                ; LOW_SUP_RB起動処理
INV
MPS
TMH K230 K10             ; 低温搬送RBｺﾏﾝﾄﾞｽﾄﾛｰﾌﾞONﾃﾞｨﾚｲ
MPP
AND T230                 ; 低温搬送RBｺﾏﾝﾄﾞｽﾄﾛｰﾌﾞONﾃﾞｨﾚｲ
OUT Y4203                ; Low_RB_Strobe
;ﾛﾎﾞｯﾄｺﾏﾝﾄﾞ出力
LD M1912                 ; LOW_SUP_RB初期準備
OR M1913                 ; LOW_SUP_RB起動処理
MPS
AND D1531.0              ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ0Bit
OUT Y4220                ; Low_RB_Cmd_0bit
MRD
AND D1531.1              ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ1Bit
OUT Y4221                ; Low_RB_Cmd_1bit
MRD
AND D1531.2              ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ2Bit
OUT Y4222                ; Low_RB_Cmd_2bit
MPP
AND D1531.3              ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ3Bit
OUT Y4223                ; Low_RB_Cmd_3bit
LD M1913                 ; LOW_SUP_RB起動処理
MPS
LDA D1530                ; Low_搬送RB_制御ﾃﾞｰﾀ1
CON
PSTA Y4208 K8            ; Low_RB_Data1-0bit
MPP
LDA D1532                ; Low_搬送RB_ﾌﾟﾛｸﾞﾗﾑ番号
CON
PSTA Y4210 K16           ; Low_RB_Data2-0bit
LDB M1913                ; LOW_SUP_RB起動処理
MPS
LDA K0
CON
PSTA Y4208 K8            ; Low_RB_Data1-0bit
MPP
LDA K0
CON
PSTA Y4210 K16           ; Low_RB_Data2-0bit
LD CR2003                ; 常時OFF
ANB M1912                ; LOW_SUP_RB初期準備
OUT Y4207                ; Low_RB_Cmd_Odd_Parity
;低温槽給徐材RBﾌﾟﾛｸﾞﾗﾑI/F I/O
;動作機種指定
LD CR2002                ; 常時ON
MPS
AND D1520.0              ; Low_搬送RB Type No.1
OUT Y4228                ; Low_RB_Type_No.1(552)
MRD
AND D1520.1              ; Low_搬送RB Type No.2
OUT Y4229                ; Low_RB_Type_No.2(553)
MRD
AND D1520.2              ; Low_搬送RB Type No.4
OUT Y422A                ; Low_RB_Type_No.4(554)
MPP
AND D1520.3              ; Low_搬送RB Type No.8
OUT Y422B                ; Low_RB_Type_No.8(555)
;給徐材槽指定
LD= D1521 K1             ; Low_搬送RB給徐材槽 No.
OUT Y4230                ; Low_RB_給徐材槽1(560)
LD= D1521 K2             ; Low_搬送RB給徐材槽 No.
OUT Y4231                ; Low_RB_給徐材槽2(561)
;槽侵入可
LDB X1208                ; Lo#1_上段扉開端
ANB X120A                ; Lo#1_中段扉開端
ANB X120C                ; Lo#1_下段扉開端
INV
OUT Y4232                ; Low_RB_Lo#1侵入可(562)
LDB X1228                ; Lo#2_上段扉開端
ANB X122A                ; Lo#2_中段扉開端
ANB X122C                ; Lo#2_下段扉開端
INV
OUT Y4233                ; Low_RB_Lo#2侵入可(563)
;給徐材段指示
LD= D1522 K1             ; Low_搬送RB給徐材段 No.
OUT Y4234                ; Low_RB_給徐材槽上段(564)
LD= D1522 K2             ; Low_搬送RB給徐材段 No.
OUT Y4235                ; Low_RB_給徐材槽中段(565)
LD= D1522 K3             ; Low_搬送RB給徐材段 No.
OUT Y4236                ; Low_RB_給徐材槽下段(566)
LD<> D1520 K0            ; Low_搬送RB Type No.
OUT Y4237                ; Low_RB_ﾜｰｸ有ﾌﾗｸﾞ(567)
;/
LDB M1520                ; Lo_RBﾜｰｸ情報NG確認
ANB M1525                ; Lo_RBﾜｰｸ情報NG確認
ANB M1530                ; Lo_RB槽内ﾜｰｸ無OK確認
ANB M1531                ; Lo_RBﾁｬｯｸNG確認
ANB M1539                ; Lo_RBﾃﾞｰﾀ移動確認
ANB M1541                ; Lo_RB下流給材終了確認
ANB M1570                ; Lo_RBﾁｬｯｸNG確認
ANB M1583                ; 上流取出ﾃﾞｰﾀ移動完了
ANB M1565                ; 槽内ﾜｰｸ有NG確認
ANB M1585                ; 低温槽給材完了確認
ANB M1825                ; ﾜｰｸ無･他NG終了
ANB M1828                ; ﾜｰｸ取出完了
ANB M1830                ; 低温検査仮置給材完了
ANB M1845                ; 給材取出完了
ANB M1846                ; 槽内ﾜｰｸ有りNG確認
ANB M1850                ; 給材完了確認
INV
OUT Y4238                ; Low_RB_信号受信Ans(568)
;徐材済ﾌﾗｸﾞ
LD= D1521 K1             ; Low_搬送RB給徐材槽 No.
AND> D1550 K1            ; Lo#1_徐材ｶｳﾝﾀ
LD= D1521 K2             ; Low_搬送RB給徐材槽 No.
AND> D1552 K1            ; Lo#2_徐材ｶｳﾝﾀ
ORL
AND M30                  ; 自動ﾓｰﾄﾞ
OUT Y4239                ; Low_RB_槽上段徐材済(569)
LD= D1521 K1             ; Low_搬送RB給徐材槽 No.
AND> D1550 K2            ; Lo#1_徐材ｶｳﾝﾀ
LD= D1521 K2             ; Low_搬送RB給徐材槽 No.
AND> D1552 K2            ; Lo#2_徐材ｶｳﾝﾀ
ORL
AND M30                  ; 自動ﾓｰﾄﾞ
OUT Y423A                ; Low_RB_槽中段徐材済(570)
LD= D1521 K1             ; Low_搬送RB給徐材槽 No.
AND> D1550 K3            ; Lo#1_徐材ｶｳﾝﾀ
LD= D1521 K2             ; Low_搬送RB給徐材槽 No.
AND> D1552 K3            ; Lo#2_徐材ｶｳﾝﾀ
ORL
AND M30                  ; 自動ﾓｰﾄﾞ
OUT Y423B                ; Low_RB_槽下段徐材済(571)
;給材済ﾌﾗｸﾞ
LD= D1521 K1             ; Low_搬送RB給徐材槽 No.
AND> D1551 K1            ; Lo#1_給材ｶｳﾝﾀ
LD= D1521 K2             ; Low_搬送RB給徐材槽 No.
AND> D1553 K1            ; Lo#2_給材ｶｳﾝﾀ
ORL
OUT Y423C                ; Low_RB_槽上段給材済(572)
LD= D1521 K1             ; Low_搬送RB給徐材槽 No.
AND> D1551 K2            ; Lo#1_給材ｶｳﾝﾀ
LD= D1521 K2             ; Low_搬送RB給徐材槽 No.
AND> D1553 K2            ; Lo#2_給材ｶｳﾝﾀ
ORL
OUT Y423D                ; Low_RB_槽中段給材済(573)
LD= D1521 K1             ; Low_搬送RB給徐材槽 No.
AND> D1551 K3            ; Lo#1_給材ｶｳﾝﾀ
LD= D1521 K2             ; Low_搬送RB給徐材槽 No.
AND> D1553 K3            ; Lo#2_給材ｶｳﾝﾀ
ORL
OUT Y423E                ; Low_RB_槽下段給材済(574)
LD M1720                 ; Lo#1_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
AND= D1521 K1            ; Low_搬送RB給徐材槽 No.
LD M1721                 ; Lo#2_初期起動ﾜｰｸ確認済ﾌﾗｸﾞ
AND= D1521 K2            ; Low_搬送RB給徐材槽 No.
ORL
OUT Y423F                ; Low_RB_初期確認済(575)
;ﾊﾝﾄﾞ開閉状態
LD T210                  ; 低温給徐材RBﾁｬｯｸ閉端
OUT Y4240                ; Low_RB_ﾁｬｯｸ閉端(576)
LD T211                  ; 低温給徐材RBﾁｬｯｸ開端
OUT Y4241                ; Low_RB_ﾁｬｯｸ開端(577)
;ｼﾌﾄ位置
;K1=取出POS K2=Low1 K3=Low2 K4=検査仮置
LD= D1548 K1             ; Low_Sift_RB_完了POS
OUT Y4242                ; Low_RB_Sift_取出位置(578)
LD= D1548 K2             ; Low_Sift_RB_完了POS
OR= D1548 K5             ; Low_Sift_RB_完了POS
OUT Y4243                ; Low_RB_Sift_Lo#1位置(原点)(579)
LD= D1548 K3             ; Low_Sift_RB_完了POS
OUT Y4244                ; Low_RB_Sift_Lo#2位置(580)
LD= D1548 K4             ; Low_Sift_RB_完了POS
OUT Y4245                ; Low_RB_Sift_検査仮置位置(581)
;ﾊﾝﾄﾞﾜｰｸ有無
LD T212                  ; 低温給徐材RBﾜｰｸ確認
OUT Y4246                ; Low_RB_ﾜｰｸ有(582)
;動作条件
LD M1053                 ; 給材部ﾌﾚｰﾑ取出可ON(RBへ)
OUT Y4247                ; Low_RB上流取出要求(583)
LD X328A                 ; Low_Shift_RB_ZONE
OUT Y4248                ; Low_RB_SIFT_ZONE(584)
;低温槽1ｼｬｯﾀ開閉→RB
LD X1208                 ; Lo#1_上段扉開端
OUT Y4250                ; Low_RB_Lo#1上段ｼｬｯﾀｰ開端(592)
LD X1209                 ; Lo#1_上段扉閉端
OUT Y4251                ; Low_RB_Lo#1上段ｼｬｯﾀｰ閉端(593)
LD X120A                 ; Lo#1_中段扉開端
OUT Y4252                ; Low_RB_Lo#1中段ｼｬｯﾀｰ開端(594)
LD X120B                 ; Lo#1_中段扉閉端
OUT Y4253                ; Low_RB_Lo#1中段ｼｬｯﾀｰ閉端(595)
LD X120C                 ; Lo#1_下段扉開端
OUT Y4254                ; Low_RB_Lo#1下段ｼｬｯﾀｰ開端(596)
LD X120D                 ; Lo#1_下段扉閉端
OUT Y4255                ; Low_RB_Lo#1下段ｼｬｯﾀｰ閉端(597)
;低温槽2ｼｬｯﾀ開閉→RB
LD X1228                 ; Lo#2_上段扉開端
OUT Y4258                ; Low_RB_Lo#2上段ｼｬｯﾀｰ開端(600)
LD X1229                 ; Lo#2_上段扉閉端
OUT Y4259                ; Low_RB_Lo#2上段ｼｬｯﾀｰ閉端(601)
LD X122A                 ; Lo#2_中段扉開端
OUT Y425A                ; Low_RB_Lo#2中段ｼｬｯﾀｰ開端(602)
LD X122B                 ; Lo#2_中段扉閉端
OUT Y425B                ; Low_RB_Lo#2中段ｼｬｯﾀｰ閉端(603)
LD X122C                 ; Lo#2_下段扉開端
OUT Y425C                ; Low_RB_Lo#2下段ｼｬｯﾀｰ開端(604)
LD X122D                 ; Lo#2_下段扉閉端
OUT Y425D                ; Low_RB_Lo#2下段ｼｬｯﾀｰ閉端(605)
;ｼﾌﾄﾛﾎﾞｯﾄ
LDB CR2003               ; 常時OFF
ANB M1931                ; ｼﾌﾄRB_移動(Low_Sup_RB)
INV
MOV D1544 D1546          ; Low_Sift_RB_POS_確定  Low_Sift_RB_指令POS
MPS
TMH K290 K20             ; Low_Sift_RB_POS確定ﾃﾞｨﾚｲ
MPP
AND T290                 ; Low_Sift_RB_POS確定ﾃﾞｨﾚｲ
OUT Y428D                ; Low_Sift_RB_Start
LD CR2002                ; 常時ON
MPS
AND D1546.0              ; Low_Sift_RB_指令POS1
OUT Y4280                ; Low_Sift_RB_Pin1
MRD
AND D1546.1              ; Low_Sift_RB_指令POS2
OUT Y4281                ; Low_Sift_RB_Pin2
MRD
AND D1546.2              ; Low_Sift_RB_指令POS4
OUT Y4282                ; Low_Sift_RB_Pin4
MRD
AND D1546.3              ; Low_Sift_RB_指令POS8
OUT Y4283                ; Low_Sift_RB_Pin8
MRD
AND D1546.4              ; Low_Sift_RB_指令POS16
OUT Y4284                ; Low_Sift_RB_Pin16
MRD
AND D1546.5              ; Low_Sift_RB_指令POS32
OUT Y4285                ; Low_Sift_RB_Pin32
MRD
AND D1546.6              ; Low_Sift_RB_指令POS64
OUT Y4286                ; Low_Sift_RB_Pin64
MPP
AND D1546.7              ; Low_Sift_RB_指令POS128
OUT Y4287                ; Low_Sift_RB_Pin128
LD CR2003                ; 常時OFF
OUT Y4288                ; Low_Sift_RB_JOG+
OUT Y4289                ; Low_Sift_RB_JOG-
OUT Y428A                ; Low_Sift_RB_Manu
LDB CR2003               ; 常時OFF
INV
OUT Y428B                ; Low_Sift_RB_ORG
LD M123                  ; 安全扉正常
AND M1935                ; ｼﾌﾄRB動作可
OUT Y428C                ; Low_Sift_RB_IL
LD M16                   ; ﾘｾｯﾄPB
ANB X328E                ; Low_Shift_RB_Alarm
OUT Y428E                ; Low_Sift_RB_Reset
LD M50                   ; 運転準備
AND M123                 ; 安全扉正常
MPS
ANB X328F                ; Low_Shift_RB_SV_ON
MPS
ANB T222                 ; Lo_Sift_RB_SV_Reset
TMR K221 K10             ; Lo_Sift_RB_SV_On
MPP
AND T221                 ; Lo_Sift_RB_SV_On
TMR K222 K5              ; Lo_Sift_RB_SV_Reset
MPP
ANB T221                 ; Lo_Sift_RB_SV_On
OUT Y428F                ; Low_Sift_RB_SV_ON
;ﾛﾎﾞｯﾄｻｰﾎﾞ電源
LD M121                  ; 非常停止正常
OUT Y52                  ; 低温槽間移動RB電源
;<h1/>■表示
;□□　　パネル表示　　□□
LD M1801                 ; 槽1選択
OUT B15A0                ; UNIT2-1-1 TP-PL
LD M1802                 ; 槽2選択
OUT B15A1                ; UNIT2-1-2 TP-PL
LD M1805                 ; 槽上段選択
OUT B15A2                ; UNIT2-1-3 TP-PL
LD M1806                 ; 槽中段選択
OUT B15A3                ; UNIT2-1-4 TP-PL
LD M1807                 ; 槽下段選択
OUT B15A4                ; UNIT2-1-5 TP-PL
LD CR2003                ; 常時OFF
LD CR2003                ; 常時OFF
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15A5                ; UNIT2-1-6 TP-PL
LD X1001                 ; 低温給徐材RBﾁｬｯｸ閉端
LD Y2011                 ; 低温槽給徐材RBﾁｬｯｸ閉SV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15A6                ; UNIT2-1-7 TP-PL
LD X1000                 ; 低温給徐材RBﾁｬｯｸ開端
LD Y2010                 ; 低温槽給徐材RBﾁｬｯｸ開SV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15A7                ; UNIT2-1-8 TP-PL
LD M1821                 ; 取出1ｻｲｸﾙ(手動)
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT B15A8                ; UNIT2-1-9 TP-PL
LD M1841                 ; 供給1ｻｲｸﾙ(手動)
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT B15A9                ; UNIT2-1-10 TP-PL
LD CR2003                ; 常時OFF
LD CR2003                ; 常時OFF
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15AA                ; UNIT2-1-11 TP-PL
LD CR2003                ; 常時OFF
LD CR2003                ; 常時OFF
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15AB                ; UNIT2-1-12 TP-PL
LD X1022                 ; 給材ﾃｰﾌﾞﾙﾜｰｸ確認
AND X1023                ; 給材ﾃｰﾌﾞﾙﾜｰｸ浮き確認1
AND X1024                ; 給材ﾃｰﾌﾞﾙﾜｰｸ浮き確認2
LD Y2038                 ; 投入ﾃｰﾌﾞﾙ1側供給旋回SV
AND X1028                ; 給材ﾃｰﾌﾞﾙ1側供給旋回端
LD Y2039                 ; 投入ﾃｰﾌﾞﾙ2側供給旋回SV
AND X1029                ; 給材ﾃｰﾌﾞﾙ2側供給旋回端
ORL
ANL
OUT B15AC                ; UNIT2-1-13 TP-PL
LDB X1040                ; 低温検査前仮置ﾜｰｸ確認
OUT B15AD                ; UNIT2-1-14 TP-PL
LD M2482                 ; ﾕﾆｯﾄ3起動条件
OUT B15AE                ; UNIT2-1-15 TP-PL
LD M2982                 ; ﾕﾆｯﾄ4起動条件
OUT B15AF                ; UNIT2-1-16 TP-PL
LD CR2003                ; 常時OFF
LD CR2003                ; 常時OFF
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B15BF                ; UNIT2-2-16 TP-PL
;<h1/>■異常
;□□    異常検出    □□
;B040(K65)--B04F(K80)  B050(K81)--B05F(K96)
LD Y2011                 ; 低温槽給徐材RBﾁｬｯｸ閉SV
ANB X1001                ; 低温給徐材RBﾁｬｯｸ閉端
LD Y2010                 ; 低温槽給徐材RBﾁｬｯｸ開SV
ANB X1000                ; 低温給徐材RBﾁｬｯｸ開端
ORL
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B040                 ; 低温槽給徐材RBﾁｬｯｸ異常
ORL
AND M50                  ; 運転準備
MPS
TMR K250 K50             ; 低温槽給徐材RBﾁｬｯｸ確認
MPP
AND T250                 ; 低温槽給徐材RBﾁｬｯｸ確認
OUT B040                 ; 低温槽給徐材RBﾁｬｯｸ異常
LDP B040                 ; 低温槽給徐材RBﾁｬｯｸ異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW K65 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0540
AND B040                 ; 低温槽給徐材RBﾁｬｯｸ異常
OUT B0540
LD X3202                 ; Low_Sup_RB_Error
AND M50                  ; 運転準備
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B041                 ; Low_Sup_RB異常
ORL
OUT B041                 ; Low_Sup_RB異常
LDP B041                 ; Low_Sup_RB異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW K66 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0541
AND B041                 ; Low_Sup_RB異常
OUT B0541
LD M1752                 ; ﾜｰｸ取出要求
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B042                 ; Low_Sup_RB原点復帰ﾜｰｸ有取出要求
ORL
OUT B042                 ; Low_Sup_RB原点復帰ﾜｰｸ有取出要求
LDP B042                 ; Low_Sup_RB原点復帰ﾜｰｸ有取出要求
AND< D900 K64            ; FIFO_DATA_VALUE
DW K67 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0542
AND B042                 ; Low_Sup_RB原点復帰ﾜｰｸ有取出要求
OUT B0542
LD X3207                 ; Low_Sup_RB_LOW_Battery
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B043                 ; Low_Sup_RBﾊﾞｯﾃﾘｰ低下
ORL
OUT B043                 ; Low_Sup_RBﾊﾞｯﾃﾘｰ低下
LDP B043                 ; Low_Sup_RBﾊﾞｯﾃﾘｰ低下
AND< D900 K64            ; FIFO_DATA_VALUE
DW K68 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0543
AND B043                 ; Low_Sup_RBﾊﾞｯﾃﾘｰ低下
OUT B0543
LD Y2011                 ; 低温槽給徐材RBﾁｬｯｸ閉SV
AND T210                 ; 低温給徐材RBﾁｬｯｸ閉端
AND M1985                ; ﾕﾆｯﾄ2起動中
OR M1872                 ; Lo_RB_ﾜｰｸﾁｬｯｸ記憶
AND Y2011                ; 低温槽給徐材RBﾁｬｯｸ閉SV
OUT M1872                ; Lo_RB_ﾜｰｸﾁｬｯｸ記憶
LD Y2011                 ; 低温槽給徐材RBﾁｬｯｸ閉SV
ANB T210                 ; 低温給徐材RBﾁｬｯｸ閉端
AND M1872                ; Lo_RB_ﾜｰｸﾁｬｯｸ記憶
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B044                 ; Low_Sup_RB搬送中ﾜｰｸ無異常
ORL
OUT B044                 ; Low_Sup_RB搬送中ﾜｰｸ無異常
LDP B044                 ; Low_Sup_RB搬送中ﾜｰｸ無異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW K69 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0544
AND B044                 ; Low_Sup_RB搬送中ﾜｰｸ無異常
OUT B0544
LD X3239                 ; Low_RB 品種ﾃﾞｰﾀ異常(825)
AND M50                  ; 運転準備
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B045                 ; Low_Sup_RB受信品種ﾃﾞｰﾀ異常
ORL
OUT B045                 ; Low_Sup_RB受信品種ﾃﾞｰﾀ異常
LDP B045                 ; Low_Sup_RB受信品種ﾃﾞｰﾀ異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW K70 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0545
AND B045                 ; Low_Sup_RB受信品種ﾃﾞｰﾀ異常
OUT B0545
LD M1528                 ; Lo_RBﾜ徐材NG選択(異常)
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B046                 ; Low_Sup_RB徐材時槽内ﾜｰｸ有異常
ORL
OUT B046                 ; Low_Sup_RB徐材時槽内ﾜｰｸ有異常
LDP B046                 ; Low_Sup_RB徐材時槽内ﾜｰｸ有異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW K71 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0546
AND B046                 ; Low_Sup_RB徐材時槽内ﾜｰｸ有異常
OUT B0546
LD M1523                 ; Lo_RBﾜ徐材NG選択(異常)
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B047                 ; Low_Sup_RB徐材時槽内ﾜｰｸ無異常
ORL
OUT B047                 ; Low_Sup_RB徐材時槽内ﾜｰｸ無異常
LDP B047                 ; Low_Sup_RB徐材時槽内ﾜｰｸ無異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW K72 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0547
AND B047                 ; Low_Sup_RB徐材時槽内ﾜｰｸ無異常
OUT B0547
LDP X323A                ; Low_RB_初期起動槽内ﾜｰｸ異常(826)
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B048                 ; Low_Sup_RB初期起動時ﾜｰｸ有異常
ORL
OUT B048                 ; Low_Sup_RB初期起動時ﾜｰｸ有異常
LDP B048                 ; Low_Sup_RB初期起動時ﾜｰｸ有異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW K73 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0548
AND B048                 ; Low_Sup_RB初期起動時ﾜｰｸ有異常
OUT B0548
LD Y54                   ; 低温槽給徐材RB霜取ﾋｰﾀ電源ON
ANB X08                  ; 低温給徐材RB_ﾊﾝﾄﾞﾋｰﾀ1_ON確認
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B049                 ; Low_Sup_RBﾋｰﾀ-1通電異常
ORL
MPS
TMR K251 K10             ; Low_Sup_RBﾋｰﾀｰ1通電確認
MPP
AND T251                 ; Low_Sup_RBﾋｰﾀｰ1通電確認
OUT B049                 ; Low_Sup_RBﾋｰﾀ-1通電異常
LDP B049                 ; Low_Sup_RBﾋｰﾀ-1通電異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW K74 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0549
AND B049                 ; Low_Sup_RBﾋｰﾀ-1通電異常
OUT B0549
LD Y54                   ; 低温槽給徐材RB霜取ﾋｰﾀ電源ON
ANB X09                  ; 低温給徐材RB_ﾊﾝﾄﾞﾋｰﾀ2_ON確認
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B04A                 ; Low_Sup_RBﾋｰﾀ-2通電異常
ORL
MPS
TMR K252 K10             ; Low_Sup_RBﾋｰﾀｰ2通電確認
MPP
AND T252                 ; Low_Sup_RBﾋｰﾀｰ2通電確認
OUT B04A                 ; Low_Sup_RBﾋｰﾀ-2通電異常
LDP B04A                 ; Low_Sup_RBﾋｰﾀ-2通電異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW K75 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B054A
AND B04A                 ; Low_Sup_RBﾋｰﾀ-2通電異常
OUT B054A
LD M30                   ; 自動ﾓｰﾄﾞ
LD M1985                 ; ﾕﾆｯﾄ2起動中
OR M18                   ; 起動PB
ANL
ANB X1210                ; Lo#1_ﾏｽﾀ槽運転有効確認
ANB X1230                ; Lo#2_ﾏｽﾀ槽運転有効確認
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B04B                 ; 低温槽全停止中
ORL
OUT B04B                 ; 低温槽全停止中
LDP B04B                 ; 低温槽全停止中
AND< D900 K64            ; FIFO_DATA_VALUE
DW K76 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B054B
AND B04B                 ; 低温槽全停止中
OUT B054B
LD M1568                 ; 槽内ﾜｰｸ有NG選択(異常)
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B04C                 ; Low_Sup_RB給材時槽内ﾜｰｸ有異常
ORL
OUT B04C                 ; Low_Sup_RB給材時槽内ﾜｰｸ有異常
LDP B04C                 ; Low_Sup_RB給材時槽内ﾜｰｸ有異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW K77 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B054C
AND B04C                 ; Low_Sup_RB給材時槽内ﾜｰｸ有異常
OUT B054C
LDB X328E                ; Low_Shift_RB_Alarm
AND M50                  ; 運転準備
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B04D                 ; Low_Sup_ｽﾗｲﾄﾞﾛﾎﾞｯﾄ異常
ORL
OUT B04D                 ; Low_Sup_ｽﾗｲﾄﾞﾛﾎﾞｯﾄ異常
LDP B04D                 ; Low_Sup_ｽﾗｲﾄﾞﾛﾎﾞｯﾄ異常
AND< D900 K64            ; FIFO_DATA_VALUE
DW K78 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B054D
AND B04D                 ; Low_Sup_ｽﾗｲﾄﾞﾛﾎﾞｯﾄ異常
OUT B054D
;低温槽1ﾜｰｸ情報異常
LD= D1555 K1             ; Low_給徐材優先ﾌﾗｸﾞ
AND= D1550 K1            ; Lo#1_徐材ｶｳﾝﾀ
MPS
AND M1522                ; Lo_RBﾜｰｸ無NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B050                 ; Low_Sup_RBﾜｰｸ無不一致 槽1上段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW K81 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
MPP
AND M1527                ; Lo_RBﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B051                 ; Low_Sup_RBﾜｰｸ有不一致 槽1上段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW K82 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD= D1555 K1             ; Low_給徐材優先ﾌﾗｸﾞ
AND= D1550 K2            ; Lo#1_徐材ｶｳﾝﾀ
MPS
AND M1522                ; Lo_RBﾜｰｸ無NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B052                 ; Low_Sup_RBﾜｰｸ無不一致 槽1中段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW K83 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
MPP
AND M1527                ; Lo_RBﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B053                 ; Low_Sup_RBﾜｰｸ有不一致 槽1中段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW K84 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD= D1555 K1             ; Low_給徐材優先ﾌﾗｸﾞ
AND= D1550 K3            ; Lo#1_徐材ｶｳﾝﾀ
MPS
AND M1522                ; Lo_RBﾜｰｸ無NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B054                 ; Low_Sup_RBﾜｰｸ無不一致 槽1下段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW K85 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
MPP
AND M1527                ; Lo_RBﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B055                 ; Low_Sup_RBﾜｰｸ有不一致 槽1下段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW K86 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
;低温槽2ﾜｰｸ情報異常
LD= D1555 K2             ; Low_給徐材優先ﾌﾗｸﾞ
AND= D1550 K1            ; Lo#1_徐材ｶｳﾝﾀ
MPS
AND M1522                ; Lo_RBﾜｰｸ無NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B056                 ; Low_Sup_RBﾜｰｸ無不一致 槽2上段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW K87 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
MPP
AND M1527                ; Lo_RBﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B057                 ; Low_Sup_RBﾜｰｸ有不一致 槽2上段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW K88 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD= D1555 K2             ; Low_給徐材優先ﾌﾗｸﾞ
AND= D1550 K2            ; Lo#1_徐材ｶｳﾝﾀ
MPS
AND M1522                ; Lo_RBﾜｰｸ無NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B058                 ; Low_Sup_RBﾜｰｸ無不一致 槽2中段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW K89 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
MPP
AND M1527                ; Lo_RBﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B059                 ; Low_Sup_RBﾜｰｸ有不一致 槽2中段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW K90 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD= D1555 K2             ; Low_給徐材優先ﾌﾗｸﾞ
AND= D1550 K3            ; Lo#1_徐材ｶｳﾝﾀ
MPS
AND M1522                ; Lo_RBﾜｰｸ無NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B05A                 ; Low_Sup_RBﾜｰｸ無不一致 槽2下段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW K91 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
MPP
AND M1527                ; Lo_RBﾜｰｸ有NG(選択ﾀﾞｲｱﾛｸﾞ)
OUT B05B                 ; Low_Sup_RBﾜｰｸ有不一致 槽2下段
MEP
AND< D900 K64            ; FIFO_DATA_VALUE
DW K92 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
;槽照合NG
LD M1600                 ; Lo_#1情報確認
AND X1210                ; Lo#1_ﾏｽﾀ槽運転有効確認
AND M1730                ; Lo#1_ﾜｰｸ情報異常
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B05C                 ; Low_Sup_RB_PC照合異常(Low#1)
ORL
OUT B05C                 ; Low_Sup_RB_PC照合異常(Low#1)
LDP B05C                 ; Low_Sup_RB_PC照合異常(Low#1)
AND< D900 K64            ; FIFO_DATA_VALUE
DW K93 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B055C
AND B05C                 ; Low_Sup_RB_PC照合異常(Low#1)
OUT B055C
LD M1601                 ; Lo_#2情報確認
AND X1230                ; Lo#2_ﾏｽﾀ槽運転有効確認
AND M1731                ; Lo#2_ﾜｰｸ情報異常
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B05D                 ; Low_Sup_RB_PC照合異常(Low#2)
ORL
OUT B05D                 ; Low_Sup_RB_PC照合異常(Low#2)
LDP B05D                 ; Low_Sup_RB_PC照合異常(Low#2)
AND< D900 K64            ; FIFO_DATA_VALUE
DW K94 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B055D
AND B05D                 ; Low_Sup_RB_PC照合異常(Low#2)
OUT B055D
LD= D1521 K1             ; Low_搬送RB給徐材槽 No.
ANP X323A                ; Low_RB_初期起動槽内ﾜｰｸ異常(826)
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B05E                 ; Low_Sup_RB_ﾜｰｸ照合異常(Low#1)
ORL
AND CR2003               ; 常時OFF
OUT B05E                 ; Low_Sup_RB_ﾜｰｸ照合異常(Low#1)
LDP B05E                 ; Low_Sup_RB_ﾜｰｸ照合異常(Low#1)
AND< D900 K64            ; FIFO_DATA_VALUE
DW K95 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B055E
AND B05E                 ; Low_Sup_RB_ﾜｰｸ照合異常(Low#1)
OUT B055E
LD= D1521 K2             ; Low_搬送RB給徐材槽 No.
ANP X323A                ; Low_RB_初期起動槽内ﾜｰｸ異常(826)
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B05F                 ; Low_Sup_RB_ﾜｰｸ照合異常(Low#2)
ORL
AND CR2003               ; 常時OFF
OUT B05F                 ; Low_Sup_RB_ﾜｰｸ照合異常(Low#2)
LDP B05F                 ; Low_Sup_RB_ﾜｰｸ照合異常(Low#2)
AND< D900 K64            ; FIFO_DATA_VALUE
DW K96 D0                ; エラーコード
CON
FIFOW D0 D900            ; エラーコード  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B055F
AND B05F                 ; Low_Sup_RB_ﾜｰｸ照合異常(Low#2)
OUT B055F
;異常ﾌﾞｻﾞｰまとめ
LDB B040                 ; 低温槽給徐材RBﾁｬｯｸ異常
OR B0540
LDB B041                 ; Low_Sup_RB異常
OR B0541
ANL
LDB B042                 ; Low_Sup_RB原点復帰ﾜｰｸ有取出要求
OR B0542
ANL
LDB B044                 ; Low_Sup_RB搬送中ﾜｰｸ無異常
OR B0544
ANL
LDB B045                 ; Low_Sup_RB受信品種ﾃﾞｰﾀ異常
OR B0545
ANL
LDB B046                 ; Low_Sup_RB徐材時槽内ﾜｰｸ有異常
OR B0546
ANL
LDB B047                 ; Low_Sup_RB徐材時槽内ﾜｰｸ無異常
OR B0547
ANL
LDB B048                 ; Low_Sup_RB初期起動時ﾜｰｸ有異常
OR B0548
ANL
LDB B049                 ; Low_Sup_RBﾋｰﾀ-1通電異常
OR B0548
ANL
LDB B04A                 ; Low_Sup_RBﾋｰﾀ-2通電異常
OR B0548
ANL
LDB B04C                 ; Low_Sup_RB給材時槽内ﾜｰｸ有異常
OR B054C
ANL
LDB B04D                 ; Low_Sup_ｽﾗｲﾄﾞﾛﾎﾞｯﾄ異常
OR B054D
ANL
LDB B05C                 ; Low_Sup_RB_PC照合異常(Low#1)
OR B055C
ANL
LDB B05D                 ; Low_Sup_RB_PC照合異常(Low#2)
OR B055D
ANL
LDB B05E                 ; Low_Sup_RB_ﾜｰｸ照合異常(Low#1)
OR B055E
ANL
LDB B05F                 ; Low_Sup_RB_ﾜｰｸ照合異常(Low#2)
OR B055F
ANL
INV
OUT M1989                ; ﾕﾆｯﾄ2異常BZ補助
END
ENDH
