DEVICE:53
;MODULE:UNIT1_Coating
;MODULE_TYPE:0
;ﾌﾗｸﾞ処理（主にデバッグ用）
;
;  1.  M10020  ONにて吐出幅ｾﾝｻｰ無視  
LDB CR2003               ; 常時OFF
OUT M10020               ; 吐出幅ｾﾝｻｰ無視
;即停止処理
;
LDP M65                  ; 即停止異常(緊急停止)
RES M9020                ; 幅検査完了
CON
RES R62100               ; 手動吐出ON
CON
RES R62115               ; 動作継続OK
CON
ZRES R62105 R62108       ; ｶｯﾌﾟｽﾗｲﾀﾞ捨打位置移動  ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
CON
ZRES @M0 @M169
;
;UNIT1 Coating
;
;動作FLG
LDB T1005                ; M/Cｼｬｯﾀｰ閉じ検出
OR M1850                 ; ｼｬｯﾀ開確認
LD>= D1002 K11           ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
AND<= D1002 K29          ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
LD>= D1000 K20           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
AND<= D1000 K49          ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
ORL
ANL
OUT M1850                ; ｼｬｯﾀ開確認
LDB T1100                ; ﾜｰｸ検出1A
ANB T1101                ; ﾜｰｸ検出1B
ANB T1102                ; ﾜｰｸ検出2A
ANB T1103                ; ﾜｰｸ検出2B
OR M1851                 ; 日常点検治具取り外し確認
LD M1453                 ; 結果判定依頼
OR M1454                 ; 治具取り外し確認
ANL
OUT M1851                ; 日常点検治具取り外し確認
LD= E3420 K1             ; Ａ面のみ処理
OUT M1600                ; A面のみ処理
LDB M1603                ; B面加工
AND= E3421 K1            ; Ａ面マスク無し
LD M1603                 ; B面加工
AND= E3422 K1            ; Ｂ面マスク無し
ORL
OUT M1601                ; ﾏｽｸ無し
LD= E60 K1               ; 加工面    (0:A 1:B)
OR M1906                 ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝ実行中
OUT M1603                ; B面加工
LD CR2002                ; 常時ON
MPS
LDB M1603                ; B面加工
AND T1100                ; ﾜｰｸ検出1A
ANB T1101                ; ﾜｰｸ検出1B
LD M1603                 ; B面加工
ANB T1100                ; ﾜｰｸ検出1A
AND T1101                ; ﾜｰｸ検出1B
ORL
ANL
TMR K1120 K5             ; ﾜｰｸ1　有り
MRD
LDB T1100                ; ﾜｰｸ検出1A
ANB T1101                ; ﾜｰｸ検出1B
ANL
TMR K1121 K10            ; ﾜｰｸ1　無し
MRD
LDB M1603                ; B面加工
ANB T1100                ; ﾜｰｸ検出1A
AND T1101                ; ﾜｰｸ検出1B
LD M1603                 ; B面加工
AND T1100                ; ﾜｰｸ検出1A
ANB T1101                ; ﾜｰｸ検出1B
ORL
LD T1100                 ; ﾜｰｸ検出1A
AND T1101                ; ﾜｰｸ検出1B
ORL
ANL
TMR K1122 K5             ; ﾜｰｸ1　異常
MRD
LDB M1603                ; B面加工
AND T1102                ; ﾜｰｸ検出2A
ANB T1103                ; ﾜｰｸ検出2B
LD M1603                 ; B面加工
ANB T1102                ; ﾜｰｸ検出2A
AND T1103                ; ﾜｰｸ検出2B
ORL
ANL
TMR K1130 K5             ; ﾜｰｸ2　有り
MRD
LDB T1102                ; ﾜｰｸ検出2A
ANB T1103                ; ﾜｰｸ検出2B
ANL
TMR K1131 K10            ; ﾜｰｸ2　無し
MPP
LDB M1603                ; B面加工
ANB T1102                ; ﾜｰｸ検出2A
AND T1103                ; ﾜｰｸ検出2B
LD M1603                 ; B面加工
AND T1102                ; ﾜｰｸ検出2A
ANB T1103                ; ﾜｰｸ検出2B
ORL
LD T1102                 ; ﾜｰｸ検出2A
AND T1103                ; ﾜｰｸ検出2B
ORL
ANL
TMR K1132 K5             ; ﾜｰｸ2　異常
LD CR2002                ; 常時ON
MPS
LD T1120                 ; ﾜｰｸ1　有り
LDB M1601                ; ﾏｽｸ無し
AND T1104                ; ﾏｽｸ検出1
LD M1601                 ; ﾏｽｸ無し
ANB T1104                ; ﾏｽｸ検出1
ORL
ANL
ORB T1120                ; ﾜｰｸ1　有り
ANL
OUT M1604                ; ﾜｰｸ1ﾏｽｸOK
MPP
LD T1120                 ; ﾜｰｸ1　有り
AND M1601                ; ﾏｽｸ無し
AND T1104                ; ﾏｽｸ検出1
ANL
OUT M1605                ; ﾜｰｸ1ﾏｽｸ検出（Error）
LD CR2002                ; 常時ON
MPS
LD T1130                 ; ﾜｰｸ2　有り
LDB M1601                ; ﾏｽｸ無し
AND T1105                ; ﾏｽｸ検出2
LD M1601                 ; ﾏｽｸ無し
ANB T1105                ; ﾏｽｸ検出2
ORL
ANL
ORB T1130                ; ﾜｰｸ2　有り
ANL
OUT M1606                ; ﾜｰｸ2ﾏｽｸOK
MPP
LD T1130                 ; ﾜｰｸ2　有り
AND M1601                ; ﾏｽｸ無し
AND T1105                ; ﾏｽｸ検出2
ANL
OUT M1607                ; ﾜｰｸ2ﾏｽｸ検出（Error）
;■ロボット等機器入力受け
;ロボット、検査装置など状態、現在位置などをまとめる信号は一旦ここで受ける。
LDB T1005                ; M/Cｼｬｯﾀｰ閉じ検出
AND<> D110 K0            ; RB　受付動作No.
AND X103                 ; RB OUT 3  BUSY
LDB CR2008               ; 運転開始時1ｽｷｬﾝON
ANB Y204                 ; RB IN 4  一時停止
ORL
ANB Y203                 ; RB IN 3  一時停止解除
ANB M65                  ; 即停止異常(緊急停止)
ANB M66                  ; 主幹異常(ｻｲｸﾙ停止)
ANB M1708                ; RB強制収納動作
OUB Y204                 ; RB IN 4  一時停止
LDB Y204                 ; RB IN 4  一時停止
AND T1005                ; M/Cｼｬｯﾀｰ閉じ検出
OR Y203                  ; RB IN 3  一時停止解除
MPS
ANB T141                 ; 解除信号ON時間
OUT Y203                 ; RB IN 3  一時停止解除
MPP
TMH K141 K50             ; 解除信号ON時間
LDB Y204                 ; RB IN 4  一時停止
ANB T1005                ; M/Cｼｬｯﾀｰ閉じ検出
TMR K140 K30             ; RB一時停止超過
;<h1/>装置状態・動作条件
LDB X103                 ; RB OUT 3  BUSY
AND X105                 ; RB OUT 5  待機位置  (浸漬中)
OUT M1900                ; ﾕﾆｯﾄ1原点
LDB B020                 ; ﾊﾟﾚｯﾄID異常
ANB B021                 ; RBｱﾗｰﾑ
ANB B022                 ; ﾉｽﾞﾙIN側圧力上限異常
ANB B023                 ; ﾉｽﾞﾙIN側圧力下限異常
ANB B024                 ; ﾉｽﾞﾙOUT側圧力上限異常
ANB B025                 ; ﾉｽﾞﾙOUT側圧力下限異常
ANB B026                 ; ｺｰﾃｨﾝｸﾞ剤温度適温外異常
ANB B027                 ; 樹脂循環圧力異常
ANB B02B                 ; 吐出幅ﾚｰｻﾞｾﾝｻ異常
ANB B02C                 ; ｺｰﾃｨﾝｸﾞ剤流量異常
INV
OUT M1901                ; ﾕﾆｯﾄ1全異常
LD M1900                 ; ﾕﾆｯﾄ1原点
ANB M1000                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ開始
ANB X100                 ; RB OUT 0  ALM
AND X101                 ; RB OUT 1  RDY
AND X102                 ; RB OUT 2  EMG
OUT M1902                ; ﾕﾆｯﾄ1起動条件
LDB M64                  ; 運転準備
OR M65                   ; 即停止異常(緊急停止)
OR M1901                 ; ﾕﾆｯﾄ1全異常
OR T15                   ; 強制停止
OUT M1903                ; ﾕﾆｯﾄ1起動OFF
LD M98                   ; 原点復帰開始
ANB M1904                ; ﾕﾆｯﾄ1原点復帰中
OR M1904                 ; ﾕﾆｯﾄ1原点復帰中
ANB M1903                ; ﾕﾆｯﾄ1起動OFF
ANB M1579                ; ﾕﾆｯﾄ1原点復帰完了確認
OUT M1904                ; ﾕﾆｯﾄ1原点復帰中
LD M83                   ; 各工程起動指令
AND M1902                ; ﾕﾆｯﾄ1起動条件
OR M1905                 ; ﾕﾆｯﾄ1起動中
ANB M1903                ; ﾕﾆｯﾄ1起動OFF
ANB M1399                ; ﾕﾆｯﾄ1動作完了
OUT M1905                ; ﾕﾆｯﾄ1起動中
;Pack処理
LDB M1702                ; RB 動作中
ANB M1706                ; RB 原点復帰中
INV
OUT M1910                ; UNIT1 Pack
;□エラー発生　一時停止フラグ
LD CR2002                ; 常時ON
MPS
PMOV.D M1920 K0 D1100 K0 K30;Err320:ﾜｰｸ残  UT1ｴﾗｰ判別
MPP
AND<>.D D1100 K0         ; UT1ｴﾗｰ判別
OUT M1912                ; UNIT1 ｴﾗｰ
LDB M1901                ; ﾕﾆｯﾄ1全異常
ANB M160                 ; ALL PAUSE
ANB M1908                ; ﾕﾆｯﾄ1警報補助
ANB M1912                ; UNIT1 ｴﾗｰ
LDB M32                  ; 自動ﾓｰﾄﾞ
ANB M33                  ; 手動ﾓｰﾄﾞ
LD M32                   ; 自動ﾓｰﾄﾞ
AND M1905                ; ﾕﾆｯﾄ1起動中
ORL
LD M33                   ; 手動ﾓｰﾄﾞ
AND M1904                ; ﾕﾆｯﾄ1原点復帰中
ORL
OR M1906                 ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝ実行中
ANL
OUT M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
;RB interlock
LD T1005                 ; M/Cｼｬｯﾀｰ閉じ検出
ANB X100                 ; RB OUT 0  ALM
AND X101                 ; RB OUT 1  RDY
AND X102                 ; RB OUT 2  EMG
ANB X103                 ; RB OUT 3  BUSY
OUT M1959                ; RB原点復帰可能
LD M1959                 ; RB原点復帰可能
AND X104                 ; RB OUT 4  原点復帰完了
AND X106                 ; RB OUT 6  動作開始待ち
ANB M1700                ; RB 動作完了
OUT M1960                ; RB動作可能
LDB X100                 ; RB OUT 0  ALM
AND X101                 ; RB OUT 1  RDY
AND X102                 ; RB OUT 2  EMG
ANB X103                 ; RB OUT 3  BUSY
AND X104                 ; RB OUT 4  原点復帰完了
AND X106                 ; RB OUT 6  動作開始待ち
AND X12B                 ; ｶｯﾌﾟ置場浸漬側
ANB M1700                ; RB 動作完了
AND T1200                ; 浸漬ｶｯﾌﾟ検出
OUT M1957                ; RB強制収納動作可能
;<h1/>■自動回路 
;
;運転開始・ステッパ初期化・補助接点へ展開
LD CR2002                ; 常時ON
ZRES M1000 M1399         ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ開始  ﾕﾆｯﾄ1動作完了
LDB M1905                ; ﾕﾆｯﾄ1起動中
MOV K0 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1905                 ; ﾕﾆｯﾄ1起動中
MOV D1000 Z1             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
SET M1000:Z1             ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ開始
;自動運転ステップ開始
;運転開始時ﾊﾟﾚｯﾄIDﾁｪｯｸ
;Palette No. check when AUTO start.
LD M1000                 ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ開始
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND M300                 ; ﾊﾟﾚｯﾄID OK
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
ANB M300                 ; ﾊﾟﾚｯﾄID OK
MPS
OUT M1963                ; Palette ID異常
MPP
AND M74                  ; ｷｬﾝｾﾙ不可 ｻｲｸﾙ停止
MOV K300 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1001                 ; 運転開始時ﾜｰｸ残ﾁｪｯｸ
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
TMR K110 K5              ; ﾜｰｸ残検出ｳｪｲﾄ
CON
AND T110                 ; ﾜｰｸ残検出ｳｪｲﾄ
MPS
LDB T1100                ; ﾜｰｸ検出1A
ANB T1101                ; ﾜｰｸ検出1B
ANB T1102                ; ﾜｰｸ検出2A
ANB T1103                ; ﾜｰｸ検出2B
ANL
MOV K10 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LD T1100                 ; ﾜｰｸ検出1A
OR T1101                 ; ﾜｰｸ検出1B
OR T1102                 ; ﾜｰｸ検出2A
OR T1103                 ; ﾜｰｸ検出2B
ANL
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;Err320:Work remain  (when START)
LD M1002                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K320 D148             ; 警報No.
CON
SET M1920                ; Err320:ﾜｰｸ残
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1003                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1004                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
MOV K1 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;投入完了待ち
;waiting for Work set up end
LD CR2002                ; 常時ON
OUT M40                  ; Dispence Daily check OK
LD M1010                 ; ﾜｰｸ投入待ち
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND T1005                ; M/Cｼｬｯﾀｰ閉じ検出
MPS
AND M300                 ; ﾊﾟﾚｯﾄID OK
MOV K20 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
ANB M300                 ; ﾊﾟﾚｯﾄID OK
TMR K190 K10             ; ﾊﾟﾚｯﾄID  不一致　  (AUTO)
MPP
ANB T1005                ; M/Cｼｬｯﾀｰ閉じ検出
MPS
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
MOV K300 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
ANB M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
MPS
LDB M40                  ; Dispence Daily check OK
ANB M1906                ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝ実行中
ANL
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LD M40                   ; Dispence Daily check OK
AND<> D110 K15           ; RB　受付動作No.
ANL
MPS
AND T1200                ; 浸漬ｶｯﾌﾟ検出
TMR K151 K100            ; 浸漬ｶｯﾌﾟ設置ﾃﾞｨﾚｲ
MPP
LD<.D D412 D400          ; 浸漬予定時間  現在時刻secﾃﾞｰﾀ
AND T151                 ; 浸漬ｶｯﾌﾟ設置ﾃﾞｨﾚｲ
LD T14                   ; ｽﾀｰﾄ長押し
AND T1200                ; 浸漬ｶｯﾌﾟ検出
ORL
ANL
MOV K12 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;塗布幅確認
;Dispense width check
LD M1011                 ; 時間切れ　要塗布幅点検
MPS
OUT @M95                 ; 塗布幅確認ﾓｰﾄﾞ起動  (自動)
MPP
AND M1907                ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝ完了
MOV K10 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;ﾉｽﾞﾙ収納（浸漬）
;Nozzle immersion
LD M1012                 ; ﾉｽﾞﾙ収納動作
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1957                ; RB強制収納動作可能
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1013                 ; RB起動
MPS
OUT @M50                 ; ﾉｽﾞﾙ浸漬動作（強制）
MPP
AND M1700                ; RB 動作完了
MOV K10 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;投入状況確認
;Board status check
LD M1020                 ; 状況確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
LD T1200                 ; 浸漬ｶｯﾌﾟ検出
AND T1202                ; 捨て打ちｶｯﾌﾟ検出
ANL
MPS
LDB T1122                ; ﾜｰｸ1　異常
ANB T1132                ; ﾜｰｸ2　異常
ANL
MPS
LD T1120                 ; ﾜｰｸ1　有り
OR T1130                 ; ﾜｰｸ2　有り
ANL
MOV K30 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LD T1121                 ; ﾜｰｸ1　無し
AND T1131                ; ﾜｰｸ2　無し
ANL
MOV K22 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LD T1122                 ; ﾜｰｸ1　異常
OR T1132                 ; ﾜｰｸ2　異常
ANL
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
ANB T1200                ; 浸漬ｶｯﾌﾟ検出
MOV K23 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
ANB T1202                ; 捨て打ちｶｯﾌﾟ検出
MOV K24 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;*** Err321:Board set error
LD M1021                 ; ｴﾗｰ発生
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
DW K321 D148             ; 警報No.
CON
SET M1921                ; Err321:ﾜｰｸｾｯﾄ異常
MPP
MOV K47 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;*** Err322:No Board 
LD M1022                 ; ｴﾗｰ発生
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
DW K322 D148             ; 警報No.
CON
SET M1922                ; Err322:ﾜｰｸ無し
MPP
MOV K47 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;*** Err336:No Toluen cup
LD M1023                 ; ｴﾗｰ発生
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
DW K336 D148             ; 警報No.
CON
SET M1936                ; Err336:浸漬ｶｯﾌﾟ未検出
MPP
MOV K47 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;*** Err337:No Discharge cup
LD M1024                 ; ｴﾗｰ発生
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
DW K337 D148             ; 警報No.
CON
SET M1937                ; Err337:捨て打ちｶｯﾌﾟ未検出
MPP
MOV K47 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;1側ﾏｽｸ確認
;Side 1 Mask check
LD M1030                 ; 1側ﾏｽｸ確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
ANB T1120                ; ﾜｰｸ1　有り
MOV K40 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND T1120                ; ﾜｰｸ1　有り
MPS
AND M1604                ; ﾜｰｸ1ﾏｽｸOK
MOV K40 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
ANB M1604                ; ﾜｰｸ1ﾏｽｸOK
MPS
ANB M1605                ; ﾜｰｸ1ﾏｽｸ検出（Error）
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M1605                ; ﾜｰｸ1ﾏｽｸ検出（Error）
MOV K32 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;*** Err328:Board 1 No mask
LD M1031                 ; ｴﾗｰ発生
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
DW K328 D148             ; 警報No.
CON
SET M1928                ; Err328:ﾜｰｸ1ﾏｽｸ無し
MPP
MOV K47 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;*** Err330:Board1 mask detect(Error)
LD M1032                 ; ｴﾗｰ発生
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
DW K330 D148             ; 警報No.
CON
SET M1930                ; Err330:ﾜｰｸ1ﾏｽｸ有り(Error)
MPP
MOV K47 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;2側ﾏｽｸ確認
;Side 2 Mask check
LD M1040                 ; 2側ﾏｽｸ確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
ANB T1130                ; ﾜｰｸ2　有り
MOV K50 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND T1130                ; ﾜｰｸ2　有り
MPS
AND M1606                ; ﾜｰｸ2ﾏｽｸOK
MOV K50 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
ANB M1606                ; ﾜｰｸ2ﾏｽｸOK
MPS
ANB M1607                ; ﾜｰｸ2ﾏｽｸ検出（Error）
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M1607                ; ﾜｰｸ2ﾏｽｸ検出（Error）
MOV K42 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;*** Err329:Board 2 No mask
LD M1041                 ; ｴﾗｰ発生
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
DW K329 D148             ; 警報No.
CON
SET M1929                ; Err329:ﾜｰｸ2ﾏｽｸ無し
MPP
MOV K47 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;*** Err331:Board2 mask detect(Error)
LD M1042                 ; ｴﾗｰ発生
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
DW K331 D148             ; 警報No.
CON
SET M1931                ; Err331:ﾜｰｸ2ﾏｽｸ有り(Error)
MPP
MOV K47 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;*** Error release check
LD M1047                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1048                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;*** ｼｬｯﾀｰ開待ち
;*** Waiting for shutter open
LD M1049                 ; ｼｬｯﾀ開確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1850                ; ｼｬｯﾀ開確認
MOV K10 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;***
;ﾏｼﾝｼｬｯﾀｰ　ﾛｯｸ
;Shutter lock
LD M1050                 ; ｼｬｯﾀｰﾛｯｸ
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND T1005                ; M/Cｼｬｯﾀｰ閉じ検出
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1051
MPS
AND T1005                ; M/Cｼｬｯﾀｰ閉じ検出
MPS
AND T1006                ; M/Cｼｬｯﾀｰﾛｯｸ 前進限
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1752                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ
MPP
ANB T1005                ; M/Cｼｬｯﾀｰ閉じ検出
OUT M1780                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
;捨てだし確認
;Discharge check
LD M1052                 ; 捨てだし確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
RES M9010                ; 吐出幅OK
CON
MPS
LD<> D110 K15            ; RB　受付動作No.
AND<> D110 K0            ; RB　受付動作No.
ANL
MOV K80 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LD= D110 K15             ; RB　受付動作No.
OR= D110 K0              ; RB　受付動作No.
ANL
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;捨て出し位置移動
LD M1053                 ; 捨て出し動作
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1960                ; RB動作可能
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1054                 ; RB起動
MPS
OUT @M145                ; 捨出し位置移動
MPP
AND M1700                ; RB 動作完了
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1055                 ; ｶｯﾌﾟ置場ｽﾗｲﾀﾞ捨出側ﾍ移動
AND X12A                 ; ｶｯﾌﾟ置場捨打ち側
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;捨て出し動作
;Discharge operation
LD M1056
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1057
SET @M86                 ; 捨打ち_塗布幅検査
CON
TMR K1055 E1032          ; 吐出時間  検査前　吐出時間
CON
AND T1055                ; 吐出時間
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1058
TMR K1056 E1034          ; 幅ｾﾝｻ読み取り時間  検査時　吐出時間
CON
SET M4005                ; 幅ｾﾝｻ読み取り中
CON
AND T1056                ; 幅ｾﾝｻ読み取り時間
RES @M86                 ; 捨打ち_塗布幅検査
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1059
RES M4005                ; 幅ｾﾝｻ読み取り中
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1060
MPS
LD>=.L D4000 D4020       ; 吐出巾計測値　平均  吐出巾　判定最小値
AND>=.L D4030 D4000      ; 吐出巾　判定最大値  吐出巾計測値　平均
ANL
MOV K70 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LD<.L D4000 D4020        ; 吐出巾計測値　平均  吐出巾　判定最小値
OR<.L D4030 D4000        ; 吐出巾　判定最大値  吐出巾計測値　平均
ANL
MOV K65 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1065                 ; 吐出幅ｴﾗｰ処理
MPS
DW K340 D148             ; 警報No.
CON
@SET M1940
MRD
LDF B1006                ; ﾘﾄﾗｲ選択PB
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
ANL
MOV K56 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LDF B1007                ; ｻｲｸﾙ停止選択PB
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
ANL
MOV K67 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1067                 ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬側ﾍ移動
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
RES M9010                ; 吐出幅OK
CON
AND X12B                 ; ｶｯﾌﾟ置場浸漬側
MOV K300 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1070                 ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬側ﾍ移動
RES M9010                ; 吐出幅OK
CON
AND X12B                 ; ｶｯﾌﾟ置場浸漬側
SET M9020                ; 幅検査完了
CON
MOV K80 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;動作側　確認
;Operation side check
LD M1080                 ; 動作側確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND T1120                ; ﾜｰｸ1　有り
MOV K100 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
ANB T1120                ; ﾜｰｸ1　有り
MPS
AND T1130                ; ﾜｰｸ2　有り
MOV K200 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
ANB T1130                ; ﾜｰｸ2　有り
MOV K300 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;<h1/>　　　1側塗布
;　　　Dispence for side 1
;ﾜｰｸ1 塗布動作
;Board 1 dispense operation
LD M1100                 ; 1側塗布動作
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1960                ; RB動作可能
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1101                 ; RB 起動
SET @M40                 ; 1側塗布動作
MPS
LDB M9020                ; 幅検査完了
AND M1700                ; RB 動作完了
AND<> D110 K47           ; RB　受付動作No.
ANL
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MRD
AND M9020                ; 幅検査完了
RES M9020                ; 幅検査完了
CON
MOV K105 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND= D110 K47            ; RB　受付動作No.
MOV K105 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1102                 ; 2側塗布確認
ANB M1700                ; RB 動作完了
ANB X100                 ; RB OUT 0  ALM
MPS
OUT R62105               ; ｶｯﾌﾟｽﾗｲﾀﾞ捨打位置移動
MPP
AND X12A                 ; ｶｯﾌﾟ置場捨打ち側
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1103
SET R62100               ; 手動吐出ON
CON
TMR K1070 E1030          ; 通常　吐出時間
CON
AND T1070
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1104
RES R62100               ; 手動吐出ON
CON
SET R62115               ; 動作継続OK
CON
OUT R62106               ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1105
AND M1700                ; RB 動作完了
RES @M40                 ; 1側塗布動作
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1106
AND X12B                 ; ｶｯﾌﾟ置場浸漬側
ANB M1700                ; RB 動作完了
ANB X100                 ; RB OUT 0  ALM
ANB X103                 ; RB OUT 3  BUSY
AND X106                 ; RB OUT 6  動作開始待ち
RES R62115               ; 動作継続OK
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;2側塗布確認
;Side 2 dispence check
LD M1107
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND T1130                ; ﾜｰｸ2　有り
MOV K200 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
ANB T1130                ; ﾜｰｸ2　有り
MOV K270 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;<h1/>　　　2側塗布
;　　　Dispence for side 2
;ﾜｰｸ2 塗布動作
;Board 2 dispense operation
LD M1200                 ; 2側塗布動作
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1960                ; RB動作可能
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1201                 ; RB 起動
MPS
SET @M41                 ; 2側塗布動作
MPP
AND M1700                ; RB 動作完了
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1202
ANB M1700                ; RB 動作完了
ANB X100                 ; RB OUT 0  ALM
MPS
OUT R62107               ; ｶｯﾌﾟｽﾗｲﾀﾞ捨打位置移動
MPP
AND X12A                 ; ｶｯﾌﾟ置場捨打ち側
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1203
SET R62100               ; 手動吐出ON
CON
TMR K1071 E1030          ; 通常　吐出時間
CON
AND T1071
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1204
RES R62100               ; 手動吐出ON
CON
SET R62115               ; 動作継続OK
CON
OUT R62108               ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1205
AND M1700                ; RB 動作完了
RES @M41                 ; 2側塗布動作
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1206
AND X12B                 ; ｶｯﾌﾟ置場浸漬側
ANB M1700                ; RB 動作完了
ANB X100                 ; RB OUT 0  ALM
ANB X103                 ; RB OUT 3  BUSY
AND X106                 ; RB OUT 6  動作開始待ち
RES R62115               ; 動作継続OK
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1207
MOV K270 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
@INC D2000               ; 塗布済み基板ｶｳﾝﾄ
;<h1/>　　　終了動作
;　　　Finish routine
;ﾉｽﾞﾙ待機位置
;Nozzle waiting position
LD M1270                 ; ﾉｽﾞﾙ待機位置
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1960                ; RB動作可能
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1271                 ; RB起動
MPS
OUT @M43                 ; ﾉｽﾞﾙ待機位置
MPP
AND M1700                ; RB 動作完了
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1272                 ; 終了ﾁｪｯｸ
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
ANB M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
MOV K275 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;ﾉｽﾞﾙ収納（浸漬）
;Nozzle immersion
LD M1273                 ; ﾉｽﾞﾙ収納
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1957                ; RB強制収納動作可能
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1274                 ; RB　起動
MPS
OUT @M42                 ; ﾉｽﾞﾙ浸漬動作
MPP
AND M1700                ; RB 動作完了
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;ﾏｼﾝｼｬｯﾀｰ　ﾛｯｸ解除
;Shutter Lock release
LD M1275                 ; ｼｬｯﾀｰﾛｯｸ解除
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND T1007                ; M/Cｼｬｯﾀｰﾛｯｸ 後退限
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1772                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
;ｼｬｯﾀｰ開待ち
;Waiting for shutter open
LD M1276                 ; ｼｬｯﾀｰ開待ち (CTE)
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
ANB T1005                ; M/Cｼｬｯﾀｰ閉じ検出
MOV K280 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LD T1005                 ; M/Cｼｬｯﾀｰ閉じ検出
AND<> D110 K15           ; RB　受付動作No.
LD<.D D412 D400          ; 浸漬予定時間  現在時刻secﾃﾞｰﾀ
OR M70                   ; 自動起動停止指令(ｻｲｸﾙ停止)
OR T14                   ; ｽﾀｰﾄ長押し
ANL
AND M1957                ; RB強制収納動作可能
ANL
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;ﾉｽﾞﾙ収納（浸漬）
;Nozzle immersion
LD M1277                 ; RB起動
MPS
OUT @M53                 ; ﾉｽﾞﾙ浸漬動作（強制）
MPP
AND M1700                ; RB 動作完了
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1278                 ; ｼｬｯﾀｰ開待ち(浸漬後)
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
ANB T1005                ; M/Cｼｬｯﾀｰ閉じ検出
MOV K280 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;ﾜｰｸ　除材確認
;Board remoce check
LD>= D1000 K276          ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
AND< D1000 K289          ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPS
LDB T1100                ; ﾜｰｸ検出1A
ANB T1101                ; ﾜｰｸ検出1B
OR @M1                   ; 1側除材確認
ANL
OUT @M1                  ; 1側除材確認
MPP
LDB T1102                ; ﾜｰｸ検出2A
ANB T1103                ; ﾜｰｸ検出2B
OR @M2                   ; 2側除材確認
ANL
OUT @M2                  ; 2側除材確認
LD M1280                 ; ﾜｰｸ除材待ち
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
ANB T1005                ; M/Cｼｬｯﾀｰ閉じ検出
MPS
LD @M1                   ; 1側除材確認
AND @M2                  ; 2側除材確認
ANL
MOV K300 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LDB @M1                  ; 1側除材確認
ORB @M2                  ; 2側除材確認
AND<> D110 K15           ; RB　受付動作No.
LD<.D D412 D400          ; 浸漬予定時間  現在時刻secﾃﾞｰﾀ
OR M70                   ; 自動起動停止指令(ｻｲｸﾙ停止)
OR T14                   ; ｽﾀｰﾄ長押し
ANL
AND M1957                ; RB強制収納動作可能
ANL
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND T1005                ; M/Cｼｬｯﾀｰ閉じ検出
MPS
ANB @M1                  ; 1側除材確認
MOV K282 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
ANB @M2                  ; 2側除材確認
MOV K283 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;ﾉｽﾞﾙ収納（浸漬）
;Nozzle immersion
LD M1281                 ; RB起動
MPS
OUT @M54                 ; ﾉｽﾞﾙ浸漬動作（強制）
MPP
AND M1700                ; RB 動作完了
MOV K280 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;除材督促
;Remoce requwse buzzer
LD>= D1000 K276          ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
AND<= D1000 K289         ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
TMR K121 K300            ; ﾜｰｸ取り出し催促
;*** Err323:Board remove request 
LD M1282                 ; ｴﾗｰ発生
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
DW K323 D148             ; 警報No.
CON
SET M1923                ; Err323:1側ﾜｰｸ未除材
MPP
MOV K284 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1283                 ; ｴﾗｰ発生
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
DW K324 D148             ; 警報No.
CON
SET M1924                ; Err324:2側ﾜｰｸ未除材
CON
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1284                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1285                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1286                 ; ｼｬｯﾀｰ開待ち
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND T1020                ; M/Cｼｬｯﾀｰ開き検出
MOV K280 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;サイクル停止条件
;Cycle end check
LD M1300                 ; 1ｻｲｸﾙ終了
MPS
ANB M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
MOV K10 D1000            ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
MPS
AND= D110 K15            ; RB　受付動作No.
MOV K397 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
AND<> D110 K15           ; RB　受付動作No.
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;ﾉｽﾞﾙ収納（浸漬）
;Nozzle immersion
LD M1301                 ; ﾉｽﾞﾙ収納動作
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
LD= D110 K15             ; RB　受付動作No.
OR= D110 K0              ; RB　受付動作No.
ANL
MOV K397 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
LD<> D110 K15            ; RB　受付動作No.
AND<> D110 K0            ; RB　受付動作No.
AND M1957                ; RB強制収納動作可能
ANL
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1302                 ; RB起動
MPS
OUT @M44                 ; ﾉｽﾞﾙ浸漬動作
MPP
AND M1700                ; RB 動作完了
MOV K396 D1000           ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
LD M1396
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND T1007                ; M/Cｼｬｯﾀｰﾛｯｸ 後退限
@INC D1000               ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1782                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
LD M1397                 ; ｻｲｸﾙ終了
@MOV K398 D1000          ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;終了
;Unit AUTO cycle end
LD M1398                 ; ﾕﾆｯﾄ1ｻｲｸﾙ停止
MPS
LD M70                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M72                  ; 全ﾕﾆｯﾄ停止確認
ANL
@MOV K399 D1000          ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
MPP
ANB M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
DW K10 D1000             ; ﾕﾆｯﾄ1自動運転ｽﾃｯﾌﾟ
;<h1/>■原点復帰回路
;
;運転開始・ステッパ初期化・補助接点へ展開
LD CR2002                ; 常時ON
ZRES M1500 M1599         ; ﾕﾆｯﾄ1原点復帰開始
LDB M1904                ; ﾕﾆｯﾄ1原点復帰中
MOV K0 D1010             ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1904                 ; ﾕﾆｯﾄ1原点復帰中
MOV D1010 Z1             ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
SET M1500:Z1             ; ﾕﾆｯﾄ1原点復帰開始
;原点復帰ステップ開始
;Origin start
;Shutter lock
LD M1500                 ; ﾕﾆｯﾄ1原点復帰開始
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND T1005                ; M/Cｼｬｯﾀｰ閉じ検出
MPS
AND T1006                ; M/Cｼｬｯﾀｰﾛｯｸ 前進限
@INC D1010               ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
OUT M1753                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ
MPP
ANB T1005                ; M/Cｼｬｯﾀｰ閉じ検出
OUT M1779                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
;RB　HOME
LD M1501                 ; RB　HOME
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1959                ; RB原点復帰可能
@INC D1010               ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1502                 ; RB原点復帰中
MPS
OUT @M90                 ; RB原点復帰動作
MPP
AND M1704                ; RB 原点復帰完了
@INC D1010               ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1503                 ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
RES Y214                 ; ｶｯﾌﾟ置場捨打ち側
CON
SET Y215                 ; ｶｯﾌﾟ置場浸漬側
CON
AND X12B                 ; ｶｯﾌﾟ置場浸漬側
@INC D1010               ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1504                 ; RB　home
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1959                ; RB原点復帰可能
@INC D1010               ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1505                 ; RB　浸漬位置移動
MPS
OUT @M82                 ; 原点復帰
MPP
AND M1700                ; RB 動作完了
@INC D1010               ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;Shutter lock　release
LD M1506                 ; ｼｬｯﾀｰﾛｯｸ解除
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND T1005                ; M/Cｼｬｯﾀｰ閉じ検出
MPS
AND T1007                ; M/Cｼｬｯﾀｰﾛｯｸ 後退限
MOV K10 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
OUT M1773                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
;Board remain check
LD M1510                 ; ﾜｰｸ残確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
LDB T1100                ; ﾜｰｸ検出1A
ANB T1101                ; ﾜｰｸ検出1B
ANB T1102                ; ﾜｰｸ検出2A
ANB T1103                ; ﾜｰｸ検出2B
ANL
MOV K60 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
LD T1100                 ; ﾜｰｸ検出1A
OR T1101                 ; ﾜｰｸ検出1B
OR T1102                 ; ﾜｰｸ検出2A
OR T1103                 ; ﾜｰｸ検出2B
ANL
@INC D1010               ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;***　ﾜｰｸ有り時処理
;Work remain
LD M1511                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K320 D148             ; 警報No.
CON
SET M1920                ; Err320:ﾜｰｸ残
CON
@INC D1010               ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1512                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D1010               ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1513                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
MOV K10 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;***
;塗布幅確認
;Dispense width check
LD M1560                 ; 原点復帰時塗布幅確認
AND CR2002               ; 常時ON
MOV K70 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;原点復帰終了
LD M1570                 ; 原点復帰動作完了
AND M1900                ; ﾕﾆｯﾄ1原点
OUT M1578                ; ﾕﾆｯﾄ1原点復帰完了
LD M1578                 ; ﾕﾆｯﾄ1原点復帰完了
ANB M98                  ; 原点復帰開始
@MOV K79 D1010           ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;<h1/>■サブルーチン　日常点検 
;
LDP M32                  ; 自動ﾓｰﾄﾞ
ANB M40                  ; Dispence Daily check OK
OR @M96                  ; 塗布幅確認ﾓｰﾄﾞ起動　(AUTO切替)
ANB M1907                ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝ完了
OUT @M96                 ; 塗布幅確認ﾓｰﾄﾞ起動　(AUTO切替)
;運転開始・ステッパ初期化・補助接点へ展開
LD CR2002                ; 常時ON
ZRES M1400 M1499         ; 吐出量確認開始
LDB @M95                 ; 塗布幅確認ﾓｰﾄﾞ起動  (自動)
ANB @M96                 ; 塗布幅確認ﾓｰﾄﾞ起動　(AUTO切替)
ANB @M97                 ; 塗布幅確認ﾓｰﾄﾞ起動　(MANUAL)
INV
OUT M1906                ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝ実行中
LDB M1906                ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝ実行中
MOV K0 D1002             ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
LD M1906                 ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝ実行中
MOV D1002 Z3             ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
SET M1400:Z3             ; 吐出量確認開始
;*** Err332:Width check request
LD M1400                 ; 吐出量確認開始
MPS
MOV K5 D1002             ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
LDB M71                  ; All Error PAUSE
AND M28                  ; 仮 NAT
ANL
DW K332 D148             ; 警報No.
CON
SET M1932                ; Err332:吐出幅点検要求
CON
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
LD M1401                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
LD M1402                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
MOV K5 D1002             ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;日常点検ステップ開始
;Daily check start
LD M1405                 ; ﾜｰｸ残確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
TMR K111 K5              ; ﾜｰｸ残確認ｳｪｲﾄ
CON
AND T111                 ; ﾜｰｸ残確認ｳｪｲﾄ
MPS
LDB T1100                ; ﾜｰｸ検出1A
ANB T1101                ; ﾜｰｸ検出1B
ANB T1102                ; ﾜｰｸ検出2A
ANB T1103                ; ﾜｰｸ検出2B
ANL
MOV K10 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
LD T1100                 ; ﾜｰｸ検出1A
OR T1101                 ; ﾜｰｸ検出1B
OR T1102                 ; ﾜｰｸ検出2A
OR T1103                 ; ﾜｰｸ検出2B
ANL
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;Err320:Work remain  (when START)
LD M1406                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K320 D148             ; 警報No.
CON
SET M1920                ; Err320:ﾜｰｸ残
CON
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
LD M1407                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
LD M1408                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
MOV K5 D1002             ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;ｶﾊﾞｰ開待ち
;Waiting for Cover open
LD M1410                 ; ｶﾊﾞｰ開待ち
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
ANB T1005                ; M/Cｼｬｯﾀｰ閉じ検出
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
LD T1005                 ; M/Cｼｬｯﾀｰ閉じ検出
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ANL
MOV K80 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;治具ｾｯﾄ完了待ち
;waiting for Jig set up end
LD M1411                 ; 治具ｾｯﾄ待ち
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND T1005                ; M/Cｼｬｯﾀｰ閉じ検出
MPS
AND M300                 ; ﾊﾟﾚｯﾄID OK
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
ANB M300                 ; ﾊﾟﾚｯﾄID OK
TMR K191 K10             ; ﾊﾟﾚｯﾄID  不一致　  (幅点検)
MPP
LDB T1005                ; M/Cｼｬｯﾀｰ閉じ検出
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ANL
MOV K80 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;投入状況確認
;Jig status check
LD M1412                 ; 治具装着状況確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
LD T1200                 ; 浸漬ｶｯﾌﾟ検出
AND T1202                ; 捨て打ちｶｯﾌﾟ検出
ANL
MPS
LDB T1122                ; ﾜｰｸ1　異常
ANB T1132                ; ﾜｰｸ2　異常
ANL
MPS
LD T1120                 ; ﾜｰｸ1　有り
ANB T1130                ; ﾜｰｸ2　有り
LDB T1120                ; ﾜｰｸ1　有り
AND T1130                ; ﾜｰｸ2　有り
ORL
ANL
MOV K20 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
LD T1121                 ; ﾜｰｸ1　無し
AND T1131                ; ﾜｰｸ2　無し
ANL
MOV K14 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
LD T1122                 ; ﾜｰｸ1　異常
OR T1132                 ; ﾜｰｸ2　異常
LD T1120                 ; ﾜｰｸ1　有り
AND T1130                ; ﾜｰｸ2　有り
ORL
ANL
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MRD
ANB T1200                ; 浸漬ｶｯﾌﾟ検出
MOV K15 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
ANB T1202                ; 捨て打ちｶｯﾌﾟ検出
MOV K16 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;*** Err321:Board set error
LD M1413                 ; ｴﾗｰ発生
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
DW K321 D148             ; 警報No.
CON
SET M1921                ; Err321:ﾜｰｸｾｯﾄ異常
MPP
MOV K27 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;*** Err322:No Board 
LD M1414                 ; ｴﾗｰ発生
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
DW K322 D148             ; 警報No.
CON
SET M1922                ; Err322:ﾜｰｸ無し
MPP
MOV K27 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;*** Err336:No Toluen cup
LD M1415                 ; ｴﾗｰ発生
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
DW K336 D148             ; 警報No.
CON
SET M1936                ; Err336:浸漬ｶｯﾌﾟ未検出
MPP
MOV K27 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;*** Err337:No Discharge cup
LD M1416                 ; ｴﾗｰ発生
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
DW K337 D148             ; 警報No.
CON
SET M1937                ; Err337:捨て打ちｶｯﾌﾟ未検出
MPP
MOV K27 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;***
;Mask
LD M1420                 ; ﾏｽｸ確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND T1100                ; ﾜｰｸ検出1A
MPS
AND M1604                ; ﾜｰｸ1ﾏｽｸOK
MOV K30 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
ANB M1604                ; ﾜｰｸ1ﾏｽｸOK
MPS
ANB M1605                ; ﾜｰｸ1ﾏｽｸ検出（Error）
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
AND M1605                ; ﾜｰｸ1ﾏｽｸ検出（Error）
MOV K23 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
LDB T1100                ; ﾜｰｸ検出1A
AND T1101                ; ﾜｰｸ検出1B
ANL
MPS
AND M1606                ; ﾜｰｸ2ﾏｽｸOK
MOV K30 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
ANB M1606                ; ﾜｰｸ2ﾏｽｸOK
MPS
ANB M1607                ; ﾜｰｸ2ﾏｽｸ検出（Error）
MOV K22 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
AND M1607                ; ﾜｰｸ2ﾏｽｸ検出（Error）
MOV K24 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;*** Err328:Board 1 No mask
LD M1421                 ; ｴﾗｰ発生
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
DW K328 D148             ; 警報No.
CON
SET M1928                ; Err328:ﾜｰｸ1ﾏｽｸ無し
MPP
MOV K27 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;*** Err329:Board 2 No mask
LD M1422                 ; ｴﾗｰ発生
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
DW K329 D148             ; 警報No.
CON
SET M1929                ; Err329:ﾜｰｸ2ﾏｽｸ無し
MPP
MOV K27 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;*** Err330:Board1 mask detect(Error)
LD M1423                 ; ｴﾗｰ発生
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
DW K330 D148             ; 警報No.
CON
SET M1930                ; Err330:ﾜｰｸ1ﾏｽｸ有り(Error)
MPP
MOV K27 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;*** Err331:Board2 mask detect(Error)
LD M1424                 ; ｴﾗｰ発生
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
DW K331 D148             ; 警報No.
CON
SET M1931                ; Err331:ﾜｰｸ2ﾏｽｸ有り(Error)
MPP
MOV K27 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;*** Error release check
LD M1427                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
LD M1428                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;*** ｼｬｯﾀｰ開待ち
;*** Waiting for shutter open
LD M1429                 ; ｼｬｯﾀ開待ち
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1850                ; ｼｬｯﾀ開確認
MOV K10 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;***
;ﾏｼﾝｼｬｯﾀｰ　ﾛｯｸ
;Shutter lock
LD M1430                 ; ｼｬｯﾀｰﾛｯｸ
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND T1005                ; M/Cｼｬｯﾀｰ閉じ検出
MPS
AND T1006                ; M/Cｼｬｯﾀｰﾛｯｸ 前進限
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
OUT M1754                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ
MPP
ANB T1005                ; M/Cｼｬｯﾀｰ閉じ検出
OUT M1781                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
;捨て出し動作
;Discharge operation
LD M1431                 ; 捨て出し動作
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
SET M1435                ; ｶｯﾌﾟｽﾗｲﾀﾞ捨打位置移動
CON
AND X12A                 ; ｶｯﾌﾟ置場捨打ち側
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
LD M1432                 ; RB起動
RES M1435                ; ｶｯﾌﾟｽﾗｲﾀﾞ捨打位置移動
CON
SET M1436                ; 捨て出し
CON
TMR K1057 E1030          ; 吐出時間  通常　吐出時間
CON
AND T1057                ; 吐出時間
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
LD M1433
RES M1436                ; 捨て出し
CON
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
SET M1437                ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
CON
AND X12A                 ; ｶｯﾌﾟ置場捨打ち側
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
LD M1434
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND T1120                ; ﾜｰｸ1　有り
MOV K40 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
LDB T1120                ; ﾜｰｸ1　有り
AND T1130                ; ﾜｰｸ2　有り
ANL
MOV K45 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;ﾜｰｸ1 塗布動作
;Board 1 dispense operation
LD M1440                 ; 1側塗布動作
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1960                ; RB動作可能
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
LD M1441                 ; RB 起動
MPS
OUT @M47                 ; 1側塗布動作
MPP
AND M1700                ; RB 動作完了
MOV K50 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;ﾜｰｸ2 塗布動作
;Board 2 dispense operation
LD M1445                 ; 2側塗布動作
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1960                ; RB動作可能
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
LD M1446                 ; RB 起動
MPS
OUT @M48                 ; 2側塗布動作
MPP
AND M1700                ; RB 動作完了
MOV K50 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;ﾉｽﾞﾙ待機位置
;Nozzle waiting podition move
LD M1450                 ; ﾉｽﾞﾙ待機位置
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1960                ; RB動作可能
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
LD M1451                 ; RB　起動
MPS
OUT @M49                 ; ﾉｽﾞﾙ待機位置移動
MPP
AND M1700                ; RB 動作完了
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;ﾏｼﾝｼｬｯﾀｰ　ﾛｯｸ解除
;Shutter Lock release
LD M1452                 ; ｼｬｯﾀｰﾛｯｸ解除
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND T1007                ; M/Cｼｬｯﾀｰﾛｯｸ 後退限
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
OUT M1778                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
LD M1453                 ; 結果判定依頼
MPS
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND B1514                ; DC_OK sw
SET M40                  ; Dispence Daily check OK
MOV K80 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MRD
AND B1516                ; DC_NG sw
RES M40                  ; Dispence Daily check OK
MOV K80 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
AND B1515                ; DC_Retry sw
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
OUT M1990                ; DC_作業者OK確認依頼画面表示1
LD M1454                 ; 治具取り外し確認
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
AND M1851                ; 日常点検治具取り外し確認
MOV K10 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
TMR K115 K10             ; 日常点検治具取外し催促
;終了動作
;End routine
LD M1480
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
MPS
LD M81                   ; 自動運転開始BZ
OR= D110 K15             ; RB　受付動作No.
OR= D110 K0              ; RB　受付動作No.
ANL
MOV K89 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
LDB M81                  ; 自動運転開始BZ
AND<> D110 K15           ; RB　受付動作No.
AND<> D110 K0            ; RB　受付動作No.
ANL
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;ﾉｽﾞﾙ収納（浸漬）
;Nozzle immersion
LD M1481                 ; ﾉｽﾞﾙ浸漬動作
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
AND M1957                ; RB強制収納動作可能
@INC D1002               ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
LD M1482                 ; RB起動
MPS
OUT @M52                 ; ﾉｽﾞﾙ浸漬動作
MPP
AND M1700                ; RB 動作完了
MOV K89 D1002            ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
LD M1489                 ; 終了処理
AND M1913                ; UNIT1     ｴﾗｰ・PAUSE無し
OUT M1907                ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝ完了
;<h1/>■手動回路 
;
LD M33                   ; 手動ﾓｰﾄﾞ
AND M34                  ; ﾒｲﾝ手動操作可能条件
ANB M1905                ; ﾕﾆｯﾄ1起動中
ANB M97                  ; 原点復帰動作中
MC
LD M1959                 ; RB原点復帰可能
ANB X100                 ; RB OUT 0  ALM
AND X101                 ; RB OUT 1  RDY
AND X102                 ; RB OUT 2  EMG
ANB X103                 ; RB OUT 3  BUSY
AND X104                 ; RB OUT 4  原点復帰完了
AND X106                 ; RB OUT 6  動作開始待ち
AND T1005                ; M/Cｼｬｯﾀｰ閉じ検出
ANB M1650                ; MUN:捨打ち動作中
ANB M1651                ; MUN:ﾉｽﾞﾙ洗浄動作中
ANB M1652                ; MUN:1側塗布動作中
ANB M1653                ; MUN:2側塗布動作中
ANB M1654                ; MUN:塗布幅検査中
OUT M1958                ; RB手動動作可能
;RB
;Point move
LD CR2002                ; 常時ON
LDP B1080                ; 塗布RB_浸漬位置移動PB
AND M1958                ; RB手動動作可能
OR @M70                  ; MNU:浸漬位置移動
ANL
ANB M1700                ; RB 動作完了
OUT @M70                 ; MNU:浸漬位置移動
LD CR2002                ; 常時ON
LDP B1081                ; 塗布RB_捨打位置移動PB
AND M1958                ; RB手動動作可能
OR @M71                  ; MNU:捨打位置移動
ANL
ANB M1700                ; RB 動作完了
OUT @M71                 ; MNU:捨打位置移動
;1 Cycle operation
LD CR2002                ; 常時ON
MPS
AND<> D12000 K201        ; 表示画面No.
RES M1720                ; 塗布 ON
MPP
AND= D12000 K201         ; 表示画面No.
MPS
LDB M25                  ; 吐出無し
ANP B1099                ; 塗布 ON PB
ANL
ALT M1720                ; 塗布 ON
MPP
ANB M1720                ; 塗布 ON
OUT M1721                ; MUN：吐出無し
;Dischage operation
LD M1958                 ; RB手動動作可能
AND T1202                ; 捨て打ちｶｯﾌﾟ検出
ANP B1090                ; 捨て打ち動作PB
SET @M100                ; 捨打ち動作開始
STG @M100                ; 捨打ち動作開始
SET M1650                ; MUN:捨打ち動作中
CON
JMP @M101                ; ｼｬｯﾀｰﾛｯｸ
STG @M101                ; ｼｬｯﾀｰﾛｯｸ
MPS
LD T1006                 ; M/Cｼｬｯﾀｰﾛｯｸ 前進限
ANB X100                 ; RB OUT 0  ALM
ANB X103                 ; RB OUT 3  BUSY
AND X106                 ; RB OUT 6  動作開始待ち
ANL
JMP @M150                ; 捨打位置移動
MPP
OUT M1755                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ
STG @M150                ; 捨打位置移動
OUT @M81                 ; MNU:捨打位置移動
CON
AND M1700                ; RB 動作完了
JMP @M151                ; ｶｯﾌﾟｽﾗｲﾀﾞ捨打位置移動
STG @M151                ; ｶｯﾌﾟｽﾗｲﾀﾞ捨打位置移動
AND X12A                 ; ｶｯﾌﾟ置場捨打ち側
JMP @M102                ; 捨打ち動作
STG @M102                ; 捨打ち動作
DW.L +0 D4000            ; 吐出巾計測値　平均
CON
DW K0 D4100              ; 流量計測値平均
CON
SET @M87                 ; 捨打ち動作
CON
TMR K1053 E1032          ; 吐出時間  検査前　吐出時間
CON
AND T1053                ; 吐出時間
JMP @M108
STG @M108
TMR K1054 E1034          ; 幅ｾﾝｻ読み取り時間  検査時　吐出時間
CON
SET M4005                ; 幅ｾﾝｻ読み取り中
CON
AND T1054                ; 幅ｾﾝｻ読み取り時間
JMP @M109
STG @M109
RES @M87                 ; 捨打ち動作
CON
RES M4005                ; 幅ｾﾝｻ読み取り中
CON
JMP @M152                ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
STG @M152                ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
AND X12B                 ; ｶｯﾌﾟ置場浸漬側
JMP @M103                ; 動作前確認
STG @M103                ; 動作前確認
ANB M1700                ; RB 動作完了
ANB X100                 ; RB OUT 0  ALM
ANB X103                 ; RB OUT 3  BUSY
AND X106                 ; RB OUT 6  動作開始待ち
JMP @M104                ; ﾉｽﾞﾙ待機位置移動
STG @M104                ; ﾉｽﾞﾙ待機位置移動
OUT @M80                 ; ﾉｽﾞﾙ待機位置移動
CON
AND M1700                ; RB 動作完了
JMP @M105                ; 動作前確認
STG @M105                ; 動作前確認
ANB M1700                ; RB 動作完了
ANB X100                 ; RB OUT 0  ALM
ANB X103                 ; RB OUT 3  BUSY
AND X106                 ; RB OUT 6  動作開始待ち
JMP @M106                ; ﾉｽﾞﾙ収納動作
STG @M106                ; ﾉｽﾞﾙ収納動作
OUT @M73                 ; MNU:ﾉｽﾞﾙ収納動作
CON
AND M1700                ; RB 動作完了
JMP @M107                ; ｼｬｯﾀｰﾛｯｸ解除
STG @M107                ; ｼｬｯﾀｰﾛｯｸ解除
MPS
AND T1007                ; M/Cｼｬｯﾀｰﾛｯｸ 後退限
RES M1650                ; MUN:捨打ち動作中
CON
ENDS
MPP
OUT M1774                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
LD M1700                 ; RB 動作完了
OUT M980
;捨出し  始業点検  （塗布幅確認動作）
LD M1958                 ; RB手動動作可能
AND T1202                ; 捨て打ちｶｯﾌﾟ検出
ANP B109B                ; 捨出し_始業点検
ANB M1655                ; MUN:捨打ち_始業点検動作中
RES M4001                ; 塗布幅検査NG
CON
RES M4000                ; 塗布幅検査OK
CON
SET @M60                 ; 捨打ち_始業点検開始
STG @M60                 ; 捨打ち_始業点検開始
SET M1655                ; MUN:捨打ち_始業点検動作中
CON
JMP @M61                 ; ｼｬｯﾀｰﾛｯｸ
STG @M61                 ; ｼｬｯﾀｰﾛｯｸ
MPS
LD T1006                 ; M/Cｼｬｯﾀｰﾛｯｸ 前進限
ANB X100                 ; RB OUT 0  ALM
ANB X103                 ; RB OUT 3  BUSY
AND X106                 ; RB OUT 6  動作開始待ち
ANL
JMP @M155                ; 捨打位置移動
MPP
OUT M1759                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ
STG @M155                ; 捨打位置移動
OUT @M83                 ; MNU:捨打位置移動
CON
AND M1700                ; RB 動作完了
JMP @M156                ; ｶｯﾌﾟｽﾗｲﾀﾞ捨打位置移動
STG @M156                ; ｶｯﾌﾟｽﾗｲﾀﾞ捨打位置移動
AND X12A                 ; ｶｯﾌﾟ置場捨打ち側
JMP @M62                 ; 捨打ち動作
STG @M62                 ; 捨打ち動作
DW.L +0 D4000            ; 吐出巾計測値　平均
CON
DW K0 D4100              ; 流量計測値平均
CON
SET @M85                 ; MNU:捨打ち_始業点検動作
CON
TMR K1051 E1032          ; 吐出時間  検査前　吐出時間
CON
AND T1051                ; 吐出時間
JMP @M160                ; 幅検査
STG @M160                ; 幅検査
TMR K1050 E1034          ; 幅ｾﾝｻ読み取り時間  検査時　吐出時間
CON
SET M4005                ; 幅ｾﾝｻ読み取り中
CON
AND T1050                ; 幅ｾﾝｻ読み取り時間
JMP @M161
STG @M161
RES @M85                 ; MNU:捨打ち_始業点検動作
CON
DW K501 D12008           ; 切り替え画面No.
CON
RES M4005                ; 幅ｾﾝｻ読み取り中
CON
AND= D12008 K501         ; 切り替え画面No.
JMP @M162                ; 幅検査判定
STG @M162                ; 幅検査判定
MPS
LD>=.L D4000 D4020       ; 吐出巾計測値　平均  吐出巾　判定最小値
AND>=.L D4030 D4000      ; 吐出巾　判定最大値  吐出巾計測値　平均
ANL
RES M4001                ; 塗布幅検査NG
CON
SET M4000                ; 塗布幅検査OK
CON
JMP @M157                ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
MPP
LD<.L D4000 D4020        ; 吐出巾計測値　平均  吐出巾　判定最小値
OR<.L D4030 D4000        ; 吐出巾　判定最大値  吐出巾計測値　平均
ANL
RES M4000                ; 塗布幅検査OK
CON
SET M4001                ; 塗布幅検査NG
CON
JMP @M163
STG @M163
MPS
LD B109C                 ; ﾘﾄﾗｲSW
ANB B109D                ; 終了SW
ANL
RES M4000                ; 塗布幅検査OK
CON
RES M4001                ; 塗布幅検査NG
CON
JMP @M164
MPP
LD B109D                 ; 終了SW
ANB B109C                ; ﾘﾄﾗｲSW
ANL
JMP @M157                ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
STG @M164
MPS
RES M1655                ; MUN:捨打ち_始業点検動作中
CON
DW K500 D12008           ; 切り替え画面No.
CON
ENDS
MPP
OUT M1785                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
STG @M157                ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
AND X12B                 ; ｶｯﾌﾟ置場浸漬側
JMP @M63                 ; 動作前確認
STG @M63                 ; 動作前確認
ANB M1700                ; RB 動作完了
ANB X100                 ; RB OUT 0  ALM
ANB X103                 ; RB OUT 3  BUSY
AND X106                 ; RB OUT 6  動作開始待ち
JMP @M64                 ; ﾉｽﾞﾙ待機位置移動
STG @M64                 ; ﾉｽﾞﾙ待機位置移動
OUT @M80                 ; ﾉｽﾞﾙ待機位置移動
CON
AND M1700                ; RB 動作完了
JMP @M65                 ; 動作前確認
STG @M65                 ; 動作前確認
ANB M1700                ; RB 動作完了
ANB X100                 ; RB OUT 0  ALM
ANB X103                 ; RB OUT 3  BUSY
AND X106                 ; RB OUT 6  動作開始待ち
JMP @M66                 ; ﾉｽﾞﾙ収納動作
STG @M66                 ; ﾉｽﾞﾙ収納動作
OUT @M84                 ; MNU:ﾉｽﾞﾙ収納動作
CON
AND M1700                ; RB 動作完了
JMP @M67                 ; ｼｬｯﾀｰﾛｯｸ解除
STG @M67                 ; ｼｬｯﾀｰﾛｯｸ解除
MPS
AND T1007                ; M/Cｼｬｯﾀｰﾛｯｸ 後退限
MPS
LD M4000                 ; 塗布幅検査OK
ANB M4001                ; 塗布幅検査NG
ANL
JMP @M68
MPP
LDB M4000                ; 塗布幅検査OK
AND M4001                ; 塗布幅検査NG
ANL
RES M4010                ; 始業点検完了
CON
RES M1655                ; MUN:捨打ち_始業点検動作中
CON
RES M4001                ; 塗布幅検査NG
CON
DW K1 D12008             ; 切り替え画面No.
CON
ENDS
MPP
OUT M1784                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
STG @M68
ANP B109E                ; 確認SW
DIFU M4011               ; ﾛｷﾞﾝｸﾞﾄﾘｶﾞ
CON
SET M4010                ; 始業点検完了
CON
RES M1655                ; MUN:捨打ち_始業点検動作中
CON
RES M4000                ; 塗布幅検査OK
CON
DW K1 D12008             ; 切り替え画面No.
CON
ENDS
LD M1700                 ; RB 動作完了
OUT M980
;Nozzle cleaning operation
LD M1958                 ; RB手動動作可能
ANP B1091                ; ﾉｽﾞﾙ洗浄動作PB
SET @M110                ; ﾉｽﾞﾙ洗浄動作開始
STG @M110                ; ﾉｽﾞﾙ洗浄動作開始
SET M1651                ; MUN:ﾉｽﾞﾙ洗浄動作中
CON
JMP @M111                ; ｼｬｯﾀｰﾛｯｸ
STG @M111                ; ｼｬｯﾀｰﾛｯｸ
MPS
LD T1006                 ; M/Cｼｬｯﾀｰﾛｯｸ 前進限
ANB X100                 ; RB OUT 0  ALM
ANB X103                 ; RB OUT 3  BUSY
AND X106                 ; RB OUT 6  動作開始待ち
ANL
JMP @M112                ; ﾉｽﾞﾙ洗浄動作
MPP
OUT M1756                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ
STG @M112                ; ﾉｽﾞﾙ洗浄動作
OUT @M74                 ; MNU:ﾉｽﾞﾙ洗浄動作
CON
AND M1700                ; RB 動作完了
JMP @M115                ; ｼｬｯﾀｰﾛｯｸ解除
STG @M115                ; ｼｬｯﾀｰﾛｯｸ解除
MPS
AND T1007                ; M/Cｼｬｯﾀｰﾛｯｸ 後退限
RES M1651                ; MUN:ﾉｽﾞﾙ洗浄動作中
CON
ENDS
MPP
OUT M1775                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
;Side 1 Coatong operation
LD M1958                 ; RB手動動作可能
AND T1120                ; ﾜｰｸ1　有り
ANP B1092                ; 1側塗布動作PB
SET @M120                ; 1側塗布動作開始
STG @M120                ; 1側塗布動作開始
SET M1652                ; MUN:1側塗布動作中
CON
JMP @M121                ; ｼｬｯﾀｰﾛｯｸ
STG @M121                ; ｼｬｯﾀｰﾛｯｸ
MPS
LD T1006                 ; M/Cｼｬｯﾀｰﾛｯｸ 前進限
ANB X100                 ; RB OUT 0  ALM
ANB X103                 ; RB OUT 3  BUSY
AND X106                 ; RB OUT 6  動作開始待ち
ANL
JMP @M122                ; 1側塗布動作
MPP
OUT M1757                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ
STG @M122                ; 1側塗布動作
SET @M76                 ; MNU:1側塗布動作
CON
ANB X106                 ; RB OUT 6  動作開始待ち
JMP @M123                ; 動作前確認
STG @M123                ; 動作前確認
AND X106                 ; RB OUT 6  動作開始待ち
ANB M1700                ; RB 動作完了
ANB X100                 ; RB OUT 0  ALM
MPS
ANB M25                  ; 吐出無し
JMP @M126                ; ｶｯﾌﾟｽﾗｲﾀﾞ捨打位置移動
MPP
AND M25                  ; 吐出無し
JMP @M129                ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
STG @M126                ; ｶｯﾌﾟｽﾗｲﾀﾞ捨打位置移動
AND X12A                 ; ｶｯﾌﾟ置場捨打ち側
JMP @M127
STG @M127
SET R62100               ; 手動吐出ON
CON
TMR K1060 E1030          ; 通常　吐出時間
CON
AND T1060
JMP @M128
STG @M128
RES R62100               ; 手動吐出ON
CON
SET R62115               ; 動作継続OK
CON
JMP @M129                ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
STG @M129                ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
AND M1700                ; RB 動作完了
RES @M76                 ; MNU:1側塗布動作
CON
JMP @M143
STG @M143
AND X12B                 ; ｶｯﾌﾟ置場浸漬側
ANB M1700                ; RB 動作完了
ANB X100                 ; RB OUT 0  ALM
ANB X103                 ; RB OUT 3  BUSY
AND X106                 ; RB OUT 6  動作開始待ち
RES R62115               ; 動作継続OK
CON
JMP @M124                ; ﾉｽﾞﾙ収納動作
STG @M124                ; ﾉｽﾞﾙ収納動作
OUT @M77                 ; MNU:ﾉｽﾞﾙ収納動作
CON
AND M1700                ; RB 動作完了
JMP @M125                ; ｼｬｯﾀｰﾛｯｸ解除
STG @M125                ; ｼｬｯﾀｰﾛｯｸ解除
MPS
AND T1007                ; M/Cｼｬｯﾀｰﾛｯｸ 後退限
RES M1652                ; MUN:1側塗布動作中
CON
ENDS
MPP
OUT M1776                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
;Side 2 Coatong operation
LD M1958                 ; RB手動動作可能
AND T1130                ; ﾜｰｸ2　有り
ANP B1093                ; 2側塗布動作PB
SET @M130                ; 2側塗布動作開始
STG @M130                ; 2側塗布動作開始
SET M1653                ; MUN:2側塗布動作中
CON
JMP @M131                ; ｼｬｯﾀｰﾛｯｸ
STG @M131                ; ｼｬｯﾀｰﾛｯｸ
MPS
LD T1006                 ; M/Cｼｬｯﾀｰﾛｯｸ 前進限
ANB X100                 ; RB OUT 0  ALM
ANB X103                 ; RB OUT 3  BUSY
AND X106                 ; RB OUT 6  動作開始待ち
ANL
JMP @M132                ; 2側塗布動作
MPP
OUT M1758                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ
STG @M132                ; 2側塗布動作
SET @M78                 ; MNU:2側塗布動作
CON
ANB X106                 ; RB OUT 6  動作開始待ち
JMP @M133                ; 動作前確認
STG @M133                ; 動作前確認
AND X106                 ; RB OUT 6  動作開始待ち
ANB M1700                ; RB 動作完了
ANB X100                 ; RB OUT 0  ALM
MPS
ANB M25                  ; 吐出無し
JMP @M136                ; ｶｯﾌﾟｽﾗｲﾀﾞ捨打位置移動
MPP
AND M25                  ; 吐出無し
JMP @M139                ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
STG @M136                ; ｶｯﾌﾟｽﾗｲﾀﾞ捨打位置移動
AND X12A                 ; ｶｯﾌﾟ置場捨打ち側
JMP @M137
STG @M137
SET R62100               ; 手動吐出ON
CON
TMR K1061 E1030          ; 通常　吐出時間
CON
AND T1061
JMP @M138
STG @M138
RES R62100               ; 手動吐出ON
CON
SET R62115               ; 動作継続OK
CON
JMP @M139                ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
STG @M139                ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
AND M1700                ; RB 動作完了
RES @M78                 ; MNU:2側塗布動作
CON
JMP @M144
STG @M144
AND X12B                 ; ｶｯﾌﾟ置場浸漬側
ANB M1700                ; RB 動作完了
ANB X100                 ; RB OUT 0  ALM
ANB X103                 ; RB OUT 3  BUSY
AND X106                 ; RB OUT 6  動作開始待ち
RES R62115               ; 動作継続OK
CON
JMP @M134                ; ﾉｽﾞﾙ収納動作
STG @M134                ; ﾉｽﾞﾙ収納動作
OUT @M79                 ; MNU:ﾉｽﾞﾙ収納動作
CON
AND M1700                ; RB 動作完了
JMP @M135                ; ｼｬｯﾀｰﾛｯｸ解除
STG @M135                ; ｼｬｯﾀｰﾛｯｸ解除
MPS
AND T1007                ; M/Cｼｬｯﾀｰﾛｯｸ 後退限
RES M1653                ; MUN:2側塗布動作中
CON
ENDS
MPP
OUT M1777                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
;Coating width check
LD M1958                 ; RB手動動作可能
ANP B109A                ; 塗布幅検査
SET @M140                ; 塗布幅検査開始
STG @M140                ; 塗布幅検査開始
SET M1654                ; MUN:塗布幅検査中
CON
JMP @M141                ; 塗布幅検査
STG @M141                ; 塗布幅検査
OUT @M97                 ; 塗布幅確認ﾓｰﾄﾞ起動　(MANUAL)
CON
AND M1907                ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝ完了
JMP @M142
STG @M142
ANB M1907                ; ﾕﾆｯﾄ1ｻﾌﾞﾙｰﾁﾝ完了
RES M1654                ; MUN:塗布幅検査中
CON
ENDS
;ｼｬｯﾀｰﾛｯｸｼﾘﾝﾀﾞ
;Shutter lock cylinder
LD CR2002                ; 常時ON
MPS
AND B1082                ; ｼｬｯﾀﾛｯｸPB
OUT M1620                ; 手動：ｼｬｯﾀﾛｯｸ
MPP
AND B1083                ; ｼｬｯﾀﾛｯｸ解除PB
OUT M1621                ; 手動：ｼｬｯﾀﾛｯｸ解除
;吐出
;Discharge
LD B1098                 ; 吐出 ON PB
LD M1655                 ; MUN:捨打ち_始業点検動作中
AND @M85                 ; MNU:捨打ち_始業点検動作
ORL
LDB M1655                ; MUN:捨打ち_始業点検動作中
AND @M87                 ; 捨打ち動作
ORL
OR M1436                 ; 捨て出し
ANB X12B                 ; ｶｯﾌﾟ置場浸漬側
AND X12A                 ; ｶｯﾌﾟ置場捨打ち側
AND X122                 ; 捨て打ちｶｯﾌﾟ検出
AND= D110 K16            ; RB　受付動作No.
ANB X103                 ; RB OUT 3  BUSY
ANB M25                  ; 吐出無し
OUT R62015               ; RB IN 15 手動:吐出ﾊﾞﾙﾌﾞON
;Nozzle cleaning air
LD B1097                 ; 洗浄 ON PB
OUT R62110               ; ﾉｽﾞﾙ洗浄ﾊﾞﾙﾌﾞ ON
MCR
LD @M86                  ; 捨打ち_塗布幅検査
ANB X12B                 ; ｶｯﾌﾟ置場浸漬側
AND X12A                 ; ｶｯﾌﾟ置場捨打ち側
AND X122                 ; 捨て打ちｶｯﾌﾟ検出
AND= D110 K16            ; RB　受付動作No.
ANB X103                 ; RB OUT 3  BUSY
ANB M25                  ; 吐出無し
OUT R62101               ; RB IN 15 手動:吐出ﾊﾞﾙﾌﾞON
;<h1/>出力回路
;RB
;Operation
LDB @M40                 ; 1側塗布動作
ANB @M47                 ; 1側塗布動作
ANB @M76                 ; MNU:1側塗布動作
INV
@MOV D102 D100           ; 1側塗布指示Prog.No.  RB　指示動作No.
OUT @M20                 ; RB 1側塗布動作 起動
LDB @M41                 ; 2側塗布動作
ANB @M48                 ; 2側塗布動作
ANB @M78                 ; MNU:2側塗布動作
INV
@MOV D104 D100           ; 2側塗布指示Prog.No.  RB　指示動作No.
OUT @M21                 ; RB 2側塗布動作 起動
LD @M152                 ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
OR @M157                 ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
OR M1437                 ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
OR @M129                 ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
OR R62106                ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
OR R62108                ; ｶｯﾌﾟｽﾗｲﾀﾞ浸漬位置移動
RES Y214                 ; ｶｯﾌﾟ置場捨打ち側
CON
SET Y215                 ; ｶｯﾌﾟ置場浸漬側
LDB @M42                 ; ﾉｽﾞﾙ浸漬動作
ANB @M70                 ; MNU:浸漬位置移動
ANB @M73                 ; MNU:ﾉｽﾞﾙ収納動作
ANB @M75                 ; MNU:ﾉｽﾞﾙ収納動作
ANB @M77                 ; MNU:ﾉｽﾞﾙ収納動作
ANB @M79                 ; MNU:ﾉｽﾞﾙ収納動作
ANB @M82                 ; 原点復帰
ANB @M84                 ; MNU:ﾉｽﾞﾙ収納動作
INV
AND X12B                 ; ｶｯﾌﾟ置場浸漬側
@MOV K15 D100            ; RB　指示動作No.
OUT @M22                 ; RB ﾉｽﾞﾙ収納動作 起動
LDB @M44                 ; ﾉｽﾞﾙ浸漬動作
ANB @M50                 ; ﾉｽﾞﾙ浸漬動作（強制）
ANB @M52                 ; ﾉｽﾞﾙ浸漬動作
ANB @M53                 ; ﾉｽﾞﾙ浸漬動作（強制）
ANB @M54                 ; ﾉｽﾞﾙ浸漬動作（強制）
ANB @M55                 ; ﾉｽﾞﾙ浸漬動作（強制）
INV
AND X12B                 ; ｶｯﾌﾟ置場浸漬側
@MOV K15 D100            ; RB　指示動作No.
OUT M1708                ; RB強制収納動作
LD @M151                 ; ｶｯﾌﾟｽﾗｲﾀﾞ捨打位置移動
OR @M156                 ; ｶｯﾌﾟｽﾗｲﾀﾞ捨打位置移動
OR M1435                 ; ｶｯﾌﾟｽﾗｲﾀﾞ捨打位置移動
OR @M126                 ; ｶｯﾌﾟｽﾗｲﾀﾞ捨打位置移動
OR R62105                ; ｶｯﾌﾟｽﾗｲﾀﾞ捨打位置移動
OR R62107                ; ｶｯﾌﾟｽﾗｲﾀﾞ捨打位置移動
RES Y215                 ; ｶｯﾌﾟ置場浸漬側
CON
SET Y214                 ; ｶｯﾌﾟ置場捨打ち側
LDB @M74                 ; MNU:ﾉｽﾞﾙ洗浄動作
INV
@MOV K31 D100            ; RB　指示動作No.
OUT @M24                 ; RB ﾉｽﾞﾙ洗浄動作 起動
LDB @M71                 ; MNU:捨打位置移動
ANB @M145                ; 捨出し位置移動
ANB @M81                 ; MNU:捨打位置移動
ANB @M83                 ; MNU:捨打位置移動
INV
@MOV K16 D100            ; RB　指示動作No.
OUT @M25                 ; RB 捨打ち位置移動 
LDB @M43                 ; ﾉｽﾞﾙ待機位置
ANB @M49                 ; ﾉｽﾞﾙ待機位置移動
ANB @M51                 ; ﾉｽﾞﾙ待機位置移動
ANB @M80                 ; ﾉｽﾞﾙ待機位置移動
INV
@MOV K47 D100            ; RB　指示動作No.
OUT @M26                 ; RB 待機位置移動
LDB @M20                 ; RB 1側塗布動作 起動
ANB @M21                 ; RB 2側塗布動作 起動
ANB @M22                 ; RB ﾉｽﾞﾙ収納動作 起動
ANB @M23                 ; RB 捨て打ち動作 起動
ANB @M24                 ; RB ﾉｽﾞﾙ洗浄動作 起動
ANB @M25                 ; RB 捨打ち位置移動 
ANB @M26                 ; RB 待機位置移動
ANB M1708                ; RB強制収納動作
INV
MC
LD CR2002                ; 常時ON
MPS
AND @T0                  ; RB起動ﾃﾞｨﾚｲ
OUT M1702                ; RB 動作中
MPP
TMH @0 K3                ; RB起動ﾃﾞｨﾚｲ
LD M1702                 ; RB 動作中
AND X107                 ; RB OUT 7  動作完了
AND= D100 D110           ; RB　指示動作No.  RB　受付動作No.
OUT M1700                ; RB 動作完了
MCR
;HOME
LDB @M90                 ; RB原点復帰動作
ANB @M91
INV
MC
LD CR2002                ; 常時ON
@MOV K0 D100             ; RB　指示動作No.
MPS
AND @T1                  ; 原点復帰起動ﾃﾞｨﾚｲ
MPS
OUT M1706                ; RB 原点復帰中
MPP
LDB X104                 ; RB OUT 4  原点復帰完了
OR M1707                 ; 原点復帰開始確認
ANL
OUT M1707                ; 原点復帰開始確認
MPP
TMH @1 K20               ; 原点復帰起動ﾃﾞｨﾚｲ
LD M1706                 ; RB 原点復帰中
AND M1707                ; 原点復帰開始確認
AND X104                 ; RB OUT 4  原点復帰完了
AND= D110 K0             ; RB　受付動作No.
OUT M1704                ; RB 原点復帰完了
MCR
;ﾏｼﾝｼｬｯﾀｰﾛｯｸｼﾘﾝﾀﾞ
;Shutter lock cylinder
LDPB M1751               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ
ANPB M1752               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ
ANPB M1753               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ
ANPB M1754               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ
ANPB M1755               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ
ANPB M1756               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ
ANPB M1757               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ
ANPB M1758               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ
ANPB M1620               ; 手動：ｼｬｯﾀﾛｯｸ
ANB M1750                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ補助
ANB M1759                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ
INV
ANPB M1770               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除補助
OUT M1750                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ補助
LDPB M1771               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
ANPB M1771               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
ANPB M1772               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
ANPB M1773               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
ANPB M1774               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
ANPB M1775               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
ANPB M1776               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
ANPB M1777               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
ANPB M1778               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
ANPB M1779               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
ANPB M1780               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
ANPB M1781               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
ANPB M1621               ; 手動：ｼｬｯﾀﾛｯｸ解除
ANB M65                  ; 即停止異常(緊急停止)
ANPB M1784               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
ANPB M1785               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
ANPB M1782               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除
INV
ANPB M1750               ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ補助
OUT M1770                ; ﾏｼﾝｼｬｯﾀｰ ﾛｯｸ解除補助
;<h1/>異常検出
;
LD CR2002                ; 常時ON
MPS
LD T190                  ; ﾊﾟﾚｯﾄID  不一致　  (AUTO)
OR T191                  ; ﾊﾟﾚｯﾄID  不一致　  (幅点検)
LDB B0520                ; ﾕﾆｯﾄ1_異常1BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B020                 ; ﾊﾟﾚｯﾄID異常
ORL
ANL
OUT B020                 ; ﾊﾟﾚｯﾄID異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0520                 ; ﾕﾆｯﾄ1_異常1BZ停止
AND B020                 ; ﾊﾟﾚｯﾄID異常
ANL
OUT B0520                ; ﾕﾆｯﾄ1_異常1BZ停止
LD T1000                 ; 装置電源入
MPS
LD T198                  ; 監視開始ﾃﾞｨﾚｲ
LD X100                  ; RB OUT 0  ALM
ORB X102                 ; RB OUT 2  EMG
ANL
ANB M404                 ; RB IN 1  ｿﾌﾄﾘｾｯﾄ
ANB M66                  ; 主幹異常(ｻｲｸﾙ停止)
ANL
TMR K192 K10             ; RB異常
MRD
LD Y52                   ; RB Power ON
ANB Y57                  ; ﾒｲﾝ ﾊﾟﾜｰ OFF
ANL
TMR K198 K70             ; 監視開始ﾃﾞｨﾚｲ
MRD
LD T192                  ; RB異常
LDB B0521                ; ﾕﾆｯﾄ1_異常2BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B021                 ; RBｱﾗｰﾑ
ORL
ANL
OUT B021                 ; RBｱﾗｰﾑ
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0521                 ; ﾕﾆｯﾄ1_異常2BZ停止
AND B021                 ; RBｱﾗｰﾑ
ANL
OUT B0521                ; ﾕﾆｯﾄ1_異常2BZ停止
LD T1000                 ; 装置電源入
MPS
LD T193                  ; ﾉｽﾞﾙIN側圧力上限異常
LDB B0522                ; ﾕﾆｯﾄ1_異常3BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B022                 ; ﾉｽﾞﾙIN側圧力上限異常
ORL
ANB Y57                  ; ﾒｲﾝ ﾊﾟﾜｰ OFF
ANL
OUT B022                 ; ﾉｽﾞﾙIN側圧力上限異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0522                 ; ﾕﾆｯﾄ1_異常3BZ停止
AND B022                 ; ﾉｽﾞﾙIN側圧力上限異常
ANL
OUT B0522                ; ﾕﾆｯﾄ1_異常3BZ停止
LD T1000                 ; 装置電源入
MPS
LD T194                  ; ﾉｽﾞﾙIN側圧力下限異常
LDB B0523                ; ﾕﾆｯﾄ1_異常4BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B023                 ; ﾉｽﾞﾙIN側圧力下限異常
ORL
ANB Y57                  ; ﾒｲﾝ ﾊﾟﾜｰ OFF
ANL
OUT B023                 ; ﾉｽﾞﾙIN側圧力下限異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0523                 ; ﾕﾆｯﾄ1_異常4BZ停止
AND B023                 ; ﾉｽﾞﾙIN側圧力下限異常
ANL
OUT B0523                ; ﾕﾆｯﾄ1_異常4BZ停止
LD T1000                 ; 装置電源入
MPS
LD T195                  ; ﾉｽﾞﾙOUT側圧力上限異常
LDB B0524                ; ﾕﾆｯﾄ1_異常5BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B024                 ; ﾉｽﾞﾙOUT側圧力上限異常
ORL
ANB Y57                  ; ﾒｲﾝ ﾊﾟﾜｰ OFF
ANL
OUT B024                 ; ﾉｽﾞﾙOUT側圧力上限異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0524                 ; ﾕﾆｯﾄ1_異常5BZ停止
AND B024                 ; ﾉｽﾞﾙOUT側圧力上限異常
ANL
OUT B0524                ; ﾕﾆｯﾄ1_異常5BZ停止
LD T1000                 ; 装置電源入
MPS
LD T196                  ; ﾉｽﾞﾙOUT側圧力下限異常
LDB B0525                ; ﾕﾆｯﾄ1_異常6BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B025                 ; ﾉｽﾞﾙOUT側圧力下限異常
ORL
ANB Y57                  ; ﾒｲﾝ ﾊﾟﾜｰ OFF
ANL
OUT B025                 ; ﾉｽﾞﾙOUT側圧力下限異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0525                 ; ﾕﾆｯﾄ1_異常6BZ停止
AND B025                 ; ﾉｽﾞﾙOUT側圧力下限異常
ANL
OUT B0525                ; ﾕﾆｯﾄ1_異常6BZ停止
LD T1000                 ; 装置電源入
MPS
LDB X124                 ; ｺｰﾃｨﾝｸﾞ材温度適温
ANB M26                  ; ﾋｰﾀｰ無し
AND M82                  ; 自動運転開始
ANB Y57                  ; ﾒｲﾝ ﾊﾟﾜｰ OFF
ANL
TMH K197 K30             ; ｺｰﾃｨﾝｸﾞ剤温度適温外異常
MRD
LD T197                  ; ｺｰﾃｨﾝｸﾞ剤温度適温外異常
LDB B0526                ; ﾕﾆｯﾄ1_異常7BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B026                 ; ｺｰﾃｨﾝｸﾞ剤温度適温外異常
ORL
ANL
OUT B026                 ; ｺｰﾃｨﾝｸﾞ剤温度適温外異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0526                 ; ﾕﾆｯﾄ1_異常7BZ停止
AND B026                 ; ｺｰﾃｨﾝｸﾞ剤温度適温外異常
ANL
OUT B0526                ; ﾕﾆｯﾄ1_異常7BZ停止
LD CR2002                ; 常時ON
MPS
LD T189                  ; ﾎﾟﾝﾌﾟ駆動ｴｱOFF
LDB B0527                ; ﾕﾆｯﾄ1_異常8BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B027                 ; 樹脂循環圧力異常
ORL
ANL
OUT B027                 ; 樹脂循環圧力異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0527                 ; ﾕﾆｯﾄ1_異常8BZ停止
AND B027                 ; 樹脂循環圧力異常
ANL
OUT B0527                ; ﾕﾆｯﾄ1_異常8BZ停止
LD T1000                 ; 装置電源入
MPS
LD B3010                 ; DL-EP1[1]ｴﾗｰ[1]
OR B3020                 ; DL-EP1[1]ﾜｰﾆﾝｸﾞ[1]
LDB B052B                ; ﾕﾆｯﾄ1_異常12BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B02B                 ; 吐出幅ﾚｰｻﾞｾﾝｻ異常
ORL
ANB Y57                  ; ﾒｲﾝ ﾊﾟﾜｰ OFF
ANL
OUT B02B                 ; 吐出幅ﾚｰｻﾞｾﾝｻ異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B052B                 ; ﾕﾆｯﾄ1_異常12BZ停止
AND B02B                 ; 吐出幅ﾚｰｻﾞｾﾝｻ異常
ANL
OUT B052B                ; ﾕﾆｯﾄ1_異常12BZ停止
LD T1000                 ; 装置電源入
MPS
LD T200                  ; 塗布流量異常
LDB B052C                ; ﾕﾆｯﾄ1_異常13BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B02C                 ; ｺｰﾃｨﾝｸﾞ剤流量異常
ORL
ANB Y57                  ; ﾒｲﾝ ﾊﾟﾜｰ OFF
ANL
OUT B02C                 ; ｺｰﾃｨﾝｸﾞ剤流量異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B052C                 ; ﾕﾆｯﾄ1_異常13BZ停止
AND B02C                 ; ｺｰﾃｨﾝｸﾞ剤流量異常
ANL
OUT B052C                ; ﾕﾆｯﾄ1_異常13BZ停止
;異常ﾌﾞｻﾞｰまとめ
LDB B020                 ; ﾊﾟﾚｯﾄID異常
OR B0520                 ; ﾕﾆｯﾄ1_異常1BZ停止
LDB B021                 ; RBｱﾗｰﾑ
OR B0521                 ; ﾕﾆｯﾄ1_異常2BZ停止
ANL
LDB B022                 ; ﾉｽﾞﾙIN側圧力上限異常
OR B0522                 ; ﾕﾆｯﾄ1_異常3BZ停止
ANL
LDB B023                 ; ﾉｽﾞﾙIN側圧力下限異常
OR B0523                 ; ﾕﾆｯﾄ1_異常4BZ停止
ANL
LDB B024                 ; ﾉｽﾞﾙOUT側圧力上限異常
OR B0524                 ; ﾕﾆｯﾄ1_異常5BZ停止
ANL
LDB B025                 ; ﾉｽﾞﾙOUT側圧力下限異常
OR B0525                 ; ﾕﾆｯﾄ1_異常6BZ停止
ANL
LDB B026                 ; ｺｰﾃｨﾝｸﾞ剤温度適温外異常
OR B0526                 ; ﾕﾆｯﾄ1_異常7BZ停止
ANL
LDB B027                 ; 樹脂循環圧力異常
OR B0527                 ; ﾕﾆｯﾄ1_異常8BZ停止
ANL
LDB B02B                 ; 吐出幅ﾚｰｻﾞｾﾝｻ異常
OR B052B                 ; ﾕﾆｯﾄ1_異常12BZ停止
ANL
LDB B02C                 ; ｺｰﾃｨﾝｸﾞ剤流量異常
OR B052C                 ; ﾕﾆｯﾄ1_異常13BZ停止
ANL
INV
OUT M1909                ; ﾕﾆｯﾄ1異常BZ補助
;ﾉｽﾞﾙ浸漬監視
;Nozzle immersion check
LD CR2002                ; 常時ON
MPS
LD M1925                 ; Err325:ﾉｽﾞﾙ浸漬要求
OR M235                  ; ﾉｽﾞﾙ浸漬要求記憶
ANB T69                  ; ﾉｽﾞﾙ浸漬要求間隔
ANL
OUT M235                 ; ﾉｽﾞﾙ浸漬要求記憶
TMR K69 K1200            ; ﾉｽﾞﾙ浸漬要求間隔
MPP
LDB M71                  ; All Error PAUSE
ANB M235                 ; ﾉｽﾞﾙ浸漬要求記憶
AND M103                 ; 原点復帰OK
ANB M81                  ; 自動運転開始BZ
ANB M97                  ; 原点復帰動作中
AND<> D110 K15           ; RB　受付動作No.
AND<.D D412 D400         ; 浸漬予定時間  現在時刻secﾃﾞｰﾀ
AND M1957                ; RB強制収納動作可能
ANL
@SET @M200               ; ｴﾗｰ解除監視開始
CON
DW K325 D148             ; 警報No.
CON
SET M1925                ; Err325:ﾉｽﾞﾙ浸漬要求
STG @M200                ; ｴﾗｰ解除監視開始
MPS
ANB M1925                ; Err325:ﾉｽﾞﾙ浸漬要求
ENDS
MPP
AND M1925                ; Err325:ﾉｽﾞﾙ浸漬要求
TMR @2 K1200             ; 強制収納開始ｳｪｲﾄ
CON
AND @T2                  ; 強制収納開始ｳｪｲﾄ
AND M1957                ; RB強制収納動作可能
JMP @M201                ; 強制収納
STG @M201                ; 強制収納
MPS
OUT @M55                 ; ﾉｽﾞﾙ浸漬動作（強制）
MPP
AND M1700                ; RB 動作完了
ENDS
LD B1004                 ; 塗布幅点検有効
SET L405                 ; 塗布幅点検有効/無効
LD B1005                 ; 塗布幅点検無効
RES L405                 ; 塗布幅点検有効/無効
;塗布幅  読取り
LDP M4005                ; 幅ｾﾝｻ読み取り中
DW K0 D4100              ; 流量計測値平均
CON
DW.L +0 D4000            ; 吐出巾計測値　平均
CON
DW K0 Z1
CON
DW K0 Z2
LD M4005                 ; 幅ｾﾝｻ読み取り中
AND CR2004               ; 10msｸﾛｯｸﾊﾟﾙｽ
MPS
MEP
MOV.L W1004 E10000:Z2    ; DL-EP1[1]判定値(P.V.値)[1]
MRD
MEP
MOV W1055 E20000:Z1      ; NU-EP1[2]瞬時流量値[1]
MRD
@INC Z1
CON
@INC Z2
CON
@INC Z2
MPP
MEP
AVG E20000 Z1
CON
STA D4100                ; 流量計測値平均
CON
AVG.L E10000 Z1
CON
STA.L D4000              ; 吐出巾計測値　平均
END
ENDH
