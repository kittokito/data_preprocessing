DEVICE:53
;MODULE:UT16_Cover_Scrw_RB
;MODULE_TYPE:0
;□□　　入力受け　　□□
LD X1498                 ; ﾈｼﾞ締め2ｸﾗﾝﾌﾟ閉端
TMR K1610 K3             ; ﾈｼﾞ締2ｸﾗﾝﾌﾟ閉端
LD X1499                 ; ﾈｼﾞ締め2ｸﾗﾝﾌﾟ開端
TMR K1611 K3             ; ﾈｼﾞ締2ｸﾗﾝﾌﾟ開端
;ﾈｼﾞ供給ﾕﾆｯﾄ
LD X147D                 ; ﾈｼﾞ供給2ﾈｼﾞ確認
LD CR2003                ; 常時OFF
ANB T1613                ; ﾈｼﾞ供給2ﾈｼﾞ無検出ｳｪｲﾄ
ORL
TMH K1612 K30            ; ﾈｼﾞ供給2ﾈｼﾞ検出
LDB X147D                ; ﾈｼﾞ供給2ﾈｼﾞ確認
TMH K1613 K20            ; ﾈｼﾞ供給2ﾈｼﾞ無検出ｳｪｲﾄ
LD X147F                 ; ﾈｼﾞ供給2切出端
TMH K1614 K30            ; ﾈｼﾞ供給2ｴｽｹｰﾌﾟ切出側端
LD X147E                 ; ﾈｼﾞ供給2切出戻端
TMH K1615 K30            ; ﾈｼﾞ供給2ｴｽｹｰﾌﾟORG側端
LD X149A                 ; ﾈｼﾞ供給2ﾎｯﾊﾟ上昇端
TMH K1617 K5             ; ﾈｼﾞ供給2ﾎｯﾊﾟ上昇端
LD X149B                 ; ﾈｼﾞ供給2ﾎｯﾊﾟ下降端
TMH K1618 K50            ; ﾈｼﾞ供給2ﾎｯﾊﾟ下降端
LD Y252B                 ; ﾈｼﾞ供給2ｽﾗｲﾄﾞﾛｯｸ
AND X149E                ; ﾈｼﾞ供給2ﾕﾆｯﾄ戻確認
TMH K1619 K2             ; ﾈｼﾞ供給2ﾛｯｸ確認ﾃﾞｨﾚｲ
;■ロボット等機器入力受け
LD CR2002                ; 常時ON
PMOV X3970 K0 D8524 K0 K8; Screw_RB2_Posi_1  Screwe RB  ﾈｼﾞ締め箇所 No.
PMOV X3978 K0 D8525 K0 K8; Screw_RB2_ERR_Code_1  Screwe RB  ﾈｼﾞ締めｴﾗｰｺｰﾄﾞ
;□ ﾕﾆｯﾄ原点
LD T1611                 ; ﾈｼﾞ締2ｸﾗﾝﾌﾟ開端
ANB X3921                ; Screw_RB2_RUN
AND X3923                ; Screw_RB2_SV_ON
AND X3924                ; Screw_RB2_Ready
AND X3925                ; Screw_RB2_Auto
AND X3926                ; Screw_RB2_EXT
ANB X3928                ; Screw_RB2_Worning
AND X3986                ; Screw_RB2_ORG
AND X396F                ; Screw_RB2_Area1(ORG)
OUT M8980                ; ﾕﾆｯﾄ16原点
;□ 非常停止
LDB CR2003               ; 常時OFF
INV
OUT M8981                ; ﾕﾆｯﾄ16全異常
;□ 起動条件
LD M6980                 ; ﾕﾆｯﾄ12原点
OUT M8982                ; ﾕﾆｯﾄ16起動条件
;□ 起動OFF
LDB M50                  ; 運転準備
OR M8986                 ; ﾕﾆｯﾄ16ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M8983                ; ﾕﾆｯﾄ16起動OFF
;□ 原点復帰
LD M82                   ; 原点復帰開始
LDP B126B                ; UNIT16-1-12 TP-PB
AND M31                  ; 手動ﾓｰﾄﾞ
ANB M82                  ; 原点復帰開始
ANB M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
ORL
ANB M8984                ; ﾕﾆｯﾄ16原点復帰中
OR M8984                 ; ﾕﾆｯﾄ16原点復帰中
ANB M8983                ; ﾕﾆｯﾄ16起動OFF
ANB M8991                ; ﾕﾆｯﾄ16ｴﾗｰ発生
ANB M8799                ; ﾕﾆｯﾄ12原点終了
OUT M8984                ; ﾕﾆｯﾄ16原点復帰中
;□ 起動中
LD M73                   ; 各工程起動指令
AND M3108                ; ｶﾊﾞｰﾈｼﾞ締め作業開始
ANB M130                 ; 全体PAUSE
LD M31                   ; 手動ﾓｰﾄﾞ
AND M32                  ; ﾒｲﾝ手動操作可能条件
AND CR2003               ; 常時OFF
ORL
AND M8982                ; ﾕﾆｯﾄ16起動条件
OR M8985                 ; ﾕﾆｯﾄ16起動中
ANB M8983                ; ﾕﾆｯﾄ16起動OFF
ANB M8549                ; ﾕﾆｯﾄ12-1ｻｲｸﾙ停止
OUT M8985                ; ﾕﾆｯﾄ16起動中
;□ ｻｲｸﾙ停止異常
LDB B0200                ; COVﾈｼﾞ締RB原点復帰時ﾈｼﾞ排出異常
ANB B0201                ; COVﾈｼﾞ締RB原点復帰時ｴﾘｱ外
ANB B0205                ; ｶﾊﾞｰﾈｼﾞ締RB異常
INV
OUT M8986                ; ﾕﾆｯﾄ16ｻｲｸﾙ停止異常
;□ 払出停止異常
LDB CR2003               ; 常時OFF
INV
OUT M8987                ; ﾕﾆｯﾄ16払出停止異常
;□ 警報補助
LDB B0207                ; COVﾈｼﾞ供給引掛かり異常
OR B0707
LDB B0208                ; COVﾈｼﾞ供給ﾈｼﾞ取出不良
OR B0708
ANL
LDB B0209                ; COVﾈｼﾞ供給切出位置ﾈｼﾞ残
OR B0709
ANL
LDB B020A                ; ﾈｼﾞ供給2切出引掛りｴﾗｰ
OR B070A
ANL
LDB B020D                ; ﾈｼﾞ不足供給要求
OR B070D
ANL
INV
OUT M8988                ; ﾕﾆｯﾄ16警報補助
;□ 機器準備確認
LDB X3921                ; Screw_RB2_RUN
AND X3923                ; Screw_RB2_SV_ON
AND X3924                ; Screw_RB2_Ready
AND X3925                ; Screw_RB2_Auto
AND X3926                ; Screw_RB2_EXT
ANB X3928                ; Screw_RB2_Worning
OUT M8990                ; ﾕﾆｯﾄ16機器準備完了
;□ ｴﾗｰ発生　一時停止
LDB B0202                ; COVﾈｼﾞ供給切出側ｼﾘﾝﾀﾞ異常
ANB B0203                ; COVﾈｼﾞ供給原点側ｼﾘﾝﾀﾞ異常
ANB B0206                ; COVﾈｼﾞ締押さえ異常
ANB B020C                ; ｶﾊﾞｰﾎｯﾊﾟｰｼﾘﾝﾀﾞ異常
INV
OUT M8991                ; ﾕﾆｯﾄ16ｴﾗｰ発生
;□ 動作中ﾕﾆｯﾄ無し
LD M130                  ; 全体PAUSE
LD M8510                 ; ﾈｼﾞ締めｸﾗﾝﾌﾟ閉
OR M8610                 ; ﾈｼﾞ供給2ﾈｼﾞ到着ｴｽｹｰﾌﾟ送
OR M8622                 ; ﾈｼﾞ供給2ｴｽｹｰﾌﾟ戻り
ANL
ORB M8985                ; ﾕﾆｯﾄ16起動中
ANB M8984                ; ﾕﾆｯﾄ16原点復帰中
TMR K1601 K30            ; ﾕﾆｯﾄ16動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D8500 D8505          ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ16動作中判定
LD T1601                 ; ﾕﾆｯﾄ16動作無し判定ﾀｲﾏ
OUT M8992                ; ﾕﾆｯﾄ16動作無し確認
;□ 払出しﾜｰｸ無し
LD CR2002                ; 常時ON
MPS
WSUM D16800 K80          ; UT16ﾌﾚｰﾑ投入ﾊﾟﾚｯﾄID
CON
STA D8570                ; ｶﾊﾞｰﾈｼﾞ締めﾜｰｸ情報(ﾜｰｸ有無)
MPP
LD= D8570 K0             ; ｶﾊﾞｰﾈｼﾞ締めﾜｰｸ情報(ﾜｰｸ有無)
AND X1482                ; ｶﾊﾞｰﾈｼﾞ締めﾜｰｸ確認
ANL
TMR K1605 K10            ; UNIT16払出処理ﾜｰｸ無し
LD T1605                 ; UNIT16払出処理ﾜｰｸ無し
OUT M8993                ; ﾕﾆｯﾄ16ﾜｰｸ無し
;□ ｽﾃｯﾌﾟ起動
LD M30                   ; 自動ﾓｰﾄﾞ
LD M31                   ; 手動ﾓｰﾄﾞ
AND CR2003               ; 常時OFF
ORL
OUT M8979                ; ﾕﾆｯﾄ16ｽﾃｯﾌﾟ動作
;□□□□□□□□□□□□□□□
;□　　 　UNIT16自動回路 　　□
;□□□□□□□□□□□□□□□
;<h1/>■自動回路 
;ﾈｼﾞ締ﾛﾎﾞｯﾄ
LD CR2002                ; 常時ON
ZRES M8500 M8549         ; ﾕﾆｯﾄ16-1ｽﾃｯﾌﾟ開始  ﾕﾆｯﾄ12-1ｻｲｸﾙ停止
LDB M8985                ; ﾕﾆｯﾄ16起動中
MOV K0 D8500             ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
DW K0 D8700              ; UT16 main STEP monitor
LD M8985                 ; ﾕﾆｯﾄ16起動中
MOV D8500 Z1             ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
SET M8500:Z1             ; ﾕﾆｯﾄ16-1ｽﾃｯﾌﾟ開始
CAL+ D8500 K8500 D8700   ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ  UT16 main STEP monitor
;<h1/>/ ﾈｼﾞ締め自動
;Screw RB Operation
;ﾜｰｸ有無判定
LD M8500                 ; ﾕﾆｯﾄ16-1ｽﾃｯﾌﾟ開始
MPS
LDB X1482                ; ｶﾊﾞｰﾈｼﾞ締めﾜｰｸ確認
AND<> D16831 K0          ; UT16COVﾈｼﾞ締めﾛﾎﾞｯﾄNo.
ANL
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
MPP
LD X1482                 ; ｶﾊﾞｰﾈｼﾞ締めﾜｰｸ確認
OR= D16831 K0            ; UT16COVﾈｼﾞ締めﾛﾎﾞｯﾄNo.
ANL
MOV K43 D8500            ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
;ﾜｰｸ情報確認(OK or NG品)
LD M8501                 ; ﾜｰｸ有確認
MPS
AND= D16862 K1           ; UT16ﾜｰｸOK/NGﾃﾞｰﾀ
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
MPP
LD= D16862 K0            ; UT16ﾜｰｸOK/NGﾃﾞｰﾀ
OR= D16862 K2            ; UT16ﾜｰｸOK/NGﾃﾞｰﾀ
ANL
MOV K43 D8500            ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
;作業開始
LD M8502                 ; 作業有確認
AND W0104.10             ; ｶﾊﾞｰﾈｼﾞ締め開始
AND W04.10               ; ｶﾊﾞｰﾈｼﾞ締め受付信号
ANB M8991                ; ﾕﾆｯﾄ16ｴﾗｰ発生
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
;処理有効･無効判定(ﾃﾞﾊﾞｯｸﾞﾓｰﾄﾞ)
LD M8503                 ; 処理有効･無効判定
MPS
ANB W08.13               ; ｶﾊﾞｰﾈｼﾞ締め無効
MOV K10 D8500            ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
MPP
AND W08.13               ; ｶﾊﾞｰﾈｼﾞ締め無効
MOV K40 D8500            ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
;<h1/>/ ﾈｼﾞ締め開始
;Screw RB Operation
;ﾜｰｸｸﾗﾝﾌﾟ
LD M8510                 ; ﾈｼﾞ締めｸﾗﾝﾌﾟ閉
AND T1610                ; ﾈｼﾞ締2ｸﾗﾝﾌﾟ閉端
ANB M8991                ; ﾕﾆｯﾄ16ｴﾗｰ発生
ANB M130                 ; 全体PAUSE
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
;設定初期化
;Setting initialization
LD M8511                 ; ﾈｼﾞ締めｸﾗﾝﾌﾟ閉確認
ANB M8991                ; ﾕﾆｯﾄ16ｴﾗｰ発生
@MOV K0 D8521            ; Screwe RB  Type No.
@MOV K0 D8522            ; Screwe RB  PLT No.
@MOV K0 D8523            ; Screwe RB  Screw No.
@MOV K0 D8550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K0 D8551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
@MOV K0 D8552            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
LD M8511                 ; ﾈｼﾞ締めｸﾗﾝﾌﾟ閉確認
ANB M8991                ; ﾕﾆｯﾄ16ｴﾗｰ発生
FMOV K0 D8531 K5         ; ﾈｼﾞ締めPOS.1-1 ｴﾗｰｺｰﾄﾞ
@FMOV K0 D20449 K5       ; ｶﾊﾞｰﾈｼﾞ締め1回目ﾄﾙｸ値
LD M8511                 ; ﾈｼﾞ締めｸﾗﾝﾌﾟ閉確認
ANB M8991                ; ﾕﾆｯﾄ16ｴﾗｰ発生
AND= D8531 K0            ; ﾈｼﾞ締めPOS.1-1 ｴﾗｰｺｰﾄﾞ
AND= D8532 K0            ; ﾈｼﾞ締めPOS.1-2 ｴﾗｰｺｰﾄﾞ
AND= D8533 K0            ; ﾈｼﾞ締めPOS.1-3 ｴﾗｰｺｰﾄﾞ
AND= D8534 K0            ; ﾈｼﾞ締めPOS.1-4 ｴﾗｰｺｰﾄﾞ
AND= D8535 K0            ; ﾈｼﾞ締めPOS.1-5 ｴﾗｰｺｰﾄﾞ
AND= D20449 K0           ; ｶﾊﾞｰﾈｼﾞ締め1回目ﾄﾙｸ値
AND= D20450 K0           ; ｶﾊﾞｰﾈｼﾞ締め2回目ﾄﾙｸ値
AND= D20451 K0           ; ｶﾊﾞｰﾈｼﾞ締め3回目ﾄﾙｸ値
AND= D20452 K0           ; ｶﾊﾞｰﾈｼﾞ締め4回目ﾄﾙｸ値
AND= D20453 K0           ; ｶﾊﾞｰﾈｼﾞ締め5回目ﾄﾙｸ値
AND= D8521 K0            ; Screwe RB  Type No.
AND= D8522 K0            ; Screwe RB  PLT No.
AND= D8523 K0            ; Screwe RB  Screw No.
AND= D8550 K0            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D8551 K0            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D8552 K0            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締めﾃﾞｰﾀ転送
LD M8512                 ; ﾈｼﾞ締めﾃﾞｰﾀｾｯﾄ
ANB M8991                ; ﾕﾆｯﾄ16ｴﾗｰ発生
@MOV D16831 D8521        ; UT16COVﾈｼﾞ締めﾛﾎﾞｯﾄNo.  Screwe RB  Type No.
@MOV D16832 D8523        ; UT16COVﾈｼﾞ締め本数  Screwe RB  Screw No.
MPS
@MOV K1 D8522            ; Screwe RB  PLT No.
MPP
LD= D16831 D8521         ; UT16COVﾈｼﾞ締めﾛﾎﾞｯﾄNo.  Screwe RB  Type No.
AND= D16832 D8523        ; UT16COVﾈｼﾞ締め本数  Screwe RB  Screw No.
AND= K1 D8522            ; Screwe RB  PLT No.
AND<> D16832 K0          ; UT16COVﾈｼﾞ締め本数
ANL
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締め動作開始起動
LD M8513                 ; ﾈｼﾞ締め開始
ANB M8991                ; ﾕﾆｯﾄ16ｴﾗｰ発生
@MOV K2 D8550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D8551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K1 D8552            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D8550 K2             ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D8551 K1            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D8552 K1            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M8514                 ; ﾈｼﾞ締めPRG.ｽﾀｰﾄ
AND X3921                ; Screw_RB2_RUN
AND X3925                ; Screw_RB2_Auto
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
LD M8515                 ; ﾈｼﾞ締め動作開始確認
AND X3988                ; Screw_RB2_Screw_Start
ANB X3980                ; Screw_RB2_ALL_Complete(864)
ANB X3983                ; Screw_RB2_Take_out failure(867)
ANB X3985                ; Screw_RB2_Screw fail
ANB X398A                ; Screw_RB2_Process_of_Stop
ANB X398C                ; Screw_RB2_Discharge_miss
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締め1ｻｲｸﾙ完了
;Screw 1Cycle End
LD M8516                 ; ﾈｼﾞ締め完了待ち
ANB X3988                ; Screw_RB2_Screw_Start
AND X398B                ; Screw_RB2_Operat_stop
ANB X3921                ; Screw_RB2_RUN
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
;結果判断
;Result check
LD M8517                 ; ﾈｼﾞ締め結果確認
ANB M8991                ; ﾕﾆｯﾄ16ｴﾗｰ発生
MPS
LD= D8531 K1             ; ﾈｼﾞ締めPOS.1-1 ｴﾗｰｺｰﾄﾞ
LD= D8532 K1             ; ﾈｼﾞ締めPOS.1-2 ｴﾗｰｺｰﾄﾞ
LD= D8533 K1             ; ﾈｼﾞ締めPOS.1-3 ｴﾗｰｺｰﾄﾞ
LD= D8534 K1             ; ﾈｼﾞ締めPOS.1-4 ｴﾗｰｺｰﾄﾞ
LD= D8535 K1             ; ﾈｼﾞ締めPOS.1-5 ｴﾗｰｺｰﾄﾞ
OR= D16832 K4            ; UT16COVﾈｼﾞ締め本数
ANL
OR= D16832 K3            ; UT16COVﾈｼﾞ締め本数
ANL
OR= D16832 K2            ; UT16COVﾈｼﾞ締め本数
ANL
OR= D16832 K1            ; UT16COVﾈｼﾞ締め本数
ANL
ANL
MOV K30 D8500            ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
MPP
LD>= D16832 K1           ; UT16COVﾈｼﾞ締め本数
AND<> D8531 K1           ; ﾈｼﾞ締めPOS.1-1 ｴﾗｰｺｰﾄﾞ
LD>= D16832 K2           ; UT16COVﾈｼﾞ締め本数
AND<> D8532 K1           ; ﾈｼﾞ締めPOS.1-2 ｴﾗｰｺｰﾄﾞ
ORL
LD>= D16832 K3           ; UT16COVﾈｼﾞ締め本数
AND<> D8533 K1           ; ﾈｼﾞ締めPOS.1-3 ｴﾗｰｺｰﾄﾞ
ORL
LD>= D16832 K4           ; UT16COVﾈｼﾞ締め本数
AND<> D8534 K1           ; ﾈｼﾞ締めPOS.1-4 ｴﾗｰｺｰﾄﾞ
ORL
LD>= D16832 K5           ; UT16COVﾈｼﾞ締め本数
AND<> D8535 K1           ; ﾈｼﾞ締めPOS.1-5 ｴﾗｰｺｰﾄﾞ
ORL
ANL
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締め結果NGﾃﾞｰﾀｾｯﾄ
LD M8518                 ; 結果NG確認
@MOV K0 D16862           ; UT16ﾜｰｸOK/NGﾃﾞｰﾀ
MPS
@MOV K1 D8540            ; ﾈｼﾞ締2NGﾌﾗｸﾞ
MPP
AND= D16862 K0           ; UT16ﾜｰｸOK/NGﾃﾞｰﾀ
MOV K30 D8500            ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
;ｸﾗﾝﾌﾟ開
LD M8530                 ; ﾈｼﾞ締めｸﾗﾝﾌﾟ開
AND T1611                ; ﾈｼﾞ締2ｸﾗﾝﾌﾟ開端
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
LD M8531                 ; ﾈｼﾞ締めｸﾗﾝﾌﾟ開確認
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
LD M8532                 ; NOP
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
LD M8533                 ; NOP
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
LD M8534                 ; NOP
MPS
AND= D16862 K1           ; UT16ﾜｰｸOK/NGﾃﾞｰﾀ
MOV K40 D8500            ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
MPP
AND= D16862 K0           ; UT16ﾜｰｸOK/NGﾃﾞｰﾀ
MOV K41 D8500            ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
;処理結果ﾊﾝﾄﾞｼｪｲｸ
LD M8540                 ; ｶﾊﾞｰﾈｼﾞ締め完了
AND W0104.11             ; ｶﾊﾞｰﾈｼﾞ締め結果
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
LD M8541                 ; ｶﾊﾞｰﾈｼﾞ締め開始OFF
ANB W0104.10             ; ｶﾊﾞｰﾈｼﾞ締め開始
ANB W04.10               ; ｶﾊﾞｰﾈｼﾞ締め受付信号
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
LD M8542                 ; ｶﾊﾞｰﾈｼﾞ締め結果OFF
ANB W0104.11             ; ｶﾊﾞｰﾈｼﾞ締め結果
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締め終了
;Screw complete
LD M8543                 ; ﾈｼﾞ締め完了
AND M3158                ; ｶﾊﾞｰﾈｼﾞ締め作業完了
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
LD M8544                 ; 作業完了確認
ANB M3108                ; ｶﾊﾞｰﾈｼﾞ締め作業開始
@INC D8500               ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND CR2003               ; 常時OFF
MOV K48 D8500            ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
LD M8545                 ; 基板ﾈｼﾞ締め作業要求OFF確認
OR M8548                 ; ﾕﾆｯﾄ12-1ｻｲｸﾙ停止処理
@MOV K49 D8500           ; ﾕﾆｯﾄ16-1自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締め停止、続行指令補助
;先行動作は今の所無いので実行と続行は常時可
LD CR2003                ; 常時OFF
AND X3989                ; Screw_RB2_Wait
ANB M8562                ; ﾈｼﾞ締め続行ﾌﾗｸﾞ
OR M8560                 ; 停止指令
AND M8985                ; ﾕﾆｯﾄ16起動中
ANB M8561                ; ﾈｼﾞ締め実行許可
OUT M8560                ; 停止指令
LD CR2002                ; 常時ON
AND M8516                ; ﾈｼﾞ締め完了待ち
ANB M8560                ; 停止指令
OR M8561                 ; ﾈｼﾞ締め実行許可
AND M8985                ; ﾕﾆｯﾄ16起動中
OUT M8561                ; ﾈｼﾞ締め実行許可
TMH K1625 K5             ; ﾈｼﾞ締2ｽﾀｰﾄ
LD M8561                 ; ﾈｼﾞ締め実行許可
OUT M8562                ; ﾈｼﾞ締め続行ﾌﾗｸﾞ
;ﾈｼﾞ締めｴﾗｰｺｰﾄﾞ読込
LD M8985                 ; ﾕﾆｯﾄ16起動中
LDP X3981                ; Screw_RB_2Complete(865)
ORP X3983                ; Screw_RB2_Take_out failure(867)
ORP X3985                ; Screw_RB2_Screw fail
ANL
MPS
AND= D8524 K1            ; Screwe RB  ﾈｼﾞ締め箇所 No.
MOV D8525 D8531          ; Screwe RB  ﾈｼﾞ締めｴﾗｰｺｰﾄﾞ  ﾈｼﾞ締めPOS.1-1 ｴﾗｰｺｰﾄﾞ
MRD
AND= D8524 K2            ; Screwe RB  ﾈｼﾞ締め箇所 No.
MOV D8525 D8532          ; Screwe RB  ﾈｼﾞ締めｴﾗｰｺｰﾄﾞ  ﾈｼﾞ締めPOS.1-2 ｴﾗｰｺｰﾄﾞ
MRD
AND= D8524 K3            ; Screwe RB  ﾈｼﾞ締め箇所 No.
MOV D8525 D8533          ; Screwe RB  ﾈｼﾞ締めｴﾗｰｺｰﾄﾞ  ﾈｼﾞ締めPOS.1-3 ｴﾗｰｺｰﾄﾞ
MRD
AND= D8524 K4            ; Screwe RB  ﾈｼﾞ締め箇所 No.
MOV D8525 D8534          ; Screwe RB  ﾈｼﾞ締めｴﾗｰｺｰﾄﾞ  ﾈｼﾞ締めPOS.1-4 ｴﾗｰｺｰﾄﾞ
MPP
AND= D8524 K5            ; Screwe RB  ﾈｼﾞ締め箇所 No.
MOV D8525 D8535          ; Screwe RB  ﾈｼﾞ締めｴﾗｰｺｰﾄﾞ  ﾈｼﾞ締めPOS.1-5 ｴﾗｰｺｰﾄﾞ
LDP X170F                ; 取出部ﾘｾｯﾄPB
@MOV K0 D8540            ; ﾈｼﾞ締2NGﾌﾗｸﾞ
;<h1/>■PLC→PC I/F
;基板ﾈｼﾞ締め開始･結果
LD M8502                 ; 作業有確認
OR W0104.10              ; ｶﾊﾞｰﾈｼﾞ締め開始
ANB M8541                ; ｶﾊﾞｰﾈｼﾞ締め開始OFF
AND M8985                ; ﾕﾆｯﾄ16起動中
OUT W0104.10             ; ｶﾊﾞｰﾈｼﾞ締め開始
LD M8540                 ; ｶﾊﾞｰﾈｼﾞ締め完了
OR W0104.11              ; ｶﾊﾞｰﾈｼﾞ締め結果
ANB M8542                ; ｶﾊﾞｰﾈｼﾞ締め結果OFF
AND M8985                ; ﾕﾆｯﾄ16起動中
OUT W0104.11             ; ｶﾊﾞｰﾈｼﾞ締め結果
LD CR2002                ; 常時ON
MPS
AND= D8531 K1            ; ﾈｼﾞ締めPOS.1-1 ｴﾗｰｺｰﾄﾞ
OUT W017A.0              ; COVﾈｼﾞ締め1結果
MRD
AND= D8532 K1            ; ﾈｼﾞ締めPOS.1-2 ｴﾗｰｺｰﾄﾞ
OUT W017A.1              ; COVﾈｼﾞ締め2結果
MRD
AND= D8533 K1            ; ﾈｼﾞ締めPOS.1-3 ｴﾗｰｺｰﾄﾞ
OUT W017A.2              ; COVﾈｼﾞ締め3結果
MRD
AND= D8534 K1            ; ﾈｼﾞ締めPOS.1-4 ｴﾗｰｺｰﾄﾞ
OUT W017A.3              ; COVﾈｼﾞ締め4結果
MPP
AND= D8535 K1            ; ﾈｼﾞ締めPOS.1-5 ｴﾗｰｺｰﾄﾞ
OUT W017A.4              ; COVﾈｼﾞ締め5結果
;ﾈｼﾞ締めﾄﾙｸﾃﾞｰﾀ取得､PC送信用ﾃﾞｰﾀ準備
LD CR2002                ; 常時ON
MOV D20449 W0170         ; ｶﾊﾞｰﾈｼﾞ締め1回目ﾄﾙｸ値  ｶﾊﾞｰﾈｼﾞ締め1回目ﾄﾙｸ値
MOV D20450 W0172         ; ｶﾊﾞｰﾈｼﾞ締め2回目ﾄﾙｸ値  ｶﾊﾞｰﾈｼﾞ締め2回目ﾄﾙｸ値
MOV D20451 W0174         ; ｶﾊﾞｰﾈｼﾞ締め3回目ﾄﾙｸ値  ｶﾊﾞｰﾈｼﾞ締め3回目ﾄﾙｸ値
MOV D20452 W0176         ; ｶﾊﾞｰﾈｼﾞ締め4回目ﾄﾙｸ値  ｶﾊﾞｰﾈｼﾞ締め4回目ﾄﾙｸ値
MOV D20453 W0178         ; ｶﾊﾞｰﾈｼﾞ締め5回目ﾄﾙｸ値  ｶﾊﾞｰﾈｼﾞ締め5回目ﾄﾙｸ値
;ﾈｼﾞ締めｴﾗｰｺｰﾄﾞ取得､PC送信用ﾃﾞｰﾀ準備
LD CR2002                ; 常時ON
MOV D8531 W017B          ; ﾈｼﾞ締めPOS.1-1 ｴﾗｰｺｰﾄﾞ  ｶﾊﾞｰﾈｼﾞ締め1ｴﾗｰｺｰﾄﾞ
MOV D8532 W017C          ; ﾈｼﾞ締めPOS.1-2 ｴﾗｰｺｰﾄﾞ  ｶﾊﾞｰﾈｼﾞ締め2ｴﾗｰｺｰﾄﾞ
MOV D8533 W017D          ; ﾈｼﾞ締めPOS.1-3 ｴﾗｰｺｰﾄﾞ  ｶﾊﾞｰﾈｼﾞ締め3ｴﾗｰｺｰﾄﾞ
MOV D8534 W017E          ; ﾈｼﾞ締めPOS.1-4 ｴﾗｰｺｰﾄﾞ  ｶﾊﾞｰﾈｼﾞ締め4ｴﾗｰｺｰﾄﾞ
MOV D8535 W017F          ; ﾈｼﾞ締めPOS.1-5 ｴﾗｰｺｰﾄﾞ  ｶﾊﾞｰﾈｼﾞ締め5ｴﾗｰｺｰﾄﾞ
;<h1/>/ ﾈｼﾞ供給自動
;Quicher Operation
LD CR2002                ; 常時ON
ZRES M8600 M8639         ; ﾈｼﾞ供給2開始
LDB M73                  ; 各工程起動指令
ANB M8985                ; ﾕﾆｯﾄ16起動中
ANB M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M8832                ; ﾈｼﾞ供給2確認動作
MOV K0 D8501             ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
DW K0 D8701              ; UT16 sub 1 STEP monitor
LD M73                   ; 各工程起動指令
OR M8985                 ; ﾕﾆｯﾄ16起動中
OR M8821                 ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
OR M8832                 ; ﾈｼﾞ供給2確認動作
MOV D8501 Z1             ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
SET M8600:Z1             ; ﾈｼﾞ供給2開始
CAL+ D8501 K8600 D8701   ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ  UT16 sub 1 STEP monitor
;ﾈｼﾞ供給ｽﾃｯﾌﾟ開始
LD M8600                 ; ﾈｼﾞ供給2開始
ANB M8991                ; ﾕﾆｯﾄ16ｴﾗｰ発生
MPS
ANB T1612                ; ﾈｼﾞ供給2ﾈｼﾞ検出
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
MPP
AND T1612                ; ﾈｼﾞ供給2ﾈｼﾞ検出
MOV K10 D8501            ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
LD M8601                 ; ﾈｼﾞ供給2ｴｽｹｰﾌﾟ戻り
AND T1615                ; ﾈｼﾞ供給2ｴｽｹｰﾌﾟORG側端
ANB M8991                ; ﾕﾆｯﾄ16ｴﾗｰ発生
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ到着確認
;到着時はｴｽｹｰﾌﾟ動作・未到着時は引っ掛かりNG
LD M8602                 ; ﾈｼﾞ供給2ｴｽｹｰﾌﾟ戻り確認
ANB M8991                ; ﾕﾆｯﾄ16ｴﾗｰ発生
MPS
ANB T1612                ; ﾈｼﾞ供給2ﾈｼﾞ検出
MPS
TMR K1640 K100           ; ﾈｼﾞ供給2ﾈｼﾞ引掛り
MPP
AND T1640                ; ﾈｼﾞ供給2ﾈｼﾞ引掛り
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
MPP
LD T1612                 ; ﾈｼﾞ供給2ﾈｼﾞ検出
LD M126                  ; ﾈｼﾞ供給ﾕﾆｯﾄ2閉正常
OR M8832                 ; ﾈｼﾞ供給2確認動作
ANL
ANL
MOV K10 D8501            ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ引っ掛りｴﾗｰ発生
LD M8603                 ; ﾈｼﾞ供給2引掛り
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K1600 D200            ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
LD M8604                 ; ﾈｼﾞ供給2引掛りｴﾗｰ発生
LD<> D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
ORB M260                 ; 20150618 仮Mori
ANL
AND X149E                ; ﾈｼﾞ供給2ﾕﾆｯﾄ戻確認
ANP X149D                ; ﾈｼﾞ供給2確認PB
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
LD M8605                 ; ﾈｼﾞ供給2ﾛｯｸ
AND T1619                ; ﾈｼﾞ供給2ﾛｯｸ確認ﾃﾞｨﾚｲ
MPS
ANB X149E                ; ﾈｼﾞ供給2ﾕﾆｯﾄ戻確認
MOV K4 D8501             ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
MPP
AND X149E                ; ﾈｼﾞ供給2ﾕﾆｯﾄ戻確認
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
LD M8606                 ; ﾈｼﾞ供給2ﾛｯｸ確認
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
MOV K1 D8501             ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
;ｴｽｹｰﾌﾟ送り確認、ﾛﾎﾞｯﾄへ取出可ON
LD M8610                 ; ﾈｼﾞ供給2ﾈｼﾞ到着ｴｽｹｰﾌﾟ送
MPS
LD T1614                 ; ﾈｼﾞ供給2ｴｽｹｰﾌﾟ切出側端
ANB M8991                ; ﾕﾆｯﾄ16ｴﾗｰ発生
ANB M130                 ; 全体PAUSE
ANL
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
MPP
ANB T1614                ; ﾈｼﾞ供給2ｴｽｹｰﾌﾟ切出側端
MPS
TMR K1641 K30            ; ﾈｼﾞ供給2ﾈｼﾞ切出引掛り
MPP
AND T1641                ; ﾈｼﾞ供給2ﾈｼﾞ切出引掛り
MOV K30 D8501            ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
;切出ｴﾗｰ
LD M8630                 ; ﾈｼﾞ供給2切出ｴﾗｰ
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K1601 D200            ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
LD M8631                 ; ﾈｼﾞ供給2切出引掛りｴﾗｰ発生
LD<> D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
ORB M260                 ; 20150618 仮Mori
ANL
AND X149E                ; ﾈｼﾞ供給2ﾕﾆｯﾄ戻確認
AND T1614                ; ﾈｼﾞ供給2ｴｽｹｰﾌﾟ切出側端
ANP X149D                ; ﾈｼﾞ供給2確認PB
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
LD M8632                 ; ﾈｼﾞ供給2ﾛｯｸ確認
AND T1619                ; ﾈｼﾞ供給2ﾛｯｸ確認ﾃﾞｨﾚｲ
MPS
ANB X149E                ; ﾈｼﾞ供給2ﾕﾆｯﾄ戻確認
MOV K31 D8501            ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
MPP
AND X149E                ; ﾈｼﾞ供給2ﾕﾆｯﾄ戻確認
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
LD M8633                 ; ﾈｼﾞ供給2ﾈｼﾞ切出ｴﾗｰ解除確認
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
MOV K11 D8501            ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
;ﾛﾎﾞｯﾄより取出完了確認
LD M8611                 ; ﾈｼﾞ供給2ﾈｼﾞ取出可ON
MPS
LD X3982                 ; Screw_RB2_Take_out(866)
LDB T1612                ; ﾈｼﾞ供給2ﾈｼﾞ検出
AND M8832                ; ﾈｼﾞ供給2確認動作
ORL
ANL
MOV K16 D8501            ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
MPP
AND X3983                ; Screw_RB2_Take_out failure(867)
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
;ERR1601:RBねじ取出し不良
;ERR1601:Screw RB Screw pick up error
LD M8612                 ; ﾈｼﾞ供給2ﾈｼﾞ取出しｴﾗｰ
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
ANB X3983                ; Screw_RB2_Take_out failure(867)
DW K1602 D200            ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
LD M8613                 ; ﾈｼﾞ供給2ﾈｼﾞ取出ｴﾗｰ
LD<> D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
ORB M260                 ; 20150618 仮Mori
ANL
AND X149E                ; ﾈｼﾞ供給2ﾕﾆｯﾄ戻確認
ANP X149D                ; ﾈｼﾞ供給2確認PB
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
LD M8614                 ; ﾈｼﾞ供給2ﾛｯｸ確認
AND T1619                ; ﾈｼﾞ供給2ﾛｯｸ確認ﾃﾞｨﾚｲ
MPS
ANB X149E                ; ﾈｼﾞ供給2ﾕﾆｯﾄ戻確認
MOV K4 D8501             ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
MPP
AND X149E                ; ﾈｼﾞ供給2ﾕﾆｯﾄ戻確認
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
LD M8615                 ; ﾈｼﾞ供給2ﾈｼﾞ取出ｴﾗｰ解除確認
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ残ﾁｪｯｸ
LD M8616                 ; ﾈｼﾞ供給2ﾈｼﾞ取出完了確認
ANB X3983                ; Screw_RB2_Take_out failure(867)
MPS
TMR K1642 K3             ; ﾈｼﾞ残り確認ﾃﾞｨﾚｲ
MPP
AND T1642                ; ﾈｼﾞ残り確認ﾃﾞｨﾚｲ
MPS
ANB T1612                ; ﾈｼﾞ供給2ﾈｼﾞ検出
MOV K21 D8501            ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
MPP
AND T1612                ; ﾈｼﾞ供給2ﾈｼﾞ検出
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
;ERR1602:切出ﾈｼﾞ残
;ERR1602:Screw remain at cuttingout position on Quicher
LD M8617                 ; ﾈｼﾞ供給2ﾈｼﾞ残ｴﾗｰ
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K1603 D200            ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
LD M8618                 ; ﾈｼﾞ供給2ﾈｼﾞ残ｴﾗｰ発生
LD<> D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
ORB M260                 ; 20150618 仮Mori
ANL
ANB T1612                ; ﾈｼﾞ供給2ﾈｼﾞ検出
AND X149E                ; ﾈｼﾞ供給2ﾕﾆｯﾄ戻確認
ANP X149D                ; ﾈｼﾞ供給2確認PB
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
LD M8619                 ; ﾈｼﾞ供給2ﾈｼﾞ残ｴﾗｰ停止中
AND T1619                ; ﾈｼﾞ供給2ﾛｯｸ確認ﾃﾞｨﾚｲ
MPS
ANB X149E                ; ﾈｼﾞ供給2ﾕﾆｯﾄ戻確認
MOV K21 D8501            ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
MPP
AND X149E                ; ﾈｼﾞ供給2ﾕﾆｯﾄ戻確認
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
LD M8620                 ; ﾈｼﾞ供給2ﾛｯｸ確認
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
;ｴｽｹｰﾌﾟ戻
LD M8621                 ; ﾈｼﾞ供給2ﾈｼﾞ取出完了OFF確認
ANB M8991                ; ﾕﾆｯﾄ16ｴﾗｰ発生
@INC D8501               ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
LD M8622                 ; ﾈｼﾞ供給2ｴｽｹｰﾌﾟ戻り
AND T1615                ; ﾈｼﾞ供給2ｴｽｹｰﾌﾟORG側端
ANB M8991                ; ﾕﾆｯﾄ16ｴﾗｰ発生
ANB M130                 ; 全体PAUSE
@MOV K0 D8501            ; ﾕﾆｯﾄ16-2自動運転ｽﾃｯﾌﾟ
;<h1/>/ ﾈｼﾞ供給ﾎｯﾊﾟ自動
;Quicher Operation
;ﾈｼﾞ供給ﾎｯﾊﾟ自動
LD CR2002                ; 常時ON
ZRES M8640 M8649         ; ﾈｼﾞ供給2ﾎｯﾊﾟ動作開始
LDB M73                  ; 各工程起動指令
ANB M8985                ; ﾕﾆｯﾄ16起動中
ANB M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M8832                ; ﾈｼﾞ供給2確認動作
MOV K0 D8502             ; ﾕﾆｯﾄ16-3自動運転ｽﾃｯﾌﾟ
DW K0 D8702              ; UT16 sub 2 STEP monitor
LD M8985                 ; ﾕﾆｯﾄ16起動中
OR M73                   ; 各工程起動指令
OR M8821                 ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
OR M8832                 ; ﾈｼﾞ供給2確認動作
MOV D8502 Z1             ; ﾕﾆｯﾄ16-3自動運転ｽﾃｯﾌﾟ
SET M8640:Z1             ; ﾈｼﾞ供給2ﾎｯﾊﾟ動作開始
CAL+ D8502 K8640 D8702   ; ﾕﾆｯﾄ16-3自動運転ｽﾃｯﾌﾟ  UT16 sub 2 STEP monitor
;ﾎｯﾊﾟ残量確認
LD M8640                 ; ﾈｼﾞ供給2ﾎｯﾊﾟ動作開始
AND X149C                ; ﾈｼﾞ供給2残量低下
MPS
TMR K1620 K300           ; ﾈｼﾞ供給2残量低下
MPP
AND T1620                ; ﾈｼﾞ供給2残量低下
@INC D8502               ; ﾕﾆｯﾄ16-3自動運転ｽﾃｯﾌﾟ
LD M8641                 ; ﾎｯﾊﾟ2上昇
AND T1617                ; ﾈｼﾞ供給2ﾎｯﾊﾟ上昇端
@INC D8502               ; ﾕﾆｯﾄ16-3自動運転ｽﾃｯﾌﾟ
@INC D8560               ; 供給ﾎｯﾊﾟ2供給ｶｳﾝﾀ
LD M8642                 ; ﾎｯﾊﾟ2下降
AND T1618                ; ﾈｼﾞ供給2ﾎｯﾊﾟ下降端
MPS
TMR K1621 K10            ; ﾈｼﾞ供給2完､残量確認
MPP
AND T1621                ; ﾈｼﾞ供給2完､残量確認
MPS
ANB X149C                ; ﾈｼﾞ供給2残量低下
MOV K0 D8502             ; ﾕﾆｯﾄ16-3自動運転ｽﾃｯﾌﾟ
MOV K0 D8560             ; 供給ﾎｯﾊﾟ2供給ｶｳﾝﾀ
MPP
AND X149C                ; ﾈｼﾞ供給2残量低下
MPS
AND< D8560 K5            ; 供給ﾎｯﾊﾟ2供給ｶｳﾝﾀ
MOV K1 D8502             ; ﾕﾆｯﾄ16-3自動運転ｽﾃｯﾌﾟ
MPP
AND>= D8560 K5           ; 供給ﾎｯﾊﾟ2供給ｶｳﾝﾀ
@INC D8502               ; ﾕﾆｯﾄ16-3自動運転ｽﾃｯﾌﾟ
MOV K0 D8560             ; 供給ﾎｯﾊﾟ2供給ｶｳﾝﾀ
LD M8643                 ; NOP
@INC D8502               ; ﾕﾆｯﾄ16-3自動運転ｽﾃｯﾌﾟ
LD M8644                 ; ﾈｼﾞ不足供給要求
ANP X149D                ; ﾈｼﾞ供給2確認PB
MOV K1 D8502             ; ﾕﾆｯﾄ16-3自動運転ｽﾃｯﾌﾟ
;<h1/>■原点復帰
;□□□□□□□□□□□□□□□
;□　　 UNIT16原点復帰回路 　□
;□□□□□□□□□□□□□□□
LD CR2002                ; 常時ON
ZRES M8750 M8799         ; 原点復帰開始  ﾕﾆｯﾄ12原点終了
LDB M8984                ; ﾕﾆｯﾄ16原点復帰中
MOV K0 D8510             ; ﾕﾆｯﾄ16原点復帰ｽﾃｯﾌﾟ
DW K0 D8710              ; UT16 origin STEP monitor
LD M8984                 ; ﾕﾆｯﾄ16原点復帰中
MOV D8510 Z1             ; ﾕﾆｯﾄ16原点復帰ｽﾃｯﾌﾟ
SET M8750:Z1             ; 原点復帰開始
CAL+ D8510 K8750 D8710   ; ﾕﾆｯﾄ16原点復帰ｽﾃｯﾌﾟ  UT16 origin STEP monitor
;設定初期化
;Setting initialization
LD M8750                 ; 原点復帰開始
ANB M8991                ; ﾕﾆｯﾄ16ｴﾗｰ発生
@FMOV K0 D16800 K100     ; UT16ﾌﾚｰﾑ投入ﾊﾟﾚｯﾄID
@MOV K0 D8550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K0 D8551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K0 D8552            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D8550 K0             ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D8551 K0            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D8552 K0            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D8510               ; ﾕﾆｯﾄ16原点復帰ｽﾃｯﾌﾟ
;原点復帰開始
LD M8751                 ; ﾃﾞｰﾀ初期化完了
ANB M8991                ; ﾕﾆｯﾄ16ｴﾗｰ発生
@MOV K2 D8550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D8551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K50 D8552           ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D8550 K2             ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D8551 K1            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D8552 K50           ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D8510               ; ﾕﾆｯﾄ16原点復帰ｽﾃｯﾌﾟ
LD M8752                 ; 原点復帰起動
AND X3921                ; Screw_RB2_RUN
@INC D8510               ; ﾕﾆｯﾄ16原点復帰ｽﾃｯﾌﾟ
LD M8753                 ; 原点復帰起動確認
ANB X3921                ; Screw_RB2_RUN
@INC D8510               ; ﾕﾆｯﾄ16原点復帰ｽﾃｯﾌﾟ
LD M8754                 ; 基板ﾈｼﾞ締め押え上昇
AND T1611                ; ﾈｼﾞ締2ｸﾗﾝﾌﾟ開端
@INC D8510               ; ﾕﾆｯﾄ16原点復帰ｽﾃｯﾌﾟ
;原点復帰終了
LD M8755                 ; 基板ﾈｼﾞ締め押え上昇確認
AND M8980                ; ﾕﾆｯﾄ16原点
@MOV K48 D8510           ; ﾕﾆｯﾄ16原点復帰ｽﾃｯﾌﾟ
LD M8798                 ; ﾕﾆｯﾄ12原点確認
ANB M82                  ; 原点復帰開始
@MOV K49 D8510           ; ﾕﾆｯﾄ16原点復帰ｽﾃｯﾌﾟ
;<h1/>■手動回路
;□□□□□□□□□□□□□□□
;□　　 　UNIT16手動回路 　　□
;□□□□□□□□□□□□□□□
LD M31                   ; 手動ﾓｰﾄﾞ
AND M32                  ; ﾒｲﾝ手動操作可能条件
ANB M8985                ; ﾕﾆｯﾄ16起動中
ANB M8984                ; ﾕﾆｯﾄ16原点復帰中
MC
;ﾈｼﾞ供給切出
LD CR2002                ; 常時ON
OUT M8800                ; ｶﾊﾞｰﾈｼﾞ供給切出可
LDP B1260                ; UNIT16-1-1 TP-PB
AND M8800                ; ｶﾊﾞｰﾈｼﾞ供給切出可
OR M8801                 ; ｶﾊﾞｰﾈｼﾞ供給切出
ANPB M8803               ; ｶﾊﾞｰﾈｼﾞ供給切出戻
ANB M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M8832                ; ﾈｼﾞ供給2確認動作
OUT M8801                ; ｶﾊﾞｰﾈｼﾞ供給切出
LD CR2002                ; 常時ON
OUT M8802                ; ｶﾊﾞｰﾈｼﾞ供給切出戻可
LDP B1261                ; UNIT16-1-2 TP-PB
AND M8802                ; ｶﾊﾞｰﾈｼﾞ供給切出戻可
OR M8803                 ; ｶﾊﾞｰﾈｼﾞ供給切出戻
ANPB M8801               ; ｶﾊﾞｰﾈｼﾞ供給切出
ANB M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M8832                ; ﾈｼﾞ供給2確認動作
OUT M8803                ; ｶﾊﾞｰﾈｼﾞ供給切出戻
;ﾈｼﾞ供給ﾎｯﾊﾟ
LD CR2002                ; 常時ON
OUT M8804                ; ｶﾊﾞｰﾈｼﾞ供給ﾎｯﾊﾟ上昇可
LD B1262                 ; UNIT16-1-3 TP-PB
AND M8804                ; ｶﾊﾞｰﾈｼﾞ供給ﾎｯﾊﾟ上昇可
OR M8805                 ; ｶﾊﾞｰﾈｼﾞ供給ﾎｯﾊﾟ上昇
ANPB M8807               ; ｶﾊﾞｰﾈｼﾞ供給ﾎｯﾊﾟ下降
ANB M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M8832                ; ﾈｼﾞ供給2確認動作
OUT M8805                ; ｶﾊﾞｰﾈｼﾞ供給ﾎｯﾊﾟ上昇
LD CR2002                ; 常時ON
OUT M8806                ; ｶﾊﾞｰﾈｼﾞ供給ﾎｯﾊﾟ下降可
LD B1263                 ; UNIT16-1-4 TP-PB
AND M8806                ; ｶﾊﾞｰﾈｼﾞ供給ﾎｯﾊﾟ下降可
OR M8807                 ; ｶﾊﾞｰﾈｼﾞ供給ﾎｯﾊﾟ下降
ANPB M8805               ; ｶﾊﾞｰﾈｼﾞ供給ﾎｯﾊﾟ上昇
ANB M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M8832                ; ﾈｼﾞ供給2確認動作
OUT M8807                ; ｶﾊﾞｰﾈｼﾞ供給ﾎｯﾊﾟ下降
;ﾈｼﾞ供給電源
LDB M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
OUT M8808                ; ｶﾊﾞｰﾈｼﾞ供給電源入可
LD B1264                 ; UNIT16-1-5 TP-PB
AND M8806                ; ｶﾊﾞｰﾈｼﾞ供給ﾎｯﾊﾟ下降可
OR M8809                 ; ｶﾊﾞｰﾈｼﾞ供給電源入
LDB B1265                ; UNIT16-1-6 TP-PB
OR M8821                 ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANL
OUT M8809                ; ｶﾊﾞｰﾈｼﾞ供給電源入
;ﾈｼﾞ締めｸﾗﾝﾌﾟ
LD CR2002                ; 常時ON
OUT M8810                ; ｶﾊﾞｰﾈｼﾞ締めｸﾗﾝﾌﾟ下降可
LDP B1266                ; UNIT16-1-7 TP-PB
AND M8810                ; ｶﾊﾞｰﾈｼﾞ締めｸﾗﾝﾌﾟ下降可
OR M8811                 ; ｶﾊﾞｰﾈｼﾞ締めｸﾗﾝﾌﾟ下降
ANPB M8813               ; ｶﾊﾞｰﾈｼﾞ締めｸﾗﾝﾌﾟ上昇
ANB M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
OUT M8811                ; ｶﾊﾞｰﾈｼﾞ締めｸﾗﾝﾌﾟ下降
LD CR2002                ; 常時ON
OUT M8812                ; ｶﾊﾞｰﾈｼﾞ締めｸﾗﾝﾌﾟ上昇可
LDP B1267                ; UNIT16-1-8 TP-PB
AND M8812                ; ｶﾊﾞｰﾈｼﾞ締めｸﾗﾝﾌﾟ上昇可
OR M8813                 ; ｶﾊﾞｰﾈｼﾞ締めｸﾗﾝﾌﾟ上昇
ANPB M8811               ; ｶﾊﾞｰﾈｼﾞ締めｸﾗﾝﾌﾟ下降
ANB M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
OUT M8813                ; ｶﾊﾞｰﾈｼﾞ締めｸﾗﾝﾌﾟ上昇
;ﾈｼﾞ供給ﾛｯｸ
LD CR2002                ; 常時ON
ANB M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
OUT M8814                ; ﾈｼﾞ供給2ﾛｯｸ解除可
LDP B1268                ; UNIT16-1-9 TP-PB
ORP X149D                ; ﾈｼﾞ供給2確認PB
AND M8814                ; ﾈｼﾞ供給2ﾛｯｸ解除可
ANB M8815                ; ﾈｼﾞ供給2ﾛｯｸ解除
OR M8815                 ; ﾈｼﾞ供給2ﾛｯｸ解除
ANPB M8817               ; ﾈｼﾞ供給2ﾛｯｸ
OUT M8815                ; ﾈｼﾞ供給2ﾛｯｸ解除
LD CR2002                ; 常時ON
AND X149E                ; ﾈｼﾞ供給2ﾕﾆｯﾄ戻確認
OUT M8816                ; ﾈｼﾞ供給2ﾛｯｸ可
LDP B1269                ; UNIT16-1-10 TP-PB
ORP X149D                ; ﾈｼﾞ供給2確認PB
AND M8816                ; ﾈｼﾞ供給2ﾛｯｸ可
ANB M8817                ; ﾈｼﾞ供給2ﾛｯｸ
OR M8817                 ; ﾈｼﾞ供給2ﾛｯｸ
ANPB M8815               ; ﾈｼﾞ供給2ﾛｯｸ解除
OUT M8817                ; ﾈｼﾞ供給2ﾛｯｸ
;ﾈｼﾞ締め1ｻｲｸﾙ手動
LDB X3921                ; Screw_RB2_RUN
AND X3923                ; Screw_RB2_SV_ON
AND X3924                ; Screw_RB2_Ready
AND X3925                ; Screw_RB2_Auto
AND X3926                ; Screw_RB2_EXT
ANB X3928                ; Screw_RB2_Worning
AND X3986                ; Screw_RB2_ORG
AND X396F                ; Screw_RB2_Area1(ORG)
AND T1619                ; ﾈｼﾞ供給2ﾛｯｸ確認ﾃﾞｨﾚｲ
ANB X1482                ; ｶﾊﾞｰﾈｼﾞ締めﾜｰｸ確認
AND X335A                ; ﾘﾆｱｺﾝﾍﾞｱ作業位置(SO210)
ANB M8851                ; ﾄﾙｸ測定移動(手動)
OUT M8820                ; COVﾈｼﾞ締め1ｻｲｸﾙ可
LDP B126A                ; UNIT16-1-11 TP-PB
AND M8820                ; COVﾈｼﾞ締め1ｻｲｸﾙ可
OR M8821                 ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M8983                ; ﾕﾆｯﾄ16起動OFF
ANB M8828                ; COVﾈｼﾞ締め終了
OUT M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
;ﾜｰｸｸﾗﾝﾌﾟ
LDP M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
OR M8822                 ; COVﾈｼﾞ締めｸﾗﾝﾌﾟ閉
AND M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M8823                ; COVﾈｼﾞ締めﾃﾞｰﾀｾｯﾄ
OUT M8822                ; COVﾈｼﾞ締めｸﾗﾝﾌﾟ閉
;ﾈｼﾞ締めﾃﾞｰﾀ転送
LD M8822                 ; COVﾈｼﾞ締めｸﾗﾝﾌﾟ閉
AND T1610                ; ﾈｼﾞ締2ｸﾗﾝﾌﾟ閉端
OR M8823                 ; COVﾈｼﾞ締めﾃﾞｰﾀｾｯﾄ
AND M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M8824                ; COVﾈｼﾞ締めPRG.ｽﾀｰﾄ
@MOV D8601 D8521         ; Screwe RB  Type No.
@MOV K5 D8523            ; Screwe RB  Screw No.
MPS
@MOV K1 D8522            ; Screwe RB  PLT No.
MPP
LD= D8601 D8521          ; Screwe RB  Type No.
AND= K5 D8523            ; Screwe RB  Screw No.
AND= K1 D8522            ; Screwe RB  PLT No.
ANL
OUT M8823                ; COVﾈｼﾞ締めﾃﾞｰﾀｾｯﾄ
;ﾈｼﾞ締め動作開始起動
LD M8823                 ; COVﾈｼﾞ締めﾃﾞｰﾀｾｯﾄ
OR M8824                 ; COVﾈｼﾞ締めPRG.ｽﾀｰﾄ
AND M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M8825                ; COVﾈｼﾞ締め動作開始確認
@MOV K2 D8550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D8551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K1 D8552            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D8550 K2             ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D8551 K1            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D8552 K1            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
OUT M8824                ; COVﾈｼﾞ締めPRG.ｽﾀｰﾄ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M8824                 ; COVﾈｼﾞ締めPRG.ｽﾀｰﾄ
AND X3921                ; Screw_RB2_RUN
AND X3925                ; Screw_RB2_Auto
OR M8825                 ; COVﾈｼﾞ締め動作開始確認
AND M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M8826                ; COVﾈｼﾞ締め完了待ち
OUT M8825                ; COVﾈｼﾞ締め動作開始確認
LD M8825                 ; COVﾈｼﾞ締め動作開始確認
AND X3988                ; Screw_RB2_Screw_Start
ANB X3980                ; Screw_RB2_ALL_Complete(864)
ANB X3983                ; Screw_RB2_Take_out failure(867)
ANB X3985                ; Screw_RB2_Screw fail
ANB X398A                ; Screw_RB2_Process_of_Stop
ANB X398C                ; Screw_RB2_Discharge_miss
OR M8826                 ; COVﾈｼﾞ締め完了待ち
AND M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M8827                ; COVｸﾗﾝﾌﾟ開
OUT M8826                ; COVﾈｼﾞ締め完了待ち
;ﾈｼﾞ締め1ｻｲｸﾙ完了
;Screw 1Cycle End
LD M8826                 ; COVﾈｼﾞ締め完了待ち
ANB X3988                ; Screw_RB2_Screw_Start
AND X398B                ; Screw_RB2_Operat_stop
ANB X3921                ; Screw_RB2_RUN
OR M8827                 ; COVｸﾗﾝﾌﾟ開
AND M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M8828                ; COVﾈｼﾞ締め終了
OUT M8827                ; COVｸﾗﾝﾌﾟ開
;ｸﾗﾝﾌﾟ開
LD M8827                 ; COVｸﾗﾝﾌﾟ開
AND T1611                ; ﾈｼﾞ締2ｸﾗﾝﾌﾟ開端
OR M8828                 ; COVﾈｼﾞ締め終了
AND M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
OUT M8828                ; COVﾈｼﾞ締め終了
;ﾈｼﾞ供給動作確認
LD Y2526                 ; ﾈｼﾞ供給2駆動電源ON
ANB M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
OUT M8830                ; ﾈｼﾞ供給2確認動作可
LDP B126C                ; UNIT16-1-13 TP-PB
AND M8832                ; ﾈｼﾞ供給2確認動作
OUT M8831                ; ﾈｼﾞ供給2確認動作切
LDP B126C                ; UNIT16-1-13 TP-PB
AND M8830                ; ﾈｼﾞ供給2確認動作可
ANB M8832                ; ﾈｼﾞ供給2確認動作
OR M8832                 ; ﾈｼﾞ供給2確認動作
ANB M8831                ; ﾈｼﾞ供給2確認動作切
OUT M8832                ; ﾈｼﾞ供給2確認動作
;ﾄﾙｸ測定手動
LDB X3921                ; Screw_RB2_RUN
AND X3923                ; Screw_RB2_SV_ON
AND X3924                ; Screw_RB2_Ready
AND X3925                ; Screw_RB2_Auto
AND X3926                ; Screw_RB2_EXT
ANB X3928                ; Screw_RB2_Worning
AND X3986                ; Screw_RB2_ORG
AND X396F                ; Screw_RB2_Area1(ORG)
ANB M8832                ; ﾈｼﾞ供給2確認動作
ANB M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
OUT M8850                ; ﾄﾙｸ測定移動可
LDP B126D                ; UNIT16-1-14 TP-PB
AND M8850                ; ﾄﾙｸ測定移動可
OR M8851                 ; ﾄﾙｸ測定移動(手動)
ANB M8983                ; ﾕﾆｯﾄ16起動OFF
ANB M8855                ; 移動終了
OUT M8851                ; ﾄﾙｸ測定移動(手動)
;ﾃﾞｰﾀ転送
LD M8851                 ; ﾄﾙｸ測定移動(手動)
MEP
OR M8852                 ; ﾃﾞｰﾀｾｯﾄ
AND M8851                ; ﾄﾙｸ測定移動(手動)
ANB M8853                ; ﾄﾙｸ測定PRG.ｽﾀｰﾄ
@MOV D8601 D8521         ; Screwe RB  Type No.
@MOV K5 D8523            ; Screwe RB  Screw No.
MPS
@MOV K1 D8522            ; Screwe RB  PLT No.
MPP
LD= D8601 D8521          ; Screwe RB  Type No.
AND= K5 D8523            ; Screwe RB  Screw No.
AND= K1 D8522            ; Screwe RB  PLT No.
ANL
OUT M8852                ; ﾃﾞｰﾀｾｯﾄ
;ﾄﾙｸ測定動作開始起動
LD M8852                 ; ﾃﾞｰﾀｾｯﾄ
OR M8853                 ; ﾄﾙｸ測定PRG.ｽﾀｰﾄ
AND M8851                ; ﾄﾙｸ測定移動(手動)
ANB M8854                ; 動作開始確認
@MOV K2 D8550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D8551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K10 D8552           ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D8550 K2             ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D8551 K1            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D8552 K10           ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
OUT M8853                ; ﾄﾙｸ測定PRG.ｽﾀｰﾄ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M8853                 ; ﾄﾙｸ測定PRG.ｽﾀｰﾄ
AND X3921                ; Screw_RB2_RUN
AND X3925                ; Screw_RB2_Auto
OR M8854                 ; 動作開始確認
AND M8851                ; ﾄﾙｸ測定移動(手動)
ANB M8855                ; 移動終了
OUT M8854                ; 動作開始確認
LD M8854                 ; 動作開始確認
ANB X3921                ; Screw_RB2_RUN
AND X396A                ; Screw_RB2(842)
OR M8855                 ; 移動終了
AND M8851                ; ﾄﾙｸ測定移動(手動)
OUT M8855                ; 移動終了
MCR
;ROBOT AUTO/MANU
LDP B127F                ; UNIT16-2-16 TP-PB
AND M8840                ; MANUAL_ON
OUT M8841                ; MANUAL_OFF
LDP B127F                ; UNIT16-2-16 TP-PB
ANB M8840                ; MANUAL_ON
OR M8840                 ; MANUAL_ON
ANB M8841                ; MANUAL_OFF
AND M31                  ; 手動ﾓｰﾄﾞ
ANB M51                  ; 即停止異常(緊急停止)
OUT M8840                ; MANUAL_ON
;<h1/>/ RB補助回路
;ﾛﾎﾞｯﾄ初期準備
LD M50                   ; 運転準備
AND X3924                ; Screw_RB2_Ready
AND X3925                ; Screw_RB2_Auto
MEP
LD M30                   ; 自動ﾓｰﾄﾞ
ANB X3923                ; Screw_RB2_SV_ON
MEP
ORL
OR M8902                 ; COVﾈｼﾞ締RB運転準備
LDB M8904                ; COVﾈｼﾞ締RBｻｰﾎﾞON､CAL完了
ANB CR2003               ; 常時OFF
LDB M8906                ; COVﾈｼﾞ締RB外部ﾓｰﾄﾞ完了
AND CR2003               ; 常時OFF
ORL
ANL
ANB M8912                ; COVﾈｼﾞ締RB初期準備
AND X3925                ; Screw_RB2_Auto
TMR K1631 K5             ; ﾈｼﾞ締2 RB初期化処理開始ﾃﾞｨﾚｲ
OUT M8902                ; COVﾈｼﾞ締RB運転準備
LD M8902                 ; COVﾈｼﾞ締RB運転準備
AND T1631                ; ﾈｼﾞ締2 RB初期化処理開始ﾃﾞｨﾚｲ
MEP
OR M8903                 ; COVﾈｼﾞ締RBｻｰﾎﾞON､CAL要求
ANB M8904                ; COVﾈｼﾞ締RBｻｰﾎﾞON､CAL完了
AND M8902                ; COVﾈｼﾞ締RB運転準備
MPS
ANB CR2003               ; 常時OFF
@MOV K131 D8550          ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
MRD
AND CR2003               ; 常時OFF
@MOV K1 D8550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
MRD
@MOV K7 D8551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPP
OUT M8903                ; COVﾈｼﾞ締RBｻｰﾎﾞON､CAL要求
LD M8903                 ; COVﾈｼﾞ締RBｻｰﾎﾞON､CAL要求
AND X392E                ; Screw_RB2_Command_End
MEP
OR M8904                 ; COVﾈｼﾞ締RBｻｰﾎﾞON､CAL完了
ANB M8905                ; COVﾈｼﾞ締RB外部ﾓｰﾄﾞ要求
AND M8902                ; COVﾈｼﾞ締RB運転準備
OUT M8904                ; COVﾈｼﾞ締RBｻｰﾎﾞON､CAL完了
;調整時速度をペンダントから行う場合(ﾓｰﾀｰON､CAL実行)+(外部ﾓｰﾄﾞ切替)
;時に使用
LD CR2003                ; 常時OFF
AND M8904                ; COVﾈｼﾞ締RBｻｰﾎﾞON､CAL完了
ANB X392E                ; Screw_RB2_Command_End
MEP
OR R8905
ANB M8906                ; COVﾈｼﾞ締RB外部ﾓｰﾄﾞ完了
AND M8902                ; COVﾈｼﾞ締RB運転準備
@MOV K128 D8550          ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K7 D8551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
OUT M8905                ; COVﾈｼﾞ締RB外部ﾓｰﾄﾞ要求
LD M8905                 ; COVﾈｼﾞ締RB外部ﾓｰﾄﾞ要求
AND X392E                ; Screw_RB2_Command_End
OR M8906                 ; COVﾈｼﾞ締RB外部ﾓｰﾄﾞ完了
AND M8902                ; COVﾈｼﾞ締RB運転準備
OUT M8906                ; COVﾈｼﾞ締RB外部ﾓｰﾄﾞ完了
;自動運転時ﾌﾟﾛｸﾞﾗﾑ強制停止
LD T15                   ; 強制停止
OR M8907                 ; COVﾈｼﾞ締RB停止指令
AND X3921                ; Screw_RB2_RUN
@MOV K64 D8550           ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D8551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
@MOV K1 D8552            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
OUT M8907                ; COVﾈｼﾞ締RB停止指令
;自動運転時ｱﾗｰﾑ発生ｽﾃｯﾌﾟ停止
LD CR2003                ; 常時OFF
OR M8909                 ; Screw_RB1ｽﾃｯﾌﾟ停止
AND M8985                ; ﾕﾆｯﾄ16起動中
AND X3921                ; Screw_RB2_RUN
@MOV K16 D8550           ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D8551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
@MOV K1 D8552            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
OUT M8909                ; Screw_RB1ｽﾃｯﾌﾟ停止
;自動運転時ｱﾗｰﾑ解除ｽﾃｯﾌﾟ続行機動
LD CR2003                ; 常時OFF
MEP
OR M8910                 ; COVﾈｼﾞ締RBｽﾃｯﾌﾟ起動
AND M8985                ; ﾕﾆｯﾄ16起動中
ANB X3921                ; Screw_RB2_RUN
@MOV K2 D8550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D8551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
@MOV K1 D8552            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
OUT M8910                ; COVﾈｼﾞ締RBｽﾃｯﾌﾟ起動
;ﾛﾎﾞｯﾄｱﾗｰﾑﾘｾｯﾄ
LD M16                   ; ﾘｾｯﾄPB
OR M8914                 ; Screw_RB1ｱﾗｰﾑﾘｾｯﾄ記憶
LD X3922                 ; Screw_RB2_Error
OR X3928                 ; Screw_RB2_Worning
ANL
OUT M8914                ; Screw_RB1ｱﾗｰﾑﾘｾｯﾄ記憶
LD M8914                 ; Screw_RB1ｱﾗｰﾑﾘｾｯﾄ記憶
ANB T1633                ; ﾈｼﾞ締2 ｱﾗｰﾑﾘｾｯﾄﾘﾄﾗｲ
@MOV K1000 D8551         ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
TMR K1633 K10            ; ﾈｼﾞ締2 ｱﾗｰﾑﾘｾｯﾄﾘﾄﾗｲ
OUT M8908                ; COVﾈｼﾞ締RBｱﾗｰﾑﾘｾｯﾄ
;扉開時ﾛﾎﾞｯﾄ警告解除
LDP M123                 ; 安全扉正常
OR M8911                 ; ﾈｼﾞ締RB扉開時警告解除処理
AND X3928                ; Screw_RB2_Worning
ANB T1632                ; ﾈｼﾞ締2 RB扉開時警告解除ﾀｲﾏ
ANB B01                  ; 非常停止異常
@MOV K1000 D8551         ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
TMR K1632 K10            ; ﾈｼﾞ締2 RB扉開時警告解除ﾀｲﾏ
OUT M8911                ; ﾈｼﾞ締RB扉開時警告解除処理
;<h1/>■出力
;ﾈｼﾞ締めRB ｼｽﾃﾑI/O
LD M5                    ; 運転準備補助
LD M123                  ; 安全扉正常
ANB M8840                ; MANUAL_ON
OR M132                  ; All_PAUSE_OK
ANL
OUT Y2527                ; ﾈｼﾞ締めRB2ｲﾈｰﾌﾞﾙ
LD M50                   ; 運転準備
LD M123                  ; 安全扉正常
ANB M8840                ; MANUAL_ON
OR M132                  ; All_PAUSE_OK
ANL
OUT Y252C                ; ﾈｼﾞ締めRB2防護柵
LD M8560                 ; 停止指令
OR T1625                 ; ﾈｼﾞ締2ｽﾀｰﾄ
OR CR2002                ; 常時ON
OUT Y5220                ; Screw_RB2_Step_Stop
LD M121                  ; 非常停止正常
LD M123                  ; 安全扉正常
OR M132                  ; All_PAUSE_OK
ANL
OUT Y5222                ; Screw_RB2_Instant stop
LD M8562                 ; ﾈｼﾞ締め続行ﾌﾗｸﾞ
OUT Y5224                ; Screw_RB2_Interrupt_Skip
;ﾛﾎﾞｯﾄｽﾄﾛｰﾌﾞ
LDB M8908                ; COVﾈｼﾞ締RBｱﾗｰﾑﾘｾｯﾄ
ANB M8911                ; ﾈｼﾞ締RB扉開時警告解除処理
INV
OUT M8912                ; COVﾈｼﾞ締RB初期準備
;自動､原点復帰､手動1ｻｲｸﾙを入れる
LDB M8514                ; ﾈｼﾞ締めPRG.ｽﾀｰﾄ
ANB M8824                ; COVﾈｼﾞ締めPRG.ｽﾀｰﾄ
ANB M8853                ; ﾄﾙｸ測定PRG.ｽﾀｰﾄ
ANB M8752                ; 原点復帰起動
ANB CR2003               ; 常時OFF
ANB M8903                ; COVﾈｼﾞ締RBｻｰﾎﾞON､CAL要求
ANB M8905                ; COVﾈｼﾞ締RB外部ﾓｰﾄﾞ要求
ANB M8907                ; COVﾈｼﾞ締RB停止指令
ANB M8909                ; Screw_RB1ｽﾃｯﾌﾟ停止
ANB M8910                ; COVﾈｼﾞ締RBｽﾃｯﾌﾟ起動
INV
OUT M8913                ; COVﾈｼﾞ締RB起動処理
LDB M8912                ; COVﾈｼﾞ締RB初期準備
ANB M8913                ; COVﾈｼﾞ締RB起動処理
INV
MPS
TMR K1630 K2             ; ﾈｼﾞ締2 RBｺﾏﾝﾄﾞｽﾄﾛｰﾌﾞONﾃﾞｨﾚｲ
MPP
AND T1630                ; ﾈｼﾞ締2 RBｺﾏﾝﾄﾞｽﾄﾛｰﾌﾞONﾃﾞｨﾚｲ
OUT Y5223                ; Screw_RB2_Strobe
;ﾛﾎﾞｯﾄｺﾏﾝﾄﾞ出力
LD M8912                 ; COVﾈｼﾞ締RB初期準備
OR M8913                 ; COVﾈｼﾞ締RB起動処理
MPS
AND D8551.0
OUT Y5240                ; Screw_RB2_Cmd_0bit
MRD
AND D8551.1
OUT Y5241                ; Screw_RB2_Cmd_1bit
MRD
AND D8551.2
OUT Y5242                ; Screw_RB2_Cmd_2bit
MPP
AND D8551.3
OUT Y5243                ; Screw_RB2_Cmd_3bit
LD M8913                 ; COVﾈｼﾞ締RB起動処理
MPS
LDA D8550                ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
CON
PSTA Y5228 K8            ; Screw_RB2_Data1-0bit
MPP
LDA D8552                ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
CON
PSTA Y5230 K16           ; Screw_RB2_Data2-0bit
LDB M8913                ; COVﾈｼﾞ締RB起動処理
MPS
LDA K0
CON
PSTA Y5228 K8            ; Screw_RB2_Data1-0bit
MPP
LDA K0
CON
PSTA Y5230 K16           ; Screw_RB2_Data2-0bit
LD CR2003                ; 常時OFF
ANB M8912                ; COVﾈｼﾞ締RB初期準備
OUT Y5227                ; Screw_RB2_Cmd_Odd_Parity
;ﾈｼﾞ締めRBﾌﾟﾛｸﾞﾗﾑI/F I/O
;動作機種･ﾊﾟﾚｯﾄ番号転送
LD CR2002                ; 常時ON
PMOV D8521 K0 Y5248 K0 K7; Screwe RB  Type No.  Screw_RB2_Type_No.1
PMOV D8522 K0 Y5250 K0 K7; Screwe RB  PLT No.  Screw_RB2_PLT_No.1
PMOV D8523 K0 Y5258 K0 K3; Screwe RB  Screw No.  Screw_RB2(568)
LD CR2002                ; 常時ON
OUT Y5261                ; Screw_RB2_Screw_Start(577)
LD M8611                 ; ﾈｼﾞ供給2ﾈｼﾞ取出可ON
OUT Y5263                ; Screw_RB2_Picup_OK(579)
LD CR2002                ; 常時ON
OUT Y5265                ; Screw_RB2_Can continue(581)
LD X3981                 ; Screw_RB_2Complete(865)
OUT Y5266                ; Screw_RB2_Complete_Ans(582)
;ﾈｼﾞ供給2電源
LDB M73                  ; 各工程起動指令
ANB M8985                ; ﾕﾆｯﾄ16起動中
ANB M8809                ; ｶﾊﾞｰﾈｼﾞ供給電源入
ANB M8821                ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
INV
OUT Y2526                ; ﾈｼﾞ供給2駆動電源ON
;ﾈｼﾞ供給2ｽﾗｲﾄﾞﾛｯｸ
LD Y53                   ; ｹｰｽ供給部安全扉ﾛｯｸ
OR M8817                 ; ﾈｼﾞ供給2ﾛｯｸ
LDB M8604                ; ﾈｼﾞ供給2引掛りｴﾗｰ発生
ANB M8613                ; ﾈｼﾞ供給2ﾈｼﾞ取出ｴﾗｰ
ANB M8618                ; ﾈｼﾞ供給2ﾈｼﾞ残ｴﾗｰ発生
ANB M8631                ; ﾈｼﾞ供給2切出引掛りｴﾗｰ発生
LDB X3969                ; Screw_RB2_Screw_wait
AND X3921                ; Screw_RB2_RUN
ORL
ANL
OUT Y252B                ; ﾈｼﾞ供給2ｽﾗｲﾄﾞﾛｯｸ
;ﾈｼﾞ締めｸﾗﾝﾌﾟ上下
LDB M8510                ; ﾈｼﾞ締めｸﾗﾝﾌﾟ閉
ANB M8811                ; ｶﾊﾞｰﾈｼﾞ締めｸﾗﾝﾌﾟ下降
ANB M8822                ; COVﾈｼﾞ締めｸﾗﾝﾌﾟ閉
INV
OR Y2648                 ; ﾈｼﾞ締め2ｸﾗﾝﾌﾟ閉SV
ANB M8530                ; ﾈｼﾞ締めｸﾗﾝﾌﾟ開
ANB M8754                ; 基板ﾈｼﾞ締め押え上昇
ANB M8813                ; ｶﾊﾞｰﾈｼﾞ締めｸﾗﾝﾌﾟ上昇
ANB M8827                ; COVｸﾗﾝﾌﾟ開
OUT Y2648                ; ﾈｼﾞ締め2ｸﾗﾝﾌﾟ閉SV
;ﾈｼﾞ供給ﾎｯﾊﾟ上下
LDB M8641                ; ﾎｯﾊﾟ2上昇
ANB M8805                ; ｶﾊﾞｰﾈｼﾞ供給ﾎｯﾊﾟ上昇
INV
OR Y2649                 ; ﾈｼﾞ供給2ﾎｯﾊﾟ上昇SV
ANB M8642                ; ﾎｯﾊﾟ2下降
ANB M8807                ; ｶﾊﾞｰﾈｼﾞ供給ﾎｯﾊﾟ下降
OUT Y2649                ; ﾈｼﾞ供給2ﾎｯﾊﾟ上昇SV
;ﾈｼﾞ供給切出ﾊﾞﾙﾌﾞ
LDB M8610                ; ﾈｼﾞ供給2ﾈｼﾞ到着ｴｽｹｰﾌﾟ送
ANB M8801                ; ｶﾊﾞｰﾈｼﾞ供給切出
INV
LD Y264A                 ; ﾈｼﾞ供給2切出SV
ANB Y264B                ; ﾈｼﾞ供給2切出戻SV
ORL
OUT Y264A                ; ﾈｼﾞ供給2切出SV
LDB M8601                ; ﾈｼﾞ供給2ｴｽｹｰﾌﾟ戻り
ANB M8622                ; ﾈｼﾞ供給2ｴｽｹｰﾌﾟ戻り
ANB M8803                ; ｶﾊﾞｰﾈｼﾞ供給切出戻
INV
LD Y264B                 ; ﾈｼﾞ供給2切出戻SV
ANB Y264A                ; ﾈｼﾞ供給2切出SV
ORL
OUT Y264B                ; ﾈｼﾞ供給2切出戻SV
;ﾈｼﾞ供給ﾕﾆｯﾄ表示ﾗﾝﾌﾟ
LD Y252B                 ; ﾈｼﾞ供給2ｽﾗｲﾄﾞﾛｯｸ
AND X149E                ; ﾈｼﾞ供給2ﾕﾆｯﾄ戻確認
LD M71                   ; 自動運転開始BZ
ANB Y252B                ; ﾈｼﾞ供給2ｽﾗｲﾄﾞﾛｯｸ
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
LDB Y252B                ; ﾈｼﾞ供給2ｽﾗｲﾄﾞﾛｯｸ
ANB X149E                ; ﾈｼﾞ供給2ﾕﾆｯﾄ戻確認
AND CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
ORL
OUT Y2544                ; ﾈｼﾞ供給ﾕﾆｯﾄ2閉PL
LDB M8604                ; ﾈｼﾞ供給2引掛りｴﾗｰ発生
ANB M8613                ; ﾈｼﾞ供給2ﾈｼﾞ取出ｴﾗｰ
ANB M8618                ; ﾈｼﾞ供給2ﾈｼﾞ残ｴﾗｰ発生
ANB M8631                ; ﾈｼﾞ供給2切出引掛りｴﾗｰ発生
INV
LD M8644                 ; ﾈｼﾞ不足供給要求
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT Y2546                ; ﾈｼﾞ供給2ｼｸﾞﾅﾙﾀﾜｰ赤
LD= D8540 K1             ; ﾈｼﾞ締2NGﾌﾗｸﾞ
OUT Y2547                ; ﾈｼﾞ供給2ｼｸﾞﾅﾙﾀﾜｰ青
LDP X170F                ; 取出部ﾘｾｯﾄPB
AND= D8540 K1            ; ﾈｼﾞ締2NGﾌﾗｸﾞ
OR CR2008                ; 運転開始時1ｽｷｬﾝON
@MOV K0 D8540            ; ﾈｼﾞ締2NGﾌﾗｸﾞ
;<h1/>■表示
;□□　　パネル表示　　□□
LD X147F                 ; ﾈｼﾞ供給2切出端
LD Y264A                 ; ﾈｼﾞ供給2切出SV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1760                ; UNIT16-1-1 TP-PL
LD X147E                 ; ﾈｼﾞ供給2切出戻端
LD Y264B                 ; ﾈｼﾞ供給2切出戻SV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1761                ; UNIT16-1-2 TP-PL
LD X149A                 ; ﾈｼﾞ供給2ﾎｯﾊﾟ上昇端
LD Y2649                 ; ﾈｼﾞ供給2ﾎｯﾊﾟ上昇SV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1762                ; UNIT16-1-3 TP-PL
LD X149B                 ; ﾈｼﾞ供給2ﾎｯﾊﾟ下降端
LDB Y2649                ; ﾈｼﾞ供給2ﾎｯﾊﾟ上昇SV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1763                ; UNIT16-1-4 TP-PL
LD Y2526                 ; ﾈｼﾞ供給2駆動電源ON
OUT B1764                ; UNIT16-1-5 TP-PL
LDB Y2526                ; ﾈｼﾞ供給2駆動電源ON
OUT B1765                ; UNIT16-1-6 TP-PL
LD X1498                 ; ﾈｼﾞ締め2ｸﾗﾝﾌﾟ閉端
LD Y2648                 ; ﾈｼﾞ締め2ｸﾗﾝﾌﾟ閉SV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1766                ; UNIT16-1-7 TP-PL
LD X1499                 ; ﾈｼﾞ締め2ｸﾗﾝﾌﾟ開端
LDB Y2648                ; ﾈｼﾞ締め2ｸﾗﾝﾌﾟ閉SV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1767                ; UNIT16-1-8 TP-PL
LDB Y252B                ; ﾈｼﾞ供給2ｽﾗｲﾄﾞﾛｯｸ
OUT B1768                ; UNIT16-1-9 TP-PL
LD Y252B                 ; ﾈｼﾞ供給2ｽﾗｲﾄﾞﾛｯｸ
OUT B1769                ; UNIT16-1-10 TP-PL
LD M8821                 ; COVﾈｼﾞ締め1ｻｲｸﾙ(手動)
OUT B176A                ; UNIT16-1-11 TP-PL
LD M8984                 ; ﾕﾆｯﾄ16原点復帰中
OUT B176B                ; UNIT16-1-12 TP-PL
LD M8832                 ; ﾈｼﾞ供給2確認動作
OUT B176C                ; UNIT16-1-13 TP-PL
LD X396A                 ; Screw_RB2(842)
LD M8851                 ; ﾄﾙｸ測定移動(手動)
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B176D                ; UNIT16-1-14 TP-PL
LD M8840                 ; MANUAL_ON
OUT B177F                ; UNIT16-2-16 TP-PL
;<h1/>■異常
;□□　　異常検出　　□□
;B200(K513)--B20F(K528)  B210(K529)--B21F(K544)
LDP X398C                ; Screw_RB2_Discharge_miss
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0200                ; COVﾈｼﾞ締RB原点復帰時ﾈｼﾞ排出異常
ORL
OUT B0200                ; COVﾈｼﾞ締RB原点復帰時ﾈｼﾞ排出異常
@DW K512 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0700
AND B0200                ; COVﾈｼﾞ締RB原点復帰時ﾈｼﾞ排出異常
OUT B0700
LDP X3987                ; Screw_RB2_Out_of_range
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0201                ; COVﾈｼﾞ締RB原点復帰時ｴﾘｱ外
ORL
OUT B0201                ; COVﾈｼﾞ締RB原点復帰時ｴﾘｱ外
@DW K513 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0701
AND B0201                ; COVﾈｼﾞ締RB原点復帰時ｴﾘｱ外
OUT B0701
LD Y264B                 ; ﾈｼﾞ供給2切出戻SV
ANB X147E                ; ﾈｼﾞ供給2切出戻端
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0202                ; COVﾈｼﾞ供給切出側ｼﾘﾝﾀﾞ異常
ORL
MPS
TMR K1650 K50            ; ﾈｼﾞ供給2切出側ｼﾘﾝﾀﾞ確認
MPP
AND T1650                ; ﾈｼﾞ供給2切出側ｼﾘﾝﾀﾞ確認
OUT B0202                ; COVﾈｼﾞ供給切出側ｼﾘﾝﾀﾞ異常
@DW K514 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0702
AND B0202                ; COVﾈｼﾞ供給切出側ｼﾘﾝﾀﾞ異常
OUT B0702
LD Y264A                 ; ﾈｼﾞ供給2切出SV
ANB X147F                ; ﾈｼﾞ供給2切出端
ANB M8631                ; ﾈｼﾞ供給2切出引掛りｴﾗｰ発生
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0203                ; COVﾈｼﾞ供給原点側ｼﾘﾝﾀﾞ異常
ORL
MPS
TMR K1651 K50            ; ﾈｼﾞ供給2原点側ｼﾘﾝﾀﾞ確認
MPP
AND T1651                ; ﾈｼﾞ供給2原点側ｼﾘﾝﾀﾞ確認
OUT B0203                ; COVﾈｼﾞ供給原点側ｼﾘﾝﾀﾞ異常
@DW K515 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0703
AND B0203                ; COVﾈｼﾞ供給原点側ｼﾘﾝﾀﾞ異常
OUT B0703
LDB X149E                ; ﾈｼﾞ供給2ﾕﾆｯﾄ戻確認
AND M31                  ; 手動ﾓｰﾄﾞ
OUT B0204                ; COVﾈｼﾞ供給ﾕﾆｯﾄ開
@DW K516 D0
CON
@FIFOW D0 D900           ; 異常内容
LD X3922                 ; Screw_RB2_Error
ANB B0205                ; ｶﾊﾞｰﾈｼﾞ締RB異常
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0205                ; ｶﾊﾞｰﾈｼﾞ締RB異常
ORL
OUT B0205                ; ｶﾊﾞｰﾈｼﾞ締RB異常
@DW K517 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0705
AND B0205                ; ｶﾊﾞｰﾈｼﾞ締RB異常
OUT B0705
LD Y2648                 ; ﾈｼﾞ締め2ｸﾗﾝﾌﾟ閉SV
ANB X1498                ; ﾈｼﾞ締め2ｸﾗﾝﾌﾟ閉端
LDB Y2648                ; ﾈｼﾞ締め2ｸﾗﾝﾌﾟ閉SV
ANB X1499                ; ﾈｼﾞ締め2ｸﾗﾝﾌﾟ開端
ORL
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0206                ; COVﾈｼﾞ締押さえ異常
ORL
MPS
TMR K1652 K50            ; COVﾈｼﾞ締め押さえｼﾘﾝﾀﾞ確認
MPP
AND T1652                ; COVﾈｼﾞ締め押さえｼﾘﾝﾀﾞ確認
OUT B0206                ; COVﾈｼﾞ締押さえ異常
@DW K518 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0706
AND B0206                ; COVﾈｼﾞ締押さえ異常
OUT B0706
LD M8604                 ; ﾈｼﾞ供給2引掛りｴﾗｰ発生
OUT B0207                ; COVﾈｼﾞ供給引掛かり異常
@DW K519 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0707
AND B0207                ; COVﾈｼﾞ供給引掛かり異常
OUT B0707
LD M8613                 ; ﾈｼﾞ供給2ﾈｼﾞ取出ｴﾗｰ
OUT B0208                ; COVﾈｼﾞ供給ﾈｼﾞ取出不良
@DW K520 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0708
AND B0208                ; COVﾈｼﾞ供給ﾈｼﾞ取出不良
OUT B0708
LD M8618                 ; ﾈｼﾞ供給2ﾈｼﾞ残ｴﾗｰ発生
OUT B0209                ; COVﾈｼﾞ供給切出位置ﾈｼﾞ残
@DW K521 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0709
AND B0209                ; COVﾈｼﾞ供給切出位置ﾈｼﾞ残
OUT B0709
LD M8631                 ; ﾈｼﾞ供給2切出引掛りｴﾗｰ発生
OUT B020A                ; ﾈｼﾞ供給2切出引掛りｴﾗｰ
@DW K522 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B070A
AND B020A                ; ﾈｼﾞ供給2切出引掛りｴﾗｰ
OUT B070A
LDB X149E                ; ﾈｼﾞ供給2ﾕﾆｯﾄ戻確認
AND M30                  ; 自動ﾓｰﾄﾞ
OUT B020B                ; ﾈｼﾞ供給ﾕﾆｯﾄ2開
@DW K523 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B070B                 ; ﾈｼﾞ供給ﾕﾆｯﾄ2開BZ停止
AND B020B                ; ﾈｼﾞ供給ﾕﾆｯﾄ2開
OUT B070B                ; ﾈｼﾞ供給ﾕﾆｯﾄ2開BZ停止
LD Y2649                 ; ﾈｼﾞ供給2ﾎｯﾊﾟ上昇SV
ANB X149A                ; ﾈｼﾞ供給2ﾎｯﾊﾟ上昇端
LDB Y2649                ; ﾈｼﾞ供給2ﾎｯﾊﾟ上昇SV
ANB X149B                ; ﾈｼﾞ供給2ﾎｯﾊﾟ下降端
ORL
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B020C                ; ｶﾊﾞｰﾎｯﾊﾟｰｼﾘﾝﾀﾞ異常
ORL
MPS
TMR K1653 K50
MPP
AND T1653
OUT B020C                ; ｶﾊﾞｰﾎｯﾊﾟｰｼﾘﾝﾀﾞ異常
@DW K524 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B070C
AND B020C                ; ｶﾊﾞｰﾎｯﾊﾟｰｼﾘﾝﾀﾞ異常
OUT B070C
LD M8644                 ; ﾈｼﾞ不足供給要求
OUT B020D                ; ﾈｼﾞ不足供給要求
@DW H020D D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B070D
AND B020D                ; ﾈｼﾞ不足供給要求
OUT B070D
;異常ﾌﾞｻﾞｰまとめ
LDB B0200                ; COVﾈｼﾞ締RB原点復帰時ﾈｼﾞ排出異常
OR B0700
LDB B0201                ; COVﾈｼﾞ締RB原点復帰時ｴﾘｱ外
OR B0701
ANL
LDB B0202                ; COVﾈｼﾞ供給切出側ｼﾘﾝﾀﾞ異常
OR B0702
ANL
LDB B0203                ; COVﾈｼﾞ供給原点側ｼﾘﾝﾀﾞ異常
OR B0703
ANL
LDB B0205                ; ｶﾊﾞｰﾈｼﾞ締RB異常
OR B0705
ANL
LDB B0206                ; COVﾈｼﾞ締押さえ異常
OR B0706
ANL
LDB B020C                ; ｶﾊﾞｰﾎｯﾊﾟｰｼﾘﾝﾀﾞ異常
OR B070C
ANL
INV
OUT M8989                ; ﾕﾆｯﾄ16異常BZ補助
;Error location display
LDB B0200                ; COVﾈｼﾞ締RB原点復帰時ﾈｼﾞ排出異常
ANB B0201                ; COVﾈｼﾞ締RB原点復帰時ｴﾘｱ外
ANB B0202                ; COVﾈｼﾞ供給切出側ｼﾘﾝﾀﾞ異常
ANB B0203                ; COVﾈｼﾞ供給原点側ｼﾘﾝﾀﾞ異常
ANB B0205                ; ｶﾊﾞｰﾈｼﾞ締RB異常
ANB B0206                ; COVﾈｼﾞ締押さえ異常
ANB B0207                ; COVﾈｼﾞ供給引掛かり異常
ANB B0208                ; COVﾈｼﾞ供給ﾈｼﾞ取出不良
ANB B0209                ; COVﾈｼﾞ供給切出位置ﾈｼﾞ残
ANB B020A                ; ﾈｼﾞ供給2切出引掛りｴﾗｰ
ANB B020B                ; ﾈｼﾞ供給ﾕﾆｯﾄ2開
ANB B020C                ; ｶﾊﾞｰﾎｯﾊﾟｰｼﾘﾝﾀﾞ異常
ANB B020D                ; ﾈｼﾞ不足供給要求
ANB B0AA                 ; 原点復帰COVﾈｼﾞ締めﾜｰｸ有異常
ANB B01B                 ; ｶﾊﾞｰﾈｼﾞ締め非常停止
INV
OUT B0910                ; UT16 Error
END
ENDH
