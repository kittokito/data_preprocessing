DEVICE:53
;MODULE:UT12_PCB_Scrw_RB
;MODULE_TYPE:0
;□□　　入力受け　　□□
LD X1264                 ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ閉端
TMH K1210 K10            ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ閉端
LD X1265                 ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ開端
TMH K1211 K2             ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ開端
;ﾈｼﾞ供給ﾕﾆｯﾄ
LD X123D                 ; ﾈｼﾞ供給1ﾈｼﾞ確認
LD CR2003                ; 常時OFF
ANB T1213                ; ﾈｼﾞ供給1無検出ｳｪｲﾄ
ORL
TMH K1212 K30            ; ﾈｼﾞ供給1ﾈｼﾞ検出
LDB X123D                ; ﾈｼﾞ供給1ﾈｼﾞ確認
TMH K1213 K20            ; ﾈｼﾞ供給1無検出ｳｪｲﾄ
LD X123F                 ; ﾈｼﾞ供給1切出端
TMH K1214 K30            ; ﾈｼﾞ供給1ｴｽｹｰﾌﾟ切出側端
LD X123E                 ; ﾈｼﾞ供給1切出戻端
TMH K1215 K30            ; ﾈｼﾞ供給1ｴｽｹｰﾌﾟORG側端
LD X1260                 ; ﾈｼﾞ供給1ﾎｯﾊﾟ上昇端
TMR K1217 K5             ; ﾈｼﾞ供給1ﾎｯﾊﾟ上昇端
LD X1261                 ; ﾈｼﾞ供給1ﾎｯﾊﾟ下降端
TMR K1218 K50            ; ﾈｼﾞ供給1ﾎｯﾊﾟ下降端
LD Y230D                 ; ﾈｼﾞ供給1ｽﾗｲﾄﾞﾛｯｸ
AND X1269                ; ﾈｼﾞ供給1ﾕﾆｯﾄ戻確認
TMR K1219 K15            ; ﾈｼﾞ供給1ﾛｯｸ確認ﾃﾞｨﾚｲ
;■ロボット等機器入力受け
LD CR2002                ; 常時ON
PMOV X3710 K0 D6524 K0 K8; Screw_RB1_Posi_1  Screwe RB  ﾈｼﾞ締め箇所 No.
PMOV X3718 K0 D6525 K0 K8; Screw_RB1_ERR_Code_1  Screwe RB  ﾈｼﾞ締めｴﾗｰｺｰﾄﾞ
;□ ﾕﾆｯﾄ原点
LD T1211                 ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ開端
ANB X3661                ; Screw_RB1_RUN
AND X3663                ; Screw_RB1_SV_ON
AND X3664                ; Screw_RB1_Ready
AND X3665                ; Screw_RB1_Auto
AND X3666                ; Screw_RB1_EXT
ANB X3668                ; Screw_RB1_Worning
AND X3726                ; Screw_RB1_ORG(870)
AND X370F                ; Screw_RB1_Area1(ORG)
OUT M6980                ; ﾕﾆｯﾄ12原点
;□ 非常停止
LDB CR2003               ; 常時OFF
INV
OUT M6981                ; ﾕﾆｯﾄ12全異常
;□ 起動条件
LD M6980                 ; ﾕﾆｯﾄ12原点
OUT M6982                ; ﾕﾆｯﾄ12起動条件
;□ 起動OFF
LDB M50                  ; 運転準備
OR M6986                 ; ﾕﾆｯﾄ12ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M6983                ; ﾕﾆｯﾄ12起動OFF
;□ 原点復帰
LD M82                   ; 原点復帰開始
LDP B11EB                ; UNIT12-1-12 TP-PB
AND M31                  ; 手動ﾓｰﾄﾞ
ANB M82                  ; 原点復帰開始
ANB M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
ORL
ANB M6984                ; ﾕﾆｯﾄ12原点復帰中
OR M6984                 ; ﾕﾆｯﾄ12原点復帰中
ANB M6983                ; ﾕﾆｯﾄ12起動OFF
ANB M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生(PAUSE)
ANB M6799                ; ﾕﾆｯﾄ12原点終了
OUT M6984                ; ﾕﾆｯﾄ12原点復帰中
;□ 起動中
LD M73                   ; 各工程起動指令
AND M3105                ; 基板ﾈｼﾞ締め作業開始
ANB M130                 ; 全体PAUSE
LD M31                   ; 手動ﾓｰﾄﾞ
AND M32                  ; ﾒｲﾝ手動操作可能条件
AND CR2003               ; 常時OFF
ORL
AND M6982                ; ﾕﾆｯﾄ12起動条件
OR M6985                 ; ﾕﾆｯﾄ12起動中
ANB M6983                ; ﾕﾆｯﾄ12起動OFF
ANB M6549                ; ﾕﾆｯﾄ12-1ｻｲｸﾙ停止
OUT M6985                ; ﾕﾆｯﾄ12起動中
;□ ｻｲｸﾙ停止異常
LDB B0180                ; 基板ﾈｼﾞ締RB原点復帰時ﾈｼﾞ排出異常
ANB B0181                ; 基板ﾈｼﾞ締RB原点復帰時ｴﾘｱ外
ANB B0185                ; 基板ﾈｼﾞ締RB異常
INV
OUT M6986                ; ﾕﾆｯﾄ12ｻｲｸﾙ停止異常
;□ 払出停止異常
LDB CR2003               ; 常時OFF
INV
OUT M6987                ; ﾕﾆｯﾄ12払出停止異常
;□ 警報補助
LDB B0187                ; PCBﾈｼﾞ供給引掛かり異常
OR B0687
LDB B0188                ; PCBﾈｼﾞ供給ﾈｼﾞ取出不良
OR B0688
ANL
LDB B0189                ; PCBﾈｼﾞ供給切出位置ﾈｼﾞ残
OR B0689
ANL
LDB B018A                ; ﾈｼﾞ供給1切出引掛りｴﾗｰ
OR B068A
ANL
LDB B018C                ; PCBﾎｯﾊﾟｼﾘﾝﾀﾞ異常
OR B068D
ANL
INV
OUT M6988                ; ﾕﾆｯﾄ12警報補助
;□ 機器準備確認
LDB X3661                ; Screw_RB1_RUN
AND X3663                ; Screw_RB1_SV_ON
AND X3664                ; Screw_RB1_Ready
AND X3665                ; Screw_RB1_Auto
AND X3666                ; Screw_RB1_EXT
ANB X3668                ; Screw_RB1_Worning
OUT M6990                ; ﾕﾆｯﾄ12機器準備完了
;□ ｴﾗｰ発生　一時停止
LDB B0182                ; 基板ﾈｼﾞ供給切出側ｼﾘﾝﾀﾞ異常
ANB B0183                ; 基板ﾈｼﾞ供給原点側ｼﾘﾝﾀﾞ異常
ANB B0186                ; PCBﾈｼﾞ締押さえ異常
ANB B018C                ; PCBﾎｯﾊﾟｼﾘﾝﾀﾞ異常
INV
OUT M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生(PAUSE)
;□ 動作中ﾕﾆｯﾄ無し
LD M130                  ; 全体PAUSE
LD M6510                 ; ﾈｼﾞ締めｸﾗﾝﾌﾟ閉
OR M6610                 ; ﾈｼﾞ供給1ﾈｼﾞ到着ｴｽｹｰﾌﾟ送
OR M6622                 ; ﾈｼﾞ供給1ｴｽｹｰﾌﾟ戻り
ANL
ORB M6985                ; ﾕﾆｯﾄ12起動中
ANB M6984                ; ﾕﾆｯﾄ12原点復帰中
TMR K1201 K30            ; ﾕﾆｯﾄ12動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D6500 D6505          ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ12動作中判定
LD T1201                 ; ﾕﾆｯﾄ12動作無し判定ﾀｲﾏ
OUT M6992                ; ﾕﾆｯﾄ12動作無し確認
;□ 払出しﾜｰｸ無し
LD CR2002                ; 常時ON
MPS
WSUM D16500 K80          ; UT12ﾌﾚｰﾑ投入ﾊﾟﾚｯﾄID
CON
STA D6570                ; 基板ﾈｼﾞ締めﾜｰｸ情報(ﾜｰｸ有無)
MPP
LD= D6570 K0             ; 基板ﾈｼﾞ締めﾜｰｸ情報(ﾜｰｸ有無)
AND X1243                ; 基板ﾈｼﾞ締めﾜｰｸ確認
ANL
TMR K1205 K10            ; UNIT11払出処理ﾜｰｸ無し
LD T1205                 ; UNIT11払出処理ﾜｰｸ無し
OUT M6993                ; ﾕﾆｯﾄ12ﾜｰｸ無し
;□ ｽﾃｯﾌﾟ起動
LD M30                   ; 自動ﾓｰﾄﾞ
LD M31                   ; 手動ﾓｰﾄﾞ
AND CR2003               ; 常時OFF
ORL
OUT M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
;□□□□□□□□□□□□□□□
;□　　 　UNIT12自動回路 　　□
;□□□□□□□□□□□□□□□
;<h1/>■自動回路 
;ﾈｼﾞ締ﾛﾎﾞｯﾄ
LD CR2002                ; 常時ON
ZRES M6500 M6549         ; ﾕﾆｯﾄ12-1ｽﾃｯﾌﾟ開始  ﾕﾆｯﾄ12-1ｻｲｸﾙ停止
LDB M6985                ; ﾕﾆｯﾄ12起動中
MOV K0 D6500             ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
DW K0 D6700              ; UT12 main STEP monitor
LD M6985                 ; ﾕﾆｯﾄ12起動中
MOV D6500 Z1             ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
SET M6500:Z1             ; ﾕﾆｯﾄ12-1ｽﾃｯﾌﾟ開始
CAL+ D6500 K6500 D6700   ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ  UT12 main STEP monitor
;<h1/>/ 処理判定
;ﾜｰｸ有無判定
;ﾌﾚｰﾑが無い場合は作業完了処理
LD M6500                 ; ﾕﾆｯﾄ12-1ｽﾃｯﾌﾟ開始
MPS
LDB X1243                ; 基板ﾈｼﾞ締めﾜｰｸ確認
AND<> D16522 K0          ; UT12基板ﾈｼﾞ締めﾛﾎﾞｯﾄNo.
ANL
@INC D6500               ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
MPP
LD X1243                 ; 基板ﾈｼﾞ締めﾜｰｸ確認
OR= D16522 K0            ; UT12基板ﾈｼﾞ締めﾛﾎﾞｯﾄNo.
ANL
MOV K43 D6500            ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
;ﾜｰｸ情報確認(OK or NG品)
LD M6501                 ; ﾜｰｸ有確認
MPS
LD= D16562 K1            ; UT12ﾜｰｸOK/NGﾃﾞｰﾀ
OR= D16562 K2            ; UT12ﾜｰｸOK/NGﾃﾞｰﾀ
ANL
@INC D6500               ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
MPP
AND= D16562 K0           ; UT12ﾜｰｸOK/NGﾃﾞｰﾀ
MOV K43 D6500            ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
;作業開始
LD M6502                 ; OK品､作業開始
AND W0104.2              ; 基板ﾈｼﾞ締め開始
AND W04.2                ; 基板ﾈｼﾞ締め受付信号
ANB M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生(PAUSE)
@INC D6500               ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
;処理有効･無効判定(ﾃﾞﾊﾞｯｸﾞﾓｰﾄﾞ)
LD M6503                 ; 処理有効･無効判定
MPS
ANB W08.7                ; 基板ﾈｼﾞ締め無効
MOV K10 D6500            ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
MPP
AND W08.7                ; 基板ﾈｼﾞ締め無効
MOV K40 D6500            ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
;<h1/>/ ﾈｼﾞ締め開始
;Screw RB Operation
;ﾜｰｸｸﾗﾝﾌﾟ
LD M6510                 ; ﾈｼﾞ締めｸﾗﾝﾌﾟ閉
AND T1210                ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ閉端
ANB M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生(PAUSE)
ANB M130                 ; 全体PAUSE
@INC D6500               ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
;設定初期化
;Setting initialization
LD M6511                 ; ﾈｼﾞ締めｸﾗﾝﾌﾟ閉確認
ANB M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生(PAUSE)
@MOV K0 D6521            ; Screwe RB  Type No.
@MOV K0 D6522            ; Screwe RB  PLT No.
@MOV K0 D6523            ; Screwe RB  Screw No.
@MOV K0 D6550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K0 D6551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
@MOV K0 D6552            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
LD M6511                 ; ﾈｼﾞ締めｸﾗﾝﾌﾟ閉確認
ANB M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生(PAUSE)
FMOV K0 D6531 K5         ; ﾈｼﾞ締めPOS.1-1 ｴﾗｰｺｰﾄﾞ
@FMOV K0 D20397 K5       ; 基板ﾈｼﾞ締め1回目ﾄﾙｸ値
LD M6511                 ; ﾈｼﾞ締めｸﾗﾝﾌﾟ閉確認
ANB M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生(PAUSE)
AND= D6531 K0            ; ﾈｼﾞ締めPOS.1-1 ｴﾗｰｺｰﾄﾞ
AND= D6532 K0            ; ﾈｼﾞ締めPOS.1-2 ｴﾗｰｺｰﾄﾞ
AND= D6533 K0            ; ﾈｼﾞ締めPOS.1-3 ｴﾗｰｺｰﾄﾞ
AND= D6534 K0            ; ﾈｼﾞ締めPOS.1-4 ｴﾗｰｺｰﾄﾞ
AND= D6535 K0            ; ﾈｼﾞ締めPOS.1-5 ｴﾗｰｺｰﾄﾞ
AND= D20397 K0           ; 基板ﾈｼﾞ締め1回目ﾄﾙｸ値
AND= D20398 K0           ; 基板ﾈｼﾞ締め2回目ﾄﾙｸ値
AND= D20399 K0           ; 基板ﾈｼﾞ締め3回目ﾄﾙｸ値
AND= D20400 K0           ; 基板ﾈｼﾞ締め4回目ﾄﾙｸ値
AND= D20401 K0           ; 基板ﾈｼﾞ締め5回目ﾄﾙｸ値
AND= D6521 K0            ; Screwe RB  Type No.
AND= D6522 K0            ; Screwe RB  PLT No.
AND= D6523 K0            ; Screwe RB  Screw No.
AND= D6550 K0            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D6551 K0            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D6552 K0            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
@INC D6500               ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締めﾃﾞｰﾀ転送
LD M6512                 ; ﾈｼﾞ締めﾃﾞｰﾀｾｯﾄ
ANB M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生(PAUSE)
@MOV D16522 D6521        ; UT12基板ﾈｼﾞ締めﾛﾎﾞｯﾄNo.  Screwe RB  Type No.
@MOV D16523 D6523        ; UT12基板ﾈｼﾞ締め本数  Screwe RB  Screw No.
MPS
@MOV K1 D6522            ; Screwe RB  PLT No.
MPP
LD= D16522 D6521         ; UT12基板ﾈｼﾞ締めﾛﾎﾞｯﾄNo.  Screwe RB  Type No.
AND= D16523 D6523        ; UT12基板ﾈｼﾞ締め本数  Screwe RB  Screw No.
AND= K1 D6522            ; Screwe RB  PLT No.
ANL
@INC D6500               ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締め動作開始起動
LD M6513                 ; ﾈｼﾞ締め開始
ANB M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生(PAUSE)
@MOV K2 D6550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D6551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K1 D6552            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D6550 K2             ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D6551 K1            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D6552 K1            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D6500               ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M6514                 ; ﾈｼﾞ締めPRG.ｽﾀｰﾄ
AND X3661                ; Screw_RB1_RUN
AND X3665                ; Screw_RB1_Auto
@INC D6500               ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
LD M6515                 ; ﾈｼﾞ締め動作開始確認
AND X3728                ; Screw_RB1_Screw_Start(872)
ANB X3720                ; Screw_RB1_ALL_Complete(864)
ANB X3723                ; Screw_RB1_Take_out failure(867)
ANB X3725                ; Screw_RB1_Screw fail  (869)
ANB X372A                ; Screw_RB1_Process_of_Stop(874)
ANB X372C                ; Screw_RB1_Discharge_miss(876)
@INC D6500               ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締め1ｻｲｸﾙ完了
;Screw 1Cycle End
LD M6516                 ; ﾈｼﾞ締め完了待ち
ANB X3728                ; Screw_RB1_Screw_Start(872)
AND X372B                ; Screw_RB1_Operat_stop(875)
ANB X3661                ; Screw_RB1_RUN
@INC D6500               ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
;結果判断
;Result check
LD M6517                 ; ﾈｼﾞ締め結果確認
ANB M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生(PAUSE)
MPS
LD= D6531 K1             ; ﾈｼﾞ締めPOS.1-1 ｴﾗｰｺｰﾄﾞ
LD= D6532 K1             ; ﾈｼﾞ締めPOS.1-2 ｴﾗｰｺｰﾄﾞ
LD= D6533 K1             ; ﾈｼﾞ締めPOS.1-3 ｴﾗｰｺｰﾄﾞ
LD= D6534 K1             ; ﾈｼﾞ締めPOS.1-4 ｴﾗｰｺｰﾄﾞ
LD= D6535 K1             ; ﾈｼﾞ締めPOS.1-5 ｴﾗｰｺｰﾄﾞ
OR= D16523 K4            ; UT12基板ﾈｼﾞ締め本数
ANL
OR= D16523 K3            ; UT12基板ﾈｼﾞ締め本数
ANL
OR= D16523 K2            ; UT12基板ﾈｼﾞ締め本数
ANL
OR= D16523 K1            ; UT12基板ﾈｼﾞ締め本数
ANL
ANL
MOV K30 D6500            ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
MPP
LD>= D16523 K1           ; UT12基板ﾈｼﾞ締め本数
AND<> D6531 K1           ; ﾈｼﾞ締めPOS.1-1 ｴﾗｰｺｰﾄﾞ
LD>= D16523 K2           ; UT12基板ﾈｼﾞ締め本数
AND<> D6532 K1           ; ﾈｼﾞ締めPOS.1-2 ｴﾗｰｺｰﾄﾞ
ORL
LD>= D16523 K3           ; UT12基板ﾈｼﾞ締め本数
AND<> D6533 K1           ; ﾈｼﾞ締めPOS.1-3 ｴﾗｰｺｰﾄﾞ
ORL
LD>= D16523 K4           ; UT12基板ﾈｼﾞ締め本数
AND<> D6534 K1           ; ﾈｼﾞ締めPOS.1-4 ｴﾗｰｺｰﾄﾞ
ORL
LD>= D16523 K5           ; UT12基板ﾈｼﾞ締め本数
AND<> D6535 K1           ; ﾈｼﾞ締めPOS.1-5 ｴﾗｰｺｰﾄﾞ
ORL
ANL
@INC D6500               ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締め結果NGﾃﾞｰﾀｾｯﾄ
LD M6518                 ; 結果NG､情報ｾｯﾄ
@MOV K0 D16562           ; UT12ﾜｰｸOK/NGﾃﾞｰﾀ
MPS
@MOV K1 D6540            ; ﾈｼﾞ締1NGﾌﾗｸﾞ
MPP
AND= D16562 K0           ; UT12ﾜｰｸOK/NGﾃﾞｰﾀ
MOV K30 D6500            ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
;ｸﾗﾝﾌﾟ開
LD M6530                 ; ﾈｼﾞ締めｸﾗﾝﾌﾟ開
AND T1211                ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ開端
@INC D6500               ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
LD M6531                 ; ﾜｰｸNGﾁｪｯｸ
MPS
LD= D16562 K1            ; UT12ﾜｰｸOK/NGﾃﾞｰﾀ
OR= D16562 K2            ; UT12ﾜｰｸOK/NGﾃﾞｰﾀ
ANL
MOV K40 D6500            ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
MPP
AND= D16562 K0           ; UT12ﾜｰｸOK/NGﾃﾞｰﾀ
MOV K41 D6500            ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
;処理結果ﾊﾝﾄﾞｼｪｲｸ
LD M6540                 ; 基板ﾈｼﾞ締め完了
AND W0104.3              ; 基板ﾈｼﾞ締め結果
@INC D6500               ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
LD M6541                 ; 基板ﾈｼﾞ締め開始OFF
ANB W0104.2              ; 基板ﾈｼﾞ締め開始
ANB W04.2                ; 基板ﾈｼﾞ締め受付信号
@INC D6500               ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
LD M6542                 ; 基板ﾈｼﾞ締め結果OFF
ANB W0104.3              ; 基板ﾈｼﾞ締め結果
@INC D6500               ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締め終了
;Screw complete
LD M6543                 ; ﾈｼﾞ締め完了
AND M3155                ; 基板ﾈｼﾞ締め作業完了
@INC D6500               ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
LD M6544                 ; 作業完了確認
ANB M3105                ; 基板ﾈｼﾞ締め作業開始
@INC D6500               ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND CR2003               ; 常時OFF
MOV K48 D6500            ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
LD M6545                 ; 基板ﾈｼﾞ締め作業要求OFF確認
OR M6548                 ; ﾕﾆｯﾄ12-1ｻｲｸﾙ停止処理
@MOV K49 D6500           ; ﾕﾆｯﾄ12-1自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締め停止、続行指令補助
;先行動作は今の所無いので実行と続行は常時可
LD CR2003                ; 常時OFF
AND X3729                ; Screw_RB1_Wait(873)
ANB M6562                ; ﾈｼﾞ締め続行ﾌﾗｸﾞ
OR M6560                 ; 停止指令
AND M6985                ; ﾕﾆｯﾄ12起動中
ANB M6561                ; ﾈｼﾞ締め実行許可
OUT M6560                ; 停止指令
LD CR2002                ; 常時ON
AND M6516                ; ﾈｼﾞ締め完了待ち
ANB M6560                ; 停止指令
OR M6561                 ; ﾈｼﾞ締め実行許可
AND M6985                ; ﾕﾆｯﾄ12起動中
OUT M6561                ; ﾈｼﾞ締め実行許可
TMH K1225 K5             ; 基板ﾈｼﾞ締ｽﾀｰﾄ
LD M6561                 ; ﾈｼﾞ締め実行許可
OUT M6562                ; ﾈｼﾞ締め続行ﾌﾗｸﾞ
;ﾈｼﾞ締めｴﾗｰｺｰﾄﾞ読込
LD M6985                 ; ﾕﾆｯﾄ12起動中
LDP X3721                ; Screw_RB1_Complete(865)
ORP X3723                ; Screw_RB1_Take_out failure(867)
ORP X3725                ; Screw_RB1_Screw fail  (869)
ANL
MPS
AND= D6524 K1            ; Screwe RB  ﾈｼﾞ締め箇所 No.
MOV D6525 D6531          ; Screwe RB  ﾈｼﾞ締めｴﾗｰｺｰﾄﾞ  ﾈｼﾞ締めPOS.1-1 ｴﾗｰｺｰﾄﾞ
MRD
AND= D6524 K2            ; Screwe RB  ﾈｼﾞ締め箇所 No.
MOV D6525 D6532          ; Screwe RB  ﾈｼﾞ締めｴﾗｰｺｰﾄﾞ  ﾈｼﾞ締めPOS.1-2 ｴﾗｰｺｰﾄﾞ
MRD
AND= D6524 K3            ; Screwe RB  ﾈｼﾞ締め箇所 No.
MOV D6525 D6533          ; Screwe RB  ﾈｼﾞ締めｴﾗｰｺｰﾄﾞ  ﾈｼﾞ締めPOS.1-3 ｴﾗｰｺｰﾄﾞ
MRD
AND= D6524 K4            ; Screwe RB  ﾈｼﾞ締め箇所 No.
MOV D6525 D6534          ; Screwe RB  ﾈｼﾞ締めｴﾗｰｺｰﾄﾞ  ﾈｼﾞ締めPOS.1-4 ｴﾗｰｺｰﾄﾞ
MPP
AND= D6524 K5            ; Screwe RB  ﾈｼﾞ締め箇所 No.
MOV D6525 D6535          ; Screwe RB  ﾈｼﾞ締めｴﾗｰｺｰﾄﾞ  ﾈｼﾞ締めPOS.1-5 ｴﾗｰｺｰﾄﾞ
LDP X170F                ; 取出部ﾘｾｯﾄPB
@MOV K0 D6540            ; ﾈｼﾞ締1NGﾌﾗｸﾞ
;<h1/>■PLC→PC I/F
;基板ﾈｼﾞ締め開始･結果
LD M6502                 ; OK品､作業開始
OR W0104.2               ; 基板ﾈｼﾞ締め開始
ANB M6541                ; 基板ﾈｼﾞ締め開始OFF
AND M6985                ; ﾕﾆｯﾄ12起動中
OUT W0104.2              ; 基板ﾈｼﾞ締め開始
LD M6540                 ; 基板ﾈｼﾞ締め完了
OR W0104.3               ; 基板ﾈｼﾞ締め結果
ANB M6542                ; 基板ﾈｼﾞ締め結果OFF
AND M6985                ; ﾕﾆｯﾄ12起動中
OUT W0104.3              ; 基板ﾈｼﾞ締め結果
LD CR2002                ; 常時ON
MPS
AND= D6531 K1            ; ﾈｼﾞ締めPOS.1-1 ｴﾗｰｺｰﾄﾞ
OUT W016A.0              ; PCBﾈｼﾞ締め1結果
MRD
AND= D6532 K1            ; ﾈｼﾞ締めPOS.1-2 ｴﾗｰｺｰﾄﾞ
OUT W016A.1              ; PCBﾈｼﾞ締め2結果
MRD
AND= D6533 K1            ; ﾈｼﾞ締めPOS.1-3 ｴﾗｰｺｰﾄﾞ
OUT W016A.2              ; PCBﾈｼﾞ締め3結果
MRD
AND= D6534 K1            ; ﾈｼﾞ締めPOS.1-4 ｴﾗｰｺｰﾄﾞ
OUT W016A.3              ; PCBﾈｼﾞ締め4結果
MPP
AND= D6535 K1            ; ﾈｼﾞ締めPOS.1-5 ｴﾗｰｺｰﾄﾞ
OUT W016A.4              ; PCBﾈｼﾞ締め5結果
;ﾈｼﾞ締めﾄﾙｸﾃﾞｰﾀ取得､PC送信用ﾃﾞｰﾀ準備
LD CR2002                ; 常時ON
MOV D20397 W0160         ; 基板ﾈｼﾞ締め1回目ﾄﾙｸ値  基板ﾈｼﾞ締め1回目ﾄﾙｸ値
MOV D20398 W0162         ; 基板ﾈｼﾞ締め2回目ﾄﾙｸ値  基板ﾈｼﾞ締め2回目ﾄﾙｸ値
MOV D20399 W0164         ; 基板ﾈｼﾞ締め3回目ﾄﾙｸ値  基板ﾈｼﾞ締め3回目ﾄﾙｸ値
MOV D20400 W0166         ; 基板ﾈｼﾞ締め4回目ﾄﾙｸ値  基板ﾈｼﾞ締め4回目ﾄﾙｸ値
MOV D20401 W0168         ; 基板ﾈｼﾞ締め5回目ﾄﾙｸ値  基板ﾈｼﾞ締め5回目ﾄﾙｸ値
;ﾈｼﾞ締めｴﾗｰｺｰﾄﾞ取得､PC送信用ﾃﾞｰﾀ準備
LD CR2002                ; 常時ON
MOV D6531 W016B          ; ﾈｼﾞ締めPOS.1-1 ｴﾗｰｺｰﾄﾞ  基板ﾈｼﾞ締め1ｴﾗｰｺｰﾄﾞ
MOV D6532 W016C          ; ﾈｼﾞ締めPOS.1-2 ｴﾗｰｺｰﾄﾞ  基板ﾈｼﾞ締め2ｴﾗｰｺｰﾄﾞ
MOV D6533 W016D          ; ﾈｼﾞ締めPOS.1-3 ｴﾗｰｺｰﾄﾞ  基板ﾈｼﾞ締め3ｴﾗｰｺｰﾄﾞ
MOV D6534 W016E          ; ﾈｼﾞ締めPOS.1-4 ｴﾗｰｺｰﾄﾞ  基板ﾈｼﾞ締め4ｴﾗｰｺｰﾄﾞ
MOV D6535 W016F          ; ﾈｼﾞ締めPOS.1-5 ｴﾗｰｺｰﾄﾞ  基板ﾈｼﾞ締め5ｴﾗｰｺｰﾄﾞ
;<h1/>/ ﾈｼﾞ供給自動
;Quicher Operation
LD CR2002                ; 常時ON
ZRES M6600 M6639         ; ﾈｼﾞ供給1開始
LDB M73                  ; 各工程起動指令
ANB M6985                ; ﾕﾆｯﾄ12起動中
ANB M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M6832                ; ﾈｼﾞ供給1確認動作
MOV K0 D6501             ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
DW K0 D6701              ; UT12 sub 1 STEP monitor
LD M73                   ; 各工程起動指令
OR M6985                 ; ﾕﾆｯﾄ12起動中
OR M6821                 ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
OR M6832                 ; ﾈｼﾞ供給1確認動作
MOV D6501 Z1             ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
SET M6600:Z1             ; ﾈｼﾞ供給1開始
CAL+ D6501 K6600 D6701   ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ  UT12 sub 1 STEP monitor
;ﾈｼﾞ供給ｽﾃｯﾌﾟ開始
LD M6600                 ; ﾈｼﾞ供給1開始
ANB M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生(PAUSE)
MPS
ANB T1212                ; ﾈｼﾞ供給1ﾈｼﾞ検出
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
MPP
AND T1212                ; ﾈｼﾞ供給1ﾈｼﾞ検出
MOV K10 D6501            ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
LD M6601                 ; ﾈｼﾞ供給1ｴｽｹｰﾌﾟ戻り
AND T1215                ; ﾈｼﾞ供給1ｴｽｹｰﾌﾟORG側端
ANB M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生(PAUSE)
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ到着確認
;到着時はｴｽｹｰﾌﾟ動作・未到着時は引っ掛かりNG
LD M6602                 ; ﾈｼﾞ供給1ｴｽｹｰﾌﾟ戻り確認
ANB M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生(PAUSE)
MPS
ANB T1212                ; ﾈｼﾞ供給1ﾈｼﾞ検出
MPS
TMR K1240 K100           ; ﾈｼﾞ供給1ﾈｼﾞ引掛り
MPP
AND T1240                ; ﾈｼﾞ供給1ﾈｼﾞ引掛り
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
MPP
LD T1212                 ; ﾈｼﾞ供給1ﾈｼﾞ検出
LD M125                  ; ﾈｼﾞ供給ﾕﾆｯﾄ1閉正常
OR M6832                 ; ﾈｼﾞ供給1確認動作
ANL
ANL
MOV K10 D6501            ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ引っ掛りｴﾗｰ発生
LD M6603                 ; ﾈｼﾞ供給1引掛り
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K1200 D200            ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
LD M6604                 ; ﾈｼﾞ供給1引掛りｴﾗｰ発生
LD<> D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
ORB M260                 ; 20150618 仮Mori
ANL
AND X1269                ; ﾈｼﾞ供給1ﾕﾆｯﾄ戻確認
ANP X123C                ; ﾈｼﾞ供給1確認PB
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
LD M6605                 ; ﾈｼﾞ供給1引掛ｴﾗｰ解除
AND T1219                ; ﾈｼﾞ供給1ﾛｯｸ確認ﾃﾞｨﾚｲ
MPS
ANB X1269                ; ﾈｼﾞ供給1ﾕﾆｯﾄ戻確認
MOV K4 D6501             ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
MPP
AND X1269                ; ﾈｼﾞ供給1ﾕﾆｯﾄ戻確認
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
LD M6606                 ; ﾈｼﾞ供給1ﾛｯｸ確認
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
MOV K1 D6501             ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
;ｴｽｹｰﾌﾟ送り確認、ﾛﾎﾞｯﾄへ取出可ON
LD M6610                 ; ﾈｼﾞ供給1ﾈｼﾞ到着ｴｽｹｰﾌﾟ送
MPS
LD T1214                 ; ﾈｼﾞ供給1ｴｽｹｰﾌﾟ切出側端
ANB M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生(PAUSE)
ANB M130                 ; 全体PAUSE
ANL
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
MPP
ANB T1214                ; ﾈｼﾞ供給1ｴｽｹｰﾌﾟ切出側端
MPS
TMR K1241 K30            ; ﾈｼﾞ供給1ﾈｼﾞ切出引掛り
MPP
AND T1241                ; ﾈｼﾞ供給1ﾈｼﾞ切出引掛り
MOV K30 D6501            ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
;切出ｴﾗｰ
LD M6630                 ; ﾈｼﾞ供給1切出ｴﾗｰ
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K1201 D200            ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
LD M6631                 ; ﾈｼﾞ供給1切出引掛りｴﾗｰ発生
LD<> D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
ORB M260                 ; 20150618 仮Mori
ANL
AND X1269                ; ﾈｼﾞ供給1ﾕﾆｯﾄ戻確認
AND T1214                ; ﾈｼﾞ供給1ｴｽｹｰﾌﾟ切出側端
ANP X123C                ; ﾈｼﾞ供給1確認PB
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
LD M6632                 ; ﾈｼﾞ供給1ﾛｯｸ確認
AND T1219                ; ﾈｼﾞ供給1ﾛｯｸ確認ﾃﾞｨﾚｲ
MPS
ANB X1269                ; ﾈｼﾞ供給1ﾕﾆｯﾄ戻確認
MOV K31 D6501            ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
MPP
AND X1269                ; ﾈｼﾞ供給1ﾕﾆｯﾄ戻確認
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
LD M6633                 ; ﾈｼﾞ供給1ﾈｼﾞ切出ｴﾗｰ解除確認
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
MOV K11 D6501            ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
;ﾛﾎﾞｯﾄより取出完了確認
LD M6611                 ; ﾈｼﾞ供給1ﾈｼﾞ取出可ON
MPS
LD X3722                 ; Screw_RB1_Take_out_OK(866)
LDB T1212                ; ﾈｼﾞ供給1ﾈｼﾞ検出
AND M6832                ; ﾈｼﾞ供給1確認動作
ORL
ANL
MOV K16 D6501            ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
MPP
LD X3723                 ; Screw_RB1_Take_out failure(867)
ANB M6832                ; ﾈｼﾞ供給1確認動作
ANL
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
;RBねじ取出し不良
;Screw RB Screw pick up error
LD M6612                 ; ﾈｼﾞ供給1ﾈｼﾞ取出ｴﾗｰ
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
ANB X3723                ; Screw_RB1_Take_out failure(867)
DW K1202 D200            ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
LD M6613                 ; ﾈｼﾞ供給1ﾈｼﾞ取出ｴﾗｰ発生
LD<> D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
ORB M260                 ; 20150618 仮Mori
ANL
AND X1269                ; ﾈｼﾞ供給1ﾕﾆｯﾄ戻確認
ANP X123C                ; ﾈｼﾞ供給1確認PB
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
LD M6614                 ; ﾈｼﾞ供給1ﾛｯｸ確認
AND T1219                ; ﾈｼﾞ供給1ﾛｯｸ確認ﾃﾞｨﾚｲ
MPS
ANB X1269                ; ﾈｼﾞ供給1ﾕﾆｯﾄ戻確認
MOV K13 D6501            ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
MPP
AND X1269                ; ﾈｼﾞ供給1ﾕﾆｯﾄ戻確認
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
LD M6615                 ; ﾈｼﾞ供給1ﾈｼﾞ取出ｴﾗｰ解除確認
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ残ﾁｪｯｸ
LD M6616                 ; ﾈｼﾞ供給1ﾈｼﾞ取出完了確認
ANB X3722                ; Screw_RB1_Take_out_OK(866)
MPS
TMR K1242 K3             ; ﾈｼﾞ供給1ﾈｼﾞ残確認ﾃﾞｨﾚｲ
MPP
AND T1242                ; ﾈｼﾞ供給1ﾈｼﾞ残確認ﾃﾞｨﾚｲ
MPS
ANB T1212                ; ﾈｼﾞ供給1ﾈｼﾞ検出
MOV K21 D6501            ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
MPP
AND T1212                ; ﾈｼﾞ供給1ﾈｼﾞ検出
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
;切出ﾈｼﾞ残
;Screw remain at cuttingout position on Quicher
LD M6617                 ; ﾈｼﾞ供給1ﾈｼﾞ残ｴﾗｰ
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K1203 D200            ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
LD M6618                 ; ﾈｼﾞ供給1ﾈｼﾞ残ｴﾗｰ発生
LD<> D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
ORB M260                 ; 20150618 仮Mori
ANL
ANB T1212                ; ﾈｼﾞ供給1ﾈｼﾞ検出
AND X1269                ; ﾈｼﾞ供給1ﾕﾆｯﾄ戻確認
ANP X123C                ; ﾈｼﾞ供給1確認PB
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
LD M6619                 ; ﾈｼﾞ供給1ﾛｯｸ確認
AND T1219                ; ﾈｼﾞ供給1ﾛｯｸ確認ﾃﾞｨﾚｲ
MPS
ANB X1269                ; ﾈｼﾞ供給1ﾕﾆｯﾄ戻確認
MOV K18 D6501            ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
MPP
AND X1269                ; ﾈｼﾞ供給1ﾕﾆｯﾄ戻確認
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
LD M6620                 ; ﾈｼﾞ供給1ﾈｼﾞ残ｴﾗｰ解除確認
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
;ｴｽｹｰﾌﾟ戻
LD M6621                 ; ﾈｼﾞ供給1ﾈｼﾞ取出完了OFF確認
ANB M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生(PAUSE)
@INC D6501               ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
LD M6622                 ; ﾈｼﾞ供給1ｴｽｹｰﾌﾟ戻り
AND T1215                ; ﾈｼﾞ供給1ｴｽｹｰﾌﾟORG側端
ANB M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生(PAUSE)
ANB M130                 ; 全体PAUSE
@MOV K0 D6501            ; ﾕﾆｯﾄ12-2自動運転ｽﾃｯﾌﾟ
;<h1/>/ ﾈｼﾞ供給ﾎｯﾊﾟ自動
;Quicher Operation
;ﾈｼﾞ供給ﾎｯﾊﾟ自動
LD CR2002                ; 常時ON
ZRES M6640 M6649         ; ﾈｼﾞ供給ﾎｯﾊﾟ動作開始
LDB M73                  ; 各工程起動指令
ANB M6985                ; ﾕﾆｯﾄ12起動中
ANB M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M6832                ; ﾈｼﾞ供給1確認動作
MOV K0 D6502             ; ﾕﾆｯﾄ12-3自動運転ｽﾃｯﾌﾟ
DW K0 D6702              ; UT12 sub 1 STEP monitor
LD M6985                 ; ﾕﾆｯﾄ12起動中
OR M73                   ; 各工程起動指令
OR M6821                 ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
OR M6832                 ; ﾈｼﾞ供給1確認動作
MOV D6502 Z1             ; ﾕﾆｯﾄ12-3自動運転ｽﾃｯﾌﾟ
SET M6640:Z1             ; ﾈｼﾞ供給ﾎｯﾊﾟ動作開始
CAL+ D6502 K6640 D6702   ; ﾕﾆｯﾄ12-3自動運転ｽﾃｯﾌﾟ  UT12 sub 1 STEP monitor
;ﾎｯﾊﾟ残量確認
LD M6640                 ; ﾈｼﾞ供給ﾎｯﾊﾟ動作開始
AND X1262                ; ﾈｼﾞ供給1残量低下
MPS
TMR K1220 K300           ; ﾈｼﾞ供給1残量低下
MPP
AND T1220                ; ﾈｼﾞ供給1残量低下
@INC D6502               ; ﾕﾆｯﾄ12-3自動運転ｽﾃｯﾌﾟ
LD M6641                 ; ﾎｯﾊﾟ上昇
AND T1217                ; ﾈｼﾞ供給1ﾎｯﾊﾟ上昇端
@INC D6502               ; ﾕﾆｯﾄ12-3自動運転ｽﾃｯﾌﾟ
@INC D6560               ; 供給ﾎｯﾊﾟ供給ｶｳﾝﾀ
LD M6642                 ; ﾎｯﾊﾟ下降
AND T1218                ; ﾈｼﾞ供給1ﾎｯﾊﾟ下降端
MPS
TMR K1221 K10            ; ﾈｼﾞ供給1完､残量確認
MPP
AND T1221                ; ﾈｼﾞ供給1完､残量確認
MPS
ANB X1262                ; ﾈｼﾞ供給1残量低下
MOV K0 D6502             ; ﾕﾆｯﾄ12-3自動運転ｽﾃｯﾌﾟ
MOV K0 D6560             ; 供給ﾎｯﾊﾟ供給ｶｳﾝﾀ
MPP
AND X1262                ; ﾈｼﾞ供給1残量低下
TMR K1222 K20            ; ねじ検出ｳｪｲﾄ
CON
AND T1222                ; ねじ検出ｳｪｲﾄ
MPS
AND< D6560 K3            ; 供給ﾎｯﾊﾟ供給ｶｳﾝﾀ
MOV K1 D6502             ; ﾕﾆｯﾄ12-3自動運転ｽﾃｯﾌﾟ
MPP
AND>= D6560 K3           ; 供給ﾎｯﾊﾟ供給ｶｳﾝﾀ
@INC D6502               ; ﾕﾆｯﾄ12-3自動運転ｽﾃｯﾌﾟ
MOV K0 D6560             ; 供給ﾎｯﾊﾟ供給ｶｳﾝﾀ
LD M6643                 ; NOP
@INC D6502               ; ﾕﾆｯﾄ12-3自動運転ｽﾃｯﾌﾟ
LD M6644                 ; ﾈｼﾞ不足供給要求
ANP X123C                ; ﾈｼﾞ供給1確認PB
MOV K0 D6502             ; ﾕﾆｯﾄ12-3自動運転ｽﾃｯﾌﾟ
;<h1/>■原点復帰
;□□□□□□□□□□□□□□□
;□　　 UNIT12原点復帰回路 　□
;□□□□□□□□□□□□□□□
LD CR2002                ; 常時ON
ZRES M6750 M6799         ; 原点復帰開始  ﾕﾆｯﾄ12原点終了
LDB M6984                ; ﾕﾆｯﾄ12原点復帰中
MOV K0 D6510             ; ﾕﾆｯﾄ12原点復帰ｽﾃｯﾌﾟ
DW K0 D6710              ; UT12 origin STEP monitor
LD M6984                 ; ﾕﾆｯﾄ12原点復帰中
MOV D6510 Z1             ; ﾕﾆｯﾄ12原点復帰ｽﾃｯﾌﾟ
SET M6750:Z1             ; 原点復帰開始
CAL+ D6510 K6750 D6710   ; ﾕﾆｯﾄ12原点復帰ｽﾃｯﾌﾟ  UT12 origin STEP monitor
;設定初期化
;Setting initialization
LD M6750                 ; 原点復帰開始
ANB M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生(PAUSE)
@FMOV K0 D16500 K100     ; UT12ﾌﾚｰﾑ投入ﾊﾟﾚｯﾄID
@MOV K0 D6550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K0 D6551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K0 D6552            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D6550 K0             ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D6551 K0            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D6552 K0            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D6510               ; ﾕﾆｯﾄ12原点復帰ｽﾃｯﾌﾟ
;原点復帰開始
LD M6751                 ; ﾃﾞｰﾀ初期化完了
ANB M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生(PAUSE)
@MOV K2 D6550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D6551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K50 D6552           ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D6550 K2             ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D6551 K1            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D6552 K50           ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
@INC D6510               ; ﾕﾆｯﾄ12原点復帰ｽﾃｯﾌﾟ
LD M6752                 ; 原点復帰起動
AND X3661                ; Screw_RB1_RUN
@INC D6510               ; ﾕﾆｯﾄ12原点復帰ｽﾃｯﾌﾟ
LD M6753                 ; 原点復帰起動確認
ANB X3661                ; Screw_RB1_RUN
@INC D6510               ; ﾕﾆｯﾄ12原点復帰ｽﾃｯﾌﾟ
LD M6754                 ; 基板ﾈｼﾞ締め押え上昇
AND T1211                ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ開端
@INC D6510               ; ﾕﾆｯﾄ12原点復帰ｽﾃｯﾌﾟ
;原点復帰終了
LD M6755                 ; 基板ﾈｼﾞ締め押え上昇確認
AND M6980                ; ﾕﾆｯﾄ12原点
@MOV K48 D6510           ; ﾕﾆｯﾄ12原点復帰ｽﾃｯﾌﾟ
LD M6798                 ; ﾕﾆｯﾄ12原点確認
ANB M82                  ; 原点復帰開始
@MOV K49 D6510           ; ﾕﾆｯﾄ12原点復帰ｽﾃｯﾌﾟ
;<h1/>■手動回路
;□□□□□□□□□□□□□□□
;□　　 　UNIT12手動回路 　　□
;□□□□□□□□□□□□□□□
LD M31                   ; 手動ﾓｰﾄﾞ
AND M32                  ; ﾒｲﾝ手動操作可能条件
ANB M6985                ; ﾕﾆｯﾄ12起動中
ANB M6984                ; ﾕﾆｯﾄ12原点復帰中
MC
;ﾈｼﾞ供給切出
LD CR2002                ; 常時ON
OUT M6800                ; ﾈｼﾞ供給切出可
LD B11E0                 ; UNIT12-1-1 TP-PB
AND M6800                ; ﾈｼﾞ供給切出可
OR M6801                 ; ﾈｼﾞ供給切出
ANPB M6803               ; ﾈｼﾞ供給切出戻
ANB M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M6832                ; ﾈｼﾞ供給1確認動作
OUT M6801                ; ﾈｼﾞ供給切出
LD CR2002                ; 常時ON
OUT M6802                ; ﾈｼﾞ供給切出戻可
LD B11E1                 ; UNIT12-1-2 TP-PB
AND M6802                ; ﾈｼﾞ供給切出戻可
OR M6803                 ; ﾈｼﾞ供給切出戻
ANPB M6801               ; ﾈｼﾞ供給切出
ANB M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M6832                ; ﾈｼﾞ供給1確認動作
OUT M6803                ; ﾈｼﾞ供給切出戻
;ﾈｼﾞ供給ﾎｯﾊﾟ
LD CR2002                ; 常時ON
OUT M6804                ; ﾈｼﾞ供給ﾎｯﾊﾟ上昇可
LD B11E2                 ; UNIT12-1-3 TP-PB
AND M6804                ; ﾈｼﾞ供給ﾎｯﾊﾟ上昇可
OR M6805                 ; ﾈｼﾞ供給ﾎｯﾊﾟ上昇
ANPB M6807               ; ﾈｼﾞ供給ﾎｯﾊﾟ下降
ANB M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
OUT M6805                ; ﾈｼﾞ供給ﾎｯﾊﾟ上昇
LD CR2002                ; 常時ON
OUT M6806                ; ﾈｼﾞ供給ﾎｯﾊﾟ下降可
LD B11E3                 ; UNIT12-1-4 TP-PB
AND M6806                ; ﾈｼﾞ供給ﾎｯﾊﾟ下降可
OR M6807                 ; ﾈｼﾞ供給ﾎｯﾊﾟ下降
ANPB M6805               ; ﾈｼﾞ供給ﾎｯﾊﾟ上昇
ANB M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
OUT M6807                ; ﾈｼﾞ供給ﾎｯﾊﾟ下降
;ﾈｼﾞ供給電源
LD CR2002                ; 常時ON
OUT M6808                ; ﾈｼﾞ供給電源入可
LD B11E4                 ; UNIT12-1-5 TP-PB
AND M6806                ; ﾈｼﾞ供給ﾎｯﾊﾟ下降可
OR M6809                 ; ﾈｼﾞ供給電源入
LDB B11E5                ; UNIT12-1-6 TP-PB
OR M6821                 ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANL
OUT M6809                ; ﾈｼﾞ供給電源入
;ﾈｼﾞ締めｸﾗﾝﾌﾟ
LD CR2002                ; 常時ON
OUT M6810                ; ﾈｼﾞ締めｸﾗﾝﾌﾟ下降可
LD B11E6                 ; UNIT12-1-7 TP-PB
AND M6810                ; ﾈｼﾞ締めｸﾗﾝﾌﾟ下降可
OR M6811                 ; ﾈｼﾞ締めｸﾗﾝﾌﾟ下降
ANPB M6813               ; ﾈｼﾞ締めｸﾗﾝﾌﾟ上昇
ANB M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
OUT M6811                ; ﾈｼﾞ締めｸﾗﾝﾌﾟ下降
LD CR2002                ; 常時ON
OUT M6812                ; ﾈｼﾞ締めｸﾗﾝﾌﾟ上昇可
LD B11E7                 ; UNIT12-1-8 TP-PB
AND M6812                ; ﾈｼﾞ締めｸﾗﾝﾌﾟ上昇可
OR M6813                 ; ﾈｼﾞ締めｸﾗﾝﾌﾟ上昇
ANPB M6811               ; ﾈｼﾞ締めｸﾗﾝﾌﾟ下降
ANB M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
OUT M6813                ; ﾈｼﾞ締めｸﾗﾝﾌﾟ上昇
;ﾈｼﾞ供給ﾛｯｸ
LD CR2002                ; 常時ON
ANB M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
OUT M6814                ; ﾈｼﾞ供給1ﾛｯｸ解除可
LDP B11E8                ; UNIT12-1-9 TP-PB
ORP X123C                ; ﾈｼﾞ供給1確認PB
AND M6814                ; ﾈｼﾞ供給1ﾛｯｸ解除可
ANB M6815                ; ﾈｼﾞ供給1ﾛｯｸ解除
OR M6815                 ; ﾈｼﾞ供給1ﾛｯｸ解除
ANPB M6817               ; ﾈｼﾞ供給1ﾛｯｸ
OUT M6815                ; ﾈｼﾞ供給1ﾛｯｸ解除
LD CR2002                ; 常時ON
AND X1269                ; ﾈｼﾞ供給1ﾕﾆｯﾄ戻確認
OUT M6816                ; ﾈｼﾞ供給1ﾛｯｸ可
LDP B11E9                ; UNIT12-1-10 TP-PB
ORP X123C                ; ﾈｼﾞ供給1確認PB
AND M6816                ; ﾈｼﾞ供給1ﾛｯｸ可
ANB M6817                ; ﾈｼﾞ供給1ﾛｯｸ
OR M6817                 ; ﾈｼﾞ供給1ﾛｯｸ
ANPB M6815               ; ﾈｼﾞ供給1ﾛｯｸ解除
OUT M6817                ; ﾈｼﾞ供給1ﾛｯｸ
;ﾈｼﾞ締め1ｻｲｸﾙ手動
LDB X3661                ; Screw_RB1_RUN
AND X3663                ; Screw_RB1_SV_ON
AND X3664                ; Screw_RB1_Ready
AND X3665                ; Screw_RB1_Auto
AND X3666                ; Screw_RB1_EXT
ANB X3668                ; Screw_RB1_Worning
AND X3726                ; Screw_RB1_ORG(870)
AND X370F                ; Screw_RB1_Area1(ORG)
AND T1219                ; ﾈｼﾞ供給1ﾛｯｸ確認ﾃﾞｨﾚｲ
ANB X1243                ; 基板ﾈｼﾞ締めﾜｰｸ確認
AND X335A                ; ﾘﾆｱｺﾝﾍﾞｱ作業位置(SO210)
ANB M6851                ; ﾄﾙｸ測定移動(手動)
OUT M6820                ; ﾈｼﾞ締め1ｻｲｸﾙ可
LDP B11EA                ; UNIT12-1-11 TP-PB
AND M6820                ; ﾈｼﾞ締め1ｻｲｸﾙ可
OR M6821                 ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M6983                ; ﾕﾆｯﾄ12起動OFF
ANB M6828                ; ﾈｼﾞ締め終了
OUT M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
;ﾜｰｸｸﾗﾝﾌﾟ
LDP M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
OR M6822                 ; ﾈｼﾞ締めｸﾗﾝﾌﾟ閉
AND M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M6823                ; ﾈｼﾞ締めﾃﾞｰﾀｾｯﾄ
OUT M6822                ; ﾈｼﾞ締めｸﾗﾝﾌﾟ閉
;ﾈｼﾞ締めﾃﾞｰﾀ転送
LD M6822                 ; ﾈｼﾞ締めｸﾗﾝﾌﾟ閉
AND T1210                ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ閉端
OR M6823                 ; ﾈｼﾞ締めﾃﾞｰﾀｾｯﾄ
AND M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M6824                ; ﾈｼﾞ締めPRG.ｽﾀｰﾄ
@MOV D6600 D6521         ; 手動ﾈｼﾞ締め機種No.  Screwe RB  Type No.
@MOV K5 D6523            ; Screwe RB  Screw No.
MPS
@MOV K1 D6522            ; Screwe RB  PLT No.
MPP
LD= D6600 D6521          ; 手動ﾈｼﾞ締め機種No.  Screwe RB  Type No.
AND= K5 D6523            ; Screwe RB  Screw No.
AND= K1 D6522            ; Screwe RB  PLT No.
ANL
OUT M6823                ; ﾈｼﾞ締めﾃﾞｰﾀｾｯﾄ
;ﾈｼﾞ締め動作開始起動
LD M6823                 ; ﾈｼﾞ締めﾃﾞｰﾀｾｯﾄ
OR M6824                 ; ﾈｼﾞ締めPRG.ｽﾀｰﾄ
AND M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M6825                ; ﾈｼﾞ締め動作開始確認
@MOV K2 D6550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D6551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K1 D6552            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D6550 K2             ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D6551 K1            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D6552 K1            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
OUT M6824                ; ﾈｼﾞ締めPRG.ｽﾀｰﾄ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M6824                 ; ﾈｼﾞ締めPRG.ｽﾀｰﾄ
AND X3661                ; Screw_RB1_RUN
AND X3665                ; Screw_RB1_Auto
OR M6825                 ; ﾈｼﾞ締め動作開始確認
AND M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M6826                ; ﾈｼﾞ締め完了待ち
OUT M6825                ; ﾈｼﾞ締め動作開始確認
LD M6825                 ; ﾈｼﾞ締め動作開始確認
AND X3728                ; Screw_RB1_Screw_Start(872)
ANB X3720                ; Screw_RB1_ALL_Complete(864)
ANB X3723                ; Screw_RB1_Take_out failure(867)
ANB X3725                ; Screw_RB1_Screw fail  (869)
ANB X372A                ; Screw_RB1_Process_of_Stop(874)
ANB X372C                ; Screw_RB1_Discharge_miss(876)
OR M6826                 ; ﾈｼﾞ締め完了待ち
AND M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M6827                ; ｸﾗﾝﾌﾟ開
OUT M6826                ; ﾈｼﾞ締め完了待ち
;ﾈｼﾞ締め1ｻｲｸﾙ完了
;Screw 1Cycle End
LD M6826                 ; ﾈｼﾞ締め完了待ち
ANB X3728                ; Screw_RB1_Screw_Start(872)
AND X372B                ; Screw_RB1_Operat_stop(875)
ANB X3661                ; Screw_RB1_RUN
OR M6827                 ; ｸﾗﾝﾌﾟ開
AND M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
ANB M6828                ; ﾈｼﾞ締め終了
OUT M6827                ; ｸﾗﾝﾌﾟ開
;ｸﾗﾝﾌﾟ開
LD M6827                 ; ｸﾗﾝﾌﾟ開
AND T1211                ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ開端
OR M6828                 ; ﾈｼﾞ締め終了
AND M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
OUT M6828                ; ﾈｼﾞ締め終了
;ﾈｼﾞ供給動作確認
LD Y2308                 ; ﾈｼﾞ供給1駆動電源ON
ANB M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
OUT M6830                ; ﾈｼﾞ供給1確認動作可
LDP B11EC                ; UNIT12-1-13 TP-PB
AND M6832                ; ﾈｼﾞ供給1確認動作
OUT M6831                ; ﾈｼﾞ供給1確認動作切
LDP B11EC                ; UNIT12-1-13 TP-PB
AND M6830                ; ﾈｼﾞ供給1確認動作可
ANB M6832                ; ﾈｼﾞ供給1確認動作
OR M6832                 ; ﾈｼﾞ供給1確認動作
ANB M6831                ; ﾈｼﾞ供給1確認動作切
OUT M6832                ; ﾈｼﾞ供給1確認動作
;ﾄﾙｸ測定位置移動
LDB X3661                ; Screw_RB1_RUN
AND X3663                ; Screw_RB1_SV_ON
AND X3664                ; Screw_RB1_Ready
AND X3665                ; Screw_RB1_Auto
AND X3666                ; Screw_RB1_EXT
ANB X3668                ; Screw_RB1_Worning
AND X3726                ; Screw_RB1_ORG(870)
AND X370F                ; Screw_RB1_Area1(ORG)
ANB M6832                ; ﾈｼﾞ供給1確認動作
ANB M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
OUT M6850                ; ﾄﾙｸ測定移動可
LDP B11ED                ; UNIT12-1-14 TP-PB
AND M6850                ; ﾄﾙｸ測定移動可
OR M6851                 ; ﾄﾙｸ測定移動(手動)
ANB M6983                ; ﾕﾆｯﾄ12起動OFF
ANB M6855                ; 移動終了
OUT M6851                ; ﾄﾙｸ測定移動(手動)
;ﾈｼﾞ締めﾃﾞｰﾀ転送
LD M6851                 ; ﾄﾙｸ測定移動(手動)
MEP
OR M6852                 ; ﾃﾞｰﾀｾｯﾄ
AND M6851                ; ﾄﾙｸ測定移動(手動)
ANB M6853                ; ﾄﾙｸ測定PRG.ｽﾀｰﾄ
@MOV D6600 D6521         ; 手動ﾈｼﾞ締め機種No.  Screwe RB  Type No.
@MOV K5 D6523            ; Screwe RB  Screw No.
MPS
@MOV K1 D6522            ; Screwe RB  PLT No.
MPP
LD= D6600 D6521          ; 手動ﾈｼﾞ締め機種No.  Screwe RB  Type No.
AND= K5 D6523            ; Screwe RB  Screw No.
AND= K1 D6522            ; Screwe RB  PLT No.
ANL
OUT M6852                ; ﾃﾞｰﾀｾｯﾄ
;ﾈｼﾞ締め動作開始起動
LD M6852                 ; ﾃﾞｰﾀｾｯﾄ
OR M6853                 ; ﾄﾙｸ測定PRG.ｽﾀｰﾄ
AND M6851                ; ﾄﾙｸ測定移動(手動)
ANB M6854                ; 動作開始確認
@MOV K2 D6550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D6551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPS
@MOV K10 D6552           ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
MPP
LD= D6550 K2             ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
AND= D6551 K1            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
AND= D6552 K10           ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
ANL
OUT M6853                ; ﾄﾙｸ測定PRG.ｽﾀｰﾄ
;ﾛﾎﾞｯﾄ起動､起動確認
LD M6853                 ; ﾄﾙｸ測定PRG.ｽﾀｰﾄ
AND X3661                ; Screw_RB1_RUN
AND X3665                ; Screw_RB1_Auto
OR M6854                 ; 動作開始確認
AND M6851                ; ﾄﾙｸ測定移動(手動)
ANB M6855                ; 移動終了
OUT M6854                ; 動作開始確認
LD M6825                 ; ﾈｼﾞ締め動作開始確認
ANB X3661                ; Screw_RB1_RUN
AND X370A                ; Screw_RB1(842)
OR M6855                 ; 移動終了
AND M6851                ; ﾄﾙｸ測定移動(手動)
OUT M6855                ; 移動終了
MCR
;ROBOT AUTO/MANU
LDP B11FF                ; UNIT12-2-16 TP-PB
AND M6840                ; MANUAL_ON
OUT M6841                ; MANUAL_OFF
LDP B11FF                ; UNIT12-2-16 TP-PB
ANB M6840                ; MANUAL_ON
OR M6840                 ; MANUAL_ON
ANB M6841                ; MANUAL_OFF
AND M31                  ; 手動ﾓｰﾄﾞ
ANB M51                  ; 即停止異常(緊急停止)
OUT M6840                ; MANUAL_ON
;<h1/>/ RB補助回路
;ﾛﾎﾞｯﾄ初期準備
LD M50                   ; 運転準備
AND X3664                ; Screw_RB1_Ready
AND X3665                ; Screw_RB1_Auto
MEP
LD M30                   ; 自動ﾓｰﾄﾞ
ANB X3663                ; Screw_RB1_SV_ON
MEP
ORL
OR M6902                 ; 塗布RB運転準備
LDB M6904                ; 塗布RBｻｰﾎﾞON､CAL完了
ANB CR2003               ; 常時OFF
LDB M6906                ; 塗布RB外部ﾓｰﾄﾞ完了
AND CR2003               ; 常時OFF
ORL
ANL
ANB M6912                ; 塗布RB初期準備
AND X3665                ; Screw_RB1_Auto
TMR K1231 K5             ; 基板ﾈｼﾞ締RB初期化処理開始ﾃﾞｨﾚｲ
OUT M6902                ; 塗布RB運転準備
LD M6902                 ; 塗布RB運転準備
AND T1231                ; 基板ﾈｼﾞ締RB初期化処理開始ﾃﾞｨﾚｲ
MEP
OR M6903                 ; 塗布RBｻｰﾎﾞON､CAL要求
ANB M6904                ; 塗布RBｻｰﾎﾞON､CAL完了
AND M6902                ; 塗布RB運転準備
MPS
ANB CR2003               ; 常時OFF
@MOV K131 D6550          ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
MRD
AND CR2003               ; 常時OFF
@MOV K1 D6550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
MRD
@MOV K7 D6551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
MPP
OUT M6903                ; 塗布RBｻｰﾎﾞON､CAL要求
LD M6903                 ; 塗布RBｻｰﾎﾞON､CAL要求
AND X366E                ; Screw_RB1_Command_End
MEP
OR M6904                 ; 塗布RBｻｰﾎﾞON､CAL完了
ANB M6905                ; 塗布RB外部ﾓｰﾄﾞ要求
AND M6902                ; 塗布RB運転準備
OUT M6904                ; 塗布RBｻｰﾎﾞON､CAL完了
;調整時速度をペンダントから行う場合(ﾓｰﾀｰON､CAL実行)+(外部ﾓｰﾄﾞ切替)
;時に使用
LD CR2003                ; 常時OFF
AND M6904                ; 塗布RBｻｰﾎﾞON､CAL完了
ANB X366E                ; Screw_RB1_Command_End
MEP
OR M6905                 ; 塗布RB外部ﾓｰﾄﾞ要求
ANB M6906                ; 塗布RB外部ﾓｰﾄﾞ完了
AND M6902                ; 塗布RB運転準備
@MOV K128 D6550          ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K7 D6551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
OUT M6905                ; 塗布RB外部ﾓｰﾄﾞ要求
LD M6905                 ; 塗布RB外部ﾓｰﾄﾞ要求
AND X366E                ; Screw_RB1_Command_End
OR M6906                 ; 塗布RB外部ﾓｰﾄﾞ完了
AND M6902                ; 塗布RB運転準備
OUT M6906                ; 塗布RB外部ﾓｰﾄﾞ完了
;自動運転時ﾌﾟﾛｸﾞﾗﾑ強制停止
LD T15                   ; 強制停止
OR M6907                 ; 塗布RB停止指令
AND X3661                ; Screw_RB1_RUN
@MOV K64 D6550           ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D6551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
@MOV K1 D6552            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
OUT M6907                ; 塗布RB停止指令
;自動運転時ｱﾗｰﾑ発生ｽﾃｯﾌﾟ停止
LD CR2003                ; 常時OFF
OR M6909                 ; Screw_RB1ｽﾃｯﾌﾟ停止
AND M6985                ; ﾕﾆｯﾄ12起動中
AND X3661                ; Screw_RB1_RUN
@MOV K16 D6550           ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D6551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
@MOV K1 D6552            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
OUT M6909                ; Screw_RB1ｽﾃｯﾌﾟ停止
;自動運転時ｱﾗｰﾑ解除ｽﾃｯﾌﾟ続行機動
LD CR2003                ; 常時OFF
MEP
OR M6910                 ; 塗布RBｽﾃｯﾌﾟ起動
AND M6985                ; ﾕﾆｯﾄ12起動中
ANB X3661                ; Screw_RB1_RUN
@MOV K2 D6550            ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
@MOV K1 D6551            ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
@MOV K1 D6552            ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
OUT M6910                ; 塗布RBｽﾃｯﾌﾟ起動
;ﾛﾎﾞｯﾄｱﾗｰﾑﾘｾｯﾄ
LD M16                   ; ﾘｾｯﾄPB
OR M6914                 ; Screw_RB1ｱﾗｰﾑﾘｾｯﾄ記憶
LD X3662                 ; Screw_RB1_Error
OR X3668                 ; Screw_RB1_Worning
ANL
OUT M6914                ; Screw_RB1ｱﾗｰﾑﾘｾｯﾄ記憶
LD M6914                 ; Screw_RB1ｱﾗｰﾑﾘｾｯﾄ記憶
ANB T1233                ; 基板ﾈｼﾞ締RBｱﾗｰﾑﾘｾｯﾄﾘﾄﾗｲ
@MOV K1000 D6551         ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
TMR K1233 K10            ; 基板ﾈｼﾞ締RBｱﾗｰﾑﾘｾｯﾄﾘﾄﾗｲ
OUT M6908                ; 塗布RBｱﾗｰﾑﾘｾｯﾄ
;扉開時ﾛﾎﾞｯﾄ警告解除
LDP M123                 ; 安全扉正常
OR M6911                 ; ﾈｼﾞ締RB扉開時警告解除処理
AND X3668                ; Screw_RB1_Worning
ANB T1232                ; 基板ﾈｼﾞ締RB扉開時警告解除ﾀｲﾏ
ANB B01                  ; 非常停止異常
@MOV K1000 D6551         ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ
TMR K1232 K10            ; 基板ﾈｼﾞ締RB扉開時警告解除ﾀｲﾏ
OUT M6911                ; ﾈｼﾞ締RB扉開時警告解除処理
;<h1/>■出力
;ﾈｼﾞ締めRB ｼｽﾃﾑI/O
LD M5                    ; 運転準備補助
LD M123                  ; 安全扉正常
ANB M6840                ; MANUAL_ON
OR M132                  ; All_PAUSE_OK
ANL
ANB M6986                ; ﾕﾆｯﾄ12ｻｲｸﾙ停止異常
OUT Y2309                ; ﾈｼﾞ締めRB1ｲﾈｰﾌﾞﾙ
LD M50                   ; 運転準備
LD M123                  ; 安全扉正常
ANB M6840                ; MANUAL_ON
OR M132                  ; All_PAUSE_OK
ANL
ANB M6986                ; ﾕﾆｯﾄ12ｻｲｸﾙ停止異常
OUT Y230E                ; ﾈｼﾞ締めRB防護柵
LD CR2002                ; 常時ON
OUT Y4960                ; Screw_RB1_Step_Stop
LD M121                  ; 非常停止正常
LD M123                  ; 安全扉正常
OR M132                  ; All_PAUSE_OK
ANL
OUT Y4962                ; Screw_RB1_Instant stop
LD M6562                 ; ﾈｼﾞ締め続行ﾌﾗｸﾞ
OUT Y4964                ; Screw_RB1_Interrupt_Skip
;ﾛﾎﾞｯﾄｽﾄﾛｰﾌﾞ
LDB M6908                ; 塗布RBｱﾗｰﾑﾘｾｯﾄ
ANB M6911                ; ﾈｼﾞ締RB扉開時警告解除処理
INV
OUT M6912                ; 塗布RB初期準備
;自動､原点復帰､手動1ｻｲｸﾙを入れる
LDB M6514                ; ﾈｼﾞ締めPRG.ｽﾀｰﾄ
ANB M6752                ; 原点復帰起動
ANB M6824                ; ﾈｼﾞ締めPRG.ｽﾀｰﾄ
ANB M6853                ; ﾄﾙｸ測定PRG.ｽﾀｰﾄ
ANB M6903                ; 塗布RBｻｰﾎﾞON､CAL要求
ANB M6905                ; 塗布RB外部ﾓｰﾄﾞ要求
ANB M6907                ; 塗布RB停止指令
ANB M6909                ; Screw_RB1ｽﾃｯﾌﾟ停止
ANB M6910                ; 塗布RBｽﾃｯﾌﾟ起動
INV
OUT M6913                ; 基板ﾈｼﾞ締RB起動処理
LDB M6912                ; 塗布RB初期準備
ANB M6913                ; 基板ﾈｼﾞ締RB起動処理
INV
MPS
TMR K1230 K2             ; 基板ﾈｼﾞ締RBｺﾏﾝﾄﾞｽﾄﾛｰﾌﾞONﾃﾞｨﾚｲ
MPP
AND T1230                ; 基板ﾈｼﾞ締RBｺﾏﾝﾄﾞｽﾄﾛｰﾌﾞONﾃﾞｨﾚｲ
OUT Y4963                ; Screw_RB1_Strobe
;ﾛﾎﾞｯﾄｺﾏﾝﾄﾞ出力
LD M6912                 ; 塗布RB初期準備
OR M6913                 ; 基板ﾈｼﾞ締RB起動処理
MPS
AND D6551.0              ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ0Bit
OUT Y4980                ; Screw_RB1_Cmd_0bit
MRD
AND D6551.1              ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ1Bit
OUT Y4981                ; Screw_RB1_Cmd_1bit
MRD
AND D6551.2              ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ2Bit
OUT Y4982                ; Screw_RB1_Cmd_2bit
MPP
AND D6551.3              ; ﾛﾎﾞｯﾄｺﾏﾝﾄﾞﾃﾞｰﾀ3Bit
OUT Y4983                ; Screw_RB1_Cmd_3bit
LD M6913                 ; 基板ﾈｼﾞ締RB起動処理
MPS
LDA D6550                ; ﾛﾎﾞｯﾄ制御ﾃﾞｰﾀ1
CON
PSTA Y4968 K8            ; Screw_RB1_Data1-0bit
MPP
LDA D6552                ; ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ番号
CON
PSTA Y4970 K16           ; Screw_RB1_Data2-0bit
LDB M6913                ; 基板ﾈｼﾞ締RB起動処理
MPS
LDA K0
CON
PSTA Y4968 K8            ; Screw_RB1_Data1-0bit
MPP
LDA K0
CON
PSTA Y4970 K16           ; Screw_RB1_Data2-0bit
LD CR2003                ; 常時OFF
ANB M6912                ; 塗布RB初期準備
OUT Y4967                ; Screw_RB1_Cmd_Odd_Parity
;ﾈｼﾞ締めRBﾌﾟﾛｸﾞﾗﾑI/F I/O
;動作機種･ﾊﾟﾚｯﾄ番号転送
LD CR2002                ; 常時ON
PMOV D6521 K0 Y4988 K0 K7; Screwe RB  Type No.  Screw_RB1_Type_No.1
PMOV D6522 K0 Y4990 K0 K7; Screwe RB  PLT No.  Screw_RB1_PLT_No.1
PMOV D6523 K0 Y4998 K0 K3; Screwe RB  Screw No.  Screw_RB1_Screw_No.1(568)
LD CR2002                ; 常時ON
OUT Y5001                ; Screw_RB1_Screw_Start(577)
LD M6611                 ; ﾈｼﾞ供給1ﾈｼﾞ取出可ON
OUT Y5003                ; Screw_RB1_Picup_OK(579)
LD CR2002                ; 常時ON
OUT Y5005                ; Screw_RB1_Can continue(581)
LD X3721                 ; Screw_RB1_Complete(865)
OUT Y5006                ; Screw_RB1_Complete_Ans(582)
;ﾈｼﾞ供給1電源
LDB M73                  ; 各工程起動指令
ANB M6985                ; ﾕﾆｯﾄ12起動中
ANB M6809                ; ﾈｼﾞ供給電源入
ANB M6821                ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
INV
OUT Y2308                ; ﾈｼﾞ供給1駆動電源ON
;ﾈｼﾞ供給1ｽﾗｲﾄﾞﾛｯｸ
LD Y53                   ; ｹｰｽ供給部安全扉ﾛｯｸ
OR M6817                 ; ﾈｼﾞ供給1ﾛｯｸ
LDB M6604                ; ﾈｼﾞ供給1引掛りｴﾗｰ発生
ANB M6613                ; ﾈｼﾞ供給1ﾈｼﾞ取出ｴﾗｰ発生
ANB M6618                ; ﾈｼﾞ供給1ﾈｼﾞ残ｴﾗｰ発生
ANB M6631                ; ﾈｼﾞ供給1切出引掛りｴﾗｰ発生
LDB X3709                ; Screw_RB2_Screw_wait
AND X3661                ; Screw_RB1_RUN
ORL
ANL
OUT Y230D                ; ﾈｼﾞ供給1ｽﾗｲﾄﾞﾛｯｸ
;ﾈｼﾞ締めｸﾗﾝﾌﾟ上下
LDB M6510                ; ﾈｼﾞ締めｸﾗﾝﾌﾟ閉
ANB M6811                ; ﾈｼﾞ締めｸﾗﾝﾌﾟ下降
ANB M6822                ; ﾈｼﾞ締めｸﾗﾝﾌﾟ閉
INV
OR Y2408                 ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ閉SV
ANB M6530                ; ﾈｼﾞ締めｸﾗﾝﾌﾟ開
ANB M6754                ; 基板ﾈｼﾞ締め押え上昇
ANB M6813                ; ﾈｼﾞ締めｸﾗﾝﾌﾟ上昇
ANB M6827                ; ｸﾗﾝﾌﾟ開
OUT Y2408                ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ閉SV
;ﾈｼﾞ供給ﾎｯﾊﾟ上下
LDB M6641                ; ﾎｯﾊﾟ上昇
ANB M6805                ; ﾈｼﾞ供給ﾎｯﾊﾟ上昇
INV
OR Y2409                 ; ﾈｼﾞ供給1ﾎｯﾊﾟ上昇SV
ANB M6642                ; ﾎｯﾊﾟ下降
ANB M6807                ; ﾈｼﾞ供給ﾎｯﾊﾟ下降
OUT Y2409                ; ﾈｼﾞ供給1ﾎｯﾊﾟ上昇SV
;ﾈｼﾞ供給切出ﾊﾞﾙﾌﾞ
LDB M6610                ; ﾈｼﾞ供給1ﾈｼﾞ到着ｴｽｹｰﾌﾟ送
ANB M6801                ; ﾈｼﾞ供給切出
INV
LD Y240A                 ; ﾈｼﾞ供給1切出SV
ANB Y240B                ; ﾈｼﾞ供給1切出戻SV
ORL
OUT Y240A                ; ﾈｼﾞ供給1切出SV
LDB M6601                ; ﾈｼﾞ供給1ｴｽｹｰﾌﾟ戻り
ANB M6622                ; ﾈｼﾞ供給1ｴｽｹｰﾌﾟ戻り
ANB M6803                ; ﾈｼﾞ供給切出戻
INV
LD Y240B                 ; ﾈｼﾞ供給1切出戻SV
ANB Y240A                ; ﾈｼﾞ供給1切出SV
ORL
OUT Y240B                ; ﾈｼﾞ供給1切出戻SV
;■ｾｯﾄ中治具信号
LD CR2002                ; 常時ON
MPS
AND X1266                ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ治具ID-1
OUT W0124.0              ; 基板ﾈｼﾞ締めﾊﾞｯｸｱｯﾌﾟ_ID_0
MRD
AND X1267                ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ治具ID-2
OUT W0124.1              ; 基板ﾈｼﾞ締めﾊﾞｯｸｱｯﾌﾟ_ID_1
MPP
AND X1268                ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ治具ID-3
OUT W0124.2              ; 基板ﾈｼﾞ締めﾊﾞｯｸｱｯﾌﾟ_ID_2
;ﾈｼﾞ供給ﾕﾆｯﾄ表示ﾗﾝﾌﾟ
LD Y230D                 ; ﾈｼﾞ供給1ｽﾗｲﾄﾞﾛｯｸ
AND X1269                ; ﾈｼﾞ供給1ﾕﾆｯﾄ戻確認
LD M71                   ; 自動運転開始BZ
ANB Y230D                ; ﾈｼﾞ供給1ｽﾗｲﾄﾞﾛｯｸ
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
LDB Y230D                ; ﾈｼﾞ供給1ｽﾗｲﾄﾞﾛｯｸ
ANB X1269                ; ﾈｼﾞ供給1ﾕﾆｯﾄ戻確認
AND CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
ORL
OUT Y2324                ; ﾈｼﾞ供給ﾕﾆｯﾄ1閉PL
LDB M6604                ; ﾈｼﾞ供給1引掛りｴﾗｰ発生
ANB M6613                ; ﾈｼﾞ供給1ﾈｼﾞ取出ｴﾗｰ発生
ANB M6618                ; ﾈｼﾞ供給1ﾈｼﾞ残ｴﾗｰ発生
ANB M6631                ; ﾈｼﾞ供給1切出引掛りｴﾗｰ発生
INV
LD M6644                 ; ﾈｼﾞ不足供給要求
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT Y2326                ; ﾈｼﾞ供給ｼｸﾞﾅﾙﾀﾜｰ赤
LD= D6540 K1             ; ﾈｼﾞ締1NGﾌﾗｸﾞ
OUT Y2327                ; ﾈｼﾞ供給ｼｸﾞﾅﾙﾀﾜｰ青
LDP X170F                ; 取出部ﾘｾｯﾄPB
AND= D6540 K1            ; ﾈｼﾞ締1NGﾌﾗｸﾞ
OR CR2008                ; 運転開始時1ｽｷｬﾝON
@MOV K0 D6540            ; ﾈｼﾞ締1NGﾌﾗｸﾞ
;<h1/>■表示
;□□　　パネル表示　　□□
LD X123F                 ; ﾈｼﾞ供給1切出端
LD Y240A                 ; ﾈｼﾞ供給1切出SV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B16E0                ; UNIT12-1-1 TP-PL
LD X123E                 ; ﾈｼﾞ供給1切出戻端
LD Y240B                 ; ﾈｼﾞ供給1切出戻SV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B16E1                ; UNIT12-1-2 TP-PL
LD X1260                 ; ﾈｼﾞ供給1ﾎｯﾊﾟ上昇端
LD Y2409                 ; ﾈｼﾞ供給1ﾎｯﾊﾟ上昇SV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B16E2                ; UNIT12-1-3 TP-PL
LD X1261                 ; ﾈｼﾞ供給1ﾎｯﾊﾟ下降端
LDB Y2409                ; ﾈｼﾞ供給1ﾎｯﾊﾟ上昇SV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B16E3                ; UNIT12-1-4 TP-PL
LD Y2308                 ; ﾈｼﾞ供給1駆動電源ON
OUT B16E4                ; UNIT12-1-5 TP-PL
LDB Y2308                ; ﾈｼﾞ供給1駆動電源ON
OUT B16E5                ; UNIT12-1-6 TP-PL
LD X1264                 ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ閉端
LD Y2408                 ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ閉SV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B16E6                ; UNIT12-1-7 TP-PL
LD X1265                 ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ開端
LDB Y2408                ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ閉SV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B16E7                ; UNIT12-1-8 TP-PL
LDB Y230D                ; ﾈｼﾞ供給1ｽﾗｲﾄﾞﾛｯｸ
OUT B16E8                ; UNIT12-1-9 TP-PL
LD Y230D                 ; ﾈｼﾞ供給1ｽﾗｲﾄﾞﾛｯｸ
OUT B16E9                ; UNIT12-1-10 TP-PL
LD M6821                 ; PCBﾈｼﾞ締め1ｻｲｸﾙ(手動)
OUT B16EA                ; UNIT12-1-11 TP-PL
LD M6984                 ; ﾕﾆｯﾄ12原点復帰中
OUT B16EB                ; UNIT12-1-12 TP-PL
LD M6832                 ; ﾈｼﾞ供給1確認動作
OUT B16EC                ; UNIT12-1-13 TP-PL
LD X370A                 ; Screw_RB1(842)
LD M6851                 ; ﾄﾙｸ測定移動(手動)
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B16ED                ; UNIT12-1-14 TP-PL
LD M6840                 ; MANUAL_ON
OUT B16FF                ; UNIT12-2-16 TP-PL
;<h1/>■異常
;□□　　異常検出　　□□
;B180(K385)--B18F(K400)  B190(K401)--B19F(K416)
LDP X372C                ; Screw_RB1_Discharge_miss(876)
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0180                ; 基板ﾈｼﾞ締RB原点復帰時ﾈｼﾞ排出異常
ORL
AND M50                  ; 運転準備
OUT B0180                ; 基板ﾈｼﾞ締RB原点復帰時ﾈｼﾞ排出異常
@DW K384 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0680
AND B0180                ; 基板ﾈｼﾞ締RB原点復帰時ﾈｼﾞ排出異常
OUT B0680
LDP X3727                ; Screw_RB1_Out_of_range(871)
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0181                ; 基板ﾈｼﾞ締RB原点復帰時ｴﾘｱ外
ORL
AND M50                  ; 運転準備
OUT B0181                ; 基板ﾈｼﾞ締RB原点復帰時ｴﾘｱ外
@DW K385 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0681
AND B0181                ; 基板ﾈｼﾞ締RB原点復帰時ｴﾘｱ外
OUT B0681
LD Y240B                 ; ﾈｼﾞ供給1切出戻SV
ANB X123E                ; ﾈｼﾞ供給1切出戻端
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0182                ; 基板ﾈｼﾞ供給切出側ｼﾘﾝﾀﾞ異常
ORL
AND M50                  ; 運転準備
MPS
TMR K1250 K50            ; ﾈｼﾞ供給1切出側ｼﾘﾝﾀﾞ確認
MPP
AND T1250                ; ﾈｼﾞ供給1切出側ｼﾘﾝﾀﾞ確認
OUT B0182                ; 基板ﾈｼﾞ供給切出側ｼﾘﾝﾀﾞ異常
@DW K386 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0682
AND B0182                ; 基板ﾈｼﾞ供給切出側ｼﾘﾝﾀﾞ異常
OUT B0682
LD Y240A                 ; ﾈｼﾞ供給1切出SV
ANB X123F                ; ﾈｼﾞ供給1切出端
ANB M6631                ; ﾈｼﾞ供給1切出引掛りｴﾗｰ発生
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0183                ; 基板ﾈｼﾞ供給原点側ｼﾘﾝﾀﾞ異常
ORL
AND M50                  ; 運転準備
MPS
TMR K1251 K50            ; ﾈｼﾞ供給1原点側ｼﾘﾝﾀﾞ確認
MPP
AND T1251                ; ﾈｼﾞ供給1原点側ｼﾘﾝﾀﾞ確認
OUT B0183                ; 基板ﾈｼﾞ供給原点側ｼﾘﾝﾀﾞ異常
@DW K387 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0683
AND B0183                ; 基板ﾈｼﾞ供給原点側ｼﾘﾝﾀﾞ異常
OUT B0683
LDB X1269                ; ﾈｼﾞ供給1ﾕﾆｯﾄ戻確認
AND M50                  ; 運転準備
AND M31                  ; 手動ﾓｰﾄﾞ
OUT B0184                ; 基板ﾈｼﾞ供給ﾕﾆｯﾄ開
@DW K388 D0
CON
@FIFOW D0 D900           ; 異常内容
LD X3662                 ; Screw_RB1_Error
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0185                ; 基板ﾈｼﾞ締RB異常
ORL
AND M50                  ; 運転準備
OUT B0185                ; 基板ﾈｼﾞ締RB異常
@DW K389 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0685
AND B0185                ; 基板ﾈｼﾞ締RB異常
OUT B0685
LD Y2408                 ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ閉SV
ANB X1264                ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ閉端
LDB Y2408                ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ閉SV
ANB X1265                ; ﾈｼﾞ締め1ｸﾗﾝﾌﾟ開端
ORL
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0186                ; PCBﾈｼﾞ締押さえ異常
ORL
AND M50                  ; 運転準備
MPS
TMR K1252 K50            ; ﾈｼﾞ締め押さえｼﾘﾝﾀﾞ確認
MPP
AND T1252                ; ﾈｼﾞ締め押さえｼﾘﾝﾀﾞ確認
OUT B0186                ; PCBﾈｼﾞ締押さえ異常
@DW K390 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0686
AND B0186                ; PCBﾈｼﾞ締押さえ異常
OUT B0686
LD M6604                 ; ﾈｼﾞ供給1引掛りｴﾗｰ発生
OUT B0187                ; PCBﾈｼﾞ供給引掛かり異常
@DW K391 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0687
AND B0187                ; PCBﾈｼﾞ供給引掛かり異常
OUT B0687
LD M6618                 ; ﾈｼﾞ供給1ﾈｼﾞ残ｴﾗｰ発生
OUT B0188                ; PCBﾈｼﾞ供給ﾈｼﾞ取出不良
@DW K392 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0688
AND B0188                ; PCBﾈｼﾞ供給ﾈｼﾞ取出不良
OUT B0688
LD M6613                 ; ﾈｼﾞ供給1ﾈｼﾞ取出ｴﾗｰ発生
OUT B0189                ; PCBﾈｼﾞ供給切出位置ﾈｼﾞ残
@DW K393 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0689
AND B0189                ; PCBﾈｼﾞ供給切出位置ﾈｼﾞ残
OUT B0689
LD M6631                 ; ﾈｼﾞ供給1切出引掛りｴﾗｰ発生
OUT B018A                ; ﾈｼﾞ供給1切出引掛りｴﾗｰ
@DW K394 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B068A
AND B018A                ; ﾈｼﾞ供給1切出引掛りｴﾗｰ
OUT B068A
LDB X1269                ; ﾈｼﾞ供給1ﾕﾆｯﾄ戻確認
AND M30                  ; 自動ﾓｰﾄﾞ
OUT B018B                ; ﾈｼﾞ供給ﾕﾆｯﾄ1開
@DW K395 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B068B                 ; ﾈｼﾞ供給ﾕﾆｯﾄ1開BZ停止
AND B018B                ; ﾈｼﾞ供給ﾕﾆｯﾄ1開
OUT B068B                ; ﾈｼﾞ供給ﾕﾆｯﾄ1開BZ停止
LD Y2409                 ; ﾈｼﾞ供給1ﾎｯﾊﾟ上昇SV
ANB X1260                ; ﾈｼﾞ供給1ﾎｯﾊﾟ上昇端
LDB Y2409                ; ﾈｼﾞ供給1ﾎｯﾊﾟ上昇SV
ANB X1261                ; ﾈｼﾞ供給1ﾎｯﾊﾟ下降端
ORL
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B018C                ; PCBﾎｯﾊﾟｼﾘﾝﾀﾞ異常
ORL
AND M50                  ; 運転準備
MPS
TMR K1253 K50            ; PCBﾎｯﾊﾟｼﾘﾝﾀﾞ異常
MPP
AND T1253                ; PCBﾎｯﾊﾟｼﾘﾝﾀﾞ異常
OUT B018C                ; PCBﾎｯﾊﾟｼﾘﾝﾀﾞ異常
@DW K396 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B068C
AND B018C                ; PCBﾎｯﾊﾟｼﾘﾝﾀﾞ異常
OUT B068C
LD M6644                 ; ﾈｼﾞ不足供給要求
OUT B018D                ; ﾈｼﾞ不足供給要求
@DW H018D D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B068D
AND B018D                ; ﾈｼﾞ不足供給要求
OUT B068D
;異常ﾌﾞｻﾞｰまとめ
LDB B0180                ; 基板ﾈｼﾞ締RB原点復帰時ﾈｼﾞ排出異常
OR B0680
LDB B0181                ; 基板ﾈｼﾞ締RB原点復帰時ｴﾘｱ外
OR B0681
ANL
LDB B0182                ; 基板ﾈｼﾞ供給切出側ｼﾘﾝﾀﾞ異常
OR B0682
ANL
LDB B0183                ; 基板ﾈｼﾞ供給原点側ｼﾘﾝﾀﾞ異常
OR B0683
ANL
LDB B0185                ; 基板ﾈｼﾞ締RB異常
OR B0685
ANL
LDB B0186                ; PCBﾈｼﾞ締押さえ異常
OR B0686
ANL
LDB B018C                ; PCBﾎｯﾊﾟｼﾘﾝﾀﾞ異常
OR B068C
ANL
INV
OUT M6989                ; ﾕﾆｯﾄ12異常BZ補助
;Error location display
LDB B0180                ; 基板ﾈｼﾞ締RB原点復帰時ﾈｼﾞ排出異常
ANB B0181                ; 基板ﾈｼﾞ締RB原点復帰時ｴﾘｱ外
ANB B0182                ; 基板ﾈｼﾞ供給切出側ｼﾘﾝﾀﾞ異常
ANB B0183                ; 基板ﾈｼﾞ供給原点側ｼﾘﾝﾀﾞ異常
ANB B0184                ; 基板ﾈｼﾞ供給ﾕﾆｯﾄ開
ANB B0185                ; 基板ﾈｼﾞ締RB異常
ANB B0186                ; PCBﾈｼﾞ締押さえ異常
ANB B0187                ; PCBﾈｼﾞ供給引掛かり異常
ANB B0188                ; PCBﾈｼﾞ供給ﾈｼﾞ取出不良
ANB B0189                ; PCBﾈｼﾞ供給切出位置ﾈｼﾞ残
ANB B018A                ; ﾈｼﾞ供給1切出引掛りｴﾗｰ
ANB B018B                ; ﾈｼﾞ供給ﾕﾆｯﾄ1開
ANB B018C                ; PCBﾎｯﾊﾟｼﾘﾝﾀﾞ異常
ANB B018D                ; ﾈｼﾞ不足供給要求
ANB B0A5                 ; 原点復帰PCBﾈｼﾞ締めﾜｰｸ有異常
ANB B018                 ; 基板ﾈｼﾞ締め非常停止
INV
OUT B090C                ; UT12 Error
END
ENDH
