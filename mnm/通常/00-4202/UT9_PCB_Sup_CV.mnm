DEVICE:53
;MODULE:UT9_PCB_Sup_CV
;MODULE_TYPE:0
;□□　　入力受け　　□□
LD CR2003                ; 常時OFF
OUT M251                 ; 20141013 koike BCR上下ｼﾘﾝﾀﾞ無し
LD X1250                 ; 搬送上流ｽﾄｯﾊﾟ下降端
TMR K910 K5              ; 搬送上流ｽﾄｯﾊﾟ下降端
LD X1251                 ; 搬送上流ｽﾄｯﾊﾟ上昇端
TMR K911 K3              ; 搬送上流ｽﾄｯﾊﾟ上昇端
LD X1252                 ; 搬送下流ｽﾄｯﾊﾟ下降端
TMR K912 K3              ; 搬送下流ｽﾄｯﾊﾟ下降端
LD X1253                 ; 搬送下流ｽﾄｯﾊﾟ上昇端
TMR K913 K3              ; 搬送下流ｽﾄｯﾊﾟ上昇端
LD X1254                 ; 搬送位置決め閉端
TMR K914 K5              ; 搬送位置決め閉端
LD X1255                 ; 搬送位置決め開端
TMR K915 K3              ; 搬送位置決め開端
LD X1256                 ; 基板搬送送端
TMR K916 K5              ; 基板搬送送端
LD X1257                 ; 基板搬送戻端
TMR K917 K2              ; 基板搬送戻端
LD X1258                 ; 基板搬送爪下降端
TMR K918 K3              ; 基板搬送爪下降端
LD X1259                 ; 基板搬送爪上昇端
TMR K919 K3              ; 基板搬送爪上昇端
LD X125D                 ; 基板CV幅変更ﾊﾝﾄﾞﾙﾄﾞｱ閉
AND X125E                ; 基板搬送CV装置側引戸
AND X125F                ; 基板搬送CV投入側引戸
TMR K920 K5              ; 基板CV扉閉確認
LDB X124D                ; 基板投入CVﾜｰｸ確認
TMR K921 K40             ; 基板投入ﾜｰｸ無確認
LD X124E                 ; 基板投入CV読取ﾜｰｸ確認
TMH K923 K20             ; 基板投入CV読取ﾜｰｸ有
LDB X124E                ; 基板投入CV読取ﾜｰｸ確認
TMH K924 K20             ; 基板投入CV読取ﾜｰｸ無
LD X1236                 ; E-cap sensor input
TMR K922 K5              ; E-cap sensor
LDB M251                 ; 20141013 koike BCR上下ｼﾘﾝﾀﾞ無し
MPS
AND X1235                ; EntPCB_BCR_上昇端
TMR K925 K3              ; EntPCB_BCR上昇端
MPP
AND X1237                ; EntPCB_BCR_下降端
TMR K926 K5              ; EntPCB_BCR下降端
;□ ﾕﾆｯﾄ原点
LD T913                  ; 搬送下流ｽﾄｯﾊﾟ上昇端
AND T915                 ; 搬送位置決め開端
AND T917                 ; 基板搬送戻端
AND T919                 ; 基板搬送爪上昇端
AND T925                 ; EntPCB_BCR上昇端
ANB T923                 ; 基板投入CV読取ﾜｰｸ有
OUT M5480                ; ﾕﾆｯﾄ9原点
;□ 非常停止
LDB CR2003               ; 常時OFF
INV
OUT M5481                ; ﾕﾆｯﾄ9全異常
;□ 起動条件
LD M5480                 ; ﾕﾆｯﾄ9原点
OUT M5482                ; ﾕﾆｯﾄ9起動条件
;□ 起動OFF
LDB M50                  ; 運転準備
OR M5486                 ; ﾕﾆｯﾄ9ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M5483                ; ﾕﾆｯﾄ9起動OFF
;□ 原点復帰
LD M82                   ; 原点復帰開始
ANB M5484                ; ﾕﾆｯﾄ9原点復帰中
OR M5484                 ; ﾕﾆｯﾄ9原点復帰中
ANB M5483                ; ﾕﾆｯﾄ9起動OFF
ANB M5491                ; ﾕﾆｯﾄ9ｴﾗｰ発生
ANB M5299                ; ﾕﾆｯﾄ9原点終了
OUT M5484                ; ﾕﾆｯﾄ9原点復帰中
;□ 起動中
LD M73                   ; 各工程起動指令
AND M5482                ; ﾕﾆｯﾄ9起動条件
OR M5485                 ; ﾕﾆｯﾄ9起動中
ANB M5483                ; ﾕﾆｯﾄ9起動OFF
LDB M5099                ; ﾕﾆｯﾄ9-1ｻｲｸﾙ停止
ORB M5149                ; ﾕﾆｯﾄ9-3ｻｲｸﾙ終了
ANL
OUT M5485                ; ﾕﾆｯﾄ9起動中
;□ ｻｲｸﾙ停止異常
LDB B0121                ; 基板供給CV画像検査異常
ANB B0122                ; 基板供給CV_PA検査ｶﾒﾗ異常
ANB B0128                ; 基板C/V原点復帰時ﾜｰｸ有異常
INV
OUT M5486                ; ﾕﾆｯﾄ9ｻｲｸﾙ停止異常
;□ 払出停止異常
LDB M5033                ; ID_NG払出ｻｲｸﾙ停止
ANB CR2003               ; 常時OFF
INV
OUT M5487                ; ﾕﾆｯﾄ9払出停止異常
;□ 警報補助
LDB M5010                ; IDｴﾗｰ確認､処理選択　(ﾀﾞｲｱﾛｸﾞ)
INV
OUT M5488                ; ﾕﾆｯﾄ9警報補助
;□ 機器準備確認
LD B2015                 ; PA検査ﾚﾃﾞｨ
OUT M5490                ; ﾕﾆｯﾄ9機器準備完了
;□ ｴﾗｰ発生　一時停止
LDB B0123                ; 基板搬送CV上流ｽﾄｯﾊﾟ異常
ANB B0124                ; 基板搬送CV下流ｽﾄｯﾊﾟ異常
ANB B0125                ; 基板搬送CV位置決異常
ANB B0126                ; 基板搬送爪送り異常
ANB B0127                ; 基板搬送爪上下異常
ANB B012A                ; 基板CV取出位置PCB行方不明
ANB B012B                ; PA検査IV応答無し
LDB B012C                ; EntPCB_BCR上昇端異常
ANB B012D                ; EntPCB_BCR下降端異常
OR M251                  ; 20141013 koike BCR上下ｼﾘﾝﾀﾞ無し
ANL
INV
OUT M5491                ; ﾕﾆｯﾄ9ｴﾗｰ発生
;□ 動作中ﾕﾆｯﾄ無し
LD= D5001 D5006          ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ9-2動作中判定
AND= D5002 D5007         ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ9-3動作中判定
ORB M5485                ; ﾕﾆｯﾄ9起動中
ANB M5484                ; ﾕﾆｯﾄ9原点復帰中
TMR K901 K20             ; ﾕﾆｯﾄ9動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D5001 D5006          ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ9-2動作中判定
MOV D5002 D5007          ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ9-3動作中判定
LD T901                  ; ﾕﾆｯﾄ9動作無し判定ﾀｲﾏ
OUT M5492                ; ﾕﾆｯﾄ9動作無し確認
;□ 払出しﾜｰｸ無し
LDB X124E                ; 基板投入CV読取ﾜｰｸ確認
ANB X124F                ; 基板投入CV取出ﾜｰｸ確認
ANB X126B                ; 基板投入CVﾜｰｸ有
LD T911                  ; 搬送上流ｽﾄｯﾊﾟ上昇端
OR M5004                 ; 基板ｺﾝﾍﾞｱ回転
ANL
TMR K905 K10             ; UNIT9払出処理ﾜｰｸ無し
LD T905                  ; UNIT9払出処理ﾜｰｸ無し
OUT M5493                ; ﾕﾆｯﾄ9ﾜｰｸ無し
;□基板取出し部ﾜｰｸ確認
LD X124F                 ; 基板投入CV取出ﾜｰｸ確認
TMH K990 K20             ; 基板投入CV取出ﾜｰｸ有
LDB X124F                ; 基板投入CV取出ﾜｰｸ確認
TMH K991 K20             ; 基板投入CV取出ﾜｰｸ無
;□ ｽﾃｯﾌﾟ起動
LD M30                   ; 自動ﾓｰﾄﾞ
LD M31                   ; 手動ﾓｰﾄﾞ
AND CR2003               ; 常時OFF
ORL
OUT M5479                ; ﾕﾆｯﾄ9ｽﾃｯﾌﾟ動作
;□□□□□□□□□□□□□□□
;□　　 　UNIT9自動回路  　　□
;□□□□□□□□□□□□□□□
;<h1/>■自動回路 
;<h1/>□ 基板投入部
LD CR2002                ; 常時ON
ZRES M5000 M5099         ; 基板投入部ｻｲｸﾙ開始  ﾕﾆｯﾄ9-1ｻｲｸﾙ停止
LDB M5485                ; ﾕﾆｯﾄ9起動中
MOV K0 D5001             ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
DW K0 D5201              ; UT9 main 1 STEP monotor
FMOV K0 W0130 K6         ; 基板投入部ｲﾝﾃﾞｯｸｽNo.
FMOV K0 D5310 K12        ; ﾗﾍﾞﾙﾃﾞｰﾀ数
ZRES M5450 M5453         ; PCBｺｰﾄﾞ読み取りNG  ｺﾝﾃﾞﾝｻｷｬｯﾌﾟ異常
LD CR2002                ; 常時ON
DW K10 D5311             ; 最大取り込みﾗﾍﾞﾙ数
LD M5485                 ; ﾕﾆｯﾄ9起動中
MOV D5001 Z1             ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
SET M5000:Z1             ; 基板投入部ｻｲｸﾙ開始
CAL+ D5001 K5000 D5201   ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ  UT9 main 1 STEP monotor
;払出･投入抑制判定
;Discharge or Outage decision
LDB M98                  ; FBT無し
AND M5001                ; ｺﾝﾍﾞｱ投入回転
OR M5351                 ; 初回CVﾜｰｸ確認済
AND M71                  ; 自動運転開始BZ
OUT M5351                ; 初回CVﾜｰｸ確認済
LD M5000                 ; 基板投入部ｻｲｸﾙ開始
MPS
ANB M36                  ; 払出ﾓｰﾄﾞ
MPS
LDB M153                 ; Re-Issue MODE
ANB M90                  ; 払出ﾓｰﾄﾞｼﾌﾄ動作開始
ANL
MPS
ANB M5351                ; 初回CVﾜｰｸ確認済
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND M5351                ; 初回CVﾜｰｸ確認済
MOV K2 D5001             ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND M153                 ; Re-Issue MODE
MOV K90 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
LD M36                   ; 払出ﾓｰﾄﾞ
ANB M98                  ; FBT無し
ANL
MPS
LDB M5362                ; FBTへ給材要求処理中
ANB M5361                ; FBTへ給材要求処理完了
ANB M5364                ; FBTへ給材要求中断完了
ANL
MPS
ANB X124D                ; 基板投入CVﾜｰｸ確認
MOV K92 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND X124D                ; 基板投入CVﾜｰｸ確認
MOV K3 D5001             ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MRD
AND M5361                ; FBTへ給材要求処理完了
MOV K94 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND M5364                ; FBTへ給材要求中断完了
RES M5364                ; FBTへ給材要求中断完了
CON
MOV K92 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5090                 ; 投入抑制中
MPS
LD M153                  ; Re-Issue MODE
ANB M3710                ; 再投入ﾓｰﾄﾞ開始ﾌﾗｸﾞ
ANB M3711                ; 日常点検ﾓｰﾄﾞ開始ﾌﾗｸﾞ
ANL
OUT W0107.12             ; ﾗﾍﾞﾙ再発行品読取要求
MPP
AND W0A.12               ; ﾗﾍﾞﾙ再発行品読取完了
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5091                 ; ﾗﾍﾞﾙ再発行品読取完了確認
ANB W0A.12               ; ﾗﾍﾞﾙ再発行品読取完了
MOV K0 D5001             ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5092                 ; 投入終了  (払出しへ)
ANB M36                  ; 払出ﾓｰﾄﾞ
MOV K0 D5001             ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;初期動作ｺﾝﾍﾞｱ回転
LD M5001                 ; ｺﾝﾍﾞｱ投入回転
MPS
AND Y230C                ; 基板供給CV正転
TMH K935 K50             ; 基板無確認
MPP
LD T935                  ; 基板無確認
AND X1257                ; 基板搬送戻端
ANL
MPS
ANB X124E                ; 基板投入CV読取ﾜｰｸ確認
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND X124E                ; 基板投入CV読取ﾜｰｸ確認
MOV K5 D5001             ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;FBT & 給材状況確認
LD M5002                 ; FBT確認
MPS
ANB M98                  ; FBT無し
MPS
LDB M5362                ; FBTへ給材要求処理中
ANB M5361                ; FBTへ給材要求処理完了
ANL
MPS
ANB X124D                ; 基板投入CVﾜｰｸ確認
MOV K93 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND X124D                ; 基板投入CVﾜｰｸ確認
MOV K3 D5001             ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
LD M5362                 ; FBTへ給材要求処理中
OR M5361                 ; FBTへ給材要求処理完了
ANL
MOV K94 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND M98                  ; FBT無し
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;ﾜｰｸ要求【FBTへ】
LD M5093                 ; 給材要求 【→FBT】
AND M5362                ; FBTへ給材要求処理中
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5094                 ; 給材完了待ち
ANB M5362                ; FBTへ給材要求処理中
MPS
AND M5361                ; FBTへ給材要求処理完了
RES M5361                ; FBTへ給材要求処理完了
CON
MOV K3 D5001             ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND M5364                ; FBTへ給材要求中断完了
RES M5364                ; FBTへ給材要求中断完了
CON
MOV K92 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;基板引き込み
LD M5003                 ; 基板投入ｽﾄｯﾊﾟ下降
AND T910                 ; 搬送上流ｽﾄｯﾊﾟ下降端
AND T919                 ; 基板搬送爪上昇端
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5004                 ; 基板ｺﾝﾍﾞｱ回転
MPS
AND T917                 ; 基板搬送戻端
MPS
AND X124E                ; 基板投入CV読取ﾜｰｸ確認
TMH K936 K50             ; 基板到着確認
MPP
LDB X124E                ; 基板投入CV読取ﾜｰｸ確認
ANB M98                  ; FBT無し
ANL
MPS
TMR K937 K100            ; 基板到達待ち時間
MPP
AND T937                 ; 基板到達待ち時間
MOV K35 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
LD T936                  ; 基板到着確認
LD T921                  ; 基板投入ﾜｰｸ無確認
OR T911                  ; 搬送上流ｽﾄｯﾊﾟ上昇端
AND M36                  ; 払出ﾓｰﾄﾞ
ORL
ANL
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;*** 基板未到着 
LD M5035                 ; 基板未到着
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K902 D200             ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5036                 ; 処理選択　(ﾀﾞｲｱﾛｸﾞ)
MPS
AND B102A                ; Retry
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
MOV K4 D5001             ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND B102B                ; 新基板投入【FBTへ再要求】
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5037                 ; 基板投入ｽﾄｯﾊﾟ上昇
AND T911                 ; 搬送上流ｽﾄｯﾊﾟ上昇端
MOV K93 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;ﾓｰﾄﾞ判定
;Mode decision
LD M5005                 ; 上流ｽﾄｯﾊﾟ上昇
AND T911                 ; 搬送上流ｽﾄｯﾊﾟ上昇端
MPS
ANB M150                 ; CC Master Check MODE
MPS
LDB M36                  ; 払出ﾓｰﾄﾞ
ORB M98                  ; FBT無し
ANL
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
LD M36                   ; 払出ﾓｰﾄﾞ
AND M98                  ; FBT無し
ANL
MOV K0 D5001             ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND M150                 ; CC Master Check MODE
MOV K45 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;ｲﾝﾃﾞｯｸｽNoｾｯﾄ
LD M5006                 ; 搬送CVｲﾝﾃﾞｯｸｽNoｾｯﾄ
ANB W01.0                ; 基板読込完了
MPS
AND>= K0 D5030           ; ｲﾝﾃﾞｯｸｽｶｳﾝﾀ
MOV K1 D5030             ; ｲﾝﾃﾞｯｸｽｶｳﾝﾀ
MRD
AND<= K10 D5030          ; ｲﾝﾃﾞｯｸｽｶｳﾝﾀ
MOV K1 D5030             ; ｲﾝﾃﾞｯｸｽｶｳﾝﾀ
MRD
MOV D5030 W0130          ; ｲﾝﾃﾞｯｸｽｶｳﾝﾀ  基板投入部ｲﾝﾃﾞｯｸｽNo.
MRD
AND M251                 ; 20141013 koike BCR上下ｼﾘﾝﾀﾞ無し
MOV K8 D5001             ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
ANB M251                 ; 20141013 koike BCR上下ｼﾘﾝﾀﾞ無し
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;<h1/>/ 基板ｺｰﾄﾞ読取
;基板投入不可､IDｴﾗｰ発生時はﾀﾞｲｱﾛｸﾞ表示で処理選択
LD M5007                 ; EntPCB読取ｼﾘﾝﾀﾞｰ下降
AND T926                 ; EntPCB_BCR下降端
ANB B012D                ; EntPCB_BCR下降端異常
MOV K20 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5020                 ; 基板ｺｰﾄﾞ読込要求
LD W01.0                 ; 基板読込完了
OR W01.2                 ; 製品IDｴﾗｰ､段取
ANL
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5021                 ; EntPCB読取ｼﾘﾝﾀﾞｰ上昇
AND Y2312                ; EntPCB_BCR_UP
MOV K8 D5001             ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5008                 ; 基板ｺｰﾄﾞ読込要求
MPS
AND W01.0                ; 基板読込完了
MPS
LDB W01.1                ; 基板投入不可
ANB W01.2                ; 製品IDｴﾗｰ､段取
LD W07.1                 ; 放熱部接着剤塗布有無
AND T922                 ; E-cap sensor
LDB W07.1                ; 放熱部接着剤塗布有無
ANB T922                 ; E-cap sensor
ORL
OR M97                   ; ｺﾝﾃﾞﾝｻｷｬｯﾌﾟｾﾝｻ無
ANL
ANL
MOV K40 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
@BMOV W020 D5400 K64     ; ﾌﾚｰﾑ投入ﾊﾟﾚｯﾄID  UT9_ﾌﾚｰﾑ投入ﾊﾟﾚｯﾄID
@MOV W07 D5463           ; 8_機種情報BITﾃﾞｰﾀ  UT9機種情報
WSUM D5400 K100          ; UT9_ﾌﾚｰﾑ投入ﾊﾟﾚｯﾄID
CON
STA D5300                ; ID読込ﾜｰｸ情報(ﾗﾍﾞﾙﾃﾞｰﾀ有無)
MPP
LD W01.1                 ; 基板投入不可
LD W07.1                 ; 放熱部接着剤塗布有無
ANB T922                 ; E-cap sensor
LDB W07.1                ; 放熱部接着剤塗布有無
AND T922                 ; E-cap sensor
ORL
ANB M97                  ; ｺﾝﾃﾞﾝｻｷｬｯﾌﾟｾﾝｻ無
ORL
ANL
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
LD W01.2                 ; 製品IDｴﾗｰ､段取
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
ANL
DW K900 D200             ; ｴﾗｰｺｰﾄﾞNo.
CON
MOV K10 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5009                 ; 投入不可確認
SET M5453                ; ｺﾝﾃﾞﾝｻｷｬｯﾌﾟ異常
CON
MOV K80 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;製品IDｴﾗｰ･ﾀﾞｲｱﾛｸﾞ選択
LD M5010                 ; IDｴﾗｰ確認､処理選択　(ﾀﾞｲｱﾛｸﾞ)
AND<> D200 K0            ; ｴﾗｰｺｰﾄﾞNo.
MPS
AND B1020                ; ﾀﾞｲｱﾛｸﾞ選択PB1
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MRD
AND B1021                ; ﾀﾞｲｱﾛｸﾞ選択PB2
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
MOV K12 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND B1022                ; ﾀﾞｲｱﾛｸﾞ選択PB3
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
MOV K25 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;治具IDｴﾗｰ･基板取出処理(B1020)
LD M5011                 ; ﾜｰｸ取出選択
MPS
OUT W0101.2              ; ID異常時取出選択
MPP
ANB W01.2                ; 製品IDｴﾗｰ､段取
MOV K80 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;治具IDｴﾗｰ･ﾜｰｸ治具交換選択(B1021)
LD M5012                 ; 治具交換選択
LD M1493                 ; ﾕﾆｯﾄ1ﾜｰｸ無し
AND M1993                ; ﾕﾆｯﾄ2ﾜｰｸ無し
AND M2493                ; ﾕﾆｯﾄ3ﾜｰｸ無し
ORB M260                 ; 20150618 仮Mori
ANL
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5013                 ; 段取一時停止処理
AND M2056                ; 段取ﾌﾞﾛｰﾃｰﾌﾞﾙ1後退確認
AND M2156                ; 段取ﾌﾞﾛｰﾃｰﾌﾞﾙ2後退確認
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5014                 ; 段取時ﾌﾞﾛｰﾃｰﾌﾞﾙ後退確認､POSE要求
AND M130                 ; 全体PAUSE
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5015                 ; 一時停止確認
MPS
OUT W0101.3              ; ID異常時段取選択
MPP
ANB W01.2                ; 製品IDｴﾗｰ､段取
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5016                 ; IDｴﾗｰ解除確認
ANB M130                 ; 全体PAUSE
MOV K7 D5001             ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;治具IDｴﾗｰ･基板取出後ｻｲｸﾙ停止(B1022)
LD M5025                 ; ｻｲｸﾙ停止選択
MPS
OUT W0101.1              ; ID異常時ｻｲｸﾙ停止選択
MPP
ANB W01.2                ; 製品IDｴﾗｰ､段取
MPS
AND X124D                ; 基板投入CVﾜｰｸ確認
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
ANB X124D                ; 基板投入CVﾜｰｸ確認
MOV K27 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5026                 ; 投入位置ﾜｰｸ有取出要求
ANB X124D                ; 基板投入CVﾜｰｸ確認
ANP X124C                ; 基板供給確認PB
MOV K25 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5027                 ; ｽﾄｯﾊﾟ下降
AND T910                 ; 搬送上流ｽﾄｯﾊﾟ下降端
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5028                 ; ｺﾝﾍﾞｱ排出逆転
MPS
TMR K931 K80             ; ｺﾝﾍﾞｱ停止ﾀｲﾏ
MPP
LD T931                  ; ｺﾝﾍﾞｱ停止ﾀｲﾏ
ORF X124D                ; 基板投入CVﾜｰｸ確認
ANL
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5029                 ; 基板取出要求
ANP X124C                ; 基板供給確認PB
ANB X124D                ; 基板投入CVﾜｰｸ確認
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5030                 ; 上流ｽﾄｯﾊﾟ上昇
AND T911                 ; 搬送上流ｽﾄｯﾊﾟ上昇端
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5031                 ; 基板取出要求ON
AND W0101.15             ; 基板投入部取出要求
AND W01.15               ; 基板投入部取出確認
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5032                 ; 基板取出確認
ANB W0101.15             ; 基板投入部取出要求
ANB W01.15               ; 基板投入部取出確認
MPS
@MOV K0 W0130            ; 基板投入部ｲﾝﾃﾞｯｸｽNo.
MPP
AND= W0130 K0            ; 基板投入部ｲﾝﾃﾞｯｸｽNo.
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5033                 ; ID_NG払出ｻｲｸﾙ停止
AND M36                  ; 払出ﾓｰﾄﾞ
MOV K0 D5001             ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;<h1/>/ ｸﾘｽﾀﾙｷｬｯﾌﾟ検査（能拡後は電解コンデンサ検査？）　並列処理でPA検査(Subroutine)
;検査有無判定
;Inspection presence or absence
LD M5040                 ; ｸﾘｽﾀﾙｷｬｯﾌﾟ検査有無
MPS
LDB D5463.3              ; UT9PA検査有無
OR M5441                 ; PA検査中
ANL
MPS
AND D5463.7              ; UT9ｸﾘｽﾀﾙｷｬｯﾌﾟ検査有無
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
ANB D5463.7              ; UT9ｸﾘｽﾀﾙｷｬｯﾌﾟ検査有無
MOV K50 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND D5463.3              ; UT9PA検査有無
OUT M5358                ; PA検査要求(→Sub)
;検査有効･無効判定
;Inspection enable or disable
LD M5041                 ; ｸﾘｽﾀﾙｷｬｯﾌﾟ検査可能確認
ANB W05.4                ; ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査完了
ANB W05.5                ; ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査結果
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5042                 ; ｸﾘｽﾀﾙｷｬｯﾌﾟ検査開始
MPS
LDB W08.12               ; ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査無効
AND W05.4                ; ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査完了
ANL
MPS
AND W05.5                ; ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査結果
MOV K50 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
ANB W05.5                ; ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査結果
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND W08.12               ; ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査無効
MOV K50 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;ｸﾘｽﾀﾙｷｬｯﾌﾟ検査NG 基板取出へ
;Crystal Cap Inspection NG Return
LD M5043                 ; ｸﾘｽﾀﾙｷｬｯﾌﾟ検査NG確認
ANB W05.4                ; ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査完了
MPS
ANB D5463.3              ; UT9PA検査有無
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND D5463.3              ; UT9PA検査有無
MPS
AND M5440                ; PA検査完了
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND M5442                ; PA検査NG
SET M5452                ; PA検査NG
CON
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;NG処理開始前　PA検査（平行動作中）完了待ち
LD M5044                 ; PA検査終了確認
ANB M5441                ; PA検査中
SET M5451                ; CC検査NG
CON
MOV K80 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;ｸﾘｽﾀﾙｷｬｯﾌﾟ日常点検ﾓｰﾄﾞ
;Crystal Cap Daily check MODE
LD M5045                 ; ｲﾝﾃﾞｯｸｽNo. ｾｯﾄ
ANB W01.0                ; 基板読込完了
MPS
AND>= K0 D5030           ; ｲﾝﾃﾞｯｸｽｶｳﾝﾀ
MOV K1 D5030             ; ｲﾝﾃﾞｯｸｽｶｳﾝﾀ
MRD
AND<= K10 D5030          ; ｲﾝﾃﾞｯｸｽｶｳﾝﾀ
MOV K1 D5030             ; ｲﾝﾃﾞｯｸｽｶｳﾝﾀ
MRD
MOV D5030 W0130          ; ｲﾝﾃﾞｯｸｽｶｳﾝﾀ  基板投入部ｲﾝﾃﾞｯｸｽNo.
MRD
AND M251                 ; 20141013 koike BCR上下ｼﾘﾝﾀﾞ無し
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
ANB M251                 ; 20141013 koike BCR上下ｼﾘﾝﾀﾞ無し
MOV K60 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5060                 ; EntPCB読取りｼﾘﾝﾀﾞｰ下降
AND T926                 ; EntPCB_BCR下降端
ANB B012D                ; EntPCB_BCR下降端異常
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5061                 ; 基板ｺｰﾄﾞ読込要求
LD W01.0                 ; 基板読込完了
OR W01.2                 ; 製品IDｴﾗｰ､段取
ANL
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5062                 ; EntPCB読取りｼﾘﾝﾀﾞｰ上昇
AND T925                 ; EntPCB_BCR上昇端
ANB B012C                ; EntPCB_BCR上昇端異常
MOV K46 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5046                 ; 基板ｺｰﾄﾞ読込要求
MPS
AND W01.0                ; 基板読込完了
MPS
LDB W01.1                ; 基板投入不可
ANB W01.2                ; 製品IDｴﾗｰ､段取
ANL
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND W01.1                ; 基板投入不可
MOV K80 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND W01.2                ; 製品IDｴﾗｰ､段取
MOV K80 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5047                 ; ｸﾘｽﾀﾙｷｬｯﾌﾟ検査開始
AND W05.4                ; ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査完了
LD W05.5                 ; ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査結果
ORB W05.5                ; ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査結果
ANL
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5048                 ; ｸﾘｽﾀﾙｷｬｯﾌﾟ検査完了
ANB W05.4                ; ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査完了
MOV K80 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;<h1/>/ PA検査
LD M5050                 ; PA検査結果確認
MPS
ANB D5463.3              ; UT9PA検査有無
MOV K67 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND D5463.3              ; UT9PA検査有無
MPS
AND M5442                ; PA検査NG
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND M5440                ; PA検査完了
MOV K52 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5051                 ; 検査NG結果受領
ANB M5440                ; PA検査完了
ANB M5441                ; PA検査中
ANB M5442                ; PA検査NG
SET M5452                ; PA検査NG
CON
MOV K80 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5052                 ; 検査OK結果受領
ANB M5440                ; PA検査完了
ANB M5441                ; PA検査中
ANB M5442                ; PA検査NG
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;PA検査OK
LD M5053                 ; PA検査OK
AND W0103.1              ; PA検査結果
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5054                 ; PA検査OK動作中OFF
ANB W0103.0              ; PA検査開始
ANB W03.0                ; PA検査開始受付
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5055                 ; PA検査結果OFF
ANB W0103.1              ; PA検査結果
ANB W01.7                ; ﾌﾚｰﾑﾗﾍﾞﾙ発行完了
MOV K67 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;<h1/>/ 製品情報ﾊﾞｯﾌｧ要求
;製品情報ﾊﾞｯﾌｧ要求
LD M5067                 ; ﾊﾞｯﾌｧ要求
MPS
LDB M98                  ; FBT無し
ANB M99                  ; ASSYがﾗﾍﾞﾙ発行要求
ANL
MOV K71 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
LD M98                   ; FBT無し
OR M99                   ; ASSYがﾗﾍﾞﾙ発行要求
ANL
MPS
OUT W0101.11             ; 基板投入部製品情報ﾊﾞｯﾌｧ要求
MPP
AND W01.11               ; 基板投入部製品情報ﾊﾞｯﾌｧ完了
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5068                 ; ﾊﾞｯﾌｧ確認
ANB W01.11               ; 基板投入部製品情報ﾊﾞｯﾌｧ完了
@FIFOW D5300 D5310       ; ID読込ﾜｰｸ情報(ﾗﾍﾞﾙﾃﾞｰﾀ有無)  ﾗﾍﾞﾙﾃﾞｰﾀ数
MPS
AND M98                  ; FBT無し
MOV K71 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
ANB M98                  ; FBT無し
MPS
ANB M36                  ; 払出ﾓｰﾄﾞ
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
AND M36                  ; 払出ﾓｰﾄﾞ
MOV K71 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;FBTへ先行給材要求
LD M5069                 ; 給材要求 【FBTへ】
AND M5362                ; FBTへ給材要求処理中
MOV K71 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;基板搬送可･完了確認
LD M5071                 ; 照合完了搬送可(基板搬送へ)
AND M5110                ; 基板搬送完了(投入部へ)
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5072                 ; 基板搬送確認
ANB M5110                ; 基板搬送完了(投入部へ)
MOV K0 D5001             ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;*** 基板取出
LD M5080                 ; NG基板排出
ANB W0103.0              ; PA検査開始
MPS
AND X124D                ; 基板投入CVﾜｰｸ確認
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
MPP
ANB X124D                ; 基板投入CVﾜｰｸ確認
MOV K82 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5081                 ; 投入位置ﾜｰｸ有取出要求
ANB X124D                ; 基板投入CVﾜｰｸ確認
ANP X124C                ; 基板供給確認PB
MOV K80 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5082                 ; ｽﾄｯﾊﾟ下降
AND T910                 ; 搬送上流ｽﾄｯﾊﾟ下降端
AND T919                 ; 基板搬送爪上昇端
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5083                 ; ｺﾝﾍﾞｱ排出逆転
MPS
TMR K932 K80             ; ｺﾝﾍﾞｱ停止ﾀｲﾏ
MPP
LD T932                  ; ｺﾝﾍﾞｱ停止ﾀｲﾏ
ORF X124D                ; 基板投入CVﾜｰｸ確認
ANL
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5084                 ; 読込NG取出要求
ANP X124C                ; 基板供給確認PB
ANB X124D                ; 基板投入CVﾜｰｸ確認
ZRES M5450 M5453         ; PCBｺｰﾄﾞ読み取りNG  ｺﾝﾃﾞﾝｻｷｬｯﾌﾟ異常
CON
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5085                 ; 上流ｽﾄｯﾊﾟ上昇
AND T911                 ; 搬送上流ｽﾄｯﾊﾟ上昇端
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5086                 ; 基板取出要求ON
AND W0101.15             ; 基板投入部取出要求
AND W01.15               ; 基板投入部取出確認
@INC D5001               ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD M5087                 ; 基板取出確認
ANB W0101.15             ; 基板投入部取出要求
ANB W01.15               ; 基板投入部取出確認
MPS
@MOV K0 W0130            ; 基板投入部ｲﾝﾃﾞｯｸｽNo.
MPP
AND= W0130 K0            ; 基板投入部ｲﾝﾃﾞｯｸｽNo.
MOV K0 D5001             ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
LD M5000                 ; 基板投入部ｻｲｸﾙ開始
LDB M98                  ; FBT無し
AND M5092                ; 投入終了  (払出しへ)
ORL
LD M98                   ; FBT無し
AND M5004                ; 基板ｺﾝﾍﾞｱ回転
ORL
OR M5071                 ; 照合完了搬送可(基板搬送へ)
ANL
MOV K98 D5001            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
LD M5098                 ; ﾕﾆｯﾄ9-1ｻｲｸﾙ停止処理
@MOV K99 D5001           ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
;<h1/>□ 搬送ｺﾝﾍﾞｱ
;運転開始・ステッパ初期化・補助接点へ展開
LD CR2002                ; 常時ON
ZRES M5100 M5149         ; 基板CV搬送開始  ﾕﾆｯﾄ9-3ｻｲｸﾙ終了
LDB M5485                ; ﾕﾆｯﾄ9起動中
MOV K0 D5002             ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
DW K0 D5202              ; UT9 main 2 STEP monitor
LD M5485                 ; ﾕﾆｯﾄ9起動中
MOV D5002 Z1             ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
SET M5100:Z1             ; 基板CV搬送開始
CAL+ D5002 K5100 D5202   ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ  UT9 main 2 STEP monitor
;自動運転ステップ開始
;取出部基板確認
LD M5100                 ; 基板CV搬送開始
AND X3565                ; 基板CV取出部ｾﾝｻ干渉外(45)
MPS
AND T991                 ; 基板投入CV取出ﾜｰｸ無
MOV K3 D5002             ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
MPP
AND T990                 ; 基板投入CV取出ﾜｰｸ有
@INC D5002               ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
;基板有取出要求
LD M5101                 ; 基板取出可(嵌合RBへ)
AND M5550                ; 基板取出完了(基板CVへ)
@INC D5002               ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
LD M5102                 ; 基板取出確認
ANB M5550                ; 基板取出完了(基板CVへ)
AND T991                 ; 基板投入CV取出ﾜｰｸ無
@INC D5002               ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
LD M5103                 ; 搬送可待ち
LD M5071                 ; 照合完了搬送可(基板搬送へ)
LD X126B                 ; 基板投入CVﾜｰｸ有
AND T991                 ; 基板投入CV取出ﾜｰｸ無
LDB M95                  ; 能拡対応ﾓｰﾄﾞﾌﾗｸﾞ(ONで能拡ﾓｰﾄﾞ)
AND M3690                ; 排出ｼﾌﾄ払出ﾓｰﾄﾞ基板搬送可
LD M95                   ; 能拡対応ﾓｰﾄﾞﾌﾗｸﾞ(ONで能拡ﾓｰﾄﾞ)
AND M36                  ; 払出ﾓｰﾄﾞ
LD M98                   ; FBT無し
AND M5000                ; 基板投入部ｻｲｸﾙ開始
ANB X124E                ; 基板投入CV読取ﾜｰｸ確認
LDB M98                  ; FBT無し
AND M5092                ; 投入終了  (払出しへ)
ORL
ANL
ORL
ANL
ORL
ANL
@INC D5002               ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
LD M5104                 ; 搬送可確認
AND T991                 ; 基板投入CV取出ﾜｰｸ無
@INC D5002               ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
;基板搬送動作
LD M5105                 ; 搬送爪閉  (&BCR上昇)下ｽﾄｯﾊﾟ下降
AND T918                 ; 基板搬送爪下降端
AND T925                 ; EntPCB_BCR上昇端
ANB B012C                ; EntPCB_BCR上昇端異常
AND T912                 ; 搬送下流ｽﾄｯﾊﾟ下降端
@INC D5002               ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
LD M5106                 ; 基板CV下流ｽﾄｯﾊﾟ下降
AND T912                 ; 搬送下流ｽﾄｯﾊﾟ下降端
@INC D5002               ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
;搬送爪送りでｲﾝﾃﾞｯｸｽｶｳﾝﾄｱｯﾌﾟとｲﾝﾃﾞｯｸｽﾃﾞｰﾀをｼﾌﾄ
LD M5107                 ; 搬送爪送
@INC D5030               ; ｲﾝﾃﾞｯｸｽｶｳﾝﾀ
@BMOV W0130 W0131 K6     ; 基板投入部ｲﾝﾃﾞｯｸｽNo.  基板搬送1ｲﾝﾃﾞｯｸｽNo.
MPS
@MOV K0 W0130            ; 基板投入部ｲﾝﾃﾞｯｸｽNo.
MPP
AND T916                 ; 基板搬送送端
@INC D5002               ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
;搬送爪上昇　下流ｽﾄｯﾊﾟ上昇
LD M5108                 ; 基板CV下流ｽﾄｯﾊﾟ上昇＆搬送爪開
AND T913                 ; 搬送下流ｽﾄｯﾊﾟ上昇端
AND T919                 ; 基板搬送爪上昇端
@INC D5002               ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
;搬送爪戻し→投入口BCR下降ｻﾌﾞﾙｰﾁﾝ　起動
LD M5109                 ; 搬送爪戻  (Sub起動)
AND M5461                ; 搬送爪戻し→BCR下降　動作中
@INC D5002               ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
;基板投入へ基板搬送完了ON
LD M5110                 ; 基板搬送完了(投入部へ)
ANB M5071                ; 照合完了搬送可(基板搬送へ)
@INC D5002               ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
LD M5111                 ; 搬送爪戻確認
AND T917                 ; 基板搬送戻端
@INC D5002               ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
LD M5112                 ; 取出部ﾜｰｸ確認
AND X3565                ; 基板CV取出部ｾﾝｻ干渉外(45)
MPS
LD T990                  ; 基板投入CV取出ﾜｰｸ有
AND T920                 ; 基板CV扉閉確認
ANL
@INC D5002               ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
MPP
AND T991                 ; 基板投入CV取出ﾜｰｸ無
MPS
LD= W0135 K0             ; 基板取出部ｲﾝﾃﾞｯｸｽNo.
ORB X126B                ; 基板投入CVﾜｰｸ有
ANL
MOV K0 D5002             ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
MPP
LD<> W0135 K0            ; 基板取出部ｲﾝﾃﾞｯｸｽNo.
AND X126B                ; 基板投入CVﾜｰｸ有
ANL
TMR K940 K30             ; PCB行方不明ERR
CON
AND B012A                ; 基板CV取出位置PCB行方不明
AND= D200 K0             ; ｴﾗｰｺｰﾄﾞNo.
DW K901 D200             ; ｴﾗｰｺｰﾄﾞNo.
CON
MOV K20 D5002            ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
;*** PCB搬送異常
LD M5120                 ; 基板搬送異常
MPS
LDB X125E                ; 基板搬送CV装置側引戸
OR M5356                 ; 除材扉開確認
ANL
OUT M5356                ; 除材扉開確認
MPP
LD M5356                 ; 除材扉開確認
AND T920                 ; 基板CV扉閉確認
AND T991                 ; 基板投入CV取出ﾜｰｸ無
ANP B1023                ; 基板取出確認TP-PB
ANL
DW K0 W0135              ; 基板取出部ｲﾝﾃﾞｯｸｽNo.
CON
DW K0 D200               ; ｴﾗｰｺｰﾄﾞNo.
CON
@INC D5002               ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
LD M5121                 ; 搬送異常基板除材(CV→Assy)
AND M5580                ; 除材処理受諾
MOV K0 D5002             ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
;***
;基板取出可･確認
LD M5113                 ; 基板取出可ON(基板嵌合へ)
LD M5518                 ; 基板取出完了(照合NG)
OR M5528                 ; 基板取出完了(塗布検査NG)
OR M5550                 ; 基板取出完了(基板CVへ)
OR M5582                 ; NG_Case有 基板除材完了
ANL
@INC D5002               ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
@MOV K0 W0135            ; 基板取出部ｲﾝﾃﾞｯｸｽNo.
LD M5114                 ; 基板取出完了確認
ANB M5518                ; 基板取出完了(照合NG)
ANB M5528                ; 基板取出完了(塗布検査NG)
ANB M5550                ; 基板取出完了(基板CVへ)
MOV K0 D5002             ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
LD M5103                 ; 搬送可待ち
LD M5113                 ; 基板取出可ON(基板嵌合へ)
ANB X124F                ; 基板投入CV取出ﾜｰｸ確認
ORL
ANL
MOV K48 D5002            ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
LD M5148                 ; ﾕﾆｯﾄ9-3ｻｲｸﾙ停止
@MOV K49 D5002           ; ﾕﾆｯﾄ9-3自動運転ｽﾃｯﾌﾟ
;<h1/>■工程処理 PLC→PC I/F
;Code Read / CC Check
LDB M5020                ; 基板ｺｰﾄﾞ読込要求
ANB M5021                ; EntPCB読取ｼﾘﾝﾀﾞｰ上昇
ANB M5008                ; 基板ｺｰﾄﾞ読込要求
ANB M5061                ; 基板ｺｰﾄﾞ読込要求
ANB M5062                ; EntPCB読取りｼﾘﾝﾀﾞｰ上昇
ANB M5046                ; 基板ｺｰﾄﾞ読込要求
INV
AND M50                  ; 運転準備
ANB M51                  ; 即停止異常(緊急停止)
OUT W0101.0              ; 基板読込要求
LD M5042                 ; ｸﾘｽﾀﾙｷｬｯﾌﾟ検査開始
OR M5047                 ; ｸﾘｽﾀﾙｷｬｯﾌﾟ検査開始
AND M50                  ; 運転準備
ANB M51                  ; 即停止異常(緊急停止)
OUT W0105.4              ; ｸﾘｽﾀﾙｷｬｯﾌﾟ画像検査開始
;PA検査開始･結果
LDB M5031                ; 基板取出要求ON
ANB M5086                ; 基板取出要求ON
INV
OUT W0101.15             ; 基板投入部取出要求
LD M5421                 ; PA検査開始ON(→PC)
OR W0103.0               ; PA検査開始
ANB M5054                ; PA検査OK動作中OFF
ANB M5080                ; NG基板排出
AND M5485                ; ﾕﾆｯﾄ9起動中
AND M50                  ; 運転準備
ANB M51                  ; 即停止異常(緊急停止)
OUT W0103.0              ; PA検査開始
LD M5053                 ; PA検査OK
OR W0103.1               ; PA検査結果
ANB M5055                ; PA検査結果OFF
AND M5485                ; ﾕﾆｯﾄ9起動中
AND M50                  ; 運転準備
ANB M51                  ; 即停止異常(緊急停止)
OUT W0103.1              ; PA検査結果
;投入許可表示ﾌﾗｸﾞ
LD M260                  ; 20150618 仮Mori
AND M5485                ; ﾕﾆｯﾄ9起動中
LD M5005                 ; 上流ｽﾄｯﾊﾟ上昇
OR M5359                 ; 基板投入不可
ANL
ANB M5053                ; PA検査OK
ANB M5072                ; 基板搬送確認
ANB M5087                ; 基板取出確認
LD> D5001 K4             ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
AND<= D5001 K68          ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
ORL
OUT M5359                ; 基板投入不可
;<h1/>■原点復帰
;□□□□□□□□□□□□□□□
;□　　 UNIT9原点復帰回路　　□
;□□□□□□□□□□□□□□□
LD CR2002                ; 常時ON
ZRES M5250 M5299         ; 原点復帰可能確認  ﾕﾆｯﾄ9原点終了
LDB M5484                ; ﾕﾆｯﾄ9原点復帰中
MOV K0 D5010             ; ﾕﾆｯﾄ9原点復帰ｽﾃｯﾌﾟ
DW K0 D5210              ; UT9 origin STEP monitor
LD M5484                 ; ﾕﾆｯﾄ9原点復帰中
MOV D5010 Z1             ; ﾕﾆｯﾄ9原点復帰ｽﾃｯﾌﾟ
SET M5250:Z1             ; 原点復帰可能確認
CAL+ D5010 K5250 D5210   ; ﾕﾆｯﾄ9原点復帰ｽﾃｯﾌﾟ  UT9 origin STEP monitor
;原点復帰ｻｲｸﾙ監視
LD M5484                 ; ﾕﾆｯﾄ9原点復帰中
TMR K900 K300            ; UNIT9原点復帰ﾀｲﾑｱｳﾄ
;原点復帰ステップ開始
LD M5250                 ; 原点復帰可能確認
MPS
AND M251                 ; 20141013 koike BCR上下ｼﾘﾝﾀﾞ無し
MOV K2 D5010             ; ﾕﾆｯﾄ9原点復帰ｽﾃｯﾌﾟ
MPP
ANB M251                 ; 20141013 koike BCR上下ｼﾘﾝﾀﾞ無し
@INC D5010               ; ﾕﾆｯﾄ9原点復帰ｽﾃｯﾌﾟ
LD M5251                 ; EntPCB読取ｼﾘﾝﾀﾞｰ上昇
AND T925                 ; EntPCB_BCR上昇端
@INC D5010               ; ﾕﾆｯﾄ9原点復帰ｽﾃｯﾌﾟ
LD M5252                 ; 基板搬送爪開
AND T919                 ; 基板搬送爪上昇端
@INC D5010               ; ﾕﾆｯﾄ9原点復帰ｽﾃｯﾌﾟ
LD M5253                 ; 基板搬送爪戻
AND T917                 ; 基板搬送戻端
@INC D5010               ; ﾕﾆｯﾄ9原点復帰ｽﾃｯﾌﾟ
LD M5254                 ; 位置決開
AND T915                 ; 搬送位置決め開端
@INC D5010               ; ﾕﾆｯﾄ9原点復帰ｽﾃｯﾌﾟ
LD M5255                 ; 上流ｽﾄｯﾊﾟ上昇
AND T911                 ; 搬送上流ｽﾄｯﾊﾟ上昇端
AND T913                 ; 搬送下流ｽﾄｯﾊﾟ上昇端
@INC D5010               ; ﾕﾆｯﾄ9原点復帰ｽﾃｯﾌﾟ
;原点復帰終了
LD M5256                 ; 基板搬送原点完了
AND M5480                ; ﾕﾆｯﾄ9原点
@MOV K48 D5010           ; ﾕﾆｯﾄ9原点復帰ｽﾃｯﾌﾟ
LD M5298                 ; ﾕﾆｯﾄ9原点確認
ANB M82                  ; 原点復帰開始
@MOV K49 D5010           ; ﾕﾆｯﾄ9原点復帰ｽﾃｯﾌﾟ
;<h1/>■手動回路
;□□□□□□□□□□□□□□□
;□　　 　UNIT9手動回路  　　□
;□□□□□□□□□□□□□□□
LD M31                   ; 手動ﾓｰﾄﾞ
AND T920                 ; 基板CV扉閉確認
AND M32                  ; ﾒｲﾝ手動操作可能条件
ANB M5485                ; ﾕﾆｯﾄ9起動中
ANB M5484                ; ﾕﾆｯﾄ9原点復帰中
ANB M5811                ; 基板嵌合RB1ｻｲｸﾙ
ANB M5841                ; 基板照合1ｻｲｸﾙ
MC
;基板CV上流ｽﾄｯﾊﾟ上下
LD X1253                 ; 搬送下流ｽﾄｯﾊﾟ上昇端
OUT M5300                ; 基板CV上流ｽﾄｯﾊﾟ下降可
LD B1180                 ; UNIT9-1-1 TP-PB
AND M5300                ; 基板CV上流ｽﾄｯﾊﾟ下降可
OR M5301                 ; 基板CV上流ｽﾄｯﾊﾟ下昇
ANPB M5303               ; 基板CV上流ｽﾄｯﾊﾟ上昇
OUT M5301                ; 基板CV上流ｽﾄｯﾊﾟ下昇
LD CR2002                ; 常時ON
OUT M5302                ; 基板CV上流ｽﾄｯﾊﾟ上昇可
LD B1181                 ; UNIT9-1-2 TP-PB
AND M5302                ; 基板CV上流ｽﾄｯﾊﾟ上昇可
OR M5303                 ; 基板CV上流ｽﾄｯﾊﾟ上昇
ANPB M5301               ; 基板CV上流ｽﾄｯﾊﾟ下昇
OUT M5303                ; 基板CV上流ｽﾄｯﾊﾟ上昇
;基板CV下流ｽﾄｯﾊﾟ上下
LD X1251                 ; 搬送上流ｽﾄｯﾊﾟ上昇端
OUT M5304                ; 基板CV下流ｽﾄｯﾊﾟ下降可
LD B1182                 ; UNIT9-1-3 TP-PB
AND M5304                ; 基板CV下流ｽﾄｯﾊﾟ下降可
OR M5305                 ; 基板CV下流ｽﾄｯﾊﾟ下昇
ANPB M5307               ; 基板CV下流ｽﾄｯﾊﾟ上昇
OUT M5305                ; 基板CV下流ｽﾄｯﾊﾟ下昇
LD X1256                 ; 基板搬送送端
OR X1257                 ; 基板搬送戻端
OR X1259                 ; 基板搬送爪上昇端
OUT M5306                ; 基板CV下流ｽﾄｯﾊﾟ上昇可
LD B1183                 ; UNIT9-1-4 TP-PB
AND M5306                ; 基板CV下流ｽﾄｯﾊﾟ上昇可
OR M5307                 ; 基板CV下流ｽﾄｯﾊﾟ上昇
ANPB M5305               ; 基板CV下流ｽﾄｯﾊﾟ下昇
OUT M5307                ; 基板CV下流ｽﾄｯﾊﾟ上昇
;基板搬送爪上下
LD CR2002                ; 常時ON
OUT M5308                ; 基板搬送爪閉可
LD B1184                 ; UNIT9-1-5 TP-PB
AND M5308                ; 基板搬送爪閉可
OR M5309                 ; 基板搬送爪閉
ANPB M5311               ; 基板搬送爪開
OUT M5309                ; 基板搬送爪閉
LD CR2002                ; 常時ON
OUT M5310                ; 基板搬送爪開可
LD B1185                 ; UNIT9-1-6 TP-PB
AND M5310                ; 基板搬送爪開可
OR M5311                 ; 基板搬送爪開
ANPB M5309               ; 基板搬送爪閉
OUT M5311                ; 基板搬送爪開
;基板搬送爪送戻
LDB X124F                ; 基板投入CV取出ﾜｰｸ確認
AND X1255                ; 搬送位置決め開端
AND X1252                ; 搬送下流ｽﾄｯﾊﾟ下降端
OR X1259                 ; 基板搬送爪上昇端
LD X3562                 ; 基板嵌合RB原点(42)
OR X3563                 ; 基板RB嵌合領域(43)
OR X3564                 ; 基板RBZ軸退避領域(44)
ANL
OUT M5312                ; 基板搬送爪送可
LD B1186                 ; UNIT9-1-7 TP-PB
AND M5312                ; 基板搬送爪送可
OR M5313                 ; 基板搬送爪送
ANPB M5315               ; 基板搬送爪戻
OUT M5313                ; 基板搬送爪送
LD X1252                 ; 搬送下流ｽﾄｯﾊﾟ下降端
OR X1259                 ; 基板搬送爪上昇端
LD X3562                 ; 基板嵌合RB原点(42)
OR X3563                 ; 基板RB嵌合領域(43)
OR X3564                 ; 基板RBZ軸退避領域(44)
ANL
OUT M5314                ; 基板搬送爪戻可
LD B1187                 ; UNIT9-1-8 TP-PB
AND M5314                ; 基板搬送爪戻可
OR M5315                 ; 基板搬送爪戻
ANPB M5313               ; 基板搬送爪送
OUT M5315                ; 基板搬送爪戻
;基板CV正転･逆転
LD CR2002                ; 常時ON
OUT M5316                ; 基板搬送CV位置決閉可
LD B1188                 ; UNIT9-1-9 TP-PB
AND M5316                ; 基板搬送CV位置決閉可
OR M5317                 ; 基板搬送CV位置決閉
ANPB M5319               ; 基板搬送CV位置決開
OUT M5317                ; 基板搬送CV位置決閉
LD CR2002                ; 常時ON
OUT M5318                ; 基板搬送CV位置決開可
LD B1189                 ; UNIT9-1-10 TP-PB
AND M5318                ; 基板搬送CV位置決開可
OR M1519
ANPB M5317               ; 基板搬送CV位置決閉
OUT M5319                ; 基板搬送CV位置決開
;基板CV正転･逆転
LD CR2002                ; 常時ON
ANB M5323                ; 基板CV逆転
OUT M5320                ; 基板CV正転可
LD B118A                 ; UNIT9-1-11 TP-PB
AND M5320                ; 基板CV正転可
OUT M5321                ; 基板CV正転
LD CR2002                ; 常時ON
ANB M5321                ; 基板CV正転
OUT M5322                ; 基板CV逆転可
LD B118B                 ; UNIT9-1-12 TP-PB
AND M5322                ; 基板CV逆転可
OUT M5323                ; 基板CV逆転
;PA検査
LD CR2002                ; 常時ON
AND B2015                ; PA検査ﾚﾃﾞｨ
OUT M5330                ; PA検査開始可
LDP B118C                ; UNIT9-1-13 TP-PB
AND M5330                ; PA検査開始可
OR M5331                 ; PA検査　PRO_No切替指令
ANB M5332                ; PA検査　PRO_No切替確認
MOV D5100 W05C0          ; 手動PA検査No  IV Series[1]ﾌﾟﾛｸﾞﾗﾑ番号
OUT M5331                ; PA検査　PRO_No切替指令
LD M5331                 ; PA検査　PRO_No切替指令
AND B2002                ; PA検査ﾌﾟﾛｸﾞﾗﾑ切替応答
OR M5332                 ; PA検査　PRO_No切替確認
ANB M5333                ; PA検査ﾊﾞｯﾌｧｸﾘｱ
OUT M5332                ; PA検査　PRO_No切替確認
LD M5332                 ; PA検査　PRO_No切替確認
ANB B2002                ; PA検査ﾌﾟﾛｸﾞﾗﾑ切替応答
ANB B2012                ; PA検査ﾋﾞｼﾞｰ
OR M5333                 ; PA検査ﾊﾞｯﾌｧｸﾘｱ
ANB M5334                ; PA検査ﾊﾞｯﾌｧｸﾘｱ確認
OUT M5333                ; PA検査ﾊﾞｯﾌｧｸﾘｱ
;計測結果ﾊﾞｯﾌｧｸﾘｱ
LD M5333                 ; PA検査ﾊﾞｯﾌｧｸﾘｱ
ANB B2010                ; PA検査結果取得可能
ANB B2020                ; PA検査総合判定(OFF:NG ON:OK)
OR M5334                 ; PA検査ﾊﾞｯﾌｧｸﾘｱ確認
ANB M5335                ; PA検査　指令
OUT M5334                ; PA検査ﾊﾞｯﾌｧｸﾘｱ確認
;PA検査実行
LD M5334                 ; PA検査ﾊﾞｯﾌｧｸﾘｱ確認
ANB B2012                ; PA検査ﾋﾞｼﾞｰ
OR M5335                 ; PA検査　指令
ANB M5336                ; PA検査　BUSY確認
OUT M5335                ; PA検査　指令
LD M5335                 ; PA検査　指令
AND B2012                ; PA検査ﾋﾞｼﾞｰ
OR M5336                 ; PA検査　BUSY確認
ANB M5337                ; PA検査完了
OUT M5336                ; PA検査　BUSY確認
;検査完了結果判定
LD M5336                 ; PA検査　BUSY確認
ANB B2012                ; PA検査ﾋﾞｼﾞｰ
LDB B2020                ; PA検査総合判定(OFF:NG ON:OK)
OR B2020                 ; PA検査総合判定(OFF:NG ON:OK)
ANL
OUT M5337                ; PA検査完了
LDP B118D                ; UNIT9-1-14 TP-PB
OR M5324                 ; EntPCB_BCR下降ﾏﾆｭ
ANB B118E                ; UNIT9-1-15 TP-PB
ANB M5250                ; 原点復帰可能確認
OUT M5324                ; EntPCB_BCR下降ﾏﾆｭ
MCR
;<h1/>■Subroutine
;<h1/> /FBTへ給材要求処理
LDB M71                  ; 自動運転開始BZ
ZRES M5360 M5379         ; FBTへ給材要求処理  払出投入抑制中
LDB M5069                ; 給材要求 【FBTへ】
ANB M5093                ; 給材要求 【→FBT】
INV
ANB M5362                ; FBTへ給材要求処理中
@SET M5365               ; 給材開始
;動作ﾒｲﾝ
STG M5365                ; 給材開始
SET M5362                ; FBTへ給材要求処理中
CON
SET M5363                ; FBTへ給材要求FLG.
CON
JMP M5366                ; ﾜｰｸ残ﾁｪｯｸ
STG M5366                ; ﾜｰｸ残ﾁｪｯｸ
MPS
AND X124D                ; 基板投入CVﾜｰｸ確認
TMR K961 K30             ; ﾜｰｸ有り検出ﾃﾞｨﾚｲ
CON
AND T961                 ; ﾜｰｸ有り検出ﾃﾞｨﾚｲ
JMP M5370                ; 給材完了
MPP
ANB X124D                ; 基板投入CVﾜｰｸ確認
JMP M5367                ; 給材開始確認
STG M5367                ; 給材開始確認
MPS
AND B3022                ; 給材中   【FBTから】
JMP M5368                ; 給材完了待ち
MPP
LDB B3022                ; 給材中   【FBTから】
ANB B3020                ; 給材完了 【FBTから】
ANB B3021                ; 給材NG   【FBTから】
AND M36                  ; 払出ﾓｰﾄﾞ
ANL
RES M5363                ; FBTへ給材要求FLG.
CON
JMP M5379                ; 払出投入抑制中
STG M5368                ; 給材完了待ち
ANB B3022                ; 給材中   【FBTから】
MPS
LD B3020                 ; 給材完了 【FBTから】
AND X124D                ; 基板投入CVﾜｰｸ確認
ANL
JMP M5369                ; 給材完了H/S
MPP
LD B3021                 ; 給材NG   【FBTから】
ORB X124D                ; 基板投入CVﾜｰｸ確認
ANL
JMP M5376                ; 給材NG H/S
STG M5369                ; 給材完了H/S
RES M5363                ; FBTへ給材要求FLG.
CON
ANB B3022                ; 給材中   【FBTから】
ANB B3020                ; 給材完了 【FBTから】
ANB B3021                ; 給材NG   【FBTから】
ANB M151                 ; Bonding Daily Check MODE
ANB M152                 ; Re-Enter MODE
JMP M5370                ; 給材完了
STG M5370                ; 給材完了
RES M5362                ; FBTへ給材要求処理中
CON
SET M5361                ; FBTへ給材要求処理完了
CON
ENDS
;*** 投入抑制
STG M5375                ; 投入抑制中
RES M5363                ; FBTへ給材要求FLG.
CON
ANB M151                 ; Bonding Daily Check MODE
ANB M152                 ; Re-Enter MODE
ANB M3710                ; 再投入ﾓｰﾄﾞ開始ﾌﾗｸﾞ
ANB M3711                ; 日常点検ﾓｰﾄﾞ開始ﾌﾗｸﾞ
JMP M5365                ; 給材開始
;*** 給材NG
STG M5376                ; 給材NG H/S
RES M5363                ; FBTへ給材要求FLG.
CON
ANB B3022                ; 給材中   【FBTから】
ANB B3021                ; 給材NG   【FBTから】
ANB B3020                ; 給材完了 【FBTから】
MPS
ANB X124D                ; 基板投入CVﾜｰｸ確認
JMP M5365                ; 給材開始
MPP
AND X124D                ; 基板投入CVﾜｰｸ確認
JMP M5377                ; 投入部ﾜｰｸ除材要求
STG M5377                ; 投入部ﾜｰｸ除材要求
MPS
LDB X124D                ; 基板投入CVﾜｰｸ確認
ANP X124C                ; 基板供給確認PB
ANL
JMP M5365                ; 給材開始
MPP
OUT M5354                ; 投入NGﾜｰｸ除材待ち
;***
;払い出しモード
STG M5379                ; 払出投入抑制中
MPS
LDB B3022                ; 給材中   【FBTから】
ANB B3020                ; 給材完了 【FBTから】
ANB B3021                ; 給材NG   【FBTから】
ANL
TMR K930 K10             ; ｻｲｸﾙ終了ｳｪｲﾄ
CON
AND T930                 ; ｻｲｸﾙ終了ｳｪｲﾄ
RES M5362                ; FBTへ給材要求処理中
CON
SET M5364                ; FBTへ給材要求中断完了
CON
ENDS
MPP
LD B3022                 ; 給材中   【FBTから】
OR B3020                 ; 給材完了 【FBTから】
OR B3021                 ; 給材NG   【FBTから】
ANL
JMP M5368                ; 給材完了待ち
;<h1/> /PA検査
;運転開始・ステッパ初期化・補助接点へ展開
LD CR2002                ; 常時ON
ZRES M5420 M5439         ; PA検査開始
LDB M5358                ; PA検査要求(→Sub)
ANB M5441                ; PA検査中
INV
ANB M5444                ; 結果受領確認
OUT M5441                ; PA検査中
LDB M5051                ; 検査NG結果受領
ANB M5052                ; 検査OK結果受領
ANB M5044                ; PA検査終了確認
INV
OUT M5444                ; 結果受領確認
LDB M5441                ; PA検査中
MOV K0 D5021             ; Sub2 PAﾃｰﾌﾟ検査 ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
LD M5441                 ; PA検査中
MOV D5021 Z1             ; Sub2 PAﾃｰﾌﾟ検査 ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
SET M5420:Z1             ; PA検査開始
;PA検査開始
LD M5420                 ; PA検査開始
MPS
ANB M71                  ; 自動運転開始BZ
MOV K2 D5021             ; Sub2 PAﾃｰﾌﾟ検査 ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
AND M71                  ; 自動運転開始BZ
@INC D5021               ; Sub2 PAﾃｰﾌﾟ検査 ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;PA検査Prg_No.切替
LD M5421                 ; PA検査開始ON(→PC)
AND W03.0                ; PA検査開始受付
MPS
AND W08.0                ; PA画像検査無効
MOV K11 D5021            ; Sub2 PAﾃｰﾌﾟ検査 ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
LDB W08.0                ; PA画像検査無効
ANB B2012                ; PA検査ﾋﾞｼﾞｰ
ANL
@INC D5021               ; Sub2 PAﾃｰﾌﾟ検査 ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;PA検査Prg_No.切替
LD M5422                 ; PA検査　PRO_No切替判断
MPS
AND= W0504 D5414         ; IV Series[1]現在ﾌﾟﾛｸﾞﾗﾑ番号  UT9_PA画像検査No.
MOV K5 D5021             ; Sub2 PAﾃｰﾌﾟ検査 ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
LD<> W0504 D5414         ; IV Series[1]現在ﾌﾟﾛｸﾞﾗﾑ番号  UT9_PA画像検査No.
ANB B2012                ; PA検査ﾋﾞｼﾞｰ
ANL
@INC D5021               ; Sub2 PAﾃｰﾌﾟ検査 ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPS
AND M71                  ; 自動運転開始BZ
MOV D5414 W05C0          ; UT9_PA画像検査No.  IV Series[1]ﾌﾟﾛｸﾞﾗﾑ番号
MPP
ANB M71                  ; 自動運転開始BZ
MOV D5100 W05C0          ; 手動PA検査No  IV Series[1]ﾌﾟﾛｸﾞﾗﾑ番号
LD M5423                 ; PA検査　PRO_No切替指令
MPS
AND B2002                ; PA検査ﾌﾟﾛｸﾞﾗﾑ切替応答
@INC D5021               ; Sub2 PAﾃｰﾌﾟ検査 ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
ANB B2002                ; PA検査ﾌﾟﾛｸﾞﾗﾑ切替応答
TMR K942 K500            ; PA_IV Prog切替応答無し
LD M5424                 ; PA検査　BUSY確認
ANB B2012                ; PA検査ﾋﾞｼﾞｰ
@INC D5021               ; Sub2 PAﾃｰﾌﾟ検査 ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
LD M5425                 ; PA検査　PRO_No切替確認
ANB B2002                ; PA検査ﾌﾟﾛｸﾞﾗﾑ切替応答
ANB B2012                ; PA検査ﾋﾞｼﾞｰ
@INC D5021               ; Sub2 PAﾃｰﾌﾟ検査 ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;計測結果ﾊﾞｯﾌｧｸﾘｱ
LD M5426                 ; PA検査ﾊﾞｯﾌｧｸﾘｱ
ANB B2010                ; PA検査結果取得可能
ANB B2020                ; PA検査総合判定(OFF:NG ON:OK)
@INC D5021               ; Sub2 PAﾃｰﾌﾟ検査 ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
;PA検査実行
LD M5427                 ; PA検査ﾊﾞｯﾌｧｸﾘｱ確認
ANB B2012                ; PA検査ﾋﾞｼﾞｰ
@INC D5021               ; Sub2 PAﾃｰﾌﾟ検査 ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
LD M5428                 ; PA検査　指令
MPS
AND B2012                ; PA検査ﾋﾞｼﾞｰ
@INC D5021               ; Sub2 PAﾃｰﾌﾟ検査 ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
ANB B2012                ; PA検査ﾋﾞｼﾞｰ
TMR K943 K200            ; PA_IV検査開始応答無し
;検査完了結果判定
LD M5429                 ; PA検査  BUSY確認
ANB B2012                ; PA検査ﾋﾞｼﾞｰ
MPS
ANB B2020                ; PA検査総合判定(OFF:NG ON:OK)
MOV K10 D5021            ; Sub2 PAﾃｰﾌﾟ検査 ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
MPP
AND B2020                ; PA検査総合判定(OFF:NG ON:OK)
MOV K11 D5021            ; Sub2 PAﾃｰﾌﾟ検査 ｻﾌﾞﾙｰﾁﾝｽﾃｯﾌﾟ
LD M5430                 ; PA検査NG
OUT M5442                ; PA検査NG
LD M5431                 ; PA検査OK
OUT M5440                ; PA検査完了
;<h1/> /搬送爪戻し→BCR下降
LDB M50                  ; 運転準備
ZRES M5460 M5465         ; 搬送爪戻し→BCR下降　開始
LDB M5109                ; 搬送爪戻  (Sub起動)
INV
ANB M5461                ; 搬送爪戻し→BCR下降　動作中
@SET M5460               ; 搬送爪戻し→BCR下降　開始
;動作ﾒｲﾝ
STG M5460                ; 搬送爪戻し→BCR下降　開始
SET M5461                ; 搬送爪戻し→BCR下降　動作中
CON
JMP M5462                ; 基板搬送爪戻
STG M5462                ; 基板搬送爪戻
AND Y2404                ; 基板搬送戻りSV
AND X1257                ; 基板搬送戻端
AND T920                 ; 基板CV扉閉確認
MPS
ANB M36                  ; 払出ﾓｰﾄﾞ
JMP M5463                ; EntPCB読取りｼﾘﾝﾀﾞｰ下降
MPP
AND M36                  ; 払出ﾓｰﾄﾞ
JMP M5464                ; 搬送爪戻完了(Sub終了)
STG M5463                ; EntPCB読取りｼﾘﾝﾀﾞｰ下降
AND T926                 ; EntPCB_BCR下降端
JMP M5464                ; 搬送爪戻完了(Sub終了)
STG M5464                ; 搬送爪戻完了(Sub終了)
RES M5461                ; 搬送爪戻し→BCR下降　動作中
CON
ENDS
;<h1/>■出力
;□□　　出力回路　　□□
;ソレノイドバルブ出力
;基板CV上流ｽﾄｯﾊﾟ上下
LDB M5003                ; 基板投入ｽﾄｯﾊﾟ下降
ANB M5027                ; ｽﾄｯﾊﾟ下降
ANB M5082                ; ｽﾄｯﾊﾟ下降
ANB M5301                ; 基板CV上流ｽﾄｯﾊﾟ下昇
INV
OR Y2400                 ; 基板搬送CV上流ｽﾄｯﾊﾟ下降
ANB M5005                ; 上流ｽﾄｯﾊﾟ上昇
ANB M5030                ; 上流ｽﾄｯﾊﾟ上昇
ANB M5085                ; 上流ｽﾄｯﾊﾟ上昇
ANB M5255                ; 上流ｽﾄｯﾊﾟ上昇
ANB M5303                ; 基板CV上流ｽﾄｯﾊﾟ上昇
ANB M5037                ; 基板投入ｽﾄｯﾊﾟ上昇
OUT Y2400                ; 基板搬送CV上流ｽﾄｯﾊﾟ下降
;基板CV下流ｽﾄｯﾊﾟ上下
LDB M5105                ; 搬送爪閉  (&BCR上昇)下ｽﾄｯﾊﾟ下降
ANB M5106                ; 基板CV下流ｽﾄｯﾊﾟ下降
ANB M5305                ; 基板CV下流ｽﾄｯﾊﾟ下昇
INV
OR Y2401                 ; 基板搬送CV下流ｽﾄｯﾊﾟ下降
ANB M5108                ; 基板CV下流ｽﾄｯﾊﾟ上昇＆搬送爪開
ANB M5255                ; 上流ｽﾄｯﾊﾟ上昇
ANB M5307                ; 基板CV下流ｽﾄｯﾊﾟ上昇
OUT Y2401                ; 基板搬送CV下流ｽﾄｯﾊﾟ下降
;基板CV位置決開閉
LDB CR2003               ; 常時OFF
ANB M5317                ; 基板搬送CV位置決閉
ANPB X356C               ; 基板押さえ閉要求
INV
OR Y2402                 ; 基板搬送CV位置決出
ANB M5523                ; 塗布検査NG発生中
ANB M5254                ; 位置決開
ANB M5319                ; 基板搬送CV位置決開
ANB B0128                ; 基板C/V原点復帰時ﾜｰｸ有異常
ANB M5509                ; 照合NG発生中
ANPB X356D               ; 基板押さえ開要求
ANB M5514                ; 照合NGﾜｰｸ取出確認
OUT Y2402                ; 基板搬送CV位置決出
;基板搬送爪送戻
LDB M5107                ; 搬送爪送
ANB M5313                ; 基板搬送爪送
INV
LD Y2403                 ; 基板搬送送りSV
ANB Y2404                ; 基板搬送戻りSV
ORL
LD T920                  ; 基板CV扉閉確認
OR X1256                 ; 基板搬送送端
ANL
ANB M130                 ; 全体PAUSE
LD T925                  ; EntPCB_BCR上昇端
OR M251                  ; 20141013 koike BCR上下ｼﾘﾝﾀﾞ無し
ANL
OUT Y2403                ; 基板搬送送りSV
LDB M5462                ; 基板搬送爪戻
ANB M5253                ; 基板搬送爪戻
ANB M5315                ; 基板搬送爪戻
INV
LD Y2404                 ; 基板搬送戻りSV
ANB Y2403                ; 基板搬送送りSV
ORL
LD T920                  ; 基板CV扉閉確認
OR X1257                 ; 基板搬送戻端
ANL
ANB M130                 ; 全体PAUSE
LD T925                  ; EntPCB_BCR上昇端
OR M251                  ; 20141013 koike BCR上下ｼﾘﾝﾀﾞ無し
ANL
OUT Y2404                ; 基板搬送戻りSV
;基板搬送爪開閉
LDB M5105                ; 搬送爪閉  (&BCR上昇)下ｽﾄｯﾊﾟ下降
ANB M5309                ; 基板搬送爪閉
INV
OR Y2405                 ; 基板搬送爪閉SV
ANB M5108                ; 基板CV下流ｽﾄｯﾊﾟ上昇＆搬送爪開
ANB M5252                ; 基板搬送爪開
ANB M5311                ; 基板搬送爪開
LD T925                  ; EntPCB_BCR上昇端
OR M251                  ; 20141013 koike BCR上下ｼﾘﾝﾀﾞ無し
ANL
OUT Y2405                ; 基板搬送爪閉SV
;基板CV
LDB M5001                ; ｺﾝﾍﾞｱ投入回転
ANB M5004                ; 基板ｺﾝﾍﾞｱ回転
ANB M5321                ; 基板CV正転
INV
AND T920                 ; 基板CV扉閉確認
OUT Y230C                ; 基板供給CV正転
LDB M5028                ; ｺﾝﾍﾞｱ排出逆転
ANB M5083                ; ｺﾝﾍﾞｱ排出逆転
ANB M5323                ; 基板CV逆転
INV
AND T920                 ; 基板CV扉閉確認
OUT Y230F                ; 基板供給CV逆転
;バーコードリーダー上下
LDB M5007                ; EntPCB読取ｼﾘﾝﾀﾞｰ下降
ANB M5060                ; EntPCB読取りｼﾘﾝﾀﾞｰ下降
ANB M5463                ; EntPCB読取りｼﾘﾝﾀﾞｰ下降
INV
OR M5352                 ; EntPCB読取ｼﾘﾝﾀﾞｰ下降補助
ANB M5353                ; EntPCB読取ｼﾘﾝﾀﾞｰ上昇
OUT M5352                ; EntPCB読取ｼﾘﾝﾀﾞｰ下降補助
LDB M5021                ; EntPCB読取ｼﾘﾝﾀﾞｰ上昇
ANB M5062                ; EntPCB読取りｼﾘﾝﾀﾞｰ上昇
ANB M5105                ; 搬送爪閉  (&BCR上昇)下ｽﾄｯﾊﾟ下降
ANB M5098                ; ﾕﾆｯﾄ9-1ｻｲｸﾙ停止処理
ANB M5251                ; EntPCB読取ｼﾘﾝﾀﾞｰ上昇
INV
OUT M5353                ; EntPCB読取ｼﾘﾝﾀﾞｰ上昇
LDB M5352                ; EntPCB読取ｼﾘﾝﾀﾞｰ下降補助
ANB M5324                ; EntPCB_BCR下降ﾏﾆｭ
INV
OUT Y2311                ; EntPCB_BCR_DOWN
LDB Y2311                ; EntPCB_BCR_DOWN
OUT Y2312                ; EntPCB_BCR_UP
;基板投入部表示･BZ
LDB M5081                ; 投入位置ﾜｰｸ有取出要求
ANB M5084                ; 読込NG取出要求
ANB M5029                ; 基板取出要求
ANB M5377                ; 投入部ﾜｰｸ除材要求
INV
ANB T4                   ; ﾌﾞｻﾞｰ音程ﾀｲﾏ1(1secON､1secOFF)
OUT Y2320                ; 基板投入確認PL
LDB B0120                ; 払出ﾓｰﾄﾞ基板投入不可
ANB M5081                ; 投入位置ﾜｰｸ有取出要求
ANB M5084                ; 読込NG取出要求
ANB M5029                ; 基板取出要求
ANB M5377                ; 投入部ﾜｰｸ除材要求
INV
ANB T4                   ; ﾌﾞｻﾞｰ音程ﾀｲﾏ1(1secON､1secOFF)
LDB B0129                ; 基板搬送CV扉開
OR B0629                 ; 基板搬送CV扉開BZ停止
INV
ANB T8                   ; ﾌﾞｻﾞｰ音程ﾀｲﾏ3(0.05secON､1secOFF)
ORL
OUT Y2321                ; 基板投入ﾌﾞｻﾞｰ
LD M5485                 ; ﾕﾆｯﾄ9起動中
MPS
LD M98                   ; FBT無し
ANB M36                  ; 払出ﾓｰﾄﾞ
ANB M5359                ; 基板投入不可
LD>= D5001 K1            ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
AND<= D5001 K4           ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
LD>= D5001 K71           ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
AND<= D5001 K72          ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
ORL
ANL
LDB M98                  ; FBT無し
AND B3000                ; 給材要求【FBTへ】
ORL
ANL
OUT Y2322                ; 基板投入OK_PL
MPP
ANB Y2322                ; 基板投入OK_PL
OUT Y2323                ; 基板投入NG_PL
;PA検査ｶﾒﾗ
LDB M5428                ; PA検査　指令
ANB M5335                ; PA検査　指令
INV
OUT B2040                ; PA検査ﾄﾘｶﾞ要求
LDB M5423                ; PA検査　PRO_No切替指令
ANB M5331                ; PA検査　PRO_No切替指令
INV
OUT B2042                ; PA検査ﾌﾟﾛｸﾞﾗﾑ切替要求
LDB CR2003               ; 常時OFF
INV
OUT B2043                ; PA検査ﾜｰﾆﾝｸﾞｸﾘｱ要求
LDB M5426                ; PA検査ﾊﾞｯﾌｧｸﾘｱ
ANB M5333                ; PA検査ﾊﾞｯﾌｧｸﾘｱ
INV
OUT B2045                ; PA検査ﾊﾞｯﾌｧｸﾘｱ要求
;電解ｺﾝﾃﾞﾝｻ検出線さ　→　PCへ
LD X1236                 ; E-cap sensor input
TMH K960 K10             ; 検出ﾃﾞｨﾚｲ
CON
AND T960                 ; 検出ﾃﾞｨﾚｲ
OUT W0102.15             ; 電解ｺﾝﾃﾞﾝｻ検出
;FBTへ
LD M5363                 ; FBTへ給材要求FLG.
ANB M98                  ; FBT無し
OUT B3000                ; 給材要求【FBTへ】
LD M5354                 ; 投入NGﾜｰｸ除材待ち
LD>= D5001 K80           ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
AND<= D5001 K87          ; ﾕﾆｯﾄ9-2自動運転ｽﾃｯﾌﾟ
ORL
OUT B3008                ; 退避要求【FBTへ】
LD X124D                 ; 基板投入CVﾜｰｸ確認
OUT B300E                ; PCB投入部ﾜｰｸ検出(X124D)【FBTへ】
LD M71                   ; 自動運転開始BZ
OUT B300F                ; 自動運転中【FBTへ】
;<h1/>■表示
;□□　　パネル表示　　□□
LD X1250                 ; 搬送上流ｽﾄｯﾊﾟ下降端
LD CR2003                ; 常時OFF
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1680                ; UNIT9-1-1 TP-PL
LD X1251                 ; 搬送上流ｽﾄｯﾊﾟ上昇端
LD CR2003                ; 常時OFF
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1681                ; UNIT9-1-2 TP-PL
LD X1252                 ; 搬送下流ｽﾄｯﾊﾟ下降端
LD CR2003                ; 常時OFF
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1682                ; UNIT9-1-3 TP-PL
LD X1253                 ; 搬送下流ｽﾄｯﾊﾟ上昇端
LD CR2003                ; 常時OFF
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1683                ; UNIT9-1-4 TP-PL
LD X1258                 ; 基板搬送爪下降端
LD CR2003                ; 常時OFF
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1684                ; UNIT9-1-5 TP-PL
LD X1259                 ; 基板搬送爪上昇端
LD CR2003                ; 常時OFF
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1685                ; UNIT9-1-6 TP-PL
LD X1256                 ; 基板搬送送端
LD CR2003                ; 常時OFF
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1686                ; UNIT9-1-7 TP-PL
LD X1257                 ; 基板搬送戻端
LD CR2003                ; 常時OFF
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1687                ; UNIT9-1-8 TP-PL
LD X1254                 ; 搬送位置決め閉端
OUT B1688                ; UNIT9-1-9 TP-PL
LD X1255                 ; 搬送位置決め開端
OUT B1689                ; UNIT9-1-10 TP-PL
LD Y230C                 ; 基板供給CV正転
OUT B168A                ; UNIT9-1-11 TP-PL
LD Y230F                 ; 基板供給CV逆転
OUT B168B                ; UNIT9-1-12 TP-PL
LDB M251                 ; 20141013 koike BCR上下ｼﾘﾝﾀﾞ無し
MPS
AND X1235                ; EntPCB_BCR_上昇端
OUT B168E                ; UNIT9-1-15 TP-PL
MPP
AND X1237                ; EntPCB_BCR_下降端
OUT B168D                ; UNIT9-1-14 TP-PL
;<h1/>■異常
;□□　　異常検出　　□□
;B120(K289)--B12F(K304)  B130(K305)--B13F(K320)
LD X124D                 ; 基板投入CVﾜｰｸ確認
AND M5000                ; 基板投入部ｻｲｸﾙ開始
AND M36                  ; 払出ﾓｰﾄﾞ
OUT B0120                ; 払出ﾓｰﾄﾞ基板投入不可
@DW K288 D0
CON
@FIFOW D0 D900           ; 異常内容
LD X123A                 ; 塗布検査画像ｴﾗｰ
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0121                ; 基板供給CV画像検査異常
ORL
AND M50                  ; 運転準備
OUT B0121                ; 基板供給CV画像検査異常
@DW K289 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0621
AND B0121                ; 基板供給CV画像検査異常
OUT B0621
LD B201F                 ; PA検査ｴﾗｰ
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0122                ; 基板供給CV_PA検査ｶﾒﾗ異常
ORL
AND M50                  ; 運転準備
OUT B0122                ; 基板供給CV_PA検査ｶﾒﾗ異常
@DW K290 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0622
AND B0122                ; 基板供給CV_PA検査ｶﾒﾗ異常
OUT B0622
LD Y2400                 ; 基板搬送CV上流ｽﾄｯﾊﾟ下降
ANB X1250                ; 搬送上流ｽﾄｯﾊﾟ下降端
LDB Y2400                ; 基板搬送CV上流ｽﾄｯﾊﾟ下降
ANB X1251                ; 搬送上流ｽﾄｯﾊﾟ上昇端
ORL
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0123                ; 基板搬送CV上流ｽﾄｯﾊﾟ異常
ORL
AND M50                  ; 運転準備
MPS
TMR K950 K50             ; 基板搬送CV上流ｽﾄｯﾊﾟ確認
MPP
AND T950                 ; 基板搬送CV上流ｽﾄｯﾊﾟ確認
OUT B0123                ; 基板搬送CV上流ｽﾄｯﾊﾟ異常
@DW K291 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0623
AND B0123                ; 基板搬送CV上流ｽﾄｯﾊﾟ異常
OUT B0623
LD Y2401                 ; 基板搬送CV下流ｽﾄｯﾊﾟ下降
ANB X1252                ; 搬送下流ｽﾄｯﾊﾟ下降端
LDB Y2401                ; 基板搬送CV下流ｽﾄｯﾊﾟ下降
ANB X1253                ; 搬送下流ｽﾄｯﾊﾟ上昇端
ORL
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0124                ; 基板搬送CV下流ｽﾄｯﾊﾟ異常
ORL
AND M50                  ; 運転準備
MPS
TMR K951 K50             ; 基板搬送CV下流ｽﾄｯﾊﾟ確認
MPP
AND T951                 ; 基板搬送CV下流ｽﾄｯﾊﾟ確認
OUT B0124                ; 基板搬送CV下流ｽﾄｯﾊﾟ異常
@DW K292 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0624
AND B0124                ; 基板搬送CV下流ｽﾄｯﾊﾟ異常
OUT B0624
LD Y2402                 ; 基板搬送CV位置決出
ANB X1254                ; 搬送位置決め閉端
LDB Y2402                ; 基板搬送CV位置決出
ANB X1255                ; 搬送位置決め開端
ORL
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0125                ; 基板搬送CV位置決異常
ORL
AND M50                  ; 運転準備
MPS
TMR K952 K50             ; 基板搬送CV位置決確認
MPP
AND T952                 ; 基板搬送CV位置決確認
OUT B0125                ; 基板搬送CV位置決異常
@DW K293 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0625
AND B0125                ; 基板搬送CV位置決異常
OUT B0625
LD Y2403                 ; 基板搬送送りSV
ANB X1256                ; 基板搬送送端
LD Y2404                 ; 基板搬送戻りSV
ANB X1257                ; 基板搬送戻端
ORL
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0126                ; 基板搬送爪送り異常
ORL
AND M50                  ; 運転準備
MPS
TMR K953 K50             ; 基板搬送爪送り確認
MPP
AND T953                 ; 基板搬送爪送り確認
OUT B0126                ; 基板搬送爪送り異常
@DW K294 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0626
AND B0126                ; 基板搬送爪送り異常
OUT B0626
LD Y2405                 ; 基板搬送爪閉SV
ANB X1258                ; 基板搬送爪下降端
LDB Y2405                ; 基板搬送爪閉SV
ANB X1259                ; 基板搬送爪上昇端
ORL
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0127                ; 基板搬送爪上下異常
ORL
AND M50                  ; 運転準備
MPS
TMR K954 K50             ; 基板搬送爪上下確認
MPP
AND T954                 ; 基板搬送爪上下確認
OUT B0127                ; 基板搬送爪上下異常
@DW K295 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0627
AND B0127                ; 基板搬送爪上下異常
OUT B0627
LD M17                   ; 原点復帰PB
ORF M81                  ; 原点復帰動作中
LD X124E                 ; 基板投入CV読取ﾜｰｸ確認
LD X3565                 ; 基板CV取出部ｾﾝｻ干渉外(45)
AND X124F                ; 基板投入CV取出ﾜｰｸ確認
OR X126B                 ; 基板投入CVﾜｰｸ有
ANB X3560                ; 基板取出部領域(40)
ORL
ANL
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0128                ; 基板C/V原点復帰時ﾜｰｸ有異常
ORL
AND M31                  ; 手動ﾓｰﾄﾞ
ANB M1484                ; ﾕﾆｯﾄ1原点復帰中
OUT B0128                ; 基板C/V原点復帰時ﾜｰｸ有異常
@DW K296 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0628
AND B0128                ; 基板C/V原点復帰時ﾜｰｸ有異常
OUT B0628
LDB T920                 ; 基板CV扉閉確認
AND M30                  ; 自動ﾓｰﾄﾞ
OUT B0129                ; 基板搬送CV扉開
@DW K297 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0629                 ; 基板搬送CV扉開BZ停止
AND B0129                ; 基板搬送CV扉開
OUT B0629                ; 基板搬送CV扉開BZ停止
LD T940                  ; PCB行方不明ERR
AND M30                  ; 自動ﾓｰﾄﾞ
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B012A                ; 基板CV取出位置PCB行方不明
ORL
AND M50                  ; 運転準備
OUT B012A                ; 基板CV取出位置PCB行方不明
@DW K298 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B062A
AND B012A                ; 基板CV取出位置PCB行方不明
OUT B062A
LD T942                  ; PA_IV Prog切替応答無し
OR T943                  ; PA_IV検査開始応答無し
AND M30                  ; 自動ﾓｰﾄﾞ
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B012B                ; PA検査IV応答無し
ORL
AND M50                  ; 運転準備
OUT B012B                ; PA検査IV応答無し
@DW K299 D0
CON
@FIFOW D0 D900           ; 異常内容
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B062B
AND B012B                ; PA検査IV応答無し
OUT B062B
LDB M251                 ; 20141013 koike BCR上下ｼﾘﾝﾀﾞ無し
MPS
LD Y2312                 ; EntPCB_BCR_UP
ANB T925                 ; EntPCB_BCR上昇端
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B012C                ; EntPCB_BCR上昇端異常
ORL
AND M30                  ; 自動ﾓｰﾄﾞ
ANL
MPS
TMR K955 K50             ; EntPCB_BCR上昇確認
MPP
AND T955                 ; EntPCB_BCR上昇確認
OUT B012C                ; EntPCB_BCR上昇端異常
@DW K300 D0
CON
@FIFOW D0 D900           ; 異常内容
MPP
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B062C                 ; EntPCB_BCR上昇端異常ﾌﾞｻﾞｰ停止
AND B012C                ; EntPCB_BCR上昇端異常
ANL
OUT B062C                ; EntPCB_BCR上昇端異常ﾌﾞｻﾞｰ停止
LDB M251                 ; 20141013 koike BCR上下ｼﾘﾝﾀﾞ無し
MPS
LD Y2311                 ; EntPCB_BCR_DOWN
ANB T926                 ; EntPCB_BCR下降端
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B012D                ; EntPCB_BCR下降端異常
ORL
AND M30                  ; 自動ﾓｰﾄﾞ
ANL
MPS
TMR K956 K50             ; EntPCB_BCR下降確認
MPP
AND T956                 ; EntPCB_BCR下降確認
OUT B012D                ; EntPCB_BCR下降端異常
@DW K301 D0
CON
@FIFOW D0 D900           ; 異常内容
MPP
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B062D                 ; EntPCB_BCR下降端異常ﾌﾞｻﾞｰ停止
AND B012D                ; EntPCB_BCR下降端異常
ANL
OUT B062D                ; EntPCB_BCR下降端異常ﾌﾞｻﾞｰ停止
LD M5084                 ; 読込NG取出要求
OUT B012E                ; Board reject
MPS
@DW H012E D0
CON
@FIFOW D0 D900           ; 異常内容
MRD
AND M5450                ; PCBｺｰﾄﾞ読み取りNG
OUT B012F                ; ｺｰﾄﾞ読み取り異常
@DW H012F D0
CON
@FIFOW D0 D900           ; 異常内容
MRD
AND M5451                ; CC検査NG
OUT B0130                ; CC検査NG
@DW H0130 D0
CON
@FIFOW D0 D900           ; 異常内容
MRD
AND M5452                ; PA検査NG
OUT B0131                ; PA検査NG
@DW H0131 D0
CON
@FIFOW D0 D900           ; 異常内容
MPP
AND M5453                ; ｺﾝﾃﾞﾝｻｷｬｯﾌﾟ異常
OUT B0132                ; ｺﾝﾃﾞﾝｻｷｬｯﾌﾟ異常
@DW H0132 D0
CON
@FIFOW D0 D900           ; 異常内容
;D200警報
LD= K900 D200            ; ｴﾗｰｺｰﾄﾞNo.
OUT B013D                ; Err900:IDｴﾗｰ確認
@DW H013D D0
CON
@FIFOW D0 D900           ; 異常内容
LD= K901 D200            ; ｴﾗｰｺｰﾄﾞNo.
OUT B013E                ; Err901:基板搬送異常
@DW H013E D0
CON
@FIFOW D0 D900           ; 異常内容
LD= K902 D200            ; ｴﾗｰｺｰﾄﾞNo.
OUT B013F                ; Err902:投入基板読取位置未到着
@DW H013F D0
CON
@FIFOW D0 D900           ; 異常内容
;異常ﾌﾞｻﾞｰまとめ
LDB B0121                ; 基板供給CV画像検査異常
OR B0621
LDB B0122                ; 基板供給CV_PA検査ｶﾒﾗ異常
OR B0622
ANL
LDB B0123                ; 基板搬送CV上流ｽﾄｯﾊﾟ異常
OR B0623
ANL
LDB B0124                ; 基板搬送CV下流ｽﾄｯﾊﾟ異常
OR B0624
ANL
LDB B0125                ; 基板搬送CV位置決異常
OR B0625
ANL
LDB B0126                ; 基板搬送爪送り異常
OR B0626
ANL
LDB B0127                ; 基板搬送爪上下異常
OR B0627
ANL
LDB B0128                ; 基板C/V原点復帰時ﾜｰｸ有異常
OR B0628
ANL
LDB B012A                ; 基板CV取出位置PCB行方不明
OR B062A
ANL
LDB B012B                ; PA検査IV応答無し
OR B062B
ANL
LDB B012C                ; EntPCB_BCR上昇端異常
OR B062C                 ; EntPCB_BCR上昇端異常ﾌﾞｻﾞｰ停止
LDB B012D                ; EntPCB_BCR下降端異常
OR B062D                 ; EntPCB_BCR下降端異常ﾌﾞｻﾞｰ停止
ANL
OR M251                  ; 20141013 koike BCR上下ｼﾘﾝﾀﾞ無し
ANL
INV
OUT M5489                ; ﾕﾆｯﾄ9異常BZ補助
;Error location display
LDB B0120                ; 払出ﾓｰﾄﾞ基板投入不可
ANB B0121                ; 基板供給CV画像検査異常
ANB B0122                ; 基板供給CV_PA検査ｶﾒﾗ異常
ANB B0123                ; 基板搬送CV上流ｽﾄｯﾊﾟ異常
ANB B0124                ; 基板搬送CV下流ｽﾄｯﾊﾟ異常
ANB B0125                ; 基板搬送CV位置決異常
ANB B0126                ; 基板搬送爪送り異常
ANB B0127                ; 基板搬送爪上下異常
ANB B0128                ; 基板C/V原点復帰時ﾜｰｸ有異常
ANB B0129                ; 基板搬送CV扉開
ANB B012A                ; 基板CV取出位置PCB行方不明
ANB B012B                ; PA検査IV応答無し
ANB B012C                ; EntPCB_BCR上昇端異常
ANB B012D                ; EntPCB_BCR下降端異常
ANB B012E                ; Board reject
ANB B012F                ; ｺｰﾄﾞ読み取り異常
ANB B0130                ; CC検査NG
ANB B0131                ; PA検査NG
ANB B0132                ; ｺﾝﾃﾞﾝｻｷｬｯﾌﾟ異常
ANB B017                 ; 基板供給非常停止
INV
OUT B0909                ; UT9 Error
END
ENDH
