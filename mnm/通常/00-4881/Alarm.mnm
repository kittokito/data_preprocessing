DEVICE:51
;MODULE:Alarm
;MODULE_TYPE:0
;<h1/>ﾀｯﾁﾊﾟﾈﾙ入出力
LDP B0500                ; TP異常解除SW
OUT MR3001               ; 異常解除
LDP B0501                ; TP警報停止SW
OUT MR3002               ; ﾌﾞｻﾞｰ停止
LD MR3000                ; 異常発生中
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT B1000                ; TP異常解除ﾗﾝﾌﾟ
LD MR3003                ; 異常ﾌﾞｻﾞｰ
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT B1001                ; TP警報停止ﾗﾝﾌﾟ
;<h1/>異常検出
;<h1/>B0:元圧異常
LDB R000                 ; 元圧空検出(ON正常)
LD B00                   ; 元圧異常
ANB MR3001               ; 異常解除
ORL
OUT B00                  ; 元圧異常
LD MR3002                ; ﾌﾞｻﾞｰ停止
OR B0100                 ; 元圧異常_ﾌﾞｻﾞｰ停止
AND B00                  ; 元圧異常
OUT B0100                ; 元圧異常_ﾌﾞｻﾞｰ停止
;<h1/>B1:給水ﾀﾝｸ液面OT検出
LDB R1000                ; 給水ﾀﾝｸ液面検出 OT(=OFF)
LD B01                   ; 給水ﾀﾝｸ液面OT検出
ANB MR3001               ; 異常解除
ORL
OUT B01                  ; 給水ﾀﾝｸ液面OT検出
LD MR3002                ; ﾌﾞｻﾞｰ停止
OR B0101                 ; 給水ﾀﾝｸ液面OT検出_ﾌﾞｻﾞｰ停止
AND B01                  ; 給水ﾀﾝｸ液面OT検出
OUT B0101                ; 給水ﾀﾝｸ液面OT検出_ﾌﾞｻﾞｰ停止
;<h1/>B2:計量ﾀﾝｸ液面OT検出
LDB R1003                ; 計量ﾀﾝｸ液面検出 OT(=OFF)
LD B02                   ; 計量ﾀﾝｸ液面OT検出
ANB MR3001               ; 異常解除
ORL
OUT B02                  ; 計量ﾀﾝｸ液面OT検出
LD MR3002                ; ﾌﾞｻﾞｰ停止
OR B0102                 ; 計量ﾀﾝｸ液面OT検出_ﾌﾞｻﾞｰ停止
AND B02                  ; 計量ﾀﾝｸ液面OT検出
OUT B0102                ; 計量ﾀﾝｸ液面OT検出_ﾌﾞｻﾞｰ停止
;<h1/>B3:排液ﾀﾝｸ液面OT検出
LDB R1006                ; 排液ﾀﾝｸ液面検出 OT(=OFF)
LD B03                   ; 排液ﾀﾝｸ液面OT検出
ANB MR3001               ; 異常解除
ORL
OUT B03                  ; 排液ﾀﾝｸ液面OT検出
LD MR3002                ; ﾌﾞｻﾞｰ停止
OR B0103                 ; 排液ﾀﾝｸ液面OT検出_ﾌﾞｻﾞｰ停止
AND B03                  ; 排液ﾀﾝｸ液面OT検出
OUT B0103                ; 排液ﾀﾝｸ液面OT検出_ﾌﾞｻﾞｰ停止
;<h1/>B4:ﾌﾟﾛｾｽﾎﾟﾝﾌﾟ漏液検出
LDB R1015                ; ﾌﾟﾛｾｽﾎﾟﾝﾌﾟ漏液検出(正常=ON)
LD B04                   ; ﾌﾟﾛｾｽﾎﾟﾝﾌﾟ漏液検出
ANB MR3001               ; 異常解除
ORL
OUT B04                  ; ﾌﾟﾛｾｽﾎﾟﾝﾌﾟ漏液検出
LD MR3002                ; ﾌﾞｻﾞｰ停止
OR B0104                 ; ﾌﾟﾛｾｽﾎﾟﾝﾌﾟ漏液検出_ﾌﾞｻﾞｰ停止
AND B04                  ; ﾌﾟﾛｾｽﾎﾟﾝﾌﾟ漏液検出
OUT B0104                ; ﾌﾟﾛｾｽﾎﾟﾝﾌﾟ漏液検出_ﾌﾞｻﾞｰ停止
;<h1/>B5:注入動作中_ﾉｽﾞﾙ位置NG
LDB R1100                ; ﾜｰｸ内ﾉｽﾞﾙ差込位置確認(ONOK)
AND MR3004               ; 一連操作中
AND= DM0 #3              ; 一連操作番号
LD B05                   ; 注入動作中_ﾉｽﾞﾙ位置NG
ANB MR3001               ; 異常解除
ORL
OUT B05                  ; 注入動作中_ﾉｽﾞﾙ位置NG
LD MR3002                ; ﾌﾞｻﾞｰ停止
OR B0105                 ; 注入動作中_ﾉｽﾞﾙ位置NG_ﾌﾞｻﾞｰ停止
AND B05                  ; 注入動作中_ﾉｽﾞﾙ位置NG
OUT B0105                ; 注入動作中_ﾉｽﾞﾙ位置NG_ﾌﾞｻﾞｰ停止
;<h1/>B6:給水ﾀﾝｸ加圧NG
LD R1009                 ; 給水ﾀﾝｸ圧力検出1(大気圧)
ORB R1010                ; 給水ﾀﾝｸ圧力検出2(加圧)
AND R2002                ; 圧送路(給水ﾀﾝｸ) 開(D)
TMR @1 #50               ; 給水ﾀﾝｸ加圧NGﾃﾞｨﾚｲ
LD @T1                   ; 給水ﾀﾝｸ加圧NGﾃﾞｨﾚｲ
LD B06                   ; 給水ﾀﾝｸ加圧NG
ANB MR3001               ; 異常解除
ORL
OUT B06                  ; 給水ﾀﾝｸ加圧NG
LD MR3002                ; ﾌﾞｻﾞｰ停止
OR B0106                 ; 給水ﾀﾝｸ加圧NG_ﾌﾞｻﾞｰ停止
AND B06                  ; 給水ﾀﾝｸ加圧NG
OUT B0106                ; 給水ﾀﾝｸ加圧NG_ﾌﾞｻﾞｰ停止
;<h1/>B7:給水ﾀﾝｸ大気圧NG
LDB R1009                ; 給水ﾀﾝｸ圧力検出1(大気圧)
OR R1010                 ; 給水ﾀﾝｸ圧力検出2(加圧)
ANB R2002                ; 圧送路(給水ﾀﾝｸ) 開(D)
TMR @2 #50               ; 給水ﾀﾝｸ大気圧NGﾃﾞｨﾚｲ
LD @T2                   ; 給水ﾀﾝｸ大気圧NGﾃﾞｨﾚｲ
LD B07                   ; 給水ﾀﾝｸ大気圧NG
ANB MR3001               ; 異常解除
ORL
OUT B07                  ; 給水ﾀﾝｸ大気圧NG
LD MR3002                ; ﾌﾞｻﾞｰ停止
OR B0107                 ; 給水ﾀﾝｸ大気圧NG_ﾌﾞｻﾞｰ停止
AND B07                  ; 給水ﾀﾝｸ大気圧NG
OUT B0107                ; 給水ﾀﾝｸ大気圧NG_ﾌﾞｻﾞｰ停止
;<h1/>B8:計量ﾀﾝｸ加圧NG
LD R1011                 ; 計量ﾀﾝｸ圧力検出1(大気圧)
ORB R1012                ; 計量ﾀﾝｸ圧力検出2(加圧)
AND R2007                ; 圧送路(計量ﾀﾝｸ)開(G)
TMR @3 #30               ; 計量ﾀﾝｸ加圧NGﾃﾞｨﾚｲ
LD @T3                   ; 計量ﾀﾝｸ加圧NGﾃﾞｨﾚｲ
LD B08                   ; 計量ﾀﾝｸ加圧NG
ANB MR3001               ; 異常解除
ORL
OUT B08                  ; 計量ﾀﾝｸ加圧NG
LD MR3002                ; ﾌﾞｻﾞｰ停止
OR B0108                 ; 計量ﾀﾝｸ加圧NG_ﾌﾞｻﾞｰ停止
AND B08                  ; 計量ﾀﾝｸ加圧NG
OUT B0108                ; 計量ﾀﾝｸ加圧NG_ﾌﾞｻﾞｰ停止
;<h1/>B9:計量ﾀﾝｸ大気圧NG
LDB R1011                ; 計量ﾀﾝｸ圧力検出1(大気圧)
OR R1012                 ; 計量ﾀﾝｸ圧力検出2(加圧)
ANB R2007                ; 圧送路(計量ﾀﾝｸ)開(G)
TMR @4 #50               ; 計量ﾀﾝｸ大気圧NGﾃﾞｨﾚｲ
LD @T4                   ; 計量ﾀﾝｸ大気圧NGﾃﾞｨﾚｲ
LD B09                   ; 計量ﾀﾝｸ大気圧NG
ANB MR3001               ; 異常解除
ORL
OUT B09                  ; 計量ﾀﾝｸ大気圧NG
LD MR3002                ; ﾌﾞｻﾞｰ停止
OR B0109                 ; 計量ﾀﾝｸ大気圧NG_ﾌﾞｻﾞｰ停止
AND B09                  ; 計量ﾀﾝｸ大気圧NG
OUT B0109                ; 計量ﾀﾝｸ大気圧NG_ﾌﾞｻﾞｰ停止
;<h1/>BA:排液ﾀﾝｸ加圧NG
LD R1013                 ; 排液ﾀﾝｸ圧力検出1(大気圧)
ORB R1014                ; 排液ﾀﾝｸ圧力検出2(加圧)
AND R2010                ; 圧送路(排液ﾀﾝｸ)開(M)
TMR @5 #50               ; 排液ﾀﾝｸ加圧NGﾃﾞｨﾚｲ
LD @T5                   ; 排液ﾀﾝｸ加圧NGﾃﾞｨﾚｲ
LD B0A                   ; 排液ﾀﾝｸ加圧NG
ANB MR3001               ; 異常解除
ORL
OUT B0A                  ; 排液ﾀﾝｸ加圧NG
LD MR3002                ; ﾌﾞｻﾞｰ停止
OR B010A                 ; 排液ﾀﾝｸ加圧NG_ﾌﾞｻﾞｰ停止
AND B0A                  ; 排液ﾀﾝｸ加圧NG
OUT B010A                ; 排液ﾀﾝｸ加圧NG_ﾌﾞｻﾞｰ停止
;<h1/>BB:排液ﾀﾝｸ大気圧NG
LDB R1013                ; 排液ﾀﾝｸ圧力検出1(大気圧)
OR R1014                 ; 排液ﾀﾝｸ圧力検出2(加圧)
ANB R2010                ; 圧送路(排液ﾀﾝｸ)開(M)
TMR @7 #50               ; 排液ﾀﾝｸ大気圧NGﾃﾞｨﾚｲ
LD @T7                   ; 排液ﾀﾝｸ大気圧NGﾃﾞｨﾚｲ
LD B0B                   ; 排液ﾀﾝｸ大気圧NG
ANB MR3001               ; 異常解除
ORL
OUT B0B                  ; 排液ﾀﾝｸ大気圧NG
LD MR3002                ; ﾌﾞｻﾞｰ停止
OR B010B                 ; 排液ﾀﾝｸ大気圧NG_ﾌﾞｻﾞｰ停止
AND B0B                  ; 排液ﾀﾝｸ大気圧NG
OUT B010B                ; 排液ﾀﾝｸ大気圧NG_ﾌﾞｻﾞｰ停止
;<h1/>BC:真空ﾎﾟﾝﾌﾟｻｰﾏﾙﾄﾘｯﾌﾟ
LD R015                  ; 真空ﾎﾟﾝﾌﾟﾄﾘｯﾌﾟ(OFF正常)
LD B0C                   ; BC:真空ﾎﾟﾝﾌﾟｻｰﾏﾙﾄﾘｯﾌﾟ
ANB MR3001               ; 異常解除
ORL
OUT B0C                  ; BC:真空ﾎﾟﾝﾌﾟｻｰﾏﾙﾄﾘｯﾌﾟ
LD MR3002                ; ﾌﾞｻﾞｰ停止
OR B010C                 ; BC:真空ﾎﾟﾝﾌﾟｻｰﾏﾙﾄﾘｯﾌﾟ_ﾌﾞｻﾞｰ停止
AND B0C                  ; BC:真空ﾎﾟﾝﾌﾟｻｰﾏﾙﾄﾘｯﾌﾟ
OUT B010C                ; BC:真空ﾎﾟﾝﾌﾟｻｰﾏﾙﾄﾘｯﾌﾟ_ﾌﾞｻﾞｰ停止
;<h1/>BD:装置上漏液検出
LDB R1102                ; 装置上漏液検出(正常=ON)
LD B0D                   ; BD:装置上漏液検出
ANB MR3001               ; 異常解除
ORL
OUT B0D                  ; BD:装置上漏液検出
LD MR3002                ; ﾌﾞｻﾞｰ停止
OR B010D                 ; BD:装置上漏液検出_ﾌﾞｻﾞｰ停止
AND B0D                  ; BD:装置上漏液検出
OUT B010D                ; BD:装置上漏液検出_ﾌﾞｻﾞｰ停止
;<h1/>BE:ﾉｽﾞﾙ位置NG(表示のみ)
LDB R1100                ; ﾜｰｸ内ﾉｽﾞﾙ差込位置確認(ONOK)
OUT B0E                  ; ﾉｽﾞﾙ位置NG
;以降、必要であれば異常追加する↓(B0FFまで使用可能)
;<h1/>異常まとめ
LDB B00                  ; 元圧異常
ANB B01                  ; 給水ﾀﾝｸ液面OT検出
ANB B02                  ; 計量ﾀﾝｸ液面OT検出
ANB B03                  ; 排液ﾀﾝｸ液面OT検出
ANB B04                  ; ﾌﾟﾛｾｽﾎﾟﾝﾌﾟ漏液検出
ANB B05                  ; 注入動作中_ﾉｽﾞﾙ位置NG
ANB B06                  ; 給水ﾀﾝｸ加圧NG
ANB B07                  ; 給水ﾀﾝｸ大気圧NG
ANB B08                  ; 計量ﾀﾝｸ加圧NG
ANB B09                  ; 計量ﾀﾝｸ大気圧NG
ANB B0A                  ; 排液ﾀﾝｸ加圧NG
ANB B0B                  ; 排液ﾀﾝｸ大気圧NG
ANB B0C                  ; BC:真空ﾎﾟﾝﾌﾟｻｰﾏﾙﾄﾘｯﾌﾟ
INV
OUT MR3000               ; 異常発生中
;<h1/>異常ﾌﾞｻﾞｰまとめ
LDB B00                  ; 元圧異常
OR B0100                 ; 元圧異常_ﾌﾞｻﾞｰ停止
LDB B01                  ; 給水ﾀﾝｸ液面OT検出
OR B0101                 ; 給水ﾀﾝｸ液面OT検出_ﾌﾞｻﾞｰ停止
ANL
LDB B02                  ; 計量ﾀﾝｸ液面OT検出
OR B0102                 ; 計量ﾀﾝｸ液面OT検出_ﾌﾞｻﾞｰ停止
ANL
LDB B03                  ; 排液ﾀﾝｸ液面OT検出
OR B0103                 ; 排液ﾀﾝｸ液面OT検出_ﾌﾞｻﾞｰ停止
ANL
LDB B04                  ; ﾌﾟﾛｾｽﾎﾟﾝﾌﾟ漏液検出
OR B0104                 ; ﾌﾟﾛｾｽﾎﾟﾝﾌﾟ漏液検出_ﾌﾞｻﾞｰ停止
ANL
LDB B05                  ; 注入動作中_ﾉｽﾞﾙ位置NG
OR B0105                 ; 注入動作中_ﾉｽﾞﾙ位置NG_ﾌﾞｻﾞｰ停止
ANL
LDB B06                  ; 給水ﾀﾝｸ加圧NG
OR B0106                 ; 給水ﾀﾝｸ加圧NG_ﾌﾞｻﾞｰ停止
ANL
LDB B07                  ; 給水ﾀﾝｸ大気圧NG
OR B0107                 ; 給水ﾀﾝｸ大気圧NG_ﾌﾞｻﾞｰ停止
ANL
LDB B08                  ; 計量ﾀﾝｸ加圧NG
OR B0108                 ; 計量ﾀﾝｸ加圧NG_ﾌﾞｻﾞｰ停止
ANL
LDB B09                  ; 計量ﾀﾝｸ大気圧NG
OR B0109                 ; 計量ﾀﾝｸ大気圧NG_ﾌﾞｻﾞｰ停止
ANL
LDB B0A                  ; 排液ﾀﾝｸ加圧NG
OR B010A                 ; 排液ﾀﾝｸ加圧NG_ﾌﾞｻﾞｰ停止
ANL
LDB B0B                  ; 排液ﾀﾝｸ大気圧NG
OR B010B                 ; 排液ﾀﾝｸ大気圧NG_ﾌﾞｻﾞｰ停止
ANL
LDB B0C                  ; BC:真空ﾎﾟﾝﾌﾟｻｰﾏﾙﾄﾘｯﾌﾟ
OR B010C                 ; BC:真空ﾎﾟﾝﾌﾟｻｰﾏﾙﾄﾘｯﾌﾟ_ﾌﾞｻﾞｰ停止
ANL
LDB B0D                  ; BD:装置上漏液検出
OR B010D                 ; BD:装置上漏液検出_ﾌﾞｻﾞｰ停止
ANL
INV
OUT MR3003               ; 異常ﾌﾞｻﾞｰ
END
ENDH
