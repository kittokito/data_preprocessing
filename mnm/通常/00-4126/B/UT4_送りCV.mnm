DEVICE:53
;MODULE:UT4_送りCV
;MODULE_TYPE:0
;<h1/>入力
;<h1/>ﾊﾟﾚｯﾄｽﾄｯﾊﾟ  TH200～205  10-8-6
LDB LR2812               ; <A460>4st 送りCVｽﾄｯﾊﾟ 下降端LS異
ANB LR2813               ; <A461>4st 送りCVｽﾄｯﾊﾟ 上昇端LS異
MPS
LD R11600                ; 4st 送りCVｽﾄｯﾊﾟ　  下降端
ANB R11601               ; 4st送りCV ｽﾄｯﾊﾟ　  上昇端
ANB R16601               ; 4st 送りCVｽﾄｯﾊﾟ 上昇
ANL
TMH #200 #6              ; 4st 送りCVｽﾄｯﾊﾟ　  下降端
MPP
LD R11601                ; 4st送りCV ｽﾄｯﾊﾟ　  上昇端
ANB R11600               ; 4st 送りCVｽﾄｯﾊﾟ　  下降端
ANB R16600               ; 4st 送りCVｽﾄｯﾊﾟ 下降
ANL
TMH #201 #6              ; 4st 送りCVｽﾄｯﾊﾟ 上昇端
LDB LR2814               ; <A462>4st 送りCVｽﾄｯﾊﾟ位置決めL 
ANB LR2815               ; <A463>4st 送りCVｽﾄｯﾊﾟ位置決めL 
MPS
LD R11602                ; 4st 送りCVL側位置決め 出端
ANB R11603               ; 4st 送りCVL側位置決め 戻端
ANB R16603               ; 4st 送りCV位置決め 戻
ANL
TMH #202 #6              ; 4st 送りCVL側位置決め 出端
MPP
LD R11603                ; 4st 送りCVL側位置決め 戻端
ANB R11602               ; 4st 送りCVL側位置決め 出端
ANB R16602               ; 4st 送りCV位置決め 出
ANL
TMH #203 #5              ; 4st 送りCVL側位置決め 戻端
LDB LR2900               ; <A464>4st 送りCVｽﾄｯﾊﾟ位置決めR 
ANB LR2901               ; <A465>4st 送りCVｽﾄｯﾊﾟ位置決めR 
MPS
LD R11604                ; 4st 送りCVR側位置決め 出端
ANB R11605               ; 4st 送りCVR側位置決め 戻端
ANB R16603               ; 4st 送りCV位置決め 戻
ANL
TMH #204 #6              ; 4st 送りCVR側位置決め 出端
MPP
LD R11605                ; 4st 送りCVR側位置決め 戻端
ANB R11604               ; 4st 送りCVR側位置決め 出端
ANB R16602               ; 4st 送りCV位置決め 出
ANL
TMH #205 #5              ; 4st 送りCVR側位置決め 戻端
LD CR2002                ; 常時ON
MPS
LD T202                  ; 4st 送りCVL側位置決め 出端
AND T204                 ; 4st 送りCVR側位置決め 出端
ANL
OUT MR11002              ; 4st 送りCV L/R位置決め 出端
MPP
LD T203                  ; 4st 送りCVL側位置決め 戻端
AND T205                 ; 4st 送りCVR側位置決め 戻端
ANL
OUT MR11003              ; 4st 送りCV L/R位置決め 戻端
;<h1/>t206  50-60-70-80-50-40-20
LDB LR2902               ; <A466>4st 送りCVｽﾄｯﾊﾟﾌﾟﾛｰﾌﾞ 下降
ANB LR2903               ; <A467>4st 送りCVｽﾄｯﾊﾟﾌﾟﾛｰﾌﾞ 上昇
MPS
LD R11606                ; 4st 送りCVﾌﾟﾛｰﾌﾞ 上昇端
ANB R11607               ; 4st 送りCVﾌﾟﾛｰﾌﾞ下降端
ANB R16613               ; 4st 送りCVﾌﾟﾛｰﾌﾞ 下降
ANL
TMH #206 #50             ; 4st 送りCVﾌﾟﾛｰﾌﾞ 上昇端
MPP
LD R11607                ; 4st 送りCVﾌﾟﾛｰﾌﾞ下降端
ANB R11606               ; 4st 送りCVﾌﾟﾛｰﾌﾞ 上昇端
ANB R16612               ; 4st 送りCVﾌﾟﾛｰﾌﾞ 上昇
ANL
TMH #207 #10             ; 4st 送りCVﾌﾟﾛｰﾌﾞ下降端
;<h1/>190109
;180905  t210  212  5-3-2  t211  213  5-3-2
LD CR2002                ; 常時ON
MPS
AND R11700               ; 4st 送りCVｽﾄｯﾊﾟ 通過確認
TMR #210 #2              ; 4st 送りCVｽﾄｯﾊﾟ 通過ON確認
MPP
ANB R11700               ; 4st 送りCVｽﾄｯﾊﾟ 通過確認
TMR #211 #2              ; 4st 送りCVｽﾄｯﾊﾟ 通過OFF確認
;<h1/>190109  212  3-2    213  3-2
LD CR2002                ; 常時ON
MPS
AND R11701               ; 4st 送りCVｽﾄｯﾊﾟ 有無確認
TMR #212 #2              ; 4st 送りCVｽﾄｯﾊﾟ 有確認
MPP
ANB R11701               ; 4st 送りCVｽﾄｯﾊﾟ 有無確認
TMR #213 #2              ; 4st 送りCVｽﾄｯﾊﾟ 無確認
LD T211                  ; 4st 送りCVｽﾄｯﾊﾟ 通過OFF確認
AND T213                 ; 4st 送りCVｽﾄｯﾊﾟ 無確認
OUT MR11005              ; 4st 送りCVｽﾄｯﾊﾟ 前後無確認
;<h1/>異常
;送りCVｽﾄｯﾊﾟ
LD CR2002                ; 常時ON
MCALL ｼﾘﾝﾀﾞ異常1 R11600 R11601 R16600 R16601 LR2812 LR2813;4st 送りCVｽﾄｯﾊﾟ　  下降端  4st送りCV ｽﾄｯﾊﾟ　  上昇端  4st 送りCVｽﾄｯﾊﾟ 下降  4st 送りCVｽﾄｯﾊﾟ 上昇  <A460>4st 送りCVｽﾄｯﾊﾟ 下降端LS異  <A461>4st 送りCVｽﾄｯﾊﾟ 上昇端LS異
;送りCVｽﾄｯﾊﾟ 位置決めL側
LD CR2002                ; 常時ON
MCALL ｼﾘﾝﾀﾞ異常1 R11602 R11603 R16602 R16603 LR2814 LR2815;4st 送りCVL側位置決め 出端  4st 送りCVL側位置決め 戻端  4st 送りCV位置決め 出  4st 送りCV位置決め 戻  <A462>4st 送りCVｽﾄｯﾊﾟ位置決めL   <A463>4st 送りCVｽﾄｯﾊﾟ位置決めL 
;送りCVｽﾄｯﾊﾟ 位置決めR側
LD CR2002                ; 常時ON
MCALL ｼﾘﾝﾀﾞ異常1 R11604 R11605 R16602 R16603 LR2900 LR2901;4st 送りCVR側位置決め 出端  4st 送りCVR側位置決め 戻端  4st 送りCV位置決め 出  4st 送りCV位置決め 戻  <A464>4st 送りCVｽﾄｯﾊﾟ位置決めR   <A465>4st 送りCVｽﾄｯﾊﾟ位置決めR 
;送りCVﾌﾟﾛ-ﾌﾞ
LD CR2002                ; 常時ON
MCALL ｼﾘﾝﾀﾞ異常1 R11606 R11607 R16612 R16613 LR2902 LR2903;4st 送りCVﾌﾟﾛｰﾌﾞ 上昇端  4st 送りCVﾌﾟﾛｰﾌﾞ下降端  4st 送りCVﾌﾟﾛｰﾌﾞ 上昇  4st 送りCVﾌﾟﾛｰﾌﾞ 下降  <A466>4st 送りCVｽﾄｯﾊﾟﾌﾟﾛｰﾌﾞ 下降  <A467>4st 送りCVｽﾄｯﾊﾟﾌﾟﾛｰﾌﾞ 上昇
;送りCVｽﾄｯﾊﾟ 通過ｾﾝｻ異常
LD CR2002                ; 常時ON
MCALL 通過ｾﾝｻ異常 R11700 R72103 R72105 LR2904 W0468;4st 送りCVｽﾄｯﾊﾟ 通過確認  4stｽﾄｯﾊﾟ通過ｾﾝｻON待ち  4st 送りCV ｽﾄｯﾊﾟｾﾝｻOFF待ち  <A468>4st 送りCVｽﾄｯﾊﾟ 通過確認ｾﾝ  <A468>補助ｺｰﾄﾞ
;送りCVｽﾄｯﾊﾟ 到着ｾﾝｻ異常
LD CR2002                ; 常時ON
ANB T120                 ; 4st ｳｫｰﾑｷﾞﾔ検出ｶﾒﾗ ｽﾗｲﾄﾞ出端
MCALL 検出ｾﾝｻ異常 R11701 R72308 R72105 LR11800 LR2905 W0469;4st 送りCVｽﾄｯﾊﾟ 有無確認  4st 送りCVｽﾄｯﾊﾟｾﾝｻON待ち  4st 送りCV ｽﾄｯﾊﾟｾﾝｻOFF待ち  4stｽﾄｯﾊﾟ ﾊﾟﾚｯﾄ有_Mem  <A469>4st 送りCVｽﾄｯﾊﾟ 到着確認ｾﾝ  <A469>補助ｺｰﾄﾞ
LD LR11800               ; 4stｽﾄｯﾊﾟ ﾊﾟﾚｯﾄ有_Mem
AND= DM4403 #0           ; 4stｽﾄｯﾊﾟﾊﾟﾚｯﾄNo(後工程)
AND T212                 ; 4st 送りCVｽﾄｯﾊﾟ 有確認
LD LR11805               ; 4st 受取ｽﾄｯﾊﾟ ﾊﾟﾚｯﾄ有_Mem
AND= DM4413 #0           ; 4st受取ｽﾄｯﾊﾟﾊﾟﾚｯﾄNo(後工程)
AND T232                 ; 4st 送りCV受取ｽﾄｯﾊﾟ 有確認
ORL
AND MR1201               ; 自動ﾓｰﾄﾞ
ANB MR4000               ; 自動運転
LD LR3014                ; <A494>4st_ﾊﾟﾚｯﾄNo.不一致ｴﾗｰ
ANB MR907                ; 異常ﾘｾｯﾄ
ORL
OUT LR3014               ; <A494>4st_ﾊﾟﾚｯﾄNo.不一致ｴﾗｰ
;<h1/>手動
LD MR2000                ; 手動ﾓｰﾄﾞ 操作可能
MC
OUT @MR002               ; 手動ﾓｰﾄﾞ操作可能
;送りCV ｽﾄｯﾊﾟ
LD CR2002                ; 常時ON
MPS
ANP B0460                ; TP4st 送りCV ｽﾄｯﾊﾟ下降 PB
OUT MR12400              ; 4st 送りCV ｽﾄｯﾊﾟ下降_Man
MPP
ANP B0461                ; TP4st 送りCV ｽﾄｯﾊﾟ上昇 PB
OUT MR12401              ; 4st 送りCV ｽﾄｯﾊﾟ上昇_Man
LD CR2002                ; 常時ON
MPS
ANP B0462                ; TP4st 送りCV 位置決め出 PB
OUT MR12402              ; 4st 送りCV 位置決め出_Man
MPP
ANP B0463                ; TP4st 送りCV 位置決め戻 PB
OUT MR12403              ; 4st 送りCV 位置決め戻_Man
LD CR2002                ; 常時ON
MPS
ANP B0464                ; TP4st 送りCV ﾌﾟﾛｰﾌﾞ上昇 PB
OUT MR12404              ; 4st 送りCV ﾌﾟﾛｰﾌﾞ上昇_Man
MPP
ANP B0465                ; TP4st 送りCV ﾌﾟﾛｰﾌﾞ下降 PB
OUT MR12405              ; 4st 送りCV ﾌﾟﾛｰﾌﾞ下降_Man
;ﾓｰﾀ
LDP B047E                ; TP4st 送りCV回転 PB
AND MR56100              ; 送りCV回転可
OUT MR12414              ; 4st 送りCV回転_Man
LDP B047F                ; TP4st 送りCV停止 PB
OUT MR12415              ; 4st 送りCV停止_Man
MCR
;<h1/>原点復帰
LD MR13004               ; 4st 送りCV 原点復帰
MC
OUT @MR003               ; 4st 送りCV 原点復帰
;CV回転前 ｽﾄｯﾊﾟ
LD= DM1106 #0            ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
AND MR11005              ; 4st 送りCVｽﾄｯﾊﾟ 前後無確認
AND @MR003               ; 4st 送りCV 原点復帰
ANB MR13601              ; 4st 送りCV ｽﾄｯﾊﾟ確認①
OUT MR13600              ; 4st 送りCV ｽﾄｯﾊﾟ上昇①
OUT MR13700              ; 4st 送りCV ｽﾄｯﾊﾟ上昇①_ORG
LD T201                  ; 4st 送りCVｽﾄｯﾊﾟ 上昇端
AND MR13600              ; 4st 送りCV ｽﾄｯﾊﾟ上昇①
LD= DM1106 #0            ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
ANB MR13600              ; 4st 送りCV ｽﾄｯﾊﾟ上昇①
ORL
OR MR13601               ; 4st 送りCV ｽﾄｯﾊﾟ確認①
AND @MR003               ; 4st 送りCV 原点復帰
OUT MR13601              ; 4st 送りCV ｽﾄｯﾊﾟ確認①
;CV回転前 受取ｽﾄｯﾊﾟ
LD= DM1106 #0            ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
AND MR11014              ; 4st 送りCV受取ｽﾄｯﾊﾟ 前後無確認
AND @MR003               ; 4st 送りCV 原点復帰
ANB MR13603              ; 4st 受取ｽﾄｯﾊﾟ確認①
OUT MR13602              ; 4st 受取ｽﾄｯﾊﾟ 上昇①_ORG
OUT MR13702              ; 4st 受取ｽﾄｯﾊﾟ 上昇①_ORG
LD T221                  ; 4st 送りCV受取ｽﾄｯﾊﾟ 上昇端
AND MR13602              ; 4st 受取ｽﾄｯﾊﾟ 上昇①_ORG
LD= DM1106 #0            ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
ANB MR13602              ; 4st 受取ｽﾄｯﾊﾟ 上昇①_ORG
ORL
OR MR13603               ; 4st 受取ｽﾄｯﾊﾟ確認①
AND @MR003               ; 4st 送りCV 原点復帰
OUT MR13603              ; 4st 受取ｽﾄｯﾊﾟ確認①
;CV回転前 受取ｴｽｹｰﾊﾟ
LD= DM1106 #0            ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
AND MR11015              ; 4st 送りCV受取ｴｽｹｰﾊﾟ 前後無確認
AND @MR003               ; 4st 送りCV 原点復帰
ANB MR13601              ; 4st 送りCV ｽﾄｯﾊﾟ確認①
OUT MR13604              ; 4st 受取ｴｽｹｰﾊﾟ上昇①
OUT MR13704              ; 4st 受取ｴｽｹｰﾊﾟ上昇①_ORG
LD T241                  ; 4st 送りCV受取ｴｽｹｰﾊﾟ 上昇端
AND MR13604              ; 4st 受取ｴｽｹｰﾊﾟ上昇①
LD= DM1106 #0            ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
ANB MR13604              ; 4st 受取ｴｽｹｰﾊﾟ上昇①
ORL
OR MR13605               ; 4st 受取ｴｽｹｰﾊﾟ確認①
AND @MR003               ; 4st 送りCV 原点復帰
OUT MR13605              ; 4st 受取ｴｽｹｰﾊﾟ確認①
LD MR13601               ; 4st 送りCV ｽﾄｯﾊﾟ確認①
AND MR13603              ; 4st 受取ｽﾄｯﾊﾟ確認①
AND MR13605              ; 4st 受取ｴｽｹｰﾊﾟ確認①
@MOV #10 DM1116          ; UT4_TSK6_次動作REG[受取ｽﾄｯﾊﾟ]
;CV回転
LD= DM1106 #10           ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
OR MR13608               ; 4st 送りCV 回転
OUT MR13608              ; 4st 送りCV 回転
OUT MR13708              ; 4st 送りCV 回転_ORG
TMR @10 #100             ; 4st 原点復帰送りCV回転時間
;CV回転後 ｽﾄｯﾊﾟ
LD= DM1106 #10           ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
AND MR11005              ; 4st 送りCVｽﾄｯﾊﾟ 前後無確認
AND @T10                 ; 4st 原点復帰送りCV回転時間
AND MR13608              ; 4st 送りCV 回転
ANB MR13703              ; 4st 受取ｽﾄｯﾊﾟ上昇②_ORG
OUT MR13610              ; 4st 送りCV ｽﾄｯﾊﾟ上昇②
OUT MR13701              ; 4st 送りCV ｽﾄｯﾊﾟ上昇②_ORG
LD T201                  ; 4st 送りCVｽﾄｯﾊﾟ 上昇端
AND MR13610              ; 4st 送りCV ｽﾄｯﾊﾟ上昇②
LD= DM1106 #10           ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
ANB MR13610              ; 4st 送りCV ｽﾄｯﾊﾟ上昇②
ORL
AND @T10                 ; 4st 原点復帰送りCV回転時間
OR MR13611               ; 4st 送りCV ｽﾄｯﾊﾟ確認②
AND MR13608              ; 4st 送りCV 回転
OUT MR13611              ; 4st 送りCV ｽﾄｯﾊﾟ確認②
;CV回転後 受取ｽﾄｯﾊﾟ
LD= DM1106 #10           ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
AND MR11014              ; 4st 送りCV受取ｽﾄｯﾊﾟ 前後無確認
AND @T10                 ; 4st 原点復帰送りCV回転時間
AND MR13608              ; 4st 送りCV 回転
ANB MR13613              ; 1st 送りCV ｴｽｹｰﾊﾟ確認②
OUT MR13612              ; 4st 受取ｽﾄｯﾊﾟ上昇②
OUT MR13703              ; 4st 受取ｽﾄｯﾊﾟ上昇②_ORG
LD T221                  ; 4st 送りCV受取ｽﾄｯﾊﾟ 上昇端
AND MR13612              ; 4st 受取ｽﾄｯﾊﾟ上昇②
LD= DM1106 #10           ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
ANB MR13612              ; 4st 受取ｽﾄｯﾊﾟ上昇②
ORL
AND @T10                 ; 4st 原点復帰送りCV回転時間
OR MR13613               ; 1st 送りCV ｴｽｹｰﾊﾟ確認②
AND MR13608              ; 4st 送りCV 回転
OUT MR13613              ; 1st 送りCV ｴｽｹｰﾊﾟ確認②
;CV回転後 受取ｽﾄｯﾊﾟ
LD= DM1106 #10           ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
AND MR11015              ; 4st 送りCV受取ｴｽｹｰﾊﾟ 前後無確認
AND @T10                 ; 4st 原点復帰送りCV回転時間
AND MR13608              ; 4st 送りCV 回転
ANB MR13607              ; 4st 受取ｴｽｹｰﾊﾟ確認②
OUT MR13606              ; 4st 受取ｴｽｹｰﾊﾟ上昇②
OUT MR13705              ; 4st 受取ｴｽｹｰﾊﾟ上昇②_ORG
LD T241                  ; 4st 送りCV受取ｴｽｹｰﾊﾟ 上昇端
AND MR13606              ; 4st 受取ｴｽｹｰﾊﾟ上昇②
LD= DM1106 #10           ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
ANB MR13606              ; 4st 受取ｴｽｹｰﾊﾟ上昇②
ORL
AND @T10                 ; 4st 原点復帰送りCV回転時間
OR MR13607               ; 4st 受取ｴｽｹｰﾊﾟ確認②
AND MR13608              ; 4st 送りCV 回転
OUT MR13607              ; 4st 受取ｴｽｹｰﾊﾟ確認②
LD MR13611               ; 4st 送りCV ｽﾄｯﾊﾟ確認②
AND MR13613              ; 1st 送りCV ｴｽｹｰﾊﾟ確認②
AND MR13607              ; 4st 受取ｴｽｹｰﾊﾟ確認②
AND T207                 ; 4st 送りCVﾌﾟﾛｰﾌﾞ下降端
OUT MR13609              ; 4st 原点復帰 送りCV回転後Memｾｯﾄ
@MOV #20 DM1116          ; UT4_TSK6_次動作REG[受取ｽﾄｯﾊﾟ]
;4stｽﾄｯﾊﾟ位置決め
LD= DM1106 #20           ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
MPS
LD LR11801               ; 4stｽﾄｯﾊﾟ 位置決め必要_Mem
AND T212                 ; 4st 送りCVｽﾄｯﾊﾟ 有確認
OR MR13614               ; 4st 送りCV ｽﾄｯﾊﾟﾜｰｸ有
ANB MR13615              ; 4st 送りCV ｽﾄｯﾊﾟﾜｰｸ無
ANL
OUT MR13614              ; 4st 送りCV ｽﾄｯﾊﾟﾜｰｸ有
OUT MR13710              ; 4st 送りCV 位置決め 出_ORG
MRD
ANB MR13614              ; 4st 送りCV ｽﾄｯﾊﾟﾜｰｸ有
OUT MR13615              ; 4st 送りCV ｽﾄｯﾊﾟﾜｰｸ無
OUT MR13712              ; 4st 送りCV 位置決め 戻_ORG
MRD
LD LR11806               ; 4st受取ｽﾄｯﾊﾟ 位置決め必要_Mem
AND T232                 ; 4st 送りCV受取ｽﾄｯﾊﾟ 有確認
OR MR13714               ; 4st 受取ｽﾄｯﾊﾟﾜｰｸ有
ANB MR13715              ; 4st 受取ｽﾄｯﾊﾟﾜｰｸ無
ANL
OUT MR13714              ; 4st 受取ｽﾄｯﾊﾟﾜｰｸ有
OUT MR13711              ; 4st 受取ｽﾄｯﾊﾟ 位置決め 出_ORG
MRD
ANB MR13714              ; 4st 受取ｽﾄｯﾊﾟﾜｰｸ有
OUT MR13715              ; 4st 受取ｽﾄｯﾊﾟﾜｰｸ無
OUT MR13713              ; 4st 受取ｽﾄｯﾊﾟ 位置決め 戻_ORG
MPP
LD MR11002               ; 4st 送りCV L/R位置決め 出端
AND MR13614              ; 4st 送りCV ｽﾄｯﾊﾟﾜｰｸ有
LD MR11003               ; 4st 送りCV L/R位置決め 戻端
AND MR13615              ; 4st 送りCV ｽﾄｯﾊﾟﾜｰｸ無
ORL
LD MR11012               ; 4st 送りCV受取 L/R位置決め 出端
AND MR13714              ; 4st 受取ｽﾄｯﾊﾟﾜｰｸ有
LD MR11013               ; 4st 送りCV受取 L/R位置決め 戻端
AND MR13715              ; 4st 受取ｽﾄｯﾊﾟﾜｰｸ無
ORL
ANL
ANL
@MOV #30 DM1116          ; UT4_TSK6_次動作REG[受取ｽﾄｯﾊﾟ]
LD= DM1106 #30           ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
OR MR13104               ; 4st 送りCV 原点復帰完了
OUT MR13104              ; 4st 送りCV 原点復帰完了
@MOV #1 DM1116           ; UT4_TSK6_次動作REG[受取ｽﾄｯﾊﾟ]
MCR
;<h1/>自動運転 送りCVｽﾄｯﾊﾟ
LD MR10400               ; 4st 自動運転
MC
OUT @MR004               ; 4st 送りCVｽﾄｯﾊﾟ 自動運転
@MOV #1 DM1115           ; UT4_TSK5_次動作REG[送りCVｽﾄｯﾊﾟ]
;ｽﾄｯﾊﾟｰ 初期分岐
LD= DM1105 #1            ; UT4_TSK5_条件REG[送りCVｽﾄｯﾊﾟ]
AND @MR004               ; 4st 送りCVｽﾄｯﾊﾟ 自動運転
MPS
LD T213                  ; 4st 送りCVｽﾄｯﾊﾟ 無確認
AND= DM1180 #0           ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
ANL
OUT MR17001              ; 4st 分岐1 送りCVｽﾄｯﾊﾟ ﾊﾟﾚｯﾄ無
MPS
AND R72201               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ可
OUT LR11402              ; ﾊﾟﾚｯﾄ要求 [4stｽﾄｯﾊﾟ→4st受取SP]
MPP
LD LR11402               ; ﾊﾟﾚｯﾄ要求 [4stｽﾄｯﾊﾟ→4st受取SP]
AND LR11503              ; 4st受取ｽﾄｯﾊﾟ→CVｽﾄｯﾊﾟへ 排出可能
ANL
MOV #100 DM1115          ; UT4_TSK5_次動作REG[送りCVｽﾄｯﾊﾟ]
MRD
LD T212                  ; 4st 送りCVｽﾄｯﾊﾟ 有確認
AND= DM1180 #1           ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
ANL
OUT MR17002              ; 4st 分岐2 送りCVｽﾄｯﾊﾟ ﾊﾟﾚｯﾄ確認
MPS
LD MR11002               ; 4st 送りCV L/R位置決め 出端
AND MR17212              ; 4st ｳｫｰﾑｷﾞﾔ位置出し 正常終了
ANL
OUT MR17202              ; 4st 送りCV ｽﾄｯﾊﾟ 組込準備完了
MRD
LD MR17202               ; 4st 送りCV ｽﾄｯﾊﾟ 組込準備完了
AND DM4404.5             ; 4stｽﾄｯﾊﾟ:4st ﾌﾝｼﾝｷﾞﾔ 組込有
ANL
OUT LR11501              ; 4st RBへ組込可能
MPP
ANB MR17202              ; 4st 送りCV ｽﾄｯﾊﾟ 組込準備完了
MOV #200 DM1115          ; UT4_TSK5_次動作REG[送りCVｽﾄｯﾊﾟ]
MRD
LD T212                  ; 4st 送りCVｽﾄｯﾊﾟ 有確認
AND= DM1180 #2           ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
AND MR51803              ; 4stRB 送りCV 干渉外
ANL
MPS
OUT MR17003              ; 4st 分岐3 送りCVｽﾄｯﾊﾟ 完了ﾊﾟﾚｯﾄ
MPP
LD LR12400               ; ﾊﾟﾚｯﾄ要求 [5stES①→4stｽﾄｯﾊﾟ]
OR LR12401               ; ﾊﾟﾚｯﾄ要求 [5stES②→4stｽﾄｯﾊﾟ]
AND<> DM4403 #0          ; 4stｽﾄｯﾊﾟﾊﾟﾚｯﾄNo(後工程)
ANL
MOV #300 DM1115          ; UT4_TSK5_次動作REG[送りCVｽﾄｯﾊﾟ]
MPP
LD MR10403               ; 4st ｻｲｸﾙ停止中受付
AND= DM1115 #1           ; UT4_TSK5_次動作REG[送りCVｽﾄｯﾊﾟ]
LDB LR11902              ; 4st受取 上流工程 ﾜｰｸ＞ﾊﾟﾚｯﾄ
OR MR35315               ; 後工程PP ｻｲｸﾙ停止完了
ANL
AND MR4110               ; RB/部材供給 ｻｲｸﾙ停止完了
ANL
MOV #900 DM1115          ; UT4_TSK5_次動作REG[送りCVｽﾄｯﾊﾟ]
;分岐1 受取
LD= DM1105 #100          ; UT4_TSK5_条件REG[送りCVｽﾄｯﾊﾟ]
AND @MR004               ; 4st 送りCVｽﾄｯﾊﾟ 自動運転
OUT MR17100              ; 4st 送りCVｽﾄｯﾊﾟ ﾊﾟﾚｯﾄ無
MPS
OUT MR17102              ; 4stｽﾄｯﾊﾟ 受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟSUB_AUT
MPP
LD R72209                ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ完了
AND= DM1180 #1           ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
ANL
MOV #200 DM1115          ; UT4_TSK5_次動作REG[送りCVｽﾄｯﾊﾟ]
;分岐2 ﾜｰｸ組込準備→ｳｫｰﾑｷﾞﾔ位置出し
LD= DM1105 #200          ; UT4_TSK5_条件REG[送りCVｽﾄｯﾊﾟ]
AND @MR004               ; 4st 送りCVｽﾄｯﾊﾟ 自動運転
LD= DM1180 #1            ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
OR MR17200               ; 4st 送りCVｽﾄｯﾊﾟ 組込準備
ANL
OUT MR17200              ; 4st 送りCVｽﾄｯﾊﾟ 組込準備
OUT MR17201              ; 4st 送りCV 位置決め出_AUT
MPS
LD MR11002               ; 4st 送りCV L/R位置決め 出端
AND R73201               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ可
LDB MR15415              ; 4stRB 自動運転 CV組込動作中
LD MR15415               ; 4stRB 自動運転 CV組込動作中
ANB MR14401              ; 4stRB ﾌﾝｼﾝｷﾞﾔ CV組込
ORL
ANL
OR MR17210               ; 4st ｳｫｰﾑｷﾞﾔ位置出しSUB_AUT
ANL
OUT MR17210              ; 4st ｳｫｰﾑｷﾞﾔ位置出しSUB_AUT
MRD
AND R73208               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 正常終了
MOV #1 DM1115            ; UT4_TSK5_次動作REG[送りCVｽﾄｯﾊﾟ]
MPP
LD R73209                ; 4st ｳｫｰﾑｷﾞﾔ位置出し 異常終了
OR MR17211               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 異常終了
ANL
MPS
OUT MR17211              ; 4st ｳｫｰﾑｷﾞﾔ位置出し 異常終了
MPP
AND MR10406              ; 4st RB/部材供給 ｻｲｸﾙ停止完了
MOV #900 DM1115          ; UT4_TSK5_次動作REG[送りCVｽﾄｯﾊﾟ]
LD MR17210               ; 4st ｳｫｰﾑｷﾞﾔ位置出しSUB_AUT
AND R73208               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 正常終了
OR MR17212               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 正常終了
AND @MR004               ; 4st 送りCVｽﾄｯﾊﾟ 自動運転
AND<= #1 DM1180          ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
AND<= DM1180 #2          ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
OUT MR17212              ; 4st ｳｫｰﾑｷﾞﾔ位置出し 正常終了
;分岐3 排出
LD= DM1105 #300          ; UT4_TSK5_条件REG[送りCVｽﾄｯﾊﾟ]
AND @MR004               ; 4st 送りCVｽﾄｯﾊﾟ 自動運転
LD= DM1180 #2            ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
OR MR17300               ; 4st 送りCVｽﾄｯﾊﾟ 排出準備
ANL
OUT MR17300              ; 4st 送りCVｽﾄｯﾊﾟ 排出準備
MPS
OUT MR17301              ; 1st 送りCV 位置決め戻_AUT
MPP
LD MR11003               ; 4st 送りCV L/R位置決め 戻端
AND<> DM4403 #0          ; 4stｽﾄｯﾊﾟﾊﾟﾚｯﾄNo(後工程)
ANL
MOV #310 DM1115          ; UT4_TSK5_次動作REG[送りCVｽﾄｯﾊﾟ]
LD= DM1105 #310          ; UT4_TSK5_条件REG[送りCVｽﾄｯﾊﾟ]
OUT MR17302              ; 4st 送りCV 排出準備完了
OUT LR11502              ; 4st→5stｴｽｹｰﾊﾟへ 排出可能
MPS
LD MR11005               ; 4st 送りCVｽﾄｯﾊﾟ 前後無確認
AND= DM1180 #0           ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
ANL
MOV #1 DM1115            ; UT4_TSK5_次動作REG[送りCVｽﾄｯﾊﾟ]
MPP
LD MR10403               ; 4st ｻｲｸﾙ停止中受付
AND MR27815              ; 5st 送りCV ｴｽｹｰﾊﾟ ｻｲｸﾙ停止完了
ANL
MOV #900 DM1115          ; UT4_TSK5_次動作REG[送りCVｽﾄｯﾊﾟ]
;分岐4 ｻｲｸﾙ停止処理
LD= DM1105 #900          ; UT4_TSK5_条件REG[送りCVｽﾄｯﾊﾟ]
OUT MR17315              ; 4st 送りCVｽﾄｯﾊﾟ ｻｲｸﾙ停止完了
MCR
;<h1/>自動運転 受取ｽﾄｯﾊﾟ
LD MR10400               ; 4st 自動運転
MC
OUT @MR005               ; 4st 送りCV 受取ｽﾄｯﾊﾟ 自動運転
@MOV #1 DM1116           ; UT4_TSK6_次動作REG[受取ｽﾄｯﾊﾟ]
;受取ｽﾄｯﾊﾟ 初期分岐
LD= DM1106 #1            ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
AND @MR005               ; 4st 送りCV 受取ｽﾄｯﾊﾟ 自動運転
MPS
LD T233                  ; 4st 送りCV受取ｽﾄｯﾊﾟ 無確認
AND= DM1185 #0           ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
ANL
OUT MR17501              ; 4st 分岐1 受取ｽﾄｯﾊﾟ ﾊﾟﾚｯﾄ無
MPS
AND R72401               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ可
OUT LR11401              ; ﾊﾟﾚｯﾄ要求 [4st受取SP→4st受取ES]
MPP
LD LR11401               ; ﾊﾟﾚｯﾄ要求 [4st受取SP→4st受取ES]
AND LR11504              ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟへ 排出可能
ANL
MOV #100 DM1116          ; UT4_TSK6_次動作REG[受取ｽﾄｯﾊﾟ]
MRD
LD T232                  ; 4st 送りCV受取ｽﾄｯﾊﾟ 有確認
AND= DM1185 #1           ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
ANL
OUT MR17502              ; 4st　分岐2 受取ｽﾄｯﾊﾟ ﾜｰｸ受取
MPS
AND MR11012              ; 4st 送りCV受取 L/R位置決め 出端
OUT LR11515              ; 後工程PPへ 受取可能
MPP
ANB LR11515              ; 後工程PPへ 受取可能
MOV #200 DM1116          ; UT4_TSK6_次動作REG[受取ｽﾄｯﾊﾟ]
MRD
LD T232                  ; 4st 送りCV受取ｽﾄｯﾊﾟ 有確認
AND= DM1185 #2           ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
ANL
MPS
OUT MR17503              ; 4st　分岐3 受取ｽﾄｯﾊﾟ ﾊﾟﾚｯﾄ排出
MPP
LD LR11402               ; ﾊﾟﾚｯﾄ要求 [4stｽﾄｯﾊﾟ→4st受取SP]
AND<> DM4413 #0          ; 4st受取ｽﾄｯﾊﾟﾊﾟﾚｯﾄNo(後工程)
ANL
MOV #300 DM1116          ; UT4_TSK6_次動作REG[受取ｽﾄｯﾊﾟ]
MPP
LD MR10403               ; 4st ｻｲｸﾙ停止中受付
AND= DM1116 #1           ; UT4_TSK6_次動作REG[受取ｽﾄｯﾊﾟ]
LDB LR11902              ; 4st受取 上流工程 ﾜｰｸ＞ﾊﾟﾚｯﾄ
OR MR35315               ; 後工程PP ｻｲｸﾙ停止完了
ANL
AND MR4110               ; RB/部材供給 ｻｲｸﾙ停止完了
ANL
MOV #900 DM1116          ; UT4_TSK6_次動作REG[受取ｽﾄｯﾊﾟ]
;分岐1 受取
LD= DM1106 #100          ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
AND @MR005               ; 4st 送りCV 受取ｽﾄｯﾊﾟ 自動運転
OUT MR17600              ; 4st 受取ｽﾄｯﾊﾟ ﾊﾟﾚｯﾄ無
MPS
OUT MR17602              ; 4st 受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟSUB_AUT
MPP
LD R72409                ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ完了
AND= DM1185 #1           ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
ANL
MOV #200 DM1116          ; UT4_TSK6_次動作REG[受取ｽﾄｯﾊﾟ]
;分岐2 ﾜｰｸ受取準備
LD= DM1106 #200          ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
AND @MR005               ; 4st 送りCV 受取ｽﾄｯﾊﾟ 自動運転
OUT MR17700              ; 4st 受取ｽﾄｯﾊﾟ ﾜｰｸ受取準備
MPS
OUT MR17701              ; 4st 受取ｽﾄｯﾊﾟ 位置決め 出_AUT
MPP
AND MR11012              ; 4st 送りCV受取 L/R位置決め 出端
MOV #1 DM1116            ; UT4_TSK6_次動作REG[受取ｽﾄｯﾊﾟ]
;分岐3 排出
LD= DM1106 #300          ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
AND @MR005               ; 4st 送りCV 受取ｽﾄｯﾊﾟ 自動運転
OUT MR17800              ; 4st 受取ｽﾄｯﾊﾟ 排出準備
MPS
AND MR54712              ; 後工程PP 受取ｽﾄｯﾊﾟ 干渉外
OUT LR11503              ; 4st受取ｽﾄｯﾊﾟ→CVｽﾄｯﾊﾟへ 排出可能
MRD
LD MR11014               ; 4st 送りCV受取ｽﾄｯﾊﾟ 前後無確認
AND= DM1185 #0           ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
ANL
MOV #1 DM1116            ; UT4_TSK6_次動作REG[受取ｽﾄｯﾊﾟ]
MPP
LD MR10403               ; 4st ｻｲｸﾙ停止中受付
AND MR17315              ; 4st 送りCVｽﾄｯﾊﾟ ｻｲｸﾙ停止完了
ANL
MOV #900 DM1116          ; UT4_TSK6_次動作REG[受取ｽﾄｯﾊﾟ]
;分岐4 ｻｲｸﾙ停止処理
LD= DM1106 #900          ; UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
OUT MR17815              ; 4st 送りCV受取ｽﾄｯﾊﾟ ｻｲｸﾙ停止完了
MCR
;<h1/>自動運転 受取ｴｽｹｰﾊﾟ
LD MR10400               ; 4st 自動運転
MC
OUT @MR006               ; 4st 送りCV 受取ｴｽｹｰﾊﾟ 自動運転
@MOV #1 DM1117           ; UT4_TSK7_次動作REG[受取ｴｽｹｰﾊﾟ]
;自動運転開始時 ﾊﾟﾚｯﾄｼﾌﾄ状態
LDP @MR004               ; 4st 送りCVｽﾄｯﾊﾟ 自動運転
AND T269                 ; 4st ﾘﾀｰﾝCVｼﾌﾄ 戻端(ﾘﾀｰﾝCV側)
AND T280                 ; 4st ﾘﾀｰﾝCVｼﾌﾄ到着ON確認
OR MR19400               ; 4st 動作時ﾊﾟﾚｯﾄｼﾌﾄ ﾊﾟﾚｯﾄ有
AND @MR004               ; 4st 送りCVｽﾄｯﾊﾟ 自動運転
ANB MR19402              ; 4stﾊﾟﾚｯﾄｼﾌﾄ→受取ｴｽｹｰﾊﾟ1ｻｲｸﾙ完了
MPS
OUT MR19400              ; 4st 動作時ﾊﾟﾚｯﾄｼﾌﾄ ﾊﾟﾚｯﾄ有
MPP
LD R72901                ; 4stﾊﾟﾚｯﾄｼﾌﾄ→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ可
OR MR19401               ; 4stﾊﾟﾚｯﾄｼﾌﾄ→ﾘﾀｰﾝCV 1ｻｲｸﾙ_AUT
ANL
OUT MR19401              ; 4stﾊﾟﾚｯﾄｼﾌﾄ→ﾘﾀｰﾝCV 1ｻｲｸﾙ_AUT
LD R72609                ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ完了
OR MR19402               ; 4stﾊﾟﾚｯﾄｼﾌﾄ→受取ｴｽｹｰﾊﾟ1ｻｲｸﾙ完了
AND MR19400              ; 4st 動作時ﾊﾟﾚｯﾄｼﾌﾄ ﾊﾟﾚｯﾄ有
OUT MR19402              ; 4stﾊﾟﾚｯﾄｼﾌﾄ→受取ｴｽｹｰﾊﾟ1ｻｲｸﾙ完了
;ｴｽｹｰﾊﾟｰ 初期分岐
LD= DM1107 #1            ; UT4_TSK7_条件REG[受取ｴｽｹｰﾊﾟ]
AND @MR006               ; 4st 送りCV 受取ｴｽｹｰﾊﾟ 自動運転
MPS
LD T253                  ; 4st 送りCV受取ｴｽｹｰﾊﾟ 無確認
AND= DM1190 #0           ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
ANL
OUT MR19001              ; 4st 分岐1 受取ｴｽｹｰﾊﾟ ﾊﾟﾚｯﾄ無
MPS
LD R72601                ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ可
AND LR11902              ; 4st受取 上流工程 ﾜｰｸ＞ﾊﾟﾚｯﾄ
ANL
OUT LR11400              ; ﾊﾟﾚｯﾄ要求 [4st受取ES→ﾘﾀｰﾝCV]
MPP
LD LR11400               ; ﾊﾟﾚｯﾄ要求 [4st受取ES→ﾘﾀｰﾝCV]
AND LR11510              ; 4st受取ｴｽｹｰﾊﾟへ 排出可能
ANL
MOV #100 DM1117          ; UT4_TSK7_次動作REG[受取ｴｽｹｰﾊﾟ]
MRD
LD T252                  ; 4st 送りCV受取ｴｽｹｰﾊﾟ 有確認
AND= DM1190 #1           ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
ANL
OUT MR19002              ; 4st　分岐2 受取ｴｽｹｰﾊﾟ BCR読込
MOV #200 DM1117          ; UT4_TSK7_次動作REG[受取ｴｽｹｰﾊﾟ]
MRD
LD T252                  ; 4st 送りCV受取ｴｽｹｰﾊﾟ 有確認
AND= DM1190 #2           ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
ANL
MPS
OUT MR19003              ; 4st　分岐3 受取ｴｽｹｰﾊﾟ ﾊﾟﾚｯﾄ有
MPP
LD LR11401               ; ﾊﾟﾚｯﾄ要求 [4st受取SP→4st受取ES]
AND<> DM4423 #0          ; 4st受取ｴｽｹｰﾊﾟﾊﾟﾚｯﾄNo(後工程)
ANL
MOV #300 DM1117          ; UT4_TSK7_次動作REG[受取ｴｽｹｰﾊﾟ]
MPP
LD MR10403               ; 4st ｻｲｸﾙ停止中受付
AND= DM1117 #1           ; UT4_TSK7_次動作REG[受取ｴｽｹｰﾊﾟ]
LDB LR11902              ; 4st受取 上流工程 ﾜｰｸ＞ﾊﾟﾚｯﾄ
OR MR35315               ; 後工程PP ｻｲｸﾙ停止完了
ANL
AND MR4110               ; RB/部材供給 ｻｲｸﾙ停止完了
ANL
MOV #900 DM1117          ; UT4_TSK7_次動作REG[受取ｴｽｹｰﾊﾟ]
;分岐1 受取
LD= DM1107 #100          ; UT4_TSK7_条件REG[受取ｴｽｹｰﾊﾟ]
AND @MR006               ; 4st 送りCV 受取ｴｽｹｰﾊﾟ 自動運転
OUT MR19100              ; 4st 受取ｴｽｹｰﾊﾟ ﾊﾟﾚｯﾄ無
MPS
OUT MR19102              ; 4st ﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟSUB_AUT
MPP
LD R72609                ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ完了
OR R72805                ; 4st受取ｴｽｹｰﾊﾟ到着確認
AND= DM1190 #1           ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
ANL
MOV #200 DM1117          ; UT4_TSK7_次動作REG[受取ｴｽｹｰﾊﾟ]
;<h1/>分岐2 ﾊﾞｰｺｰﾄﾞ読取
;@12  10-5
LD= DM1107 #200          ; UT4_TSK7_条件REG[受取ｴｽｹｰﾊﾟ]
AND @MR006               ; 4st 送りCV 受取ｴｽｹｰﾊﾟ 自動運転
LD= DM1190 #1            ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
OR MR19200               ; 4st 受取ｴｽｹｰﾊﾟ BCR読込
ANL
OUT MR19200              ; 4st 受取ｴｽｹｰﾊﾟ BCR読込
MPS
LD MR56501               ; 送りCVﾊﾟﾚｯﾄ ﾊﾞｰｺｰﾄﾞ読取可
OR MR19201               ; 4st BCR読取指令_AUT
ANL
OUT MR19201              ; 4st BCR読取指令_AUT
TMR @12 #5               ; 受取ｴｽｹｰﾊﾟﾊﾞｰｺｰﾄﾞ読取完了
MPP
LD= DM1190 #2            ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
AND @T12                 ; 受取ｴｽｹｰﾊﾟﾊﾞｰｺｰﾄﾞ読取完了
AND<> DM4423 #0          ; 4st受取ｴｽｹｰﾊﾟﾊﾟﾚｯﾄNo(後工程)
ANL
MOV #1 DM1117            ; UT4_TSK7_次動作REG[受取ｴｽｹｰﾊﾟ]
;分岐3 排出
LD= DM1107 #300          ; UT4_TSK7_条件REG[受取ｴｽｹｰﾊﾟ]
AND @MR006               ; 4st 送りCV 受取ｴｽｹｰﾊﾟ 自動運転
OUT MR19300              ; 4st 受取ｴｽｹｰﾊﾟ 排出準備
OUT LR11504              ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟへ 排出可能
MPS
LD MR11015               ; 4st 送りCV受取ｴｽｹｰﾊﾟ 前後無確認
AND= DM1190 #0           ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
ANL
MOV #1 DM1117            ; UT4_TSK7_次動作REG[受取ｴｽｹｰﾊﾟ]
MPP
LD MR10403               ; 4st ｻｲｸﾙ停止中受付
AND MR17815              ; 4st 送りCV受取ｽﾄｯﾊﾟ ｻｲｸﾙ停止完了
ANL
MOV #900 DM1117          ; UT4_TSK7_次動作REG[受取ｴｽｹｰﾊﾟ]
;分岐4 ｻｲｸﾙ停止処理
LD= DM1107 #900          ; UT4_TSK7_条件REG[受取ｴｽｹｰﾊﾟ]
OUT MR19315              ; 4st 送りCV受取ｴｽｹｰﾊﾟｻｲｸﾙ停止完了
MCR
;<h1/>出力
;ｽﾄｯﾊﾟ
LD MR51803               ; 4stRB 送りCV 干渉外
OR MR1500                ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
MPS
LD MR11003               ; 4st 送りCV L/R位置決め 戻端
AND T221                 ; 4st 送りCV受取ｽﾄｯﾊﾟ 上昇端
AND T421                 ; 5st 送りCVｴｽｹｰﾊﾟ 上昇端
LD T433                  ; 5st 送りCVｴｽｹｰﾊﾟ 無確認
OR T432                  ; 5st 送りCVｴｽｹｰﾊﾟ 有確認
ANL
AND T435                 ; 5st 送りCVﾊﾟﾚｯﾄ押え 無確認
AND MR21013              ; 5st 送りCV L/Rﾊﾟﾚｯﾄ押え 戻端
ANB T200                 ; 4st 送りCVｽﾄｯﾊﾟ　  下降端
ANL
OUT MR18600              ; 4st 送りCVｽﾄｯﾊﾟ 下降可
MPP
LD MR11005               ; 4st 送りCVｽﾄｯﾊﾟ 前後無確認
ANB T201                 ; 4st 送りCVｽﾄｯﾊﾟ 上昇端
ANL
OUT MR18601              ; 4st 送りCVｽﾄｯﾊﾟ 上昇可
LD MR18700               ; 4st 送りCVｽﾄｯﾊﾟ 下降補助
LD R16600                ; 4st 送りCVｽﾄｯﾊﾟ 下降
AND @MR002               ; 手動ﾓｰﾄﾞ操作可能
ORL
ANB MR18701              ; 4st 送りCVｽﾄｯﾊﾟ 上昇補助
ANB R16601               ; 4st 送りCVｽﾄｯﾊﾟ 上昇
OUT R16600               ; 4st 送りCVｽﾄｯﾊﾟ 下降
LDB MR12400              ; 4st 送りCV ｽﾄｯﾊﾟ下降_Man
ANB R72101               ; 4st 送りCV ｽﾄｯﾊﾟ下降_1ｻｲｸﾙ
INV
AND MR18600              ; 4st 送りCVｽﾄｯﾊﾟ 下降可
OUT MR18700              ; 4st 送りCVｽﾄｯﾊﾟ 下降補助
LD MR18701               ; 4st 送りCVｽﾄｯﾊﾟ 上昇補助
LD R16601                ; 4st 送りCVｽﾄｯﾊﾟ 上昇
AND @MR002               ; 手動ﾓｰﾄﾞ操作可能
ORL
ANB MR18700              ; 4st 送りCVｽﾄｯﾊﾟ 下降補助
ANB R16600               ; 4st 送りCVｽﾄｯﾊﾟ 下降
OUT R16601               ; 4st 送りCVｽﾄｯﾊﾟ 上昇
LDB MR12401              ; 4st 送りCV ｽﾄｯﾊﾟ上昇_Man
ANB MR13700              ; 4st 送りCV ｽﾄｯﾊﾟ上昇①_ORG
ANB MR13701              ; 4st 送りCV ｽﾄｯﾊﾟ上昇②_ORG
ANB R72107               ; 4st 送りCV ｽﾄｯﾊﾟ上昇_1ｻｲｸﾙ
INV
AND MR18601              ; 4st 送りCVｽﾄｯﾊﾟ 上昇可
OUT MR18701              ; 4st 送りCVｽﾄｯﾊﾟ 上昇補助
;ﾊﾟﾚｯﾄ位置決め
LD MR51803               ; 4stRB 送りCV 干渉外
OR MR1500                ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
MPS
LD T201                  ; 4st 送りCVｽﾄｯﾊﾟ 上昇端
ANB MR11002              ; 4st 送りCV L/R位置決め 出端
ANL
OUT MR18602              ; 4st 送りCV位置決め 出可
MPP
ANB MR11003              ; 4st 送りCV L/R位置決め 戻端
OUT MR18603              ; 4st 送りCV位置決め 戻可
LD MR18702               ; 4st 送りCV位置決め 出補助
LD R16602                ; 4st 送りCV位置決め 出
AND @MR002               ; 手動ﾓｰﾄﾞ操作可能
ORL
ANB MR18703              ; 4st 送りCV位置決め 戻補助
ANB R16603               ; 4st 送りCV位置決め 戻
OUT R16602               ; 4st 送りCV位置決め 出
LDB MR12402              ; 4st 送りCV 位置決め出_Man
ANB MR13710              ; 4st 送りCV 位置決め 出_ORG
ANB R72315               ; 4st 送りCV 位置決め 出_1ｻｲｸﾙ
ANB MR17201              ; 4st 送りCV 位置決め出_AUT
ANB R73301               ; 4st 送りCV 位置決め 出指令 1ｻｲｸﾙ
INV
AND MR18602              ; 4st 送りCV位置決め 出可
OUT MR18702              ; 4st 送りCV位置決め 出補助
LD MR18703               ; 4st 送りCV位置決め 戻補助
LD R16603                ; 4st 送りCV位置決め 戻
AND @MR002               ; 手動ﾓｰﾄﾞ操作可能
ORL
ANB MR18702              ; 4st 送りCV位置決め 出補助
ANB R16602               ; 4st 送りCV位置決め 出
OUT R16603               ; 4st 送りCV位置決め 戻
LDB MR12403              ; 4st 送りCV 位置決め戻_Man
ANB MR13712              ; 4st 送りCV 位置決め 戻_ORG
ANB MR17301              ; 1st 送りCV 位置決め戻_AUT
ANB R71608               ; 4st 送りCV位置決め 戻_1ｻｲｸﾙ
ANB R72111               ; 4st 送りCV 位置決め 戻_1ｻｲｸﾙ
ANB R72311               ; 4st 送りCV 位置決め 戻_1ｻｲｸﾙ
INV
AND MR18603              ; 4st 送りCV位置決め 戻可
OUT MR18703              ; 4st 送りCV位置決め 戻補助
;ﾌﾟﾛｰﾌﾞ上昇
LD CR2002                ; 常時ON
MPS
LD T201                  ; 4st 送りCVｽﾄｯﾊﾟ 上昇端
ANB T206                 ; 4st 送りCVﾌﾟﾛｰﾌﾞ 上昇端
ANL
OUT MR18604              ; 4st 送りCVﾌﾟﾛｰﾌﾞ 上昇可
MPP
ANB T207                 ; 4st 送りCVﾌﾟﾛｰﾌﾞ下降端
OUT MR18605              ; 4st 送りCVﾌﾟﾛｰﾌﾞ 下降可
LD MR18704               ; 4st 送りCVﾌﾟﾛｰﾌﾞ 上昇補助
LD R16612                ; 4st 送りCVﾌﾟﾛｰﾌﾞ 上昇
AND @MR002               ; 手動ﾓｰﾄﾞ操作可能
ORL
ANB MR18705              ; 4st 送りCVﾌﾟﾛｰﾌﾞ 下降補助
ANB R16613               ; 4st 送りCVﾌﾟﾛｰﾌﾞ 下降
OUT R16612               ; 4st 送りCVﾌﾟﾛｰﾌﾞ 上昇
LDB MR12404              ; 4st 送りCV ﾌﾟﾛｰﾌﾞ上昇_Man
ANB R73305               ; 4st ﾌﾟﾛｰﾌﾞ 上昇指令 1ｻｲｸﾙ
INV
AND MR18604              ; 4st 送りCVﾌﾟﾛｰﾌﾞ 上昇可
OUT MR18704              ; 4st 送りCVﾌﾟﾛｰﾌﾞ 上昇補助
LD MR18705               ; 4st 送りCVﾌﾟﾛｰﾌﾞ 下降補助
LD R16613                ; 4st 送りCVﾌﾟﾛｰﾌﾞ 下降
AND @MR002               ; 手動ﾓｰﾄﾞ操作可能
ORL
ANB MR18704              ; 4st 送りCVﾌﾟﾛｰﾌﾞ 上昇補助
ANB R16612               ; 4st 送りCVﾌﾟﾛｰﾌﾞ 上昇
OUT R16613               ; 4st 送りCVﾌﾟﾛｰﾌﾞ 下降
LDB MR12405              ; 4st 送りCV ﾌﾟﾛｰﾌﾞ下降_Man
ANB MR13300              ; 4st ﾌﾟﾛｰﾌﾞ 下降_ORG
ANB R73309               ; 4st ﾌﾟﾛｰﾌﾞ 下降指令 1ｻｲｸﾙ
INV
AND MR18605              ; 4st 送りCVﾌﾟﾛｰﾌﾞ 下降可
OUT MR18705              ; 4st 送りCVﾌﾟﾛｰﾌﾞ 下降補助
;ｳｫｰﾑｷﾞﾔ回転
LD MR11002               ; 4st 送りCV L/R位置決め 出端
AND T206                 ; 4st 送りCVﾌﾟﾛｰﾌﾞ 上昇端
AND T124                 ; 4st ﾜｰｸ押え 出端
AND T126                 ; 4st ﾜｰｸ押え 下降端
ANB R73500               ; 4st ｳｫｰﾑｷﾞﾔ 正転(8Step)
ANB R73508               ; 4st ｳｫｰﾑｷﾞﾔ 正転(2Step)
ANB R73600               ; 4st ｳｫｰﾑｷﾞﾔ 逆転(8Step)
ANB R73608               ; 4st ｳｫｰﾑｷﾞﾔ 逆転(2Step)
OUT MR18208              ; 4st ｳｫｰﾑｷﾞﾔ 正転(8Step) 可
OUT MR18209              ; 4st ｳｫｰﾑｷﾞﾔ 正転(2Step) 可
OUT MR18210              ; 4st ｳｫｰﾑｷﾞﾔ 逆転(8Step) 可
OUT MR18211              ; 4st ｳｫｰﾑｷﾞﾔ 逆転(2Step) 可
LD T206                  ; 4st 送りCVﾌﾟﾛｰﾌﾞ 上昇端
MPS
LD<= #2 DM1195           ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
AND<= DM1195 #6          ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
ANL
OUT R2200                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHAT
MRD
LD= DM1195 #0            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
LD<= #4 DM1195           ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
AND<= DM1195 #7          ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
ORL
ANL
OUT R2204
MRD
LD<= #0 DM1195           ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
AND<= DM1195 #2          ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
LD<= #6 DM1195           ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
AND<= DM1195 #7          ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
ORL
ANL
OUT R2202                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHAB
MPP
LD<= #0 DM1195           ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
AND<= DM1195 #4          ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
ANL
OUT R2203                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHBB
;TP出力
;ｽﾄｯﾊﾟ
LD T200                  ; 4st 送りCVｽﾄｯﾊﾟ　  下降端
LD R16600                ; 4st 送りCVｽﾄｯﾊﾟ 下降
ANB T200                 ; 4st 送りCVｽﾄｯﾊﾟ　  下降端
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1460                ; TP4st 送りCV ｽﾄｯﾊﾟ下降 PL
LD T201                  ; 4st 送りCVｽﾄｯﾊﾟ 上昇端
LD R16601                ; 4st 送りCVｽﾄｯﾊﾟ 上昇
ANB T201                 ; 4st 送りCVｽﾄｯﾊﾟ 上昇端
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1461                ; TP4st 送りCV ｽﾄｯﾊﾟ上昇 PL
LD MR11002               ; 4st 送りCV L/R位置決め 出端
LD R16602                ; 4st 送りCV位置決め 出
ANB MR11002              ; 4st 送りCV L/R位置決め 出端
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1462                ; TP4st 送りCV 位置決め出 PL
LD MR11003               ; 4st 送りCV L/R位置決め 戻端
LD R16603                ; 4st 送りCV位置決め 戻
ANB MR11003              ; 4st 送りCV L/R位置決め 戻端
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1463                ; TP4st 送りCV 位置決め戻 PL
LD T206                  ; 4st 送りCVﾌﾟﾛｰﾌﾞ 上昇端
LD R16612                ; 4st 送りCVﾌﾟﾛｰﾌﾞ 上昇
ANB T206                 ; 4st 送りCVﾌﾟﾛｰﾌﾞ 上昇端
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1464                ; TP4st 送りCV ﾌﾟﾛｰﾌﾞ上昇 PL
LD T207                  ; 4st 送りCVﾌﾟﾛｰﾌﾞ下降端
LD R16613                ; 4st 送りCVﾌﾟﾛｰﾌﾞ 下降
ANB T207                 ; 4st 送りCVﾌﾟﾛｰﾌﾞ下降端
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1465                ; TP4st 送りCV ﾌﾟﾛｰﾌﾞ下降 PL
;ｺﾝﾍﾞｱ回転
LD CR2002                ; 常時ON
MPS
AND MR56110              ; 送りCV回転補助
OUT B147E                ; TP4st 送りCV回転 PL
MPP
ANB MR56110              ; 送りCV回転補助
OUT B147F                ; TP4st 送りCV停止 PL
END
ENDH
