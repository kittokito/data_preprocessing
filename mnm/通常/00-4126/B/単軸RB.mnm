DEVICE:53
;MODULE:単軸RB
;MODULE_TYPE:0
;<h1/>入力
LD MR714                 ; PLC全ﾕﾆｯﾄ正常
MPS
AND R53200               ; 単軸RB 非常停止入力状態
OUT MR54000              ; 単軸RB 非常停止入力状態
MRD
AND R53201               ; 単軸RB CPU OK状態
OUT MR54001              ; 単軸RB CPU OK状態
MRD
AND R53202               ; 単軸RB ｻｰﾎﾞON
OUT MR54002              ; 単軸RB ｻｰﾎﾞON
MRD
AND R53203               ; 単軸RB ｱﾗｰﾑ
OUT MR54003              ; 単軸RB ｱﾗｰﾑ
MRD
ANB R53208               ; 単軸RB 自動ﾓｰﾄﾞ
OUT MR54010              ; 単軸RB 手動ﾓｰﾄﾞ
MRD
ANB R53209               ; 単軸RB 原点復帰完了
OUT MR54011              ; 単軸 原点復帰未完
MPP
AND R53307               ; 単軸RB ﾊﾞｯﾃﾘｰｱﾗｰﾑ
OUT MR54013              ; 単軸RB ﾊﾞｯﾃﾘｰｱﾗｰﾑ
LD T11                   ; ﾄﾞﾗｲﾊﾞ電源ON確認DLY
AND R1007                ; 単軸RB 主電源投入準備完了
ANB B10A3                ; TP単軸RB ﾃｨｰﾁﾝｸﾞPL
OUT MR54015              ; 単軸RB 主電源投入準備完了
;ﾃｨｰﾁﾝｸﾞ
LDP B0A3                 ; TP単軸RB ﾃｨｰﾁﾝｸﾞPB
ANB B10A3                ; TP単軸RB ﾃｨｰﾁﾝｸﾞPL
LD B10A3                 ; TP単軸RB ﾃｨｰﾁﾝｸﾞPL
ANPB B0A3                ; TP単軸RB ﾃｨｰﾁﾝｸﾞPB
ORL
AND MR1200               ; 手動ﾓｰﾄﾞ
OUT B10A3                ; TP単軸RB ﾃｨｰﾁﾝｸﾞPL
TMR @4 #10               ; 単軸RB ｲﾝﾀｰﾛｯｸOFF
;異常
LD T1540                 ; 単軸RB ｻｰﾎﾞONﾀｲﾑｵｰﾊﾞｰ
OUT MR54100              ; 単軸 RB ｻｰﾎﾞONﾀｲﾑｵｰﾊﾞｰ
LD R53211                ; 単軸RB ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ実行中
ANB MR54207              ; 単軸RB ｽﾀｰﾄ指令
LDB R53211               ; 単軸RB ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ実行中
AND MR54207              ; 単軸RB ｽﾀｰﾄ指令
ORL
ANB B10A3                ; TP単軸RB ﾃｨｰﾁﾝｸﾞPL
MPS
TMR #1534 #10            ; 単軸RB ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ実行異常
MPP
AND T1534                ; 単軸RB ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ実行異常
OUT MR54101              ; 単軸RB ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ実行異常
LD T1542                 ; 後工程受渡PP 動作ﾀｲﾑｵｰﾊﾞｰ
OUT MR54102              ; 後工程受渡PP 動作ﾀｲﾑｵｰﾊﾞｰ
LD T1543                 ; 中間工程反転UT  動作ﾀｲﾑｵｰﾊﾞｰ
OUT MR54103              ; 中間工程反転UT  動作ﾀｲﾑｵｰﾊﾞｰ
LD T1544                 ; 次工程搬送PP  動作ﾀｲﾑｵｰﾊﾞｰ
OUT MR54104              ; 次工程搬送PP  動作ﾀｲﾑｵｰﾊﾞｰ
;ｲﾆｼｬﾙﾃﾞｰﾀ処理
LD R53908                ; 単軸RB ｲﾆｼｬﾙﾃﾞｰﾀ処理要求
OR MR54200               ; 単軸RB ｲﾆｼｬﾙﾃﾞｰﾀ処理
AND MR714                ; PLC全ﾕﾆｯﾄ正常
ANB MR54201              ; 単軸RB ﾘﾓｰﾄREADY
OUT MR54200              ; 単軸RB ｲﾆｼｬﾙﾃﾞｰﾀ処理
LD R53911                ; 単軸RB ﾘﾓｰﾄREADY
OUT MR54201              ; 単軸RB ﾘﾓｰﾄREADY
;ｺﾝﾄﾛｰﾗ正常
LD MR54001               ; 単軸RB CPU OK状態
ANB MR54003              ; 単軸RB ｱﾗｰﾑ
ANB MR54013              ; 単軸RB ﾊﾞｯﾃﾘｰｱﾗｰﾑ
ANB MR54011              ; 単軸 原点復帰未完
ANB MR54010              ; 単軸RB 手動ﾓｰﾄﾞ
ANB MR54100              ; 単軸 RB ｻｰﾎﾞONﾀｲﾑｵｰﾊﾞｰ
ANB MR54101              ; 単軸RB ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ実行異常
ANB MR54102              ; 後工程受渡PP 動作ﾀｲﾑｵｰﾊﾞｰ
ANB MR54103              ; 中間工程反転UT  動作ﾀｲﾑｵｰﾊﾞｰ
ANB MR54104              ; 次工程搬送PP  動作ﾀｲﾑｵｰﾊﾞｰ
OUT MR54202              ; 単軸RB ｺﾝﾄﾛｰﾗ正常
;ｺﾝﾄﾛｰﾗ準備完了
LD MR54015               ; 単軸RB 主電源投入準備完了
ANB MR54000              ; 単軸RB 非常停止入力状態
AND MR54002              ; 単軸RB ｻｰﾎﾞON
OUT MR54203              ; 単軸RB 準備完了
;ｻｰﾎﾞON
LD MR54015               ; 単軸RB 主電源投入準備完了
ANB MR54000              ; 単軸RB 非常停止入力状態
AND MR54001              ; 単軸RB CPU OK状態
ANB MR54013              ; 単軸RB ﾊﾞｯﾃﾘｰｱﾗｰﾑ
ANB MR54002              ; 単軸RB ｻｰﾎﾞON
OUT MR54204              ; 単軸RB ｻｰﾎﾞON
TMR #1540 #10            ; 単軸RB ｻｰﾎﾞONﾀｲﾑｵｰﾊﾞｰ
;
LD MR54015               ; 単軸RB 主電源投入準備完了
MPS
AND MR54002              ; 単軸RB ｻｰﾎﾞON
TMR @0 #2                ; 単軸RB ｻｰﾎﾞON確認
MRD
AND R53208               ; 単軸RB 自動ﾓｰﾄﾞ
TMR @1 #5                ; 単軸RB 自動ﾓｰﾄﾞ確認
MRD
LD R53212                ; 単軸RB ﾌﾟﾛｸﾞﾗﾑﾘｾｯﾄ状態
OR @T2                   ; 単軸RB ﾌﾟﾛｸﾞﾗﾑﾘｾｯﾄ状態
ANL
TMR @2 #5                ; 単軸RB ﾌﾟﾛｸﾞﾗﾑﾘｾｯﾄ状態
MPP
AND R53211               ; 単軸RB ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ実行中
TMR @3 #5                ; 単軸RB ﾛﾎﾞｯﾄﾌﾟﾛｸﾞﾗﾑ実行中
;自動ﾓｰﾄﾞ切替
LD MR54015               ; 単軸RB 主電源投入準備完了
AND @T0                  ; 単軸RB ｻｰﾎﾞON確認
ANB R53208               ; 単軸RB 自動ﾓｰﾄﾞ
OUT MR54205              ; 単軸RB 自動ﾓｰﾄﾞ切替指令
;ﾌﾟﾛｸﾞﾗﾑﾘｾｯﾄ→ｽﾀｰﾄ
LD @T1                   ; 単軸RB 自動ﾓｰﾄﾞ確認
ANB @T2                  ; 単軸RB ﾌﾟﾛｸﾞﾗﾑﾘｾｯﾄ状態
OUT MR54206              ; 単軸RB ﾌﾟﾛｸﾞﾗﾑﾘｾｯﾄ指令
LDP @T2                  ; 単軸RB ﾌﾟﾛｸﾞﾗﾑﾘｾｯﾄ状態
OR MR54207               ; 単軸RB ｽﾀｰﾄ指令
AND @T2                  ; 単軸RB ﾌﾟﾛｸﾞﾗﾑﾘｾｯﾄ状態
AND MR54203              ; 単軸RB 準備完了
OUT MR54207              ; 単軸RB ｽﾀｰﾄ指令
;<h1/>手動
LD MR2000                ; 手動ﾓｰﾄﾞ 操作可能
MC
;後工程搬送PP 横移動
LDP B01D0                ; TP後工程受渡PP 待機位置 PB
ANB B01D1                ; TP後工程受渡PP 取出位置 PB
ANB B01D2                ; TP後工程受渡PP 受渡位置 PB
ANB B01D6                ; TP後工程受渡PP 下降 PB
ANB B01D7                ; TP後工程受渡PP 上昇 PB
OUT MR1800               ; 後工程受渡PP 待機位置_Man
LDP B01D1                ; TP後工程受渡PP 取出位置 PB
ANB B01D0                ; TP後工程受渡PP 待機位置 PB
ANB B01D2                ; TP後工程受渡PP 受渡位置 PB
ANB B01D6                ; TP後工程受渡PP 下降 PB
ANB B01D7                ; TP後工程受渡PP 上昇 PB
OUT MR1801               ; 後工程受渡PP 取出位置_Man
LDP B01D2                ; TP後工程受渡PP 受渡位置 PB
ANB B01D0                ; TP後工程受渡PP 待機位置 PB
ANB B01D1                ; TP後工程受渡PP 取出位置 PB
ANB B01D6                ; TP後工程受渡PP 下降 PB
ANB B01D7                ; TP後工程受渡PP 上昇 PB
OUT MR1802               ; 後工程受渡PP 受渡位置_Man
;後工程搬送PP 上下
LDP B01D6                ; TP後工程受渡PP 下降 PB
ANB B01D0                ; TP後工程受渡PP 待機位置 PB
ANB B01D1                ; TP後工程受渡PP 取出位置 PB
ANB B01D2                ; TP後工程受渡PP 受渡位置 PB
ANB B01D7                ; TP後工程受渡PP 上昇 PB
OUT MR1810               ; 後工程受渡PP 下降_Man
LDP B01D7                ; TP後工程受渡PP 上昇 PB
ANB B01D0                ; TP後工程受渡PP 待機位置 PB
ANB B01D1                ; TP後工程受渡PP 取出位置 PB
ANB B01D2                ; TP後工程受渡PP 受渡位置 PB
ANB B01D6                ; TP後工程受渡PP 下降 PB
OUT MR1811               ; 後工程受渡PP 上昇_Man
;中間工程反転ﾕﾆｯﾄ
LDP B01E0                ; TP中間反転ﾕﾆｯﾄ 待機位置 PB
ANB B01E1                ; TP中間反転ﾕﾆｯﾄ 受取位置 PB
ANB B01E2                ; TP中間反転ﾕﾆｯﾄ 受渡位置 PB
OUT MR1900               ; 中間反転ﾕﾆｯﾄ 待機位置_Man
LDP B01E1                ; TP中間反転ﾕﾆｯﾄ 受取位置 PB
ANB B01E0                ; TP中間反転ﾕﾆｯﾄ 待機位置 PB
ANB B01E2                ; TP中間反転ﾕﾆｯﾄ 受渡位置 PB
OUT MR1901               ; 中間反転ﾕﾆｯﾄ 受取位置_Man
LDP B01E2                ; TP中間反転ﾕﾆｯﾄ 受渡位置 PB
ANB B01E0                ; TP中間反転ﾕﾆｯﾄ 待機位置 PB
ANB B01E1                ; TP中間反転ﾕﾆｯﾄ 受取位置 PB
OUT MR1902               ; 中間反転ﾕﾆｯﾄ 受渡位置_Man
;前工程搬送PP 上下移動
LDP B07D0                ; TP次工程受渡PP 取出位置 PB
ANB B07D1                ; TP次工程受渡PP 受渡位置 PB
OUT MR42800              ; 次工程受渡PP 受取位置_Man
LDP B07D1                ; TP次工程受渡PP 受渡位置 PB
ANB B07D0                ; TP次工程受渡PP 取出位置 PB
OUT MR42801              ; 次工程受渡PP 受渡位置_Man
MCR
;<h1/>後工程受渡PP
;動作IL
LDB LR409                ; <A073>後工程 単軸ﾛﾎﾞｯﾄｺﾝﾄﾛｰﾗ異常
MPS
AND MR54710              ; 後工程PP 上昇端
MPS
LD MR55100               ; 中間工程反転UT 待機位置
OR MR1500                ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
AND T700                 ; 中間工程　ﾜｰｸ回転 反転端
ANL
OUT MR54300              ; 後工程搬送PP 受取横移動可
MPP
LD MR55100               ; 中間工程反転UT 待機位置
OR MR1500                ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
AND T700                 ; 中間工程　ﾜｰｸ回転 反転端
OR R53309                ; 後工程PP 領域判定2[ﾜｰｸ取出干渉外
ANL
OUT MR54312              ; 後工程搬送PP 待機/受渡横移動可
MRD
LD MR54611               ; 後工程受渡PP 取出 上昇位置
LD MR55100               ; 中間工程反転UT 待機位置
LD MR55102               ; 中間工程反転UT 受渡位置
AND T700                 ; 中間工程　ﾜｰｸ回転 反転端
AND T703                 ; 中間工程 ﾜｰｸｶﾞｲﾄﾞｽﾗｲﾄﾞ 戻
ORL
ANL
ANL
OUT MR54301              ; 後工程受渡PP 受取下降可
MRD
LD MR54612               ; 後工程受渡PP 受渡 上昇位置
OR R85800                ; 後工程受渡PP 受渡下降_1ｻｲｸﾙ
AND T221                 ; 4st 送りCV受取ｽﾄｯﾊﾟ 上昇端
LD T232                  ; 4st 送りCV受取ｽﾄｯﾊﾟ 有確認
AND MR11012              ; 4st 送りCV受取 L/R位置決め 出端
OR T233                  ; 4st 送りCV受取ｽﾄｯﾊﾟ 無確認
ANL
ANL
OUT MR54302              ; 後工程受渡PP 受渡下降可
MPP
OUT MR54311              ; 後工程受渡PP 上昇可
LDB MR54301              ; 後工程受渡PP 受取下降可
ANB MR54302              ; 後工程受渡PP 受渡下降可
INV
OUT MR54310              ; 後工程受渡PP 下降可
;移動補助
LDP MR1800               ; 後工程受渡PP 待機位置_Man
ORP MR14105              ; 後工程PP 待機位置へ移動_ORG
ORP R85406               ; 後工程受渡PP 待機位置移動_1ｻｲｸﾙ
ORP R85803               ; 後工程受渡PP 待機位置_1ｻｲｸﾙ
ORP MR35312              ; 後工程PP 待機位置へ移動_AUT
AND MR54312              ; 後工程搬送PP 待機/受渡横移動可
OUT MR54400              ; 後工程受渡PP 待機位置 補助
@MOV #1 DM5400           ; 後工程受渡PP 移動No
LDP MR1801               ; 後工程受渡PP 取出位置_Man
AND MR54300              ; 後工程搬送PP 受取横移動可
ORP R85400               ; 後工程受渡PP ﾜｰｸ取出移動_1ｻｲｸﾙ
LDP R85405               ; 後工程受渡PP 取出後上昇_1ｻｲｸﾙ
ORP MR1811               ; 後工程受渡PP 上昇_Man
AND MR54601              ; 後工程受渡PP 取出 下降位置
ORL
OUT MR54401              ; 後工程受渡PP 取出位置 補助
@MOV #11 DM5400          ; 後工程受渡PP 移動No
LDP MR1802               ; 後工程受渡PP 受渡位置_Man
ORP MR35212              ; 後工程PP 受渡ｽﾄｯﾊﾟへ移動_1ｻｲｸﾙ
AND MR54312              ; 後工程搬送PP 待機/受渡横移動可
LDP R85802               ; 後工程受渡PP 受渡後上昇_1ｻｲｸﾙ
ORP MR1811               ; 後工程受渡PP 上昇_Man
AND MR54602              ; 後工程受渡PP 受渡 下降位置
ORL
OUT MR54402              ; 後工程受渡PP 受渡位置 補助
@MOV #21 DM5400          ; 後工程受渡PP 移動No
LDP MR1810               ; 後工程受渡PP 下降_Man
ORP R85402               ; 後工程受渡PP ﾜｰｸ取出下降_1ｻｲｸﾙ
AND MR54301              ; 後工程受渡PP 受取下降可
OUT MR54410              ; 後工程受渡PP 取出下降 補助
@MOV #10 DM5400          ; 後工程受渡PP 移動No
LDP MR1810               ; 後工程受渡PP 下降_Man
ORP R85800               ; 後工程受渡PP 受渡下降_1ｻｲｸﾙ
AND MR54302              ; 後工程受渡PP 受渡下降可
OUT MR54411              ; 後工程受渡PP 受渡下降 補助
@MOV #20 DM5400          ; 後工程受渡PP 移動No
;上昇
LDP MR1811               ; 後工程受渡PP 上昇_Man
ANB MR54601              ; 後工程受渡PP 取出 下降位置
ANB MR54602              ; 後工程受渡PP 受渡 下降位置
ORP MR14103              ; 後工程PP 上昇_ORG
AND MR54311              ; 後工程受渡PP 上昇可
OUT MR54414              ; 後工程受け渡PP 上昇 補助
@MOV #2 DM5400           ; 後工程受渡PP 移動No
LDB MR54400              ; 後工程受渡PP 待機位置 補助
ANB MR54401              ; 後工程受渡PP 取出位置 補助
ANB MR54402              ; 後工程受渡PP 受渡位置 補助
ANB MR54410              ; 後工程受渡PP 取出下降 補助
ANB MR54411              ; 後工程受渡PP 受渡下降 補助
ANB MR54414              ; 後工程受け渡PP 上昇 補助
INV
ANB LR409                ; <A073>後工程 単軸ﾛﾎﾞｯﾄｺﾝﾄﾛｰﾗ異常
OUT MR54415              ; 後工程搬送PP 移動開始まとめ
LDP MR54415              ; 後工程搬送PP 移動開始まとめ
OR MR54500               ; 後工程受渡PP 移動中
AND MR54203              ; 単軸RB 準備完了
ANB MR54509              ; 後工程受渡PP 移動完了
ANB T1542                ; 後工程受渡PP 動作ﾀｲﾑｵｰﾊﾞｰ
OUT MR54500              ; 後工程受渡PP 移動中
@MOV #0 DM5401           ; 後工程受渡PP 移動完了No
TMH @10 #5               ; 後工程受渡PP 移動DLY
MPS
AND @T10                 ; 後工程受渡PP 移動DLY
OUT MR54502              ; 後工程受渡PP ﾌﾟﾛｸﾞﾗﾑ ｽﾄﾛｰﾌﾞON
MPP
ANB LR10015              ; 動作ﾀｲﾑｵｰﾊﾞ無効
TMR #1542 #1000          ; 後工程受渡PP 動作ﾀｲﾑｵｰﾊﾞｰ
LD R53401                ; 後工程受渡PP 移動完了
OR MR54503               ; 後工程受渡PP 移動完了確認
AND MR54500              ; 後工程受渡PP 移動中
OUT MR54503              ; 後工程受渡PP 移動完了確認
@MOV DM5400 DM5401       ; 後工程受渡PP 移動No  後工程受渡PP 移動完了No
OUT MR54509              ; 後工程受渡PP 移動完了
;停止処理
LDF MR54002              ; 単軸RB ｻｰﾎﾞON
@MOV #0 DM5401           ; 後工程受渡PP 移動完了No
;動作可能
LDB LR409                ; <A073>後工程 単軸ﾛﾎﾞｯﾄｺﾝﾄﾛｰﾗ異常
ANB MR54500              ; 後工程受渡PP 移動中
ANB MR54509              ; 後工程受渡PP 移動完了
ANB R53400               ; 後工程搬送PP ﾌﾟﾛｸﾞﾗﾑ受取完了
ANB R53401               ; 後工程受渡PP 移動完了
OUT MR54514              ; 後工程受渡PP 動作可能
MPS
OUT MR54515              ; 後工程受渡PP 停止中
MPP
LD MR54515               ; 後工程受渡PP 停止中
AND= DM5400 DM5401       ; 後工程受渡PP 移動No  後工程受渡PP 移動完了No
ANL
OUT MR54513              ; 後工程受渡PP ﾎﾟｲﾝﾄ一致
;位置決め完了
LD MR54513               ; 後工程受渡PP ﾎﾟｲﾝﾄ一致
AND= DM5401 #1           ; 後工程受渡PP 移動完了No
AND R53308               ; 後工程PP 領域判定1[上昇端(軸2)]
OUT MR54610              ; 後工程受渡PP 待機位置
LD MR54513               ; 後工程受渡PP ﾎﾟｲﾝﾄ一致
MPS
AND= DM5401 #10          ; 後工程受渡PP 移動完了No
OUT MR54601              ; 後工程受渡PP 取出 下降位置
MPP
LD= DM5401 #11           ; 後工程受渡PP 移動完了No
AND R53308               ; 後工程PP 領域判定1[上昇端(軸2)]
ANL
OUT MR54611              ; 後工程受渡PP 取出 上昇位置
LD MR54513               ; 後工程受渡PP ﾎﾟｲﾝﾄ一致
MPS
AND= DM5401 #20          ; 後工程受渡PP 移動完了No
OUT MR54602              ; 後工程受渡PP 受渡 下降位置
MPP
LD= DM5401 #21           ; 後工程受渡PP 移動完了No
AND R53308               ; 後工程PP 領域判定1[上昇端(軸2)]
ANL
OUT MR54612              ; 後工程受渡PP 受渡 上昇位置
;下降中
LD MR54500               ; 後工程受渡PP 移動中
MPS
AND= DM5400 #10          ; 後工程受渡PP 移動No
OUT MR50500              ; 後工程PP 取出 下降中
MRD
AND= DM5400 #20          ; 後工程受渡PP 移動No
OUT MR50501              ; 後工程PP 受渡 下降中
MPP
AND= DM5400 #11          ; 後工程受渡PP 移動No
OUT MR50510              ; 後工程PP 取出 移動中
;干渉外
LD MR54201               ; 単軸RB ﾘﾓｰﾄREADY
MPS
LD R53308                ; 後工程PP 領域判定1[上昇端(軸2)]
ANB MR50500              ; 後工程PP 取出 下降中
ANB MR50501              ; 後工程PP 受渡 下降中
ANL
OUT MR54710              ; 後工程PP 上昇端
MRD
LD R53309                ; 後工程PP 領域判定2[ﾜｰｸ取出干渉外
ANB MR50510              ; 後工程PP 取出 移動中
ANB MR50500              ; 後工程PP 取出 下降中
ANL
OUT MR54711              ; 後工程PP ﾜｰｸ取出干渉外
MPP
LD R53308                ; 後工程PP 領域判定1[上昇端(軸2)]
OR MR54601               ; 後工程受渡PP 取出 下降位置
ANB MR50501              ; 後工程PP 受渡 下降中
ANL
OUT MR54712              ; 後工程PP 受取ｽﾄｯﾊﾟ 干渉外
;<h1/>中間工程反転ﾕﾆｯﾄ
;動作IL
LDB LR409                ; <A073>後工程 単軸ﾛﾎﾞｯﾄｺﾝﾄﾛｰﾗ異常
MPS
LD MR7308                ; Aﾖﾘ 中間工程反転ﾕﾆｯﾄ 干渉外
OR MR1500                ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
LD MR54710               ; 後工程PP 上昇端
OR MR54711               ; 後工程PP ﾜｰｸ取出干渉外
ANL
ANL
OUT MR54700              ; 中間工程反転ﾕﾆｯﾄ 待機移動可
MRD
LD MR7310                ; Aﾖﾘ 中間工程反転ﾕﾆｯﾄﾁｬｯｸ要求
OR MR7308                ; Aﾖﾘ 中間工程反転ﾕﾆｯﾄ 干渉外
OR MR1500                ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
LD MR54710               ; 後工程PP 上昇端
OR MR54711               ; 後工程PP ﾜｰｸ取出干渉外
ANL
ANL
OUT MR54701              ; 中間工程反転ﾕﾆｯﾄ 受取移動可
MPP
LD MR7308                ; Aﾖﾘ 中間工程反転ﾕﾆｯﾄ 干渉外
LD MR54611               ; 後工程受渡PP 取出 上昇位置
OR MR54711               ; 後工程PP ﾜｰｸ取出干渉外
ANL
OR MR1500                ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
ANL
OUT MR54702              ; 中間工程反転ﾕﾆｯﾄ 受渡移動可
;移動補助
LDP MR1900               ; 中間反転ﾕﾆｯﾄ 待機位置_Man
ORP MR14007              ; 中間工程 待機位置_ORG
ORP R86404               ; 中間工程反転ﾕﾆｯﾄ 待機位置_1ｻｲｸﾙ
ORP R86805               ; 中間工程反転ﾕﾆｯﾄ 待機位置_1ｻｲｸﾙ
AND MR54700              ; 中間工程反転ﾕﾆｯﾄ 待機移動可
OUT MR54800              ; 中間反転ﾕﾆｯﾄ 待機位置 補助
@MOV #30 DM5410          ; 中間工程反転UT 移動No
LDP MR1901               ; 中間反転ﾕﾆｯﾄ 受取位置_Man
ORP R86400               ; 中間工程反転ﾕﾆｯﾄ 受取位置_1ｻｲｸﾙ
AND MR54701              ; 中間工程反転ﾕﾆｯﾄ 受取移動可
OUT MR54801              ; 中間反転ﾕﾆｯﾄ 受取位置 補助
@MOV #31 DM5410          ; 中間工程反転UT 移動No
LDP MR1902               ; 中間反転ﾕﾆｯﾄ 受渡位置_Man
ORP R86801               ; 中間工程反転ﾕﾆｯﾄ 受渡位置_1ｻｲｸﾙ
AND MR54702              ; 中間工程反転ﾕﾆｯﾄ 受渡移動可
OUT MR54802              ; 中間反転ﾕﾆｯﾄ 受渡位置 補助
@MOV #32 DM5410          ; 中間工程反転UT 移動No
LDB MR54800              ; 中間反転ﾕﾆｯﾄ 待機位置 補助
ANB MR54801              ; 中間反転ﾕﾆｯﾄ 受取位置 補助
ANB MR54802              ; 中間反転ﾕﾆｯﾄ 受渡位置 補助
INV
ANB LR409                ; <A073>後工程 単軸ﾛﾎﾞｯﾄｺﾝﾄﾛｰﾗ異常
OUT MR54815              ; 中間工程反転ﾕﾆｯﾄ 移動開始まとめ
;軸移動
LDP MR54815              ; 中間工程反転ﾕﾆｯﾄ 移動開始まとめ
OR MR54900               ; 中間工程反転UT 移動中
AND MR54203              ; 単軸RB 準備完了
ANB MR54909              ; 中間工程反転UT 移動完了
ANB T1543                ; 中間工程反転UT  動作ﾀｲﾑｵｰﾊﾞｰ
OUT MR54900              ; 中間工程反転UT 移動中
@MOV #0 DM5411           ; 中間工程反転UT 移動完了No
TMH @12 #5               ; 中間工程反転UT 移動DLY
MPS
AND @T12                 ; 中間工程反転UT 移動DLY
OUT MR54902              ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑ ｽﾄﾛｰﾌﾞON
MPP
ANB LR10015              ; 動作ﾀｲﾑｵｰﾊﾞ無効
TMR #1543 #300           ; 中間工程反転UT  動作ﾀｲﾑｵｰﾊﾞｰ
LD R53601                ; 中間工程反転UT 移動完了
OR MR54903               ; 中間工程反転UT 移動完了確認
AND MR54900              ; 中間工程反転UT 移動中
OUT MR54903              ; 中間工程反転UT 移動完了確認
@MOV DM5410 DM5411       ; 中間工程反転UT 移動No  中間工程反転UT 移動完了No
OUT MR54909              ; 中間工程反転UT 移動完了
;停止処理
LDF MR54002              ; 単軸RB ｻｰﾎﾞON
@MOV #0 DM5411           ; 中間工程反転UT 移動完了No
;動作可能
LDB LR409                ; <A073>後工程 単軸ﾛﾎﾞｯﾄｺﾝﾄﾛｰﾗ異常
ANB MR54900              ; 中間工程反転UT 移動中
ANB MR54909              ; 中間工程反転UT 移動完了
ANB R53600               ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑ受取完了
ANB R53601               ; 中間工程反転UT 移動完了
OUT MR54914              ; 中間工程反転UT 動作可能
MPS
OUT MR54915              ; 中間工程反転UT 停止中
MPP
LD MR54915               ; 中間工程反転UT 停止中
AND= DM5410 DM5411       ; 中間工程反転UT 移動No  中間工程反転UT 移動完了No
ANL
OUT MR54913              ; 中間工程反転UT ﾎﾟｲﾝﾄ一致
;位置決め完了
LD MR54913               ; 中間工程反転UT ﾎﾟｲﾝﾄ一致
MPS
AND= DM5411 #30          ; 中間工程反転UT 移動完了No
OUT MR55100              ; 中間工程反転UT 待機位置
MRD
AND= DM5411 #31          ; 中間工程反転UT 移動完了No
OUT MR55101              ; 中間工程反転UT 受取位置
MPP
AND= DM5411 #32          ; 中間工程反転UT 移動完了No
OUT MR55102              ; 中間工程反転UT 受渡位置
;<h1/>次工程搬送PP
;動作IL
LDB LR409                ; <A073>後工程 単軸ﾛﾎﾞｯﾄｺﾝﾄﾛｰﾗ異常
AND T801                 ; 次工程搬送PP 上昇端
ANB R17004               ; 次工程搬送PP 下降
OUT MR55700              ; 次工程搬送PP 移動可
;移動補助
LDP MR42800              ; 次工程受渡PP 受取位置_Man
ORP MR34003              ; 次工程PP 取出 移動
ORP R87400               ; 次工程受渡PP ﾜｰｸ取出移動_1ｻｲｸﾙ
ORP MR35812              ; 次工程PP 取出へ移動_AUT
AND MR55700              ; 次工程搬送PP 移動可
OUT MR55800              ; 次工程受渡PP 受取位置 補助
@MOV #40 DM5420          ; 次工程搬送PP 移動No
LDP MR42801              ; 次工程受渡PP 受渡位置_Man
ORP R87800               ; 次工程受渡PP ﾜｰｸ受渡移動_1ｻｲｸﾙ
AND MR55700              ; 次工程搬送PP 移動可
OUT MR55801              ; 次工程受渡PP 受渡位置 補助
@MOV #41 DM5420          ; 次工程搬送PP 移動No
LDB MR55800              ; 次工程受渡PP 受取位置 補助
ANB MR55801              ; 次工程受渡PP 受渡位置 補助
INV
ANB LR409                ; <A073>後工程 単軸ﾛﾎﾞｯﾄｺﾝﾄﾛｰﾗ異常
OUT MR55815              ; 次工程搬送PP 移動開始まとめ
;軸移動
LDP MR55815              ; 次工程搬送PP 移動開始まとめ
OR MR55900               ; 次工程搬送PP 移動中
AND MR54203              ; 単軸RB 準備完了
ANB MR55909              ; 次工程搬送PP 移動完了
ANB T1544                ; 次工程搬送PP  動作ﾀｲﾑｵｰﾊﾞｰ
OUT MR55900              ; 次工程搬送PP 移動中
@MOV #0 DM5421           ; 次工程搬送PP 移動完了No
TMH @14 #5               ; 次工程搬送PP 移動DLY
MPS
AND @T14                 ; 次工程搬送PP 移動DLY
OUT MR55902              ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑ ｽﾄﾛｰﾌﾞON
MPP
ANB LR10015              ; 動作ﾀｲﾑｵｰﾊﾞ無効
TMR #1544 #6000          ; 次工程搬送PP  動作ﾀｲﾑｵｰﾊﾞｰ
LD R53701                ; 次工程搬送PP 移動完了
OR MR55903               ; 次工程搬送PP 移動完了確認
AND MR55900              ; 次工程搬送PP 移動中
OUT MR55903              ; 次工程搬送PP 移動完了確認
@MOV DM5420 DM5421       ; 次工程搬送PP 移動No  次工程搬送PP 移動完了No
OUT MR55909              ; 次工程搬送PP 移動完了
;停止処理
LDF MR54002              ; 単軸RB ｻｰﾎﾞON
@MOV #0 DM5421           ; 次工程搬送PP 移動完了No
;動作可能
LDB LR409                ; <A073>後工程 単軸ﾛﾎﾞｯﾄｺﾝﾄﾛｰﾗ異常
ANB MR55900              ; 次工程搬送PP 移動中
ANB MR55909              ; 次工程搬送PP 移動完了
ANB R53700               ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑ受取完了
ANB R53701               ; 次工程搬送PP 移動完了
OUT MR55914              ; 次工程搬送PP 動作可能
MPS
OUT MR55915              ; 次工程搬送PP 停止中
MPP
LD MR55915               ; 次工程搬送PP 停止中
AND= DM5420 DM5421       ; 次工程搬送PP 移動No  次工程搬送PP 移動完了No
ANL
OUT MR55913              ; 次工程搬送PP ﾎﾟｲﾝﾄ一致
;位置決め完了
LD MR55913               ; 次工程搬送PP ﾎﾟｲﾝﾄ一致
MPS
AND= DM5421 #40          ; 次工程搬送PP 移動完了No
OUT MR55600              ; 次工程搬送PP 取出位置
MPP
AND= DM5421 #41          ; 次工程搬送PP 移動完了No
OUT MR55601              ; 次工程搬送PP 受渡位置
;干渉外
LD R53314                ; 次工程PP 領域判定8[受渡位置]
ANB T801                 ; 次工程搬送PP 上昇端
OUT MR55611              ; 次工程へ  進入中
;<h1/>出力
LD MR54200               ; 単軸RB ｲﾆｼｬﾙﾃﾞｰﾀ処理
OR MR54001               ; 単軸RB CPU OK状態
OUT R63200               ; 単軸RB 非常停止入力(ON =NORMAL)
LD MR54204               ; 単軸RB ｻｰﾎﾞON
OUT R63201               ; 単軸RB ｻｰﾎﾞON
LD MR54200               ; 単軸RB ｲﾆｼｬﾙﾃﾞｰﾀ処理
OR MR54001               ; 単軸RB CPU OK状態
LDB B10A3                ; TP単軸RB ﾃｨｰﾁﾝｸﾞPL
LD B10A3                 ; TP単軸RB ﾃｨｰﾁﾝｸﾞPL
AND @T4                  ; 単軸RB ｲﾝﾀｰﾛｯｸOFF
ORL
ANL
OUT R63209               ; 単軸RB ｲﾝﾀｰﾛｯｸ入力
LD MR54207               ; 単軸RB ｽﾀｰﾄ指令
OUT R63210               ; 単軸RB ｽﾀｰﾄ
LD MR54205               ; 単軸RB 自動ﾓｰﾄﾞ切替指令
OUT R63211               ; 単軸RB 自動ﾓｰﾄﾞ切替
LD MR54206               ; 単軸RB ﾌﾟﾛｸﾞﾗﾑﾘｾｯﾄ指令
OUT R63213               ; 単軸RB ﾌﾟﾛｸﾞﾗﾑﾘｾｯﾄ
LD MR54200               ; 単軸RB ｲﾆｼｬﾙﾃﾞｰﾀ処理
OUT R63908               ; 単軸RB ｲﾆｼｬﾙﾃﾞｰﾀ処理完了ﾌﾗｸﾞ
;後工程搬送PP
LD DM5400.0              ; 後工程受渡PP 移動No
OUT R63400               ; 後工程受渡PP ﾌﾟﾛｸﾞﾗﾑNo.1
LD DM5400.1              ; 後工程受渡PP 移動No
OUT R63401               ; 後工程受渡PP ﾌﾟﾛｸﾞﾗﾑNo.2
LD DM5400.2              ; 後工程受渡PP 移動No
OUT R63402               ; 後工程受渡PP ﾌﾟﾛｸﾞﾗﾑNo.3
LD DM5400.3              ; 後工程受渡PP 移動No
OUT R63403               ; 後工程受渡PP ﾌﾟﾛｸﾞﾗﾑNo.4
LD DM5400.4              ; 後工程受渡PP 移動No
OUT R63404               ; 後工程受渡PP ﾌﾟﾛｸﾞﾗﾑNo.5
LD DM5400.5              ; 後工程受渡PP 移動No
OUT R63405               ; 後工程受渡PP ﾌﾟﾛｸﾞﾗﾑNo.6
LD DM5400.6              ; 後工程受渡PP 移動No
OUT R63406               ; 後工程受渡PP ﾌﾟﾛｸﾞﾗﾑNo.7
LD DM5400.7              ; 後工程受渡PP 移動No
OUT R63407               ; 後工程受渡PP ﾌﾟﾛｸﾞﾗﾑNo.8
LD MR54502               ; 後工程受渡PP ﾌﾟﾛｸﾞﾗﾑ ｽﾄﾛｰﾌﾞON
OUT R63408               ; 後工程受渡PP ﾌﾟﾛｸﾞﾗﾑ ｽﾄﾛｰﾌﾞON
;中間工程反転ﾕﾆｯﾄ
LD DM5410.0              ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑNo
OUT R63600               ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑNo.1
LD DM5410.1              ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑNo
OUT R63601               ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑNo.2
LD DM5410.2              ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑNo
OUT R63602               ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑNo.3
LD DM5410.3              ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑNo
OUT R63603               ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑNo.4
LD DM5410.4              ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑNo
OUT R63604               ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑNo.5
LD DM5410.5              ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑNo
OUT R63605               ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑNo.6
LD DM5410.6              ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑNo
OUT R63606               ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑNo.7
LD DM5410.7              ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑNo
OUT R63607               ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑNo.8
LD MR54902               ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑ ｽﾄﾛｰﾌﾞON
OUT R63608               ; 中間工程反転UT ﾌﾟﾛｸﾞﾗﾑ ｽﾄﾛｰﾌﾞON
;次工程搬送PP
LD DM5420.0              ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑNo
OUT R63700               ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑNo.1
LD DM5420.1              ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑNo
OUT R63701               ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑNo.2
LD DM5420.2              ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑNo
OUT R63702               ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑNo.3
LD DM5420.3              ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑNo
OUT R63703               ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑNo.4
LD DM5420.4              ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑNo
OUT R63704               ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑNo.5
LD DM5420.5              ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑNo
OUT R63705               ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑNo.6
LD DM5420.6              ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑNo
OUT R63706               ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑNo.7
LD DM5420.7              ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑNo
OUT R63707               ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑNo.8
LD MR55902               ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑ ｽﾄﾛｰﾌﾞON
OUT R63708               ; 次工程搬送PP ﾌﾟﾛｸﾞﾗﾑ ｽﾄﾛｰﾌﾞON
;動作速度
LD CR2002                ; 常時ON
MPS
MOV.D #1 DM13078         ; 単軸RB 動作速度
MPP
LD<=.D #0 DM506          ; TP単軸RB 移動速度[%]
AND<=.D DM506 #100       ; TP単軸RB 移動速度[%]
ANL
MOV.D DM506 DM13078      ; TP単軸RB 移動速度[%]  単軸RB 動作速度
;TP出力
;後工程搬送PP
LD MR54610               ; 後工程受渡PP 待機位置
LD= DM5400 #1            ; 後工程受渡PP 移動No
AND MR54500              ; 後工程受渡PP 移動中
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B11D0                ; TP後工程受渡PP 待機位置 PL
LD MR54611               ; 後工程受渡PP 取出 上昇位置
LD= DM5400 #11           ; 後工程受渡PP 移動No
AND MR54500              ; 後工程受渡PP 移動中
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B11D1                ; TP後工程受渡PP 取出位置 PL
LD MR54612               ; 後工程受渡PP 受渡 上昇位置
LD= DM5400 #21           ; 後工程受渡PP 移動No
AND MR54500              ; 後工程受渡PP 移動中
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B11D2                ; TP後工程受渡PP 受渡位置 PL
LDB MR54601              ; 後工程受渡PP 取出 下降位置
ANB MR54602              ; 後工程受渡PP 受渡 下降位置
INV
LD<> DM5400 #10          ; 後工程受渡PP 移動No
AND<> DM5400 #20         ; 後工程受渡PP 移動No
INV
AND MR54500              ; 後工程受渡PP 移動中
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B11D6                ; TP後工程受渡PP 下降 PL
LD R53308                ; 後工程PP 領域判定1[上昇端(軸2)]
ANB MR54500              ; 後工程受渡PP 移動中
LD= DM5400 #2            ; 後工程受渡PP 移動No
LD= DM5400 #11           ; 後工程受渡PP 移動No
OR= DM5400 #21           ; 後工程受渡PP 移動No
ANB R53308               ; 後工程PP 領域判定1[上昇端(軸2)]
ORL
AND MR54500              ; 後工程受渡PP 移動中
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B11D7                ; TP後工程受渡PP 上昇 PL
;中間工程反転ﾕﾆｯﾄ
LD MR55100               ; 中間工程反転UT 待機位置
LD= DM5410 #30           ; 中間工程反転UT 移動No
AND MR54900              ; 中間工程反転UT 移動中
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B11E0                ; TP中間反転ﾕﾆｯﾄ 待機位置 PL
LD MR55101               ; 中間工程反転UT 受取位置
LD= DM5410 #31           ; 中間工程反転UT 移動No
AND MR54900              ; 中間工程反転UT 移動中
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B11E1                ; TP中間反転ﾕﾆｯﾄ 受取位置 PL
LD MR55102               ; 中間工程反転UT 受渡位置
LD= DM5410 #32           ; 中間工程反転UT 移動No
AND MR54900              ; 中間工程反転UT 移動中
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B11E2                ; TP中間反転ﾕﾆｯﾄ 受渡位置 PL
;次工程搬送PP
LD MR55600               ; 次工程搬送PP 取出位置
LD= DM5420 #40           ; 次工程搬送PP 移動No
AND MR55900              ; 次工程搬送PP 移動中
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B17D0                ; TP次工程受渡PP 取出位置 PL
LD MR55601               ; 次工程搬送PP 受渡位置
LD= DM5420 #41           ; 次工程搬送PP 移動No
AND MR55900              ; 次工程搬送PP 移動中
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B17D1                ; TP次工程受渡PP 受渡位置 PL
END
ENDH
