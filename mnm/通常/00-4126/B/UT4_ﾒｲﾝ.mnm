DEVICE:53
;MODULE:UT4_ﾒｲﾝ
;MODULE_TYPE:0
;<h1/>異常
LDB LR2500               ; <A400>4st ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ 閉端LS異常
ANB LR2501               ; <A401>4st ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ 開端LS異常
ANB LR2505               ; <A405>4st ｽｶﾗﾛﾎﾞｯﾄ 位置異常
ANB LR2506               ; <A406>4st ｽｶﾗﾛﾎﾞｯﾄ補正値 範囲外
ANB LR2604               ; <A420>4st ｸﾞﾘｽ塗布ｽﾗｲﾄﾞ 出端LS異
ANB LR2605               ; <A421>4st ｸﾞﾘｽ塗布ｽﾗｲﾄﾞ 戻端LS異
ANB LR2606               ; <A422>4st ﾃﾞｨｽﾍﾟﾝｻ吐出異常
ANB LR2607               ; <A423>4st ｸﾞﾘｽ塗布 捨打ｾﾝｻ異常
ANB LR2612               ; <A428>4st ｸﾞﾘｽ交換警報
ANB LR3310               ; <A538>4st ﾌﾝｼﾝﾁｬｯｸ交換警報
INV
OUT MR11901              ; 4st ｽｶﾗRB 異常まとめ
LDB LR2510               ; <A410>4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 出端LS
ANB LR2511               ; <A411>4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 戻端LS
ANB LR2512               ; <A412>4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 出端LS
ANB LR2513               ; <A413>4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 戻端LS
ANB LR2514               ; <A414>4st ﾌﾝｼﾝｷﾞﾔ(上) 出端ﾄﾚｲｾﾝｻ
ANB LR2600               ; <A416>4st ﾌﾝｼﾝｷﾞﾔ(下) 出端ﾄﾚｲｾﾝｻ
INV
OUT MR11902              ; 4st 部材供給 異常まとめ
LDB LR2614               ; <A430>4st ﾜｰｸ押え 出端LS異常
ANB LR2615               ; <A431>4st ﾜｰｸ押え 戻端LS異常
ANB LR2700               ; <A432>4st ﾜｰｸ押え 下降端LS異常
ANB LR2701               ; <A433>4st ﾜｰｸ押え 上昇端LS異常
ANB LR2703               ; <A435>4st ｳｫｰﾑｷﾞﾔ ｶﾒﾗｽﾗｲﾄﾞ 出端L
ANB LR2704               ; <A436>4st ｳｫｰﾑｷﾞﾔ ｶﾒﾗｽﾗｲﾄﾞ 戻端L
INV
LDB LR2812               ; <A460>4st 送りCVｽﾄｯﾊﾟ 下降端LS異
ANB LR2813               ; <A461>4st 送りCVｽﾄｯﾊﾟ 上昇端LS異
ANB LR2814               ; <A462>4st 送りCVｽﾄｯﾊﾟ位置決めL 
ANB LR2815               ; <A463>4st 送りCVｽﾄｯﾊﾟ位置決めL 
ANB LR2900               ; <A464>4st 送りCVｽﾄｯﾊﾟ位置決めR 
ANB LR2901               ; <A465>4st 送りCVｽﾄｯﾊﾟ位置決めR 
ANB LR2902               ; <A466>4st 送りCVｽﾄｯﾊﾟﾌﾟﾛｰﾌﾞ 下降
ANB LR2903               ; <A467>4st 送りCVｽﾄｯﾊﾟﾌﾟﾛｰﾌﾞ 上昇
INV
ORL
LDB LR2904               ; <A468>4st 送りCVｽﾄｯﾊﾟ 通過確認ｾﾝ
ANB LR2905               ; <A469>4st 送りCVｽﾄｯﾊﾟ 到着確認ｾﾝ
INV
ORL
LDB LR2515               ; <A415>4st ﾌﾝｼﾝｷﾞﾔ(上)戻端ﾄﾚｲｾﾝｻ1
ANB LR2601               ; <A417>4st ﾌﾝｼﾝｷﾞﾔ(下)戻端ﾄﾚｲｾﾝｻ1
ANB LR2602               ; <A418>4st ﾌﾝｼﾝｷﾞﾔ(上)戻端ﾄﾚｲｾﾝｻ2
ANB LR2603               ; <A419>4st ﾌﾝｼﾝｷﾞﾔ(下)戻端ﾄﾚｲｾﾝｻ2
INV
ORL
LDB LR2906               ; <A470>4st 受取ｽﾄｯﾊﾟ 下降端LS異常
ANB LR2907               ; <A471>4st 受取ｽﾄｯﾊﾟ 上昇端LS異常
ANB LR2908               ; <A472>4st 受取ｽﾄｯﾊﾟ位置決めL 出
ANB LR2909               ; <A473>4st 受取ｽﾄｯﾊﾟ位置決めL 戻
ANB LR2910               ; <A474>4st 受取ｽﾄｯﾊﾟ位置決めR 出
ANB LR2911               ; <A475>4st 受取ｽﾄｯﾊﾟ位置決めR 戻
INV
ORL
LDB LR2912               ; <A476>4st 受取ｽﾄｯﾊﾟ 通過確認ｾﾝｻ
ANB LR2913               ; <A477>4st 受取ｽﾄｯﾊﾟ 到着確認ｾﾝｻ
ANB LR2914               ; <A478>4st ﾊﾟﾚｯﾄ ﾊﾞｰｺｰﾄﾞ読取異常
ANB LR3000               ; <A480>4st 受取ｴｽｹｰﾊﾟ 下降端LS異
ANB LR3001               ; <A481>4st 受取ｴｽｹｰﾊﾟ 上昇端LS異
ANB LR3002               ; <A482>4st 受取ｴｽｹｰﾊﾟ  通過確認ｾﾝ
ANB LR3003               ; <A483>4st 受取ｴｽｹｰﾊﾟ  到着確認ｾﾝ
ANB LR3014               ; <A494>4st_ﾊﾟﾚｯﾄNo.不一致ｴﾗｰ
INV
ORL
OUT MR11903              ; 4st 送りCV 異常まとめ
LDB LR3005               ; <A485>4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ 下降端LS
ANB LR3006               ; <A486>4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ 上昇端LS
ANB LR3007               ; <A487>4st ﾘﾀｰﾝCVﾊﾟﾚｯﾄ押えL 出端L
ANB LR3008               ; <A488>4st ﾘﾀｰﾝCVﾊﾟﾚｯﾄ押えL 戻端L
ANB LR3009               ; <A489>4st ﾘﾀｰﾝCVﾊﾟﾚｯﾄ押えR 出端L
ANB LR3010               ; <A490>4st ﾘﾀｰﾝCVﾊﾟﾚｯﾄ押えR 戻端L
ANB LR3011               ; <A491>4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ  通過確認
ANB LR3012               ; <A492>4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ  到着確認
INV
LDB LR3013               ; <A493>4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ ﾊﾟﾚｯﾄ内ﾜｰ
ANB LR3015               ; <A495>4st ﾊﾟﾚｯﾄｼﾌﾄ 出端LS異常
ANB LR3100               ; <A496>4st ﾊﾟﾚｯﾄｼﾌﾄ 戻端LS異常
ANB LR3101               ; <A497>4st ﾊﾟﾚｯﾄｼﾌﾄ  到着ｾﾝｻ異常
ANB LR3102               ; <A498>4st ﾊﾟﾚｯﾄｼﾌﾄ(ﾘﾀｰﾝCV側) 有
ANB LR3103               ; <A499>4st ﾊﾟﾚｯﾄｼﾌﾄ(送りCV側) 有
INV
ORL
OUT MR11904              ; 4st ﾘﾀｰﾝCV 異常まとめ
LDB MR11901              ; 4st ｽｶﾗRB 異常まとめ
ANB MR11902              ; 4st 部材供給 異常まとめ
ANB MR11903              ; 4st 送りCV 異常まとめ
ANB MR11904              ; 4st ﾘﾀｰﾝCV 異常まとめ
ANB MR11907              ; 中間工程 異常まとめ
ANB MR11908              ; 後工程PP 異常まとめ
INV
OUT MR11900              ; 4st 軽異常まとめ
LD MR11900               ; 4st 軽異常まとめ
TMR #290 #300            ; 4st 軽異常DLY
;ﾒｲﾝ
LD CR2002                ; 常時ON
MPS
LD MR3000                ; 原点復帰
AND MR4300               ; 原点復帰  ｽﾃｯﾌﾟｼﾌﾄOK
LD MR4000                ; 自動運転
AND MR4301               ; 自動運転  ｽﾃｯﾌﾟｼﾌﾄOK
ORL
ANL
MOV DM1111 DM1101        ; UT4_TSK1_次動作REG[ｽｶﾗRB]  UT4_TSK1_条件REG[ｽｶﾗRB]
MOV DM1115 DM1105        ; UT4_TSK5_次動作REG[送りCVｽﾄｯﾊﾟ]  UT4_TSK5_条件REG[送りCVｽﾄｯﾊﾟ]
MOV DM1116 DM1106        ; UT4_TSK6_次動作REG[受取ｽﾄｯﾊﾟ]  UT4_TSK6_条件REG[受取ｽﾄｯﾊﾟ]
MOV DM1117 DM1107        ; UT4_TSK7_次動作REG[受取ｴｽｹｰﾊﾟ]  UT4_TSK7_条件REG[受取ｴｽｹｰﾊﾟ]
MOV DM1118 DM1108        ; UT4_TSK8_次動作REG[ﾘﾀｰﾝCVｴｽｹｰﾊﾟ]  UT4_TSK8_条件REG[ﾘﾀｰﾝCVｴｽｹｰﾊﾟ]
MOV DM1119 DM1109        ; UT4_TSK8_次動作REG[後工程PP]  UT4_TSK9_条件REG[後工程PP]
MPP
LDB MR3000               ; 原点復帰
ANB MR4000               ; 自動運転
ANL
FMOV #0 DM1101 #9        ; UT4_TSK1_条件REG[ｽｶﾗRB]
LD CR2002                ; 常時ON
MPS
LD MR2000                ; 手動ﾓｰﾄﾞ 操作可能
OR MR3000                ; 原点復帰
OR MR4000                ; 自動運転
AND MR4302               ; 共通動作  ｽﾃｯﾌﾟｼﾌﾄOK
ANL
MOV DM1131 DM1121        ; UT4_COM1_次動作REG[1ｻｲｸﾙ]  UT4_COM1_条件REG[1ｻｲｸﾙ]
MOV DM1132 DM1122        ; UT4_COM2_次動作REG[1ｻｲｸﾙ]  UT4_COM2_条件REG[1ｻｲｸﾙ]
MOV DM1133 DM1123        ; UT4_COM3_次動作REG[1ｻｲｸﾙ]  UT4_COM3_条件REG[1ｻｲｸﾙ]
MPP
LDB MR10500              ; 4st 動作SUB 起動中
ANB MR10507              ; 4st 中間工程 1ｻｲｸﾙ起動中
ANB MR10508              ; 4st 後工程PP 1ｻｲｸﾙ起動中
ANB MR3000               ; 原点復帰
ANB MR4000               ; 自動運転
ANL
MOV.D #0 DM1121          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
LDP MR3000               ; 原点復帰
ORP MR10309              ; 4st 原点復帰完了
@FMOV #0 DM1111 #9       ; UT4_TSK1_次動作REG[ｽｶﾗRB]
@FMOV #0 DM1131 #9       ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
;<h1/>原点復帰
LD MR1101                ; 運転準備 完了
OUT MR10301              ; 4st 原点復帰起動可
LD MR3000                ; 原点復帰
AND LR10011              ; TP設定 4st有効
MC
MPS
ANPB MR3000              ; 原点復帰
OUT MR10300              ; 4st 原点復帰
MPP
@MOV #1 DM1111           ; UT4_TSK1_次動作REG[ｽｶﾗRB]
;ﾊﾝﾄﾞ状態確認
LD= DM1101 #1            ; UT4_TSK1_条件REG[ｽｶﾗRB]
OR MR13010               ; 4st ｸﾞﾘｽ塗布ｽﾗｲﾀﾞ 戻
AND MR10300              ; 4st 原点復帰
OUT MR13010              ; 4st ｸﾞﾘｽ塗布ｽﾗｲﾀﾞ 戻
OUT MR13110              ; 4st ｸﾞﾘｽ塗布ｽﾗｲﾀﾞ 戻_ORG
OUT MR13111              ; 4st 検出ｶﾒﾗｽﾗｲﾀﾞ 戻_ORG
LD T131                  ; 4st ｼﾘｺﾝｸﾞﾘｽ塗布 ｽﾗｲﾄﾞ戻端
AND T121                 ; 4st ｳｫｰﾑｷﾞﾔ検出ｶﾒﾗ ｽﾗｲﾄﾞ戻端
OR MR13015               ; 4stRB ﾊﾝﾄﾞ状態確認
AND MR13010              ; 4st ｸﾞﾘｽ塗布ｽﾗｲﾀﾞ 戻
OUT MR13015              ; 4stRB ﾊﾝﾄﾞ状態確認
;ｽｶﾗRB 原点
LD= DM1101 #1            ; UT4_TSK1_条件REG[ｽｶﾗRB]
AND MR13015              ; 4stRB ﾊﾝﾄﾞ状態確認
OUT MR13000              ; 4st ｽｶﾗRB上昇
MPS
LD R70201                ; 4st 原位置 1ｻｲｸﾙ可
OR MR13100               ; 4stRB 原位置1ｻｲｸﾙ_ORG
ANL
OUT MR13100              ; 4stRB 原位置1ｻｲｸﾙ_ORG
MPP
AND R70308               ; 4stRB 原位置 移動完了
@MOV #10 DM1111          ; UT4_TSK1_次動作REG[ｽｶﾗRB]
LD= DM1101 #10           ; UT4_TSK1_条件REG[ｽｶﾗRB]
OR MR13001               ; 4st ｽｶﾗRB 原位置移動
OUT MR13001              ; 4st ｽｶﾗRB 原位置移動
OUT MR13002              ; 4st 部材ﾄﾚｲ 原点復帰
OUT MR13003              ; 4st ﾜｰｸ押え 原点復帰
OUT MR13004              ; 4st 送りCV 原点復帰
OUT MR13005              ; 4st ﾘﾀｰﾝCV 原点復帰
OUT MR13006              ; 中間工程  原点復帰
MPS
OUT MR13007              ; 後工程PP  原点復帰
MPP
LD MR10310               ; 4st 原位置
AND MR13104              ; 4st 送りCV 原点復帰完了
AND MR13105              ; 4st ﾘﾀｰﾝCV 原点復帰完了
AND MR14015              ; 中間工程  原点復帰完了
AND MR14109              ; 後工程PP  原点復帰完了
ANL
@MOV #20 DM1111          ; UT4_TSK1_次動作REG[ｽｶﾗRB]
;原点復帰完了
LD= DM1101 #20           ; UT4_TSK1_条件REG[ｽｶﾗRB]
OR MR10309               ; 4st 原点復帰完了
OUT MR10309              ; 4st 原点復帰完了
MCR
LDF MR10300              ; 4st 原点復帰
MOV #1 DM1111            ; UT4_TSK1_次動作REG[ｽｶﾗRB]
;<h1/>原位置
LD MR51700               ; 4stRB 原位置
OUT MR10311              ; 4st ｽｶﾗRB 原位置
LD LR15401               ; 4st ﾌﾝｼﾝｷﾞﾔ(上) 原点復帰 出条件
AND T160                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)ｽﾗｲﾀﾞ 出端
LDB LR15401              ; 4st ﾌﾝｼﾝｷﾞﾔ(上) 原点復帰 出条件
AND T161                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)ｽﾗｲﾀﾞ 戻端
ORL
LD LR15402               ; 4st ﾌﾝｼﾝｷﾞﾔ(下) 原点復帰 出条件
AND T170                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)ｽﾗｲﾀﾞ 出端
LDB LR15402              ; 4st ﾌﾝｼﾝｷﾞﾔ(下) 原点復帰 出条件
AND T171                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)ｽﾗｲﾀﾞ 戻端
ORL
ANL
OUT MR10312              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ　原位置
LD T121                  ; 4st ｳｫｰﾑｷﾞﾔ検出ｶﾒﾗ ｽﾗｲﾄﾞ戻端
AND T131                 ; 4st ｼﾘｺﾝｸﾞﾘｽ塗布 ｽﾗｲﾄﾞ戻端
OUT MR10313              ; 4st ｶﾒﾗ・塗布 原位置
LD T125                  ; 4st ﾜｰｸ押え 戻端
AND T127                 ; 4st ﾜｰｸ押え 上昇端
AND T207                 ; 4st 送りCVﾌﾟﾛｰﾌﾞ下降端
OUT MR10314              ; 4st ﾌﾟﾛｰﾌﾞ押え 原位置
LD T201                  ; 4st 送りCVｽﾄｯﾊﾟ 上昇端
LD T212                  ; 4st 送りCVｽﾄｯﾊﾟ 有確認
AND LR11801              ; 4stｽﾄｯﾊﾟ 位置決め必要_Mem
AND MR11002              ; 4st 送りCV L/R位置決め 出端
LD T213                  ; 4st 送りCVｽﾄｯﾊﾟ 無確認
AND MR11003              ; 4st 送りCV L/R位置決め 戻端
ORL
LD T212                  ; 4st 送りCVｽﾄｯﾊﾟ 有確認
ANB LR11801              ; 4stｽﾄｯﾊﾟ 位置決め必要_Mem
ORL
ANL
AND T221                 ; 4st 送りCV受取ｽﾄｯﾊﾟ 上昇端
LD T232                  ; 4st 送りCV受取ｽﾄｯﾊﾟ 有確認
AND LR11806              ; 4st受取ｽﾄｯﾊﾟ 位置決め必要_Mem
AND MR11012              ; 4st 送りCV受取 L/R位置決め 出端
LD T233                  ; 4st 送りCV受取ｽﾄｯﾊﾟ 無確認
AND MR11013              ; 4st 送りCV受取 L/R位置決め 戻端
ORL
LD T232                  ; 4st 送りCV受取ｽﾄｯﾊﾟ 有確認
ANB LR11806              ; 4st受取ｽﾄｯﾊﾟ 位置決め必要_Mem
ORL
ANL
AND T241                 ; 4st 送りCV受取ｴｽｹｰﾊﾟ 上昇端
OUT MR10315              ; 4st 送りCV 原位置
LD T261                  ; 4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ 上昇端
AND MR11101              ; 4st ﾘﾀｰﾝCV L/Rﾊﾟﾚｯﾄ押え 戻端
AND T269                 ; 4st ﾘﾀｰﾝCVｼﾌﾄ 戻端(ﾘﾀｰﾝCV側)
OUT MR10305              ; 4st ﾘﾀｰﾝCV 原位置
LD MR10311               ; 4st ｽｶﾗRB 原位置
AND MR10312              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ　原位置
AND MR10313              ; 4st ｶﾒﾗ・塗布 原位置
AND MR10314              ; 4st ﾌﾟﾛｰﾌﾞ押え 原位置
AND MR10315              ; 4st 送りCV 原位置
AND MR10305              ; 4st ﾘﾀｰﾝCV 原位置
OUT MR10310              ; 4st 原位置
;<h1/>自動運転
LD CR2002                ; 常時ON
MPS
LD T100                  ; 4st ｽｶﾗRB ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ閉端
AND MR11500              ; 4stRB ﾊﾝﾄﾞﾜｰｸ無_Mem
LD T101                  ; 4st ｽｶﾗRB ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ開端
ANB MR11500              ; 4stRB ﾊﾝﾄﾞﾜｰｸ無_Mem
ORL
ANL
OUT MR10411              ; 4st 自動運転起動不可1
MRD
LD T212                  ; 4st 送りCVｽﾄｯﾊﾟ 有確認
LD MR57405               ; 画像処理 ｶﾒﾗ4 ｳｫｰﾑｷﾞﾔ検出 NG
OR MR57407               ; 画像処理 ｶﾒﾗ4 ｽﾌﾟﾘﾝｸﾞ検出 NG
ANL
AND CR2003               ; 常時OFF
ANL
OUT MR10412              ; 4st ｳｫｰﾑｷﾞﾔNG有
MPP
LD R2403                 ; 4stRB ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ閉
LD MR57105               ; 画像処理 ｶﾒﾗ1 ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ NG
OR MR57108               ; 画像処理 ｶﾒﾗ1塗布 NG
ANL
ANL
OUT MR10413              ; 4st ﾌﾝｼﾝｷﾞﾔ取出必要
LD MR1101                ; 運転準備 完了
ANB MR10411              ; 4st 自動運転起動不可1
ANB MR10412              ; 4st ｳｫｰﾑｷﾞﾔNG有
ANB MR10413              ; 4st ﾌﾝｼﾝｷﾞﾔ取出必要
OUT MR10401              ; 4st 自動運転起動可
;停止処理
LDB MR14310              ; 4stRB ｱﾗｲﾒﾝﾄ・塗布NG→ｻｲｸﾙ停止
ANB MR17211              ; 4st ｳｫｰﾑｷﾞﾔ位置出し 異常終了
INV
OUT MR10402              ; 4st ｻｲｸﾙ停止発生
LD MR4100                ; ｻｲｸﾙ停止
OUT MR10403              ; 4st ｻｲｸﾙ停止中受付
LD MR15109               ; 4st RBｻｲｸﾙ停止完了
LDB R70400               ; 4st ﾌﾝｼﾝｷﾞﾔ取出 1ｻｲｸﾙ動作
AND MR11901              ; 4st ｽｶﾗRB 異常まとめ
LDB LR2510               ; <A410>4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 出端LS
ANB LR2511               ; <A411>4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 戻端LS
ANB LR2514               ; <A414>4st ﾌﾝｼﾝｷﾞﾔ(上) 出端ﾄﾚｲｾﾝｻ
ANB LR2515               ; <A415>4st ﾌﾝｼﾝｷﾞﾔ(上)戻端ﾄﾚｲｾﾝｻ1
INV
AND= EM1100 #0           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
LDB LR2512               ; <A412>4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 出端LS
ANB LR2513               ; <A413>4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 戻端LS
ANB LR2600               ; <A416>4st ﾌﾝｼﾝｷﾞﾔ(下) 出端ﾄﾚｲｾﾝｻ
ANB LR2601               ; <A417>4st ﾌﾝｼﾝｷﾞﾔ(下)戻端ﾄﾚｲｾﾝｻ1
ANB LR2602               ; <A418>4st ﾌﾝｼﾝｷﾞﾔ(上)戻端ﾄﾚｲｾﾝｻ2
ANB LR2603               ; <A419>4st ﾌﾝｼﾝｷﾞﾔ(下)戻端ﾄﾚｲｾﾝｻ2
INV
AND= EM1100 #1           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
ORL
AND R70400               ; 4st ﾌﾝｼﾝｷﾞﾔ取出 1ｻｲｸﾙ動作
ANB MR11901              ; 4st ｽｶﾗRB 異常まとめ
ORL
ANB MR15109              ; 4st RBｻｲｸﾙ停止完了
ORL
OUT MR10406              ; 4st RB/部材供給 ｻｲｸﾙ停止完了
LD MR17315               ; 4st 送りCVｽﾄｯﾊﾟ ｻｲｸﾙ停止完了
AND MR17815              ; 4st 送りCV受取ｽﾄｯﾊﾟ ｻｲｸﾙ停止完了
AND MR19315              ; 4st 送りCV受取ｴｽｹｰﾊﾟｻｲｸﾙ停止完了
OR MR11903               ; 4st 送りCV 異常まとめ
LD MR19715               ; 4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ ｻｲｸﾙ停止完了
OR MR11904               ; 4st ﾘﾀｰﾝCV 異常まとめ
ANL
OUT MR10407              ; 4st CV ｻｲｸﾙ停止完了
LDB MR10507              ; 4st 中間工程 1ｻｲｸﾙ起動中
OR MR11907               ; 中間工程 異常まとめ
LD MR35315               ; 後工程PP ｻｲｸﾙ停止完了
ANB MR10508              ; 4st 後工程PP 1ｻｲｸﾙ起動中
OR MR11908               ; 後工程PP 異常まとめ
ANL
OUT MR10408              ; 4st 中間-後工程PP ｻｲｸﾙ停止完了
LD MR10406               ; 4st RB/部材供給 ｻｲｸﾙ停止完了
AND MR10407              ; 4st CV ｻｲｸﾙ停止完了
AND MR10408              ; 4st 中間-後工程PP ｻｲｸﾙ停止完了
OUT MR10404              ; 4st ｻｲｸﾙ停止完了
LD= DM1101 #1            ; UT4_TSK1_条件REG[ｽｶﾗRB]
AND LR11910              ; 4st ﾜｰｸ・ﾊﾟﾚｯﾄ無
AND= DM1109 #1           ; UT4_TSK9_条件REG[後工程PP]
AND LR11913              ; 後工程PP ﾜｰｸ・ﾊﾟﾚｯﾄ無
AND LR11914              ; 中間工程 ﾜｰｸ・ﾊﾟﾚｯﾄ無
OUT MR10405              ; 4st 払い出し停止完了
;運転動作
LD MR4000                ; 自動運転
AND LR10011              ; TP設定 4st有効
MC
OUT MR10400              ; 4st 自動運転
MPS
ANB LR10508              ; 後工程のみｺﾝﾍﾞｱ動作
OUT @MR004               ; 4st ｽｶﾗRB 自動運転
MPP
@MOV #1 DM1111           ; UT4_TSK1_次動作REG[ｽｶﾗRB]
;<h1/>初期状態分岐
LD T101                  ; 4st ｽｶﾗRB ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ開端
AND MR11500              ; 4stRB ﾊﾝﾄﾞﾜｰｸ無_Mem
ANB MR10403              ; 4st ｻｲｸﾙ停止中受付
OUT MR10410              ; 4stRB ﾊﾝﾄﾞ初期取出条件
LD= DM1101 #1            ; UT4_TSK1_条件REG[ｽｶﾗRB]
AND @MR004               ; 4st ｽｶﾗRB 自動運転
MPS
LD MR10410               ; 4stRB ﾊﾝﾄﾞ初期取出条件
AND LR11901              ; 4st 初期ﾜｰｸ取出条件
ANL
MPS
AND MR11600              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲｾｯﾄ記憶有
OUT MR14200              ; 4st 分岐1 RBﾄﾚｲより取出
@MOV #100 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
MPP
ANB MR11600              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲｾｯﾄ記憶有
TMR #297 #300            ; 4stRBﾌﾝｼﾝｷﾞﾔ取出ﾄﾚｲ無ﾀｲﾑｱｯﾌﾟ
MRD
LD T100                  ; 4st ｽｶﾗRB ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ閉端
AND MR11501              ; 4stRB ﾊﾝﾄﾞ ﾌﾝｼﾝｷﾞﾔ(塗布前)有_Mem
ANL
OUT MR14300              ; 1st 分岐2 ｸﾞﾘｽ塗布
@MOV #200 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
MRD
LD T100                  ; 4st ｽｶﾗRB ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ閉端
AND MR11502              ; 4stRB ﾊﾝﾄﾞ ﾌﾝｼﾝｷﾞﾔ(塗布後)有_Mem
AND= DM1180 #1           ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
ANL
OUT MR14400              ; 1st 分岐4 RBﾊﾟﾚｯﾄへｸ組込
@MOV #300 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
MPP
LD MR11500               ; 4stRB ﾊﾝﾄﾞﾜｰｸ無_Mem
LDB MR11500              ; 4stRB ﾊﾝﾄﾞﾜｰｸ無_Mem
AND LR11912              ; 4st ﾊﾟﾚｯﾄ無し
ORL
AND MR10403              ; 4st ｻｲｸﾙ停止中受付
ANL
@MOV #900 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
@MOV #1 DM1140           ; 4stRB ｻｲｸﾙ停止番号
;<h1/>自動運転 ﾌﾝｼﾝｷﾞﾔ取出ﾄﾚｲ選択
LD= DM1101 #100          ; UT4_TSK1_条件REG[ｽｶﾗRB]
OUT MR14110              ; 4st 取出ﾄﾚｲ変更
LD MR14110               ; 4st 取出ﾄﾚｲ変更
LD= DM1176 #0            ; 4stRB ﾄﾚｲ取出No
OR MR11505               ; 4stRB ｳｫｰﾑｷﾞﾔﾄﾚｲ取出完了
ANL
AND MR11601              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)ｾｯﾄ記憶
AND T160                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)ｽﾗｲﾀﾞ 出端
MPS
OUT MR14111              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)選択
MPP
ANP MR14111              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)選択
MOV #1 DM1176            ; 4stRB ﾄﾚｲ取出No
LD MR14110               ; 4st 取出ﾄﾚｲ変更
LD= DM1176 #0            ; 4stRB ﾄﾚｲ取出No
OR MR11505               ; 4stRB ｳｫｰﾑｷﾞﾔﾄﾚｲ取出完了
ANL
AND MR11602              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)ｾｯﾄ記憶
AND T170                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)ｽﾗｲﾀﾞ 出端
AND T161                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)ｽﾗｲﾀﾞ 戻端
MPS
OUT MR14112              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)選択
MPP
ANP MR14112              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)選択
MOV #2 DM1176            ; 4stRB ﾄﾚｲ取出No
;<h1/>分岐1 ﾄﾚｲより取出
LD= DM1101 #100          ; UT4_TSK1_条件REG[ｽｶﾗRB]
OR MR14200               ; 4st 分岐1 RBﾄﾚｲより取出
AND @MR004               ; 4st ｽｶﾗRB 自動運転
LD= DM1150 #0            ; 4stRB ﾜｰｸ状態
OR MR14201               ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出
ANL
OUT MR14201              ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出
MPS
LD= DM1176 #1            ; 4stRB ﾄﾚｲ取出No
AND R70411               ; 4st ﾌﾝｼﾝｷﾞﾔ(上)取出 1ｻｲｸﾙ可
OR MR15211               ; 4stRB ﾌﾝｼﾝｷﾞﾔ(上)へ取出1ｻｲｸﾙ_AUT
ANL
OUT MR15211              ; 4stRB ﾌﾝｼﾝｷﾞﾔ(上)へ取出1ｻｲｸﾙ_AUT
MRD
LD= DM1176 #2            ; 4stRB ﾄﾚｲ取出No
AND R70412               ; 4st ﾌﾝｼﾝｷﾞﾔ(下)取出 1ｻｲｸﾙ可
OR MR15212               ; 4stRB ﾌﾝｼﾝｷﾞﾔ(下)へ取出1ｻｲｸﾙ_AUT
ANL
OUT MR15212              ; 4stRB ﾌﾝｼﾝｷﾞﾔ(下)へ取出1ｻｲｸﾙ_AUT
MRD
LD R70406                ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出中
AND R70409               ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出 1ｻｲｸﾙ完了
ANL
@MOV #110 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
MRD
ANB R70406               ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出中
TMR #298 #300            ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出中ﾀｲﾑｱｯﾌﾟ
MPP
LD MR10403               ; 4st ｻｲｸﾙ停止中受付
ANB MR15211              ; 4stRB ﾌﾝｼﾝｷﾞﾔ(上)へ取出1ｻｲｸﾙ_AUT
ANB MR15212              ; 4stRB ﾌﾝｼﾝｷﾞﾔ(下)へ取出1ｻｲｸﾙ_AUT
ANL
@MOV #900 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
@MOV #100 DM1140         ; 4stRB ｻｲｸﾙ停止番号
LD= DM1101 #110          ; UT4_TSK1_条件REG[ｽｶﾗRB]
MPS
OUT MR14202              ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出完了
MPP
LD T100                  ; 4st ｽｶﾗRB ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ閉端
OR MR6000                ; 設定1_ﾜｰｸ無運転有効
AND MR11501              ; 4stRB ﾊﾝﾄﾞ ﾌﾝｼﾝｷﾞﾔ(塗布前)有_Mem
ANL
OUT MR14203              ; 4stRB ｱﾗｲﾒﾝﾄ・塗布
@MOV #200 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
;<h1/>分岐2 ｱﾗｲﾒﾝﾄ→ｸﾞﾘｽ塗布
LD= DM1101 #200          ; UT4_TSK1_条件REG[ｽｶﾗRB]
OR MR14300               ; 1st 分岐2 ｸﾞﾘｽ塗布
AND @MR004               ; 4st ｽｶﾗRB 自動運転
LD MR11501               ; 4stRB ﾊﾝﾄﾞ ﾌﾝｼﾝｷﾞﾔ(塗布前)有_Mem
OR MR14301               ; 4stRB ｱﾗｲﾒﾝﾄ
ANL
OUT MR14301              ; 4stRB ｱﾗｲﾒﾝﾄ
MPS
LD R70801                ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ可
OR MR15301               ; 4stRB ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ_AUT
ANL
OUT MR15301              ; 4stRB ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ_AUT
MRD
AND R70809               ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ 正常完了
MPS
LDB MR6000               ; 設定1_ﾜｰｸ無運転有効
AND MR57104              ; 画像処理 ｶﾒﾗ1 ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ OK
ANL
@MOV #210 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
MPP
AND MR6000               ; 設定1_ﾜｰｸ無運転有効
@MOV #210 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
MRD
LD R70810                ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ 異常完了
ANB MR57104              ; 画像処理 ｶﾒﾗ1 ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ OK
ANL
@MOV #290 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
MPP
LD R70811                ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ 取直完了
AND MR57105              ; 画像処理 ｶﾒﾗ1 ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ NG
OR MR15304               ; 4stRB ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ開_1ｻｲｸﾙ_AUTO
ANL
MPS
OUT MR15304              ; 4stRB ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ開_1ｻｲｸﾙ_AUTO
MPP
AND T101                 ; 4st ｽｶﾗRB ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ開端
MOV #0 DM1150            ; 4stRB ﾜｰｸ状態
MOV #1 DM1111            ; UT4_TSK1_次動作REG[ｽｶﾗRB]
LD= DM1101 #210          ; UT4_TSK1_条件REG[ｽｶﾗRB]
OUT MR14302              ; 4st RBｶﾒﾗ移動確認
MPS
LD R71001                ; 4stRB 塗布 1ｻｲｸﾙ可
OR MR15302               ; 4stRBｸﾞﾘｽ塗布1ｻｲｸﾙ_AUT
ANL
OUT MR15302              ; 4stRBｸﾞﾘｽ塗布1ｻｲｸﾙ_AUT
MRD
AND R71009               ; 4stRB 塗布 1ｻｲｸﾙ正常終了
MPS
LDB MR6000               ; 設定1_ﾜｰｸ無運転有効
AND MR57107              ; 画像処理 ｶﾒﾗ1塗布 OK
ANL
@MOV #220 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
MPP
AND MR6000               ; 設定1_ﾜｰｸ無運転有効
@MOV #220 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
MPP
LD R71010                ; 4stRB 塗布 1ｻｲｸﾙ異常終了
ANB MR57107              ; 画像処理 ｶﾒﾗ1塗布 OK
ANL
@MOV #290 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
LD= DM1101 #220          ; UT4_TSK1_条件REG[ｽｶﾗRB]
MPS
OUT MR14303              ; 4stRBｸﾞﾘｽ塗布完了
MPP
AND MR11502              ; 4stRB ﾊﾝﾄﾞ ﾌﾝｼﾝｷﾞﾔ(塗布後)有_Mem
OUT MR14304              ; 4stRB 送りCV組込
@MOV #300 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
LD= DM1101 #290          ; UT4_TSK1_条件REG[ｽｶﾗRB]
OUT MR14310              ; 4stRB ｱﾗｲﾒﾝﾄ・塗布NG→ｻｲｸﾙ停止
@MOV #900 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
@MOV #290 DM1140         ; 4stRB ｻｲｸﾙ停止番号
;<h1/>分岐3 ﾌﾝｼﾝｷﾞﾔ CV組込
LD= DM1101 #300          ; UT4_TSK1_条件REG[ｽｶﾗRB]
OR MR14400               ; 1st 分岐4 RBﾊﾟﾚｯﾄへｸ組込
AND @MR004               ; 4st ｽｶﾗRB 自動運転
MPS
LDB MR17211              ; 4st ｳｫｰﾑｷﾞﾔ位置出し 異常終了
LD MR11502               ; 4stRB ﾊﾝﾄﾞ ﾌﾝｼﾝｷﾞﾔ(塗布後)有_Mem
AND= DM1180 #1           ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
AND LR11501              ; 4st RBへ組込可能
OR MR14401               ; 4stRB ﾌﾝｼﾝｷﾞﾔ CV組込
ANL
ANL
OUT MR14401              ; 4stRB ﾌﾝｼﾝｷﾞﾔ CV組込
MPS
LD LR10110               ; TP設定 4st組込前ｱﾗｲﾒﾝﾄ有効
LD R70801                ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ可
ANB MR513                ; ﾊﾝﾃﾞｨTP  操作SW4
OR MR14403               ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄSUB_AUT
ANL
ANL
OUT MR14403              ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄSUB_AUT
MPP
ANB LR10110              ; TP設定 4st組込前ｱﾗｲﾒﾝﾄ有効
@MOV #309 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
MRD
AND MR17211              ; 4st ｳｫｰﾑｷﾞﾔ位置出し 異常終了
@MOV #900 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
MPP
LDB LR11800              ; 4stｽﾄｯﾊﾟ ﾊﾟﾚｯﾄ有_Mem
LD= DM1185 #0            ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
OR= DM1185 #1            ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
ANL
ANB LR11705              ; 4st 中間工程 ﾜｰｸ有_Mem
ANB LR11701              ; 4st 後工程PP ﾜｰｸ有_Mem
AND MR10403              ; 4st ｻｲｸﾙ停止中受付
ANL
@MOV #900 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
@MOV #300 DM1140         ; 4stRB ｻｲｸﾙ停止番号
LD MR14403               ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄSUB_AUT
AND R70806               ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ中
MPS
LD R70809                ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ 正常完了
LD MR57104               ; 画像処理 ｶﾒﾗ1 ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ OK
OR MR6000                ; 設定1_ﾜｰｸ無運転有効
ANL
ANL
@MOV #309 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
MPP
LD R70810                ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ 異常完了
ANB MR57104              ; 画像処理 ｶﾒﾗ1 ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ OK
ANL
@MOV #390 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
LD= DM1101 #309          ; UT4_TSK1_条件REG[ｽｶﾗRB]
MPS
LD R71401                ; 4st 送りCV組込 1ｻｲｸﾙ可
OR MR15401               ; 4stRB ﾌﾝｼﾝｷﾞﾔ CV組込1ｻｲｸﾙ_AUT
ANL
OUT MR15401              ; 4stRB ﾌﾝｼﾝｷﾞﾔ CV組込1ｻｲｸﾙ_AUT
MPP
AND R71409               ; 4st 送りCV組込 1ｻｲｸﾙ完了
@MOV #310 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
LD= DM1101 #310          ; UT4_TSK1_条件REG[ｽｶﾗRB]
MPS
OUT MR14402              ; 4st 送りCV組込確認
MPP
LD T101                  ; 4st ｽｶﾗRB ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ開端
AND= DM1150 #0           ; 4stRB ﾜｰｸ状態
LD MR51914               ; 4stRB 動作可能
OR MR15403               ; 4stRB 待機位置へ移動_AUT
ANL
ANL
MPS
OUT MR15403              ; 4stRB 待機位置へ移動_AUT
MPP
AND MR51700              ; 4stRB 原位置
@MOV #1 DM1111           ; UT4_TSK1_次動作REG[ｽｶﾗRB]
LD<= #300 DM1101         ; UT4_TSK1_条件REG[ｽｶﾗRB]
AND<= DM1101 #390        ; UT4_TSK1_条件REG[ｽｶﾗRB]
OUT MR15415              ; 4stRB 自動運転 CV組込動作中
;<h1/>ｻｲｸﾙ停止処理
LD= DM1101 #900          ; UT4_TSK1_条件REG[ｽｶﾗRB]
OUT MR15101              ; 4st RB待機位置へ移動
MPS
LD MR51914               ; 4stRB 動作可能
AND MR51300              ; 4stRB 横移動可
OR MR15111               ; 4st RB待機位置へ移動_AUT
ANL
OUT MR15111              ; 4st RB待機位置へ移動_AUT
MPP
AND MR51700              ; 4stRB 原位置
@MOV #910 DM1111         ; UT4_TSK1_次動作REG[ｽｶﾗRB]
LD= DM1101 #910          ; UT4_TSK1_条件REG[ｽｶﾗRB]
OUT MR15102              ; 4st RB待機位置へ移動確認
OUT MR15109              ; 4st RBｻｲｸﾙ停止完了
MCR
;<h1/>1ｻｲｸﾙ
LDP MR3000               ; 原点復帰
ORF MR4000               ; 自動運転
OR B049F                 ; 4st 1ｻｲｸﾙ 途中停止PB
OUT R70014               ; 4st 1ｻｲｸﾙ停止
LD MR2000                ; 手動ﾓｰﾄﾞ 操作可能
OR MR3000                ; 原点復帰
OR MR4000                ; 自動運転
ANB R70014               ; 4st 1ｻｲｸﾙ停止
MC
OUT @MR002               ; 1ｻｲｸﾙ可能
;原位置
LDP B04A0                ; TP4stRB 原位置 1ｻｲｸﾙPB
AND= EM1109 #0           ; 4st 1ｻｲｸﾙ2重起動IL
OUT R70000               ; 4stRB 原位置 1ｻｲｸﾙ_Man
@MOV #1 EM1109           ; 4st 1ｻｲｸﾙ2重起動IL
;ﾌﾝｼﾝｷﾞﾔﾄﾚｲ取出
LDP B04A1                ; TP4stRB ﾌﾝｼﾝｷﾞﾔﾄ(上)取出 1ｻｲｸﾙPB
AND= EM1109 #0           ; 4st 1ｻｲｸﾙ2重起動IL
OUT R70001               ; 4stRB ﾌﾝｼﾝｷﾞﾔﾄ(上)取出_Man
@MOV #1 EM1109           ; 4st 1ｻｲｸﾙ2重起動IL
LDP B04A2                ; TP4stRB ﾌﾝｼﾝｷﾞﾔﾄ(下)取出 1ｻｲｸﾙPB
AND= EM1109 #0           ; 4st 1ｻｲｸﾙ2重起動IL
OUT R70002               ; 4stRB ﾌﾝｼﾝｷﾞﾔﾄ(下)取出_Man
@MOV #1 EM1109           ; 4st 1ｻｲｸﾙ2重起動IL
;ｱﾗｲﾒﾝﾄ
LDP B04A5                ; TP4stRB ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙPB
AND= EM1109 #0           ; 4st 1ｻｲｸﾙ2重起動IL
OUT R70005               ; 4stRB ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ_Man
@MOV #1 EM1109           ; 4st 1ｻｲｸﾙ2重起動IL
;送りCV組込
LDP B04A6                ; TP4stRB 送りCV組込 1ｻｲｸﾙPB
AND= EM1109 #0           ; 4st 1ｻｲｸﾙ2重起動IL
OUT R70006               ; 4stRB 送りCV組込 1ｻｲｸﾙ_Man
@MOV #1 EM1109           ; 4st 1ｻｲｸﾙ2重起動IL
;塗布
LDP B04A8                ; TP4stRB 塗布 1ｻｲｸﾙPB
AND= EM1109 #0           ; 4st 1ｻｲｸﾙ2重起動IL
OUT R70008               ; 1stRB 塗布 1ｻｲｸﾙ_Man
@MOV #1 EM1109           ; 4st 1ｻｲｸﾙ2重起動IL
;送りCV
LDP B04C8                ; TP4st CV ｽﾄｯﾊﾟ→5stｴｽｹｰﾊ 1ｻｲｸﾙPB
AND= EM1109 #0           ; 4st 1ｻｲｸﾙ2重起動IL
OUT R70108               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ_Man
@MOV #1 EM1109           ; 4st 1ｻｲｸﾙ2重起動IL
LDP B04C9                ; TP4st受取ｽﾄｯﾊﾟ→4stｽﾄｯﾊﾟ 1ｻｲｸﾙPB
AND= EM1109 #0           ; 4st 1ｻｲｸﾙ2重起動IL
OUT R70109               ; 4st受取ｽﾄｯﾊﾟ→4stｽﾄｯﾊﾟ 1ｻｲｸﾙ_Man
@MOV #1 EM1109           ; 4st 1ｻｲｸﾙ2重起動IL
LDP B04CA                ; TP4st受取ｴｽｹｰﾊ→ｽﾄｯﾊﾟ 1ｻｲｸﾙPB
AND= EM1109 #0           ; 4st 1ｻｲｸﾙ2重起動IL
OUT R70110               ; 4st受取ｴｽｹｰﾊ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ_Man
@MOV #1 EM1109           ; 4st 1ｻｲｸﾙ2重起動IL
LDP B04CB                ; TP4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙPB
AND= EM1109 #0           ; 4st 1ｻｲｸﾙ2重起動IL
OUT R70111               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ_Man
@MOV #1 EM1109           ; 4st 1ｻｲｸﾙ2重起動IL
;ﾘﾀｰﾝCV
LDP B04CC                ; TP4st ﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙPB
AND= EM1109 #0           ; 4st 1ｻｲｸﾙ2重起動IL
OUT R70112               ; 4st ﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ_Man
@MOV #1 EM1109           ; 4st 1ｻｲｸﾙ2重起動IL
LDP B04CD                ; TP4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙPB
AND= EM1109 #0           ; 4st 1ｻｲｸﾙ2重起動IL
OUT R70113               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作_Ma
@MOV #1 EM1109           ; 4st 1ｻｲｸﾙ2重起動IL
LDB B04A0                ; TP4stRB 原位置 1ｻｲｸﾙPB
ANB B04A1                ; TP4stRB ﾌﾝｼﾝｷﾞﾔﾄ(上)取出 1ｻｲｸﾙPB
ANB B04A2                ; TP4stRB ﾌﾝｼﾝｷﾞﾔﾄ(下)取出 1ｻｲｸﾙPB
ANB B04A5                ; TP4stRB ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙPB
ANB B04A6                ; TP4stRB 送りCV組込 1ｻｲｸﾙPB
ANB B04A8                ; TP4stRB 塗布 1ｻｲｸﾙPB
ANB B04C8                ; TP4st CV ｽﾄｯﾊﾟ→5stｴｽｹｰﾊ 1ｻｲｸﾙPB
ANB B04C9                ; TP4st受取ｽﾄｯﾊﾟ→4stｽﾄｯﾊﾟ 1ｻｲｸﾙPB
ANB B04CA                ; TP4st受取ｴｽｹｰﾊ→ｽﾄｯﾊﾟ 1ｻｲｸﾙPB
ANB B04CB                ; TP4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙPB
ANB B04CC                ; TP4st ﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙPB
ANB B04CD                ; TP4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙPB
ANB MR10500              ; 4st 動作SUB 起動中
MOV #0 EM1109            ; 4st 1ｻｲｸﾙ2重起動IL
;<h1/>原位置 1ｻｲｸﾙ
LDB R70000               ; 4stRB 原位置 1ｻｲｸﾙ_Man
ANB MR13100              ; 4stRB 原位置1ｻｲｸﾙ_ORG
INV
OUT R70202               ; 4st 原位置 1ｻｲｸﾙ補助
LDP R70202               ; 4st 原位置 1ｻｲｸﾙ補助
AND R70201               ; 4st 原位置 1ｻｲｸﾙ可
OR R70200                ; 4st 原位置 1ｻｲｸﾙ動作
AND @MR002               ; 1ｻｲｸﾙ可能
ANB R70209               ; 4st 原位置 1ｻｲｸﾙ完了
OUT R70200               ; 4st 原位置 1ｻｲｸﾙ動作
@MOV #1 DM1131           ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD @MR002                ; 1ｻｲｸﾙ可能
ANB MR10501              ; 4st ｽｶﾗRB 1ｻｲｸﾙ起動中
ANB R70200               ; 4st 原位置 1ｻｲｸﾙ動作
ANB R70209               ; 4st 原位置 1ｻｲｸﾙ完了
AND MR51203              ; 4stRB 準備完了
OUT R70201               ; 4st 原位置 1ｻｲｸﾙ可
;動作MC
LD R70200                ; 4st 原位置 1ｻｲｸﾙ動作
MC
LD= DM1121 #1            ; UT4_COM1_条件REG[1ｻｲｸﾙ]
AND R70200               ; 4st 原位置 1ｻｲｸﾙ動作
OUT R70300               ; 4stRB 原位置 移動
@MOV #0 EM1101           ; 4stRB 補正[0無/1ｶﾒﾗ/2塗/3:CV]
MPS
LD MR51914               ; 4stRB 動作可能
OR R70301                ; 4stRB 原位置 移動_1ｻｲｸﾙ
ANL
OUT R70301               ; 4stRB 原位置 移動_1ｻｲｸﾙ
MRD
LDB MR51700              ; 4stRB 原位置
OR R70302                ; 4stRB 原位置移動開始確認
ANL
OUT R70302               ; 4stRB 原位置移動開始確認
MPP
LD R70302                ; 4stRB 原位置移動開始確認
AND MR51700              ; 4stRB 原位置
ANL
@MOV #10 DM1131          ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD= DM1121 #10           ; UT4_COM1_条件REG[1ｻｲｸﾙ]
MPS
OUT R70308               ; 4stRB 原位置 移動完了
MPP
ANB R70202               ; 4st 原位置 1ｻｲｸﾙ補助
@MOV #20 DM1131          ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD= DM1121 #20           ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R70209               ; 4st 原位置 1ｻｲｸﾙ完了
@MOV #0 DM1121           ; UT4_COM1_条件REG[1ｻｲｸﾙ]
@MOV #0 DM1131           ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
MCR
;<h1/>ﾜｰｸ取出 1ｻｲｸﾙ
LD CR2002                ; 常時ON
MPS
LDB R70001               ; 4stRB ﾌﾝｼﾝｷﾞﾔﾄ(上)取出_Man
ANB MR15211              ; 4stRB ﾌﾝｼﾝｷﾞﾔ(上)へ取出1ｻｲｸﾙ_AUT
ANL
INV
OUT R70401               ; 4st ﾌﾝｼﾝｷﾞﾔ(上)取出 1ｻｲｸﾙ補助
MPP
LDB R70002               ; 4stRB ﾌﾝｼﾝｷﾞﾔﾄ(下)取出_Man
ANB MR15212              ; 4stRB ﾌﾝｼﾝｷﾞﾔ(下)へ取出1ｻｲｸﾙ_AUT
ANL
INV
OUT R70402               ; 4st ﾌﾝｼﾝｷﾞﾔ(下)取出 1ｻｲｸﾙ補助
LDP R70401               ; 4st ﾌﾝｼﾝｷﾞﾔ(上)取出 1ｻｲｸﾙ補助
AND R70411               ; 4st ﾌﾝｼﾝｷﾞﾔ(上)取出 1ｻｲｸﾙ可
LDP R70402               ; 4st ﾌﾝｼﾝｷﾞﾔ(下)取出 1ｻｲｸﾙ補助
AND R70412               ; 4st ﾌﾝｼﾝｷﾞﾔ(下)取出 1ｻｲｸﾙ可
ORL
OR R70400                ; 4st ﾌﾝｼﾝｷﾞﾔ取出 1ｻｲｸﾙ動作
AND @MR002               ; 1ｻｲｸﾙ可能
ANB R70415               ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出1ｻｲｸﾙ完了まとめ
OUT R70400               ; 4st ﾌﾝｼﾝｷﾞﾔ取出 1ｻｲｸﾙ動作
MPS
ANP R70400               ; 4st ﾌﾝｼﾝｷﾞﾔ取出 1ｻｲｸﾙ動作
MPS
AND R70401               ; 4st ﾌﾝｼﾝｷﾞﾔ(上)取出 1ｻｲｸﾙ補助
MOV #0 EM1100            ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
MPP
AND R70402               ; 4st ﾌﾝｼﾝｷﾞﾔ(下)取出 1ｻｲｸﾙ補助
MOV #1 EM1100            ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
MPP
@MOV #1 DM1131           ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD @MR002                ; 1ｻｲｸﾙ可能
MPS
LDB MR10501              ; 4st ｽｶﾗRB 1ｻｲｸﾙ起動中
ANB R70400               ; 4st ﾌﾝｼﾝｷﾞﾔ取出 1ｻｲｸﾙ動作
ANB R70415               ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出1ｻｲｸﾙ完了まとめ
AND MR51203              ; 4stRB 準備完了
AND MR51815              ; 4stRB 上昇端
AND T101                 ; 4st ｽｶﾗRB ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ開端
AND MR51210              ; 4st ﾄﾚｲNo 範囲内
ANL
OUT R70405               ; 4st ﾌﾝｼﾝｷﾞﾔ取出 1ｻｲｸﾙ動作可
MPP
AND R70405               ; 4st ﾌﾝｼﾝｷﾞﾔ取出 1ｻｲｸﾙ動作可
MPS
AND T160                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)ｽﾗｲﾀﾞ 出端
OUT R70411               ; 4st ﾌﾝｼﾝｷﾞﾔ(上)取出 1ｻｲｸﾙ可
MPP
LD T170                  ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)ｽﾗｲﾀﾞ 出端
AND T161                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)ｽﾗｲﾀﾞ 戻端
ANL
OUT R70412               ; 4st ﾌﾝｼﾝｷﾞﾔ(下)取出 1ｻｲｸﾙ可
LD R70400                ; 4st ﾌﾝｼﾝｷﾞﾔ取出 1ｻｲｸﾙ動作
AND<= #0 EM1100          ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
AND<= EM1100 #1          ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
OUT R70406               ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出中
;動作MC
LD R70400                ; 4st ﾌﾝｼﾝｷﾞﾔ取出 1ｻｲｸﾙ動作
MC
LD= DM1121 #1            ; UT4_COM1_条件REG[1ｻｲｸﾙ]
AND R70400               ; 4st ﾌﾝｼﾝｷﾞﾔ取出 1ｻｲｸﾙ動作
OUT R70500               ; 4stRB ﾌﾝｼﾝｷﾞﾔﾄﾚｲ 上昇
@MOV #0 EM1101           ; 4stRB 補正[0無/1ｶﾒﾗ/2塗/3:CV]
MPS
LD MR51914               ; 4stRB 動作可能
AND= EM1100 #0           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
OR R70508                ; 4stRB ﾌﾝｼﾝｷﾞﾔ(上)上昇_1ｻｲｸﾙ
ANL
OUT R70508               ; 4stRB ﾌﾝｼﾝｷﾞﾔ(上)上昇_1ｻｲｸﾙ
MRD
LD MR51914               ; 4stRB 動作可能
AND= EM1100 #1           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
OR R70509                ; 4stRB ﾌﾝｼﾝｷﾞﾔ(下)上昇_1ｻｲｸﾙ
ANL
OUT R70509               ; 4stRB ﾌﾝｼﾝｷﾞﾔ(下)上昇_1ｻｲｸﾙ
MPP
LD MR51701               ; 4stRB ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 上昇端
AND= EM1100 #0           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
LD MR51702               ; 4stRB ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 上昇端
AND= EM1100 #1           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
ORL
ANL
@MOV #100 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD= DM1121 #100          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
AND R70400               ; 4st ﾌﾝｼﾝｷﾞﾔ取出 1ｻｲｸﾙ動作
OUT R70501               ; 4stRB ﾌﾝｼﾝｷﾞﾔﾄﾚｲ 下降
MPS
LD MR51914               ; 4stRB 動作可能
AND MR51301              ; 4stRB ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)下降可
AND= EM1100 #0           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
OR R70510                ; 4stRB ﾌﾝｼﾝｷﾞﾔ(上)下降_1ｻｲｸﾙ
ANL
OUT R70510               ; 4stRB ﾌﾝｼﾝｷﾞﾔ(上)下降_1ｻｲｸﾙ
MRD
LD MR51914               ; 4stRB 動作可能
AND MR51302              ; 4stRB ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)下降可
AND= EM1100 #1           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
OR R70511                ; 4stRB ﾌﾝｼﾝｷﾞﾔ(下)下降_1ｻｲｸﾙ
ANL
OUT R70511               ; 4stRB ﾌﾝｼﾝｷﾞﾔ(下)下降_1ｻｲｸﾙ
MPP
LD MR51601               ; 4stRB ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 下降端
AND= EM1100 #0           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
LD MR51602               ; 4stRB ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 下降端
AND= EM1100 #1           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
ORL
ANL
@MOV #110 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD= DM1121 #110          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R70502               ; 4stRB ﾌﾝｼﾝｷﾞﾔ ﾁｬｯｸ 閉
MPS
ANB MR6000               ; 設定1_ﾜｰｸ無運転有効
OUT R70601               ; 4stRB ﾁｬｯｸ閉_1ｻｲｸﾙ
MRD
OUT LR15000              ; 4stRB ﾌﾝｼﾝｷﾞﾔ ﾁｬｯｸ閉_Mem
MPP
LD T100                  ; 4st ｽｶﾗRB ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ閉端
OR MR6000                ; 設定1_ﾜｰｸ無運転有効
ANL
@MOV #120 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD= DM1121 #120          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R70503               ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出後 上昇
MPS
LD MR51914               ; 4stRB 動作可能
AND= EM1100 #0           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
OR R70608                ; 4stRB ﾌﾝｼﾝｷﾞﾔ(上)上昇_1ｻｲｸﾙ
ANL
OUT R70608               ; 4stRB ﾌﾝｼﾝｷﾞﾔ(上)上昇_1ｻｲｸﾙ
MRD
LD MR51914               ; 4stRB 動作可能
AND= EM1100 #1           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
OR R70609                ; 4stRB ﾌﾝｼﾝｷﾞﾔ(下)上昇_1ｻｲｸﾙ
ANL
OUT R70609               ; 4stRB ﾌﾝｼﾝｷﾞﾔ(下)上昇_1ｻｲｸﾙ
MPP
LD MR51701               ; 4stRB ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 上昇端
AND= EM1100 #0           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
LD MR51702               ; 4stRB ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 上昇端
AND= EM1100 #1           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
ORL
ANL
@MOV #130 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD= DM1121 #130          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R70409               ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出 1ｻｲｸﾙ完了
LD R70409                ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出 1ｻｲｸﾙ完了
LD= EM1100 #0            ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
ANB R70401               ; 4st ﾌﾝｼﾝｷﾞﾔ(上)取出 1ｻｲｸﾙ補助
LD= EM1100 #1            ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
ANB R70402               ; 4st ﾌﾝｼﾝｷﾞﾔ(下)取出 1ｻｲｸﾙ補助
ORL
ANL
OUT R70415               ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出1ｻｲｸﾙ完了まとめ
MPS
AND R70415               ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出1ｻｲｸﾙ完了まとめ
OUT LR15010              ; 4stRB ﾄﾚｲ取出完了_Mem
MRD
@MOV #0 DM1121           ; UT4_COM1_条件REG[1ｻｲｸﾙ]
MPP
@MOV #0 DM1131           ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
MCR
;<h1/>ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ
LDB R70005               ; 4stRB ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ_Man
ANB MR15301              ; 4stRB ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ_AUT
ANB MR14403              ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄSUB_AUT
INV
OUT R70802               ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ補助
LDP R70802               ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ補助
AND R70801               ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ可
OR R70800                ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ動作
AND @MR002               ; 1ｻｲｸﾙ可能
ANB R70815               ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ完了まとめ
OUT R70800               ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ動作
MPS
ANP R70800               ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ動作
MOV #1 W1120             ; TP4st 次取出番号
MPP
@MOV #1 DM1131           ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD @MR002                ; 1ｻｲｸﾙ可能
ANB MR10501              ; 4st ｽｶﾗRB 1ｻｲｸﾙ起動中
ANB R70800               ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ動作
ANB R70815               ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ完了まとめ
AND MR51203              ; 4stRB 準備完了
AND MR51815              ; 4stRB 上昇端
LD T100                  ; 4st ｽｶﾗRB ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ閉端
OR MR6000                ; 設定1_ﾜｰｸ無運転有効
ANL
OUT R70801               ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ可
LD R70800                ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ動作
OUT R70806               ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ中
;動作MC
LD R70800                ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ動作
MC
LD= DM1121 #1            ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R70900               ; 4stRB ｶﾒﾗ位置 移動
MPS
AND R70900               ; 4stRB ｶﾒﾗ位置 移動
@MOV #0 EM1101           ; 4stRB 補正[0無/1ｶﾒﾗ/2塗/3:CV]
@MOV #0 EM1102           ; 4stRB ｶﾒﾗﾄﾘｶﾞ回数
MPS
ANB MR14403              ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄSUB_AUT
@FMOV #0 W0800 #10       ; ｶﾒﾗ1 X方向ｽﾞﾚ量 積算値
MRD
AND MR14403              ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄSUB_AUT
@MOV #1 EM1101           ; 4stRB 補正[0無/1ｶﾒﾗ/2塗/3:CV]
MPP
@MOV #0 DM1141           ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
MRD
LD MR51914               ; 4stRB 動作可能
OR R70910                ; 4stRB ｶﾒﾗ位置 移動_1ｻｲｸﾙ
ANL
OUT R70910               ; 4stRB ｶﾒﾗ位置 移動_1ｻｲｸﾙ
MPP
AND MR51705              ; 4stRB ｶﾒﾗ 上昇端
MPS
LDB MR6000               ; 設定1_ﾜｰｸ無運転有効
AND= EM1102 #0           ; 4stRB ｶﾒﾗﾄﾘｶﾞ回数
LD=.L W0800 +0           ; ｶﾒﾗ1 X方向ｽﾞﾚ量 積算値
AND=.L W0802 +0          ; ｶﾒﾗ1 Y方向ｽﾞﾚ量 積算値
AND=.L W0804 +0          ; ｶﾒﾗ1 θ方向ｽﾞﾚ量 積算値
OR MR14403               ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄSUB_AUT
ANL
ANL
@MOV #210 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
MPP
AND MR6000               ; 設定1_ﾜｰｸ無運転有効
@MOV #240 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD CR2002                ; 常時ON
MPS
AND MR57110              ; 4stRB ｽﾞﾚ量XYθ範囲内
OUT R70905               ; 4stRB ｱﾗｲﾒﾝﾄ範囲内
MPP
LD<= DM7106 EM1102       ; 4st ﾘﾄﾗｲ回数(確認ﾓｰﾄﾞ)  4stRB ｶﾒﾗﾄﾘｶﾞ回数
ANB MR57110              ; 4stRB ｽﾞﾚ量XYθ範囲内
ANL
OUT R70906               ; 4st ｱﾗｲﾒﾝﾄﾘﾄﾗｲ回数到達
;<h1/>190708  74805追加
;181218  110  0-10-20-10-3  111  3-20-10-3
;180203  4ST  ｳｫーﾑ優先
;1706030  ｱﾗｲﾒﾝﾄ条件追加
;170526  111  50⇒30⇒20⇒30,20-4-0
;170525  110  50⇒60⇒55⇒60⇒25⇒15⇒25,15-8-4-0-10
;
LD= DM1121 #210          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
MPS
AND T111
OUT R70901               ; 4stRB ｶﾒﾗ位置 移動完了
MRD
TMH #110 #0              ; 4stRB ｱﾗｲﾒﾝﾄ前停止DLY
MRD
TMH #111 #0
MRD
LDB R73207               ; 4st ｳｫｰﾑ位置下流優先IL
ANB R74803               ; 5st 下流工程ｱﾗｲﾒﾝﾄ優先IL
ANB R74805               ; @5ST ｱﾗｲﾒﾝﾄ中
ANL
OUT R70803               ; 4st 下流工程ｱﾗｲﾒﾝﾄ優先IL
MPP
ANB R70914               ; 4st ｶﾒﾗ異常 ﾘﾄﾗｲ
MPS
LD= DM890 #0             ; 画像処理ﾄﾘｶﾞIL
AND MR57001              ; 画像処理  ｶﾒﾗ1ﾄﾘｶﾞ 許可信号
ANB R70906               ; 4st ｱﾗｲﾒﾝﾄﾘﾄﾗｲ回数到達
AND T110                 ; 4stRB ｱﾗｲﾒﾝﾄ前停止DLY
AND R70803               ; 4st 下流工程ｱﾗｲﾒﾝﾄ優先IL
OR R70915                ; 4stRB ｶﾒﾗﾄﾘｶﾞ_1ｻｲｸﾙ
ANL
MPS
@INC EM1102              ; 4stRB ｶﾒﾗﾄﾘｶﾞ回数
CON
OUT R70915               ; 4stRB ｶﾒﾗﾄﾘｶﾞ_1ｻｲｸﾙ
MPP
@MOV #1 DM890            ; 画像処理ﾄﾘｶﾞIL
MRD
LD MR57101               ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ
AND MR57104              ; 画像処理 ｶﾒﾗ1 ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ OK
AND R70806               ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ中
ANB R70906               ; 4st ｱﾗｲﾒﾝﾄﾘﾄﾗｲ回数到達
ANL
@MOV #220 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
MPP
LD MR57101               ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ
AND MR57105              ; 画像処理 ｶﾒﾗ1 ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ NG
AND R70806               ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ中
OR R70906                ; 4st ｱﾗｲﾒﾝﾄﾘﾄﾗｲ回数到達
OR R70909                ; 4stRB ｶﾒﾗ1NG→ｳｨﾝﾄﾞ表示
ANL
OUT R70909               ; 4stRB ｶﾒﾗ1NG→ｳｨﾝﾄﾞ表示
;ｳｨﾝﾄﾞｳ画面選択
LD= DM1121 #210          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
AND R70909               ; 4stRB ｶﾒﾗ1NG→ｳｨﾝﾄﾞ表示
LD B14B2                 ; TP4st ｶﾒﾗ確認(W231)表示
ORB MR4000               ; 自動運転
ANL
MPS
LD B24B0                 ; TP4st ﾘﾄﾗｲ選択中
AND MR915                ; 自動運転中 ｳｨﾝﾄﾞｳ画面続行PB
OR R70914                ; 4st ｶﾒﾗ異常 ﾘﾄﾗｲ
ANL
OUT R70914               ; 4st ｶﾒﾗ異常 ﾘﾄﾗｲ
@MOV #0 EM1102           ; 4stRB ｶﾒﾗﾄﾘｶﾞ回数
MRD
LD B24B2                 ; TP4st 次取出選択中
AND MR915                ; 自動運転中 ｳｨﾝﾄﾞｳ画面続行PB
ANL
@MOV #280 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
@MOV #0 EM1102           ; 4stRB ｶﾒﾗﾄﾘｶﾞ回数
MPP
LD B24B1                 ; TP4st ｻｲｸﾙ停止選択中
AND MR915                ; 自動運転中 ｳｨﾝﾄﾞｳ画面続行PB
ORB MR4000               ; 自動運転
ANL
@MOV #290 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD CR2002                ; 常時ON
CAL- #84 DM13012 W1121   ; 4stRB ﾄﾚｲNo  4stRB ﾄﾚｲ残りﾜｰｸ数
MPS
AND<= W1120 #0           ; TP4st 次取出番号
MOV #1 W1120             ; TP4st 次取出番号
MPP
AND<= W1121 W1120        ; 4stRB ﾄﾚｲ残りﾜｰｸ数  TP4st 次取出番号
MOV W1121 W1120          ; 4stRB ﾄﾚｲ残りﾜｰｸ数  TP4st 次取出番号
LD= DM1121 #210          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
AND T110                 ; 4stRB ｱﾗｲﾒﾝﾄ前停止DLY
ANB R70909               ; 4stRB ｶﾒﾗ1NG→ｳｨﾝﾄﾞ表示
OUT R70804               ; 4st ｱﾗｲﾒﾝﾄ中
LD LR10001               ; TP設定 4st補正後確認
OUT R70902               ; 4stRB 補正後確認有
LD= DM1121 #220          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R70907               ; 4stRB 補正後ｶﾒﾗ移動完了
MPS
ANB R70905               ; 4stRB ｱﾗｲﾒﾝﾄ範囲内
@MOV #230 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
MPP
LD R70905                ; 4stRB ｱﾗｲﾒﾝﾄ範囲内
ORB R70902               ; 4stRB 補正後確認有
ANL
@MOV #240 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
OUT R70814               ; 4stRB ｱﾗｲﾒﾝﾄ範囲内確認
LD= DM1121 #230          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R70903               ; 4stRB ｶﾒﾗﾄﾘｶﾞ 完了
MPS
LD MR51914               ; 4stRB 動作可能
OR R70904                ; 4stRB 補正後ｶﾒﾗ移動_1ｻｲｸﾙ
ANL
OUT R70904               ; 4stRB 補正後ｶﾒﾗ移動_1ｻｲｸﾙ
@MOV #1 EM1101           ; 4stRB 補正[0無/1ｶﾒﾗ/2塗/3:CV]
MRD
LD MR51900               ; 4stRB 移動中
ANB MR51705              ; 4stRB ｶﾒﾗ 上昇端
OR R70912                ; 4stRB 補正後移動確認
ANL
OUT R70912               ; 4stRB 補正後移動確認
MPP
LD MR51705               ; 4stRB ｶﾒﾗ 上昇端
AND R70912               ; 4stRB 補正後移動確認
ANL
@MOV #210 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD= DM1121 #240          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R70809               ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ 正常完了
LD= DM1121 #280          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R70811               ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ 取直完了
LD= DM1121 #290          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R70810               ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ 異常完了
LD R70809                ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ 正常完了
OR R70810                ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ 異常完了
OR R70811                ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ 取直完了
ANB R70802               ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ補助
OUT R70815               ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ完了まとめ
@MOV #0 DM1121           ; UT4_COM1_条件REG[1ｻｲｸﾙ]
@MOV #0 DM1131           ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD R70901                ; 4stRB ｶﾒﾗ位置 移動完了
OR R70813                ; 4stRB ｱﾗｲﾒﾝﾄ補正中
AND R70800               ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ動作
ANB R70814               ; 4stRB ｱﾗｲﾒﾝﾄ範囲内確認
OUT R70813               ; 4stRB ｱﾗｲﾒﾝﾄ補正中
MCR
;<h1/>塗布 1ｻｲｸﾙ
LDB R70008               ; 1stRB 塗布 1ｻｲｸﾙ_Man
ANB MR15302              ; 4stRBｸﾞﾘｽ塗布1ｻｲｸﾙ_AUT
INV
OUT R71002               ; 4stRB 塗布 1ｻｲｸﾙ補助
LDP R71002               ; 4stRB 塗布 1ｻｲｸﾙ補助
AND R71001               ; 4stRB 塗布 1ｻｲｸﾙ可
OR R71000                ; 4stRB 塗布 1ｻｲｸﾙ動作
AND @MR002               ; 1ｻｲｸﾙ可能
ANB R71015               ; 4stRB 塗布1ｻｲｸﾙ完了
OUT R71000               ; 4stRB 塗布 1ｻｲｸﾙ動作
@MOV #1 DM1131           ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD @MR002                ; 1ｻｲｸﾙ可能
ANB MR10501              ; 4st ｽｶﾗRB 1ｻｲｸﾙ起動中
ANB R71000               ; 4stRB 塗布 1ｻｲｸﾙ動作
ANB R71015               ; 4stRB 塗布1ｻｲｸﾙ完了
AND MR51203              ; 4stRB 準備完了
AND MR51815              ; 4stRB 上昇端
AND MR51705              ; 4stRB ｶﾒﾗ 上昇端
LD T100                  ; 4st ｽｶﾗRB ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ閉端
OR MR6000                ; 設定1_ﾜｰｸ無運転有効
ANL
AND T131                 ; 4st ｼﾘｺﾝｸﾞﾘｽ塗布 ｽﾗｲﾄﾞ戻端
OUT R71001               ; 4stRB 塗布 1ｻｲｸﾙ可
;動作MC
LD R71000                ; 4stRB 塗布 1ｻｲｸﾙ動作
MC
LD MR4302                ; 共通動作  ｽﾃｯﾌﾟｼﾌﾄOK
AND MR58101              ; 4st ｸﾞﾘｽ捨て打ち可
AND CR2003               ; 常時OFF
OR R71005                ; 4stｸﾞﾘｽ塗布 塗布前捨て打ち
AND R71000               ; 4stRB 塗布 1ｻｲｸﾙ動作
OUT R71005               ; 4stｸﾞﾘｽ塗布 塗布前捨て打ち
OUT R71006               ; 4stｸﾞﾘｽ塗布 塗布前捨て打ち_1ｻｲｸﾙ
LD MR58103               ; 4st ｸﾞﾘｽ捨て打ち完了
OR R71007                ; 4stｸﾞﾘｽ塗布 塗布前捨て打ち確認
AND R71005               ; 4stｸﾞﾘｽ塗布 塗布前捨て打ち
OUT R71007               ; 4stｸﾞﾘｽ塗布 塗布前捨て打ち確認
LD= DM1121 #1            ; UT4_COM1_条件REG[1ｻｲｸﾙ]
AND CR2002               ; 常時ON
OUT R71100               ; 4stRB 塗布動作
@MOV #2 EM1101           ; 4stRB 補正[0無/1ｶﾒﾗ/2塗/3:CV]
MPS
LD MR51914               ; 4stRB 動作可能
OR R71111                ; 4stRB 塗布①移動_1ｻｲｸﾙ
ANL
OUT R71111               ; 4stRB 塗布①移動_1ｻｲｸﾙ
MRD
AND MR51708              ; 4stRB 塗布① 上昇端
TMR #1100 #10            ; 4stRB 塗布①移動_停止DLY
MPP
AND T1100                ; 4stRB 塗布①移動_停止DLY
@MOV #310 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD= DM1121 #310          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R71101               ; 4stRB 塗布①移動確認
MPS
LD MR51708               ; 4stRB 塗布① 上昇端
AND MR58010              ; 4st ｼﾘｺﾝｸﾞﾘｽDIS吐出可能
OR R71200                ; 4stRB 塗布①_1ｻｲｸﾙ
ANL
OUT R71200               ; 4stRB 塗布①_1ｻｲｸﾙ
MRD
LD MR58012               ; 4st ｼﾘｺﾝｸﾞﾘｽDIS吐出完了
OR MR58015               ; 4st ｸﾞﾘｽ塗布動作無し
OR R71204                ; 4stRB 塗布①完了確認
AND R71200               ; 4stRB 塗布①_1ｻｲｸﾙ
ANL
OUT R71204               ; 4stRB 塗布①完了確認
TMR #1111 DM550          ; 4st塗布①後停止DLY  4st塗布後停止ﾀｲﾏｰ値
MPP
AND T1111                ; 4st塗布①後停止DLY
@MOV #320 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD= DM1121 #320          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R71102               ; 4stRB 塗布①完了
MPS
LD MR51914               ; 4stRB 動作可能
OR R71112                ; 4stRB 塗布②移動_1ｻｲｸﾙ
ANL
OUT R71112               ; 4stRB 塗布②移動_1ｻｲｸﾙ
MRD
LD MR51709               ; 4stRB 塗布② 上昇端
AND MR58010              ; 4st ｼﾘｺﾝｸﾞﾘｽDIS吐出可能
OR R71201                ; 4stRB 塗布②_1ｻｲｸﾙ
ANL
OUT R71201               ; 4stRB 塗布②_1ｻｲｸﾙ
MRD
LD MR58012               ; 4st ｼﾘｺﾝｸﾞﾘｽDIS吐出完了
OR MR58015               ; 4st ｸﾞﾘｽ塗布動作無し
OR R71205                ; 4stRB 塗布②完了確認
AND R71201               ; 4stRB 塗布②_1ｻｲｸﾙ
ANL
OUT R71205               ; 4stRB 塗布②完了確認
TMR #1112 DM550          ; 4st塗布②後停止DLY  4st塗布後停止ﾀｲﾏｰ値
MPP
AND T1112                ; 4st塗布②後停止DLY
@MOV #330 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD= DM1121 #330          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R71103               ; 4stRB 塗布②完了
MPS
LD MR51914               ; 4stRB 動作可能
OR R71113                ; 4stRB 塗布③移動_1ｻｲｸﾙ
ANL
OUT R71113               ; 4stRB 塗布③移動_1ｻｲｸﾙ
MRD
LD MR51710               ; 4stRB 塗布③ 上昇端
AND MR58010              ; 4st ｼﾘｺﾝｸﾞﾘｽDIS吐出可能
OR R71202                ; 4stRB 塗布③_1ｻｲｸﾙ
ANL
OUT R71202               ; 4stRB 塗布③_1ｻｲｸﾙ
MRD
LD MR58012               ; 4st ｼﾘｺﾝｸﾞﾘｽDIS吐出完了
OR MR58015               ; 4st ｸﾞﾘｽ塗布動作無し
OR R71206                ; 4stRB 塗布③完了確認
AND R71202               ; 4stRB 塗布③_1ｻｲｸﾙ
ANL
OUT R71206               ; 4stRB 塗布③完了確認
TMR #1113 DM550          ; 4st塗布③後停止DLY  4st塗布後停止ﾀｲﾏｰ値
MPP
AND T1113                ; 4st塗布③後停止DLY
@MOV #340 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD= DM1121 #340          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R71104               ; 4stRB 塗布③完了
MPS
LD MR51914               ; 4stRB 動作可能
OR R71114                ; 4stRB 塗布④移動_1ｻｲｸﾙ
ANL
OUT R71114               ; 4stRB 塗布④移動_1ｻｲｸﾙ
MRD
LD MR51711               ; 4stRB 塗布④ 上昇端
AND MR58010              ; 4st ｼﾘｺﾝｸﾞﾘｽDIS吐出可能
OR R71203                ; 4stRB 塗布④_1ｻｲｸﾙ
ANL
OUT R71203               ; 4stRB 塗布④_1ｻｲｸﾙ
MRD
LD MR58012               ; 4st ｼﾘｺﾝｸﾞﾘｽDIS吐出完了
OR MR58015               ; 4st ｸﾞﾘｽ塗布動作無し
OR R71207                ; 4stRB 塗布④完了確認
AND R71203               ; 4stRB 塗布④_1ｻｲｸﾙ
ANL
OUT R71207               ; 4stRB 塗布④完了確認
TMR #1114 DM550          ; 4st塗布④後停止DLY  4st塗布後停止ﾀｲﾏｰ値
MPP
AND T1114                ; 4st塗布④後停止DLY
@MOV #345 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD= DM1121 #345          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R71105               ; 4stRB 塗布④完了
MPS
LD MR51914               ; 4stRB 動作可能
OR R71209                ; 4stRB 塗布④後移動_1ｻｲｸﾙ
ANL
OUT R71209               ; 4stRB 塗布④後移動_1ｻｲｸﾙ
MPP
AND MR51712              ; 4stRB 塗布④後 上昇端
@MOV #350 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD= DM1121 #350          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R71107               ; 4stRB 塗布④後移動完了
@MOV #1 EM1101           ; 4stRB 補正[0無/1ｶﾒﾗ/2塗/3:CV]
MPS
LD MR51914               ; 4stRB 動作可能
OR R71115                ; 4stRB ｶﾒﾗ位置移動_1ｻｲｸﾙ
ANL
OUT R71115               ; 4stRB ｶﾒﾗ位置移動_1ｻｲｸﾙ
MRD
AND MR51705              ; 4stRB ｶﾒﾗ 上昇端
TMR #1115 DM550          ; 4st 塗布確認DLY  4st塗布後停止ﾀｲﾏｰ値
MRD
LDB MR6000               ; 設定1_ﾜｰｸ無運転有効
ANB R71404               ; 4stRB 塗布 ｶﾒﾗ異常 ﾘﾄﾗｲ
ANL
MPS
LD MR51705               ; 4stRB ｶﾒﾗ 上昇端
AND= DM890 #0            ; 画像処理ﾄﾘｶﾞIL
AND MR57001              ; 画像処理  ｶﾒﾗ1ﾄﾘｶﾞ 許可信号
AND T1115                ; 4st 塗布確認DLY
OR R71208                ; 4stRB 塗布 ｶﾒﾗ確認_1ｻｲｸﾙ
ANL
OUT R71208               ; 4stRB 塗布 ｶﾒﾗ確認_1ｻｲｸﾙ
@MOV #1 DM890            ; 画像処理ﾄﾘｶﾞIL
MRD
LD MR57106               ; 画像処理  ｶﾒﾗ1塗布確認
AND MR57107              ; 画像処理 ｶﾒﾗ1塗布 OK
ANL
@MOV #360 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
MPP
LD MR57106               ; 画像処理  ｶﾒﾗ1塗布確認
AND MR57108              ; 画像処理 ｶﾒﾗ1塗布 NG
OR R71212                ; 4stRB 塗布 ｶﾒﾗ異常
ANL
OUT R71212               ; 4stRB 塗布 ｶﾒﾗ異常
MPP
AND MR6000               ; 設定1_ﾜｰｸ無運転有効
@MOV #360 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
;ｳｨﾝﾄﾞｳ画面選択
LD= DM1121 #350          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
AND R71212               ; 4stRB 塗布 ｶﾒﾗ異常
AND B14B3                ; TP4st ｶﾒﾗ確認(W232)表示
MPS
LD B24B0                 ; TP4st ﾘﾄﾗｲ選択中
AND MR915                ; 自動運転中 ｳｨﾝﾄﾞｳ画面続行PB
OR R71404                ; 4stRB 塗布 ｶﾒﾗ異常 ﾘﾄﾗｲ
ANL
OUT R71404               ; 4stRB 塗布 ｶﾒﾗ異常 ﾘﾄﾗｲ
MPP
LD B24B1                 ; TP4st ｻｲｸﾙ停止選択中
AND MR915                ; 自動運転中 ｳｨﾝﾄﾞｳ画面続行PB
ANL
@MOV #390 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD= DM1121 #360          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R71106               ; 4stRB 塗布 ｶﾒﾗ確認OK
MPS
OUT R71109               ; 4st塗布ｽﾗｲﾄﾞ戻_1ｻｲｸﾙ
MPP
AND T131                 ; 4st ｼﾘｺﾝｸﾞﾘｽ塗布 ｽﾗｲﾄﾞ戻端
@MOV #370 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD= DM1121 #370          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
MPS
OUT R71009               ; 4stRB 塗布 1ｻｲｸﾙ正常終了
MPP
AND R71009               ; 4stRB 塗布 1ｻｲｸﾙ正常終了
OUT LR15001              ; 4stRB ｸﾞﾘｽ塗布終了_Mem
LD= DM1121 #390          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R71010               ; 4stRB 塗布 1ｻｲｸﾙ異常終了
LD R71009                ; 4stRB 塗布 1ｻｲｸﾙ正常終了
OR R71010                ; 4stRB 塗布 1ｻｲｸﾙ異常終了
ANB R71002               ; 4stRB 塗布 1ｻｲｸﾙ補助
OUT R71015               ; 4stRB 塗布1ｻｲｸﾙ完了
@MOV #0 DM1121           ; UT4_COM1_条件REG[1ｻｲｸﾙ]
@MOV #0 DM1131           ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
MCR
;<h1/>送りCV組込 1ｻｲｸﾙ
LDB R70006               ; 4stRB 送りCV組込 1ｻｲｸﾙ_Man
ANB MR15401              ; 4stRB ﾌﾝｼﾝｷﾞﾔ CV組込1ｻｲｸﾙ_AUT
INV
OUT R71402               ; 4st 送りCV組込 1ｻｲｸﾙ補助
LDP R71402               ; 4st 送りCV組込 1ｻｲｸﾙ補助
AND R71401               ; 4st 送りCV組込 1ｻｲｸﾙ可
OR R71400                ; 4st 送りCV組込 1ｻｲｸﾙ動作
AND @MR002               ; 1ｻｲｸﾙ可能
ANB R71415               ; 4st 送りCV組込 1ｻｲｸﾙ完了まとめ
OUT R71400               ; 4st 送りCV組込 1ｻｲｸﾙ動作
@MOV #1 DM1131           ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD @MR002                ; 1ｻｲｸﾙ可能
ANB MR10501              ; 4st ｽｶﾗRB 1ｻｲｸﾙ起動中
ANB R71400               ; 4st 送りCV組込 1ｻｲｸﾙ動作
ANB R71415               ; 4st 送りCV組込 1ｻｲｸﾙ完了まとめ
AND MR51203              ; 4stRB 準備完了
AND MR51815              ; 4stRB 上昇端
LD T100                  ; 4st ｽｶﾗRB ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ閉端
OR MR6000                ; 設定1_ﾜｰｸ無運転有効
ANL
AND T201                 ; 4st 送りCVｽﾄｯﾊﾟ 上昇端
AND MR11002              ; 4st 送りCV L/R位置決め 出端
AND T212                 ; 4st 送りCVｽﾄｯﾊﾟ 有確認
AND T207                 ; 4st 送りCVﾌﾟﾛｰﾌﾞ下降端
AND MR11001              ; 4stﾜｰｸ押え 戻まとめ
AND T121                 ; 4st ｳｫｰﾑｷﾞﾔ検出ｶﾒﾗ ｽﾗｲﾄﾞ戻端
ANB MR17210              ; 4st ｳｫｰﾑｷﾞﾔ位置出しSUB_AUT
OUT R71401               ; 4st 送りCV組込 1ｻｲｸﾙ可
;動作MC
LD R71400                ; 4st 送りCV組込 1ｻｲｸﾙ動作
MC
;<h1/>181218  105  0-20-25-20
;170529  105  25-0
LD= DM1121 #1            ; UT4_COM1_条件REG[1ｻｲｸﾙ]
AND R71400               ; 4st 送りCV組込 1ｻｲｸﾙ動作
OUT R71500               ; 4stRB 送りCV組込 上昇
@MOV #3 EM1101           ; 4stRB 補正[0無/1ｶﾒﾗ/2塗/3:CV]
MPS
LDB MR51815              ; 4stRB 上昇端
AND MR51914              ; 4stRB 動作可能
ANP R71500               ; 4stRB 送りCV組込 上昇
OR R71507                ; 4stRB 送りCV組込 上昇_1ｻｲｸﾙ
ANL
OUT R71507               ; 4stRB 送りCV組込 上昇_1ｻｲｸﾙ
MRD
LD MR51815               ; 4stRB 上昇端
AND MR51914              ; 4stRB 動作可能
OR R71508                ; 4stRB 送りCV組込前 移動_1ｻｲｸﾙ
ANL
OUT R71508               ; 4stRB 送りCV組込前 移動_1ｻｲｸﾙ
MRD
LD MR51706               ; 4stRB 送りCV組込 上昇端
AND T105                 ; 4st組込上空停止
ANL
@MOV #500 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
MPP
TMR #105 #19             ; 4st組込上空停止
;<h1/>181218  t112  20
LD= DM1121 #500          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
AND R71400               ; 4st 送りCV組込 1ｻｲｸﾙ動作
OUT R71501               ; 4stRB 送りCV組込 下降
MPS
LD MR51914               ; 4stRB 動作可能
OR R71509                ; 4stRB 送りCV組込 下降_1ｻｲｸﾙ
ANL
OUT R71509               ; 4stRB 送りCV組込 下降_1ｻｲｸﾙ
MRD
LD MR51606               ; 4stRB 送りCV組込 下降端
AND T112                 ; 4st組込後停止
ANL
@MOV #510 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
MPP
TMR #112 #10             ; 4st組込後停止
LD= DM1121 #510          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R71502               ; 4stRB 送りCV組込 ﾁｬｯｸ 開
OUT R71600               ; 4stRB 送りCV組込 ﾁｬｯｸ開_1ｻｲｸﾙ
MPS
AND R71600               ; 4stRB 送りCV組込 ﾁｬｯｸ開_1ｻｲｸﾙ
OUT LR15002              ; 4stRB ﾌﾝｼﾝｷﾞﾔ 組込完了_Mem
MPP
AND T101                 ; 4st ｽｶﾗRB ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ開端
@MOV #520 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD= DM1121 #520          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R71503               ; 4stRB 送りCV組込 上昇
MPS
LD MR51914               ; 4stRB 動作可能
OR R71604                ; 4stRB 送りCV組込 上昇_1ｻｲｸﾙ
ANL
OUT R71604               ; 4stRB 送りCV組込 上昇_1ｻｲｸﾙ
MPP
AND MR51706              ; 4stRB 送りCV組込 上昇端
@MOV #530 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD= DM1121 #530          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R71504               ; 4stRB 送りCV組込 位置決め 戻
MPS
ANB MR4000               ; 自動運転
OUT R71608               ; 4st 送りCV位置決め 戻_1ｻｲｸﾙ
MPP
@MOV #540 DM1131         ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
LD= DM1121 #540          ; UT4_COM1_条件REG[1ｻｲｸﾙ]
OUT R71409               ; 4st 送りCV組込 1ｻｲｸﾙ完了
LD R71409                ; 4st 送りCV組込 1ｻｲｸﾙ完了
ANB R71402               ; 4st 送りCV組込 1ｻｲｸﾙ補助
OUT R71415               ; 4st 送りCV組込 1ｻｲｸﾙ完了まとめ
@MOV #0 DM1121           ; UT4_COM1_条件REG[1ｻｲｸﾙ]
@MOV #0 DM1131           ; UT4_COM1_次動作REG[1ｻｲｸﾙ]
MCR
;<h1/>4st送りCV ｽﾄｯﾊﾟ→ 5st ｴｽｹｰﾊﾟ
LDB R70108               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ_Man
ANB MR27602              ; 5st 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ①SUB_AUT
ANB MR27702              ; 5st 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ②SUB_AUT
INV
OUT R72002               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ補助
LDP R72002               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ補助
AND R72001               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ可
OR R72000                ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
AND @MR002               ; 1ｻｲｸﾙ可能
ANB R72015               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ完了ま
OUT R72000               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
LD @MR002                ; 1ｻｲｸﾙ可能
ANB R72000               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
ANB R72015               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ完了ま
AND MR51803              ; 4stRB 送りCV 干渉外
MPS
AND T212                 ; 4st 送りCVｽﾄｯﾊﾟ 有確認
OUT R72011               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 4st動作可
MRD
LD T421                  ; 5st 送りCVｴｽｹｰﾊﾟ 上昇端
LD T433                  ; 5st 送りCVｴｽｹｰﾊﾟ 無確認
OR T432                  ; 5st 送りCVｴｽｹｰﾊﾟ 有確認
ANL
AND T435                 ; 5st 送りCVﾊﾟﾚｯﾄ押え 無確認
AND MR21013              ; 5st 送りCV L/Rﾊﾟﾚｯﾄ押え 戻端
ANB R76200               ; 5stｴｽｹｰﾊﾟ→5stｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
ANL
OUT R72012               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 下流動作可
MRD
LD T221                  ; 4st 送りCV受取ｽﾄｯﾊﾟ 上昇端
ANB R72200               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
ANL
OUT R72013               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 上流動作可
MPP
LD R72011                ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 4st動作可
AND R72012               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 下流動作可
AND R72013               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 上流動作可
ANL
OUT R72001               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ可
;動作MC
LD R72000                ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
MC
LD R72000                ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
AND MR4302               ; 共通動作  ｽﾃｯﾌﾟｼﾌﾄOK
OR R72110                ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 動作準備
AND R72000               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
MPS
OUT R72110               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 動作準備
MPP
ANB R72100               ; 4st 送りCV ｽﾄｯﾊﾟ下降
OUT R72111               ; 4st 送りCV 位置決め 戻_1ｻｲｸﾙ
LD T432                  ; 5st 送りCVｴｽｹｰﾊﾟ 有確認
AND T435                 ; 5st 送りCVﾊﾟﾚｯﾄ押え 無確認
ANP R72110               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 動作準備
OR R72114                ; 4st→5stｴｽｹｰﾊﾟ動作時ﾊﾟﾚｯﾄ有
AND R72110               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 動作準備
OUT R72114               ; 4st→5stｴｽｹｰﾊﾟ動作時ﾊﾟﾚｯﾄ有
;ｽﾄｯﾊﾟ下降
LD MR11003               ; 4st 送りCV L/R位置決め 戻端
OR R72100                ; 4st 送りCV ｽﾄｯﾊﾟ下降
AND R72110               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 動作準備
OUT R72100               ; 4st 送りCV ｽﾄｯﾊﾟ下降
MPS
AND R72100               ; 4st 送りCV ｽﾄｯﾊﾟ下降
MPS
ANB R72114               ; 4st→5stｴｽｹｰﾊﾟ動作時ﾊﾟﾚｯﾄ有
OUT LR18001              ; 4st 送りCVｽﾄｯﾊﾟ① 排出開始_Mem
MPP
AND R72114               ; 4st→5stｴｽｹｰﾊﾟ動作時ﾊﾟﾚｯﾄ有
OUT LR18011              ; 4st 送りCVｽﾄｯﾊﾟ② 排出開始_Mem
MPP
ANB R72102               ; 4st 送りCV ｽﾄｯﾊﾟ下降確認
OUT R72101               ; 4st 送りCV ｽﾄｯﾊﾟ下降_1ｻｲｸﾙ
LD T200                  ; 4st 送りCVｽﾄｯﾊﾟ　  下降端
OR R72102                ; 4st 送りCV ｽﾄｯﾊﾟ下降確認
AND R72100               ; 4st 送りCV ｽﾄｯﾊﾟ下降
MPS
OUT R72102               ; 4st 送りCV ｽﾄｯﾊﾟ下降確認
MPP
ANB R72104               ; 4stｽﾄｯﾊﾟ通過ｾﾝｻON確認
OUT R72103               ; 4stｽﾄｯﾊﾟ通過ｾﾝｻON待ち
LD T210                  ; 4st 送りCVｽﾄｯﾊﾟ 通過ON確認
OR R72104                ; 4stｽﾄｯﾊﾟ通過ｾﾝｻON確認
AND R72100               ; 4st 送りCV ｽﾄｯﾊﾟ下降
MPS
OUT R72104               ; 4stｽﾄｯﾊﾟ通過ｾﾝｻON確認
MPP
ANB R72106               ; 4st 送りCV ｽﾄｯﾊﾟﾜｰｸ無確認
OUT R72105               ; 4st 送りCV ｽﾄｯﾊﾟｾﾝｻOFF待ち
LD MR11005               ; 4st 送りCVｽﾄｯﾊﾟ 前後無確認
OR R72106                ; 4st 送りCV ｽﾄｯﾊﾟﾜｰｸ無確認
AND R72104               ; 4stｽﾄｯﾊﾟ通過ｾﾝｻON確認
OUT R72106               ; 4st 送りCV ｽﾄｯﾊﾟﾜｰｸ無確認
MPS
AND R72106               ; 4st 送りCV ｽﾄｯﾊﾟﾜｰｸ無確認
OUT LR18002              ; 4st 送りCVｽﾄｯﾊﾟ 排出完了_Mem
MRD
OUT R72107               ; 4st 送りCV ｽﾄｯﾊﾟ上昇_1ｻｲｸﾙ
MPP
ANB R72109               ; 4st 送りCV 5stｴｽｹｰﾊﾟﾜｰｸ到着確認
OUT R72108               ; 5st 送りCVｴｽｹｰﾊﾟｾﾝｻON待ち
LD T432                  ; 5st 送りCVｴｽｹｰﾊﾟ 有確認
AND T435                 ; 5st 送りCVﾊﾟﾚｯﾄ押え 無確認
ANB R72114               ; 4st→5stｴｽｹｰﾊﾟ動作時ﾊﾟﾚｯﾄ有
LD T432                  ; 5st 送りCVｴｽｹｰﾊﾟ 有確認
AND T434                 ; 5st 送りCVﾊﾟﾚｯﾄ押え 有確認
AND R72114               ; 4st→5stｴｽｹｰﾊﾟ動作時ﾊﾟﾚｯﾄ有
ORL
OR R72109                ; 4st 送りCV 5stｴｽｹｰﾊﾟﾜｰｸ到着確認
AND R72102               ; 4st 送りCV ｽﾄｯﾊﾟ下降確認
OUT R72109               ; 4st 送りCV 5stｴｽｹｰﾊﾟﾜｰｸ到着確認
MPS
ANB R72114               ; 4st→5stｴｽｹｰﾊﾟ動作時ﾊﾟﾚｯﾄ有
OUT LR28100              ; 5st 送りCVｴｽｹｰﾊﾟ①1 受取完了_Mem
MPP
AND R72114               ; 4st→5stｴｽｹｰﾊﾟ動作時ﾊﾟﾚｯﾄ有
OUT LR28110              ; 5st 送りCVｴｽｹｰﾊﾟ② 受取完了_Mem
LD T201                  ; 4st 送りCVｽﾄｯﾊﾟ 上昇端
AND R72106               ; 4st 送りCV ｽﾄｯﾊﾟﾜｰｸ無確認
AND R72109               ; 4st 送りCV 5stｴｽｹｰﾊﾟﾜｰｸ到着確認
OUT R72009               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ完了
LD R72009                ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ完了
ANB R72002               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ補助
OUT R72015               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ完了ま
MCR
;<h1/>4st受取ｽﾄｯﾊﾟ→ 4st ｽﾄｯﾊﾟ
LDB R70109               ; 4st受取ｽﾄｯﾊﾟ→4stｽﾄｯﾊﾟ 1ｻｲｸﾙ_Man
ANB MR17102              ; 4stｽﾄｯﾊﾟ 受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟSUB_AUT
INV
OUT R72202               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ補助
LDP R72202               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ補助
AND R72201               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ可
OR R72200                ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
AND @MR002               ; 1ｻｲｸﾙ可能
ANB R72215               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ完了
OUT R72200               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
LD @MR002                ; 1ｻｲｸﾙ可能
ANB R72200               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
ANB R72215               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ完了
LD MR51803               ; 4stRB 送りCV 干渉外
OR MR1500                ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
ANL
MPS
AND T232                 ; 4st 送りCV受取ｽﾄｯﾊﾟ 有確認
OUT R72211               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 4st動作可
MRD
LD T201                  ; 4st 送りCVｽﾄｯﾊﾟ 上昇端
AND T213                 ; 4st 送りCVｽﾄｯﾊﾟ 無確認
ANL
OUT R72212               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 下流動作可
MRD
LD T241                  ; 4st 送りCV受取ｴｽｹｰﾊﾟ 上昇端
ANB R72400               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
ANL
OUT R72213               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 上流動作可
MPP
LD R72211                ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 4st動作可
AND R72212               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 下流動作可
AND R72213               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 上流動作可
ANL
OUT R72201               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ可
;動作MC
LD R72200                ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
MC
LD R72200                ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
AND MR4302               ; 共通動作  ｽﾃｯﾌﾟｼﾌﾄOK
OR R72310                ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 動作準備
AND R72200               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
MPS
OUT R72310               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 動作準備
MPP
ANB R72300               ; 4st 受取ｽﾄｯﾊﾟ下降
OUT R72311               ; 4st 送りCV 位置決め 戻_1ｻｲｸﾙ
OUT R72312               ; 4st 受取ｽﾄｯﾊﾟ 位置決め 戻_1ｻｲｸﾙ
;受取ｽﾄｯﾊﾟ下降
LD MR11003               ; 4st 送りCV L/R位置決め 戻端
AND MR11013              ; 4st 送りCV受取 L/R位置決め 戻端
OR R72300                ; 4st 受取ｽﾄｯﾊﾟ下降
AND R72310               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 動作準備
OUT R72300               ; 4st 受取ｽﾄｯﾊﾟ下降
MPS
AND R72300               ; 4st 受取ｽﾄｯﾊﾟ下降
OUT LR18101              ; 4st 受取ｽﾄｯﾊﾟ 排出開始_Mem
MPP
ANB R72302               ; 4st 受取ｽﾄｯﾊﾟ下降確認
OUT R72301               ; 4st 受取ｽﾄｯﾊﾟ下降_1ｻｲｸﾙ
LD T220                  ; 4st 送りCV受取ｽﾄｯﾊﾟ 下降端
OR R72302                ; 4st 受取ｽﾄｯﾊﾟ下降確認
AND R72300               ; 4st 受取ｽﾄｯﾊﾟ下降
MPS
OUT R72302               ; 4st 受取ｽﾄｯﾊﾟ下降確認
MPP
ANB R72304               ; 4st受取ｽﾄｯﾊﾟ通過ｾﾝｻON確認
OUT R72303               ; 4st受取ｽﾄｯﾊﾟ通過ｾﾝｻON待ち
LD T230                  ; 4st 送りCV受取ｽﾄｯﾊﾟ 通過ON確認
OR R72304                ; 4st受取ｽﾄｯﾊﾟ通過ｾﾝｻON確認
AND R72300               ; 4st 受取ｽﾄｯﾊﾟ下降
MPS
OUT R72304               ; 4st受取ｽﾄｯﾊﾟ通過ｾﾝｻON確認
MPP
ANB R72306               ; 4st 受取ｽﾄｯﾊﾟﾜｰｸ無確認
OUT R72305               ; 4st 受取ｽﾄｯﾊﾟｾﾝｻOFF待ち
LD MR11014               ; 4st 送りCV受取ｽﾄｯﾊﾟ 前後無確認
OR R72306                ; 4st 受取ｽﾄｯﾊﾟﾜｰｸ無確認
AND R72302               ; 4st 受取ｽﾄｯﾊﾟ下降確認
OUT R72306               ; 4st 受取ｽﾄｯﾊﾟﾜｰｸ無確認
MPS
AND R72306               ; 4st 受取ｽﾄｯﾊﾟﾜｰｸ無確認
OUT LR18102              ; 4st 受取ｽﾄｯﾊﾟ 排出完了_Mem
MRD
OUT R72307               ; 4st 受取ｽﾄｯﾊﾟ上昇_1ｻｲｸﾙ
MPP
ANB R72309               ; 4st 送りCV ｽﾄｯﾊﾟﾜｰｸ到着確認
OUT R72308               ; 4st 送りCVｽﾄｯﾊﾟｾﾝｻON待ち
LD T212                  ; 4st 送りCVｽﾄｯﾊﾟ 有確認
OR R72309                ; 4st 送りCV ｽﾄｯﾊﾟﾜｰｸ到着確認
AND R72302               ; 4st 受取ｽﾄｯﾊﾟ下降確認
OUT R72309               ; 4st 送りCV ｽﾄｯﾊﾟﾜｰｸ到着確認
MPS
AND R72309               ; 4st 送りCV ｽﾄｯﾊﾟﾜｰｸ到着確認
OUT LR18000              ; 4st 送りCVｽﾄｯﾊﾟ 受取完了_Mem
MPP
OUT R72315               ; 4st 送りCV 位置決め 出_1ｻｲｸﾙ
LD T221                  ; 4st 送りCV受取ｽﾄｯﾊﾟ 上昇端
AND R72306               ; 4st 受取ｽﾄｯﾊﾟﾜｰｸ無確認
AND R72309               ; 4st 送りCV ｽﾄｯﾊﾟﾜｰｸ到着確認
AND MR11002              ; 4st 送りCV L/R位置決め 出端
OUT R72209               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ完了
LD R72209                ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ完了
ANB R72202               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ補助
OUT R72215               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ完了
MCR
;<h1/>4st受取ｴｽｹｰﾊﾟ→ 受取ｽﾄｯﾊﾟ
LDB R70110               ; 4st受取ｴｽｹｰﾊ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ_Man
ANB MR17602              ; 4st 受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟSUB_AUT
INV
OUT R72402               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ補助
LDP R72402               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ補助
AND R72401               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ可
OR R72400                ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
AND @MR002               ; 1ｻｲｸﾙ可能
ANB R72415               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 完了まとめ
OUT R72400               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
LD @MR002                ; 1ｻｲｸﾙ可能
ANB R72400               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
ANB R72415               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 完了まとめ
MPS
AND T252                 ; 4st 送りCV受取ｴｽｹｰﾊﾟ 有確認
OUT R72411               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 4st動作可
MRD
LD T221                  ; 4st 送りCV受取ｽﾄｯﾊﾟ 上昇端
AND T233                 ; 4st 送りCV受取ｽﾄｯﾊﾟ 無確認
ANB R72200               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
ANL
OUT R72412               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 下流動作可
MRD
LD T269                  ; 4st ﾘﾀｰﾝCVｼﾌﾄ 戻端(ﾘﾀｰﾝCV側)
ANB R72600               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
ANL
OUT R72413               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 上流動作可
MPP
LD R72411                ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 4st動作可
AND R72412               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 下流動作可
AND R72413               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 上流動作可
ANL
OUT R72401               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ可
;動作MC
LD R72400                ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
MC
LD R72400                ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
AND MR4302               ; 共通動作  ｽﾃｯﾌﾟｼﾌﾄOK
OR R72510                ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 動作準備
AND R72400               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
MPS
OUT R72510               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 動作準備
MPP
ANB R72500               ; 4st 受取ｴｽｹｰﾊﾟ下降
OUT R72511               ; 4st 受取ｽﾄｯﾊﾟ 位置決め 戻_1ｻｲｸﾙ
;ｴｽｹｰﾊﾟ下降
LD MR11013               ; 4st 送りCV受取 L/R位置決め 戻端
OR R72500                ; 4st 受取ｴｽｹｰﾊﾟ下降
AND R72510               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 動作準備
OUT R72500               ; 4st 受取ｴｽｹｰﾊﾟ下降
MPS
AND R72500               ; 4st 受取ｴｽｹｰﾊﾟ下降
OUT LR18201              ; 4st 受取ｴｽｹｰﾊﾟ 排出開始_Mem
MPP
ANB R72302               ; 4st 受取ｽﾄｯﾊﾟ下降確認
OUT R72501               ; 4st 受取ｴｽｹｰﾊﾟ下降_1ｻｲｸﾙ
LD T240                  ; 4st 送りCV受取ｴｽｹｰﾊﾟ 下降端
OR R72502                ; 4st 受取ｴｽｹｰﾊﾟ下降確認
AND R72500               ; 4st 受取ｴｽｹｰﾊﾟ下降
MPS
OUT R72502               ; 4st 受取ｴｽｹｰﾊﾟ下降確認
MPP
ANB R72504               ; 4st受取ｴｽｹｰﾊﾟ通過ｾﾝｻON確認
OUT R72503               ; 4st受取ｴｽｹｰﾊﾟ通過ｾﾝｻON待ち
LD T250                  ; 4st 送りCV受取ｴｽｹｰﾊﾟ 通過ON確認
OR R72504                ; 4st受取ｴｽｹｰﾊﾟ通過ｾﾝｻON確認
AND R72500               ; 4st 受取ｴｽｹｰﾊﾟ下降
MPS
OUT R72504               ; 4st受取ｴｽｹｰﾊﾟ通過ｾﾝｻON確認
MPP
ANB R72506               ; 4st 受取ｴｽｹｰﾊﾟﾜｰｸ無確認
OUT R72505               ; 4st受取ｴｽｹｰﾊﾟｾﾝｻOFF待ち
LD MR11015               ; 4st 送りCV受取ｴｽｹｰﾊﾟ 前後無確認
OR R72506                ; 4st 受取ｴｽｹｰﾊﾟﾜｰｸ無確認
AND R72502               ; 4st 受取ｴｽｹｰﾊﾟ下降確認
OUT R72506               ; 4st 受取ｴｽｹｰﾊﾟﾜｰｸ無確認
MPS
AND R72506               ; 4st 受取ｴｽｹｰﾊﾟﾜｰｸ無確認
OUT LR18202              ; 4st 受取ｴｽｹｰﾊﾟ 排出完了_Mem
MRD
OUT R72507               ; 4st 受取ｴｽｹｰﾊﾟ上昇_1ｻｲｸﾙ
MPP
ANB R72509               ; 4st 受取ｽﾄｯﾊﾟ ﾟﾜｰｸ到着確認
OUT R72508               ; 4st 受取ｽﾄｯﾊﾟｾﾝｻON待ち
LD T232                  ; 4st 送りCV受取ｽﾄｯﾊﾟ 有確認
OR R72509                ; 4st 受取ｽﾄｯﾊﾟ ﾟﾜｰｸ到着確認
AND R72502               ; 4st 受取ｴｽｹｰﾊﾟ下降確認
OUT R72509               ; 4st 受取ｽﾄｯﾊﾟ ﾟﾜｰｸ到着確認
MPS
AND R72509               ; 4st 受取ｽﾄｯﾊﾟ ﾟﾜｰｸ到着確認
OUT LR18100              ; 4st 受取ｽﾄｯﾊﾟ 受取完了_Mem
MPP
OUT R72515               ; 4st 受取ｽﾄｯﾊﾟ 位置決め 出_1ｻｲｸﾙ
LD T241                  ; 4st 送りCV受取ｴｽｹｰﾊﾟ 上昇端
AND R72506               ; 4st 受取ｴｽｹｰﾊﾟﾜｰｸ無確認
AND R72509               ; 4st 受取ｽﾄｯﾊﾟ ﾟﾜｰｸ到着確認
AND MR11012              ; 4st 送りCV受取 L/R位置決め 出端
OUT R72409               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ完了
LD R72409                ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ完了
ANB R72402               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ補助
OUT R72415               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 完了まとめ
MCR
;<h1/>ｳｫｰﾑｷﾞﾔ位置出し
LDB R70111               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ_Man
ANB MR17210              ; 4st ｳｫｰﾑｷﾞﾔ位置出しSUB_AUT
INV
OUT R73202               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ補助
LDP R73202               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ補助
AND R73201               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ可
OR R73200                ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ動作
AND @MR002               ; 1ｻｲｸﾙ可能
ANB R73215               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ完了
OUT R73200               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ動作
@MOV #0 DM1123           ; UT4_COM3_条件REG[1ｻｲｸﾙ]
@MOV #0 DM1133           ; UT4_COM3_次動作REG[1ｻｲｸﾙ]
LD @MR002                ; 1ｻｲｸﾙ可能
ANB R73200               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ動作
ANB R73215               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ完了
AND T221                 ; 4st 送りCV受取ｽﾄｯﾊﾟ 上昇端
AND T212                 ; 4st 送りCVｽﾄｯﾊﾟ 有確認
AND MR51804              ; 4stRB 送りCVｶﾒﾗｽﾗｲﾄﾞ 干渉外
ANB R71400               ; 4st 送りCV組込 1ｻｲｸﾙ動作
AND T49                  ; 4stｽﾄｯﾊﾟ投入番号_先頭払出要求off
OUT R73201               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ可
;動作MC
LD R73200                ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ動作
MC
;ｳｨｰﾑｷﾞﾔ位置出し用ﾜｰｸ位置決め
LD= DM1123 #0            ; UT4_COM3_条件REG[1ｻｲｸﾙ]
AND R73200               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ動作
OUT R73300               ; 4st ｳｫｰﾑｷﾞﾔ位置出し ﾜｰｸ位置決め
@DW #0 DM1195            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
CON
@DW #0 DM1197            ; 4st ｳｫｰﾑｷﾞﾔ ﾘﾄﾗｲ有
CON
OUT R73301               ; 4st 送りCV 位置決め 出指令 1ｻｲｸﾙ
LD R73301                ; 4st 送りCV 位置決め 出指令 1ｻｲｸﾙ
AND MR11002              ; 4st 送りCV L/R位置決め 出端
OUT R73302               ; 4st ﾜｰｸ押え 出指令 1ｻｲｸﾙ
OUT R73303               ; 4st ｳｫｰﾑｷﾞﾔ検出ｶﾒﾗ 出指令 1ｻｲｸﾙ
LD R73302                ; 4st ﾜｰｸ押え 出指令 1ｻｲｸﾙ
AND MR11002              ; 4st 送りCV L/R位置決め 出端
AND T124                 ; 4st ﾜｰｸ押え 出端
OUT R73304               ; 4st ﾜｰｸ押え 下降指令 1ｻｲｸﾙ
;<h1/>210317  廃止
;190109  復活
;181225  廃止
;181222  t120接点追加  カメラ出⇒プロ上変更
LD R73304                ; 4st ﾜｰｸ押え 下降指令 1ｻｲｸﾙ
AND MR11002              ; 4st 送りCV L/R位置決め 出端
AND T124                 ; 4st ﾜｰｸ押え 出端
AND T126                 ; 4st ﾜｰｸ押え 下降端
OUT R73305               ; 4st ﾌﾟﾛｰﾌﾞ 上昇指令 1ｻｲｸﾙ
LD R73305                ; 4st ﾌﾟﾛｰﾌﾞ 上昇指令 1ｻｲｸﾙ
AND MR11002              ; 4st 送りCV L/R位置決め 出端
AND T124                 ; 4st ﾜｰｸ押え 出端
AND T126                 ; 4st ﾜｰｸ押え 下降端
AND T206                 ; 4st 送りCVﾌﾟﾛｰﾌﾞ 上昇端
AND T120                 ; 4st ｳｫｰﾑｷﾞﾔ検出ｶﾒﾗ ｽﾗｲﾄﾞ出端
MPS
ANB MR6000               ; 設定1_ﾜｰｸ無運転有効
MOV #100 DM1133          ; UT4_COM3_次動作REG[1ｻｲｸﾙ]
MPP
AND MR6000               ; 設定1_ﾜｰｸ無運転有効
MOV #300 DM1133          ; UT4_COM3_次動作REG[1ｻｲｸﾙ]
;<h1/>ｳｨｰﾑｷﾞﾔ 空回転(1step -> 7step -> 0step)
LD= DM1123 #100          ; UT4_COM3_条件REG[1ｻｲｸﾙ]
OUT R73400               ; 4st ｳｫｰﾑｷﾞﾔ 空回転 1ｻｲｸﾙ
MPS
LD MR18208               ; 4st ｳｫｰﾑｷﾞﾔ 正転(8Step) 可
OR R73401                ; 4st ｳｫｰﾑｷﾞﾔ 空回転指令
ANL
OUT R73401               ; 4st ｳｫｰﾑｷﾞﾔ 空回転指令
MPP
LD R73401                ; 4st ｳｫｰﾑｷﾞﾔ 空回転指令
AND R73500               ; 4st ｳｫｰﾑｷﾞﾔ 正転(8Step)
AND R73503               ; 4st ｳｫｰﾑｷﾞﾔ 正転(8Step) 完了
ANL
DW #0 EM1119             ; 4st ｳｫｰﾑｷﾞﾔ ﾘﾄﾗｲ回数
CON
MOV #200 DM1133          ; UT4_COM3_次動作REG[1ｻｲｸﾙ]
;<h1/>ｳｫｰﾑｷﾞﾔ 画像検出  
;210916  t1180  0-6
;181219  t1180  0-10-0  1181  50-6
;条件追加  170630
;180203  4ST優先
LD= DM1123 #200          ; UT4_COM3_条件REG[1ｻｲｸﾙ]
OUT R73404               ; 4st ｳｫｰﾑｷﾞﾔ 画像検出
MPS
ANB R73410               ; 4st ｳｫｰﾑｷﾞﾔ検出ﾘﾄﾗｲ中
TMH #1180 #0             ; 4st ｳｫｰﾑｷﾞﾔ 画像検出Dly
MRD
AND R73410               ; 4st ｳｫｰﾑｷﾞﾔ検出ﾘﾄﾗｲ中
TMH #1181 #6             ; 4st ｳｫｰﾑｷﾞﾔ 画像検出Dly2
MRD
ANB R74803               ; 5st 下流工程ｱﾗｲﾒﾝﾄ優先IL
OUT R73207               ; 4st ｳｫｰﾑ位置下流優先IL
MPP
ANB R73412               ; 4st ｽﾌﾟﾘﾝｸﾞ検出異常 ﾘﾄﾗｲ
MPS
LD= DM890 #0             ; 画像処理ﾄﾘｶﾞIL
AND MR57004              ; 画像処理  ｶﾒﾗ4ﾄﾘｶﾞ 許可信号
LD T1180                 ; 4st ｳｫｰﾑｷﾞﾔ 画像検出Dly
OR T1181                 ; 4st ｳｫｰﾑｷﾞﾔ 画像検出Dly2
ANL
AND R73207               ; 4st ｳｫｰﾑ位置下流優先IL
OR R73405                ; 4st ｳｫｰﾑｷﾞﾔ ｶﾒﾗﾄﾘｶﾞ 1ｻｲｸﾙ
ANB B24B3                ; 4st ｳｫｰﾑｷﾞﾔ回転 一時停止PL
ANL
OUT R73405               ; 4st ｳｫｰﾑｷﾞﾔ ｶﾒﾗﾄﾘｶﾞ 1ｻｲｸﾙ
@MOV #4 DM890            ; 画像処理ﾄﾘｶﾞIL
MRD
LD MR57401               ; 画像処理 ｶﾒﾗ4検出
AND MR57407              ; 画像処理 ｶﾒﾗ4 ｽﾌﾟﾘﾝｸﾞ検出 NG
OR R73407                ; 4st ｽﾌﾟﾘﾝｸﾞ有無異常
ANL
OUT R73407               ; 4st ｽﾌﾟﾘﾝｸﾞ有無異常
MRD
LD MR57401               ; 画像処理 ｶﾒﾗ4検出
ANB R73407               ; 4st ｽﾌﾟﾘﾝｸﾞ有無異常
AND MR57405              ; 画像処理 ｶﾒﾗ4 ｳｫｰﾑｷﾞﾔ検出 NG
OR T1594                 ; 画像処理ｶﾒﾗ4ﾀｲﾑｵｰﾊﾞｰ
ANL
MPS
@INC EM1119              ; 4st ｳｫｰﾑｷﾞﾔ ﾘﾄﾗｲ回数
MPP
AND<= EM1119 #30         ; 4st ｳｫｰﾑｷﾞﾔ ﾘﾄﾗｲ回数
MOV #210 DM1133          ; UT4_COM3_次動作REG[1ｻｲｸﾙ]
MRD
AND> EM1119 #30          ; 4st ｳｫｰﾑｷﾞﾔ ﾘﾄﾗｲ回数
@DW #0 DM1197            ; 4st ｳｫｰﾑｷﾞﾔ ﾘﾄﾗｲ有
CON
OUT R73406               ; 4st ｳｫｰﾑｷﾞﾔ 位置検出異常
MRD
LD MR57401               ; 画像処理 ｶﾒﾗ4検出
AND MR57404              ; 画像処理 ｶﾒﾗ4 ｳｫｰﾑｷﾞﾔ検出 OK
AND MR57406              ; 画像処理 ｶﾒﾗ4 ｽﾌﾟﾘﾝｸﾞ検出 OK
ANL
MOV #300 DM1133          ; UT4_COM3_次動作REG[1ｻｲｸﾙ]
MPP
AND T1594                ; 画像処理ｶﾒﾗ4ﾀｲﾑｵｰﾊﾞｰ
MOV #0 DM890             ; 画像処理ﾄﾘｶﾞIL
;ｳｨﾝﾄﾞｳ画面選択
;ｳｫｰﾑｷﾞﾔ位置調整
LD= DM1123 #200          ; UT4_COM3_条件REG[1ｻｲｸﾙ]
AND R73406               ; 4st ｳｫｰﾑｷﾞﾔ 位置検出異常
AND B14B4                ; TP4st ｶﾒﾗ確認(W233)表示
MPS
LD B24B0                 ; TP4st ﾘﾄﾗｲ選択中
AND MR915                ; 自動運転中 ｳｨﾝﾄﾞｳ画面続行PB
ANL
DW #0 EM1119             ; 4st ｳｫｰﾑｷﾞﾔ ﾘﾄﾗｲ回数
CON
@DW #1 DM1197            ; 4st ｳｫｰﾑｷﾞﾔ ﾘﾄﾗｲ有
CON
MOV #100 DM1133          ; UT4_COM3_次動作REG[1ｻｲｸﾙ]
MPP
LD B24B1                 ; TP4st ｻｲｸﾙ停止選択中
AND MR915                ; 自動運転中 ｳｨﾝﾄﾞｳ画面続行PB
ANL
MOV #390 DM1133          ; UT4_COM3_次動作REG[1ｻｲｸﾙ]
LD= DM1123 #200          ; UT4_COM3_条件REG[1ｻｲｸﾙ]
LD T1180                 ; 4st ｳｫｰﾑｷﾞﾔ 画像検出Dly
OR T1181                 ; 4st ｳｫｰﾑｷﾞﾔ 画像検出Dly2
ANL
ANB R73406               ; 4st ｳｫｰﾑｷﾞﾔ 位置検出異常
OUT R73205               ; 4st ｳｫｰﾑｷﾞﾔ位置出中
LD<> DM1197 #0           ; 4st ｳｫｰﾑｷﾞﾔ ﾘﾄﾗｲ有
MPS
OUT R73410               ; 4st ｳｫｰﾑｷﾞﾔ検出ﾘﾄﾗｲ中
MPP
LDP B04B3                ; 4st ｳｫｰﾑｷﾞﾔ回転 一時停止PB
ANB B24B3                ; 4st ｳｫｰﾑｷﾞﾔ回転 一時停止PL
LD B24B3                 ; 4st ｳｫｰﾑｷﾞﾔ回転 一時停止PL
ANPB B04B3               ; 4st ｳｫｰﾑｷﾞﾔ回転 一時停止PB
ORL
ANL
OUT B24B3                ; 4st ｳｫｰﾑｷﾞﾔ回転 一時停止PL
;ｽﾌﾟﾘﾝｸﾞ有無確認
LD= DM1123 #200          ; UT4_COM3_条件REG[1ｻｲｸﾙ]
AND R73407               ; 4st ｽﾌﾟﾘﾝｸﾞ有無異常
AND B14B5                ; TP4st ｶﾒﾗ確認(W234)表示
MPS
LD B24B0                 ; TP4st ﾘﾄﾗｲ選択中
AND MR915                ; 自動運転中 ｳｨﾝﾄﾞｳ画面続行PB
ANL
OUT R73412               ; 4st ｽﾌﾟﾘﾝｸﾞ検出異常 ﾘﾄﾗｲ
MPP
LD B24B1                 ; TP4st ｻｲｸﾙ停止選択中
AND MR915                ; 自動運転中 ｳｨﾝﾄﾞｳ画面続行PB
ANL
MOV #390 DM1133          ; UT4_COM3_次動作REG[1ｻｲｸﾙ]
;ｳｫｰﾑｷﾞﾔ 2Step正転
LD= DM1123 #210          ; UT4_COM3_条件REG[1ｻｲｸﾙ]
OUT R73408               ; 4st ｳｫｰﾑｷﾞﾔ 2Step回転
MPS
LD MR18209               ; 4st ｳｫｰﾑｷﾞﾔ 正転(2Step) 可
OR R73409                ; 4st ｳｫｰﾑｷﾞﾔ 2Step回転指令
ANL
OUT R73409               ; 4st ｳｫｰﾑｷﾞﾔ 2Step回転指令
MPP
LD R73409                ; 4st ｳｫｰﾑｷﾞﾔ 2Step回転指令
AND R73508               ; 4st ｳｫｰﾑｷﾞﾔ 正転(2Step)
AND R73511               ; 4st ｳｫｰﾑｷﾞﾔ 正転(2Step)完了
ANL
MOV #200 DM1133          ; UT4_COM3_次動作REG[1ｻｲｸﾙ]
;ｳｨｰﾑｷﾞﾔ位置出し用ﾜｰｸ位置決め解除
LD= DM1123 #300          ; UT4_COM3_条件REG[1ｻｲｸﾙ]
OUT R73308               ; 4st ｳｫｰﾑｷﾞﾔ ﾜｰｸ位置決め解除
OUT R73309               ; 4st ﾌﾟﾛｰﾌﾞ 下降指令 1ｻｲｸﾙ
OUT R73310               ; 4st ｳｫｰﾑｷﾞﾔ検出ｶﾒﾗ 戻指令 1ｻｲｸﾙ
LD R73309                ; 4st ﾌﾟﾛｰﾌﾞ 下降指令 1ｻｲｸﾙ
AND T207                 ; 4st 送りCVﾌﾟﾛｰﾌﾞ下降端
OUT R73311               ; 4st ﾜｰｸ押え 上昇指令 1ｻｲｸﾙ
LD R73310                ; 4st ｳｫｰﾑｷﾞﾔ検出ｶﾒﾗ 戻指令 1ｻｲｸﾙ
AND T207                 ; 4st 送りCVﾌﾟﾛｰﾌﾞ下降端
AND T127                 ; 4st ﾜｰｸ押え 上昇端
OUT R73312               ; 4st ﾜｰｸ押え 戻指令 1ｻｲｸﾙ
LD R73311                ; 4st ﾜｰｸ押え 上昇指令 1ｻｲｸﾙ
AND T207                 ; 4st 送りCVﾌﾟﾛｰﾌﾞ下降端
AND T127                 ; 4st ﾜｰｸ押え 上昇端
AND T125                 ; 4st ﾜｰｸ押え 戻端
AND T121                 ; 4st ｳｫｰﾑｷﾞﾔ検出ｶﾒﾗ ｽﾗｲﾄﾞ戻端
MPS
LD MR57404               ; 画像処理 ｶﾒﾗ4 ｳｫｰﾑｷﾞﾔ検出 OK
AND MR57406              ; 画像処理 ｶﾒﾗ4 ｽﾌﾟﾘﾝｸﾞ検出 OK
ANL
MOV #340 DM1133          ; UT4_COM3_次動作REG[1ｻｲｸﾙ]
MPP
LDB MR57404              ; 画像処理 ｶﾒﾗ4 ｳｫｰﾑｷﾞﾔ検出 OK
ORB MR57406              ; 画像処理 ｶﾒﾗ4 ｽﾌﾟﾘﾝｸﾞ検出 OK
ANL
MOV #390 DM1133          ; UT4_COM3_次動作REG[1ｻｲｸﾙ]
;ｳｫｰﾑｷﾞﾔ位置出し 終了処理
LD= DM1123 #340          ; UT4_COM3_条件REG[1ｻｲｸﾙ]
OUT R73208               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 正常終了
LD= DM1123 #390          ; UT4_COM3_条件REG[1ｻｲｸﾙ]
OUT R73209               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 異常終了
LD R73208                ; 4st ｳｫｰﾑｷﾞﾔ位置出し 正常終了
OR R73209                ; 4st ｳｫｰﾑｷﾞﾔ位置出し 異常終了
ANB R70802               ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ補助
MPS
OUT R73215               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ完了
MPP
ANB MR17210              ; 4st ｳｫｰﾑｷﾞﾔ位置出しSUB_AUT
MOV #0 DM1133            ; UT4_COM3_次動作REG[1ｻｲｸﾙ]
MCR
;ｳｨｰﾑｷﾞﾔ 正転(8step)
LD R73401                ; 4st ｳｫｰﾑｷﾞﾔ 空回転指令
AND R73200               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ動作
LD MR12104               ; 4st ｳｫｰﾑｷﾞﾔ正転(8Step)_Man
OR R73500                ; 4st ｳｫｰﾑｷﾞﾔ 正転(8Step)
ANB R73200               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ動作
ANB R73503               ; 4st ｳｫｰﾑｷﾞﾔ 正転(8Step) 完了
ORL
ANB R73508               ; 4st ｳｫｰﾑｷﾞﾔ 正転(2Step)
ANB R73600               ; 4st ｳｫｰﾑｷﾞﾔ 逆転(8Step)
ANB R73608               ; 4st ｳｫｰﾑｷﾞﾔ 逆転(2Step)
@DW #0 DM1196            ; 4st ｳｫｰﾑｷﾞﾔ回転回数
CON
OUT R73500               ; 4st ｳｫｰﾑｷﾞﾔ 正転(8Step)
LD R73500                ; 4st ｳｫｰﾑｷﾞﾔ 正転(8Step)
MPS
ANB R73502               ; 4st ｳｫｰﾑｷﾞﾔ 1Step再正転指令
OUT R73501               ; 4st ｳｫｰﾑｷﾞﾔ 1Step正転指令
MPP
LD R73501                ; 4st ｳｫｰﾑｷﾞﾔ 1Step正転指令
LD R73414                ; 4st ｳｫｰﾑｷﾞﾔ 1Step回転
AND R73415               ; 4st ｳｫｰﾑｷﾞﾔ 1Step回転 完了
OR R73503                ; 4st ｳｫｰﾑｷﾞﾔ 正転(8Step) 完了
ANL
ANL
@INC DM1196              ; 4st ｳｫｰﾑｷﾞﾔ回転回数
MPS
AND< DM1196 #8           ; 4st ｳｫｰﾑｷﾞﾔ回転回数
OUT R73502               ; 4st ｳｫｰﾑｷﾞﾔ 1Step再正転指令
MPP
AND>= DM1196 #8          ; 4st ｳｫｰﾑｷﾞﾔ回転回数
OUT R73503               ; 4st ｳｫｰﾑｷﾞﾔ 正転(8Step) 完了
;ｳｫｰﾑｷﾞﾔ 正転(2Step)
LD R73409                ; 4st ｳｫｰﾑｷﾞﾔ 2Step回転指令
AND R73200               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ動作
LD MR12105               ; 4st ｳｫｰﾑｷﾞﾔ正転(2Step)_Man
OR R73508                ; 4st ｳｫｰﾑｷﾞﾔ 正転(2Step)
ANB R73200               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ動作
ANB R73511               ; 4st ｳｫｰﾑｷﾞﾔ 正転(2Step)完了
ORL
ANB R73500               ; 4st ｳｫｰﾑｷﾞﾔ 正転(8Step)
ANB R73600               ; 4st ｳｫｰﾑｷﾞﾔ 逆転(8Step)
ANB R73608               ; 4st ｳｫｰﾑｷﾞﾔ 逆転(2Step)
OUT R73508               ; 4st ｳｫｰﾑｷﾞﾔ 正転(2Step)
LD R73508                ; 4st ｳｫｰﾑｷﾞﾔ 正転(2Step)
MPS
ANB R73510               ; 4st ｳｫｰﾑｷﾞﾔ 1Step再正転指令
OUT R73509               ; 4st ｳｫｰﾑｷﾞﾔ 1Step正転指令
MPP
LD R73509                ; 4st ｳｫｰﾑｷﾞﾔ 1Step正転指令
LD R73414                ; 4st ｳｫｰﾑｷﾞﾔ 1Step回転
AND R73415               ; 4st ｳｫｰﾑｷﾞﾔ 1Step回転 完了
OR R73511                ; 4st ｳｫｰﾑｷﾞﾔ 正転(2Step)完了
ANL
ANL
MPS
LD= DM1195 #1            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
OR= DM1195 #3            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
OR= DM1195 #5            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
OR= DM1195 #7            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
ANL
OUT R73510               ; 4st ｳｫｰﾑｷﾞﾔ 1Step再正転指令
MPP
LD= DM1195 #0            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
OR= DM1195 #2            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
OR= DM1195 #4            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
OR= DM1195 #6            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
ANL
OUT R73511               ; 4st ｳｫｰﾑｷﾞﾔ 正転(2Step)完了
;ｳｨｰﾑｷﾞﾔ 逆転(8step)
LD MR12106               ; 4st ｳｫｰﾑｷﾞﾔ逆転(8Step)_Man
OR R73600                ; 4st ｳｫｰﾑｷﾞﾔ 逆転(8Step)
ANB R73603               ; 4st ｳｫｰﾑｷﾞﾔ 逆転(8Step) 完了
ANB R73200               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ動作
ANB R73500               ; 4st ｳｫｰﾑｷﾞﾔ 正転(8Step)
ANB R73508               ; 4st ｳｫｰﾑｷﾞﾔ 正転(2Step)
ANB R73608               ; 4st ｳｫｰﾑｷﾞﾔ 逆転(2Step)
@DW #0 DM1196            ; 4st ｳｫｰﾑｷﾞﾔ回転回数
CON
OUT R73600               ; 4st ｳｫｰﾑｷﾞﾔ 逆転(8Step)
LD R73600                ; 4st ｳｫｰﾑｷﾞﾔ 逆転(8Step)
MPS
ANB R73602               ; 4st ｳｫｰﾑｷﾞﾔ 1Step再逆転指令
OUT R73601               ; 4st ｳｫｰﾑｷﾞﾔ 1Step逆転指令
MPP
LD R73601                ; 4st ｳｫｰﾑｷﾞﾔ 1Step逆転指令
LD R73414                ; 4st ｳｫｰﾑｷﾞﾔ 1Step回転
AND R73415               ; 4st ｳｫｰﾑｷﾞﾔ 1Step回転 完了
OR R73603                ; 4st ｳｫｰﾑｷﾞﾔ 逆転(8Step) 完了
ANL
ANL
@INC DM1196              ; 4st ｳｫｰﾑｷﾞﾔ回転回数
MPS
AND< DM1196 #8           ; 4st ｳｫｰﾑｷﾞﾔ回転回数
OUT R73602               ; 4st ｳｫｰﾑｷﾞﾔ 1Step再逆転指令
MPP
AND>= DM1196 #8          ; 4st ｳｫｰﾑｷﾞﾔ回転回数
OUT R73603               ; 4st ｳｫｰﾑｷﾞﾔ 逆転(8Step) 完了
;ｳｫｰﾑｷﾞﾔ 逆転(2Step)
LD MR12107               ; 4st ｳｫｰﾑｷﾞﾔ逆転(2Step)_Man
OR R73608                ; 4st ｳｫｰﾑｷﾞﾔ 逆転(2Step)
ANB R73611               ; 4st ｳｫｰﾑｷﾞﾔ 逆転(2Step)完了
ANB R73200               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ動作
ANB R73500               ; 4st ｳｫｰﾑｷﾞﾔ 正転(8Step)
ANB R73508               ; 4st ｳｫｰﾑｷﾞﾔ 正転(2Step)
ANB R73600               ; 4st ｳｫｰﾑｷﾞﾔ 逆転(8Step)
OUT R73608               ; 4st ｳｫｰﾑｷﾞﾔ 逆転(2Step)
LD R73608                ; 4st ｳｫｰﾑｷﾞﾔ 逆転(2Step)
MPS
ANB R73610               ; 4st ｳｫｰﾑｷﾞﾔ 1Step再逆転指令
OUT R73609               ; 4st ｳｫｰﾑｷﾞﾔ 1Step逆転指令
MPP
LD R73609                ; 4st ｳｫｰﾑｷﾞﾔ 1Step逆転指令
LD R73414                ; 4st ｳｫｰﾑｷﾞﾔ 1Step回転
AND R73415               ; 4st ｳｫｰﾑｷﾞﾔ 1Step回転 完了
OR R73611                ; 4st ｳｫｰﾑｷﾞﾔ 逆転(2Step)完了
ANL
ANL
MPS
LD= DM1195 #1            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
OR= DM1195 #3            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
OR= DM1195 #5            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
OR= DM1195 #7            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
ANL
OUT R73610               ; 4st ｳｫｰﾑｷﾞﾔ 1Step再逆転指令
MPP
LD= DM1195 #0            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
OR= DM1195 #2            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
OR= DM1195 #4            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
OR= DM1195 #6            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
ANL
OUT R73611               ; 4st ｳｫｰﾑｷﾞﾔ 逆転(2Step)完了
;ｳｫｰﾑｷﾞﾔ 1Step回転
LDB R73501               ; 4st ｳｫｰﾑｷﾞﾔ 1Step正転指令
ANB R73509               ; 4st ｳｫｰﾑｷﾞﾔ 1Step正転指令
ANB R73601               ; 4st ｳｫｰﾑｷﾞﾔ 1Step逆転指令
ANB R73609               ; 4st ｳｫｰﾑｷﾞﾔ 1Step逆転指令
INV
OUT R73414               ; 4st ｳｫｰﾑｷﾞﾔ 1Step回転
LDP R73414               ; 4st ｳｫｰﾑｷﾞﾔ 1Step回転
MPS
LD R73501                ; 4st ｳｫｰﾑｷﾞﾔ 1Step正転指令
OR R73509                ; 4st ｳｫｰﾑｷﾞﾔ 1Step正転指令
ANL
MPS
INC DM1195               ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
MPP
LD< DM1195 #0            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
OR> DM1195 #7            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
ANL
DW #0 DM1195             ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
MPP
LD R73601                ; 4st ｳｫｰﾑｷﾞﾔ 1Step逆転指令
OR R73609                ; 4st ｳｫｰﾑｷﾞﾔ 1Step逆転指令
ANL
MPS
DEC DM1195               ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
MPP
LD< DM1195 #0            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
OR> DM1195 #7            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
ANL
DW #7 DM1195             ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
;<h1/>210317  181218 
;1170  12-10-9-8  
;1171  92-90-89-88
;
;1170  10-15-12-11-10  
;1171  90-95-92-91-90
;
LD R73414                ; 4st ｳｫｰﾑｷﾞﾔ 1Step回転
MPS
LD= DM1195 #0            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
ANB R2200                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHAT
AND R2204
AND R2202                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHAB
AND R2203                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHBB
LD= DM1195 #2            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
AND R2200                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHAT
ANB R2204
AND R2202                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHAB
AND R2203                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHBB
ORL
LD= DM1195 #4            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
AND R2200                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHAT
AND R2204
ANB R2202                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHAB
AND R2203                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHBB
ORL
LD= DM1195 #6            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
AND R2200                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHAT
AND R2204
AND R2202                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHAB
ANB R2203                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHBB
ORL
ANL
TMS #1170 #5             ; 4st ｳｨｰﾑｷﾞﾔ 偶数Step Dly
MPP
LD= DM1195 #1            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
ANB R2200                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHAT
ANB R2204
AND R2202                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHAB
AND R2203                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHBB
LD= DM1195 #3            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
AND R2200                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHAT
ANB R2204
ANB R2202                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHAB
AND R2203                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHBB
ORL
LD= DM1195 #5            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
AND R2200                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHAT
AND R2204
ANB R2202                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHAB
ANB R2203                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHBB
ORL
LD= DM1195 #7            ; 4st ｳｫｰﾑｷﾞﾔ回転 StepNo
ANB R2200                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHAT
AND R2204
AND R2202                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHAB
ANB R2203                ; 4st ｳｫｰﾑｷﾞﾔ回転 PHBB
ORL
ANL
TMS #1171 #50            ; 4st ｳｨｰﾑｷﾞﾔ 奇数Step Dly
LD R73414                ; 4st ｳｫｰﾑｷﾞﾔ 1Step回転
LD T1170                 ; 4st ｳｨｰﾑｷﾞﾔ 偶数Step Dly
OR T1171                 ; 4st ｳｨｰﾑｷﾞﾔ 奇数Step Dly
ANL
OUT R73415               ; 4st ｳｫｰﾑｷﾞﾔ 1Step回転 完了
;<h1/>4stﾘﾀｰﾝCVｴｽｹｰﾊﾟ → 4st受取ｴｽｹｰﾊﾟ
LDB R70112               ; 4st ﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ_Man
ANB MR19102              ; 4st ﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟSUB_AUT
INV
OUT R72602               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ補助
LDB MR19401              ; 4stﾊﾟﾚｯﾄｼﾌﾄ→ﾘﾀｰﾝCV 1ｻｲｸﾙ_AUT
INV
OUT R72603               ; 4stﾊﾟﾚｯﾄｼﾌ→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ補助
LDP R72602               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ補助
AND R72601               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ可
LDP R72603               ; 4stﾊﾟﾚｯﾄｼﾌ→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ補助
AND R72901               ; 4stﾊﾟﾚｯﾄｼﾌﾄ→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ可
ORL
OR R72600                ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
AND @MR002               ; 1ｻｲｸﾙ可能
ANB R72615               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 完了まとめ
MPS
OUT R72600               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
MPP
ANP R72600               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
MPS
AND R72602               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ補助
MOV #0 EM1110            ; 4stﾘﾀｰﾝCV→受渡ｴｽｹｰﾊﾟ動作No
MPP
AND R72603               ; 4stﾊﾟﾚｯﾄｼﾌ→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ補助
MOV #1 EM1110            ; 4stﾘﾀｰﾝCV→受渡ｴｽｹｰﾊﾟ動作No
LD @MR002                ; 1ｻｲｸﾙ可能
ANB R72600               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
ANB R72615               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 完了まとめ
MPS
LD T261                  ; 4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ 上昇端
AND T272                 ; 4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ有確認
AND T285                 ; 4st 送りCVｼﾌﾄ無確認
AND MR11115              ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ無確認
AND T269                 ; 4st ﾘﾀｰﾝCVｼﾌﾄ 戻端(ﾘﾀｰﾝCV側)
AND T277                 ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄ内ﾜｰｸｾﾝｻOFF
ANL
OUT R72611               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 4st動作可
MRD
LD T241                  ; 4st 送りCV受取ｴｽｹｰﾊﾟ 上昇端
AND T253                 ; 4st 送りCV受取ｴｽｹｰﾊﾟ 無確認
ANB R72400               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
ANL
OUT R72612               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 下流動作可
MRD
ANB R73000               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
OUT R72613               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 上流動作可
MRD
LD= DM1185 #0            ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
ORB MR9600               ; NAT仮
AND= DM1190 #0           ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
AND T251                 ; 4st 送りCV受取ｴｽｹｰﾊﾟ 通過OFF確認
AND T253                 ; 4st 送りCV受取ｴｽｹｰﾊﾟ 無確認
ANB LR11903              ; 4st受取 上流工程 ﾜｰｸ複数有
LD= DM1185 #0            ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
ORB MR9600               ; NAT仮
LD= DM1190 #0            ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
AND T251                 ; 4st 送りCV受取ｴｽｹｰﾊﾟ 通過OFF確認
AND T253                 ; 4st 送りCV受取ｴｽｹｰﾊﾟ 無確認
ORL
AND LR11903              ; 4st受取 上流工程 ﾜｰｸ複数有
ORL
AND LR11902              ; 4st受取 上流工程 ﾜｰｸ＞ﾊﾟﾚｯﾄ
ANL
OUT R72614               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 受取制限
MPP
LD R72611                ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 4st動作可
AND R72612               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 下流動作可
AND R72613               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 上流動作可
AND R72614               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 受取制限
ANL
OUT R72601               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ可
LD @MR002                ; 1ｻｲｸﾙ可能
ANB R72600               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
ANB R72615               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 完了まとめ
MPS
LD T269                  ; 4st ﾘﾀｰﾝCVｼﾌﾄ 戻端(ﾘﾀｰﾝCV側)
AND T280                 ; 4st ﾘﾀｰﾝCVｼﾌﾄ到着ON確認
ANL
OUT R72911               ; 4stﾊﾟﾚｯﾄｼﾌﾄ→受取ｴｽｹｰﾊﾟ動作可
MRD
LD T241                  ; 4st 送りCV受取ｴｽｹｰﾊﾟ 上昇端
AND T253                 ; 4st 送りCV受取ｴｽｹｰﾊﾟ 無確認
ANB R72400               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
ANL
OUT R72912               ; 4stﾊﾟﾚｯﾄｼﾌﾄ→受取ｴｽｹｰﾊﾟ 下流可
MRD
AND T261                 ; 4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ 上昇端
OUT R72913               ; 4stﾊﾟﾚｯﾄｼﾌﾄ→受取ｴｽｹｰﾊﾟ 上流可
MPP
LD R72911                ; 4stﾊﾟﾚｯﾄｼﾌﾄ→受取ｴｽｹｰﾊﾟ動作可
AND R72912               ; 4stﾊﾟﾚｯﾄｼﾌﾄ→受取ｴｽｹｰﾊﾟ 下流可
AND R72913               ; 4stﾊﾟﾚｯﾄｼﾌﾄ→受取ｴｽｹｰﾊﾟ 上流可
ANL
OUT R72901               ; 4stﾊﾟﾚｯﾄｼﾌﾄ→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ可
LD R72600                ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
MPS
AND= EM1110 #0           ; 4stﾘﾀｰﾝCV→受渡ｴｽｹｰﾊﾟ動作No
OUT R72605               ; 4stﾘﾀｰﾝCV→受渡ｴｽｹｰﾊﾟ 動作中
MPP
AND= EM1110 #1           ; 4stﾘﾀｰﾝCV→受渡ｴｽｹｰﾊﾟ動作No
OUT R72606               ; 4stﾊﾟﾚｯﾄｼﾌﾄ→受渡ｴｽｹｰﾊﾟ 動作中
;動作MC
LD R72600                ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
MC
;ｴｽｹｰﾊﾟ下降
LD R72600                ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
AND R72605               ; 4stﾘﾀｰﾝCV→受渡ｴｽｹｰﾊﾟ 動作中
AND MR4302               ; 共通動作  ｽﾃｯﾌﾟｼﾌﾄOK
OR R72700                ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ下降
AND R72600               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
MPS
OUT R72700               ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ下降
MPP
ANB R72702               ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ下降確認
MPS
OUT R72810               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄ押え 出_1ｻｲｸﾙ
MPP
AND MR11100              ; 4st ﾘﾀｰﾝCV L/Rﾊﾟﾚｯﾄ押え 出端
OUT R72701               ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ下降_1ｻｲｸﾙ
LD T260                  ; 4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ 下降端
OR R72702                ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ下降確認
AND R72700               ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ下降
MPS
OUT R72702               ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ下降確認
MPP
ANB R72704               ; 4stﾘﾀｰﾝCVｴｽｹｰﾊﾟ通過ｾﾝｻON確認
OUT R72703               ; 4stﾘﾀｰﾝCVｴｽｹｰﾊﾟ通過ｾﾝｻON待ち
LD T270                  ; 4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ 通過ON確認
OR R72704                ; 4stﾘﾀｰﾝCVｴｽｹｰﾊﾟ通過ｾﾝｻON確認
AND R72702               ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ下降確認
MPS
OUT R72704               ; 4stﾘﾀｰﾝCVｴｽｹｰﾊﾟ通過ｾﾝｻON確認
MPP
ANB R72706               ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ無確認
OUT R72705               ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ無確認
LD MR11105               ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ前後無確認
OR R72706                ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ無確認
AND R72702               ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ下降確認
OUT R72706               ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ無確認
MPS
OUT R72707               ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ上昇_1ｻｲｸﾙ
MPP
ANB R72709               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ到着確認
OUT R72708               ; 4st ﾘﾀｰﾝCVﾊﾟﾚｯﾄｼﾌﾄｾﾝｻON待ち
LD T261                  ; 4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ 上昇端
OR R72811                ; 4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ 上昇確認
AND R72706               ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ無確認
OUT R72811               ; 4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ 上昇確認
OUT R72812               ; 4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ押え 戻_1ｻｲｸﾙ
LD T280                  ; 4st ﾘﾀｰﾝCVｼﾌﾄ到着ON確認
AND T282                 ; 4st ﾘﾀｰﾝCVｼﾌﾄ有確認
OR R72709                ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ到着確認
AND R72702               ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ下降確認
OUT R72709               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ到着確認
TMR #1160 #10            ; 4stﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ到着確認DLY
LD MR11101               ; 4st ﾘﾀｰﾝCV L/Rﾊﾟﾚｯﾄ押え 戻端
AND R72811               ; 4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ 上昇確認
AND R72709               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ到着確認
AND T1160                ; 4stﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ到着確認DLY
LD R72600                ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
AND R72606               ; 4stﾊﾟﾚｯﾄｼﾌﾄ→受渡ｴｽｹｰﾊﾟ 動作中
ORL
OR R72710                ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ出
LD R72700                ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ下降
LD R72600                ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
AND R72606               ; 4stﾊﾟﾚｯﾄｼﾌﾄ→受渡ｴｽｹｰﾊﾟ 動作中
ORL
ANL
OUT R72710               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ出
MPS
ANB R72800               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ出確認
OUT R72711               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ出_1ｻｲｸﾙ
MRD
ANB R72714               ; 4st送りCVﾊﾟﾚｯﾄｼﾌﾄ有確認
OUT R72712               ; 4st 送りCVﾊﾟﾚｯﾄｼﾌﾄｾﾝｻON待ち
MPP
ANB R72715               ; 4stﾘﾀｰﾝCVﾊﾟﾚｯﾄｼﾌﾄ無確認
OUT R72713               ; 4st ﾘﾀｰﾝCVﾊﾟﾚｯﾄｼﾌﾄｾﾝｻOFF待ち
LD T284                  ; 4st 送りCVｼﾌﾄ有確認
OR R72714                ; 4st送りCVﾊﾟﾚｯﾄｼﾌﾄ有確認
AND R72710               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ出
OUT R72714               ; 4st送りCVﾊﾟﾚｯﾄｼﾌﾄ有確認
LD MR11115               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ無確認
OR R72715                ; 4stﾘﾀｰﾝCVﾊﾟﾚｯﾄｼﾌﾄ無確認
AND R72710               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ出
OUT R72715               ; 4stﾘﾀｰﾝCVﾊﾟﾚｯﾄｼﾌﾄ無確認
LD T268                  ; 4st ﾘﾀｰﾝCVｼﾌﾄ 出端(送りCV側)
AND R72714               ; 4st送りCVﾊﾟﾚｯﾄｼﾌﾄ有確認
AND R72715               ; 4stﾘﾀｰﾝCVﾊﾟﾚｯﾄｼﾌﾄ無確認
OR R72800                ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ出確認
AND R72710               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ出
MPS
OUT R72800               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ出確認
MPP
ANB R72802               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ無確認
OUT R72801               ; 4st 送りCVﾊﾟﾚｯﾄｼﾌﾄｾﾝｻOFF待ち
LD T285                  ; 4st 送りCVｼﾌﾄ無確認
OR R72802                ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ無確認
AND R72800               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ出確認
OUT R72802               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ無確認
TMR #1161 #5             ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ無確認DLY
MPS
AND T1161                ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ無確認DLY
OUT R72803               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ戻_1ｻｲｸﾙ
MPP
ANB R72805               ; 4st受取ｴｽｹｰﾊﾟ到着確認
OUT R72804               ; 4st受取ｴｽｹｰﾊﾟｾﾝｻON待ち
LD T252                  ; 4st 送りCV受取ｴｽｹｰﾊﾟ 有確認
OR R72805                ; 4st受取ｴｽｹｰﾊﾟ到着確認
AND R72802               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ無確認
OUT R72805               ; 4st受取ｴｽｹｰﾊﾟ到着確認
OUT LR18200              ; 4st 受取ｴｽｹｰﾊﾟ 受取完了_Mem
LDB T268                 ; 4st ﾘﾀｰﾝCVｼﾌﾄ 出端(送りCV側)
AND R72802               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄｼﾌﾄ無確認
AND R72805               ; 4st受取ｴｽｹｰﾊﾟ到着確認
OUT R72609               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ完了
LD R72609                ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ完了
LD= EM1110 #0            ; 4stﾘﾀｰﾝCV→受渡ｴｽｹｰﾊﾟ動作No
ANB R72602               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ補助
LD= EM1110 #1            ; 4stﾘﾀｰﾝCV→受渡ｴｽｹｰﾊﾟ動作No
ANB R72603               ; 4stﾊﾟﾚｯﾄｼﾌ→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ補助
ORL
ANL
OUT R72615               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 完了まとめ
MCR
;<h1/>4stﾘﾀｰﾝCV 押え → 4stﾘﾀｰﾝCV ｴｽｹｰﾊﾟ
LDB R70113               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作_Ma
INV
OUT R73002               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙ補助
LDP R73002               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙ補助
AND R73001               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙ可
OR R73000                ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
AND @MR002               ; 1ｻｲｸﾙ可能
ANB R73015               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 完了まとめ
OUT R73000               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
LD @MR002                ; 1ｻｲｸﾙ可能
ANB R73000               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
ANB R73015               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 完了まとめ
MPS
LD T274                  ; 4st ﾘﾀｰﾝCVﾊﾟﾚｯﾄ押え有確認
AND MR11100              ; 4st ﾘﾀｰﾝCV L/Rﾊﾟﾚｯﾄ押え 出端
ANL
OUT R73011               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 4st動作可
MRD
LD T261                  ; 4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ 上昇端
AND T273                 ; 4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ無確認
ANL
OUT R73012               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 下流動作可
MRD
OUT R73013               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 上流動作可
MPP
LD R73011                ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 4st動作可
AND R73012               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 下流動作可
AND R73013               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 上流動作可
ANB R72600               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
ANL
OUT R73001               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙ可
;動作MC
LD R73000                ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
MC
LD R73000                ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
AND MR4302               ; 共通動作  ｽﾃｯﾌﾟｼﾌﾄOK
OR R73100                ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄ押え 開
AND R73000               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
MPS
OUT R73100               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄ押え 開
MPP
ANB R73102               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄ押え 開確認
OUT R73101               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄ押え 開_1ｻｲｸﾙ
LD MR11101               ; 4st ﾘﾀｰﾝCV L/Rﾊﾟﾚｯﾄ押え 戻端
OR R73102                ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄ押え 開確認
AND R73100               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄ押え 開
MPS
OUT R73102               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄ押え 開確認
MPP
ANB R73104               ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ到着確認
OUT R73103               ; 4stﾘﾀｰﾝCVｴｽｹｰﾊﾟｾﾝｻON待ち
LD T272                  ; 4st ﾘﾀｰﾝCVｴｽｹｰﾊﾟ有確認
OR R73104                ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ到着確認
AND R73102               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄ押え 開確認
MPS
OUT R73104               ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ到着確認
MPP
AND T274                 ; 4st ﾘﾀｰﾝCVﾊﾟﾚｯﾄ押え有確認
OUT R73105               ; 4st ﾘﾀｰﾝCV ﾊﾟﾚｯﾄ押え 閉_1ｻｲｸﾙ
LD MR11100               ; 4st ﾘﾀｰﾝCV L/Rﾊﾟﾚｯﾄ押え 出端
AND T274                 ; 4st ﾘﾀｰﾝCVﾊﾟﾚｯﾄ押え有確認
OR T275                  ; 4st ﾘﾀｰﾝCVﾊﾟﾚｯﾄ押え無確認
OR R73009                ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙ完了
AND R73104               ; 4st ﾘﾀｰﾝCV ｴｽｹｰﾊﾟ到着確認
OUT R73009               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙ完了
LD R73009                ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙ完了
ANB R73002               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙ補助
OUT R73015               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 完了まとめ
MCR
MCR
LDB R70200               ; 4st 原位置 1ｻｲｸﾙ動作
ANB R70400               ; 4st ﾌﾝｼﾝｷﾞﾔ取出 1ｻｲｸﾙ動作
ANB R70800               ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ動作
ANB R71000               ; 4stRB 塗布 1ｻｲｸﾙ動作
ANB R71400               ; 4st 送りCV組込 1ｻｲｸﾙ動作
INV
OUT MR10501              ; 4st ｽｶﾗRB 1ｻｲｸﾙ起動中
LDB R72000               ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
ANB R72200               ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
ANB R72400               ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
ANB R73200               ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ動作
ANB R72600               ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
ANB R73000               ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
INV
OUT MR10503              ; 4st 送りCV 1ｻｲｸﾙ起動中
LDB MR10501              ; 4st ｽｶﾗRB 1ｻｲｸﾙ起動中
ANB MR10503              ; 4st 送りCV 1ｻｲｸﾙ起動中
ANB MR10508              ; 4st 後工程PP 1ｻｲｸﾙ起動中
INV
OUT MR10500              ; 4st 動作SUB 起動中
;TP出力
;ﾛﾎﾞｯﾄ 1ｻｲｸﾙ
LD R70200                ; 4st 原位置 1ｻｲｸﾙ動作
OUT B14A0                ; TP4stRB 原位置 1ｻｲｸﾙPL
LD R70400                ; 4st ﾌﾝｼﾝｷﾞﾔ取出 1ｻｲｸﾙ動作
MPS
AND= EM1100 #0           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
OUT B14A1                ; TP4stRB ﾌﾝｼﾝｷﾞﾔﾄ(上)取出 1ｻｲｸﾙPL
MPP
AND= EM1100 #1           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
OUT B14A2                ; TP4stRB ﾌﾝｼﾝｷﾞﾔﾄ(下)取出 1ｻｲｸﾙPL
LD R70800                ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ動作
OUT B14A5                ; TP4stRB ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙPL
LD R71400                ; 4st 送りCV組込 1ｻｲｸﾙ動作
OUT B14A6                ; TP4stRB 送りCV組込 1ｻｲｸﾙPL
LD R71000                ; 4stRB 塗布 1ｻｲｸﾙ動作
OUT B14A8                ; TP4stRB 塗布 1ｻｲｸﾙPL
;送りCV 1ｻｲｸﾙ
LD R72000                ; 4stｽﾄｯﾊﾟ→5stｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
OUT B14C8                ; TP4st CV ｽﾄｯﾊﾟ→5stｴｽｹｰﾊ 1ｻｲｸﾙPL
LD R72200                ; 4st受取ｽﾄｯﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
OUT B14C9                ; TP4st受取ｽﾄｯﾊﾟ→4stｽﾄｯﾊﾟ 1ｻｲｸﾙPL
LD R72400                ; 4st受取ｴｽｹｰﾊﾟ→ｽﾄｯﾊﾟ 1ｻｲｸﾙ動作
OUT B14CA                ; TP4st受取ｴｽｹｰﾊ→ｽﾄｯﾊﾟ 1ｻｲｸﾙPL
LD R73200                ; 4st ｳｫｰﾑｷﾞﾔ位置出し 1ｻｲｸﾙ動作
OUT B14CB                ; TP4st ｳｫｰﾑ位置出し 1ｻｲｸﾙPL
;ﾘﾀｰﾝCV 1ｻｲｸﾙ
LD R72600                ; 4stﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
OUT B14CC                ; TP4st ﾘﾀｰﾝCV→受取ｴｽｹｰﾊﾟ 1ｻｲｸﾙPL
LD R73000                ; 4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙ動作
OUT B14CD                ; TP4stﾘﾀｰﾝCV押→ｴｽｹｰﾊﾟ 1ｻｲｸﾙPL
;<h1/>記憶
LDB MR1200               ; 手動ﾓｰﾄﾞ
OR MR7109                ; Aﾖﾘ TPﾃﾞｰﾀｼﾌﾄ有効PB
OUT @MR015               ; 4stﾃﾞｰﾀｼﾌﾄ有効
;<h1/>原点復帰後ﾜｰｸ状態ｸﾘｱ
;ｽｶﾗRB
LDP MR10309              ; 4st 原点復帰完了
AND T101                 ; 4st ｽｶﾗRB ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ開端
MOV #0 DM1150            ; 4stRB ﾜｰｸ状態
MOV #0 DM1141            ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
;部材供給
LDP MR10309              ; 4st 原点復帰完了
MPS
LD T161                  ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)ｽﾗｲﾀﾞ 戻端
AND T167                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 戻側ﾄﾚｲ無1
AND T141                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 戻側ﾄﾚｲ無2
ANL
MOV #0 DM1170            ; ﾌﾝｼﾝﾄﾚｲ(上)状態[0無/1未/2中/3完
MOV #0 DM1154            ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)取出番号
MPP
LD T171                  ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)ｽﾗｲﾀﾞ 戻端
AND T177                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 戻側ﾄﾚｲ無1
AND T146                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 戻側ﾄﾚｲ無2
ANL
MOV #0 DM1171            ; ﾌﾝｼﾝﾄﾚｲ(下)状態[0無/1未/2中/3完]
MOV #0 DM1155            ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)取出番号
LDP MR10309              ; 4st 原点復帰完了
MPS
LD T160                  ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)ｽﾗｲﾀﾞ 出端
AND T164                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 出側ﾄﾚｲ有
ANB MR11601              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)ｾｯﾄ記憶
ANL
MOV #4 DM1170            ; ﾌﾝｼﾝﾄﾚｲ(上)状態[0無/1未/2中/3完
MPP
LD T170                  ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)ｽﾗｲﾀﾞ 出端
AND T174                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 出側ﾄﾚｲ有
ANB MR11602              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)ｾｯﾄ記憶
ANL
MOV #4 DM1171            ; ﾌﾝｼﾝﾄﾚｲ(下)状態[0無/1未/2中/3完]
;ﾄﾚｲ取出順序ｸﾘｱ
LDP MR10309              ; 4st 原点復帰完了
LD<> DM1170 #2           ; ﾌﾝｼﾝﾄﾚｲ(上)状態[0無/1未/2中/3完
AND= DM1176 #1           ; 4stRB ﾄﾚｲ取出No
LD<> DM1171 #2           ; ﾌﾝｼﾝﾄﾚｲ(下)状態[0無/1未/2中/3完]
AND= DM1176 #2           ; 4stRB ﾄﾚｲ取出No
ORL
ANL
MOV #0 DM1176            ; 4stRB ﾄﾚｲ取出No
;送りCV
LDP MR10309              ; 4st 原点復帰完了
MPS
AND T213                 ; 4st 送りCVｽﾄｯﾊﾟ 無確認
MOV #0 DM1180            ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
FMOV #0 DM4400 #10       ; 4stｽﾄｯﾊﾟ作業状態
MRD
AND T233                 ; 4st 送りCV受取ｽﾄｯﾊﾟ 無確認
MOV #0 DM1185            ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
FMOV #0 DM4410 #10       ; 4st受取ｽﾄｯﾊﾟ作業状態
MPP
AND T253                 ; 4st 送りCV受取ｴｽｹｰﾊﾟ 無確認
MOV #0 DM1190            ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
FMOV #0 DM4420 #10       ; 4st受取ｴｽｹｰﾊﾟ作業状態
;<h1/>原点復帰後送りCVｾｯﾄ
LDP MR13609              ; 4st 原点復帰 送りCV回転後Memｾｯﾄ
MPS
LD T212                  ; 4st 送りCVｽﾄｯﾊﾟ 有確認
AND= DM1180 #0           ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
AND<> DM4403 #0          ; 4stｽﾄｯﾊﾟﾊﾟﾚｯﾄNo(後工程)
ANL
MOV #1 DM1180            ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
MRD
LD T232                  ; 4st 送りCV受取ｽﾄｯﾊﾟ 有確認
AND= DM1185 #0           ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
AND<> DM4413 #0          ; 4st受取ｽﾄｯﾊﾟﾊﾟﾚｯﾄNo(後工程)
ANL
MOV #1 DM1185            ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
MPP
LD T252                  ; 4st 送りCV受取ｴｽｹｰﾊﾟ 有確認
AND= DM1190 #0           ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
ANL
MOV #1 DM1190            ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
;中間工程 反転ﾕﾆｯﾄ
LDP MR20309              ; 5st 原点復帰完了
AND T705                 ; 中間工程 ﾜｰｸ回転 ﾜｰｸ無
MOV #0 DM1430            ; 中間工程 ﾜｰｸ有_Mem
;後工程 受渡PP
LDP MR20309              ; 5st 原点復帰完了
AND T711                 ; 後工程搬送PP ﾜｰｸ吸着OFF確認
MOV #0 DM1440            ; 後工程PP ﾜｰｸ有_Mem
;<h1/>ｽｶﾗRB
LD @MR015                ; 4stﾃﾞｰﾀｼﾌﾄ有効
MPS
ANP LR15000              ; 4stRB ﾌﾝｼﾝｷﾞﾔ ﾁｬｯｸ閉_Mem
MPS
AND= EM1100 #0           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
MOV #1 DM1150            ; 4stRB ﾜｰｸ状態
MRD
AND= EM1100 #1           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
MOV #2 DM1150            ; 4stRB ﾜｰｸ状態
MPP
MOV #0 DM1141            ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
MRD
ANP LR15001              ; 4stRB ｸﾞﾘｽ塗布終了_Mem
MOV #3 DM1150            ; 4stRB ﾜｰｸ状態
MPP
ANP LR15002              ; 4stRB ﾌﾝｼﾝｷﾞﾔ 組込完了_Mem
MOV #0 DM1150            ; 4stRB ﾜｰｸ状態
LD= DM1150 #0            ; 4stRB ﾜｰｸ状態
OUT MR11500              ; 4stRB ﾊﾝﾄﾞﾜｰｸ無_Mem
LD<= #1 DM1150           ; 4stRB ﾜｰｸ状態
AND<= DM1150 #2          ; 4stRB ﾜｰｸ状態
OUT MR11501              ; 4stRB ﾊﾝﾄﾞ ﾌﾝｼﾝｷﾞﾔ(塗布前)有_Mem
LD= DM1150 #3            ; 4stRB ﾜｰｸ状態
OUT MR11502              ; 4stRB ﾊﾝﾄﾞ ﾌﾝｼﾝｷﾞﾔ(塗布後)有_Mem
;ｽﾞﾚ量ｸﾘｱ
LDP R2403                ; 4stRB ﾌﾝｼﾝｷﾞﾔﾁｬｯｸ閉
FMOV #0 W0800 #10        ; ｶﾒﾗ1 X方向ｽﾞﾚ量 積算値
;<h1/>ﾄﾚｲｶｳﾝﾄ
;ｶｳﾝﾄｸﾘｱ
LD CR2002                ; 常時ON
MPS
LD LR16000               ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) ﾄﾚｲ取出_Mem
OR LR16001               ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) ﾄﾚｲ投入_Mem
ANL
@MOV #0 DM1154           ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)取出番号
MPP
LD LR16100               ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) ﾄﾚｲ取出_Mem
OR LR16101               ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) ﾄﾚｲ投入_Mem
ANL
@MOV #0 DM1155           ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)取出番号
;<h1/>ﾄﾚｲﾘｾｯﾄ
LD CR2003                ; 常時OFF
ANP B099                 ; tp取出番号ﾘｾｯﾄ
OR MR12300               ; 4stﾄﾚｲﾘｾｯﾄMC開始
ANB MR12315
OUT MR12300              ; 4stﾄﾚｲﾘｾｯﾄMC開始
LD MR12300               ; 4stﾄﾚｲﾘｾｯﾄMC開始
MC
LD MR12300               ; 4stﾄﾚｲﾘｾｯﾄMC開始
MPS
OUT MR12301              ; 4st上流上ﾄﾚｲ前進
MPP
AND T164                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 出側ﾄﾚｲ有
OUT MR12302              ; 4st上流上ﾄﾚｲ前進完了
LD MR12302               ; 4st上流上ﾄﾚｲ前進完了
OUT MR12303              ; 4st取出番号ﾘｾｯﾄ
OUT MR12304              ; 4stﾄﾚｲﾘｾｯﾄ上流上変更
MOV #0 EM1100            ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
MOV #0 DM1176            ; 4stRB ﾄﾚｲ取出No
MOV #2 DM1170            ; ﾌﾝｼﾝﾄﾚｲ(上)状態[0無/1未/2中/3完
MOV #1 DM1154            ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)取出番号
MOV #1 DM1155            ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)取出番号
LD MR12304               ; 4stﾄﾚｲﾘｾｯﾄ上流上変更
OUT MR12315
MCR
;ｶｳﾝﾄ開始
LD CR2002                ; 常時ON
MPS
LDP LR16002              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 投入開始_Mem
LD<= #0 DM1154           ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)取出番号
ANB MR4000               ; 自動運転
AND B099                 ; tp取出番号ﾘｾｯﾄ
ORL
ANL
MOV #1 DM1154            ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)取出番号
MPP
LDP LR16102              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 投入開始_Mem
LD<= #0 DM1155           ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)取出番号
ANB MR4000               ; 自動運転
AND B099                 ; tp取出番号ﾘｾｯﾄ
ORL
ANL
MOV #1 DM1155            ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)取出番号
;ﾄﾚｲｶｳﾝﾄ
LD @MR015                ; 4stﾃﾞｰﾀｼﾌﾄ有効
ANP LR15000              ; 4stRB ﾌﾝｼﾝｷﾞﾔ ﾁｬｯｸ閉_Mem
MPS
AND= EM1100 #0           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
MPS
ANB MR11911              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) ｶｳﾝﾄ終了
INC DM1154               ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)取出番号
MPP
AND MR11911              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) ｶｳﾝﾄ終了
MOV #3 DM1170            ; ﾌﾝｼﾝﾄﾚｲ(上)状態[0無/1未/2中/3完
MOV #11 DM1176           ; 4stRB ﾄﾚｲ取出No
MPP
AND= EM1100 #1           ; 4stRB ﾌﾝｼﾝｷﾞﾔ取出動作No
MPS
ANB MR11912              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) ｶｳﾝﾄ終了
INC DM1155               ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)取出番号
MPP
AND MR11912              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) ｶｳﾝﾄ終了
MOV #3 DM1171            ; ﾌﾝｼﾝﾄﾚｲ(下)状態[0無/1未/2中/3完]
MOV #12 DM1176           ; 4stRB ﾄﾚｲ取出No
LDP R70811               ; 4st ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ 取直完了
AND< #1 W1120            ; TP4st 次取出番号
MPS
AND= DM1176 #1           ; 4stRB ﾄﾚｲ取出No
CAL+ DM1154 W1120 DM1154 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)取出番号  TP4st 次取出番号  4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)取出番号
MPP
AND= DM1176 #2           ; 4stRB ﾄﾚｲ取出No
CAL+ DM1155 W1120 DM1155 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)取出番号  TP4st 次取出番号  4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)取出番号
;ｶｳﾝﾄ完了
LD CR2002                ; 常時ON
MPS
AND<= DM5112 DM1154      ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ収納数  4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)取出番号
OUT MR11911              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) ｶｳﾝﾄ終了
MPP
AND<= DM5112 DM1155      ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ収納数  4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)取出番号
OUT MR11912              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) ｶｳﾝﾄ終了
LD= DM1176 #11           ; 4stRB ﾄﾚｲ取出No
OR= DM1176 #12           ; 4stRB ﾄﾚｲ取出No
OUT MR11505              ; 4stRB ｳｫｰﾑｷﾞﾔﾄﾚｲ取出完了
;<h1/>部材供給
;ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)
LD CR2002                ; 常時ON
MPS
ANP LR16000              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) ﾄﾚｲ取出_Mem
MOV #0 DM1170            ; ﾌﾝｼﾝﾄﾚｲ(上)状態[0無/1未/2中/3完
MRD
ANP LR16001              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) ﾄﾚｲ投入_Mem
MOV #1 DM1170            ; ﾌﾝｼﾝﾄﾚｲ(上)状態[0無/1未/2中/3完
MPS
AND MR2501               ; 機種1 軸内導光無し
MOV #1 EM1170            ; ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 機種No
MRD
AND MR2514               ; 機種2 軸内導光有(旧)
MOV #2 EM1170            ; ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 機種No
MPP
AND MR2515               ; 機種2 軸内導光有(新)
MOV #3 EM1170            ; ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 機種No
MPP
ANP LR16002              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 投入開始_Mem
MOV #2 DM1170            ; ﾌﾝｼﾝﾄﾚｲ(上)状態[0無/1未/2中/3完
;ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)
LD CR2002                ; 常時ON
MPS
ANP LR16100              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) ﾄﾚｲ取出_Mem
MOV #0 DM1171            ; ﾌﾝｼﾝﾄﾚｲ(下)状態[0無/1未/2中/3完]
MRD
ANP LR16101              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) ﾄﾚｲ投入_Mem
MOV #1 DM1171            ; ﾌﾝｼﾝﾄﾚｲ(下)状態[0無/1未/2中/3完]
MPS
AND MR2501               ; 機種1 軸内導光無し
MOV #1 EM1171            ; ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 機種No
MRD
AND MR2514               ; 機種2 軸内導光有(旧)
MOV #2 EM1171            ; ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 機種No
MPP
AND MR2515               ; 機種2 軸内導光有(新)
MOV #3 EM1171            ; ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 機種No
MPP
ANP LR16102              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 投入開始_Mem
MOV #2 DM1171            ; ﾌﾝｼﾝﾄﾚｲ(下)状態[0無/1未/2中/3完]
;ﾄﾚｲｾｯﾄ記憶
LD CR2002                ; 常時ON
MPS
LD<= #1 DM1170           ; ﾌﾝｼﾝﾄﾚｲ(上)状態[0無/1未/2中/3完
AND<= DM1170 #2          ; ﾌﾝｼﾝﾄﾚｲ(上)状態[0無/1未/2中/3完
ANL
OUT MR11601              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)ｾｯﾄ記憶
MRD
LD<= #1 DM1171           ; ﾌﾝｼﾝﾄﾚｲ(下)状態[0無/1未/2中/3完]
AND<= DM1171 #2          ; ﾌﾝｼﾝﾄﾚｲ(下)状態[0無/1未/2中/3完]
ANL
OUT MR11602              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)ｾｯﾄ記憶
MPP
LDB MR11601              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)ｾｯﾄ記憶
ANB MR11602              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)ｾｯﾄ記憶
ANL
INV
OUT MR11600              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲｾｯﾄ記憶有
;ﾄﾚｲ完了記憶
LD CR2002                ; 常時ON
MPS
AND= DM1170 #3           ; ﾌﾝｼﾝﾄﾚｲ(上)状態[0無/1未/2中/3完
OUT MR11701              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)完了記憶
MRD
AND= DM1171 #3           ; ﾌﾝｼﾝﾄﾚｲ(下)状態[0無/1未/2中/3完]
OUT MR11702              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)完了記憶
MPP
LDB MR11701              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)完了記憶
ANB MR11702              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)完了記憶
ANL
INV
OUT MR11700              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ完了記憶有
;ﾄﾚｲ有記憶
LD CR2002                ; 常時ON
MPS
AND<> DM1170 #0          ; ﾌﾝｼﾝﾄﾚｲ(上)状態[0無/1未/2中/3完
OUT MR11603              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)有_Mem
MPP
AND<> DM1171 #0          ; ﾌﾝｼﾝﾄﾚｲ(下)状態[0無/1未/2中/3完]
OUT MR11604              ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)有_Mem
;ﾄﾚｲ機種一致
LD CR2002                ; 常時ON
MPS
LD MR2501                ; 機種1 軸内導光無し
AND= EM1170 #1           ; ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 機種No
LD MR2514                ; 機種2 軸内導光有(旧)
AND= EM1170 #2           ; ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 機種No
ORL
LD MR2515                ; 機種2 軸内導光有(新)
AND= EM1170 #3           ; ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 機種No
ORL
ANL
OUT LR11600              ; ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 機種一致
MPP
LD MR2501                ; 機種1 軸内導光無し
AND= EM1171 #1           ; ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 機種No
LD MR2514                ; 機種2 軸内導光有(旧)
AND= EM1171 #2           ; ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 機種No
ORL
LD MR2515                ; 機種2 軸内導光有(新)
AND= EM1171 #3           ; ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 機種No
ORL
ANL
OUT LR11601              ; ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 機種一致
LD MR11701               ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)完了記憶
OR MR11702               ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)完了記憶
OR= DM1170 #4            ; ﾌﾝｼﾝﾄﾚｲ(上)状態[0無/1未/2中/3完
OR= DM1171 #4            ; ﾌﾝｼﾝﾄﾚｲ(下)状態[0無/1未/2中/3完]
OUT MR11614              ; 4st 取出必要ﾄﾚｲ有
;原点復帰ﾄﾚｲ出条件
LD CR2002                ; 常時ON
MPS
LD= DM1170 #2            ; ﾌﾝｼﾝﾄﾚｲ(上)状態[0無/1未/2中/3完
AND T160                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上)ｽﾗｲﾀﾞ 出端
AND T164                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 出側ﾄﾚｲ有
AND LR11600              ; ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(上) 機種一致
OR MR11702               ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)完了記憶
ANL
OUT LR15401              ; 4st ﾌﾝｼﾝｷﾞﾔ(上) 原点復帰 出条件
MPP
LD= DM1171 #2            ; ﾌﾝｼﾝﾄﾚｲ(下)状態[0無/1未/2中/3完]
AND T170                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下)ｽﾗｲﾀﾞ 出端
AND T174                 ; 4st ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 出側ﾄﾚｲ有
AND LR11601              ; ﾌﾝｼﾝｷﾞﾔﾄﾚｲ(下) 機種一致
ANL
OUT LR15402              ; 4st ﾌﾝｼﾝｷﾞﾔ(下) 原点復帰 出条件
;<h1/>送りCVｽﾄｯﾊﾟ
LD @MR015                ; 4stﾃﾞｰﾀｼﾌﾄ有効
MPS
ANP LR18000              ; 4st 送りCVｽﾄｯﾊﾟ 受取完了_Mem
MOV #1 DM1180            ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
MRD
MOV DM4403 DM1181        ; 4stｽﾄｯﾊﾟﾊﾟﾚｯﾄNo(後工程)  4stｽﾄｯﾊﾟﾊﾟﾚｯﾄNo
MRD
LDP LR15002              ; 4stRB ﾌﾝｼﾝｷﾞﾔ 組込完了_Mem
LD MR17202               ; 4st 送りCV ｽﾄｯﾊﾟ 組込準備完了
ANB DM4404.5             ; 4stｽﾄｯﾊﾟ:4st ﾌﾝｼﾝｷﾞﾔ 組込有
ORL
ANL
MPS
MOV #2 DM1180            ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
MPP
AND LR15002              ; 4stRB ﾌﾝｼﾝｷﾞﾔ 組込完了_Mem
SET DM4400.5             ; 4st ﾌﾝｼﾝｷﾞﾔ 組込完了
MRD
LDP LR18001              ; 4st 送りCVｽﾄｯﾊﾟ① 排出開始_Mem
ORP LR18011              ; 4st 送りCVｽﾄｯﾊﾟ② 排出開始_Mem
ANL
MOV #10 DM1180           ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
MPS
LD LR18001               ; 4st 送りCVｽﾄｯﾊﾟ① 排出開始_Mem
AND<> DM4403 #0          ; 4stｽﾄｯﾊﾟﾊﾟﾚｯﾄNo(後工程)
ANL
BMOV DM4400 DM4510 #10   ; 4stｽﾄｯﾊﾟ作業状態  5stｴｽｹｰﾊﾟ①作業状態
MRD
LD LR18011               ; 4st 送りCVｽﾄｯﾊﾟ② 排出開始_Mem
AND<> DM4403 #0          ; 4stｽﾄｯﾊﾟﾊﾟﾚｯﾄNo(後工程)
ANL
BMOV DM4400 DM4520 #10   ; 4stｽﾄｯﾊﾟ作業状態  5stｴｽｹｰﾊﾟ②作業状態
MPP
FMOV #0 DM4400 #10       ; 4stｽﾄｯﾊﾟ作業状態
MPP
ANP LR18002              ; 4st 送りCVｽﾄｯﾊﾟ 排出完了_Mem
MOV #0 DM1180            ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
MOV #0 DM1181            ; 4stｽﾄｯﾊﾟﾊﾟﾚｯﾄNo
LD<= #1 DM1180           ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
AND<= DM1180 #2          ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
OUT LR11800              ; 4stｽﾄｯﾊﾟ ﾊﾟﾚｯﾄ有_Mem
LD= #10 DM1180           ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
OUT LR11802              ; 4stｽﾄｯﾊﾟ ﾊﾟﾚｯﾄ移動中_Mem
LD= DM1180 #1            ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
OUT LR11801              ; 4stｽﾄｯﾊﾟ 位置決め必要_Mem
LD LR11802               ; 4stｽﾄｯﾊﾟ ﾊﾟﾚｯﾄ移動中_Mem
AND MR4000               ; 自動運転
OR LR11803               ; 4st→5stﾊﾟﾚｯﾄ移動中
ANB LR21805              ; 5st ｴｽｹｰﾊﾟ① ﾊﾟﾚｯﾄ有_Mem
ANB LR21810              ; 5st ｴｽｹｰﾊﾟ② ﾊﾟﾚｯﾄ有_Mem
OUT LR11803              ; 4st→5stﾊﾟﾚｯﾄ移動中
;<h1/>受取ｽﾄｯﾊﾟ
LD @MR015                ; 4stﾃﾞｰﾀｼﾌﾄ有効
MPS
ANP LR18100              ; 4st 受取ｽﾄｯﾊﾟ 受取完了_Mem
MOV #1 DM1185            ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
MRD
LDP LR35801              ; 後工程PP 受渡_Mem
LD MR17800               ; 4st 受取ｽﾄｯﾊﾟ 排出準備
AND LR10508              ; 後工程のみｺﾝﾍﾞｱ動作
ORL
ANL
MOV #2 DM1185            ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
BMOV DM4380 DM4410 #3    ; 後工程作業状態  4st受取ｽﾄｯﾊﾟ作業状態
BMOV DM4384 DM4414 #6    ; 後工程作業有無  4st受取ｽﾄｯﾊﾟ作業有無
FMOV #0 DM4380 #10       ; 後工程作業状態
MRD
ANP LR18101              ; 4st 受取ｽﾄｯﾊﾟ 排出開始_Mem
MOV #10 DM1185           ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
MPS
AND<> DM4413 #0          ; 4st受取ｽﾄｯﾊﾟﾊﾟﾚｯﾄNo(後工程)
BMOV DM4410 DM4400 #10   ; 4st受取ｽﾄｯﾊﾟ作業状態  4stｽﾄｯﾊﾟ作業状態
MPP
FMOV #0 DM4410 #10       ; 4st受取ｽﾄｯﾊﾟ作業状態
MPP
ANP LR18102              ; 4st 受取ｽﾄｯﾊﾟ 排出完了_Mem
MOV #0 DM1185            ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
LD<= #1 DM1185           ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
AND<= DM1185 #2          ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
OUT LR11805              ; 4st 受取ｽﾄｯﾊﾟ ﾊﾟﾚｯﾄ有_Mem
LD= #10 DM1185           ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
OUT LR11807              ; 4st 受取ｽﾄｯﾊﾟ ﾊﾟﾚｯﾄ移動中_Mem
LD= DM1185 #1            ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
OUT LR11806              ; 4st受取ｽﾄｯﾊﾟ 位置決め必要_Mem
;<h1/>受取ｴｽｹｰﾊﾟ
LD @MR015                ; 4stﾃﾞｰﾀｼﾌﾄ有効
MPS
ANP LR18200              ; 4st 受取ｴｽｹｰﾊﾟ 受取完了_Mem
MOV #1 DM1190            ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
MRD
ANP MR56608              ; 送りCV ﾊﾟﾚｯﾄﾊﾞｰｺｰﾄﾞ読取値完了
MOV #2 DM1190            ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
MPS
MOV DM590 DM4423         ; ﾊﾞｰｺｰﾄﾞ読取値BIN変換後  4st受取ｴｽｹｰﾊﾟﾊﾟﾚｯﾄNo(後工程)
MPP
AND LR10508              ; 後工程のみｺﾝﾍﾞｱ動作
MOV #0 DM4424            ; 4st受取ｴｽｹｰﾊﾟ作業有無
MRD
ANP LR18201              ; 4st 受取ｴｽｹｰﾊﾟ 排出開始_Mem
MOV #10 DM1190           ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
MPS
AND<> DM4423 #0          ; 4st受取ｴｽｹｰﾊﾟﾊﾟﾚｯﾄNo(後工程)
BMOV DM4420 DM4410 #10   ; 4st受取ｴｽｹｰﾊﾟ作業状態  4st受取ｽﾄｯﾊﾟ作業状態
MPP
FMOV #0 DM4420 #10       ; 4st受取ｴｽｹｰﾊﾟ作業状態
MPP
ANP LR18202              ; 4st 受取ｴｽｹｰﾊﾟ 排出完了_Mem
MOV #0 DM1190            ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
LD<= #1 DM1190           ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
AND<= DM1190 #2          ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
OUT LR11810              ; 4st 受取ｴｽｹｰﾊﾟ ﾊﾟﾚｯﾄ有_Mem
LD= #10 DM1190           ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
OUT LR11812              ; 4st 受取ｴｽｹｰﾊﾟ ﾊﾟﾚｯﾄ移動中_Mem
;<h1/>中間工程PP
LD @MR015                ; 4stﾃﾞｰﾀｼﾌﾄ有効
MPS
ANP LR35700              ; 中間工程 ﾜｰｸｶﾞｲﾄﾞ閉_Mem
MOV #1 DM1430            ; 中間工程 ﾜｰｸ有_Mem
BMOV DM4360 DM4370 #10   ; 前工程作業状態  中間工程作業状態
MPP
ANP LR35800              ; 後工程PP 正常吸着OK_Mem
MOV #0 DM1430            ; 中間工程 ﾜｰｸ有_Mem
LD<> DM1430 #0           ; 中間工程 ﾜｰｸ有_Mem
OUT LR11705              ; 4st 中間工程 ﾜｰｸ有_Mem
;<h1/>後工程PP
LD @MR015                ; 4stﾃﾞｰﾀｼﾌﾄ有効
MPS
ANP LR35800              ; 後工程PP 正常吸着OK_Mem
MOV #1 DM1440            ; 後工程PP ﾜｰｸ有_Mem
BMOV DM4370 DM4380 #10   ; 中間工程作業状態  後工程作業状態
FMOV #0 DM4370 #10       ; 中間工程作業状態
MPP
ANP LR35801              ; 後工程PP 受渡_Mem
MOV #0 DM1440            ; 後工程PP ﾜｰｸ有_Mem
LD CR2002                ; 常時ON
MPS
LD R85403                ; 後工程受渡PP 吸着ON_1ｻｲｸﾙ
AND T710                 ; 後工程搬送PP ﾜｰｸ吸着ON確認
ANL
MOV #1 DM1441            ; 後工程PP 受渡中_Mem[1:受渡中]
MPP
AND MR54710              ; 後工程PP 上昇端
MOV #0 DM1441            ; 後工程PP 受渡中_Mem[1:受渡中]
LD= DM1440 #0            ; 後工程PP ﾜｰｸ有_Mem
OUT LR11700              ; 4st 後工程PP ﾜｰｸ無_Mem
LD<> DM1440 #0           ; 後工程PP ﾜｰｸ有_Mem
OUT LR11701              ; 4st 後工程PP ﾜｰｸ有_Mem
;<h1/>上流工程ﾊﾟﾚｯﾄ有
LD= DM4365 DM891         ; 前工程品種番号  画像処理1 品種No
AND<> DM4360 #0          ; 前工程作業状態
AND DM4364.5             ; 前工程PP:4st ﾌﾝｼﾝｷﾞﾔ 組込有
OUT LR11905              ; 前工程_品種一致ﾜｰｸ有
LD= DM4375 DM891         ; 中間工程導光有無(1:無2:有)  画像処理1 品種No
AND LR11705              ; 4st 中間工程 ﾜｰｸ有_Mem
AND DM4374.5             ; 中間工程:4st ﾌﾝｼﾝｷﾞﾔ 組込有
OUT LR11906              ; 中間工程_品種一致ﾜｰｸ有
LD= DM4385 DM891         ; 後工程導光有無(1:無2:有)  画像処理1 品種No
AND LR11701              ; 4st 後工程PP ﾜｰｸ有_Mem
AND DM4384.5             ; 後工程PP:4st ﾌﾝｼﾝｷﾞﾔ 組込有
OUT LR11907              ; 後工程_品種一致ﾜｰｸ有
LD= DM4415 DM891         ; 受取ｽﾄｯﾊﾟ導光有無(1:無2:有)  画像処理1 品種No
AND= DM1185 #2           ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
AND DM4414.5             ; 4st受取ｽﾄｯﾊﾟ:4st ﾌﾝｼﾝｷﾞﾔ 組込有
OUT LR11908              ; 4st受取ｽﾄｯﾊﾟ_品種一致ﾜｰｸ有
LD LR11905               ; 前工程_品種一致ﾜｰｸ有
ANB LR11705              ; 4st 中間工程 ﾜｰｸ有_Mem
ANB LR11701              ; 4st 後工程PP ﾜｰｸ有_Mem
AND= DM1185 #0           ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
LD LR11906               ; 中間工程_品種一致ﾜｰｸ有
ANB LR11701              ; 4st 後工程PP ﾜｰｸ有_Mem
AND= DM1185 #0           ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
ORL
LD LR11907               ; 後工程_品種一致ﾜｰｸ有
AND= DM1185 #0           ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
ORL
OR LR11908               ; 4st受取ｽﾄｯﾊﾟ_品種一致ﾜｰｸ有
MPS
AND T1190                ; 4st 上流工程 ﾜｰｸ有dly
OUT LR11900              ; 4st 上流工程 ﾜｰｸ有
MPP
TMR #1190 #5             ; 4st 上流工程 ﾜｰｸ有dly
LD LR11900               ; 4st 上流工程 ﾜｰｸ有
AND<> DM4361 #1
AND<> DM4371 #1          ; 中間工程投入番号
AND<> DM4381 #1          ; 後工程投入番号
AND<> DM4411 #1          ; 4st受取ｽﾄｯﾊﾟ投入番号
LD= DM4405 DM891         ; 4stｽﾄｯﾊﾟ導光有無(1:無2:有3:有新)  画像処理1 品種No
AND= DM1180 #1           ; 4stﾊﾟﾚｯﾄ状態[0無/1未/2ﾌﾝｼﾝ/10排]
ORL
ANB MR10403              ; 4st ｻｲｸﾙ停止中受付
AND T49                  ; 4stｽﾄｯﾊﾟ投入番号_先頭払出要求off
OUT LR11901              ; 4st 初期ﾜｰｸ取出条件
;<h1/>上流工程ﾜｰｸ有
LD CR2002                ; 常時ON
MOV #0 DM5002            ; ﾜｰｸ数
MPS
AND<> DM4360 #0          ; 前工程作業状態
INC DM5002               ; ﾜｰｸ数
MRD
AND LR11705              ; 4st 中間工程 ﾜｰｸ有_Mem
INC DM5002               ; ﾜｰｸ数
MPP
AND LR11701              ; 4st 後工程PP ﾜｰｸ有_Mem
INC DM5002               ; ﾜｰｸ数
LD CR2002                ; 常時ON
MOV #0 DM5004            ; ﾊﾟﾚｯﾄ数
MPS
AND<> DM1190 #0          ; 受取ｴｽｹｰﾊﾟ状態[0無/1未/2B/10排]
INC DM5004               ; ﾊﾟﾚｯﾄ数
MPP
AND= DM1185 #1           ; 4st受取ｽﾄｯﾊﾟ[0無/1未/2受取/10排]
INC DM5004               ; ﾊﾟﾚｯﾄ数
LD< DM5004 DM5002        ; ﾊﾟﾚｯﾄ数  ﾜｰｸ数
MPS
AND T1191                ; 4st受取 上流工程 ﾜｰｸ＞ﾊﾟﾚｯﾄdly
OUT LR11902              ; 4st受取 上流工程 ﾜｰｸ＞ﾊﾟﾚｯﾄ
MPP
TMH #1191 #20            ; 4st受取 上流工程 ﾜｰｸ＞ﾊﾟﾚｯﾄdly
LD LR11705               ; 4st 中間工程 ﾜｰｸ有_Mem
AND<> DM4360 #0          ; 前工程作業状態
ANB LR35700              ; 中間工程 ﾜｰｸｶﾞｲﾄﾞ閉_Mem
LD LR11701               ; 4st 後工程PP ﾜｰｸ有_Mem
AND<> DM4360 #0          ; 前工程作業状態
ORL
LD LR11705               ; 4st 中間工程 ﾜｰｸ有_Mem
AND LR11701              ; 4st 後工程PP ﾜｰｸ有_Mem
ORL
OUT LR11903              ; 4st受取 上流工程 ﾜｰｸ複数有
;ﾜｰｸ・ﾊﾟﾚｯﾄ無
LD CR2002                ; 常時ON
MPS
AND MR11500              ; 4stRB ﾊﾝﾄﾞﾜｰｸ無_Mem
OUT LR11911              ; 4st ｽｶﾗRBﾜｰｸ無
MRD
LDB LR11800              ; 4stｽﾄｯﾊﾟ ﾊﾟﾚｯﾄ有_Mem
ANB LR11805              ; 4st 受取ｽﾄｯﾊﾟ ﾊﾟﾚｯﾄ有_Mem
ANB LR11810              ; 4st 受取ｴｽｹｰﾊﾟ ﾊﾟﾚｯﾄ有_Mem
ANB LR11802              ; 4stｽﾄｯﾊﾟ ﾊﾟﾚｯﾄ移動中_Mem
ANB LR11807              ; 4st 受取ｽﾄｯﾊﾟ ﾊﾟﾚｯﾄ移動中_Mem
ANB LR11812              ; 4st 受取ｴｽｹｰﾊﾟ ﾊﾟﾚｯﾄ移動中_Mem
ANB LR11803              ; 4st→5stﾊﾟﾚｯﾄ移動中
ANL
OUT LR11912              ; 4st ﾊﾟﾚｯﾄ無し
MRD
LD LR11911               ; 4st ｽｶﾗRBﾜｰｸ無
AND LR11912              ; 4st ﾊﾟﾚｯﾄ無し
ANB LR11705              ; 4st 中間工程 ﾜｰｸ有_Mem
ANB LR11701              ; 4st 後工程PP ﾜｰｸ有_Mem
ANL
OUT LR11910              ; 4st ﾜｰｸ・ﾊﾟﾚｯﾄ無
MRD
ANB LR11705              ; 4st 中間工程 ﾜｰｸ有_Mem
OUT LR11913              ; 後工程PP ﾜｰｸ・ﾊﾟﾚｯﾄ無
MPP
ANB LR11701              ; 4st 後工程PP ﾜｰｸ有_Mem
OUT LR11914              ; 中間工程 ﾜｰｸ・ﾊﾟﾚｯﾄ無
END
ENDH
