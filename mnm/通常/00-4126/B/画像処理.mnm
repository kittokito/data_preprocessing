DEVICE:53
;MODULE:画像処理
;MODULE_TYPE:0
;<h1/>ｶﾒﾗ品種切替
LDP MR3000               ; 原点復帰
ORP MR4000               ; 自動運転
ORP MR2501               ; 機種1 軸内導光無し
ORP MR2514               ; 機種2 軸内導光有(旧)
ORP MR2515               ; 機種2 軸内導光有(新)
ORP MR52812              ; ﾜｰｸ機種(軸内動向無し)RB5選択中
ORP MR52813              ; ﾜｰｸ機種(軸内動向有旧)RB5選択中
ORP MR52809              ; ﾜｰｸ機種(軸内動向有新)RB5選択中
AND MR57800              ; 画像処理 品種切替可
OR MR57801               ; 品種切替開始
AND MR1101               ; 運転準備 完了
ANB MR57803              ; 画像処理 品種切替 結果受取完了
ANB T1597                ; 画像処理品種切替ﾀｲﾑｵｰﾊﾞｰ
OUT MR57801              ; 品種切替開始
MPS
TMS @9 #10               ; 画像処理 品種切替DLY
CON
AND @T9                  ; 画像処理 品種切替DLY
OUT MR57802              ; 画像処理  品種切替→PLC端子
MPP
TMR #1597 #300           ; 画像処理品種切替ﾀｲﾑｵｰﾊﾞｰ
LDP MR57801              ; 品種切替開始
MOV #1 DM650             ; PLC→XG ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ[品種]
MPS
LDB MR1200               ; 手動ﾓｰﾄﾞ
AND MR2502               ; 機種2 軸内導光有共通
AND= DM104 #2            ; CPU_B_____導光有無
LD MR1200                ; 手動ﾓｰﾄﾞ
AND= DM1500 #2           ; 機種選択TP
ORL
ANL
MOV #2 DM650             ; PLC→XG ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ[品種]
MRD
LDB MR1200               ; 手動ﾓｰﾄﾞ
AND MR2502               ; 機種2 軸内導光有共通
AND= DM104 #3            ; CPU_B_____導光有無
LD MR1200                ; 手動ﾓｰﾄﾞ
AND= DM1500 #4           ; 機種選択TP
ORL
ANL
MOV #3 DM650             ; PLC→XG ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ[品種]
MRD
MOV #1 DM601             ; PLC→XG ｶﾒﾗ品種切替
MPP
MOV #0 DM891             ; 画像処理1 品種No
LD<> DM601 #1            ; PLC→XG ｶﾒﾗ品種切替
OUT MR57814              ; 画像処理  品種切替結果受取条件
LD MR57814               ; 画像処理  品種切替結果受取条件
AND @T9                  ; 画像処理 品種切替DLY
OR MR57806               ; 画像処理  品種切替結果受取
AND MR57801              ; 品種切替開始
OUT MR57806              ; 画像処理  品種切替結果受取
LDP MR57806              ; 画像処理  品種切替結果受取
MPS
AND= DM601 #0            ; PLC→XG ｶﾒﾗ品種切替
OUT MR57804              ; 画像処理 品種切替 結果成功
MOV DM650 DM891          ; PLC→XG ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ[品種]  画像処理1 品種No
MPP
AND<> DM601 #0           ; PLC→XG ｶﾒﾗ品種切替
OUT MR57805              ; 画像処理 品種切替 結果異常
LDB MR57804              ; 画像処理 品種切替 結果成功
ANB MR57805              ; 画像処理 品種切替 結果異常
INV
OUT MR57803              ; 画像処理 品種切替 結果受取完了
LD CR2002                ; 常時ON
MPS
AND= DM891 #0            ; 画像処理1 品種No
OUT MR57810              ; 画像処理 品種未確定
MRD
AND= DM891 #1            ; 画像処理1 品種No
OUT MR57811              ; 画像処理 品種1切替完了
MRD
AND= DM891 #2            ; 画像処理1 品種No
OUT MR57812              ; 画像処理 品種2切替完了
MPP
AND= DM160 DM891         ; Aﾖﾘ 現在生産 機種  画像処理1 品種No
OUT MR57815              ; 画像処理 品種No一致
LD MR57910               ; 画像処理 ｼｰｹﾝｽ停止中
ANB MR57801              ; 品種切替開始
OUT MR57800              ; 画像処理 品種切替可
LD MR57015               ; 画像ﾄﾘｶﾞﾃｽﾄ
MPS
OUT MR57010              ; 画像処理ﾄﾘｶﾞﾃｽﾄ
MPP
ANP MR57010              ; 画像処理ﾄﾘｶﾞﾃｽﾄ
MOV #0 DM896             ; 画像処理 ｶﾒﾗ1完了
MOV #0 DM897             ; 画像処理 ｶﾒﾗ2完了
MOV #0 DM898             ; 画像処理 ｶﾒﾗ3完了
MOV #0 DM899             ; 画像処理 ｶﾒﾗ4完了
;<h1/>ｶﾒﾗ1 ｱﾗｲﾒﾝﾄ  TS@1  10-8-3-2-3-1-2
LDB LR10101              ; 4st ｱﾗｲﾒﾝﾄ無しﾓｰﾄﾞ
ANB MR6000               ; 設定1_ﾜｰｸ無運転有効
INV
OUT MR57115              ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄ 無動作
LDP MR57010              ; 画像処理ﾄﾘｶﾞﾃｽﾄ
AND= DM890 #0            ; 画像処理ﾄﾘｶﾞIL
AND= DM896 #0            ; 画像処理 ｶﾒﾗ1完了
OUT MR57011              ; 画像処理ﾄﾘｶﾞﾃｽﾄ ｶﾒﾗ1
LDP B041C                ; TP 4st ｱﾗｲﾒﾝﾄPB
AND MR57100              ; 画像処理 ｶﾒﾗ1 ｱﾗｲﾒﾝﾄ可
ORP R70915               ; 4stRB ｶﾒﾗﾄﾘｶﾞ_1ｻｲｸﾙ
ORP MR57011              ; 画像処理ﾄﾘｶﾞﾃｽﾄ ｶﾒﾗ1
AND MR57001              ; 画像処理  ｶﾒﾗ1ﾄﾘｶﾞ 許可信号
OR MR57101               ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ
AND MR1101               ; 運転準備 完了
ANB MR57103              ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ結果受取
ANB T1591                ; 画像処理ｶﾒﾗ1ﾀｲﾑｵｰﾊﾞｰ
ANB MR57900              ; 画像処理 ﾘｾｯﾄ
OUT MR57101              ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ
TMS @1 #10               ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄDLY
LD MR2000                ; 手動ﾓｰﾄﾞ 操作可能
AND MR57001              ; 画像処理  ｶﾒﾗ1ﾄﾘｶﾞ 許可信号
AND MR1101               ; 運転準備 完了
ANB MR57101              ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ
OUT MR57100              ; 画像処理 ｶﾒﾗ1 ｱﾗｲﾒﾝﾄ可
LDP MR57101              ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ
MOV #1 EM610             ; 画像処理 ｶﾒﾗ1ﾜｰｸ番号
MPS
ANB MR57115              ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄ 無動作
MOV #1 DM652             ; PLC→XG ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ[ｶﾒﾗ1]
MOV #1 DM603             ; PLC→XG ｶﾒﾗ1撮像開始
MRD
FMOV #0 DM800 #20        ; ｶﾒﾗ1 X方向ｽﾞﾚ量
MRD
AND= EM610 #1            ; 画像処理 ｶﾒﾗ1ﾜｰｸ番号
MOV #0 DM1141            ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
MOV #0 DM1144            ; 4stﾌﾝｼﾝｷﾞﾔ品種違判定
MPP
ANB MR57115              ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄ 無動作
MOV #10 DM890            ; 画像処理ﾄﾘｶﾞIL
LD= DM603 #0             ; PLC→XG ｶﾒﾗ1撮像開始
AND @T1                  ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄDLY
OR MR56800               ; 画像処理 ｶﾒﾗ1 ｺﾏﾝﾄﾞ実行成功
AND MR57101              ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ
ANB MR56801              ; 画像処理 ｶﾒﾗ1 ｺﾏﾝﾄﾞ実行失敗
OUT MR56800              ; 画像処理 ｶﾒﾗ1 ｺﾏﾝﾄﾞ実行成功
MOV #1 DM896             ; 画像処理 ｶﾒﾗ1完了
LD>= DM603 #2            ; PLC→XG ｶﾒﾗ1撮像開始
AND @T1                  ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄDLY
OR MR56801               ; 画像処理 ｶﾒﾗ1 ｺﾏﾝﾄﾞ実行失敗
AND MR57101              ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ
ANB MR56800              ; 画像処理 ｶﾒﾗ1 ｺﾏﾝﾄﾞ実行成功
OUT MR56801              ; 画像処理 ｶﾒﾗ1 ｺﾏﾝﾄﾞ実行失敗
LDP MR56800              ; 画像処理 ｶﾒﾗ1 ｺﾏﾝﾄﾞ実行成功
ORP MR56801              ; 画像処理 ｶﾒﾗ1 ｺﾏﾝﾄﾞ実行失敗
AND LR10201              ; 画像処理ﾊﾞｯｸｸﾞﾗｳﾝﾄﾞ処理有効
MOV #0 DM890             ; 画像処理ﾄﾘｶﾞIL
LD MR57101               ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ
AND @T1                  ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄDLY
ANB MR56800              ; 画像処理 ｶﾒﾗ1 ｺﾏﾝﾄﾞ実行成功
ANB MR56801              ; 画像処理 ｶﾒﾗ1 ｺﾏﾝﾄﾞ実行失敗
OUT MR57102              ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ→PLC端子
;結果ﾃﾞｰﾀ受取
LD= DM700 #1             ; PLC←XG 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
AND=.D DM716 #1          ; PLC←XG ｶﾒﾗ番号
AND= EM610 #1            ; 画像処理 ｶﾒﾗ1ﾜｰｸ番号
AND=.D DM718 #1          ; PLC←XG ﾜｰｸ番号
OUT MR57114              ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ結果受取条件
LD MR57114               ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ結果受取条件
AND MR56800              ; 画像処理 ｶﾒﾗ1 ｺﾏﾝﾄﾞ実行成功
OR MR57115               ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄ 無動作
OR MR57103               ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ結果受取
AND MR57101              ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ
OUT MR57103              ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ結果受取
LDP MR57103              ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ結果受取
MPS
ANB MR57115              ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄ 無動作
BMOV DM710 DM800 #20     ; PLC←XG 結果ﾃﾞｰﾀ出力ｱﾄﾞﾚｽ(X)  ｶﾒﾗ1 X方向ｽﾞﾚ量
MPS
AND= DM810 #1            ; ｶﾒﾗ1 ｽﾃｰﾀｽ信号[0:継続1:完了2:ERR
MOV #1 DM1141            ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
CAL+.L DM800 W0800 W0800 ; ｶﾒﾗ1 X方向ｽﾞﾚ量  ｶﾒﾗ1 X方向ｽﾞﾚ量 積算値  ｶﾒﾗ1 X方向ｽﾞﾚ量 積算値
CAL+.L DM802 W0802 W0802 ; ｶﾒﾗ1 Y方向ｽﾞﾚ量  ｶﾒﾗ1 Y方向ｽﾞﾚ量 積算値  ｶﾒﾗ1 Y方向ｽﾞﾚ量 積算値
CAL+.L DM804 W0804 W0804 ; ｶﾒﾗ1 θ方向ｽﾞﾚ量  ｶﾒﾗ1 θ方向ｽﾞﾚ量 積算値  ｶﾒﾗ1 θ方向ｽﾞﾚ量 積算値
MRD
AND= DM810 #2            ; ｶﾒﾗ1 ｽﾃｰﾀｽ信号[0:継続1:完了2:ERR
MOV #2 DM1141            ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
MPP
AND MR57103              ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ結果受取
MPS
AND= DM728 #0            ; ｽﾃｰﾀｽ信号5(ﾌﾝｼﾝ品種)[0:OK/1:NG]
MOV #1 DM1144            ; 4stﾌﾝｼﾝｷﾞﾔ品種違判定
MPP
AND<> DM728 #0           ; ｽﾃｰﾀｽ信号5(ﾌﾝｼﾝ品種)[0:OK/1:NG]
MOV #2 DM1144            ; 4stﾌﾝｼﾝｷﾞﾔ品種違判定
MRD
AND MR57115              ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄ 無動作
MOV #1 DM1141            ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
FMOV #0 DM800 #6         ; ｶﾒﾗ1 X方向ｽﾞﾚ量
MRD
MOV #0 DM700             ; PLC←XG 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
MPP
ANB LR10201              ; 画像処理ﾊﾞｯｸｸﾞﾗｳﾝﾄﾞ処理有効
MOV #0 DM890             ; 画像処理ﾄﾘｶﾞIL
;判定結果
LD<> DM1144 #0           ; 4stﾌﾝｼﾝｷﾞﾔ品種違判定
MPS
AND= DM1144 #1           ; 4stﾌﾝｼﾝｷﾞﾔ品種違判定
OUT MR57208              ; 画像処理 ｶﾒﾗ1 ﾌﾝｼﾝｷﾞﾔ 品種 OK
MPP
ANB MR57208              ; 画像処理 ｶﾒﾗ1 ﾌﾝｼﾝｷﾞﾔ 品種 OK
OUT MR57209              ; 画像処理 ｶﾒﾗ1 ﾌﾝｼﾝｷﾞﾔ 品種 NG
LD<> DM1141 #0           ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
MPS
LD= DM1141 #1            ; 4stRB ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
AND MR57208              ; 画像処理 ｶﾒﾗ1 ﾌﾝｼﾝｷﾞﾔ 品種 OK
ANL
OUT MR57104              ; 画像処理 ｶﾒﾗ1 ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ OK
MPP
ANB MR57104              ; 画像処理 ｶﾒﾗ1 ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ OK
OUT MR57105              ; 画像処理 ｶﾒﾗ1 ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ NG
;ｽﾞﾚ量判定
LD CR2002                ; 常時ON
CAL-.L +0 DM7100 @DM10   ; 4st X軸判定公差(確認ﾓｰﾄﾞ)  4stRB ｽﾞﾚ量公差X_Min
CAL-.L +0 DM7102 @DM12   ; 4st Y軸判定公差(確認ﾓｰﾄﾞ)  4stRB ｽﾞﾚ量公差Y_Min
CAL-.L +0 DM7104 @DM14   ; 4st θ軸判定公差(確認ﾓｰﾄﾞ)  4stRB ｽﾞﾚ量公差θ_Min
LD MR57104               ; 画像処理 ｶﾒﾗ1 ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ OK
MPS
LD<=.L @DM10 DM800       ; 4stRB ｽﾞﾚ量公差X_Min  ｶﾒﾗ1 X方向ｽﾞﾚ量
AND<=.L DM800 DM7100     ; ｶﾒﾗ1 X方向ｽﾞﾚ量  4st X軸判定公差(確認ﾓｰﾄﾞ)
ANL
OUT MR57111              ; 4stRB ｽﾞﾚ量X範囲内
MRD
LD<=.L @DM12 DM802       ; 4stRB ｽﾞﾚ量公差Y_Min  ｶﾒﾗ1 Y方向ｽﾞﾚ量
AND<=.L DM802 DM7102     ; ｶﾒﾗ1 Y方向ｽﾞﾚ量  4st Y軸判定公差(確認ﾓｰﾄﾞ)
ANL
OUT MR57112              ; 4stRB ｽﾞﾚ量Y範囲内
MRD
LD<=.L @DM14 DM804       ; 4stRB ｽﾞﾚ量公差θ_Min  ｶﾒﾗ1 θ方向ｽﾞﾚ量
AND<=.L DM804 DM7104     ; ｶﾒﾗ1 θ方向ｽﾞﾚ量  4st θ軸判定公差(確認ﾓｰﾄﾞ)
ANL
OUT MR57113              ; 4stRB ｽﾞﾚ量θ範囲内
MPP
LD MR57111               ; 4stRB ｽﾞﾚ量X範囲内
AND MR57112              ; 4stRB ｽﾞﾚ量Y範囲内
AND MR57113              ; 4stRB ｽﾞﾚ量θ範囲内
ANL
OUT MR57110              ; 4stRB ｽﾞﾚ量XYθ範囲内
;<h1/>ｽﾞﾚ量ROGｶﾒﾗ1
;ﾌﾝｼﾝｷﾞﾔ(LOG)
LDP MR57104              ; 画像処理 ｶﾒﾗ1 ﾌﾝｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ OK
AND= EM1102 #1           ; 4stRB ｶﾒﾗﾄﾘｶﾞ回数
MPS
AND CR2002               ; 常時ON
@BMOV.D EM20000 EM20002 #9;ｶﾒﾗ1 X方向ｽﾞﾚ量 積算値LOG1  ｶﾒﾗ1 X方向ｽﾞﾚ量 積算値LOG2
@MOV.L W0800 EM20000     ; ｶﾒﾗ1 X方向ｽﾞﾚ量 積算値  ｶﾒﾗ1 X方向ｽﾞﾚ量 積算値LOG1
MPS
MEP
MAX.L EM20000 #9         ; ｶﾒﾗ1 X方向ｽﾞﾚ量 積算値LOG1
CON
STA.L EM20060            ; ｶﾒﾗ1 X方向ｽﾞﾚ量 積算値MAX
MRD
MEP
MIN.L EM20000 #9         ; ｶﾒﾗ1 X方向ｽﾞﾚ量 積算値LOG1
CON
STA.L EM20062            ; ｶﾒﾗ1 X方向ｽﾞﾚ量 積算値MIN
MPP
MEP
AVG.L EM20000 #9         ; ｶﾒﾗ1 X方向ｽﾞﾚ量 積算値LOG1
CON
STA.L EM20064            ; ｶﾒﾗ1 X方向ｽﾞﾚ量 積算値AVG
MRD
AND CR2002               ; 常時ON
@BMOV.D EM20020 EM20022 #9;ｶﾒﾗ1 Y方向ｽﾞﾚ量 積算値LOG1  ｶﾒﾗ1 Y方向ｽﾞﾚ量 積算値LOG2
@MOV.L W0802 EM20020     ; ｶﾒﾗ1 Y方向ｽﾞﾚ量 積算値  ｶﾒﾗ1 Y方向ｽﾞﾚ量 積算値LOG1
MPS
MEP
MAX.L EM20020 #9         ; ｶﾒﾗ1 Y方向ｽﾞﾚ量 積算値LOG1
CON
STA.L EM20066            ; ｶﾒﾗ1 Y方向ｽﾞﾚ量 積算値MAX
MRD
MEP
MIN.L EM20020 #9         ; ｶﾒﾗ1 Y方向ｽﾞﾚ量 積算値LOG1
CON
STA.L EM20068            ; ｶﾒﾗ1 Y方向ｽﾞﾚ量 積算値MIN
MPP
MEP
AVG.L EM20020 #9         ; ｶﾒﾗ1 Y方向ｽﾞﾚ量 積算値LOG1
CON
STA.L EM20070            ; ｶﾒﾗ1 Y方向ｽﾞﾚ量 積算値AVG
MPP
AND CR2002               ; 常時ON
@BMOV.D EM20040 EM20042 #9;ｶﾒﾗ1 θ方向ｽﾞﾚ量 積算値LOG1  ｶﾒﾗ1 θ方向ｽﾞﾚ量 積算値LOG2
@MOV.L W0804 EM20040     ; ｶﾒﾗ1 θ方向ｽﾞﾚ量 積算値  ｶﾒﾗ1 θ方向ｽﾞﾚ量 積算値LOG1
MPS
MEP
MAX.L EM20040 #9         ; ｶﾒﾗ1 θ方向ｽﾞﾚ量 積算値LOG1
CON
STA.L EM20072            ; ｶﾒﾗ1 θ方向ｽﾞﾚ量 積算値MAX
MRD
MEP
MIN.L EM20040 #9         ; ｶﾒﾗ1 θ方向ｽﾞﾚ量 積算値LOG1
CON
STA.L EM20074            ; ｶﾒﾗ1 θ方向ｽﾞﾚ量 積算値MIN
MPP
MEP
AVG.L EM20040 #9         ; ｶﾒﾗ1 θ方向ｽﾞﾚ量 積算値LOG1
CON
STA.L EM20076            ; ｶﾒﾗ1 θ方向ｽﾞﾚ量 積算値AVG
;<h1/>ｶﾒﾗ1 ｷｬﾘﾌﾞﾚｰｼｮﾝ
LD MR2000                ; 手動ﾓｰﾄﾞ 操作可能
AND MR57001              ; 画像処理  ｶﾒﾗ1ﾄﾘｶﾞ 許可信号
AND= DM890 #0            ; 画像処理ﾄﾘｶﾞIL
AND MR51705              ; 4stRB ｶﾒﾗ 上昇端
OUT MR57515              ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ可
LDP B0D0                 ; TPｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝPB
AND MR57515              ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ可
OR MR57501               ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ
AND MR1101               ; 運転準備 完了
ANB MR57512              ; 画像処理 ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ完了
ANB T1591                ; 画像処理ｶﾒﾗ1ﾀｲﾑｵｰﾊﾞｰ
ANB MR57900              ; 画像処理 ﾘｾｯﾄ
OUT MR57501              ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ
@FMOV #0 W0800 #10       ; ｶﾒﾗ1 X方向ｽﾞﾚ量 積算値
LD MR57501               ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ
ANB MR57510              ; 継続→ｽｶﾗRB移動確認→ﾘﾋﾟｰﾄ
MC
@MOV #1 EM611            ; 画像処理 ｶﾒﾗ1ﾜｰｸ番号(ｷｬﾘﾌﾞ)
@MOV.D #0 DM652          ; PLC→XG ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ[ｶﾒﾗ1]
@MOV #1 DM603            ; PLC→XG ｶﾒﾗ1撮像開始
@FMOV #0 DM800 #20       ; ｶﾒﾗ1 X方向ｽﾞﾚ量
TMR @5 #10               ; 画像処理 ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝDLY
CON
AND @T5                  ; 画像処理 ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝDLY
OUT MR57502              ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮ→PLC端子
LD= DM700 #1             ; PLC←XG 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
AND<> DM603 #1           ; PLC→XG ｶﾒﾗ1撮像開始
AND=.D DM716 #1          ; PLC←XG ｶﾒﾗ番号
AND= EM611 #1            ; 画像処理 ｶﾒﾗ1ﾜｰｸ番号(ｷｬﾘﾌﾞ)
AND=.D DM718 #1          ; PLC←XG ﾜｰｸ番号
OUT MR57514              ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞ結果受取条件
LD MR57514               ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞ結果受取条件
AND @T5                  ; 画像処理 ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝDLY
OR MR57503               ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ結果受取
AND MR57501              ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ
OUT MR57503              ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ結果受取
@BMOV DM710 DM800 #20    ; PLC←XG 結果ﾃﾞｰﾀ出力ｱﾄﾞﾚｽ(X)  ｶﾒﾗ1 X方向ｽﾞﾚ量
@CAL+.L DM800 W0800 W0800; ｶﾒﾗ1 X方向ｽﾞﾚ量  ｶﾒﾗ1 X方向ｽﾞﾚ量 積算値  ｶﾒﾗ1 X方向ｽﾞﾚ量 積算値
@CAL+.L DM802 W0802 W0802; ｶﾒﾗ1 Y方向ｽﾞﾚ量  ｶﾒﾗ1 Y方向ｽﾞﾚ量 積算値  ｶﾒﾗ1 Y方向ｽﾞﾚ量 積算値
@CAL+.L DM804 W0804 W0804; ｶﾒﾗ1 θ方向ｽﾞﾚ量  ｶﾒﾗ1 θ方向ｽﾞﾚ量 積算値  ｶﾒﾗ1 θ方向ｽﾞﾚ量 積算値
@MOV #0 DM700            ; PLC←XG 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
@MOV #0 DM890            ; 画像処理ﾄﾘｶﾞIL
;判定結果
LD= DM806 #1             ; ｶﾒﾗ1 ｶﾒﾗ番号
MPS
AND= DM810 #0            ; ｶﾒﾗ1 ｽﾃｰﾀｽ信号[0:継続1:完了2:ERR
OUT MR57504              ; 画像処理 ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ 継続
MRD
AND= DM810 #1            ; ｶﾒﾗ1 ｽﾃｰﾀｽ信号[0:継続1:完了2:ERR
OUT MR57505              ; 画像処理 ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ OK
MPP
LDB MR57504              ; 画像処理 ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ 継続
ANB MR57505              ; 画像処理 ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ OK
ANL
OUT MR57506              ; 画像処理 ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ NG
LDP B0D0                 ; TPｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝPB
AND MR57504              ; 画像処理 ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ 継続
OR MR57508               ; ｶﾒﾗ1ｷｬﾘﾌﾞ継続→ｽｶﾗRB移動
AND MR57503              ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ結果受取
OUT MR57508              ; ｶﾒﾗ1ｷｬﾘﾌﾞ継続→ｽｶﾗRB移動
MPS
@MOV #1 EM1101           ; 4stRB 補正[0無/1ｶﾒﾗ/2塗/3:CV]
MPP
LD MR51914               ; 4stRB 動作可能
OR MR57509               ; ｶﾒﾗ1ｷｬﾘﾌﾞ継続→ｽｶﾗRB移動_画像
ANL
OUT MR57509              ; ｶﾒﾗ1ｷｬﾘﾌﾞ継続→ｽｶﾗRB移動_画像
LD MR51909               ; 4stRB 移動完了
OR MR57510               ; 継続→ｽｶﾗRB移動確認→ﾘﾋﾟｰﾄ
AND MR57508              ; ｶﾒﾗ1ｷｬﾘﾌﾞ継続→ｽｶﾗRB移動
OUT MR57510              ; 継続→ｽｶﾗRB移動確認→ﾘﾋﾟｰﾄ
LD MR57505               ; 画像処理 ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ OK
OR MR57506               ; 画像処理 ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ NG
OR MR57512               ; 画像処理 ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ完了
AND MR57503              ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ結果受取
OUT MR57512              ; 画像処理 ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ完了
MCR
;<h1/>ｶﾒﾗ1 ｸﾞﾘｽ塗布確認
LDB R71208               ; 4stRB 塗布 ｶﾒﾗ確認_1ｻｲｸﾙ
INV
OUT MR57005              ; 画像処理 ｶﾒﾗ1塗布指令補助
LDP B041D                ; TP 4st 塗布確認PB
AND MR57109              ; 画像処理  ｶﾒﾗ1塗布確認可
ORP MR57005              ; 画像処理 ｶﾒﾗ1塗布指令補助
AND MR57001              ; 画像処理  ｶﾒﾗ1ﾄﾘｶﾞ 許可信号
OR MR57106               ; 画像処理  ｶﾒﾗ1塗布確認
AND MR1101               ; 運転準備 完了
ANB MR57009              ; 画像処理  ｶﾒﾗ1塗布結果受取
ANB T1591                ; 画像処理ｶﾒﾗ1ﾀｲﾑｵｰﾊﾞｰ
ANB MR57900              ; 画像処理 ﾘｾｯﾄ
OUT MR57106              ; 画像処理  ｶﾒﾗ1塗布確認
TMS @8 #10               ; 画像処理 ｶﾒﾗ1塗布DLY
LD MR2000                ; 手動ﾓｰﾄﾞ 操作可能
AND MR57001              ; 画像処理  ｶﾒﾗ1ﾄﾘｶﾞ 許可信号
AND MR1101               ; 運転準備 完了
ANB MR57106              ; 画像処理  ｶﾒﾗ1塗布確認
OUT MR57109              ; 画像処理  ｶﾒﾗ1塗布確認可
LDP MR57106              ; 画像処理  ｶﾒﾗ1塗布確認
MOV #1 EM610             ; 画像処理 ｶﾒﾗ1ﾜｰｸ番号
MOV #0 DM1142            ; 4stRB ﾌﾝｼﾝｷﾞﾔ 塗布記憶[1OK/2NG]
MOV #1 DM722             ; ｽﾃｰﾀｽ信号2(塗布)[0OK/1NG]
MPS
ANB MR58015              ; 4st ｸﾞﾘｽ塗布動作無し
MOV #2 DM652             ; PLC→XG ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ[ｶﾒﾗ1]
MOV #1 DM603             ; PLC→XG ｶﾒﾗ1撮像開始
MPP
ANB MR57115              ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄ 無動作
MOV #1 DM890             ; 画像処理ﾄﾘｶﾞIL
LD= DM603 #0             ; PLC→XG ｶﾒﾗ1撮像開始
AND @T8                  ; 画像処理 ｶﾒﾗ1塗布DLY
OR MR56802               ; 画像処理 ｶﾒﾗ1 塗布ｺﾏﾝﾄﾞ実行成功
AND MR57106              ; 画像処理  ｶﾒﾗ1塗布確認
ANB MR56803              ; 画像処理 ｶﾒﾗ1 塗布ｺﾏﾝﾄﾞ実行失敗
OUT MR56802              ; 画像処理 ｶﾒﾗ1 塗布ｺﾏﾝﾄﾞ実行成功
LD>= DM603 #2            ; PLC→XG ｶﾒﾗ1撮像開始
AND @T8                  ; 画像処理 ｶﾒﾗ1塗布DLY
OR MR56803               ; 画像処理 ｶﾒﾗ1 塗布ｺﾏﾝﾄﾞ実行失敗
AND MR57106              ; 画像処理  ｶﾒﾗ1塗布確認
ANB MR56802              ; 画像処理 ｶﾒﾗ1 塗布ｺﾏﾝﾄﾞ実行成功
OUT MR56803              ; 画像処理 ｶﾒﾗ1 塗布ｺﾏﾝﾄﾞ実行失敗
LDP MR56802              ; 画像処理 ｶﾒﾗ1 塗布ｺﾏﾝﾄﾞ実行成功
ORP MR56803              ; 画像処理 ｶﾒﾗ1 塗布ｺﾏﾝﾄﾞ実行失敗
AND LR10201              ; 画像処理ﾊﾞｯｸｸﾞﾗｳﾝﾄﾞ処理有効
MOV #0 DM890             ; 画像処理ﾄﾘｶﾞIL
LD MR57106               ; 画像処理  ｶﾒﾗ1塗布確認
AND @T8                  ; 画像処理 ｶﾒﾗ1塗布DLY
ANB MR56802              ; 画像処理 ｶﾒﾗ1 塗布ｺﾏﾝﾄﾞ実行成功
ANB MR56803              ; 画像処理 ｶﾒﾗ1 塗布ｺﾏﾝﾄﾞ実行失敗
OUT MR57007              ; 画像処理  ｶﾒﾗ1塗布→PLC端子
;結果ﾃﾞｰﾀ受取
LD= DM700 #1             ; PLC←XG 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
AND=.D DM716 #1          ; PLC←XG ｶﾒﾗ番号
AND= EM610 #1            ; 画像処理 ｶﾒﾗ1ﾜｰｸ番号
AND=.D DM718 #1          ; PLC←XG ﾜｰｸ番号
OUT MR57008              ; 画像処理 ｶﾒﾗ1塗布完了
LD MR57008               ; 画像処理 ｶﾒﾗ1塗布完了
AND MR56802              ; 画像処理 ｶﾒﾗ1 塗布ｺﾏﾝﾄﾞ実行成功
OR MR58015               ; 4st ｸﾞﾘｽ塗布動作無し
OR MR57009               ; 画像処理  ｶﾒﾗ1塗布結果受取
AND MR57106              ; 画像処理  ｶﾒﾗ1塗布確認
OUT MR57009              ; 画像処理  ｶﾒﾗ1塗布結果受取
LDP MR57009              ; 画像処理  ｶﾒﾗ1塗布結果受取
MPS
LDB MR58015              ; 4st ｸﾞﾘｽ塗布動作無し
AND= DM722 #0            ; ｽﾃｰﾀｽ信号2(塗布)[0OK/1NG]
OR MR58015               ; 4st ｸﾞﾘｽ塗布動作無し
ANL
MOV #1 DM1142            ; 4stRB ﾌﾝｼﾝｷﾞﾔ 塗布記憶[1OK/2NG]
MRD
LDB MR58015              ; 4st ｸﾞﾘｽ塗布動作無し
AND<> DM722 #0           ; ｽﾃｰﾀｽ信号2(塗布)[0OK/1NG]
ANL
MOV #2 DM1142            ; 4stRB ﾌﾝｼﾝｷﾞﾔ 塗布記憶[1OK/2NG]
MRD
MOV #0 DM700             ; PLC←XG 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
MPP
ANB LR10201              ; 画像処理ﾊﾞｯｸｸﾞﾗｳﾝﾄﾞ処理有効
MOV #0 DM890             ; 画像処理ﾄﾘｶﾞIL
;塗布結果
LD<> DM1142 #0           ; 4stRB ﾌﾝｼﾝｷﾞﾔ 塗布記憶[1OK/2NG]
MPS
AND= DM1142 #1           ; 4stRB ﾌﾝｼﾝｷﾞﾔ 塗布記憶[1OK/2NG]
OUT MR57107              ; 画像処理 ｶﾒﾗ1塗布 OK
MPP
ANB MR57107              ; 画像処理 ｶﾒﾗ1塗布 OK
OUT MR57108              ; 画像処理 ｶﾒﾗ1塗布 NG
LD MR57101               ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ
LD MR57501               ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ
ANB MR57503              ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ結果受取
ORL
OR MR57106               ; 画像処理  ｶﾒﾗ1塗布確認
ANB LR10015              ; 動作ﾀｲﾑｵｰﾊﾞ無効
ANB LR10215              ; 画像処理ﾀｲﾑｵｰﾊﾞ無効
ANB MR56801              ; 画像処理 ｶﾒﾗ1 ｺﾏﾝﾄﾞ実行失敗
ANB MR56803              ; 画像処理 ｶﾒﾗ1 塗布ｺﾏﾝﾄﾞ実行失敗
TMR #1591 #400           ; 画像処理ｶﾒﾗ1ﾀｲﾑｵｰﾊﾞｰ
;<h1/>ｶﾒﾗ2 ｱﾗｲﾒﾝﾄ
LDB LR10102              ; 5st ｱﾗｲﾒﾝﾄ無しﾓｰﾄﾞ
ANB MR6000               ; 設定1_ﾜｰｸ無運転有効
INV
OUT MR57215              ; 画像処理 ｶﾒﾗ2ｱﾗｲﾒﾝﾄ 無動作
LD MR57010               ; 画像処理ﾄﾘｶﾞﾃｽﾄ
AND= DM890 #0            ; 画像処理ﾄﾘｶﾞIL
AND= DM897 #0            ; 画像処理 ｶﾒﾗ2完了
AND MR57002              ; 画像処理  ｶﾒﾗ2ﾄﾘｶﾞ 許可信号
AND= DM899 #1            ; 画像処理 ｶﾒﾗ4完了
OUT MR57012              ; 画像処理ﾄﾘｶﾞﾃｽﾄ ｶﾒﾗ2
;<h1/>170525  @2  10⇒20⇒50-10-8-3-2-1-2-5-2
LDP B051C                ; TP 5st ﾋﾉｳﾗｷﾞﾔｱﾗｲﾒﾝﾄPB
ORP B051D                ; TP 5st ｼﾞｼﾝｷﾞﾔｱﾗｲﾒﾝﾄPB
AND MR2000               ; 手動ﾓｰﾄﾞ 操作可能
ORP R74915               ; 5stRB ｶﾒﾗﾄﾘｶﾞ_1ｻｲｸﾙ
ORP MR57012              ; 画像処理ﾄﾘｶﾞﾃｽﾄ ｶﾒﾗ2
AND MR57002              ; 画像処理  ｶﾒﾗ2ﾄﾘｶﾞ 許可信号
OR MR57201               ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ
AND MR1101               ; 運転準備 完了
ANB MR57203              ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ結果受取
ANB T1592                ; 画像処理ｶﾒﾗ2ﾀｲﾑｵｰﾊﾞｰ
ANB MR57900              ; 画像処理 ﾘｾｯﾄ
OUT MR57201              ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ
TMS @2 #10               ; 画像処理 ｶﾒﾗ2ｱﾗｲﾒﾝﾄDLY
LD MR2000                ; 手動ﾓｰﾄﾞ 操作可能
AND MR57002              ; 画像処理  ｶﾒﾗ2ﾄﾘｶﾞ 許可信号
AND MR1101               ; 運転準備 完了
ANB MR57201              ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ
OUT MR57200              ; 画像処理 ｶﾒﾗ2 ｱﾗｲﾒﾝﾄ可
LDP MR57201              ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ
MPS
LD B051C                 ; TP 5st ﾋﾉｳﾗｷﾞﾔｱﾗｲﾒﾝﾄPB
OR R74806                ; 5st ﾋﾉｳﾗｷﾞﾔ ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ動作
OR MR57010               ; 画像処理ﾄﾘｶﾞﾃｽﾄ
ANL
MPS
MOV #1 EM620             ; 画像処理 ｶﾒﾗ2ﾜｰｸ番号
MPP
ANB MR57215              ; 画像処理 ｶﾒﾗ2ｱﾗｲﾒﾝﾄ 無動作
MOV #1 DM654             ; PLC→XG ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ[ｶﾒﾗ2]
MRD
LD B051D                 ; TP 5st ｼﾞｼﾝｷﾞﾔｱﾗｲﾒﾝﾄPB
OR R74807                ; 5st ｼﾞｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ動作
ANL
MPS
MOV #2 EM620             ; 画像処理 ｶﾒﾗ2ﾜｰｸ番号
MPP
ANB MR57215              ; 画像処理 ｶﾒﾗ2ｱﾗｲﾒﾝﾄ 無動作
MOV #11 DM654            ; PLC→XG ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ[ｶﾒﾗ2]
MRD
ANB MR57215              ; 画像処理 ｶﾒﾗ2ｱﾗｲﾒﾝﾄ 無動作
MOV #1 DM604             ; PLC→XG ｶﾒﾗ2撮像開始
MRD
FMOV #0 DM820 #20        ; ｶﾒﾗ2 X方向ｽﾞﾚ量
MRD
AND= EM620 #1            ; 画像処理 ｶﾒﾗ2ﾜｰｸ番号
MOV #0 DM1241            ; 5stRB ﾋﾉｳﾗｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
MRD
AND= EM620 #2            ; 画像処理 ｶﾒﾗ2ﾜｰｸ番号
MOV #0 DM1242            ; 5stRB ｼﾞｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
MOV #0 DM1244            ; 5stｼﾞｼﾝｷﾞﾔ品種違判定
MPP
MOV #20 DM890            ; 画像処理ﾄﾘｶﾞIL
LD= DM604 #0             ; PLC→XG ｶﾒﾗ2撮像開始
AND @T2                  ; 画像処理 ｶﾒﾗ2ｱﾗｲﾒﾝﾄDLY
OR MR56810               ; 画像処理 ｶﾒﾗ2 ｺﾏﾝﾄﾞ実行成功
AND MR57201              ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ
ANB MR56811              ; 画像処理 ｶﾒﾗ2 ｺﾏﾝﾄﾞ実行失敗
OUT MR56810              ; 画像処理 ｶﾒﾗ2 ｺﾏﾝﾄﾞ実行成功
MOV #1 DM897             ; 画像処理 ｶﾒﾗ2完了
LD>= DM604 #2            ; PLC→XG ｶﾒﾗ2撮像開始
AND @T2                  ; 画像処理 ｶﾒﾗ2ｱﾗｲﾒﾝﾄDLY
OR MR56811               ; 画像処理 ｶﾒﾗ2 ｺﾏﾝﾄﾞ実行失敗
AND MR57201              ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ
ANB MR56810              ; 画像処理 ｶﾒﾗ2 ｺﾏﾝﾄﾞ実行成功
OUT MR56811              ; 画像処理 ｶﾒﾗ2 ｺﾏﾝﾄﾞ実行失敗
LDP MR56810              ; 画像処理 ｶﾒﾗ2 ｺﾏﾝﾄﾞ実行成功
ORP MR56811              ; 画像処理 ｶﾒﾗ2 ｺﾏﾝﾄﾞ実行失敗
AND LR10201              ; 画像処理ﾊﾞｯｸｸﾞﾗｳﾝﾄﾞ処理有効
MOV #0 DM890             ; 画像処理ﾄﾘｶﾞIL
LD MR57201               ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ
AND @T2                  ; 画像処理 ｶﾒﾗ2ｱﾗｲﾒﾝﾄDLY
ANB MR56810              ; 画像処理 ｶﾒﾗ2 ｺﾏﾝﾄﾞ実行成功
ANB MR56811              ; 画像処理 ｶﾒﾗ2 ｺﾏﾝﾄﾞ実行失敗
OUT MR57202              ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ→PLC端子
;結果ﾃﾞｰﾀ受取
LD= DM700 #1             ; PLC←XG 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
AND=.D DM716 #2          ; PLC←XG ｶﾒﾗ番号
LD= EM620 #1             ; 画像処理 ｶﾒﾗ2ﾜｰｸ番号
AND=.D DM718 #1          ; PLC←XG ﾜｰｸ番号
LD= EM620 #2             ; 画像処理 ｶﾒﾗ2ﾜｰｸ番号
AND=.D DM718 #2          ; PLC←XG ﾜｰｸ番号
ORL
ANL
OUT MR57214              ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ結果受取条件
LD MR57214               ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ結果受取条件
AND MR56810              ; 画像処理 ｶﾒﾗ2 ｺﾏﾝﾄﾞ実行成功
OR MR57215               ; 画像処理 ｶﾒﾗ2ｱﾗｲﾒﾝﾄ 無動作
OR MR57203               ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ結果受取
AND MR57201              ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ
OUT MR57203              ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ結果受取
LDP MR57203              ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ結果受取
MPS
ANB MR57215              ; 画像処理 ｶﾒﾗ2ｱﾗｲﾒﾝﾄ 無動作
BMOV DM710 DM820 #20     ; PLC←XG 結果ﾃﾞｰﾀ出力ｱﾄﾞﾚｽ(X)  ｶﾒﾗ2 X方向ｽﾞﾚ量
MPS
AND=.D DM828 #1          ; ｶﾒﾗ2 ﾜｰｸ番号
MPS
AND= DM830 #1            ; ｶﾒﾗ2 ｽﾃｰﾀｽ信号[0:継続1:完了2:ERR
MOV #1 DM1241            ; 5stRB ﾋﾉｳﾗｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
CAL+.L DM820 W0820 W0820 ; ｶﾒﾗ2 X方向ｽﾞﾚ量  ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔX方向ｽﾞﾚ量 積算値  ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔX方向ｽﾞﾚ量 積算値
CAL+.L DM822 W0822 W0822 ; ｶﾒﾗ2 Y方向ｽﾞﾚ量  ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔY方向ｽﾞﾚ量 積算値  ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔY方向ｽﾞﾚ量 積算値
CAL+.L DM824 W0824 W0824 ; ｶﾒﾗ2 θ方向ｽﾞﾚ量  ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔθ方向ｽﾞﾚ量 積算値  ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔθ方向ｽﾞﾚ量 積算値
MPP
AND= DM830 #2            ; ｶﾒﾗ2 ｽﾃｰﾀｽ信号[0:継続1:完了2:ERR
MOV #2 DM1241            ; 5stRB ﾋﾉｳﾗｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
MPP
AND=.D DM828 #2          ; ｶﾒﾗ2 ﾜｰｸ番号
MPS
AND= DM830 #1            ; ｶﾒﾗ2 ｽﾃｰﾀｽ信号[0:継続1:完了2:ERR
MOV #1 DM1242            ; 5stRB ｼﾞｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
CAL+.L DM820 W0830 W0830 ; ｶﾒﾗ2 X方向ｽﾞﾚ量  ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔX方向ｽﾞﾚ量 積算値  ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔX方向ｽﾞﾚ量 積算値
CAL+.L DM822 W0832 W0832 ; ｶﾒﾗ2 Y方向ｽﾞﾚ量  ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔY方向ｽﾞﾚ量 積算値  ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔY方向ｽﾞﾚ量 積算値
CAL+.L DM824 W0834 W0834 ; ｶﾒﾗ2 θ方向ｽﾞﾚ量  ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔθ方向ｽﾞﾚ量 積算値  ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔθ方向ｽﾞﾚ量 積算値
MRD
AND= DM830 #2            ; ｶﾒﾗ2 ｽﾃｰﾀｽ信号[0:継続1:完了2:ERR
MOV #2 DM1242            ; 5stRB ｼﾞｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
MRD
AND= DM730 #0            ; ｽﾃｰﾀｽ信号6(ｼﾞｼﾝ品種)[0:OK/1:NG]
MOV #1 DM1244            ; 5stｼﾞｼﾝｷﾞﾔ品種違判定
MPP
AND<> DM730 #0           ; ｽﾃｰﾀｽ信号6(ｼﾞｼﾝ品種)[0:OK/1:NG]
MOV #2 DM1244            ; 5stｼﾞｼﾝｷﾞﾔ品種違判定
MRD
AND MR57215              ; 画像処理 ｶﾒﾗ2ｱﾗｲﾒﾝﾄ 無動作
MPS
AND= EM620 #1            ; 画像処理 ｶﾒﾗ2ﾜｰｸ番号
MOV #1 DM1241            ; 5stRB ﾋﾉｳﾗｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
MRD
AND= EM620 #2            ; 画像処理 ｶﾒﾗ2ﾜｰｸ番号
MOV #1 DM1242            ; 5stRB ｼﾞｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
MPP
FMOV #0 DM820 #6         ; ｶﾒﾗ2 X方向ｽﾞﾚ量
MRD
MOV #0 DM700             ; PLC←XG 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
MPP
ANB LR10201              ; 画像処理ﾊﾞｯｸｸﾞﾗｳﾝﾄﾞ処理有効
MOV #0 DM890             ; 画像処理ﾄﾘｶﾞIL
;判定結果
LD<> DM1241 #0           ; 5stRB ﾋﾉｳﾗｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
MPS
AND= DM1241 #1           ; 5stRB ﾋﾉｳﾗｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
OUT MR57204              ; 画像処理 ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔ ｱﾗｲﾒﾝﾄ OK
MPP
ANB MR57204              ; 画像処理 ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔ ｱﾗｲﾒﾝﾄ OK
OUT MR57205              ; 画像処理 ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔ ｱﾗｲﾒﾝﾄ NG
LD<> DM1244 #0           ; 5stｼﾞｼﾝｷﾞﾔ品種違判定
MPS
AND= DM1244 #1           ; 5stｼﾞｼﾝｷﾞﾔ品種違判定
OUT MR57308              ; 画像処理 ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔ 品種 OK
MPP
ANB MR57308              ; 画像処理 ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔ 品種 OK
OUT MR57309              ; 画像処理 ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔ 品種 NG
LD<> DM1242 #0           ; 5stRB ｼﾞｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
MPS
LD= DM1242 #1            ; 5stRB ｼﾞｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ記憶
AND MR57308              ; 画像処理 ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔ 品種 OK
ANL
OUT MR57206              ; 画像処理 ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ OK
MPP
ANB MR57206              ; 画像処理 ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ OK
OUT MR57207              ; 画像処理 ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ NG
;ｽﾞﾚ量判定
LD CR2002                ; 常時ON
CAL-.L +0 DM7200 @DM20   ; 5st X軸判定公差(確認ﾓｰﾄﾞ)  5stRB ｽﾞﾚ量公差X_Min
CAL-.L +0 DM7202 @DM22   ; 5st Y軸判定公差(確認ﾓｰﾄﾞ)  5stRB ｽﾞﾚ量公差Y_Min
CAL-.L +0 DM7204 @DM24   ; 5st θ軸判定公差(確認ﾓｰﾄﾞ)  5stRB ｽﾞﾚ量公差θ_Min
LD= EM620 #1             ; 画像処理 ｶﾒﾗ2ﾜｰｸ番号
AND MR57204              ; 画像処理 ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔ ｱﾗｲﾒﾝﾄ OK
LD= EM620 #2             ; 画像処理 ｶﾒﾗ2ﾜｰｸ番号
AND MR57206              ; 画像処理 ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ OK
ORL
MPS
LD<=.L @DM20 DM820       ; 5stRB ｽﾞﾚ量公差X_Min  ｶﾒﾗ2 X方向ｽﾞﾚ量
AND<=.L DM820 DM7200     ; ｶﾒﾗ2 X方向ｽﾞﾚ量  5st X軸判定公差(確認ﾓｰﾄﾞ)
ANL
OUT MR57211              ; 5stRB ｽﾞﾚ量X範囲内
MRD
LD<=.L @DM22 DM822       ; 5stRB ｽﾞﾚ量公差Y_Min  ｶﾒﾗ2 Y方向ｽﾞﾚ量
AND<=.L DM822 DM7202     ; ｶﾒﾗ2 Y方向ｽﾞﾚ量  5st Y軸判定公差(確認ﾓｰﾄﾞ)
ANL
OUT MR57212              ; 5stRB ｽﾞﾚ量Y範囲内
MRD
LD<=.L @DM24 DM824       ; 5stRB ｽﾞﾚ量公差θ_Min  ｶﾒﾗ2 θ方向ｽﾞﾚ量
AND<=.L DM824 DM7204     ; ｶﾒﾗ2 θ方向ｽﾞﾚ量  5st θ軸判定公差(確認ﾓｰﾄﾞ)
ANL
OUT MR57213              ; 5stRB ｽﾞﾚ量θ範囲内
MPP
LD MR57211               ; 5stRB ｽﾞﾚ量X範囲内
AND MR57212              ; 5stRB ｽﾞﾚ量Y範囲内
AND MR57213              ; 5stRB ｽﾞﾚ量θ範囲内
ANL
OUT MR57210              ; 5stRB ｽﾞﾚ量XYθ範囲内
;<h1/>ｽﾞﾚ量ROGｶﾒﾗ2
;ﾋﾉｳﾗｷﾞﾔ(LOG)
LDP MR57204              ; 画像処理 ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔ ｱﾗｲﾒﾝﾄ OK
AND= EM1202 #1           ; 5stRB ｶﾒﾗﾄﾘｶﾞ回数
MPS
AND CR2002               ; 常時ON
@BMOV.D EM20100 EM20102 #9;ｶﾒﾗ2ﾋﾉｳﾗｷﾞﾔX方向ｽﾞﾚ量積算値LOG1  ｶﾒﾗ2ﾋﾉｳﾗｷﾞﾔX方向ｽﾞﾚ量積算値LOG2
@MOV.L W0820 EM20100     ; ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔX方向ｽﾞﾚ量 積算値  ｶﾒﾗ2ﾋﾉｳﾗｷﾞﾔX方向ｽﾞﾚ量積算値LOG1
MPS
MEP
MAX.L EM20100 #9         ; ｶﾒﾗ2ﾋﾉｳﾗｷﾞﾔX方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20220            ; ﾋﾉｳﾗｷﾞﾔ X方向ｽﾞﾚ量 積算値MAX
MRD
MEP
MIN.L EM20100 #9         ; ｶﾒﾗ2ﾋﾉｳﾗｷﾞﾔX方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20222            ; ﾋﾉｳﾗｷﾞﾔ X方向ｽﾞﾚ量 積算値MIN
MPP
MEP
AVG.L EM20100 #9         ; ｶﾒﾗ2ﾋﾉｳﾗｷﾞﾔX方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20224            ; ﾋﾉｳﾗｷﾞﾔ X方向ｽﾞﾚ量 積算値AVG
MRD
AND CR2002               ; 常時ON
@BMOV.D EM20120 EM20122 #9;ｶﾒﾗ2ﾋﾉｳﾗｷﾞﾔY方向ｽﾞﾚ量積算値LOG1  ｶﾒﾗ2ﾋﾉｳﾗｷﾞﾔY方向ｽﾞﾚ量積算値LOG2
@MOV.L W0822 EM20120     ; ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔY方向ｽﾞﾚ量 積算値  ｶﾒﾗ2ﾋﾉｳﾗｷﾞﾔY方向ｽﾞﾚ量積算値LOG1
MPS
MEP
MAX.L EM20120 #9         ; ｶﾒﾗ2ﾋﾉｳﾗｷﾞﾔY方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20226            ; ﾋﾉｳﾗｷﾞﾔ Y方向ｽﾞﾚ量 積算値MAX
MRD
MEP
MIN.L EM20120 #9         ; ｶﾒﾗ2ﾋﾉｳﾗｷﾞﾔY方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20228            ; ﾋﾉｳﾗｷﾞﾔ Y方向ｽﾞﾚ量 積算値MIN
MPP
MEP
AVG.L EM20120 #9         ; ｶﾒﾗ2ﾋﾉｳﾗｷﾞﾔY方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20230            ; ﾋﾉｳﾗｷﾞﾔ Y方向ｽﾞﾚ量 積算値AVG
MPP
AND CR2002               ; 常時ON
@BMOV.D EM20140 EM20142 #9;ｶﾒﾗ2ﾋﾉｳﾗｷﾞﾔθ方向ｽﾞﾚ量積算値LOG1  ｶﾒﾗ2ﾋﾉｳﾗｷﾞﾔθ方向ｽﾞﾚ量積算値LOG2
@MOV.L W0824 EM20140     ; ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔθ方向ｽﾞﾚ量 積算値  ｶﾒﾗ2ﾋﾉｳﾗｷﾞﾔθ方向ｽﾞﾚ量積算値LOG1
MPS
MEP
MAX.L EM20140 #9         ; ｶﾒﾗ2ﾋﾉｳﾗｷﾞﾔθ方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20232            ; ﾋﾉｳﾗｷﾞﾔ θ方向ｽﾞﾚ量 積算値MAX
MRD
MEP
MIN.L EM20140 #9         ; ｶﾒﾗ2ﾋﾉｳﾗｷﾞﾔθ方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20234            ; ﾋﾉｳﾗｷﾞﾔ θ方向ｽﾞﾚ量 積算値MIN
MPP
MEP
AVG.L EM20140 #9         ; ｶﾒﾗ2ﾋﾉｳﾗｷﾞﾔθ方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20236            ; ﾋﾉｳﾗｷﾞﾔ θ方向ｽﾞﾚ量 積算値AVG
;ｼﾞｼﾝｷﾞﾔ(LOG)
LDP MR57206              ; 画像処理 ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔ ｱﾗｲﾒﾝﾄ OK
AND= EM1202 #1           ; 5stRB ｶﾒﾗﾄﾘｶﾞ回数
MPS
AND CR2002               ; 常時ON
@BMOV.D EM20160 EM20162 #9;ｶﾒﾗ2ｼﾞｼﾝｷﾞﾔX方向ｽﾞﾚ量積算値LOG1  ｶﾒﾗ2ｼﾞｼﾝｷﾞﾔX方向ｽﾞﾚ量積算値LOG2
@MOV.L W0830 EM20160     ; ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔX方向ｽﾞﾚ量 積算値  ｶﾒﾗ2ｼﾞｼﾝｷﾞﾔX方向ｽﾞﾚ量積算値LOG1
MPS
MEP
MAX.L EM20160 #9         ; ｶﾒﾗ2ｼﾞｼﾝｷﾞﾔX方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20240            ; ｼﾞｼﾝｷﾞﾔ X方向ｽﾞﾚ量 積算値MAX
MRD
MEP
MIN.L EM20160 #9         ; ｶﾒﾗ2ｼﾞｼﾝｷﾞﾔX方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20242            ; ｼﾞｼﾝｷﾞﾔ X方向ｽﾞﾚ量 積算値MIN
MPP
MEP
AVG.L EM20160 #9         ; ｶﾒﾗ2ｼﾞｼﾝｷﾞﾔX方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20244            ; ｼﾞｼﾝｷﾞﾔ X方向ｽﾞﾚ量 積算値AVG
MRD
AND CR2002               ; 常時ON
@BMOV.D EM20180 EM20182 #9;ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔY方向ｽﾞﾚ量積算値LOG1  ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔY方向ｽﾞﾚ量積算値LOG2
@MOV.L W0832 EM20180     ; ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔY方向ｽﾞﾚ量 積算値  ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔY方向ｽﾞﾚ量積算値LOG1
MPS
MEP
MAX.L EM20180 #9         ; ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔY方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20246            ; ｼﾞｼﾝｷﾞﾔ Y方向ｽﾞﾚ量 積算値MAX
MRD
MEP
MIN.L EM20180 #9         ; ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔY方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20248            ; ｼﾞｼﾝｷﾞﾔ Y方向ｽﾞﾚ量 積算値MIN
MPP
MEP
AVG.L EM20180 #9         ; ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔY方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20250            ; ｼﾞｼﾝｷﾞﾔ Y方向ｽﾞﾚ量 積算値AVG
MPP
AND CR2002               ; 常時ON
@BMOV.D EM20200 EM20202 #9;ｶﾒﾗ2ｼﾞｼﾝｷﾞﾔθ方向ｽﾞﾚ量積算値LOG1  ｶﾒﾗ2ｼﾞｼﾝｷﾞﾔθ方向ｽﾞﾚ量積算値LOG2
@MOV.L W0834 EM20200     ; ｶﾒﾗ2 ｼﾞｼﾝｷﾞﾔθ方向ｽﾞﾚ量 積算値  ｶﾒﾗ2ｼﾞｼﾝｷﾞﾔθ方向ｽﾞﾚ量積算値LOG1
MPS
MEP
MAX.L EM20200 #9         ; ｶﾒﾗ2ｼﾞｼﾝｷﾞﾔθ方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20252            ; ｼﾞｼﾝｷﾞﾔ θ方向ｽﾞﾚ量 積算値MAX
MRD
MEP
MIN.L EM20200 #9         ; ｶﾒﾗ2ｼﾞｼﾝｷﾞﾔθ方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20254            ; ｼﾞｼﾝｷﾞﾔθ方向ｽﾞﾚ量 積算値MIN
MPP
MEP
AVG.L EM20200 #9         ; ｶﾒﾗ2ｼﾞｼﾝｷﾞﾔθ方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20256            ; ｼﾞｼﾝｷﾞﾔ θ方向ｽﾞﾚ量 積算値AVG
;<h1/>ｶﾒﾗ2 ｷｬﾘﾌﾞﾚｰｼｮﾝ
LD MR2000                ; 手動ﾓｰﾄﾞ 操作可能
AND MR57002              ; 画像処理  ｶﾒﾗ2ﾄﾘｶﾞ 許可信号
AND= DM890 #0            ; 画像処理ﾄﾘｶﾞIL
LD MR52706               ; 5stRB ﾋﾉｳﾗｷﾞｱｶﾒﾗ 上昇端
OR MR52707               ; 5stRB ｼﾞｼﾝｷﾞｱｶﾒﾗ 上昇端
ANL
OUT MR57615              ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ可
LDP B0D4                 ; TPｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝPB
AND MR57615              ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ可
OR MR57601               ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ
AND MR1101               ; 運転準備 完了
ANB MR57612              ; 画像処理 ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ完了
ANB T1592                ; 画像処理ｶﾒﾗ2ﾀｲﾑｵｰﾊﾞｰ
ANB MR57900              ; 画像処理 ﾘｾｯﾄ
OUT MR57601              ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ
@FMOV #0 W0820 #10       ; ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔX方向ｽﾞﾚ量 積算値
LD MR57601               ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ
ANB MR57610              ; ｶﾒﾗ2ｷｬﾘﾌﾞ継続→ﾘﾋﾟｰﾄ
MC
MPS
AND MR52706              ; 5stRB ﾋﾉｳﾗｷﾞｱｶﾒﾗ 上昇端
@MOV #1 EM621            ; 画像処理 ｶﾒﾗ2ﾜｰｸ番号(ｷｬﾘﾌﾞ)
@MOV.D #0 DM654          ; PLC→XG ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ[ｶﾒﾗ2]
MRD
AND MR52707              ; 5stRB ｼﾞｼﾝｷﾞｱｶﾒﾗ 上昇端
@MOV #2 EM621            ; 画像処理 ｶﾒﾗ2ﾜｰｸ番号(ｷｬﾘﾌﾞ)
@MOV.D #10 DM654         ; PLC→XG ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ[ｶﾒﾗ2]
MRD
@MOV #1 DM604            ; PLC→XG ｶﾒﾗ2撮像開始
MRD
@FMOV #0 DM820 #20       ; ｶﾒﾗ2 X方向ｽﾞﾚ量
MPP
TMR @6 #10               ; 画像処理 ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝDLY
CON
AND @T6                  ; 画像処理 ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝDLY
OUT MR57602              ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮ→PLC端子
LD= DM700 #1             ; PLC←XG 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
AND<> DM604 #1           ; PLC→XG ｶﾒﾗ2撮像開始
AND=.D DM716 #2          ; PLC←XG ｶﾒﾗ番号
LD= EM621 #1             ; 画像処理 ｶﾒﾗ2ﾜｰｸ番号(ｷｬﾘﾌﾞ)
AND=.D DM718 #1          ; PLC←XG ﾜｰｸ番号
LD= EM621 #2             ; 画像処理 ｶﾒﾗ2ﾜｰｸ番号(ｷｬﾘﾌﾞ)
AND=.D DM718 #2          ; PLC←XG ﾜｰｸ番号
ORL
ANL
OUT MR57614              ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞ結果受取条件
LD MR57614               ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞ結果受取条件
AND @T6                  ; 画像処理 ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝDLY
OR MR57603               ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ結果受取
AND MR57601              ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ
OUT MR57603              ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ結果受取
@BMOV DM710 DM820 #20    ; PLC←XG 結果ﾃﾞｰﾀ出力ｱﾄﾞﾚｽ(X)  ｶﾒﾗ2 X方向ｽﾞﾚ量
@CAL+.L DM820 W0820 W0820; ｶﾒﾗ2 X方向ｽﾞﾚ量  ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔX方向ｽﾞﾚ量 積算値  ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔX方向ｽﾞﾚ量 積算値
@CAL+.L DM822 W0822 W0822; ｶﾒﾗ2 Y方向ｽﾞﾚ量  ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔY方向ｽﾞﾚ量 積算値  ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔY方向ｽﾞﾚ量 積算値
@CAL+.L DM824 W0824 W0824; ｶﾒﾗ2 θ方向ｽﾞﾚ量  ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔθ方向ｽﾞﾚ量 積算値  ｶﾒﾗ2 ﾋﾉｳﾗｷﾞﾔθ方向ｽﾞﾚ量 積算値
@MOV #0 DM700            ; PLC←XG 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
@MOV #0 DM890            ; 画像処理ﾄﾘｶﾞIL
;判定結果
LD= DM826 #2             ; ｶﾒﾗ2 ｶﾒﾗ番号
MPS
AND= DM830 #0            ; ｶﾒﾗ2 ｽﾃｰﾀｽ信号[0:継続1:完了2:ERR
OUT MR57604              ; 画像処理 ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ 継続
MRD
AND= DM830 #1            ; ｶﾒﾗ2 ｽﾃｰﾀｽ信号[0:継続1:完了2:ERR
OUT MR57605              ; 画像処理 ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ OK
MPP
LDB MR57604              ; 画像処理 ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ 継続
ANB MR57605              ; 画像処理 ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ OK
ANL
OUT MR57606              ; 画像処理 ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ NG
LDP B0D4                 ; TPｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝPB
AND MR57604              ; 画像処理 ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ 継続
OR MR57608               ; ｶﾒﾗ2ｷｬﾘﾌﾞ継続→ｽｶﾗRB移動
AND MR57603              ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ結果受取
OUT MR57608              ; ｶﾒﾗ2ｷｬﾘﾌﾞ継続→ｽｶﾗRB移動
MPS
@MOV #1 EM1201           ; 5stRB 補正[0無/1ｶﾒﾗ/2CV]
MPP
LD MR52914               ; 5stRB 動作可能
OR MR57609               ; ｶﾒﾗ2ｷｬﾘﾌﾞ継続→ｽｶﾗRB移動_画像
ANL
OUT MR57609              ; ｶﾒﾗ2ｷｬﾘﾌﾞ継続→ｽｶﾗRB移動_画像
LD MR52909               ; 5stRB 移動完了
OR MR57610               ; ｶﾒﾗ2ｷｬﾘﾌﾞ継続→ﾘﾋﾟｰﾄ
AND MR57608              ; ｶﾒﾗ2ｷｬﾘﾌﾞ継続→ｽｶﾗRB移動
OUT MR57610              ; ｶﾒﾗ2ｷｬﾘﾌﾞ継続→ﾘﾋﾟｰﾄ
LD MR57605               ; 画像処理 ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ OK
OR MR57606               ; 画像処理 ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ NG
OR MR57612               ; 画像処理 ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ完了
AND MR57603              ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ結果受取
OUT MR57612              ; 画像処理 ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ完了
MCR
LD MR57201               ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ
LD MR57601               ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ
ANB MR57603              ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ結果受取
ORL
ANB LR10015              ; 動作ﾀｲﾑｵｰﾊﾞ無効
ANB LR10215              ; 画像処理ﾀｲﾑｵｰﾊﾞ無効
ANB MR56811              ; 画像処理 ｶﾒﾗ2 ｺﾏﾝﾄﾞ実行失敗
TMR #1592 #400           ; 画像処理ｶﾒﾗ2ﾀｲﾑｵｰﾊﾞｰ
;<h1/>ｶﾒﾗ3 ｱﾗｲﾒﾝﾄ  ts@3  10-8-2-1-2
LDB LR10103              ; 6st ｱﾗｲﾒﾝﾄ無しﾓｰﾄﾞ
ANB MR6000               ; 設定1_ﾜｰｸ無運転有効
INV
OUT MR57315              ; 画像処理 ｶﾒﾗ3ｱﾗｲﾒﾝﾄ 無動作
LD MR57010               ; 画像処理ﾄﾘｶﾞﾃｽﾄ
AND= DM890 #0            ; 画像処理ﾄﾘｶﾞIL
AND= DM898 #0            ; 画像処理 ｶﾒﾗ3完了
AND MR57003              ; 画像処理  ｶﾒﾗ3ﾄﾘｶﾞ 許可信号
AND= DM897 #1            ; 画像処理 ｶﾒﾗ2完了
OUT MR57013              ; 画像処理ﾄﾘｶﾞﾃｽﾄ ｶﾒﾗ3
LDP B061C                ; TP 6st ｽﾌﾟﾘﾝｸﾞｱﾗｲﾒﾝﾄPB
ORP B061D                ; TP 6st ｱｯﾊﾟｰｹｰｽｱﾗｲﾒﾝﾄPB
AND MR57300              ; 画像処理 ｶﾒﾗ3 ｱﾗｲﾒﾝﾄ可
ORP R80915               ; 6stRB ｶﾒﾗﾄﾘｶﾞ_1ｻｲｸﾙ
ORP MR57013              ; 画像処理ﾄﾘｶﾞﾃｽﾄ ｶﾒﾗ3
AND MR57003              ; 画像処理  ｶﾒﾗ3ﾄﾘｶﾞ 許可信号
OR MR57301               ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ
AND MR1101               ; 運転準備 完了
ANB MR57303              ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ結果受取
ANB T1593                ; 画像処理ｶﾒﾗ3ﾀｲﾑｵｰﾊﾞｰ
ANB MR57900              ; 画像処理 ﾘｾｯﾄ
OUT MR57301              ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ
TMS @3 #10               ; 画像処理 ｶﾒﾗ3ｱﾗｲﾒﾝﾄDLY
LD MR2000                ; 手動ﾓｰﾄﾞ 操作可能
AND MR57003              ; 画像処理  ｶﾒﾗ3ﾄﾘｶﾞ 許可信号
AND MR1101               ; 運転準備 完了
ANB MR57301              ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ
OUT MR57300              ; 画像処理 ｶﾒﾗ3 ｱﾗｲﾒﾝﾄ可
LDP MR57301              ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ
MPS
LD B061C                 ; TP 6st ｽﾌﾟﾘﾝｸﾞｱﾗｲﾒﾝﾄPB
OR R80806                ; 6st ｽﾌﾟﾘﾝｸﾞ ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ動作
OR MR57010               ; 画像処理ﾄﾘｶﾞﾃｽﾄ
ANL
MPS
MOV #1 EM630             ; 画像処理 ｶﾒﾗ3ﾜｰｸ番号
MPP
ANB MR57315              ; 画像処理 ｶﾒﾗ3ｱﾗｲﾒﾝﾄ 無動作
MOV #1 DM656             ; PLC→XG ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ[ｶﾒﾗ3]
MRD
LD B061D                 ; TP 6st ｱｯﾊﾟｰｹｰｽｱﾗｲﾒﾝﾄPB
OR R80807                ; 6st ｱｯﾊﾟｰｹｰｽ ｱﾗｲﾒﾝﾄ 1ｻｲｸﾙ動作
ANL
MPS
MOV #2 EM630             ; 画像処理 ｶﾒﾗ3ﾜｰｸ番号
MPP
ANB MR57315              ; 画像処理 ｶﾒﾗ3ｱﾗｲﾒﾝﾄ 無動作
MOV #11 DM656            ; PLC→XG ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ[ｶﾒﾗ3]
MRD
ANB MR57315              ; 画像処理 ｶﾒﾗ3ｱﾗｲﾒﾝﾄ 無動作
MOV #1 DM605             ; PLC→XG ｶﾒﾗ3撮像開始
MRD
FMOV #0 DM840 #20        ; ｶﾒﾗ3 X方向ｽﾞﾚ量
MRD
AND= EM630 #1            ; 画像処理 ｶﾒﾗ3ﾜｰｸ番号
MOV #0 DM1341            ; 6stRB ｽﾌﾟﾘﾝｸﾞ ｱﾗｲﾒﾝﾄ記憶
MRD
AND= EM630 #2            ; 画像処理 ｶﾒﾗ3ﾜｰｸ番号
MOV #0 DM1342            ; 6stRB ｱｯﾊﾟｰｹｰｽ ｱﾗｲﾒﾝﾄ記憶
MOV #0 DM1344            ; 6stRB ｱｯﾊﾟｰｹｰｽ 品種違記憶
MPP
MOV #30 DM890            ; 画像処理ﾄﾘｶﾞIL
LD= DM605 #0             ; PLC→XG ｶﾒﾗ3撮像開始
AND @T3                  ; 画像処理 ｶﾒﾗ3ｱﾗｲﾒﾝﾄDLY
OR MR56900               ; 画像処理 ｶﾒﾗ3 ｺﾏﾝﾄﾞ実行成功
AND MR57301              ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ
ANB MR56901              ; 画像処理 ｶﾒﾗ3 ｺﾏﾝﾄﾞ実行失敗
OUT MR56900              ; 画像処理 ｶﾒﾗ3 ｺﾏﾝﾄﾞ実行成功
MOV #1 DM898             ; 画像処理 ｶﾒﾗ3完了
LD>= DM605 #2            ; PLC→XG ｶﾒﾗ3撮像開始
AND @T3                  ; 画像処理 ｶﾒﾗ3ｱﾗｲﾒﾝﾄDLY
OR MR56901               ; 画像処理 ｶﾒﾗ3 ｺﾏﾝﾄﾞ実行失敗
AND MR57301              ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ
ANB MR56900              ; 画像処理 ｶﾒﾗ3 ｺﾏﾝﾄﾞ実行成功
OUT MR56901              ; 画像処理 ｶﾒﾗ3 ｺﾏﾝﾄﾞ実行失敗
LDP MR56900              ; 画像処理 ｶﾒﾗ3 ｺﾏﾝﾄﾞ実行成功
ORP MR56901              ; 画像処理 ｶﾒﾗ3 ｺﾏﾝﾄﾞ実行失敗
AND LR10201              ; 画像処理ﾊﾞｯｸｸﾞﾗｳﾝﾄﾞ処理有効
MOV #0 DM890             ; 画像処理ﾄﾘｶﾞIL
LD MR57301               ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ
AND @T3                  ; 画像処理 ｶﾒﾗ3ｱﾗｲﾒﾝﾄDLY
ANB MR56900              ; 画像処理 ｶﾒﾗ3 ｺﾏﾝﾄﾞ実行成功
ANB MR56901              ; 画像処理 ｶﾒﾗ3 ｺﾏﾝﾄﾞ実行失敗
OUT MR57302              ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ→PLC端子
;結果ﾃﾞｰﾀ受取
LD= DM700 #1             ; PLC←XG 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
AND=.D DM716 #3          ; PLC←XG ｶﾒﾗ番号
LD= EM630 #1             ; 画像処理 ｶﾒﾗ3ﾜｰｸ番号
AND=.D DM718 #1          ; PLC←XG ﾜｰｸ番号
LD= EM630 #2             ; 画像処理 ｶﾒﾗ3ﾜｰｸ番号
AND=.D DM718 #2          ; PLC←XG ﾜｰｸ番号
ORL
ANL
OUT MR57314              ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ結果受取条件
LD MR57314               ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ結果受取条件
AND MR56900              ; 画像処理 ｶﾒﾗ3 ｺﾏﾝﾄﾞ実行成功
OR MR57315               ; 画像処理 ｶﾒﾗ3ｱﾗｲﾒﾝﾄ 無動作
OR MR57303               ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ結果受取
AND MR57301              ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ
OUT MR57303              ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ結果受取
LDP MR57303              ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ結果受取
MPS
ANB MR57315              ; 画像処理 ｶﾒﾗ3ｱﾗｲﾒﾝﾄ 無動作
BMOV DM710 DM840 #20     ; PLC←XG 結果ﾃﾞｰﾀ出力ｱﾄﾞﾚｽ(X)  ｶﾒﾗ3 X方向ｽﾞﾚ量
MPS
AND=.D DM848 #1          ; ｶﾒﾗ3 ﾜｰｸ番号
MPS
AND= DM850 #1            ; ｶﾒﾗ3 ｽﾃｰﾀｽ信号[0:継続1:完了2:ERR
MOV #1 DM1341            ; 6stRB ｽﾌﾟﾘﾝｸﾞ ｱﾗｲﾒﾝﾄ記憶
CAL+.L DM840 W0840 W0840 ; ｶﾒﾗ3 X方向ｽﾞﾚ量  ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞX方向ｽﾞﾚ量 積算値  ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞX方向ｽﾞﾚ量 積算値
CAL+.L DM842 W0842 W0842 ; ｶﾒﾗ3 Y方向ｽﾞﾚ量  ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞY方向ｽﾞﾚ量 積算値  ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞY方向ｽﾞﾚ量 積算値
CAL+.L DM844 W0844 W0844 ; ｶﾒﾗ3 θ方向ｽﾞﾚ量  ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞθ方向ｽﾞﾚ量 積算値  ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞθ方向ｽﾞﾚ量 積算値
MPP
AND= DM850 #2            ; ｶﾒﾗ3 ｽﾃｰﾀｽ信号[0:継続1:完了2:ERR
MOV #2 DM1341            ; 6stRB ｽﾌﾟﾘﾝｸﾞ ｱﾗｲﾒﾝﾄ記憶
MPP
AND=.D DM848 #2          ; ｶﾒﾗ3 ﾜｰｸ番号
MPS
AND= DM850 #1            ; ｶﾒﾗ3 ｽﾃｰﾀｽ信号[0:継続1:完了2:ERR
MOV #1 DM1342            ; 6stRB ｱｯﾊﾟｰｹｰｽ ｱﾗｲﾒﾝﾄ記憶
CAL+.L DM840 W0850 W0850 ; ｶﾒﾗ3 X方向ｽﾞﾚ量  ｶﾒﾗ3 ｱｯﾊﾟｰｹｰｽX方向ｽﾞﾚ量 積算値  ｶﾒﾗ3 ｱｯﾊﾟｰｹｰｽX方向ｽﾞﾚ量 積算値
CAL+.L DM842 W0852 W0852 ; ｶﾒﾗ3 Y方向ｽﾞﾚ量  ｶﾒﾗ3 ｱｯﾊﾟｰｹｰｽY方向ｽﾞﾚ量 積算値  ｶﾒﾗ3 ｱｯﾊﾟｰｹｰｽY方向ｽﾞﾚ量 積算値
CAL+.L DM844 W0854 W0854 ; ｶﾒﾗ3 θ方向ｽﾞﾚ量  ｶﾒﾗ3 ｱｯﾊﾟｰｹｰｽθ方向ｽﾞﾚ量 積算値  ｶﾒﾗ3 ｱｯﾊﾟｰｹｰｽθ方向ｽﾞﾚ量 積算値
MRD
AND= DM850 #2            ; ｶﾒﾗ3 ｽﾃｰﾀｽ信号[0:継続1:完了2:ERR
MOV #2 DM1342            ; 6stRB ｱｯﾊﾟｰｹｰｽ ｱﾗｲﾒﾝﾄ記憶
MPP
AND MR57303              ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ結果受取
MPS
AND= DM732 #0            ; ｽﾃｰﾀｽ信号7(ｱｯﾊﾟｹ品種)[0:OK/1:NG]
MOV #1 DM1344            ; 6stRB ｱｯﾊﾟｰｹｰｽ 品種違記憶
MPP
AND<> DM732 #0           ; ｽﾃｰﾀｽ信号7(ｱｯﾊﾟｹ品種)[0:OK/1:NG]
MOV #2 DM1344            ; 6stRB ｱｯﾊﾟｰｹｰｽ 品種違記憶
MRD
AND MR57315              ; 画像処理 ｶﾒﾗ3ｱﾗｲﾒﾝﾄ 無動作
MPS
AND= EM630 #1            ; 画像処理 ｶﾒﾗ3ﾜｰｸ番号
MOV #1 DM1341            ; 6stRB ｽﾌﾟﾘﾝｸﾞ ｱﾗｲﾒﾝﾄ記憶
MRD
AND= EM630 #2            ; 画像処理 ｶﾒﾗ3ﾜｰｸ番号
MOV #1 DM1342            ; 6stRB ｱｯﾊﾟｰｹｰｽ ｱﾗｲﾒﾝﾄ記憶
MPP
FMOV #0 DM840 #6         ; ｶﾒﾗ3 X方向ｽﾞﾚ量
MRD
MOV #0 DM700             ; PLC←XG 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
MPP
ANB LR10201              ; 画像処理ﾊﾞｯｸｸﾞﾗｳﾝﾄﾞ処理有効
MOV #0 DM890             ; 画像処理ﾄﾘｶﾞIL
;判定結果
LD<> DM1341 #0           ; 6stRB ｽﾌﾟﾘﾝｸﾞ ｱﾗｲﾒﾝﾄ記憶
MPS
AND= DM1341 #1           ; 6stRB ｽﾌﾟﾘﾝｸﾞ ｱﾗｲﾒﾝﾄ記憶
OUT MR57304              ; 画像処理 ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞ ｱﾗｲﾒﾝﾄ OK
MPP
ANB MR57304              ; 画像処理 ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞ ｱﾗｲﾒﾝﾄ OK
OUT MR57305              ; 画像処理 ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞ ｱﾗｲﾒﾝﾄ NG
LD<> DM1344 #0           ; 6stRB ｱｯﾊﾟｰｹｰｽ 品種違記憶
MPS
AND= DM1344 #1           ; 6stRB ｱｯﾊﾟｰｹｰｽ 品種違記憶
OUT MR57408              ; 画像処理 ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽ 品種OK
MPP
ANB MR57408              ; 画像処理 ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽ 品種OK
OUT MR57409              ; 画像処理 ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽ 品種NG
LD<> DM1342 #0           ; 6stRB ｱｯﾊﾟｰｹｰｽ ｱﾗｲﾒﾝﾄ記憶
MPS
LD= DM1342 #1            ; 6stRB ｱｯﾊﾟｰｹｰｽ ｱﾗｲﾒﾝﾄ記憶
AND MR57408              ; 画像処理 ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽ 品種OK
ANL
OUT MR57306              ; 画像処理 ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽ ｱﾗｲﾒﾝﾄ OK
MPP
ANB MR57306              ; 画像処理 ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽ ｱﾗｲﾒﾝﾄ OK
OUT MR57307              ; 画像処理 ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽ ｱﾗｲﾒﾝﾄ NG
;ｽﾞﾚ量判定
LD CR2002                ; 常時ON
CAL-.L +0 DM7300 @DM30   ; 6st X軸判定公差(確認ﾓｰﾄﾞ)  6stRB ｽﾞﾚ量公差X_Min
CAL-.L +0 DM7302 @DM32   ; 6st Y軸判定公差(確認ﾓｰﾄﾞ)  6stRB ｽﾞﾚ量公差Y_Min
CAL-.L +0 DM7304 @DM34   ; 6st θ軸判定公差(確認ﾓｰﾄﾞ)  6stRB ｽﾞﾚ量公差θ_Min
LD= EM630 #1             ; 画像処理 ｶﾒﾗ3ﾜｰｸ番号
AND MR57304              ; 画像処理 ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞ ｱﾗｲﾒﾝﾄ OK
LD= EM630 #2             ; 画像処理 ｶﾒﾗ3ﾜｰｸ番号
AND MR57306              ; 画像処理 ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽ ｱﾗｲﾒﾝﾄ OK
ORL
MPS
LD<=.L @DM30 DM840       ; 6stRB ｽﾞﾚ量公差X_Min  ｶﾒﾗ3 X方向ｽﾞﾚ量
AND<=.L DM840 DM7300     ; ｶﾒﾗ3 X方向ｽﾞﾚ量  6st X軸判定公差(確認ﾓｰﾄﾞ)
ANL
OUT MR57311              ; 6stRB ｽﾞﾚ量X範囲内
MRD
LD<=.L @DM32 DM842       ; 6stRB ｽﾞﾚ量公差Y_Min  ｶﾒﾗ3 Y方向ｽﾞﾚ量
AND<=.L DM842 DM7302     ; ｶﾒﾗ3 Y方向ｽﾞﾚ量  6st Y軸判定公差(確認ﾓｰﾄﾞ)
ANL
OUT MR57312              ; 6stRB ｽﾞﾚ量Y範囲内
MRD
LD<=.L @DM34 DM844       ; 6stRB ｽﾞﾚ量公差θ_Min  ｶﾒﾗ3 θ方向ｽﾞﾚ量
AND<=.L DM844 DM7304     ; ｶﾒﾗ3 θ方向ｽﾞﾚ量  6st θ軸判定公差(確認ﾓｰﾄﾞ)
ANL
OUT MR57313              ; 6stRB ｽﾞﾚ量θ範囲内
MPP
LD MR57311               ; 6stRB ｽﾞﾚ量X範囲内
AND MR57312              ; 6stRB ｽﾞﾚ量Y範囲内
AND MR57313              ; 6stRB ｽﾞﾚ量θ範囲内
ANL
OUT MR57310              ; 6stRB ｽﾞﾚ量XYθ範囲内
;<h1/>ｽﾞﾚ量ROGｶﾒﾗ3
;ｽﾌﾟﾘﾝｸﾞ(LOG)
LDP MR57304              ; 画像処理 ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞ ｱﾗｲﾒﾝﾄ OK
AND= EM1302 #1           ; 6stRB ｶﾒﾗﾄﾘｶﾞ回数
MPS
AND CR2002               ; 常時ON
@BMOV.D EM20300 EM20302 #9;ｶﾒﾗ3ｽﾌﾟﾘﾝｸﾞX方向ｽﾞﾚ量積算値LOG1  ｶﾒﾗ3ｽﾌﾟﾘﾝｸﾞX方向ｽﾞﾚ量積算値LOG2
@MOV.L W0840 EM20300     ; ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞX方向ｽﾞﾚ量 積算値  ｶﾒﾗ3ｽﾌﾟﾘﾝｸﾞX方向ｽﾞﾚ量積算値LOG1
MPS
MEP
MAX.L EM20300 #9         ; ｶﾒﾗ3ｽﾌﾟﾘﾝｸﾞX方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20420            ; ｽﾌﾟﾘﾝｸﾞ X方向ｽﾞﾚ量 積算値MAX
MRD
MEP
MIN.L EM20300 #9         ; ｶﾒﾗ3ｽﾌﾟﾘﾝｸﾞX方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20422            ; ｽﾌﾟﾘﾝｸﾞ X方向ｽﾞﾚ量 積算値MIN
MPP
MEP
AVG.L EM20300 #9         ; ｶﾒﾗ3ｽﾌﾟﾘﾝｸﾞX方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20424            ; ｽﾌﾟﾘﾝｸﾞ X方向ｽﾞﾚ量 積算値AVG
MRD
AND CR2002               ; 常時ON
@BMOV.D EM20320 EM20322 #9;ｶﾒﾗ3ｽﾌﾟﾘﾝｸﾞY方向ｽﾞﾚ量積算値LOG1  ｶﾒﾗ3ｽﾌﾟﾘﾝｸﾞY方向ｽﾞﾚ量積算値LOG2
@MOV.L W0842 EM20320     ; ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞY方向ｽﾞﾚ量 積算値  ｶﾒﾗ3ｽﾌﾟﾘﾝｸﾞY方向ｽﾞﾚ量積算値LOG1
MPS
MEP
MAX.L EM20320 #9         ; ｶﾒﾗ3ｽﾌﾟﾘﾝｸﾞY方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20426            ; ｽﾌﾟﾘﾝｸﾞ Y方向ｽﾞﾚ量 積算値MAX
MRD
MEP
MIN.L EM20320 #9         ; ｶﾒﾗ3ｽﾌﾟﾘﾝｸﾞY方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20428            ; ｽﾌﾟﾘﾝｸﾞ Y方向ｽﾞﾚ量 積算値MIN
MPP
MEP
AVG.L EM20320 #9         ; ｶﾒﾗ3ｽﾌﾟﾘﾝｸﾞY方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20430            ; ｽﾌﾟﾘﾝｸﾞ Y方向ｽﾞﾚ量 積算値AVG
MPP
AND CR2002               ; 常時ON
@BMOV.D EM20340 EM20342 #9;ｶﾒﾗ3ｽﾌﾟﾘﾝｸﾞθ方向ｽﾞﾚ量積算値LOG1  ｶﾒﾗ3ｽﾌﾟﾘﾝｸﾞθ方向ｽﾞﾚ量積算値LOG2
@MOV.L W0844 EM20340     ; ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞθ方向ｽﾞﾚ量 積算値  ｶﾒﾗ3ｽﾌﾟﾘﾝｸﾞθ方向ｽﾞﾚ量積算値LOG1
MPS
MEP
MAX.L EM20340 #9         ; ｶﾒﾗ3ｽﾌﾟﾘﾝｸﾞθ方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20432            ; ｽﾌﾟﾘﾝｸﾞ θ方向ｽﾞﾚ量 積算値MAX
MRD
MEP
MIN.L EM20340 #9         ; ｶﾒﾗ3ｽﾌﾟﾘﾝｸﾞθ方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20434            ; ｽﾌﾟﾘﾝｸﾞθ方向ｽﾞﾚ量 積算値MIN
MPP
MEP
AVG.L EM20340 #9         ; ｶﾒﾗ3ｽﾌﾟﾘﾝｸﾞθ方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20436            ; ｽﾌﾟﾘﾝｸﾞ θ方向ｽﾞﾚ量 積算値AVG
;ｱｯﾊﾟｰｹｰｽ(LOG)
LDP MR57306              ; 画像処理 ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽ ｱﾗｲﾒﾝﾄ OK
AND= EM1302 #1           ; 6stRB ｶﾒﾗﾄﾘｶﾞ回数
MPS
AND CR2002               ; 常時ON
@BMOV.D EM20360 EM20362 #9;ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽX方向ｽﾞﾚ量積算値LOG1  ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽX方向ｽﾞﾚ量積算値LOG2
@MOV.L W0850 EM20360     ; ｶﾒﾗ3 ｱｯﾊﾟｰｹｰｽX方向ｽﾞﾚ量 積算値  ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽX方向ｽﾞﾚ量積算値LOG1
MPS
MEP
MAX.L EM20360 #9         ; ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽX方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20440            ; ｱｯﾊﾟｰｹｰｽ X方向ｽﾞﾚ量 積算値MAX
MRD
MEP
MIN.L EM20360 #9         ; ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽX方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20442            ; ｱｯﾊﾟｰｹｰｽ X方向ｽﾞﾚ量 積算値MIN
MPP
MEP
AVG.L EM20360 #9         ; ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽX方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20444            ; ｱｯﾊﾟｰｹｰｽ X方向ｽﾞﾚ量 積算値AVG
MRD
AND CR2002               ; 常時ON
@BMOV.D EM20380 EM20382 #9;ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽY方向ｽﾞﾚ量積算値LOG1  ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽY方向ｽﾞﾚ量積算値LOG2
@MOV.L W0852 EM20380     ; ｶﾒﾗ3 ｱｯﾊﾟｰｹｰｽY方向ｽﾞﾚ量 積算値  ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽY方向ｽﾞﾚ量積算値LOG1
MPS
MEP
MAX.L EM20380 #9         ; ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽY方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20446            ; ｱｯﾊﾟｰｹｰｽ Y方向ｽﾞﾚ量 積算値MAX
MRD
MEP
MIN.L EM20380 #9         ; ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽY方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20448            ; ｱｯﾊﾟｰｹｰｽ Y方向ｽﾞﾚ量 積算値MIN
MPP
MEP
AVG.L EM20380 #9         ; ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽY方向ｽﾞﾚ量積算値LOG1
CON
STA.L EM20450            ; ｱｯﾊﾟｰｹｰｽ Y方向ｽﾞﾚ量 積算値AVG
MPP
AND CR2002               ; 常時ON
@BMOV.D EM20400 EM20402 #9;ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽθ方向ｽﾞﾚ量算値LOG1  ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽθ方向ｽﾞﾚ量算値LOG2
@MOV.L W0854 EM20400     ; ｶﾒﾗ3 ｱｯﾊﾟｰｹｰｽθ方向ｽﾞﾚ量 積算値  ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽθ方向ｽﾞﾚ量算値LOG1
MPS
MEP
MAX.L EM20400 #9         ; ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽθ方向ｽﾞﾚ量算値LOG1
CON
STA.L EM20452            ; ｱｯﾊﾟｰｹｰｽ θ方向ｽﾞﾚ量 積算値MAX
MRD
MEP
MIN.L EM20400 #9         ; ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽθ方向ｽﾞﾚ量算値LOG1
CON
STA.L EM20454            ; ｱｯﾊﾟｰｹｰｽ θ方向ｽﾞﾚ量 積算値MIN
MPP
MEP
AVG.L EM20400 #9         ; ｶﾒﾗ3ｱｯﾊﾟｰｹｰｽθ方向ｽﾞﾚ量算値LOG1
CON
STA.L EM20456            ; ｱｯﾊﾟｰｹｰｽ θ方向ｽﾞﾚ量 積算値AVG
;<h1/>ｶﾒﾗ3 ｷｬﾘﾌﾞﾚｰｼｮﾝ
LD MR2000                ; 手動ﾓｰﾄﾞ 操作可能
AND MR57003              ; 画像処理  ｶﾒﾗ3ﾄﾘｶﾞ 許可信号
AND= DM890 #0            ; 画像処理ﾄﾘｶﾞIL
LD MR53708               ; 6stRB ｽﾌﾟﾘﾝｸﾞｶﾒﾗ 上昇端
OR MR53709               ; 6stRB ｱｯﾊﾟｰｹｰｽｶﾒﾗ 上昇端
ANL
OUT MR57715              ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ可
LDP B0D8                 ; TPｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝPB
AND MR57715              ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ可
OR MR57701               ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ
AND MR1101               ; 運転準備 完了
ANB MR57712              ; 画像処理 ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ完了
ANB T1593                ; 画像処理ｶﾒﾗ3ﾀｲﾑｵｰﾊﾞｰ
ANB MR57900              ; 画像処理 ﾘｾｯﾄ
OUT MR57701              ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ
@FMOV #0 W0840 #10       ; ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞX方向ｽﾞﾚ量 積算値
LD MR57701               ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ
ANB MR57710              ; ｶﾒﾗ3ｷｬﾘﾌﾞ継続→ﾘﾋﾟｰﾄ
MC
MPS
AND MR53708              ; 6stRB ｽﾌﾟﾘﾝｸﾞｶﾒﾗ 上昇端
@MOV #1 EM631            ; 画像処理 ｶﾒﾗ3ﾜｰｸ番号(ｷｬﾘﾌﾞ)
@MOV.D #0 DM656          ; PLC→XG ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ[ｶﾒﾗ3]
MRD
AND MR53709              ; 6stRB ｱｯﾊﾟｰｹｰｽｶﾒﾗ 上昇端
@MOV #2 EM631            ; 画像処理 ｶﾒﾗ3ﾜｰｸ番号(ｷｬﾘﾌﾞ)
@MOV.D #10 DM656         ; PLC→XG ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ[ｶﾒﾗ3]
MRD
@MOV #1 DM605            ; PLC→XG ｶﾒﾗ3撮像開始
MRD
@FMOV #0 DM840 #20       ; ｶﾒﾗ3 X方向ｽﾞﾚ量
MPP
TMR @7 #10               ; 画像処理 ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝDLY
CON
AND @T7                  ; 画像処理 ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝDLY
OUT MR57702              ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮ→PLC端子
LD= DM700 #1             ; PLC←XG 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
AND<> DM605 #1           ; PLC→XG ｶﾒﾗ3撮像開始
AND=.D DM716 #3          ; PLC←XG ｶﾒﾗ番号
LD= EM631 #1             ; 画像処理 ｶﾒﾗ3ﾜｰｸ番号(ｷｬﾘﾌﾞ)
AND=.D DM718 #1          ; PLC←XG ﾜｰｸ番号
LD= EM631 #2             ; 画像処理 ｶﾒﾗ3ﾜｰｸ番号(ｷｬﾘﾌﾞ)
AND=.D DM718 #2          ; PLC←XG ﾜｰｸ番号
ORL
ANL
OUT MR57714              ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞ結果受取条件
LD MR57714               ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞ結果受取条件
AND @T7                  ; 画像処理 ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝDLY
OR MR57703               ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ結果受取
AND MR57701              ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ
OUT MR57703              ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ結果受取
@BMOV DM710 DM840 #20    ; PLC←XG 結果ﾃﾞｰﾀ出力ｱﾄﾞﾚｽ(X)  ｶﾒﾗ3 X方向ｽﾞﾚ量
@CAL+.L DM840 W0840 W0840; ｶﾒﾗ3 X方向ｽﾞﾚ量  ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞX方向ｽﾞﾚ量 積算値  ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞX方向ｽﾞﾚ量 積算値
@CAL+.L DM842 W0842 W0842; ｶﾒﾗ3 Y方向ｽﾞﾚ量  ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞY方向ｽﾞﾚ量 積算値  ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞY方向ｽﾞﾚ量 積算値
@CAL+.L DM844 W0844 W0844; ｶﾒﾗ3 θ方向ｽﾞﾚ量  ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞθ方向ｽﾞﾚ量 積算値  ｶﾒﾗ3 ｽﾌﾟﾘﾝｸﾞθ方向ｽﾞﾚ量 積算値
@MOV #0 DM700            ; PLC←XG 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
@MOV #0 DM890            ; 画像処理ﾄﾘｶﾞIL
;判定結果
LD= DM846 #3             ; ｶﾒﾗ3 ｶﾒﾗ番号
MPS
AND= DM850 #0            ; ｶﾒﾗ3 ｽﾃｰﾀｽ信号[0:継続1:完了2:ERR
OUT MR57704              ; 画像処理 ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ 継続
MRD
AND= DM850 #1            ; ｶﾒﾗ3 ｽﾃｰﾀｽ信号[0:継続1:完了2:ERR
OUT MR57705              ; 画像処理 ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ OK
MPP
LDB MR57704              ; 画像処理 ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ 継続
ANB MR57705              ; 画像処理 ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ OK
ANL
OUT MR57706              ; 画像処理 ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ NG
LDP B0D8                 ; TPｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝPB
AND MR57704              ; 画像処理 ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ 継続
OR MR57708               ; ｶﾒﾗ3ｷｬﾘﾌﾞ継続→ｽｶﾗRB移動
AND MR57703              ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ結果受取
OUT MR57708              ; ｶﾒﾗ3ｷｬﾘﾌﾞ継続→ｽｶﾗRB移動
MPS
@MOV #1 EM1301           ; 6stRB 補正[0無/1ｶﾒﾗ/2CV]
MPP
LD MR53914               ; 6stRB 動作可能
OR MR57709               ; ｶﾒﾗ3ｷｬﾘﾌﾞ継続→ｽｶﾗRB移動_画像
ANL
OUT MR57709              ; ｶﾒﾗ3ｷｬﾘﾌﾞ継続→ｽｶﾗRB移動_画像
LD MR53909               ; 6stRB 移動完了
OR MR57710               ; ｶﾒﾗ3ｷｬﾘﾌﾞ継続→ﾘﾋﾟｰﾄ
AND MR57708              ; ｶﾒﾗ3ｷｬﾘﾌﾞ継続→ｽｶﾗRB移動
OUT MR57710              ; ｶﾒﾗ3ｷｬﾘﾌﾞ継続→ﾘﾋﾟｰﾄ
LD MR57705               ; 画像処理 ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ OK
OR MR57706               ; 画像処理 ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ NG
OR MR57712               ; 画像処理 ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ完了
AND MR57703              ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ結果受取
OUT MR57712              ; 画像処理 ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ完了
MCR
LD MR57301               ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ
LD MR57701               ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ
ANB MR57703              ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ結果受取
ORL
ANB LR10015              ; 動作ﾀｲﾑｵｰﾊﾞ無効
ANB LR10215              ; 画像処理ﾀｲﾑｵｰﾊﾞ無効
ANB MR56901              ; 画像処理 ｶﾒﾗ3 ｺﾏﾝﾄﾞ実行失敗
TMR #1593 #400           ; 画像処理ｶﾒﾗ3ﾀｲﾑｵｰﾊﾞｰ
;<h1/>ｶﾒﾗ4 ｳｫｰﾑｷﾞﾔ検出  ts@4  10-8-6-2-1-2-1-10-20-2-5-4-10-2-10-20
LD MR57010               ; 画像処理ﾄﾘｶﾞﾃｽﾄ
AND= DM890 #0            ; 画像処理ﾄﾘｶﾞIL
AND= DM899 #0            ; 画像処理 ｶﾒﾗ4完了
AND MR57004              ; 画像処理  ｶﾒﾗ4ﾄﾘｶﾞ 許可信号
AND= DM896 #1            ; 画像処理 ｶﾒﾗ1完了
OUT MR57014              ; 画像処理ﾄﾘｶﾞﾃｽﾄ ｶﾒﾗ4
LDP B041E                ; TP 4st ｳｫｰﾑｷﾞﾔ検出ﾄﾘｶﾞPB
AND MR57400              ; 画像処理 ｶﾒﾗ4検出可
ORP R73405               ; 4st ｳｫｰﾑｷﾞﾔ ｶﾒﾗﾄﾘｶﾞ 1ｻｲｸﾙ
ORP MR57014              ; 画像処理ﾄﾘｶﾞﾃｽﾄ ｶﾒﾗ4
AND MR57004              ; 画像処理  ｶﾒﾗ4ﾄﾘｶﾞ 許可信号
OR MR57401               ; 画像処理 ｶﾒﾗ4検出
AND MR1101               ; 運転準備 完了
ANB MR57403              ; 画像処理  ｶﾒﾗ4ﾄﾘｶﾞ結果受取
ANB T1594                ; 画像処理ｶﾒﾗ4ﾀｲﾑｵｰﾊﾞｰ
ANB MR57900              ; 画像処理 ﾘｾｯﾄ
OUT MR57401              ; 画像処理 ｶﾒﾗ4検出
TMS @4 #20               ; 画像処理 ｶﾒﾗ4検出DLY
LD MR2000                ; 手動ﾓｰﾄﾞ 操作可能
AND MR57004              ; 画像処理  ｶﾒﾗ4ﾄﾘｶﾞ 許可信号
AND MR1101               ; 運転準備 完了
ANB MR57401              ; 画像処理 ｶﾒﾗ4検出
OUT MR57400              ; 画像処理 ｶﾒﾗ4検出可
LDP MR57401              ; 画像処理 ｶﾒﾗ4検出
MOV #1 EM640             ; 画像処理 ｶﾒﾗ4ﾜｰｸ番号
MPS
ANB MR57115              ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄ 無動作
MOV #1 DM658             ; PLC→XG ｺﾏﾝﾄﾞﾊﾟﾗﾒｰﾀｱﾄﾞﾚｽ[ｶﾒﾗ4]
MRD
ANB MR57115              ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄ 無動作
MOV #1 DM606             ; PLC→XG ｶﾒﾗ4撮像開始
MRD
FMOV #0 DM860 #20
MRD
MOV #1 DM724             ; ｽﾃｰﾀｽ信号3(ｳｫｰﾑｷﾞﾔ)[0OK/1NG]
MRD
MOV #1 DM726             ; ｽﾃｰﾀｽ信号4(ｽﾌﾟﾘﾝｸﾞ)[0OK/1NG]
MRD
MOV #0 DM1160            ; 4st ｳｫｰﾑｷﾞﾔ判定
MRD
MOV #0 DM1161            ; 4st ｽﾌﾟﾘﾝｸﾞ確認判定
MPP
MOV #40 DM890            ; 画像処理ﾄﾘｶﾞIL
LD= DM606 #0             ; PLC→XG ｶﾒﾗ4撮像開始
AND @T4                  ; 画像処理 ｶﾒﾗ4検出DLY
OR MR56910               ; 画像処理 ｶﾒﾗ4 ｺﾏﾝﾄﾞ実行成功
AND MR57401              ; 画像処理 ｶﾒﾗ4検出
ANB MR56911              ; 画像処理 ｶﾒﾗ4 ｺﾏﾝﾄﾞ実行失敗
OUT MR56910              ; 画像処理 ｶﾒﾗ4 ｺﾏﾝﾄﾞ実行成功
MOV #1 DM899             ; 画像処理 ｶﾒﾗ4完了
LD>= DM606 #2            ; PLC→XG ｶﾒﾗ4撮像開始
AND @T4                  ; 画像処理 ｶﾒﾗ4検出DLY
OR MR56911               ; 画像処理 ｶﾒﾗ4 ｺﾏﾝﾄﾞ実行失敗
AND MR57401              ; 画像処理 ｶﾒﾗ4検出
ANB MR56910              ; 画像処理 ｶﾒﾗ4 ｺﾏﾝﾄﾞ実行成功
OUT MR56911              ; 画像処理 ｶﾒﾗ4 ｺﾏﾝﾄﾞ実行失敗
MOV DM606 DM9601         ; PLC→XG ｶﾒﾗ4撮像開始
LDP MR56910              ; 画像処理 ｶﾒﾗ4 ｺﾏﾝﾄﾞ実行成功
ORP MR56911              ; 画像処理 ｶﾒﾗ4 ｺﾏﾝﾄﾞ実行失敗
AND LR10201              ; 画像処理ﾊﾞｯｸｸﾞﾗｳﾝﾄﾞ処理有効
MOV #0 DM890             ; 画像処理ﾄﾘｶﾞIL
LD MR57401               ; 画像処理 ｶﾒﾗ4検出
AND @T4                  ; 画像処理 ｶﾒﾗ4検出DLY
ANB MR56910              ; 画像処理 ｶﾒﾗ4 ｺﾏﾝﾄﾞ実行成功
ANB MR56911              ; 画像処理 ｶﾒﾗ4 ｺﾏﾝﾄﾞ実行失敗
OUT MR57402              ; 画像処理  ｶﾒﾗ4検出→PLC端子
;結果ﾃﾞｰﾀ受取
LD= DM700 #1             ; PLC←XG 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
AND=.D DM716 #4          ; PLC←XG ｶﾒﾗ番号
AND= EM640 #1            ; 画像処理 ｶﾒﾗ4ﾜｰｸ番号
AND=.D DM718 #1          ; PLC←XG ﾜｰｸ番号
OUT MR57414              ; 画像処理  ｶﾒﾗ4ﾄﾘｶﾞ結果受取条件
LD MR57414               ; 画像処理  ｶﾒﾗ4ﾄﾘｶﾞ結果受取条件
AND MR56910              ; 画像処理 ｶﾒﾗ4 ｺﾏﾝﾄﾞ実行成功
OR MR57115               ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄ 無動作
OR MR57403               ; 画像処理  ｶﾒﾗ4ﾄﾘｶﾞ結果受取
AND MR57401              ; 画像処理 ｶﾒﾗ4検出
OUT MR57403              ; 画像処理  ｶﾒﾗ4ﾄﾘｶﾞ結果受取
LDP MR57403              ; 画像処理  ｶﾒﾗ4ﾄﾘｶﾞ結果受取
MPS
LDB MR57115              ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄ 無動作
AND= DM724 #0            ; ｽﾃｰﾀｽ信号3(ｳｫｰﾑｷﾞﾔ)[0OK/1NG]
OR MR57115               ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄ 無動作
ANL
MPS
MOV #1 DM1160            ; 4st ｳｫｰﾑｷﾞﾔ判定
MPP
ANB MR57115              ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄ 無動作
BMOV DM712 EM100 #19     ; PLC←XG 結果ﾃﾞｰﾀ出力ｱﾄﾞﾚｽ(Y)  4stｳｫｰﾑｷﾞﾔY方向ｽﾞﾚ量 履歴1
MRD
LDB MR57115              ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄ 無動作
AND<> DM724 #0           ; ｽﾃｰﾀｽ信号3(ｳｫｰﾑｷﾞﾔ)[0OK/1NG]
ANL
MOV #2 DM1160            ; 4st ｳｫｰﾑｷﾞﾔ判定
MRD
LDB MR57115              ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄ 無動作
AND= DM726 #0            ; ｽﾃｰﾀｽ信号4(ｽﾌﾟﾘﾝｸﾞ)[0OK/1NG]
OR MR57115               ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄ 無動作
ANL
MOV #1 DM1161            ; 4st ｽﾌﾟﾘﾝｸﾞ確認判定
MRD
LDB MR57115              ; 画像処理 ｶﾒﾗ1ｱﾗｲﾒﾝﾄ 無動作
AND<> DM726 #0           ; ｽﾃｰﾀｽ信号4(ｽﾌﾟﾘﾝｸﾞ)[0OK/1NG]
ANL
MOV #2 DM1161            ; 4st ｽﾌﾟﾘﾝｸﾞ確認判定
MRD
MOV #0 DM700             ; PLC←XG 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
MPP
ANB LR10201              ; 画像処理ﾊﾞｯｸｸﾞﾗｳﾝﾄﾞ処理有効
MOV #0 DM890             ; 画像処理ﾄﾘｶﾞIL
;判定結果
LD<> DM1160 #0           ; 4st ｳｫｰﾑｷﾞﾔ判定
MPS
AND= DM1160 #1           ; 4st ｳｫｰﾑｷﾞﾔ判定
OUT MR57404              ; 画像処理 ｶﾒﾗ4 ｳｫｰﾑｷﾞﾔ検出 OK
MPP
ANB MR57404              ; 画像処理 ｶﾒﾗ4 ｳｫｰﾑｷﾞﾔ検出 OK
OUT MR57405              ; 画像処理 ｶﾒﾗ4 ｳｫｰﾑｷﾞﾔ検出 NG
LD<> DM1161 #0           ; 4st ｽﾌﾟﾘﾝｸﾞ確認判定
MPS
AND= DM1161 #1           ; 4st ｽﾌﾟﾘﾝｸﾞ確認判定
OUT MR57406              ; 画像処理 ｶﾒﾗ4 ｽﾌﾟﾘﾝｸﾞ検出 OK
MPP
ANB MR57406              ; 画像処理 ｶﾒﾗ4 ｽﾌﾟﾘﾝｸﾞ検出 OK
OUT MR57407              ; 画像処理 ｶﾒﾗ4 ｽﾌﾟﾘﾝｸﾞ検出 NG
LD MR57401               ; 画像処理 ｶﾒﾗ4検出
ANB LR10015              ; 動作ﾀｲﾑｵｰﾊﾞ無効
ANB LR10215              ; 画像処理ﾀｲﾑｵｰﾊﾞ無効
ANB MR56911              ; 画像処理 ｶﾒﾗ4 ｺﾏﾝﾄﾞ実行失敗
TMR #1594 #400           ; 画像処理ｶﾒﾗ4ﾀｲﾑｵｰﾊﾞｰ
;ｺﾝﾄﾛｰﾗﾘｾｯﾄ
LDP B0DF                 ; TPｶﾒﾗﾘｾｯﾄPB
AND MR2000               ; 手動ﾓｰﾄﾞ 操作可能
OR MR57900               ; 画像処理 ﾘｾｯﾄ
ANB MR57902              ; 画像処理 ﾘｾｯﾄ完了
ANB T1595                ; 画像処理ﾘｾｯﾄﾀｲﾑｵｰﾊﾞｰ
OUT MR57900              ; 画像処理 ﾘｾｯﾄ
OUT MR57901              ; 画像処理 ﾘｾｯﾄ→PLC端子
@MOV #1 DM602            ; PLC→XG ﾘｾｯﾄ
TMR #1595 #20            ; 画像処理ﾘｾｯﾄﾀｲﾑｵｰﾊﾞｰ
LD<> DM602 #0            ; PLC→XG ﾘｾｯﾄ
AND MR57900              ; 画像処理 ﾘｾｯﾄ
OUT MR57902              ; 画像処理 ﾘｾｯﾄ完了
@MOV #0 DM700            ; PLC←XG 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
;ｼｰｹﾝｽ停止中
LDB MR57101              ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ
ANB MR57501              ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ
ANB MR57201              ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ
ANB MR57601              ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ
ANB MR57301              ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ
ANB MR57701              ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ
ANB MR57401              ; 画像処理 ｶﾒﾗ4検出
ANB MR57106              ; 画像処理  ｶﾒﾗ1塗布確認
OUT MR57910              ; 画像処理 ｼｰｹﾝｽ停止中
TMR #1596 #10            ; 画像処理ｼｰｹﾝｽ停止DLY
;ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ ﾘｾｯﾄ
LD T1596                 ; 画像処理ｼｰｹﾝｽ停止DLY
LD<> DM700 #0            ; PLC←XG 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
OR<> DM890 #0            ; 画像処理ﾄﾘｶﾞIL
ANL
@MOV #0 DM700            ; PLC←XG 結果ﾃﾞｰﾀ出力完了ｱﾄﾞﾚｽ
@MOV #0 DM890            ; 画像処理ﾄﾘｶﾞIL
;<h1/>入力
LDB MR600                ; TP ｶﾒﾗ確認ｳｨﾝﾄﾞｳ表示中
MPS
LD R1010                 ; 画像処理  ｶﾒﾗ1ﾄﾘｶﾞ 許可信号
ANB MR57101              ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ
ANB MR57501              ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ
ANB MR57106              ; 画像処理  ｶﾒﾗ1塗布確認
ANL
OUT MR57001              ; 画像処理  ｶﾒﾗ1ﾄﾘｶﾞ 許可信号
MRD
LD R1011                 ; 画像処理  ｶﾒﾗ2ﾄﾘｶﾞ 許可信号
ANB MR57201              ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ
ANB MR57601              ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ
ANL
OUT MR57002              ; 画像処理  ｶﾒﾗ2ﾄﾘｶﾞ 許可信号
MRD
LD R1012                 ; 画像処理  ｶﾒﾗ3ﾄﾘｶﾞ 許可信号
ANB MR57301              ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ
ANB MR57701              ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ
ANL
OUT MR57003              ; 画像処理  ｶﾒﾗ3ﾄﾘｶﾞ 許可信号
MPP
LD R1013                 ; 画像処理  ｶﾒﾗ4ﾄﾘｶﾞ 許可信号
ANB MR57401              ; 画像処理 ｶﾒﾗ4検出
ANL
OUT MR57004              ; 画像処理  ｶﾒﾗ4ﾄﾘｶﾞ 許可信号
;異常
LD MR57910               ; 画像処理 ｼｰｹﾝｽ停止中
LDB R1010                ; 画像処理  ｶﾒﾗ1ﾄﾘｶﾞ 許可信号
ORB R1011                ; 画像処理  ｶﾒﾗ2ﾄﾘｶﾞ 許可信号
ORB R1012                ; 画像処理  ｶﾒﾗ3ﾄﾘｶﾞ 許可信号
ORB R1013                ; 画像処理  ｶﾒﾗ4ﾄﾘｶﾞ 許可信号
ANL
TMR #1590 #400           ; 画像処理 ｺﾝﾄﾛｰﾗ異常
;<h1/>出力
LD MR57102               ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ→PLC端子
OR MR57202               ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ→PLC端子
OR MR57302               ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ→PLC端子
OR MR57402               ; 画像処理  ｶﾒﾗ4検出→PLC端子
OR MR57007               ; 画像処理  ｶﾒﾗ1塗布→PLC端子
LD MR57502               ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮ→PLC端子
ANB MR57503              ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ結果受取
ORL
LD MR57602               ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮ→PLC端子
ANB MR57603              ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ結果受取
ORL
LD MR57702               ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮ→PLC端子
ANB MR57703              ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ結果受取
ORL
LD MR57802               ; 画像処理  品種切替→PLC端子
ANB MR57803              ; 画像処理 品種切替 結果受取完了
ORL
OR MR57901               ; 画像処理 ﾘｾｯﾄ→PLC端子
OUT R2010                ; 画像処理 ｺﾏﾝﾄﾞ実行信号
;TP出力
;ｶﾒﾗ1
LD MR57101               ; 画像処理  ｶﾒﾗ1ｱﾗｲﾒﾝﾄ
OUT B141C                ; TP 4st ｱﾗｲﾒﾝﾄPL
LD MR57106               ; 画像処理  ｶﾒﾗ1塗布確認
OUT B141D                ; TP 4st 塗布確認PL
LD MR57501               ; 画像処理  ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ
ANB MR57504              ; 画像処理 ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ 継続
LD MR57504               ; 画像処理 ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ 継続
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B10D0                ; TPｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝPL
LD MR57504               ; 画像処理 ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ 継続
OUT B10D1                ; TPｶﾒﾗ1ｽﾃｰﾀｽ継続PL
LD MR57505               ; 画像処理 ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ OK
OUT B10D2                ; TPｶﾒﾗ1ｽﾃｰﾀｽ完了PL
LD MR57506               ; 画像処理 ｶﾒﾗ1ｷｬﾘﾌﾞﾚｰｼｮﾝ NG
OUT B10D3                ; TPｶﾒﾗ1ｽﾃｰﾀｽｴﾗｰPL
;ｶﾒﾗ2
LD MR57201               ; 画像処理  ｶﾒﾗ2ｱﾗｲﾒﾝﾄ
MPS
AND= EM620 #1            ; 画像処理 ｶﾒﾗ2ﾜｰｸ番号
OUT B151C                ; TP 5st ﾋﾉｳﾗｷﾞﾔｱﾗｲﾒﾝﾄPL
MPP
AND= EM620 #2            ; 画像処理 ｶﾒﾗ2ﾜｰｸ番号
OUT B151D                ; TP 5st ﾌﾝｼﾝｷﾞﾔｱﾗｲﾒﾝﾄPL
LD MR57601               ; 画像処理  ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ
ANB MR57604              ; 画像処理 ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ 継続
LD MR57604               ; 画像処理 ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ 継続
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B10D4                ; TPｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝPL
LD MR57604               ; 画像処理 ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ 継続
OUT B10D5                ; TPｶﾒﾗ2ｽﾃｰﾀｽ継続PL
LD MR57605               ; 画像処理 ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ OK
OUT B10D6                ; TPｶﾒﾗ2ｽﾃｰﾀｽ完了PL
LD MR57606               ; 画像処理 ｶﾒﾗ2ｷｬﾘﾌﾞﾚｰｼｮﾝ NG
OUT B10D7                ; TPｶﾒﾗ2ｽﾃｰﾀｽｴﾗｰPL
;ｶﾒﾗ3
LD MR57301               ; 画像処理  ｶﾒﾗ3ｱﾗｲﾒﾝﾄ
MPS
AND= EM630 #1            ; 画像処理 ｶﾒﾗ3ﾜｰｸ番号
OUT B161C                ; TP 6st ｽﾌﾟﾘﾝｸﾞｱﾗｲﾒﾝﾄPL
MPP
AND= EM630 #2            ; 画像処理 ｶﾒﾗ3ﾜｰｸ番号
OUT B161D                ; TP 6st ｱｯﾊﾟｰｹｰｽｱﾗｲﾒﾝﾄPL
LD MR57701               ; 画像処理  ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ
ANB MR57704              ; 画像処理 ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ 継続
LD MR57704               ; 画像処理 ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ 継続
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B10D8                ; TPｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝPL
LD MR57704               ; 画像処理 ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ 継続
OUT B10D9                ; TPｶﾒﾗ3ｽﾃｰﾀｽ継続PL
LD MR57705               ; 画像処理 ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ OK
OUT B10DA                ; TPｶﾒﾗ3ｽﾃｰﾀｽ完了PL
LD MR57706               ; 画像処理 ｶﾒﾗ3ｷｬﾘﾌﾞﾚｰｼｮﾝ NG
OUT B10DB                ; TPｶﾒﾗ3ｽﾃｰﾀｽｴﾗｰPL
;ｶﾒﾗ4
LD MR57401               ; 画像処理 ｶﾒﾗ4検出
OUT B141E                ; TP 4st ｳｫｰﾑｷﾞﾔ検出ﾄﾘｶﾞPL
END
ENDH
