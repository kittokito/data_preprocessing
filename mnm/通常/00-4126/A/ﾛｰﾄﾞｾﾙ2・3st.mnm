DEVICE:53
;MODULE:ﾛｰﾄﾞｾﾙ2・3st
;MODULE_TYPE:0
;<h1/>2st ﾛｰﾄﾞｾﾙ
;<h1/> 入力
LD R55511                ; 2st ﾛｰﾄﾞｾﾙ ﾘﾓｰﾄREADY
OUT MR58500              ; 2stﾛｰﾄﾞｾﾙ ﾘﾓｰﾄREADY
;<h1/> 異常
LDP R54806               ; 2st ﾛｰﾄﾞｾﾙ CPU正常動作
INC EM58                 ; 2st ﾛｰﾄﾞｾﾙ CPU正常確認ｶｳﾝﾄ
LDB MR58504              ; 2st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ CPU正常確認
ANPB LR1215              ; <A207>2st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ CPU異常
TMR #30 #30              ; 2st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ異常確認
LDP T30                  ; 2st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ異常確認
AND<> EM58 EM59          ; 2st ﾛｰﾄﾞｾﾙ CPU正常確認ｶｳﾝﾄ  2st ﾛｰﾄﾞｾﾙ CPU正常確認ｶｳﾝﾄBuf
OUT MR58504              ; 2st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ CPU正常確認
LDP T30                  ; 2st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ異常確認
AND= EM58 EM59           ; 2st ﾛｰﾄﾞｾﾙ CPU正常確認ｶｳﾝﾄ  2st ﾛｰﾄﾞｾﾙ CPU正常確認ｶｳﾝﾄBuf
LD LR1215                ; <A207>2st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ CPU異常
ANB MR907                ; 異常ﾘｾｯﾄ
ORL
OUT LR1215               ; <A207>2st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ CPU異常
LDP T30                  ; 2st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ異常確認
MOV EM58 EM59            ; 2st ﾛｰﾄﾞｾﾙ CPU正常確認ｶｳﾝﾄ  2st ﾛｰﾄﾞｾﾙ CPU正常確認ｶｳﾝﾄBuf
LD R55510                ; 2st ﾛｰﾄﾞｾﾙ ｴﾗｰ状態ﾌﾗｸﾞ
LD LR1300                ; <A208>2st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ異常
ANB MR907                ; 異常ﾘｾｯﾄ
ORL
OUT LR1300               ; <A208>2st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ異常
LDB MR58500              ; 2stﾛｰﾄﾞｾﾙ ﾘﾓｰﾄREADY
AND T10                  ; 運転準備ON確認DLY①
OR MR58605               ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常終了
LD LR1301                ; <A209>2st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ 通信異常
ANB MR907                ; 異常ﾘｾｯﾄ
ORL
OUT LR1301               ; <A209>2st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ 通信異常
LDP MR58512              ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値判定NG
LD LR1512                ; <A252>2st ｽﾃｰﾀA 圧入荷重異常
ANB MR907                ; 異常ﾘｾｯﾄ
ORL
OUT LR1512               ; <A252>2st ｽﾃｰﾀA 圧入荷重異常
;<h1/> 値変換
LD MR58500               ; 2stﾛｰﾄﾞｾﾙ ﾘﾓｰﾄREADY
MPS
LDA.D DM12096            ; 2st ﾛｰﾄﾞｾﾙ ﾎｰﾙﾄﾞ値
CON
ANDA.D $000FFFFF
CON
MPS
AND DM12097.13           ; OFF:入力正常 ON:入力ｵｰﾊﾞｰ
DW.L +9999 EM50          ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
MPP
ANB DM12097.13           ; OFF:入力正常 ON:入力ｵｰﾊﾞｰ
MPS
ANB DM12097.14           ; OFF:BCD表示 ON:ﾊﾞｲﾅﾘ表示
TBIN.D
CON
MPS
ANB DM12097.15           ; 符号 OFF=(+) ON=(-)
STA.L EM50               ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
MPP
AND DM12097.15           ; 符号 OFF=(+) ON=(-)
MUL.L -1
CON
STA.L EM50               ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
MPP
AND DM12097.14           ; OFF:BCD表示 ON:ﾊﾞｲﾅﾘ表示
MPS
ANB DM12097.15           ; 符号 OFF=(+) ON=(-)
STA.L EM50               ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
MPP
AND DM12097.15           ; 符号 OFF=(+) ON=(-)
ORA.D $FFF00000
CON
STA.L EM50               ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
MPP
AND<>.L EM50 +9999       ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
LDA DM12097              ; 2st ﾛｰﾄﾞｾﾙ ﾎｰﾙﾄﾞ値[MSB]
CON
ANDA $0F00
CON
STA TM2
CON
LDA.L EM50               ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
CON
MPS
AND= TM2 $0000
MUL.L +10
CON
STA.L EM50               ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
MRD
AND= TM2 $0200
DIV.L +10
CON
STA.L EM50               ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
MRD
AND= TM2 $0300
DIV.L +100
CON
STA.L EM50               ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
MPP
AND= TM2 $0400
DIV.L +1000
CON
STA.L EM50               ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
LD MR58500               ; 2stﾛｰﾄﾞｾﾙ ﾘﾓｰﾄREADY
MPS
LDA.D DM12098            ; 2st ﾛｰﾄﾞｾﾙ ﾘｱﾙﾀｲﾑ値
CON
ANDA.D $000FFFFF
CON
MPS
AND DM12099.13           ; OFF:入力正常 ON:入力ｵｰﾊﾞｰ
DW.L +9999 EM52          ; 2st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
MPP
ANB DM12099.13           ; OFF:入力正常 ON:入力ｵｰﾊﾞｰ
MPS
ANB DM12099.14           ; OFF:BCD表示 ON:ﾊﾞｲﾅﾘ表示
TBIN.D
CON
MPS
ANB DM12099.15           ; 符号 OFF=(+) ON=(-)
STA.L EM52               ; 2st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
MPP
AND DM12099.15           ; 符号 OFF=(+) ON=(-)
MUL.L -1
CON
STA.L EM52               ; 2st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
MPP
AND DM12099.14           ; OFF:BCD表示 ON:ﾊﾞｲﾅﾘ表示
MPS
ANB DM12099.15           ; 符号 OFF=(+) ON=(-)
STA.L EM52               ; 2st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
MPP
AND DM12099.15           ; 符号 OFF=(+) ON=(-)
ORA.D $FFF00000
CON
STA.L EM52               ; 2st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
MPP
AND<>.L EM52 +9999       ; 2st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
LDA DM12099              ; 2st ﾛｰﾄﾞｾﾙ ﾘｱﾙﾀｲﾑ値[MSB]
CON
ANDA $0F00
CON
STA TM2
CON
LDA.L EM52               ; 2st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
CON
MPS
AND= TM2 $0000
MUL.L +10
CON
STA.L EM52               ; 2st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
MRD
AND= TM2 $0200
DIV.L +10
CON
STA.L EM52               ; 2st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
MRD
AND= TM2 $0300
DIV.L +100
CON
STA.L EM52               ; 2st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
MPP
AND= TM2 $0400
DIV.L +1000
CON
STA.L EM52               ; 2st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
LD MR58500               ; 2stﾛｰﾄﾞｾﾙ ﾘﾓｰﾄREADY
MOV DM12102 EM54         ; 2st ﾛｰﾄﾞｾﾙ ｴﾗｰｺｰﾄﾞ  2st ﾛｰﾄﾞｾﾙｴﾗｰｺｰﾄﾞ
MOV DM12103 EM55         ; 2st ﾛｰﾄﾞｾﾙ ｴﾗｰ補助ｺｰﾄﾞ  2st ﾛｰﾄﾞｾﾙｴﾗｰ補助ｺｰﾄﾞ
;<h1/> ﾛｰﾄﾞｾﾙ測定
LD R75511                ; 2stRB ｽﾗｲﾄﾞｽﾃｰﾀA組込 下降_1ｻｲｸﾙ
OR R75514                ; 2stRB 反転ｽﾃｰﾀA組込 下降_1ｻｲｸﾙ
OUT MR58502              ; 2st ﾛｰﾄﾞｾﾙ計測開始
LDP MR58502              ; 2st ﾛｰﾄﾞｾﾙ計測開始
MOV #0 DM1253            ; 2st ﾛｰﾄﾞｾﾙ判定結果[1:OK2:NG]
;<h1/> 測定値判定
LD MR58500               ; 2stﾛｰﾄﾞｾﾙ ﾘﾓｰﾄREADY
LD<= ZF260 EM50          ; 2st ｽﾃｰﾀA組込 荷重下限  2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
AND<= EM50 ZF261         ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]  2st ｽﾃｰﾀA組込 荷重上限
OR MR1200                ; 手動ﾓｰﾄﾞ
ANL
OR MR6000                ; 設定1_ﾜｰｸ無運転有効
OR LR10513               ; ﾛｰﾄﾞｾﾙ判定無し
OUT MR58510              ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値範囲内
;<h1/>170901  T1220  3-4
LD R50904                ; 2stRB ﾛｰﾄﾞｾﾙ計測
MPS
TMR #1220 #4             ; 2stRB ﾛｰﾄﾞｾﾙ計測DLY
MPP
AND T1220                ; 2stRB ﾛｰﾄﾞｾﾙ計測DLY
MPS
LDB MR58510              ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値範囲内
OR T1221                 ; 2stRB ﾛｰﾄﾞｾﾙ計測範囲外DLY
ANB MR58513              ; 2stRB ﾛｰﾄﾞｾﾙ計測完了
ANL
TMR #1221 #25            ; 2stRB ﾛｰﾄﾞｾﾙ計測範囲外DLY
MPP
LD MR58510               ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値範囲内
ANB T1221                ; 2stRB ﾛｰﾄﾞｾﾙ計測範囲外DLY
LD B12BC                 ; TP2st 圧入荷重確認(W216)表示
AND B22B6                ; TP2st ｻｲｸﾙ停止選択
ANP MR915                ; 自動運転中 ｳｨﾝﾄﾞｳ画面続行PB
ORL
LDB R75208               ; 2stRB ｽﾃｰﾀA組込中
ANB MR4000               ; 自動運転
ORL
OR MR58513               ; 2stRB ﾛｰﾄﾞｾﾙ計測完了
ANL
OUT MR58513              ; 2stRB ﾛｰﾄﾞｾﾙ計測完了
LD R75511                ; 2stRB ｽﾗｲﾄﾞｽﾃｰﾀA組込 下降_1ｻｲｸﾙ
AND= EM1206 #1           ; 2stRB ﾎﾞﾋﾞﾝ/ｽﾃｰﾀA/B組込No
LD R75514                ; 2stRB 反転ｽﾃｰﾀA組込 下降_1ｻｲｸﾙ
AND= EM1206 #11          ; 2stRB ﾎﾞﾋﾞﾝ/ｽﾃｰﾀA/B組込No
ORL
AND MR58502              ; 2st ﾛｰﾄﾞｾﾙ計測開始
ANP MR58513              ; 2stRB ﾛｰﾄﾞｾﾙ計測完了
MPS
ANB T1221                ; 2stRB ﾛｰﾄﾞｾﾙ計測範囲外DLY
MOV #1 DM1253            ; 2st ﾛｰﾄﾞｾﾙ判定結果[1:OK2:NG]
MRD
AND T1221                ; 2stRB ﾛｰﾄﾞｾﾙ計測範囲外DLY
MOV #2 DM1253            ; 2st ﾛｰﾄﾞｾﾙ判定結果[1:OK2:NG]
MRD
AND= EM1206 #1           ; 2stRB ﾎﾞﾋﾞﾝ/ｽﾃｰﾀA/B組込No
BMOV EM70 EM71 #9        ; 2st ﾛｰﾄﾞｾﾙ計測値(ﾓｰﾀｽﾗｲﾄﾞ)  2st ﾛｰﾄﾞｾﾙ履歴1(ﾓｰﾀｽﾗｲﾄﾞ)
MOV.S EM50 EM70          ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]  2st ﾛｰﾄﾞｾﾙ計測値(ﾓｰﾀｽﾗｲﾄﾞ)
MPP
AND= EM1206 #11          ; 2stRB ﾎﾞﾋﾞﾝ/ｽﾃｰﾀA/B組込No
BMOV EM90 EM91 #9        ; 2st ﾛｰﾄﾞｾﾙ計測値(ﾓｰﾀ反転)  2st ﾛｰﾄﾞｾﾙ履歴1(ﾓｰﾀ反転)
MOV.S EM50 EM90          ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]  2st ﾛｰﾄﾞｾﾙ計測値(ﾓｰﾀ反転)
LD CR2002                ; 常時ON
MPS
AND= DM1253 #1           ; 2st ﾛｰﾄﾞｾﾙ判定結果[1:OK2:NG]
OUT MR58511              ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値判定OK
MPP
AND= DM1253 #2           ; 2st ﾛｰﾄﾞｾﾙ判定結果[1:OK2:NG]
OUT MR58512              ; 2st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値判定NG
;<h1/> HOLD設定変更
; (HOLDﾓｰﾄﾞ = PEAK)
LDB R54800               ; 2st ﾛｰﾄﾞｾﾙ 専用ｴﾘｱ応答
ANB R54802               ; 2st ﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ応答
ANB R64800               ; 2stﾛｰﾄﾞｾﾙ 専用ｴﾘｱ要求
ANB R64802               ; 2stﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ要求
OR MR58600               ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更
AND T10                  ; 運転準備ON確認DLY①
ANB LR1301               ; <A209>2st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ 通信異常
OUT MR58600              ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更
@DW.D $00000002 DM13108  ; 2st ﾛｰﾄﾞｾﾙ ｺﾏﾝﾄﾞﾃﾞｰﾀ
CON
@DW $4001 DM13110        ; 2st ﾛｰﾄﾞｾﾙ ｺﾏﾝﾄﾞNo
LD MR58600               ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更
ANB MR58602              ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更 正常応答
ANB MR58603              ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常応答
ANB MR58604              ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更 正常終了
ANB MR58605              ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常終了
OUT MR58601              ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更ﾄﾘｶﾞ
LD R64802                ; 2stﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ要求
AND R54802               ; 2st ﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ応答
ANB MR58604              ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更 正常終了
ANB MR58605              ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常終了
AND= DM12110 $4001       ; 2st ﾛｰﾄﾞｾﾙ ｺﾏﾝﾄﾞNo
OR MR58602               ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更 正常応答
AND MR58600              ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更
OUT MR58602              ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更 正常応答
LD R64802                ; 2stﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ要求
AND R54802               ; 2st ﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ応答
ANB MR58604              ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更 正常終了
ANB MR58605              ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常終了
AND= DM12110 $FFFF       ; 2st ﾛｰﾄﾞｾﾙ ｺﾏﾝﾄﾞNo
OR MR58603               ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常応答
AND MR58600              ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更
OUT MR58603              ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常応答
LD MR58602               ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更 正常応答
ANB R64802               ; 2stﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ要求
ANB R54802               ; 2st ﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ応答
OR MR58604               ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更 正常終了
AND MR58600              ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更
OUT MR58604              ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更 正常終了
LD MR58603               ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常応答
ANB R64802               ; 2stﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ要求
ANB R54802               ; 2st ﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ応答
OR MR58605               ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常終了
AND MR58600              ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更
OUT MR58605              ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常終了
;<h1/> 出力
LD CR2003                ; 常時OFF
OUT R64800               ; 2stﾛｰﾄﾞｾﾙ 専用ｴﾘｱ要求
LD MR58601               ; 2st ﾛｰﾄﾞｾﾙ HOLD設定変更ﾄﾘｶﾞ
OUT R64802               ; 2stﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ要求
LD CR2003                ; 常時OFF
OUT R64803               ; 2stﾛｰﾄﾞｾﾙ R/W(要求)
LD MR58502               ; 2st ﾛｰﾄﾞｾﾙ計測開始
ANB R54908               ; 2st ﾛｰﾄﾞｾﾙ ﾎｰﾙﾄﾞ中
LDB R75200               ; 2st ﾓｰﾀ組込 1ｻｲｸﾙ動作
AND R54908               ; 2st ﾛｰﾄﾞｾﾙ ﾎｰﾙﾄﾞ中
ORL
OUT R64904               ; 2stﾛｰﾄﾞｾﾙ HOLD
;<h1/>3st ﾛｰﾄﾞｾﾙ
;<h1/> 入力
LD R56311                ; 3st ﾛｰﾄﾞｾﾙ ﾘﾓｰﾄREADY
OUT MR58700              ; 3stﾛｰﾄﾞｾﾙ ﾘﾓｰﾄREADY
;<h1/> 異常
LDP R55606               ; 3st ﾛｰﾄﾞｾﾙ CPU正常動作
INC EM68                 ; 3st ﾛｰﾄﾞｾﾙ CPU正常確認ｶｳﾝﾄ
LDB MR58704              ; 3st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ CPU正常確認
ANPB LR1903              ; <A307>3st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ CPU異常
TMR #31 #30              ; 3st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ異常確認
LDP T31                  ; 3st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ異常確認
AND<> EM68 EM69          ; 3st ﾛｰﾄﾞｾﾙ CPU正常確認ｶｳﾝﾄ  3st ﾛｰﾄﾞｾﾙ CPU正常確認ｶｳﾝﾄBuf
OUT MR58704              ; 3st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ CPU正常確認
LDP T31                  ; 3st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ異常確認
AND= EM68 EM69           ; 3st ﾛｰﾄﾞｾﾙ CPU正常確認ｶｳﾝﾄ  3st ﾛｰﾄﾞｾﾙ CPU正常確認ｶｳﾝﾄBuf
LD LR1903                ; <A307>3st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ CPU異常
ANB MR907                ; 異常ﾘｾｯﾄ
ORL
OUT LR1903               ; <A307>3st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ CPU異常
LDP T31                  ; 3st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ異常確認
MOV EM68 EM69            ; 3st ﾛｰﾄﾞｾﾙ CPU正常確認ｶｳﾝﾄ  3st ﾛｰﾄﾞｾﾙ CPU正常確認ｶｳﾝﾄBuf
LD R56310                ; 3st ﾛｰﾄﾞｾﾙ ｴﾗｰ状態ﾌﾗｸﾞ
LD LR1904                ; <A308>3st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ異常
ANB MR907                ; 異常ﾘｾｯﾄ
ORL
OUT LR1904               ; <A308>3st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ異常
LDB MR58700              ; 3stﾛｰﾄﾞｾﾙ ﾘﾓｰﾄREADY
AND T10                  ; 運転準備ON確認DLY①
OR MR58805               ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常終了
LD LR1905                ; <A309>3st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ 通信異常
ANB MR907                ; 異常ﾘｾｯﾄ
ORL
OUT LR1905               ; <A309>3st ﾛｰﾄﾞｾﾙｺﾝﾄﾛｰﾗ 通信異常
LDP MR58712              ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値判定NG
LD LR2200                ; <A352>3st ﾓｰﾀｹｰｽ 圧入荷重異常
ANB MR907                ; 異常ﾘｾｯﾄ
ORL
OUT LR2200               ; <A352>3st ﾓｰﾀｹｰｽ 圧入荷重異常
;<h1/> 値変換
LD MR58700               ; 3stﾛｰﾄﾞｾﾙ ﾘﾓｰﾄREADY
MPS
LDA.D DM12112            ; 3st ﾛｰﾄﾞｾﾙ ﾎｰﾙﾄﾞ値
CON
ANDA.D $000FFFFF
CON
MPS
AND DM12113.13           ; OFF:入力正常 ON:入力ｵｰﾊﾞｰ
DW.L +9999 EM60          ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
MPP
ANB DM12113.13           ; OFF:入力正常 ON:入力ｵｰﾊﾞｰ
MPS
ANB DM12113.14           ; OFF:BCD表示 ON:ﾊﾞｲﾅﾘ表示
TBIN.D
CON
MPS
ANB DM12113.15           ; 符号 OFF=(+) ON=(-)
STA.L EM60               ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
MPP
AND DM12113.15           ; 符号 OFF=(+) ON=(-)
MUL.L -1
CON
STA.L EM60               ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
MPP
AND DM12113.14           ; OFF:BCD表示 ON:ﾊﾞｲﾅﾘ表示
MPS
ANB DM12113.15           ; 符号 OFF=(+) ON=(-)
STA.L EM60               ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
MPP
AND DM12113.15           ; 符号 OFF=(+) ON=(-)
ORA.D $FFF00000
CON
STA.L EM60               ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
MPP
AND<>.L EM60 +9999       ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
LDA DM12113              ; 3st ﾛｰﾄﾞｾﾙ ﾎｰﾙﾄﾞ値[MSB]
CON
ANDA $0F00
CON
STA TM2
CON
LDA.L EM60               ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
CON
MPS
AND= TM2 $0000
MUL.L +10
CON
STA.L EM60               ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
MRD
AND= TM2 $0200
DIV.L +10
CON
STA.L EM60               ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
MRD
AND= TM2 $0300
DIV.L +100
CON
STA.L EM60               ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
MPP
AND= TM2 $0400
DIV.L +1000
CON
STA.L EM60               ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
LD MR58700               ; 3stﾛｰﾄﾞｾﾙ ﾘﾓｰﾄREADY
MPS
LDA.D DM12114            ; 3st ﾛｰﾄﾞｾﾙ ﾘｱﾙﾀｲﾑ値
CON
ANDA.D $000FFFFF
CON
MPS
AND DM12115.13           ; OFF:入力正常 ON:入力ｵｰﾊﾞｰ
DW.L +9999 EM62          ; 3st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
MPP
ANB DM12115.13           ; OFF:入力正常 ON:入力ｵｰﾊﾞｰ
MPS
ANB DM12115.14           ; OFF:BCD表示 ON:ﾊﾞｲﾅﾘ表示
TBIN.D
CON
MPS
ANB DM12115.15           ; 符号 OFF=(+) ON=(-)
STA.L EM62               ; 3st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
MPP
AND DM12115.15           ; 符号 OFF=(+) ON=(-)
MUL.L -1
CON
STA.L EM62               ; 3st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
MPP
AND DM12115.14           ; OFF:BCD表示 ON:ﾊﾞｲﾅﾘ表示
MPS
ANB DM12115.15           ; 符号 OFF=(+) ON=(-)
STA.L EM62               ; 3st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
MPP
AND DM12115.15           ; 符号 OFF=(+) ON=(-)
ORA.D $FFF00000
CON
STA.L EM62               ; 3st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
MPP
AND<>.L EM62 +9999       ; 3st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
LDA DM12115              ; 3st ﾛｰﾄﾞｾﾙ ﾘｱﾙﾀｲﾑ値[MSB]
CON
ANDA $0F00
CON
STA TM2
CON
LDA.L EM60               ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
CON
MPS
AND= TM2 $0000
MUL.L +10
CON
STA.L EM62               ; 3st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
MRD
AND= TM2 $0200
DIV.L +10
CON
STA.L EM62               ; 3st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
MRD
AND= TM2 $0300
DIV.L +100
CON
STA.L EM62               ; 3st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
MPP
AND= TM2 $0400
DIV.L +1000
CON
STA.L EM62               ; 3st ﾛｰﾄﾞｾﾙ現在値[x0.1N]
LD MR58700               ; 3stﾛｰﾄﾞｾﾙ ﾘﾓｰﾄREADY
MOV DM12118 EM64         ; 3st ﾛｰﾄﾞｾﾙ ｴﾗｰｺｰﾄﾞ  3st ﾛｰﾄﾞｾﾙｴﾗｰｺｰﾄﾞ
MOV DM12119 EM65         ; 3st ﾛｰﾄﾞｾﾙ ｴﾗｰ補助ｺｰﾄﾞ  3st ﾛｰﾄﾞｾﾙｴﾗｰ補助ｺｰﾄﾞ
;<h1/> ﾛｰﾄﾞｾﾙ測定
LD R81402                ; 3stRB ｱｯﾊﾟｰｹｰｽCV組込 下降_1ｻｲｸﾙ
OUT MR58702              ; 3st ﾛｰﾄﾞｾﾙ計測開始
LDP MR58702              ; 3st ﾛｰﾄﾞｾﾙ計測開始
MOV #0 DM1353            ; 3st ﾛｰﾄﾞｾﾙ判定結果[1:OK2:NG]
;<h1/> 測定値判定
LD MR58700               ; 3stﾛｰﾄﾞｾﾙ ﾘﾓｰﾄREADY
AND<= ZF270 EM60         ; 3st ﾓｰﾀｹｰｽ組込 荷重下限  3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]
LD<= EM60 ZF271          ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]  3st ﾓｰﾀｹｰｽ組込 荷重上限
OR LR10006               ; 3stﾛｰﾄﾞｾﾙ上限無限
ANL
OR MR6000                ; 設定1_ﾜｰｸ無運転有効
OR LR10513               ; ﾛｰﾄﾞｾﾙ判定無し
OUT MR58710              ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値範囲内
;<h1/>20.02.20  1320  3-6
LD R51704                ; 3stRB ﾛｰﾄﾞｾﾙ計測
MPS
TMR #1320 #6             ; 3stRB ﾛｰﾄﾞｾﾙ計測DLY
MPP
AND T1320                ; 3stRB ﾛｰﾄﾞｾﾙ計測DLY
MPS
LDB MR58710              ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値範囲内
OR T1321                 ; 3stRB ﾛｰﾄﾞｾﾙ計測範囲外DLY10
ANB MR58713              ; 3stRB ﾛｰﾄﾞｾﾙ計測完了
ANL
TMR #1321 #10            ; 3stRB ﾛｰﾄﾞｾﾙ計測範囲外DLY10
MPP
LD MR58710               ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値範囲内
ANB T1321                ; 3stRB ﾛｰﾄﾞｾﾙ計測範囲外DLY10
LD B23B6                 ; TP3st ｻｲｸﾙ停止選択
AND B23B6                ; TP3st ｻｲｸﾙ停止選択
ANP MR915                ; 自動運転中 ｳｨﾝﾄﾞｳ画面続行PB
ORL
LDB R81207               ; 3st ﾓｰﾀｹｰｽ組込中
ANB MR4000               ; 自動運転
ORL
OR MR58713               ; 3stRB ﾛｰﾄﾞｾﾙ計測完了
ANL
OUT MR58713              ; 3stRB ﾛｰﾄﾞｾﾙ計測完了
LD R81402                ; 3stRB ｱｯﾊﾟｰｹｰｽCV組込 下降_1ｻｲｸﾙ
AND= EM1306 #1           ; 3stRB ｳｫｰﾑ/ﾓｰﾀｹｰｽ組込No
AND MR58702              ; 3st ﾛｰﾄﾞｾﾙ計測開始
ANP MR58713              ; 3stRB ﾛｰﾄﾞｾﾙ計測完了
MPS
ANB T1321                ; 3stRB ﾛｰﾄﾞｾﾙ計測範囲外DLY10
MOV #1 DM1353            ; 3st ﾛｰﾄﾞｾﾙ判定結果[1:OK2:NG]
MRD
AND T1321                ; 3stRB ﾛｰﾄﾞｾﾙ計測範囲外DLY10
MOV #2 DM1353            ; 3st ﾛｰﾄﾞｾﾙ判定結果[1:OK2:NG]
MRD
BMOV EM80 EM81 #9        ; 3st ﾛｰﾄﾞｾﾙ計測値  3st ﾛｰﾄﾞｾﾙ履歴1
MPP
MOV EM60 EM80            ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値[x0.1N]  3st ﾛｰﾄﾞｾﾙ計測値
LD CR2002                ; 常時ON
MPS
AND= DM1353 #1           ; 3st ﾛｰﾄﾞｾﾙ判定結果[1:OK2:NG]
OUT MR58711              ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値判定OK
MPP
AND= DM1353 #2           ; 3st ﾛｰﾄﾞｾﾙ判定結果[1:OK2:NG]
OUT MR58712              ; 3st ﾛｰﾄﾞｾﾙﾎｰﾙﾄﾞ値判定NG
;<h1/> HOLD設定変更
; (HOLDﾓｰﾄﾞ = PEAK)
LDB R55600               ; 3st ﾛｰﾄﾞｾﾙ 専用ｴﾘｱ応答
ANB R55602               ; 3st ﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ応答
ANB R65600               ; 3stﾛｰﾄﾞｾﾙ 専用ｴﾘｱ要求
ANB R65602               ; 3stﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ要求
OR MR58800               ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更
AND MR1101               ; 運転準備 完了
AND MR58700              ; 3stﾛｰﾄﾞｾﾙ ﾘﾓｰﾄREADY
ANB MR58805              ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常終了
OUT MR58800              ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更
@DW.D $00000002 DM13124  ; 3st ﾛｰﾄﾞｾﾙ ｺﾏﾝﾄﾞﾃﾞｰﾀ
CON
@DW $4001 DM13126        ; 3st ﾛｰﾄﾞｾﾙ ｺﾏﾝﾄﾞNo
LD MR58800               ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更
ANB MR58802              ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 正常応答
ANB MR58803              ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常応答
ANB MR58804              ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 正常終了
ANB MR58805              ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常終了
OUT MR58801              ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更ﾄﾘｶﾞ
LD R65602                ; 3stﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ要求
AND R55602               ; 3st ﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ応答
ANB MR58804              ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 正常終了
ANB MR58805              ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常終了
AND= DM12126 $4001       ; 3st ﾛｰﾄﾞｾﾙ ｺﾏﾝﾄﾞNo
OR MR58802               ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 正常応答
AND MR58800              ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更
OUT MR58802              ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 正常応答
LD R65602                ; 3stﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ要求
AND R55602               ; 3st ﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ応答
ANB MR58804              ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 正常終了
ANB MR58805              ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常終了
AND= DM12126 $FFFF       ; 3st ﾛｰﾄﾞｾﾙ ｺﾏﾝﾄﾞNo
OR MR58803               ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常応答
AND MR58800              ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更
OUT MR58803              ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常応答
LD MR58802               ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 正常応答
ANB R65602               ; 3stﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ要求
ANB R55602               ; 3st ﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ応答
OR MR58804               ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 正常終了
AND MR58800              ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更
OUT MR58804              ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 正常終了
LD MR58803               ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常応答
ANB R65602               ; 3stﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ要求
ANB R55602               ; 3st ﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ応答
OR MR58805               ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常終了
AND MR58800              ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更
OUT MR58805              ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更 異常終了
;<h1/> 出力
LD CR2003                ; 常時OFF
OUT R65600               ; 3stﾛｰﾄﾞｾﾙ 専用ｴﾘｱ要求
LD MR58801               ; 3st ﾛｰﾄﾞｾﾙ HOLD設定変更ﾄﾘｶﾞ
OUT R65602               ; 3stﾛｰﾄﾞｾﾙ 汎用ｴﾘｱ要求
LD CR2003                ; 常時OFF
OUT R65603               ; 3stﾛｰﾄﾞｾﾙ R/W(要求)
LD MR58702               ; 3st ﾛｰﾄﾞｾﾙ計測開始
ANB R55708               ; 3st ﾛｰﾄﾞｾﾙ ﾎｰﾙﾄﾞ中
LDB R81200               ; 3st 送りCV組込 1ｻｲｸﾙ動作
AND R55708               ; 3st ﾛｰﾄﾞｾﾙ ﾎｰﾙﾄﾞ中
ORL
OUT R65704               ; 3stﾛｰﾄﾞｾﾙ HOLD
END
ENDH
