DEVICE:53
;MODULE:検出ｾﾝｻ異常
;MODULE_TYPE:1
LD P1                    ; ｾﾝｻON待ち
ANB P0                   ; 検出ｾﾝｻ
TMR @0 #100              ; ｾﾝｻON異常
LD P2                    ; ｾﾝｻOFF待ち
AND P0                   ; 検出ｾﾝｻ
TMR @1 #100              ; ｾﾝｻOFF異常
LD P3                    ; ｾﾝｻON記憶
ANB P0                   ; 検出ｾﾝｻ
LDB P3                   ; ｾﾝｻON記憶
AND P0                   ; 検出ｾﾝｻ
ORL
MPS
AND MR1201               ; 自動ﾓｰﾄﾞ
TMR @2 #100              ; ｾﾝｻ記憶不一致
MPP
ANP MR1201               ; 自動ﾓｰﾄﾞ
OUT @MR000               ; ｾﾝｻ記憶不一致
LD @T0                   ; ｾﾝｻON異常
OR @T1                   ; ｾﾝｻOFF異常
OR @T2                   ; ｾﾝｻ記憶不一致
OR @MR000                ; ｾﾝｻ記憶不一致
LD P4                    ; ｾﾝｻ異常
ANB MR907                ; 異常ﾘｾｯﾄ
ORL
OUT P4                   ; ｾﾝｻ異常
LDP P4                   ; ｾﾝｻ異常
MPS
AND @T0                  ; ｾﾝｻON異常
MOV #1 P5                ; 補助ｺｰﾄﾞ
MRD
AND @T1                  ; ｾﾝｻOFF異常
MOV #2 P5                ; 補助ｺｰﾄﾞ
MPP
AND MR1201               ; 自動ﾓｰﾄﾞ
MPS
LD P3                    ; ｾﾝｻON記憶
ANB P0                   ; 検出ｾﾝｻ
ANL
MOV #3 P5                ; 補助ｺｰﾄﾞ
MPP
LDB P3                   ; ｾﾝｻON記憶
AND P0                   ; 検出ｾﾝｻ
ANL
MOV #4 P5                ; 補助ｺｰﾄﾞ
LDB P4                   ; ｾﾝｻ異常
MOV #0 P5                ; 補助ｺｰﾄﾞ
END
ENDH
