DEVICE:53
;MODULE:U5_収納リフター
;MODULE_TYPE:0
;SCRIPT_TYPE:
;□□　　入力受け　　□□
;関連する入力受け(ｾﾝｻのﾃﾞｨﾚｲﾀｲﾏ等)を必要があれば作成する。
;通常は入力ﾕﾆｯﾄに入力時定数(ﾃﾞｨﾚｲ)があるので直接使用しても問題は無い。
LD X1364                 ; 収納ﾗｯｸ位置決め上昇端
MPS
TMR K501 K3              ; 基板収納ﾗｯｸ位置決め上昇端
MPP
AND T501                 ; 基板収納ﾗｯｸ位置決め上昇端
OUT M3401                ; 基板収納ﾗｯｸ位置決め上昇端
LD X1365                 ; 収納ﾗｯｸ位置決め下降端
MPS
TMR K502 K3              ; 基板収納ﾗｯｸ位置決め下降端
MPP
AND T502                 ; 基板収納ﾗｯｸ位置決め下降端
OUT M3402                ; 基板収納ﾗｯｸ位置決め下降端
LD X1363                 ; 収納ﾘﾌﾀｰﾗｯｸ到着確認
MPS
TMR K503 K5              ; 収納ﾘﾌﾀｰﾗｯｸ到着確認
MPP
AND T503                 ; 収納ﾘﾌﾀｰﾗｯｸ到着確認
OUT M3403                ; 収納ﾘﾌﾀｰﾗｯｸ到着確認
LD X1362                 ; 収納ﾘﾌﾀｰﾗｯｸ着座確認
MPS
TMR K504 K3              ; 収納ﾘﾌﾀｰﾗｯｸ確認
MPP
AND T504                 ; 収納ﾘﾌﾀｰﾗｯｸ確認
OUT M3404                ; 収納ﾘﾌﾀｰﾗｯｸ確認
;<h1/>□_収納ラックＩＤ
LD CR2002                ; 常時ON
MPS
AND X137C                ; 収納ﾘﾌﾀｰ ﾗｯｸID-1
OUT D3211.0
MRD
AND X137D                ; 収納ﾘﾌﾀｰ ﾗｯｸID-2
OUT D3211.1
MPP
AND X137E                ; 収納ﾘﾌﾀｰ ﾗｯｸID-3
OUT D3211.2
LD M3403                 ; 収納ﾘﾌﾀｰﾗｯｸ到着確認
AND X1365                ; 収納ﾗｯｸ位置決め下降端
AND Y2524                ; 収納ﾘﾌﾀﾗｯｸ位置決め上昇SOL
@MOV D3211 D3210         ; 収納ﾘﾌﾀｰ ﾗｯｸIDNo.入力  収納ﾘﾌﾀｰ ﾗｯｸIDNo.
LD X1365                 ; 収納ﾗｯｸ位置決め下降端
ANB Y2524                ; 収納ﾘﾌﾀﾗｯｸ位置決め上昇SOL
@MOV K0 D3210            ; 収納ﾘﾌﾀｰ ﾗｯｸIDNo.
LD M3375                 ; 収納ﾘﾌﾀ ﾗｯｸ確認
ANB M3                   ; OFFLINE_MODE
OUT W0103.10             ; 投入ｴﾚﾍﾞｰﾀｰ ﾗｯｸ有無
LD CR2002                ; 常時ON
MOV D3210 W0121          ; 収納ﾘﾌﾀｰ ﾗｯｸIDNo.  投入ｴﾚﾍﾞｰﾀｰ ﾗｯｸID
;基板投入ｲﾝﾃﾞｯｸｽNo.
LD M3403                 ; 収納ﾘﾌﾀｰﾗｯｸ到着確認
MOV D3300 W0138          ; 収納ﾘﾌﾄ_ﾗｯｸｲﾝﾃﾞｯｸｽNo.  基板投入ﾗｯｸｲﾝﾃﾞｯｸｽNo.
;ラック内基板確認
LD CR2002                ; 常時ON
WSUM D3301 K20           ; 収納ﾘﾌﾄ_ﾗｯｸ1段目ﾜｰｸ有記憶
CON
STA D3400                ; 収納ﾗｯｸ内基板有無ｶｳﾝﾄ確認
;ラック:基板別収納段数転送
LD CR2002                ; 常時ON
MOV E401 E90             ; 運転中_基板収納位置  運転中_ﾗｯｸ収納種類別段数(OFFSET)
;
LD= E400 K1              ; 運転中_ﾗｯｸID
MOV E901 E92             ; ﾗｯｸID1_収納幅種類数  運転中ﾗｯｸ収納幅種類数
LD= E400 K2              ; 運転中_ﾗｯｸID
MOV E902 E92             ; ﾗｯｸID2_収納幅種類数  運転中ﾗｯｸ収納幅種類数
LD= E400 K3              ; 運転中_ﾗｯｸID
MOV E903 E92             ; ﾗｯｸID3_収納幅種類数  運転中ﾗｯｸ収納幅種類数
LD= E400 K4              ; 運転中_ﾗｯｸID
MOV E904 E92             ; ﾗｯｸID4_収納幅種類数  運転中ﾗｯｸ収納幅種類数
LD= E400 K5              ; 運転中_ﾗｯｸID
MOV E905 E92             ; ﾗｯｸID5_収納幅種類数  運転中ﾗｯｸ収納幅種類数
LD= E400 K6              ; 運転中_ﾗｯｸID
MOV E906 E92             ; ﾗｯｸID6_収納幅種類数  運転中ﾗｯｸ収納幅種類数
LD= E400 K7              ; 運転中_ﾗｯｸID
MOV E907 E92             ; ﾗｯｸID7_収納幅種類数  運転中ﾗｯｸ収納幅種類数
;ﾗｯｸID別総段数
LD= D3210 K1             ; 収納ﾘﾌﾀｰ ﾗｯｸIDNo.
MOV E921 E94             ; ﾗｯｸID1_収納総段数  収納ﾘﾌﾄ_ﾗｯｸID別総段数
LD= D3210 K2             ; 収納ﾘﾌﾀｰ ﾗｯｸIDNo.
MOV E922 E94             ; ﾗｯｸID2_収納総段数  収納ﾘﾌﾄ_ﾗｯｸID別総段数
LD= D3210 K3             ; 収納ﾘﾌﾀｰ ﾗｯｸIDNo.
MOV E923 E94             ; ﾗｯｸID3_収納総段数  収納ﾘﾌﾄ_ﾗｯｸID別総段数
LD= D3210 K4             ; 収納ﾘﾌﾀｰ ﾗｯｸIDNo.
MOV E924 E94             ; ﾗｯｸID4_収納総段数  収納ﾘﾌﾄ_ﾗｯｸID別総段数
LD= D3210 K5             ; 収納ﾘﾌﾀｰ ﾗｯｸIDNo.
MOV E925 E94             ; ﾗｯｸID5_収納総段数  収納ﾘﾌﾄ_ﾗｯｸID別総段数
LD= D3210 K6             ; 収納ﾘﾌﾀｰ ﾗｯｸIDNo.
MOV E926 E94             ; ﾗｯｸID6_収納総段数  収納ﾘﾌﾄ_ﾗｯｸID別総段数
LD= D3210 K7             ; 収納ﾘﾌﾀｰ ﾗｯｸIDNo.
MOV E927 E94             ; ﾗｯｸID7_収納総段数  収納ﾘﾌﾄ_ﾗｯｸID別総段数
LD= D3210 K0             ; 収納ﾘﾌﾀｰ ﾗｯｸIDNo.
MOV K0 E94               ; 収納ﾘﾌﾄ_ﾗｯｸID別総段数
;収納段数計算
;'/// 収納ﾗｯｸ段数計算 ///
;IF D3210 <> 0 THEN
;D3052 = (( D3210.U- 1 ) * 20 + 10 )  'ﾗｯｸ別のﾎﾟｼﾞｼｮﾝｵﾌｾｯﾄ
;ELSE 
;D3052 = 0
;END IF
;
;D3054 = D3052 + K20 'ｾｯﾄ中ﾗｯｸ収納位置内ﾌﾗｸﾞ
;
LD CR2002                ; 常時ON
NCJ K1000
;'/// 収納ﾗｯｸ段数計算 ///
;
;IF D3210 <> 0 THEN
;
LD<> D3210 K0            ; 収納ﾘﾌﾀｰ ﾗｯｸIDNo.
NCJ K2000
;D3052 = (( D3210.U- 1 ) * 20 + 10 )  'ﾗｯｸ別のﾎﾟｼﾞｼｮﾝｵﾌｾｯﾄ
;
LD CR2002                ; 常時ON
LDA D3210                ; 収納ﾘﾌﾀｰ ﾗｯｸIDNo.
CON
EXT
CON
SUB.L +1
CON
MUL.L +20
CON
ADD.L +10
CON
STA D3052                ; 収納RB8_基板収納ｵﾌｾｯﾄPOS
;ELSE 
;
LD CR2002                ; 常時ON
CJ K2001
LABEL K2000
;D3052 = 0
;
LD CR2002                ; 常時ON
MOV K0 D3052             ; 収納RB8_基板収納ｵﾌｾｯﾄPOS
;END IF
;
LABEL K2001
;D3054 = D3052 + K20 'ｾｯﾄ中ﾗｯｸ収納位置内ﾌﾗｸﾞ
;
LD CR2002                ; 常時ON
LDA D3052                ; 収納RB8_基板収納ｵﾌｾｯﾄPOS
CON
EXT
CON
ADD.L +20
CON
STA D3054                ; 収納RB8_基板収納最大段数
LABEL K1000
;
;<h1/>□ 装置状態・動作条件
LDB M72                  ; 自動運転開始
LD M3470                 ; 収納ﾘﾌﾀｰRB8待機位置
OR M3472                 ; 収納ﾘﾌﾀｰRB8基板収納位置
LD M220                  ; ﾗｯｸ排出ﾓｰﾄﾞ選択中
AND M3471                ; 収納ﾘﾌﾀｰRB8乾燥炉位置
ORL
ANL
AND M3401                ; 基板収納ﾗｯｸ位置決め上昇端
OR M72                   ; 自動運転開始
OUT M3480                ; ﾕﾆｯﾄ5原点
;□ ｴﾗｰ(一時停止)
LDB B0A2                 ; 基板収納ﾗｯｸ位置決上下LS異常
ANB B0A3                 ; 基板収納ﾗｯｸCVｲﾝﾊﾞｰﾀ異常
ANB B0A4                 ; 収納ﾗｯｸ収納部基板有り異常
ANB B0A5                 ; 炉投入ﾗｯｸ通過ﾀｲﾑｱｳﾄ異常
ANB B0A9                 ; 収納ﾘﾌﾀﾗｯｸ排出未完了異常
ANB B0AA                 ; 基板収納未完了
INV
OUT M3481                ; ﾕﾆｯﾄ5ｴﾗｰ
;□ 起動条件
LD M3480                 ; ﾕﾆｯﾄ5原点
ANB M3486                ; ﾕﾆｯﾄ5ｻｲｸﾙ停止異常
ANB M3485                ; ﾕﾆｯﾄ5起動中
LDB M3493                ; 収納ﾘﾌﾀｰ払出停止完了
OR M3495                 ; 全ﾜｰｸ払出停止時ﾗｯｸ受取指令
OR M3497                 ; 全ﾜｰｸ払出停止時ﾗｯｸ排出指令
ANL
ANB M56                  ; 自動起動停止指令(ｻｲｸﾙ停止)
LD M215                  ; ﾗｯｸ投入ﾓｰﾄﾞ起動中
ANB M218                 ; ﾗｯｸ投入数上限以上停止指令
ORB M215                 ; ﾗｯｸ投入ﾓｰﾄﾞ起動中
ANL
OUT M3482                ; ﾕﾆｯﾄ5起動条件
;□ 起動OFF
LDB M50                  ; 運転準備
LD M60                   ; ｴﾗｰ発生
AND M3484                ; ﾕﾆｯﾄ5原点復帰中
ORL
OR M3486                 ; ﾕﾆｯﾄ5ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M3483                ; ﾕﾆｯﾄ5起動OFF
;□ ｻｲｸﾙ停止異常
LDB B0A1                 ; RB8_ｱﾗｰﾑ(ALM)異常
ANB B0A6                 ; 収納ﾗｯｸ基板はみだし異常
ANB B0A7                 ; RB8移動中収納ﾗｯｸ基板はみだし異常
ANB B0A8                 ; 収納ﾗｯｸ基板押込み異常
ANB B0AC                 ; ﾗｯｸ総段数設定異常
ANB B0AD                 ; ﾗｯｸID別設定項目異常
INV
LD M2496                 ; ﾕﾆｯﾄ3ｻｲｸﾙ停止異常記憶
AND M3360                ; 塗布部へ供給要求
ORL
OUT M3486                ; ﾕﾆｯﾄ5ｻｲｸﾙ停止異常
LD M3486                 ; ﾕﾆｯﾄ5ｻｲｸﾙ停止異常
ANB M3485                ; ﾕﾆｯﾄ5起動中
OR M3496                 ; ﾕﾆｯﾄ5ｻｲｸﾙ停止異常記憶
AND M41                  ; 全ﾕﾆｯﾄ起動中
OUT M3496                ; ﾕﾆｯﾄ5ｻｲｸﾙ停止異常記憶
;□ 払出停止異常
LDB CR2003               ; 常時OFF
INV
OUT M3487                ; ﾕﾆｯﾄ5払出停止異常
;□ 警報補助
LDB CR2003               ; 常時OFF
INV
OUT M3488                ; ﾕﾆｯﾄ5警報補助
;□ 機器準備確認
LDB X112C                ; RB8_BUSY
AND X112F                ; RB8_SRV-S
AND X112E                ; RB8_/ALM
OUT M3490                ; ﾕﾆｯﾄ5機器準備完了
;□ ｴﾗｰ発生　非常停止扱い
LDB B0A0                 ; 収納ﾘﾌﾄ原点復帰ﾀｲﾑｱｳﾄ異常
ANB B0AB                 ; ﾗｯｸ収納時ﾜｰｸ未検出異常
INV
OUT M3491                ; ﾕﾆｯﾄ5即停止異常発生
;<h1/>____▼_払出しﾜｰｸ無し
LD M36                   ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
LDB M3403                ; 収納ﾘﾌﾀｰﾗｯｸ到着確認
ANB M3404                ; 収納ﾘﾌﾀｰﾗｯｸ確認
ORB M190                 ; 全ﾜｰｸ払出停止指令
OR M192                  ; ﾛｯﾄ切替用ｻｲｸﾙ停止指令
AND M3401                ; 基板収納ﾗｯｸ位置決め上昇端
OR= D3400 K0             ; 収納ﾗｯｸ内基板有無ｶｳﾝﾄ確認
OR M3993                 ; 乾燥炉払出停止
ANL
TMR K514 K10             ; UNIT5払出処理ﾜｰｸ無
LD M3200                 ; S200_払出ｻｲｸﾙ停止終了
AND T514                 ; UNIT5払出処理ﾜｰｸ無
AND M3494                ; 前工程ﾜｰｸ無し
OR M3493                 ; 収納ﾘﾌﾀｰ払出停止完了
AND M36                  ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
OR M3496                 ; ﾕﾆｯﾄ5ｻｲｸﾙ停止異常記憶
OUT M3493                ; 収納ﾘﾌﾀｰ払出停止完了
LD M1993                 ; ﾜｰｸ投入部払出完了
AND M2493                ; 基板反転&搬送払出完了
AND M2993                ; 塗布RB部払出終了完了
LDB M71                  ; 自動運転開始BZ
AND M36                  ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
ORL
OUT M3494                ; 前工程ﾜｰｸ無し
LDB M3970                ; 炉入口側_ﾗｯｸ内ﾜｰｸ有
ANB M3971                ; 炉出口側_ﾗｯｸ内ﾜｰｸ有
INV
AND M190                 ; 全ﾜｰｸ払出停止指令
AND M3791                ; 乾燥炉2_乾燥時間到達
AND M4062                ; S062_ﾘﾀｰﾝCVへ排出要求
AND M5405                ; ﾘﾀｰﾝCVｴｽｹｰﾌﾟ通過確認
AND M5406                ; ﾘﾀｰﾝCVｽﾄｯﾊﾟｰ到着確認
AND M3493                ; 収納ﾘﾌﾀｰ払出停止完了
MPS
ANB M3403                ; 収納ﾘﾌﾀｰﾗｯｸ到着確認
OUT M3495                ; 全ﾜｰｸ払出停止時ﾗｯｸ受取指令
MPP
AND M3375                ; 収納ﾘﾌﾀ ﾗｯｸ確認
OUT M3497                ; 全ﾜｰｸ払出停止時ﾗｯｸ排出指令
;<h1/>____▼_収納ﾗｯｸ排出時間ｶｳﾝﾄ
LD<> D3400 K0            ; 収納ﾗｯｸ内基板有無ｶｳﾝﾄ確認
AND M3375                ; 収納ﾘﾌﾀ ﾗｯｸ確認
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
AND L500                 ; 収納ﾗｯｸ交換時間有効選択
AND M72                  ; 自動運転開始
ANB X1352                ; 基板投入/振動部ﾜｰｸ確認(ON有)
AND= D1612 K0            ; 投入部_基板有無記憶(1=有)
AND= D2112 K0            ; ﾊﾞｯﾌｧ部_基板有無記憶(1=有)
AND= D2612 K0            ; 塗布部_基板有無記憶(1=有)
AND<> D3450 K0           ; 収納ﾗｯｸ運転停止時間設定値
ANB M190                 ; 全ﾜｰｸ払出停止指令
AND<= D3040 D3450        ; 収納ﾗｯｸﾜｰｸ待ちｶｳﾝﾄ  収納ﾗｯｸ運転停止時間設定値
MPS
@INC D3040               ; 収納ﾗｯｸﾜｰｸ待ちｶｳﾝﾄ
MPP
AND<> D3042 K0           ; 収納ﾗｯｸﾜｰｸ待ちｶｳﾝﾄﾀﾞｳﾝ
@DEC D3042               ; 収納ﾗｯｸﾜｰｸ待ちｶｳﾝﾄﾀﾞｳﾝ
LDB M3375                ; 収納ﾘﾌﾀ ﾗｯｸ確認
ORB M72                  ; 自動運転開始
OR M3361                 ; 塗布部へ供給完了待ち
OR M190                  ; 全ﾜｰｸ払出停止指令
MOV K0 D3040             ; 収納ﾗｯｸﾜｰｸ待ちｶｳﾝﾄ
MOV D3450 D3042          ; 収納ﾗｯｸ運転停止時間設定値  収納ﾗｯｸﾜｰｸ待ちｶｳﾝﾄﾀﾞｳﾝ
LD>= D3040 D3450         ; 収納ﾗｯｸﾜｰｸ待ちｶｳﾝﾄ  収納ﾗｯｸ運転停止時間設定値
AND L500                 ; 収納ﾗｯｸ交換時間有効選択
AND<> D3450 K0           ; 収納ﾗｯｸ運転停止時間設定値
AND M72                  ; 自動運転開始
OUT M3460                ; 基板待ちﾀｲﾑｱｯﾌﾟ自動運転停止ﾌﾗｸﾞ
;□ ｽﾃｯﾌﾟ起動
;□ 原点復帰
LDP M82                  ; 原点復帰開始
ANB M3484                ; ﾕﾆｯﾄ5原点復帰中
OR M3484                 ; ﾕﾆｯﾄ5原点復帰中
ANB M3483                ; ﾕﾆｯﾄ5起動OFF
ANB M3481                ; ﾕﾆｯﾄ5ｴﾗｰ
ANB M3249                ; S249_ｻｲｸﾙ終了
MPS
OUT M3484                ; ﾕﾆｯﾄ5原点復帰中
MPP
AND M401                 ; 扉閉ﾃﾞｨﾚｰON
TMR K500 K900            ; 収納ﾘﾌﾄ原点復帰ﾀｲﾑｱｳﾄ
;□ 起動中
LD M73                   ; 主幹起動指令
OR M215                  ; ﾗｯｸ投入ﾓｰﾄﾞ起動中
OR M225                  ; ﾗｯｸ排出ﾓｰﾄﾞ動作中
AND M3482                ; ﾕﾆｯﾄ5起動条件
OR M3485                 ; ﾕﾆｯﾄ5起動中
ANB M3483                ; ﾕﾆｯﾄ5起動OFF
ANB M3249                ; S249_ｻｲｸﾙ終了
OUT M3485                ; ﾕﾆｯﾄ5起動中
;□□□□□□□□□□□□□□□
;□　　 　UNIT5自動回路  　　□
;□□□□□□□□□□□□□□□
;<h1/>□_自動運転回路
LD= D3000 D3005          ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ5動作中判定
AND X112D                ; RB8_END
ANB Y2425                ; 収納ﾘﾌﾀCV正転ON
ORB M3485                ; ﾕﾆｯﾄ5起動中
TMR K510 K20             ; 乾燥炉1動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D3000 D3005          ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ5動作中判定
LD T510                  ; 乾燥炉1動作無し判定ﾀｲﾏ
OUT M3492                ; ﾕﾆｯﾄ5動作無し確認
;□
;□　ﾕﾆｯﾄ5 自動運転ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M3000 K18        ; S000_ 
LDB M3484                ; ﾕﾆｯﾄ5原点復帰中
ANB M3485                ; ﾕﾆｯﾄ5起動中
MOV K0 D3000             ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3484                 ; ﾕﾆｯﾄ5原点復帰中
OR M3485                 ; ﾕﾆｯﾄ5起動中
MPS
MOV D3000 Z1             ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
ANB M140                 ; 一時停止中_ﾄﾞｱﾛｯｸ開
SET M3000:Z1             ; S000_ 
;
LD M3000                 ; S000_ 
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3001                 ; S001_
ANB M130                 ; 一時停止
MPS
ANB M3484                ; ﾕﾆｯﾄ5原点復帰中
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LD M84                   ; 原点復帰起動確認
AND M3484                ; ﾕﾆｯﾄ5原点復帰中
AND M84                  ; 原点復帰起動確認
ANL
MOV K250 D3000           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;<h1/>____▼_S002_動作分岐
LD> D3010 E402           ; ﾗｯｸ収納枚数  運転中_基板収納枚数
AND<> D3400 K0           ; 収納ﾗｯｸ内基板有無ｶｳﾝﾄ確認
OUT M3380                ; 収納ﾗｯｸ内基板満杯
LD CR2002                ; 常時ON
MPS
AND<> D3010 K0           ; ﾗｯｸ収納枚数
LDA D3010                ; ﾗｯｸ収納枚数
CON
SUB K1
CON
STA D3014                ; ﾗｯｸ収納中段数表示用
MPP
AND= D3010 K0            ; ﾗｯｸ収納枚数
MOV K0 D3014             ; ﾗｯｸ収納中段数表示用
LD<> D3400 K0            ; 収納ﾗｯｸ内基板有無ｶｳﾝﾄ確認
AND M3494                ; 前工程ﾜｰｸ無し
OUT M3381                ; 収納ﾗｯｸ内基板有り&前工程基板無し
LD X1362                 ; 収納ﾘﾌﾀｰﾗｯｸ着座確認
AND M3403                ; 収納ﾘﾌﾀｰﾗｯｸ到着確認
AND M3401                ; 基板収納ﾗｯｸ位置決め上昇端
OUT M3375                ; 収納ﾘﾌﾀ ﾗｯｸ確認
;動作内容
;S003・・・ﾘﾀｰﾝCVからﾗｯｸ受取
;S018・・・ﾗｯｸ受取完了後の分岐へ
;S050・・・ﾗｯｸ払出処理
;S248・・・ｻｲｸﾙ停止処理
LD M3002                 ; S002_
ANB M130                 ; 一時停止
MPS
LDB X1362                ; 収納ﾘﾌﾀｰﾗｯｸ着座確認
ANB M3403                ; 収納ﾘﾌﾀｰﾗｯｸ到着確認
AND M3401                ; 基板収納ﾗｯｸ位置決め上昇端
LDB M36                  ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
LD M36                   ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
ANB M3494                ; 前工程ﾜｰｸ無し
ORL
OR M3495                 ; 全ﾜｰｸ払出停止時ﾗｯｸ受取指令
ANL
ANL
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MRD
LDB M3380                ; 収納ﾗｯｸ内基板満杯
AND M3375                ; 収納ﾘﾌﾀ ﾗｯｸ確認
AND= D3323 K0            ; 収納ﾘﾌﾄ_不明基板有記憶(1:有)
ANB M3497                ; 全ﾜｰｸ払出停止時ﾗｯｸ排出指令
ANL
MOV K18 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MRD
LD M3375                 ; 収納ﾘﾌﾀ ﾗｯｸ確認
LD M3380                 ; 収納ﾗｯｸ内基板満杯
OR<> D3323 K0            ; 収納ﾘﾌﾄ_不明基板有記憶(1:有)
LD<> D3325 E0            ; 収納ﾘﾌﾄ_選択中品種ID  選択中機種NO.
AND<> D3325 K0           ; 収納ﾘﾌﾄ_選択中品種ID
ORL
LD M36                   ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
AND M3381                ; 収納ﾗｯｸ内基板有り&前工程基板無し
ANB M2380                ; 基板収納RB4基板収中→
ORL
OR M3497                 ; 全ﾜｰｸ払出停止時ﾗｯｸ排出指令
OR M215                  ; ﾗｯｸ投入ﾓｰﾄﾞ起動中
OR M225                  ; ﾗｯｸ排出ﾓｰﾄﾞ動作中
ANL
ANL
MOV K50 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LD M36                   ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
AND T514                 ; UNIT5払出処理ﾜｰｸ無
AND M3494                ; 前工程ﾜｰｸ無し
ANB M3495                ; 全ﾜｰｸ払出停止時ﾗｯｸ受取指令
ANB M3497                ; 全ﾜｰｸ払出停止時ﾗｯｸ排出指令
ANL
MOV K200 D3000           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;<h1/>____▼_S003_ﾘﾀｰﾝCVからﾗｯｸ受取
LD M3003                 ; S003_
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3004                 ; S004_
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3005                 ; S005_
ANB M130                 ; 一時停止
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3006                 ; S006_基板収納RB8_指令POSｾｯﾄ
ANB M130                 ; 一時停止
LD M2450                 ; 基板収納RB4待機位置
LD M215                  ; ﾗｯｸ投入ﾓｰﾄﾞ起動中
OR M225                  ; ﾗｯｸ排出ﾓｰﾄﾞ動作中
AND M2453                ; 基板収納RB4搬送ﾊﾝﾄﾞ上昇位置
ORL
ANL
AND M3300                ; 収納ﾘﾌﾀRB8動作可条件
AND X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
AND X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
AND M5404                ; ﾘﾀｰﾝCVｽﾄｯﾊﾟｰ上昇端
@MOV K1 D3020            ; 基板収納RB8_指令POS
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3007                 ; S007_基板収納RB8ﾗｯｸ収納位置移動
AND M3420                ; 収納ﾘﾌﾀｰRB8_動作中
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3008                 ; S008_
ANB M3420                ; 収納ﾘﾌﾀｰRB8_動作中
AND M3473                ; 収納ﾘﾌﾀｰRB8ﾗｯｸ受取位置(P1)
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3009                 ; S009_基板収納ﾗｯｸ位置決め下降
ANB M130                 ; 一時停止
AND M3402                ; 基板収納ﾗｯｸ位置決め下降端
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3010                 ; S010_
MPS
LDB M36                  ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
ORB M3494                ; 前工程ﾜｰｸ無し
OR M3495                 ; 全ﾜｰｸ払出停止時ﾗｯｸ受取指令
ANB M3403                ; 収納ﾘﾌﾀｰﾗｯｸ到着確認
ANL
OUT M3350                ; 収納ﾘﾌﾀｰ ﾘﾀｰﾝCVへﾗｯｸ供給要求
MRD
AND M5350                ; 収納ﾘﾌﾀｰへ排出中
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LDB M5350                ; 収納ﾘﾌﾀｰへ排出中
AND M36                  ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
AND T514                 ; UNIT5払出処理ﾜｰｸ無
AND M3494                ; 前工程ﾜｰｸ無し
ANB M3495                ; 全ﾜｰｸ払出停止時ﾗｯｸ受取指令
ANL
MOV K200 D3000           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3011                 ; S011_ﾗｯｸ受取待ち
AND M3403                ; 収納ﾘﾌﾀｰﾗｯｸ到着確認
ANB Y2425                ; 収納ﾘﾌﾀCV正転ON
ANB M5350                ; 収納ﾘﾌﾀｰへ排出中
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3012                 ; S012_
MPS
AND= D3200 K0            ; 基板収納ﾗｯｸ ｲﾝﾃﾞｯｸｽNo.
@MOV K1 D3200            ; 基板収納ﾗｯｸ ｲﾝﾃﾞｯｸｽNo.
MRD
AND> D3200 K9            ; 基板収納ﾗｯｸ ｲﾝﾃﾞｯｸｽNo.
@MOV K1 D3200            ; 基板収納ﾗｯｸ ｲﾝﾃﾞｯｸｽNo.
MPP
LD<> D3200 K0            ; 基板収納ﾗｯｸ ｲﾝﾃﾞｯｸｽNo.
AND<= D3200 K9           ; 基板収納ﾗｯｸ ｲﾝﾃﾞｯｸｽNo.
ANL
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3013                 ; S013_
@MOV D3200 D3300         ; 基板収納ﾗｯｸ ｲﾝﾃﾞｯｸｽNo.  収納ﾘﾌﾄ_ﾗｯｸｲﾝﾃﾞｯｸｽNo.
INC D3200                ; 基板収納ﾗｯｸ ｲﾝﾃﾞｯｸｽNo.
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3014                 ; S014_基板収納ﾗｯｸ位置決め上昇
ANB M130                 ; 一時停止
AND M3401                ; 基板収納ﾗｯｸ位置決め上昇端
AND X1362                ; 収納ﾘﾌﾀｰﾗｯｸ着座確認
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3015                 ; S015_
@MOV K1 D3010            ; ﾗｯｸ収納枚数
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3016                 ; S016_
ANB M130                 ; 一時停止
MOV K18 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;<h1/>____▼_S018_ﾗｯｸID読取
LD M3018                 ; S018_ﾗｯｸID読取
@MOV D3210 D3321         ; 収納ﾘﾌﾀｰ ﾗｯｸIDNo.  収納ﾘﾌﾄ_排出ﾗｯｸ ID記憶
MPS
AND= D3300 K0            ; 収納ﾘﾌﾄ_ﾗｯｸｲﾝﾃﾞｯｸｽNo.
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND<> D3300 K0           ; 収納ﾘﾌﾄ_ﾗｯｸｲﾝﾃﾞｯｸｽNo.
MOV K21 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3019                 ; S019_
@MOV D3200 D3300         ; 基板収納ﾗｯｸ ｲﾝﾃﾞｯｸｽNo.  収納ﾘﾌﾄ_ﾗｯｸｲﾝﾃﾞｯｸｽNo.
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3020                 ; S020_基板収納ﾗｯｸ位置決め上昇
MPS
@INC D3200               ; 基板収納ﾗｯｸ ｲﾝﾃﾞｯｸｽNo.
MPP
AND M3401                ; 基板収納ﾗｯｸ位置決め上昇端
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3021                 ; S021_
MPS
LDB M3380                ; 収納ﾗｯｸ内基板満杯
AND= D3323 K0            ; 収納ﾘﾌﾄ_不明基板有記憶(1:有)
ANB M215                 ; ﾗｯｸ投入ﾓｰﾄﾞ起動中
ANB M225                 ; ﾗｯｸ排出ﾓｰﾄﾞ動作中
ANL
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LD M3380                 ; 収納ﾗｯｸ内基板満杯
OR<> D3323 K0            ; 収納ﾘﾌﾄ_不明基板有記憶(1:有)
OR M215                  ; ﾗｯｸ投入ﾓｰﾄﾞ起動中
OR M225                  ; ﾗｯｸ排出ﾓｰﾄﾞ動作中
ANL
MOV K50 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;<h1/>____▼_S022_ﾗｯｸ受取後の動作分岐
;動作内容
;S023・・・基板受取(基板収納RB4の収納動作許可)
;S049・・・ﾗｯｸID不一致
;S050・・・ﾗｯｸ払出処理
;S100・・・塗布部ﾜｰｸ無･中間ﾊﾞｯﾌｧﾜｰｸ有時のﾜｰｸ受取
;S248・・・ｻｲｸﾙ停止処理
LD M3022                 ; S022_
ANB M130                 ; 一時停止
AND M3375                ; 収納ﾘﾌﾀ ﾗｯｸ確認
ANB M2380                ; 基板収納RB4基板収中→
MPS
AND M2450                ; 基板収納RB4待機位置
MPS
AND= D2612 K1            ; 塗布部_基板有無記憶(1=有)
MPS
AND= D3210 D2603         ; 収納ﾘﾌﾀｰ ﾗｯｸIDNo.  塗布部_ﾗｯｸID記憶
MOV K30 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND<> D3210 D2603        ; 収納ﾘﾌﾀｰ ﾗｯｸIDNo.  塗布部_ﾗｯｸID記憶
MOV K49 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LD= D2612 K0             ; 塗布部_基板有無記憶(1=有)
AND= D2112 K1            ; ﾊﾞｯﾌｧ部_基板有無記憶(1=有)
ANL
MPS
AND= D3210 D2103         ; 収納ﾘﾌﾀｰ ﾗｯｸIDNo.  ﾊﾞｯﾌｧ部_ﾗｯｸID記憶
MOV K30 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND<> D3210 D2103        ; 収納ﾘﾌﾀｰ ﾗｯｸIDNo.  ﾊﾞｯﾌｧ部_ﾗｯｸID記憶
MOV K49 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MRD
LD M190                  ; 全ﾜｰｸ払出停止指令
AND M3381                ; 収納ﾗｯｸ内基板有り&前工程基板無し
ANB M3909                ; 乾燥炉ｽﾄｯﾊﾟｰ1(投入側)ﾗｯｸ有確認
ANL
MOV K50 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LD M36                   ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
AND T514                 ; UNIT5払出処理ﾜｰｸ無
AND M3494                ; 前工程ﾜｰｸ無し
ANL
MOV K200 D3000           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;<h1/>____▼_S030_ﾗｯｸ内基板確認
LD M3030                 ; S030_ﾗｯｸ内基板確認
DW K0 D3016              ; ﾗｯｸID違い連続数ｶｳﾝﾄ
MPS
ANB L410                 ; ｻｰﾁ完了記憶
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
@MOV K1 D3012            ; ｻｰﾁ段数記憶
@MOV K0 Z8
MPP
AND L410                 ; ｻｰﾁ完了記憶
MOV K23 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3031                 ; S031_ﾗｯｸ内基板確認完了
ANB M130                 ; 一時停止
AND M2450                ; 基板収納RB4待機位置
AND M3300                ; 収納ﾘﾌﾀRB8動作可条件
AND X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
AND X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
AND M5404                ; ﾘﾀｰﾝCVｽﾄｯﾊﾟｰ上昇端
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
@CAL+ D3012 D3052 D3020  ; ｻｰﾁ段数記憶  収納RB8_基板収納ｵﾌｾｯﾄPOS  基板収納RB8_指令POS
LD M3032                 ; S032_ｻｰﾁ段数位置移動指令
AND M3420                ; 収納ﾘﾌﾀｰRB8_動作中
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3033                 ; S033_
ANB M3420                ; 収納ﾘﾌﾀｰRB8_動作中
AND X112D                ; RB8_END
ANB X112C                ; RB8_BUSY
AND= D3024 D3022         ; 基板収納RB8_完了POS  基板収納RB8_転送POS
MPS
TMR K521 K3              ; 収納ﾘﾌﾀｰﾗｯｸ内基板在籍確認ﾃﾞｨﾚｰ
MPP
AND T521                 ; 収納ﾘﾌﾀｰﾗｯｸ内基板在籍確認ﾃﾞｨﾚｰ
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3034                 ; S034_
MPS
ANB X137F                ; 収納ﾘﾌﾀｰﾗｯｸ内基板在籍確認(ON有)
MOV K36 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND X137F                ; 収納ﾘﾌﾀｰﾗｯｸ内基板在籍確認(ON有)
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3035                 ; S035_ﾗｯｸ内基板取出し要求
ANB M130                 ; 一時停止
ANB X137F                ; 収納ﾘﾌﾀｰﾗｯｸ内基板在籍確認(ON有)
ANB B0A4                 ; 収納ﾗｯｸ収納部基板有り異常
TMR K505 K5              ; 扉閉確認時間
CON
AND T505                 ; 扉閉確認時間
MOV K34 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3036                 ; S036_
MPS
AND>= D3012 E94          ; ｻｰﾁ段数記憶  収納ﾘﾌﾄ_ﾗｯｸID別総段数
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND< D3012 E94           ; ｻｰﾁ段数記憶  収納ﾘﾌﾄ_ﾗｯｸID別総段数
MOV K31 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
@INC D3012               ; ｻｰﾁ段数記憶
LD M3037                 ; S037_ｻｰﾁ完了記憶
SET L410                 ; ｻｰﾁ完了記憶
CON
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD T1                    ; ﾒｲﾝ画面切替時間
ANB M3403                ; 収納ﾘﾌﾀｰﾗｯｸ到着確認
RES L410                 ; ｻｰﾁ完了記憶
LD M3038                 ; S038_
MOV K23 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;<h1/>____▼_S023_基板受取動作
LD M3023                 ; S023_収納ﾘﾌﾀｰ基板はみ出し確認
ANB M130                 ; 一時停止
AND M2450                ; 基板収納RB4待機位置
AND M3300                ; 収納ﾘﾌﾀRB8動作可条件
AND X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
AND X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
AND M5404                ; ﾘﾀｰﾝCVｽﾄｯﾊﾟｰ上昇端
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;'/// 収納段数 ////
;D3020.U = ( D3010.U - K1 ) * E92 + E90 + D3052
LD M3024                 ; S024_
MPS
AND= D3010 K0            ; ﾗｯｸ収納枚数
MOV K1 D3010             ; ﾗｯｸ収納枚数
MPP
AND<> D3010 K0           ; ﾗｯｸ収納枚数
NCJ K1001
;'/// 収納段数 ////
;
;D3020.U = ( D3010.U - K1 ) * E92 + E90 + D3052
LD CR2002                ; 常時ON
LDA D3010                ; ﾗｯｸ収納枚数
CON
EXT
CON
SUB.L +1
CON
STA.L @VM0
CON
LDA E92                  ; 運転中ﾗｯｸ収納幅種類数
CON
EXT
CON
MUL.L @VM0
CON
STA.L @VM2
CON
LDA E90                  ; 運転中_ﾗｯｸ収納種類別段数(OFFSET)
CON
EXT
CON
ADD.L @VM2
CON
STA.L @VM4
CON
LDA D3052                ; 収納RB8_基板収納ｵﾌｾｯﾄPOS
CON
EXT
CON
ADD.L @VM4
CON
STA D3020                ; 基板収納RB8_指令POS
LABEL K1001
;
LD M3024                 ; S024_
CAL- D3020 D3052 W013B   ; 基板収納RB8_指令POS  収納RB8_基板収納ｵﾌｾｯﾄPOS  投入ﾗｯｸ基板投入段数
LD M3024                 ; S024_
ANB M3380                ; 収納ﾗｯｸ内基板満杯
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3025                 ; S025_基板収納RB8基板収納位置移動
AND M3420                ; 収納ﾘﾌﾀｰRB8_動作中
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3026                 ; S026_
ANB M3420                ; 収納ﾘﾌﾀｰRB8_動作中
AND= D3020 D3024         ; 基板収納RB8_指令POS  基板収納RB8_完了POS
AND M3472                ; 収納ﾘﾌﾀｰRB8基板収納位置
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;供給前にﾗｯｸ内の基板が無いことを確認
LD M3027                 ; S027_ﾗｯｸ内基板有無確認
MPS
ANB X137F                ; 収納ﾘﾌﾀｰﾗｯｸ内基板在籍確認(ON有)
MOV K40 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND X137F                ; 収納ﾘﾌﾀｰﾗｯｸ内基板在籍確認(ON有)
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;  ▽_不明基板有処理
LD M3028                 ; S028_収納ﾗｯｸ収納部基板有り異常ON
@MOV K1 D3323            ; 収納ﾘﾌﾄ_不明基板有記憶(1:有)
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3029                 ; S029_乾燥炉へ排出処理へ
MOV K50 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;<h1/>____▼_S040_基板要求
;S050←ﾗｯｸ払出時間がきたら
;S049←基板のﾗｯｸ情報とﾗｯｸIDが違う場合
;S248←ｻｲｸﾙ停止処理
LD M3040                 ; S040_基板供給待ち
ANB M130                 ; 一時停止
OUT M3360                ; 塗布部へ供給要求
MPS
AND M2380                ; 基板収納RB4基板収中→
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LDB M2380                ; 基板収納RB4基板収中→
AND M2450                ; 基板収納RB4待機位置
ANL
MPS
LD M190                  ; 全ﾜｰｸ払出停止指令
AND M3381                ; 収納ﾗｯｸ内基板有り&前工程基板無し
ANB M3909                ; 乾燥炉ｽﾄｯﾊﾟｰ1(投入側)ﾗｯｸ有確認
ANL
MOV K50 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LD M36                   ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
AND T514                 ; UNIT5払出処理ﾜｰｸ無
AND M3494                ; 前工程ﾜｰｸ無し
ANL
MOV K200 D3000           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3041                 ; S041_基板収納待ち
MPS
OUT M3361                ; 塗布部へ供給完了待ち
MPP
AND M2381                ; 基板収納RB4基板収納完了
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3042                 ; S042_ﾗｯｸ内基板有無分岐
MPS
AND= D3112 K1            ; 収納ﾘﾌﾄ_基板有無記憶(1=有)
MPS
LD X137F                 ; 収納ﾘﾌﾀｰﾗｯｸ内基板在籍確認(ON有)
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LDB X137F                ; 収納ﾘﾌﾀｰﾗｯｸ内基板在籍確認(ON有)
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
OUT M3450                ; ﾗｯｸ収納時ﾜｰｸ未検出異常
MPP
AND= D3112 K0            ; 収納ﾘﾌﾄ_基板有無記憶(1=有)
MOV K44 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3043                 ; S043_ﾃﾞｰﾀ書込ﾗｯｸ段数ｱｯﾌﾟ
@MOV W013B Z3            ; 投入ﾗｯｸ基板投入段数
@MOV K1 D3300:Z3         ; 収納ﾘﾌﾄ_ﾗｯｸｲﾝﾃﾞｯｸｽNo.
@MOV D3105 D3325         ; 収納ﾘﾌﾄ_品種No.  収納ﾘﾌﾄ_選択中品種ID
@INC D3010               ; ﾗｯｸ収納枚数
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3044                 ; S044_基板押込み確認
ANB M130                 ; 一時停止
AND M2450                ; 基板収納RB4待機位置
ANB M2380                ; 基板収納RB4基板収中→
AND X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
AND X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
AND M5404                ; ﾘﾀｰﾝCVｽﾄｯﾊﾟｰ上昇端
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3045                 ; S045_ﾃﾞｰﾀｸﾘｱｰ
@FMOV K0 D3100 K20       ; 収納ﾘﾌﾄ_基板ｲﾝﾃﾞｯｸｽNO.
MOV K248 D3000           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;____▼_S049_ﾗｯｸID違い
LD M3049                 ; S049_ﾗｯｸID違い記憶ON
INC D3016                ; ﾗｯｸID違い連続数ｶｳﾝﾄ
MPS
AND>= D3016 D3452        ; ﾗｯｸID違い連続数ｶｳﾝﾄ  ﾗｯｸID違い発報までの回数設定値
@MOV K1 D3322            ; 収納ﾘﾌﾄ_ﾗｯｸID違い記憶(1:ID違い)
MPP
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;<h1/>____▼_S050_乾燥炉へ排出処理
LD M3050                 ; S050_ﾗｯｸ乾燥炉へ排出動作
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3051                 ; S051_基板収納RB8_指令POSｾｯﾄ
ANB M130                 ; 一時停止
AND M2450                ; 基板収納RB4待機位置
AND M3300                ; 収納ﾘﾌﾀRB8動作可条件
AND X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
AND X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
AND M5404                ; ﾘﾀｰﾝCVｽﾄｯﾊﾟｰ上昇端
@MOV K2 D3020            ; 基板収納RB8_指令POS
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3052                 ; S052_基板収納RB8乾燥炉位置移動
AND M3420                ; 収納ﾘﾌﾀｰRB8_動作中
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3053                 ; S053_
ANB M3420                ; 収納ﾘﾌﾀｰRB8_動作中
AND M3471                ; 収納ﾘﾌﾀｰRB8乾燥炉位置
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3054                 ; S054_乾燥炉へﾗｯｸ排出要求
ANB M130                 ; 一時停止
OUT M3370                ; 収納ﾘﾌﾀｰ→乾燥炉へﾗｯｸ排出要求
MPS
LD M3850                 ; 収納ﾗｯｸへﾗｯｸ供給可
AND M3901                ; 乾燥炉投入側ｼｬｯﾀｰ開端
ANL
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND M3993                ; 乾燥炉払出停止
MOV K200 D3000           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3055                 ; S055_基板収納ﾗｯｸ位置決め下降
ANB M130                 ; 一時停止
AND M3402                ; 基板収納ﾗｯｸ位置決め下降端
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3056                 ; S056_乾燥炉へﾗｯｸ排出中
MPS
@MOV K1 D3130            ; 乾燥炉へﾗｯｸ排出中記憶
MPP
LD M3371                 ; 乾燥炉へﾗｯｸ排出中
AND Y2426                ; 収納ﾘﾌﾀCV逆転ON
AND Y2420                ; 乾燥炉CV移動ON
ANL
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3056                 ; S056_乾燥炉へﾗｯｸ排出中
OR M3371                 ; 乾燥炉へﾗｯｸ排出中
ANB M3060                ; S060_乾燥炉へﾗｯｸ排出中OFF
AND M3485                ; ﾕﾆｯﾄ5起動中
OUT M3371                ; 乾燥炉へﾗｯｸ排出中
LD M3057                 ; S057_ﾃﾞｰﾀｼﾌﾄ
@BMOV D3300 D3600 K30    ; 収納ﾘﾌﾄ_ﾗｯｸｲﾝﾃﾞｯｸｽNo.  炉入口側_ﾗｯｸｲﾝﾃﾞｯｸｽNo.
@FMOV K0 D3300 K30       ; 収納ﾘﾌﾄ_ﾗｯｸｲﾝﾃﾞｯｸｽNo.
@MOV K0 D3040            ; 収納ﾗｯｸﾜｰｸ待ちｶｳﾝﾄ
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3058                 ; S058_
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3059                 ; S059_炉投入側ﾗｯｸ到着確認
AND M3909                ; 乾燥炉ｽﾄｯﾊﾟｰ1(投入側)ﾗｯｸ有確認
AND X1366                ; 炉投入側ｼｬｯﾀｰﾗｯｸ通過確認
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3060                 ; S060_乾燥炉へﾗｯｸ排出中OFF
MPS
@MOV K0 D3130            ; 乾燥炉へﾗｯｸ排出中記憶
MPP
LDB M130                 ; 一時停止
ANB M3371                ; 乾燥炉へﾗｯｸ排出中
ANB Y2426                ; 収納ﾘﾌﾀCV逆転ON
ANB Y2420                ; 乾燥炉CV移動ON
AND= D3130 K0            ; 乾燥炉へﾗｯｸ排出中記憶
ANL
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3061                 ; S061_収納ﾗｯｸへﾗｯｸ供給可OFF確認
ANB M3850                ; 収納ﾗｯｸへﾗｯｸ供給可
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3062                 ; S062_乾燥炉投入側ｼｬｯﾀ開端OFF確認
ANB M3901                ; 乾燥炉投入側ｼｬｯﾀｰ開端
MOV K70 D3000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;<h1/>____▼_S070_ﾗｯｸ受取位置へ移動
LD M3070                 ; S070_基板収納RB8_指令POSｾｯﾄ
ANB M130                 ; 一時停止
AND M2450                ; 基板収納RB4待機位置
AND M3300                ; 収納ﾘﾌﾀRB8動作可条件
AND X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
AND X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
AND M5404                ; ﾘﾀｰﾝCVｽﾄｯﾊﾟｰ上昇端
@MOV K1 D3020            ; 基板収納RB8_指令POS
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3071                 ; S071_基板収納RB8ﾗｯｸ供給位置移動
AND M3420                ; 収納ﾘﾌﾀｰRB8_動作中
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3072                 ; S072_
ANB M3420                ; 収納ﾘﾌﾀｰRB8_動作中
AND M3473                ; 収納ﾘﾌﾀｰRB8ﾗｯｸ受取位置(P1)
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3073                 ; S073_基板収納ﾗｯｸ位置決め上昇
ANB M130                 ; 一時停止
AND M3401                ; 基板収納ﾗｯｸ位置決め上昇端
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3074                 ; S074_基板収納RB8ﾗｯｸ払出し完了
MOV K248 D3000           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;<h1/>____▼_S200_ｻｲｸﾙ停止(払い出し))
LD M3200                 ; S200_払出ｻｲｸﾙ停止終了
LD M3493                 ; 収納ﾘﾌﾀｰ払出停止完了
ORB M36                  ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
ANL
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3201                 ; S201_
MOV K248 D3000           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;<h1/>____▼_S248_ｻｲｸﾙ停止
LD M3248                 ; S248_基板収納ﾗｯｸ位置決め上昇
AND M3401                ; 基板収納ﾗｯｸ位置決め上昇端
MOV K249 D3000           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;<h1/>□_原点復帰
LD M3250                 ; S250_基板収納収納CV_OFF確認
ANB M130                 ; 一時停止
ANB Y2425                ; 収納ﾘﾌﾀCV正転ON
ANB Y2426                ; 収納ﾘﾌﾀCV逆転ON
AND M3902                ; 乾燥炉投入側ｼｬｯﾀｰ閉端
AND X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
AND X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
AND M5404                ; ﾘﾀｰﾝCVｽﾄｯﾊﾟｰ上昇端
ANB M3372                ; 乾燥炉へﾗｯｸ排出中記憶
AND= D3130 K0            ; 乾燥炉へﾗｯｸ排出中記憶
AND= D2130 K0            ; 基板収納RB4基板収納中記憶
AND M2450                ; 基板収納RB4待機位置
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3251                 ; S251_
@MOV K0 D3322            ; 収納ﾘﾌﾄ_ﾗｯｸID違い記憶(1:ID違い)
@MOV K0 D3323            ; 収納ﾘﾌﾄ_不明基板有記憶(1:有)
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3252                 ; S252_基板収納ﾗｯｸ位置決め上昇
ANB M130                 ; 一時停止
AND M3401                ; 基板収納ﾗｯｸ位置決め上昇端
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3253                 ; S253_飛出し確認
AND M2450                ; 基板収納RB4待機位置
AND X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
AND X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3254                 ; S254_基板収納RB8原点復帰完了確認
MPS
ANB X112B                ; RB8_OUT3　(ORG-S)
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND X112B                ; RB8_OUT3　(ORG-S)
MOV K258 D3000           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3255                 ; S255_
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3256                 ; S256_基板収納RB8原点復帰開始
ANB X112D                ; RB8_END
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3257                 ; S257_基板収納RB8原点復帰完了待ち
ANB M3420                ; 収納ﾘﾌﾀｰRB8_動作中
AND X112D                ; RB8_END
AND X112B                ; RB8_OUT3　(ORG-S)
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3258                 ; S258_
AND M2450                ; 基板収納RB4待機位置
AND M3300                ; 収納ﾘﾌﾀRB8動作可条件
@MOV K1 D3020            ; 基板収納RB8_指令POS
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3259                 ; S259_基板収納RB8_P1移動
AND M3420                ; 収納ﾘﾌﾀｰRB8_動作中
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3260                 ; S260_
ANB M3420                ; 収納ﾘﾌﾀｰRB8_動作中
AND X112D                ; RB8_END
ANB X112C                ; RB8_BUSY
AND M3473                ; 収納ﾘﾌﾀｰRB8ﾗｯｸ受取位置(P1)
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3261                 ; S261_基板収納ﾗｯｸ位置決め上昇
AND M3401                ; 基板収納ﾗｯｸ位置決め上昇端
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3262                 ; S262_ﾗｯｸ有無確認
MPS
ANB M3375                ; 収納ﾘﾌﾀ ﾗｯｸ確認
MOV K248 D3000           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND M3375                ; 収納ﾘﾌﾀ ﾗｯｸ確認
MOV K270 D3000           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;<h1/>____▼_S270_ﾗｯｸ内ﾜｰｸ確認
LD M3270                 ; S270_ﾗｯｸ内基板ｻｰﾁ確認開始
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3271                 ; S271_ｻｰﾁ段数記憶ﾘｾｯﾄ
@MOV K1 D3012            ; ｻｰﾁ段数記憶
MPS
@MOV K0 Z8
MPP
ANB M130                 ; 一時停止
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3272                 ; S272_ｻｰﾁ段数指定
AND M2450                ; 基板収納RB4待機位置
AND M3300                ; 収納ﾘﾌﾀRB8動作可条件
AND X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
AND X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
AND M5404                ; ﾘﾀｰﾝCVｽﾄｯﾊﾟｰ上昇端
@CAL+ D3012 D3052 D3020  ; ｻｰﾁ段数記憶  収納RB8_基板収納ｵﾌｾｯﾄPOS  基板収納RB8_指令POS
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3273                 ; S273_基板収納RB8ｻｰﾁ位置移動
AND M3420                ; 収納ﾘﾌﾀｰRB8_動作中
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3274                 ; S274_
ANB M3420                ; 収納ﾘﾌﾀｰRB8_動作中
AND X112D                ; RB8_END
ANB X112C                ; RB8_BUSY
AND= D3024 D3022         ; 基板収納RB8_完了POS  基板収納RB8_転送POS
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3275                 ; S275_収納ﾘﾌﾀｰﾗｯｸ内基板確認ﾃﾞｨﾚｰ
TMR K520 K5              ; 収納ﾘﾌﾀｰﾗｯｸ内基板在籍確認ﾃﾞｨﾚｰ
CON
AND T520                 ; 収納ﾘﾌﾀｰﾗｯｸ内基板在籍確認ﾃﾞｨﾚｰ
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3276                 ; S276_収納ﾘﾌﾀｰﾗｯｸ内基板在籍確認
MPS
AND X137F                ; 収納ﾘﾌﾀｰﾗｯｸ内基板在籍確認(ON有)
MOV K280 D3000           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
ANB X137F                ; 収納ﾘﾌﾀｰﾗｯｸ内基板在籍確認(ON有)
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3277                 ; S277_ｻｰﾁ段数記憶ｶｳﾝﾄｱｯﾌﾟ
MPS
AND>= D3012 E94          ; ｻｰﾁ段数記憶  収納ﾘﾌﾄ_ﾗｯｸID別総段数
MOV K284 D3000           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND< D3012 E94           ; ｻｰﾁ段数記憶  収納ﾘﾌﾄ_ﾗｯｸID別総段数
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3278                 ; S278_
@INC D3012               ; ｻｰﾁ段数記憶
MOV K272 D3000           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;<h1/>____▼_S280_ﾗｯｸ内ﾜｰｸ有時に記憶との一致確認
LD M3280                 ; S280_基板ﾃﾞｰﾀ比較処理
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3281                 ; S281_
@MOV D3012 Z7            ; ｻｰﾁ段数記憶
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3282                 ; S282_
MPS
AND= D3300:Z7 K1         ; 収納ﾘﾌﾄ_ﾗｯｸｲﾝﾃﾞｯｸｽNo.
MOV K277 D3000           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND= D3300:Z7 K0         ; 収納ﾘﾌﾄ_ﾗｯｸｲﾝﾃﾞｯｸｽNo.
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;____▼_記憶不一致の場合
LD M3283                 ; S283_
@MOV K1 D3323            ; 収納ﾘﾌﾄ_不明基板有記憶(1:有)
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;<h1/>____▼_S284_待機位置移動
LD M3284                 ; S284_基板収納RB8原点位置移動確認
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3285                 ; S285_基板収納RB8_指令POSｾｯﾄ
ANB M130                 ; 一時停止
AND M2450                ; 基板収納RB4待機位置
AND M3300                ; 収納ﾘﾌﾀRB8動作可条件
AND X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
AND X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
AND M5404                ; ﾘﾀｰﾝCVｽﾄｯﾊﾟｰ上昇端
@MOV K1 D3020            ; 基板収納RB8_指令POS
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3286                 ; S286_基板収納RB8原点位置移動
AND M3420                ; 収納ﾘﾌﾀｰRB8_動作中
INC D3000                ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M3287                 ; S287_基板収納RB8原点位置移動確認
ANB M3420                ; 収納ﾘﾌﾀｰRB8_動作中
AND M3473                ; 収納ﾘﾌﾀｰRB8ﾗｯｸ受取位置(P1)
AND M3480                ; ﾕﾆｯﾄ5原点
MOV K248 D3000           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;<h1/>□_手動回路
;□□□□□□□□□□□□□□□
;□　　 　UNIT5手動回路  　　□
;□□□□□□□□□□□□□□□
LD M3421                 ; 収納ﾘﾌﾀｰRB8_動作可条件
ANB M3302                ; 基板収納RB8_ﾗｯｸ供給位置移動
ANB M3304                ; 基板収納RB8_ﾗｯｸ排出位置移動
ANB M3306                ; 基板収納RB8_基板収納位置上段移動
ANB M3308
ANB M3420                ; 収納ﾘﾌﾀｰRB8_動作中
OUT M3300                ; 収納ﾘﾌﾀRB8動作可条件
LD M31                   ; 手動ﾓｰﾄﾞ
AND M32                  ; ﾒｲﾝ手動操作可能条件
ANB M3485                ; ﾕﾆｯﾄ5起動中
ANB M3484                ; ﾕﾆｯﾄ5原点復帰中
MC
LD<> D3024 K1            ; 基板収納RB8_完了POS
AND M3401                ; 基板収納ﾗｯｸ位置決め上昇端
AND X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
AND X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
AND M5404                ; ﾘﾀｰﾝCVｽﾄｯﾊﾟｰ上昇端
AND M2450                ; 基板収納RB4待機位置
OUT M3301                ; 基板収納RB8_ﾗｯｸ供給位置移動可
LDP B1116                ; 基板収納RB8_ﾗｯｸ供給位置移動SW
AND M3300                ; 収納ﾘﾌﾀRB8動作可条件
AND M3301                ; 基板収納RB8_ﾗｯｸ供給位置移動可
OR M3302                 ; 基板収納RB8_ﾗｯｸ供給位置移動
ANFB M3420               ; 収納ﾘﾌﾀｰRB8_動作中
AND X112E                ; RB8_/ALM
OUT M3302                ; 基板収納RB8_ﾗｯｸ供給位置移動
@MOV K1 D3020            ; 基板収納RB8_指令POS
LD<> D3024 K2            ; 基板収納RB8_完了POS
AND M3401                ; 基板収納ﾗｯｸ位置決め上昇端
AND X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
AND X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
AND M5404                ; ﾘﾀｰﾝCVｽﾄｯﾊﾟｰ上昇端
AND M2450                ; 基板収納RB4待機位置
OUT M3303                ; 基板収納RB8_ﾗｯｸ排出位置移動可
LDP B1117                ; 基板収納RB8_ﾗｯｸ排出位置移動SW
AND M3300                ; 収納ﾘﾌﾀRB8動作可条件
AND M3303                ; 基板収納RB8_ﾗｯｸ排出位置移動可
OR M3304                 ; 基板収納RB8_ﾗｯｸ排出位置移動
ANFB M3420               ; 収納ﾘﾌﾀｰRB8_動作中
AND X112E                ; RB8_/ALM
OUT M3304                ; 基板収納RB8_ﾗｯｸ排出位置移動
@MOV K2 D3020            ; 基板収納RB8_指令POS
LD<> D3050 K0            ; 収納RB8_手動時基板収納段数
AND>= E94 D3050          ; 収納ﾘﾌﾄ_ﾗｯｸID別総段数  収納RB8_手動時基板収納段数
AND M3401                ; 基板収納ﾗｯｸ位置決め上昇端
AND X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
AND X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
AND M5404                ; ﾘﾀｰﾝCVｽﾄｯﾊﾟｰ上昇端
AND M2450                ; 基板収納RB4待機位置
OUT M3305                ; 基板収納RB8_基板収納位置上移動可
LDP B1118                ; 基板収納RB8_収納位置移動SW
AND M3300                ; 収納ﾘﾌﾀRB8動作可条件
AND M3305                ; 基板収納RB8_基板収納位置上移動可
OR M3306                 ; 基板収納RB8_基板収納位置上段移動
ANFB M3420               ; 収納ﾘﾌﾀｰRB8_動作中
AND X112E                ; RB8_/ALM
OUT M3306                ; 基板収納RB8_基板収納位置上段移動
@CAL+ D3050 D3052 D3056  ; 収納RB8_手動時基板収納段数  収納RB8_基板収納ｵﾌｾｯﾄPOS  収納RB8_基板収納段数指定
@MOV D3056 D3020         ; 収納RB8_基板収納段数指定  基板収納RB8_指令POS
;CL
LD CR2002                ; 常時ON
OUT M3309                ; 基板収納ﾗｯｸ位置決め上昇可
LDP B1111                ; 基板収納ﾗｯｸ位置決め上昇SW
AND M3309                ; 基板収納ﾗｯｸ位置決め上昇可
OR M3310                 ; 基板収納ﾗｯｸ位置決め上昇
ANB B1110                ; 基板収納ﾗｯｸ位置決め下降SW
OUT M3310                ; 基板収納ﾗｯｸ位置決め上昇
LD CR2002                ; 常時ON
ANB X112C                ; RB8_BUSY
OUT M3311                ; 基板収納ﾗｯｸ位置決め下降可
LDP B1110                ; 基板収納ﾗｯｸ位置決め下降SW
AND M3311                ; 基板収納ﾗｯｸ位置決め下降可
OR M3312                 ; 基板収納ﾗｯｸ位置決め下降
ANB B1111                ; 基板収納ﾗｯｸ位置決め上昇SW
OUT M3312                ; 基板収納ﾗｯｸ位置決め下降
;
LD CR2002                ; 常時ON
ANB Y2425                ; 収納ﾘﾌﾀCV正転ON
ANB Y2426                ; 収納ﾘﾌﾀCV逆転ON
OUT M3313                ; 基板収納排出CV　ON可
LDP B1112                ; 基板収納排出CV逆転　ON_SW
AND M3313                ; 基板収納排出CV　ON可
OR M3314                 ; 基板収納排出CV逆転　ON
ANB B1113                ; 基板収納排出CV　OFF_SW
OUT M3314                ; 基板収納排出CV逆転　ON
LD CR2002                ; 常時ON
ANB Y2425                ; 収納ﾘﾌﾀCV正転ON
ANB Y2426                ; 収納ﾘﾌﾀCV逆転ON
OUT M3315                ; 基板収納収納CV　ON可
LDP B1114                ; 基板収納収納CV正転　ON_SW
AND M3315                ; 基板収納収納CV　ON可
OR M3316                 ; 基板収納収納CV正転　ON
ANB B1113                ; 基板収納排出CV　OFF_SW
OUT M3316                ; 基板収納収納CV正転　ON
MCR
;<h1/>▽_RB8_収納ﾘﾌﾀｰ_動作処理
;■ロボット動作出力
;(これはIAIﾛﾎﾞｼﾘﾝﾀﾞ)
LD X112B                 ; RB8_OUT3　(ORG-S)
AND X112D                ; RB8_END
ANB X112C                ; RB8_BUSY
AND X112F                ; RB8_SRV-S
AND X112E                ; RB8_/ALM
AND X113B                ; RB8_REMOTO_READY
AND X1305                ; 収納ﾘﾌﾀｰREADY
ANB M3420                ; 収納ﾘﾌﾀｰRB8_動作中
OUT M3421                ; 収納ﾘﾌﾀｰRB8_動作可条件
LDB M3302                ; 基板収納RB8_ﾗｯｸ供給位置移動
ANB M3304                ; 基板収納RB8_ﾗｯｸ排出位置移動
ANB M3306                ; 基板収納RB8_基板収納位置上段移動
ANB M3259                ; S259_基板収納RB8_P1移動
ANB M3007                ; S007_基板収納RB8ﾗｯｸ収納位置移動
ANB M3025                ; S025_基板収納RB8基板収納位置移動
ANB M3032                ; S032_ｻｰﾁ段数位置移動指令
ANB M3052                ; S052_基板収納RB8乾燥炉位置移動
ANB M3071                ; S071_基板収納RB8ﾗｯｸ供給位置移動
ANB M3273                ; S273_基板収納RB8ｻｰﾁ位置移動
ANB M3286                ; S286_基板収納RB8原点位置移動
INV
OUT M3422                ; 収納ﾘﾌﾀｰRB8_起動集合
LD M3422                 ; 収納ﾘﾌﾀｰRB8_起動集合
AND M3421                ; 収納ﾘﾌﾀｰRB8_動作可条件
ANB M3420                ; 収納ﾘﾌﾀｰRB8_動作中
OR M3420                 ; 収納ﾘﾌﾀｰRB8_動作中
ANB M3427                ; 収納ﾘﾌﾀｰRB8_起動終了
AND M50                  ; 運転準備
AND X112E                ; RB8_/ALM
OUT M3420                ; 収納ﾘﾌﾀｰRB8_動作中
@MOV D3020 D3022         ; 基板収納RB8_指令POS  基板収納RB8_転送POS
TMH K530 K10             ; 基板収納RB8起動ﾃﾞｨﾚｰ
LDP T530                 ; 基板収納RB8起動ﾃﾞｨﾚｰ
OR M3423                 ; 収納ﾘﾌﾀｰRB8_動作開始
AND M3420                ; 収納ﾘﾌﾀｰRB8_動作中
OUT M3423                ; 収納ﾘﾌﾀｰRB8_動作開始
LD M3423                 ; 収納ﾘﾌﾀｰRB8_動作開始
ANB X112C                ; RB8_BUSY
AND X112D                ; RB8_END
OR M3424                 ; 収納ﾘﾌﾀｰRB8_起動ｽﾀｰﾄ
AND M3420                ; 収納ﾘﾌﾀｰRB8_動作中
MPS
OUT M3424                ; 収納ﾘﾌﾀｰRB8_起動ｽﾀｰﾄ
MPP
AND Y212C                ; RB8_/LOCK
TMH K531 K20             ; RB8_IL確認ﾃﾞｨﾚｲ
LD M3424                 ; 収納ﾘﾌﾀｰRB8_起動ｽﾀｰﾄ
AND Y212C                ; RB8_/LOCK
MC
LD M3424                 ; 収納ﾘﾌﾀｰRB8_起動ｽﾀｰﾄ
AND T531                 ; RB8_IL確認ﾃﾞｨﾚｲ
ANB X112D                ; RB8_END
OR M3425                 ; 収納ﾘﾌﾀｰRB8_起動確認
AND M3420                ; 収納ﾘﾌﾀｰRB8_動作中
OUT M3425                ; 収納ﾘﾌﾀｰRB8_起動確認
LD M3425                 ; 収納ﾘﾌﾀｰRB8_起動確認
ANB X112C                ; RB8_BUSY
AND X112D                ; RB8_END
AND= D3020 D3024         ; 基板収納RB8_指令POS  基板収納RB8_完了POS
OR M3426                 ; 収納ﾘﾌﾀｰRB8_起動終了確認
AND M3420                ; 収納ﾘﾌﾀｰRB8_動作中
OUT M3426                ; 収納ﾘﾌﾀｰRB8_起動終了確認
LD M3426                 ; 収納ﾘﾌﾀｰRB8_起動終了確認
OR M3427                 ; 収納ﾘﾌﾀｰRB8_起動終了
AND M3420                ; 収納ﾘﾌﾀｰRB8_動作中
OUT M3427                ; 収納ﾘﾌﾀｰRB8_起動終了
MCR
LD CR2002                ; 常時ON
MPS
AND D3022.0              ; RB8_転送POS1
OUT Y2120                ; RB8_PIN 0
MRD
AND D3022.1              ; RB8_転送POS2
OUT Y2121                ; RB8_PIN 1
MRD
AND D3022.2              ; RB8_転送POS4
OUT Y2122                ; RB8_PIN 2
MRD
AND D3022.3              ; RB8_転送POS8
OUT Y2123                ; RB8_PIN 3
MRD
AND D3022.4              ; RB8_転送POS16
OUT Y2124                ; RB8_PIN 4
MRD
AND D3022.5              ; RB8_転送POS32
OUT Y2125                ; RB8_PIN 5
MRD
AND D3022.6              ; RB8_転送POS64
OUT Y2126                ; RB8_PIN 6
MPP
AND D3022.7              ; RB8_転送POS128
OUT Y2127                ; RB8_PIN 7
LD CR2003                ; 常時OFF
OUT Y212A                ; RB8_MANUAL
LD M3256                 ; S256_基板収納RB8原点復帰開始
LD M3257                 ; S257_基板収納RB8原点復帰完了待ち
ANB X112B                ; RB8_OUT3　(ORG-S)
ORL
AND M401                 ; 扉閉ﾃﾞｨﾚｰON
AND M402                 ; RB8ﾗｯｸ基板はみだし異常OFFﾃﾞｨﾚｰ
OUT Y212B                ; RB8_ORG
LD M50                   ; 運転準備
AND X112E                ; RB8_/ALM
AND M401                 ; 扉閉ﾃﾞｨﾚｰON
ANB B0A6                 ; 収納ﾗｯｸ基板はみだし異常
ANB B0A7                 ; RB8移動中収納ﾗｯｸ基板はみだし異常
AND X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
AND X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
OUT Y212C                ; RB8_/LOCK
LD M3424                 ; 収納ﾘﾌﾀｰRB8_起動ｽﾀｰﾄ
AND Y212C                ; RB8_/LOCK
ANB M3425                ; 収納ﾘﾌﾀｰRB8_起動確認
AND M401                 ; 扉閉ﾃﾞｨﾚｰON
AND M402                 ; RB8ﾗｯｸ基板はみだし異常OFFﾃﾞｨﾚｰ
OUT Y212D                ; RB8_START
LD M16                   ; ﾘｾｯﾄPB
ANB X112E                ; RB8_/ALM
OUT Y212E                ; RB8_RESET
LD M50                   ; 運転準備
AND X114E                ; RB9_/ALM
OUT Y212F                ; RB8_SERVO
LD M50                   ; 運転準備
OUT Y56                  ; 収納ﾘﾌﾀRBｻｰﾎﾞ電源ON
;ﾛﾎﾞｯﾄ現在値
LD X112D                 ; RB8_END
AND X112B                ; RB8_OUT3　(ORG-S)
MPS
AND X1120                ; RB8_POUT 0
OUT D3024.0              ; RB8_完了POS1
MRD
AND X1121                ; RB8_POUT 1
OUT D3024.1              ; RB8_完了POS2
MRD
AND X1122                ; RB8_POUT 2
OUT D3024.2              ; RB8_完了POS4
MRD
AND X1123                ; RB8_POUT 3
OUT D3024.3              ; RB8_完了POS8
MRD
AND X1124                ; RB8_POUT 4
OUT D3024.4              ; RB8_完了POS16
MRD
AND X1125                ; RB8_POUT 5
OUT D3024.5              ; RB8_完了POS32
MRD
AND X1126                ; RB8_POUT 6
OUT D3024.6              ; RB8_完了POS64
MRD
AND X1127                ; RB8_POUT 7
OUT D3024.7              ; RB8_完了POS128
MPP
INV
MOV K0 D3024             ; 基板収納RB8_完了POS
;■基板収納RB8位置
LDB M3420                ; 収納ﾘﾌﾀｰRB8_動作中
MPS
LD= D3024 K1             ; 基板収納RB8_完了POS
OR= D3024 K5             ; 基板収納RB8_完了POS
ANL
OUT M3470                ; 収納ﾘﾌﾀｰRB8待機位置
MRD
AND= D3024 K2            ; 基板収納RB8_完了POS
OUT M3471                ; 収納ﾘﾌﾀｰRB8乾燥炉位置
MRD
LDB M3485                ; ﾕﾆｯﾄ5起動中
AND> D3024 D3052         ; 基板収納RB8_完了POS  収納RB8_基板収納ｵﾌｾｯﾄPOS
AND<= D3024 D3054        ; 基板収納RB8_完了POS  収納RB8_基板収納最大段数
LD M3485                 ; ﾕﾆｯﾄ5起動中
AND= D3020 D3024         ; 基板収納RB8_指令POS  基板収納RB8_完了POS
ORL
ANL
OUT M3472                ; 収納ﾘﾌﾀｰRB8基板収納位置
MRD
AND= D3024 K1            ; 基板収納RB8_完了POS
OUT M3473                ; 収納ﾘﾌﾀｰRB8ﾗｯｸ受取位置(P1)
MPP
AND= D3024 K5            ; 基板収納RB8_完了POS
OUT M3474                ; 収納ﾘﾌﾀｰRB8ﾗｯｸ排出位置
;<h1/>出力(シリンダ等)
LDB M3310                ; 基板収納ﾗｯｸ位置決め上昇
ANB M3014                ; S014_基板収納ﾗｯｸ位置決め上昇
ANB M3020                ; S020_基板収納ﾗｯｸ位置決め上昇
ANB M3261                ; S261_基板収納ﾗｯｸ位置決め上昇
ANB M3073                ; S073_基板収納ﾗｯｸ位置決め上昇
ANB M3248                ; S248_基板収納ﾗｯｸ位置決め上昇
ANB M3252                ; S252_基板収納ﾗｯｸ位置決め上昇
INV
LD Y2524                 ; 収納ﾘﾌﾀﾗｯｸ位置決め上昇SOL
ANB Y2525                ; 収納ﾘﾌﾀﾗｯｸ位置決め下降SOL
ORL
OUT Y2524                ; 収納ﾘﾌﾀﾗｯｸ位置決め上昇SOL
LDB M3312                ; 基板収納ﾗｯｸ位置決め下降
ANB M3009                ; S009_基板収納ﾗｯｸ位置決め下降
ANB M3055                ; S055_基板収納ﾗｯｸ位置決め下降
ANB CR2003               ; 常時OFF
INV
LD Y2525                 ; 収納ﾘﾌﾀﾗｯｸ位置決め下降SOL
ANB Y2524                ; 収納ﾘﾌﾀﾗｯｸ位置決め上昇SOL
ORL
OUT Y2525                ; 収納ﾘﾌﾀﾗｯｸ位置決め下降SOL
LDB M3316                ; 基板収納収納CV正転　ON
ANB M5006                ; S006_ﾘﾀｰﾝCV回転/ﾗｯｸ収納CV正転
ANB CR2003               ; 常時OFF
ANB CR2003               ; 常時OFF
INV
OUT Y2425                ; 収納ﾘﾌﾀCV正転ON
LDB M3314                ; 基板収納排出CV逆転　ON
ANB M3371                ; 乾燥炉へﾗｯｸ排出中
ANB CR2003               ; 常時OFF
ANB CR2003               ; 常時OFF
INV
LDB B0A5                 ; 炉投入ﾗｯｸ通過ﾀｲﾑｱｳﾄ異常
OR CR2002                ; 常時ON
ANL
OUT Y2426                ; 収納ﾘﾌﾀCV逆転ON
;□□　　パネル表示　　□□
LD X1365                 ; 収納ﾗｯｸ位置決め下降端
LD Y2525                 ; 収納ﾘﾌﾀﾗｯｸ位置決め下降SOL
ANB X1365                ; 収納ﾗｯｸ位置決め下降端
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1610                ; UNIT5-2-1 TP-PL
LD X1364                 ; 収納ﾗｯｸ位置決め上昇端
LD Y2524                 ; 収納ﾘﾌﾀﾗｯｸ位置決め上昇SOL
ANB X1364                ; 収納ﾗｯｸ位置決め上昇端
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1611                ; UNIT5-2-2 TP-PL
LD Y2426                 ; 収納ﾘﾌﾀCV逆転ON
OUT B1612                ; UNIT5-2-3 TP-PL
LDB Y2425                ; 収納ﾘﾌﾀCV正転ON
ANB Y2426                ; 収納ﾘﾌﾀCV逆転ON
OUT B1613                ; UNIT5-2-4 TP-PL
LD Y2425                 ; 収納ﾘﾌﾀCV正転ON
OUT B1614                ; UNIT5-2-5 TP-PL
LD= D3024 K1             ; 基板収納RB8_完了POS
LD= D3022 K1             ; 基板収納RB8_転送POS
ANB X112D                ; RB8_END
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1616                ; UNIT5-2-7 TP-PL
LD= D3024 K2             ; 基板収納RB8_完了POS
LD= D3022 K2             ; 基板収納RB8_転送POS
ANB X112D                ; RB8_END
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1617                ; UNIT5-2-8 TP-PL
LD M3472                 ; 収納ﾘﾌﾀｰRB8基板収納位置
LD M3306                 ; 基板収納RB8_基板収納位置上段移動
ANB X112D                ; RB8_END
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1618                ; UNIT5-2-9 TP-PL
LD CR2003                ; 常時OFF
LD CR2003                ; 常時OFF
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1619                ; UNIT5-2-10 TP-PL
LD Y2420                 ; 乾燥炉CV移動ON
OUT B161C                ; UNIT5-2-13 TP-PL
LDB Y2420                ; 乾燥炉CV移動ON
OUT B161D                ; UNIT5-2-14 TP-PL
;<h1/>▽_パラメーター
LD B1036                 ; 収納ﾗｯｸ交換時間有効選択SW
SET L500                 ; 収納ﾗｯｸ交換時間有効選択
LD B1037                 ; 収納ﾗｯｸ交換時間無効選択SW
RES L500                 ; 収納ﾗｯｸ交換時間有効選択
LD L500                  ; 収納ﾗｯｸ交換時間有効選択
OUT B1536                ; 収納ﾗｯｸ交換時間有効選択PL
LDB L500                 ; 収納ﾗｯｸ交換時間有効選択
OUT B1537                ; 収納ﾗｯｸ交換時間無効選択PL
;<h1/>異常検出
LD T0                    ; 電源投入ONﾃﾞｨﾚｲ
MC
;
LD M50                   ; 運転準備
AND T500                 ; 収納ﾘﾌﾄ原点復帰ﾀｲﾑｱｳﾄ
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0A0                 ; 収納ﾘﾌﾄ原点復帰ﾀｲﾑｱｳﾄ異常
ORL
OUT B0A0                 ; 収納ﾘﾌﾄ原点復帰ﾀｲﾑｱｳﾄ異常
;
LD T99                   ; 運転準備ON_9s
AND X113B                ; RB8_REMOTO_READY
ANB X112E                ; RB8_/ALM
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0A1                 ; RB8_ｱﾗｰﾑ(ALM)異常
ORL
MPS
TMH K551 K50             ; RB8_ｱﾗｰﾑ(ALM)異常確認
MPP
AND T551                 ; RB8_ｱﾗｰﾑ(ALM)異常確認
OUT B0A1                 ; RB8_ｱﾗｰﾑ(ALM)異常
;
LD Y2524                 ; 収納ﾘﾌﾀﾗｯｸ位置決め上昇SOL
ANB X1364                ; 収納ﾗｯｸ位置決め上昇端
LD Y2525                 ; 収納ﾘﾌﾀﾗｯｸ位置決め下降SOL
ANB X1365                ; 収納ﾗｯｸ位置決め下降端
ORL
AND X03                  ; 圧空元圧正常
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0A2                 ; 基板収納ﾗｯｸ位置決上下LS異常
ORL
MPS
TMR K552 K50             ; 基板収納ﾗｯｸ位置決上下LS確認
MPP
AND T552                 ; 基板収納ﾗｯｸ位置決上下LS確認
OUT B0A2                 ; 基板収納ﾗｯｸ位置決上下LS異常
;
LD M50                   ; 運転準備
ANB X1303                ; 基板収納ﾗｯｸCVｲﾝﾊﾞｰﾀ異常
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0A3                 ; 基板収納ﾗｯｸCVｲﾝﾊﾞｰﾀ異常
ORL
MPS
TMH K553 K10             ; 基板収納ﾗｯｸCVｲﾝﾊﾞｰﾀ異常確認
MPP
AND T553                 ; 基板収納ﾗｯｸCVｲﾝﾊﾞｰﾀ異常確認
OUT B0A3                 ; 基板収納ﾗｯｸCVｲﾝﾊﾞｰﾀ異常
LD M16                   ; ﾘｾｯﾄPB
ANB X1303                ; 基板収納ﾗｯｸCVｲﾝﾊﾞｰﾀ異常
OUT Y2427                ; 収納ﾘﾌﾀCVｲﾝﾊﾞｰﾀｱﾗｰﾑﾘｾｯﾄ
LDB M130                 ; 一時停止
TMR K506 K5              ; 一時停止後解除ﾀｲﾏ
;
LDP M3035                ; S035_ﾗｯｸ内基板取出し要求
AND T506                 ; 一時停止後解除ﾀｲﾏ
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0A4                 ; 収納ﾗｯｸ収納部基板有り異常
ORL
OUT B0A4                 ; 収納ﾗｯｸ収納部基板有り異常
;
LD M3371                 ; 乾燥炉へﾗｯｸ排出中
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
LD M3901                 ; 乾燥炉投入側ｼｬｯﾀｰ開端
AND M3911                ; 炉投入側ｼｬｯﾀｰﾗｯｸ通過中
ORL
AND B0A5                 ; 炉投入ﾗｯｸ通過ﾀｲﾑｱｳﾄ異常
ORL
MPS
TMR K554 K400            ; 炉投入ﾗｯｸ通過ﾀｲﾑｱｳﾄ
MPP
AND T554                 ; 炉投入ﾗｯｸ通過ﾀｲﾑｱｳﾄ
OUT B0A5                 ; 炉投入ﾗｯｸ通過ﾀｲﾑｱｳﾄ異常
LDB M3006                ; S006_基板収納RB8_指令POSｾｯﾄ
ANB M3023                ; S023_収納ﾘﾌﾀｰ基板はみ出し確認
ANB M3031                ; S031_ﾗｯｸ内基板確認完了
ANB M3051                ; S051_基板収納RB8_指令POSｾｯﾄ
ANB M3070                ; S070_基板収納RB8_指令POSｾｯﾄ
ANB M3253                ; S253_飛出し確認
ANB M3272                ; S272_ｻｰﾁ段数指定
ANB M3285                ; S285_基板収納RB8_指令POSｾｯﾄ
INV
OUT M3385                ; 収納ﾘﾌﾀｰ基板はみ出し確認集合
LDPB B1116               ; 基板収納RB8_ﾗｯｸ供給位置移動SW
ANPB B1117               ; 基板収納RB8_ﾗｯｸ排出位置移動SW
ANPB B1118               ; 基板収納RB8_収納位置移動SW
ANPB B1119
INV
OUT M3386                ; 手動ﾎﾟｲﾝﾄ移動SW集合
;
LDB M3385                ; 収納ﾘﾌﾀｰ基板はみ出し確認集合
ANB M3386                ; 手動ﾎﾟｲﾝﾄ移動SW集合
INV
LDB X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
ORB X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
ANL
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
ORB X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
ORB X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
AND B0A6                 ; 収納ﾗｯｸ基板はみだし異常
ORL
OUT B0A6                 ; 収納ﾗｯｸ基板はみだし異常
;
LDB X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
ORB X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
LD M3420                 ; 収納ﾘﾌﾀｰRB8_動作中
OR X112C                 ; RB8_BUSY
ANL
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
ORB X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
ORB X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
AND B0A7                 ; RB8移動中収納ﾗｯｸ基板はみだし異常
ORL
OUT B0A7                 ; RB8移動中収納ﾗｯｸ基板はみだし異常
;
LDB X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
ORB X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
AND M3044                ; S044_基板押込み確認
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
ORB X1360                ; 収納ﾘﾌﾀｰ基板飛出確認1
ORB X1361                ; 収納ﾘﾌﾀｰ基板飛出確認2
AND B0A8                 ; 収納ﾗｯｸ基板押込み異常
ORL
MPS
TMR K556 K20             ; 基板押込み確認
MPP
AND T556                 ; 基板押込み確認
OUT B0A8                 ; 収納ﾗｯｸ基板押込み異常
;
LD M17                   ; 原点復帰PB
ANB M72                  ; 自動運転開始
AND= D3130 K1            ; 乾燥炉へﾗｯｸ排出中記憶
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
ANB B119B                ; 収納ﾘﾌﾀﾗｯｸ排出未完了確認SW
AND B0A9                 ; 収納ﾘﾌﾀﾗｯｸ排出未完了異常
ORL
OUT B0A9                 ; 収納ﾘﾌﾀﾗｯｸ排出未完了異常
LDP B0A9                 ; 収納ﾘﾌﾀﾗｯｸ排出未完了異常
OR M3396                 ; 収納ﾘﾌﾀﾗｯｸ排出未完了ﾒｯｾｰｼﾞON
ANB B119B                ; 収納ﾘﾌﾀﾗｯｸ排出未完了確認SW
OUT M3396                ; 収納ﾘﾌﾀﾗｯｸ排出未完了ﾒｯｾｰｼﾞON
LD B119B                 ; 収納ﾘﾌﾀﾗｯｸ排出未完了確認SW
@MOV K0 D3130            ; 乾燥炉へﾗｯｸ排出中記憶
;
LD M17                   ; 原点復帰PB
ANB M72                  ; 自動運転開始
AND= D2130 K1            ; 基板収納RB4基板収納中記憶
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
ANB B119A                ; 基板収納未完了確認SW
AND B0AA                 ; 基板収納未完了
ORL
OUT B0AA                 ; 基板収納未完了
LDP B0AA                 ; 基板収納未完了
OR M3395                 ; 基板収納未完了ﾒｯｾｰｼﾞON
ANB B119A                ; 基板収納未完了確認SW
OUT M3395                ; 基板収納未完了ﾒｯｾｰｼﾞON
LD B119A                 ; 基板収納未完了確認SW
@MOV K0 D2130            ; 基板収納RB4基板収納中記憶
;
LD M3450                 ; ﾗｯｸ収納時ﾜｰｸ未検出異常
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0AB                 ; ﾗｯｸ収納時ﾜｰｸ未検出異常
ORL
OUT B0AB                 ; ﾗｯｸ収納時ﾜｰｸ未検出異常
;
LD<> D3210 K0            ; 収納ﾘﾌﾀｰ ﾗｯｸIDNo.
AND= E94 K0              ; 収納ﾘﾌﾄ_ﾗｯｸID別総段数
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0AC                 ; ﾗｯｸ総段数設定異常
ORL
MPS
AND T557                 ; 遅延ﾀｲﾏ
OUT B0AC                 ; ﾗｯｸ総段数設定異常
MPP
TMR K557 K10             ; 遅延ﾀｲﾏ
;
LD<> E400 K0             ; 運転中_ﾗｯｸID
LD= E90 K0               ; 運転中_ﾗｯｸ収納種類別段数(OFFSET)
OR= E92 K0               ; 運転中ﾗｯｸ収納幅種類数
ANL
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0AD                 ; ﾗｯｸID別設定項目異常
ORL
OUT B0AD                 ; ﾗｯｸID別設定項目異常
;ﾌﾞｻﾞｰ処理
LD<>.D B0A0 D3006        ; 収納ﾘﾌﾄ原点復帰ﾀｲﾑｱｳﾄ異常  ﾌﾞｻﾞｰ停止
AND<>.D B0A0 K0          ; 収納ﾘﾌﾄ原点復帰ﾀｲﾑｱｳﾄ異常
OUT M3489                ; ﾕﾆｯﾄ5異常BZ補助
LDB M110                 ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
ANB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
INV
MOV.D B0A0 D3006         ; 収納ﾘﾌﾄ原点復帰ﾀｲﾑｱｳﾄ異常  ﾌﾞｻﾞｰ停止
LD=.D B0A0 K0            ; 収納ﾘﾌﾄ原点復帰ﾀｲﾑｱｳﾄ異常
@MOV.D K0 D3006          ; ﾌﾞｻﾞｰ停止
MCR
END
ENDH
