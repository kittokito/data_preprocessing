DEVICE:53
;MODULE:UNIT10_CV
;MODULE_TYPE:0
LD M999                  ; 能拡対応(能拡時にONする)
MC
;<h1/>□_入力受け
;関連する入力受け(ｾﾝｻのﾃﾞｨﾚｲﾀｲﾏ等)を必要があれば作成する。
;通常は入力ﾕﾆｯﾄに入力時定数(ﾃﾞｨﾚｲ)があるので直接使用しても問題は無い。
LDB X1289                ; OKｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
TMR K1001 K100           ; OKｺﾝﾍﾞﾔ満杯時間
LDB X128D                ; NGｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
TMR K1002 K100           ; NGｺﾝﾍﾞﾔ満杯時間
LDB X1289                ; OKｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
TMR K1003 K8             ; OKｺﾝﾍﾞﾔ到達確認時間
LDB X128D                ; NGｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
TMR K1004 K8             ; NGｺﾝﾍﾞﾔ到着確認時間
;<h1/>__ロボット等機器入力受け
;<h1/>□_装置状態・動作条件
;ﾕﾆｯﾄまとめ
LD M5570                 ; ﾕﾆｯﾄ10-1原点_OK_CV
AND M5650                ; ﾕﾆｯﾄ10-2原点_NG_CV
AND M5730                ; ﾕﾆｯﾄ10-3原点_現在未使用
OUT M5980                ; ﾕﾆｯﾄ10原点_OK_NG_CV
;□ 非常停止
LDB M5571                ; ﾕﾆｯﾄ10-1全異常
ANB M5651                ; ﾕﾆｯﾄ10-2異常
ANB M5731                ; ﾕﾆｯﾄ10-3全異常
INV
OUT M5981                ; ﾕﾆｯﾄ10即停止異常
;□ 起動条件
LD CR2003                ; 常時OFF
OUT M5982                ; ﾕﾆｯﾄ10起動条件
;□ 起動OFF
LDB M50                  ; 運転準備
LD M60                   ; ｴﾗｰ発生
OR M52                   ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
AND M5984                ; ﾕﾆｯﾄ10原点復帰中
ORL
OR T15                   ; 強制停止
OUT M5983                ; ﾕﾆｯﾄ10起動OFF
;□ 原点復帰
LD M82                   ; 原点復帰開始
ANB M5984                ; ﾕﾆｯﾄ10原点復帰中
OR M5984                 ; ﾕﾆｯﾄ10原点復帰中
ANB M5983                ; ﾕﾆｯﾄ10起動OFF
ANB M5991                ; ﾕﾆｯﾄ10ｴﾗｰ発生
ANB M5797                ; STEPEND
OUT M5984                ; ﾕﾆｯﾄ10原点復帰中
;□ 起動中
LDB M5574                ; ﾕﾆｯﾄ10-1起動中
ANB M5654                ; ﾕﾆｯﾄ10-2起動中
ANB M5734                ; ﾕﾆｯﾄ10-3起動中
INV
OUT M5985                ; ﾕﾆｯﾄ10起動中
;□ ｻｲｸﾙ停止異常
LDB M5575                ; ﾕﾆｯﾄ10-1ｻｲｸﾙ停止異常
ANB M5655                ; ﾕﾆｯﾄ10-2ｻｲｸﾙ停止異常
ANB M5735                ; ﾕﾆｯﾄ10-3ｻｲｸﾙ停止異常
INV
OUT M5986                ; ﾕﾆｯﾄ10ｻｲｸﾙ停止異常
;□ 払出停止異常
LDB CR2003               ; 常時OFF
INV
OUT M5987                ; ﾕﾆｯﾄ10払出停止異常
;□ 警報補助
LDB B0323                ; 803)_U6E1_OKｺﾝﾍﾞﾔ満杯警報
ANB B0324                ; 804)_U6E2_NGｺﾝﾍﾞﾔ満杯警報
INV
OUT M5988                ; ﾕﾆｯﾄ10警報補助
;□ 機器準備確認
LDB CR2003               ; 常時OFF
OUT M5990                ; ﾕﾆｯﾄ10機器準備完了
;□ ｴﾗｰ発生　一時停止
LDB M5576                ; ﾕﾆｯﾄ10-1ｴﾗｰ発生
ANB M5656                ; ﾕﾆｯﾄ10-2ｴﾗｰ発生
ANB M5736                ; ﾕﾆｯﾄ10-3ｴﾗｰ発生
INV
OUT M5991                ; ﾕﾆｯﾄ10ｴﾗｰ発生
;□ 動作中ﾕﾆｯﾄ無し
LD M5577                 ; ﾕﾆｯﾄ10-1動作無し
AND M5657                ; ﾕﾆｯﾄ10-2動作無し
AND M5737                ; ﾕﾆｯﾄ10-3動作無し
OUT M5992                ; ﾕﾆｯﾄ10動作無し確認
;□ 払出しﾜｰｸ無し
LD X1288                 ; OKｺﾝﾍﾞﾔ_除材部ﾜｰｸ確認(1:無/0:有)
AND X1289                ; OKｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
AND X128C                ; NGｺﾝﾍﾞﾔ_除材部ﾜｰｸ確認(1:無/0:有)
AND X1289                ; OKｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
AND M3493                ; ﾕﾆｯﾄ2ﾜｰｸ無し(払出時)
ANB M2574                ; ﾕﾆｯﾄ2-1起動中
AND M36                  ; 払出ﾓｰﾄﾞ
TMR K1014 K20            ; ｺﾝﾍﾞﾔ部ﾜｰｸ無し
LD T1014                 ; ｺﾝﾍﾞﾔ部ﾜｰｸ無し
OUT M5993                ; ﾕﾆｯﾄ10ﾜｰｸ無し(払出時)
;□ ｽﾃｯﾌﾟ起動
LD M30                   ; 自動ﾓｰﾄﾞ
OR M31                   ; 手動ﾓｰﾄﾞ
ANB M130                 ; 一時停止
ANB M51                  ; 即停止異常(緊急停止)
ANB M52                  ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
ANB M57                  ; 全ﾕﾆｯﾄ払出完了
ANB M59                  ; 払出停止異常まとめ
ANB M60                  ; ｴﾗｰ発生
OUT M5979                ; ﾕﾆｯﾄ10ｽﾃｯﾌﾟ動作
;<h1/>□_UNIT_6_自動回路
;<h1/>◇_OKｺﾝﾍﾞﾔ（ﾕﾆｯﾄ6-1)状態・動作条件(補助)
LDB Y55                  ; OK品ｺﾝﾍﾞｱ電源ON
AND X1288                ; OKｺﾝﾍﾞﾔ_除材部ﾜｰｸ確認(1:無/0:有)
AND X1289                ; OKｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
OUT M5570                ; ﾕﾆｯﾄ10-1原点_OK_CV
LDB CR2003               ; 常時OFF
INV
OUT M5571                ; ﾕﾆｯﾄ10-1全異常
LD M5570                 ; ﾕﾆｯﾄ10-1原点_OK_CV
ANB M5574                ; ﾕﾆｯﾄ10-1起動中
AND M5979                ; ﾕﾆｯﾄ10ｽﾃｯﾌﾟ動作
ANB M5993                ; ﾕﾆｯﾄ10ﾜｰｸ無し(払出時)
AND M2659                ; 初期起動時吸着ｾﾝｻ確認完了記憶
OUT M5572                ; ﾕﾆｯﾄ10-1起動条件
LDB M50                  ; 運転準備
OR M5986                 ; ﾕﾆｯﾄ10ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M5573                ; ﾕﾆｯﾄ10-1起動OFF
LD M73                   ; 各工程起動指令
AND M5572                ; ﾕﾆｯﾄ10-1起動条件
OR M5574                 ; ﾕﾆｯﾄ10-1起動中
ANB M5573                ; ﾕﾆｯﾄ10-1起動OFF
ANB M5563                ; ﾕﾆｯﾄ10-1ｻｲｸﾙ終了
OUT M5574                ; ﾕﾆｯﾄ10-1起動中
LD M2121                 ; U2-S621_ﾃﾞｰﾀｼﾌﾄ指令
DW K0 D5520              ; NG_CV_Status
MPS
AND= D5803 K2            ; NGｺﾝﾍﾞﾔ_ﾘｰｸ検査結果(1=OK_2=NG)
DW K1 D5520              ; NG_CV_Status
MPP
AND= D5804 K2            ; NGｺﾝﾍﾞﾔ_ﾌｧｲﾅﾙ検査結果(1=OK_2=NG)
DW K2 D5520              ; NG_CV_Status
;ﾕﾆｯﾄ1-1 ｻｲｸﾙ停止異常
LDB CR2003               ; 常時OFF
INV
OUT M5575                ; ﾕﾆｯﾄ10-1ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-1 ｴﾗｰ発生まとめ
LDB CR2003               ; 常時OFF
INV
OUT M5576                ; ﾕﾆｯﾄ10-1ｴﾗｰ発生
;ﾕﾆｯﾄ1-1 停止判定
LD= D5500 D5505          ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ6-1動作中判定
ORB M5574                ; ﾕﾆｯﾄ10-1起動中
TMR K1010 K20            ; ﾕﾆｯﾄ6動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D5500 D5505          ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ6-1動作中判定
LD T1010                 ; ﾕﾆｯﾄ6動作無し判定ﾀｲﾏ
OUT M5577                ; ﾕﾆｯﾄ10-1動作無し
;□
;□　ﾕﾆｯﾄ1-1 自動運転ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M5500 K4         ; U10-1_S0_
LDB M5574                ; ﾕﾆｯﾄ10-1起動中
MOV K0 D5500             ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
LD M5574                 ; ﾕﾆｯﾄ10-1起動中
MOV D5500 Z1             ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
SET M5500:Z1             ; U10-1_S0_
;条件分岐
LD M5500                 ; U10-1_S0_
AND X1288                ; OKｺﾝﾍﾞﾔ_除材部ﾜｰｸ確認(1:無/0:有)
INC D5500                ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S1_ﾜｰｸ搭載待ち
LD M5501                 ; U10-1_S1_
MPS
ANB M5993                ; ﾕﾆｯﾄ10ﾜｰｸ無し(払出時)
MPS
AND M3310                ; OKｺﾝﾍﾞﾔ給材開始
INC D5500                ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
MPP
AND X1288                ; OKｺﾝﾍﾞﾔ_除材部ﾜｰｸ確認(1:無/0:有)
OUT M5900                ; OKｺﾝﾍﾞﾔ部_ﾜｰｸ供給要求
MPP
AND M5993                ; ﾕﾆｯﾄ10ﾜｰｸ無し(払出時)
MOV K20 D5500            ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
LD M5502                 ; U10-1_S2_OK_CV_ワーク受取中
LD M3312                 ; OKｺﾝﾍﾞﾔ給材完了
OR M5901                 ; OKｺﾝﾍﾞﾔ供給完了受取り
ANL
MPS
LDB M3310                ; OKｺﾝﾍﾞﾔ給材開始
ANB M3312                ; OKｺﾝﾍﾞﾔ給材完了
ANL
INC D5500                ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
MPP
OUT M5901                ; OKｺﾝﾍﾞﾔ供給完了受取り
LD M5503                 ; U10-1_S3_
LDB X1288                ; OKｺﾝﾍﾞﾔ_除材部ﾜｰｸ確認(1:無/0:有)
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
AND= D5701 K1            ; OKｺﾝﾍﾞﾔ_ﾜｰｸ有無記憶
LD M2840                 ; Z_搬送高さ(HIGH)_搬送1
OR M2855                 ; Z_搬送高さ(MIDLE)_搬送1
ANL
INC D5500                ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
LD M5504                 ; U10-1_S4_
INC D5500                ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
LD M5505                 ; U10-1_S5_
INC D5500                ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
LD M5506                 ; U10-1_S6_
INC D5500                ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
LD M5507                 ; U10-1_S7_
INC D5500                ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
LD M5508                 ; U10-1_S8_
AND M5979                ; ﾕﾆｯﾄ10ｽﾃｯﾌﾟ動作
INC D5500                ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
LD M5509                 ; U10-1_S9_OKｺﾝﾍﾞﾔ部満杯確認部
AND X1289                ; OKｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
ANB B0323                ; 803)_U6E1_OKｺﾝﾍﾞﾔ満杯警報
INC D5500                ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
;　　ｺﾝﾍﾞﾔﾓｰﾀｰ回転
LD M5510                 ; U10-1_S10_OKｺﾝﾍﾞﾔ回転
MPS
AND T1020                ; OK_CV_ピッチ送り時間
INC D5500                ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
MPP
LDB T1003                ; OKｺﾝﾍﾞﾔ到達確認時間
AND X1288                ; OKｺﾝﾍﾞﾔ_除材部ﾜｰｸ確認(1:無/0:有)
ANL
TMR K1020 K15            ; OK_CV_ピッチ送り時間
LD M5511                 ; U10-1_S11_
INC D5500                ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
FMOV K0 D5700 K100       ; OKｺﾝﾍﾞﾔ_INDEX NO.
LD M5512                 ; U10-1_S12_
INC D5500                ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
LD M5513                 ; U10-1_S13_
INC D5500                ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
LD M5514                 ; U10-1_S14_
INC D5500                ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
LD M5515                 ; U10-1_S15_
AND M5979                ; ﾕﾆｯﾄ10ｽﾃｯﾌﾟ動作
MOV K63 D5500            ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S20_払出し停止用動作
LD M5520                 ; U10-1_S20_
INC D5500                ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
@MOV K0 D5514            ; OK_CV_払出回転時間
LD M5521                 ; U10-1_S21_ﾓｰﾀｰ回転指令
MPS
ANB X1289                ; OKｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
INC D5500                ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
MPP
LDP CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
AND X1289                ; OKｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
ANL
MPS
INC D5514                ; OK_CV_払出回転時間
MPP
LD>= D5514 K70           ; OK_CV_払出回転時間
AND X1289                ; OKｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
ANL
MOV K24 D5500            ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
LD M5522                 ; U10-1_S22_OK_CV_再起動
AND X1289                ; OKｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
MPS
AND T1022                ; OK_CV_再起動_DLY
MOV K21 D5500            ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
MPP
TMR K1022 K10            ; OK_CV_再起動_DLY
;　　ﾃﾞｰﾀ消去
LD M5524                 ; U10-1_S24_
LD M5993                 ; ﾕﾆｯﾄ10ﾜｰｸ無し(払出時)
ORB M36                  ; 払出ﾓｰﾄﾞ
ANL
INC D5500                ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
LD M5525                 ; U10-1_S25_OK製品ﾃﾞｰﾀｸﾘｱ要求
LD W01.8                 ; OK排出製品ﾃﾞｰﾀｸﾘｱ完了
OR M3                    ; OFFLINE_MODE
OR M35                   ; 空運転ﾓｰﾄﾞ
ORB M0                   ; 常時OFF
ANL
MOV K63 D5500            ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND CR2003               ; 常時OFF
MOV K62 D5500            ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
LD M5562                 ; U10-1_S62_
OR CR2003                ; 常時OFF
@MOV K63 D5500           ; ﾕﾆｯﾄ6-1自動運転ｽﾃｯﾌﾟ
;<h1/>◇_NGｺﾝﾍﾞﾔ（ﾕﾆｯﾄ6-2状態・動作条件(補助)
LDB Y56                  ; NG品ｺﾝﾍﾞｱ電源ON
AND X128C                ; NGｺﾝﾍﾞﾔ_除材部ﾜｰｸ確認(1:無/0:有)
AND X128D                ; NGｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
OUT M5650                ; ﾕﾆｯﾄ10-2原点_NG_CV
LDB CR2003               ; 常時OFF
INV
OUT M5651                ; ﾕﾆｯﾄ10-2異常
LD M5650                 ; ﾕﾆｯﾄ10-2原点_NG_CV
ANB M5654                ; ﾕﾆｯﾄ10-2起動中
AND M5979                ; ﾕﾆｯﾄ10ｽﾃｯﾌﾟ動作
ANB M5993                ; ﾕﾆｯﾄ10ﾜｰｸ無し(払出時)
AND M2659                ; 初期起動時吸着ｾﾝｻ確認完了記憶
OUT M5652                ; ﾕﾆｯﾄ10-2起動条件
LDB M50                  ; 運転準備
OR M5986                 ; ﾕﾆｯﾄ10ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M5653                ; ﾕﾆｯﾄ10-2起動OFF
LD M73                   ; 各工程起動指令
AND M5652                ; ﾕﾆｯﾄ10-2起動条件
OR M5654                 ; ﾕﾆｯﾄ10-2起動中
ANB M5653                ; ﾕﾆｯﾄ10-2起動OFF
ANB M5643                ; ﾕﾆｯﾄ10-2ｻｲｸﾙ終了
OUT M5654                ; ﾕﾆｯﾄ10-2起動中
;ﾕﾆｯﾄ1-2ｻｲｸﾙ停止異常
LDB CR2003               ; 常時OFF
INV
OUT M5655                ; ﾕﾆｯﾄ10-2ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-2ｴﾗｰ発生まとめ
LDB CR2003               ; 常時OFF
INV
OUT M5656                ; ﾕﾆｯﾄ10-2ｴﾗｰ発生
;ﾕﾆｯﾄ1-2停止判定
LD= D5501 D5506          ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ6-2動作中判定
ORB M5654                ; ﾕﾆｯﾄ10-2起動中
TMR K1011 K20
LD CR2002                ; 常時ON
MOV D5501 D5506          ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ6-2動作中判定
LD T1011
LD CR2003                ; 常時OFF
AND M31                  ; 手動ﾓｰﾄﾞ
ORL
OUT M5657                ; ﾕﾆｯﾄ10-2動作無し
;□
;□　ﾕﾆｯﾄ1-2ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M5580 K4         ; U10-2_S0
LDB M5654                ; ﾕﾆｯﾄ10-2起動中
MOV K0 D5501             ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
LD M5654                 ; ﾕﾆｯﾄ10-2起動中
MOV D5501 Z1             ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
SET M5580:Z1             ; U10-2_S0
;<h1/>__S0_ﾜｰｸ搭載待ち
LD M5580                 ; U10-2_S0
MPS
ANB M5993                ; ﾕﾆｯﾄ10ﾜｰｸ無し(払出時)
MPS
AND M3311                ; NGｺﾝﾍﾞﾔ給材開始
INC D5501                ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
MPP
AND X128C                ; NGｺﾝﾍﾞﾔ_除材部ﾜｰｸ確認(1:無/0:有)
OUT M5902                ; NGｺﾝﾍﾞﾔ部_ﾜｰｸ供給要求
MPP
AND M5993                ; ﾕﾆｯﾄ10ﾜｰｸ無し(払出時)
MOV K20 D5501            ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
LD M5581                 ; U10-2_S1_NG_CV_ワーク受取中
LD M3313                 ; NGｺﾝﾍﾞﾔ給材完了
OR M5903                 ; NGｺﾝﾍﾞﾔ供給完了受取り
ANL
MPS
LDB M3311                ; NGｺﾝﾍﾞﾔ給材開始
ANB M3313                ; NGｺﾝﾍﾞﾔ給材完了
ANL
INC D5501                ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
MPP
OUT M5903                ; NGｺﾝﾍﾞﾔ供給完了受取り
LD M5582                 ; U10-2_S2_U10-2_S1_
LDB X128C                ; NGｺﾝﾍﾞﾔ_除材部ﾜｰｸ確認(1:無/0:有)
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
AND= D5801 K1            ; NGｺﾝﾍﾞﾔ_ﾜｰｸ有無記憶
LD M2840                 ; Z_搬送高さ(HIGH)_搬送1
OR M2855                 ; Z_搬送高さ(MIDLE)_搬送1
ANL
INC D5501                ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
LD M5583                 ; U10-2_S3
INC D5501                ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
LD M5584                 ; U10-2_S4
INC D5501                ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
LD M5585                 ; U10-2_S5
INC D5501                ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
LD M5586                 ; U10-2_S6
INC D5501                ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
LD M5587                 ; U10-2_S7
INC D5501                ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
LD M5588                 ; U10-2_S8
INC D5501                ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
LD M5589                 ; U10-2_S9
AND X128D                ; NGｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
ANB B0324                ; 804)_U6E2_NGｺﾝﾍﾞﾔ満杯警報
INC D5501                ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
;　　ｺﾝﾍﾞﾔﾓｰﾀｰ回転
LD M5590                 ; U10-2_S10_NGｺﾝﾍﾞﾔ起動指令
MPS
LD T1021                 ; NG _CV_ワーク到着_DLY
OR T1025                 ; ﾜｰｸ到着確認前にﾜｰｸをとられたﾀｲﾏ
ANL
INC D5501                ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
MRD
LD X128C                 ; NGｺﾝﾍﾞﾔ_除材部ﾜｰｸ確認(1:無/0:有)
ANB X128D                ; NGｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
ANL
TMR K1021 K8             ; NG _CV_ワーク到着_DLY
MPP
LD X128C                 ; NGｺﾝﾍﾞﾔ_除材部ﾜｰｸ確認(1:無/0:有)
AND X128D                ; NGｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
ANL
TMR K1025 K100           ; ﾜｰｸ到着確認前にﾜｰｸをとられたﾀｲﾏ
LD M5591                 ; U10-2_S11_NG_CV_ワーク取出待ち
MPS
AND T1024                ; NG_ワーク取出_完了
INC D5501                ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
MPP
AND X128D                ; NGｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
TMR K1024 K10            ; NG_ワーク取出_完了
LD M5592                 ; U10-2_S12
INC D5501                ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
LD M5593                 ; U10-2_S13
INC D5501                ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
LD M5594                 ; U10-2_S14
INC D5501                ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
LD M5595                 ; U10-2_S15
AND M5979                ; ﾕﾆｯﾄ10ｽﾃｯﾌﾟ動作
MOV K63 D5501            ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
;<h1/>__S20_払出し停止用動作
LD M5600                 ; U10-2_S20_
INC D5501                ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
@MOV K0 D5516            ; NG_CV_払出回転時間
LD M5601                 ; U10-2_S21_NGｺﾝﾍﾞﾔ起動指令
MPS
ANB X128D                ; NGｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
INC D5501                ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
MPP
LDP CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
AND X128D                ; NGｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
ANL
MPS
INC D5516                ; NG_CV_払出回転時間
MPP
AND>= D5516 K60          ; NG_CV_払出回転時間
MOV K24 D5501            ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
LD M5602                 ; U10-2_S22
AND X128D                ; NGｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
MPS
AND T1023                ; NG_CV_再起動_DLY
MOV K21 D5501            ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
MPP
TMR K1023 K10            ; NG_CV_再起動_DLY
;　　ﾃﾞｰﾀ消去
LD M5604                 ; U10-2_S24
AND M5993                ; ﾕﾆｯﾄ10ﾜｰｸ無し(払出時)
INC D5501                ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
LD M5605                 ; U10-2_S25_NG製品ﾃﾞｰﾀｸﾘｱ要求
LD W01.9                 ; NG排出製品ﾃﾞｰﾀｸﾘｱ完了
OR M3                    ; OFFLINE_MODE
OR M35                   ; 空運転ﾓｰﾄﾞ
ORB M0                   ; 常時OFF
ANL
MOV K63 D5501            ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND CR2003               ; 常時OFF
MOV K62 D5501            ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
LD M5642                 ; U10-2_S62
OR CR2003                ; 常時OFF
@MOV K63 D5501           ; ﾕﾆｯﾄ6-2自動運転ｽﾃｯﾌﾟ
;<h1/>◇_未使用_ﾕﾆｯﾄ6-3状態・動作条件(補助)
LDB M0                   ; 常時OFF
OUT M5730                ; ﾕﾆｯﾄ10-3原点_現在未使用
LDB CR2003               ; 常時OFF
INV
OUT M5731                ; ﾕﾆｯﾄ10-3全異常
LD M5730                 ; ﾕﾆｯﾄ10-3原点_現在未使用
ANB M5734                ; ﾕﾆｯﾄ10-3起動中
AND M5979                ; ﾕﾆｯﾄ10ｽﾃｯﾌﾟ動作
OUT M5732                ; ﾕﾆｯﾄ10-3起動条件
LDB M50                  ; 運転準備
OR M5986                 ; ﾕﾆｯﾄ10ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M5733                ; ﾕﾆｯﾄ10-3起動OFF
LD M73                   ; 各工程起動指令
AND CR2003               ; 常時OFF
AND M5732                ; ﾕﾆｯﾄ10-3起動条件
OR M5734                 ; ﾕﾆｯﾄ10-3起動中
ANB M5733                ; ﾕﾆｯﾄ10-3起動OFF
ANB M5723                ; ﾕﾆｯﾄ10-3ｻｲｸﾙ終了
OUT M5734                ; ﾕﾆｯﾄ10-3起動中
;ﾕﾆｯﾄ1-3ｻｲｸﾙ停止異常
LDB CR2003               ; 常時OFF
INV
OUT M5735                ; ﾕﾆｯﾄ10-3ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-3ｴﾗｰ発生まとめ
LDB CR2003               ; 常時OFF
INV
OUT M5736                ; ﾕﾆｯﾄ10-3ｴﾗｰ発生
;ﾕﾆｯﾄ1-3停止判定
LD= D5502 D5507          ; ﾕﾆｯﾄ6-3自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ6-3動作中判定
TMR K1012 K20
LD CR2002                ; 常時ON
MOV D5502 D5507          ; ﾕﾆｯﾄ6-3自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ6-3動作中判定
LD T1012
ORB M5734                ; ﾕﾆｯﾄ10-3起動中
OUT M5737                ; ﾕﾆｯﾄ10-3動作無し
;□
;□　ﾕﾆｯﾄ1-3自動運転ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M5660 K4         ; STEP0
LDB M5734                ; ﾕﾆｯﾄ10-3起動中
MOV K0 D5502             ; ﾕﾆｯﾄ6-3自動運転ｽﾃｯﾌﾟ
LD M5734                 ; ﾕﾆｯﾄ10-3起動中
MOV D5502 Z1             ; ﾕﾆｯﾄ6-3自動運転ｽﾃｯﾌﾟ
SET M5660:Z1             ; STEP0
;ﾜｰｸ有無判定
LD M5660                 ; STEP0
AND M5979                ; ﾕﾆｯﾄ10ｽﾃｯﾌﾟ動作
MPS
AND CR2003               ; 常時OFF
@INC D5502               ; ﾕﾆｯﾄ6-3自動運転ｽﾃｯﾌﾟ
MPP
AND CR2003               ; 常時OFF
@MOV K4 D5502            ; ﾕﾆｯﾄ6-3自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND CR2003               ; 常時OFF
MOV K62 D5502            ; ﾕﾆｯﾄ6-3自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
LD M5722                 ; ﾕﾆｯﾄ10-3ｻｲｸﾙ停止処理
OR CR2003                ; 常時OFF
@MOV K63 D5502           ; ﾕﾆｯﾄ6-3自動運転ｽﾃｯﾌﾟ
;<h1/>□_UNIT_6_原点復帰回路
LD CR2002                ; 常時ON
FMOV K0 M5750 K3         ; STEP0_OK_NG_CV_Org_先頭
LDB M5984                ; ﾕﾆｯﾄ10原点復帰中
MOV K0 D5510             ; ﾕﾆｯﾄ6原点復帰ｽﾃｯﾌﾟ
LD M5984                 ; ﾕﾆｯﾄ10原点復帰中
MOV D5510 Z1             ; ﾕﾆｯﾄ6原点復帰ｽﾃｯﾌﾟ
SET M5750:Z1             ; STEP0_OK_NG_CV_Org_先頭
;原点復帰ｻｲｸﾙ監視
LD M5984                 ; ﾕﾆｯﾄ10原点復帰中
TMR K1000 K200           ; ﾗｯｸ排出CV原点復帰ﾀｲﾑｱｳﾄ
;原点復帰ステップ開始
LD M5750                 ; STEP0_OK_NG_CV_Org_先頭
MPS
AND M2840                ; Z_搬送高さ(HIGH)_搬送1
INC D5510                ; ﾕﾆｯﾄ6原点復帰ｽﾃｯﾌﾟ
MRD
@MOV K0 D5512            ; OK_NG_CV_Org_回転時間
MRD
@MOV K0 D5520            ; NG_CV_Status
MPP
@FMOV K0 D5700 K200      ; OKｺﾝﾍﾞﾔ_INDEX NO.
LD M5751                 ; STEP1_OK_NG_CV_満杯チェック
MPS
LDB X1289                ; OKｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
ORB X128D                ; NGｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
ANL
INC D5510                ; ﾕﾆｯﾄ6原点復帰ｽﾃｯﾌﾟ
MPP
LD X1289                 ; OKｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
AND X128D                ; NGｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
ANL
MOV K4 D5510             ; ﾕﾆｯﾄ6原点復帰ｽﾃｯﾌﾟ
LD M5752                 ; STEP2_OK_NG_CV_満杯
AND X1289                ; OKｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
AND X128D                ; NGｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
MPS
TMR K1006 K5             ; OK_NG_CV_除材確認
MPP
AND T1006                ; OK_NG_CV_除材確認
MOV K1 D5510             ; ﾕﾆｯﾄ6原点復帰ｽﾃｯﾌﾟ
LD M5754                 ; STEP4_OK_NG_CV_回転指令_Org
MPS
LDB X1289                ; OKｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
ORB X128D                ; NGｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
ANL
MOV K1 D5510             ; ﾕﾆｯﾄ6原点復帰ｽﾃｯﾌﾟ
MPP
LD X1289                 ; OKｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
AND X128D                ; NGｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
ANL
MPS
ANP CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
INC D5512                ; OK_NG_CV_Org_回転時間
MPP
AND>= D5512 K110         ; OK_NG_CV_Org_回転時間
MOV K10 D5510            ; ﾕﾆｯﾄ6原点復帰ｽﾃｯﾌﾟ
LD M5760                 ; STEP10
AND M5980                ; ﾕﾆｯﾄ10原点_OK_NG_CV
MOV K46 D5510            ; ﾕﾆｯﾄ6原点復帰ｽﾃｯﾌﾟ
;原点復帰終了
LD M5796                 ; STEP46
ANB M82                  ; 原点復帰開始
MOV K47 D5510            ; ﾕﾆｯﾄ6原点復帰ｽﾃｯﾌﾟ
;<h1/>□_UNIT_6_手動回路
LD M31                   ; 手動ﾓｰﾄﾞ
AND M32                  ; ﾒｲﾝ手動操作可能条件
ANB M5985                ; ﾕﾆｯﾄ10起動中
ANB M5984                ; ﾕﾆｯﾄ10原点復帰中
MC
;OKｺﾝﾍﾞﾔ起動
LD M121                  ; 非常停止正常
AND M122                 ; 外部非常停止正常
LD M2818                 ; ROB_XYZ_復帰完了_Flg
ANB M2832                ; XY_OK品排出位置
OR M2840                 ; Z_搬送高さ(HIGH)_搬送1
ANL
OUT M5800                ; OKｺﾝﾍﾞﾔ起動OK
LDP B11A0                ; UNIT6-1-1 TP-PB
ORP X30A                 ; OKｺﾝﾍﾞﾔ起動
LD M5801                 ; OKｺﾝﾍﾞﾔ起動指令
ANB M5803                ; OKｺﾝﾍﾞﾔ起動OFF指令
ORL
AND M5800                ; OKｺﾝﾍﾞﾔ起動OK
OUT M5801                ; OKｺﾝﾍﾞﾔ起動指令
LD CR2002                ; 常時ON
OUT M5802                ; OKｺﾝﾍﾞﾔ起動OFF_OK
LDP B11A1                ; UNIT6-1-2 TP-PB
LDB X30A                 ; OKｺﾝﾍﾞﾔ起動
MEP
ORL
AND M5802                ; OKｺﾝﾍﾞﾔ起動OFF_OK
LD M5803                 ; OKｺﾝﾍﾞﾔ起動OFF指令
ANB M5801                ; OKｺﾝﾍﾞﾔ起動指令
ORL
OUT M5803                ; OKｺﾝﾍﾞﾔ起動OFF指令
;NGｺﾝﾍﾞﾔ起動
LD M121                  ; 非常停止正常
AND M122                 ; 外部非常停止正常
LD M2818                 ; ROB_XYZ_復帰完了_Flg
ANB M2833                ; XY_NG品排出位置
OR M2840                 ; Z_搬送高さ(HIGH)_搬送1
ANL
OUT M5804                ; NGｺﾝﾍﾞﾔ起動OK
LDP B11A2                ; UNIT6-1-3 TP-PB
ORP X30B                 ; NGｺﾝﾍﾞﾔ起動
LD M5805                 ; NGｺﾝﾍﾞﾔ起動指令
ANB M5807                ; NGｺﾝﾍﾞﾔ起動OFF指令
ORL
AND M5804                ; NGｺﾝﾍﾞﾔ起動OK
OUT M5805                ; NGｺﾝﾍﾞﾔ起動指令
LD CR2002                ; 常時ON
OUT M5806                ; NGｺﾝﾍﾞﾔ起動OFF_OK
LDP B11A3                ; UNIT6-1-4 TP-PB
LDB X30B                 ; NGｺﾝﾍﾞﾔ起動
MEP
ORL
AND M5806                ; NGｺﾝﾍﾞﾔ起動OFF_OK
LD M5807                 ; NGｺﾝﾍﾞﾔ起動OFF指令
ANB M5805                ; NGｺﾝﾍﾞﾔ起動指令
ORL
OUT M5807                ; NGｺﾝﾍﾞﾔ起動OFF指令
MCR
;<h1/>□_出力回路
;ソレノイドバルブ出力
LDB M5801                ; OKｺﾝﾍﾞﾔ起動指令
ANB M5754                ; STEP4_OK_NG_CV_回転指令_Org
INV
LD M5510                 ; U10-1_S10_OKｺﾝﾍﾞﾔ回転
ANB T1003                ; OKｺﾝﾍﾞﾔ到達確認時間
OR M5521                 ; U10-1_S21_ﾓｰﾀｰ回転指令
LD X30A                  ; OKｺﾝﾍﾞﾔ起動
ANB T1003                ; OKｺﾝﾍﾞﾔ到達確認時間
ANB M5502                ; U10-1_S2_OK_CV_ワーク受取中
AND M72                  ; 自動運転開始
ORL
AND M5979                ; ﾕﾆｯﾄ10ｽﾃｯﾌﾟ動作
ORL
AND M50                  ; 運転準備
OUT Y55                  ; OK品ｺﾝﾍﾞｱ電源ON
LDB M5805                ; NGｺﾝﾍﾞﾔ起動指令
ANB M5754                ; STEP4_OK_NG_CV_回転指令_Org
INV
LD M5590                 ; U10-2_S10_NGｺﾝﾍﾞﾔ起動指令
OR M5601                 ; U10-2_S21_NGｺﾝﾍﾞﾔ起動指令
LD X30B                  ; NGｺﾝﾍﾞﾔ起動
ANB T1004                ; NGｺﾝﾍﾞﾔ到着確認時間
ANB M5581                ; U10-2_S1_NG_CV_ワーク受取中
AND M72                  ; 自動運転開始
ORL
AND M5979                ; ﾕﾆｯﾄ10ｽﾃｯﾌﾟ動作
ORL
AND M50                  ; 運転準備
OUT Y56                  ; NG品ｺﾝﾍﾞｱ電源ON
LDB M5522                ; U10-1_S22_OK_CV_再起動
INV
OR T1003                 ; OKｺﾝﾍﾞﾔ到達確認時間
ANB B0323                ; 803)_U6E1_OKｺﾝﾍﾞﾔ満杯警報
LD B0323                 ; 803)_U6E1_OKｺﾝﾍﾞﾔ満杯警報
AND CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
ORL
OUT Y316                 ; OKｺﾝﾍﾞﾔﾋﾟｯｷﾝｸﾞﾗﾝﾌﾟ
LDB M5522                ; U10-1_S22_OK_CV_再起動
ANB M5591                ; U10-2_S11_NG_CV_ワーク取出待ち
INV
OR T1004                 ; NGｺﾝﾍﾞﾔ到着確認時間
ANB B0324                ; 804)_U6E2_NGｺﾝﾍﾞﾔ満杯警報
LD B0324                 ; 804)_U6E2_NGｺﾝﾍﾞﾔ満杯警報
AND CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
ORL
OUT Y317                 ; NGｺﾝﾍﾞﾔ_ﾋﾟｯｷﾝｸﾞﾗﾝﾌﾟ
;■その他制御出力
;□□　　パネル表示　　□□
LD M5801                 ; OKｺﾝﾍﾞﾔ起動指令
OUT B16A0                ; UNIT6-1-1 TP-PL
LDB M5801                ; OKｺﾝﾍﾞﾔ起動指令
OUT B16A1                ; UNIT6-1-2 TP-PL
LD M5805                 ; NGｺﾝﾍﾞﾔ起動指令
OUT B16A2                ; UNIT6-1-3 TP-PL
LDB M5805                ; NGｺﾝﾍﾞﾔ起動指令
OUT B16A3                ; UNIT6-1-4 TP-PL
LD M5801                 ; OKｺﾝﾍﾞﾔ起動指令
LD Y55                   ; OK品ｺﾝﾍﾞｱ電源ON
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
LD X30A                  ; OKｺﾝﾍﾞﾔ起動
AND Y55                  ; OK品ｺﾝﾍﾞｱ電源ON
ANB M5502                ; U10-1_S2_OK_CV_ワーク受取中
AND M30                  ; 自動ﾓｰﾄﾞ
ORL
OUT Y314                 ; OKｺﾝﾍﾞﾔ起動表示
LD M5805                 ; NGｺﾝﾍﾞﾔ起動指令
LD Y56                   ; NG品ｺﾝﾍﾞｱ電源ON
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
LD X30B                  ; NGｺﾝﾍﾞﾔ起動
AND Y56                  ; NG品ｺﾝﾍﾞｱ電源ON
ANB M5581                ; U10-2_S1_NG_CV_ワーク受取中
AND M30                  ; 自動ﾓｰﾄﾞ
ORL
OUT Y315                 ; NGｺﾝﾍﾞﾔ起動表示
;<h1/>□_異常検出
LD T1001                 ; OKｺﾝﾍﾞﾔ満杯時間
LD M5752                 ; STEP2_OK_NG_CV_満杯
ANB X1289                ; OKｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
ORL
AND M50                  ; 運転準備
OUT B0323                ; 803)_U6E1_OKｺﾝﾍﾞﾔ満杯警報
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0823                 ; 803)_U6E1_ブザー停止
AND B0323                ; 803)_U6E1_OKｺﾝﾍﾞﾔ満杯警報
OUT B0823                ; 803)_U6E1_ブザー停止
LD T1002                 ; NGｺﾝﾍﾞﾔ満杯時間
LD M5752                 ; STEP2_OK_NG_CV_満杯
ANB X128D                ; NGｺﾝﾍﾞﾔ_満杯検出(1:無/0:有)
ORL
AND M50                  ; 運転準備
OUT B0324                ; 804)_U6E2_NGｺﾝﾍﾞﾔ満杯警報
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0824                 ; 804)_U6E2_ブザー定S
AND B0324                ; 804)_U6E2_NGｺﾝﾍﾞﾔ満杯警報
OUT B0824                ; 804)_U6E2_ブザー定S
;異常ﾌﾞｻﾞｰまとめ
LDB B0323                ; 803)_U6E1_OKｺﾝﾍﾞﾔ満杯警報
OR B0823                 ; 803)_U6E1_ブザー停止
LDB B0324                ; 804)_U6E2_NGｺﾝﾍﾞﾔ満杯警報
OR B0824                 ; 804)_U6E2_ブザー定S
ANL
INV
OUT M5989                ; ﾕﾆｯﾄ10異常BZ補助
MCR
END
ENDH
