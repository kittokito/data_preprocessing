DEVICE:53
;MODULE:UNIT1_Supply
;MODULE_TYPE:0
;<h1/>□_入力受け
;関連する入力受け(ｾﾝｻのﾃﾞｨﾚｲﾀｲﾏ等)を必要があれば作成する。
;通常は入力ﾕﾆｯﾄに入力時定数(ﾃﾞｨﾚｲ)があるので直接使用しても問題は無い。
LD X1280                 ; 給材部ﾜｰｸ有無確認(ON=有)
TMR K101 K5              ; 給材部ﾜｰｸ有確認(ON=有)
LDB X1280                ; 給材部ﾜｰｸ有無確認(ON=有)
TMR K105 K5              ; 給材部ﾜｰｸ無し確認
TMH K109 K10             ; 給材部ﾜｰｸ無し確認
LD X1282                 ; 給材部ﾜｰｸ浮き確認1(ON=OK)
AND X1283                ; 給材部ﾜｰｸ浮き確認2(ON=OK)
TMR K102 K3              ; 給材部ﾜｰｸ浮き確認(ON=OK)
LD X1280                 ; 給材部ﾜｰｸ有無確認(ON=有)
TMR K103 K3              ; 給材引込部ﾜｰｸ有無確認(ON=有)
LD X30C                  ; NGﾎﾞｯｸｽﾜｰｸ検知(ON有)
TMR K104 K3              ; NGﾎﾞｯｸｽﾜｰｸ有検知
LDB X30C                 ; NGﾎﾞｯｸｽﾜｰｸ検知(ON有)
TMR K107 K10             ; NGﾎﾞｯｸｽﾜｰｸ無
LD X1296                 ; ﾜｰｸｾｯﾄ部_搬送前進端
TMR K130 K3              ; ﾜｰｸｾｯﾄ部_搬送前進端
LD X1297                 ; ﾜｰｸｾｯﾄ部_搬送後退端
TMR K131 K3              ; ﾜｰｸｾｯﾄ部_搬送後退端
LD X1285                 ; 投入部JIG識別ID_1
OUT D1052.0              ; 投入部JIG識別ID_1_Copy
LD X1286                 ; 投入部JIG識別ID_2
OUT D1052.1              ; 投入部JIG識別ID_2_Copy
LD X1287                 ; 投入部JIG識別ID_4
OUT D1052.2              ; 投入部JIG識別ID_4_Copy
LD<> D1050 D1052         ; 投入部JIG_ID  投入部JIG識別ID_Copy
AND T131                 ; ﾜｰｸｾｯﾄ部_搬送後退端
MPS
TMR K106 K5              ; 投入治具ID_変更有り
MPP
AND T106                 ; 投入治具ID_変更有り
MOV D1052 D1050          ; 投入部JIG識別ID_Copy  投入部JIG_ID
LD CR2002                ; 常時ON
MOV D1050 W0120          ; 投入部JIG_ID  投入ﾊﾟﾚｯﾄID
LD D1201                 ; 投入部1_ﾜｰｸ有無記憶
LD= D1203 K1             ; 投入部1_ﾘｰｸ検査結果(1=OK_2=NG)
OR<> D1205 K0            ; 投入部1_再検査品st
OR L10                   ; ﾘｰｸ検査有無(0_有/1_無)
ANL
LD= D1204 K1             ; 投入部1_ﾌｧｲﾅﾙ検査結果(1=OK_2=NG)
OR L11                   ; ﾌｧｲﾅﾙ検査有無(0_有/1_無)
ANL
OUT M1300                ; 供給ｽﾗｲﾀﾞOK品
LD D1201                 ; 投入部1_ﾜｰｸ有無記憶
LD= D1203 K2             ; 投入部1_ﾘｰｸ検査結果(1=OK_2=NG)
AND= D1205 K0            ; 投入部1_再検査品st
ANB L10                  ; ﾘｰｸ検査有無(0_有/1_無)
LD= D1204 K2             ; 投入部1_ﾌｧｲﾅﾙ検査結果(1=OK_2=NG)
ANB L11                  ; ﾌｧｲﾅﾙ検査有無(0_有/1_無)
ORL
ANL
OUT M1301                ; 供給ｽﾗｲﾀﾞNG品
;<h1/>□_装置状態・動作条件
;ﾕﾆｯﾄまとめ
LD M1070                 ; ﾕﾆｯﾄ1-1原点_供給ｽﾗｲﾀﾞ部
AND M1150                ; ﾕﾆｯﾄ1-2原点_ﾊﾞｰｺｰﾄﾞ読取
OUT M1480                ; ﾕﾆｯﾄ1原点
;□ 非常停止
LDB M1071                ; ﾕﾆｯﾄ1-1全異常_供給ｽﾗｲﾀﾞ部
ANB M1151                ; ﾕﾆｯﾄ1-2異常
ANB M1231                ; ﾕﾆｯﾄ1-3全異常
INV
OUT M1481                ; ﾕﾆｯﾄ1即停止異常
;□ 起動条件
LD M1072                 ; ﾕﾆｯﾄ1-1起動条件_供給ｽﾗｲﾀﾞ部
AND M1152                ; ﾕﾆｯﾄ1-2起動条件
OUT M1482                ; ﾕﾆｯﾄ1起動条件
;□ 起動OFF
LDB M50                  ; 運転準備
LD M60                   ; ｴﾗｰ発生
OR M52                   ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
AND M1484                ; ﾕﾆｯﾄ1原点復帰中
ORL
OR T15                   ; 強制停止
OUT M1483                ; ﾕﾆｯﾄ1_原点復帰起動OFF
;□ 原点復帰
LD M82                   ; 原点復帰開始
ANB M1484                ; ﾕﾆｯﾄ1原点復帰中
OR M1484                 ; ﾕﾆｯﾄ1原点復帰中
ANB M1483                ; ﾕﾆｯﾄ1_原点復帰起動OFF
ANB M1491                ; ﾕﾆｯﾄ1ｴﾗｰ発生
ANB M1297                ; STEPEND
OUT M1484                ; ﾕﾆｯﾄ1原点復帰中
MPS
@MOV K0 D1550            ; 搬送_1_ﾜｰｸ在荷_CNT
MPP
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT B1599                ; UNIT1-2-10 TP-PL
;□ 起動中
LDB M1074                ; ﾕﾆｯﾄ1-1起動中
ANB M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
ANB M1234                ; NG品排出Sub起動中
INV
OUT M1485                ; ﾕﾆｯﾄ1起動中
;□ ｻｲｸﾙ停止異常
LDB M1075                ; ﾕﾆｯﾄ1-1ｻｲｸﾙ停止異常
ANB M1155                ; ﾕﾆｯﾄ1-2ｻｲｸﾙ停止異常
ANB M1235                ; ﾕﾆｯﾄ1-3ｻｲｸﾙ停止異常
ANB B024                 ; 36)_U1E5_供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
INV
OUT M1486                ; ﾕﾆｯﾄ1ｻｲｸﾙ停止異常
;□ 払出停止異常
LDB CR2003               ; 常時OFF
INV
OUT M1487                ; ﾕﾆｯﾄ1払出停止異常
;□ 警報補助
LDB B0321                ; 801)_U1E8_給材部ﾜｰｸ除去要求
INV
OUT M1488                ; ﾕﾆｯﾄ1警報補助
;□ 機器準備確認
LD X100F                 ; #01_RX00F_サーボ状態
OUT M1490                ; ﾕﾆｯﾄ1機器準備完了
;□ ｴﾗｰ発生　一時停止
LDB M1076                ; ﾕﾆｯﾄ1-1ｴﾗｰ発生(一時停止処理)
ANB M1156                ; ﾕﾆｯﾄ1-2ｴﾗｰ発生
ANB M1236                ; ﾕﾆｯﾄ1-3ｴﾗｰ発生
INV
OUT M1491                ; ﾕﾆｯﾄ1ｴﾗｰ発生
;□ 動作中ﾕﾆｯﾄ無し
LD M1077                 ; ﾕﾆｯﾄ1-1動作無し
AND M1157                ; ﾕﾆｯﾄ1-2動作無し
AND M1237                ; ﾕﾆｯﾄ1-3動作無し
OUT M1492                ; ﾕﾆｯﾄ1動作無し確認
;□ 払出しﾜｰｸ無し
LD T105                  ; 給材部ﾜｰｸ無し確認
ANB T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
AND M36                  ; 払出ﾓｰﾄﾞ
TMR K114 K10             ; UNIT1払出処理ﾜｰｸ無
LD T114                  ; UNIT1払出処理ﾜｰｸ無
OUT M1493                ; ﾕﾆｯﾄ1ﾜｰｸ無し
;□ ｽﾃｯﾌﾟ起動
LD M30                   ; 自動ﾓｰﾄﾞ
OR M31                   ; 手動ﾓｰﾄﾞ
ANB M130                 ; 一時停止
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M51                  ; 即停止異常(緊急停止)
ANB M52                  ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
ANB M57                  ; 全ﾕﾆｯﾄ払出完了
ANB M59                  ; 払出停止異常まとめ
ANB M60                  ; ｴﾗｰ発生
OUT M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
;<h1/>□_UNIT_1_自動回路
;<h1/>◇_ﾕﾆｯﾄ1-1状態・動作条件(補助)
LD T131                  ; ﾜｰｸｾｯﾄ部_搬送後退端
LDB T101                 ; 給材部ﾜｰｸ有確認(ON=有)
ANB T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
AND T107                 ; NGﾎﾞｯｸｽﾜｰｸ無
OR M75                   ; 自動運転開始PCﾁｪｯｸ開始
OR M71                   ; 自動運転開始BZ
ANL
AND= D1201 K0            ; 投入部1_ﾜｰｸ有無記憶
OUT M1070                ; ﾕﾆｯﾄ1-1原点_供給ｽﾗｲﾀﾞ部
LDB B020                 ; 32)_U1E1_ﾜｰｸ搬送前後CLｾﾝｻ異常
ANB B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
ANB B028                 ; 40)_ﾜｰｸ搬送異常
ANB B02A                 ; 42)_給材ｽﾗｲﾀﾞ不要ﾜｰｸ有異常
ANB B02B                 ; 43)_給材ｽﾗｲﾀﾞﾜｰｸ受取り異常
ANB B030                 ; 48)_供給ｽﾗｲﾀﾞ製品検知OFF異常
INV
OUT M1071                ; ﾕﾆｯﾄ1-1全異常_供給ｽﾗｲﾀﾞ部
LD M1070                 ; ﾕﾆｯﾄ1-1原点_供給ｽﾗｲﾀﾞ部
ANB M1074                ; ﾕﾆｯﾄ1-1起動中
ANB M130                 ; 一時停止
ANB M56                  ; 自動起動停止指令(ｻｲｸﾙ停止)
LDB M36                  ; 払出ﾓｰﾄﾞ
ANB M38                  ; 段取りﾓｰﾄﾞ
OR M3314                 ; 投入ｽﾗｲﾀﾞ_搭載位置移動要求
ANL
OUT M1072                ; ﾕﾆｯﾄ1-1起動条件_供給ｽﾗｲﾀﾞ部
LDB M50                  ; 運転準備
OR M1486                 ; ﾕﾆｯﾄ1ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M1073                ; ﾕﾆｯﾄ1-1起動OFF
LD M71                   ; 自動運転開始BZ
AND M1072                ; ﾕﾆｯﾄ1-1起動条件_供給ｽﾗｲﾀﾞ部
OR M1074                 ; ﾕﾆｯﾄ1-1起動中
ANB M1073                ; ﾕﾆｯﾄ1-1起動OFF
ANB M1063                ; _STEPEND
OUT M1074                ; ﾕﾆｯﾄ1-1起動中
;ﾕﾆｯﾄ1-1 ｻｲｸﾙ停止異常
LDB B020                 ; 32)_U1E1_ﾜｰｸ搬送前後CLｾﾝｻ異常
ANB B04C                 ; 76)_U2E13_吸着ｾﾝｻ確認異常
INV
OUT M1075                ; ﾕﾆｯﾄ1-1ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-1 一時停止ｴﾗｰ発生まとめ
LDB B021                 ; 33)_U1E2_投入部JIG_ID異常
ANB B023                 ; 35)_U1E4_ﾜｰｸ投入NG異常
ANB B031                 ; 49)_BCR読取異常
ANB B025                 ; 37)_U1E6_ﾘｰｸST2_2ｽﾃｰｼﾞﾁｪｯｸ
ANB B026                 ; 38)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
LDB B0321                ; 801)_U1E8_給材部ﾜｰｸ除去要求
OR CR2002                ; 常時ON
ANL
ANB B028                 ; 40)_ﾜｰｸ搬送異常
ANB B029                 ; 41)_投入部ﾜｰｸ浮き異常
ANB B02C                 ; 44)_NGﾜｰｸ処理警報
ANB B032                 ; 50)_邪魔板CLｾﾝｻｰ異常
INV
OUT M1076                ; ﾕﾆｯﾄ1-1ｴﾗｰ発生(一時停止処理)
;ﾕﾆｯﾄ1-1 停止判定
LD= D1000 D1005          ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ1-1動作中判定
ORB M1074                ; ﾕﾆｯﾄ1-1起動中
LD X100D                 ; #01_RX00D_運転完了
ORB X100C                ; #01_RX00C_運転実行中
ANL
TMR K110 K20             ; ﾕﾆｯﾄ1-1動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D1000 D1005          ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ1-1動作中判定
LD T110                  ; ﾕﾆｯﾄ1-1動作無し判定ﾀｲﾏ
OUT M1077                ; ﾕﾆｯﾄ1-1動作無し
;□
;□　ﾕﾆｯﾄ1-1 自動運転ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M1000 K4         ; ﾕﾆｯﾄ1-1ｽﾃｯﾌﾟ開始_S0
LDB M1074                ; ﾕﾆｯﾄ1-1起動中
MOV K0 D1000             ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MOV K0 D1201             ; 投入部1_ﾜｰｸ有無記憶
LD M1074                 ; ﾕﾆｯﾄ1-1起動中
MOV D1000 Z1             ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
SET M1000:Z1             ; ﾕﾆｯﾄ1-1ｽﾃｯﾌﾟ開始_S0
;<h1/>__S0_投入部ﾜｰｸ有無分岐
LD M1000                 ; ﾕﾆｯﾄ1-1ｽﾃｯﾌﾟ開始_S0
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S1_ﾜｰｸ供給待ち
LD M1001                 ; _1-1_S1
AND M2659                ; 初期起動時吸着ｾﾝｻ確認完了記憶
ANB M130                 ; 一時停止
MPS
LDB M36                  ; 払出ﾓｰﾄﾞ
ANB M38                  ; 段取りﾓｰﾄﾞ
AND T66                  ; 投入部ﾗｲﾄｶｰﾃﾝ_遮光_確認
OR T101                  ; 給材部ﾜｰｸ有確認(ON=有)
AND T101                 ; 給材部ﾜｰｸ有確認(ON=有)
ANL
MPS
ANB M179                 ; ﾘｰｸ上治具_休息指令中
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1370                ; ﾘｰｸ休息ﾓｰﾄﾞ中止ﾌﾗｸﾞ
MRD
OUT M1371                ; ﾘｰｸ休息ﾓｰﾄﾞｶｳﾝﾄ開始ﾌﾗｸﾞ
MRD
LD M3314                 ; 投入ｽﾗｲﾀﾞ_搭載位置移動要求
ANB T101                 ; 給材部ﾜｰｸ有確認(ON=有)
ANL
MOV K50 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
LDB M3314                ; 投入ｽﾗｲﾀﾞ_搭載位置移動要求
LD M36                   ; 払出ﾓｰﾄﾞ
OR M38                   ; 段取りﾓｰﾄﾞ
ANL
ANB T101                 ; 給材部ﾜｰｸ有確認(ON=有)
ANL
MOV K63 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1002                 ; _1-1_S2_検査ﾜｰｸ供給中
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
LD T101                  ; 給材部ﾜｰｸ有確認(ON=有)
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
MPS
AND T120                 ; ﾜｰｸ投入確認ﾃﾞｨﾚｲ
MOV K5 D1000             ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
TMR K120 K2              ; ﾜｰｸ投入確認ﾃﾞｨﾚｲ
MPP
LD T105                  ; 給材部ﾜｰｸ無し確認
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
MOV K1 D1000             ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1002                 ; _1-1_S2_検査ﾜｰｸ供給中
LD M1450                 ; 供給ｽﾗｲﾀﾞ_ﾜｰｸ投入動作中
ANB M1001                ; _1-1_S1
ANB M1036                ; _1-1_S36_
ORL
AND M1074                ; ﾕﾆｯﾄ1-1起動中
OUT M1450                ; 供給ｽﾗｲﾀﾞ_ﾜｰｸ投入動作中
;	ﾜｰｸ投入OK　&JigNO.ﾁｪｯｸ
LD M1005                 ; _1-1_S5_ｲﾝﾃﾞｯｸｽNO.ﾁｪｯｸ
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
LDB M1076                ; ﾕﾆｯﾄ1-1ｴﾗｰ発生(一時停止処理)
AND<> D1050 K0           ; 投入部JIG_ID
ANL
MPS
MOV D1050 D502           ; 投入部JIG_ID  自動_JIG_NO.指定
MPP
AND= D1050 D502          ; 投入部JIG_ID  自動_JIG_NO.指定
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
AND= D1050 K0            ; 投入部JIG_ID
MOV K1 D1000             ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1006                 ; _1-1_S6
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;　　■ｽﾃｰｼﾞ有効ﾁｪｯｸ（ここではＰＣからのＩＤ情報がこないので、ステージの有効／無効のみをチェックする）
LD M1007                 ; _1-1_S7_ｽﾃｰｼﾞﾁｪｯｸ
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
LD L1100                 ; ﾘｰｸst2_有効状態
OR L1300                 ; ﾘｰｸst1_有効状態
OR L10                   ; ﾘｰｸ検査有無(0_有/1_無)
LD L1200                 ; FINALST2_有効状態
OR L1400                 ; FINALST1_有効状態
OR L11                   ; ﾌｧｲﾅﾙ検査有無(0_有/1_無)
ANL
LD L1500                 ; ﾘｰｸst3_有効状態
OR L10                   ; ﾘｰｸ検査有無(0_有/1_無)
LD L1600                 ; FINALST3_有効状態
OR L11                   ; ﾌｧｲﾅﾙ検査有無(0_有/1_無)
ANL
LD L1700                 ; ﾘｰｸst4_有効状態
OR L10                   ; ﾘｰｸ検査有無(0_有/1_無)
LD L1800                 ; FINALST4_有効状態
OR L11                   ; ﾌｧｲﾅﾙ検査有無(0_有/1_無)
ANL
ORL
AND M99                  ; 能拡後対応FLG
ORL
ANL
MOV K10 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
OUT M1422                ; ｽﾃｰｼﾞ状態OK
MPP
ANB M1422                ; ｽﾃｰｼﾞ状態OK
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;　　ｽﾃｰｼﾞﾁｪｯｸ
LD M1008                 ; _1-1_S8_ｽﾃｰｼﾞ異常
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND B026                 ; 38)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1009                 ; _1-1_S9
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
ANB B026                 ; 38)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
MOV K1 D1000             ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S10_ﾜｰｸ浮きﾁｪｯｸ
LD M1010                 ; _1-1_S10
MPS
LD T121                  ; 浮き検知ディレイ
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
ANL
MPS
LD T102                  ; 給材部ﾜｰｸ浮き確認(ON=OK)
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
MOV K12 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
LDB T102                 ; 給材部ﾜｰｸ浮き確認(ON=OK)
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
TMR K121 K3              ; 浮き検知ディレイ
;　ﾜｰｸ浮き検出
LD M1011                 ; _1-1_S11_ﾜｰｸ浮き検知
ANPB M1011               ; _1-1_S11_ﾜｰｸ浮き検知
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
ANB B029                 ; 41)_投入部ﾜｰｸ浮き異常
AND T105                 ; 給材部ﾜｰｸ無し確認
MOV K63 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;
LD M1012                 ; _1-1_S12_
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1013                 ; _1-1_S13_
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S14_ﾊﾞｰｺｰﾄﾞ読み取り結果
LD M1014                 ; _1-1_S14_ﾊﾞｰｺｰﾄﾞ読取要求
MPS
AND M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1400                ; ﾊﾞｰｺｰﾄﾞ読み取り要求FLG
LD M1015                 ; _1-1_S15
ANB M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
MPS
LD M1404                 ; ID異常時ｻｲｸﾙ停止選択
OR M1405                 ; ID異常時取出し選択
OR M1418                 ; BCR確認異常(読取不可も含む)
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
AND M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
MOV K25 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
@MOV K1 D1201            ; 投入部1_ﾜｰｸ有無記憶
;<h1/>__S16_ﾜｰｸ投入NG処理
LD M1016                 ; _1-1_S16
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1017                 ; _1-1_S17_
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1018                 ; _1-1_S18
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1019                 ; _1-1_S19_ﾜｰｸ投入NG異常
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
LD B023                  ; 35)_U1E4_ﾜｰｸ投入NG異常
OR B031                  ; 49)_BCR読取異常
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1020                 ; _1-1_S20_NGﾗﾝﾌﾟ点灯
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
ANB B023                 ; 35)_U1E4_ﾜｰｸ投入NG異常
ANB B031                 ; 49)_BCR読取異常
ANB W00.2                ; PC Busy
AND T105                 ; 給材部ﾜｰｸ無し確認
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1021                 ; _1-1_S21
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1022                 ; _1-1_S22
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MOV K63 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S25_ﾊﾞｰｺｰﾄﾞ読取正常終了
LD M1025                 ; _1-1_S25
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1026                 ; _1-1_S26_ﾜｰｸ受渡し位置移動指令
AND T130                 ; ﾜｰｸｾｯﾄ部_搬送前進端
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1027                 ; _1-1_S27
MPS
LD T103                  ; 給材引込部ﾜｰｸ有無確認(ON=有)
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
MOV K33 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
LDB T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S28_ﾜｰｸ搬送異常
LD M1028                 ; _1-1_S28_給材部ﾜｰｸ搬送異常
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND B028                 ; 40)_ﾜｰｸ搬送異常
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1029                 ; _1-1_S29
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
ANB B028                 ; 40)_ﾜｰｸ搬送異常
MOV K63 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S33_受渡しステージ選択
LD M1033                 ; _1-1_S33_受渡しｽﾃｰｼﾞ選択
LD M1408                 ; 供給→搬送RB1_受渡確定FLG
OR M1409                 ; 供給→搬送RB2_受渡確定FLG
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1033                 ; _1-1_S33_受渡しｽﾃｰｼﾞ選択
LD L1100                 ; ﾘｰｸst2_有効状態
AND= D1211 D6100         ; 投入部1_ﾘｰｸ上治具ID  ﾘｰｸST2_上治具ID
AND= D1212 D6101         ; 投入部1_ﾘｰｸ下治具ID  ﾘｰｸST2_下治具ID
LD L1300                 ; ﾘｰｸst1_有効状態
AND= D1211 D7100         ; 投入部1_ﾘｰｸ上治具ID  ﾘｰｸST1_上治具ID
AND= D1212 D7101         ; 投入部1_ﾘｰｸ下治具ID  ﾘｰｸST1_下治具ID
ORL
OR L10                   ; ﾘｰｸ検査有無(0_有/1_無)
ANL
LD L1200                 ; FINALST2_有効状態
AND= D1214 D6600         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  ﾌｧｲﾅﾙST2_ｺﾝﾀｸﾄﾍｯﾄﾞID
AND= D1213 D6601         ; 投入部1_電特ﾊﾟﾚｯﾄID  ﾌｧｲﾅﾙST2_ﾊﾟﾚｯﾄID
LD L1400                 ; FINALST1_有効状態
AND= D1214 D7600         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  ﾌｧｲﾅﾙST1_ｺﾝﾀｸﾄﾍｯﾄﾞID
AND= D1213 D7601         ; 投入部1_電特ﾊﾟﾚｯﾄID  ﾌｧｲﾅﾙST1_ﾊﾟﾚｯﾄID
ORL
OR L11                   ; ﾌｧｲﾅﾙ検査有無(0_有/1_無)
ANL
OUT M1416                ; 搬送1側_ST‐ID一致FLG
LD M1033                 ; _1-1_S33_受渡しｽﾃｰｼﾞ選択
MPS
LD<= D1550 D1560         ; 搬送_1_ﾜｰｸ在荷_CNT  搬送_2_ワーク在荷_CNT
LDB L1500                ; ﾘｰｸst3_有効状態
ANB L1700                ; ﾘｰｸst4_有効状態
ORL
AND M1416                ; 搬送1側_ST‐ID一致FLG
ANL
OUT D1060.0
MPP
LDA D1060                ; ﾘｰｸST1-2ﾜｰｸ有無状況
CON
BCNT
CON
STA D1062                ; ﾘｰｸST1-2ﾜｰｸ数
LD M1033                 ; _1-1_S33_受渡しｽﾃｰｼﾞ選択
LD L1500                 ; ﾘｰｸst3_有効状態
AND= D1211 D8102         ; 投入部1_ﾘｰｸ上治具ID
AND= D1212 D8103         ; 投入部1_ﾘｰｸ下治具ID
LD L1700                 ; ﾘｰｸst4_有効状態
AND= D1211 D9102         ; 投入部1_ﾘｰｸ上治具ID
AND= D1212 D9103         ; 投入部1_ﾘｰｸ下治具ID
ORL
OR L10                   ; ﾘｰｸ検査有無(0_有/1_無)
ANL
LD L1600                 ; FINALST3_有効状態
AND= D1214 D8602         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID
AND= D1213 D8603         ; 投入部1_電特ﾊﾟﾚｯﾄID
LD L1800                 ; FINALST4_有効状態
AND= D1214 D9602         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID
AND= D1213 D9603         ; 投入部1_電特ﾊﾟﾚｯﾄID
ORL
OR L11                   ; ﾌｧｲﾅﾙ検査有無(0_有/1_無)
ANL
OUT M1417                ; 搬送2側_ST‐ID一致FLG
LD M1033                 ; _1-1_S33_受渡しｽﾃｰｼﾞ選択
MPS
LD> D1550 D1560          ; 搬送_1_ﾜｰｸ在荷_CNT  搬送_2_ワーク在荷_CNT
LDB L1100                ; ﾘｰｸst2_有効状態
ANB L1300                ; ﾘｰｸst1_有効状態
ORL
AND M1417                ; 搬送2側_ST‐ID一致FLG
ANL
OUT D1061.0
MPP
LDA D1061                ; ﾘｰｸST3-4ﾜｰｸ有無状況
CON
BCNT
CON
STA D1063                ; ﾘｰｸST3-4ﾜｰｸ数
LD M1033                 ; _1-1_S33_受渡しｽﾃｰｼﾞ選択
MPS
LD>= D1205 K1            ; 投入部1_再検査品st
AND<= D1205 K2           ; 投入部1_再検査品st
ANL
OUT M1414                ; 再検査品ST2-ST1側flg
MPP
LD>= D1205 K3            ; 投入部1_再検査品st
AND<= D1205 K4           ; 投入部1_再検査品st
ANL
OUT M1415                ; 再検査品st3-st4側flg
LD M1033                 ; _1-1_S33_受渡しｽﾃｰｼﾞ選択
LD>= D1062 D1063         ; ﾘｰｸST1-2ﾜｰｸ数  ﾘｰｸST3-4ﾜｰｸ数
OR M1414                 ; 再検査品ST2-ST1側flg
ANL
ANB M1415                ; 再検査品st3-st4側flg
OR M1408                 ; 供給→搬送RB1_受渡確定FLG
AND M1074                ; ﾕﾆｯﾄ1-1起動中
ANB M1409                ; 供給→搬送RB2_受渡確定FLG
OUT M1408                ; 供給→搬送RB1_受渡確定FLG
LD M1033                 ; _1-1_S33_受渡しｽﾃｰｼﾞ選択
LD< D1062 D1063          ; ﾘｰｸST1-2ﾜｰｸ数  ﾘｰｸST3-4ﾜｰｸ数
OR M1415                 ; 再検査品st3-st4側flg
ANL
ANB M1414                ; 再検査品ST2-ST1側flg
OR M1409                 ; 供給→搬送RB2_受渡確定FLG
AND M1074                ; ﾕﾆｯﾄ1-1起動中
ANB M1408                ; 供給→搬送RB1_受渡確定FLG
OUT M1409                ; 供給→搬送RB2_受渡確定FLG
;<h1/>__S34_ﾜｰｸ除材要求
;ﾌﾗｸﾞ受取完了とﾜｰｸ受取完了を入れる
;ﾃﾞｰﾀｼﾌﾄは、搬送側にて行う
LD M1034                 ; _1-1_S34_ﾜｰｸ除材要求
MPS
LD M1410                 ; 供給→搬送RB1_除材要求
AND M3300                ; 搬送→供給_取出開始
LD M1412                 ; 供給→搬送RB2_除材要求
AND M5300
ORL
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MRD
LD M1408                 ; 供給→搬送RB1_受渡確定FLG
OR M1410                 ; 供給→搬送RB1_除材要求
ANB M1412                ; 供給→搬送RB2_除材要求
ANL
OUT M1410                ; 供給→搬送RB1_除材要求
MPP
LD M1409                 ; 供給→搬送RB2_受渡確定FLG
OR M1412                 ; 供給→搬送RB2_除材要求
ANB M1410                ; 供給→搬送RB1_除材要求
ANL
OUT M1412                ; 供給→搬送RB2_除材要求
LD M1035                 ; _1-1_S35_ﾜｰｸ除材完了
MPS
LD M1408                 ; 供給→搬送RB1_受渡確定FLG
LD M3301                 ; 搬送→供給取出完了
OR M1411                 ; 供給→搬送RB1_取出完了受取り
ANL
ANL
MPS
LDB M3300                ; 搬送→供給_取出開始
ANB M3301                ; 搬送→供給取出完了
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1411                ; 供給→搬送RB1_取出完了受取り
MPP
LD M1409                 ; 供給→搬送RB2_受渡確定FLG
LD M5301
OR M1413                 ; 供給→搬送RB2_除材完了受取り
ANL
ANL
MPS
LDB M5300
ANB M5301
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1413                ; 供給→搬送RB2_除材完了受取り
;ﾜｰｸ受取完了ﾁｪｯｸ
LD M1036                 ; _1-1_S36_
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
ANB T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
MOV K40 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
AND T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1037                 ; _1-1_S37_搬送へのﾜｰｸ受渡し失敗
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1038                 ; _1-1_S38
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
ANB B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
MOV K63 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1039                 ; _1-1_S39
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S40ﾜｰｸ投入位置へ移動
;____▼_搬送ﾍｯﾄﾞにﾜｰｸがある場合は、受取りｻｲｸﾙへ分岐する
LD M1040                 ; _1-1_S40
MPS
AND M1408                ; 供給→搬送RB1_受渡確定FLG
MPS
LDB M3103                ; ﾊﾝﾄﾞ1_検査完了品(排出ﾜｰｸ)
ANB M3153                ; ﾊﾝﾄﾞ2_検査完了品(排出ﾜｰｸ)
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
LD M3103                 ; ﾊﾝﾄﾞ1_検査完了品(排出ﾜｰｸ)
OR M3153                 ; ﾊﾝﾄﾞ2_検査完了品(排出ﾜｰｸ)
ANL
MOV K50 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
AND M1409                ; 供給→搬送RB2_受渡確定FLG
MPS
LDB M5103
ANB M5153
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
LD M5103
OR M5153
ANL
MOV K50 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1041                 ; _1-1_S41_ﾜｰｸ投入位置へ移動
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
AND T131                 ; ﾜｰｸｾｯﾄ部_搬送後退端
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1042                 ; _1-1_S42
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;　　浮き異常の場合投入部のデータを削除する。
LD M1043                 ; _1-1_S43_ﾜｰｸ浮きﾘｾｯﾄ待ち
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
MPS
ANB B029                 ; 41)_投入部ﾜｰｸ浮き異常
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
AND B029                 ; 41)_投入部ﾜｰｸ浮き異常
MOV K46 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;　　浮き検知時ﾜｰｸ情報削除
LD M1046                 ; _1-1_S46_PCﾃﾞｰﾀ削除ﾌﾗｸﾞ
ANB B029                 ; 41)_投入部ﾜｰｸ浮き異常
MPS
LD M1360                 ; 投入部PCﾃﾞｰﾀ削除ﾌﾗｸﾞ
AND W01.14               ; ｲﾝﾃﾞｯｸｽﾃﾞｰﾀｸﾘｱ完了
ANL
MOV K44 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
LDB W0101.14             ; ｲﾝﾃﾞｯｸｽﾃﾞｰﾀｸﾘｱ要求
OR M1360                 ; 投入部PCﾃﾞｰﾀ削除ﾌﾗｸﾞ
ANL
OUT M1360                ; 投入部PCﾃﾞｰﾀ削除ﾌﾗｸﾞ
@MOV K1 W0148            ; ﾃﾞｰﾀｸﾘｱｲﾝﾃﾞｯｸｽNo
LD M1044                 ; _1-1_S44_
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1045                 ; _1-1_S45
MOV K63 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S50_検査完了ﾜｰｸ受取り
LD M1050                 ; _1-1_S50
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1051                 ; _1-1_S51_ﾜｰｸ前進位置移動指令
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
AND T130                 ; ﾜｰｸｾｯﾄ部_搬送前進端
AND T105                 ; 給材部ﾜｰｸ無し確認
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1051                 ; _1-1_S51_ﾜｰｸ前進位置移動指令
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
AND T130                 ; ﾜｰｸｾｯﾄ部_搬送前進端
AND T101                 ; 給材部ﾜｰｸ有確認(ON=有)
LD M1445                 ; 給材ｽﾗｲﾀﾞ_不要ﾜｰｸ有異常
ANB M1053                ; _1-1_S53_ﾜｰｸ受取り完了待ち
ORL
AND M1074                ; ﾕﾆｯﾄ1-1起動中
LD M2811                 ; ﾌｧｲﾅﾙ&給材_ｾﾝｻｰ確認有効高さ
LDB M2832                ; XY_OK品排出位置
ANB M2833                ; XY_NG品排出位置
ORL
ANL
OUT M1445                ; 給材ｽﾗｲﾀﾞ_不要ﾜｰｸ有異常
LD M1052                 ; _1-1_S52_ﾜｰｸ供給要求
MPS
AND M3316                ; 搬送_ﾜｰｸ供給開始
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1440                ; 搬送へﾜｰｸ供給要求
LD M1053                 ; _1-1_S53_ﾜｰｸ受取り完了待ち
LD M3317                 ; 搬送_ﾜｰｸ供給完了
OR M1441                 ; ﾜｰｸ供給完了受取り
ANL
MPS
LDB M3316                ; 搬送_ﾜｰｸ供給開始
ANB M3317                ; 搬送_ﾜｰｸ供給完了
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1441                ; ﾜｰｸ供給完了受取り
LD M1054                 ; _1-1_S54
LD M2840                 ; Z_搬送高さ(HIGH)_搬送1
OR M2855                 ; Z_搬送高さ(MIDLE)_搬送1
ANL
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
MPS
LD T101                  ; 給材部ﾜｰｸ有確認(ON=有)
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
LD T105                  ; 給材部ﾜｰｸ無し確認
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
OUT M1446                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受取り異常
LD M1055                 ; _1-1_S55_ﾜｰｸ後退指令
AND T131                 ; ﾜｰｸｾｯﾄ部_搬送後退端
MPS
AND M1300                ; 供給ｽﾗｲﾀﾞOK品
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
AND M1301                ; 供給ｽﾗｲﾀﾞNG品
MOV K57 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1300                 ; 供給ｽﾗｲﾀﾞOK品
OR M1301                 ; 供給ｽﾗｲﾀﾞNG品
ANB X1280                ; 給材部ﾜｰｸ有無確認(ON=有)
OR M1447                 ; 給材ｽﾗｲﾀﾞ後退途中ﾜｰｸ除去
AND M1074                ; ﾕﾆｯﾄ1-1起動中
OUT M1447                ; 給材ｽﾗｲﾀﾞ後退途中ﾜｰｸ除去
LD M1056                 ; _1-1_S56_ﾜｰｸ除材待ち
MPS
LD T105                  ; 給材部ﾜｰｸ無し確認
OR M1447                 ; 給材ｽﾗｲﾀﾞ後退途中ﾜｰｸ除去
ANL
MPS
LD W01.8                 ; OK排出製品ﾃﾞｰﾀｸﾘｱ完了
OR M35                   ; 空運転ﾓｰﾄﾞ
OR M3                    ; OFFLINE_MODE
ANL
MOV K63 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MRD
OUT M1310                ; OK品ﾃﾞｰﾀｸﾘｱ要求
MPP
@FMOV K0 D1200 K100      ; 投入部1_INDEX NO.
MPP
TMR K108 K100            ; ﾜｰｸ取出し要求時間
;<h1/>__S57_NG品排出処理
LD M1057                 ; _1-1_S57_NG品処理Sub開始
AND M1234                ; NG品排出Sub起動中
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1058                 ; _1-1_S58
AND M1303                ; NG品処理完了ﾌﾗｸﾞ
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1059                 ; _1-1_S59_NG品処理完了ﾌﾗｸﾞOFF
ANB M1303                ; NG品処理完了ﾌﾗｸﾞ
ANB M1234                ; NG品排出Sub起動中
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
@FMOV K0 D1200 K100      ; 投入部1_INDEX NO.
LD M1060                 ; _1-1_S60
MPS
LD W01.8                 ; OK排出製品ﾃﾞｰﾀｸﾘｱ完了
OR M35                   ; 空運転ﾓｰﾄﾞ
OR M3                    ; OFFLINE_MODE
ANL
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1311                ; NG品ﾃﾞｰﾀｸﾘｱ要求(OKと共通)
LD M1061                 ; _1-1_S61
INC D1000                ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
LD M1062                 ; _1-1_S62
MOV K63 D1000            ; ﾕﾆｯﾄ1-1自動運転ｽﾃｯﾌﾟ
;<h1/>◇_ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2状態・動作条件(補助)
LD CR2002                ; 常時ON
OUT M1150                ; ﾕﾆｯﾄ1-2原点_ﾊﾞｰｺｰﾄﾞ読取
LDB CR2003               ; 常時OFF
INV
OUT M1151                ; ﾕﾆｯﾄ1-2異常
LD M1150                 ; ﾕﾆｯﾄ1-2原点_ﾊﾞｰｺｰﾄﾞ読取
ANB M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND M300                 ; PC通信正常
OUT M1152                ; ﾕﾆｯﾄ1-2起動条件
LDB M50                  ; 運転準備
OR B029                  ; 41)_投入部ﾜｰｸ浮き異常
OR M1486                 ; ﾕﾆｯﾄ1ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M1153                ; ﾕﾆｯﾄ1-2起動OFF
LD M1400                 ; ﾊﾞｰｺｰﾄﾞ読み取り要求FLG
AND M1152                ; ﾕﾆｯﾄ1-2起動条件
OR M1154                 ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
ANB M1153                ; ﾕﾆｯﾄ1-2起動OFF
ANB M1143                ; ﾕﾆｯﾄ1-2ｻｲｸﾙ終了
OUT M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
;ﾕﾆｯﾄ1-2ｻｲｸﾙ停止異常
LDB CR2003               ; 常時OFF
INV
OUT M1155                ; ﾕﾆｯﾄ1-2ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-2ｴﾗｰ発生まとめ
LDB CR2003               ; 常時OFF
INV
OUT M1156                ; ﾕﾆｯﾄ1-2ｴﾗｰ発生
;ﾕﾆｯﾄ1-2停止判定
LD= D1001 D1006          ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ1-2動作中判定
ORB M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
TMR K111 K20             ; ﾕﾆｯﾄ1-2動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D1001 D1006          ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ1-2動作中判定
LD T111                  ; ﾕﾆｯﾄ1-2動作無し判定ﾀｲﾏ
LD CR2003                ; 常時OFF
AND M31                  ; 手動ﾓｰﾄﾞ
ORL
OUT M1157                ; ﾕﾆｯﾄ1-2動作無し
;□
;□　ﾕﾆｯﾄ1-2ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M1080 K4         ; U1-2_S0
LDB M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
MOV K0 D1001             ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1154                 ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
MOV D1001 Z1             ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
SET M1080:Z1             ; U1-2_S0
@ZRES M1402 M1406        ; ﾊﾞｰｺｰﾄﾞ読取_正常終了  ID異常時段取り替え選択
@RES M1418               ; BCR確認異常(読取不可も含む)
;　　条件分岐
LD M1080                 ; U1-2_S0
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1081                 ; U1-2_S1
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1082                 ; U1-2_S2
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;　　ｺｰﾄﾞﾘｰﾀﾞｰへﾄﾘｶﾞｰ発信
LD M1083                 ; U1-2_S3_ｽｷｬﾅ読取要求
MPS
LD W01.0                 ; ｽｷｬﾅ読込完了
OR W01.2                 ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
OR M35                   ; 空運転ﾓｰﾄﾞ
OR M3                    ; OFFLINE_MODE
ANL
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MRD
@ZRES M1402 M1406        ; ﾊﾞｰｺｰﾄﾞ読取_正常終了  ID異常時段取り替え選択
MPP
@RES M1418               ; BCR確認異常(読取不可も含む)
LD M1083                 ; U1-2_S3_ｽｷｬﾅ読取要求
OR W0101.0               ; ｽｷｬﾅ読取要求
AND M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
OUT W0101.0              ; ｽｷｬﾅ読取要求
LD M1084                 ; U1-2_S4
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1085                 ; U1-2_S5
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;<h1/>__S6_受取りﾃﾞｰﾀ格納
LD M1086                 ; U1-2_S6_読込みﾃﾞｰﾀ格納
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPS
LD M3                    ; OFFLINE_MODE
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
FMOV D502 W020 K6        ; 自動_JIG_NO.指定  投入ﾊﾟﾚｯﾄID
MOV K0 W026              ; ﾘｰｸﾊﾞｲﾊﾟｽ回路開放時間
MRD
BMOV W020 D1210 K16      ; 投入ﾊﾟﾚｯﾄID  投入部1_投入ﾊﾟﾚｯﾄID
MRD
AND W01.6                ; 電気特性検査再投入品
MOV K1 D1206             ; 投入部1_再検査品ﾌﾗｸﾞ(ON=再検査)
MPS
AND= W02A K13            ; 電気特性検査再投入ステージ
MOV K4 D1205             ; 投入部1_再検査品st
MRD
AND= W02A K12            ; 電気特性検査再投入ステージ
MOV K3 D1205             ; 投入部1_再検査品st
MRD
AND= W02A K11            ; 電気特性検査再投入ステージ
MOV K2 D1205             ; 投入部1_再検査品st
MPP
AND= W02A K10            ; 電気特性検査再投入ステージ
MOV K1 D1205             ; 投入部1_再検査品st
MRD
ANB W01.6                ; 電気特性検査再投入品
MOV K0 D1206             ; 投入部1_再検査品ﾌﾗｸﾞ(ON=再検査)
MOV K0 D1205             ; 投入部1_再検査品st
MRD
LDB W01.1                ; 基板投入不可
ANB W01.2                ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
ANL
SET M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
CON
RES M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
MPP
LD W01.1                 ; 基板投入不可
OR W01.2                 ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
ANL
SET M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
CON
RES M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
;　ﾊﾞｰｺｰﾄﾞ読取結果NGならｻｲｸﾙ停止
LD M1087                 ; U1-2_S7_読取ﾄﾘｶﾞｰOFF指令
MPS
AND M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPP
AND M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
MOV K30 D1001            ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;<h1/>__S8_バーコード読込正常処理
LD M1088                 ; U1-2_S8
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPS
@INC D1200               ; 投入部1_INDEX NO.
MPP
AND> D1200 K10           ; 投入部1_INDEX NO.
DW K1 D1200              ; 投入部1_INDEX NO.
LD M1089                 ; U1-2_S9_
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1090                 ; U1-2_S10_
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;<h1/>__S11_IDﾁｪｯｸ_★再検討必要
LD M1091                 ; U1-2_S11_ｽﾃｰｼﾞ有効確認
MPS
LD L1100                 ; ﾘｰｸst2_有効状態
LD= D1211 D6100          ; 投入部1_ﾘｰｸ上治具ID  ﾘｰｸST2_上治具ID
AND= D1212 D6101         ; 投入部1_ﾘｰｸ下治具ID  ﾘｰｸST2_下治具ID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
LD L1300                 ; ﾘｰｸst1_有効状態
LD= D1211 D7100          ; 投入部1_ﾘｰｸ上治具ID  ﾘｰｸST1_上治具ID
AND= D1212 D7101         ; 投入部1_ﾘｰｸ下治具ID  ﾘｰｸST1_下治具ID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
ORL
OR L10                   ; ﾘｰｸ検査有無(0_有/1_無)
LD<> D1205 K0            ; 投入部1_再検査品st
AND<> D1205 K3           ; 投入部1_再検査品st
AND<> D1205 K4           ; 投入部1_再検査品st
ORL
LD L1200                 ; FINALST2_有効状態
LD= D1205 K0             ; 投入部1_再検査品st
OR= D1205 K2             ; 投入部1_再検査品st
AND= D1213 D6601         ; 投入部1_電特ﾊﾟﾚｯﾄID  ﾌｧｲﾅﾙST2_ﾊﾟﾚｯﾄID
AND= D1214 D6600         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  ﾌｧｲﾅﾙST2_ｺﾝﾀｸﾄﾍｯﾄﾞID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
LD L1400                 ; FINALST1_有効状態
LD= D1205 K0             ; 投入部1_再検査品st
OR= D1205 K1             ; 投入部1_再検査品st
AND= D1213 D7601         ; 投入部1_電特ﾊﾟﾚｯﾄID  ﾌｧｲﾅﾙST1_ﾊﾟﾚｯﾄID
AND= D1214 D7600         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  ﾌｧｲﾅﾙST1_ｺﾝﾀｸﾄﾍｯﾄﾞID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
ORL
OR L11                   ; ﾌｧｲﾅﾙ検査有無(0_有/1_無)
ANL
LD L1500                 ; ﾘｰｸst3_有効状態
LD= D1211 D8102          ; 投入部1_ﾘｰｸ上治具ID
AND= D1212 D8103         ; 投入部1_ﾘｰｸ下治具ID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
LD L1700                 ; ﾘｰｸst4_有効状態
LD= D1211 D9102          ; 投入部1_ﾘｰｸ上治具ID
AND= D1212 D9103         ; 投入部1_ﾘｰｸ下治具ID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
ORL
OR L10                   ; ﾘｰｸ検査有無(0_有/1_無)
LD<> D1205 K0            ; 投入部1_再検査品st
AND<> D1205 K1           ; 投入部1_再検査品st
AND<> D1205 K2           ; 投入部1_再検査品st
ORL
LD L1600                 ; FINALST3_有効状態
LD= D1205 K0             ; 投入部1_再検査品st
OR= D1205 K3             ; 投入部1_再検査品st
AND= D1213 D8603         ; 投入部1_電特ﾊﾟﾚｯﾄID
AND= D1214 D8602         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
LD L1800                 ; FINALST4_有効状態
LD= D1205 K0             ; 投入部1_再検査品st
OR= D1205 K4             ; 投入部1_再検査品st
AND= D1213 D9603         ; 投入部1_電特ﾊﾟﾚｯﾄID
AND= D1214 D9602         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
ORL
OR L11                   ; ﾌｧｲﾅﾙ検査有無(0_有/1_無)
ANL
ORL
ANL
OUT M1421                ; ST受入れ準備OK
MRD
ANB M1421                ; ST受入れ準備OK
OUT M1420                ; ST受入れ準備NG
MPP
LD M1421                 ; ST受入れ準備OK
ANB B025                 ; 37)_U1E6_ﾘｰｸST2_2ｽﾃｰｼﾞﾁｪｯｸ
ANL
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1092                 ; U1-2_S12
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1093                 ; U1-2_S13
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1094                 ; U1-2_S14
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1095                 ; U1-2_S15
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1096                 ; U1-2_S16
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1097                 ; U1-2_S17
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1098                 ; U1-2_S18
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1099                 ; U1-2_S19
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1100                 ; U1-2_S20
MOV K63 D1001            ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;<h1/>__S30_読取_ID_NG
;　　ﾀﾞｲｱﾛｸﾞ要求有無ﾁｪｯｸ
LD M1110                 ; U1-2_S30_ID読取_NG処理
MPS
AND W01.2                ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPP
ANB W01.2                ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
MPS
AND M1418                ; BCR確認異常(読取不可も含む)
MOV K63 D1001            ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPP
SET M1418                ; BCR確認異常(読取不可も含む)
LD M1111                 ; U1-2_S31
MPS
LD M1404                 ; ID異常時ｻｲｸﾙ停止選択
OR M1405                 ; ID異常時取出し選択
OR M1406                 ; ID異常時段取り替え選択
ANL
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MRD
LDP B1020                ; REMOVE取り出し選択_Tws
ANB B1021                ; JIG_CHANGE段取り替え選択_Tws
ANB B1022                ; Cycle Stopｻｲｸﾙ停止選択_Tws
ANL
RES M1404                ; ID異常時ｻｲｸﾙ停止選択
CON
SET M1405                ; ID異常時取出し選択
CON
RES M1406                ; ID異常時段取り替え選択
MRD
LDP B1021                ; JIG_CHANGE段取り替え選択_Tws
ANB B1020                ; REMOVE取り出し選択_Tws
ANB B1022                ; Cycle Stopｻｲｸﾙ停止選択_Tws
ANL
RES M1404                ; ID異常時ｻｲｸﾙ停止選択
CON
RES M1405                ; ID異常時取出し選択
CON
SET M1406                ; ID異常時段取り替え選択
MRD
LDP B1022                ; Cycle Stopｻｲｸﾙ停止選択_Tws
ANB B1020                ; REMOVE取り出し選択_Tws
ANB B1021                ; JIG_CHANGE段取り替え選択_Tws
ANL
RES M1405                ; ID異常時取出し選択
CON
SET M1404                ; ID異常時ｻｲｸﾙ停止選択
CON
RES M1406                ; ID異常時段取り替え選択
MPP
OUT B151F                ; ID異常_選択Window_Open
;　　段取り時以外はここで終了
LD M1112                 ; U1-2_S32_ID読取_NG_処理選択完了
MPS
ANB M1406                ; ID異常時段取り替え選択
MOV K63 D1001            ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPP
AND M1406                ; ID異常時段取り替え選択
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;　　段取り処理
LDB L1100                ; ﾘｰｸst2_有効状態
ANB L1300                ; ﾘｰｸst1_有効状態
ANB L1500                ; ﾘｰｸst3_有効状態
ANB L1700                ; ﾘｰｸst4_有効状態
INV
OUT M1419                ; ｽﾃｰｼﾞ有効確認
LD M1113                 ; U1-2_S33
MPS
ANB M1419                ; ｽﾃｰｼﾞ有効確認
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPP
AND W01.0                ; ｽｷｬﾅ読込完了
MOV K6 D1001             ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1114                 ; U1-2_S34
AND M1419                ; ｽﾃｰｼﾞ有効確認
AND W01.0                ; ｽｷｬﾅ読込完了
MOV K6 D1001             ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND CR2003               ; 常時OFF
MOV K62 D1001            ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
LD M1142                 ; U1-2_S62
MOV K63 D1001            ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;<h1/>◇_NGﾎﾞｯｸｽ処理_ﾕﾆｯﾄ1-3状態・動作条件(補助)
LD CR2002                ; 常時ON
OUT M1230                ; ﾕﾆｯﾄ1-3原点
LDB CR2003               ; 常時OFF
INV
OUT M1231                ; ﾕﾆｯﾄ1-3全異常
LD M1230                 ; ﾕﾆｯﾄ1-3原点
ANB M1234                ; NG品排出Sub起動中
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
OUT M1232                ; ﾕﾆｯﾄ1-3起動条件
LDB M50                  ; 運転準備
OR M1486                 ; ﾕﾆｯﾄ1ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M1233                ; ﾕﾆｯﾄ1-3起動OFF
LD M1057                 ; _1-1_S57_NG品処理Sub開始
AND M1232                ; ﾕﾆｯﾄ1-3起動条件
OR M1234                 ; NG品排出Sub起動中
AND M1074                ; ﾕﾆｯﾄ1-1起動中
ANB M1233                ; ﾕﾆｯﾄ1-3起動OFF
ANB M1223                ; NG_63_
OUT M1234                ; NG品排出Sub起動中
;ﾕﾆｯﾄ1-3ｻｲｸﾙ停止異常
LDB CR2003               ; 常時OFF
INV
OUT M1235                ; ﾕﾆｯﾄ1-3ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-3ｴﾗｰ発生まとめ
LDB CR2003               ; 常時OFF
INV
OUT M1236                ; ﾕﾆｯﾄ1-3ｴﾗｰ発生
;ﾕﾆｯﾄ1-3停止判定
LD= D1002 D1007          ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ1-3動作中判定
TMR K112 K20             ; 除材部動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D1002 D1007          ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ1-3動作中判定
LD T112                  ; 除材部動作無し判定ﾀｲﾏ
ORB M1234                ; NG品排出Sub起動中
OUT M1237                ; ﾕﾆｯﾄ1-3動作無し
;□
;□　ﾕﾆｯﾄ1-3自動運転ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M1160 K4         ; NG_00_NGﾎﾞｯｸｽﾜｰｸ置き警報
LDB M1234                ; NG品排出Sub起動中
MOV K0 D1002             ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1234                 ; NG品排出Sub起動中
MOV D1002 Z1             ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
SET M1160:Z1             ; NG_00_NGﾎﾞｯｸｽﾜｰｸ置き警報
;ﾜｰｸ有無判定
LD M1160                 ; NG_00_NGﾎﾞｯｸｽﾜｰｸ置き警報
AND B02C                 ; 44)_NGﾜｰｸ処理警報
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1160                 ; NG_00_NGﾎﾞｯｸｽﾜｰｸ置き警報
OR M1302                 ; NGﾎﾞｯｸｽﾋﾟｯｷﾝｸﾞﾗﾝﾌﾟ点灯指令
AND M1234                ; NG品排出Sub起動中
OUT M1302                ; NGﾎﾞｯｸｽﾋﾟｯｷﾝｸﾞﾗﾝﾌﾟ点灯指令
LD M1161                 ; NG_01_NGﾎﾞｯｸｽﾜｰｸ置き警報
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
AND T105                 ; 給材部ﾜｰｸ無し確認
ANP T104                 ; NGﾎﾞｯｸｽﾜｰｸ有検知
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1162                 ; NG_02_NG品取り出し確認
LDB T104                 ; NGﾎﾞｯｸｽﾜｰｸ有検知
OR CR2002                ; 常時ON
ANL
ANB B02C                 ; 44)_NGﾜｰｸ処理警報
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1163                 ; NG_03_NG品処理完了
AND M1303                ; NG品処理完了ﾌﾗｸﾞ
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1163                 ; NG_03_NG品処理完了
LD M1303                 ; NG品処理完了ﾌﾗｸﾞ
ANB M1059                ; _1-1_S59_NG品処理完了ﾌﾗｸﾞOFF
ORL
AND M1234                ; NG品排出Sub起動中
OUT M1303                ; NG品処理完了ﾌﾗｸﾞ
LD M1164                 ; NG_04_
ANB M1303                ; NG品処理完了ﾌﾗｸﾞ
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1165                 ; NG_05_
MOV K63 D1002            ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
;<h1/>□_UNIT_1_原点復帰回路
LD CR2002                ; 常時ON
FMOV K0 M1250 K3         ; STEP0
LDB M1484                ; ﾕﾆｯﾄ1原点復帰中
MOV K0 D1010             ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1484                 ; ﾕﾆｯﾄ1原点復帰中
MOV D1010 Z1             ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
SET M1250:Z1             ; STEP0
;原点復帰ｻｲｸﾙ監視
LD M1484                 ; ﾕﾆｯﾄ1原点復帰中
ANB X100C                ; #01_RX00C_運転実行中
TMR K100 K200            ; ﾕﾆｯﾄ1原点復帰ﾀｲﾑｱｳﾄ
;原点復帰ステップ開始
LD M1250                 ; STEP0
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;搬送部原点復帰待ち
LD M1251                 ; STEP1
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND M2840                ; Z_搬送高さ(HIGH)_搬送1
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1252                 ; STEP2
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1253                 ; STEP3_搬送ｽﾗｲﾀﾞ後退指令
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
AND T131                 ; ﾜｰｸｾｯﾄ部_搬送後退端
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1254                 ; STEP4
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1255                 ; STEP5_
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1256                 ; STEP6
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;　　ﾜｰｸﾁｪｯｸ
LD M1257                 ; STEP7
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
ANB X1280                ; 給材部ﾜｰｸ有無確認(ON=有)
MOV K10 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
AND X1280                ; 給材部ﾜｰｸ有無確認(ON=有)
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;　　ﾜｰｸ除去要求
LD M1258                 ; STEP8_給材部ﾜｰｸ除去要求
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1259                 ; STEP9
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1260                 ; STEP10
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1_ｽﾃｯﾌﾟ動作可
MPS
AND T107                 ; NGﾎﾞｯｸｽﾜｰｸ無
MOV K45 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
ANB T107                 ; NGﾎﾞｯｸｽﾜｰｸ無
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1261                 ; STEP11_NGﾎﾞｯｸｽﾜｰｸ置き警報
AND B052                 ; 82)_NGﾎﾞｯｸｽﾜｰｸ除去警告
MOV K45 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;原点復帰終了
LD M1295                 ; STEP45
AND M1480                ; ﾕﾆｯﾄ1原点
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
FMOV K0 D1200 K100       ; 投入部1_INDEX NO.
LD M1296                 ; STEP46
ANB M82                  ; 原点復帰開始
MOV K47 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;<h1/>□_UNIT_1_手動回路
;　　ｲﾝﾀｰﾛｯｸ
LD M31                   ; 手動ﾓｰﾄﾞ
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M32                  ; ﾒｲﾝ手動操作可能条件
ANB M1485                ; ﾕﾆｯﾄ1起動中
ANB M1484                ; ﾕﾆｯﾄ1原点復帰中
MC
LD M2840                 ; Z_搬送高さ(HIGH)_搬送1
OR M2854                 ; Z_ﾜｰｸ入替高さ(搬送禁止高さ)
OR M2855                 ; Z_搬送高さ(MIDLE)_搬送1
OUT M1460                ; 供給ｽﾗｲﾀﾞ_前進条件
LDP B1080                ; 供給ｽﾗｲﾀﾞ_前進SW
ANB B1081                ; 供給ｽﾗｲﾀﾞ_後退SW
AND M1460                ; 供給ｽﾗｲﾀﾞ_前進条件
LD M1461                 ; 供給ｽﾗｲﾀﾞ前進指令
ANB M1463                ; 供給ｽﾗｲﾀﾞ後退指令
ORL
OUT M1461                ; 供給ｽﾗｲﾀﾞ前進指令
LD M2840                 ; Z_搬送高さ(HIGH)_搬送1
OR M2854                 ; Z_ﾜｰｸ入替高さ(搬送禁止高さ)
OR M2855                 ; Z_搬送高さ(MIDLE)_搬送1
OUT M1462                ; 供給ｽﾗｲﾀﾞ_後退条件
LDP B1081                ; 供給ｽﾗｲﾀﾞ_後退SW
ANB B1080                ; 供給ｽﾗｲﾀﾞ_前進SW
AND M1462                ; 供給ｽﾗｲﾀﾞ_後退条件
LD M1463                 ; 供給ｽﾗｲﾀﾞ後退指令
ANB M1461                ; 供給ｽﾗｲﾀﾞ前進指令
ORL
OUT M1463                ; 供給ｽﾗｲﾀﾞ後退指令
MCR
;<h1/>□_出力回路
;ソレノイドバルブ出力
;<h1/>__PC→PLCへ出力
LD W08.0                 ; 投入部ｽｷｬﾅ電源OFF
OUT Y57                  ; ｺｰﾄﾞﾘｰﾀﾞｰﾘｾｯﾄ
;<h1/>__PLC→PCへ出力
LD M1404                 ; ID異常時ｻｲｸﾙ停止選択
OUT W0101.1              ; ID異常時ｻｲｸﾙ停止選択
LD M1405                 ; ID異常時取出し選択
OUT W0101.2              ; ID異常時取出し選択
LD M1406                 ; ID異常時段取り替え選択
OUT W0101.3              ; ID位常時段取指示
;□□　　I/O出力　　□□
LD M50                   ; 運転準備
ANB M51                  ; 即停止異常(緊急停止)
OUT Y52                  ; ﾜｰｸ給材RB電源ON
LD D1201                 ; 投入部1_ﾜｰｸ有無記憶
LD= D1203 K1             ; 投入部1_ﾘｰｸ検査結果(1=OK_2=NG)
OR<> D1205 K0            ; 投入部1_再検査品st
OR L10                   ; ﾘｰｸ検査有無(0_有/1_無)
ANL
LD= D1204 K1             ; 投入部1_ﾌｧｲﾅﾙ検査結果(1=OK_2=NG)
OR L11                   ; ﾌｧｲﾅﾙ検査有無(0_有/1_無)
ANL
ANB M1447                ; 給材ｽﾗｲﾀﾞ後退途中ﾜｰｸ除去
OR Y310                  ; 検査結果_OK表示
AND T101                 ; 給材部ﾜｰｸ有確認(ON=有)
LD M41                   ; ﾕﾆｯﾄ_起動中
OR M71                   ; 自動運転開始BZ
ANL
OUT Y310                 ; 検査結果_OK表示
LD D1201                 ; 投入部1_ﾜｰｸ有無記憶
LD= D1203 K2             ; 投入部1_ﾘｰｸ検査結果(1=OK_2=NG)
AND= D1205 K0            ; 投入部1_再検査品st
ANB L10                  ; ﾘｰｸ検査有無(0_有/1_無)
LD= D1204 K2             ; 投入部1_ﾌｧｲﾅﾙ検査結果(1=OK_2=NG)
ANB L11                  ; ﾌｧｲﾅﾙ検査有無(0_有/1_無)
ORL
ANL
LD Y311                  ; 検査結果_NG表示
AND CR2003               ; 常時OFF
ORL
ANPB T101                ; 給材部ﾜｰｸ有確認(ON=有)
LD M41                   ; ﾕﾆｯﾄ_起動中
OR M71                   ; 自動運転開始BZ
ANL
OUT Y311                 ; 検査結果_NG表示
LDB B0321                ; 801)_U1E8_給材部ﾜｰｸ除去要求
ANB M1020                ; _1-1_S20_NGﾗﾝﾌﾟ点灯
ANB B02C                 ; 44)_NGﾜｰｸ処理警報
INV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT Y318                 ; ﾜｰｸ供給部NGﾗﾝﾌﾟ
LDB M1011                ; _1-1_S11_ﾜｰｸ浮き検知
ANB M1020                ; _1-1_S20_NGﾗﾝﾌﾟ点灯
ANB B02C                 ; 44)_NGﾜｰｸ処理警報
INV
OUT Y319                 ; ﾜｰｸ供給部ﾌﾞｻﾞｰ
LD M1302                 ; NGﾎﾞｯｸｽﾋﾟｯｷﾝｸﾞﾗﾝﾌﾟ点灯指令
LD CR2005                ; 100msｸﾛｯｸﾊﾟﾙｽ
OR T104                  ; NGﾎﾞｯｸｽﾜｰｸ有検知
ANL
LD X30C                  ; NGﾎﾞｯｸｽﾜｰｸ検知(ON有)
ANB M1302                ; NGﾎﾞｯｸｽﾋﾟｯｷﾝｸﾞﾗﾝﾌﾟ点灯指令
ORL
OUT Y31A                 ; NGﾎﾞｯｸｽﾋﾟｯｷﾝｸﾞｾﾝｻｰ表示
LDB M1026                ; _1-1_S26_ﾜｰｸ受渡し位置移動指令
ANB M1051                ; _1-1_S51_ﾜｰｸ前進位置移動指令
INV
OR M1461                 ; 供給ｽﾗｲﾀﾞ前進指令
LD M1350                 ; ﾜｰｸｾｯﾄ部_ｽﾃｰｼﾞ前進(補助)
ANB M1351                ; ﾜｰｸｾｯﾄ部_ｽﾃｰｼﾞ後退(補助)
LD M30                   ; 自動ﾓｰﾄﾞ
LDB M30                  ; 自動ﾓｰﾄﾞ
LD T60                   ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
OR T130                  ; ﾜｰｸｾｯﾄ部_搬送前進端
ANL
ORL
ANL
ORL
AND M50                  ; 運転準備
OUT M1350                ; ﾜｰｸｾｯﾄ部_ｽﾃｰｼﾞ前進(補助)
LD M1350                 ; ﾜｰｸｾｯﾄ部_ｽﾃｰｼﾞ前進(補助)
LD T60                   ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
OR T130                  ; ﾜｰｸｾｯﾄ部_搬送前進端
ANL
OUT Y240A                ; ﾜｰｸｾｯﾄ部_ｽﾃｰｼﾞ前進
LDB M1041                ; _1-1_S41_ﾜｰｸ投入位置へ移動
ANB M1055                ; _1-1_S55_ﾜｰｸ後退指令
INV
OR M1253                 ; STEP3_搬送ｽﾗｲﾀﾞ後退指令
OR M1463                 ; 供給ｽﾗｲﾀﾞ後退指令
LD M1351                 ; ﾜｰｸｾｯﾄ部_ｽﾃｰｼﾞ後退(補助)
ANB M1350                ; ﾜｰｸｾｯﾄ部_ｽﾃｰｼﾞ前進(補助)
LD M30                   ; 自動ﾓｰﾄﾞ
LDB M30                  ; 自動ﾓｰﾄﾞ
LD T60                   ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
OR T131                  ; ﾜｰｸｾｯﾄ部_搬送後退端
ANL
ORL
ANL
ORL
AND M50                  ; 運転準備
OUT M1351                ; ﾜｰｸｾｯﾄ部_ｽﾃｰｼﾞ後退(補助)
LD M1351                 ; ﾜｰｸｾｯﾄ部_ｽﾃｰｼﾞ後退(補助)
LD T60                   ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
OR T131                  ; ﾜｰｸｾｯﾄ部_搬送後退端
ANL
OUT Y240B                ; ﾜｰｸｾｯﾄ部_ｽﾃｰｼﾞ後退
;□□　　パネル表示　　□□
LD T130                  ; ﾜｰｸｾｯﾄ部_搬送前進端
LD M1461                 ; 供給ｽﾗｲﾀﾞ前進指令
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1580                ; 供給ｽﾗｲﾀﾞ前進_TP-PL
LD T131                  ; ﾜｰｸｾｯﾄ部_搬送後退端
LD M1463                 ; 供給ｽﾗｲﾀﾞ後退指令
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1581                ; 供給ｽﾗｲﾀﾞ後退TP-PL
LD= D1203 K2             ; 投入部1_ﾘｰｸ検査結果(1=OK_2=NG)
OUT B1582                ; ﾘｰｸNG表示
LD= D1204 K2             ; 投入部1_ﾌｧｲﾅﾙ検査結果(1=OK_2=NG)
OUT B1583                ; 電特NG表示
;<h1/>□_異常検出
LD Y240A                 ; ﾜｰｸｾｯﾄ部_ｽﾃｰｼﾞ前進
ANB X1296                ; ﾜｰｸｾｯﾄ部_搬送前進端
LD Y240B                 ; ﾜｰｸｾｯﾄ部_ｽﾃｰｼﾞ後退
ANB X1297                ; ﾜｰｸｾｯﾄ部_搬送後退端
ORL
LD X1296                 ; ﾜｰｸｾｯﾄ部_搬送前進端
AND X1297                ; ﾜｰｸｾｯﾄ部_搬送後退端
ORL
LD CR2003                ; 常時OFF
ANB B0520                ; 32)_U1E1Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B020                 ; 32)_U1E1_ﾜｰｸ搬送前後CLｾﾝｻ異常
ORL
MPS
TMR K180 K50             ; CLﾀｲﾏ
MPP
AND T180                 ; CLﾀｲﾏ
OUT B020                 ; 32)_U1E1_ﾜｰｸ搬送前後CLｾﾝｻ異常
LDP B020                 ; 32)_U1E1_ﾜｰｸ搬送前後CLｾﾝｻ異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1033 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0520                 ; 32)_U1E1Bz停止
AND B020                 ; 32)_U1E1_ﾜｰｸ搬送前後CLｾﾝｻ異常
OUT B0520                ; 32)_U1E1Bz停止
LD M1005                 ; _1-1_S5_ｲﾝﾃﾞｯｸｽNO.ﾁｪｯｸ
LD M30                   ; 自動ﾓｰﾄﾞ
ANB M41                  ; ﾕﾆｯﾄ_起動中
ORL
AND= D1050 K0            ; 投入部JIG_ID
AND T131                 ; ﾜｰｸｾｯﾄ部_搬送後退端
LD CR2003                ; 常時OFF
ANB B0521                ; 33)_U1E2Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B021                 ; 33)_U1E2_投入部JIG_ID異常
ORL
OUT B021                 ; 33)_U1E2_投入部JIG_ID異常
LDP B021                 ; 33)_U1E2_投入部JIG_ID異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K34 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0521                 ; 33)_U1E2Bz停止
AND B021                 ; 33)_U1E2_投入部JIG_ID異常
OUT B0521                ; 33)_U1E2Bz停止
LD M1037                 ; _1-1_S37_搬送へのﾜｰｸ受渡し失敗
LD CR2003                ; 常時OFF
ANB B0522                ; 34)_U1E3Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
ORL
OUT B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
LDP B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K35 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0522                 ; 34)_U1E3Bz停止
AND B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
OUT B0522                ; 34)_U1E3Bz停止
;
LDB M1019                ; _1-1_S19_ﾜｰｸ投入NG異常
ANB M1020                ; _1-1_S20_NGﾗﾝﾌﾟ点灯
INV
LD CR2003                ; 常時OFF
ANB B0523                ; 35)_U1E4Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B023                 ; 35)_U1E4_ﾜｰｸ投入NG異常
ORL
LDB T105                 ; 給材部ﾜｰｸ無し確認
OR W00.2                 ; PC Busy
ANL
OUT B023                 ; 35)_U1E4_ﾜｰｸ投入NG異常
LDP B023                 ; 35)_U1E4_ﾜｰｸ投入NG異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K36 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0523                 ; 35)_U1E4Bz停止
AND B023                 ; 35)_U1E4_ﾜｰｸ投入NG異常
OUT B0523                ; 35)_U1E4Bz停止
;
LD T100                  ; ﾕﾆｯﾄ1原点復帰ﾀｲﾑｱｳﾄ
LD CR2003                ; 常時OFF
ANB B0524                ; 36)_U1E5Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B024                 ; 36)_U1E5_供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
ORL
OUT B024                 ; 36)_U1E5_供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
LDP B024                 ; 36)_U1E5_供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K37 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0524                 ; 36)_U1E5Bz停止
AND B024                 ; 36)_U1E5_供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
OUT B0524                ; 36)_U1E5Bz停止
;　
LD M1091                 ; U1-2_S11_ｽﾃｰｼﾞ有効確認
AND M1420                ; ST受入れ準備NG
LD CR2003                ; 常時OFF
ANB B0525                ; 37)_U1E6Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B025                 ; 37)_U1E6_ﾘｰｸST2_2ｽﾃｰｼﾞﾁｪｯｸ
ORL
OUT B025                 ; 37)_U1E6_ﾘｰｸST2_2ｽﾃｰｼﾞﾁｪｯｸ
LDP B025                 ; 37)_U1E6_ﾘｰｸST2_2ｽﾃｰｼﾞﾁｪｯｸ
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K38 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0525                 ; 37)_U1E6Bz停止
AND B025                 ; 37)_U1E6_ﾘｰｸST2_2ｽﾃｰｼﾞﾁｪｯｸ
OUT B0525                ; 37)_U1E6Bz停止
;
LD M1008                 ; _1-1_S8_ｽﾃｰｼﾞ異常
ANB M1422                ; ｽﾃｰｼﾞ状態OK
LD CR2003                ; 常時OFF
ANB B0526                ; 38)_U1E7Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B026                 ; 38)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
ORL
OUT B026                 ; 38)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
LDP B026                 ; 38)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K39 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0526                 ; 38)_U1E7Bz停止
AND B026                 ; 38)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
OUT B0526                ; 38)_U1E7Bz停止
;ﾜｰｸ搬送異常
LD M1028                 ; _1-1_S28_給材部ﾜｰｸ搬送異常
LD CR2003                ; 常時OFF
ANB B0528                ; 40)_U1E9Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B028                 ; 40)_ﾜｰｸ搬送異常
ORL
OUT B028                 ; 40)_ﾜｰｸ搬送異常
LDP B028                 ; 40)_ﾜｰｸ搬送異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K41 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0528                 ; 40)_U1E9Bz停止
AND B028                 ; 40)_ﾜｰｸ搬送異常
OUT B0528                ; 40)_U1E9Bz停止
;
LD M1011                 ; _1-1_S11_ﾜｰｸ浮き検知
LD CR2003                ; 常時OFF
ANB B0529                ; 41)_U1E10Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
OR X1280                 ; 給材部ﾜｰｸ有無確認(ON=有)
AND B029                 ; 41)_投入部ﾜｰｸ浮き異常
ORL
LD X1280                 ; 給材部ﾜｰｸ有無確認(ON=有)
OR T60                   ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANL
OUT B029                 ; 41)_投入部ﾜｰｸ浮き異常
LDP B029                 ; 41)_投入部ﾜｰｸ浮き異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K42 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0529                 ; 41)_U1E10Bz停止
AND B029                 ; 41)_投入部ﾜｰｸ浮き異常
OUT B0529                ; 41)_U1E10Bz停止
;
LD M1445                 ; 給材ｽﾗｲﾀﾞ_不要ﾜｰｸ有異常
LD CR2003                ; 常時OFF
ANB B052A                ; 42)_U1E11Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B02A                 ; 42)_給材ｽﾗｲﾀﾞ不要ﾜｰｸ有異常
ORL
OUT B02A                 ; 42)_給材ｽﾗｲﾀﾞ不要ﾜｰｸ有異常
LDP B02A                 ; 42)_給材ｽﾗｲﾀﾞ不要ﾜｰｸ有異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K43 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B052A                 ; 42)_U1E11Bz停止
AND B02A                 ; 42)_給材ｽﾗｲﾀﾞ不要ﾜｰｸ有異常
OUT B052A                ; 42)_U1E11Bz停止
;
LD M1446                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受取り異常
LD CR2003                ; 常時OFF
ANB B052B                ; 43)_U1E12Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B02B                 ; 43)_給材ｽﾗｲﾀﾞﾜｰｸ受取り異常
ORL
OUT B02B                 ; 43)_給材ｽﾗｲﾀﾞﾜｰｸ受取り異常
LDP B02B                 ; 43)_給材ｽﾗｲﾀﾞﾜｰｸ受取り異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K44 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B052B                 ; 43)_U1E12Bz停止
AND B02B                 ; 43)_給材ｽﾗｲﾀﾞﾜｰｸ受取り異常
OUT B052B                ; 43)_U1E12Bz停止
;
LD M1160                 ; NG_00_NGﾎﾞｯｸｽﾜｰｸ置き警報
OR M1161                 ; NG_01_NGﾎﾞｯｸｽﾜｰｸ置き警報
LD CR2003                ; 常時OFF
ANB B052C                ; 44)_U1E13Bz停止
LDPB X309                ; ﾜｰｸ供給部NG_SW
ANB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
ORL
LD T104                  ; NGﾎﾞｯｸｽﾜｰｸ有検知
AND CR2003               ; 常時OFF
ORL
AND B02C                 ; 44)_NGﾜｰｸ処理警報
ORL
OUT B02C                 ; 44)_NGﾜｰｸ処理警報
LDP B02C                 ; 44)_NGﾜｰｸ処理警報
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K45 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B052C                 ; 44)_U1E13Bz停止
AND B02C                 ; 44)_NGﾜｰｸ処理警報
OUT B052C                ; 44)_U1E13Bz停止
;　　
LDB M1258                ; STEP8_給材部ﾜｰｸ除去要求
ANB T108                 ; ﾜｰｸ取出し要求時間
INV
LD M36                   ; 払出ﾓｰﾄﾞ
ANB M1074                ; ﾕﾆｯﾄ1-1起動中
AND T101                 ; 給材部ﾜｰｸ有確認(ON=有)
ORL
LD CR2003                ; 常時OFF
ANB B0821                ; 801)_U1E8_ブザー停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0321                ; 801)_U1E8_給材部ﾜｰｸ除去要求
ORL
ANB X309                 ; ﾜｰｸ供給部NG_SW
ANB T105                 ; 給材部ﾜｰｸ無し確認
OUT B0321                ; 801)_U1E8_給材部ﾜｰｸ除去要求
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0821                 ; 801)_U1E8_ブザー停止
AND B0321                ; 801)_U1E8_給材部ﾜｰｸ除去要求
OUT B0821                ; 801)_U1E8_ブザー停止
;給材部ワーク検知ＯＦＦ異常
LD D1201.0
AND= D1203 K0            ; 投入部1_ﾘｰｸ検査結果(1=OK_2=NG)
AND= D1204 K0            ; 投入部1_ﾌｧｲﾅﾙ検査結果(1=OK_2=NG)
AND T109                 ; 給材部ﾜｰｸ無し確認
ANB M1618                ; U2_S118_ﾜｰｸ吸着OKでHS完了
ANB M1620                ; U2_S120_供給→搬送ﾃﾞｰﾀｼﾌﾄ
AND M71                  ; 自動運転開始BZ
LD CR2003                ; 常時OFF
ANB B0530                ; 48)_U1E17Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B030                 ; 48)_供給ｽﾗｲﾀﾞ製品検知OFF異常
ORL
ANB M35                  ; 空運転ﾓｰﾄﾞ
OUT B030                 ; 48)_供給ｽﾗｲﾀﾞ製品検知OFF異常
LDP B030                 ; 48)_供給ｽﾗｲﾀﾞ製品検知OFF異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1049 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0530                 ; 48)_U1E17Bz停止
AND B030                 ; 48)_供給ｽﾗｲﾀﾞ製品検知OFF異常
OUT B0530                ; 48)_U1E17Bz停止
;
LDB M1019                ; _1-1_S19_ﾜｰｸ投入NG異常
ANB M1020                ; _1-1_S20_NGﾗﾝﾌﾟ点灯
INV
LD CR2003                ; 常時OFF
ANB B0531                ; 49)_U1E18Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B031                 ; 49)_BCR読取異常
ORL
LDB T105                 ; 給材部ﾜｰｸ無し確認
OR W00.2                 ; PC Busy
ANL
AND M1418                ; BCR確認異常(読取不可も含む)
AND CR2003               ; 常時OFF
OUT B031                 ; 49)_BCR読取異常
LDP B031                 ; 49)_BCR読取異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K50 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0531                 ; 49)_U1E18Bz停止
AND B031                 ; 49)_BCR読取異常
OUT B0531                ; 49)_U1E18Bz停止
;邪魔板CLｾﾝｻｰ異常
LD X129E                 ; 邪魔板_邪魔側前進端
OR X129F                 ; 邪魔板_邪魔側後退端
TMR K85 K20              ; ｾﾝｻｰ認識時間
CON
AND T85                  ; ｾﾝｻｰ認識時間
SET L21                  ; 邪魔板ｾﾝｻ有認識
LD Y240A                 ; ﾜｰｸｾｯﾄ部_ｽﾃｰｼﾞ前進
ANB X129E                ; 邪魔板_邪魔側前進端
LD Y240B                 ; ﾜｰｸｾｯﾄ部_ｽﾃｰｼﾞ後退
ANB X129F                ; 邪魔板_邪魔側後退端
ORL
LD X129E                 ; 邪魔板_邪魔側前進端
AND X129F                ; 邪魔板_邪魔側後退端
ORL
LD CR2003                ; 常時OFF
ANB B0532                ; 50)_U1E19Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B032                 ; 50)_邪魔板CLｾﾝｻｰ異常
ORL
MPS
AND L21                  ; 邪魔板ｾﾝｻ有認識
TMR K181 K50             ; CLﾀｲﾏｰ
MPP
AND T181                 ; CLﾀｲﾏｰ
OUT B032                 ; 50)_邪魔板CLｾﾝｻｰ異常
LDP B032                 ; 50)_邪魔板CLｾﾝｻｰ異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K51 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0532                 ; 50)_U1E19Bz停止
AND B032                 ; 50)_邪魔板CLｾﾝｻｰ異常
OUT B0532                ; 50)_U1E19Bz停止
;異常ﾌﾞｻﾞｰまとめ
LDB B020                 ; 32)_U1E1_ﾜｰｸ搬送前後CLｾﾝｻ異常
OR B0520                 ; 32)_U1E1Bz停止
LDB B021                 ; 33)_U1E2_投入部JIG_ID異常
OR B0521                 ; 33)_U1E2Bz停止
ANL
LDB B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
OR B0522                 ; 34)_U1E3Bz停止
ANL
LDB B023                 ; 35)_U1E4_ﾜｰｸ投入NG異常
OR B0523                 ; 35)_U1E4Bz停止
ANL
LDB B024                 ; 36)_U1E5_供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
OR B0524                 ; 36)_U1E5Bz停止
ANL
LDB B025                 ; 37)_U1E6_ﾘｰｸST2_2ｽﾃｰｼﾞﾁｪｯｸ
OR B0525                 ; 37)_U1E6Bz停止
ANL
LDB B026                 ; 38)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
OR B0526                 ; 38)_U1E7Bz停止
ANL
LDB B027                 ; 39)_
OR B0527                 ; 39)_U1E8Bz停止
ANL
LDB B028                 ; 40)_ﾜｰｸ搬送異常
OR B0528                 ; 40)_U1E9Bz停止
ANL
LDB B029                 ; 41)_投入部ﾜｰｸ浮き異常
OR B0529                 ; 41)_U1E10Bz停止
ANL
LDB B02A                 ; 42)_給材ｽﾗｲﾀﾞ不要ﾜｰｸ有異常
OR B052A                 ; 42)_U1E11Bz停止
ANL
LDB B02B                 ; 43)_給材ｽﾗｲﾀﾞﾜｰｸ受取り異常
OR B052B                 ; 43)_U1E12Bz停止
ANL
LDB B02C                 ; 44)_NGﾜｰｸ処理警報
OR B052C                 ; 44)_U1E13Bz停止
ANL
LDB B02D                 ; 45)_U1E14
OR B052D                 ; 45)_U1E14Bz停止
ANL
LDB B02E                 ; 46)_U1E15
OR B052E                 ; 46)_U1E15Bz停止
ANL
LDB B02F                 ; 47)_U1E16
OR B052F                 ; 47)_U1E16Bz停止
ANL
LDB B030                 ; 48)_供給ｽﾗｲﾀﾞ製品検知OFF異常
OR B0530                 ; 48)_U1E17Bz停止
ANL
LDB B031                 ; 49)_BCR読取異常
OR B0531                 ; 49)_U1E18Bz停止
ANL
LDB B032                 ; 50)_邪魔板CLｾﾝｻｰ異常
OR B0532                 ; 50)_U1E19Bz停止
ANL
LDB B033                 ; 51)_U1E20
OR B0533                 ; 51)_U1E20Bz停止
ANL
LDB B034                 ; 52)_U1E21
OR B0534                 ; 52)_U1E21Bz停止
ANL
LDB B035                 ; 53)_U1E22
OR B0535                 ; 53)_U1E22Bz停止
ANL
LDB B036                 ; 54)_U1E23
OR B0536                 ; 54)_U1E23Bz停止
ANL
LDB B037                 ; 55)_U1E24
OR B0537                 ; 55)_U1E24Bz停止
ANL
LDB B038                 ; 56)_U1E25
OR B0538                 ; 56)_U1E25Bz停止
ANL
LDB B039                 ; 57)_U1E26
OR B0539                 ; 57)_U1E26Bz停止
ANL
LDB B03A                 ; 58)_U1E27
OR B053A                 ; 58)_U1E27Bz停止
ANL
LDB B03B                 ; 59)_U1E28
OR B053B                 ; 59)_U1E28Bz停止
ANL
LDB B03C                 ; 60)_U1E29
OR B053C                 ; 60)_U1E29Bz停止
ANL
LDB B03D                 ; 61)_U1E30
OR B053D                 ; 61)_U1E30Bz停止
ANL
LDB B03E                 ; 62)_U1E31
OR B053E                 ; 62)_U1E31Bz停止
ANL
LDB B03F                 ; 63)_U1E32
OR B053F                 ; 63)_U1E32Bz停止
ANL
LDB B0321                ; 801)_U1E8_給材部ﾜｰｸ除去要求
OR B0821                 ; 801)_U1E8_ブザー停止
ANL
INV
OUT M1489                ; ﾕﾆｯﾄ1異常BZ補助
END
ENDH
