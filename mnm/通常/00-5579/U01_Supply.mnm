DEVICE:53
;MODULE:U01_Supply
;MODULE_TYPE:0
;<h1/>□_入力受け
;関連する入力受け(ｾﾝｻのﾃﾞｨﾚｲﾀｲﾏ等)を必要があれば作成する。
;通常は入力ﾕﾆｯﾄに入力時定数(ﾃﾞｨﾚｲ)があるので直接使用しても問題は無い。
LD X04                   ; 供給部扉閉確認
OR M39                   ; ｴﾘｱｾﾝｻ-無視Mode
TMR K115 K5              ; 投入部扉閉確認
LDB X04                  ; 供給部扉閉確認
TMR K116 K50             ; 投入部扉開ﾀｲﾏ
LD X1280                 ; 給材部ﾜｰｸ有無確認(ON=有)
TMR K101 K5              ; 給材部ﾜｰｸ有り確認
LDB X1280                ; 給材部ﾜｰｸ有無確認(ON=有)
TMR K105 K5              ; 給材部ﾜｰｸ無し確認
LD X1282                 ; 給材部ﾜｰｸ浮き確認1(ON=OK)
AND X1283                ; 給材部ﾜｰｸ浮き確認2(ON=OK)
TMR K102 K3              ; 給材部ﾜｰｸ浮き確認(ON=OK)
LD X1281                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
TMR K103 K3              ; 給材引込部ﾜｰｸ有無確認(ON=有)
LD CR2003                ; 常時OFF
TMR K104 K3              ; 入力受け4
LD X1285                 ; 投入部JIG識別ID_1
OUT D1052.0              ; 投入部JIG識別ID_1_Copy
LD X1286                 ; 投入部JIG識別ID_2
OUT D1052.1              ; 投入部JIG識別ID_2_Copy
LD X1287                 ; 投入部JIG識別ID_3
OUT D1052.2              ; 投入部JIG識別ID_4_Copy
LD<> D1050 D1052         ; 投入部部JIG_ID  投入部JIG識別ID_Copy
AND M1450                ; RB1_ﾜｰｸ投入位置_P2
MPS
TMR K106 K5              ; 投入治具ID確認時間
MPP
AND T106                 ; 投入治具ID確認時間
MOV D1052 D1050          ; 投入部JIG識別ID_Copy  投入部部JIG_ID
LD CR2002                ; 常時ON
MOV D1050 W0120          ; 投入部部JIG_ID  投入ﾊﾟﾚｯﾄID
MPS
AND D1050.0              ; 投入部JIG識別ID_1
OUT B300A                ; Leak_Final_Jig_ID1
MRD
AND D1050.1              ; 投入部JIG識別ID_2
OUT B300B                ; Leak_Final_Jig_ID2
MPP
AND D1050.2              ; 投入部JIG識別ID_4
OUT B300C                ; Leak_Final_Jig_ID4
;<h1/>□_上流(LOW/HI Auto) I/F
;L/H → LeakFinal
LD CR2002                ; 常時ON
MPS
AND B3028                ; Lo_Hi_Auto→Leak_Final_Jig_ID1
OUT D1060.0              ; Lo_Hi_Auto→Leak_Final_Jig_ID1
MRD
AND B3029                ; Lo_Hi_Auto→Leak_Final_Jig_ID2
OUT D1060.1              ; Lo_Hi_Auto→Leak_Final_Jig_ID2
MPP
AND B302A                ; Lo_Hi_Auto→Leak_Final_Jig_ID4
OUT D1060.2              ; Lo_Hi_Auto→Leak_Final_Jig_ID4
LD B3032                 ; Lo_Hi_Auto_扉閉
OR L22                   ; 上流接続無(ON=無)
OR M39                   ; ｴﾘｱｾﾝｻ-無視Mode
OUT M1208                ; Lo_Hi_Auto_扉閉
LD B3033                 ; Lo_Hi_Auto_RB不干渉信号
OR L22                   ; 上流接続無(ON=無)
OUT M1209                ; Lo_Hi_Auto_RB不干渉信号
LD CR2002                ; 常時ON
MPS
AND B303F                ; Lo_Hi_Auto_通信正常ｸﾛｯｸ
TMR K150 K50             ; 上流装置ｸﾛｯｸ監視
MPP
ANB B303F                ; Lo_Hi_Auto_通信正常ｸﾛｯｸ
TMR K151 K50             ; 上流装置ｸﾛｯｸ監視
;Leak/Final → L/H
LD X1280                 ; 給材部ﾜｰｸ有無確認(ON=有)
OUT B300E                ; Leak_Final_Jig上ﾜｰｸ有(On=有)
LD M71                   ; 自動運転開始BZ
ANB M36                  ; 払出ﾓｰﾄﾞ
OUT B3010                ; Leak_Final_自動運転中
LD T0                    ; 電源投入0Nﾃﾞｨﾚｲ
AND M50                  ; 運転準備
OUT B3011                ; Leak_Final_非常停止正常
LD X04                   ; 供給部扉閉確認
OUT B3012                ; Leak_Final_扉閉
LD CR2002                ; 常時ON
FLIK K50 K50 B301F       ; Leak_Final_通信正常ｸﾛｯｸ
LD M1180                 ; L/H AUTO一時停止要求
ANB L22                  ; 上流接続無(ON=無)
OUT B3014                ; Leak_Final_一時停止要求
;<h1/>途中投入ﾓｰﾄﾞ
LD B1005                 ; 再投入SW
AND M1350                ; 途中投入ﾓｰﾄﾞ中
TMR K125 K5              ; 途中投入ﾓｰﾄﾞｷｬﾝｾﾙ
LDP B1005                ; 再投入SW
ANB M1350                ; 途中投入ﾓｰﾄﾞ中
LDPB T125                ; 途中投入ﾓｰﾄﾞｷｬﾝｾﾙ
ANB M1353                ; 途中投入取消(TPから)
AND M1350                ; 途中投入ﾓｰﾄﾞ中
ORL
AND M71                  ; 自動運転開始BZ
LDB M1030                ; S130
OR CR2002                ; 常時ON
ANL
ANB M926                 ; S26_途中投入ﾄﾞｱ閉確認
OUT M1350                ; 途中投入ﾓｰﾄﾞ中
LD M1350                 ; 途中投入ﾓｰﾄﾞ中
OUT B1505                ; 再投入PL
;<h1/>□_装置状態・動作条件
;ﾕﾆｯﾄまとめ
LD M1070                 ; U1-1原点_供給ｽﾗｲﾀﾞ部
AND M1150                ; U1-2原点_ﾊﾞｰｺｰﾄﾞ読取
OUT M1480                ; U1SupSlider原点
;□ 非常停止
LDB M1071                ; U1-1即停止異常_供給ｽﾗｲﾀﾞ部
ANB M1151                ; U1-2異常
INV
OUT M1481                ; U1SupSlider即停止異常
;□ 起動条件
LD M1072                 ; U1-1起動条件_供給ｽﾗｲﾀﾞ部
AND M1152                ; U1-2起動条件
OUT M1482                ; U1SupSlider起動条件
;□ 起動OFF
LDB M50                  ; 運転準備
LD M60                   ; ｴﾗｰ発生
OR M52                   ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
AND M1484                ; U1SupSlider原点復帰中
ORL
OR T15                   ; 強制停止
OUT M1483                ; U1SupSlider原点復帰起動OFF
;□ 原点復帰
LD M82                   ; 原点復帰開始
ANB M1484                ; U1SupSlider原点復帰中
OR M1484                 ; U1SupSlider原点復帰中
ANB M1483                ; U1SupSlider原点復帰起動OFF
ANB M1491                ; U1SupSliderｴﾗｰ発生
ANB M1297                ; OrgSEND
OUT M1484                ; U1SupSlider原点復帰中
@MOV K0 D1550            ; 搬送_1_ﾜｰｸ在荷_CNT
;□ 起動中
LDB M1074                ; U1-1起動中
ANB M1154                ; ｺｰﾄﾞ読取U1-2起動中
INV
OUT M1485                ; U1SupSlider起動中
;□ ｻｲｸﾙ停止異常
LDB M1075                ; U1-1ｻｲｸﾙ停止異常
ANB M1155                ; U1-2ｻｲｸﾙ停止異常
ANB B024                 ; 036)供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
INV
OUT M1486                ; U1SupSliderｻｲｸﾙ停止異常
;□ 払出停止異常
LDB CR2003               ; 常時OFF
INV
OUT M1487                ; U1SupSlider払出停止異常
;□ 警報補助
LDB CR2003               ; 常時OFF
INV
OUT M1488                ; U1SupSlider警報補助
;□ 機器準備確認
LDB X1006                ; RB1_移動中_MOVE
ANB X1009                ; RB1_運転ﾓｰﾄﾞ_RMDS
AND X100C                ; RB1_ｻｰﾎﾞ状態_SV
AND X100D                ; RB1_非常停止_*EMGS
AND X100E                ; RB1_ｱﾗｰﾑ_*ALM
OUT M1490                ; U1SupSlider機器準備完了
;□ ｴﾗｰ発生　一時停止
LDB M1076                ; U1-1ｴﾗｰ発生(一時停止処理)
ANB M1156                ; U1-2ｴﾗｰ発生
INV
OUT M1491                ; U1SupSliderｴﾗｰ発生
;□ 動作中ﾕﾆｯﾄ無し
LD M1077                 ; U1-1動作無し
AND M1157                ; U1-2動作無し
OUT M1492                ; U1SupSlider動作無し確認
;□ 払出しﾜｰｸ無し
LD T105                  ; 給材部ﾜｰｸ無し確認
ANB T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
ANB X1284                ; 給材部中間投入位置ﾜｰｸ確認(ON=有)
AND M36                  ; 払出ﾓｰﾄﾞ
TMR K114 K10             ; UNIT1払出処理ﾜｰｸ無
LD T114                  ; UNIT1払出処理ﾜｰｸ無
OUT M1493                ; U1SupSliderﾜｰｸ無し
;□ ｽﾃｯﾌﾟ起動
LD M30                   ; 自動ﾓｰﾄﾞ
OR M31                   ; 手動ﾓｰﾄﾞ
ANB M130                 ; 一時停止
AND T115                 ; 投入部扉閉確認
ANB M51                  ; 即停止異常(緊急停止)
ANB M52                  ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
ANB M57                  ; 自動起動停止指令(払出停止)
ANB M59                  ; 払出停止異常まとめ
ANB M60                  ; ｴﾗｰ発生
OUT M1479                ; U1_ｽﾃｯﾌﾟ動作可
;<h1/>□_自動回路
;<h1/>◇_状態・動作条件(補助)
LDP M71                  ; 自動運転開始BZ
OR M1078                 ; 供給ｽﾗｲﾀﾞ_起動初期確認
AND M71                  ; 自動運転開始BZ
ANB M1002                ; S102_
OUT M1078                ; 供給ｽﾗｲﾀﾞ_起動初期確認
LD M1450                 ; RB1_ﾜｰｸ投入位置_P2
ANB X1280                ; 給材部ﾜｰｸ有無確認(ON=有)
ANB X1281                ; 給材引込部ﾜｰｸ有無確認(ON=有)
ANB X1284                ; 給材部中間投入位置ﾜｰｸ確認(ON=有)
AND= D1201 K0            ; 投入部1_ﾜｰｸ有無記憶
OUT M1070                ; U1-1原点_供給ｽﾗｲﾀﾞ部
LDB B020                 ; 032)RB1ｺﾝﾄﾛｰﾗｰ異常
ANB B022                 ; 034)供給部ﾜｰｸ受渡し失敗
ANB B028                 ; 040)ﾜｰｸ搬送異常
ANB B02A                 ; 042)投入部ﾜｰｸ受取異常
ANB B02C                 ; 044)Lo/Hi auto 通信異常
INV
OUT M1071                ; U1-1即停止異常_供給ｽﾗｲﾀﾞ部
LD M1070                 ; U1-1原点_供給ｽﾗｲﾀﾞ部
ANB M1074                ; U1-1起動中
ANB M130                 ; 一時停止
ANB M56                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ANB M36                  ; 払出ﾓｰﾄﾞ
ANB M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
ANB M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
ANB M1404                ; ID異常時  ｻｲｸﾙ停止選択
ANB M1405                ; ID異常時　取出し選択
ANB M1406                ; ID異常時　段取り替え選択
ANB M1407                ; BCR読み取れなかった異常
OUT M1072                ; U1-1起動条件_供給ｽﾗｲﾀﾞ部
LDB M50                  ; 運転準備
OR M1486                 ; U1SupSliderｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M1073                ; U1-1起動OFF
LD M73                   ; 各工程起動指令
AND M1072                ; U1-1起動条件_供給ｽﾗｲﾀﾞ部
OR M1074                 ; U1-1起動中
ANB M1073                ; U1-1起動OFF
ANB M1063                ; S163 END
OUT M1074                ; U1-1起動中
;ﾕﾆｯﾄ1-1 ｻｲｸﾙ停止異常
LDB B020                 ; 032)RB1ｺﾝﾄﾛｰﾗｰ異常
ANB B04C                 ; 076)吸着ｾﾝｻ確認異常
INV
OUT M1075                ; U1-1ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-1 一時停止ｴﾗｰ発生まとめ
LDB B021                 ; 033)投入部JIGID異常
ANB B023                 ; 035)ﾜｰｸ投入NG異常
ANB B025                 ; 037)ID一致ｽﾃｰｼﾞ無
ANB B026                 ; 038)ｽﾃｰｼﾞﾁｪｯｸ要求(有効化要求)
ANB B0321                ; 801)給材部ﾜｰｸ除去要求
ANB B027                 ; 039)ﾜｰｸ受取前不明ﾜｰｸ有異常
ANB B028                 ; 040)ﾜｰｸ搬送異常
ANB B029                 ; 041)投入部ﾜｰｸ浮き異常
ANB B02B                 ; 043)投入部ﾊﾟﾚｯﾄID不一致
INV
OUT M1076                ; U1-1ｴﾗｰ発生(一時停止処理)
;ﾕﾆｯﾄ1-1 停止判定
LD= D1000 D1005          ; U1-1自動運転ｽﾃｯﾌﾟ  U1-1動作中判定
ORB M1074                ; U1-1起動中
ANB M1244                ; RB1位置決めSub起動中
TMR K110 K20             ; U1-1動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D1000 D1005          ; U1-1自動運転ｽﾃｯﾌﾟ  U1-1動作中判定
LD T110                  ; U1-1動作無し判定ﾀｲﾏ
OUT M1077                ; U1-1動作無し
;□
;□　ﾕﾆｯﾄ1-1 自動運転ステップ開始
;□
LD CR2002                ; 常時ON
ZRES M900 M1063          ; S0  S163 END
LDB M1074                ; U1-1起動中
MOV K0 D1000             ; U1-1自動運転ｽﾃｯﾌﾟ
MOV K0 D1201             ; 投入部1_ﾜｰｸ有無記憶
LD M1074                 ; U1-1起動中
MOV D1000 Z1             ; U1-1自動運転ｽﾃｯﾌﾟ
SET M900:Z1              ; S0
;__自動開始
LD M900                  ; S0
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M901                  ; S1
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M902                  ; S2
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M903                  ; S3_ﾊﾟﾚｯﾄID確認
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
MPS
ANB M36                  ; 払出ﾓｰﾄﾞ
MPS
AND<> D1050 K0           ; 投入部部JIG_ID
MOV K5 D1000             ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
AND= D1050 K0            ; 投入部部JIG_ID
MOV K4 D1000             ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
AND M36                  ; 払出ﾓｰﾄﾞ
MOV K163 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
LD M904                  ; S4_ﾊﾟﾚｯﾄID異常
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
ANB B021                 ; 033)投入部JIGID異常
MOV K3 D1000             ; U1-1自動運転ｽﾃｯﾌﾟ
LD M905                  ; S5
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M906                  ; S6
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
;	ﾓｰﾄﾞ分け
LD M907                  ; S7
MPS
ANB L22                  ; 上流接続無(ON=無)
MOV K10 D1000            ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
AND L22                  ; 上流接続無(ON=無)
MOV K20 D1000            ; U1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S010_上流へﾜｰｸ供給要求
LD M910                  ; S10
MPS
ANB M36                  ; 払出ﾓｰﾄﾞ
MPS
LDB B027                 ; 039)ﾜｰｸ受取前不明ﾜｰｸ有異常
ANB X1280                ; 給材部ﾜｰｸ有無確認(ON=有)
ANL
MPS
LD<> D1050 K0            ; 投入部部JIG_ID
AND<> D1060 K0           ; Lo_Hi_Auto→Leak_Final_Jig_ID
ANL
MPS
AND= D1050 D1060         ; 投入部部JIG_ID  Lo_Hi_Auto→Leak_Final_Jig_ID
OUT M1200                ; 上流へﾜｰｸ要求
MPP
AND<> D1050 D1060        ; 投入部部JIG_ID  Lo_Hi_Auto→Leak_Final_Jig_ID
MOV K50 D1000            ; U1-1自動運転ｽﾃｯﾌﾟ
MRD
LDB B3022                ; L/HAUTO→Leak_Finalへ給材中
AND M1350                ; 途中投入ﾓｰﾄﾞ中
ANL
MOV K20 D1000            ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
AND B3022                ; L/HAUTO→Leak_Finalへ給材中
MOV K11 D1000            ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
AND X1280                ; 給材部ﾜｰｸ有無確認(ON=有)
OUT M1210                ; ﾜｰｸ受取前不明ﾜｰｸ有異常
MPP
AND M36                  ; 払出ﾓｰﾄﾞ
MOV K163 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1200                 ; 上流へﾜｰｸ要求
OR B3000                 ; Leak_Final給材要求→Lo_Hi_Auto
AND M1074                ; U1-1起動中
ANB M1201                ; 上流給材完了
ANB M1350                ; 途中投入ﾓｰﾄﾞ中
ANB M920                 ; S20_途中投入ﾓｰﾄﾞ
OUT B3000                ; Leak_Final給材要求→Lo_Hi_Auto
;<h1/>__S050_ﾊﾟﾚｯﾄID不一致
LD M950                  ; S50
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
ANB M1240                ; RB1位置決め指令
MPS
MOV D1032 D1024          ; RB1_途中投入位置  RB1_移動先POS_NO.
MPP
AND= D1032 D1024         ; RB1_途中投入位置  RB1_移動先POS_NO.
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M951                  ; S51_途中投入位置移動
AND M1240                ; RB1位置決め指令
AND M1241                ; RB1位置決め完了
AND M1453                ; RB1_途中投入位置
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M952                  ; S52_ﾊﾟﾚｯﾄ不一致異常
AND B02B                 ; 043)投入部ﾊﾟﾚｯﾄID不一致
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M953                  ; S53_ID違い異常
ANB B02B                 ; 043)投入部ﾊﾟﾚｯﾄID不一致
AND X04                  ; 供給部扉閉確認
MOV K140 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
;__S011_上流より受取
LD B3020                 ; Leak_Finalへ給材完了
TMH K131 K20             ; ﾃﾞｰﾀ受取ﾃﾞｨﾚｲ
LD M911                  ; S11_ﾜｰｸ受取中
MPS
LD T131                  ; ﾃﾞｰﾀ受取ﾃﾞｨﾚｲ
OR M1202                 ; 上流装置_ﾜｰｸ受取異常
ANL
OUT M1201                ; 上流給材完了
MPP
LDB B3000                ; Leak_Final給材要求→Lo_Hi_Auto
ANB B3020                ; Leak_Finalへ給材完了
ANB B3022                ; L/HAUTO→Leak_Finalへ給材中
ANL
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M911                  ; S11_ﾜｰｸ受取中
LD B3021                 ; Leak_Final_給材NG
ORB B3030                ; Lo_Hi_Auto_自動運転中
ANL
OR M1202                 ; 上流装置_ﾜｰｸ受取異常
AND M1074                ; U1-1起動中
OUT M1202                ; 上流装置_ﾜｰｸ受取異常
;W3000は上流装置の書き込みｴﾘｱだからｸﾘｱしても意味がない。
LDP B3000                ; Leak_Final給材要求→Lo_Hi_Auto
ORF M1074                ; U1-1起動中
MPS
FMOV K0 D1300 K20        ; 冷却槽取出製品低温検査結果
MPP
AND CR2003               ; 常時OFF
FMOV K0 W3000 K32        ; 冷却槽取出製品低温検査結果
LDP T131                 ; ﾃﾞｰﾀ受取ﾃﾞｨﾚｲ
BMOV W3000 D1300 K4      ; 冷却槽取出製品低温検査結果  冷却槽取出製品低温検査結果
BMOV W3010 D1310 K10     ; 低高温受渡製品コード情報  低高温受渡製品コード情報
LD M912                  ; S12
MPS
LD T101                  ; 給材部ﾜｰｸ有り確認
ANB M1202                ; 上流装置_ﾜｰｸ受取異常
ANL
MOV K100 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
LD T105                  ; 給材部ﾜｰｸ無し確認
OR M1202                 ; 上流装置_ﾜｰｸ受取異常
ANL
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M913                  ; S13_RBﾜｰｸ受取異常
AND B02A                 ; 042)投入部ﾜｰｸ受取異常
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M914                  ; S14
ANB B02A                 ; 042)投入部ﾜｰｸ受取異常
MOV K163 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S020_途中投入ﾓｰﾄﾞ
LD M920                  ; S20_途中投入ﾓｰﾄﾞ
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M921                  ; S21
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M922                  ; S22
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
ANB M1240                ; RB1位置決め指令
MPS
MOV D1032 D1024          ; RB1_途中投入位置  RB1_移動先POS_NO.
MPP
AND= D1032 D1024         ; RB1_途中投入位置  RB1_移動先POS_NO.
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M923                  ; S23_途中投入位置移動指令
AND M1240                ; RB1位置決め指令
AND M1241                ; RB1位置決め完了
AND M1453                ; RB1_途中投入位置
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M924                  ; S24
ANB W00.7                ; 再投入受付中
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S025_途中投入時ﾜｰｸ投入待ち
LD M925                  ; S25_ﾄﾞｱﾛｯｸ開
MPS
ANB M1493                ; U1SupSliderﾜｰｸ無し
MPS
LDP X04                  ; 供給部扉閉確認
LD M1353                 ; 途中投入取消(TPから)
AND X04                  ; 供給部扉閉確認
ORL
ANL
MPS
LD X1284                 ; 給材部中間投入位置ﾜｰｸ確認(ON=有)
LD M1352                 ; ﾜｰｸ投入完了(TPから)
OR CR2002                ; 常時ON
ANL
ANL
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
LDB M1350                ; 途中投入ﾓｰﾄﾞ中
ANB L22                  ; 上流接続無(ON=無)
ANL
MPS
ANB X1284                ; 給材部中間投入位置ﾜｰｸ確認(ON=有)
MOV K140 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
AND X1284                ; 給材部中間投入位置ﾜｰｸ確認(ON=有)
MOV K30 D1000            ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
ANB Y310                 ; ﾜｰｸ供給部ﾄﾞｱ閉
OUT M1351                ; 途中投入_TPへﾜｰｸ投入表示
MPP
LD M1493                 ; U1SupSliderﾜｰｸ無し
AND X04                  ; 供給部扉閉確認
ANL
MOV K140 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
LD M926                  ; S26_途中投入ﾄﾞｱ閉確認
AND Y310                 ; ﾜｰｸ供給部ﾄﾞｱ閉
AND X04                  ; 供給部扉閉確認
LD W00.7                 ; 再投入受付中
OR M3                    ; OFFLINE_MODE
ANL
MOV K100 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
LD M926                  ; S26_途中投入ﾄﾞｱ閉確認
ANB M1215                ; 再投入品ﾓｰﾄﾞ
ANB W00.7                ; 再投入受付中
OR M1215                 ; 再投入品ﾓｰﾄﾞ
AND M1074                ; U1-1起動中
ANB M911                 ; S11_ﾜｰｸ受取中
OUT M1215                ; 再投入品ﾓｰﾄﾞ
;____▼_ﾜｰｸ取出し要求
LD M930                  ; S30_ﾜｰｸ取り出し要求
AND B0321                ; 801)給材部ﾜｰｸ除去要求
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M931                  ; S31_ﾜｰｸ取出し要求
ANB B0321                ; 801)給材部ﾜｰｸ除去要求
AND X04                  ; 供給部扉閉確認
MOV K140 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S100_引き込み動作開始
LDB M6409                ; ST無効予約(自動運転)
OR M6410                 ; ST無効中
LDB M7409                ; ST無効予約(自動運転)
OR M7410                 ; ST無効中
ANL
LDB M9409                ; ST無効予約(自動運転)
OR M9410                 ; ST無効中
ANL
LDB M10409               ; ST無効予約(自動運転)
OR M10410                ; ST無効中
ANL
OUT M1220                ; ﾘｰｸ無効予約中でない
LD M1000                 ; S100
MPS
AND M1220                ; ﾘｰｸ無効予約中でない
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
ANB M1220                ; ﾘｰｸ無効予約中でない
OUT B0388                ; 904)ﾘｰｸST無効予約受付中
;<h1/>__S101_ﾜｰｸ供給待ち
LD M1001                 ; S101
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1002                 ; S102_
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
MOV K105 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1005                 ; S105_
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1006                 ; S106
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
;　　■ｽﾃｰｼﾞ有効ﾁｪｯｸ（ここではＰＣからのＩＤ情報がこないので、ステージの有効／無効のみをチェックする）
LDB L1100                ; LeakST1_有効状態
ANB L1300                ; LeakST2_有効状態
ANB L1700                ; LeakST3_有効状態
ANB L1900                ; LeakST4_有効状態
INV
OR L10                   ; Leak検査有無(0_有/1_無)
OUT M1431                ; LeakST Enable  Check
LDB L1200                ; FINALST1_有効状態
ANB L1400                ; FINALST2_有効状態
ANB L1600                ; FINALST3_有効状態
ANB L1800                ; FINALST4_有効状態
ANB L2000                ; FINALST5_有効状態
ANB L2200                ; FINALST6_有効状態
INV
OR L11                   ; Final検査有無(0_有/1_無)
OUT M1432                ; Final ST Enable  Check
LD M1431                 ; LeakST Enable  Check
AND M1432                ; Final ST Enable  Check
OUT M1430                ; ST Enable Check OK
LD M1007                 ; S107_ｽﾃｰｼﾞﾁｪｯｸ
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
MPS
AND M1430                ; ST Enable Check OK
MOV K110 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
ANB M1430                ; ST Enable Check OK
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1008                 ; S108_ｽﾃｰｼﾞ異常
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
AND B026                 ; 038)ｽﾃｰｼﾞﾁｪｯｸ要求(有効化要求)
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1009                 ; S109
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
ANB B026                 ; 038)ｽﾃｰｼﾞﾁｪｯｸ要求(有効化要求)
MOV K101 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
;ﾊﾞｰｺｰﾄﾞ読み取り位置へ
LD M1010                 ; S110
ANB M1240                ; RB1位置決め指令
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
MPS
MOV D1031 D1024          ; RB1_ｺｰﾄﾞ読取位置Pos指定  RB1_移動先POS_NO.
MPP
AND= D1031 D1024         ; RB1_ｺｰﾄﾞ読取位置Pos指定  RB1_移動先POS_NO.
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
;（ＣＴ短縮のため、移動中から読取要求をたてる。その後の浮き検知で戻った場合は、ＰＣへデータ消去する処理をかける）
LD M1011                 ; S111_BCR位置移動指令
MPS
LD M1479                 ; U1_ｽﾃｯﾌﾟ動作可
AND M1240                ; RB1位置決め指令
AND M1241                ; RB1位置決め完了
AND M1451                ; RB1_ｺｰﾄﾞ読取位置_P-D1031
AND M1401                ; ﾊﾞｰｺｰﾄﾞ読み取り中
ANL
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
MRD
LD M1154                 ; ｺｰﾄﾞ読取U1-2起動中
OR M1401                 ; ﾊﾞｰｺｰﾄﾞ読み取り中
ANL
OUT M1401                ; ﾊﾞｰｺｰﾄﾞ読み取り中
MPP
LDB M1154                ; ｺｰﾄﾞ読取U1-2起動中
ANB M1401                ; ﾊﾞｰｺｰﾄﾞ読み取り中
ANB W01.1                ; 基板投入不可
ANB W01.2                ; 製品IDｴﾗｰ
ANL
OUT M1400                ; ﾊﾞｰｺｰﾄﾞ読み取り要求FLG
;<h1/>__S112_ﾜｰｸ浮きﾁｪｯｸ
LD M1012                 ; S112
ANB M1240                ; RB1位置決め指令
MPS
TMR K121 K3              ; 浮検知ﾃﾞｨﾚｲ
MPP
LD T121                  ; 浮検知ﾃﾞｨﾚｲ
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
ANL
MPS
LD T102                  ; 給材部ﾜｰｸ浮き確認(ON=OK)
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
MOV K114 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
LDB T102                 ; 給材部ﾜｰｸ浮き確認(ON=OK)
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
MOV K113 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
; 浮検知
LD M1013                 ; S113_浮検知
ANPB M1013               ; S113_浮検知
AND T60                  ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
ANB M130                 ; 一時停止
AND B029                 ; 041)投入部ﾜｰｸ浮き異常
ANB M1154                ; ｺｰﾄﾞ読取U1-2起動中
AND T105                 ; 給材部ﾜｰｸ無し確認
MOV K145 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
;　　浮き異常の場合投入部のデータを削除する。
LD M1045                 ; S145
AND X04                  ; 供給部扉閉確認
ANB M1240                ; RB1位置決め指令
MPS
MOV K3 D1024             ; RB1_移動先POS_NO.
MPP
AND= K3 D1024            ; RB1_移動先POS_NO.
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1046                 ; S146_途中投入位置移動
AND M1240                ; RB1位置決め指令
AND M1241                ; RB1位置決め完了
AND M1453                ; RB1_途中投入位置
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
;　　浮き検知時ﾜｰｸ情報削除
LD M1047                 ; S147_扉ﾛｯｸ解除
ANB B029                 ; 041)投入部ﾜｰｸ浮き異常
AND X04                  ; 供給部扉閉確認
MPS
AND X1280                ; 給材部ﾜｰｸ有無確認(ON=有)
MOV K113 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
ANB X1280                ; 給材部ﾜｰｸ有無確認(ON=有)
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1048                 ; S148_PCﾃﾞｰﾀ削除ﾌﾗｸﾞ
MPS
LD M1360                 ; 投入部PCﾃﾞｰﾀ削除ﾌﾗｸﾞ
AND W01.14               ; ｲﾝﾃﾞｯｸｽﾃﾞｰﾀｸﾘｱ完了
OR M3                    ; OFFLINE_MODE
ANL
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
LDB W0101.14             ; ｲﾝﾃﾞｯｸｽﾃﾞｰﾀｸﾘｱ要求
OR M1360                 ; 投入部PCﾃﾞｰﾀ削除ﾌﾗｸﾞ
ANL
MPS
ANB M3                   ; OFFLINE_MODE
OUT M1360                ; 投入部PCﾃﾞｰﾀ削除ﾌﾗｸﾞ
MPP
@MOV K1 W0148            ; ﾃﾞｰﾀｸﾘｱｲﾝﾃﾞｯｸｽNo.
LD M1049                 ; S149
MOV K140 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S114_ﾊﾞｰｺｰﾄﾞ読み取り結果
LD M1014                 ; S114_ﾊﾞｰｺｰﾄﾞ読取要求
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1015                 ; S115
ANB M1154                ; ｺｰﾄﾞ読取U1-2起動中
MPS
LD M1404                 ; ID異常時  ｻｲｸﾙ停止選択
OR M1405                 ; ID異常時　取出し選択
OR M1407                 ; BCR読み取れなかった異常
ANL
MOV K116 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
AND M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
MOV K120 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
@MOV K1 D1201            ; 投入部1_ﾜｰｸ有無記憶
;<h1/>__S116_ﾜｰｸ投入NG処理
;　　ここでワーク投入位置へ移動
LD M1016                 ; S116
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
ANB M1240                ; RB1位置決め指令
MPS
MOV D1032 D1024          ; RB1_途中投入位置  RB1_移動先POS_NO.
MPP
AND= D1032 D1024         ; RB1_途中投入位置  RB1_移動先POS_NO.
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1017                 ; S117_ﾜｰｸ投入位置移動
AND M1240                ; RB1位置決め指令
AND M1241                ; RB1位置決め完了
AND M1453                ; RB1_途中投入位置
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1018                 ; S118_ﾜｰｸ投入NG異常
AND B023                 ; 035)ﾜｰｸ投入NG異常
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1019                 ; S119_BCR_NG処理
AND T115                 ; 投入部扉閉確認
ANB M130                 ; 一時停止
ANB B023                 ; 035)ﾜｰｸ投入NG異常
ANB W00.2                ; PC Busy
ANB X1284                ; 給材部中間投入位置ﾜｰｸ確認(ON=有)
MOV K140 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S120_ﾜｰｸ投入位置へ
LD M1020                 ; S120
ANB M1240                ; RB1位置決め指令
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
MPS
MOV K1 D1024             ; RB1_移動先POS_NO.
MPP
AND= K1 D1024            ; RB1_移動先POS_NO.
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1021                 ; S121_ﾜｰｸ受渡し位置移動
AND M1240                ; RB1位置決め指令
AND M1241                ; RB1位置決め完了
AND M1452                ; RB1_搬送RBへﾜｰｸ受渡位置_P1
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1022                 ; S122
ANB M1240                ; RB1位置決め指令
MPS
LD X1281                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
MOV K130 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
LDB X1281                ; 給材引込部ﾜｰｸ有無確認(ON=有)
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
MOV K123 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
;__S23_ﾜｰｸ搬送異常
LD M1023                 ; S123_ﾜｰｸ搬送異常
AND B028                 ; 040)ﾜｰｸ搬送異常
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1024                 ; S124
AND T115                 ; 投入部扉閉確認
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
ANB B028                 ; 040)ﾜｰｸ搬送異常
MOV K163 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S130_受渡しｽﾃｰｼﾞ選択
LD M1030                 ; S130
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1031                 ; S131
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1032                 ; S132
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
;　4ST化(搬送RBがダブルスライダー)になった場合、均等に振り分けられるようなﾌﾗｸﾞを作成する。
LD M1421                 ; ST1-2側受入れ準備OK
LD D6201.0
ORB L1100                ; LeakST1_有効状態
ANL
LD D7201.0
ORB L1300                ; LeakST2_有効状態
ANL
LD D9201.0
ORB L1700                ; LeakST3_有効状態
ANL
LD D10201.0
ORB L1900                ; LeakST4_有効状態
ANL
LD M3101                 ; ﾊﾝﾄﾞ1_ﾘｰｸ検査品
OR M3151                 ; ﾊﾝﾄﾞ2_ﾘｰｸ検査品
ANL
OUT M1382                ; ST1-2側ﾘｰｸ満杯
LD M1422                 ; ST3-4側受入れ準備OK
LD D6201.0
ORB L1100                ; LeakST1_有効状態
ANL
LD D7201.0
ORB L1300                ; LeakST2_有効状態
ANL
LD D9201.0
ORB L1700                ; LeakST3_有効状態
ANL
LD D10201.0
ORB L1900                ; LeakST4_有効状態
ANL
LD M5101                 ; Hand1_Leak検査品
OR M5151                 ; Hand2_Leak検査品
ANL
OUT M1383                ; ST3-4側ﾘｰｸ満杯
LD L1100                 ; LeakST1_有効状態
MOV K1 D1011             ; ﾘｰｸST1_有効記憶
INV
MOV K0 D1011             ; ﾘｰｸST1_有効記憶
LD L1300                 ; LeakST2_有効状態
MOV K1 D1012             ; ﾘｰｸST2_有効記憶
INV
MOV K0 D1012             ; ﾘｰｸST2_有効記憶
LD CR2002                ; 常時ON
CAL+ D1011 D1012 D1015   ; ﾘｰｸST1_有効記憶  ﾘｰｸST2_有効記憶  ﾘｰｸST1-2側_ｽﾃｰｼﾞ有効数
LD L1700                 ; LeakST3_有効状態
MOV K1 D1013             ; ﾘｰｸST3_有効記憶
INV
MOV K0 D1013             ; ﾘｰｸST3_有効記憶
LD L1900                 ; LeakST4_有効状態
MOV K1 D1014             ; ﾘｰｸST4_有効記憶
INV
MOV K0 D1014             ; ﾘｰｸST4_有効記憶
LD CR2002                ; 常時ON
CAL+ D1013 D1014 D1016   ; ﾘｰｸST3_有効記憶  ﾘｰｸST4_有効記憶  ﾘｰｸST3-4側_ｽﾃｰｼﾞ有効数
MPS
AND>= D1015 D1016        ; ﾘｰｸST1-2側_ｽﾃｰｼﾞ有効数  ﾘｰｸST3-4側_ｽﾃｰｼﾞ有効数
OUT M1375                ; ﾘｰｸST1-2側から供給優先
MPP
AND> D1016 D1015         ; ﾘｰｸST3-4側_ｽﾃｰｼﾞ有効数  ﾘｰｸST1-2側_ｽﾃｰｼﾞ有効数
OUT M1376                ; ﾘｰｸST3-4側から供給優先
LD M1421                 ; ST1-2側受入れ準備OK
LDB D1207.0              ; 投入部Break品
LD M1375                 ; ﾘｰｸST1-2側から供給優先
AND<= D1020 D1021        ; ST1-2側投入回数  ST3-4投入回数
LD M1376                 ; ﾘｰｸST3-4側から供給優先
AND> D1021 D1020         ; ST3-4投入回数  ST1-2側投入回数
ORL
ORB M1422                ; ST3-4側受入れ準備OK
ANL
LD D1207.0               ; 投入部Break品
ANB D1707.0              ; ﾊﾝﾄﾞ1_Break品
ANB D1807.0              ; ﾊﾝﾄﾞ2_Break品
LD L1100                 ; LeakST1_有効状態
ANB D6207.0              ; Leak_ST1_BreakMode品(ONで)
LD L1300                 ; LeakST2_有効状態
ANB D7207.0              ; Leak_ST2_BreakMode品(ONで)
ORL
ANL
ORL
ANL
OUT M1380                ; ST1-2へ搬送
LD M1422                 ; ST3-4側受入れ準備OK
LDB D1207.0              ; 投入部Break品
LD M1375                 ; ﾘｰｸST1-2側から供給優先
AND> D1020 D1021         ; ST1-2側投入回数  ST3-4投入回数
LD M1376                 ; ﾘｰｸST3-4側から供給優先
AND<= D1021 D1020        ; ST3-4投入回数  ST1-2側投入回数
ORL
ORB M1421                ; ST1-2側受入れ準備OK
ANL
LD D1207.0               ; 投入部Break品
ANB D3707.0              ; 搬送ﾊﾝﾄﾞ1_BreakMode品(ONで)
ANB D3807.0              ; 搬送ﾊﾝﾄﾞ2_BreakMode品(ONで)
LDB M99                  ; 能拡後対応FLG
LD L1100                 ; LeakST1_有効状態
ANB D6207.0              ; Leak_ST1_BreakMode品(ONで)
LD L1300                 ; LeakST2_有効状態
ANB D7207.0              ; Leak_ST2_BreakMode品(ONで)
ORL
ANL
LD L1700                 ; LeakST3_有効状態
ANB D9207.0              ; Leak_ST3_BreakMode品(ONで)
ORL
LD L1900                 ; LeakST4_有効状態
ANB D10207.0             ; Leak_ST4_BreakMode品(ONで)
ORL
ANL
ORL
ANL
OUT M1381                ; ST3-4へ搬送
LD M1033                 ; S133_受渡ｽﾃｰｼﾞ確定
LD M1408                 ; ST1-2側供給するﾌﾗｸﾞ
OR M1409                 ; ST3-4側供給するﾌﾗｸﾞ
ANL
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1033                 ; S133_受渡ｽﾃｰｼﾞ確定
AND M1380                ; ST1-2へ搬送
OR M1408                 ; ST1-2側供給するﾌﾗｸﾞ
AND M1074                ; U1-1起動中
ANB M1409                ; ST3-4側供給するﾌﾗｸﾞ
OUT M1408                ; ST1-2側供給するﾌﾗｸﾞ
LD M1033                 ; S133_受渡ｽﾃｰｼﾞ確定
AND M1381                ; ST3-4へ搬送
OR M1409                 ; ST3-4側供給するﾌﾗｸﾞ
AND M1074                ; U1-1起動中
ANB M1408                ; ST1-2側供給するﾌﾗｸﾞ
OUT M1409                ; ST3-4側供給するﾌﾗｸﾞ
;<h1/>__S134_ﾜｰｸ除材要求
;ﾌﾗｸﾞ受取完了とﾜｰｸ受取完了を入れる
;ﾃﾞｰﾀｼﾌﾄは、搬送側にて行う
LD M1034                 ; S134_ﾜｰｸ除材要求
MPS
LD M1410                 ; 供給→搬送ST1-2_除材要求
AND M3300                ; 搬送→供給_取出開始
LD M1412                 ; 供給→搬送ST3-4_除材要求
AND M5300                ; 搬送→供給_取出開始
ORL
ANL
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
MRD
LD M1408                 ; ST1-2側供給するﾌﾗｸﾞ
OR M1410                 ; 供給→搬送ST1-2_除材要求
ANL
OUT M1410                ; 供給→搬送ST1-2_除材要求
MPP
LD M1409                 ; ST3-4側供給するﾌﾗｸﾞ
OR M1412                 ; 供給→搬送ST3-4_除材要求
ANL
OUT M1412                ; 供給→搬送ST3-4_除材要求
;ﾜｰｸ受取完了ﾁｪｯｸ
LD M1035                 ; S135_ﾜｰｸ除材完了
MPS
LD M1408                 ; ST1-2側供給するﾌﾗｸﾞ
LD M3301                 ; 搬送→供給取出完了
OR M1411                 ; 供給→搬送RB1_取出完了受取り
ANL
ANL
MPS
LDB M3300                ; 搬送→供給_取出開始
ANB M3301                ; 搬送→供給取出完了
ANL
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1411                ; 供給→搬送RB1_取出完了受取り
MPP
LD M1409                 ; ST3-4側供給するﾌﾗｸﾞ
LD M5301                 ; 搬送→供給取出完了
OR M1413                 ; 供給→搬送RB2_除材完了受取り
ANL
ANL
MPS
LDB M5300                ; 搬送→供給_取出開始
ANB M5301                ; 搬送→供給取出完了
ANL
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
OUT M1413                ; 供給→搬送RB2_除材完了受取り
LD D1207.0               ; 投入部Break品
OR M1379
AND M1074                ; U1-1起動中
OUT M1379
LD M1036                 ; S136_
MPS
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
ANB M1379
MPS
AND M1408                ; ST1-2側供給するﾌﾗｸﾞ
MPS
@INC D1020               ; ST1-2側投入回数
MPP
LDB L1100                ; LeakST1_有効状態
ORB L1300                ; LeakST2_有効状態
ANB L10                  ; Leak検査有無(0_有/1_無)
ANL
@INC D1020               ; ST1-2側投入回数
MPP
AND M1409                ; ST3-4側供給するﾌﾗｸﾞ
MPS
@INC D1021               ; ST3-4投入回数
MPP
LDB L1700                ; LeakST3_有効状態
ORB L1900                ; LeakST4_有効状態
ANB L10                  ; Leak検査有無(0_有/1_無)
ANL
@INC D1021               ; ST3-4投入回数
LD D1207.0               ; 投入部Break品
ANB D1707.0              ; ﾊﾝﾄﾞ1_Break品
ANB D1807.0              ; ﾊﾝﾄﾞ2_Break品
ANB D6207.0              ; Leak_ST1_BreakMode品(ONで)
ANB D7207.0              ; Leak_ST2_BreakMode品(ONで)
ANB D9207.0              ; Leak_ST3_BreakMode品(ONで)
ANB D10207.0             ; Leak_ST4_BreakMode品(ONで)
OUT M1425                ; Break品投入検知
LDB M73                  ; 各工程起動指令
OR M1425                 ; Break品投入検知
@MOV K0 D1020            ; ST1-2側投入回数
@MOV K0 D1021            ; ST3-4投入回数
LD CR2002                ; 常時ON
MPS
LDA.S D1020              ; ST1-2側投入回数
CON
SUB.S D1021              ; ST3-4投入回数
CON
ABS.S
CON
STA.S D1022              ; 投入差絶対値
MPP
AND>= D1022 K2           ; 投入差絶対値
MOV K0 D1020             ; ST1-2側投入回数
MOV K0 D1021             ; ST3-4投入回数
LD M1037                 ; S137_
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
MPS
ANB X1281                ; 給材引込部ﾜｰｸ有無確認(ON=有)
MOV K140 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
MPP
AND X1281                ; 給材引込部ﾜｰｸ有無確認(ON=有)
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
;　搬送RBへ受渡異常
LD M1038                 ; S138_ﾜｰｸ受渡し失敗
AND B022                 ; 034)供給部ﾜｰｸ受渡し失敗
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1039                 ; S139
AND T115                 ; 投入部扉閉確認
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
ANB B022                 ; 034)供給部ﾜｰｸ受渡し失敗
MOV K163 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S140_ﾜｰｸ投入位置へ移動
LD M1040                 ; S140
AND X04                  ; 供給部扉閉確認
ANB M1240                ; RB1位置決め指令
MPS
MOV K2 D1024             ; RB1_移動先POS_NO.
MPP
AND= K2 D1024            ; RB1_移動先POS_NO.
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1041                 ; S141_ﾜｰｸ投入位置へ移動
AND M1240                ; RB1位置決め指令
AND M1241                ; RB1位置決め完了
AND M1450                ; RB1_ﾜｰｸ投入位置_P2
INC D1000                ; U1-1自動運転ｽﾃｯﾌﾟ
LD M1042                 ; S142
MOV K163 D1000           ; U1-1自動運転ｽﾃｯﾌﾟ
;<h1/>◇_BCR読取状態・動作条件(補助)
LD CR2002                ; 常時ON
OUT M1150                ; U1-2原点_ﾊﾞｰｺｰﾄﾞ読取
LDB CR2003               ; 常時OFF
INV
OUT M1151                ; U1-2異常
LD M1150                 ; U1-2原点_ﾊﾞｰｺｰﾄﾞ読取
ANB M1154                ; ｺｰﾄﾞ読取U1-2起動中
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
AND M300                 ; PC通信正常
ANB M1154                ; ｺｰﾄﾞ読取U1-2起動中
ANB M1401                ; ﾊﾞｰｺｰﾄﾞ読み取り中
ANB W01.0                ; ｽｷｬﾅ読込完了
ANB W01.1                ; 基板投入不可
ANB W01.2                ; 製品IDｴﾗｰ
OUT M1152                ; U1-2起動条件
LDB M50                  ; 運転準備
OR B029                  ; 041)投入部ﾜｰｸ浮き異常
OR M1486                 ; U1SupSliderｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M1153                ; U1-2起動OFF
LD M1400                 ; ﾊﾞｰｺｰﾄﾞ読み取り要求FLG
AND M1152                ; U1-2起動条件
OR M1154                 ; ｺｰﾄﾞ読取U1-2起動中
ANB M1153                ; U1-2起動OFF
ANB M1143                ; BCR_StepEnd
OUT M1154                ; ｺｰﾄﾞ読取U1-2起動中
;ﾕﾆｯﾄ1-2ｻｲｸﾙ停止異常
LDB CR2003               ; 常時OFF
INV
OUT M1155                ; U1-2ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-2ｴﾗｰ発生まとめ
LDB CR2003               ; 常時OFF
INV
OUT M1156                ; U1-2ｴﾗｰ発生
;ﾕﾆｯﾄ1-2停止判定
LD= D1001 D1006          ; U1-2自動運転ｽﾃｯﾌﾟ  U1-2動作中判定
ORB M1154                ; ｺｰﾄﾞ読取U1-2起動中
TMR K111 K20             ; U1-2動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D1001 D1006          ; U1-2自動運転ｽﾃｯﾌﾟ  U1-2動作中判定
LD T111                  ; U1-2動作無し判定ﾀｲﾏ
LD CR2003                ; 常時OFF
AND M31                  ; 手動ﾓｰﾄﾞ
ORL
OUT M1157                ; U1-2動作無し
;□
;□　ﾕﾆｯﾄ1-2ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M1080 K4         ; BCR_S00
LDB M1154                ; ｺｰﾄﾞ読取U1-2起動中
MOV K0 D1001             ; U1-2自動運転ｽﾃｯﾌﾟ
@FMOV K0 W014A K4        ; 冷却槽取出製品低温検査結果
@FMOV K0 W0150 K7        ; 低高温受渡製品コード情報
LD M1154                 ; ｺｰﾄﾞ読取U1-2起動中
MOV D1001 Z1             ; U1-2自動運転ｽﾃｯﾌﾟ
SET M1080:Z1             ; BCR_S00
;　　条件分岐
LD M1080                 ; BCR_S00
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
INC D1001                ; U1-2自動運転ｽﾃｯﾌﾟ
LD M1081                 ; BCR_S01
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
INC D1001                ; U1-2自動運転ｽﾃｯﾌﾟ
LD M1082                 ; BCR_S02
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
INC D1001                ; U1-2自動運転ｽﾃｯﾌﾟ
;　　ｺｰﾄﾞﾘｰﾀﾞｰへﾄﾘｶﾞｰ発信
LD M1083                 ; BCR_S03_ｽｷｬﾅ読取要求
LD W01.0                 ; ｽｷｬﾅ読込完了
OR W01.2                 ; 製品IDｴﾗｰ
OR M35                   ; 空運転ﾓｰﾄﾞ
OR M3                    ; OFFLINE_MODE
ANL
INC D1001                ; U1-2自動運転ｽﾃｯﾌﾟ
LD M1083                 ; BCR_S03_ｽｷｬﾅ読取要求
OR W0101.0               ; ｽｷｬﾅ読取要求
AND M1154                ; ｺｰﾄﾞ読取U1-2起動中
MPS
AND T130                 ; ﾃﾞｰﾀ転送ﾃﾞｨﾚｲ
OUT W0101.0              ; ｽｷｬﾅ読取要求
MRD
TMR K130 K5              ; ﾃﾞｰﾀ転送ﾃﾞｨﾚｲ
MRD
@BMOV D1300 W014A K4     ; 冷却槽取出製品低温検査結果  冷却槽取出製品低温検査結果
MPP
@BMOV D1310 W0150 K7     ; 低高温受渡製品コード情報  低高温受渡製品コード情報
LD M1084                 ; BCR_S04
INC D1001                ; U1-2自動運転ｽﾃｯﾌﾟ
LD M1085                 ; BCR_S05
INC D1001                ; U1-2自動運転ｽﾃｯﾌﾟ
;<h1/>__S06_受取りﾃﾞｰﾀ格納
LD M1086                 ; BCR_S06_読込みﾃﾞｰﾀ格納
LD M1402                 ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
OR M1403                 ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
ANL
INC D1001                ; U1-2自動運転ｽﾃｯﾌﾟ
LDP M1086                ; BCR_S06_読込みﾃﾞｰﾀ格納
@FMOV K0 D1220 K2        ; 投入部1_再検査ST
LDP M1086                ; BCR_S06_読込みﾃﾞｰﾀ格納
MPS
LD M3                    ; OFFLINE_MODE
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
DW K7 W020               ; 投入ﾊﾟﾚｯﾄID
CON
DW K7 W021               ; ﾘｰｸ上治具ID
CON
DW K7 W022               ; ﾘｰｸ下治具ID
CON
DW K7 W023               ; 電特ﾊﾟﾚｯﾄID
CON
DW K7 W024               ; 電特ﾃｽﾄﾍｯﾄﾞID
CON
DW K7 W025               ; 搬送ﾛﾎﾞｯﾄNo.
CON
DW K50 W026              ; ﾘｰｸﾊﾞｲﾊﾟｽ回路開放時間
MRD
BMOV W020 D1210 K16      ; 投入ﾊﾟﾚｯﾄID  投入部1_投入ﾊﾟﾚｯﾄID
MRD
LD W01.3                 ; Breakﾓｰﾄﾞ品
ANB M98                  ; Break品優先排出変更ﾌﾗｸﾞ
ANL
MOV K1 D1207             ; 投入部_BreakMode品(ONで)
MRD
AND W01.4                ; NG排出品
MOV K2 D1203             ; 投入部1_Leak検査結果(1=OK_2=NG)
MOV K2 D1204             ; 投入部1_Final検査結果(1=OK_2=NG)
MRD
ANB W01.4                ; NG排出品
MOV K0 D1203             ; 投入部1_Leak検査結果(1=OK_2=NG)
MOV K0 D1204             ; 投入部1_Final検査結果(1=OK_2=NG)
MRD
AND W01.6                ; 電特再投入品
MOV K1 D1206             ; 投入部1_再検査品ﾌﾗｸﾞ(ON=再検査)
MPS
LDA W0A                  ; PCﾃﾞｰﾀｴﾘｱ(ﾁｪｯｶ確認&再検査品)
CON
ANDA HFF00
CON
SRA K8
CON
STA D1220                ; 投入部1_再検査ST
MPP
LDA D1220                ; 投入部1_再検査ST
CON
COM
CON
STA D1221                ; 投入部1_再検査不可ST
MPP
ANB W01.6                ; 電特再投入品
MOV K0 D1206             ; 投入部1_再検査品ﾌﾗｸﾞ(ON=再検査)
MOV K0 D1205             ; 投入部1_再検査品st
LDP M1086                ; BCR_S06_読込みﾃﾞｰﾀ格納
ANB W01.1                ; 基板投入不可
ANB W01.2                ; 製品IDｴﾗｰ
OR M1402                 ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
AND M1074                ; U1-1起動中
OUT M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
LDP M1086                ; BCR_S06_読込みﾃﾞｰﾀ格納
LD W01.1                 ; 基板投入不可
OR W01.2                 ; 製品IDｴﾗｰ
ANL
OR M1403                 ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
AND M1074                ; U1-1起動中
OUT M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
;　ﾊﾞｰｺｰﾄﾞ読取結果OK/NG分岐
LD M1087                 ; BCR_S07_読取ﾄﾘｶﾞｰOFF指令
MPS
AND M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
INC D1001                ; U1-2自動運転ｽﾃｯﾌﾟ
MPP
AND M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
MOV K30 D1001            ; U1-2自動運転ｽﾃｯﾌﾟ
;<h1/>__S08_BCR読込正常処理
LD M1088                 ; BCR_S08
INC D1001                ; U1-2自動運転ｽﾃｯﾌﾟ
MPS
@INC D1200               ; 投入部1_INDEX NO.
MPP
AND> D1200 K10           ; 投入部1_INDEX NO.
DW K1 D1200              ; 投入部1_INDEX NO.
LD M1089                 ; BCR_S09_
INC D1001                ; U1-2自動運転ｽﾃｯﾌﾟ
LD M1090                 ; BCR_S10_
INC D1001                ; U1-2自動運転ｽﾃｯﾌﾟ
;<h1/>__S11_IDﾁｪｯｸ_
LD L1100                 ; LeakST1_有効状態
AND= D1211 D6100         ; 投入部1_Leak上治具ID  LeakST1_上治具ID
AND= D1212 D6101         ; 投入部1_Leak下治具ID  LeakST1_下治具ID
LD L1300                 ; LeakST2_有効状態
AND= D1211 D7100         ; 投入部1_Leak上治具ID  LeakST2_上治具ID
AND= D1212 D7101         ; 投入部1_Leak下治具ID  LeakST2_下治具ID
ORL
LD L1700                 ; LeakST3_有効状態
AND= D1211 D9100         ; 投入部1_Leak上治具ID  LeakST3_上治具ID
AND= D1212 D9101         ; 投入部1_Leak下治具ID  LeakST3_下治具ID
ORL
LD L1900                 ; LeakST4_有効状態
AND= D1211 D10100        ; 投入部1_Leak上治具ID  LeakST4_上治具ID
AND= D1212 D10101        ; 投入部1_Leak下治具ID  LeakST4_下治具ID
ORL
OR L10                   ; Leak検査有無(0_有/1_無)
OR= D1206 K1             ; 投入部1_再検査品ﾌﾗｸﾞ(ON=再検査)
LD L1200                 ; FINALST1_有効状態
ANB D1221.0              ; 再投入品投入不可能#1
AND= D1213 D6601         ; 投入部1_電特ﾊﾟﾚｯﾄID  FinalST1_ﾊﾟﾚｯﾄID
AND= D1214 D6600         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  FinalST1_ｺﾝﾀｸﾄﾍｯﾄﾞID
LD L1400                 ; FINALST2_有効状態
ANB D1221.1              ; 再投入品投入不可能#2
AND= D1213 D7601         ; 投入部1_電特ﾊﾟﾚｯﾄID  FinalST2_ﾊﾟﾚｯﾄID
AND= D1214 D7600         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  FinalST2_ｺﾝﾀｸﾄﾍｯﾄﾞID
ORL
LD L1600                 ; FINALST3_有効状態
ANB D1221.2              ; 再投入品投入不可能#3
AND= D1213 D8601         ; 投入部1_電特ﾊﾟﾚｯﾄID  FinalST3_ﾊﾟﾚｯﾄID
AND= D1214 D8600         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  FinalST3_ｺﾝﾀｸﾄﾍｯﾄﾞID
ORL
LD L1800                 ; FINALST4_有効状態
ANB D1221.3              ; 再投入品投入不可能#4
AND= D1213 D9601         ; 投入部1_電特ﾊﾟﾚｯﾄID  FinalST4_ﾊﾟﾚｯﾄID
AND= D1214 D9600         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  FinalST4_ｺﾝﾀｸﾄﾍｯﾄﾞID
ORL
LD L2000                 ; FINALST5_有効状態
ANB D1221.4              ; 再投入品投入不可能#5
AND= D1213 D10601        ; 投入部1_電特ﾊﾟﾚｯﾄID  FinalST5_ﾊﾟﾚｯﾄID
AND= D1214 D10600        ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  FinalST5_ｺﾝﾀｸﾄﾍｯﾄﾞID
ORL
LD L2200                 ; FINALST6_有効状態
ANB D1221.5              ; 再投入品投入不可能#6
AND= D1213 D11601        ; 投入部1_電特ﾊﾟﾚｯﾄID  FinalST6_ﾊﾟﾚｯﾄID
AND= D1214 D11600        ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  FinalST6_ｺﾝﾀｸﾄﾍｯﾄﾞID
ORL
OR L11                   ; Final検査有無(0_有/1_無)
OR D1207.0               ; 投入部Break品
ANL
AND M99                  ; 能拡後対応FLG
OUT M1421                ; ST1-2側受入れ準備OK
LD L1100                 ; LeakST1_有効状態
AND= D1211 D6100         ; 投入部1_Leak上治具ID  LeakST1_上治具ID
AND= D1212 D6101         ; 投入部1_Leak下治具ID  LeakST1_下治具ID
LD L1300                 ; LeakST2_有効状態
AND= D1211 D7100         ; 投入部1_Leak上治具ID  LeakST2_上治具ID
AND= D1212 D7101         ; 投入部1_Leak下治具ID  LeakST2_下治具ID
ORL
LD L1700                 ; LeakST3_有効状態
AND= D1211 D9100         ; 投入部1_Leak上治具ID  LeakST3_上治具ID
AND= D1212 D9101         ; 投入部1_Leak下治具ID  LeakST3_下治具ID
ORL
LD L1900                 ; LeakST4_有効状態
AND= D1211 D10100        ; 投入部1_Leak上治具ID  LeakST4_上治具ID
AND= D1212 D10101        ; 投入部1_Leak下治具ID  LeakST4_下治具ID
ORL
OR L10                   ; Leak検査有無(0_有/1_無)
OR= D1206 K1             ; 投入部1_再検査品ﾌﾗｸﾞ(ON=再検査)
LD L1200                 ; FINALST1_有効状態
ANB D1221.0              ; 再投入品投入不可能#1
AND= D1213 D6601         ; 投入部1_電特ﾊﾟﾚｯﾄID  FinalST1_ﾊﾟﾚｯﾄID
AND= D1214 D6600         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  FinalST1_ｺﾝﾀｸﾄﾍｯﾄﾞID
LD L1400                 ; FINALST2_有効状態
ANB D1221.1              ; 再投入品投入不可能#2
AND= D1213 D7601         ; 投入部1_電特ﾊﾟﾚｯﾄID  FinalST2_ﾊﾟﾚｯﾄID
AND= D1214 D7600         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  FinalST2_ｺﾝﾀｸﾄﾍｯﾄﾞID
ORL
LD L1600                 ; FINALST3_有効状態
ANB D1221.2              ; 再投入品投入不可能#3
AND= D1213 D8601         ; 投入部1_電特ﾊﾟﾚｯﾄID  FinalST3_ﾊﾟﾚｯﾄID
AND= D1214 D8600         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  FinalST3_ｺﾝﾀｸﾄﾍｯﾄﾞID
ORL
LD L1800                 ; FINALST4_有効状態
ANB D1221.3              ; 再投入品投入不可能#4
AND= D1213 D9601         ; 投入部1_電特ﾊﾟﾚｯﾄID  FinalST4_ﾊﾟﾚｯﾄID
AND= D1214 D9600         ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  FinalST4_ｺﾝﾀｸﾄﾍｯﾄﾞID
ORL
LD L2000                 ; FINALST5_有効状態
ANB D1221.4              ; 再投入品投入不可能#5
AND= D1213 D10601        ; 投入部1_電特ﾊﾟﾚｯﾄID  FinalST5_ﾊﾟﾚｯﾄID
AND= D1214 D10600        ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  FinalST5_ｺﾝﾀｸﾄﾍｯﾄﾞID
ORL
LD L2200                 ; FINALST6_有効状態
ANB D1221.5              ; 再投入品投入不可能#6
AND= D1213 D11601        ; 投入部1_電特ﾊﾟﾚｯﾄID  FinalST6_ﾊﾟﾚｯﾄID
AND= D1214 D11600        ; 投入部1_電特ﾃｽﾄﾍｯﾄﾞID  FinalST6_ｺﾝﾀｸﾄﾍｯﾄﾞID
ORL
OR L11                   ; Final検査有無(0_有/1_無)
OR D1207.0               ; 投入部Break品
ANL
OUT M1422                ; ST3-4側受入れ準備OK
LD M1091                 ; BCR_S11_ｽﾃｰｼﾞ有効確認
MPS
LDB M1421                ; ST1-2側受入れ準備OK
ANB M1422                ; ST3-4側受入れ準備OK
ANL
OUT M1420                ; ST受入れ準備NG
MPP
LD M1421                 ; ST1-2側受入れ準備OK
OR M1422                 ; ST3-4側受入れ準備OK
ANB B025                 ; 037)ID一致ｽﾃｰｼﾞ無
ANL
INC D1001                ; U1-2自動運転ｽﾃｯﾌﾟ
LD M1092                 ; BCR_S12
MOV K63 D1001            ; U1-2自動運転ｽﾃｯﾌﾟ
;<h1/>__S30_読取_ID_NG
;　　ﾀﾞｲｱﾛｸﾞ要求有無ﾁｪｯｸ
LD M1110                 ; BCR_S30_ID読取_NG処理
MPS
AND W01.2                ; 製品IDｴﾗｰ
INC D1001                ; U1-2自動運転ｽﾃｯﾌﾟ
MPP
LDB W01.2                ; 製品IDｴﾗｰ
AND M1407                ; BCR読み取れなかった異常
ANL
MOV K63 D1001            ; U1-2自動運転ｽﾃｯﾌﾟ
LD M1110                 ; BCR_S30_ID読取_NG処理
ANB W01.2                ; 製品IDｴﾗｰ
OR M1407                 ; BCR読み取れなかった異常
AND M1074                ; U1-1起動中
OUT M1407                ; BCR読み取れなかった異常
LD M1111                 ; BCR_S31
MPS
LD M1404                 ; ID異常時  ｻｲｸﾙ停止選択
OR M1405                 ; ID異常時　取出し選択
OR M1406                 ; ID異常時　段取り替え選択
ANL
INC D1001                ; U1-2自動運転ｽﾃｯﾌﾟ
MPP
OUT B151F                ; ID異常_選択Window_Open
LD M1111                 ; BCR_S31
ANP B1022                ; Cycle Stopｻｲｸﾙ停止選択_Tws
ANB B1020                ; REMOVE取り出し選択_Tws
ANB B1021                ; JIG_CHANGE段取り替え選択_Tws
OR M1404                 ; ID異常時  ｻｲｸﾙ停止選択
AND M1074                ; U1-1起動中
ANB M1405                ; ID異常時　取出し選択
ANB M1406                ; ID異常時　段取り替え選択
OUT M1404                ; ID異常時  ｻｲｸﾙ停止選択
LD M1111                 ; BCR_S31
ANP B1020                ; REMOVE取り出し選択_Tws
ANB B1021                ; JIG_CHANGE段取り替え選択_Tws
ANB B1022                ; Cycle Stopｻｲｸﾙ停止選択_Tws
OR M1405                 ; ID異常時　取出し選択
AND M1074                ; U1-1起動中
ANB M1404                ; ID異常時  ｻｲｸﾙ停止選択
ANB M1406                ; ID異常時　段取り替え選択
OUT M1405                ; ID異常時　取出し選択
LD M1111                 ; BCR_S31
ANP B1021                ; JIG_CHANGE段取り替え選択_Tws
ANB B1020                ; REMOVE取り出し選択_Tws
ANB B1022                ; Cycle Stopｻｲｸﾙ停止選択_Tws
OR M1406                 ; ID異常時　段取り替え選択
AND M1074                ; U1-1起動中
ANB M1404                ; ID異常時  ｻｲｸﾙ停止選択
ANB M1405                ; ID異常時　取出し選択
OUT M1406                ; ID異常時　段取り替え選択
;　　段取り時以外はここで終了
LD M1112                 ; BCR_S32_ID読取_NG_処理選択完了
MPS
ANB M1406                ; ID異常時　段取り替え選択
MOV K63 D1001            ; U1-2自動運転ｽﾃｯﾌﾟ
MPP
AND M1406                ; ID異常時　段取り替え選択
INC D1001                ; U1-2自動運転ｽﾃｯﾌﾟ
;　　段取り処理
LDB L1100                ; LeakST1_有効状態
ANB L1300                ; LeakST2_有効状態
ANB L1700                ; LeakST3_有効状態
ANB L1900                ; LeakST4_有効状態
INV
OUT M1419                ; ｽﾃｰｼﾞ有効確認
LD M1113                 ; BCR_S33
MPS
ANB M1419                ; ｽﾃｰｼﾞ有効確認
INC D1001                ; U1-2自動運転ｽﾃｯﾌﾟ
MPP
AND W01.0                ; ｽｷｬﾅ読込完了
MOV K6 D1001             ; U1-2自動運転ｽﾃｯﾌﾟ
LD M1114                 ; BCR_S34
AND M1419                ; ｽﾃｰｼﾞ有効確認
AND W01.0                ; ｽｷｬﾅ読込完了
MOV K6 D1001             ; U1-2自動運転ｽﾃｯﾌﾟ
;<h1/>□_原点復帰回路
LD CR2002                ; 常時ON
FMOV K0 M1250 K3         ; OrgS0
LDB M1484                ; U1SupSlider原点復帰中
MOV K0 D1010             ; U1原点復帰ｽﾃｯﾌﾟ
LD M1484                 ; U1SupSlider原点復帰中
MOV D1010 Z1             ; U1原点復帰ｽﾃｯﾌﾟ
SET M1250:Z1             ; OrgS0
;原点復帰ｻｲｸﾙ監視
LD M1484                 ; U1SupSlider原点復帰中
ANB X100C                ; RB1_ｻｰﾎﾞ状態_SV
TMR K100 K200            ; U1原点復帰ﾀｲﾑｱｳﾄ
;原点復帰ステップ開始
LD M1250                 ; OrgS0
AND T115                 ; 投入部扉閉確認
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
INC D1010                ; U1原点復帰ｽﾃｯﾌﾟ
;搬送部原点復帰待ち
LD M1251                 ; OrgS1
AND T115                 ; 投入部扉閉確認
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
AND L309                 ; Z_搬送高さ(P9)
AND L709                 ; Z_搬送高さ(P9)
INC D1010                ; U1原点復帰ｽﾃｯﾌﾟ
LD M1252                 ; OrgS2
AND T115                 ; 投入部扉閉確認
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
MPS
AND X100B                ; RB1_位置決め完了_PEND
MOV K4 D1010             ; U1原点復帰ｽﾃｯﾌﾟ
MPP
ANB X100B                ; RB1_位置決め完了_PEND
INC D1010                ; U1原点復帰ｽﾃｯﾌﾟ
LD M1253                 ; OrgS3_搬送ｽﾗｲﾀﾞ後退指令
AND T115                 ; 投入部扉閉確認
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
AND Y200B                ; RB1_原点復帰_HOME
AND X100B                ; RB1_位置決め完了_PEND
INC D1010                ; U1原点復帰ｽﾃｯﾌﾟ
LD M1254                 ; OrgS4
ANB M1241                ; RB1位置決め完了
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
MPS
MOV D1032 D1024          ; RB1_途中投入位置  RB1_移動先POS_NO.
MPP
AND= D1032 D1024         ; RB1_途中投入位置  RB1_移動先POS_NO.
INC D1010                ; U1原点復帰ｽﾃｯﾌﾟ
LD M1255                 ; OrgS5_ﾜｰｸ投入位置移動指令
AND M1240                ; RB1位置決め指令
AND M1241                ; RB1位置決め完了
AND M1453                ; RB1_途中投入位置
INC D1010                ; U1原点復帰ｽﾃｯﾌﾟ
LD M1256                 ; OrgS6
ANB M1240                ; RB1位置決め指令
INC D1010                ; U1原点復帰ｽﾃｯﾌﾟ
;　　ﾜｰｸﾁｪｯｸ
LD M1257                 ; OrgS7
AND T115                 ; 投入部扉閉確認
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
MPS
ANB X1284                ; 給材部中間投入位置ﾜｰｸ確認(ON=有)
MOV K10 D1010            ; U1原点復帰ｽﾃｯﾌﾟ
MPP
AND X1284                ; 給材部中間投入位置ﾜｰｸ確認(ON=有)
INC D1010                ; U1原点復帰ｽﾃｯﾌﾟ
;　　ﾜｰｸ除去要求
LD M1258                 ; OrgS8_給材部ﾜｰｸ除去要求
AND T115                 ; 投入部扉閉確認
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
AND B0321                ; 801)給材部ﾜｰｸ除去要求
INC D1010                ; U1原点復帰ｽﾃｯﾌﾟ
LD M1259                 ; OrgS9
AND T115                 ; 投入部扉閉確認
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
ANB B0321                ; 801)給材部ﾜｰｸ除去要求
MOV K45 D1010            ; U1原点復帰ｽﾃｯﾌﾟ
;
LD M1260                 ; OrgS10
AND T115                 ; 投入部扉閉確認
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
INC D1010                ; U1原点復帰ｽﾃｯﾌﾟ
LD M1261                 ; OrgS11
ANB M1241                ; RB1位置決め完了
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
MPS
MOV D1030 D1024          ; RB1_ﾜｰｸ投入位置Pos指定  RB1_移動先POS_NO.
MPP
AND= D1030 D1024         ; RB1_ﾜｰｸ投入位置Pos指定  RB1_移動先POS_NO.
INC D1010                ; U1原点復帰ｽﾃｯﾌﾟ
LD M1262                 ; OrgS12_ﾜｰｸ投入位置移動
AND M1240                ; RB1位置決め指令
AND M1241                ; RB1位置決め完了
AND M1450                ; RB1_ﾜｰｸ投入位置_P2
MOV K45 D1010            ; U1原点復帰ｽﾃｯﾌﾟ
;原点復帰終了
LD M1295                 ; OrgS45
AND M1480                ; U1SupSlider原点
INC D1010                ; U1原点復帰ｽﾃｯﾌﾟ
FMOV K0 D1200 K100       ; 投入部1_INDEX NO.
LD M1296                 ; OrgS46
ANB M82                  ; 原点復帰開始
MOV K47 D1010            ; U1原点復帰ｽﾃｯﾌﾟ
;<h1/>□_手動回路
;　　ｲﾝﾀｰﾛｯｸ
;給材ｽﾗｲﾀﾞ待機位置移動
LD M1243                 ; RB1位置決めSub起動条件
AND L309                 ; Z_搬送高さ(P9)
AND L709                 ; Z_搬送高さ(P9)
ANB M1301                ; 給材RB_ﾜｰｸ投入位置移動
ANB M1306                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動
ANB M1311                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
ANB M1316                ; 給材ｽﾗｲﾀﾞ_途中投入位置移動
LD B3032                 ; Lo_Hi_Auto_扉閉
AND B3033                ; Lo_Hi_Auto_RB不干渉信号
OR L22                   ; 上流接続無(ON=無)
ANL
OUT M1300                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ投入位置移動可
;ｺｰﾄﾞﾘｰﾀﾞｰ読取位置移動
LD M1243                 ; RB1位置決めSub起動条件
AND L309                 ; Z_搬送高さ(P9)
AND L709                 ; Z_搬送高さ(P9)
ANB M1301                ; 給材RB_ﾜｰｸ投入位置移動
ANB M1306                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動
ANB M1311                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
ANB M1316                ; 給材ｽﾗｲﾀﾞ_途中投入位置移動
LD B3032                 ; Lo_Hi_Auto_扉閉
AND B3033                ; Lo_Hi_Auto_RB不干渉信号
OR L22                   ; 上流接続無(ON=無)
ANL
OUT M1305                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動可
;ﾜｰｸ受渡し位置
LD M1243                 ; RB1位置決めSub起動条件
AND L309                 ; Z_搬送高さ(P9)
AND L709                 ; Z_搬送高さ(P9)
ANB M1301                ; 給材RB_ﾜｰｸ投入位置移動
ANB M1306                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動
ANB M1311                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
ANB M1316                ; 給材ｽﾗｲﾀﾞ_途中投入位置移動
LD B3032                 ; Lo_Hi_Auto_扉閉
AND B3033                ; Lo_Hi_Auto_RB不干渉信号
OR L22                   ; 上流接続無(ON=無)
ANL
OUT M1310                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動可
;途中投入位置
LD M1243                 ; RB1位置決めSub起動条件
AND L309                 ; Z_搬送高さ(P9)
AND L709                 ; Z_搬送高さ(P9)
ANB M1301                ; 給材RB_ﾜｰｸ投入位置移動
ANB M1306                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動
ANB M1311                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
ANB M1316                ; 給材ｽﾗｲﾀﾞ_途中投入位置移動
LD B3032                 ; Lo_Hi_Auto_扉閉
AND B3033                ; Lo_Hi_Auto_RB不干渉信号
OR L22                   ; 上流接続無(ON=無)
ANL
OUT M1315                ; 給材ｽﾗｲﾀﾞ_途中投入位置移動可
;
LD M31                   ; 手動ﾓｰﾄﾞ
AND M32                  ; ﾒｲﾝ手動操作可能条件
ANB M1485                ; U1SupSlider起動中
ANB M1484                ; U1SupSlider原点復帰中
ANB M51                  ; 即停止異常(緊急停止)
MC
;給材ｽﾗｲﾀﾞ待機位置移動
LDP B1080                ; 供給ｽﾗｲﾀﾞ待機位置移動TpSW
AND M1300                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ投入位置移動可
OR M1301                 ; 給材RB_ﾜｰｸ投入位置移動
ANB M1303                ; 給材RB_ﾜｰｸ投入位置移動終了
OUT M1301                ; 給材RB_ﾜｰｸ投入位置移動
@LDA D1030               ; RB1_ﾜｰｸ投入位置Pos指定
CON
@STA D1024               ; RB1_移動先POS_NO.
LD M1301                 ; 給材RB_ﾜｰｸ投入位置移動
AND M1240                ; RB1位置決め指令
AND M1241                ; RB1位置決め完了
AND M1450                ; RB1_ﾜｰｸ投入位置_P2
OR M1302                 ; 給材RB_ﾜｰｸ投入位置移動完了
AND M1301                ; 給材RB_ﾜｰｸ投入位置移動
OUT M1302                ; 給材RB_ﾜｰｸ投入位置移動完了
LD M1302                 ; 給材RB_ﾜｰｸ投入位置移動完了
ANB M1240                ; RB1位置決め指令
ANB M1241                ; RB1位置決め完了
OUT M1303                ; 給材RB_ﾜｰｸ投入位置移動終了
;ｺｰﾄﾞﾘｰﾀﾞｰ読取位置移動
LDP B1081                ; 給材ｽﾗｲﾀﾞ_BCR位置移動TpSW
AND M1305                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動可
OR M1306                 ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動
ANB M1308                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動終了
OUT M1306                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動
@LDA D1031               ; RB1_ｺｰﾄﾞ読取位置Pos指定
CON
@STA D1024               ; RB1_移動先POS_NO.
LD M1306                 ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動
AND M1240                ; RB1位置決め指令
AND M1241                ; RB1位置決め完了
AND M1451                ; RB1_ｺｰﾄﾞ読取位置_P-D1031
OR M1307                 ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞ移動完了
AND M1306                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動
OUT M1307                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞ移動完了
LD M1307                 ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞ移動完了
ANB M1240                ; RB1位置決め指令
ANB M1241                ; RB1位置決め完了
OUT M1308                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動終了
;ﾜｰｸ受渡し位置
LDP B1082                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動TpSW
AND M1310                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動可
OR M1311                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
ANB M1313                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動完了
OUT M1311                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
@DW K1 D1024             ; RB1_移動先POS_NO.
LD M1311                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
AND M1240                ; RB1位置決め指令
AND M1241                ; RB1位置決め完了
AND M1452                ; RB1_搬送RBへﾜｰｸ受渡位置_P1
OR M1312                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動完了
AND M1311                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
OUT M1312                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動完了
LD M1312                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動完了
ANB M1240                ; RB1位置決め指令
ANB M1241                ; RB1位置決め完了
OUT M1313                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動完了
;途中投入位置移動
LDP B1083                ; 給材ｽﾗｲﾀﾞ_途中投入位置移動TpSW
AND M1315                ; 給材ｽﾗｲﾀﾞ_途中投入位置移動可
OR M1316                 ; 給材ｽﾗｲﾀﾞ_途中投入位置移動
ANB M1318                ; 給材ｽﾗｲﾀﾞ_途中投入位置移動完了
OUT M1316                ; 給材ｽﾗｲﾀﾞ_途中投入位置移動
@DW K3 D1024             ; RB1_移動先POS_NO.
LD M1316                 ; 給材ｽﾗｲﾀﾞ_途中投入位置移動
AND M1240                ; RB1位置決め指令
AND M1241                ; RB1位置決め完了
AND M1453                ; RB1_途中投入位置
OR M1317                 ; 給材ｽﾗｲﾀﾞ_途中投入位置移動完了
AND M1316                ; 給材ｽﾗｲﾀﾞ_途中投入位置移動
OUT M1317                ; 給材ｽﾗｲﾀﾞ_途中投入位置移動完了
LD M1317                 ; 給材ｽﾗｲﾀﾞ_途中投入位置移動完了
ANB M1240                ; RB1位置決め指令
ANB M1241                ; RB1位置決め完了
OUT M1318                ; 給材ｽﾗｲﾀﾞ_途中投入位置移動完了
MCR
;<h1/>□_RB1位置決めSub[M1240]
;__ロボット等機器入力受け
LD X100B                 ; RB1_位置決め完了_PEND
ORB Y200C                ; RB1_一時停止_*STP
AND X100A                ; RB1_原点確定_HEND
MPS
LDA X1000                ; RB1_完了Pos_PM1
CON
ANDA H00FF
CON
STA D1028                ; RB1_完了POS
MRD
INV
MOV K0 D1028             ; RB1_完了POS
MRD
AND= D1028 D1030         ; RB1_完了POS  RB1_ﾜｰｸ投入位置Pos指定
OUT M1450                ; RB1_ﾜｰｸ投入位置_P2
MRD
AND= D1028 D1031         ; RB1_完了POS  RB1_ｺｰﾄﾞ読取位置Pos指定
OUT M1451                ; RB1_ｺｰﾄﾞ読取位置_P-D1031
MRD
AND= D1028 K1            ; RB1_完了POS
OUT M1452                ; RB1_搬送RBへﾜｰｸ受渡位置_P1
MPP
AND= D1028 D1032         ; RB1_完了POS  RB1_途中投入位置
OUT M1453                ; RB1_途中投入位置
; POS NO.
LD CR2002                ; 常時ON
MOV K2 D1030             ; RB1_ﾜｰｸ投入位置Pos指定
MOV K3 D1032             ; RB1_途中投入位置
LD CR2002                ; 常時ON
MPS
AND M31                  ; 手動ﾓｰﾄﾞ
MPS
LDA D500                 ; 手動_JIG_NO.指定
CON
STA D1040                ; RB1_POSｵﾌｾｯﾄ量計算
MPP
LDA D1040                ; RB1_POSｵﾌｾｯﾄ量計算
CON
ADD K10
CON
STA D1031                ; RB1_ｺｰﾄﾞ読取位置Pos指定
MPP
AND M30                  ; 自動ﾓｰﾄﾞ
MPS
LDA D1050                ; 投入部部JIG_ID
CON
STA D1040                ; RB1_POSｵﾌｾｯﾄ量計算
MPP
LDA D1040                ; RB1_POSｵﾌｾｯﾄ量計算
CON
ADD K10
CON
STA D1031                ; RB1_ｺｰﾄﾞ読取位置Pos指定
LDB X1009                ; RB1_運転ﾓｰﾄﾞ_RMDS
AND X100A                ; RB1_原点確定_HEND
AND X100C                ; RB1_ｻｰﾎﾞ状態_SV
AND X100D                ; RB1_非常停止_*EMGS
AND X100E                ; RB1_ｱﾗｰﾑ_*ALM
OUT M1242                ; RB1_状態OK
LD M50                   ; 運転準備
ANB M51                  ; 即停止異常(緊急停止)
AND M1242                ; RB1_状態OK
ANB M1244                ; RB1位置決めSub起動中
OUT M1243                ; RB1位置決めSub起動条件
LDB M1301                ; 給材RB_ﾜｰｸ投入位置移動
OR M1302                 ; 給材RB_ﾜｰｸ投入位置移動完了
LDB M1306                ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞｰ位置移動
OR M1307                 ; 給材ｽﾗｲﾀﾞ_ｺｰﾄﾞﾘｰﾀﾞ移動完了
ANL
LDB M1311                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
OR M1312                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動完了
ANL
LDB M1316                ; 給材ｽﾗｲﾀﾞ_途中投入位置移動
OR M1317                 ; 給材ｽﾗｲﾀﾞ_途中投入位置移動完了
ANL
ANB M923                 ; S23_途中投入位置移動指令
ANB M951                 ; S51_途中投入位置移動
ANB M1011                ; S111_BCR位置移動指令
ANB M1017                ; S117_ﾜｰｸ投入位置移動
ANB M1021                ; S121_ﾜｰｸ受渡し位置移動
ANB M1041                ; S141_ﾜｰｸ投入位置へ移動
ANB M1046                ; S146_途中投入位置移動
ANB M1255                ; OrgS5_ﾜｰｸ投入位置移動指令
ANB M1262                ; OrgS12_ﾜｰｸ投入位置移動
INV
LD M1243                 ; RB1位置決めSub起動条件
AND M1209                ; Lo_Hi_Auto_RB不干渉信号
OR M1244                 ; RB1位置決めSub起動中
ANL
OUT M1240                ; RB1位置決め指令
LD M1240                 ; RB1位置決め指令
AND M50                  ; 運転準備
ANB M51                  ; 即停止異常(緊急停止)
AND X100D                ; RB1_非常停止_*EMGS
AND X100E                ; RB1_ｱﾗｰﾑ_*ALM
MC
LD M1240                 ; RB1位置決め指令
AND M1243                ; RB1位置決めSub起動条件
OR M1244                 ; RB1位置決めSub起動中
OUT M1244                ; RB1位置決めSub起動中
LD M1244                 ; RB1位置決めSub起動中
MPS
@MOV D1024 D1026         ; RB1_移動先POS_NO.  RB1_指令POS
MPP
LD T115                  ; 投入部扉閉確認
AND M123                 ; 安全扉正常
AND M124                 ; ｴﾘｱｾﾝｻ正常
ANL
TMH K140 K5              ; ﾃﾞｰﾀ転送ﾃﾞｨﾚｲ
LD T140                  ; ﾃﾞｰﾀ転送ﾃﾞｨﾚｲ
OR M1245                 ; RB1位置決めｽﾀｰﾄ指令ON
AND T115                 ; 投入部扉閉確認
AND M123                 ; 安全扉正常
AND M124                 ; ｴﾘｱｾﾝｻ正常
OUT M1245                ; RB1位置決めｽﾀｰﾄ指令ON
LD M1245                 ; RB1位置決めｽﾀｰﾄ指令ON
AND Y200D                ; RB1_ｽﾀｰﾄ_CSTR
ANB X100B                ; RB1_位置決め完了_PEND
OR M1246                 ; RB1位置決め動作中
AND T115                 ; 投入部扉閉確認
AND M123                 ; 安全扉正常
AND M124                 ; ｴﾘｱｾﾝｻ正常
OUT M1246                ; RB1位置決め動作中
LD M1246                 ; RB1位置決め動作中
ANB Y200D                ; RB1_ｽﾀｰﾄ_CSTR
AND X100B                ; RB1_位置決め完了_PEND
AND= D1028 D1026         ; RB1_完了POS  RB1_指令POS
OR M1247                 ; RB1位置決め完了
OUT M1247                ; RB1位置決め完了
LD M1247                 ; RB1位置決め完了
OUT M1241                ; RB1位置決め完了
MCR
;<h1/>□_出力回路
;ソレノイドバルブ出力
;<h1/>__PC→PLCへ出力
LD W08.0                 ; 投入部ｽｷｬﾅ電源OFF
OUT Y57                  ; ｺｰﾄﾞﾘｰﾀﾞｰﾘｾｯﾄ
;<h1/>__PLC→PCへ出力
LD M1404                 ; ID異常時  ｻｲｸﾙ停止選択
OUT W0101.1              ; ID異常時ｻｲｸﾙ停止選択
LD M1405                 ; ID異常時　取出し選択
OUT W0101.2              ; ID異常時取出し選択
LD M1406                 ; ID異常時　段取り替え選択
OUT W0101.3              ; ID位常時段取指示
LD M1215                 ; 再投入品ﾓｰﾄﾞ
OUT W0100.7              ; 再投入品
OUT B3015                ; Leak_Final_再投入中
;<h1/>__RB動作出力
LD M1245                 ; RB1位置決めｽﾀｰﾄ指令ON
ANB M1246                ; RB1位置決め動作中
OUT Y200D                ; RB1_ｽﾀｰﾄ_CSTR
LD CR2002                ; 常時ON
MPS
AND D1026.0              ; 給材搬送PP RB_指令POS1
OUT Y2000                ; RB1_指令pos_PC1
MRD
AND D1026.1              ; 給材搬送PP RB_指令POS2
OUT Y2001                ; RB1_指令pos_PC2
MRD
AND D1026.2              ; 給材搬送PP RB_指令POS4
OUT Y2002                ; RB1_指令pos_PC4
MRD
AND D1026.3              ; 給材搬送PP RB_指令POS8
OUT Y2003                ; RB1_指令pos_PC8
MRD
AND D1026.4              ; 給材搬送PP RB_指令POS16
OUT Y2004                ; RB1_指令pos_PC16
MPP
AND D1026.5              ; 給材搬送PP RB_指令POS32
OUT Y2005                ; RB1_指令pos_PC32
LDP B108F                ; RB1_ﾓｰﾄﾞ切替SW
ANB Y200A                ; RB1_運転ﾓｰﾄﾞ_RMOD
LDPB B108F               ; RB1_ﾓｰﾄﾞ切替SW
AND Y200A                ; RB1_運転ﾓｰﾄﾞ_RMOD
ORL
AND M50                  ; 運転準備
ANB M71                  ; 自動運転開始BZ
ANB M82                  ; 原点復帰開始
AND<> D50 K1             ; TpM-K_表示中ページNo.
OUT Y200A                ; RB1_運転ﾓｰﾄﾞ_RMOD
LD M1253                 ; OrgS3_搬送ｽﾗｲﾀﾞ後退指令
AND T115                 ; 投入部扉閉確認
AND M1479                ; U1_ｽﾃｯﾌﾟ動作可
OUT Y200B                ; RB1_原点復帰_HOME
LD T60                   ; 投入部ﾗｲﾄｶｰﾃﾝ確認ﾀｲﾏ
AND M124                 ; ｴﾘｱｾﾝｻ正常
AND M129                 ; 安全入力OK
AND M1208                ; Lo_Hi_Auto_扉閉
OUT Y200C                ; RB1_一時停止_*STP
LD M16                   ; ﾘｾｯﾄPB
ANB X100E                ; RB1_ｱﾗｰﾑ_*ALM
OUT Y200E                ; RB1_ﾘｾｯﾄ_RES
LD M50                   ; 運転準備
AND X100E                ; RB1_ｱﾗｰﾑ_*ALM
OUT Y200F                ; RB1_ｻｰﾎﾞON_SON
;<h1/>□□　　I/O出力　　□□
LD M50                   ; 運転準備
ANB M51                  ; 即停止異常(緊急停止)
OUT Y52                  ; ﾜｰｸ給材RB電源ON
LDB M925                 ; S25_ﾄﾞｱﾛｯｸ開
ANB M931                 ; S31_ﾜｰｸ取出し要求
ANB M953                 ; S53_ID違い異常
ANB M1019                ; S119_BCR_NG処理
ANB M1047                ; S147_扉ﾛｯｸ解除
INV
OUT M1179                ; L/H AUTO一時停止要求ﾌﾗｸﾞ
LD M71                   ; 自動運転開始BZ
ANB M1179                ; L/H AUTO一時停止要求ﾌﾗｸﾞ
AND L22                  ; 上流接続無(ON=無)
LD M71                   ; 自動運転開始BZ
ANB M1181                ; L/H AUTO一時停止中
ORL
OUT Y310                 ; ﾜｰｸ供給部ﾄﾞｱ閉
LD M71                   ; 自動運転開始BZ
AND M1074                ; U1-1起動中
ANB M1182                ; L/H AUTO一時停止要求ｵFF
ANB L22                  ; 上流接続無(ON=無)
MC
LD M1179                 ; L/H AUTO一時停止要求ﾌﾗｸﾞ
ANB M1180                ; L/H AUTO一時停止要求
OR M1180                 ; L/H AUTO一時停止要求
OUT M1180                ; L/H AUTO一時停止要求
LD M1180                 ; L/H AUTO一時停止要求
AND B3034                ; Lo_Hi_Auto_一時停止中
OR M1181                 ; L/H AUTO一時停止中
OUT M1181                ; L/H AUTO一時停止中
LDF M1179                ; L/H AUTO一時停止要求ﾌﾗｸﾞ
OR M1182                 ; L/H AUTO一時停止要求ｵFF
OUT M1182                ; L/H AUTO一時停止要求ｵFF
MCR
;□□　　パネル表示　　□□
LD M1450                 ; RB1_ﾜｰｸ投入位置_P2
LD= D1030 D1024          ; RB1_ﾜｰｸ投入位置Pos指定  RB1_移動先POS_NO.
AND M1240                ; RB1位置決め指令
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1580                ; RB1_ﾜｰｸ投入位置_P2 TPPL
LD M1451                 ; RB1_ｺｰﾄﾞ読取位置_P-D1031
LD= D1031 D1024          ; RB1_ｺｰﾄﾞ読取位置Pos指定  RB1_移動先POS_NO.
AND M1240                ; RB1位置決め指令
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1581                ; RB1_ｺｰﾄﾞ読取位置_TP-PL
LD M1452                 ; RB1_搬送RBへﾜｰｸ受渡位置_P1
LD= K1 D1024             ; RB1_移動先POS_NO.
AND M1240                ; RB1位置決め指令
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1582                ; RB1_ﾜｰｸ受渡し位置_P1TP-PL
LD M1453                 ; RB1_途中投入位置
LD= D1032 D1024          ; RB1_途中投入位置  RB1_移動先POS_NO.
AND M1240                ; RB1位置決め指令
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1583                ; 給材ｽﾗｲﾀﾞ_途中投入位置移動TpPL
;<h1/>□_異常検出
LDB X100E                ; RB1_ｱﾗｰﾑ_*ALM
AND T0                   ; 電源投入0Nﾃﾞｨﾚｲ
AND M50                  ; 運転準備
AND Y52                  ; ﾜｰｸ給材RB電源ON
LD CR2003                ; 常時OFF
ANB B0520                ; 32)_Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B020                 ; 032)RB1ｺﾝﾄﾛｰﾗｰ異常
ORL
OUT B020                 ; 032)RB1ｺﾝﾄﾛｰﾗｰ異常
LDP B020                 ; 032)RB1ｺﾝﾄﾛｰﾗｰ異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1032 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0520                 ; 32)_Bz停止
AND B020                 ; 032)RB1ｺﾝﾄﾛｰﾗｰ異常
OUT B0520                ; 32)_Bz停止
LD M904                  ; S4_ﾊﾟﾚｯﾄID異常
AND T115                 ; 投入部扉閉確認
MEP
LD M30                   ; 自動ﾓｰﾄﾞ
ANB M41                  ; U_起動中
ORL
AND= D1050 K0            ; 投入部部JIG_ID
AND M1450                ; RB1_ﾜｰｸ投入位置_P2
LD CR2003                ; 常時OFF
ANB B0521                ; 33)_Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B021                 ; 033)投入部JIGID異常
ORL
OUT B021                 ; 033)投入部JIGID異常
LDP B021                 ; 033)投入部JIGID異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K33 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0521                 ; 33)_Bz停止
AND B021                 ; 033)投入部JIGID異常
OUT B0521                ; 33)_Bz停止
LD M1038                 ; S138_ﾜｰｸ受渡し失敗
LD CR2003                ; 常時OFF
ANB B0522                ; 34)_Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B022                 ; 034)供給部ﾜｰｸ受渡し失敗
ORL
OUT B022                 ; 034)供給部ﾜｰｸ受渡し失敗
LDP B022                 ; 034)供給部ﾜｰｸ受渡し失敗
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K34 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0522                 ; 34)_Bz停止
AND B022                 ; 034)供給部ﾜｰｸ受渡し失敗
OUT B0522                ; 34)_Bz停止
;
LDB M1018                ; S118_ﾜｰｸ投入NG異常
ANPB M1019               ; S119_BCR_NG処理
INV
LD CR2003                ; 常時OFF
ANB B0523                ; 35)_Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
OR X1284                 ; 給材部中間投入位置ﾜｰｸ確認(ON=有)
OR W00.2                 ; PC Busy
ORB X04                  ; 供給部扉閉確認
AND B023                 ; 035)ﾜｰｸ投入NG異常
ORL
OUT B023                 ; 035)ﾜｰｸ投入NG異常
LDP B023                 ; 035)ﾜｰｸ投入NG異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K35 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0523                 ; 35)_Bz停止
AND B023                 ; 035)ﾜｰｸ投入NG異常
OUT B0523                ; 35)_Bz停止
;
LD T100                  ; U1原点復帰ﾀｲﾑｱｳﾄ
LD CR2003                ; 常時OFF
ANB B0524                ; 36)_Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B024                 ; 036)供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
ORL
OUT B024                 ; 036)供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
LDP B024                 ; 036)供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K36 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0524                 ; 36)_Bz停止
AND B024                 ; 036)供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
OUT B0524                ; 36)_Bz停止
;　
LD M1420                 ; ST受入れ準備NG
LD CR2003                ; 常時OFF
ANB B0525                ; 37)_Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B025                 ; 037)ID一致ｽﾃｰｼﾞ無
ORL
OUT B025                 ; 037)ID一致ｽﾃｰｼﾞ無
LDP B025                 ; 037)ID一致ｽﾃｰｼﾞ無
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K37 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0525                 ; 37)_Bz停止
AND B025                 ; 037)ID一致ｽﾃｰｼﾞ無
OUT B0525                ; 37)_Bz停止
;
LD M1008                 ; S108_ｽﾃｰｼﾞ異常
ANB M1430                ; ST Enable Check OK
LD CR2003                ; 常時OFF
ANB B0526                ; 38)_Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B026                 ; 038)ｽﾃｰｼﾞﾁｪｯｸ要求(有効化要求)
ORL
OUT B026                 ; 038)ｽﾃｰｼﾞﾁｪｯｸ要求(有効化要求)
LDP B026                 ; 038)ｽﾃｰｼﾞﾁｪｯｸ要求(有効化要求)
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K38 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0526                 ; 38)_Bz停止
AND B026                 ; 038)ｽﾃｰｼﾞﾁｪｯｸ要求(有効化要求)
OUT B0526                ; 38)_Bz停止
;　　
LDB M1258                ; OrgS8_給材部ﾜｰｸ除去要求
ANB M930                 ; S30_ﾜｰｸ取り出し要求
INV
LD M36                   ; 払出ﾓｰﾄﾞ
LD M1450                 ; RB1_ﾜｰｸ投入位置_P2
OR M1453                 ; RB1_途中投入位置
ANL
ANB M1074                ; U1-1起動中
LD T101                  ; 給材部ﾜｰｸ有り確認
OR X1284                 ; 給材部中間投入位置ﾜｰｸ確認(ON=有)
ANL
ORL
LD CR2003                ; 常時OFF
ANB B0821                ; 801)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
OR T101                  ; 給材部ﾜｰｸ有り確認
OR X1284                 ; 給材部中間投入位置ﾜｰｸ確認(ON=有)
ORB X04                  ; 供給部扉閉確認
AND B0321                ; 801)給材部ﾜｰｸ除去要求
ORL
OUT B0321                ; 801)給材部ﾜｰｸ除去要求
LDP B0321                ; 801)給材部ﾜｰｸ除去要求
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K801 D13500          ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0821                 ; 801)Bz停止
AND B0321                ; 801)給材部ﾜｰｸ除去要求
OUT B0821                ; 801)Bz停止
;ﾜｰｸ受取前不明ﾜｰｸ有異常
LD M1210                 ; ﾜｰｸ受取前不明ﾜｰｸ有異常
LD CR2003                ; 常時OFF
ANB B0527                ; 39)_Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B027                 ; 039)ﾜｰｸ受取前不明ﾜｰｸ有異常
ORL
OUT B027                 ; 039)ﾜｰｸ受取前不明ﾜｰｸ有異常
LDP B027                 ; 039)ﾜｰｸ受取前不明ﾜｰｸ有異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K39 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0527                 ; 39)_Bz停止
AND B027                 ; 039)ﾜｰｸ受取前不明ﾜｰｸ有異常
OUT B0527                ; 39)_Bz停止
;ﾜｰｸ搬送異常
LD M1023                 ; S123_ﾜｰｸ搬送異常
LD CR2003                ; 常時OFF
ANB B0528                ; 40)_Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B028                 ; 040)ﾜｰｸ搬送異常
ORL
OUT B028                 ; 040)ﾜｰｸ搬送異常
LDP B028                 ; 040)ﾜｰｸ搬送異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K40 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0528                 ; 40)_Bz停止
AND B028                 ; 040)ﾜｰｸ搬送異常
OUT B0528                ; 40)_Bz停止
;
LD M1013                 ; S113_浮検知
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
ORB M1453                ; RB1_途中投入位置
OR X1284                 ; 給材部中間投入位置ﾜｰｸ確認(ON=有)
ORB X04                  ; 供給部扉閉確認
AND B029                 ; 041)投入部ﾜｰｸ浮き異常
ORL
OUT B029                 ; 041)投入部ﾜｰｸ浮き異常
LDP B029                 ; 041)投入部ﾜｰｸ浮き異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K41 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0529                 ; 41)_Bz停止
AND B029                 ; 041)投入部ﾜｰｸ浮き異常
OUT B0529                ; 41)_Bz停止
;投入部ﾜｰｸ受取異常
LD M913                  ; S13_RBﾜｰｸ受取異常
LD CR2003                ; 常時OFF
ANB B052A                ; 42)_Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B02A                 ; 042)投入部ﾜｰｸ受取異常
ORL
OUT B02A                 ; 042)投入部ﾜｰｸ受取異常
LDP B02A                 ; 042)投入部ﾜｰｸ受取異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K42 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B052A                 ; 42)_Bz停止
AND B02A                 ; 042)投入部ﾜｰｸ受取異常
OUT B052A                ; 42)_Bz停止
;
LDP M952                 ; S52_ﾊﾟﾚｯﾄ不一致異常
LD CR2003                ; 常時OFF
ANB B052B                ; 43)_Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B02B                 ; 043)投入部ﾊﾟﾚｯﾄID不一致
ORL
OUT B02B                 ; 043)投入部ﾊﾟﾚｯﾄID不一致
LDP B02B                 ; 043)投入部ﾊﾟﾚｯﾄID不一致
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K43 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B052B                 ; 43)_Bz停止
AND B02B                 ; 043)投入部ﾊﾟﾚｯﾄID不一致
OUT B052B                ; 43)_Bz停止
;
LDB T150                 ; 上流装置ｸﾛｯｸ監視
ANB T151                 ; 上流装置ｸﾛｯｸ監視
INV
AND M71                  ; 自動運転開始BZ
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B02C                 ; 044)Lo/Hi auto 通信異常
ORL
ANB L22                  ; 上流接続無(ON=無)
OUT B02C                 ; 044)Lo/Hi auto 通信異常
LDP B02C                 ; 044)Lo/Hi auto 通信異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K44 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B052C                 ; 44)_Bz停止
AND B02C                 ; 044)Lo/Hi auto 通信異常
OUT B052C                ; 44)_Bz停止
;投入部扉開
LDB M30                  ; 自動ﾓｰﾄﾞ
ANB M82                  ; 原点復帰開始
INV
AND T116                 ; 投入部扉開ﾀｲﾏ
OUT B0325                ; 805))投入部扉開警報
LD B0325                 ; 805))投入部扉開警報
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K805 D13500          ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0825                 ; 805)Bz停止
AND B0325                ; 805))投入部扉開警報
OUT B0825                ; 805)Bz停止
;投入部扉開
LDB B3032                ; Lo_Hi_Auto_扉閉
ANB L22                  ; 上流接続無(ON=無)
MPS
TMR K152 K30             ; 扉開時間
MPP
AND T152                 ; 扉開時間
OUT B0326                ; 806)lo/hi扉開
LD B0326                 ; 806)lo/hi扉開
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K806 D13500          ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0826                 ; 806)Bz停止
AND B0326                ; 806)lo/hi扉開
OUT B0826                ; 806)Bz停止
;異常ﾌﾞｻﾞｰまとめ
LDB B020                 ; 032)RB1ｺﾝﾄﾛｰﾗｰ異常
OR B0520                 ; 32)_Bz停止
LDB B021                 ; 033)投入部JIGID異常
OR B0521                 ; 33)_Bz停止
ANL
LDB B022                 ; 034)供給部ﾜｰｸ受渡し失敗
OR B0522                 ; 34)_Bz停止
ANL
LDB B023                 ; 035)ﾜｰｸ投入NG異常
OR B0523                 ; 35)_Bz停止
ANL
LDB B024                 ; 036)供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
OR B0524                 ; 36)_Bz停止
ANL
LDB B025                 ; 037)ID一致ｽﾃｰｼﾞ無
OR B0525                 ; 37)_Bz停止
ANL
LDB B026                 ; 038)ｽﾃｰｼﾞﾁｪｯｸ要求(有効化要求)
OR B0526                 ; 38)_Bz停止
ANL
LDB B027                 ; 039)ﾜｰｸ受取前不明ﾜｰｸ有異常
OR B0527                 ; 39)_Bz停止
ANL
LDB B028                 ; 040)ﾜｰｸ搬送異常
OR B0528                 ; 40)_Bz停止
ANL
LDB B029                 ; 041)投入部ﾜｰｸ浮き異常
OR B0529                 ; 41)_Bz停止
ANL
LDB B02A                 ; 042)投入部ﾜｰｸ受取異常
OR B052A                 ; 42)_Bz停止
ANL
LDB B02B                 ; 043)投入部ﾊﾟﾚｯﾄID不一致
OR B052B                 ; 43)_Bz停止
ANL
LDB B02C                 ; 044)Lo/Hi auto 通信異常
OR B052C                 ; 44)_Bz停止
ANL
LDB B02D                 ; 045)
OR B052D                 ; 45)_Bz停止
ANL
LDB B02E                 ; 046)
OR B052E                 ; 46)_Bz停止
ANL
LDB B02F                 ; 047)
OR B052F                 ; 47)_Bz停止
ANL
LDB B030                 ; 048)
OR B0530                 ; 48)_Bz停止
ANL
LDB B031                 ; 049)
OR B0531                 ; 49)_Bz停止
ANL
LDB B032                 ; 050)
OR B0532                 ; 50)_Bz停止
ANL
LDB B033                 ; 051)
OR B0533                 ; 51)_Bz停止
ANL
LDB B034                 ; 052)
OR B0534                 ; 52)_Bz停止
ANL
LDB B035                 ; 053)
OR B0535                 ; 53)_Bz停止
ANL
LDB B036                 ; 054)
OR B0536                 ; 54)_Bz停止
ANL
LDB B037                 ; 055)
OR B0537                 ; 55)_Bz停止
ANL
LDB B038                 ; 056)
OR B0538                 ; 56)_Bz停止
ANL
LDB B039                 ; 057)
OR B0539                 ; 57)_Bz停止
ANL
LDB B03A                 ; 058)
OR B053A                 ; 58)_Bz停止
ANL
LDB B03B                 ; 059)
OR B053B                 ; 59)_Bz停止
ANL
LDB B03C                 ; 060)
OR B053C                 ; 60)_Bz停止
ANL
LDB B03D                 ; 061)
OR B053D                 ; 61)_Bz停止
ANL
LDB B03E                 ; 062)
OR B053E                 ; 62)_Bz停止
ANL
LDB B03F                 ; 063)
OR B053F                 ; 63)_Bz停止
ANL
LDB B0321                ; 801)給材部ﾜｰｸ除去要求
OR B0821                 ; 801)Bz停止
ANL
LDB B0325                ; 805))投入部扉開警報
OR B0825                 ; 805)Bz停止
ANL
INV
OUT M1489                ; U1SupSlider異常BZ補助
END
ENDH
