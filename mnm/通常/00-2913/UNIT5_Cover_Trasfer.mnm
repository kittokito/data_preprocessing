DEVICE:53
;MODULE:UNIT5_Cover_Trasfer
;MODULE_TYPE:0
;
;UNIT5 Cover-Trasfer X & Z
;
;動作FLG
LD Y2470                 ; 嵌合ﾍｯﾄﾞ吸着ON　●
ANB Y2471                ; 嵌合ﾍｯﾄﾞ破壊ON　●
MPS
LD X1643                 ; 嵌合ﾍｯﾄﾞ吸着OUT1　●
AND X1644                ; 嵌合ﾍｯﾄﾞ吸着OUT2　●
ANL
TMH K500 K2              ; 嵌合ﾍｯﾄﾞ吸着OK
MRD
LDB T1603                ; 嵌合ﾍｯﾄﾞ吸着OUT1
AND T1604                ; 嵌合ﾍｯﾄﾞ吸着OUT2
ANL
TMR K501 K30             ; 嵌合ﾍｯﾄﾞ吸着異常
MPP
LDB T1603                ; 嵌合ﾍｯﾄﾞ吸着OUT1
ANB T1604                ; 嵌合ﾍｯﾄﾞ吸着OUT2
ANL
TMH K502 K3              ; 嵌合ﾍｯﾄﾞ除材OK
LD M5519                 ; 嵌合Z軸原点復帰完了
OR M5900                 ; ﾕﾆｯﾄ5原点
OR M5990                 ; 嵌合Z軸　原点復帰完了
ANB M103                 ; 原点復帰OK
OUT M5990                ; 嵌合Z軸　原点復帰完了
LD M1050                 ; 塗布開始点移動
OR M1051                 ; Y1_P61 move
OR M1982                 ; Y1形状測定要求
OR M5851                 ; 投入1ﾜｰｸ確認
ANB M5120                ; 形状測定位置１移動
ANB M1015                ; Case投入依頼
MPS
OUT M5851                ; 投入1ﾜｰｸ確認
MPP
ANB M5854                ; 投入2優先
OUT M5853                ; 投入1優先
LD M3050                 ; 塗布開始点移動
OR M3982                 ; Y2形状測定要求
OR M5852                 ; 投入2ﾜｰｸ確認
ANB M5220                ; 形状測定位置2移動
ANB M3015                ; Case投入依頼
MPS
OUT M5852                ; 投入2ﾜｰｸ確認
MPP
ANB M5853                ; 投入1優先
OUT M5854                ; 投入2優先
LD M5872                 ; Y1_DC形状測定完了
OR M5880                 ; Y1形状測定完了
OUT M5974                ; Y1形状測定完了
LD M5876                 ; Y2_DC形状測定完了
OR M5881                 ; Y2形状測定完了
OUT M5980                ; Y2形状測定完了
LD= D113 K1              ; RCA4_Position No.
MEP
RES L20                  ; 嵌合ﾁｬｯｸ ﾜｰｸ有
LD CR2002                ; 常時ON
MPS
LD<= D5000 K49           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD> D5000 K171           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
AND< D5000 K200          ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
ORL
OR> D5000 K260           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
ANL
DW K0 D5020              ; Cover-Tﾊﾞｯﾌｧ数
MPP
LD> D5000 K49            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
AND<= D5000 K171         ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD>= D5000 K200          ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
AND<= D5000 K270         ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
ORL
ANL
DW K1 D5020              ; Cover-Tﾊﾞｯﾌｧ数
;■ロボット等機器入力受け
;ロボット、検査装置など状態、現在位置などをまとめる信号は一旦ここで受ける。
LD X1178                 ; BUSY ID2
OR X1188                 ; BUSY ID3
OR X1198                 ; BUSY ID4
ANB X01                  ; DOOR close SIGNAL
OUT Y1978                ; ID2 HOLD
OUT Y1988                ; ID3 HOLD
OUT Y1998                ; ID4 HOLD
;<h1/>装置状態・動作条件
LD= D111 K1              ; RCA2_Position No.
OR= D111 K21             ; RCA2_Position No.
OR= D111 K22             ; RCA2_Position No.
LD= D111 K0              ; RCA2_Position No.
AND X117A                ; SETON ID2
ORL
AND=.L D124 E2900        ; RCA3_Position Data
LD= D113 K1              ; RCA4_Position No.
ORB L10                  ; 基板ASSY
ANL
OUT M5900                ; ﾕﾆｯﾄ5原点
LDB B0A0                 ; ﾕﾆｯﾄ5_異常1
ANB B0A1                 ; 嵌合X軸_異常2
ANB B0A2                 ; 嵌合Z軸_異常3
ANB B0A3                 ; Y1塗布幅_異常
ANB B0A4                 ; Y2塗布幅_異常
ANB B0A5                 ; 嵌合ﾁｬｯｸｺﾝﾄﾛｰﾗ異常
ANB B0A6                 ; ﾜｰｸ行方不明
ANB B0A7                 ; LJ-G測定不能
ANB B0A8                 ; LJ-G動作異常
ANB B0A9                 ; LJ-Gﾃﾞｰﾀ未送信
ANB B0AA                 ; LJ-G通信異常
INV
OUT M5901                ; ﾕﾆｯﾄ5全異常
LD M5900                 ; ﾕﾆｯﾄ5原点
ANB M5000                ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ開始
ANB X1178                ; BUSY ID2
AND X1179                ; SVRE ID2
AND X117A                ; SETON ID2
ANB X117E                ; ESTOP ID2
ANB X117F                ; ALARM ID2
ANB X1188                ; BUSY ID3
AND X1189                ; SVRE ID3
AND X118A                ; SETON ID3
ANB X118E                ; ESTOP ID3
ANB X118F                ; ALARM ID3
ANB X1198                ; BUSY ID4
LD X1199                 ; SVRE ID4
AND X119A                ; SETON ID4
OR L0                    ; 手動ﾓｰﾄﾞ
ANL
ANB X119E                ; ESTOP ID4
ANB X119F                ; ALARM ID4
OUT M5902                ; ﾕﾆｯﾄ5起動条件
LDB M64                  ; 運転準備
OR M65                   ; 即停止異常(緊急停止)
OR M5901                 ; ﾕﾆｯﾄ5全異常
OR T15                   ; 強制停止
OUT M5903                ; ﾕﾆｯﾄ5起動OFF
LD M98                   ; 原点復帰開始
ANB M5904                ; ﾕﾆｯﾄ5原点復帰中
OR M5904                 ; ﾕﾆｯﾄ5原点復帰中
ANB M5903                ; ﾕﾆｯﾄ5起動OFF
ANB M5579                ; ﾕﾆｯﾄ5原点復帰完了確認
OUT M5904                ; ﾕﾆｯﾄ5原点復帰中
LD M83                   ; 各工程起動指令
LD M33                   ; 手動ﾓｰﾄﾞ
AND M34                  ; ﾒｲﾝ手動操作可能条件
AND CR2003               ; 常時OFF
ORL
AND M5902                ; ﾕﾆｯﾄ5起動条件
OR M5905                 ; ﾕﾆｯﾄ5起動中
ANB M5903                ; ﾕﾆｯﾄ5起動OFF
ANB M5399                ; ﾕﾆｯﾄ5動作完了
OUT M5905                ; ﾕﾆｯﾄ5起動中
LD CR2003                ; 常時OFF
OUT M5908                ; ﾕﾆｯﾄ5警報補助
;Pack処理
LDB M5802                ; 嵌合X 移動中
ANB M5806                ; 嵌合X 原点復帰中
ANB M5812                ; 嵌合Z 移動中
ANB M5816                ; 嵌合Z 原点復帰中
ANB M5822                ; 嵌合ﾁｬｯｸ 移動中
ANB M5826                ; 嵌合ﾁｬｯｸ 原点復帰中
INV
OUT M5910                ; UNIT5 Pack
;□エラー発生　一時停止フラグ
LD CR2002                ; 常時ON
MPS
PMOV.D M5920 K0 D5100 K0 K20;Err400:嵌合ﾍｯﾄﾞﾜｰｸ残  UT5ｴﾗｰ判別
MPP
AND<> D5100 K0           ; UT5ｴﾗｰ判別
OUT M5912                ; UNIT5 ｴﾗｰ
LDB M5901                ; ﾕﾆｯﾄ5全異常
ANB M160                 ; PAUSE
ANB M5908                ; ﾕﾆｯﾄ5警報補助
ANB M5912                ; UNIT5 ｴﾗｰ
LDB M32                  ; 自動ﾓｰﾄﾞ
ANB M33                  ; 手動ﾓｰﾄﾞ
LD M32                   ; 自動ﾓｰﾄﾞ
AND M5905                ; ﾕﾆｯﾄ5起動中
ORL
LD M33                   ; 手動ﾓｰﾄﾞ
AND M5904                ; ﾕﾆｯﾄ5原点復帰中
ORL
ANL
OUT M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
;RB interlock
LD R3308                 ; 嵌合Z     上空位置
OR= D112 K23             ; RCA3_Position No.
OR= D112 K33             ; RCA3_Position No.
LD= D112 K21             ; RCA3_Position No.
OR= D112 K22             ; RCA3_Position No.
ANB R3300                ; 嵌合X     ｶﾊﾞｰ搬送干渉外
ORL
LD= D112 K25             ; RCA3_Position No.
OR= D112 K26             ; RCA3_Position No.
OR= D112 K27             ; RCA3_Position No.
ANB R3301                ; 嵌合X     Case1干渉外
ORL
LD= D112 K35             ; RCA3_Position No.
OR= D112 K36             ; RCA3_Position No.
OR= D112 K37             ; RCA3_Position No.
ANB R3302                ; 嵌合X     Case2干渉外
ORL
ANB X1178                ; BUSY ID2
AND X1179                ; SVRE ID2
LD X117A                 ; SETON ID2
OR M5904                 ; ﾕﾆｯﾄ5原点復帰中
ANL
ANB X117E                ; ESTOP ID2
ANB X117F                ; ALARM ID2
ANB M5800                ; 嵌合X 移動完了
ANB M5802                ; 嵌合X 移動中
ANB M5804                ; 嵌合X 原点復帰完了
OUT M5960                ; 嵌合X軸   動作可能
LDB X1188                ; BUSY ID3
AND X1189                ; SVRE ID3
LD X118A                 ; SETON ID3
OR M5904                 ; ﾕﾆｯﾄ5原点復帰中
ANL
ANB X118E                ; ESTOP ID3
ANB X118F                ; ALARM ID3
ANB M5810                ; 嵌合Z 移動完了
ANB M5812                ; 嵌合Z 移動中
ANB M5814                ; 嵌合Z 原点復帰完了
OUT M5961                ; 嵌合Z軸　動作可能
LDB X1198                ; BUSY ID4
AND X1199                ; SVRE ID4
LD X119A                 ; SETON ID4
OR M5904                 ; ﾕﾆｯﾄ5原点復帰中
ANL
ANB X119E                ; ESTOP ID4
ANB X119F                ; ALARM ID4
ANB M5820                ; 嵌合ﾁｬｯｸ 移動完了
ANB M5822                ; 嵌合ﾁｬｯｸ 移動中
ANB M5824                ; 嵌合ﾁｬｯｸ 原点復帰完了
OUT M5962                ; 嵌合ﾁｬｯｸ　動作可能
LDF M5905                ; ﾕﾆｯﾄ5起動中
ZRES M5800 M5825         ; 嵌合X 移動完了  嵌合ﾁｬｯｸ 原点復帰異常
;<h1/>■自動回路 
;
;運転開始・ステッパ初期化・補助接点へ展開
LD CR2002                ; 常時ON
ZRES M5000 M5499         ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ開始
LDB M5905                ; ﾕﾆｯﾄ5起動中
MOV K0 D5000             ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5905                 ; ﾕﾆｯﾄ5起動中
MOV D5000 Z1             ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
OUT M5000:Z1             ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ開始
;自動運転ステップ開始
;嵌合Z軸上空位置移動
;Move to up point
LD M5000                 ; ﾕﾆｯﾄ2ｽﾃｯﾌﾟ開始
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5961                ; 嵌合Z軸　動作可能
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5001                 ; Z_P1 move
MPS
DW K1 D5051              ; 嵌合Z軸  移動No.
CON
OUT @M30                 ; 嵌合Z軸移動
MPP
AND M5810                ; 嵌合Z 移動完了
RES M5810                ; 嵌合Z 移動完了
CON
MPS
ANB M39                  ; 日常点検ﾓｰﾄﾞ
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND M39                  ; 日常点検ﾓｰﾄﾞ
DW K400 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;嵌合X軸Cover受取下降位置移動
;Move to head down up point
LD M5002                 ; 受取下降位置移動
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5960                ; 嵌合X軸   動作可能
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5003                 ; X_P21 move
MPS
DW K22 D5050             ; 嵌合X軸  移動No.
CON
OUT @M0                  ; 嵌合X軸移動
MPP
AND M5800                ; 嵌合X 移動完了
RES M5800                ; 嵌合X 移動完了
CON
DW K10 D5000             ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;取り出し要求待ち
;Waiting for pick up demand
LD M5010                 ; 取出し要求待ち
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
LD M2981                 ; Cover取出し要求
AND M5961                ; 嵌合Z軸　動作可能
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LDB M2981                ; Cover取出し要求
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M2398                ; ﾕﾆｯﾄ2ｻｲｸﾙ停止
ANL
DW K380 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;ﾁｬｯｸ位置へ下降
;Down to pick up position
LD M5011                 ; Z_P22 move
MPS
DW K22 D5051             ; 嵌合Z軸  移動No.
CON
OUT @M31                 ; 嵌合Z軸移動
MPP
AND M5810                ; 嵌合Z 移動完了
RES M5810                ; 嵌合Z 移動完了
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;吸着
;Vacuuming
LD M5012                 ; 嵌合ﾍｯﾄﾞ吸着ON
MPS
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
AND T500                 ; 嵌合ﾍｯﾄﾞ吸着OK
DW K30 D5000             ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND T501                 ; 嵌合ﾍｯﾄﾞ吸着異常
DW K17 D5000             ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5752                ; 嵌合ﾍｯﾄﾞ吸着ON
;Err401:Adsorption error of Assy head
LD M5017                 ; ｴﾗｰ発生
ANB M71                  ; Error
DW K401 D148             ; 警報No.
CON
SET M5921                ; Err401:嵌合ﾍｯﾄﾞﾁｬｯｸ異常
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5018                 ; ｴﾗｰ中
AND M71                  ; Error
RES B1013                ; remove
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5019                 ; ｴﾗｰ解除確認
ANB M71                  ; Error
MPS
ANB B1013                ; remove
DW K12 D5000             ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND B1013                ; remove
RES B1013                ; remove
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5020                 ; Removeﾌﾗｸﾞ解除
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K300 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;嵌合Z軸上空位置移動
;Move to up point
LD M5030                 ; 嵌合Z軸　上空移動
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5961                ; 嵌合Z軸　動作可能
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5031                 ; Z_P1 move
MPS
DW K1 D5051              ; 嵌合Z軸  移動No.
CON
OUT @M32                 ; 嵌合Z軸移動
MPP
AND M5810                ; 嵌合Z 移動完了
RES M5810                ; 嵌合Z 移動完了
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;吸着確認
;Adsorption check
LD M5032                 ; 吸着確認
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
AND T500                 ; 嵌合ﾍｯﾄﾞ吸着OK
DW K49 D5000             ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
BMOV D910 D930 K8        ; BCR2読み取りﾃﾞｰﾀ  Cover-Transfer Code data
BMOV M2680 M5680 K2      ; 照合OK    Y1-Cover  Assy side Y1
FMOV K0 D910 K8          ; BCR2読み取りﾃﾞｰﾀ
MPP
AND T501                 ; 嵌合ﾍｯﾄﾞ吸着異常
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;Err401:Adsorption error of Assy head
LD M5033                 ; ｴﾗｰ発生
ANB M71                  ; Error
DW K401 D148             ; 警報No.
CON
SET M5921                ; Err401:嵌合ﾍｯﾄﾞﾁｬｯｸ異常
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5034                 ; ｴﾗｰ中
AND M71                  ; Error
RES B1013                ; remove
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5035                 ; ｴﾗｰ解除確認
ANB M71                  ; Error
MPS
ANB B1013                ; remove
DW K32 D5000             ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND B1013                ; remove
RES B1013                ; remove
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5036                 ; Removeﾌﾗｸﾞ解除
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K310 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;---
;
LD M5049                 ; ﾊﾝﾄﾞｼｪｲｸ
MPS
LD M5913                 ; UNIT5     ｴﾗｰ・PAUSE無し
ANB M2981                ; Cover取出し要求
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5971                ; Cover取出完了
;嵌合ｴﾘｱ確認
;Assy area select 
LD M5050                 ; 移動先確認
MPS
ANB M23                  ; BCR無視
MPS
AND M5680                ; Assy side Y1
DW K100 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND M5681                ; Assy side Y2
DW K200 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND M23                  ; BCR無視
MPS
LD M1982                 ; Y1形状測定要求
ANB M3982                ; Y2形状測定要求
ANL
DW K100 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MRD
LDB M1982                ; Y1形状測定要求
AND M3982                ; Y2形状測定要求
ANL
DW K200 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MRD
LD M1982                 ; Y1形状測定要求
AND M3982                ; Y2形状測定要求
ANL
MPS
AND M5853                ; 投入1優先
DW K100 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LDB M5853                ; 投入1優先
AND M5854                ; 投入2優先
ANL
DW K200 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LDB M1982                ; Y1形状測定要求
ANB M3982                ; Y2形状測定要求
ANL
MPS
LD M5851                 ; 投入1ﾜｰｸ確認
ANB M5852                ; 投入2ﾜｰｸ確認
ANL
DW K100 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MRD
LDB M5851                ; 投入1ﾜｰｸ確認
AND M5852                ; 投入2ﾜｰｸ確認
ANL
DW K200 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MRD
LD M5851                 ; 投入1ﾜｰｸ確認
AND M5852                ; 投入2ﾜｰｸ確認
ANL
MPS
AND M5853                ; 投入1優先
DW K100 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LDB M5853                ; 投入1優先
AND M5854                ; 投入2優先
ANL
DW K200 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LDB M5851                ; 投入1ﾜｰｸ確認
ANB M5852                ; 投入2ﾜｰｸ確認
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M1398                ; ﾕﾆｯﾄ1ｻｲｸﾙ停止
AND M3398                ; UT3ｻｲｸﾙ停止
ANL
DW K380 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;<h1/>　　投入1側
;　　Frame-1 side
;測定要求確認1
;Form measurement demand check1
LD M5100                 ; 測定要求 確認
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
RES M5680                ; Assy side Y1
CON
MPS
AND M1982                ; Y1形状測定要求
DW K103 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
ANB M1982                ; Y1形状測定要求
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;待機位置移動
;Move to waiting point 
LD M5101                 ; 待機位置移動
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5960                ; 嵌合X軸   動作可能
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5102                 ; X_P23 move
MPS
DW K23 D5050             ; 嵌合X軸  移動No.
CON
OUT @M2                  ; 嵌合X軸移動
MPP
AND M5800                ; 嵌合X 移動完了
RES M5800                ; 嵌合X 移動完了
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;測定要求確認2
;Form measurement demand check2
LD M5103                 ; 形状測定要求確認
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
AND M1982                ; Y1形状測定要求
DW K120 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LDB M1982                ; Y1形状測定要求
ANB M3982                ; Y2形状測定要求
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M1398                ; ﾕﾆｯﾄ1ｻｲｸﾙ停止
AND M3398                ; UT3ｻｲｸﾙ停止
ANL
DW K380 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;形状測定位置１移動
;Move to form measurement point
LD M5120                 ; 形状測定位置１移動
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5960                ; 嵌合X軸   動作可能
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5121                 ; X_P24 move
MPS
DW K24 D5050             ; 嵌合X軸  移動No.
CON
OUT @M3                  ; 嵌合X軸移動
MPP
AND M5800                ; 嵌合X 移動完了
RES M5800                ; 嵌合X 移動完了
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;---
LD M5122                 ; 吸着確認
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
DW K130 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;形状測定
;Form measurement
LD M5130                 ; 形状測定開始
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
LD M10929                ; LJ-G 測定可能
OR M24                   ; LJ-G無視
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5131                 ; 測定終了待ち
MPS
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
LD M10935                ; LJ-G OK
OR M24                   ; LJ-G無視
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LDB M10935               ; LJ-G OK
ANB M24                  ; LJ-G無視
ANL
TMR K594 K30             ; LJ-G 検査結果応答無し(Y1)
MPP
OUT M5968                ; LJ-G測定要求(Y1)
LD M5132                 ; Hand shake
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
ANB M10935               ; LJ-G OK
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5133                 ; Hand shake2
MPS
LD M5913                 ; UNIT5     ｴﾗｰ・PAUSE無し
ANB M1982                ; Y1形状測定要求
ANL
DW K140 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5880                ; Y1形状測定完了
;嵌合開始位置１移動
;Move to assy start point
LD M5140                 ; 嵌合開始位置移動
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5960                ; 嵌合X軸   動作可能
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5141                 ; X_P25 move
MPS
DW K25 D5050             ; 嵌合X軸  移動No.
CON
OUT @M4                  ; 嵌合X軸移動
MPP
AND M5800                ; 嵌合X 移動完了
RES M5800                ; 嵌合X 移動完了
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;嵌合要求確認
;Assy demand check2
LD M5142                 ; Y1嵌合要求待ち
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
AND M1983                ; Y1　嵌合要求
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LDB M1983                ; Y1　嵌合要求
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M1398                ; ﾕﾆｯﾄ1ｻｲｸﾙ停止
ANL
DW K50 D5000             ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;嵌合開始位置へ下降
;Down to assy start position
LD M5143                 ; 嵌合開始位置下降
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND T500                 ; 嵌合ﾍｯﾄﾞ吸着OK
AND M5961                ; 嵌合Z軸　動作可能
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5144                 ; Z_P25 move
MPS
DW K25 D5051             ; 嵌合Z軸  移動No.
CON
OUT @M33                 ; 嵌合Z軸移動
MPP
AND M5810                ; 嵌合Z 移動完了
RES M5810                ; 嵌合Z 移動完了
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;破壊ON
;Air release ON
LD M5145                 ; 吸着OFF
MPS
LD M5913                 ; UNIT5     ｴﾗｰ・PAUSE無し
ANB T1603                ; 嵌合ﾍｯﾄﾞ吸着OUT1
ANB T1604                ; 嵌合ﾍｯﾄﾞ吸着OUT2
ANL
TMH K522 K10             ; 破壊ﾃﾞｨﾚｲ
CON
AND T522                 ; 破壊ﾃﾞｨﾚｲ
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5758                ; 嵌合ﾍｯﾄﾞ破壊ON
;嵌合開始ｳｪｲﾄ
;Assy start delay
LD M5146                 ; 嵌合開始  Delay
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
TMR K510 E4400           ; Y1嵌合開始ﾃﾞｨﾚｲ  Y1嵌合開始ﾃﾞｨﾚｲ
CON
AND T510                 ; Y1嵌合開始ﾃﾞｨﾚｲ
DW K150 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;嵌合終了位置へ下降
;Down to assy end position
LD M5150                 ; 嵌合終了位置下降
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5961                ; 嵌合Z軸　動作可能
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5151                 ; Z_P26 move
MPS
DW K26 D5051             ; 嵌合Z軸  移動No.
CON
OUT @M34                 ; 嵌合Z軸移動
MPP
AND M5810                ; 嵌合Z 移動完了
RES M5810                ; 嵌合Z 移動完了
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;嵌合終了ｳｪｲﾄ
;Assy end delay
LD M5152                 ; 嵌合終了  Delay
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
TMR K511 E4402           ; Y1嵌合終了Delay  Y1嵌合開始ﾃﾞｨﾚｲ
CON
AND T511                 ; Y1嵌合終了Delay
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;上空位置上昇
;Up to waiting position
LD M5153                 ; 上空位置上昇
MPS
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
TMH K523 K10             ; 上昇ﾃﾞｨﾚｲ
CON
AND T523                 ; 上昇ﾃﾞｨﾚｲ
AND M5961                ; 嵌合Z軸　動作可能
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
BMOV D930 D940 K8        ; Cover-Transfer Code data  C1嵌合ﾜｰｸｺｰﾄﾞ
FMOV K0 D900 K8          ; BCR1読み取りﾃﾞｰﾀ
FMOV K0 D930 K8          ; Cover-Transfer Code data
MPP
OUT M5759                ; 嵌合ﾍｯﾄﾞ破壊ON
LD M5154                 ; Z_P1 move
MPS
DW K1 D5051              ; 嵌合Z軸  移動No.
CON
OUT @M35                 ; 嵌合Z軸移動
MPP
AND M5810                ; 嵌合Z 移動完了
RES M5810                ; 嵌合Z 移動完了
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;ﾜｰｸ残ﾁｪｯｸ
;Work remain check
LD M5155                 ; ﾜｰｸ残ﾁｪｯｸ
MPS
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
AND T502                 ; 嵌合ﾍｯﾄﾞ除材OK
DW K170 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LD T501                  ; 嵌合ﾍｯﾄﾞ吸着異常
OR T500                  ; 嵌合ﾍｯﾄﾞ吸着OK
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5760                ; 嵌合ﾍｯﾄﾞ吸着ON
;Err403:Work bring back
LD M5156                 ; ｴﾗｰ発生
ANB M71                  ; Error
DW K403 D148             ; 警報No.
CON
SET M5923                ; Err403:ﾜｰｸお持ち帰り
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5157                 ; ｴﾗｰ中
AND M71                  ; Error
RES B1013                ; remove
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5158                 ; ｴﾗｰ解除確認
ANB M71                  ; Error
MPS
ANB B1013                ; remove
DW K155 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND B1013                ; remove
RES B1013                ; remove
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5159                 ; Removeﾌﾗｸﾞ解除
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5160                 ; ﾜｰｸ残ﾁｪｯｸ
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
AND T502                 ; 嵌合ﾍｯﾄﾞ除材OK
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LD T501                  ; 嵌合ﾍｯﾄﾞ吸着異常
OR T500                  ; 嵌合ﾍｯﾄﾞ吸着OK
ANL
DW K156 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5161                 ; 吸着OFF
MPS
LD M5913                 ; UNIT5     ｴﾗｰ・PAUSE無し
ANB Y2470                ; 嵌合ﾍｯﾄﾞ吸着ON　●
ANB Y2471                ; 嵌合ﾍｯﾄﾞ破壊ON　●
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5761                ; 嵌合ﾍｯﾄﾞ吸着OFF
;Y1へ嵌合異常
;Assy error FLG. for Frame-Transport Y1
LD M5162                 ; 嵌合異常報告
MPS
LD M5913                 ; UNIT5     ｴﾗｰ・PAUSE無し
ANB M1983                ; Y1　嵌合要求
ANL
DW K330 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5978                ; Y1へ嵌合異常
;吸着OFF
;Vacuum OFF
LD M5170                 ; 吸着OFF
MPS
LD M5913                 ; UNIT5     ｴﾗｰ・PAUSE無し
ANB Y2470                ; 嵌合ﾍｯﾄﾞ吸着ON　●
ANB Y2471                ; 嵌合ﾍｯﾄﾞ破壊ON　●
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5763                ; 嵌合ﾍｯﾄﾞ吸着OFF
;嵌合完了
;Assy complete
LD M5171                 ; 嵌合完了
MPS
LD M5913                 ; UNIT5     ｴﾗｰ・PAUSE無し
ANB M1983                ; Y1　嵌合要求
ANL
DW K380 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5977                ; Y1へ嵌合完了
;<h1/>　　投入2側
;　　Frame-2 side
;測定要求確認1
;Form measurement demand check1
LD M5200                 ; 測定要求 確認
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
RES M5681                ; Assy side Y2
CON
MPS
AND M3982                ; Y2形状測定要求
DW K203 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
ANB M3982                ; Y2形状測定要求
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;待機位置移動
;Move to waiting point 
LD M5201                 ; 待機位置移動
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5960                ; 嵌合X軸   動作可能
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5202                 ; X_P33 move
MPS
DW K33 D5050             ; 嵌合X軸  移動No.
CON
OUT @M6                  ; 嵌合X軸移動
MPP
AND M5800                ; 嵌合X 移動完了
RES M5800                ; 嵌合X 移動完了
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;測定要求確認2
;Form measurement demand check2
LD M5203                 ; 形状測定要求確認
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
AND M3982                ; Y2形状測定要求
DW K220 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LDB M1982                ; Y1形状測定要求
ANB M3982                ; Y2形状測定要求
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M1398                ; ﾕﾆｯﾄ1ｻｲｸﾙ停止
AND M3398                ; UT3ｻｲｸﾙ停止
ANL
DW K380 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;形状測定位置2移動
;Move to form measurement point 2
LD M5220                 ; 形状測定位置2移動
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5960                ; 嵌合X軸   動作可能
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5221                 ; X_P34 move
MPS
DW K34 D5050             ; 嵌合X軸  移動No.
CON
OUT @M7                  ; 嵌合X軸移動
MPP
AND M5800                ; 嵌合X 移動完了
RES M5800                ; 嵌合X 移動完了
CON
DW K230 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;形状測定
;Form measurement
LD M5230                 ; 形状測定開始
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
LD M10929                ; LJ-G 測定可能
OR M24                   ; LJ-G無視
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5231                 ; 測定終了待ち
MPS
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
LD M10935                ; LJ-G OK
OR M24                   ; LJ-G無視
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LDB M10935               ; LJ-G OK
ANB M24                  ; LJ-G無視
ANL
TMR K595 K30             ; LJ-G 検査結果応答無し(Y2)
MPP
OUT M5969                ; LJ-G測定要求(Y2)
LD M5232                 ; Hand shake
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
ANB M10935               ; LJ-G OK
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5233                 ; Hand shake2
MPS
LD M5913                 ; UNIT5     ｴﾗｰ・PAUSE無し
ANB M3982                ; Y2形状測定要求
ANL
DW K240 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5881                ; Y2形状測定完了
;嵌合開始位置１移動
;Move to assy start point
LD M5240                 ; 嵌合開始位置移動
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5960                ; 嵌合X軸   動作可能
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5241                 ; X_P35
MPS
DW K35 D5050             ; 嵌合X軸  移動No.
CON
OUT @M8                  ; 嵌合X軸移動
MPP
AND M5800                ; 嵌合X 移動完了
RES M5800                ; 嵌合X 移動完了
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;嵌合要求確認
;Assy demand check2
LD M5242                 ; Y2嵌合要求待ち
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
AND M3983                ; Y2　嵌合要求
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LDB M3983                ; Y2　嵌合要求
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M1398                ; ﾕﾆｯﾄ1ｻｲｸﾙ停止
ANL
DW K50 D5000             ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;嵌合開始位置へ下降
;Down to assy start position
LD M5243                 ; 嵌合開始位置下降
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND T500                 ; 嵌合ﾍｯﾄﾞ吸着OK
AND M5961                ; 嵌合Z軸　動作可能
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5244                 ; Z_P35 move
MPS
DW K35 D5051             ; 嵌合Z軸  移動No.
CON
OUT @M36                 ; 嵌合Z軸移動
MPP
AND M5810                ; 嵌合Z 移動完了
RES M5810                ; 嵌合Z 移動完了
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;破壊ON
;Air release ON
LD M5245                 ; 吸着OFF
MPS
LD M5913                 ; UNIT5     ｴﾗｰ・PAUSE無し
ANB T1603                ; 嵌合ﾍｯﾄﾞ吸着OUT1
ANB T1604                ; 嵌合ﾍｯﾄﾞ吸着OUT2
ANL
TMH K524 K10             ; 破壊ﾃﾞｨﾚｲ
CON
AND T524                 ; 破壊ﾃﾞｨﾚｲ
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5768                ; 嵌合ﾍｯﾄﾞ破壊ON
;嵌合開始ｳｪｲﾄ
;Assy start delay
LD M5246                 ; 嵌合開始  Delay
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
TMR K512 E4404           ; Y2嵌合開始ﾃﾞｨﾚｲ  Y2嵌合開始ﾃﾞｨﾚｲ
CON
AND T512                 ; Y2嵌合開始ﾃﾞｨﾚｲ
DW K250 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;嵌合終了位置へ下降
;Down to assy end position
LD M5250                 ; 嵌合終了位置下降
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5961                ; 嵌合Z軸　動作可能
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5251                 ; Z_P36 move
MPS
DW K36 D5051             ; 嵌合Z軸  移動No.
CON
OUT @M37                 ; 嵌合Z軸移動
MPP
AND M5810                ; 嵌合Z 移動完了
RES M5810                ; 嵌合Z 移動完了
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;嵌合終了ｳｪｲﾄ
;Assy end delay
LD M5252                 ; 嵌合終了ﾃﾞｨﾚｲ
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
TMR K513 E4406           ; Y2嵌合終了ﾃﾞｨﾚｲ  Y2嵌合終了ﾃﾞｨﾚｲ
CON
AND T513                 ; Y2嵌合終了ﾃﾞｨﾚｲ
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;上空位置上昇
;Up to waiting position
LD M5253                 ; 上空位置移動
MPS
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
TMH K525 K10             ; 上昇ﾃﾞｨﾚｲ
CON
AND T525                 ; 上昇ﾃﾞｨﾚｲ
AND M5961                ; 嵌合Z軸　動作可能
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
BMOV D930 D950 K8        ; Cover-Transfer Code data  C2嵌合ﾜｰｸｺｰﾄﾞ
FMOV K0 D920 K8          ; BCR3読み取りﾃﾞｰﾀ
FMOV K0 D930 K8          ; Cover-Transfer Code data
MPP
OUT M5769                ; 嵌合ﾍｯﾄﾞ破壊ON
LD M5254                 ; Z_P1 move
MPS
DW K1 D5051              ; 嵌合Z軸  移動No.
CON
OUT @M38                 ; 嵌合Z軸移動
MPP
AND M5810                ; 嵌合Z 移動完了
RES M5810                ; 嵌合Z 移動完了
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;ﾜｰｸ残ﾁｪｯｸ
;Work remain check
LD M5255                 ; ﾜｰｸ残ﾁｪｯｸ
MPS
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
AND T502                 ; 嵌合ﾍｯﾄﾞ除材OK
DW K270 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LD T501                  ; 嵌合ﾍｯﾄﾞ吸着異常
OR T500                  ; 嵌合ﾍｯﾄﾞ吸着OK
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5770                ; 嵌合ﾍｯﾄﾞ吸着ON
;***↓
;Err403:Work bring back
LD M5256                 ; ｴﾗｰ発生
ANB M71                  ; Error
DW K403 D148             ; 警報No.
CON
SET M5923                ; Err403:ﾜｰｸお持ち帰り
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5257                 ; ｴﾗｰ中
AND M71                  ; Error
RES B1013                ; remove
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5258                 ; ｴﾗｰ解除確認
ANB M71                  ; Error
MPS
ANB B1013                ; remove
DW K254 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND B1013                ; remove
RES B1013                ; remove
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5259                 ; Removeﾌﾗｸﾞ解除
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5260                 ; 吸着OFF
MPS
LD M5913                 ; UNIT5     ｴﾗｰ・PAUSE無し
ANB Y2470                ; 嵌合ﾍｯﾄﾞ吸着ON　●
ANB Y2471                ; 嵌合ﾍｯﾄﾞ破壊ON　●
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5771                ; 嵌合ﾍｯﾄﾞ吸着OFF
;Y2へ嵌合異常
;Assy error FLG. for Frame-Transport Y2
LD M5261                 ; 嵌合異常報告
MPS
LD M5913                 ; UNIT5     ｴﾗｰ・PAUSE無し
ANB M3983                ; Y2　嵌合要求
ANL
DW K330 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5984                ; Y2へ嵌合異常
;***↑
;嵌合完了
;Assy complete
LD M5270                 ; 嵌合完了
MPS
LD M5913                 ; UNIT5     ｴﾗｰ・PAUSE無し
ANB M3983                ; Y2　嵌合要求
ANL
DW K380 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5983                ; Y2へ嵌合完了
;★★★　ﾁｬｯｸNG除材動作　★★★
;Chuck Error Operation
;吸着破壊ON
;Air release ON
LD M5300                 ; 吸着NG→除材処理へ
MPS
LD M5913                 ; UNIT5     ｴﾗｰ・PAUSE無し
AND T502                 ; 嵌合ﾍｯﾄﾞ除材OK
ANL
TMR K521 K5              ; 破壊ｳｪｲﾄ
CON
AND T521                 ; 破壊ｳｪｲﾄ
DW K4 D5000              ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5753                ; 嵌合ﾍｯﾄﾞ破壊ON
;嵌合ﾍｯﾄﾞ上空位置へ上昇
;Assy head up
LD M5304                 ; 嵌合Z　上空位置
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5961                ; 嵌合Z軸　動作可能
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5305                 ; Z_P1 move
MPS
DW K1 D5051              ; 嵌合Z軸  移動No.
CON
OUT @M39                 ; 嵌合Z軸移動
MPP
AND M5810                ; 嵌合Z 移動完了
RES M5810                ; 嵌合Z 移動完了
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;吸着破壊OFF
;Air release OFF
LD M5307                 ; 嵌合ﾍｯﾄﾞ破壊OFF
MPS
LD M5913                 ; UNIT5     ｴﾗｰ・PAUSE無し
ANB Y2471                ; 嵌合ﾍｯﾄﾞ破壊ON　●
ANL
DW K310 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5754                ; 嵌合ﾍｯﾄﾞ破壊OFF
;吸着確認
;Adsorption check
LD M5310                 ; 吸着NGﾜｰｸ除材確認
MPS
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
AND T502                 ; 嵌合ﾍｯﾄﾞ除材OK
DW K314 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
@FMOV K0 D930 K8         ; Cover-Transfer Code data
MPP
LD T500                  ; 嵌合ﾍｯﾄﾞ吸着OK
OR T501                  ; 嵌合ﾍｯﾄﾞ吸着異常
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5755                ; 嵌合ﾍｯﾄﾞ吸着ON
;Err400:Work remain
LD M5311                 ; ｴﾗｰ発生
ANB M71                  ; Error
DW K400 D148             ; 警報No.
CON
SET M5920                ; Err400:嵌合ﾍｯﾄﾞﾜｰｸ残
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5312                 ; ｴﾗｰ中
AND M71                  ; Error
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5313                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K310 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;吸着OFF
;Adsorption OFF
LD M5314                 ; 嵌合ﾍｯﾄﾞ吸着OFF
MPS
LD M5913                 ; UNIT5     ｴﾗｰ・PAUSE無し
ANB Y2470                ; 嵌合ﾍｯﾄﾞ吸着ON　●
ANL
DW K320 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5756                ; 嵌合ﾍｯﾄﾞ吸着OFF
;ｶﾊﾞｰ搬送とﾊﾝﾄﾞｼｪｲｸ
;Handshake with Cover-Trasfer Y
LD M5320                 ; Cover取り出し異常
MPS
LD M5913                 ; UNIT5     ｴﾗｰ・PAUSE無し
ANB M2981                ; Cover取出し要求
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5972                ; Cover取出異常
LD M5321
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
DW K380 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;★★★
;■■■　搬送中吸着NG除材動作　■■■
;Adsorption Error when transpot Operation
;除材確認
;Remove check　　　
LD M5330                 ; 除材確認
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
AND T502                 ; 嵌合ﾍｯﾄﾞ除材OK
DW K334 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
@FMOV K0 D930 K8         ; Cover-Transfer Code data
MPP
LD T500                  ; 嵌合ﾍｯﾄﾞ吸着OK
OR T501                  ; 嵌合ﾍｯﾄﾞ吸着異常
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;Err400:Work remain
LD M5331                 ; ｴﾗｰ発生
ANB M71                  ; Error
DW K400 D148             ; 警報No.
CON
SET M5920                ; Err400:嵌合ﾍｯﾄﾞﾜｰｸ残
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5332                 ; ｴﾗｰ中
AND M71                  ; Error
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5333                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K330 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;吸着OFF
;Adsorption OFF
LD M5334                 ; 吸着OFF
MPS
LD M5913                 ; UNIT5     ｴﾗｰ・PAUSE無し
ANB Y2470                ; 嵌合ﾍｯﾄﾞ吸着ON　●
ANL
DW K380 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5757                ; 嵌合ﾍｯﾄﾞ吸着OFF
;■■■
;<h1/>　　日常点検ﾓｰﾄﾞ
;▼↓↓↓　Daily check mode　↓↓↓▼
;Y1日常点検塗布ﾙｰﾁﾝ呼び出し
;Y1 Daily check dispense operation
LD M5400                 ; DC_測定要求待ち
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
LD M1982                 ; Y1形状測定要求
ANB B2055                ; DC_Y2 select
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MRD
LDB M1982                ; Y1形状測定要求
AND M3982                ; Y2形状測定要求
AND B2055                ; DC_Y2 select
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LDB M1982                ; Y1形状測定要求
ANB M3982                ; Y2形状測定要求
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ANL
DW K381 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;形状測定位置１移動
;Move to form measurement point
LD M5401                 ; Y1形状測定位置移動
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5960                ; 嵌合X軸   動作可能
MPS
ANB B2055                ; DC_Y2 select
DW K54 D5050             ; 嵌合X軸  移動No.
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND B2055                ; DC_Y2 select
DW K59 D5050             ; 嵌合X軸  移動No.
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5402                 ; Y1_P24 move
MPS
OUT @M23                 ; 嵌合X軸移動
MPP
AND M5800                ; 嵌合X 移動完了
RES M5800                ; 嵌合X 移動完了
CON
DW K420 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;形状測定
;Form measurement
LD M5420                 ; LJ-G状態確認
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
LD M10929                ; LJ-G 測定可能
OR M24                   ; LJ-G無視
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5421                 ; DC測定開始
MPS
TMH K550 K10             ; RESET信号ON時間
CON
AND T550                 ; RESET信号ON時間
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5870                ; LJ-G RESET信号ON
LD M5422                 ; DC測定終了点移動
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5960                ; 嵌合X軸   動作可能
MPS
ANB B2055                ; DC_Y2 select
DW K55 D5050             ; 嵌合X軸  移動No.
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND B2055                ; DC_Y2 select
DW K60 D5050             ; 嵌合X軸  移動No.
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5423                 ; X_P55 move
MPS
OUT @M24                 ; 嵌合X軸移動
MPP
AND M5800                ; 嵌合X 移動完了
RES M5800                ; 嵌合X 移動完了
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5424                 ; DC測定終了
MPS
TMH K551 K10             ; Timing信号ON時間
CON
AND T551                 ; Timing信号ON時間
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5871                ; LJ-G TIMING信号ON
LD M5425                 ; Hand shake
MPS
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
LDB B2055                ; DC_Y2 select
ANB M1982                ; Y1形状測定要求
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LD B2055                 ; DC_Y2 select
ANB M3982                ; Y2形状測定要求
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MRD
ANB B2055                ; DC_Y2 select
OUT M5872                ; Y1_DC形状測定完了
MPP
AND B2055                ; DC_Y2 select
OUT M5876                ; Y2_DC形状測定完了
LD M5426
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5960                ; 嵌合X軸   動作可能
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5427
MPS
DW K22 D5050             ; 嵌合X軸  移動No.
CON
OUT @M29                 ; 嵌合X軸移動
MPP
AND M5800                ; 嵌合X 移動完了
RES M5800                ; 嵌合X 移動完了
CON
DW K380 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;▲↑↑↑　Daily check mode　↑↑↑▲
;サイクル停止条件
;Cycle end check
LD M5380                 ; 1ｻｲｸﾙ終了
MPS
LDB M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ORB M2398                ; ﾕﾆｯﾄ2ｻｲｸﾙ停止
ANL
DW K0 D5000              ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LD M70                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M2398                ; ﾕﾆｯﾄ2ｻｲｸﾙ停止
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5381                 ; ﾜｰｸ残ﾁｪｯｸ
MPS
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
ANB M39                  ; 日常点検ﾓｰﾄﾞ
MPS
AND T502                 ; 嵌合ﾍｯﾄﾞ除材OK
DW K385 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
LD T500                  ; 嵌合ﾍｯﾄﾞ吸着OK
OR T501                  ; 嵌合ﾍｯﾄﾞ吸着異常
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
AND M39                  ; 日常点検ﾓｰﾄﾞ
DW K385 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
ANB M602                 ; 20121123ﾃﾞﾊﾞｯｸﾞ
OUT M5780                ; 嵌合ﾍｯﾄﾞ吸着ON
;Err400:Work remain
LD M5382                 ; ｴﾗｰ発生
ANB M71                  ; Error
DW K400 D148             ; 警報No.
CON
SET M5920                ; Err400:嵌合ﾍｯﾄﾞﾜｰｸ残
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5383                 ; ｴﾗｰ中
AND M71                  ; Error
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5384                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K381 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;吸着OFF
;Adsorption OFF
LD M5385                 ; 吸着OFF
MPS
LD M5913                 ; UNIT5     ｴﾗｰ・PAUSE無し
ANB Y2470                ; 嵌合ﾍｯﾄﾞ吸着ON　●
ANL
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
MPP
OUT M5781                ; 嵌合ﾍｯﾄﾞ吸着OFF
;嵌合Z軸上空位置移動
;Move to up point
LD M5386                 ; 嵌合Z上空位置移動
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5961                ; 嵌合Z軸　動作可能
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5387                 ; Z_P1 move
MPS
DW K1 D5051              ; 嵌合Z軸  移動No.
CON
OUT @M40                 ; 嵌合Z軸移動
MPP
AND M5810                ; 嵌合Z 移動完了
RES M5810                ; 嵌合Z 移動完了
CON
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;嵌合X軸ｶﾊﾞｰ吸着位置移動
;Move to cover pick up point
LD M5388                 ; 嵌合Xｶﾊﾞｰ吸着位置移動
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5960                ; 嵌合X軸   動作可能
@INC D5000               ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5389                 ; X_P22 move
MPS
DW K22 D5050             ; 嵌合X軸  移動No.
CON
OUT @M11                 ; 嵌合X軸移動
MPP
AND M5800                ; 嵌合X 移動完了
RES M5800                ; 嵌合X 移動完了
CON
DW K390 D5000            ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
LD M5390                 ; ｻｲｸﾙ終了へ
@MOV K398 D5000          ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;終了
;Unit AUTO cycle end
LD M5398                 ; ﾕﾆｯﾄ5ｻｲｸﾙ停止
MPS
LD M70                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M72                  ; 全ﾕﾆｯﾄ停止確認
ANL
@MOV K399 D5000          ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
FMOV K0 D930 K8          ; Cover-Transfer Code data
MPP
ANB M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
DW K0 D5000              ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
;<h1/>■原点復帰回路
;
;運転開始・ステッパ初期化・補助接点へ展開
LD CR2002                ; 常時ON
ZRES M5500 M5589         ; ﾕﾆｯﾄ5原点復帰開始
LDB M5904                ; ﾕﾆｯﾄ5原点復帰中
MOV K0 D5010             ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
LD M5904                 ; ﾕﾆｯﾄ5原点復帰中
MOV D5010 Z1             ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
OUT M5500:Z1             ; ﾕﾆｯﾄ5原点復帰開始
;原点復帰ステップ開始
;Origin start
LD M5500                 ; ﾕﾆｯﾄ5原点復帰開始
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
TMR K520 K10             ; 吸着ｳｪｲﾄ
CON
AND T520                 ; 吸着ｳｪｲﾄ
@INC D5010               ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
MPP
OUT M5750                ; 嵌合ﾍｯﾄﾞ吸着ON
;ﾜｰｸ有無Check
;Work check
LD M5501                 ; 嵌合Zﾜｰｸ残ﾁｪｯｸ
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
AND T502                 ; 嵌合ﾍｯﾄﾞ除材OK
DW K10 D5010             ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
MPP
LD T500                  ; 嵌合ﾍｯﾄﾞ吸着OK
OR T501                  ; 嵌合ﾍｯﾄﾞ吸着異常
ANL
@INC D5010               ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
;Err400:Work remain
LD M5502                 ; ｴﾗｰ発生
ANB M71                  ; Error
DW K400 D148             ; 警報No.
CON
SET M5920                ; Err400:嵌合ﾍｯﾄﾞﾜｰｸ残
CON
@INC D5010               ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
LD M5503                 ; ｴﾗｰ中
AND M71                  ; Error
@INC D5010               ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
LD M5504                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
MPS
ANB T1408                ; 投入2_受渡位置
DW K1 D5010              ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
MPP
AND T1408                ; 投入2_受渡位置
DW K10 D5010             ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
;嵌合Z軸　原点復帰
;Cover-Transfer Z HOME
LD M5510                 ; RCA3原点復帰
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5961                ; 嵌合Z軸　動作可能
SET M5816                ; 嵌合Z 原点復帰中
CON
@INC D5010               ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
LD M5511                 ; RCA3 HOME
MPS
ANB X1188                ; BUSY ID3
OUT Y198C                ; ID3 SETUP
MPP
AND X1188                ; BUSY ID3
@INC D5010               ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
LD M5512                 ; RCA3 HOME　end
ANB X1188                ; BUSY ID3
AND X118A                ; SETON ID3
AND X118B                ; INP ID3
RES M5816                ; 嵌合Z 原点復帰中
CON
@INC D5010               ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
;嵌合上空位置へ
;Up
LD M5513                 ; 上空位置移動
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5961                ; 嵌合Z軸　動作可能
@INC D5010               ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
LD M5514                 ; Z_P1 move
MPS
DW K1 D5051              ; 嵌合Z軸  移動No.
CON
OUT @M47                 ; 嵌合Z軸移動
MPP
AND M5810                ; 嵌合Z 移動完了
RES M5810                ; 嵌合Z 移動完了
CON
DW K19 D5010             ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
;吸着OFF
;Vacuum OFF
LD M5519                 ; 嵌合Z軸原点復帰完了
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
MPS
LDB Y2470                ; 嵌合ﾍｯﾄﾞ吸着ON　●
AND M5990                ; 嵌合Z軸　原点復帰完了
ANL
@INC D5010               ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
MPP
OUT M5751                ; 嵌合ﾍｯﾄﾞ吸着OFF
;嵌合X軸　原点復帰
;Cover-Transfer X HOME
LD M5520                 ; RCA2原点復帰
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5960                ; 嵌合X軸   動作可能
SET M5806                ; 嵌合X 原点復帰中
CON
@INC D5010               ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
LD M5521                 ; RCA2 HOME
MPS
ANB X1178                ; BUSY ID2
OUT Y197C                ; ID2 SETUP
MPP
AND X1178                ; BUSY ID2
@INC D5010               ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
LD M5522                 ; RCA2 HOME　end
ANB X1178                ; BUSY ID2
AND X117A                ; SETON ID2
AND X117B                ; INP ID2
RES M5806                ; 嵌合X 原点復帰中
CON
@INC D5010               ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
;嵌合X軸Cover受取下降位置移動
;Move to head down up point
LD M5523                 ; 下降待機位置移動
AND M5913                ; UNIT5     ｴﾗｰ・PAUSE無し
AND M5960                ; 嵌合X軸   動作可能
@INC D5010               ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
LD M5524                 ; X_P22 MOVE
MPS
DW K22 D5050             ; 嵌合X軸  移動No.
CON
OUT @M12                 ; 嵌合X軸移動
MPP
AND M5800                ; 嵌合X 移動完了
RES M5800                ; 嵌合X 移動完了
CON
DW K76 D5010             ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
;原点復帰終了
LD M5576                 ; 原点復帰動作完了
AND M5900                ; ﾕﾆｯﾄ5原点
OUT M5578                ; ﾕﾆｯﾄ5原点復帰完了
LD M5578                 ; ﾕﾆｯﾄ5原点復帰完了
ANB M98                  ; 原点復帰開始
@MOV K79 D5010           ; ﾕﾆｯﾄ5原点復帰ｽﾃｯﾌﾟ
;■強制ﾁｬｯｸ開回路
LD M5904                 ; ﾕﾆｯﾄ5原点復帰中
ORB M5905                ; ﾕﾆｯﾄ5起動中
LD M5905                 ; ﾕﾆｯﾄ5起動中
AND M5912                ; UNIT5 ｴﾗｰ
AND B1013                ; remove
ORL
ANP T1201                ; 嵌合ﾁｬｯｸ開ｽｲｯﾁ　★
ANB M5820                ; 嵌合ﾁｬｯｸ 移動完了
ANB M5822                ; 嵌合ﾁｬｯｸ 移動中
OUT M5591                ; 嵌合ﾁｬｯｸ強制開
LD CR2002                ; 常時ON
MPS
LD M5591                 ; 嵌合ﾁｬｯｸ強制開
AND M5962                ; 嵌合ﾁｬｯｸ　動作可能
OR M5590                 ; 嵌合ﾁｬｯｸ P1移動
ANB M5820                ; 嵌合ﾁｬｯｸ 移動完了
ANL
MPS
RES L20                  ; 嵌合ﾁｬｯｸ ﾜｰｸ有
CON
OUT M5590                ; 嵌合ﾁｬｯｸ P1移動
MPP
OUT @M65                 ; 嵌合ﾁｬｯｸ  Open
MPP
ANF M5590                ; 嵌合ﾁｬｯｸ P1移動
RES M5820                ; 嵌合ﾁｬｯｸ 移動完了
;<h1/>■手動回路 
;
LD M33                   ; 手動ﾓｰﾄﾞ
AND M34                  ; ﾒｲﾝ手動操作可能条件
ANB M5905                ; ﾕﾆｯﾄ5起動中
ANB M97                  ; 原点復帰動作中
MC
;Cover-Transfer X
LD M5960                 ; 嵌合X軸   動作可能
AND M5961                ; 嵌合Z軸　動作可能
OUT M5610                ; 嵌合各動作可
LDB X1178                ; BUSY ID2
ANB X1188                ; BUSY ID3
AND M5961                ; 嵌合Z軸　動作可能
OUT M5609                ; 手動Z軸動作可
LD CR2002                ; 常時ON
MPS
LD B1100                 ; 嵌合X 受取位置PB
LD R3308                 ; 嵌合Z     上空位置
OR= D111 K21             ; RCA2_Position No.
ANL
AND M5610                ; 嵌合各動作可
OR M5611                 ; 嵌合X     P22移動
ANB M5800                ; 嵌合X 移動完了
ANL
OUT M5611                ; 嵌合X     P22移動
DW K22 D5050             ; 嵌合X軸  移動No.
CON
OUT @M13                 ; 嵌合X軸移動
MPP
ANF M5611                ; 嵌合X     P22移動
RES M5800                ; 嵌合X 移動完了
LD CR2002                ; 常時ON
MPS
LD B1101                 ; 嵌合X 受取待避位置PB
LD R3308                 ; 嵌合Z     上空位置
OR= D111 K22             ; RCA2_Position No.
ANL
AND M5610                ; 嵌合各動作可
OR M5612                 ; 嵌合X     P21移動
ANB M5800                ; 嵌合X 移動完了
ANL
OUT M5612                ; 嵌合X     P21移動
DW K21 D5050             ; 嵌合X軸  移動No.
CON
OUT @M14                 ; 嵌合X軸移動
MPP
ANF M5612                ; 嵌合X     P21移動
RES M5800                ; 嵌合X 移動完了
LD CR2002                ; 常時ON
MPS
LD B1102                 ; 嵌合X Case1組み込み位置PB
AND R3308                ; 嵌合Z     上空位置
AND M5610                ; 嵌合各動作可
OR M5613                 ; 嵌合X     P25移動
ANB M5800                ; 嵌合X 移動完了
ANL
OUT M5613                ; 嵌合X     P25移動
DW K25 D5050             ; 嵌合X軸  移動No.
CON
OUT @M15                 ; 嵌合X軸移動
MPP
ANF M5613                ; 嵌合X     P25移動
RES M5800                ; 嵌合X 移動完了
LD CR2002                ; 常時ON
MPS
LD B1103                 ; 嵌合X Case2組み込み位置PB
AND R3308                ; 嵌合Z     上空位置
AND M5610                ; 嵌合各動作可
OR M5614                 ; 嵌合X     P35移動
ANB M5800                ; 嵌合X 移動完了
ANL
OUT M5614                ; 嵌合X     P35移動
DW K35 D5050             ; 嵌合X軸  移動No.
CON
OUT @M16                 ; 嵌合X軸移動
MPP
ANF M5614                ; 嵌合X     P35移動
RES M5800                ; 嵌合X 移動完了
LD CR2002                ; 常時ON
MPS
LD B110E                 ; 嵌合X Case1幅測定位置PB
AND R3308                ; 嵌合Z     上空位置
AND M5610                ; 嵌合各動作可
OR M5626                 ; 嵌合X     P24移動
ANB M5800                ; 嵌合X 移動完了
ANL
OUT M5626                ; 嵌合X     P24移動
DW K24 D5050             ; 嵌合X軸  移動No.
CON
OUT @M17                 ; 嵌合X軸移動
MPP
ANF M5626                ; 嵌合X     P24移動
RES M5800                ; 嵌合X 移動完了
LD CR2002                ; 常時ON
MPS
LD B110F                 ; 嵌合X Case2幅測定位置PB
AND R3308                ; 嵌合Z     上空位置
AND M5610                ; 嵌合各動作可
OR M5627                 ; 嵌合X     P34移動
ANB M5800                ; 嵌合X 移動完了
ANL
OUT M5627                ; 嵌合X     P34移動
DW K34 D5050             ; 嵌合X軸  移動No.
CON
OUT @M18                 ; 嵌合X軸移動
MPP
ANF M5627                ; 嵌合X     P34移動
RES M5800                ; 嵌合X 移動完了
LD CR2002                ; 常時ON
MPS
LD B1114                 ; 嵌合X Y1待機位置PB
AND R3308                ; 嵌合Z     上空位置
AND M5610                ; 嵌合各動作可
OR M5629                 ; 嵌合X     P23移動
ANB M5800                ; 嵌合X 移動完了
ANL
OUT M5629                ; 嵌合X     P23移動
DW K23 D5050             ; 嵌合X軸  移動No.
CON
OUT @M19                 ; 嵌合X軸移動
MPP
ANF M5629                ; 嵌合X     P23移動
RES M5800                ; 嵌合X 移動完了
LD CR2002                ; 常時ON
MPS
LD B1115                 ; 嵌合X Y2待機位置PB
AND R3308                ; 嵌合Z     上空位置
AND M5610                ; 嵌合各動作可
OR M5630                 ; 嵌合X     P33移動
ANB M5800                ; 嵌合X 移動完了
ANL
OUT M5630                ; 嵌合X     P33移動
DW K33 D5050             ; 嵌合X軸  移動No.
CON
OUT @M20                 ; 嵌合X軸移動
MPP
ANF M5630                ; 嵌合X     P33移動
RES M5800                ; 嵌合X 移動完了
LD CR2002                ; 常時ON
MPS
LD B1118                 ; 嵌合Z Y1嵌合退避位置PB
LD R3308                 ; 嵌合Z     上空位置
ORB R3301                ; 嵌合X     Case1干渉外
ANL
AND M5610                ; 嵌合各動作可
OR M5633                 ; 嵌合X     P27移動
ANB M5800                ; 嵌合X 移動完了
ANL
OUT M5633                ; 嵌合X     P27移動
DW K27 D5050             ; 嵌合X軸  移動No.
CON
OUT @M21                 ; 嵌合X軸移動
MPP
ANF M5633                ; 嵌合X     P27移動
RES M5800                ; 嵌合X 移動完了
LD CR2002                ; 常時ON
MPS
LD B1119                 ; 嵌合Z Y2嵌合退避位置PB
LD R3308                 ; 嵌合Z     上空位置
ORB R3302                ; 嵌合X     Case2干渉外
ANL
AND M5610                ; 嵌合各動作可
OR M5634                 ; 嵌合X     P37移動
ANB M5800                ; 嵌合X 移動完了
ANL
OUT M5634                ; 嵌合X     P37移動
DW K37 D5050             ; 嵌合X軸  移動No.
CON
OUT @M22                 ; 嵌合X軸移動
MPP
ANF M5634                ; 嵌合X     P37移動
RES M5800                ; 嵌合X 移動完了
LD CR2002                ; 常時ON
MPS
LD B111A                 ; 嵌合X_Y1日検測定開始位置
AND R3308                ; 嵌合Z     上空位置
AND M5610                ; 嵌合各動作可
OR M5635                 ; 嵌合X     P54移動
ANB M5800                ; 嵌合X 移動完了
ANL
OUT M5635                ; 嵌合X     P54移動
DW K54 D5050             ; 嵌合X軸  移動No.
CON
OUT @M25                 ; 嵌合X軸移動
MPP
ANF M5635                ; 嵌合X     P54移動
RES M5800                ; 嵌合X 移動完了
LD CR2002                ; 常時ON
MPS
LD B111B                 ; 嵌合X_Y1日検測定終了位置
AND R3308                ; 嵌合Z     上空位置
AND M5610                ; 嵌合各動作可
OR M5636                 ; 嵌合X     P55移動
ANB M5800                ; 嵌合X 移動完了
ANL
OUT M5636                ; 嵌合X     P55移動
DW K55 D5050             ; 嵌合X軸  移動No.
CON
OUT @M26                 ; 嵌合X軸移動
MPP
ANF M5636                ; 嵌合X     P55移動
RES M5800                ; 嵌合X 移動完了
LD CR2002                ; 常時ON
MPS
LD B111C                 ; 嵌合X_Y2日検測定開始位置
AND R3308                ; 嵌合Z     上空位置
AND M5610                ; 嵌合各動作可
OR M5637                 ; 嵌合X     P59移動
ANB M5800                ; 嵌合X 移動完了
ANL
OUT M5637                ; 嵌合X     P59移動
DW K59 D5050             ; 嵌合X軸  移動No.
CON
OUT @M27                 ; 嵌合X軸移動
MPP
ANF M5637                ; 嵌合X     P59移動
RES M5800                ; 嵌合X 移動完了
LD CR2002                ; 常時ON
MPS
LD B111D                 ; 嵌合X_Y2日検測定終了位置
AND R3308                ; 嵌合Z     上空位置
AND M5610                ; 嵌合各動作可
OR M5638                 ; 嵌合X     P60移動
ANB M5800                ; 嵌合X 移動完了
ANL
OUT M5638                ; 嵌合X     P60移動
DW K60 D5050             ; 嵌合X軸  移動No.
CON
OUT @M28                 ; 嵌合X軸移動
MPP
ANF M5638                ; 嵌合X     P60移動
RES M5800                ; 嵌合X 移動完了
;Cover-Transfer Z
LD CR2002                ; 常時ON
MPS
LD B1105                 ; 嵌合Z 上空位置PB
AND M5609                ; 手動Z軸動作可
OR M5616                 ; 嵌合Z     P1移動
ANB M5810                ; 嵌合Z 移動完了
ANL
OUT M5616                ; 嵌合Z     P1移動
DW K1 D5051              ; 嵌合Z軸  移動No.
CON
OUT @M41                 ; 嵌合Z軸移動
MPP
ANF M5616                ; 嵌合Z     P1移動
RES M5810                ; 嵌合Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1106                 ; 嵌合Z 受取高さPB
LD= D111 K22             ; RCA2_Position No.
OR= D111 K21             ; RCA2_Position No.
ANL
AND M5609                ; 手動Z軸動作可
OR M5617                 ; 嵌合Z     P22移動
ANB M5810                ; 嵌合Z 移動完了
ANL
OUT M5617                ; 嵌合Z     P22移動
DW K22 D5051             ; 嵌合Z軸  移動No.
CON
OUT @M42                 ; 嵌合Z軸移動
MPP
ANF M5617                ; 嵌合Z     P22移動
RES M5810                ; 嵌合Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1107                 ; 嵌合Z 嵌合開始高さPB
AND= D111 K25            ; RCA2_Position No.
AND M5609                ; 手動Z軸動作可
OR M5618                 ; 嵌合Z     P25移動
ANB M5810                ; 嵌合Z 移動完了
ANL
OUT M5618                ; 嵌合Z     P25移動
DW K25 D5051             ; 嵌合Z軸  移動No.
CON
OUT @M43                 ; 嵌合Z軸移動
MPP
ANF M5618                ; 嵌合Z     P25移動
RES M5810                ; 嵌合Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1107                 ; 嵌合Z 嵌合開始高さPB
AND= D111 K35            ; RCA2_Position No.
AND M5609                ; 手動Z軸動作可
OR M5620                 ; 嵌合Z     P35移動
ANB M5810                ; 嵌合Z 移動完了
ANL
OUT M5620                ; 嵌合Z     P35移動
DW K35 D5051             ; 嵌合Z軸  移動No.
CON
OUT @M44                 ; 嵌合Z軸移動
MPP
ANF M5620                ; 嵌合Z     P35移動
RES M5810                ; 嵌合Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1108                 ; 嵌合Z 嵌合終了高さPB
AND= D111 K25            ; RCA2_Position No.
AND M5609                ; 手動Z軸動作可
OR M5619                 ; 嵌合Z     P26移動
ANB M5810                ; 嵌合Z 移動完了
ANL
OUT M5619                ; 嵌合Z     P26移動
DW K26 D5051             ; 嵌合Z軸  移動No.
CON
OUT @M45                 ; 嵌合Z軸移動
MPP
ANF M5619                ; 嵌合Z     P26移動
RES M5810                ; 嵌合Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1108                 ; 嵌合Z 嵌合終了高さPB
AND= D111 K35            ; RCA2_Position No.
AND M5609                ; 手動Z軸動作可
OR M5621                 ; 嵌合Z     P36移動
ANB M5810                ; 嵌合Z 移動完了
ANL
OUT M5621                ; 嵌合Z     P36移動
DW K36 D5051             ; 嵌合Z軸  移動No.
CON
OUT @M46                 ; 嵌合Z軸移動
MPP
ANF M5621                ; 嵌合Z     P36移動
RES M5810                ; 嵌合Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1116                 ; 嵌合Z Y1待機位置PB
AND M5609                ; 手動Z軸動作可
OR M5631                 ; 嵌合Z     P23移動
ANB M5810                ; 嵌合Z 移動完了
ANL
OUT M5631                ; 嵌合Z     P23移動
DW K23 D5051             ; 嵌合Z軸  移動No.
CON
OUT @M48                 ; 嵌合Z軸移動
MPP
ANF M5631                ; 嵌合Z     P23移動
RES M5810                ; 嵌合Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1117                 ; 嵌合Z Y2待機位置PB
AND M5609                ; 手動Z軸動作可
OR M5632                 ; 嵌合Z     P33移動
ANB M5810                ; 嵌合Z 移動完了
ANL
OUT M5632                ; 嵌合Z     P33移動
DW K33 D5051             ; 嵌合Z軸  移動No.
CON
OUT @M49                 ; 嵌合Z軸移動
MPP
ANF M5632                ; 嵌合Z     P33移動
RES M5810                ; 嵌合Z 移動完了
;CHUCK
LD L10                   ; 基板ASSY
MPS
LD B110A                 ; 嵌合ﾁｬｯｸ閉じ
AND M5610                ; 嵌合各動作可
OR M5640                 ; 嵌合Chuck  P1移動
ANB M5820                ; 嵌合ﾁｬｯｸ 移動完了
ANL
OUT M5640                ; 嵌合Chuck  P1移動
OUT @M66                 ; 嵌合ﾁｬｯｸ  Open
MPP
ANF M5640                ; 嵌合Chuck  P1移動
RES M5820                ; 嵌合ﾁｬｯｸ 移動完了
LD L10                   ; 基板ASSY
MPS
LD B110B                 ; 嵌合ﾁｬｯｸ開き
AND M5610                ; 嵌合各動作可
OR M5641                 ; 嵌合Chuck  P2移動
ANB M5820                ; 嵌合ﾁｬｯｸ 移動完了
ANL
OUT M5641                ; 嵌合Chuck  P2移動
OUT @M82                 ; 嵌合ﾁｬｯｸ  Close
MPP
ANF M5641                ; 嵌合Chuck  P2移動
RES M5820                ; 嵌合ﾁｬｯｸ 移動完了
;Assy Head adsorption
LDB L10                  ; 基板ASSY
MPS
ANP B110A                ; 嵌合ﾁｬｯｸ閉じ
MPS
ANB Y2470                ; 嵌合ﾍｯﾄﾞ吸着ON　●
OUT M5622                ; 嵌合ﾍｯﾄﾞ  吸着ON
MPP
AND Y2470                ; 嵌合ﾍｯﾄﾞ吸着ON　●
OUT M5623                ; 嵌合ﾍｯﾄﾞ  吸着OFF
MPP
ANP B110B                ; 嵌合ﾁｬｯｸ開き
MPS
ANB Y2471                ; 嵌合ﾍｯﾄﾞ破壊ON　●
OUT M5624                ; 嵌合ﾍｯﾄﾞ  破壊ON
MPP
AND Y2471                ; 嵌合ﾍｯﾄﾞ破壊ON　●
OUT M5625                ; 嵌合ﾍｯﾄﾞ  破壊OFF
;Assy Head adsorption manual OFF before Origin
LDB M103                 ; 原点復帰OK
ANB M96                  ; 原点復帰可能条件
ANB M97                  ; 原点復帰動作中
AND Y2470                ; 嵌合ﾍｯﾄﾞ吸着ON　●
AND B1018                ; 嵌合ﾍｯﾄﾞ吸着OFF PB
DIFU M5762               ; 嵌合ﾍｯﾄﾞ吸着OFF
OUT B1518                ; 嵌合ﾍｯﾄﾞ吸着OFF PB lamp
;Laser form measurement
LDP B1110                ; 塗布幅測定PB
AND M10929               ; LJ-G 測定可能
OR M5628                 ; 塗布幅測定
ANB M10935               ; LJ-G OK
ANB M10936               ; LJ-G NG
OUT M5628                ; 塗布幅測定
MCR
;<h1/>出力
;OUTPUT
LDB @M0                  ; 嵌合X軸移動
ANB @M1                  ; 嵌合X軸移動
ANB @M2                  ; 嵌合X軸移動
ANB @M3                  ; 嵌合X軸移動
ANB @M4                  ; 嵌合X軸移動
ANB @M5
ANB @M6                  ; 嵌合X軸移動
ANB @M7                  ; 嵌合X軸移動
ANB @M8                  ; 嵌合X軸移動
ANB @M9
ANB @M10                 ; 嵌合X軸移動
ANB @M11                 ; 嵌合X軸移動
ANB @M12                 ; 嵌合X軸移動
ANB @M13                 ; 嵌合X軸移動
ANB @M14                 ; 嵌合X軸移動
ANB @M15                 ; 嵌合X軸移動
ANB @M16                 ; 嵌合X軸移動
ANB @M17                 ; 嵌合X軸移動
ANB @M18                 ; 嵌合X軸移動
ANB @M19                 ; 嵌合X軸移動
ANB @M20                 ; 嵌合X軸移動
ANB @M21                 ; 嵌合X軸移動
ANB @M22                 ; 嵌合X軸移動
ANB @M23                 ; 嵌合X軸移動
ANB @M24                 ; 嵌合X軸移動
ANB @M25                 ; 嵌合X軸移動
ANB @M26                 ; 嵌合X軸移動
ANB @M27                 ; 嵌合X軸移動
ANB @M28                 ; 嵌合X軸移動
ANB @M29                 ; 嵌合X軸移動
INV
MCALL P_MOVE_S K2 D5050 M5801 M5800 M5802;嵌合X軸  移動No.  嵌合X 移動異常  嵌合X 移動完了  嵌合X 移動中
LDB @M30                 ; 嵌合Z軸移動
ANB @M31                 ; 嵌合Z軸移動
ANB @M32                 ; 嵌合Z軸移動
ANB @M33                 ; 嵌合Z軸移動
ANB @M34                 ; 嵌合Z軸移動
ANB @M35                 ; 嵌合Z軸移動
ANB @M36                 ; 嵌合Z軸移動
ANB @M37                 ; 嵌合Z軸移動
ANB @M38                 ; 嵌合Z軸移動
ANB @M39                 ; 嵌合Z軸移動
ANB @M40                 ; 嵌合Z軸移動
ANB @M41                 ; 嵌合Z軸移動
ANB @M42                 ; 嵌合Z軸移動
ANB @M43                 ; 嵌合Z軸移動
ANB @M44                 ; 嵌合Z軸移動
ANB @M45                 ; 嵌合Z軸移動
ANB @M46                 ; 嵌合Z軸移動
ANB @M47                 ; 嵌合Z軸移動
ANB @M48                 ; 嵌合Z軸移動
ANB @M49                 ; 嵌合Z軸移動
INV
MCALL P_MOVE_S K3 D5051 M5811 M5810 M5812;嵌合Z軸  移動No.  嵌合Z 移動異常  嵌合Z 移動完了  嵌合Z 移動中
LDB @M60                 ; 嵌合ﾁｬｯｸ  Open
ANB @M61                 ; 嵌合ﾁｬｯｸ  Open
ANB @M62                 ; 嵌合ﾁｬｯｸ  Open
ANB @M63                 ; 嵌合ﾁｬｯｸ  Open
ANB @M64                 ; 嵌合ﾁｬｯｸ  Open
ANB @M65                 ; 嵌合ﾁｬｯｸ  Open
ANB @M66                 ; 嵌合ﾁｬｯｸ  Open
INV
MCALL P_MOVE_S K4 K1 M5821 M5820 M5822;嵌合ﾁｬｯｸ 移動異常  嵌合ﾁｬｯｸ 移動完了  嵌合ﾁｬｯｸ 移動中
LDB @M80                 ; 嵌合ﾁｬｯｸ  Close
ANB @M81                 ; 嵌合ﾁｬｯｸ  Close
ANB @M82                 ; 嵌合ﾁｬｯｸ  Close
INV
MCALL P_CHUCK_S K4 K2 M5821 M5820 M5822 L20;嵌合ﾁｬｯｸ 移動異常  嵌合ﾁｬｯｸ 移動完了  嵌合ﾁｬｯｸ 移動中  嵌合ﾁｬｯｸ ﾜｰｸ有
;嵌合ﾍｯﾄﾞ吸着
;Assy head vauuming
LDP M5622                ; 嵌合ﾍｯﾄﾞ  吸着ON
ORP M5750                ; 嵌合ﾍｯﾄﾞ吸着ON
ORP M5752                ; 嵌合ﾍｯﾄﾞ吸着ON
ORP M5755                ; 嵌合ﾍｯﾄﾞ吸着ON
ORP M5760                ; 嵌合ﾍｯﾄﾞ吸着ON
ORP M5770                ; 嵌合ﾍｯﾄﾞ吸着ON
ORP M5780                ; 嵌合ﾍｯﾄﾞ吸着ON
OR M5700                 ; 嵌合ﾍｯﾄﾞ吸着ON補助
ANB M5701                ; 嵌合ﾍｯﾄﾞ吸着OFF補助
ANPB M5702               ; 嵌合ﾍｯﾄﾞ破壊ON補助
OUT M5700                ; 嵌合ﾍｯﾄﾞ吸着ON補助
LDB CR2002               ; 常時ON
FMOV K0 D600 K10         ; ﾌﾞｻﾞｰ呼応
LDP M5622                ; 嵌合ﾍｯﾄﾞ  吸着ON
@INC D600                ; ﾌﾞｻﾞｰ呼応
LDP M5750                ; 嵌合ﾍｯﾄﾞ吸着ON
@INC D601
LDP M5752                ; 嵌合ﾍｯﾄﾞ吸着ON
@INC D602
LDP M5755                ; 嵌合ﾍｯﾄﾞ吸着ON
@INC D603
LDP M5760                ; 嵌合ﾍｯﾄﾞ吸着ON
@INC D604
LDP M5770                ; 嵌合ﾍｯﾄﾞ吸着ON
@INC D605
LDP M5780                ; 嵌合ﾍｯﾄﾞ吸着ON
@INC D606
LDP M5623                ; 嵌合ﾍｯﾄﾞ  吸着OFF
ORP M5751                ; 嵌合ﾍｯﾄﾞ吸着OFF
ORP M5756                ; 嵌合ﾍｯﾄﾞ吸着OFF
ORP M5757                ; 嵌合ﾍｯﾄﾞ吸着OFF
ORP M5761                ; 嵌合ﾍｯﾄﾞ吸着OFF
ORP M5762                ; 嵌合ﾍｯﾄﾞ吸着OFF
ORP M5763                ; 嵌合ﾍｯﾄﾞ吸着OFF
ORP M5771                ; 嵌合ﾍｯﾄﾞ吸着OFF
ORP M5781                ; 嵌合ﾍｯﾄﾞ吸着OFF
ORP M5782                ; 嵌合ﾍｯﾄﾞ吸着OFF
OUT M5701                ; 嵌合ﾍｯﾄﾞ吸着OFF補助
LD M5700                 ; 嵌合ﾍｯﾄﾞ吸着ON補助
OR Y2470                 ; 嵌合ﾍｯﾄﾞ吸着ON　●
ANB Y2471                ; 嵌合ﾍｯﾄﾞ破壊ON　●
ANB M5702                ; 嵌合ﾍｯﾄﾞ破壊ON補助
ANB M5701                ; 嵌合ﾍｯﾄﾞ吸着OFF補助
OR M602                  ; 20121123ﾃﾞﾊﾞｯｸﾞ
OUT Y2470                ; 嵌合ﾍｯﾄﾞ吸着ON　●
LD Y2470                 ; 嵌合ﾍｯﾄﾞ吸着ON　●
ANB M97                  ; 原点復帰動作中
ANB M81                  ; 自動運転開始BZ
AND T502                 ; 嵌合ﾍｯﾄﾞ除材OK
TMR K541 K30             ; 吸着自動OFF判定時間
CON
AND T541                 ; 吸着自動OFF判定時間
OUT M5782                ; 嵌合ﾍｯﾄﾞ吸着OFF
;嵌合ﾍｯﾄﾞ真空破壊
;Assy head air release
LDP M5624                ; 嵌合ﾍｯﾄﾞ  破壊ON
ORP M5753                ; 嵌合ﾍｯﾄﾞ破壊ON
ORP M5758                ; 嵌合ﾍｯﾄﾞ破壊ON
ORP M5759                ; 嵌合ﾍｯﾄﾞ破壊ON
ORP M5768                ; 嵌合ﾍｯﾄﾞ破壊ON
ORP M5769                ; 嵌合ﾍｯﾄﾞ破壊ON
OR M5702                 ; 嵌合ﾍｯﾄﾞ破壊ON補助
ANB M5703                ; 嵌合ﾍｯﾄﾞ破壊OFF補助
ANPB M5700               ; 嵌合ﾍｯﾄﾞ吸着ON補助
OUT M5702                ; 嵌合ﾍｯﾄﾞ破壊ON補助
LDP M5625                ; 嵌合ﾍｯﾄﾞ  破壊OFF
ORP M5754                ; 嵌合ﾍｯﾄﾞ破壊OFF
OUT M5703                ; 嵌合ﾍｯﾄﾞ破壊OFF補助
LD M5702                 ; 嵌合ﾍｯﾄﾞ破壊ON補助
OUT Y2471                ; 嵌合ﾍｯﾄﾞ破壊ON　●
;<h1/>異常検出
;
LD CR2002                ; 常時ON
MPS
LD CR2003                ; 常時OFF
LDB B05A0
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0A0                 ; ﾕﾆｯﾄ5_異常1
ORL
ANL
OUT B0A0                 ; ﾕﾆｯﾄ5_異常1
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05A0
AND B0A0                 ; ﾕﾆｯﾄ5_異常1
ANL
OUT B05A0
LD CR2002                ; 常時ON
MPS
LDP X117F                ; ALARM ID2
LDB B05A1
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0A1                 ; 嵌合X軸_異常2
ORL
ANL
OUT B0A1                 ; 嵌合X軸_異常2
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05A1
AND B0A1                 ; 嵌合X軸_異常2
ANL
OUT B05A1
LD CR2002                ; 常時ON
MPS
LDP X118F                ; ALARM ID3
LDB B05A2
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0A2                 ; 嵌合Z軸_異常3
ORL
ANL
OUT B0A2                 ; 嵌合Z軸_異常3
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05A2
AND B0A2                 ; 嵌合Z軸_異常3
ANL
OUT B05A2
LD CR2002                ; 常時ON
MPS
LD M32                   ; 自動ﾓｰﾄﾞ
AND M5131                ; 測定終了待ち
AND M10936               ; LJ-G NG
LDB B05A3
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0A3                 ; Y1塗布幅_異常
ORL
ANL
OUT B0A3                 ; Y1塗布幅_異常
OUT M5975                ; Y1形状測定異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05A3
AND B0A3                 ; Y1塗布幅_異常
ANL
OUT B05A3
LD CR2002                ; 常時ON
MPS
LD M32                   ; 自動ﾓｰﾄﾞ
AND M5231                ; 測定終了待ち
AND M10936               ; LJ-G NG
LDB B05A4
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0A4                 ; Y2塗布幅_異常
ORL
ANL
OUT B0A4                 ; Y2塗布幅_異常
OUT M5981                ; Y2形状測定異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05A4
AND B0A4                 ; Y2塗布幅_異常
ANL
OUT B05A4
LD CR2002                ; 常時ON
MPS
LDP X119F                ; ALARM ID4
LDB B05A5
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0A5                 ; 嵌合ﾁｬｯｸｺﾝﾄﾛｰﾗ異常
ORL
AND L10                  ; 基板ASSY
ANL
OUT B0A5                 ; 嵌合ﾁｬｯｸｺﾝﾄﾛｰﾗ異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05A5
AND B0A5                 ; 嵌合ﾁｬｯｸｺﾝﾄﾛｰﾗ異常
ANL
OUT B05A5
LD M64                   ; 運転準備
AND> D5000 K49           ; ﾕﾆｯﾄ5自動運転ｽﾃｯﾌﾟ
ANB M71                  ; Error
AND Y2470                ; 嵌合ﾍｯﾄﾞ吸着ON　●
ANB Y2471                ; 嵌合ﾍｯﾄﾞ破壊ON　●
ANB T500                 ; 嵌合ﾍｯﾄﾞ吸着OK
TMR K540 K30             ; ﾜｰｸ保持異常検出時間
LD CR2002                ; 常時ON
MPS
LD T540                  ; ﾜｰｸ保持異常検出時間
LDB B05A6
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0A6                 ; ﾜｰｸ行方不明
ORL
ANL
OUT B0A6                 ; ﾜｰｸ行方不明
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05A6
AND B0A6                 ; ﾜｰｸ行方不明
ANL
OUT B05A6
LD M81                   ; 自動運転開始BZ
ANB M10929               ; LJ-G 測定可能
ANB M10970               ; データ書込み処理BUSY
TMR K590 K30             ; LJ-G応答無し
LD CR2002                ; 常時ON
MPS
LD T590                  ; LJ-G応答無し
LDB B05A7
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0A7                 ; LJ-G測定不能
ORL
ANL
OUT B0A7                 ; LJ-G測定不能
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05A7
AND B0A7                 ; LJ-G測定不能
ANL
OUT B05A7
LD CR2002                ; 常時ON
MPS
LD T594                  ; LJ-G 検査結果応答無し(Y1)
OR T595                  ; LJ-G 検査結果応答無し(Y2)
LDB B05A8
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0A8                 ; LJ-G動作異常
ORL
ANL
OUT B0A8                 ; LJ-G動作異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05A8
AND B0A8                 ; LJ-G動作異常
ANL
OUT B05A8
LD M10959                ; LJ-G ﾃﾞｰﾀ送信待ち
TMR K596 K10             ; LJ-Gﾃﾞｰﾀ未送信
LD CR2002                ; 常時ON
MPS
LD T596                  ; LJ-Gﾃﾞｰﾀ未送信
LDB B05A9
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0A9                 ; LJ-Gﾃﾞｰﾀ未送信
ORL
ANL
OUT B0A9                 ; LJ-Gﾃﾞｰﾀ未送信
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05A9
AND B0A9                 ; LJ-Gﾃﾞｰﾀ未送信
ANL
OUT B05A9
LD Y810                  ; Port1 通信許可
ANB X800                 ; Port1 通信可能
TMR K597 K50             ; LJ-G通信異常
LD CR2002                ; 常時ON
MPS
LD T597                  ; LJ-G通信異常
LDB B05AA
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0AA                 ; LJ-G通信異常
ORL
ANL
OUT B0AA                 ; LJ-G通信異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05AA
AND B0AA                 ; LJ-G通信異常
ANL
OUT B05AA
;異常ﾌﾞｻﾞｰまとめ
LD B0A0                  ; ﾕﾆｯﾄ5_異常1
ANB B05A0
LD B0A1                  ; 嵌合X軸_異常2
ANB B05A1
ORL
LD B0A2                  ; 嵌合Z軸_異常3
ANB B05A2
ORL
LD B0A3                  ; Y1塗布幅_異常
ANB B05A3
ORL
LD B0A4                  ; Y2塗布幅_異常
ANB B05A4
ORL
LD B0A5                  ; 嵌合ﾁｬｯｸｺﾝﾄﾛｰﾗ異常
ANB B05A5
ORL
LD B0A6                  ; ﾜｰｸ行方不明
ANB B05A6
ORL
LD B0A7                  ; LJ-G測定不能
ANB B05A7
ORL
LD B0A8                  ; LJ-G動作異常
ANB B05A8
ORL
LD B0A9                  ; LJ-Gﾃﾞｰﾀ未送信
ANB B05A9
ORL
LD B0AA                  ; LJ-G通信異常
ANB B05AA
ORL
OUT M5909                ; ﾕﾆｯﾄ5異常BZ補助
END
ENDH
