DEVICE:53
;MODULE:U1_メイン
;MODULE_TYPE:0
;SCRIPT_TYPE:
;□□　　ダミー接点　　□□
LD CR2003                ; 常時OFF
OUT M0                   ; 常時OFF
LD CR3905                ; 重度ｴﾗｰ発生中
INV
OUT M1                   ; CPU正常
LD CR2008                ; 運転開始時1ｽｷｬﾝON
OUT M2                   ; 1ｽｷｬﾝON
LD CR2002                ; 常時ON
FLIK K5 K25 M150         ; ﾌﾞｻﾞｰ音程1
LD CR2002                ; 常時ON
FLIK K10 K5 M151         ; ﾌﾞｻﾞｰ音程2
LD CR2002                ; 常時ON
FLIK K1000 K5 M152       ; ｲﾝﾀｰﾛｯｸ解除音程
LD CR2002                ; 常時ON
FLIK K20 K20 M153        ; 0.2Sｸﾛｯｸ
;ｵﾌﾗｲﾝﾓｰﾄﾞ
LD B1005                 ; ｸﾞﾛｰﾊﾞﾙﾌｧﾝｸｼｮﾝSW(F4)
TMR K90 K50              ; ONﾃﾞｨﾚｲﾀｲﾏ
LDF T90                  ; ONﾃﾞｨﾚｲﾀｲﾏ
OFDL K300 M170           ; OFFﾗｲﾝﾓｰﾄﾞ移行可能ﾌﾗｸﾞ
LD M3                    ; OFFLINE_MODE
ANP B1005                ; ｸﾞﾛｰﾊﾞﾙﾌｧﾝｸｼｮﾝSW(F4)
RES M3                   ; OFFLINE_MODE
LD M170                  ; OFFﾗｲﾝﾓｰﾄﾞ移行可能ﾌﾗｸﾞ
ANB M3                   ; OFFLINE_MODE
ANP B1005                ; ｸﾞﾛｰﾊﾞﾙﾌｧﾝｸｼｮﾝSW(F4)
SET M3                   ; OFFLINE_MODE
;<h1/>□_安全関連入力受け
;安全系の入力は一旦ここで受ける。
LD X03                   ; 圧空元圧正常
OUT M120                 ; 圧空正常
LD X01                   ; 非常停止正常
OUT M121                 ; 非常停止正常
LD CR2002                ; 常時ON
OUT M122                 ; 外部非常停止正常
LD X02                   ; 安全扉正常
OUT M123                 ; 安全扉正常
LD X04                   ; 除材部ﾗｲﾄｶｰﾃﾝOUT1
AND X05                  ; 除材部ﾗｲﾄｶｰﾃﾝOUT2
MPS
TMR K11 K5               ; ﾗｲﾄｶｰﾃﾝONﾃﾞｨﾚｲ時間
MPP
AND T11                  ; ﾗｲﾄｶｰﾃﾝONﾃﾞｨﾚｲ時間
OUT M124                 ; ｴﾘｱｾﾝｻ正常
;<h1/>□_スイッチ変換
;操作系の入力は一旦ここで受ける。
LD B1016                 ; DRY_RUN_PB
OUT M7                   ; 空運転PB
LD B1001                 ; 自動/手動PB
OUT M10                  ; 自動/手動PB
;今回は運転準備PB無し装置電源入で常時ON
LD X0A                   ; 動力電源ON(ｷｰSW)
OUT M12                  ; 運転準備入PB
LD CR2003                ; 常時OFF
OUT M13                  ; 運転準備切PB
LD B1010                 ; ﾌﾞｻﾞｰ停止PB
OUT M15                  ; ﾌﾞｻﾞｰ停止PB
LD B1011                 ; ｴﾗｰﾘｾｯﾄPB
OUT M16                  ; ﾘｾｯﾄPB
LD B1000                 ; 原点復帰PB
OUT M17                  ; 原点復帰PB
LD B1002                 ; ｽﾀｰﾄPB
AND X02                  ; 安全扉正常
OUT M18                  ; 起動PB
LD B1003                 ; ｻｲｸﾙ停止PB
TMR K15 K50              ; 強制停止
OUT M19                  ; ｻｲｸﾙ停止PB
LD B1004                 ; 全ﾜｰｸ払出停止PB
OUT M20                  ; 全ﾜｰｸ払出停止PB
;<h1/>□_各モード選択
;自動・手動モード
LDP M10                  ; 自動/手動PB
AND M33                  ; 自動ﾓｰﾄﾞ切替・起動可条件
ANB M30                  ; 自動ﾓｰﾄﾞ
MEP
LD M30                   ; 自動ﾓｰﾄﾞ
ANPB M31                 ; 手動ﾓｰﾄﾞ
ORL
AND M50                  ; 運転準備
OUT M30                  ; 自動ﾓｰﾄﾞ
LDP M10                  ; 自動/手動PB
ANB M31                  ; 手動ﾓｰﾄﾞ
ANB M41                  ; 全ﾕﾆｯﾄ起動中
MEP
OR T49                   ; 自動終了時手動移行確認
OR CR2008                ; 運転開始時1ｽｷｬﾝON
LD M31                   ; 手動ﾓｰﾄﾞ
ANPB M30                 ; 自動ﾓｰﾄﾞ
ORL
ANB M71                  ; 自動運転開始BZ
OUT M31                  ; 手動ﾓｰﾄﾞ
LDB M40                  ; 全ﾕﾆｯﾄ原点
ANB M71                  ; 自動運転開始BZ
ORB M33                  ; 自動ﾓｰﾄﾞ切替・起動可条件
ANB M41                  ; 全ﾕﾆｯﾄ起動中
TMR K49 K10              ; 自動終了時手動移行確認
;この手動操作可条件はメインのみの条件
;ユニット毎に必要な条件は各ユニットへ追加する
LDB M72                  ; 自動運転開始
AND M120                 ; 圧空正常
AND M121                 ; 非常停止正常
AND M122                 ; 外部非常停止正常
LD M123                  ; 安全扉正常
AND Y51                  ; 安全扉ﾛｯｸ
OR M37                   ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
ANL
AND M50                  ; 運転準備
OUT M32                  ; ﾒｲﾝ手動操作可能条件
LD M40                   ; 全ﾕﾆｯﾄ原点
AND M2994                ; ｺｰﾃｨﾝｸﾞ部準備OK
AND M50                  ; 運転準備
OUT M33                  ; 自動ﾓｰﾄﾞ切替・起動可条件
;空運転､払出モードは必要に応じて使用
LD M7                    ; 空運転PB
AND B1011                ; ｴﾗｰﾘｾｯﾄPB
TMR K34 K50              ; 空運転ﾓｰﾄﾞONﾃﾞｨﾚｲ
LDB M35                  ; 空運転ﾓｰﾄﾞ
ANB M41                  ; 全ﾕﾆｯﾄ起動中
ANP T34                  ; 空運転ﾓｰﾄﾞONﾃﾞｨﾚｲ
LD M35                   ; 空運転ﾓｰﾄﾞ
ANPB T34                 ; 空運転ﾓｰﾄﾞONﾃﾞｨﾚｲ
ORL
OUT M35                  ; 空運転ﾓｰﾄﾞ
LDP M19                  ; ｻｲｸﾙ停止PB
OR M3460                 ; 基板待ちﾀｲﾑｱｯﾌﾟ自動運転停止ﾌﾗｸﾞ
OR M59                   ; 払出停止異常まとめ
OR M61                   ; 自動起動停止指令(ｻｲｸﾙ停止)
ANB M130                 ; 一時停止
ANB M36                  ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
LD M36                   ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
OR M190                  ; 全ﾜｰｸ払出停止指令
LDPB M18                 ; 起動PB
OR M59                   ; 払出停止異常まとめ
OR M191                  ; 収納部ﾗｯｸ&ﾜｰｸ無確認
ANL
ORL
LD M41                   ; 全ﾕﾆｯﾄ起動中
OR M71                   ; 自動運転開始BZ
ANL
OUT M36                  ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
LDP M20                  ; 全ﾜｰｸ払出停止PB
OR M62                   ; 全ﾜｰｸ払出停止異常
ANB M130                 ; 一時停止
ANB M36                  ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
ANB M190                 ; 全ﾜｰｸ払出停止指令
LD M190                  ; 全ﾜｰｸ払出停止指令
LDPB M18                 ; 起動PB
OR M62                   ; 全ﾜｰｸ払出停止異常
OR M191                  ; 収納部ﾗｯｸ&ﾜｰｸ無確認
ANL
ORL
LD M41                   ; 全ﾕﾆｯﾄ起動中
OR M71                   ; 自動運転開始BZ
ANL
OUT M190                 ; 全ﾜｰｸ払出停止指令
LD= D3400 K0             ; 収納ﾗｯｸ内基板有無ｶｳﾝﾄ確認
AND M1993                ; ﾜｰｸ投入部払出完了
AND M2493                ; 基板反転&搬送払出完了
AND= D2112 K0            ; ﾊﾞｯﾌｧ部_基板有無記憶(1=有)
AND= D2612 K0            ; 塗布部_基板有無記憶(1=有)
AND= D3112 K0            ; 収納ﾘﾌﾄ_基板有無記憶(1=有)
AND<> D3450 K0           ; 収納ﾗｯｸ運転停止時間設定値
LD M3040                 ; S040_基板供給待ち
AND M3381                ; 収納ﾗｯｸ内基板有り&前工程基板無し
ANB M3909                ; 乾燥炉ｽﾄｯﾊﾟｰ1(投入側)ﾗｯｸ有確認
ORL
OR M191                  ; 収納部ﾗｯｸ&ﾜｰｸ無確認
AND M190                 ; 全ﾜｰｸ払出停止指令
OUT M191                 ; 収納部ﾗｯｸ&ﾜｰｸ無確認
LD M191                  ; 収納部ﾗｯｸ&ﾜｰｸ無確認
ANP M19                  ; ｻｲｸﾙ停止PB
OR M192                  ; ﾛｯﾄ切替用ｻｲｸﾙ停止指令
AND M190                 ; 全ﾜｰｸ払出停止指令
OUT M192                 ; ﾛｯﾄ切替用ｻｲｸﾙ停止指令
;ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
LD B1015                 ; ｲﾝﾀｰﾛｯｸｷｬﾝｾﾙPB
AND B1011                ; ｴﾗｰﾘｾｯﾄPB
LD B1010                 ; ﾌﾞｻﾞｰ停止PB
AND B1011                ; ｴﾗｰﾘｾｯﾄPB
ORL
TMR K35 K50              ; ｲﾝﾀｰﾛｯｸ解除ONﾃﾞｨﾚｲ
LDP T35                  ; ｲﾝﾀｰﾛｯｸ解除ONﾃﾞｨﾚｲ
ANB M37                  ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
LDPB T35                 ; ｲﾝﾀｰﾛｯｸ解除ONﾃﾞｨﾚｲ
AND M37                  ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
ORL
ANB M41                  ; 全ﾕﾆｯﾄ起動中
AND M31                  ; 手動ﾓｰﾄﾞ
ANB M42                  ; 全ﾕﾆｯﾄ原点復帰中
ANB B1000                ; 原点復帰PB
OUT M37                  ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
;<h1/>□_装置状態集約
;■装置原点
LD M1980                 ; ﾕﾆｯﾄ2原点
AND M2480                ; ﾕﾆｯﾄ3原点
AND M2980                ; ﾕﾆｯﾄ4原点
AND M3480                ; ﾕﾆｯﾄ5原点
AND M3980                ; ﾕﾆｯﾄ6原点
AND M4480                ; ﾕﾆｯﾄ7原点
AND M5480                ; ﾕﾆｯﾄ9原点
AND M88                  ; 基板、ﾗｯｸ排出中記憶無し確認
AND M90                  ; 基板有無記憶　無し状態
OUT M40                  ; 全ﾕﾆｯﾄ原点
;■起動中
LDB M1985                ; ﾕﾆｯﾄ2起動中
ANB M2485                ; ﾕﾆｯﾄ3起動中
ANB M2985                ; ﾕﾆｯﾄ4起動中
ANB M3485                ; ﾕﾆｯﾄ5起動中
ANB M3985                ; ﾕﾆｯﾄ6起動中
ANB M4485                ; ﾕﾆｯﾄ7起動中
ANB M5485                ; ﾕﾆｯﾄ9起動中
INV
OUT M41                  ; 全ﾕﾆｯﾄ起動中
;■原点復帰中
LDB M1984                ; ﾕﾆｯﾄ2原点復帰中
ANB M2484                ; ﾕﾆｯﾄ3原点復帰中
ANB M2984                ; ﾕﾆｯﾄ4原点復帰中
ANB M3484                ; ﾕﾆｯﾄ5原点復帰中
ANB M3984                ; ﾕﾆｯﾄ6原点復帰中
ANB M4484                ; ﾕﾆｯﾄ7原点復帰中
ANB M5484                ; ﾕﾆｯﾄ9原点復帰中
INV
OUT M42                  ; 全ﾕﾆｯﾄ原点復帰中
;■ﾛﾎﾞｯﾄ準備完了
LD M1990                 ; ﾕﾆｯﾄ2機器準備完了
AND M2490                ; ﾕﾆｯﾄ3機器準備完了
AND M2990                ; ﾕﾆｯﾄ4機器準備完了
AND M3490                ; ﾕﾆｯﾄ5機器準備完了
AND M3990                ; ﾕﾆｯﾄ6機器準備完了
AND M4490                ; ﾕﾆｯﾄ7機器準備完了
AND M5490                ; ﾕﾆｯﾄ9機器準備完了
OUT M43                  ; ｲﾆｼｬﾗｲｽﾞ完了ﾌﾗｸﾞ
;<h1/>□_運転準備
LD CR2007                ; 運転開始時1ｽｷｬﾝOFF
TMR K0 K20               ; 電源投入ONﾃﾞｨﾚｲ
CON
TMR K1 K70               ; ﾒｲﾝ画面切替時間
LD T1                    ; ﾒｲﾝ画面切替時間
AND M12                  ; 運転準備入PB
ANB M13                  ; 運転準備切PB
ANB M51                  ; 即停止異常(緊急停止)
OUT M5                   ; 運転準備補助
LD M5                    ; 運転準備補助
OUT M50                  ; 運転準備
LD M50                   ; 運転準備
TMR K91 K10              ; 運転準備ON_1s
CON
TMR K92 K20              ; 運転準備ON_2s
CON
TMR K93 K30              ; 運転準備ON_3s
CON
TMR K94 K40              ; 運転準備ON_4s
CON
TMR K95 K50              ; 運転準備ON_5s
CON
TMR K96 K60              ; 運転準備ON_6s
CON
TMR K97 K70              ; 運転準備ON_7s
CON
TMR K98 K80              ; 運転準備ON_8s
CON
TMR K99 K90              ; 運転準備ON_9s
;<h1/>□_異常検出まとめ
;■即停止異常(全ﾕﾆｯﾄ即停止)
;緊急停止異常まとめ
LDB M1991                ; ﾕﾆｯﾄ2即停止異常発生
ANB M2491                ; ﾕﾆｯﾄ3即停止異常発生
ANB M2991                ; ﾕﾆｯﾄ4即停止異常発生
ANB M3491                ; ﾕﾆｯﾄ5即停止異常発生
ANB M3991                ; ﾕﾆｯﾄ6即停止異常発生
ANB M4491                ; ﾕﾆｯﾄ7即停止異常発生
ANB M5491                ; ﾕﾆｯﾄ9即停止異常発生
INV
OUT M58                  ; 非常停止異常まとめ
LDB B01                  ; 非常停止異常
ANB B02                  ; 圧空低下異常
ANB B03                  ; 安全扉開異常
ANB B04                  ; 原点復帰ｻｲｸﾙﾀｲﾑｵｰﾊﾞｰ
ANB B05                  ; 外部非常停止
ANB B06                  ; PLC異常
ANB B07                  ; ﾘﾝｸ異常
ANB M58                  ; 非常停止異常まとめ
ANB B0E
ANB B010                 ; ｻﾌﾞTP非常停止SW　ON異常
ANB B011                 ; MAIN TP非常停止SW　ON異常
ANB B012                 ; ｺｰﾃｨﾝｸﾞ非常停止SW　ON異常
ANB B013                 ; 排出部非常停止SW　ON異常
ANB B014                 ; RB非常停止ON異常
ANB B017                 ; 搬送ﾚｰﾙID設定異常
ANB B018                 ; 塗布PrgNO.設定異常
ANB B019                 ; ﾗｯｸID設定異常
ANB B0A7                 ; RB8移動中収納ﾗｯｸ基板はみだし異常
ANB B0ED                 ; RB9移動中排出ﾗｯｸ基板はみだし異常
ANB M13481               ; U25即停止異常
INV
OUT M51                  ; 即停止異常(緊急停止)
;■ﾕﾆｯﾄ異常検出(該当ﾕﾆｯﾄ以外ｻｲｸﾙ停止)
LDB M1986                ; ﾕﾆｯﾄ2ｻｲｸﾙ停止異常
ANB M2486                ; ﾕﾆｯﾄ3ｻｲｸﾙ停止異常
ANB M2986                ; ﾕﾆｯﾄ4ｻｲｸﾙ停止異常
ANB M3486                ; ﾕﾆｯﾄ5ｻｲｸﾙ停止異常
ANB M3986                ; ﾕﾆｯﾄ6ｻｲｸﾙ停止異常
ANB M4486                ; ﾕﾆｯﾄ7ｻｲｸﾙ停止異常
ANB M5486                ; ﾕﾆｯﾄ9ｻｲｸﾙ停止異常
INV
OUT M52                  ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
;■ﾕﾆｯﾄ毎各種警報検出(ﾜｰｸ不足･ｵﾍﾟｺｰﾙ等)
LDB M1988                ; ﾕﾆｯﾄ2警報補助
ANB M2488                ; ﾕﾆｯﾄ3警報補助
ANB M2988                ; ﾕﾆｯﾄ4警報補助
ANB M3488                ; ﾕﾆｯﾄ5警報補助
ANB M3988                ; ﾕﾆｯﾄ6警報補助
ANB M4488                ; ﾕﾆｯﾄ7警報補助
ANB M5488                ; ﾕﾆｯﾄ9警報補助
ANB M13491               ; U25警報
INV
OUT M53                  ; 警報(ﾜｰｸ不足等)
;□□　　自動運転停止指令(ｻｲｸﾙ停止)　　□□
LD M52                   ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
OR T15                   ; 強制停止
OR M57                   ; 自動起動停止指令(払出停止)
OR M61                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M72                  ; 自動運転開始
ANB M56                  ; 自動起動停止指令(ｻｲｸﾙ停止)
OUT M61                  ; 自動起動停止指令(ｻｲｸﾙ停止)
LD M61                   ; 自動起動停止指令(ｻｲｸﾙ停止)
ANB M41                  ; 全ﾕﾆｯﾄ起動中
OUT M56                  ; 自動起動停止指令(ｻｲｸﾙ停止)
;□□　　払出完了運転停止指令(ｻｲｸﾙ停止)　　□□
LD M36                   ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
AND M1993                ; ﾜｰｸ投入部払出完了
AND M2493                ; 基板反転&搬送払出完了
AND M2993                ; 塗布RB部払出終了完了
AND M3493                ; 収納ﾘﾌﾀｰ払出停止完了
AND M3993                ; 乾燥炉払出停止
AND M4493                ; 排出ﾘﾌﾀｰ払出完了
AND M5493                ; ﾘﾀｰﾝCV払出完了
AND M1992                ; ﾕﾆｯﾄ2動作無し確認
AND M2492                ; ﾕﾆｯﾄ3動作無し確認
AND M2992                ; ﾕﾆｯﾄ4動作無し確認
AND M3492                ; ﾕﾆｯﾄ5動作無し確認
AND M3992                ; ﾕﾆｯﾄ6動作無し確認
AND M4492                ; ﾕﾆｯﾄ7動作無し確認
AND M5492                ; ﾕﾆｯﾄ9動作無し確認
OUT M57                  ; 自動起動停止指令(払出停止)
;<h1/>  ▼_ 異常検出まとめ
;払出停止異常まとめ
LDB M1987                ; ﾕﾆｯﾄ2払出停止異常
ANB M2487                ; ﾕﾆｯﾄ3払出停止異常
ANB M2987                ; ﾕﾆｯﾄ4払出停止異常
ANB M3487                ; ﾕﾆｯﾄ5払出停止異常
ANB M3987                ; ﾕﾆｯﾄ6払出停止異常
ANB M4487                ; ﾕﾆｯﾄ7払出停止異常
ANB M5487                ; ﾕﾆｯﾄ9払出停止異常
INV
LD M59                   ; 払出停止異常まとめ
AND M73                  ; 主幹起動指令
ORL
OUT M59                  ; 払出停止異常まとめ
;装置内の全ﾜｰｸ_払出後停止異常
LDB B095                 ; 樹脂量下限値異常
INV
LD M62                   ; 全ﾜｰｸ払出停止異常
AND M73                  ; 主幹起動指令
ORL
OUT M62                  ; 全ﾜｰｸ払出停止異常
;■各ﾕﾆｯﾄｴﾗｰ検出
LDB B08                  ; PLCﾊﾞｯﾃﾘ低下
ANB B0A                  ; 原点未完ﾓｰﾄﾞ切替不可異常
ANB M1981                ; ﾕﾆｯﾄ2ｴﾗｰ
ANB M2481                ; ﾕﾆｯﾄ3ｴﾗｰ
ANB M2981                ; ﾕﾆｯﾄ4ｴﾗｰ
ANB M3481                ; ﾕﾆｯﾄ5ｴﾗｰ
ANB M3981                ; ﾕﾆｯﾄ6ｴﾗｰ
ANB M4481                ; ﾕﾆｯﾄ7ｴﾗｰ
ANB M5481                ; ﾕﾆｯﾄ9ｴﾗｰ
INV
OUT M60                  ; ｴﾗｰ発生
;<h1/>  ▼_一時停止処理
;アラーム発生時に使用
LD M72                   ; 自動運転開始
OR M41                   ; 全ﾕﾆｯﾄ起動中
ANB M149                 ; 一時停止処理終了
ANB M133                 ; 一時停止　ｷｬﾝｾﾙ
MC
LDP B1012                ; 一時停止PB
ANB M18                  ; 起動PB
OR M130                  ; 一時停止
OUT M130                 ; 一時停止
LD M1992                 ; ﾕﾆｯﾄ2動作無し確認
AND M2492                ; ﾕﾆｯﾄ3動作無し確認
AND M2992                ; ﾕﾆｯﾄ4動作無し確認
AND M3492                ; ﾕﾆｯﾄ5動作無し確認
AND M3992                ; ﾕﾆｯﾄ6動作無し確認
AND M4492                ; ﾕﾆｯﾄ7動作無し確認
AND M5492                ; ﾕﾆｯﾄ9動作無し確認
OUB M131                 ; PACK中
LD M130                  ; 一時停止
OR M132                  ; 全ﾕﾆｯﾄ停止OK
OR M133                  ; 一時停止　ｷｬﾝｾﾙ
MPS
LDB M133                 ; 一時停止　ｷｬﾝｾﾙ
ANB M131                 ; PACK中
ANL
OUT M132                 ; 全ﾕﾆｯﾄ停止OK
MPP
LDB M132                 ; 全ﾕﾆｯﾄ停止OK
AND M131                 ; PACK中
ANP B1002                ; ｽﾀｰﾄPB
ANL
OUT M133                 ; 一時停止　ｷｬﾝｾﾙ
LD M132                  ; 全ﾕﾆｯﾄ停止OK
OR M140                  ; 一時停止中_ﾄﾞｱﾛｯｸ開
ANB M141                 ; ﾄﾞｱ閉確認
OUT M140                 ; 一時停止中_ﾄﾞｱﾛｯｸ開
LD M140                  ; 一時停止中_ﾄﾞｱﾛｯｸ開
AND X02                  ; 安全扉正常
ANP B1002                ; ｽﾀｰﾄPB
OR M141                  ; ﾄﾞｱ閉確認
OUT M141                 ; ﾄﾞｱ閉確認
LD M141                  ; ﾄﾞｱ閉確認
AND X02                  ; 安全扉正常
AND Y51                  ; 安全扉ﾛｯｸ
OR M148                  ; 状態復帰完了
OUT M148                 ; 状態復帰完了
LD M148                  ; 状態復帰完了
OR M149                  ; 一時停止処理終了
OUT M149                 ; 一時停止処理終了
MCR
;<h1/>□_自動起動回路
LDB B15FF                ; 日常点検_塗布幅OK判定PL
ANB M161                 ; 日常点検ｽﾙｰ中PL
INV
OUT M160                 ; 日常点検完了記憶
LD B1016                 ; DRY_RUN_PB
AND B1020                ; 日常点検無視SW
OR M161                  ; 日常点検ｽﾙｰ中PL
ANPB B1020               ; 日常点検無視SW
TMR K5 K50               ; ONﾃﾞｨﾚｲﾀｲﾏ
CON
AND T5                   ; ONﾃﾞｨﾚｲﾀｲﾏ
OUT M161                 ; 日常点検ｽﾙｰ中PL
LD M30                   ; 自動ﾓｰﾄﾞ
AND M33                  ; 自動ﾓｰﾄﾞ切替・起動可条件
AND M40                  ; 全ﾕﾆｯﾄ原点
ANB M41                  ; 全ﾕﾆｯﾄ起動中
ANB M42                  ; 全ﾕﾆｯﾄ原点復帰中
AND M43                  ; ｲﾆｼｬﾗｲｽﾞ完了ﾌﾗｸﾞ
AND M50                  ; 運転準備
ANB M52                  ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
AND M2994                ; ｺｰﾃｨﾝｸﾞ部準備OK
AND M89                  ; 搬送部基板無し確認
AND M160                 ; 日常点検完了記憶
OUT M70                  ; 自動起動条件
LDP M18                  ; 起動PB
AND M70                  ; 自動起動条件
ANB M71                  ; 自動運転開始BZ
OR M75                   ; 自動運転開始PCﾁｪｯｸ開始
AND M50                  ; 運転準備
ANB M76                  ; PCより起動不可ON
ANB M51                  ; 即停止異常(緊急停止)
ANB M56                  ; 自動起動停止指令(ｻｲｸﾙ停止)
MPS
OUT M75                  ; 自動運転開始PCﾁｪｯｸ開始
MPP
LDB M71                  ; 自動運転開始BZ
ANB M3                   ; OFFLINE_MODE
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
OUT W0100.6              ; 起動確認
LD M75                   ; 自動運転開始PCﾁｪｯｸ開始
ANB W00.6                ; 起動可能
AND W00.5                ; 起動確認完了
ANB M3                   ; OFFLINE_MODE
ANB M35                  ; 空運転ﾓｰﾄﾞ
OUT M76                  ; PCより起動不可ON
LD W00.6                 ; 起動可能
AND W00.5                ; 起動確認完了
OR M3                    ; OFFLINE_MODE
OR M35                   ; 空運転ﾓｰﾄﾞ
AND M75                  ; 自動運転開始PCﾁｪｯｸ開始
OUT M77                  ; PCより起動可能ON
LD M75                   ; 自動運転開始PCﾁｪｯｸ開始
AND M77                  ; PCより起動可能ON
OR M71                   ; 自動運転開始BZ
AND M75                  ; 自動運転開始PCﾁｪｯｸ開始
OUT M71                  ; 自動運転開始BZ
LDB M71                  ; 自動運転開始BZ
MOV K0 D10               ; 起動時ﾌﾞｻﾞｰｶｳﾝﾄ
;起動時ﾌﾞｻﾞｰ
LD M71                   ; 自動運転開始BZ
AND> K3 D10              ; 起動時ﾌﾞｻﾞｰｶｳﾝﾄ
MPS
ANB T21                  ; 自動起動ﾃﾞｨﾚｲ
TMR K20 K10              ; 起動前BZ_ONﾀｲﾏ
MPP
AND T20                  ; 起動前BZ_ONﾀｲﾏ
TMR K21 K5               ; 自動起動ﾃﾞｨﾚｲ
@CAL+ D10 K1 D10         ; 起動時ﾌﾞｻﾞｰｶｳﾝﾄ  起動時ﾌﾞｻﾞｰｶｳﾝﾄ
LD= D10 K3               ; 起動時ﾌﾞｻﾞｰｶｳﾝﾄ
OUT M72                  ; 自動運転開始
LD M72                   ; 自動運転開始
OUT M73                  ; 主幹起動指令
;<h1/>□_原点復帰回路
LD= D2130 K0             ; 基板収納RB4基板収納中記憶
AND= D3130 K0            ; 乾燥炉へﾗｯｸ排出中記憶
AND= D3630 K0            ; 乾燥炉２ﾗｯｸ排出中記憶
AND= D4130 K0            ; 排出ﾌﾟｯｼｬｰRB7基板排出動作中記憶
AND= D4140 K0            ; 排出ﾘﾌﾀ ﾘﾀｰﾝCVへ排出中記憶
AND= D5130 K0            ; ﾘﾀｰﾝCV→収納ﾘﾌﾄへﾗｯｸ排出中記憶
OUT M88                  ; 基板、ﾗｯｸ排出中記憶無し確認
LDB X1352                ; 基板投入/振動部ﾜｰｸ確認(ON有)
ANB X1353                ; 中間ﾊﾞｯﾌｧﾜｰｸ確認
ANB X1340                ; ｺｰﾃｨﾝｸﾞ部ﾜｰｸ確認
AND X1345                ; 搬送部基板確認(ON:無)
OUT M89                  ; 搬送部基板無し確認
LD= D1612 K0             ; 投入部_基板有無記憶(1=有)
AND= D2112 K0            ; ﾊﾞｯﾌｧ部_基板有無記憶(1=有)
AND= D2612 K0            ; 塗布部_基板有無記憶(1=有)
OUT M90                  ; 基板有無記憶　無し状態
LDB M3909                ; 乾燥炉ｽﾄｯﾊﾟｰ1(投入側)ﾗｯｸ有確認
OR M3906                 ; 乾燥炉ｽﾄｯﾊﾟｰ1上昇端
LDB M3910                ; 乾燥炉ｽﾄｯﾊﾟｰ2ﾗｯｸ有確認
OR M3908                 ; 乾燥炉ｽﾄｯﾊﾟｰ2上昇端
ANL
LDB M5405                ; ﾘﾀｰﾝCVｴｽｹｰﾌﾟ通過確認
OR M5401                 ; ﾘﾀｰﾝCVｴｽｹﾌﾟ上昇端
ANL
LDB M5406                ; ﾘﾀｰﾝCVｽﾄｯﾊﾟｰ到着確認
OR M5404                 ; ﾘﾀｰﾝCVｽﾄｯﾊﾟｰ上昇端
ANL
OUT M78                  ; 乾燥炉、ﾘﾀｰﾝCVｽﾄｯﾊﾟｰ原点復帰可
LD= D2130 K0             ; 基板収納RB4基板収納中記憶
AND= D3130 K0            ; 乾燥炉へﾗｯｸ排出中記憶
AND= D3630 K0            ; 乾燥炉２ﾗｯｸ排出中記憶
AND= D3640 K0            ; 乾燥炉内ﾗｯｸ移動中
AND= D4130 K0            ; 排出ﾌﾟｯｼｬｰRB7基板排出動作中記憶
AND= D4140 K0            ; 排出ﾘﾌﾀ ﾘﾀｰﾝCVへ排出中記憶
AND= D5130 K0            ; ﾘﾀｰﾝCV→収納ﾘﾌﾄへﾗｯｸ排出中記憶
AND= D5140 K0            ; ﾘﾀｰﾝCV内ﾗｯｸ移動中
OUT M79                  ; 排出動作中OFF確認
LDB M72                  ; 自動運転開始
ANB M41                  ; 全ﾕﾆｯﾄ起動中
ANB M42                  ; 全ﾕﾆｯﾄ原点復帰中
AND M43                  ; ｲﾆｼｬﾗｲｽﾞ完了ﾌﾗｸﾞ
AND M50                  ; 運転準備
ANB M51                  ; 即停止異常(緊急停止)
ANB M52                  ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
ANB M60                  ; ｴﾗｰ発生
AND M31                  ; 手動ﾓｰﾄﾞ
AND X02                  ; 安全扉正常
ANB M37                  ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
AND M88                  ; 基板、ﾗｯｸ排出中記憶無し確認
AND M79                  ; 排出動作中OFF確認
OUT M80                  ; 原点復帰可能条件
LD M17                   ; 原点復帰PB
AND M80                  ; 原点復帰可能条件
OR M81                   ; 原点復帰動作中
ANB M86                  ; 装置全原点確認
ANB M51                  ; 即停止異常(緊急停止)
ANB M52                  ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
ANB M60                  ; ｴﾗｰ発生
ANB T15                  ; 強制停止
OUT M81                  ; 原点復帰動作中
MPS
TMR K22 K5               ; 原点復帰開始ﾃﾞｨﾚｲ
MPP
LD M401                  ; 扉閉ﾃﾞｨﾚｰON
AND CR2003               ; 常時OFF
ANL
TMR K23 K1200            ; 原点復帰ﾀｲﾑｵｰﾊﾞｰ
LDP T22                  ; 原点復帰開始ﾃﾞｨﾚｲ
OR M82                   ; 原点復帰開始
AND M81                  ; 原点復帰動作中
ANB M84                  ; 原点復帰起動確認
OUT M82                  ; 原点復帰開始
LD M82                   ; 原点復帰開始
AND M1984                ; ﾕﾆｯﾄ2原点復帰中
AND M2484                ; ﾕﾆｯﾄ3原点復帰中
AND M2984                ; ﾕﾆｯﾄ4原点復帰中
AND M3484                ; ﾕﾆｯﾄ5原点復帰中
AND M3984                ; ﾕﾆｯﾄ6原点復帰中
AND M4484                ; ﾕﾆｯﾄ7原点復帰中
AND M5484                ; ﾕﾆｯﾄ9原点復帰中
OUT M83                  ; 原点復帰全起動確認補助
LD M82                   ; 原点復帰開始
AND M83                  ; 原点復帰全起動確認補助
OR M84                   ; 原点復帰起動確認
AND M81                  ; 原点復帰動作中
ANB M85                  ; 原点復帰完了
OUT M84                  ; 原点復帰起動確認
LD M84                   ; 原点復帰起動確認
ANB M42                  ; 全ﾕﾆｯﾄ原点復帰中
OR M85                   ; 原点復帰完了
AND M81                  ; 原点復帰動作中
ANB M86                  ; 装置全原点確認
OUT M85                  ; 原点復帰完了
LD M85                   ; 原点復帰完了
AND M40                  ; 全ﾕﾆｯﾄ原点
OR M86                   ; 装置全原点確認
AND M81                  ; 原点復帰動作中
OUT M86                  ; 装置全原点確認
;<h1/>□_補助回路
LD B1010                 ; ﾌﾞｻﾞｰ停止PB
DIFU M110                ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
LD B1011                 ; ｴﾗｰﾘｾｯﾄPB
DIFU M111                ; 異常ﾘｾｯﾄﾊﾟﾙｽ
;□□　　その他補助回路　　□□
;ﾕﾆｯﾄ別動作停止、ﾕﾆｯﾄﾊﾟｽ設定､生産ｶｳﾝﾀ等装置固有の回路がある場合はここ。
;<h1/>□_出力回路
LD X00                   ; 装置電源入
OUT Y242F                ; 電源入表示
LD X00                   ; 装置電源入
AND M30                  ; 自動ﾓｰﾄﾞ
ANB M140                 ; 一時停止中_ﾄﾞｱﾛｯｸ開
OR M81                   ; 原点復帰動作中
OR M411                  ; 手動時ﾄﾞｱﾛｯｸON指令
OUT Y51                  ; 安全扉ﾛｯｸ
LD M901                  ; 電源OFF
OUT Y50                  ; 主電源切ﾘﾚｰ
LD X05                   ; 除材部ﾗｲﾄｶｰﾃﾝOUT2
INV
AND CR2003               ; 常時OFF
OUT Y242C                ; ﾗｲﾄｶｰﾃﾝ電源OFF
LDB M53                  ; 警報(ﾜｰｸ不足等)
ANB M59                  ; 払出停止異常まとめ
ANB M60                  ; ｴﾗｰ発生
ANB M62                  ; 全ﾜｰｸ払出停止異常
INV
AND M54                  ; 異常ﾌﾞｻﾞｰ
ANB M51                  ; 即停止異常(緊急停止)
ANB M52                  ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
AND M150                 ; ﾌﾞｻﾞｰ音程1
LDB M51                  ; 即停止異常(緊急停止)
ANB M52                  ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
INV
AND M54                  ; 異常ﾌﾞｻﾞｰ
ORL
LD M54                   ; 異常ﾌﾞｻﾞｰ
LD B09                   ; 安全扉開
ANB M151                 ; ﾌﾞｻﾞｰ音程2
LD M37                   ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
ANB M152                 ; ｲﾝﾀｰﾛｯｸ解除音程
ORL
ANL
ORL
LD M71                   ; 自動運転開始BZ
ANB T20                  ; 起動前BZ_ONﾀｲﾏ
AND> K3 D10              ; 起動時ﾌﾞｻﾞｰｶｳﾝﾄ
ORL
OR M180                  ; PCより読取りﾌﾞｻﾞｰON
OR M1791                 ; 読取り完了ﾌﾞｻﾞｰ
OUT Y2432                ; ﾒｲﾝﾊﾟﾈﾙBZ
LD W01.8                 ; ﾌﾞｻﾞｰ指示(1s)
AND<= D700 K2            ; PCﾌﾞｻﾞｰON回数
FLIK K10 K10 M180        ; PCより読取りﾌﾞｻﾞｰON
LD M180                  ; PCより読取りﾌﾞｻﾞｰON
@INC D700                ; PCﾌﾞｻﾞｰON回数
LDF W01.8                ; ﾌﾞｻﾞｰ指示(1s)
MOV K0 D700              ; PCﾌﾞｻﾞｰON回数
;□□　　画面切替管理　　□□
;※画面切替管理は別ﾓｼﾞｭｰﾙを作成しても良い。
;<h1/>□_ﾀｯﾁﾊﾟﾈﾙ表示
LD CR2008                ; 運転開始時1ｽｷｬﾝON
@MOV K1 D32              ; 異常時画面記憶
LD T1                    ; ﾒｲﾝ画面切替時間
AND= D50 K0              ; 画面ﾍﾟｰｼﾞNo.
LDF M50                  ; 運転準備
ANB M51                  ; 即停止異常(緊急停止)
ORL
@MOV K1 D58              ; ﾒｲﾝ画面ﾍﾟｰｼﾞ切替
LD M51                   ; 即停止異常(緊急停止)
OR M52                   ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
OR M59                   ; 払出停止異常まとめ
OR M60                   ; ｴﾗｰ発生
OR M62                   ; 全ﾜｰｸ払出停止異常
AND T0                   ; 電源投入ONﾃﾞｨﾚｲ
MEP
ANB M109                 ; 機種切替ﾌﾗｸﾞ
MPS
@MOV K5 D58              ; ﾒｲﾝ画面ﾍﾟｰｼﾞ切替
MPP
AND<> D50 K5             ; 画面ﾍﾟｰｼﾞNo.
@MOV D50 D32             ; 画面ﾍﾟｰｼﾞNo.  異常時画面記憶
LDB M51                  ; 即停止異常(緊急停止)
ANB M52                  ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
ANB M59                  ; 払出停止異常まとめ
ANB M60                  ; ｴﾗｰ発生
ANB M62                  ; 全ﾜｰｸ払出停止異常
AND T0                   ; 電源投入ONﾃﾞｨﾚｲ
ANB M109                 ; 機種切替ﾌﾗｸﾞ
@MOV D32 D58             ; 異常時画面記憶  ﾒｲﾝ画面ﾍﾟｰｼﾞ切替
LD M40                   ; 全ﾕﾆｯﾄ原点
ANB M81                  ; 原点復帰動作中
LD M81                   ; 原点復帰動作中
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
ANB M72                  ; 自動運転開始
OUT B1500                ; 原点復帰TP-PL
LD M30                   ; 自動ﾓｰﾄﾞ
OUT B1501                ; 自動/手動TP-PL
LD M71                   ; 自動運転開始BZ
OR M41                   ; 全ﾕﾆｯﾄ起動中
ANB M140                 ; 一時停止中_ﾄﾞｱﾛｯｸ開
LD M140                  ; 一時停止中_ﾄﾞｱﾛｯｸ開
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
LDB M190                 ; 全ﾜｰｸ払出停止指令
OR M191                  ; 収納部ﾗｯｸ&ﾜｰｸ無確認
ANL
LD M190                  ; 全ﾜｰｸ払出停止指令
ANB M191                 ; 収納部ﾗｯｸ&ﾜｰｸ無確認
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1502                ; 起動TP-PL
LDB M71                  ; 自動運転開始BZ
ANB M41                  ; 全ﾕﾆｯﾄ起動中
LD M36                   ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
ANB M190                 ; 全ﾜｰｸ払出停止指令
OR M192                  ; ﾛｯﾄ切替用ｻｲｸﾙ停止指令
OR M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
LD M41                   ; 全ﾕﾆｯﾄ起動中
OR M71                   ; 自動運転開始BZ
ANL
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
LD M191                  ; 収納部ﾗｯｸ&ﾜｰｸ無確認
ANB M192                 ; ﾛｯﾄ切替用ｻｲｸﾙ停止指令
AND M153                 ; 0.2Sｸﾛｯｸ
ORL
OUT B1503                ; 停止TP-PL
LD M190                  ; 全ﾜｰｸ払出停止指令
LD M41                   ; 全ﾕﾆｯﾄ起動中
OR M71                   ; 自動運転開始BZ
ANL
ANB M192                 ; ﾛｯﾄ切替用ｻｲｸﾙ停止指令
OUT B1504                ; 全ﾜｰｸ払出停止PL
LD M1890                 ; 再投入ﾓｰﾄﾞ中
OUT B1507                ; 再投入ﾓｰﾄﾞPL
LDB M54                  ; 異常ﾌﾞｻﾞｰ
INV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT B1510                ; ﾌﾞｻﾞｰ停止PL
LDB M51                  ; 即停止異常(緊急停止)
ANB M52                  ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
ANB M53                  ; 警報(ﾜｰｸ不足等)
ANB M59                  ; 払出停止異常まとめ
ANB M60                  ; ｴﾗｰ発生
ANB M62                  ; 全ﾜｰｸ払出停止異常
ANB B09                  ; 安全扉開
MPS
INV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT B1511                ; ｴﾗｰﾘｾｯﾄPL
MPP
MOV K0 D30               ; ｱﾗｰﾑｺｰﾄﾞ
LD M130                  ; 一時停止
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR M132                  ; 全ﾕﾆｯﾄ停止OK
OUT B1512                ; 一時停止PL
LD M37                   ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT B1515                ; ｲﾝﾀｰﾛｯｸｷｬﾝｾﾙ中PL
LD M35                   ; 空運転ﾓｰﾄﾞ
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT B1516                ; DRY_RUN_PL
LD M35                   ; 空運転ﾓｰﾄﾞ
ORB L400                 ; 塗布時ﾊﾞﾙﾌﾞ有効選択記憶(1:有効)
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT B1517                ; COATING_OFF_PL
LD M35                   ; 空運転ﾓｰﾄﾞ
ORB L401                 ; ｺｰﾃｨﾝｸﾞ剤ﾋｰﾀ有効選択記憶
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT B1518                ; 温調OFF_TP-PL
LDB L403                 ; 塗布幅点検時ﾊﾞﾙﾌﾞ有効(1:有効)
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OUT B1519                ; 捨て打ち部ﾊﾞﾙﾌﾞOFF
;<h1/>____▼_ﾒｯｾｰｼﾞ表示
LDB M41                  ; 全ﾕﾆｯﾄ起動中
ANB M51                  ; 即停止異常(緊急停止)
ANB M52                  ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
ANB M61                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ANB M57                  ; 自動起動停止指令(払出停止)
ANB M59                  ; 払出停止異常まとめ
ANB M62                  ; 全ﾜｰｸ払出停止異常
AND M50                  ; 運転準備
MPS
LDB M43                  ; ｲﾆｼｬﾗｲｽﾞ完了ﾌﾗｸﾞ
ANB M81                  ; 原点復帰動作中
AND M123                 ; 安全扉正常
ANL
OUT B0200                ; ｲﾆｼｬﾗｲｽﾞ中表示
MPP
LDB B0200                ; ｲﾆｼｬﾗｲｽﾞ中表示
ANB M81                  ; 原点復帰動作中
ANB M40                  ; 全ﾕﾆｯﾄ原点
ANL
OUT B0201                ; 原点復帰要求
LD M81                   ; 原点復帰動作中
OUT B0202                ; 原点復帰中
LDB X0A                  ; 動力電源ON(ｷｰSW)
OUT B0203                ; 運転準備を入れてください。
LD M140                  ; 一時停止中_ﾄﾞｱﾛｯｸ開
OUT B0205                ; 一時停止中です。
LD M40                   ; 全ﾕﾆｯﾄ原点
ANB M81                  ; 原点復帰動作中
ANB M160                 ; 日常点検完了記憶
ANB M71                  ; 自動運転開始BZ
OUT B0206                ; 日常点検を実施してください。
LD M190                  ; 全ﾜｰｸ払出停止指令
OUT B0207                ; 払出停止中です。
LD M190                  ; 全ﾜｰｸ払出停止指令
AND M191                 ; 収納部ﾗｯｸ&ﾜｰｸ無確認
OUT B0208                ; 運転停止によるﾗｯｸ切替が可能です
;<h1/>____▼_ｸﾞﾛｰﾊﾞﾙｳｲﾝﾄﾞｳOFF
LDFB M2590               ; S090_塗布幅異常処理選択
ANFB M1504               ; S004_投入口扉閉待ち&Index作成
ANFB M1886               ; 投入ｷｬﾝｾﾙ画面表示
INV
OFDL K100 B0506          ; ｸﾞﾛｰﾊﾞﾙｳｲﾝﾄﾞｳID6_閉じる
;<h1/>□_主幹異常
;ﾒｲﾝ回路に関連する異常はここにまとめる。
LD T0                    ; 電源投入ONﾃﾞｨﾚｲ
MC
LDB M121                 ; 非常停止正常
AND T0                   ; 電源投入ONﾃﾞｨﾚｲ
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B01                  ; 非常停止異常
ORL
OUT B01                  ; 非常停止異常
;
LD M50                   ; 運転準備
ANB X03                  ; 圧空元圧正常
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B02                  ; 圧空低下異常
ORL
MPS
TMR K50 K10              ; 圧空低下確認
MPP
AND T50                  ; 圧空低下確認
OUT B02                  ; 圧空低下異常
;
LD Y51                   ; 安全扉ﾛｯｸ
LD M1492
AND M1992                ; ﾕﾆｯﾄ2動作無し確認
AND M2492                ; ﾕﾆｯﾄ3動作無し確認
INV
LD M2992                 ; ﾕﾆｯﾄ4動作無し確認
AND M3492                ; ﾕﾆｯﾄ5動作無し確認
AND M3992                ; ﾕﾆｯﾄ6動作無し確認
INV
ORL
LD M4492                 ; ﾕﾆｯﾄ7動作無し確認
AND M4992
AND M5492                ; ﾕﾆｯﾄ9動作無し確認
INV
ORL
ANB M37                  ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
ORL
ANB M123                 ; 安全扉正常
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B03                  ; 安全扉開異常
ORL
AND CR2003               ; 常時OFF
OUT B03                  ; 安全扉開異常
;
LD M50                   ; 運転準備
AND T23                  ; 原点復帰ﾀｲﾑｵｰﾊﾞｰ
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B04                  ; 原点復帰ｻｲｸﾙﾀｲﾑｵｰﾊﾞｰ
ORL
OUT B04                  ; 原点復帰ｻｲｸﾙﾀｲﾑｵｰﾊﾞｰ
;
LD M50                   ; 運転準備
ANB M122                 ; 外部非常停止正常
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B05                  ; 外部非常停止
ORL
OUT B05                  ; 外部非常停止
;
LD CR3905                ; 重度ｴﾗｰ発生中
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B06                  ; PLC異常
ORL
OUT B06                  ; PLC異常
;
LD R8400                 ; ｴﾗｰ発生
LD R8401                 ; ﾕﾆｯﾄﾚﾃﾞｨ
AND R9200                ; 他局通信状態
ORL
AND T0                   ; 電源投入ONﾃﾞｨﾚｲ
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B07                  ; ﾘﾝｸ異常
ORL
OUT B07                  ; ﾘﾝｸ異常
;
LD CR2306                ; ﾊﾞｯｸｱｯﾌﾟ電池異常
ANB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B08                  ; PLCﾊﾞｯﾃﾘ低下
ORL
MPS
TMR K51 K18000           ; CPUﾊﾞｯﾃﾘ異常ﾀｲﾏ
MPP
AND T51                  ; CPUﾊﾞｯﾃﾘ異常ﾀｲﾏ
OUT B08                  ; PLCﾊﾞｯﾃﾘ低下
;
LD CR2007                ; 運転開始時1ｽｷｬﾝOFF
ANB M123                 ; 安全扉正常
AND M30                  ; 自動ﾓｰﾄﾞ
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B09                  ; 安全扉開
ORL
OUT B09                  ; 安全扉開
LD CR2007                ; 運転開始時1ｽｷｬﾝOFF
ANB M123                 ; 安全扉正常
ANB M30                  ; 自動ﾓｰﾄﾞ
OUT B0204                ; 扉が開いています。
;
LDP M10                  ; 自動/手動PB
ANB M40                  ; 全ﾕﾆｯﾄ原点
ANB M41                  ; 全ﾕﾆｯﾄ起動中
ANB M71                  ; 自動運転開始BZ
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0A                  ; 原点未完ﾓｰﾄﾞ切替不可異常
ORL
OUT B0A                  ; 原点未完ﾓｰﾄﾞ切替不可異常
;
LD CR2003                ; 常時OFF
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0E
ORL
OUT B0E
;
LDB X1310                ; ｻﾌﾞTP非常停止SW　ON
AND T0                   ; 電源投入ONﾃﾞｨﾚｲ
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B010                 ; ｻﾌﾞTP非常停止SW　ON異常
ORL
OUT B010                 ; ｻﾌﾞTP非常停止SW　ON異常
;
LDB X1311                ; MAIN TP非常停止SW　ON
AND T0                   ; 電源投入ONﾃﾞｨﾚｲ
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B011                 ; MAIN TP非常停止SW　ON異常
ORL
OUT B011                 ; MAIN TP非常停止SW　ON異常
;
LDB X1312                ; ｺｰﾃｨﾝｸﾞ非常停止SW　ON
AND T0                   ; 電源投入ONﾃﾞｨﾚｲ
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B012                 ; ｺｰﾃｨﾝｸﾞ非常停止SW　ON異常
ORL
OUT B012                 ; ｺｰﾃｨﾝｸﾞ非常停止SW　ON異常
;
LDB X1313                ; 排出部非常停止SW　ON
AND T0                   ; 電源投入ONﾃﾞｨﾚｲ
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B013                 ; 排出部非常停止SW　ON異常
ORL
OUT B013                 ; 排出部非常停止SW　ON異常
;
LDB X01                  ; 非常停止正常
AND X1310                ; ｻﾌﾞTP非常停止SW　ON
AND X1311                ; MAIN TP非常停止SW　ON
AND X1312                ; ｺｰﾃｨﾝｸﾞ非常停止SW　ON
AND X1313                ; 排出部非常停止SW　ON
TMR K10 K3               ; RB RPB非常停止おされただろう時間
LD T10                   ; RB RPB非常停止おされただろう時間
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B014                 ; RB非常停止ON異常
ORL
OUT B014                 ; RB非常停止ON異常
;
LD CR2003                ; 常時OFF
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B015
ORL
OUT B015
;
LD CR2003                ; 常時OFF
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B016
ORL
OUT B016
;
LD= E20 K0               ; 運転中搬送ﾚｰﾙID
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B017                 ; 搬送ﾚｰﾙID設定異常
ORL
OUT B017                 ; 搬送ﾚｰﾙID設定異常
;
LD= E21 K0               ; 運転中塗布Prg
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B018                 ; 塗布PrgNO.設定異常
ORL
OUT B018                 ; 塗布PrgNO.設定異常
;
LD= E22 K0               ; 運転中ﾗｯｸ動作ID
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B019                 ; ﾗｯｸID設定異常
ORL
OUT B019                 ; ﾗｯｸID設定異常
;
LD CR2003                ; 常時OFF
LDB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B01A                 ; 振動吸引ID設定異常
ORL
OUT B01A                 ; 振動吸引ID設定異常
;ﾌﾞｻﾞｰ処理
LD<>.D B00 D20           ; 0)異常無し  ﾒｲﾝﾌﾞｻﾞｰ停止
AND<>.D B00 K0           ; 0)異常無し
OUT M200                 ; ﾒｲﾝ異常BZ　まとめ
LDB M110                 ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
ANB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
INV
MOV.D B00 D20            ; 0)異常無し  ﾒｲﾝﾌﾞｻﾞｰ停止
LD=.D B00 K0             ; 0)異常無し
@MOV.D K0 D20            ; ﾒｲﾝﾌﾞｻﾞｰ停止
MCR
;異常ﾌﾞｻﾞｰまとめ
LDB M200                 ; ﾒｲﾝ異常BZ　まとめ
ANB M1989                ; ﾕﾆｯﾄ2異常BZ補助
ANB M2489                ; ﾕﾆｯﾄ3異常BZ補助
ANB M2989                ; ﾕﾆｯﾄ4異常BZ補助
ANB M3489                ; ﾕﾆｯﾄ5異常BZ補助
ANB M3989                ; ﾕﾆｯﾄ6異常BZ補助
ANB M4489                ; ﾕﾆｯﾄ7異常BZ補助
ANB M5489                ; ﾕﾆｯﾄ9異常BZ補助
ANB M13489               ; U25異常BZ補助
INV
OUT M54                  ; 異常ﾌﾞｻﾞｰ
;<h1/>□_タワーランプ
LD M51                   ; 即停止異常(緊急停止)
OR M52                   ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
LDB M59                  ; 払出停止異常まとめ
ANB M60                  ; ｴﾗｰ発生
ANB M62                  ; 全ﾜｰｸ払出停止異常
INV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT Y244D                ; ｼｸﾞﾅﾙﾀﾜｰﾗﾝﾌﾟ赤
LDB M53                  ; 警報(ﾜｰｸ不足等)
INV
OUT Y244E                ; ｼｸﾞﾅﾙﾀﾜｰﾗﾝﾌﾟ橙
LD M41                   ; 全ﾕﾆｯﾄ起動中
ANB M56                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ANB M61                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ANB M57                  ; 自動起動停止指令(払出停止)
ANB M36                  ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
ANB B0210                ; 樹脂容量が最大値を超えています。
ANB B0211                ; 樹脂容量が不足しています。
LDB M81                  ; 原点復帰動作中
ANB M56                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ANB M61                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ANB M57                  ; 自動起動停止指令(払出停止)
ANB M36                  ; 払出停止指令(乾燥炉内のﾜｰｸ以外)
LDB B0210                ; 樹脂容量が最大値を超えています。
ANB B0211                ; 樹脂容量が不足しています。
ORL
INV
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT Y244F                ; ｼｸﾞﾅﾙﾀﾜｰﾗﾝﾌﾟ緑
;<h1/>□_電源OFF処理
LDP X06                  ; 操作ﾊﾟﾈﾙ電源入り切りSW
AND X00                  ; 装置電源入
OR M900                  ; 電源切り受付ON
ANB T73                  ; 電源切りOFF時間
MPS
OUT M900                 ; 電源切り受付ON
MPP
ANB X06                  ; 操作ﾊﾟﾈﾙ電源入り切りSW
TMR K70 K2               ; 電源切りSW OFF確認
LD M900                  ; 電源切り受付ON
AND T70                  ; 電源切りSW OFF確認
OR M901                  ; 電源OFF
AND M900                 ; 電源切り受付ON
MPS
OUT M901                 ; 電源OFF
MPP
ANB X00                  ; 装置電源入
TMR K73 K10              ; 電源切りOFF時間
;<h1/>□_扉開  一時停止処理
LDB X02                  ; 安全扉正常
ANB M37                  ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
OUT M400                 ; 扉開
LD X02                   ; 安全扉正常
OR M37                   ; ｲﾝﾀｰﾛｯｸ解除ﾓｰﾄﾞ
MPS
TMR K80 K3               ; 扉閉ﾃﾞｨﾚｰ
MPP
AND T80                  ; 扉閉ﾃﾞｨﾚｰ
OUT M401                 ; 扉閉ﾃﾞｨﾚｰON
LDB B0A6                 ; 収納ﾗｯｸ基板はみだし異常
ANB B0A7                 ; RB8移動中収納ﾗｯｸ基板はみだし異常
MPS
TMR K81 K3               ; RB8ﾗｯｸ基板はみだし異常OFFﾃﾞｨﾚｰ
MPP
AND T81                  ; RB8ﾗｯｸ基板はみだし異常OFFﾃﾞｨﾚｰ
OUT M402                 ; RB8ﾗｯｸ基板はみだし異常OFFﾃﾞｨﾚｰ
LDB B0EC                 ; 排出ﾗｯｸ基板はみだし異常
ANB B0ED                 ; RB9移動中排出ﾗｯｸ基板はみだし異常
MPS
TMR K82 K3               ; RB9ﾗｯｸ基板はみだし異常OFFﾃﾞｨﾚｰ
MPP
AND T82                  ; RB9ﾗｯｸ基板はみだし異常OFFﾃﾞｨﾚｰ
OUT M403                 ; RB9ﾗｯｸ基板はみだし異常OFFﾃﾞｨﾚｰ
;  ▽_手動時マニュアルドアロック
LDB M2802                ; ｺｰﾃｨﾝｸﾞRB1待機位置移動
ANB M2804                ; ｺｰﾃｨﾝｸﾞRB1捨て出し位置移動
ANB M2806                ; ｺｰﾃｨﾝｸﾞRB1ｴｱｰﾌﾞﾛｰ開始位置移動
ANB M2808                ; ｺｰﾃｨﾝｸﾞRB1浸透位置移動
ANB M2810                ; ｺｰﾃｨﾝｸﾞRB1塗布開始位置移動
ANB M2812                ; TEST 塗布
ANB M2814                ; ｺｰﾃｨﾝｸﾞRB1 Z軸上昇位置移動
ANB M2816                ; ｺｰﾃｨﾝｸﾞRB1ｴｱｰﾌﾞﾛｰ1ｻｲｸﾙ動作
ANB M2818                ; ｺｰﾃｨﾝｸﾞRB1B面塗布動作
ANB M2820                ; ｺｰﾃｨﾝｸﾞRB1A面塗布動作
ANB X1170                ; RB1ﾛﾎﾞｯﾄ動作中_20
INV
AND M31                  ; 手動ﾓｰﾄﾞ
OUT M2841                ; ｺｰﾃｨﾝｸﾞRB1動作中(手動中)
LDB M1940                ; 集塵ﾉｽﾞﾙRB3動作中
ANB M2420                ; 基板収納RB4動作中
ANB M2430                ; 基板ｸﾗﾝﾌﾟRB5動作中
ANB M2440                ; 基板反転RB6動作中
ANB M3420                ; 収納ﾘﾌﾀｰRB8_動作中
ANB M4420                ; 排出ﾘﾌﾀｰRB9動作中
ANB M2841                ; ｺｰﾃｨﾝｸﾞRB1動作中(手動中)
INV
OUT M420                 ; RB1〜9動作中
LD X02                   ; 安全扉正常
AND Y51                  ; 安全扉ﾛｯｸ
AND X08                  ; 投入口ｼｬｯﾀｰ閉確認
AND Y2437                ; 投入口ﾏｼﾝｼｬｯﾀｰﾛｯｸ
OUT M421                 ; 扉閉でﾛｯｸ状態
LD M50                   ; 運転準備
AND M31                  ; 手動ﾓｰﾄﾞ
ANB M81                  ; 原点復帰動作中
ANB M51                  ; 即停止異常(緊急停止)
MC
LD X02                   ; 安全扉正常
AND X08                  ; 投入口ｼｬｯﾀｰ閉確認
OUT M410                 ; 手動時ﾄﾞｱﾛｯｸON条件
LDP B101E                ; 安全ﾄﾞｱ閉SW
ANB B101F                ; 安全ﾄﾞｱ開SW
AND M410                 ; 手動時ﾄﾞｱﾛｯｸON条件
LD M411                  ; 手動時ﾄﾞｱﾛｯｸON指令
ANB M413                 ; 手動時ﾄﾞｱﾛｯｸOFF指令
ORL
OUT M411                 ; 手動時ﾄﾞｱﾛｯｸON指令
LD CR2002                ; 常時ON
ANB M420                 ; RB1〜9動作中
OUT M412                 ; 手動時ﾄﾞｱﾛｯｸOFF条件
LDP B101F                ; 安全ﾄﾞｱ開SW
ANB B101E                ; 安全ﾄﾞｱ閉SW
AND M412                 ; 手動時ﾄﾞｱﾛｯｸOFF条件
LD M413                  ; 手動時ﾄﾞｱﾛｯｸOFF指令
ANB M411                 ; 手動時ﾄﾞｱﾛｯｸON指令
ORL
OUT M413                 ; 手動時ﾄﾞｱﾛｯｸOFF指令
MCR
LD Y51                   ; 安全扉ﾛｯｸ
AND M123                 ; 安全扉正常
LD M411                  ; 手動時ﾄﾞｱﾛｯｸON指令
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B151E                ; 安全ﾄﾞｱ閉PL
LDB Y51                  ; 安全扉ﾛｯｸ
ORB M123                 ; 安全扉正常
OUT B151F                ; 安全ﾄﾞｱ開PL
;<h1/>▽_機種設定
;  ▽_機種変更先ﾃﾞｰﾀ読出し
;'//// 機種変更通知 ////
;E10.U = ( E1.U - K1 ) * 20		'変更先機種ｱﾄﾞﾚｽ先頭番号
;BMOV( E100:E10 , E60 , K20 )	'機種ﾃﾞｰﾀ転送
;RES(M103)
LDP M103                 ; 機種切替先表示通知
LD= D50 K301             ; 画面ﾍﾟｰｼﾞNo.
MEP
ORL
NCJ K1003
;'//// 機種変更通知 ////
;
;E10.U = ( E1.U - K1 ) * 20		'変更先機種ｱﾄﾞﾚｽ先頭番号
;
LD CR2002                ; 常時ON
LDA E1                   ; 切替先機種NO.
CON
EXT
CON
SUB.L +1
CON
MUL.L +20
CON
STA E10                  ; 演算ｴﾘｱ
;BMOV( E100:E10 , E60 , K20 )	'機種ﾃﾞｰﾀ転送
;
LD CR2002                ; 常時ON
LDA E10                  ; 演算ｴﾘｱ
CON
EXT
CON
STA.L Z12
BMOV E100:Z12 E60 K20    ; 機種1搬送ﾚｰﾙID  切替先搬送ﾚｰﾙID
;RES(M103)
LD CR2002                ; 常時ON
RES M103                 ; 機種切替先表示通知
LABEL K1003
;
;  ▽_機種変更
;'//// 機種変更通知 ////
;E10.U = ( E1.U - K1 ) * 20		'変更先機種ｱﾄﾞﾚｽ先頭番号
;BMOV( E1 , E0 , K1 )			'機種NO.
;BMOV( E100:E10 , E20 , K20 )	'機種ﾃﾞｰﾀ転送
;
;'ﾗｯｸIDからﾗｯｸ情報読み出し
;E11.U = ( E22.U - K1 ) * K10
;BMOV( E1500:E11 , E400 , K10 )
;SET(M109)
;RES(M102)
LDP M102                 ; 機種変更通知
ORP M106                 ; 設定情報更新ﾌﾗｸﾞ
NCJ K1000
;'//// 機種変更通知 ////
;
;E10.U = ( E1.U - K1 ) * 20		'変更先機種ｱﾄﾞﾚｽ先頭番号
;
LD CR2002                ; 常時ON
LDA E1                   ; 切替先機種NO.
CON
EXT
CON
SUB.L +1
CON
MUL.L +20
CON
STA E10                  ; 演算ｴﾘｱ
;BMOV( E1 , E0 , K1 )			'機種NO.
;
LD CR2002                ; 常時ON
BMOV E1 E0 K1            ; 切替先機種NO.  選択中機種NO.
;BMOV( E100:E10 , E20 , K20 )	'機種ﾃﾞｰﾀ転送
;
LD CR2002                ; 常時ON
LDA E10                  ; 演算ｴﾘｱ
CON
EXT
CON
STA.L Z12
BMOV E100:Z12 E20 K20    ; 機種1搬送ﾚｰﾙID  運転中搬送ﾚｰﾙID
;'ﾗｯｸIDからﾗｯｸ情報読み出し
;
;E11.U = ( E22.U - K1 ) * K10
;
LD CR2002                ; 常時ON
LDA E22                  ; 運転中ﾗｯｸ動作ID
CON
EXT
CON
SUB.L +1
CON
MUL.L +10
CON
STA E11                  ; 演算ｴﾘｱ
;BMOV( E1500:E11 , E400 , K10 )
;
LD CR2002                ; 常時ON
LDA E11                  ; 演算ｴﾘｱ
CON
EXT
CON
STA.L Z12
BMOV E1500:Z12 E400 K10  ; ﾗｯｸ1設定ｴﾘｱ_ﾗｯｸID  運転中_ﾗｯｸID
;SET(M109)
;
LD CR2002                ; 常時ON
SET M109                 ; 機種切替ﾌﾗｸﾞ
;RES(M102)
LD CR2002                ; 常時ON
RES M102                 ; 機種変更通知
LABEL K1000
;
;  ▽_機種登録
;____▼_登録情報読出し
;'//// 登録情報読出し ////
;E10.U = ( E2.U - K1 ) * 20		'変更先機種ｱﾄﾞﾚｽ先頭番号
;BMOV( E100:E10 , E40 , K20 )	'機種ﾃﾞｰﾀ転送
;RES(M100)
LD= D50 K302             ; 画面ﾍﾟｰｼﾞNo.
MEP
OR M100                  ; 登録先機種NO.通知
NCJ K1001
;'//// 登録情報読出し ////
;
;E10.U = ( E2.U - K1 ) * 20		'変更先機種ｱﾄﾞﾚｽ先頭番号
;
LD CR2002                ; 常時ON
LDA E2                   ; 登録先機種NO.
CON
EXT
CON
SUB.L +1
CON
MUL.L +20
CON
STA E10                  ; 演算ｴﾘｱ
;BMOV( E100:E10 , E40 , K20 )	'機種ﾃﾞｰﾀ転送
;
LD CR2002                ; 常時ON
LDA E10                  ; 演算ｴﾘｱ
CON
EXT
CON
STA.L Z12
BMOV E100:Z12 E40 K20    ; 機種1搬送ﾚｰﾙID  登録先搬送ﾚｰﾙID
;RES(M100)
LD CR2002                ; 常時ON
RES M100                 ; 登録先機種NO.通知
LABEL K1001
;
;____▼_機種情報登録
;'//// 機種登録 ////
;E10.U = ( E2.U - K1 ) * 20		'変更先機種ｱﾄﾞﾚｽ先頭番号
;BMOV( E40 ,E100:E10, K20 )	'機種ﾃﾞｰﾀ転送
;RES(M101)
;SET(M102)
LD M101                  ; 機種登録通知
NCJ K1002
;'//// 機種登録 ////
;
;E10.U = ( E2.U - K1 ) * 20		'変更先機種ｱﾄﾞﾚｽ先頭番号
;
LD CR2002                ; 常時ON
LDA E2                   ; 登録先機種NO.
CON
EXT
CON
SUB.L +1
CON
MUL.L +20
CON
STA E10                  ; 演算ｴﾘｱ
;BMOV( E40 ,E100:E10, K20 )	'機種ﾃﾞｰﾀ転送
;
LD CR2002                ; 常時ON
LDA E10                  ; 演算ｴﾘｱ
CON
EXT
CON
STA.L Z12
BMOV E40 E100:Z12 K20    ; 登録先搬送ﾚｰﾙID  機種1搬送ﾚｰﾙID
;RES(M101)
;
LD CR2002                ; 常時ON
RES M101                 ; 機種登録通知
;SET(M102)
LD CR2002                ; 常時ON
SET M102                 ; 機種変更通知
LABEL K1002
;
;  ▽_ﾗｯｸ設定
;____▼_ラック設定表示
LD= D50 K310             ; 画面ﾍﾟｰｼﾞNo.
ANB M104                 ; 設定書込SW(TPより)
ANB M105                 ; 設定書込ｷｬﾝｾﾙSW(TPより)
@BMOV E1500 E500 K100    ; ﾗｯｸ1設定ｴﾘｱ_ﾗｯｸID  ﾗｯｸ1設定表示ｴﾘｱ_ﾗｯｸID
;____▼_ラック設定書込み
LD= D50 K310             ; 画面ﾍﾟｰｼﾞNo.
ANP M104                 ; 設定書込SW(TPより)
BMOV E500 E1500 K100     ; ﾗｯｸ1設定表示ｴﾘｱ_ﾗｯｸID  ﾗｯｸ1設定ｴﾘｱ_ﾗｯｸID
;  ▽_ﾗｯｸID別収納種類段数設定
;____▼_ﾗｯｸID別収納種類段数設定表示
LD= D50 K314             ; 画面ﾍﾟｰｼﾞNo.
ANB M104                 ; 設定書込SW(TPより)
ANB M105                 ; 設定書込ｷｬﾝｾﾙSW(TPより)
@BMOV E901 E911 K10      ; ﾗｯｸID1_収納幅種類数  ﾗｯｸID1_収納幅種類数(表示用)
;____▼_ﾗｯｸID別収納種類段数設定書込み
LD= D50 K314             ; 画面ﾍﾟｰｼﾞNo.
ANP M104                 ; 設定書込SW(TPより)
BMOV E911 E901 K10       ; ﾗｯｸID1_収納幅種類数(表示用)  ﾗｯｸID1_収納幅種類数
;  ▽_ﾗｯｸID別総段数設定
;____▼_ﾗｯｸID別総段数設定表示
LD= D50 K314             ; 画面ﾍﾟｰｼﾞNo.
ANB M104                 ; 設定書込SW(TPより)
ANB M105                 ; 設定書込ｷｬﾝｾﾙSW(TPより)
@BMOV E921 E931 K10      ; ﾗｯｸID1_収納総段数  ﾗｯｸID1_収納総段数(表示用)
;____▼_ﾗｯｸID別総段数設定書込み
LD= D50 K314             ; 画面ﾍﾟｰｼﾞNo.
ANP M104                 ; 設定書込SW(TPより)
BMOV E931 E921 K10       ; ﾗｯｸID1_収納総段数(表示用)  ﾗｯｸID1_収納総段数
;書込み情報更新ﾌﾗｸﾞ
LDP M104                 ; 設定書込SW(TPより)
OUT M106                 ; 設定情報更新ﾌﾗｸﾞ
;ﾃﾞｰﾀ範囲設定
LD CR2002                ; 常時ON
MPS
AND<= E0 K0              ; 選択中機種NO.
MOV K1 E0                ; 選択中機種NO.
MRD
AND>= E0 K16             ; 選択中機種NO.
MOV K15 E0               ; 選択中機種NO.
MRD
AND<= E1 K0              ; 切替先機種NO.
MOV K1 E1                ; 切替先機種NO.
MRD
AND>= E1 K16             ; 切替先機種NO.
MOV K15 E1               ; 切替先機種NO.
MRD
AND<= E2 K0              ; 登録先機種NO.
MOV K1 E2                ; 登録先機種NO.
MPP
AND>= E2 K16             ; 登録先機種NO.
MOV K15 E2               ; 登録先機種NO.
;<h1/>____▼_機種切替後_段取りRB移動処理
LD CR2002                ; 常時ON
ZRES M500 M520           ; 段取りSTEP0
LDB M109                 ; 機種切替ﾌﾗｸﾞ
MOV K0 D40               ; 段取り替えｽﾃｯﾊﾟ
LDF M109                 ; 機種切替ﾌﾗｸﾞ
LD M1910                 ; 搬送ﾚｰﾙ幅OK
ANB M109                 ; 機種切替ﾌﾗｸﾞ
MEP
AND CR2003               ; 常時OFF
ORL
MOV K1 D58               ; ﾒｲﾝ画面ﾍﾟｰｼﾞ切替
LD M109                  ; 機種切替ﾌﾗｸﾞ
MPS
MOV D40 Z1               ; 段取り替えｽﾃｯﾊﾟ
MPP
AND= D40 Z1              ; 段取り替えｽﾃｯﾊﾟ
SET M500:Z1              ; 段取りSTEP0
LD M500                  ; 段取りSTEP0
INC D40                  ; 段取り替えｽﾃｯﾊﾟ
;扉を閉めてください。
LD M501                  ; 段取りSTEP1_
MPS
MOV K350 D58             ; ﾒｲﾝ画面ﾍﾟｰｼﾞ切替
MPP
LD= K350 D50             ; 画面ﾍﾟｰｼﾞNo.
ANB X1352                ; 基板投入/振動部ﾜｰｸ確認(ON有)
ANB X1351                ; 基板投入/振動部ｺﾈｸﾀ確認(ON正常)
ANL
MPS
AND X08                  ; 投入口ｼｬｯﾀｰ閉確認
INC D40                  ; 段取り替えｽﾃｯﾊﾟ
MPP
LD X1355                 ; 基板投入搬送ﾊﾝﾄﾞ上昇端
AND= D1524 K2            ; RB3_完了POS
ANL
MOV K10 D40              ; 段取り替えｽﾃｯﾊﾟ
LD M502                  ; 段取りSTEP2_扉閉
AND X08                  ; 投入口ｼｬｯﾀｰ閉確認
AND Y2437                ; 投入口ﾏｼﾝｼｬｯﾀｰﾛｯｸ
INC D40                  ; 段取り替えｽﾃｯﾊﾟ
;
LD M503                  ; 段取りSTEP3_ﾌﾟｯｼｬ上昇指令
AND X1355                ; 基板投入搬送ﾊﾝﾄﾞ上昇端
INC D40                  ; 段取り替えｽﾃｯﾊﾟ
LD M504                  ; 段取りSTEP4
AND M1800                ; 集塵ﾉｽﾞﾙRB3動作可条件
ANB M1940                ; 集塵ﾉｽﾞﾙRB3動作中
MOV K2 D1520             ; RB3_指令POS
INC D40                  ; 段取り替えｽﾃｯﾊﾟ
LD M505                  ; 段取りSTEP5_段取り替え位置移動
AND M1940                ; 集塵ﾉｽﾞﾙRB3動作中
INC D40                  ; 段取り替えｽﾃｯﾊﾟ
LD M506                  ; 段取りSTEP6
ANB M1940                ; 集塵ﾉｽﾞﾙRB3動作中
AND= D1524 K2            ; RB3_完了POS
INC D40                  ; 段取り替えｽﾃｯﾊﾟ
LD M507                  ; 段取りSTEP7
INC D40                  ; 段取り替えｽﾃｯﾊﾟ
LD M508                  ; 段取りSTEP8
INC D40                  ; 段取り替えｽﾃｯﾊﾟ
LD M509                  ; 段取りSTEP9
INC D40                  ; 段取り替えｽﾃｯﾊﾟ
;ﾚｰﾙ位置を合わせてください。
LD M510                  ; 段取りSTEP10_ﾛｯｸ解除
MPS
MOV K351 D58             ; ﾒｲﾝ画面ﾍﾟｰｼﾞ切替
MPP
LD= K351 D50             ; 画面ﾍﾟｰｼﾞNo.
AND M1910                ; 搬送ﾚｰﾙ幅OK
ANL
INC D40                  ; 段取り替えｽﾃｯﾊﾟ
LD M511                  ; 段取りSTEP11
INC D40                  ; 段取り替えｽﾃｯﾊﾟ
;ﾒｲﾝ画面表示
LD M512                  ; 段取りSTEP12
MPS
MOV K1 D58               ; ﾒｲﾝ画面ﾍﾟｰｼﾞ切替
MPP
LD= K1 D50               ; 画面ﾍﾟｰｼﾞNo.
AND M1910                ; 搬送ﾚｰﾙ幅OK
ANL
INC D40                  ; 段取り替えｽﾃｯﾊﾟ
LD M513                  ; 段取りSTEP13
INC D40                  ; 段取り替えｽﾃｯﾊﾟ
LD M514                  ; 段取りSTEP14
INC D40                  ; 段取り替えｽﾃｯﾊﾟ
LD M515                  ; 段取りSTEP15
ORB M50                  ; 運転準備
OR B045                  ; 基板投入搬送ﾊﾝﾄﾞ上下LS異常
RES M109                 ; 機種切替ﾌﾗｸﾞ
;<h1/>□_ＲＢ手動モード
LDP B1185                ; ROBOT　2〜7軸手動ﾓｰﾄﾞSW
OUT M5803                ; ROBOT　2〜7軸手動ﾓｰﾄﾞSWﾊﾟﾙｽ
LD M5803                 ; ROBOT　2〜7軸手動ﾓｰﾄﾞSWﾊﾟﾙｽ
ANB M5804                ; ROBOT　2〜7軸手動ﾓｰﾄﾞON
LDB M5803                ; ROBOT　2〜7軸手動ﾓｰﾄﾞSWﾊﾟﾙｽ
AND M5804                ; ROBOT　2〜7軸手動ﾓｰﾄﾞON
ORL
ANB M81                  ; 原点復帰動作中
OUT M5804                ; ROBOT　2〜7軸手動ﾓｰﾄﾞON
LD X1029                 ; RB3_ﾓｰﾄﾞ(RMOD)
AND X1049                ; RB4_ﾓｰﾄﾞ(RMOD)
AND X1069                ; RB5_ﾓｰﾄﾞ(RMOD)
AND X1089                ; RB6_ﾓｰﾄﾞ(RMOD)
OUT B1685                ; ROBOT　2〜7軸手動ﾓｰﾄﾞPL
;<h1/>□_PCへ
LD CR2002                ; 常時ON
MOV E0 W0128             ; 選択中機種NO.  機種ID
END
ENDH
