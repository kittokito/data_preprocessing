DEVICE:51
;MODULE:厚み検査ｻﾌﾞﾙｰﾁﾝ
;MODULE_TYPE:0
LD CR2002                ; 常時ON
LDA DM916                ; 平面度基準値　ｽﾃｰﾀ
CON
MUL #100
CON
STA DM920                ; 平面度基準値　ｽﾃｰﾀ×100
CON
LDA DM918                ; 平面度基準値　ﾛｰﾀ
CON
MUL #100
CON
STA DM922                ; 平面度基準値　ﾛｰﾀ×100
STG MR1105               ; 厚み検査開始　ｻﾌﾞﾙｰﾁﾝｺｰﾙ!
ANB MR16400              ; 厚み検査中
RES R55101               ; ｽﾃｰﾀ検査 結果表示“NG”_Tpl
CON
RES R55100               ; ｽﾃｰﾀ検査 結果表示“OK”_Tpl
CON
RES R55103               ; ﾛｰﾀ検査 結果表示“NG”_Tpl
CON
RES R55102               ; ﾛｰﾀ検査 結果表示“OK”_Tpl
CON
SET MR16400              ; 厚み検査中
CON
JMP MR16401
STG MR16401
@SET MR12001             ; 計測値取り込み
CON
JMP MR16402
STG MR16402
AND MR9910               ; PORT1完了
AND MR9911               ; PORT2完了
JMP MR16403
STG MR16403
RES MR9910               ; PORT1完了
CON
RES MR9911               ; PORT2完了
CON
RES MR12001              ; 計測値取り込み
CON
JMP MR16404
STG MR16404
@MOV.D DM6800 DM950      ; 厚み判定値 ｽﾃｰﾀ ID00_L
@MOV.D DM6802 DM952      ; 厚み判定値 ｽﾃｰﾀ ID01_L
@MOV.D DM6804 DM954      ; 厚み判定値 ｽﾃｰﾀ ID02_L
@MOV.D DM6806 DM956      ; 厚み判定値 ｽﾃｰﾀ ID03_L
@MOV.D DM6900 DM960      ; 厚み判定値 ﾛｰﾀ ID00_L
@MOV.D DM6902 DM962      ; 厚み判定値 ﾛｰﾀ ID01_L
@MOV.D DM6904 DM964      ; 厚み判定値 ﾛｰﾀ ID02_L
@MOV.D DM6906 DM966      ; 厚み判定値 ﾛｰﾀ ID03_L
TMH #140 #5
CON
AND T140
JMP MR16405
STG MR16405
MPS
@MAX.D DM950 #4          ; 厚み判定値 ｽﾃｰﾀ ID00_L
CON
@STA.D DM1000            ; ｽﾃｰﾀ厚み　MAX
MRD
@MIN.D DM950 #4          ; 厚み判定値 ｽﾃｰﾀ ID00_L
CON
@STA.D DM1002            ; ｽﾃｰﾀ厚み　MIN
MRD
@AVG.D DM950 #4          ; 厚み判定値 ｽﾃｰﾀ ID00_L
CON
@STA.D DM1006            ; ｽﾃｰﾀ 厚み平均
MRD
@LDA.D DM1000            ; ｽﾃｰﾀ厚み　MAX
CON
@SUB.D DM1002            ; ｽﾃｰﾀ厚み　MIN
CON
@STA.D DM1004            ; ｽﾃｰﾀ平行度
MRD
@MAX.D DM960 #4          ; 厚み判定値 ﾛｰﾀ ID00_L
CON
@STA.D DM1010            ; ﾛｰﾀ厚み　MAX
MRD
@MIN.D DM960 #4          ; 厚み判定値 ﾛｰﾀ ID00_L
CON
@STA.D DM1012            ; ﾛｰﾀ厚み　MIN
MRD
@AVG.D DM960 #4          ; 厚み判定値 ﾛｰﾀ ID00_L
CON
@STA.D DM1016            ; ﾛｰﾀ 厚み平均
MRD
@LDA.D DM1010            ; ﾛｰﾀ厚み　MAX
CON
@SUB.D DM1012            ; ﾛｰﾀ厚み　MIN
CON
@STA.D DM1014            ; ﾛｰﾀ平行度
MPP
TMH #141 #5
CON
AND T141
JMP MR16406
STG MR16406
MPS
LD<=.D DM942 DM950       ; 厚み基準値　ｽﾃｰﾀ Lｻｲｽﾞ　MIN  厚み判定値 ｽﾃｰﾀ ID00_L
AND<=.D DM950 DM940      ; 厚み判定値 ｽﾃｰﾀ ID00_L  厚み基準値　ｽﾃｰﾀ Lｻｲｽﾞ　MAX
ANL
SET MR16107              ; 厚み検査 ｽﾃｰﾀ ID00-OK
MRD
LD>.D DM942 DM950        ; 厚み基準値　ｽﾃｰﾀ Lｻｲｽﾞ　MIN  厚み判定値 ｽﾃｰﾀ ID00_L
OR>.D DM950 DM940        ; 厚み判定値 ｽﾃｰﾀ ID00_L  厚み基準値　ｽﾃｰﾀ Lｻｲｽﾞ　MAX
ANL
RES MR16107              ; 厚み検査 ｽﾃｰﾀ ID00-OK
MRD
LD<=.D DM942 DM952       ; 厚み基準値　ｽﾃｰﾀ Lｻｲｽﾞ　MIN  厚み判定値 ｽﾃｰﾀ ID01_L
AND<=.D DM952 DM940      ; 厚み判定値 ｽﾃｰﾀ ID01_L  厚み基準値　ｽﾃｰﾀ Lｻｲｽﾞ　MAX
ANL
SET MR16108              ; 厚み検査 ｽﾃｰﾀ ID01-OK
MRD
LD>.D DM942 DM952        ; 厚み基準値　ｽﾃｰﾀ Lｻｲｽﾞ　MIN  厚み判定値 ｽﾃｰﾀ ID01_L
OR>.D DM952 DM940        ; 厚み判定値 ｽﾃｰﾀ ID01_L  厚み基準値　ｽﾃｰﾀ Lｻｲｽﾞ　MAX
ANL
RES MR16108              ; 厚み検査 ｽﾃｰﾀ ID01-OK
MRD
LD<=.D DM942 DM954       ; 厚み基準値　ｽﾃｰﾀ Lｻｲｽﾞ　MIN  厚み判定値 ｽﾃｰﾀ ID02_L
AND<=.D DM954 DM940      ; 厚み判定値 ｽﾃｰﾀ ID02_L  厚み基準値　ｽﾃｰﾀ Lｻｲｽﾞ　MAX
ANL
SET MR16109              ; 厚み検査 ｽﾃｰﾀ ID02-OK
MRD
LD>.D DM942 DM954        ; 厚み基準値　ｽﾃｰﾀ Lｻｲｽﾞ　MIN  厚み判定値 ｽﾃｰﾀ ID02_L
OR>.D DM954 DM940        ; 厚み判定値 ｽﾃｰﾀ ID02_L  厚み基準値　ｽﾃｰﾀ Lｻｲｽﾞ　MAX
ANL
RES MR16109              ; 厚み検査 ｽﾃｰﾀ ID02-OK
MRD
LD<=.D DM942 DM956       ; 厚み基準値　ｽﾃｰﾀ Lｻｲｽﾞ　MIN  厚み判定値 ｽﾃｰﾀ ID03_L
AND<=.D DM956 DM940      ; 厚み判定値 ｽﾃｰﾀ ID03_L  厚み基準値　ｽﾃｰﾀ Lｻｲｽﾞ　MAX
ANL
SET MR16110              ; 厚み検査 ｽﾃｰﾀ ID03-OK
MRD
LD>.D DM942 DM956        ; 厚み基準値　ｽﾃｰﾀ Lｻｲｽﾞ　MIN  厚み判定値 ｽﾃｰﾀ ID03_L
OR>.D DM956 DM940        ; 厚み判定値 ｽﾃｰﾀ ID03_L  厚み基準値　ｽﾃｰﾀ Lｻｲｽﾞ　MAX
ANL
RES MR16110              ; 厚み検査 ｽﾃｰﾀ ID03-OK
MPP
TMH #142 #5
CON
AND T142
JMP MR16407
STG MR16407
MPS
LD<=.D DM946 DM960       ; 厚み基準値　ﾛｰﾀ Lｻｲｽﾞ　MIN  厚み判定値 ﾛｰﾀ ID00_L
AND<=.D DM960 DM944      ; 厚み判定値 ﾛｰﾀ ID00_L  厚み基準値　ﾛｰﾀ Lｻｲｽﾞ　MAX
ANL
SET MR16111              ; 厚み検査 ﾛｰﾀ ID00-OK
MRD
LD>.D DM946 DM960        ; 厚み基準値　ﾛｰﾀ Lｻｲｽﾞ　MIN  厚み判定値 ﾛｰﾀ ID00_L
OR>.D DM960 DM944        ; 厚み判定値 ﾛｰﾀ ID00_L  厚み基準値　ﾛｰﾀ Lｻｲｽﾞ　MAX
ANL
RES MR16111              ; 厚み検査 ﾛｰﾀ ID00-OK
MRD
LD<=.D DM946 DM962       ; 厚み基準値　ﾛｰﾀ Lｻｲｽﾞ　MIN  厚み判定値 ﾛｰﾀ ID01_L
AND<=.D DM962 DM944      ; 厚み判定値 ﾛｰﾀ ID01_L  厚み基準値　ﾛｰﾀ Lｻｲｽﾞ　MAX
ANL
SET MR16112              ; 厚み検査 ﾛｰﾀ ID01-OK
MRD
LD>.D DM946 DM962        ; 厚み基準値　ﾛｰﾀ Lｻｲｽﾞ　MIN  厚み判定値 ﾛｰﾀ ID01_L
OR>.D DM962 DM944        ; 厚み判定値 ﾛｰﾀ ID01_L  厚み基準値　ﾛｰﾀ Lｻｲｽﾞ　MAX
ANL
RES MR16112              ; 厚み検査 ﾛｰﾀ ID01-OK
MRD
LD<=.D DM946 DM964       ; 厚み基準値　ﾛｰﾀ Lｻｲｽﾞ　MIN  厚み判定値 ﾛｰﾀ ID02_L
AND<=.D DM964 DM944      ; 厚み判定値 ﾛｰﾀ ID02_L  厚み基準値　ﾛｰﾀ Lｻｲｽﾞ　MAX
ANL
SET MR16113              ; 厚み検査 ﾛｰﾀ ID02-OK
MRD
LD>.D DM946 DM964        ; 厚み基準値　ﾛｰﾀ Lｻｲｽﾞ　MIN  厚み判定値 ﾛｰﾀ ID02_L
OR>.D DM964 DM944        ; 厚み判定値 ﾛｰﾀ ID02_L  厚み基準値　ﾛｰﾀ Lｻｲｽﾞ　MAX
ANL
RES MR16113              ; 厚み検査 ﾛｰﾀ ID02-OK
MRD
LD<=.D DM946 DM966       ; 厚み基準値　ﾛｰﾀ Lｻｲｽﾞ　MIN  厚み判定値 ﾛｰﾀ ID03_L
AND<=.D DM966 DM944      ; 厚み判定値 ﾛｰﾀ ID03_L  厚み基準値　ﾛｰﾀ Lｻｲｽﾞ　MAX
ANL
SET MR16114              ; 厚み検査 ﾛｰﾀ ID03-OK
MRD
LD>.D DM946 DM966        ; 厚み基準値　ﾛｰﾀ Lｻｲｽﾞ　MIN  厚み判定値 ﾛｰﾀ ID03_L
OR>.D DM966 DM944        ; 厚み判定値 ﾛｰﾀ ID03_L  厚み基準値　ﾛｰﾀ Lｻｲｽﾞ　MAX
ANL
RES MR16114              ; 厚み検査 ﾛｰﾀ ID03-OK
MPP
TMH #143 #5
CON
AND T143
JMP MR16408
STG MR16408
MPS
AND<=.D DM1004 DM920     ; ｽﾃｰﾀ平行度  平面度基準値　ｽﾃｰﾀ×100
SET MR16210              ; 平面度検査　ｽﾃｰﾀOK
MRD
AND>.D DM1004 DM920      ; ｽﾃｰﾀ平行度  平面度基準値　ｽﾃｰﾀ×100
RES MR16210              ; 平面度検査　ｽﾃｰﾀOK
MRD
AND<=.D DM1014 DM922     ; ﾛｰﾀ平行度  平面度基準値　ﾛｰﾀ×100
SET MR16212              ; 平面度検査　ﾛｰﾀOK
MRD
AND>.D DM1014 DM922      ; ﾛｰﾀ平行度  平面度基準値　ﾛｰﾀ×100
RES MR16212              ; 平面度検査　ﾛｰﾀOK
MPP
TMH #144 #5
CON
AND T144
JMP MR16409
STG MR16409
MPS
LD MR16107               ; 厚み検査 ｽﾃｰﾀ ID00-OK
AND MR16108              ; 厚み検査 ｽﾃｰﾀ ID01-OK
AND MR16109              ; 厚み検査 ｽﾃｰﾀ ID02-OK
AND MR16110              ; 厚み検査 ｽﾃｰﾀ ID03-OK
AND MR16210              ; 平面度検査　ｽﾃｰﾀOK
ANL
SET R55100               ; ｽﾃｰﾀ検査 結果表示“OK”_Tpl
CON
RES R55101               ; ｽﾃｰﾀ検査 結果表示“NG”_Tpl
CON
SET MR31100              ; ｽﾃｰﾀ検査OK
CON
RES MR31101              ; ｽﾃｰﾀ検査NG
MRD
LDB MR16107              ; 厚み検査 ｽﾃｰﾀ ID00-OK
ORB MR16108              ; 厚み検査 ｽﾃｰﾀ ID01-OK
ORB MR16109              ; 厚み検査 ｽﾃｰﾀ ID02-OK
ORB MR16110              ; 厚み検査 ｽﾃｰﾀ ID03-OK
ORB MR16210              ; 平面度検査　ｽﾃｰﾀOK
ANL
SET R55101               ; ｽﾃｰﾀ検査 結果表示“NG”_Tpl
CON
RES R55100               ; ｽﾃｰﾀ検査 結果表示“OK”_Tpl
CON
SET MR31101              ; ｽﾃｰﾀ検査NG
CON
RES MR31100              ; ｽﾃｰﾀ検査OK
MRD
LD MR16111               ; 厚み検査 ﾛｰﾀ ID00-OK
AND MR16112              ; 厚み検査 ﾛｰﾀ ID01-OK
AND MR16113              ; 厚み検査 ﾛｰﾀ ID02-OK
AND MR16114              ; 厚み検査 ﾛｰﾀ ID03-OK
AND MR16212              ; 平面度検査　ﾛｰﾀOK
ANL
SET R55102               ; ﾛｰﾀ検査 結果表示“OK”_Tpl
CON
RES R55103               ; ﾛｰﾀ検査 結果表示“NG”_Tpl
CON
SET MR31102              ; ﾛｰﾀｰ検査OK
CON
RES MR31103              ; ﾛｰﾀｰ検査NG
MRD
LDB MR16111              ; 厚み検査 ﾛｰﾀ ID00-OK
ORB MR16112              ; 厚み検査 ﾛｰﾀ ID01-OK
ORB MR16113              ; 厚み検査 ﾛｰﾀ ID02-OK
ORB MR16114              ; 厚み検査 ﾛｰﾀ ID03-OK
ORB MR16212              ; 平面度検査　ﾛｰﾀOK
ANL
SET R55103               ; ﾛｰﾀ検査 結果表示“NG”_Tpl
CON
RES R55102               ; ﾛｰﾀ検査 結果表示“OK”_Tpl
CON
SET MR31103              ; ﾛｰﾀｰ検査NG
CON
RES MR31102              ; ﾛｰﾀｰ検査OK
MPP
TMH #145 #5
CON
AND T145
JMP MR16410
STG MR16410
MPS
@LDA.D DM950             ; 厚み判定値 ｽﾃｰﾀ ID00_L
CON
@FLOAT.D
CON
@STA.F DM1950            ; 厚み判定値 ｽﾃｰﾀ ID00_L
MRD
@LDA.D DM952             ; 厚み判定値 ｽﾃｰﾀ ID01_L
CON
@FLOAT.D
CON
@STA.F DM1952            ; 厚み判定値 ｽﾃｰﾀ ID01_L
MRD
@LDA.D DM954             ; 厚み判定値 ｽﾃｰﾀ ID02_L
CON
@FLOAT.D
CON
@STA.F DM1954            ; 厚み判定値 ｽﾃｰﾀ ID02_L
MRD
@LDA.D DM956             ; 厚み判定値 ｽﾃｰﾀ ID03_L
CON
@FLOAT.D
CON
@STA.F DM1956            ; 厚み判定値 ｽﾃｰﾀ ID03_L
MRD
@LDA.D DM960             ; 厚み判定値 ﾛｰﾀ ID00_L
CON
@FLOAT.D
CON
@STA.F DM1960            ; 厚み判定値 ﾛｰﾀ ID00_L
MRD
@LDA.D DM962             ; 厚み判定値 ﾛｰﾀ ID01_L
CON
@FLOAT.D
CON
@STA.F DM1962            ; 厚み判定値 ﾛｰﾀ ID01_L
MRD
@LDA.D DM964             ; 厚み判定値 ﾛｰﾀ ID02_L
CON
@FLOAT.D
CON
@STA.F DM1964            ; 厚み判定値 ﾛｰﾀ ID02_L
MRD
@LDA.D DM966             ; 厚み判定値 ﾛｰﾀ ID03_L
CON
@FLOAT.D
CON
@STA.F DM1966            ; 厚み判定値 ﾛｰﾀ ID03_L
MRD
@LDA.D DM1000            ; ｽﾃｰﾀ厚み　MAX
CON
@FLOAT.D
CON
@STA.F DM2000            ; ｽﾃｰﾀ厚み　MAX
MRD
@LDA.D DM1002            ; ｽﾃｰﾀ厚み　MIN
CON
@FLOAT.D
CON
@STA.F DM2002            ; ｽﾃｰﾀ厚み　MIN
MRD
@LDA.D DM1004            ; ｽﾃｰﾀ平行度
CON
@FLOAT.D
CON
@STA.F DM2004            ; ｽﾃｰﾀ平行度
MRD
@LDA.D DM1006            ; ｽﾃｰﾀ 厚み平均
CON
@FLOAT.D
CON
@STA.F DM2006            ; ｽﾃｰﾀ 厚み平均
MRD
@LDA.D DM1010            ; ﾛｰﾀ厚み　MAX
CON
@FLOAT.D
CON
@STA.F DM2010            ; ﾛｰﾀ厚み　MAX
MRD
@LDA.D DM1012            ; ﾛｰﾀ厚み　MIN
CON
@FLOAT.D
CON
@STA.F DM2012            ; ﾛｰﾀ厚み　MIN
MRD
@LDA.D DM1014            ; ﾛｰﾀ平行度
CON
@FLOAT.D
CON
@STA.F DM2014            ; ﾛｰﾀ平行度
MRD
@LDA.D DM1016            ; ﾛｰﾀ 厚み平均
CON
@FLOAT.D
CON
@STA.F DM2016            ; ﾛｰﾀ 厚み平均
MPP
TMH #147 #5
CON
AND T147
JMP MR16411
STG MR16411
MPS
@LDA.F DM1950            ; 厚み判定値 ｽﾃｰﾀ ID00_L
CON
@DIV.F +10000
CON
@STA.F DM1970            ; 厚み判定値 ｽﾃｰﾀ ID00_L
MRD
@LDA.F DM1952            ; 厚み判定値 ｽﾃｰﾀ ID01_L
CON
@DIV.F +10000
CON
@STA.F DM1972            ; 厚み判定値 ｽﾃｰﾀ ID01_L
MRD
@LDA.F DM1954            ; 厚み判定値 ｽﾃｰﾀ ID02_L
CON
@DIV.F +10000
CON
@STA.F DM1974            ; 厚み判定値 ｽﾃｰﾀ ID02_L
MRD
@LDA.F DM1956            ; 厚み判定値 ｽﾃｰﾀ ID03_L
CON
@DIV.F +10000
CON
@STA.F DM1976            ; 厚み判定値 ｽﾃｰﾀ ID03_L
MRD
@LDA.F DM1960            ; 厚み判定値 ﾛｰﾀ ID00_L
CON
@DIV.F +10000
CON
@STA.F DM1980            ; 厚み判定値 ﾛｰﾀ ID00_L
MRD
@LDA.F DM1962            ; 厚み判定値 ﾛｰﾀ ID01_L
CON
@DIV.F +10000
CON
@STA.F DM1982            ; 厚み判定値 ﾛｰﾀ ID01_L
MRD
@LDA.F DM1964            ; 厚み判定値 ﾛｰﾀ ID02_L
CON
@DIV.F +10000
CON
@STA.F DM1984            ; 厚み判定値 ﾛｰﾀ ID02_L
MRD
@LDA.F DM1966            ; 厚み判定値 ﾛｰﾀ ID03_L
CON
@DIV.F +10000
CON
@STA.F DM1986            ; 厚み判定値 ﾛｰﾀ ID03_L
MRD
@LDA.F DM2000            ; ｽﾃｰﾀ厚み　MAX
CON
@DIV.F +10000
CON
@STA.F DM2020            ; ｽﾃｰﾀ厚み　MAX
MRD
@LDA.F DM2002            ; ｽﾃｰﾀ厚み　MIN
CON
@DIV.F +10000
CON
@STA.F DM2022            ; ｽﾃｰﾀ厚み　MIN
MRD
@LDA.F DM2004            ; ｽﾃｰﾀ平行度
CON
@DIV.F +10000
CON
@STA.F DM2024            ; ｽﾃｰﾀ平行度
MRD
@LDA.F DM2006            ; ｽﾃｰﾀ 厚み平均
CON
@DIV.F +10000
CON
@STA.F DM2026            ; ｽﾃｰﾀ 厚み平均
MRD
@LDA.F DM2010            ; ﾛｰﾀ厚み　MAX
CON
@DIV.F +10000
CON
@STA.F DM2030            ; ﾛｰﾀ厚み　MAX
MRD
@LDA.F DM2012            ; ﾛｰﾀ厚み　MIN
CON
@DIV.F +10000
CON
@STA.F DM2032            ; ﾛｰﾀ厚み　MIN
MRD
@LDA.F DM2014            ; ﾛｰﾀ平行度
CON
@DIV.F +10000
CON
@STA.F DM2034            ; ﾛｰﾀ平行度
MRD
@LDA.F DM2016            ; ﾛｰﾀ 厚み平均
CON
@DIV.F +10000
CON
@STA.F DM2036            ; ﾛｰﾀ 厚み平均
MPP
TMH #148 #5
CON
AND T148
JMP MR16412
STG MR16412
ZRES MR16107 MR16114     ; 厚み検査 ｽﾃｰﾀ ID00-OK  厚み検査 ﾛｰﾀ ID03-OK
CON
RES MR16212              ; 平面度検査　ﾛｰﾀOK
CON
RES MR16210              ; 平面度検査　ｽﾃｰﾀOK
CON
RES MR16400              ; 厚み検査中
CON
SET MR1106               ; 厚み検査完了
CON
JMP MR16413
STG MR16413
TMH #146 #0
CON
AND T146
ENDS
END
ENDH
