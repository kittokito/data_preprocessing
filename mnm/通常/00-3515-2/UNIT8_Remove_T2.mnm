DEVICE:53
;MODULE:UNIT8_Remove_T2
;MODULE_TYPE:0
;
;UNIT8 Remove-Trasfer 2
;
;動作FLG
LD Y2463                 ; 除材2_ﾁｬｯｸ2　閉　○
ANB Y2464                ; 除材2_ﾁｬｯｸ2　開　○
MPS
LD X1728                 ; 除材2_ﾁｬｯｸ2-1閉限 ○(ﾜｰｸ有でON)
AND X172A                ; 除材2_ﾁｬｯｸ2-2閉限 ○(ﾜｰｸ有でON)
ANL
TMH K805 K20             ; ﾜｰｸﾁｬｯｸOK
MRD
LDB X1728                ; 除材2_ﾁｬｯｸ2-1閉限 ○(ﾜｰｸ有でON)
ORB X172A                ; 除材2_ﾁｬｯｸ2-2閉限 ○(ﾜｰｸ有でON)
ANL
TMR K806 K30             ; ﾁｬｯｸ閉異常
MPP
LDB X1728                ; 除材2_ﾁｬｯｸ2-1閉限 ○(ﾜｰｸ有でON)
ANB X172A                ; 除材2_ﾁｬｯｸ2-2閉限 ○(ﾜｰｸ有でON)
ANL
TMR K809 K10             ; ﾁｬｯｸ ﾜｰｸ無し
LDB Y2463                ; 除材2_ﾁｬｯｸ2　閉　○
AND Y2464                ; 除材2_ﾁｬｯｸ2　開　○
MPS
LDB X1728                ; 除材2_ﾁｬｯｸ2-1閉限 ○(ﾜｰｸ有でON)
AND X1729                ; 除材2_ﾁｬｯｸ2-1開限　○
ANB X172A                ; 除材2_ﾁｬｯｸ2-2閉限 ○(ﾜｰｸ有でON)
AND X172B                ; 除材2_ﾁｬｯｸ2-2開限　○
ANL
TMH K807 K30             ; ﾁｬｯｸ開OK
MPP
LD X1728                 ; 除材2_ﾁｬｯｸ2-1閉限 ○(ﾜｰｸ有でON)
ORB X1729                ; 除材2_ﾁｬｯｸ2-1開限　○
OR X172A                 ; 除材2_ﾁｬｯｸ2-2閉限 ○(ﾜｰｸ有でON)
ORB X172B                ; 除材2_ﾁｬｯｸ2-2開限　○
ANL
MPS
TMR K808 K30             ; ﾁｬｯｸ開異常
MPP
AND T808                 ; ﾁｬｯｸ開異常
DW K469 D148             ; 警報No.
CON
SET M8929                ; Err469:除材1ﾁｬｯｸ2開LS異常
LD M8880                 ; 除材2Z軸原点復帰完了
OR M8881                 ; 除材2Z軸原点復帰完了
OR M8990                 ; 除材2Z軸　原点復帰完了
ANB M103                 ; 原点復帰OK
OUT M8990                ; 除材2Z軸　原点復帰完了
LD M8882                 ; 除材2Y軸原点復帰完了
OR M8991                 ; 除材2Y軸　原点復帰完了
ANB M103                 ; 原点復帰OK
OUT M8991                ; 除材2Y軸　原点復帰完了
;■ロボット等機器入力受け
;ロボット、検査装置など状態、現在位置などをまとめる信号は一旦ここで受ける。
LD X1238                 ; BUSY ID8
OR X1248                 ; BUSY ID9
OR X1258                 ; BUSY ID10
LDB M131                 ; 安全扉正常
ORB M136                 ; 背面扉正常
ANL
OUT Y2038                ; ID8 HOLD
OUT Y2048                ; ID9 HOLD
OUT Y2058                ; ID10 HOLD
;<h1/>装置状態・動作条件
LD= D117 K1              ; RCA8_Position No.
OR= D117 K2              ; RCA8_Position No.
OR= D117 K5              ; RCA8_Position No.
AND= D118 K1             ; RCA9_Position No.
LD=.L D138 +0            ; RCA10_Position Data
OR=.L D138 E3350         ; RCA10_Position Data  R2ｸﾗﾝﾌﾟ開TP_Pos_Data
ANL
OUT M8900                ; ﾕﾆｯﾄ8原点
LDB B0F0                 ; ﾈｼﾞ締めJig2ID異常
ANB B0F1                 ; 除材2Y軸異常
ANB B0F2                 ; 除材2Z軸異常
ANB B0F3                 ; 除材2ﾁｬｯｸ軸異常
ANB B0F4                 ; 除材2ﾜｰｸ行方不明
ANB B0F5                 ; 除材2ｹｰｽﾁｬｯｸﾐｽ
ANB B0F6                 ; ﾈｼﾞ締台2 ﾜｰｸ有異常
ANB B0F7                 ; ﾈｼﾞ締め治具2ﾜｰｸ行方不明
INV
OUT M8901                ; ﾕﾆｯﾄ8全異常
LD M8900                 ; ﾕﾆｯﾄ8原点
ANB M8000                ; ﾕﾆｯﾄ8ｽﾃｯﾌﾟ開始
ANB X1238                ; BUSY ID8
AND X1239                ; SVRE ID8
AND X123A                ; SETON ID8
ANB X123E                ; ESTOP ID8
ANB X123F                ; ALARM ID8
ANB X1248                ; BUSY ID9
AND X1249                ; SVRE ID9
AND X124A                ; SETON ID9
ANB X124E                ; ESTOP ID9
ANB X124F                ; ALARM ID9
ANB X1258                ; BUSY ID10
AND X1259                ; SVRE ID10
AND X125A                ; SETON ID10
ANB X125E                ; ESTOP ID10
ANB X125F                ; ALARM ID10
OUT M8902                ; ﾕﾆｯﾄ8起動条件
LDB M64                  ; 運転準備
OR M65                   ; 即停止異常(緊急停止)
OR M8901                 ; ﾕﾆｯﾄ8全異常
OR T15                   ; 強制停止
OUT M8903                ; ﾕﾆｯﾄ8起動OFF
LD M98                   ; 原点復帰開始
ANB M8904                ; ﾕﾆｯﾄ8原点復帰中
OR M8904                 ; ﾕﾆｯﾄ8原点復帰中
ANB M8903                ; ﾕﾆｯﾄ8起動OFF
ANB M8589                ; ﾕﾆｯﾄ8原点復帰完了確認
OUT M8904                ; ﾕﾆｯﾄ8原点復帰中
LD M83                   ; 各工程起動指令
LD M33                   ; 手動ﾓｰﾄﾞ
AND M34                  ; ﾒｲﾝ手動操作可能条件
AND CR2003               ; 常時OFF
ORL
AND M8902                ; ﾕﾆｯﾄ8起動条件
OR M8905                 ; ﾕﾆｯﾄ8起動中
ANB M8903                ; ﾕﾆｯﾄ8起動OFF
ANB M8399                ; ﾕﾆｯﾄ8動作完了
OUT M8905                ; ﾕﾆｯﾄ8起動中
LD CR2003                ; 常時OFF
OUT M8908                ; ﾕﾆｯﾄ8警報補助
;Pack処理
LDB M8802                ; 除材2Y 移動中
ANB M8806                ; 除材2Y 原点復帰中
ANB M8812                ; 除材2Z 移動中
ANB M8816                ; 除材2Z 原点復帰中
LDB M8822                ; 除材2ﾁｬｯｸ 移動中
OR M8591                 ; 除材2強制ﾁｬｯｸ開
ANL
ANB M8826                ; 除材2ﾁｬｯｸ 原点復帰中
INV
OUT M8910                ; UNIT8 Pack
;□エラー発生　一時停止フラグ
LD CR2002                ; 常時ON
MPS
PMOV.D M8920 K0 D8100 K0 K10;Err460:除材2ﾜｰｸ残  UT8ｴﾗｰ判別
MPP
AND<> D8100 K0           ; UT8ｴﾗｰ判別
OUT M8912                ; UNIT8 ｴﾗｰ
LD CR2002                ; 常時ON
MPS
PMOV.D M8930 K0 D8102 K0 K10;Err470:除材2ﾈｼﾞ締め異常  UT8_排出停止 ｴﾗｰ判別
MPP
AND<> D8102 K0           ; UT8_排出停止 ｴﾗｰ判別
OUT M8911                ; UNIT8 排出ｴﾗｰ
LDB M8901                ; ﾕﾆｯﾄ8全異常
ANB M160                 ; ALL PAUSE
ANB M180                 ; UNIT6.7.8PAUSE
ANB M8908                ; ﾕﾆｯﾄ8警報補助
ANB M8911                ; UNIT8 排出ｴﾗｰ
ANB M8912                ; UNIT8 ｴﾗｰ
LDB M32                  ; 自動ﾓｰﾄﾞ
ANB M33                  ; 手動ﾓｰﾄﾞ
LD M32                   ; 自動ﾓｰﾄﾞ
AND M8905                ; ﾕﾆｯﾄ8起動中
ORL
LD M33                   ; 手動ﾓｰﾄﾞ
AND M8904                ; ﾕﾆｯﾄ8原点復帰中
ORL
ANL
OUT M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
;RB interlock
LD R3708                 ; 除材2Z    上空位置
ANB X1238                ; BUSY ID8
AND X1239                ; SVRE ID8
LD X123A                 ; SETON ID8
OR M8904                 ; ﾕﾆｯﾄ8原点復帰中
ANL
ANB X123E                ; ESTOP ID8
ANB X123F                ; ALARM ID8
ANB M8800                ; 除材2Y 移動完了
ANB M8802                ; 除材2Y 移動中
ANB M8804                ; 除材2Y 原点復帰完了
OUT M8960                ; 除材2Y軸 動作可能
LDB R3700                ; 除材2Y    取出干渉外
AND R3110                ; Case搬送Y2受渡領域
ORB R3701                ; 除材2Y    受取干渉外
ORB R3708                ; 除材2Z    上空位置
OR M8813                 ; 除材2Z 上空移動宣言
OR M33                   ; 手動ﾓｰﾄﾞ
OR M8904                 ; ﾕﾆｯﾄ8原点復帰中
ANB M6915                ; ﾈｼﾞ締めRB Y2側動作中
ANB X1248                ; BUSY ID9
AND X1249                ; SVRE ID9
LD X124A                 ; SETON ID9
OR M8904                 ; ﾕﾆｯﾄ8原点復帰中
ANL
ANB X124E                ; ESTOP ID9
ANB X124F                ; ALARM ID9
ANB M8810                ; 除材2Z 移動完了
ANB M8812                ; 除材2Z 移動中
ANB M8814                ; 除材2Z 原点復帰完了
OUT M8961                ; 除材2Z軸 動作可能
LDB X1258                ; BUSY ID10
AND X1259                ; SVRE ID10
ANB X125E                ; ESTOP ID10
ANB X125F                ; ALARM ID10
ANB M8820                ; 除材2ﾁｬｯｸ 移動完了
ANB M8822                ; 除材2ﾁｬｯｸ 移動中
ANB M8824                ; 除材2ﾁｬｯｸ 原点復帰完了
OUT M8963                ; 除材2ﾁｬｯｸ 原点復帰可能
LD M8963                 ; 除材2ﾁｬｯｸ 原点復帰可能
AND X125A                ; SETON ID10
OUT M8962                ; 除材2ﾁｬｯｸ 動作可能
LDF M8905                ; ﾕﾆｯﾄ8起動中
ZRES M8800 M8829         ; 除材2Y 移動完了  HOLD停止後ｻｰﾎﾞOFF
;<h1/>■自動回路 
;
;運転開始・ステッパ初期化・補助接点へ展開
LD CR2002                ; 常時ON
ZRES M8000 M8399         ; ﾕﾆｯﾄ8ｽﾃｯﾌﾟ開始  ﾕﾆｯﾄ8動作完了
LDB M8905                ; ﾕﾆｯﾄ8起動中
MOV K0 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8905                 ; ﾕﾆｯﾄ8起動中
MOV D8000 Z1             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
SET M8000:Z1             ; ﾕﾆｯﾄ8ｽﾃｯﾌﾟ開始
;自動運転ステップ開始
LD M8000                 ; ﾕﾆｯﾄ8ｽﾃｯﾌﾟ開始
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
ANB M39                  ; 日常点検ﾓｰﾄﾞ
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
LD M39                   ; 日常点検ﾓｰﾄﾞ
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ANL
DW K380 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;運転開始時JIG番号ﾁｪｯｸ
;Jig No. check when AUTO start.
LD M8001                 ; JIG ID 確認
MPS
AND= D94 E3424           ; Screw2 Jig ID  Screw Jig2 ID 
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
AND<> D94 E3424          ; Screw2 Jig ID  Screw Jig2 ID 
OUT M8956                ; ﾈｼﾞ締め2 Jig No.異常
;除材1Z軸上空位置移動
;Move to up point
LD M8002                 ; 現在位置-移動先位置確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
AND= D118 K1             ; RCA9_Position No.
DW K4 D8000              ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
AND<> D118 K1            ; RCA9_Position No.
SET M8813                ; 除材2Z 上空移動宣言
CON
AND M8961                ; 除材2Z軸 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8003                 ; 2Z_P1　move
MPS
DW K1 D8051              ; 除材2Z軸 移動No.
CON
OUT @M20                 ; 除材2Z軸移動
MPP
AND M8810                ; 除材2Z 移動完了
RES M8813                ; 除材2Z 上空移動宣言
CON
RES M8810                ; 除材2Z 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;除材要求確認
;Remove demand check
LD M8004                 ; 除材要求確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
LD M3985                 ; Y2排出要求
OR M3852                 ; Case2 受渡準備中
ANL
DW K10 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
LDB M3985                ; Y2排出要求
ANB M3852                ; Case2 受渡準備中
ANL
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;Y軸　待機位置移動
;Move to remove waiting posotion
LD M8005                 ; 待機位置移動
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8960                ; 除材2Y軸 動作可能
MPS
AND= D117 K2             ; RCA8_Position No.
DW K7 D8000              ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
AND<> D117 K2            ; RCA8_Position No.
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8006                 ; 2Y_P2 move
MPS
DW K2 D8050              ; 除材2Y軸 移動No.
CON
OUT @M0                  ; 除材2Y軸移動
MPP
AND M8800                ; 除材2Y 移動完了
RES M8800                ; 除材2Y 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;除材要求待ち
;Waiting for remove demand
LD M8007                 ; 除材要求待ち
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
LD M3985                 ; Y2排出要求
OR M3852                 ; Case2 受渡準備中
ANL
DW K10 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
LDB M3985                ; Y2排出要求
AND M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M3398                ; UT3ｻｲｸﾙ停止
ANL
DW K380 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;Y軸　取り出し位置移動
;Move to pick up posotion
LD M8010                 ; 取出し位置移動
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
AND= D117 K3             ; RCA8_Position No.
DW K12 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
LD<> D117 K3             ; RCA8_Position No.
AND M8960                ; 除材2Y軸 動作可能
AND R3304                ; 嵌合X     除材2干渉外
ANL
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8011                 ; 2Y_P3 move
MPS
DW K3 D8050              ; 除材2Y軸 移動No.
CON
OUT @M1                  ; 除材2Y軸移動
MPP
AND M8800                ; 除材2Y 移動完了
RES M8800                ; 除材2Y 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;Z軸　取り出し位置下降
;Down to pick up height
LD M8012                 ; 取出し高さ下降
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8961                ; 除材2Z軸 動作可能
AND= D119 K1             ; RCA10_Position No.
AND M3985                ; Y2排出要求
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8013                 ; 2Z_P3　move
MPS
DW K3 D8051              ; 除材2Z軸 移動No.
CON
OUT @M21                 ; 除材2Z軸移動
MPP
AND M8810                ; 除材2Z 移動完了
RES M8810                ; 除材2Z 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;ﾁｬｯｸ1閉
;Chuck 1 close 
LD M8014                 ; ﾁｬｯｸ1閉じ
MPS
LD M8913                 ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
AND T807                 ; ﾁｬｯｸ開OK
ANL
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
OUT M8719                ; 除材ﾁｬｯｸ2　Open
LD M8015                 ; Chuck_P2  move
MPS
DW K2 D8052              ; 除材2ﾁｬｯｸ 移動No.
CON
OUT @M50                 ; 除材2ﾁｬｯｸ  移動
MPP
AND M8820                ; 除材2ﾁｬｯｸ 移動完了
RES M8820                ; 除材2ﾁｬｯｸ 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;ﾁｬｯｸ2閉
;Chuck 2 close 
;Z軸　上昇
;Up to weiting point
LD M8016                 ; Z軸上昇 & ﾁｬｯｸ2閉
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8961                ; 除材2Z軸 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8017                 ; Z_P1 move　Chuck2 close
MPS
TMH K817 K30             ; ﾁｬｯｸ上昇ｳｪｲﾄ
CON
AND T817                 ; ﾁｬｯｸ上昇ｳｪｲﾄ
DW K1 D8051              ; 除材2Z軸 移動No.
CON
OUT @M23                 ; 除材2Z軸移動
MRD
AND M8810                ; 除材2Z 移動完了
RES M8810                ; 除材2Z 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
OUT M8701                ; 除材ﾁｬｯｸ2　Close
LD M8018                 ; ﾁｬｯｸ2　閉じ
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
AND T805                 ; ﾜｰｸﾁｬｯｸOK
DW K40 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
AND T806                 ; ﾁｬｯｸ閉異常
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;除材チャック異常 処理選択
;Err441:Chuck error of Remove head 1
LD M8019                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K461 D148             ; 警報No.
CON
SET M8921                ; Err461:除材ﾍｯﾄﾞ2ﾁｬｯｸ異常
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8020                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
RES B1013                ; Remove_FLG
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8021                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
MPS
LDB B1013                ; Remove_FLG
LD B1013                 ; Remove_FLG
ANB T809                 ; ﾁｬｯｸ ﾜｰｸ無し
ORL
ANL
DW K18 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
LD B1013                 ; Remove_FLG
AND T809                 ; ﾁｬｯｸ ﾜｰｸ無し
ANL
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8022                 ; Removeﾌﾗｸﾞ解除
RES B1013                ; Remove_FLG
CON
DW K30 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;★★★　ﾁｬｯｸNG除材動作　★★★
;Chuck Error Operation
;ﾁｬｯｸ2開
;Chuck 2 Open 
LD M8030                 ; ﾁｬｯｸNG→除材処理へ
MPS
LD M8913                 ; UNIT8     ｴﾗｰ・PAUSE無し
AND T807                 ; ﾁｬｯｸ開OK
ANL
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
OUT M8712                ; 除材ﾁｬｯｸ2　Open
;ﾁｬｯｸ1　開
;Chuck 1 Open 
LD M8031                 ; 除材ﾁｬｯｸ1 開
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8032                 ; Chuck2_P1  move
MPS
DW K1 D8052              ; 除材2ﾁｬｯｸ 移動No.
CON
OUT @M51                 ; 除材2ﾁｬｯｸ  移動
MPP
AND M8820                ; 除材2ﾁｬｯｸ 移動完了
RES M8820                ; 除材2ﾁｬｯｸ 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;除材ﾊﾝﾄﾞ上空位置へ上昇
;Remove hand up
LD M8033                 ; 除材1Z　上空位置
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8961                ; 除材2Z軸 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8034                 ; 1Z_P1 move
MPS
DW K1 D8051              ; 除材2Z軸 移動No.
CON
OUT @M22                 ; 除材2Z軸移動
MPP
AND M8810                ; 除材2Z 移動完了
RES M8810                ; 除材2Z 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;Case搬送とﾊﾝﾄﾞｼｪｲｸ
;Handshake with Case-Trasfer Y1
LD M8035                 ; Case取出異常
MPS
OUT M8982                ; Y2排出異常
MPP
LD M8913                 ; UNIT8     ｴﾗｰ・PAUSE無し
ANB M3985                ; Y2排出要求
ANL
DW K380 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;***
;★★★　ﾁｬｯｸOK継続動作　★★★
;Z軸　上昇
;Up to weiting point
LD M8040                 ; Z軸上昇
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
DW K42 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;ﾜｰｸﾁｪｯｸ
;Work check
;上昇後､投入ｽﾗｲﾀﾞ上にﾜｰｸがあった場合は異常処理
LD M8042                 ; Y1搬送上Case残確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
LDB T1510                ; 投入3_受渡位置 ﾜｰｸ有
AND T805                 ; ﾜｰｸﾁｬｯｸOK
ANL
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
LD T1510                 ; 投入3_受渡位置 ﾜｰｸ有
OR T806                  ; ﾁｬｯｸ閉異常
ANL
OUT M8951                ; 除材2除材時ﾜｰｸ落下異常
;取り出し完了
;Pick up comlete
LD M8043                 ; 排出完了
MPS
LD M8913                 ; UNIT8     ｴﾗｰ・PAUSE無し
ANB M3985                ; Y2排出要求
ANL
DW K50 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
OUT M8981                ; Y2排出完了
;ﾈｼﾞ締め部　状況確認
;Screw stage status check
LD M8050                 ; ﾈｼﾞ締め部状況確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
LD= D94 E3424            ; Screw2 Jig ID  Screw Jig2 ID 
ANB T1708                ; ﾈｼﾞ締め治具2 ﾜｰｸ検出
ANL
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MRD
AND T1708                ; ﾈｼﾞ締め治具2 ﾜｰｸ検出
OUT M8955                ; ﾈｼﾞ締めJIG2ﾜｰｸ残
MPP
AND<> D94 E3424          ; Screw2 Jig ID  Screw Jig2 ID 
OUT M8957                ; ﾈｼﾞ締め2 Jig No.異常
;Y軸　ﾈｼﾞ締め位置移動
;Move to Screw position
LD M8051                 ; Y軸　待機位置移動
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8960                ; 除材2Y軸 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8052                 ; Y_P5 move
MPS
DW K5 D8050              ; 除材2Y軸 移動No.
CON
OUT @M2                  ; 除材2Y軸移動
MRD
AND R3702                ; 除材2Y    ねじ締め領域
DW K5 D8051              ; 除材2Z軸 移動No.
CON
OUT @M25                 ; 除材2Z軸移動
MPP
LD M8800                 ; 除材2Y 移動完了
AND M8810                ; 除材2Z 移動完了
ANL
RES M8810                ; 除材2Z 移動完了
CON
RES M8800                ; 除材2Y 移動完了
CON
DW K58 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;ﾜｰｸﾁｬｯｸﾁｪｯｸ
;Case chuck check
LD M8053                 ; ﾈｼﾞ締め前ﾘﾘｰｽ高さへ下降
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
AND T805                 ; ﾜｰｸﾁｬｯｸOK
DW K58 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
AND T806                 ; ﾁｬｯｸ閉異常
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;除材チャック異常 処理選択
;Err441:Chuck error of Remove head 1
LD M8054                 ; 2Z_P8　move
ANB M71                  ; All Error PAUSE
DW K463 D148             ; 警報No.
CON
SET M8923                ; Err463:除材ﾍｯﾄﾞ2ﾜｰｸｸﾗﾝﾌﾟ異常
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8055                 ; ﾁｬｯｸ2　開
AND M71                  ; All Error PAUSE
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8056                 ; ﾈｼﾞ締め高さへ下降
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K52 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;ねじ締め位置ﾜｰｸ確認
;Case check on Screw JIG
LD M8058                 ; ﾈｼﾞ締め位置移動確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
AND T1708                ; ﾈｼﾞ締め治具2 ﾜｰｸ検出
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
ANB T1708                ; ﾈｼﾞ締め治具2 ﾜｰｸ検出
TMR K820 K30             ; ﾈｼﾞ締め治具ﾜｰｸ確認時間
CON
AND T820                 ; ﾈｼﾞ締め治具ﾜｰｸ確認時間
OUT M8953                ; ﾈｼﾞ締め位置ﾜｰｸ行方不明
;ﾈｼﾞ締め要求ON､結果待ち
;Screw request & waiting for result
LD>= D8000 K59           ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
AND<= D8000 K89          ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPS
LD M6710                 ; 排出2側ﾈｼﾞ締めOK
OR M8740                 ; 排出2側ﾈｼﾞ締めOK
OR M27                   ; ねじ締めRB無視
ANB M8741                ; 排出2側ﾈｼﾞ締めNG
ANL
OUT M8740                ; 排出2側ﾈｼﾞ締めOK
MPP
LD M6711                 ; 排出2側ﾈｼﾞ締めNG
OR M8741                 ; 排出2側ﾈｼﾞ締めNG
ANB M8740                ; 排出2側ﾈｼﾞ締めOK
ANB M27                  ; ねじ締めRB無視
ANL
OUT M8741                ; 排出2側ﾈｼﾞ締めNG
LD M8059                 ; 排出1ﾈｼﾞ締め要求ON
MPS
LD M8913                 ; UNIT8     ｴﾗｰ・PAUSE無し
LD M8740                 ; 排出2側ﾈｼﾞ締めOK
OR M8741                 ; 排出2側ﾈｼﾞ締めNG
ANL
ANL
DW K89 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
OUT M8984                ; 排出2ﾈｼﾞ締め要求
;***
LD M8089                 ; ねじ締め 結果確認
MPS
AND M8741                ; 排出2側ﾈｼﾞ締めNG
DW K90 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
AND M8740                ; 排出2側ﾈｼﾞ締めOK
DW K120 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;■ﾈｼﾞ締めNG 排出動作
;Z軸　NG排出高さ上昇
;Up to NG remove position
LD M8090                 ; NG排出高さへ上昇
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
ANB M6711                ; 排出2側ﾈｼﾞ締めNG
AND M8961                ; 除材2Z軸 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8091                 ; 2Z_P6　move
MPS
DW K6 D8051              ; 除材2Z軸 移動No.
CON
OUT @M28                 ; 除材2Z軸移動
MPP
AND M8810                ; 除材2Z 移動完了
RES M8810                ; 除材2Z 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;Y軸　NG排出位置移動
;Move to NG remove position
LD M8092                 ; NG排出位置移動
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8960                ; 除材2Y軸 動作可能
ANB T1714                ; 除材2CV_受取位置ﾜｰｸ検出
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8093                 ; 1Y_P6 move
MPS
DW K6 D8050              ; 除材2Y軸 移動No.
CON
OUT @M3                  ; 除材2Y軸移動
MPP
AND M8800                ; 除材2Y 移動完了
RES M8800                ; 除材2Y 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;ﾈｼﾞ締め2 NG発生
;Err470:Screw 2 result NG
LD M8094                 ; 排出2NG取出位置移動確認
ANB M71                  ; All Error PAUSE
ANB M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
DW K470 D148             ; 警報No.
CON
SET M8930                ; Err470:除材2ﾈｼﾞ締め異常
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8095                 ; 排出2ﾈｼﾞ締めｴﾗｰ
AND M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8096                 ; 排出2ｴﾗｰ停止中
ANB M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8097                 ; ﾜｰｸ残ﾁｪｯｸ
AND T131                 ; UT6 7 8   ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
MPS
LD T805                  ; ﾜｰｸﾁｬｯｸOK
OR T806                  ; ﾁｬｯｸ閉異常
ANL
TMR K814 K20             ; ﾜｰｸ検出時間
CON
AND T814                 ; ﾜｰｸ検出時間
DW K94 D8000             ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MRD
AND T809                 ; ﾁｬｯｸ ﾜｰｸ無し
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
OUT M8706                ; 除材ﾁｬｯｸ2　Close
;ﾁｬｯｸ　開
;Chuck Open 
LD M8098                 ; ﾁｬｯｸ1　開
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
AND T807                 ; ﾁｬｯｸ開OK
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
OUT M8713                ; 除材ﾁｬｯｸ2　Open
LD M8099                 ; ﾁｬｯｸ2　開
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
AND T807                 ; ﾁｬｯｸ開OK
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8100                 ; Chuck2_P1 move
MPS
DW K1 D8052              ; 除材2ﾁｬｯｸ 移動No.
CON
OUT @M53                 ; 除材2ﾁｬｯｸ  移動
MPP
AND M8820                ; 除材2ﾁｬｯｸ 移動完了
RES M8820                ; 除材2ﾁｬｯｸ 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;Z軸　待機高さ下降
;Down to Wait position
LD M8101                 ; 待機高さへ下降
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8961                ; 除材2Z軸 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8102                 ; ｴﾗｰ発生
MPS
DW K1 D8051              ; 除材2Z軸 移動No.
CON
OUT @M29                 ; 除材2Z軸移動
MPP
AND M8810                ; 除材2Z 移動完了
RES M8810                ; 除材2Z 移動完了
CON
DW K380 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;■ﾈｼﾞ締めOK 排出動作
;Z軸　待機高さ上昇
;Up to OK Waiting height
LD M8120                 ; 待機高さへ上昇
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
ANB M6710                ; 排出2側ﾈｼﾞ締めOK
AND M8961                ; 除材2Z軸 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8121                 ; 2Z_P1　move
MPS
DW K1 D8051              ; 除材2Z軸 移動No.
CON
OUT @M30                 ; 除材2Z軸移動
MPP
AND M8810                ; 除材2Z 移動完了
MPS
ANB T1708                ; ﾈｼﾞ締め治具2 ﾜｰｸ検出
RES M8810                ; 除材2Z 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
AND T1708                ; ﾈｼﾞ締め治具2 ﾜｰｸ検出
TMR K821 K30             ; ﾈｼﾞ締め治具ﾜｰｸ確認時間
CON
AND T821                 ; ﾈｼﾞ締め治具ﾜｰｸ確認時間
OUT M8954                ; ﾈｼﾞ締めJIG2ﾜｰｸ残
;排出ｺﾝﾍﾞｱ排出可能確認
;Discharge Conveyor Can Discharge
LD M8122                 ; 除材CVﾜｰｸ確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
ANB T1714                ; 除材2CV_受取位置ﾜｰｸ検出
AND M8401                ; 除材2CV受取位置ﾜｰｸ無し受取可
ANB Y20A                 ; 除材2_排出CV回転
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;Y軸　排出位置移動
;Move to remove position
LD M8123                 ; 除材位置移動
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8961                ; 除材2Z軸 動作可能
AND M8961                ; 除材2Z軸 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8124                 ; 1Y_P7 move
MPS
DW K7 D8050              ; 除材2Y軸 移動No.
CON
OUT @M4                  ; 除材2Y軸移動
MRD
AND>.L D134 +74000       ; RCA8_Position Data
DW K7 D8051              ; 除材2Z軸 移動No.
CON
OUT @M41                 ; 除材1Z軸移動
MPP
LD M8800                 ; 除材2Y 移動完了
AND M8810                ; 除材2Z 移動完了
ANL
RES M8810                ; 除材2Z 移動完了
CON
RES M8800                ; 除材2Y 移動完了
CON
DW K127 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;Z軸　OK品除材高さ下降
;Down to OK Case remove height
;ﾁｬｯｸ　開
;Chuck Open 
LD M8127                 ; ﾁｬｯｸ　開
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8128                 ; Chuck2_P1 Open
TMH K818 K10             ; ﾁｬｯｸ1開ｳｪｲﾄ
MPS
LD T818                  ; ﾁｬｯｸ1開ｳｪｲﾄ
OR T807                  ; ﾁｬｯｸ開OK
ANL
DW K1 D8052              ; 除材2ﾁｬｯｸ 移動No.
CON
OUT @M54                 ; 除材2ﾁｬｯｸ  移動
MRD
LD M8820                 ; 除材2ﾁｬｯｸ 移動完了
AND T807                 ; ﾁｬｯｸ開OK
ANL
RES M8820                ; 除材2ﾁｬｯｸ 移動完了
CON
DW K130 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
OUT M8714                ; 除材ﾁｬｯｸ2　Open
;Z軸　上昇
;Up to waiting point
LD M8130                 ; 除材ﾍｯﾄﾞ上昇
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8961                ; 除材2Z軸 動作可能
AND= D119 K1             ; RCA10_Position No.
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8131                 ; Z_P1 move
MPS
DW K1 D8051              ; 除材2Z軸 移動No.
CON
OUT @M31                 ; 除材2Z軸移動
MPP
AND M8810                ; 除材2Z 移動完了
RES M8810                ; 除材2Z 移動完了
CON
DW K140 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;在荷確認
;Case check
LD M8140                 ; 在荷確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
AND T1714                ; 除材2CV_受取位置ﾜｰｸ検出
DW K150 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
ANB T1714                ; 除材2CV_受取位置ﾜｰｸ検出
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;★★★　排出時ﾜｰｸ未検出　★★★
;Err471:CV2 Case is not detected
LD M8141                 ; ｴﾗｰ発生
ANB M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
DW K471 D148             ; 警報No.
CON
SET M8931                ; Err471:除材2排出時ﾜｰｸ未検出
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8142                 ; 除材2排出時 ﾜｰｸ無 ｴﾗｰ停止中
AND M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8143                 ; ｴﾗｰ解除確認
AND T131                 ; UT6 7 8   ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
MPS
AND T1714                ; 除材2CV_受取位置ﾜｰｸ検出
DW K141 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
ANB T1714                ; 除材2CV_受取位置ﾜｰｸ検出
DW K380 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;***
;排出完了
LD M8150                 ; 除材1Z上昇確認排出完了
MPS
ANB M8401                ; 除材2CV受取位置ﾜｰｸ無し受取可
DW K380 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
OUT M8970                ; 除材2受渡完了
;■■■
;サイクル停止条件
;Cycle end check
LD M8380                 ; 1ｻｲｸﾙ終了
MPS
LDB M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
ORB M3398                ; UT3ｻｲｸﾙ停止
ANL
DW K0 D8000              ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
LD M70                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M3398                ; UT3ｻｲｸﾙ停止
ANL
DW K386 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;除材2Z軸上空位置移動
;Move to up point
LD M8386                 ; 除材1Z上空位置移動
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
AND= D118 K1             ; RCA9_Position No.
DW K388 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
AND<> D118 K1            ; RCA9_Position No.
SET M8813                ; 除材2Z 上空移動宣言
CON
AND M8961                ; 除材2Z軸 動作可能
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8387                 ; Z_P1 move
MPS
DW K1 D8051              ; 除材2Z軸 移動No.
CON
OUT @M32                 ; 除材2Z軸移動
MPP
AND M8810                ; 除材2Z 移動完了
RES M8813                ; 除材2Z 上空移動宣言
CON
RES M8810                ; 除材2Z 移動完了
CON
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;除材1Y軸ｶﾊﾞｰ待機位置移動
;Move to waiting point
LD M8388                 ; 嵌合Xｶﾊﾞｰ吸着位置移動
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
AND= D117 K2             ; RCA8_Position No.
DW K390 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
LD<> D117 K2             ; RCA8_Position No.
AND M8960                ; 除材2Y軸 動作可能
ANL
@INC D8000               ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8389                 ; Y_P2 move
MPS
DW K2 D8050              ; 除材2Y軸 移動No.
CON
OUT @M5                  ; 除材2Y軸移動
MPP
AND M8800                ; 除材2Y 移動完了
RES M8800                ; 除材2Y 移動完了
CON
DW K390 D8000            ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
LD M8390                 ; ｻｲｸﾙ終了へ
AND M8401                ; 除材2CV受取位置ﾜｰｸ無し受取可
@MOV K398 D8000          ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;終了
;Unit AUTO cycle end
LD M8398                 ; ﾕﾆｯﾄ8ｻｲｸﾙ停止
MPS
LD M70                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND M72                  ; 全ﾕﾆｯﾄ停止確認
ANL
@MOV K399 D8000          ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
MPP
ANB M70                  ; 自動起動停止指令(ｻｲｸﾙ停止)
DW K0 D8000              ; ﾕﾆｯﾄ8自動運転ｽﾃｯﾌﾟ
;<h1/>■原点復帰回路
;
;運転開始・ステッパ初期化・補助接点へ展開
LD CR2002                ; 常時ON
ZRES M8500 M8589         ; ﾕﾆｯﾄ8原点復帰開始  ﾕﾆｯﾄ8原点復帰完了確認
LDB M8904                ; ﾕﾆｯﾄ8原点復帰中
MOV K0 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8904                 ; ﾕﾆｯﾄ8原点復帰中
MOV D8010 Z1             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
SET M8500:Z1             ; ﾕﾆｯﾄ8原点復帰開始
;原点復帰ステップ開始
;Origin start
;ﾈｼﾞ締めﾛﾎﾞｯﾄ原点確認
;Screw Robot Origin check
LD M8500                 ; ﾕﾆｯﾄ8原点復帰開始
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
ANB L28                  ; 嵌合X-Remove2Y衝突記憶
LD M6991                 ; ねじ締めRB　原点復帰完了
OR M27                   ; ねじ締めRB無視
ANL
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;ﾁｬｯｸ　確認
;Chuck check
LD M8501                 ; ﾁｬｯｸ確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
LDB X1728                ; 除材2_ﾁｬｯｸ2-1閉限 ○(ﾜｰｸ有でON)
AND X1729                ; 除材2_ﾁｬｯｸ2-1開限　○
ANB X172A                ; 除材2_ﾁｬｯｸ2-2閉限 ○(ﾜｰｸ有でON)
AND X172B                ; 除材2_ﾁｬｯｸ2-2開限　○
ANL
DW K10 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
MPP
TMR K830 K10             ; ﾁｬｯｸ開確認時間
CON
AND T830                 ; ﾁｬｯｸ開確認時間
DW K30 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;■ﾜｰｸﾁｬｯｸ無し
;■No Case check
;ﾁｬｯｸ2　開
;Chuck2 Open
LD M8510                 ; ﾁｬｯｸ2　Open
MPS
LD M8913                 ; UNIT8     ｴﾗｰ・PAUSE無し
AND T807                 ; ﾁｬｯｸ開OK
ANL
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
MPP
OUT M8715                ; 除材ﾁｬｯｸ2　Open
;除材1ﾁｬｯｸ1　原点復帰
;Remove-Transfer chuck1 HOME
LD M8511                 ; 除材2Z原点復帰
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8963                ; 除材2ﾁｬｯｸ 原点復帰可能
SET M8826                ; 除材2ﾁｬｯｸ 原点復帰中
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8512                 ; RCA10 HOME
MPS
ANB X1258                ; BUSY ID10
OUT M8735                ; ID10 SETUP ON
MPP
AND X1258                ; BUSY ID10
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8513                 ; RCA10 HOME end
ANB X1258                ; BUSY ID10
AND X125A                ; SETON ID10
AND X125B                ; INP ID10
RES M8826                ; 除材2ﾁｬｯｸ 原点復帰中
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;除材1Z軸　原点復帰
;Remove-Transfer Z HOME
LD M8514                 ; 除材2Z原点復帰
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8961                ; 除材2Z軸 動作可能
SET M8816                ; 除材2Z 原点復帰中
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8515                 ; RCA9 HOME
MPS
ANB X1248                ; BUSY ID9
OUT M8730                ; ID9 SETUP ON
MPP
AND X1248                ; BUSY ID9
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8516                 ; RCA9 HOME end
ANB X1248                ; BUSY ID9
AND X124A                ; SETON ID9
AND X124B                ; INP ID9
RES M8816                ; 除材2Z 原点復帰中
CON
DW K20 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;ﾁｬｯｸ2閉じｾﾝｻﾁｪｯｸ
;Chuck2 Close sensor check
LD M8520                 ; ﾁｬｯｸ2　   Close
MPS
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
TMR K813 K10             ; ﾁｬｯｸ閉じ安定時間
CON
AND T813                 ; ﾁｬｯｸ閉じ安定時間
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
MPP
OUT M8704                ; 除材ﾁｬｯｸ2　Close
LD M8521                 ; ﾁｬｯｸ2閉ｾﾝｻ確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
LDB X1728                ; 除材2_ﾁｬｯｸ2-1閉限 ○(ﾜｰｸ有でON)
ANB X172A                ; 除材2_ﾁｬｯｸ2-2閉限 ○(ﾜｰｸ有でON)
ANL
DW K25 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
MPP
LD X1728                 ; 除材2_ﾁｬｯｸ2-1閉限 ○(ﾜｰｸ有でON)
OR X172A                 ; 除材2_ﾁｬｯｸ2-2閉限 ○(ﾜｰｸ有でON)
ANL
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;Err460:Case remain
LD M8522                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K460 D148             ; 警報No.
CON
SET M8920                ; Err460:除材2ﾜｰｸ残
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8523                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8524                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K20 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;ﾁｬｯｸ2　開
;Chuck2 Open
LD M8525                 ; ﾁｬｯｸ2　Open
MPS
LD M8913                 ; UNIT8     ｴﾗｰ・PAUSE無し
AND T807                 ; ﾁｬｯｸ開OK
ANL
DW K29 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
MPP
OUT M8716                ; 除材ﾁｬｯｸ2　Open
;除材1Z軸原点復帰完了
;Remove-Transfer Z HOME end
LD M8529                 ; 除材2Z軸原点復帰完了
MPS
LD M8913                 ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8990                ; 除材2Z軸　原点復帰完了
ANL
DW K60 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
MPP
OUT M8880                ; 除材2Z軸原点復帰完了
;■■ﾜｰｸﾁｬｯｸ中（かも？）
;■■Case checking (maybe)
;ﾁｬｯｸ2閉じ
;Chuck2 Close
LD M8530                 ; ﾁｬｯｸ2　   Close
MPS
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
TMR K811 K5              ; ﾁｬｯｸ閉じ安定時間
CON
AND T811                 ; ﾁｬｯｸ閉じ安定時間
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
MPP
OUT M8702                ; 除材ﾁｬｯｸ2　Close
;除材1Z軸　原点復帰
;Remove-Transfer Z HOME
LD M8531                 ; 除材2Z原点復帰
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8961                ; 除材2Z軸 動作可能
SET M8816                ; 除材2Z 原点復帰中
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8532                 ; RCA9 HOME
MPS
ANB X1248                ; BUSY ID9
OUT M8731                ; ID9 SETUP ON
MPP
AND X1248                ; BUSY ID9
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8533                 ; RCA9 HOME end
ANB X1248                ; BUSY ID9
AND X124A                ; SETON ID9
AND X124B                ; INP ID9
RES M8816                ; 除材2Z 原点復帰中
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;ﾜｰｸ残ﾁｪｯｸ
;Case remain check
LD M8534                 ; ﾁｬｯｸ2　   Close
MPS
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
TMR K812 K10             ; ﾁｬｯｸ閉じ安定時間
CON
AND T812                 ; ﾁｬｯｸ閉じ安定時間
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
MPP
OUT M8703                ; 除材ﾁｬｯｸ2　Close
LD M8535                 ; ﾜｰｸ残ﾁｪｯｸ
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
LDB X1728                ; 除材2_ﾁｬｯｸ2-1閉限 ○(ﾜｰｸ有でON)
ANB X172A                ; 除材2_ﾁｬｯｸ2-2閉限 ○(ﾜｰｸ有でON)
ANL
DW K39 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
MPP
LD X1728                 ; 除材2_ﾁｬｯｸ2-1閉限 ○(ﾜｰｸ有でON)
OR X172A                 ; 除材2_ﾁｬｯｸ2-2閉限 ○(ﾜｰｸ有でON)
ANL
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;Err460:Case remain
LD M8536                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K460 D148             ; 警報No.
CON
SET M8920                ; Err460:除材2ﾜｰｸ残
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8537                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8538                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K34 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;除材1Z軸原点復帰完了
;Remove-Transfer Z HOME end
LD M8539                 ; 除材2Z軸原点復帰完了
MPS
LD M8913                 ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8990                ; 除材2Z軸　原点復帰完了
ANL
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
MPP
OUT M8881                ; 除材2Z軸原点復帰完了
;除材ﾍｯﾄﾞ1ﾁｬｯｸ2　開
;Remove head 1 chuck 2 open
LD M8540                 ; ﾁｬｯｸ2　Open
MPS
LD M8913                 ; UNIT8     ｴﾗｰ・PAUSE無し
AND T807                 ; ﾁｬｯｸ開OK
ANL
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
MPP
OUT M8711                ; 除材ﾁｬｯｸ2　Open
;除材1ﾁｬｯｸ1　原点復帰
;Remove-Transfer chuck1 HOME
LD M8541                 ; 除材2Z原点復帰
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
SET M8826                ; 除材2ﾁｬｯｸ 原点復帰中
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8542                 ; RCA10 HOME
MPS
ANB X1258                ; BUSY ID10
OUT M8736                ; ID10 SETUP ON
MPP
AND X1258                ; BUSY ID10
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8543                 ; RCA10 HOME end
ANB X1258                ; BUSY ID10
AND X125A                ; SETON ID10
AND X125B                ; INP ID10
RES M8826                ; 除材2ﾁｬｯｸ 原点復帰中
CON
DW K60 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;■　■■
;除材ﾁｬｯｸ開
;Remove chuck open
LD M8560                 ; ﾁｬｯｸ開位置（ちょっと狭め）
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
RES L21                  ; 除材1ﾁｬｯｸ ﾜｰｸ有
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8561                 ; Chuck_P1 move
MPS
DW K1 D8052              ; 除材2ﾁｬｯｸ 移動No.
CON
OUT @M55                 ; 除材2ﾁｬｯｸ  移動
MPP
AND M8820                ; 除材2ﾁｬｯｸ 移動完了
RES M8820                ; 除材2ﾁｬｯｸ 移動完了
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;除材1Y軸　原点復帰
;Remove-Transfer Y HOME
LD M8562                 ; 除材2Y軸原点復帰
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8960                ; 除材2Y軸 動作可能
SET M8806                ; 除材2Y 原点復帰中
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8563                 ; RCA8 HOME
MPS
ANB X1238                ; BUSY ID8
OUT Y203C                ; ID8 SETUP
MPP
AND X1238                ; BUSY ID8
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8564                 ; RCA8 HOME end
ANB X1238                ; BUSY ID8
AND X123A                ; SETON ID8
AND X123B                ; INP ID8
RES L28                  ; 嵌合X-Remove2Y衝突記憶
CON
RES M8806                ; 除材2Y 原点復帰中
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;除材2Y軸原点復帰完了
;Remove2 Y HOME end
LD M8565                 ; 除材2Y 原点復帰完了
MPS
LD M8913                 ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8991                ; 除材2Y軸　原点復帰完了
ANL
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
MPP
OUT M8882                ; 除材2Y軸原点復帰完了
;Y軸　待機位置へ
;Move to waiting position (Y axis) 
LD M8566                 ; 待機位置へ
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8960                ; 除材2Y軸 動作可能
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8567                 ; Y_P2 move
MPS
DW K2 D8050              ; 除材2Y軸 移動No.
CON
OUT @M6                  ; 除材2Y軸移動
MPP
AND M8800                ; 除材2Y 移動完了
RES M8800                ; 除材2Y 移動完了
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;Z軸　待機高さ移動
;Up to waiting height
LD M8568                 ; Z軸上空位置移動
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
AND M8961                ; 除材2Z軸 動作可能
AND= D119 K1             ; RCA10_Position No.
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8569                 ; Z_P1 move
MPS
DW K1 D8051              ; 除材2Z軸 移動No.
CON
OUT @M33                 ; 除材2Z軸移動
MPP
AND M8810                ; 除材2Z 移動完了
RES M8810                ; 除材2Z 移動完了
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;ﾜｰｸ残ﾁｪｯｸ
;Case remain check
LD M8570                 ; ﾜｰｸ残確認
AND M8913                ; UNIT8     ｴﾗｰ・PAUSE無し
MPS
LDB T1510                ; 投入3_受渡位置 ﾜｰｸ有
ANB T1708                ; ﾈｼﾞ締め治具2 ﾜｰｸ検出
ANB T1714                ; 除材2CV_受取位置ﾜｰｸ検出
ANL
DW K80 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
MPP
LD T1510                 ; 投入3_受渡位置 ﾜｰｸ有
OR T1708                 ; ﾈｼﾞ締め治具2 ﾜｰｸ検出
OR T1714                 ; 除材2CV_受取位置ﾜｰｸ検出
ANL
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;ｴﾗｰ460:ﾜｰｸ取出ｸﾗﾝﾌﾟ開
;Err460:Case remain
LD M8571                 ; ｴﾗｰ発生
ANB M71                  ; All Error PAUSE
DW K460 D148             ; 警報No.
CON
SET M8920                ; Err460:除材2ﾜｰｸ残
CON
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8572                 ; ｴﾗｰ中
AND M71                  ; All Error PAUSE
@INC D8010               ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
LD M8573                 ; ｴﾗｰ解除確認
AND T130                 ; ｴﾗｰﾘﾄﾗｲｳｪｲﾄ
DW K70 D8010             ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;原点復帰終了
LD M8580                 ; 原点復帰動作完了
AND M8900                ; ﾕﾆｯﾄ8原点
OUT M8588                ; ﾕﾆｯﾄ8原点復帰完了
LD M8588                 ; ﾕﾆｯﾄ8原点復帰完了
ANB M98                  ; 原点復帰開始
@MOV K89 D8010           ; ﾕﾆｯﾄ8原点復帰ｽﾃｯﾌﾟ
;■強制ﾁｬｯｸ開回路
;Chuck forcibly canceled
LD M8905                 ; ﾕﾆｯﾄ8起動中
AND M8096                ; 排出2ｴﾗｰ停止中
ANB M134                 ; NG排出2安全扉正常
LD M97                   ; 原点復帰動作中
AND M8920                ; Err460:除材2ﾜｰｸ残
ANB M134                 ; NG排出2安全扉正常
ORL
LDB M81                  ; 自動運転開始BZ
ANB M97                  ; 原点復帰動作中
LDB M131                 ; 安全扉正常
ORB M133                 ; NG排出1安全扉正常
ORB M134                 ; NG排出2安全扉正常
ANL
ORL
AND T1713                ; 除材2_ﾁｬｯｸ開ﾌｯﾄｽｲｯﾁ
OUT M8591                ; 除材2強制ﾁｬｯｸ開
LD CR2002                ; 常時ON
MPS
LD M8591                 ; 除材2強制ﾁｬｯｸ開
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
AND T807                 ; ﾁｬｯｸ開OK
OR M8590                 ; 除材2ﾁｬｯｸ強制開P1移動
ANB M8820                ; 除材2ﾁｬｯｸ 移動完了
ANL
OUT M8590                ; 除材2ﾁｬｯｸ強制開P1移動
DW K1 D8052              ; 除材2ﾁｬｯｸ 移動No.
CON
OUT @M56                 ; 除材2ﾁｬｯｸ  移動
MPP
ANF M8590                ; 除材2ﾁｬｯｸ強制開P1移動
RES M8820                ; 除材2ﾁｬｯｸ 移動完了
LD CR2002                ; 常時ON
LD M8591                 ; 除材2強制ﾁｬｯｸ開
ANB M8962                ; 除材2ﾁｬｯｸ 動作可能
AND M8963                ; 除材2ﾁｬｯｸ 原点復帰可能
OR M8592                 ; 除材ﾁｬｯｸ2強制原点復帰で開
ANL
LDB X125A                ; SETON ID10
ORB X125B                ; INP ID10
ANL
MPS
@SET M8826               ; 除材2ﾁｬｯｸ 原点復帰中
CON
OUT M8592                ; 除材ﾁｬｯｸ2強制原点復帰で開
MPP
OUT M8651                ; RCA10 SETUP信号ON
;<h1/>■手動回路 
;
LD M33                   ; 手動ﾓｰﾄﾞ
AND M34                  ; ﾒｲﾝ手動操作可能条件
ANB M8905                ; ﾕﾆｯﾄ8起動中
ANB M97                  ; 原点復帰動作中
MC
LDB X1238                ; BUSY ID8
ANB X1248                ; BUSY ID9
ANB X1258                ; BUSY ID10
MPS
AND M8960                ; 除材2Y軸 動作可能
TMH K860 K20             ; 手動起動許可ｳｪｲﾄ
CON
AND T860                 ; 手動起動許可ｳｪｲﾄ
OUT M8608                ; 除材2手動Y軸動作可能
MRD
AND M8961                ; 除材2Z軸 動作可能
TMH K861 K20             ; 手動起動許可ｳｪｲﾄ
CON
AND T861                 ; 手動起動許可ｳｪｲﾄ
OUT M8609                ; 除材2手動Z軸動作可能
MPP
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
TMH K862 K20             ; 手動起動許可ｳｪｲﾄ
CON
AND T862                 ; 手動起動許可ｳｪｲﾄ
OUT M8610                ; 除材2手動ﾁｬｯｸ動作可能
;除材搬送2 Y軸
;Remove-Transfer 2 Y
LD CR2002                ; 常時ON
MPS
LD B1160                 ; 除材2Y軸　OK品排出位置 PB
AND M8608                ; 除材2手動Y軸動作可能
OR M8611                 ; 除材2Y    P7移動
ANB M8800                ; 除材2Y 移動完了
ANL
OUT M8611                ; 除材2Y    P7移動
DW K7 D8050              ; 除材2Y軸 移動No.
CON
OUT @M7                  ; 除材2Y軸移動
MPP
ANF M8611                ; 除材2Y    P7移動
RES M8800                ; 除材2Y 移動完了
LD CR2002                ; 常時ON
MPS
LD B1161                 ; 除材2Y軸　NG品排出位置 PB
AND M8608                ; 除材2手動Y軸動作可能
OR M8616                 ; 除材2Y    P6移動
ANB M8800                ; 除材2Y 移動完了
ANL
OUT M8616                ; 除材2Y    P6移動
DW K6 D8050              ; 除材2Y軸 移動No.
CON
OUT @M8                  ; 除材2Y軸移動
MPP
ANF M8616                ; 除材2Y    P6移動
RES M8800                ; 除材2Y 移動完了
LD CR2002                ; 常時ON
MPS
LD B1162                 ; 除材2Y軸　ﾈｼﾞ締め位置 PB
AND M8608                ; 除材2手動Y軸動作可能
OR M8613                 ; 除材2Y    P5移動
ANB M8800                ; 除材2Y 移動完了
ANL
OUT M8613                ; 除材2Y    P5移動
DW K5 D8050              ; 除材2Y軸 移動No.
CON
OUT @M9                  ; 除材2Y軸移動
MPP
ANF M8613                ; 除材2Y    P5移動
RES M8800                ; 除材2Y 移動完了
LD CR2002                ; 常時ON
MPS
LD B1163                 ; 除材2Y軸　待機位置 PB
AND M8608                ; 除材2手動Y軸動作可能
OR M8614                 ; 除材2Y    P2移動
ANB M8800                ; 除材2Y 移動完了
ANL
OUT M8614                ; 除材2Y    P2移動
DW K2 D8050              ; 除材2Y軸 移動No.
CON
OUT @M10                 ; 除材2Y軸移動
MPP
ANF M8614                ; 除材2Y    P2移動
RES M8800                ; 除材2Y 移動完了
LD CR2002                ; 常時ON
MPS
LD B1164                 ; 除材2Y軸　受取位置 PB
AND M8608                ; 除材2手動Y軸動作可能
OR M8615                 ; 除材2Y    P3移動
ANB M8800                ; 除材2Y 移動完了
ANL
OUT M8615                ; 除材2Y    P3移動
DW K3 D8050              ; 除材2Y軸 移動No.
CON
OUT @M11                 ; 除材2Y軸移動
MPP
ANF M8615                ; 除材2Y    P3移動
RES M8800                ; 除材2Y 移動完了
;除材搬送2 Z軸
;Remove-Transfer 2 Z
LD CR2002                ; 常時ON
MPS
LD B1165                 ; 除材2Z軸　上空待機高さ PB
AND M8609                ; 除材2手動Z軸動作可能
OR M8620                 ; 除材2Z    P1移動
ANB M8810                ; 除材2Z 移動完了
ANL
OUT M8620                ; 除材2Z    P1移動
DW K1 D8051              ; 除材2Z軸 移動No.
CON
OUT @M34                 ; 除材2Z軸移動
MPP
ANF M8620                ; 除材2Z    P1移動
RES M8810                ; 除材2Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1166                 ; 除材2Z軸　NG品排出高さ PB
AND M8609                ; 除材2手動Z軸動作可能
OR M8621                 ; 除材2Z    P6移動
ANB M8810                ; 除材2Z 移動完了
ANL
OUT M8621                ; 除材2Z    P6移動
DW K6 D8051              ; 除材2Z軸 移動No.
CON
OUT @M35                 ; 除材2Z軸移動
MPP
ANF M8621                ; 除材2Z    P6移動
RES M8810                ; 除材2Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1167                 ; 除材2Z軸　OK品排出高さ PB
AND= D117 K7             ; RCA8_Position No.
AND M8609                ; 除材2手動Z軸動作可能
OR M8622                 ; 除材2Z    P7移動
ANB M8810                ; 除材2Z 移動完了
ANL
OUT M8622                ; 除材2Z    P7移動
DW K7 D8051              ; 除材2Z軸 移動No.
CON
OUT @M36                 ; 除材2Z軸移動
MPP
ANF M8622                ; 除材2Z    P7移動
RES M8810                ; 除材2Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1168                 ; 除材2Z軸　ﾈｼﾞ締め高さ PB
AND= D117 K5             ; RCA8_Position No.
AND M8609                ; 除材2手動Z軸動作可能
LD T807                  ; ﾁｬｯｸ開OK
LD= D118 K8              ; RCA9_Position No.
OR R3710                 ; 除材2Z    ねじ締め領域
ANL
OR=.L D138 E3350         ; RCA10_Position Data  R2ｸﾗﾝﾌﾟ開TP_Pos_Data
ORB T1700                ; ﾈｼﾞ締め治具1 ﾜｰｸ検出
ANL
OR M8623                 ; 除材2Z    P5移動
ANB M8810                ; 除材2Z 移動完了
ANL
OUT M8623                ; 除材2Z    P5移動
DW K5 D8051              ; 除材2Z軸 移動No.
CON
OUT @M37                 ; 除材2Z軸移動
MPP
ANF M8623                ; 除材2Z    P5移動
RES M8810                ; 除材2Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1169                 ; 除材2Z軸　受取高さ PB
AND= D117 K3             ; RCA8_Position No.
AND M8609                ; 除材2手動Z軸動作可能
OR M8624                 ; 除材2Z    P3移動
ANB M8810                ; 除材2Z 移動完了
ANL
OUT M8624                ; 除材2Z    P3移動
DW K3 D8051              ; 除材2Z軸 移動No.
CON
OUT @M38                 ; 除材2Z軸移動
MPP
ANF M8624                ; 除材2Z    P3移動
RES M8810                ; 除材2Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1170                 ; 除材2Z軸　ﾈｼﾞ前ﾘﾘｰｽ高さ PB
AND=.L D134 E3148        ; RCA8_Position Data  除材2Y_TP_Pos5_Data
AND M8609                ; 除材2手動Z軸動作可能
LD T805                  ; ﾜｰｸﾁｬｯｸOK
LD R3710                 ; 除材2Z    ねじ締め領域
ORB T1708                ; ﾈｼﾞ締め治具2 ﾜｰｸ検出
ANL
OR=.L D138 E3350         ; RCA10_Position Data  R2ｸﾗﾝﾌﾟ開TP_Pos_Data
OR R3710                 ; 除材2Z    ねじ締め領域
ANL
OR M8625                 ; 除材2Z    P8移動
ANB M8810                ; 除材2Z 移動完了
ANL
OUT M8625                ; 除材2Z    P8移動
DW K8 D8051              ; 除材2Z軸 移動No.
CON
OUT @M39                 ; 除材2Z軸移動
MPP
ANF M8625                ; 除材2Z    P8移動
RES M8810                ; 除材2Z 移動完了
LD CR2002                ; 常時ON
MPS
LD B1171                 ; 除材2Z軸　ﾈｼﾞ後ﾁｬｯｸ高さ PB
AND=.L D134 E3148        ; RCA8_Position Data  除材2Y_TP_Pos5_Data
AND M8609                ; 除材2手動Z軸動作可能
LD= D118 K5              ; RCA9_Position No.
AND T807                 ; ﾁｬｯｸ開OK
OR=.L D138 E3350         ; RCA10_Position Data  R2ｸﾗﾝﾌﾟ開TP_Pos_Data
OR R3710                 ; 除材2Z    ねじ締め領域
ANL
OR M8626                 ; 除材2Z    P9移動
ANB M8810                ; 除材2Z 移動完了
ANL
OUT M8626                ; 除材2Z    P9移動
DW K9 D8051              ; 除材2Z軸 移動No.
CON
OUT @M40                 ; 除材2Z軸移動
MPP
ANF M8626                ; 除材2Z    P9移動
RES M8810                ; 除材2Z 移動完了
;除材搬送2 ﾁｬｯｸ 1
;Remove-Transfer 2  Chuck 1
LD CR2002                ; 常時ON
MPS
LD B116A                 ; 除材2ﾁｬｯｸ1　閉 PB
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
OR M8630                 ; 除材2chuckP2移動
ANB M8820                ; 除材2ﾁｬｯｸ 移動完了
ANL
OUT M8630                ; 除材2chuckP2移動
DW K2 D8052              ; 除材2ﾁｬｯｸ 移動No.
CON
OUT @M57                 ; 除材2ﾁｬｯｸ  移動
MPP
ANF M8630                ; 除材2chuckP2移動
RES M8820                ; 除材2ﾁｬｯｸ 移動完了
LD CR2002                ; 常時ON
MPS
LD B116B                 ; 除材2ﾁｬｯｸ1　開 PB
AND M8962                ; 除材2ﾁｬｯｸ 動作可能
OR M8631                 ; 除材2chuckP1移動
ANB M8820                ; 除材2ﾁｬｯｸ 移動完了
ANL
OUT M8631                ; 除材2chuckP1移動
DW K1 D8052              ; 除材2ﾁｬｯｸ 移動No.
CON
OUT @M58                 ; 除材2ﾁｬｯｸ  移動
MPP
ANF M8631                ; 除材2chuckP1移動
RES M8820                ; 除材2ﾁｬｯｸ 移動完了
;除材搬送2 ﾁｬｯｸ 2
;Remove-Transfer 2  Chuck 2
LDP B1172                ; 除材2ﾁｬｯｸ2　閉PB
OUT M8644                ; 除材2ﾁｬｯｸ2MUN閉
LDP B1173                ; 除材2ﾁｬｯｸ2　開PB
OUT M8645                ; 除材2ﾁｬｯｸ2MUN開
;Jog
LD X1239                 ; SVRE ID8
AND X123A                ; SETON ID8
ANB X123E                ; ESTOP ID8
ANB X123F                ; ALARM ID8
ANB M8800                ; 除材2Y 移動完了
ANB M8802                ; 除材2Y 移動中
ANB M8804                ; 除材2Y 原点復帰完了
MPS
AND B2116                ; 除材2Y軸+JOG PB
OUT Y203E                ; ID8 JOG+
MPP
AND B2117                ; 除材2Y軸-JOG PB
OUT Y203D                ; ID8 JOG-
LD X1249                 ; SVRE ID9
AND X124A                ; SETON ID9
ANB X124E                ; ESTOP ID9
ANB X124F                ; ALARM ID9
ANB M8810                ; 除材2Z 移動完了
ANB M8812                ; 除材2Z 移動中
ANB M8814                ; 除材2Z 原点復帰完了
MPS
AND B2118                ; 除材2Z軸+JOG PB
OUT Y204E                ; ID9 JOG+
MPP
AND B2119                ; 除材2Z軸-JOG PB
OUT Y204D                ; ID9 JOG-
LD X1259                 ; SVRE ID10
AND X125A                ; SETON ID10
ANB X125E                ; ESTOP ID10
ANB X125F                ; ALARM ID10
ANB M8820                ; 除材2ﾁｬｯｸ 移動完了
ANB M8822                ; 除材2ﾁｬｯｸ 移動中
ANB M8824                ; 除材2ﾁｬｯｸ 原点復帰完了
MPS
AND B211A                ; 除材2ﾁｬｯｸ+JOG PB
OUT Y205E                ; ID10 JOG+
MPP
AND B211B                ; 除材2ﾁｬｯｸ-JOG PB
OUT Y205D                ; ID10 JOG-
;除材CV
;Remove CV
LDP B116C                ; 除材CV2 ON PB
AND M33                  ; 手動ﾓｰﾄﾞ
AND M129                 ; 非常停止正常
AND M130                 ; 外部非常停止正常
ANB M8905                ; ﾕﾆｯﾄ8起動中
ANB M97                  ; 原点復帰動作中
ALT M8660                ; 除材CV2 ON
LDF M33                  ; 手動ﾓｰﾄﾞ
ORP M97                  ; 原点復帰動作中
RES M8660                ; 除材CV2 ON
MCR
;<h1/>■サブルーチン
;
;<h1/>///排出CV動作
;Remove CV
;運転開始・ステッパ初期化・補助接点へ展開
LDP M83                  ; 各工程起動指令
OR M8905                 ; ﾕﾆｯﾄ8起動中
LD M8150                 ; 除材1Z上昇確認排出完了
AND M28                  ; 仮 NAT
ORL
ANB M8439                ; 排出2CVｻｲｸﾙ完了
ANB M7903                ; ﾕﾆｯﾄ7起動OFF
OUT M8150                ; 除材1Z上昇確認排出完了
LD CR2002                ; 常時ON
ZRES M8400 M8439         ; 除材2CV動作開始  排出2CVｻｲｸﾙ完了
LDB M8150                ; 除材1Z上昇確認排出完了
MOV K0 D8001             ; UT8SUB1  排出CV STEP
LD M8150                 ; 除材1Z上昇確認排出完了
MOV D8001 Z1             ; UT8SUB1  排出CV STEP
SET M8400:Z1             ; 除材2CV動作開始
;自動運転ステップ開始
;受取位置ﾜｰｸ有無確認
;Receiving Position Work Check
LD M8400                 ; 除材2CV動作開始
MPS
ANB T1714                ; 除材2CV_受取位置ﾜｰｸ検出
@INC D8001               ; UT8SUB1  排出CV STEP
MPP
AND T1714                ; 除材2CV_受取位置ﾜｰｸ検出
DW K3 D8001              ; UT8SUB1  排出CV STEP
;受取確認
;Receipt Confirmation
LD M8401                 ; 除材2CV受取位置ﾜｰｸ無し受取可
MPS
AND M8970                ; 除材2受渡完了
@INC D8001               ; UT8SUB1  排出CV STEP
MPP
ANB M8905                ; ﾕﾆｯﾄ8起動中
DW K39 D8001             ; UT8SUB1  排出CV STEP
LD M8402                 ; 除材2CV受取完了
ANB M8970                ; 除材2受渡完了
@INC D8001               ; UT8SUB1  排出CV STEP
;ｺﾝﾍﾞｱ回転
;Conveyor Start
LD M8403                 ; 除材2CV受取完了OFF確認
ANB T1711                ; 除材2CV_排出位置ﾜｰｸ検出
MPS
TMH K850 K50             ; 除材2CV回転開始ﾃﾞｨﾚｲ
MPP
AND T850                 ; 除材2CV回転開始ﾃﾞｨﾚｲ
@INC D8001               ; UT8SUB1  排出CV STEP
;ﾜｰｸ通過判定
;Work Pass Judgment
LD Y20A                  ; 除材2_排出CV回転
@DW K0 @D0               ; 受渡区間通過時間計測
MPS
AND CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
@INC @D0                 ; 受渡区間通過時間計測
MRD
ANF T1714                ; 除材2CV_受取位置ﾜｰｸ検出
MOV @D0 @D1              ; 受渡区間通過時間計測  受渡区間通過時間
LDA @D1                  ; 受渡区間通過時間
CON
DIV K2
CON
STA @D2                  ; 停止ｾﾝｻ無効時間
MPP
ANB T1714                ; 除材2CV_受取位置ﾜｰｸ検出
TMR K849 @D2             ; CV停止ｾﾝｻ有効  停止ｾﾝｻ無効時間
LD M8404                 ; 除材2CV回転
MPS
AND T1714                ; 除材2CV_受取位置ﾜｰｸ検出
MPS
TMR K851 K50             ; 除材2CV回転ﾃﾞｨﾚｲ
MPP
AND T851                 ; 除材2CV回転ﾃﾞｨﾚｲ
@INC D8001               ; UT8SUB1  排出CV STEP
MRD
ANB T1714                ; 除材2CV_受取位置ﾜｰｸ検出
TMR K852 K60             ; 除材2CV通過後停止ﾀｲﾏ
MPS
LD T1711                 ; 除材2CV_排出位置ﾜｰｸ検出
AND T849                 ; CV停止ｾﾝｻ有効
ANL
DW K10 D8001             ; UT8SUB1  排出CV STEP
MPP
LD T852                  ; 除材2CV通過後停止ﾀｲﾏ
LD T1711                 ; 除材2CV_排出位置ﾜｰｸ検出
ANB T849                 ; CV停止ｾﾝｻ有効
ORL
ANL
DIFU M8671               ; 除材ﾀｲﾐﾝｸﾞNG発生
CON
DW K10 D8001             ; UT8SUB1  排出CV STEP
MPP
OUT M8670                ; 除材2_CV 回転
LD M8671                 ; 除材ﾀｲﾐﾝｸﾞNG発生
OR M8672                 ; 除材ﾀｲﾐﾝｸﾞNGﾌﾞｻﾞ
AND T848                 ; 除材ﾀｲﾐﾝｸﾞNGﾌﾞｻﾞOFFﾀｲﾏ
OUT M8672                ; 除材ﾀｲﾐﾝｸﾞNGﾌﾞｻﾞ
TMR K848 K5              ; 除材ﾀｲﾐﾝｸﾞNGﾌﾞｻﾞOFFﾀｲﾏ
;★★★　排出時ﾜｰｸ引っ掛かり　★★★
;排出CV排出NG発生
;Err472: Discharge CV2 NG
LD M8405                 ; 除材2CVﾜｰｸ排出ﾀｲﾑｱｳﾄ
ANB M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
DW K472 D148             ; 警報No.
CON
SET M8932                ; Err472:除材2排出CV払出異常
CON
@INC D8001               ; UT8SUB1  排出CV STEP
LD M8406                 ; 除材2CVﾜｰｸ排出ﾀｲﾑｱｳﾄ異常
AND M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
@INC D8001               ; UT8SUB1  排出CV STEP
LD M8407                 ; 除材2CVﾜｰｸ排出ﾀｲﾑｱｳﾄｴﾗｰ停止中
ANB M75                  ; ﾕﾆｯﾄ6.7.8 Error PAUSE
DW K10 D8001             ; UT8SUB1  排出CV STEP
;終了
;END
LD M8410                 ; 除材CV2ﾜｰｸ排出完了
DW K39 D8001             ; UT8SUB1  排出CV STEP
LD M83                   ; 各工程起動指令
AND T1711                ; 除材2CV_排出位置ﾜｰｸ検出
TMR K2001 K300           ; 排出CV2取出催促
;<h1/>出力
;OUTPUT
;排出ｺﾝﾍﾞｱ
;Conveyor
LD M32                   ; 自動ﾓｰﾄﾞ
AND M8670                ; 除材2_CV 回転
ANB T1711                ; 除材2CV_排出位置ﾜｰｸ検出
LD M33                   ; 手動ﾓｰﾄﾞ
AND M8660                ; 除材CV2 ON
ORL
OUT Y20A                 ; 除材2_排出CV回転
;SMC RB
LDB M8730                ; ID9 SETUP ON
ANB M8731                ; ID9 SETUP ON
INV
OUT Y204C                ; ID9 SETUP
LDB M8735                ; ID10 SETUP ON
ANB M8736                ; ID10 SETUP ON
INV
OUT Y205C                ; ID10 SETUP
;ﾛﾎﾞｯﾄ
;ROBOT
LDB @M0                  ; 除材2Y軸移動
ANB @M1                  ; 除材2Y軸移動
ANB @M2                  ; 除材2Y軸移動
ANB @M3                  ; 除材2Y軸移動
ANB @M4                  ; 除材2Y軸移動
ANB @M5                  ; 除材2Y軸移動
ANB @M6                  ; 除材2Y軸移動
ANB @M7                  ; 除材2Y軸移動
ANB @M8                  ; 除材2Y軸移動
ANB @M9                  ; 除材2Y軸移動
ANB @M10                 ; 除材2Y軸移動
ANB @M11                 ; 除材2Y軸移動
INV
ANB M6055                ; 排出2ﾈｼﾞ締め完了待ち
OUT M8840                ; 除材2Y軸移動
LD M8840                 ; 除材2Y軸移動
MCALL P_MOVE_S K8 D8050 M8801 M8800 M8802;除材2Y軸 移動No.  除材2Y 移動異常  除材2Y 移動完了  除材2Y 移動中
LDB @M20                 ; 除材2Z軸移動
ANB @M21                 ; 除材2Z軸移動
ANB @M22                 ; 除材2Z軸移動
ANB @M23                 ; 除材2Z軸移動
ANB @M24                 ; 除材2Z軸移動
ANB @M25                 ; 除材2Z軸移動
ANB @M26                 ; 除材2Z軸移動
ANB @M27                 ; 除材2Z軸移動
ANB @M28                 ; 除材2Z軸移動
ANB @M29                 ; 除材2Z軸移動
ANB @M30                 ; 除材2Z軸移動
ANB @M31                 ; 除材2Z軸移動
ANB @M32                 ; 除材2Z軸移動
ANB @M33                 ; 除材2Z軸移動
ANB @M34                 ; 除材2Z軸移動
ANB @M35                 ; 除材2Z軸移動
ANB @M36                 ; 除材2Z軸移動
ANB @M37                 ; 除材2Z軸移動
ANB @M38                 ; 除材2Z軸移動
ANB @M39                 ; 除材2Z軸移動
ANB @M40                 ; 除材2Z軸移動
ANB @M41                 ; 除材1Z軸移動
INV
ANB M6055                ; 排出2ﾈｼﾞ締め完了待ち
MCALL P_MOVE_S K9 D8051 M8811 M8810 M8812;除材2Z軸 移動No.  除材2Z 移動異常  除材2Z 移動完了  除材2Z 移動中
LDB @M50                 ; 除材2ﾁｬｯｸ  移動
ANB @M51                 ; 除材2ﾁｬｯｸ  移動
ANB @M52                 ; 除材2ﾁｬｯｸ  移動
ANB @M53                 ; 除材2ﾁｬｯｸ  移動
ANB @M54                 ; 除材2ﾁｬｯｸ  移動
ANB @M55                 ; 除材2ﾁｬｯｸ  移動
ANB @M56                 ; 除材2ﾁｬｯｸ  移動
ANB @M57                 ; 除材2ﾁｬｯｸ  移動
ANB @M58                 ; 除材2ﾁｬｯｸ  移動
INV
ANB M6055                ; 排出2ﾈｼﾞ締め完了待ち
MCALL P_MOVE_S K10 D8052 M8821 M8820 M8822;除材2ﾁｬｯｸ 移動No.  除材2ﾁｬｯｸ 移動異常  除材2ﾁｬｯｸ 移動完了  除材2ﾁｬｯｸ 移動中
;除材ﾍｯﾄﾞ1ﾁｬｯｸ2
;Remove head 1 chuck 2
LDP M8644                ; 除材2ﾁｬｯｸ2MUN閉
ORP M8701                ; 除材ﾁｬｯｸ2　Close
ORP M8702                ; 除材ﾁｬｯｸ2　Close
ORP M8703                ; 除材ﾁｬｯｸ2　Close
ORP M8704                ; 除材ﾁｬｯｸ2　Close
ORP M8705                ; 除材ﾁｬｯｸ2　Close
ORP M8706                ; 除材ﾁｬｯｸ2　Close
OR M8700                 ; 除材ﾍｯﾄﾞ1ﾁｬｯｸ2閉補助
ANPB M8710               ; 除材ﾍｯﾄﾞ1ﾁｬｯｸ2開補助
OUT M8700                ; 除材ﾍｯﾄﾞ1ﾁｬｯｸ2閉補助
LDP M8591                ; 除材2強制ﾁｬｯｸ開
ORP M8645                ; 除材2ﾁｬｯｸ2MUN開
ORP M8711                ; 除材ﾁｬｯｸ2　Open
ORP M8712                ; 除材ﾁｬｯｸ2　Open
ORP M8713                ; 除材ﾁｬｯｸ2　Open
ORP M8714                ; 除材ﾁｬｯｸ2　Open
ORP M8715                ; 除材ﾁｬｯｸ2　Open
ORP M8716                ; 除材ﾁｬｯｸ2　Open
ORP M8717                ; 除材ﾁｬｯｸ2　Open
ORP M8718                ; 除材ﾁｬｯｸ2　Open
ORP M8719                ; 除材ﾁｬｯｸ2　Open
OR M8710                 ; 除材ﾍｯﾄﾞ1ﾁｬｯｸ2開補助
ANPB M8700               ; 除材ﾍｯﾄﾞ1ﾁｬｯｸ2閉補助
OUT M8710                ; 除材ﾍｯﾄﾞ1ﾁｬｯｸ2開補助
LD M8700                 ; 除材ﾍｯﾄﾞ1ﾁｬｯｸ2閉補助
OUT Y2463                ; 除材2_ﾁｬｯｸ2　閉　○
LD M8710                 ; 除材ﾍｯﾄﾞ1ﾁｬｯｸ2開補助
OUT Y2464                ; 除材2_ﾁｬｯｸ2　開　○
;<h1/>異常検出
;
LD M81                   ; 自動運転開始BZ
AND<> D94 E3424          ; Screw2 Jig ID  Screw Jig2 ID 
TMR K843 K10             ; ねじ締め治具2ID異常
LD CR2002                ; 常時ON
MPS
LD T843                  ; ねじ締め治具2ID異常
OR M8956                 ; ﾈｼﾞ締め2 Jig No.異常
OR M8957                 ; ﾈｼﾞ締め2 Jig No.異常
LDB B05F0                ; ﾈｼﾞ締台2_Jig番号異常 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0F0                 ; ﾈｼﾞ締めJig2ID異常
ORL
ANL
OUT B0F0                 ; ﾈｼﾞ締めJig2ID異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05F0                 ; ﾈｼﾞ締台2_Jig番号異常 BZ停止
AND B0F0                 ; ﾈｼﾞ締めJig2ID異常
ANL
OUT B05F0                ; ﾈｼﾞ締台2_Jig番号異常 BZ停止
LD CR2002                ; 常時ON
MPS
LD M64                   ; 運転準備
AND X123F                ; ALARM ID8
LDB B05F1                ; 除材2Y軸異常 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0F1                 ; 除材2Y軸異常
ORL
ANL
OUT B0F1                 ; 除材2Y軸異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05F1                 ; 除材2Y軸異常 BZ停止
AND B0F1                 ; 除材2Y軸異常
ANL
OUT B05F1                ; 除材2Y軸異常 BZ停止
LD CR2002                ; 常時ON
MPS
LD M64                   ; 運転準備
AND X124F                ; ALARM ID9
LDB B05F2                ; 除材2Z軸異常 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0F2                 ; 除材2Z軸異常
ORL
ANL
OUT B0F2                 ; 除材2Z軸異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05F2                 ; 除材2Z軸異常 BZ停止
AND B0F2                 ; 除材2Z軸異常
ANL
OUT B05F2                ; 除材2Z軸異常 BZ停止
LD CR2002                ; 常時ON
MPS
LD M64                   ; 運転準備
AND X125F                ; ALARM ID10
LDB B05F3                ; 除材2ﾁｬｯｸ異常 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0F3                 ; 除材2ﾁｬｯｸ軸異常
ORL
ANL
OUT B0F3                 ; 除材2ﾁｬｯｸ軸異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05F3                 ; 除材2ﾁｬｯｸ異常 BZ停止
AND B0F3                 ; 除材2ﾁｬｯｸ軸異常
ANL
OUT B05F3                ; 除材2ﾁｬｯｸ異常 BZ停止
LD M64                   ; 運転準備
AND= D119 K2             ; RCA10_Position No.
AND L22                  ; 除材2ﾁｬｯｸ ﾜｰｸ有
ANB X125B                ; INP ID10
TMR K840 K10             ; ﾁｬｯｸ異常検出時間
LD CR2002                ; 常時ON
MPS
LD T840                  ; ﾁｬｯｸ異常検出時間
LDB T1708                ; ﾈｼﾞ締め治具2 ﾜｰｸ検出
AND M6055                ; 排出2ﾈｼﾞ締め完了待ち
AND X1068                ; ﾈｼﾞ締め動作開始ﾌﾗｸﾞ
ORL
LDB B05F4                ; 除材2ﾜｰｸ行方不明 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0F4                 ; 除材2ﾜｰｸ行方不明
ORL
ANL
OUT B0F4                 ; 除材2ﾜｰｸ行方不明
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05F4                 ; 除材2ﾜｰｸ行方不明 BZ停止
AND B0F4                 ; 除材2ﾜｰｸ行方不明
ANL
OUT B05F4                ; 除材2ﾜｰｸ行方不明 BZ停止
LD CR2002                ; 常時ON
MPS
LD M8951                 ; 除材2除材時ﾜｰｸ落下異常
OR M8919                 ; Caseﾁｬｯｸﾐｽ
LDB B05F5                ; ﾕﾆｯﾄ8_異常6 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0F5                 ; 除材2ｹｰｽﾁｬｯｸﾐｽ
ORL
ANL
OUT B0F5                 ; 除材2ｹｰｽﾁｬｯｸﾐｽ
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05F5                 ; ﾕﾆｯﾄ8_異常6 BZ停止
AND B0F5                 ; 除材2ｹｰｽﾁｬｯｸﾐｽ
ANL
OUT B05F5                ; ﾕﾆｯﾄ8_異常6 BZ停止
LD CR2002                ; 常時ON
MPS
LD M8954                 ; ﾈｼﾞ締めJIG2ﾜｰｸ残
OR M8955                 ; ﾈｼﾞ締めJIG2ﾜｰｸ残
LDB B05F6                ; ﾈｼﾞ締台2 ﾜｰｸ有異常 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0F6                 ; ﾈｼﾞ締台2 ﾜｰｸ有異常
ORL
ANL
OUT B0F6                 ; ﾈｼﾞ締台2 ﾜｰｸ有異常
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05F6                 ; ﾈｼﾞ締台2 ﾜｰｸ有異常 BZ停止
AND B0F6                 ; ﾈｼﾞ締台2 ﾜｰｸ有異常
ANL
OUT B05F6                ; ﾈｼﾞ締台2 ﾜｰｸ有異常 BZ停止
LD CR2002                ; 常時ON
MPS
LD M8953                 ; ﾈｼﾞ締め位置ﾜｰｸ行方不明
LDB B05F7                ; ﾈｼﾞ締め治具ﾜｰｸ行方不明 BZ停止
ORB M123                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0F7                 ; ﾈｼﾞ締め治具2ﾜｰｸ行方不明
ORL
ANL
OUT B0F7                 ; ﾈｼﾞ締め治具2ﾜｰｸ行方不明
MPP
LD M122                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B05F7                 ; ﾈｼﾞ締め治具ﾜｰｸ行方不明 BZ停止
AND B0F7                 ; ﾈｼﾞ締め治具2ﾜｰｸ行方不明
ANL
OUT B05F7                ; ﾈｼﾞ締め治具ﾜｰｸ行方不明 BZ停止
;異常ﾌﾞｻﾞｰまとめ
LD B0F0                  ; ﾈｼﾞ締めJig2ID異常
ANB B05F0                ; ﾈｼﾞ締台2_Jig番号異常 BZ停止
LD B0F1                  ; 除材2Y軸異常
ANB B05F1                ; 除材2Y軸異常 BZ停止
ORL
LD B0F2                  ; 除材2Z軸異常
ANB B05F2                ; 除材2Z軸異常 BZ停止
ORL
LD B0F3                  ; 除材2ﾁｬｯｸ軸異常
ANB B05F3                ; 除材2ﾁｬｯｸ異常 BZ停止
ORL
LD B0F4                  ; 除材2ﾜｰｸ行方不明
ANB B05F4                ; 除材2ﾜｰｸ行方不明 BZ停止
ORL
LD B0F5                  ; 除材2ｹｰｽﾁｬｯｸﾐｽ
ANB B05F5                ; ﾕﾆｯﾄ8_異常6 BZ停止
ORL
LD B0F6                  ; ﾈｼﾞ締台2 ﾜｰｸ有異常
ANB B05F6                ; ﾈｼﾞ締台2 ﾜｰｸ有異常 BZ停止
ORL
LD B0F7                  ; ﾈｼﾞ締め治具2ﾜｰｸ行方不明
ANB B05F7                ; ﾈｼﾞ締め治具ﾜｰｸ行方不明 BZ停止
ORL
OUT M8909                ; ﾕﾆｯﾄ8異常BZ補助
END
ENDH
