DEVICE:53
;MODULE:UNIT12_FinalST2
;MODULE_TYPE:0
;<h1/>□_入力受け
;関連する入力受け(ｾﾝｻのﾃﾞｨﾚｲﾀｲﾏ等)を必要があれば作成する。
;通常は入力ﾕﾆｯﾄに入力時定数(ﾃﾞｨﾚｲ)があるので直接使用しても問題は無い。
LD X06                   ; ST1-2部ﾗｲﾄｶｰﾃﾝOUT1
AND X07                  ; ST1-2部ﾗｲﾄｶｰﾃﾝOUT2
AND X0A                  ; ST1-2背面ﾗｲﾄｶｰﾃﾝOUT1
AND X0B                  ; ST1-2背面ﾗｲﾄｶｰﾃﾝOUT1
OR M39                   ; ?LO?}?Y?a???nd??O??AT
TMR K1201 K5             ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
LD X1314                 ; ST2_電特部_ﾜｰｸ押_下降端
TMH K1202 K50            ; ST2_電特部_ﾜｰｸ押_下降端
LD CR2003                ; 常時OFF
TMR K1203 K3
LD X1313                 ; ST2_電特部_ﾊﾟﾚｯﾄ_後退端
TMR K1204 K5             ; ST2_電特部_ﾊﾟﾚｯﾄ_後退端
;ｺﾝﾀｸﾄﾍｯﾄﾞID
LD X1318                 ; ST2_電特部_ｺﾝﾀｸﾄﾍｯﾄﾞID_1
OUT D6606.0
LD X1319                 ; ST2_電特部_ｺﾝﾀｸﾄﾍｯﾄﾞID_2
OUT D6606.1
LD X131A                 ; ST2_電特部_ｺﾝﾀｸﾄﾍｯﾄﾞID_4
OUT D6606.2
;ﾊﾟﾚｯﾄID
LD X131B                 ; ST2_電特部_ﾊﾟﾚｯﾄID_1
OUT D6607.0
LD X131C                 ; ST2_電特部_ﾊﾟﾚｯﾄID_2
OUT D6607.1
LD X131D                 ; ST2_電特部_ﾊﾟﾚｯﾄID_4
OUT D6607.2
;ＩＤ保持
LD M71                   ; 自動運転開始BZ
AND L1200                ; FINALST2_有効状態
LD M6912                 ; FinalST2_ID保持ﾄﾘｶﾞ
ANB M6910                ; FainlST2_無効中
ORL
AND M71                  ; 自動運転開始BZ
OUT M6912                ; FinalST2_ID保持ﾄﾘｶﾞ
;____ｺﾝﾀｸﾄﾍｯﾄﾞＩＤ保持
;※PC送信用は生ﾃﾞｰﾀに変更
LD L1200                 ; FINALST2_有効状態
MPS
TMR K1206 K5             ; FinalST2_ｺﾝﾀｸﾄﾍｯﾄﾞID_更新_DLY
MPP
AND T1206                ; FinalST2_ｺﾝﾀｸﾄﾍｯﾄﾞID_更新_DLY
@MOV D6606 D6600         ; FinalST2_ｺﾝﾀｸﾄﾍｯﾄﾞID_Copy  FinalST2_ｺﾝﾀｸﾄﾍｯﾄﾞID
LD CR2002                ; 常時ON
MOV D6606 W0135          ; FinalST2_ｺﾝﾀｸﾄﾍｯﾄﾞID_Copy  電特ﾃｽﾄﾍｯﾄﾞID#2
LDB L1200                ; FINALST2_有効状態
MOV K0 D6600             ; FinalST2_ｺﾝﾀｸﾄﾍｯﾄﾞID
;____ﾊﾟﾚｯﾄＩＤ保持
LD L1200                 ; FINALST2_有効状態
LDB Y2404                ; 電特ST2ｽﾃｰｼﾞ前後前進
AND T1204                ; ST2_電特部_ﾊﾟﾚｯﾄ_後退端
OR T1207                 ; FinalST2_ﾊﾟﾚｯﾄID_更新_DLY
ANL
TMR K1207 K5             ; FinalST2_ﾊﾟﾚｯﾄID_更新_DLY
@MOV D6607 D6601         ; FinalST2_ﾊﾟﾚｯﾄID_ｾﾝｻ状態  FinalST2_ﾊﾟﾚｯﾄID
LD CR2002                ; 常時ON
MOV D6601 W0131          ; FinalST2_ﾊﾟﾚｯﾄID  電特ﾊﾟﾚｯﾄID#2
LDB L1200                ; FINALST2_有効状態
MOV K0 D6601             ; FinalST2_ﾊﾟﾚｯﾄID
;<h1/>__FINAL_ST_治具有効/無効選択
;段取り状態中ﾌﾗｸﾞの追加
;自動中は段取り状態中に、ST上のﾜｰｸ無、RBﾊﾝﾄﾞﾜｰｸ無し、供給部ﾜｰｸ無しにて無効状態OKとなる
LDB X120F                ; ST2電特検査_有効/無効SW
ANB B11EA                ; ST2電特検査_有効/無効_Tpb
INV
OUT M6904                ; ST2電特検査_有効/無効SW
LDB M3102                ; ﾊﾝﾄﾞ1_ﾌｧｲﾅﾙ検査品
ANB M3112                ; ﾊﾝﾄﾞ1_ﾌｧｲﾅﾙST2再検品
ANB M3152                ; ﾊﾝﾄﾞ2_ﾌｧｲﾅﾙ検査品
ANB M3162                ; ﾊﾝﾄﾞ2_ﾌｧｲﾅﾙST2再検品
LD= D6201 K0             ; Leak_ST2_ﾜｰｸ有無記憶
AND= D7201 K0            ; Leak_ST1_ﾜｰｸ有無記憶
AND= D8201 K0            ; Leak_ST3_ﾜｰｸ有無記憶
OR L1400                 ; FINALST1_有効状態
OR L1600                 ; FINALST3_有効状態
ANL
ANB X1316                ; ST2_電特部_ﾜｰｸ確認(ON=有)
AND= D6701 K0            ; Final_ST2_ﾜｰｸ有無記憶
LDB M6574                ; ﾕﾆｯﾄ12-1起動中
LD M6501                 ; U12-1_S1_ﾜｰｸ供給要求
ANB M2970                ; 【搬送】搬送→FINAL_ST2搬送開始
ORL
ANL
ANB M3216                ; ﾊﾝﾄﾞ1_ﾌｧｲﾅﾙST2給材中ﾌﾗｸﾞ
ANB M3217                ; ﾊﾝﾄﾞ2_ﾌｧｲﾅﾙST2給材中ﾌﾗｸﾞ
OUT M6907                ; FainlST2_自動中無効条件OK
LDB M71                  ; 自動運転開始BZ
LD M6909                 ; FainlST2_無効予約(自動運転)
AND M6907                ; FainlST2_自動中無効条件OK
ORL
OUT M6908                ; FainlST2_無効OK条件
LD M6909                 ; FainlST2_無効予約(自動運転)
ANB M6910                ; FainlST2_無効中
ANP M6904                ; ST2電特検査_有効/無効SW
ANB W09.9                ; 電特ステージ#2 無効切替要求
OUT M6911                ; FainlST2_予約ｷｬﾝｾﾙ
LDP M6904                ; ST2電特検査_有効/無効SW
ORP W09.9                ; 電特ステージ#2 無効切替要求
AND L1200                ; FINALST2_有効状態
AND M71                  ; 自動運転開始BZ
ANB M6909                ; FainlST2_無効予約(自動運転)
LD M6909                 ; FainlST2_無効予約(自動運転)
ANB M6910                ; FainlST2_無効中
ANB M6911                ; FainlST2_予約ｷｬﾝｾﾙ
ORL
OUT M6909                ; FainlST2_無効予約(自動運転)
LD M6909                 ; FainlST2_無効予約(自動運転)
AND M6908                ; FainlST2_無効OK条件
LDP M6904                ; ST2電特検査_有効/無効SW
ANB W09.9                ; 電特ステージ#2 無効切替要求
ORP W09.9                ; 電特ステージ#2 無効切替要求
ANB M41                  ; ﾕﾆｯﾄ_起動中
ORL
LDB B0182                ; 386)FinalST2ﾃｽﾄﾍｯﾄﾞID不
ANB B0183                ; 387)FinalST2ﾊﾟﾚｯﾄID不一
INV
MEP
ORL
LDB M300                 ; PC通信正常
ANB M3                   ; OFFLINE_MODE
ORL
LD M6910                 ; FainlST2_無効中
ANB L1200                ; FINALST2_有効状態
ORL
OUT M6910                ; FainlST2_無効中
;<h1/>__Final ST_有効処理
LDP M6904                ; ST2電特検査_有効/無効SW
LD<> D6606 K0            ; FinalST2_ｺﾝﾀｸﾄﾍｯﾄﾞID_Copy
AND<> D6607 K0           ; FinalST2_ﾊﾟﾚｯﾄID_ｾﾝｻ状態
AND X1313                ; ST2_電特部_ﾊﾟﾚｯﾄ_後退端
LD M35                   ; 空運転ﾓｰﾄﾞ
AND= D6606 K0            ; FinalST2_ｺﾝﾀｸﾄﾍｯﾄﾞID_Copy
AND= D6607 K0            ; FinalST2_ﾊﾟﾚｯﾄID_ｾﾝｻ状態
ORL
ANL
ANB L1200                ; FINALST2_有効状態
LD M6915                 ; FinalST2有効要求
ANB M6917                ; ST有効OK
ANB M6918                ; ST有効化NG
ORL
LD M300                  ; PC通信正常
OR M3                    ; OFFLINE_MODE
ANL
OUT M6915                ; FinalST2有効要求
LD M6915                 ; FinalST2有効要求
ANB M3                   ; OFFLINE_MODE
ANB M9                   ; ﾁｪｯｶｰﾁｪｯｸ有効ﾓｰﾄﾞOFF(step2でOFF)
OUT W0108.1              ; ﾁｪｯｶｰ#2確認要求
LD M6915                 ; FinalST2有効要求
LD W0108.1               ; ﾁｪｯｶｰ#2確認要求
OR M3                    ; OFFLINE_MODE
OR M9                    ; ﾁｪｯｶｰﾁｪｯｸ有効ﾓｰﾄﾞOFF(step2でOFF)
ANL
OR M6916                 ; ST有効確認要求
AND M6915                ; FinalST2有効要求
OUT M6916                ; ST有効確認要求
;有効化ok
LD M6916                 ; ST有効確認要求
LD W0A.1                 ; ﾁｪｯｶｰ#2確認完了
ANB W09.9                ; 電特ステージ#2 無効切替要求
OR M3                    ; OFFLINE_MODE
OR M9                    ; ﾁｪｯｶｰﾁｪｯｸ有効ﾓｰﾄﾞOFF(step2でOFF)
ANL
OR M6917                 ; ST有効OK
AND M6915                ; FinalST2有効要求
OUT M6917                ; ST有効OK
LD M6917                 ; ST有効OK
LD L1200                 ; FINALST2_有効状態
ANB M6910                ; FainlST2_無効中
ANB M6918                ; ST有効化NG
ORL
OUT L1200                ; FINALST2_有効状態
;有効化不可
LD M6916                 ; ST有効確認要求
ANB M3                   ; OFFLINE_MODE
ANB M9                   ; ﾁｪｯｶｰﾁｪｯｸ有効ﾓｰﾄﾞOFF(step2でOFF)
AND W0A.1                ; ﾁｪｯｶｰ#2確認完了
AND W09.9                ; 電特ステージ#2 無効切替要求
OR M6918                 ; ST有効化NG
AND M6915                ; FinalST2有効要求
OUT M6918                ; ST有効化NG
;JIG_ID一致確認
LD L1200                 ; FINALST2_有効状態
MPS
LD= D6600 D1714          ; FinalST2_ｺﾝﾀｸﾄﾍｯﾄﾞID  搬送ﾊﾝﾄﾞ1_電特ﾃｽﾄﾍｯﾄﾞID
AND= D6601 D1713         ; FinalST2_ﾊﾟﾚｯﾄID  搬送ﾊﾝﾄﾞ1_電特ﾊﾟﾚｯﾄID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
OUT M6901                ; ﾌｧｲﾅﾙST2-搬送ﾊﾝﾄﾞ1ID一致ﾌﾗｸﾞ
MPP
LD= D6600 D1814          ; FinalST2_ｺﾝﾀｸﾄﾍｯﾄﾞID  搬送ﾊﾝﾄﾞ2_電特ﾃｽﾄﾍｯﾄﾞID
AND= D6601 D1813         ; FinalST2_ﾊﾟﾚｯﾄID  搬送ﾊﾝﾄﾞ2_電特ﾊﾟﾚｯﾄID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
OUT M6902                ; ﾌｧｲﾅﾙST2-搬送ﾊﾝﾄﾞ2ID一致ﾌﾗｸﾞ
;<h1/>□_装置状態・動作条件
;ﾕﾆｯﾄまとめ
LD M6570                 ; ﾕﾆｯﾄ12-1原点
AND M6730                ; ﾕﾆｯﾄ12-3原点
OUT M6980                ; ﾌｧｲﾅﾙST2ﾕﾆｯﾄ12原点
;□ 非常停止
LDB M6571                ; ﾕﾆｯﾄ12-1全異常
ANB M6731                ; ﾕﾆｯﾄ12-3全異常
INV
OUT M6981                ; ﾕﾆｯﾄ12即停止異常
;□ 起動条件
LD CR2003                ; 常時OFF
OUT M6982                ; ﾕﾆｯﾄ12起動条件
;□ 起動OFF
LDB M50                  ; 運転準備
LD M60                   ; ｴﾗｰ発生
OR M52                   ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
AND M6984                ; ﾕﾆｯﾄ12原点復帰中
ORL
OR T15                   ; 強制停止
OUT M6983                ; ﾕﾆｯﾄ12起動OFF
;□ 原点復帰
LD M82                   ; 原点復帰開始
ANB M6984                ; ﾕﾆｯﾄ12原点復帰中
OR M6984                 ; ﾕﾆｯﾄ12原点復帰中
ANB M6983                ; ﾕﾆｯﾄ12起動OFF
ANB M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生
ANB M6797                ; STEPEND
OUT M6984                ; ﾕﾆｯﾄ12原点復帰中
;□ 起動中
LDB M6574                ; ﾕﾆｯﾄ12-1起動中
ANB M6734                ; ﾕﾆｯﾄ12-3(電特検査SUB)起動中
INV
OUT M6985                ; ﾕﾆｯﾄ12起動中
;□ ｻｲｸﾙ停止異常
LDB M6575                ; ﾕﾆｯﾄ12-1ｻｲｸﾙ停止異常
ANB M6735                ; ﾕﾆｯﾄ12-3ｻｲｸﾙ停止異常
INV
OUT M6986                ; ﾕﾆｯﾄ12ｻｲｸﾙ停止異常
;□ 払出停止異常
LDB CR2003               ; 常時OFF
INV
OUT M6987                ; ﾕﾆｯﾄ12払出停止異常
;□ 警報補助
LDB CR2003               ; 常時OFF
INV
OUT M6988                ; ﾕﾆｯﾄ12警報補助
;□ 機器準備確認
LD CR2002                ; 常時ON
OUT M6990                ; ﾕﾆｯﾄ12機器準備完了
;□ ｴﾗｰ発生　一時停止
LDB M6576                ; ﾕﾆｯﾄ12-1ｴﾗｰ発生
ANB M6736                ; ﾕﾆｯﾄ12-3ｴﾗｰ発生
INV
OUT M6991                ; ﾕﾆｯﾄ12ｴﾗｰ発生
;□ 動作中ﾕﾆｯﾄ無し
LD M6577                 ; ﾕﾆｯﾄ12-1動作無し
AND M6737                ; ﾕﾆｯﾄ12-3動作無し
OUT M6992                ; ﾕﾆｯﾄ12動作無し確認
;□ 払出しﾜｰｸ無し
LDB X1316                ; ST2_電特部_ﾜｰｸ確認(ON=有)
ANB M6421                ; ﾘｰｸST2_ﾜｰｸ除材要求
ANB M7421                ; LeakST1_ﾜｰｸ除材要求
ANB M2574                ; ﾕﾆｯﾄ2-1起動中
AND M36                  ; 払出ﾓｰﾄﾞ
TMR K1214 K10            ; U12_ﾜｰｸ無し(払出時)
LD T1214                 ; U12_ﾜｰｸ無し(払出時)
OUT M6993                ; ﾕﾆｯﾄ12ﾜｰｸ無し
;□ ｽﾃｯﾌﾟ起動
LD M30                   ; 自動ﾓｰﾄﾞ
OR M31                   ; 手動ﾓｰﾄﾞ
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
ANB M130                 ; 一時停止
ANB M51                  ; 即停止異常(緊急停止)
ANB M52                  ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
ANB M57                  ; 自動起動停止指令(払出停止)
ANB M59                  ; 払出停止異常まとめ
ANB M60                  ; ｴﾗｰ発生
OUT M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
;<h1/>□_UNIT_8_自動回路
;<h1/>◇_ﾕﾆｯﾄ8-1状態・動作条件(補助)
LD X1315                 ; ST2_電特部_ﾜｰｸ押_上昇端
AND X1313                ; ST2_電特部_ﾊﾟﾚｯﾄ_後退端
ANB X1316                ; ST2_電特部_ﾜｰｸ確認(ON=有)
AND= D6701 K0            ; Final_ST2_ﾜｰｸ有無記憶
OUT M6570                ; ﾕﾆｯﾄ12-1原点
LDB B0182                ; 386)FinalST2ﾃｽﾄﾍｯﾄﾞID不
ANB B0183                ; 387)FinalST2ﾊﾟﾚｯﾄID不一
ANB B0184                ; 388)FinalST2ﾜｰｸ受取異常
ANB B0185                ; 389)FinalST2ﾜｰｸ受渡し異常
INV
OUT M6571                ; ﾕﾆｯﾄ12-1全異常
LD M6570                 ; ﾕﾆｯﾄ12-1原点
ANB M6574                ; ﾕﾆｯﾄ12-1起動中
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
ANB L11                  ; ﾌｧｲﾅﾙ検査有無(0_有/1_無)
ANB M6908                ; FainlST2_無効OK条件
ANB M6993                ; ﾕﾆｯﾄ12ﾜｰｸ無し
OUT M6572                ; ﾕﾆｯﾄ12-1起動条件
LDB M50                  ; 運転準備
ORB L1200                ; FINALST2_有効状態
OR M6986                 ; ﾕﾆｯﾄ12ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M6573                ; ﾕﾆｯﾄ12-1起動OFF
LD M73                   ; 各工程起動指令
AND M6572                ; ﾕﾆｯﾄ12-1起動条件
OR M6574                 ; ﾕﾆｯﾄ12-1起動中
ANB M6573                ; ﾕﾆｯﾄ12-1起動OFF
ANB M6563                ; ﾕﾆｯﾄ12-1ｻｲｸﾙ終了
OUT M6574                ; ﾕﾆｯﾄ12-1起動中
;ﾕﾆｯﾄ1-1 ｻｲｸﾙ停止異常
LDB CR2003               ; 常時OFF
INV
OUT M6575                ; ﾕﾆｯﾄ12-1ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-1 ｴﾗｰ発生まとめ
LDB B0180                ; 384)FinalST2ｽﾃｰｼﾞ前後CL異常
ANB B0181                ; 385)FinalST2ｸﾗﾝﾌﾟ開閉CLS異常
ANB B032B                ; 811)ﾌｧｲﾅﾙST2ﾜｰｸ除去要求
ANB B032C                ; 812)電特ST2検査中
INV
OUT M6576                ; ﾕﾆｯﾄ12-1ｴﾗｰ発生
;ﾕﾆｯﾄ1-1 停止判定
LD= D6500 D6505          ; Unit12-1自動運転ｽﾃｯﾌﾟ  Unit12-1動作中判定
ORB M6574                ; ﾕﾆｯﾄ12-1起動中
TMR K1210 K20            ; U12-1_停止中
LD CR2002                ; 常時ON
MOV D6500 D6505          ; Unit12-1自動運転ｽﾃｯﾌﾟ  Unit12-1動作中判定
LD T1210                 ; U12-1_停止中
OUT M6577                ; ﾕﾆｯﾄ12-1動作無し
;□
;□　ﾕﾆｯﾄ1-1 自動運転ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M6500 K4         ; U12-1_S0
LDB M6574                ; ﾕﾆｯﾄ12-1起動中
MOV K0 D6500             ; Unit12-1自動運転ｽﾃｯﾌﾟ
LD M6574                 ; ﾕﾆｯﾄ12-1起動中
MOV D6500 Z1             ; Unit12-1自動運転ｽﾃｯﾌﾟ
SET M6500:Z1             ; U12-1_S0
;　ｶｳﾝﾄﾘｾｯﾄ
LDP M73                  ; 各工程起動指令
ORP L1200                ; FINALST2_有効状態
MOV K0 D6520             ; Finalﾜｰｸ投入数(ST2)
MOV K0 D6521             ; Finalﾜｰｸ排出数(ST2)
;　ｻｲｸﾙ開始
LD M6500                 ; U12-1_S0
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
ANB X1316                ; ST2_電特部_ﾜｰｸ確認(ON=有)
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S01_ﾜｰｸ給材要求
LD M6501                 ; U12-1_S1_ﾜｰｸ供給要求
MPS
LD L1200                 ; FINALST2_有効状態
ANB M6993                ; ﾕﾆｯﾄ12ﾜｰｸ無し
ANL
MPS
AND M2970                ; 【搬送】搬送→FINAL_ST2搬送開始
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
MPP
LD M6901                 ; ﾌｧｲﾅﾙST2-搬送ﾊﾝﾄﾞ1ID一致ﾌﾗｸﾞ
OR M6902                 ; ﾌｧｲﾅﾙST2-搬送ﾊﾝﾄﾞ2ID一致ﾌﾗｸﾞ
ANL
OUT M6920                ; ﾌｧｲﾅﾙST2→搬送ﾜｰｸ供給要求
MPP
LD M6993                 ; ﾕﾆｯﾄ12ﾜｰｸ無し
LD M6910                 ; FainlST2_無効中
ANB L1200                ; FINALST2_有効状態
ORL
ANL
MOV K63 D6500            ; Unit12-1自動運転ｽﾃｯﾌﾟ
LD M6502                 ; U12-1_S2
LD M2975                 ; 【搬送】搬送→FINAL_ST2搬送完了
OR M6922                 ; ﾌｧｲﾅﾙST2→搬送ﾜｰｸ受取り完了
ANL
MPS
LDB M2970                ; 【搬送】搬送→FINAL_ST2搬送開始
ANB M2975                ; 【搬送】搬送→FINAL_ST2搬送完了
ANL
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
MPP
OUT M6922                ; ﾌｧｲﾅﾙST2→搬送ﾜｰｸ受取り完了
LD M6503                 ; U12-1_S3
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
AND= D6701 K1            ; Final_ST2_ﾜｰｸ有無記憶
MPS
LD X1316                 ; ST2_電特部_ﾜｰｸ確認(ON=有)
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
MPP
LDB X1316                ; ST2_電特部_ﾜｰｸ確認(ON=有)
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
MOV K60 D6500            ; Unit12-1自動運転ｽﾃｯﾌﾟ
LD M6560                 ; U12-1_S60_ﾌｧｲﾅﾙST2_ﾜｰｸ受取異常
AND B0184                ; 388)FinalST2ﾜｰｸ受取異常
MOV K63 D6500            ; Unit12-1自動運転ｽﾃｯﾌﾟ
;　　ｸﾗﾝﾌﾟ指令
LD M6504                 ; U12-1_S4_ｸﾗﾝﾌﾟ指令
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
AND X1314                ; ST2_電特部_ﾜｰｸ押_下降端
ANB B0181                ; 385)FinalST2ｸﾗﾝﾌﾟ開閉CLS異常
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
;　　Z軸上昇確認
LD M6505                 ; U12-1_S5_電特開始確認待ち
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
LD L309                  ; Z_搬送高さ(P9)
OR L308                  ; Z_搬送高さ(P8)
ANL
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
LD M6506                 ; U12-1_S6_投入数ｶｳﾝﾄ
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
LDP M6506                ; U12-1_S6_投入数ｶｳﾝﾄ
AND= D6705 K0            ; Final_ST2_再検査品st
LD= D6203 K2             ; Leak_ST2_Leak検査結果(1=OK_2=NG)
ANB M98                  ; Break品優先排出変更ﾌﾗｸﾞ
AND= D6207 K0            ; Leak_ST2_BreakMode品(ONで)
MEP
ORL
@INC D6520               ; Finalﾜｰｸ投入数(ST2)
LD M6507                 ; U12-1_S7
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
LD M6508                 ; U12-1_S8
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
LD M6509                 ; U12-1_S9
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
;　　■電特検査前処理
LD M6510                 ; U12-1_S10
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
LD M6511                 ; U12-1_S11
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
LD M6512                 ; U12-1_S12_
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
LD M6513                 ; U12-1_S13
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
MPS
LD= D6703 K1             ; Final_ST2_Leak検査結果(1=OK_2=NG
OR<> D6705 K0            ; Final_ST2_再検査品st
OR L10                   ; ﾘｰｸ検査有無(0_有/1_無)
ANL
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
MPP
LD= D6703 K2             ; Final_ST2_Leak検査結果(1=OK_2=NG
AND<> D6705 K0           ; Final_ST2_再検査品st
ANB L10                  ; ﾘｰｸ検査有無(0_有/1_無)
ANL
MOV K20 D6500            ; Unit12-1自動運転ｽﾃｯﾌﾟ
LD M6514                 ; U12-1_S14_ﾊﾟﾚｯﾄ前進指令
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
AND X1312                ; ST2_電特部_ﾊﾟﾚｯﾄ_前進端
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S15_電特検査処理開始
LD M6515                 ; U12-1_S15
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
LD M6516                 ; U12-1_S16_電特検査SUB開始ﾌﾗｸﾞ
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
AND M6734                ; ﾕﾆｯﾄ12-3(電特検査SUB)起動中
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
LD M6517                 ; U12-1_S17
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
ANB M6734                ; ﾕﾆｯﾄ12-3(電特検査SUB)起動中
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
LD M6518                 ; U12-1_S18
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
LD M6519                 ; U12-1_S19
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
;　　ｽﾃｰｼﾞ後退
LD M6520                 ; U12-1_S20_ｽﾃｰｼﾞ後退命令
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
AND X1313                ; ST2_電特部_ﾊﾟﾚｯﾄ_後退端
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
;　　ｸﾗﾝﾌﾟ解除
LD M6521                 ; U12-1_S21_
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
LD M6522                 ; U12-1_S22
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
LD M6523                 ; U12-1_S23
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
LD M6524                 ; U12-1_S24
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
AND X1313                ; ST2_電特部_ﾊﾟﾚｯﾄ_後退端
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
;<h1/>__S25_ﾜｰｸ除材要求
LD M6525                 ; U12-1_S25
MPS
AND M2990                ; 【搬送】ﾌｧｲﾅﾙST2除材開始
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
MPP
LDB M3101                ; ﾊﾝﾄﾞ1_ﾘｰｸ検査品
ANB M3151                ; ﾊﾝﾄﾞ2_ﾘｰｸ検査品
OR<> D6705 K0            ; Final_ST2_再検査品st
OR L10                   ; ﾘｰｸ検査有無(0_有/1_無)
OR M3224                 ; ﾊﾝﾄﾞ1ﾌｧｲﾅﾙST2除材中ﾌﾗｸﾞ
ANL
OUT M6921                ; ﾌｧｲﾅﾙST2→搬送1除材要求
LD M6526                 ; U12-1_S26
LD M2995                 ; 【搬送】ﾌｧｲﾅﾙST2除材完了
OR M6923                 ; ﾌｧｲﾅﾙST2→搬送除材完了受取
ANL
MPS
LDB M2990                ; 【搬送】ﾌｧｲﾅﾙST2除材開始
ANB M2995                ; 【搬送】ﾌｧｲﾅﾙST2除材完了
ANL
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
MPP
OUT M6923                ; ﾌｧｲﾅﾙST2→搬送除材完了受取
LD M6527                 ; U12-1_S27
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
AND= D6701 K0            ; Final_ST2_ﾜｰｸ有無記憶
LD L309                  ; Z_搬送高さ(P9)
OR L308                  ; Z_搬送高さ(P8)
OR L307                  ; Z_ﾜｰｸ入替高さ(搬送禁止)
ANL
MPS
ANB X1316                ; ST2_電特部_ﾜｰｸ確認(ON=有)
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
MPP
AND X1316                ; ST2_電特部_ﾜｰｸ確認(ON=有)
OUT M6930                ; Final_ST2_ﾜｰｸ受渡し異常
LD M6528                 ; U12-1_S28
INC D6500                ; Unit12-1自動運転ｽﾃｯﾌﾟ
LDP M7506                ; U14-1_S6
AND= D6705 K0            ; Final_ST2_再検査品st
LD= D6203 K2             ; Leak_ST2_Leak検査結果(1=OK_2=NG)
MEP
ORL
@INC D6521               ; Finalﾜｰｸ排出数(ST2)
LD M6529                 ; U12-1_S29
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
MOV K63 D6500            ; Unit12-1自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
LD M6562                 ; U12-1_S62
OR CR2003                ; 常時OFF
@MOV K63 D6500           ; Unit12-1自動運転ｽﾃｯﾌﾟ
;<h1/>◇_ﾕﾆｯﾄ8-3(電特検査SUB)状態・動作条件(補助)
LD CR2002                ; 常時ON
OUT M6730                ; ﾕﾆｯﾄ12-3原点
LDB CR2003               ; 常時OFF
INV
OUT M6731                ; ﾕﾆｯﾄ12-3全異常
LD M6730                 ; ﾕﾆｯﾄ12-3原点
ANB M6734                ; ﾕﾆｯﾄ12-3(電特検査SUB)起動中
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
AND M300                 ; PC通信正常
OUT M6732                ; ﾕﾆｯﾄ12-3起動条件
LDB M50                  ; 運転準備
OR M6986                 ; ﾕﾆｯﾄ12ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M6733                ; ﾕﾆｯﾄ12-3起動OFF
LD M6516                 ; U12-1_S16_電特検査SUB開始ﾌﾗｸﾞ
AND M6732                ; ﾕﾆｯﾄ12-3起動条件
OR M6734                 ; ﾕﾆｯﾄ12-3(電特検査SUB)起動中
ANB M6733                ; ﾕﾆｯﾄ12-3起動OFF
ANB M6723                ; ﾕﾆｯﾄ12-3ｻｲｸﾙ終了
OUT M6734                ; ﾕﾆｯﾄ12-3(電特検査SUB)起動中
;tp表示
LD CR2002                ; 常時ON
DW K0 D6900              ; Final検査_ｽﾃｰﾀｽ表示
LD M6734                 ; ﾕﾆｯﾄ12-3(電特検査SUB)起動中
DW K1 D6900              ; Final検査_ｽﾃｰﾀｽ表示
LD= D6704 K1             ; Final_ST2_Final検査結果(1=OK_2=N
DW K2 D6900              ; Final検査_ｽﾃｰﾀｽ表示
LD= D6704 K2             ; Final_ST2_Final検査結果(1=OK_2=N
DW K3 D6900              ; Final検査_ｽﾃｰﾀｽ表示
LDB L1200                ; FINALST2_有効状態
DW K4 D6900              ; Final検査_ｽﾃｰﾀｽ表示
;ﾕﾆｯﾄ1-3ｻｲｸﾙ停止異常
LDB CR2003               ; 常時OFF
INV
OUT M6735                ; ﾕﾆｯﾄ12-3ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-3ｴﾗｰ発生まとめ
LDB CR2003               ; 常時OFF
INV
OUT M6736                ; ﾕﾆｯﾄ12-3ｴﾗｰ発生
;ﾕﾆｯﾄ1-3停止判定
LD= D6502 D6507          ; Unit12-3自動運転ｽﾃｯﾌﾟ  Unit12-3動作中判定
TMR K1212 K20            ; U12-3_停止中
LD CR2002                ; 常時ON
MOV D6502 D6507          ; Unit12-3自動運転ｽﾃｯﾌﾟ  Unit12-3動作中判定
LD T1212                 ; U12-3_停止中
ORB M6734                ; ﾕﾆｯﾄ12-3(電特検査SUB)起動中
OUT M6737                ; ﾕﾆｯﾄ12-3動作無し
;□
;□　ﾕﾆｯﾄ1-3自動運転ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M6660 K4         ; U12-3_S0
LDB M6734                ; ﾕﾆｯﾄ12-3(電特検査SUB)起動中
MOV K0 D6502             ; Unit12-3自動運転ｽﾃｯﾌﾟ
LD M6734                 ; ﾕﾆｯﾄ12-3(電特検査SUB)起動中
MOV D6502 Z1             ; Unit12-3自動運転ｽﾃｯﾌﾟ
SET M6660:Z1             ; U12-3_S0
;<h1/>__S0_ﾜｰｸ有無判定
LD M6660                 ; U12-3_S0
MPS
LD T1201                 ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANB M3                   ; OFFLINE_MODE
ANL
INC D6502                ; Unit12-3自動運転ｽﾃｯﾌﾟ
MPP
LD M35                   ; 空運転ﾓｰﾄﾞ
OR M3                    ; OFFLINE_MODE
ANL
MPS
AND T1230                ; Final検査時間(仮)
INC D6502                ; Unit12-3自動運転ｽﾃｯﾌﾟ
MPP
TMR K1230 K450           ; Final検査時間(仮)
LD M6661                 ; U12-3_S1_ﾌｧｲﾅﾙ検査ｽﾀｰﾄ要求
AND W0107.1              ; 電気特性検査開始要求#2
LD W07.1                 ; 電気特性検査ｽﾃｰｼﾞ状態#2
OR M3                    ; OFFLINE_MODE
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
@INC D6502               ; Unit12-3自動運転ｽﾃｯﾌﾟ
LD M6662                 ; U12-3_S2
LDB W07.1                ; 電気特性検査ｽﾃｰｼﾞ状態#2
OR M3                    ; OFFLINE_MODE
ANL
@INC D6502               ; Unit12-3自動運転ｽﾃｯﾌﾟ
LD M6663                 ; U12-3_S3
MPS
AND<> D6704 K0           ; Final_ST2_Final検査結果(1=OK_2=N
@INC D6502               ; Unit12-3自動運転ｽﾃｯﾌﾟ
MRD
LDB M35                  ; 空運転ﾓｰﾄﾞ
ANB M3                   ; OFFLINE_MODE
ANL
MPS
AND W07.9                ; 電気特性検査結果#2
MOV K1 D6704             ; Final_ST2_Final検査結果(1=OK_2=N
MPP
ANB W07.9                ; 電気特性検査結果#2
MOV K2 D6704             ; Final_ST2_Final検査結果(1=OK_2=N
MPP
LD M3                    ; OFFLINE_MODE
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
MPS
ANB B1038                ; ﾌｧｲﾅﾙST2_強制NG_TEST
MOV K1 D6704             ; Final_ST2_Final検査結果(1=OK_2=N
MPP
AND B1038                ; ﾌｧｲﾅﾙST2_強制NG_TEST
MOV K2 D6704             ; Final_ST2_Final検査結果(1=OK_2=N
LD M6664                 ; U12-3_S4
@INC D6502               ; Unit12-3自動運転ｽﾃｯﾌﾟ
LD M6665                 ; U12-3_S5
@INC D6502               ; Unit12-3自動運転ｽﾃｯﾌﾟ
LD M6666                 ; U12-3_S6
@INC D6502               ; Unit12-3自動運転ｽﾃｯﾌﾟ
LD M6667                 ; U12-3_S7
@INC D6502               ; Unit12-3自動運転ｽﾃｯﾌﾟ
LD M6668                 ; U12-3_S8
@INC D6502               ; Unit12-3自動運転ｽﾃｯﾌﾟ
LD M6669                 ; U12-3_S9
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
MOV K63 D6502            ; Unit12-3自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND CR2003               ; 常時OFF
MOV K62 D6502            ; Unit12-3自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
LD M6722                 ; U12-3_S62
OR CR2003                ; 常時OFF
@MOV K63 D6502           ; Unit12-3自動運転ｽﾃｯﾌﾟ
;<h1/>□_UNIT_8_原点復帰回路
LD CR2002                ; 常時ON
FMOV K0 M6750 K3         ; STEP0
LDB M6984                ; ﾕﾆｯﾄ12原点復帰中
MOV K0 D6510             ; Unit12原点復帰ｽﾃｯﾌﾟ
LD M6984                 ; ﾕﾆｯﾄ12原点復帰中
MOV D6510 Z1             ; Unit12原点復帰ｽﾃｯﾌﾟ
SET M6750:Z1             ; STEP0
;原点復帰ｻｲｸﾙ監視
LD M6984                 ; ﾕﾆｯﾄ12原点復帰中
TMR K1200 K200
;原点復帰ステップ開始
LD M6750                 ; STEP0
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
@INC D6510               ; Unit12原点復帰ｽﾃｯﾌﾟ
LD M6751                 ; STEP1
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
AND L309                 ; Z_搬送高さ(P9)
@INC D6510               ; Unit12原点復帰ｽﾃｯﾌﾟ
LD M6752                 ; STEP2_ｽﾃｰｼﾞ戻り指令
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
AND X1313                ; ST2_電特部_ﾊﾟﾚｯﾄ_後退端
@INC D6510               ; Unit12原点復帰ｽﾃｯﾌﾟ
LD M6753                 ; STEP3_ｸﾗﾝﾌﾟ上昇指令
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
AND X1315                ; ST2_電特部_ﾜｰｸ押_上昇端
@INC D6510               ; Unit12原点復帰ｽﾃｯﾌﾟ
LD M6754                 ; STEP4
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
@INC D6510               ; Unit12原点復帰ｽﾃｯﾌﾟ
LD M6755                 ; STEP5_
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
@INC D6510               ; Unit12原点復帰ｽﾃｯﾌﾟ
LD M6756                 ; STEP6_
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
@INC D6510               ; Unit12原点復帰ｽﾃｯﾌﾟ
;　　ﾜｰｸ有無ﾁｪｯｸ
LD M6757                 ; STEP7
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
MPS
ANB X1316                ; ST2_電特部_ﾜｰｸ確認(ON=有)
@MOV K10 D6510           ; Unit12原点復帰ｽﾃｯﾌﾟ
MPP
AND X1316                ; ST2_電特部_ﾜｰｸ確認(ON=有)
@INC D6510               ; Unit12原点復帰ｽﾃｯﾌﾟ
;　　ﾜｰｸ除去要求
LD M6758                 ; STEP8_ORGﾜｰｸ除去要求
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
AND B032B                ; 811)ﾌｧｲﾅﾙST2ﾜｰｸ除去要求
@MOV K46 D6510           ; Unit12原点復帰ｽﾃｯﾌﾟ
;　　
LD M6759                 ; STEP9
AND T1201                ; ST1-2間ﾗｲﾄｶｰﾃﾝOK
AND M6979                ; ﾕﾆｯﾄ12ｽﾃｯﾌﾟ動作
@INC D6510               ; Unit12原点復帰ｽﾃｯﾌﾟ
LD M6760                 ; STEP10
MPS
AND M6980                ; ﾌｧｲﾅﾙST2ﾕﾆｯﾄ12原点
@MOV K46 D6510           ; Unit12原点復帰ｽﾃｯﾌﾟ
MRD
FMOV K0 D6700 K100       ; Final_ST2_INDEX NO.
MPP
AND M8                   ; 能力拡張_ﾃｽﾄ
FMOV K0 D7700 K100       ; Final_ST1_INDEX NO.
LD M6796                 ; STEP46
ANB M82                  ; 原点復帰開始
@MOV K47 D6510           ; Unit12原点復帰ｽﾃｯﾌﾟ
;<h1/>□_UNIT_8_手動回路
LD M31                   ; 手動ﾓｰﾄﾞ
AND M32                  ; ﾒｲﾝ手動操作可能条件
ANB M6985                ; ﾕﾆｯﾄ12起動中
ANB M6984                ; ﾕﾆｯﾄ12原点復帰中
MC
;ｺﾝﾀｸﾄﾍｯﾄﾞ前後
LD CR2002                ; 常時ON
AND M129                 ; 安全入力OK
AND M2732                ; ﾕﾆｯﾄ2-3_RCX240起動条件
AND M2801                ; RCX240動作完了
AND L309                 ; Z_搬送高さ(P9)
AND X1314                ; ST2_電特部_ﾜｰｸ押_下降端
OUT M6800                ; ﾊﾟﾚｯﾄ前進_OK
LDP B11E0                ; ﾊﾟﾚｯﾄ前進TpSW
LD M6812                 ; SwBoxMode_電特ﾊﾟﾚｯﾄ前後Flag
ANP X1209                ; ﾊﾝﾄﾞ2吸着OFF_SW
ANB X1208                ; ﾊﾝﾄﾞ1吸着OFF_SW
ORL
ORP M6824                ; 電特ｸﾗﾝﾌﾟ&前進_ﾊﾟﾚｯﾄ前進指令
AND M6800                ; ﾊﾟﾚｯﾄ前進_OK
LD M6801                 ; ﾊﾟﾚｯﾄ前進指令
ANB M6803                ; ﾊﾟﾚｯﾄ後退指令
ORL
OUT M6801                ; ﾊﾟﾚｯﾄ前進指令
LD CR2002                ; 常時ON
ANB W07.1                ; 電気特性検査ｽﾃｰｼﾞ状態#2
AND L309                 ; Z_搬送高さ(P9)
AND X1314                ; ST2_電特部_ﾜｰｸ押_下降端
OUT M6802                ; ﾊﾟﾚｯﾄ後退_OK
LDP B11E1                ; ﾊﾟﾚｯﾄ後退TpSW
LD M6812                 ; SwBoxMode_電特ﾊﾟﾚｯﾄ前後Flag
ANP X1208                ; ﾊﾝﾄﾞ1吸着OFF_SW
ANB X1209                ; ﾊﾝﾄﾞ2吸着OFF_SW
ORL
ORP M6832                ; 電特ｸﾗﾝﾌﾟ&前進_ﾊﾟﾚｯﾄ後退指令
AND M6802                ; ﾊﾟﾚｯﾄ後退_OK
LD M6803                 ; ﾊﾟﾚｯﾄ後退指令
ANB M6801                ; ﾊﾟﾚｯﾄ前進指令
ORL
OUT M6803                ; ﾊﾟﾚｯﾄ後退指令
;　　ｸﾗﾝﾌﾟ上下
LD CR2002                ; 常時ON
AND M129                 ; 安全入力OK
AND M2732                ; ﾕﾆｯﾄ2-3_RCX240起動条件
AND M2801                ; RCX240動作完了
AND X1313                ; ST2_電特部_ﾊﾟﾚｯﾄ_後退端
OUT M6804                ; ｸﾗﾝﾌﾟ開閉_閉_起動OK
LDP B11E2                ; ｸﾗﾝﾌﾟ下降TpSW
ORP M6822                ; 電特ｸﾗﾝﾌﾟ&前進_ｸﾗﾝﾌﾟ閉指令
AND M6804                ; ｸﾗﾝﾌﾟ開閉_閉_起動OK
LD M6805                 ; ｸﾗﾝﾌﾟ開閉_閉_指令
ANB M6807                ; ｸﾗﾝﾌﾟ開閉_開__指令
ORL
OUT M6805                ; ｸﾗﾝﾌﾟ開閉_閉_指令
LD CR2002                ; 常時ON
ANB W07.1                ; 電気特性検査ｽﾃｰｼﾞ状態#2
AND X1313                ; ST2_電特部_ﾊﾟﾚｯﾄ_後退端
OUT M6806                ; ｸﾗﾝﾌﾟ開閉_開_起動OK
LDP B11E3                ; ｸﾗﾝﾌﾟ上昇TpSW
ORP M6834                ; 電特ｸﾗﾝﾌﾟ&前進_ｸﾗﾝﾌﾟ開指令
AND M6806                ; ｸﾗﾝﾌﾟ開閉_開_起動OK
LD M6807                 ; ｸﾗﾝﾌﾟ開閉_開__指令
ANB M6805                ; ｸﾗﾝﾌﾟ開閉_閉_指令
ORL
OUT M6807                ; ｸﾗﾝﾌﾟ開閉_開__指令
;ｸﾗﾝﾌﾟ閉→ﾊﾟﾚｯﾄ前進
LD M129                  ; 安全入力OK
AND M2732                ; ﾕﾆｯﾄ2-3_RCX240起動条件
AND M2801                ; RCX240動作完了
AND L309                 ; Z_搬送高さ(P9)
AND X1313                ; ST2_電特部_ﾊﾟﾚｯﾄ_後退端
OUT M6820                ; 電特ｸﾗﾝﾌﾟ&前進指令条件
LD M6813                 ; SwBoxMode_電特ｸﾗﾝﾌﾟ&ﾊﾟﾚｯﾄFlag
ANP X1209                ; ﾊﾝﾄﾞ2吸着OFF_SW
ANB X1208                ; ﾊﾝﾄﾞ1吸着OFF_SW
AND M6804                ; ｸﾗﾝﾌﾟ開閉_閉_起動OK
AND M6820                ; 電特ｸﾗﾝﾌﾟ&前進指令条件
OR M6821                 ; 電特ｸﾗﾝﾌﾟ&前進開始
ANB M6826                ; ｸﾗﾝﾌﾟ閉→ﾊﾟﾚｯﾄ前進動作完了
ANB B0180                ; 384)FinalST2ｽﾃｰｼﾞ前後CL異常
ANB B0181                ; 385)FinalST2ｸﾗﾝﾌﾟ開閉CLS異常
AND M6813                ; SwBoxMode_電特ｸﾗﾝﾌﾟ&ﾊﾟﾚｯﾄFlag
OUT M6821                ; 電特ｸﾗﾝﾌﾟ&前進開始
LD M6821                 ; 電特ｸﾗﾝﾌﾟ&前進開始
AND M6804                ; ｸﾗﾝﾌﾟ開閉_閉_起動OK
OR M6822                 ; 電特ｸﾗﾝﾌﾟ&前進_ｸﾗﾝﾌﾟ閉指令
AND M6821                ; 電特ｸﾗﾝﾌﾟ&前進開始
OUT M6822                ; 電特ｸﾗﾝﾌﾟ&前進_ｸﾗﾝﾌﾟ閉指令
LD M6822                 ; 電特ｸﾗﾝﾌﾟ&前進_ｸﾗﾝﾌﾟ閉指令
AND T1202                ; ST2_電特部_ﾜｰｸ押_下降端
OR M6823                 ; 電特ｸﾗﾝﾌﾟ&前進_ｸﾗﾝﾌﾟ確認
AND M6821                ; 電特ｸﾗﾝﾌﾟ&前進開始
OUT M6823                ; 電特ｸﾗﾝﾌﾟ&前進_ｸﾗﾝﾌﾟ確認
LD M6823                 ; 電特ｸﾗﾝﾌﾟ&前進_ｸﾗﾝﾌﾟ確認
AND M6800                ; ﾊﾟﾚｯﾄ前進_OK
OR M6824                 ; 電特ｸﾗﾝﾌﾟ&前進_ﾊﾟﾚｯﾄ前進指令
AND M6821                ; 電特ｸﾗﾝﾌﾟ&前進開始
OUT M6824                ; 電特ｸﾗﾝﾌﾟ&前進_ﾊﾟﾚｯﾄ前進指令
LD M6824                 ; 電特ｸﾗﾝﾌﾟ&前進_ﾊﾟﾚｯﾄ前進指令
AND X1312                ; ST2_電特部_ﾊﾟﾚｯﾄ_前進端
OR M6825                 ; 電特ｸﾗﾝﾌﾟ&前進_ﾊﾟﾚｯﾄ前進確認
AND M6821                ; 電特ｸﾗﾝﾌﾟ&前進開始
OUT M6825                ; 電特ｸﾗﾝﾌﾟ&前進_ﾊﾟﾚｯﾄ前進確認
LD M6825                 ; 電特ｸﾗﾝﾌﾟ&前進_ﾊﾟﾚｯﾄ前進確認
OUT M6826                ; ｸﾗﾝﾌﾟ閉→ﾊﾟﾚｯﾄ前進動作完了
;ﾊﾟﾚｯﾄ後退→ｸﾗﾝﾌﾟ解除
LD M129                  ; 安全入力OK
AND M2732                ; ﾕﾆｯﾄ2-3_RCX240起動条件
AND M2801                ; RCX240動作完了
AND L309                 ; Z_搬送高さ(P9)
OUT M6830                ; 電特ｸﾗﾝﾌﾟ解除&ﾊﾟﾚｯﾄ後退_指令条件
LD M6813                 ; SwBoxMode_電特ｸﾗﾝﾌﾟ&ﾊﾟﾚｯﾄFlag
ANP X1208                ; ﾊﾝﾄﾞ1吸着OFF_SW
ANB X1209                ; ﾊﾝﾄﾞ2吸着OFF_SW
AND M6802                ; ﾊﾟﾚｯﾄ後退_OK
AND M6830                ; 電特ｸﾗﾝﾌﾟ解除&ﾊﾟﾚｯﾄ後退_指令条件
OR M6831                 ; 電特ﾊﾟﾚｯﾄ後退&ｸﾗﾝﾌﾟ解除開始
ANB M6836                ; ﾊﾟﾚｯﾄ後退→ｸﾗﾝﾌﾟ開動作完了
ANB B0180                ; 384)FinalST2ｽﾃｰｼﾞ前後CL異常
ANB B0181                ; 385)FinalST2ｸﾗﾝﾌﾟ開閉CLS異常
AND M6813                ; SwBoxMode_電特ｸﾗﾝﾌﾟ&ﾊﾟﾚｯﾄFlag
OUT M6831                ; 電特ﾊﾟﾚｯﾄ後退&ｸﾗﾝﾌﾟ解除開始
LD M6831                 ; 電特ﾊﾟﾚｯﾄ後退&ｸﾗﾝﾌﾟ解除開始
AND M6802                ; ﾊﾟﾚｯﾄ後退_OK
OR M6832                 ; 電特ｸﾗﾝﾌﾟ&前進_ﾊﾟﾚｯﾄ後退指令
AND M6831                ; 電特ﾊﾟﾚｯﾄ後退&ｸﾗﾝﾌﾟ解除開始
OUT M6832                ; 電特ｸﾗﾝﾌﾟ&前進_ﾊﾟﾚｯﾄ後退指令
LD M6832                 ; 電特ｸﾗﾝﾌﾟ&前進_ﾊﾟﾚｯﾄ後退指令
AND X1313                ; ST2_電特部_ﾊﾟﾚｯﾄ_後退端
OR M6833                 ; 電特ｸﾗﾝﾌﾟ&前進_ﾊﾟﾚｯﾄ後退確認
AND M6831                ; 電特ﾊﾟﾚｯﾄ後退&ｸﾗﾝﾌﾟ解除開始
OUT M6833                ; 電特ｸﾗﾝﾌﾟ&前進_ﾊﾟﾚｯﾄ後退確認
LD M6833                 ; 電特ｸﾗﾝﾌﾟ&前進_ﾊﾟﾚｯﾄ後退確認
AND M6806                ; ｸﾗﾝﾌﾟ開閉_開_起動OK
OR M6834                 ; 電特ｸﾗﾝﾌﾟ&前進_ｸﾗﾝﾌﾟ開指令
AND M6831                ; 電特ﾊﾟﾚｯﾄ後退&ｸﾗﾝﾌﾟ解除開始
OUT M6834                ; 電特ｸﾗﾝﾌﾟ&前進_ｸﾗﾝﾌﾟ開指令
LD M6834                 ; 電特ｸﾗﾝﾌﾟ&前進_ｸﾗﾝﾌﾟ開指令
AND X1315                ; ST2_電特部_ﾜｰｸ押_上昇端
OR M6835                 ; 電特ｸﾗﾝﾌﾟ&前進_ｸﾗﾝﾌﾟ開確認
AND M6831                ; 電特ﾊﾟﾚｯﾄ後退&ｸﾗﾝﾌﾟ解除開始
OUT M6835                ; 電特ｸﾗﾝﾌﾟ&前進_ｸﾗﾝﾌﾟ開確認
LD M6835                 ; 電特ｸﾗﾝﾌﾟ&前進_ｸﾗﾝﾌﾟ開確認
OUT M6836                ; ﾊﾟﾚｯﾄ後退→ｸﾗﾝﾌﾟ開動作完了
MCR
LDP B11E6                ; SWBox_ﾊﾟﾚｯﾄ前後ﾓｰﾄﾞsw
ANB M6812                ; SwBoxMode_電特ﾊﾟﾚｯﾄ前後Flag
LDPB B11E6               ; SWBox_ﾊﾟﾚｯﾄ前後ﾓｰﾄﾞsw
AND M6812                ; SwBoxMode_電特ﾊﾟﾚｯﾄ前後Flag
ANB M6312                ; SwBoxMode_LeakﾁｬﾝﾊﾞｰFlag
ANB M6813                ; SwBoxMode_電特ｸﾗﾝﾌﾟ&ﾊﾟﾚｯﾄFlag
ORL
AND= D50 K201            ; TpM-K_表示中ページNo.
AND M31                  ; 手動ﾓｰﾄﾞ
ANB M81                  ; 原点復帰動作中
AND M50                  ; 運転準備
OUT M6812                ; SwBoxMode_電特ﾊﾟﾚｯﾄ前後Flag
LDP B11E7                ; SWBox_ｸﾗﾝﾌﾟ&ﾊﾟﾚｯﾄﾓｰﾄﾞsw
ANB M6813                ; SwBoxMode_電特ｸﾗﾝﾌﾟ&ﾊﾟﾚｯﾄFlag
LDPB B11E7               ; SWBox_ｸﾗﾝﾌﾟ&ﾊﾟﾚｯﾄﾓｰﾄﾞsw
AND M6813                ; SwBoxMode_電特ｸﾗﾝﾌﾟ&ﾊﾟﾚｯﾄFlag
ANB M6812                ; SwBoxMode_電特ﾊﾟﾚｯﾄ前後Flag
ANB M6312                ; SwBoxMode_LeakﾁｬﾝﾊﾞｰFlag
ORL
AND= D50 K201            ; TpM-K_表示中ページNo.
AND M31                  ; 手動ﾓｰﾄﾞ
ANB M81                  ; 原点復帰動作中
AND M50                  ; 運転準備
OUT M6813                ; SwBoxMode_電特ｸﾗﾝﾌﾟ&ﾊﾟﾚｯﾄFlag
;<h1/>□_出力回路
;ソレノイドバルブ出力
;ｽﾃｰｼﾞ(ﾊﾟﾚｯﾄ前後)
LD M6801                 ; ﾊﾟﾚｯﾄ前進指令
AND M6800                ; ﾊﾟﾚｯﾄ前進_OK
LDB M6514                ; U12-1_S14_ﾊﾟﾚｯﾄ前進指令
INV
ORL
LD Y2404                 ; 電特ST2ｽﾃｰｼﾞ前後前進
ANB Y2405                ; 電特ST2ｽﾃｰｼﾞ前後後退
ORL
AND M50                  ; 運転準備
OUT Y2404                ; 電特ST2ｽﾃｰｼﾞ前後前進
LD M6803                 ; ﾊﾟﾚｯﾄ後退指令
AND M6802                ; ﾊﾟﾚｯﾄ後退_OK
LDB M6752                ; STEP2_ｽﾃｰｼﾞ戻り指令
ANB M6520                ; U12-1_S20_ｽﾃｰｼﾞ後退命令
INV
ORL
LD Y2405                 ; 電特ST2ｽﾃｰｼﾞ前後後退
ANB Y2404                ; 電特ST2ｽﾃｰｼﾞ前後前進
ORL
AND M50                  ; 運転準備
OUT Y2405                ; 電特ST2ｽﾃｰｼﾞ前後後退
LD M6805                 ; ｸﾗﾝﾌﾟ開閉_閉_指令
AND M6804                ; ｸﾗﾝﾌﾟ開閉_閉_起動OK
LD M1919                 ; U2-S419_電特部ｸﾗﾝﾌﾟ指令
LD M3217                 ; ﾊﾝﾄﾞ2_ﾌｧｲﾅﾙST2給材中ﾌﾗｸﾞ
OR M3216                 ; ﾊﾝﾄﾞ1_ﾌｧｲﾅﾙST2給材中ﾌﾗｸﾞ
ANL
ORL
OR M6504                 ; U12-1_S4_ｸﾗﾝﾌﾟ指令
LD Y2406                 ; 電特ST2ﾜｰｸ押さえ下降
ANB Y2407                ; 電特ST2ﾜｰｸ押さえ上昇
ORL
AND M50                  ; 運転準備
OUT Y2406                ; 電特ST2ﾜｰｸ押さえ下降
LD M6807                 ; ｸﾗﾝﾌﾟ開閉_開__指令
AND M6806                ; ｸﾗﾝﾌﾟ開閉_開_起動OK
LDB M6753                ; STEP3_ｸﾗﾝﾌﾟ上昇指令
ANB M3286                ; ST2_電特部_ﾜｰｸ押_上昇指令
INV
ORL
LD Y2407                 ; 電特ST2ﾜｰｸ押さえ上昇
ANB Y2406                ; 電特ST2ﾜｰｸ押さえ下降
ORL
AND M50                  ; 運転準備
OUT Y2407                ; 電特ST2ﾜｰｸ押さえ上昇
;■その他制御出力
LD M6661                 ; U12-3_S1_ﾌｧｲﾅﾙ検査ｽﾀｰﾄ要求
OUT W0107.1              ; 電気特性検査開始要求#2
LD L1200                 ; FINALST2_有効状態
OUT W0107.9              ; 電気特性検査ｽﾃｰｼﾞ有効/無効#2
LD L1200                 ; FINALST2_有効状態
ANB M6909                ; FainlST2_無効予約(自動運転)
LD M6909                 ; FainlST2_無効予約(自動運転)
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
LD M6916                 ; ST有効確認要求
AND CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
ORL
OUT Y221F                ; ST2_電特_有効/無効表示
OUT B16EA                ; ST2電特検査_有効/無効_TPl
;□□　　パネル表示　　□□
LD Y2404                 ; 電特ST2ｽﾃｰｼﾞ前後前進
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR X1312                 ; ST2_電特部_ﾊﾟﾚｯﾄ_前進端
OUT B16E0                ; ﾊﾟﾚｯﾄ前進TpPL
LD Y2405                 ; 電特ST2ｽﾃｰｼﾞ前後後退
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR X1313                 ; ST2_電特部_ﾊﾟﾚｯﾄ_後退端
OUT B16E1                ; ﾊﾟﾚｯﾄ後退TpPL
LD Y2406                 ; 電特ST2ﾜｰｸ押さえ下降
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR X1314                 ; ST2_電特部_ﾜｰｸ押_下降端
OUT B16E2                ; ｸﾗﾝﾌﾟ下降TpPL
LD Y2407                 ; 電特ST2ﾜｰｸ押さえ上昇
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR X1315                 ; ST2_電特部_ﾜｰｸ押_上昇端
OUT B16E3                ; ｸﾗﾝﾌﾟ上昇TpPL
LD M6812                 ; SwBoxMode_電特ﾊﾟﾚｯﾄ前後Flag
OUT B16E6                ; PLBox_ﾊﾟﾚｯﾄ前後ﾓｰﾄﾞPL
LD M6813                 ; SwBoxMode_電特ｸﾗﾝﾌﾟ&ﾊﾟﾚｯﾄFlag
OUT B16E7                ; PLBox_ｸﾗﾝﾌﾟ&ﾊﾟﾚｯﾄﾓｰﾄﾞPL
;<h1/>□_異常検出
LD Y2404                 ; 電特ST2ｽﾃｰｼﾞ前後前進
ANB X1312                ; ST2_電特部_ﾊﾟﾚｯﾄ_前進端
LD Y2405                 ; 電特ST2ｽﾃｰｼﾞ前後後退
ANB X1313                ; ST2_電特部_ﾊﾟﾚｯﾄ_後退端
ORL
LD X1312                 ; ST2_電特部_ﾊﾟﾚｯﾄ_前進端
AND X1313                ; ST2_電特部_ﾊﾟﾚｯﾄ_後退端
ORL
LD CR2003                ; 常時OFF
ANB B0680                ; 384)_FinalST2ｽﾃｰｼﾞ前後CL異常BzSt
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0180                ; 384)FinalST2ｽﾃｰｼﾞ前後CL異常
ORL
MPS
AND T1290                ; CLSﾀｲﾑｱｳﾄ
OUT B0180                ; 384)FinalST2ｽﾃｰｼﾞ前後CL異常
MPP
TMR K1290 K100           ; CLSﾀｲﾑｱｳﾄ
LDP B0180                ; 384)FinalST2ｽﾃｰｼﾞ前後CL異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K384 D13500          ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0680                 ; 384)_FinalST2ｽﾃｰｼﾞ前後CL異常BzSt
AND B0180                ; 384)FinalST2ｽﾃｰｼﾞ前後CL異常
OUT B0680                ; 384)_FinalST2ｽﾃｰｼﾞ前後CL異常BzSt
;　　
LD Y2406                 ; 電特ST2ﾜｰｸ押さえ下降
ANB X1314                ; ST2_電特部_ﾜｰｸ押_下降端
LD Y2407                 ; 電特ST2ﾜｰｸ押さえ上昇
ANB X1315                ; ST2_電特部_ﾜｰｸ押_上昇端
ORL
LD X1314                 ; ST2_電特部_ﾜｰｸ押_下降端
AND X1315                ; ST2_電特部_ﾜｰｸ押_上昇端
ORL
LD CR2003                ; 常時OFF
ANB B0681                ; 385)_FinalST2ｸﾗﾝﾌﾟ開閉CLS異常BzS
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0181                ; 385)FinalST2ｸﾗﾝﾌﾟ開閉CLS異常
ORL
MPS
AND T1291                ; CLSﾀｲﾑｱｳﾄ
OUT B0181                ; 385)FinalST2ｸﾗﾝﾌﾟ開閉CLS異常
MPP
TMR K1291 K100           ; CLSﾀｲﾑｱｳﾄ
LDP B0181                ; 385)FinalST2ｸﾗﾝﾌﾟ開閉CLS異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K385 D13500          ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0681                 ; 385)_FinalST2ｸﾗﾝﾌﾟ開閉CLS異常BzS
AND B0181                ; 385)FinalST2ｸﾗﾝﾌﾟ開閉CLS異常
OUT B0681                ; 385)_FinalST2ｸﾗﾝﾌﾟ開閉CLS異常BzS
;
LD T1206                 ; FinalST2_ｺﾝﾀｸﾄﾍｯﾄﾞID_更新_DLY
AND L1200                ; FINALST2_有効状態
AND<> D6600 D6606        ; FinalST2_ｺﾝﾀｸﾄﾍｯﾄﾞID  FinalST2_ｺﾝﾀｸﾄﾍｯﾄﾞID_Copy
LD CR2003                ; 常時OFF
ANB B0682                ; 386)_FinalST2_ﾃｽﾄﾍｯﾄﾞID_不BzStop
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0182                ; 386)FinalST2ﾃｽﾄﾍｯﾄﾞID不
ORL
OUT B0182                ; 386)FinalST2ﾃｽﾄﾍｯﾄﾞID不
LDP B0182                ; 386)FinalST2ﾃｽﾄﾍｯﾄﾞID不
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1386 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0682                 ; 386)_FinalST2_ﾃｽﾄﾍｯﾄﾞID_不BzStop
AND B0182                ; 386)FinalST2ﾃｽﾄﾍｯﾄﾞID不
OUT B0682                ; 386)_FinalST2_ﾃｽﾄﾍｯﾄﾞID_不BzStop
;
LD T1207                 ; FinalST2_ﾊﾟﾚｯﾄID_更新_DLY
AND L1200                ; FINALST2_有効状態
AND<> D6601 D6607        ; FinalST2_ﾊﾟﾚｯﾄID  FinalST2_ﾊﾟﾚｯﾄID_ｾﾝｻ状態
ANB Y2404                ; 電特ST2ｽﾃｰｼﾞ前後前進
AND T1204                ; ST2_電特部_ﾊﾟﾚｯﾄ_後退端
LD CR2003                ; 常時OFF
ANB B0683                ; 387)_FinalST2_ﾊﾟﾚｯﾄID_不一BzStop
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0183                ; 387)FinalST2ﾊﾟﾚｯﾄID不一
ORL
OUT B0183                ; 387)FinalST2ﾊﾟﾚｯﾄID不一
LDP B0183                ; 387)FinalST2ﾊﾟﾚｯﾄID不一
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1387 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0683                 ; 387)_FinalST2_ﾊﾟﾚｯﾄID_不一BzStop
AND B0183                ; 387)FinalST2ﾊﾟﾚｯﾄID不一
OUT B0683                ; 387)_FinalST2_ﾊﾟﾚｯﾄID_不一BzStop
;
LD M6560                 ; U12-1_S60_ﾌｧｲﾅﾙST2_ﾜｰｸ受取異常
LD CR2003                ; 常時OFF
ANB B0684                ; 388)_FinalST2_ﾜｰｸ受取異常BzStop
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0184                ; 388)FinalST2ﾜｰｸ受取異常
ORL
OUT B0184                ; 388)FinalST2ﾜｰｸ受取異常
LDP B0184                ; 388)FinalST2ﾜｰｸ受取異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1388 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0684                 ; 388)_FinalST2_ﾜｰｸ受取異常BzStop
AND B0184                ; 388)FinalST2ﾜｰｸ受取異常
OUT B0684                ; 388)_FinalST2_ﾜｰｸ受取異常BzStop
;
LD M6930                 ; Final_ST2_ﾜｰｸ受渡し異常
LD CR2003                ; 常時OFF
ANB B0685                ; 389)_FinalST2_ﾜｰｸ受渡し異常BzSto
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0185                ; 389)FinalST2ﾜｰｸ受渡し異常
ORL
OUT B0185                ; 389)FinalST2ﾜｰｸ受渡し異常
LDP B0185                ; 389)FinalST2ﾜｰｸ受渡し異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1389 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0685                 ; 389)_FinalST2_ﾜｰｸ受渡し異常BzSto
AND B0185                ; 389)FinalST2ﾜｰｸ受渡し異常
OUT B0685                ; 389)_FinalST2_ﾜｰｸ受渡し異常BzSto
;　　
LD M6758                 ; STEP8_ORGﾜｰｸ除去要求
LD M2020                 ; U2_S520_吸着ﾐｽ発報orﾜｰｸ除去要求
LD M3225                 ; ﾊﾝﾄﾞ2ﾌｧｲﾅﾙST2除材中ﾌﾗｸﾞ
OR M3224                 ; ﾊﾝﾄﾞ1ﾌｧｲﾅﾙST2除材中ﾌﾗｸﾞ
ANL
AND>= D1540 K2           ; 吸着ﾘﾄﾗｲ回数ｶｳﾝﾀ
ORL
LD CR2003                ; 常時OFF
ANB B082B
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B032B                ; 811)ﾌｧｲﾅﾙST2ﾜｰｸ除去要求
ORL
OUT B032B                ; 811)ﾌｧｲﾅﾙST2ﾜｰｸ除去要求
LDP B032B                ; 811)ﾌｧｲﾅﾙST2ﾜｰｸ除去要求
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K811 D13500          ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B082B
AND B032B                ; 811)ﾌｧｲﾅﾙST2ﾜｰｸ除去要求
OUT B082B
;
LD W07.1                 ; 電気特性検査ｽﾃｰｼﾞ状態#2
AND M31                  ; 手動ﾓｰﾄﾞ
ANP M17                  ; 原点復帰PB
LD CR2003                ; 常時OFF
ANB B082C
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B032C                ; 812)電特ST2検査中
ORL
OUT B032C                ; 812)電特ST2検査中
LDP B032C                ; 812)電特ST2検査中
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K812 D13500          ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B082C
AND B032C                ; 812)電特ST2検査中
OUT B082C
;異常ﾌﾞｻﾞｰまとめ
LDB B0180                ; 384)FinalST2ｽﾃｰｼﾞ前後CL異常
OR B0680                 ; 384)_FinalST2ｽﾃｰｼﾞ前後CL異常BzSt
LDB B0181                ; 385)FinalST2ｸﾗﾝﾌﾟ開閉CLS異常
OR B0681                 ; 385)_FinalST2ｸﾗﾝﾌﾟ開閉CLS異常BzS
ANL
LDB B0182                ; 386)FinalST2ﾃｽﾄﾍｯﾄﾞID不
OR B0682                 ; 386)_FinalST2_ﾃｽﾄﾍｯﾄﾞID_不BzStop
ANL
LDB B0183                ; 387)FinalST2ﾊﾟﾚｯﾄID不一
OR B0683                 ; 387)_FinalST2_ﾊﾟﾚｯﾄID_不一BzStop
ANL
LDB B0184                ; 388)FinalST2ﾜｰｸ受取異常
OR B0684                 ; 388)_FinalST2_ﾜｰｸ受取異常BzStop
ANL
LDB B0185                ; 389)FinalST2ﾜｰｸ受渡し異常
OR B0685                 ; 389)_FinalST2_ﾜｰｸ受渡し異常BzSto
ANL
LDB B0186                ; 390)
OR B0686                 ; 390)BzStop
ANL
LDB B0187                ; 391)
OR B0687                 ; 391)BzStop
ANL
LDB B0188                ; 392)
OR B0688                 ; 392)BzStop
ANL
LDB B0189                ; 393)
OR B0689                 ; 393)BzStop
ANL
LDB B018A                ; 394)
OR B068A                 ; 394)BzStop
ANL
LDB B018B                ; 395)
OR B068B                 ; 395)BzStop
ANL
LDB B018C                ; 396)
OR B068C                 ; 396)BzStop
ANL
LDB B018D                ; 397)
OR B068D                 ; 397)BzStop
ANL
LDB B018E                ; 398)
OR B068E                 ; 398)BzStop
ANL
LDB B018F                ; 399)
OR B068F                 ; 399)BzStop
ANL
LDB B0190                ; 400)
OR B0690                 ; 400)BzStop
ANL
LDB B0191                ; 401)
OR B0691                 ; 401)BzStop
ANL
LDB B0192                ; 402)
OR B0692                 ; 402)BzStop
ANL
LDB B0193                ; 403)
OR B0693                 ; 403)BzStop
ANL
LDB B0174                ; 372)
OR B0674                 ; 372)BzStop
ANL
LDB B0175                ; 373)
OR B0675                 ; 373)BzStop
ANL
LDB B0176                ; 374)
OR B0676                 ; 374)BzStop
ANL
LDB B0177                ; 375)
OR B0677                 ; 375)BzStop
ANL
LDB B0178                ; 376)
OR B0678                 ; 376)BzStop
ANL
LDB B0179                ; 377)
OR B0679                 ; 377)BzStop
ANL
LDB B017A                ; 378)
OR B067A                 ; 378)BzStop
ANL
LDB B017B                ; 379)
OR B067B                 ; 379)BzStop
ANL
LDB B017C                ; 380)
OR B067C                 ; 380)BzStop
ANL
LDB B017D                ; 381)
OR B067D                 ; 381)BzStop
ANL
LDB B017E                ; 382)
OR B067E                 ; 382)BzStop
ANL
LDB B017F                ; 383)
OR B067F                 ; 383)BzStop
ANL
LDB B032B                ; 811)ﾌｧｲﾅﾙST2ﾜｰｸ除去要求
OR B082B
ANL
LDB B032C                ; 812)電特ST2検査中
OR B082C
ANL
INV
OUT M6989                ; ﾕﾆｯﾄ12異常BZ補助
END
ENDH
