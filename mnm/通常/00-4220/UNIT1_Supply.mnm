DEVICE:53
;MODULE:UNIT1_Supply
;MODULE_TYPE:0
;<h1/>▽_入力
;関連する入力受け(ｾﾝｻのﾃﾞｨﾚｲﾀｲﾏ等)を必要があれば作成する。
;通常は入力ﾕﾆｯﾄに入力時定数(ﾃﾞｨﾚｲ)があるので直接使用しても問題は無い。
LD X1211                 ; 投入ｺﾝﾍﾞｱ読取部ﾜｰｸ有無(1:有)
TMR K101 K2              ; 投入ｺﾝﾍﾞｱ読取部ﾜｰｸ有無(1:有)
LDB L700                 ; ﾌﾗｯｼｭst1_有効状態
ANB L900                 ; ﾌﾗｯｼｭst2_有効状態
ANB L1100                ; ﾌﾗｯｼｭst3_有効状態
ANB L1300                ; ﾌﾗｯｼｭst4_有効状態
INV
TMR K102 K3              ; ｽﾃｰｼﾞ有効状態確認
LD X1212                 ; 投入ｺﾝﾍﾞｱ受渡し部ﾜｰｸ有無(1有/0無
TMR K103 K3              ; 給材引込部ﾜｰｸ有無確認(ON=有)
LDB T60                  ; 投入部扉確認ﾀｲﾏ
TMR K104 K5              ; 給材部扉開時間
LDB X1210                ; 投入ｺﾝﾍﾞｱ投入部ﾜｰｸ有無(1:無)
TMR K106 K5              ; 投入部ﾜｰｸ確認(ON_有)
;<h1/>____▼_ロボット等機器入力受け
;ﾛﾎﾞｯﾄ現在値
LD X100B                 ; #01_RX00B_ORG原点復帰完了状態
AND X100D                ; #01_RX00D_運転完了
MPS
AND X1000                ; #01_RX000_完了位置_1
OUT D1028.0              ; RB1_完了POS1
MRD
AND X1001                ; #01_RX001_完了位置_2
OUT D1028.1              ; RB1_完了POS2
MRD
AND X1002                ; #01_RX002_完了位置_3
OUT D1028.2              ; RB1_完了POS4
MRD
AND X1003                ; #01_RX003_完了位置_4
OUT D1028.3              ; RB1_完了POS8
MRD
AND X1004                ; #01_RX004_完了位置_5
OUT D1028.4              ; RB1_完了POS16
MRD
AND X1005                ; #01_RX005_完了位置_6
OUT D1028.5              ; RB1_完了POS32
MRD
AND X1006                ; #01_RX006_完了位置_7
OUT D1028.6              ; RB1_完了POS64
MPP
INV
MOV K0 D1028             ; RB1_完了POS
LD X100B                 ; #01_RX00B_ORG原点復帰完了状態
AND X100D                ; #01_RX00D_運転完了
MPS
AND= D1028 D1030         ; RB1_完了POS  RB1_ﾜｰｸ投入位置Pos指定
OUT M1450                ; RB1_ﾜｰｸ投入位置_P11
MRD
AND= D1028 D1031         ; RB1_完了POS  RB1_ｺｰﾄﾞﾘｰﾀﾞｰ位置Pos指定
OUT M1451                ; RB1_ｺｰﾄﾞﾘｰﾀﾞｰ位置_P-D1031
MRD
AND= D1028 K1            ; RB1_完了POS
OUT M1452                ; RB1_待機位置_P1
MPP
AND= D1028 K2            ; RB1_完了POS
OUT M1453                ; RB1_ﾜｰｸ確認位置_P2
;<h1/>▽_再投入モード
LDP B1013                ; 再投入ﾓｰﾄﾞPB
AND M1461                ; 再投入ﾓｰﾄﾞ予約
OUT M1463                ; 再投入ﾓｰﾄﾞ予約ｷｬﾝｾﾙ
LD M1460                 ; 再投入ﾓｰﾄﾞ
LD B1002                 ; ｽﾀｰﾄPB
OR B1013                 ; 再投入ﾓｰﾄﾞPB
ANL
TMR K115 K5              ; 再投入ﾓｰﾄﾞ中ｷｬﾝｾﾙ時間
LDP T115                 ; 再投入ﾓｰﾄﾞ中ｷｬﾝｾﾙ時間
ORP B1025                ; 再投入ｷｬﾝｾﾙTPSW
OUT M1465                ; 再投入ﾓｰﾄﾞ中ﾓｰﾄﾞｷｬﾝｾﾙ
;　　再投入ﾓｰﾄﾞ予約
LDP B1013                ; 再投入ﾓｰﾄﾞPB
ANB M1461                ; 再投入ﾓｰﾄﾞ予約
LD M1461                 ; 再投入ﾓｰﾄﾞ予約
ANB M1463                ; 再投入ﾓｰﾄﾞ予約ｷｬﾝｾﾙ
ORL
ANB M1460                ; 再投入ﾓｰﾄﾞ
OUT M1461                ; 再投入ﾓｰﾄﾞ予約
;　　再投入ﾓｰﾄﾞ
LDB M1460                ; 再投入ﾓｰﾄﾞ
ANB M1431                ; 上流より基板受取中
OUT M1462                ; 再投入ﾓｰﾄﾞ条件
LD M1009                 ; _1-1_S9_ｺﾝﾍﾞﾔﾓｰﾀｰOFF指令
OR T120                  ; ﾜｰｸ無し時間
OUT M1464                ; 再投入ﾓｰﾄﾞOFF指令
LD M1461                 ; 再投入ﾓｰﾄﾞ予約
AND M1462                ; 再投入ﾓｰﾄﾞ条件
MEP
LD M1460                 ; 再投入ﾓｰﾄﾞ
ANB M1464                ; 再投入ﾓｰﾄﾞOFF指令
ANB M1465                ; 再投入ﾓｰﾄﾞ中ﾓｰﾄﾞｷｬﾝｾﾙ
ORL
AND M50                  ; 運転準備
OUT M1460                ; 再投入ﾓｰﾄﾞ
LD M1460                 ; 再投入ﾓｰﾄﾞ
AND M1470                ; 再投入_ﾜｰｸ投入要求画面表示
OR M1466                 ; 再投入ﾜｰｸ投入要求
AND M1460                ; 再投入ﾓｰﾄﾞ
OUT M1466                ; 再投入ﾜｰｸ投入要求
LD M1460                 ; 再投入ﾓｰﾄﾞ
AND M1466                ; 再投入ﾜｰｸ投入要求
LD M1460                 ; 再投入ﾓｰﾄﾞ
ANB M1466                ; 再投入ﾜｰｸ投入要求
OR M1461                 ; 再投入ﾓｰﾄﾞ予約
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1513                ; 再投入ﾓｰﾄﾞPL
;<h1/>▽_装置状態・動作条件
;ﾕﾆｯﾄまとめ
LD M1070                 ; ﾕﾆｯﾄ1-1原点_供給ｽﾗｲﾀﾞ部
AND M1150                ; ﾕﾆｯﾄ1-2原点_ﾊﾞｰｺｰﾄﾞ読取
AND M1230                ; ﾕﾆｯﾄ1-3原点
OUT M1480                ; ﾕﾆｯﾄ1原点
;□ 非常停止
LDB M1071                ; ﾕﾆｯﾄ1-1全異常_供給ｽﾗｲﾀﾞ部
ANB M1151                ; ﾕﾆｯﾄ1-2異常
ANB M1231                ; ﾕﾆｯﾄ1-3全異常
INV
OUT M1481                ; ﾕﾆｯﾄ1即停止異常
;□ 起動条件
LD M1072                 ; ﾕﾆｯﾄ1-1起動条件_供給ｽﾗｲﾀﾞ部
AND M1152                ; ﾕﾆｯﾄ1-2起動条件
AND M1232                ; ﾕﾆｯﾄ1-3起動条件
OUT M1482                ; ﾕﾆｯﾄ1起動条件
;□ 起動OFF
LDB M50                  ; 運転準備
LD M60                   ; ｴﾗｰ発生
OR M52                   ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
AND M1484                ; ﾕﾆｯﾄ1原点復帰中
ORL
OR T15                   ; 強制停止
OUT M1483                ; ﾕﾆｯﾄ1_原点復帰起動OFF
;□ 原点復帰
LD M82                   ; 原点復帰開始
ANB M1484                ; ﾕﾆｯﾄ1原点復帰中
OR M1484                 ; ﾕﾆｯﾄ1原点復帰中
ANB M1483                ; ﾕﾆｯﾄ1_原点復帰起動OFF
ANB M1491                ; ﾕﾆｯﾄ1ｴﾗｰ発生
ANB M1297                ; STEPEND
OUT M1484                ; ﾕﾆｯﾄ1原点復帰中
;□ 起動中
LDB M1074                ; ﾕﾆｯﾄ1-1起動中
ANB M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
ANB M1234                ; ﾕﾆｯﾄ1-3起動中
INV
OUT M1485                ; ﾕﾆｯﾄ1起動中
;□ ｻｲｸﾙ停止異常
LDB M1075                ; ﾕﾆｯﾄ1-1ｻｲｸﾙ停止異常
ANB M1155                ; ﾕﾆｯﾄ1-2ｻｲｸﾙ停止異常
ANB M1235                ; ﾕﾆｯﾄ1-3ｻｲｸﾙ停止異常
ANB B024                 ; 36)_U1E5_供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
INV
OUT M1486                ; ﾕﾆｯﾄ1ｻｲｸﾙ停止異常
;□ 払出停止異常
LDB CR2003               ; 常時OFF
INV
OUT M1487                ; ﾕﾆｯﾄ1払出停止異常
;□ 警報補助
LDB CR2003               ; 常時OFF
INV
OUT M1488                ; ﾕﾆｯﾄ1警報補助
;□ 機器準備確認
LD X100F                 ; #01_RX00F_サーボ状態
OUT M1490                ; ﾕﾆｯﾄ1機器準備完了
;□ ｴﾗｰ発生　一時停止
LDB M1076                ; ﾕﾆｯﾄ1-1ｴﾗｰ発生(一時停止処理)
ANB M1156                ; ﾕﾆｯﾄ1-2ｴﾗｰ発生
ANB M1236                ; ﾕﾆｯﾄ1-3ｴﾗｰ発生
INV
OUT M1491                ; ﾕﾆｯﾄ1ｴﾗｰ発生
;□ 動作中ﾕﾆｯﾄ無し
LD M1077                 ; ﾕﾆｯﾄ1-1動作無し
AND M1157                ; ﾕﾆｯﾄ1-2動作無し
AND M1237                ; ﾕﾆｯﾄ1-3動作無し
OUT M1492                ; ﾕﾆｯﾄ1動作無し確認
;□ 払出しﾜｰｸ無し
LDB T101                 ; 投入ｺﾝﾍﾞｱ読取部ﾜｰｸ有無(1:有)
ANB T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
ANB T106                 ; 投入部ﾜｰｸ確認(ON_有)
AND M36                  ; 払出ﾓｰﾄﾞ
TMR K114 K10             ; UNIT1払出処理ﾜｰｸ無
LD T114                  ; UNIT1払出処理ﾜｰｸ無
OUT M1493                ; ﾕﾆｯﾄ1ﾜｰｸ無し
;□ ｽﾃｯﾌﾟ起動
LD M30                   ; 自動ﾓｰﾄﾞ
OR M31                   ; 手動ﾓｰﾄﾞ
AND T60                  ; 投入部扉確認ﾀｲﾏ
ANB M130                 ; 一時停止
ANB M51                  ; 即停止異常(緊急停止)
ANB M52                  ; ｻｲｸﾙ停止異常(ｻｲｸﾙ停止)
ANB M57                  ; 自動起動停止指令(払出停止)
ANB M59                  ; 払出停止異常まとめ
ANB M60                  ; ｴﾗｰ発生
OUT M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
;<h1/>▽_自動
;<h1/>▼_ｺﾝﾍﾞﾔ搬送_ﾕﾆｯﾄ1-1_状態・動作条件
LD M1452                 ; RB1_待機位置_P1
AND X1218                ; 投入ｺﾝﾍﾞｱﾜｰｸｽﾄｯﾊﾟ下降端
AND X121B                ; 投入ｺﾝﾍﾞｱﾜｰｸﾌﾟｯｼｬｰ上下下降端
AND X1210                ; 投入ｺﾝﾍﾞｱ投入部ﾜｰｸ有無(1:無)
ANB X1211                ; 投入ｺﾝﾍﾞｱ読取部ﾜｰｸ有無(1:有)
LDB X1212                ; 投入ｺﾝﾍﾞｱ受渡し部ﾜｰｸ有無(1有/0無
AND= D1201 K0            ; 投入_ﾜｰｸ有無記憶
OR M73                   ; 各工程起動指令
ANL
OUT M1070                ; ﾕﾆｯﾄ1-1原点_供給ｽﾗｲﾀﾞ部
LDB B020                 ; 32)_U1E1_TSｺﾝﾄ異常
ANB B027                 ; 39)_U1E8_ﾜｰｸ受渡し部ﾜｰｸ無し異常
ANB B029                 ; 41)_U1E10　投入不明ﾜｰｸ異常
INV
OUT M1071                ; ﾕﾆｯﾄ1-1全異常_供給ｽﾗｲﾀﾞ部
LD M1070                 ; ﾕﾆｯﾄ1-1原点_供給ｽﾗｲﾀﾞ部
AND M2659                ; 初期起動時ﾊﾝﾄﾞ確認完了
ANB M1074                ; ﾕﾆｯﾄ1-1起動中
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
LD T102                  ; ｽﾃｰｼﾞ有効状態確認
OR CR2002                ; 常時ON
ANL
ANB M36                  ; 払出ﾓｰﾄﾞ
ANB M57                  ; 自動起動停止指令(払出停止)
ANB W01.0                ; ｽｷｬﾅ読込完了
ANB W01.2                ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
OUT M1072                ; ﾕﾆｯﾄ1-1起動条件_供給ｽﾗｲﾀﾞ部
LDB M50                  ; 運転準備
OR M1486                 ; ﾕﾆｯﾄ1ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M1073                ; ﾕﾆｯﾄ1-1起動OFF
LD M73                   ; 各工程起動指令
AND M1072                ; ﾕﾆｯﾄ1-1起動条件_供給ｽﾗｲﾀﾞ部
OR M1074                 ; ﾕﾆｯﾄ1-1起動中
ANB M1073                ; ﾕﾆｯﾄ1-1起動OFF
ANB M1063                ; _STEPEND
OUT M1074                ; ﾕﾆｯﾄ1-1起動中
;ﾕﾆｯﾄ1-1 ｻｲｸﾙ停止異常
LDB B020                 ; 32)_U1E1_TSｺﾝﾄ異常
INV
OUT M1075                ; ﾕﾆｯﾄ1-1ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-1 一時停止ｴﾗｰ発生まとめ
LDB B023                 ; 35)_U1E4_ｺｰﾄﾞ異常
ANB B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
ANB B0321                ; 801)_ﾌﾗｯｼｭｽﾃｰｼﾞ準備要求
ANB B0322                ; 802)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
ANB B027                 ; 39)_U1E8_ﾜｰｸ受渡し部ﾜｰｸ無し異常
ANB B030                 ; 48)_U1E17_投入ｺﾝﾍﾞﾔｽﾄｯﾊﾟCL異常
ANB B031                 ; 49)_U1E18_投入ｺﾝﾍﾞﾔﾜｰｸﾌﾟｯｼｬｰ異常
ANB B0329                ; 809)_供給ｺﾝﾍﾞﾔﾜｰｸ除去要求
ANB B029                 ; 41)_U1E10　投入不明ﾜｰｸ異常
ANB B02A                 ; 42)_U1E11_ﾜｰｸ到着ﾀｲﾑｵｰﾊﾞｰ
INV
OUT M1076                ; ﾕﾆｯﾄ1-1ｴﾗｰ発生(一時停止処理)
;ﾕﾆｯﾄ1-1 停止判定
LD= D1000 D1005          ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ  ﾕﾆｯﾄ1-1動作中判定
ORB M1074                ; ﾕﾆｯﾄ1-1起動中
AND X100D                ; #01_RX00D_運転完了
TMR K110 K20             ; ﾕﾆｯﾄ1-1動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D1000 D1005          ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ  ﾕﾆｯﾄ1-1動作中判定
LD T110                  ; ﾕﾆｯﾄ1-1動作無し判定ﾀｲﾏ
OUT M1077                ; ﾕﾆｯﾄ1-1動作無し
LD CR2002                ; 常時ON
FMOV K0 M1000 K4         ; ﾕﾆｯﾄ1-1ｽﾃｯﾌﾟ開始_S0
LDB M1074                ; ﾕﾆｯﾄ1-1起動中
MOV K0 D1000             ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MPS
RES C101                 ; CV正転ワーク確認時間
CON
RES C102                 ; CV逆転ワーク戻り時間
MRD
DW K0 D1040              ; ﾜｰｸ到着ﾀｲﾑｵｰﾊﾞｰｶｳﾝﾄ
MRD
MOV K0 D1220             ; 投入_IBT検査結果
MRD
ZRES M1402 M1406         ; ﾊﾞｰｺｰﾄﾞ読取_正常終了  ID異常時段取り替え選択
MPP
RES M1414                ; BCR読み取れなかった異常
LD M1074                 ; ﾕﾆｯﾄ1-1起動中
MOV D1000 Z1             ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
SET M1000:Z1             ; ﾕﾆｯﾄ1-1ｽﾃｯﾌﾟ開始_S0
;投入部ﾜｰｸ有無分岐
LD M1000                 ; ﾕﾆｯﾄ1-1ｽﾃｯﾌﾟ開始_S0
MPS
LDB M35                  ; 空運転ﾓｰﾄﾞ
ANB T101                 ; 投入ｺﾝﾍﾞｱ読取部ﾜｰｸ有無(1:有)
ANL
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MPP
LD M35                   ; 空運転ﾓｰﾄﾞ
ANB M1234                ; ﾕﾆｯﾄ1-3起動中
ANL
MOV K10 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;<h1/>____▼_S1_上流へﾜｰｸ供給要求
LD M1001                 ; _1-1_S1
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;　　■ﾜｰｸ供給開始確認
LD M1002                 ; _1-1_S2_IBTより基板排出要求受取
MPS
LDB M1460                ; 再投入ﾓｰﾄﾞ
ANB M36                  ; 払出ﾓｰﾄﾞ
LD D15590.0              ; IBT基板排出要求
LD L0                    ; 上流装置連結運転(0：ｽﾙ/1：ｼﾅｲ)
AND T101                 ; 投入ｺﾝﾍﾞｱ読取部ﾜｰｸ有無(1:有)
ORL
ANL
ANL
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MRD
AND M1460                ; 再投入ﾓｰﾄﾞ
MOV K6 D1000             ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MPP
AND M36                  ; 払出ﾓｰﾄﾞ
MOV K63 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;　　■基板上流装置排出完了
LD M1003                 ; _1-1_S3_IBTへ排出要求ﾚｼｰﾌﾞ
LDB L0                   ; 上流装置連結運転(0：ｽﾙ/1：ｼﾅｲ)
AND M1430                ; IBTへ基板排出信号ﾚｼｰﾌﾞ
AND M1431                ; 上流より基板受取中
OR L0                    ; 上流装置連結運転(0：ｽﾙ/1：ｼﾅｲ)
ANL
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;　　ﾜｰｸ供給要求
LD M1003                 ; _1-1_S3_IBTへ排出要求ﾚｼｰﾌﾞ
AND D15590.0             ; IBT基板排出要求
OR M1430                 ; IBTへ基板排出信号ﾚｼｰﾌﾞ
ANB M1005                ; _1-1_S5_ﾜｰｸ受取完了
ANB M1460                ; 再投入ﾓｰﾄﾞ
AND M1074                ; ﾕﾆｯﾄ1-1起動中
ANB M36                  ; 払出ﾓｰﾄﾞ
OUT M1430                ; IBTへ基板排出信号ﾚｼｰﾌﾞ
LD M1430                 ; IBTへ基板排出信号ﾚｼｰﾌﾞ
ANB D15590.0             ; IBT基板排出要求
OR M1431                 ; 上流より基板受取中
AND M1430                ; IBTへ基板排出信号ﾚｼｰﾌﾞ
OUT M1431                ; 上流より基板受取中
;　　■ﾜｰｸ到着完了
LD M1004                 ; _1-1_S4_ﾜｰｸ到着待ち(ﾓｰﾀｰ回転指)
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
MPS
LD T106                  ; 投入部ﾜｰｸ確認(ON_有)
OR T101                  ; 投入ｺﾝﾍﾞｱ読取部ﾜｰｸ有無(1:有)
ANL
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MRD
LDB T106                 ; 投入部ﾜｰｸ確認(ON_有)
ANB L0                   ; 上流装置連結運転(0：ｽﾙ/1：ｼﾅｲ)
ANL
TMR K121 K200            ; ﾜｰｸ到着ﾀｲﾑｵｰﾊﾞｰ
MPP
AND T121                 ; ﾜｰｸ到着ﾀｲﾑｵｰﾊﾞｰ
MOV K15 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
@INC D1040               ; ﾜｰｸ到着ﾀｲﾑｵｰﾊﾞｰｶｳﾝﾄ
;	■ﾜｰｸ到着ﾀｲﾑｵｰﾊﾞｰ(規定時間内にﾜｰｸがBCR位置に来なかった。。)
;B02Aのﾘｾｯﾄ回数が
;5回までは、ﾜｰｸ確認を行う。
;5回より多い場合は、BCRを行い、ﾜｰｸがないのでBCR読取異常になりﾜｰｸ排出ｴﾗｰとする。
LD M1015                 ; _1-1_S15_BCRﾜｰｸ到着ﾀｲﾑｵｰﾊﾞｰ
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
AND B02A                 ; 42)_U1E11_ﾜｰｸ到着ﾀｲﾑｵｰﾊﾞｰ
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1016                 ; _1-1_S16_ﾜｰｸ到着確認へ戻る
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
ANB B02A                 ; 42)_U1E11_ﾜｰｸ到着ﾀｲﾑｵｰﾊﾞｰ
MPS
AND<= D1040 K2           ; ﾜｰｸ到着ﾀｲﾑｵｰﾊﾞｰｶｳﾝﾄ
MOV K4 D1000             ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MPP
AND> D1040 K2            ; ﾜｰｸ到着ﾀｲﾑｵｰﾊﾞｰｶｳﾝﾄ
MOV K40 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;　　■ﾜｰｸ供給要求OFF
LD M1005                 ; _1-1_S5_ﾜｰｸ受取完了
ANB M1430                ; IBTへ基板排出信号ﾚｼｰﾌﾞ
MPS
AND T101                 ; 投入ｺﾝﾍﾞｱ読取部ﾜｰｸ有無(1:有)
MOV K9 D1000             ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MRD
ANB T101                 ; 投入ｺﾝﾍﾞｱ読取部ﾜｰｸ有無(1:有)
TMR K122 K200            ; BCR部ﾜｰｸ到着確認ﾀｲﾑｱｳﾄ
MPP
AND T122                 ; BCR部ﾜｰｸ到着確認ﾀｲﾑｱｳﾄ
MOV K15 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;　　■再投入ﾓｰﾄﾞ処理
;　　　　ｺﾝﾍﾞﾔ部ﾜｰｸ無確認　→　扉を開く　→　扉を閉める　→　投入完了釦ｏｒキャンセル　→　ワーク投入処理
LD M1006                 ; _1-1_S6_再投入ﾓｰﾄﾞ
MPS
AND M1460                ; 再投入ﾓｰﾄﾞ
MPS
AND T105                 ; ｺﾝﾍﾞﾔﾜｰｸ無し確認時間
MPS
LDB T101                 ; 投入ｺﾝﾍﾞｱ読取部ﾜｰｸ有無(1:有)
ANB T106                 ; 投入部ﾜｰｸ確認(ON_有)
ANL
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MPP
LD T101                  ; 投入ｺﾝﾍﾞｱ読取部ﾜｰｸ有無(1:有)
OR T106                  ; 投入部ﾜｰｸ確認(ON_有)
ANL
MOV K9 D1000             ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MRD
OUT M1472                ; 再投入_ｺﾝﾍﾞﾔON指令
MPP
TMR K105 K50             ; ｺﾝﾍﾞﾔﾜｰｸ無し確認時間
MPP
ANB M1460                ; 再投入ﾓｰﾄﾞ
MOV K63 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1007                 ; _1-1_S7_扉開
MPS
LD T61                   ; ｺﾝﾍﾞﾔ給材安全扉確認ﾀｲﾏ
LD M1471                 ; 再投入_扉開確認
AND B1024                ; 再投入完了TPSW
ORB M1460                ; 再投入ﾓｰﾄﾞ
ANL
ANL
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MRD
OUT M1470                ; 再投入_ﾜｰｸ投入要求画面表示
MPP
LD T64                   ; ｺﾝﾍﾞﾔ給材安全扉開きﾀｲﾏ
OR M1471                 ; 再投入_扉開確認
ANL
OUT M1471                ; 再投入_扉開確認
;再投入モード中でない
LD M1008                 ; _1-1_S8_再投入終了_ｺﾝﾍﾞﾔ回転
MPS
AND T101                 ; 投入ｺﾝﾍﾞｱ読取部ﾜｰｸ有無(1:有)
MPS
AND M1460                ; 再投入ﾓｰﾄﾞ
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MPP
ANB M1460                ; 再投入ﾓｰﾄﾞ
MOV K40 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MRD
LD T61                   ; ｺﾝﾍﾞﾔ給材安全扉確認ﾀｲﾏ
ANB T101                 ; 投入ｺﾝﾍﾞｱ読取部ﾜｰｸ有無(1:有)
ANB T106                 ; 投入部ﾜｰｸ確認(ON_有)
ANL
TMR K120 K100            ; ﾜｰｸ無し時間
MPP
AND T120                 ; ﾜｰｸ無し時間
MOV K63 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;　　ｽﾃｰｼﾞ有効確認
LD M1009                 ; _1-1_S9_ｺﾝﾍﾞﾔﾓｰﾀｰOFF指令
ANB M1435                ; 自動_供給ｺﾝﾍﾞﾔﾓｰﾀｰ回転要求
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;<h1/>____▼_S10_ﾊﾞｰｺｰﾄﾞ読取
LD M1010                 ; _1-1_S10_ﾊﾞｰｺｰﾄﾞ読取要求
MPS
AND M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MPP
OUT M1400                ; ﾊﾞｰｺｰﾄﾞ読み取り要求FLG
LD M1011                 ; _1-1_S11
ANB M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
ANB W0101.0              ; ｽｷｬﾅ読取要求
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1012                 ; _1-1_S12_
MPS
AND M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
MPS
LDB M1234                ; ﾕﾆｯﾄ1-3起動中
ANB T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
ANL
MOV K20 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MPP
MOV K1 D1201             ; 投入_ﾜｰｸ有無記憶
MPP
AND M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;　　ﾊﾞｰｺｰﾄﾞ読取異常処理
LD M1013                 ; _1-1_S13_
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1014                 ; _1-1_S14
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
LD M1404                 ; ID異常時ｻｲｸﾙ停止選択
OR M1405                 ; ID異常時取出し選択
OR M1414                 ; BCR読み取れなかった異常
ANL
MOV K40 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;　　■ﾜｰｸ受渡し部へﾜｰｸ排出処理
;　　ｽﾄｯﾊﾟｰ上下
LD M1020                 ; _1-1_S20_読取ｽﾄｯﾊﾟｰ上下
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
AND X1219                ; 投入ｺﾝﾍﾞｱﾜｰｸｽﾄｯﾊﾟ上昇端
ANB B030                 ; 48)_U1E17_投入ｺﾝﾍﾞﾔｽﾄｯﾊﾟCL異常
MOV K54 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;コンベア回転不明ワーク確認
LD M1054                 ; _1-1_S54　不明ワーク確認CV回転
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
AND Y314                 ; 供給ｼﾌﾄｺﾝﾍﾞｱｺﾝﾍﾞｱ 正回転
MPS
AND T107                 ; ﾜｰｸ確認SV回転時間
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MRD
ANB X1210                ; 投入ｺﾝﾍﾞｱ投入部ﾜｰｸ有無(1:無)
MOV K57 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MPP
TMR K107 K20             ; ﾜｰｸ確認SV回転時間
LD M1055                 ; _1-1_S55　SV停止不明ワーク確認
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
AND X1210                ; 投入ｺﾝﾍﾞｱ投入部ﾜｰｸ有無(1:無)
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1056                 ; _1-1_S56　rbｼﾘﾝﾀﾞ上昇
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
AND X121A                ; 投入ｺﾝﾍﾞｱﾜｰｸﾌﾟｯｼｬｰ上下上昇端
ANB B031                 ; 49)_U1E18_投入ｺﾝﾍﾞﾔﾜｰｸﾌﾟｯｼｬｰ異常
MOV K21 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;投入不明ﾜｰｸ異常　一時停止用ダミー回路（現在は不使用）
LD M1057                 ; _1-1_S57　投入不明ﾜｰｸ異常
ANPB M1057               ; _1-1_S57　投入不明ﾜｰｸ異常
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
ANB B029                 ; 41)_U1E10　投入不明ﾜｰｸ異常
AND X1210                ; 投入ｺﾝﾍﾞｱ投入部ﾜｰｸ有無(1:無)
@MOV K56 D1000           ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;　ｺﾝﾍﾞﾔRBワーク押し出し前位置（バーコード読み取り位置）移動
LD M1021                 ; _1-1_S21
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
ANB M1234                ; ﾕﾆｯﾄ1-3起動中
ANB T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
AND M1310                ; 給材ｽﾗｲﾀﾞ_読取位置移動可
MPS
AND= D1031 D1024         ; RB1_ｺｰﾄﾞﾘｰﾀﾞｰ位置Pos指定  RB1_POS確定
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MPP
@MOV D1031 D1024         ; RB1_ｺｰﾄﾞﾘｰﾀﾞｰ位置Pos指定  RB1_POS確定
LD M1022                 ; _1-1_S22_ﾊﾞｰｺｰﾄﾞ読取位置移動
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
AND X100C                ; #01_RX00C_運転実行中
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1023                 ; _1-1_S23
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
MPS
LD X100D                 ; #01_RX00D_運転完了
AND M1451                ; RB1_ｺｰﾄﾞﾘｰﾀﾞｰ位置_P-D1031
ANL
MOV K50 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MPP
LDB X100C                ; #01_RX00C_運転実行中
ANB M1451                ; RB1_ｺｰﾄﾞﾘｰﾀﾞｰ位置_P-D1031
ANL
MOV K21 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;　　コンベヤＲＢワーク投入位置移動
LD M1050                 ; _1-1_S50
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
ANB M1234                ; ﾕﾆｯﾄ1-3起動中
ANB T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1051                 ; _1-1_S51_
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
AND M1305                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動可
MPS
AND= D1030 D1024         ; RB1_ﾜｰｸ投入位置Pos指定  RB1_POS確定
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MPP
@MOV D1030 D1024         ; RB1_ﾜｰｸ投入位置Pos指定  RB1_POS確定
LD M1052                 ; _1-1_S52_ﾜｰｸ投入位置移動指令
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
AND X100C                ; #01_RX00C_運転実行中
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1053                 ; _1-1_S53
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
MPS
LD X100D                 ; #01_RX00D_運転完了
AND M1450                ; RB1_ﾜｰｸ投入位置_P11
ANL
MOV K24 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MPP
LDB X100C                ; #01_RX00C_運転実行中
ANB M1450                ; RB1_ﾜｰｸ投入位置_P11
ANL
MOV K51 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;　　ﾜｰｸ有無確認
LD M1024                 ; _1-1_S24
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
MPS
LD T103                  ; 給材引込部ﾜｰｸ有無確認(ON=有)
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
@MOV K27 D1000           ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MPP
LDB T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1025                 ; _1-1_S25_ﾜｰｸ受渡し部ﾜｰｸ搬送失敗
ANPB M1025               ; _1-1_S25_ﾜｰｸ受渡し部ﾜｰｸ搬送失敗
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
ANB B027                 ; 39)_U1E8_ﾜｰｸ受渡し部ﾜｰｸ無し異常
MPS
AND T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
@MOV K24 D1000           ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MPP
ANB T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1026                 ; _1-1_S26
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
@MOV K29 D1000           ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;　　ﾜｰｸ情報ｼﾌﾄ
LD M1027                 ; _1-1_S27
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LDP M1027                ; _1-1_S27
BMOV D1200 D1300 K100    ; 投入_INDEX NO.  CV_渡部_INDEX NO.
FMOV K0 D1200 K100       ; 投入_INDEX NO.
LD M1028                 ; U1-1_S28_
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;　　コンベヤＲＢ後退
LD M1029                 ; _1-1_S29
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
AND M1300                ; 給材ｽﾗｲﾀﾞ_待機位置移動可
MPS
AND= K1 D1024            ; RB1_POS確定
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MPP
@MOV K1 D1024            ; RB1_POS確定
LD M1030                 ; _1-1_S30_待機位置へ移動
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
AND X100C                ; #01_RX00C_運転実行中
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1031                 ; _1-1_S31_
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
MPS
LD X100D                 ; #01_RX00D_運転完了
AND M1452                ; RB1_待機位置_P1
ANL
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MPP
LDB X100C                ; #01_RX00C_運転実行中
ANB M1452                ; RB1_待機位置_P1
ANL
MOV K29 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1032                 ; _1-1_S32
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;　　RBｽﾄｯﾊﾟｰ下降
LD M1033                 ; _1-1_S33_ｽﾄｯﾊﾟｰ原点位置移動指令
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
AND X1218                ; 投入ｺﾝﾍﾞｱﾜｰｸｽﾄｯﾊﾟ下降端
AND X121B                ; 投入ｺﾝﾍﾞｱﾜｰｸﾌﾟｯｼｬｰ上下下降端
ANB B030                 ; 48)_U1E17_投入ｺﾝﾍﾞﾔｽﾄｯﾊﾟCL異常
ANB B031                 ; 49)_U1E18_投入ｺﾝﾍﾞﾔﾜｰｸﾌﾟｯｼｬｰ異常
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;　　unit1-3起動(搬送RBとのﾊﾝﾄﾞｼｪｲｸ用)
LD M1034                 ; _1-1_S34_搬送UT1-3起動
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
AND M1234                ; ﾕﾆｯﾄ1-3起動中
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1035                 ; _1-1_S35
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1036                 ; _1-1_S36_
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1037                 ; _1-1_S37_
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1038                 ; _1-1_S38
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1039                 ; _1-1_S39
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
MOV K63 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;<h1/>____▼_S40_ﾊﾞｰｺｰﾄﾞ読み取り異常ﾜｰｸ排出処理
LD M1040                 ; _1-1_S40
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1041                 ; _1-1_S41_ｺﾝﾍﾞﾔ停止確認
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
ANB Y314                 ; 供給ｼﾌﾄｺﾝﾍﾞｱｺﾝﾍﾞｱ 正回転
ANB Y315                 ; 供給ｼﾌﾄｺﾝﾍﾞｱｺﾝﾍﾞｱ 逆回転
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1042                 ; _1-1_S42_ｺﾝﾍﾞﾔ逆回転指令
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
AND M1436                ; 供給コンベヤ逆回転指令
LD C102                  ; CV逆転ワーク戻り時間
OR T106                  ; 投入部ﾜｰｸ確認(ON_有)
ANL
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1042                 ; _1-1_S42_ｺﾝﾍﾞﾔ逆回転指令
AND M1436                ; 供給コンベヤ逆回転指令
AND Y315                 ; 供給ｼﾌﾄｺﾝﾍﾞｱｺﾝﾍﾞｱ 逆回転
ANP CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
OUTC K102 K30            ; CV逆転ワーク戻り時間
LD M1043                 ; _1-1_S43_扉開
OUT M1419                ; ﾜｰｸ取出してください画面表示
;　　扉開閉確認
LD M1043                 ; _1-1_S43_扉開
ANB T61                  ; ｺﾝﾍﾞﾔ給材安全扉確認ﾀｲﾏ
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1044                 ; _1-1_S44_読み取り異常
AND T61                  ; ｺﾝﾍﾞﾔ給材安全扉確認ﾀｲﾏ
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;　　コンベヤ回しワーク取り出し確認
LD M1045                 ; _1-1_S45_CV回転
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
AND C101                 ; CV正転ワーク確認時間
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1045                 ; _1-1_S45_CV回転
AND Y314                 ; 供給ｼﾌﾄｺﾝﾍﾞｱｺﾝﾍﾞｱ 正回転
ANP CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
OUTC K101 K50            ; CV正転ワーク確認時間
;　　ワーク無し確認　ワークあれば扉開閉
LD M1046                 ; 1-1_S46_扉開
RES C102                 ; CV逆転ワーク戻り時間
RES C101                 ; CV正転ワーク確認時間
LD M1046                 ; 1-1_S46_扉開
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
MPS
LD X1210                 ; 投入ｺﾝﾍﾞｱ投入部ﾜｰｸ有無(1:無)
ANB T101                 ; 投入ｺﾝﾍﾞｱ読取部ﾜｰｸ有無(1:有)
ANL
INC D1000                ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
MPP
LDB X1210                ; 投入ｺﾝﾍﾞｱ投入部ﾜｰｸ有無(1:無)
OR T101                  ; 投入ｺﾝﾍﾞｱ読取部ﾜｰｸ有無(1:有)
ANL
MOV K40 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
LD M1047                 ; _1-1_S47
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
ANB B023                 ; 35)_U1E4_ｺｰﾄﾞ異常
MOV K63 D1000            ; 投入ｺﾝﾍﾞﾔｽﾃｯﾊﾟ
;<h1/>▼_ｺｰﾄﾞ読取(ﾕﾆｯﾄ1-2)状態・動作条件(補助)
LD M300                  ; PC通信正常
OUT M1150                ; ﾕﾆｯﾄ1-2原点_ﾊﾞｰｺｰﾄﾞ読取
LDB CR2003               ; 常時OFF
INV
OUT M1151                ; ﾕﾆｯﾄ1-2異常
LD M1150                 ; ﾕﾆｯﾄ1-2原点_ﾊﾞｰｺｰﾄﾞ読取
ANB M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
OUT M1152                ; ﾕﾆｯﾄ1-2起動条件
LDB M50                  ; 運転準備
OR M1486                 ; ﾕﾆｯﾄ1ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M1153                ; ﾕﾆｯﾄ1-2起動OFF
LD M1400                 ; ﾊﾞｰｺｰﾄﾞ読み取り要求FLG
AND M1152                ; ﾕﾆｯﾄ1-2起動条件
OR M1154                 ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
ANB M1153                ; ﾕﾆｯﾄ1-2起動OFF
ANB M1143                ; ﾕﾆｯﾄ1-2ｻｲｸﾙ終了
OUT M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
;ﾕﾆｯﾄ1-2ｻｲｸﾙ停止異常
LDB CR2003               ; 常時OFF
INV
OUT M1155                ; ﾕﾆｯﾄ1-2ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-2ｴﾗｰ発生まとめ
LDB CR2003               ; 常時OFF
INV
OUT M1156                ; ﾕﾆｯﾄ1-2ｴﾗｰ発生
;ﾕﾆｯﾄ1-2停止判定
LD= D1001 D1006          ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ1-2動作中判定
ORB M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
TMR K111 K20             ; ﾕﾆｯﾄ1-2動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D1001 D1006          ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ1-2動作中判定
LD T111                  ; ﾕﾆｯﾄ1-2動作無し判定ﾀｲﾏ
LD CR2003                ; 常時OFF
AND M31                  ; 手動ﾓｰﾄﾞ
ORL
OUT M1157                ; ﾕﾆｯﾄ1-2動作無し
;□
;□　ﾕﾆｯﾄ1-2ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M1080 K4         ; U1-2_S0
LDB M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
MOV K0 D1001             ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1154                 ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
MOV D1001 Z1             ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
SET M1080:Z1             ; U1-2_S0
@ZRES M1402 M1406        ; ﾊﾞｰｺｰﾄﾞ読取_正常終了  ID異常時段取り替え選択
@RES M1414               ; BCR読み取れなかった異常
;　　条件分岐
LD M1080                 ; U1-2_S0
@INC D1001               ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;　　■ｲﾝﾃﾞｯｸｽNo.割り振り
LD M1081                 ; U1-2_S1
@INC D1001               ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPS
@INC D1200               ; 投入_INDEX NO.
MPP
AND>= D1200 K21          ; 投入_INDEX NO.
DW K1 D1200              ; 投入_INDEX NO.
LD M1082                 ; U1-2_S2
@INC D1001               ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1083                 ; U1-2_S3_
@INC D1001               ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;　　pc用読取ﾃﾞｰﾀ作成
LD M1084                 ; U1-2_S4
MPS
LDB W01.0                ; ｽｷｬﾅ読込完了
ANB W01.2                ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
ANL
@INC D1001               ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPP
MOV D1200 W0140          ; 投入_INDEX NO.  投入部読取製品ｲﾝﾃﾞｯｸｽNo.
;　　ｺｰﾄﾞﾘｰﾀﾞｰへﾄﾘｶﾞｰ発信
LD M1085                 ; U1-2_S5_ｽｷｬﾅ読取要求
MPS
LD W01.0                 ; ｽｷｬﾅ読込完了
OR W01.2                 ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
OR M3                    ; OFFLINE_MODE
ANL
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MRD
@ZRES M1402 M1406        ; ﾊﾞｰｺｰﾄﾞ読取_正常終了  ID異常時段取り替え選択
MPP
@RES M1414               ; BCR読み取れなかった異常
LD M1085                 ; U1-2_S5_ｽｷｬﾅ読取要求
OR W0101.0               ; ｽｷｬﾅ読取要求
AND M1154                ; ｺｰﾄﾞ読取ﾕﾆｯﾄ1-2起動中
ANB M3                   ; OFFLINE_MODE
OUT W0101.0              ; ｽｷｬﾅ読取要求
;　　受取りﾃﾞｰﾀ格納
LD M1086                 ; U1-2_S6_読込みﾃﾞｰﾀ格納
@INC D1001               ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPS
LD M3                    ; OFFLINE_MODE
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
FMOV D502 W020 K7        ; 自動_JIG_NO.指定  ﾌｨｸｽﾁｬｰID
MRD
BMOV W020 D1210 K7       ; ﾌｨｸｽﾁｬｰID  投入_ﾌｨｸｽﾁｬｰID
MRD
LD M3                    ; OFFLINE_MODE
OR M35                   ; 空運転ﾓｰﾄﾞ
LDB W01.8                ; IBT結果NG
ANB M3                   ; OFFLINE_MODE
ANB M35                  ; 空運転ﾓｰﾄﾞ
ORL
ANL
MOV K1 D1220             ; 投入_IBT検査結果
MRD
LD W01.8                 ; IBT結果NG
ANB M3                   ; OFFLINE_MODE
ANB M35                  ; 空運転ﾓｰﾄﾞ
ANL
MOV K0 D1220             ; 投入_IBT検査結果
MRD
LDB W01.1                ; 基板投入不可
ANB W01.2                ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
ANL
SET M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
CON
RES M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
MPP
LD W01.1                 ; 基板投入不可
OR W01.2                 ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
ANL
SET M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
CON
RES M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
;　ﾊﾞｰｺｰﾄﾞ読取結果分岐
LD M1087                 ; U1-2_S7_読取要求OFF
MPS
AND M1402                ; ﾊﾞｰｺｰﾄﾞ読取_正常終了
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPP
AND M1403                ; ﾊﾞｰｺｰﾄﾞ読取_異常終了
MOV K30 D1001            ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;<h1/>____▼_S8_ID読取_OK
LD M1088                 ; U1-2_S8_ID読取_正常処理
@INC D1001               ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1089                 ; U1-2_S9_
@INC D1001               ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1090                 ; U1-2_S10_ｲﾝﾃﾞｯｸｽNO.送信
@INC D1001               ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;　　IDﾁｪｯｸ
LD M1091                 ; U1-2_S11_
MPS
LD L700                  ; ﾌﾗｯｼｭst1_有効状態
LD= D1211 D4100          ; 投入_ﾊﾞｯｸｱｯﾌﾟﾎﾞｰﾄﾞID  ﾌﾗｯｼｭst1_ﾊﾞｯｸｱｯﾌﾟﾎﾞｰﾄﾞiD確定
AND= D1212 D4101         ; 投入_投入ｺﾝﾍﾞｱID  ﾌﾗｯｼｭst1下治具(Fixture)ID確定
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
LD M5400
LD= D1211 D5100          ; 投入_ﾊﾞｯｸｱｯﾌﾟﾎﾞｰﾄﾞID
AND= D1212 D5101         ; 投入_投入ｺﾝﾍﾞｱID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
ORL
LD M6400
LD= D1211 D6100          ; 投入_ﾊﾞｯｸｱｯﾌﾟﾎﾞｰﾄﾞID
AND= D1212 D6101         ; 投入_投入ｺﾝﾍﾞｱID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
ORL
LD M7400
LD= D1211 D7100          ; 投入_ﾊﾞｯｸｱｯﾌﾟﾎﾞｰﾄﾞID
AND= D1212 D7101         ; 投入_投入ｺﾝﾍﾞｱID
OR M35                   ; 空運転ﾓｰﾄﾞ
ANL
ORL
ANL
OUT M1421                ; ﾌﾗｯｼｭST受入れ準備OK
MRD
ANB M1421                ; ﾌﾗｯｼｭST受入れ準備OK
OUT M1420                ; ﾌﾗｯｼｭST未確定
MPP
LD M1421                 ; ﾌﾗｯｼｭST受入れ準備OK
ANB B0321                ; 801)_ﾌﾗｯｼｭｽﾃｰｼﾞ準備要求
ANL
@INC D1001               ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1092                 ; U1-2_S12
MOV K63 D1001            ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;<h1/>____▼_S30_読取ID_NG
;　　ﾀﾞｲｱﾛｸﾞ要求有無ﾁｪｯｸ
LD M1110                 ; U1-2_S30_ID読取_NG処理
MPS
AND W01.2                ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPP
ANB W01.2                ; 製品IDｴﾗｰﾀﾞｲｱﾛｸﾞ要求
MPS
AND M1414                ; BCR読み取れなかった異常
MOV K63 D1001            ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPP
SET M1414                ; BCR読み取れなかった異常
LD M1111                 ; U1-2_S31
MPS
LD M1404                 ; ID異常時ｻｲｸﾙ停止選択
OR M1405                 ; ID異常時取出し選択
OR M1406                 ; ID異常時段取り替え選択
ANL
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MRD
LDP B1020                ; REMOVE取り出し選択_Tws
ANB B1021                ; JIG_CHANGE段取り替え選択_Tws
ANB B1022                ; Cycle Stopｻｲｸﾙ停止選択_Tws
ANL
RES M1404                ; ID異常時ｻｲｸﾙ停止選択
CON
SET M1405                ; ID異常時取出し選択
CON
RES M1406                ; ID異常時段取り替え選択
MRD
LDP B1021                ; JIG_CHANGE段取り替え選択_Tws
ANB B1020                ; REMOVE取り出し選択_Tws
ANB B1022                ; Cycle Stopｻｲｸﾙ停止選択_Tws
ANL
RES M1404                ; ID異常時ｻｲｸﾙ停止選択
CON
RES M1405                ; ID異常時取出し選択
CON
SET M1406                ; ID異常時段取り替え選択
MRD
LDP B1022                ; Cycle Stopｻｲｸﾙ停止選択_Tws
ANB B1020                ; REMOVE取り出し選択_Tws
ANB B1021                ; JIG_CHANGE段取り替え選択_Tws
ANL
RES M1405                ; ID異常時取出し選択
CON
SET M1404                ; ID異常時ｻｲｸﾙ停止選択
CON
RES M1406                ; ID異常時段取り替え選択
MPP
OUT B151F                ; ID異常_選択Window_Open
;　　段取り時以外はここで終了
LD M1112                 ; U1-2_S32_ID読取_NG_処理選択完了
MPS
ANB M1406                ; ID異常時段取り替え選択
MOV K63 D1001            ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPP
AND M1406                ; ID異常時段取り替え選択
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;　　段取り処理
LDB L700                 ; ﾌﾗｯｼｭst1_有効状態
ANB L900                 ; ﾌﾗｯｼｭst2_有効状態
ANB L1100                ; ﾌﾗｯｼｭst3_有効状態
ANB L1300                ; ﾌﾗｯｼｭst4_有効状態
INV
OUT M1415                ; ｽﾃｰｼﾞ有効確認
LD M1113                 ; U1-2_S33
MPS
ANB M1415                ; ｽﾃｰｼﾞ有効確認
INC D1001                ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
MPP
AND W01.0                ; ｽｷｬﾅ読込完了
MOV K6 D1001             ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
LD M1114                 ; U1-2_S34
AND M1415                ; ｽﾃｰｼﾞ有効確認
AND W01.0                ; ｽｷｬﾅ読込完了
MOV K6 D1001             ; ﾕﾆｯﾄ1-2自動運転ｽﾃｯﾌﾟ
;<h1/>▼_搬送とのﾊﾝﾄﾞｼｪｲｸ(ﾕﾆｯﾄ1-3)状態・動作条件
LD CR2002                ; 常時ON
OUT M1230                ; ﾕﾆｯﾄ1-3原点
LDB CR2003               ; 常時OFF
INV
OUT M1231                ; ﾕﾆｯﾄ1-3全異常
LD M1230                 ; ﾕﾆｯﾄ1-3原点
ANB M1234                ; ﾕﾆｯﾄ1-3起動中
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
OUT M1232                ; ﾕﾆｯﾄ1-3起動条件
LDB M50                  ; 運転準備
OR M1486                 ; ﾕﾆｯﾄ1ｻｲｸﾙ停止異常
OR T15                   ; 強制停止
OUT M1233                ; ﾕﾆｯﾄ1-3起動OFF
LD M1034                 ; _1-1_S34_搬送UT1-3起動
AND M1232                ; ﾕﾆｯﾄ1-3起動条件
OR M1234                 ; ﾕﾆｯﾄ1-3起動中
ANB M1233                ; ﾕﾆｯﾄ1-3起動OFF
ANB M1223                ; ﾕﾆｯﾄ1-3ｻｲｸﾙ終了
OUT M1234                ; ﾕﾆｯﾄ1-3起動中
;ﾕﾆｯﾄ1-3ｻｲｸﾙ停止異常
LDB CR2003               ; 常時OFF
INV
OUT M1235                ; ﾕﾆｯﾄ1-3ｻｲｸﾙ停止異常
;ﾕﾆｯﾄ1-3ｴﾗｰ発生まとめ
LDB CR2003               ; 常時OFF
INV
OUT M1236                ; ﾕﾆｯﾄ1-3ｴﾗｰ発生
;ﾕﾆｯﾄ1-3停止判定
LD= D1002 D1007          ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ1-3動作中判定
TMR K112 K20             ; U1-3動作無し判定ﾀｲﾏ
LD CR2002                ; 常時ON
MOV D1002 D1007          ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ  ﾕﾆｯﾄ1-3動作中判定
LD T112                  ; U1-3動作無し判定ﾀｲﾏ
ORB M1234                ; ﾕﾆｯﾄ1-3起動中
OUT M1237                ; ﾕﾆｯﾄ1-3動作無し
;□
;□　ﾕﾆｯﾄ1-3自動運転ステップ開始
;□
LD CR2002                ; 常時ON
FMOV K0 M1160 K4         ; U1-3_S0
LDB M1234                ; ﾕﾆｯﾄ1-3起動中
MOV K0 D1002             ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1234                 ; ﾕﾆｯﾄ1-3起動中
MOV D1002 Z1             ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
SET M1160:Z1             ; U1-3_S0
;ﾜｰｸ有無判定
LD M1160                 ; U1-3_S0
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1161                 ; U1-3_S1
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1162                 ; U1-3_S2
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1163                 ; U1-3_S3
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1164                 ; U1-3_S4_基盤確認
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
;　　受取り完了待ち
LD M1165                 ; U1-3_S5
MPS
AND M2300                ; 搬送→供給受取り完了
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
MPP
OUT M1410                ; 供給→搬送RB_受渡しFLG
LD M1166                 ; U1-3_S6
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1167                 ; U1-3_S7
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1168                 ; U1-3_S8
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1169                 ; U1-3_S9
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1170                 ; U1-3_S10
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
MPS
ANB T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
MOV K15 D1002            ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
MPP
AND T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
;　　ﾜｰｸ受渡し失敗
LD M1171                 ; U1-3_S11_搬送部ﾜｰｸ受取ﾐｽ
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
AND B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1172                 ; U1-3_S12
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
ANB B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
;　　ｱﾗｰﾑ解除後ﾜｰｸがある→ﾘﾄﾗｲ
;　　		　ﾜｰｸがない→ｻｲｸﾙ終了
LD M1173                 ; U1-3_S13
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
MPS
ANB T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
MPP
AND T103                 ; 給材引込部ﾜｰｸ有無確認(ON=有)
MOV K5 D1002             ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1174                 ; U1-3_S14
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
MOV K63 D1002            ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
FMOV K0 D1300 K100       ; CV_渡部_INDEX NO.
;　　正常終了
LD M1175                 ; U1-3_S15
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1176                 ; U1-3_S16
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1177                 ; U1-3_S17
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1178                 ; U1-3_S18
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
INC D1002                ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
LD M1179                 ; U1-3_S19
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
MOV K63 D1002            ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ停止処理
LD M56                   ; 自動起動停止指令(ｻｲｸﾙ停止)
AND CR2003               ; 常時OFF
MOV K62 D1002            ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
;ｻｲｸﾙ終了
LD M1222                 ; U1-3_S62
OR CR2003                ; 常時OFF
@MOV K63 D1002           ; ﾕﾆｯﾄ1-3自動運転ｽﾃｯﾌﾟ
;<h1/>▽_原点復帰
LD CR2002                ; 常時ON
FMOV K0 M1250 K3         ; STEP0_ﾜｰｸﾌﾟｯｼｽﾄｯﾊﾟｰ下降
LDB M1484                ; ﾕﾆｯﾄ1原点復帰中
MOV K0 D1010             ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
RES C100                 ; 供給ｺﾝﾍﾞﾔ回転時間
LD M1484                 ; ﾕﾆｯﾄ1原点復帰中
MOV D1010 Z1             ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
SET M1250:Z1             ; STEP0_ﾜｰｸﾌﾟｯｼｽﾄｯﾊﾟｰ下降
;原点復帰ｻｲｸﾙ監視
LD M1484                 ; ﾕﾆｯﾄ1原点復帰中
ANB X100C                ; #01_RX00C_運転実行中
TMR K100 K200            ; ﾕﾆｯﾄ1原点復帰ﾀｲﾑｱｳﾄ
;原点復帰ステップ開始
LD M1250                 ; STEP0_ﾜｰｸﾌﾟｯｼｽﾄｯﾊﾟｰ下降
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND X121B                ; 投入ｺﾝﾍﾞｱﾜｰｸﾌﾟｯｼｬｰ上下下降端
@INC D1010               ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;搬送部原点復帰待ち
LD M1251                 ; STEP1
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M2840                ; Z_搬送高さ(回転可能)
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD X1210                 ; 投入ｺﾝﾍﾞｱ投入部ﾜｰｸ有無(1:無)
ANB X1211                ; 投入ｺﾝﾍﾞｱ読取部ﾜｰｸ有無(1:有)
ANB X1212                ; 投入ｺﾝﾍﾞｱ受渡し部ﾜｰｸ有無(1有/0無
OUT M1440                ; 供給ｺﾝﾍﾞﾔﾜｰｸ無し
LD M1252                 ; STEP2
MPS
AND M1440                ; 供給ｺﾝﾍﾞﾔﾜｰｸ無し
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
ANB M1440                ; 供給ｺﾝﾍﾞﾔﾜｰｸ無し
MOV K12 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;ﾜｰｸ有無確認
LD M1262                 ; STEP12_ﾜｰｸ除去要求
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND B0329                ; 809)_供給ｺﾝﾍﾞﾔﾜｰｸ除去要求
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1263                 ; STEP13
AND T60                  ; 投入部扉確認ﾀｲﾏ
ANB B0329                ; 809)_供給ｺﾝﾍﾞﾔﾜｰｸ除去要求
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1264                 ; STEP14
AND T60                  ; 投入部扉確認ﾀｲﾏ
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1265                 ; STEP15
AND T60                  ; 投入部扉確認ﾀｲﾏ
@MOV K45 D1010           ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;　　ﾜｰｸ無しOK
LD M1253                 ; STEP3_原点復帰_
AND T60                  ; 投入部扉確認ﾀｲﾏ
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1254                 ; STEP4_
AND T60                  ; 投入部扉確認ﾀｲﾏ
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1255                 ; STEP5
AND T60                  ; 投入部扉確認ﾀｲﾏ
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1256                 ; STEP6
AND T60                  ; 投入部扉確認ﾀｲﾏ
MPS
AND X100B                ; #01_RX00B_ORG原点復帰完了状態
MOV K8 D1010             ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
ANB X100B                ; #01_RX00B_ORG原点復帰完了状態
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1257                 ; STEP7_原点復帰指令
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND X100B                ; #01_RX00B_ORG原点復帰完了状態
AND X100D                ; #01_RX00D_運転完了
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1258                 ; STEP8
AND T60                  ; 投入部扉確認ﾀｲﾏ
MPS
MOV K1 D1024             ; RB1_POS確定
MPP
AND= K1 D1024            ; RB1_POS確定
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1259                 ; STEP9_待機位置移動指令
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND X100C                ; #01_RX00C_運転実行中
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1260                 ; STEP10
AND T60                  ; 投入部扉確認ﾀｲﾏ
MPS
LD X100D                 ; #01_RX00D_運転完了
AND M1452                ; RB1_待機位置_P1
ANL
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
LDB X100C                ; #01_RX00C_運転実行中
ANB M1452                ; RB1_待機位置_P1
ANL
MOV K8 D1010             ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1261                 ; STEP11
AND T60                  ; 投入部扉確認ﾀｲﾏ
MOV K20 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1270                 ; STEP20_ｺﾝﾍﾞﾔ回転指令
AND T60                  ; 投入部扉確認ﾀｲﾏ
MPS
ANB M1440                ; 供給ｺﾝﾍﾞﾔﾜｰｸ無し
MOV K12 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MRD
LD M1440                 ; 供給ｺﾝﾍﾞﾔﾜｰｸ無し
AND C100                 ; 供給ｺﾝﾍﾞﾔ回転時間
ANL
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
LD Y314                  ; 供給ｼﾌﾄｺﾝﾍﾞｱｺﾝﾍﾞｱ 正回転
ANP CR2005               ; 100msｸﾛｯｸﾊﾟﾙｽ
ANL
OUTC K100 K100           ; 供給ｺﾝﾍﾞﾔ回転時間
LD M1271                 ; STEP21_ｺﾝﾍﾞﾔOFF指令
AND T60                  ; 投入部扉確認ﾀｲﾏ
ANB Y314                 ; 供給ｼﾌﾄｺﾝﾍﾞｱｺﾝﾍﾞｱ 正回転
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1272                 ; STEP22_ﾌﾟｯｼｬｰ上昇指令
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND X1219                ; 投入ｺﾝﾍﾞｱﾜｰｸｽﾄｯﾊﾟ上昇端
AND X121A                ; 投入ｺﾝﾍﾞｱﾜｰｸﾌﾟｯｼｬｰ上下上昇端
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1273                 ; STEP23
AND T60                  ; 投入部扉確認ﾀｲﾏ
MPS
MOV K2 D1024             ; RB1_POS確定
MPP
AND= K2 D1024            ; RB1_POS確定
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1274                 ; STEP24_ﾜｰｸ確認位置移動指令
AND X100C                ; #01_RX00C_運転実行中
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1275                 ; STEP25
MPS
LD X100D                 ; #01_RX00D_運転完了
AND M1453                ; RB1_ﾜｰｸ確認位置_P2
ANL
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
LDB X100C                ; #01_RX00C_運転実行中
ANB M1453                ; RB1_ﾜｰｸ確認位置_P2
ANL
MOV K23 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1276                 ; STEP26
MPS
AND M1440                ; 供給ｺﾝﾍﾞﾔﾜｰｸ無し
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
ANB M1440                ; 供給ｺﾝﾍﾞﾔﾜｰｸ無し
MOV K12 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1277                 ; STEP27
AND T60                  ; 投入部扉確認ﾀｲﾏ
MPS
MOV K1 D1024             ; RB1_POS確定
MPP
AND= K1 D1024            ; RB1_POS確定
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1278                 ; STEP28_待機位置移動指令
AND X100C                ; #01_RX00C_運転実行中
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1279                 ; STEP29
AND T60                  ; 投入部扉確認ﾀｲﾏ
MPS
LD X100D                 ; #01_RX00D_運転完了
AND M1452                ; RB1_待機位置_P1
ANL
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MPP
LDB X100C                ; #01_RX00C_運転実行中
ANB M1452                ; RB1_待機位置_P1
ANL
MOV K27 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
LD M1280                 ; STEP30_ﾌﾟｯｼｬｰ下降指令
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND X1219                ; 投入ｺﾝﾍﾞｱﾜｰｸｽﾄｯﾊﾟ上昇端
AND X121A                ; 投入ｺﾝﾍﾞｱﾜｰｸﾌﾟｯｼｬｰ上下上昇端
MOV K45 D1010            ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;原点復帰終了
LD M1295                 ; STEP45
MPS
AND M1480                ; ﾕﾆｯﾄ1原点
INC D1010                ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
MRD
FMOV K0 D1200 K100       ; 投入_INDEX NO.
MPP
FMOV K0 D1300 K100       ; CV_渡部_INDEX NO.
LD M1295                 ; STEP45
AND M1480                ; ﾕﾆｯﾄ1原点
LD M1494                 ; 原点復帰記憶
ANB M1250                ; STEP0_ﾜｰｸﾌﾟｯｼｽﾄｯﾊﾟｰ下降
ORL
LDB T104                 ; 給材部扉開時間
OR M71                   ; 自動運転開始BZ
ANL
OUT M1494                ; 原点復帰記憶
LD M1296                 ; STEP46
ANB M82                  ; 原点復帰開始
@MOV K47 D1010           ; ﾕﾆｯﾄ1原点復帰ｽﾃｯﾌﾟ
;<h1/>▽_手動
;　　ｲﾝﾀｰﾛｯｸ
;給材ｽﾗｲﾀﾞ待機位置移動
LD CR2002                ; 常時ON
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M129                 ; 安全入力OK
AND X100B                ; #01_RX00B_ORG原点復帰完了状態
LD X100D                 ; #01_RX00D_運転完了
ORB X100C                ; #01_RX00C_運転実行中
ANL
ANB X100C                ; #01_RX00C_運転実行中
AND X121A                ; 投入ｺﾝﾍﾞｱﾜｰｸﾌﾟｯｼｬｰ上下上昇端
AND X1210                ; 投入ｺﾝﾍﾞｱ投入部ﾜｰｸ有無(1:無)
ANB M1301                ; 給材RB_ﾜｰｸ投入位置移動
ANB M1306                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
ANB M1311                ; 給材ｽﾗｲﾀﾞ_読取位置移動
ANB M1316                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動
OUT M1300                ; 給材ｽﾗｲﾀﾞ_待機位置移動可
;ﾜｰｸ受渡し位置
LD CR2002                ; 常時ON
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M129                 ; 安全入力OK
AND X100B                ; #01_RX00B_ORG原点復帰完了状態
LD X100D                 ; #01_RX00D_運転完了
ORB X100C                ; #01_RX00C_運転実行中
ANL
ANB X100C                ; #01_RX00C_運転実行中
AND X1219                ; 投入ｺﾝﾍﾞｱﾜｰｸｽﾄｯﾊﾟ上昇端
AND X121A                ; 投入ｺﾝﾍﾞｱﾜｰｸﾌﾟｯｼｬｰ上下上昇端
AND X1210                ; 投入ｺﾝﾍﾞｱ投入部ﾜｰｸ有無(1:無)
ANB M1301                ; 給材RB_ﾜｰｸ投入位置移動
ANB M1306                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
ANB M1311                ; 給材ｽﾗｲﾀﾞ_読取位置移動
ANB M1316                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動
OUT M1305                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動可
;読取位置移動
LD CR2002                ; 常時ON
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M129                 ; 安全入力OK
AND X100B                ; #01_RX00B_ORG原点復帰完了状態
LD X100D                 ; #01_RX00D_運転完了
ORB X100C                ; #01_RX00C_運転実行中
ANL
AND X121A                ; 投入ｺﾝﾍﾞｱﾜｰｸﾌﾟｯｼｬｰ上下上昇端
AND X1210                ; 投入ｺﾝﾍﾞｱ投入部ﾜｰｸ有無(1:無)
ANB M1301                ; 給材RB_ﾜｰｸ投入位置移動
ANB M1306                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
ANB M1311                ; 給材ｽﾗｲﾀﾞ_読取位置移動
ANB M1316                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動
OUT M1310                ; 給材ｽﾗｲﾀﾞ_読取位置移動可
;基板確認位置P2
LD CR2002                ; 常時ON
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M129                 ; 安全入力OK
AND X100B                ; #01_RX00B_ORG原点復帰完了状態
LD X100D                 ; #01_RX00D_運転完了
ORB X100C                ; #01_RX00C_運転実行中
ANL
AND X1219                ; 投入ｺﾝﾍﾞｱﾜｰｸｽﾄｯﾊﾟ上昇端
AND X121A                ; 投入ｺﾝﾍﾞｱﾜｰｸﾌﾟｯｼｬｰ上下上昇端
AND X1210                ; 投入ｺﾝﾍﾞｱ投入部ﾜｰｸ有無(1:無)
ANB M1301                ; 給材RB_ﾜｰｸ投入位置移動
ANB M1306                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
ANB M1311                ; 給材ｽﾗｲﾀﾞ_読取位置移動
ANB M1316                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動
OUT M1315                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動可
LD M31                   ; 手動ﾓｰﾄﾞ
AND M32                  ; ﾒｲﾝ手動操作可能条件
ANB M1485                ; ﾕﾆｯﾄ1起動中
ANB M1484                ; ﾕﾆｯﾄ1原点復帰中
MC
;給材ｽﾗｲﾀﾞ待機位置移動
LDP B1080                ; UNIT1-1-1 TP-PB
AND M1300                ; 給材ｽﾗｲﾀﾞ_待機位置移動可
OR M1301                 ; 給材RB_ﾜｰｸ投入位置移動
ANB M1304                ; 給材RB_ﾜｰｸ投入位置移動完了
MPS
OUT M1301                ; 給材RB_ﾜｰｸ投入位置移動
MPP
ANB M1303                ; 給材RB_ﾜｰｸ投入位置移動中
OUT M1302                ; 給材RB_ﾜｰｸ投入位置移動指令
@DW K1 D1024             ; RB1_POS確定
LD M1302                 ; 給材RB_ﾜｰｸ投入位置移動指令
AND X100C                ; #01_RX00C_運転実行中
OR M1303                 ; 給材RB_ﾜｰｸ投入位置移動中
AND M1301                ; 給材RB_ﾜｰｸ投入位置移動
AND T60                  ; 投入部扉確認ﾀｲﾏ
OUT M1303                ; 給材RB_ﾜｰｸ投入位置移動中
LD M1303                 ; 給材RB_ﾜｰｸ投入位置移動中
ANB X100C                ; #01_RX00C_運転実行中
AND X100D                ; #01_RX00D_運転完了
AND= D1028 D1024         ; RB1_完了POS  RB1_POS確定
AND M1301                ; 給材RB_ﾜｰｸ投入位置移動
OUT M1304                ; 給材RB_ﾜｰｸ投入位置移動完了
;ﾜｰｸ受渡し位置
LDP B1081                ; UNIT1-1-2 TP-PB
AND M1305                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動可
OR M1306                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
ANB M1309                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動完了
MPS
OUT M1306                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
MPP
ANB M1308                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動中
OUT M1307                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動指令
@LDA D1030               ; RB1_ﾜｰｸ投入位置Pos指定
CON
@STA D1024               ; RB1_POS確定
LD M1307                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動指令
AND X100C                ; #01_RX00C_運転実行中
OR M1308                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動中
AND M1306                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
AND T60                  ; 投入部扉確認ﾀｲﾏ
OUT M1308                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動中
LD M1308                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動中
ANB X100C                ; #01_RX00C_運転実行中
AND X100D                ; #01_RX00D_運転完了
AND= D1028 D1024         ; RB1_完了POS  RB1_POS確定
AND M1306                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
OUT M1309                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動完了
;読取位置移動
LDP B1082                ; 読取位置移動SW
AND M1310                ; 給材ｽﾗｲﾀﾞ_読取位置移動可
OR M1311                 ; 給材ｽﾗｲﾀﾞ_読取位置移動
ANB M1314                ; 給材ｽﾗｲﾀﾞ_読取位置移動完了
MPS
OUT M1311                ; 給材ｽﾗｲﾀﾞ_読取位置移動
MPP
ANB M1336                ; 給材ｽﾗｲﾀﾞ_読取位置移動中
OUT M1312                ; 給材ｽﾗｲﾀﾞ_読取位置移動指令
@LDA D1031               ; RB1_ｺｰﾄﾞﾘｰﾀﾞｰ位置Pos指定
CON
@STA D1024               ; RB1_POS確定
LD M1311                 ; 給材ｽﾗｲﾀﾞ_読取位置移動
AND X100C                ; #01_RX00C_運転実行中
OR M1336                 ; 給材ｽﾗｲﾀﾞ_読取位置移動中
AND M1311                ; 給材ｽﾗｲﾀﾞ_読取位置移動
AND T60                  ; 投入部扉確認ﾀｲﾏ
OUT M1336                ; 給材ｽﾗｲﾀﾞ_読取位置移動中
LD M1336                 ; 給材ｽﾗｲﾀﾞ_読取位置移動中
ANB X100C                ; #01_RX00C_運転実行中
AND X100D                ; #01_RX00D_運転完了
AND= D1028 D1024         ; RB1_完了POS  RB1_POS確定
AND M1311                ; 給材ｽﾗｲﾀﾞ_読取位置移動
OUT M1314                ; 給材ｽﾗｲﾀﾞ_読取位置移動完了
;給材ｽﾗｲﾀﾞﾜｰｸ確認位置移動
LDP B108E                ; RB1_基板確認位置
AND M1315                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動可
OR M1316                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動
ANB M1319                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動完了
MPS
OUT M1316                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動
MPP
ANB M1318                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動中
OUT M1317                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動指令
@DW K2 D1024             ; RB1_POS確定
LD M1317                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動指令
AND X100C                ; #01_RX00C_運転実行中
OR M1318                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動中
AND M1316                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動
AND T60                  ; 投入部扉確認ﾀｲﾏ
OUT M1318                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動中
LD M1318                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動中
ANB X100C                ; #01_RX00C_運転実行中
AND X100D                ; #01_RX00D_運転完了
AND= D1028 D1024         ; RB1_完了POS  RB1_POS確定
AND M1316                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動
OUT M1319                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動完了
;　　供給ｺﾝﾍﾞﾔ起動
LD CR2002                ; 常時ON
AND M129                 ; 安全入力OK
AND T60                  ; 投入部扉確認ﾀｲﾏ
OUT M1320                ; 供給ｺﾝﾍﾞﾔ起動OK
LDP B1084                ; 供給ｺﾝﾍﾞﾔONsw
AND M1320                ; 供給ｺﾝﾍﾞﾔ起動OK
LD M1321                 ; 供給ｺﾝﾍﾞﾔ起動指令
ANB M1323                ; 供給ｺﾝﾍﾞﾔ起動OFF指令
ORL
OUT M1321                ; 供給ｺﾝﾍﾞﾔ起動指令
LD CR2002                ; 常時ON
OUT M1322                ; 供給ｺﾝﾍﾞﾔ起動OK
LDP B1085                ; 供給ｺﾝﾍﾞﾔOFFsw
AND M1322                ; 供給ｺﾝﾍﾞﾔ起動OK
LD M1323                 ; 供給ｺﾝﾍﾞﾔ起動OFF指令
ANB M1321                ; 供給ｺﾝﾍﾞﾔ起動指令
ORL
OUT M1323                ; 供給ｺﾝﾍﾞﾔ起動OFF指令
;　　ｽﾄｯﾊﾟｰ上下動作
LD CR2002                ; 常時ON
AND M129                 ; 安全入力OK
AND T60                  ; 投入部扉確認ﾀｲﾏ
OUT M1324                ; ｽﾄｯﾊﾟｰ上昇OK
LDP B1086                ; ｽﾄｯﾊﾟｰ上昇sw
AND M1324                ; ｽﾄｯﾊﾟｰ上昇OK
LD M1325                 ; ｽﾄｯﾊﾟｰ上昇指令
ANB M1327                ; ｽﾄｯﾊﾟｰ下降指令
ORL
OUT M1325                ; ｽﾄｯﾊﾟｰ上昇指令
LD CR2002                ; 常時ON
AND T60                  ; 投入部扉確認ﾀｲﾏ
ANB T101                 ; 投入ｺﾝﾍﾞｱ読取部ﾜｰｸ有無(1:有)
LD= D1028 K1             ; RB1_完了POS
OR= D1028 K72            ; RB1_完了POS
ANL
OUT M1326                ; ｽﾄｯﾊﾟｰ下降OK
LDP B1087                ; ｽﾄｯﾊﾟｰ下降sw
AND M1326                ; ｽﾄｯﾊﾟｰ下降OK
LD M1327                 ; ｽﾄｯﾊﾟｰ下降指令
ANB M1325                ; ｽﾄｯﾊﾟｰ上昇指令
ORL
OUT M1327                ; ｽﾄｯﾊﾟｰ下降指令
;　　RBﾌﾟｯｼｬｰ上下
LD CR2002                ; 常時ON
AND M129                 ; 安全入力OK
AND T60                  ; 投入部扉確認ﾀｲﾏ
LD X1210                 ; 投入ｺﾝﾍﾞｱ投入部ﾜｰｸ有無(1:無)
AND M1452                ; RB1_待機位置_P1
LD X1210                 ; 投入ｺﾝﾍﾞｱ投入部ﾜｰｸ有無(1:無)
ANB X1211                ; 投入ｺﾝﾍﾞｱ読取部ﾜｰｸ有無(1:有)
ANB M1452                ; RB1_待機位置_P1
ORL
ANL
OUT M1328                ; RBﾌﾟｯｼｬｰ上昇OK
LDP B1088                ; RBﾌﾟｯｼｬｰ上昇SW
AND M1328                ; RBﾌﾟｯｼｬｰ上昇OK
LD M1329                 ; RBﾌﾟｯｼｬｰ上昇指令
ANB M1331                ; RBﾌﾟｯｼｬｰ下降指令
ORL
OUT M1329                ; RBﾌﾟｯｼｬｰ上昇指令
LD CR2002                ; 常時ON
AND T60                  ; 投入部扉確認ﾀｲﾏ
OUT M1330                ; RBﾌﾟｯｼｬｰ下降OK
LDP B1089                ; RBﾌﾟｯｼｬｰ下降SW
AND M1330                ; RBﾌﾟｯｼｬｰ下降OK
LD M1331                 ; RBﾌﾟｯｼｬｰ下降指令
ANB M1329                ; RBﾌﾟｯｼｬｰ上昇指令
ORL
OUT M1331                ; RBﾌﾟｯｼｬｰ下降指令
MCR
;コンベヤ回転方向切り替え
LD CR2002                ; 常時ON
ANB Y314                 ; 供給ｼﾌﾄｺﾝﾍﾞｱｺﾝﾍﾞｱ 正回転
ANB Y315                 ; 供給ｼﾌﾄｺﾝﾍﾞｱｺﾝﾍﾞｱ 逆回転
OUT M1332                ; コンベヤ回転方向切替OK
LDP B108D                ; ｺﾝﾍﾞﾔ逆転切り替えSW
ANB B108C                ; ｺﾝﾍﾞﾔ正転切り替えSW
AND M1332                ; コンベヤ回転方向切替OK
LD M1333                 ; コンベヤ逆転指示
ANB M1335                ; コンベヤ正転指示
ORL
OUT M1333                ; コンベヤ逆転指示
LD CR2002                ; 常時ON
ANB Y314                 ; 供給ｼﾌﾄｺﾝﾍﾞｱｺﾝﾍﾞｱ 正回転
ANB Y315                 ; 供給ｼﾌﾄｺﾝﾍﾞｱｺﾝﾍﾞｱ 逆回転
OUT M1334                ; コンベヤ逆転OK
LDP B108C                ; ｺﾝﾍﾞﾔ正転切り替えSW
ANB B108D                ; ｺﾝﾍﾞﾔ逆転切り替えSW
AND M1334                ; コンベヤ逆転OK
LD M1335                 ; コンベヤ正転指示
ANB M1333                ; コンベヤ逆転指示
ORL
OUT M1335                ; コンベヤ正転指示
;<h1/>■■　　補助回路　　■■
;　　ﾓｰﾀｰ回転
LDPB M1430               ; IBTへ基板排出信号ﾚｼｰﾌﾞ
ANB M1472                ; 再投入_ｺﾝﾍﾞﾔON指令
ANB M1004                ; _1-1_S4_ﾜｰｸ到着待ち(ﾓｰﾀｰ回転指)
ANB M1008                ; _1-1_S8_再投入終了_ｺﾝﾍﾞﾔ回転
ANB M1045                ; _1-1_S45_CV回転
ANB M1054                ; _1-1_S54　不明ワーク確認CV回転
INV
LD M1435                 ; 自動_供給ｺﾝﾍﾞﾔﾓｰﾀｰ回転要求
ANB M1009                ; _1-1_S9_ｺﾝﾍﾞﾔﾓｰﾀｰOFF指令
ANB M1009                ; _1-1_S9_ｺﾝﾍﾞﾔﾓｰﾀｰOFF指令
ANPB M1470               ; 再投入_ﾜｰｸ投入要求画面表示
ANB M1015                ; _1-1_S15_BCRﾜｰｸ到着ﾀｲﾑｵｰﾊﾞｰ
ANB M1055                ; _1-1_S55　SV停止不明ワーク確認
ANB M1041                ; _1-1_S41_ｺﾝﾍﾞﾔ停止確認
ORL
AND M1074                ; ﾕﾆｯﾄ1-1起動中
OUT M1435                ; 自動_供給ｺﾝﾍﾞﾔﾓｰﾀｰ回転要求
LD M1270                 ; STEP20_ｺﾝﾍﾞﾔ回転指令
LD M1437                 ; 原点復帰_供給ｺﾝﾍﾞﾔ回転指令
ANB M1271                ; STEP21_ｺﾝﾍﾞﾔOFF指令
ORL
AND M1484                ; ﾕﾆｯﾄ1原点復帰中
OUT M1437                ; 原点復帰_供給ｺﾝﾍﾞﾔ回転指令
LD M1042                 ; _1-1_S42_ｺﾝﾍﾞﾔ逆回転指令
LD M1436                 ; 供給コンベヤ逆回転指令
ANB M1041                ; _1-1_S41_ｺﾝﾍﾞﾔ停止確認
ANB M1043                ; _1-1_S43_扉開
ANB C102                 ; CV逆転ワーク戻り時間
ORL
AND M1074                ; ﾕﾆｯﾄ1-1起動中
OUT M1436                ; 供給コンベヤ逆回転指令
;<h1/>□□　　出力回路　　□□
;ソレノイドバルブ出力
LD M50                   ; 運転準備
OUT Y57                  ; 供給ｼﾌﾄｺﾝﾍﾞｱ電源
LD M30                   ; 自動ﾓｰﾄﾞ
ANB M1007                ; _1-1_S7_扉開
ANB M1043                ; _1-1_S43_扉開
OUT Y310                 ; 投入部扉ﾛｯｸ(ONでﾛｯｸ)
LD M1321                 ; 供給ｺﾝﾍﾞﾔ起動指令
AND M1320                ; 供給ｺﾝﾍﾞﾔ起動OK
ANB M1333                ; コンベヤ逆転指示
LD M1435                 ; 自動_供給ｺﾝﾍﾞﾔﾓｰﾀｰ回転要求
OR M1437                 ; 原点復帰_供給ｺﾝﾍﾞﾔ回転指令
AND X02                  ; 安全扉正常
ANB B0320                ; 800)_安全扉開
AND X06                  ; 投入ｺﾝﾍﾞﾔ扉閉確認
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
ORL
ANB Y315                 ; 供給ｼﾌﾄｺﾝﾍﾞｱｺﾝﾍﾞｱ 逆回転
OUT Y314                 ; 供給ｼﾌﾄｺﾝﾍﾞｱｺﾝﾍﾞｱ 正回転
LD M1321                 ; 供給ｺﾝﾍﾞﾔ起動指令
AND M1320                ; 供給ｺﾝﾍﾞﾔ起動OK
AND M1333                ; コンベヤ逆転指示
LD M1436                 ; 供給コンベヤ逆回転指令
AND X02                  ; 安全扉正常
ANB B0320                ; 800)_安全扉開
AND X06                  ; 投入ｺﾝﾍﾞﾔ扉閉確認
AND T60                  ; 投入部扉確認ﾀｲﾏ
AND M1479                ; ﾕﾆｯﾄ1ｽﾃｯﾌﾟ動作
ORL
ANB Y314                 ; 供給ｼﾌﾄｺﾝﾍﾞｱｺﾝﾍﾞｱ 正回転
OUT Y315                 ; 供給ｼﾌﾄｺﾝﾍﾞｱｺﾝﾍﾞｱ 逆回転
LD M1327                 ; ｽﾄｯﾊﾟｰ下降指令
AND M1326                ; ｽﾄｯﾊﾟｰ下降OK
LDB M1033                ; _1-1_S33_ｽﾄｯﾊﾟｰ原点位置移動指令
ANB M1280                ; STEP30_ﾌﾟｯｼｬｰ下降指令
INV
ORL
LD Y2360                 ; 投入ｺﾝﾍﾞｱﾜｰｸｽﾄｯﾊﾟ下降
ANB Y2361                ; 投入ｺﾝﾍﾞｱﾜｰｸｽﾄｯﾊﾟ上昇
ORL
OUT Y2360                ; 投入ｺﾝﾍﾞｱﾜｰｸｽﾄｯﾊﾟ下降
LD M1325                 ; ｽﾄｯﾊﾟｰ上昇指令
AND M1324                ; ｽﾄｯﾊﾟｰ上昇OK
LDB M1020                ; _1-1_S20_読取ｽﾄｯﾊﾟｰ上下
ANB M1272                ; STEP22_ﾌﾟｯｼｬｰ上昇指令
INV
ORL
LD Y2361                 ; 投入ｺﾝﾍﾞｱﾜｰｸｽﾄｯﾊﾟ上昇
ANB Y2360                ; 投入ｺﾝﾍﾞｱﾜｰｸｽﾄｯﾊﾟ下降
ORL
OUT Y2361                ; 投入ｺﾝﾍﾞｱﾜｰｸｽﾄｯﾊﾟ上昇
LD M1329                 ; RBﾌﾟｯｼｬｰ上昇指令
AND M1328                ; RBﾌﾟｯｼｬｰ上昇OK
LDB M1056                ; _1-1_S56　rbｼﾘﾝﾀﾞ上昇
ANB M1272                ; STEP22_ﾌﾟｯｼｬｰ上昇指令
INV
ORL
LD Y2362                 ; 投入ｺﾝﾍﾞﾔﾜｰｸﾌﾟｯｼｬｰ上下上昇
ANB Y2363                ; 投入ｺﾝﾍﾞﾔﾜｰｸﾌﾟｯｼｬｰ上下下降
ORL
OUT Y2362                ; 投入ｺﾝﾍﾞﾔﾜｰｸﾌﾟｯｼｬｰ上下上昇
LD M1331                 ; RBﾌﾟｯｼｬｰ下降指令
AND M1330                ; RBﾌﾟｯｼｬｰ下降OK
LDB M1033                ; _1-1_S33_ｽﾄｯﾊﾟｰ原点位置移動指令
ANB M1280                ; STEP30_ﾌﾟｯｼｬｰ下降指令
INV
ORL
OR M1250                 ; STEP0_ﾜｰｸﾌﾟｯｼｽﾄｯﾊﾟｰ下降
LD Y2363                 ; 投入ｺﾝﾍﾞﾔﾜｰｸﾌﾟｯｼｬｰ上下下降
ANB Y2362                ; 投入ｺﾝﾍﾞﾔﾜｰｸﾌﾟｯｼｬｰ上下上昇
ORL
OUT Y2363                ; 投入ｺﾝﾍﾞﾔﾜｰｸﾌﾟｯｼｬｰ上下下降
;■上流装置へ
LD M1430                 ; IBTへ基板排出信号ﾚｼｰﾌﾞ
OUT D15090.0             ; IBTからの基板排出要求ﾚｼｰﾌﾞ
LD M51                   ; 即停止異常(緊急停止)
OUT M990                 ; 後で検索
LDB X02                  ; 安全扉正常
ANB X06                  ; 投入ｺﾝﾍﾞﾔ扉閉確認
INV
OUT M990                 ; 後で検索
;■PC→PLCへ出力
;  ▼_HUBﾘｾｯﾄ
LD W04.0                 ; 投入部ｽｷｬﾅ電源OFF
OUT Y322                 ; HUB_ﾘｾｯﾄ
;■PLC→PCへ出力
LD M1404                 ; ID異常時ｻｲｸﾙ停止選択
OUT W0101.1              ; ID異常時ｻｲｸﾙ停止選択
LD M1405                 ; ID異常時取出し選択
OUT W0101.2              ; ID異常時取出し選択
LD M1406                 ; ID異常時段取り替え選択
OUT W0101.3              ; ID異常時段取り替え選択
;<h1/>　　■ロボット動作出力
LDB M1302                ; 給材RB_ﾜｰｸ投入位置移動指令
ANB M1307                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動指令
ANB M1312                ; 給材ｽﾗｲﾀﾞ_読取位置移動指令
ANB M1317                ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動指令
ANB M1022                ; _1-1_S22_ﾊﾞｰｺｰﾄﾞ読取位置移動
ANB M1030                ; _1-1_S30_待機位置へ移動
ANB M1052                ; _1-1_S52_ﾜｰｸ投入位置移動指令
ANB M1259                ; STEP9_待機位置移動指令
ANB M1274                ; STEP24_ﾜｰｸ確認位置移動指令
ANB M1278                ; STEP28_待機位置移動指令
INV
@MOV D1024 D1026         ; RB1_POS確定  RB1_指令POS
MPS
AND T60                  ; 投入部扉確認ﾀｲﾏ
TMR K190 K2              ; 給材搬送PPRB_POS確定ﾃﾞｨﾚｲ
MPP
AND T190                 ; 給材搬送PPRB_POS確定ﾃﾞｨﾚｲ
OUT Y200D                ; #01_RY00D_スタート
LD CR2002                ; 常時ON
MPS
AND D1026.0              ; 給材搬送PP RB_指令POS1
OUT Y2000                ; #01_RY000_指令位置_1
MRD
AND D1026.1              ; 給材搬送PP RB_指令POS2
OUT Y2001                ; #01_RY001_指令位置_2
MRD
AND D1026.2              ; 給材搬送PP RB_指令POS4
OUT Y2002                ; #01_RY002_指令位置_3
MRD
AND D1026.3              ; 給材搬送PP RB_指令POS8
OUT Y2003                ; #01_RY003_指令位置_4
MRD
AND D1026.4              ; 給材搬送PP RB_指令POS16
OUT Y2004                ; #01_RY004_指令位置_5
MRD
AND D1026.5              ; 給材搬送PP RB_指令POS32
OUT Y2005                ; #01_RY005_指令位置_6
MPP
AND D1026.6              ; 給材搬送PP RB_指令POS64
OUT Y2006                ; #01_RY006_指令位置_7
LD M50                   ; 運転準備
ANB M51                  ; 即停止異常(緊急停止)
OUT Y53                  ; ﾌﾟｯｼｬｰﾛﾎﾞｯﾄﾛﾎﾞｯﾄ電源
LD M1257                 ; STEP7_原点復帰指令
ANB X100B                ; #01_RX00B_ORG原点復帰完了状態
LD B108B                 ; HOMESW
ANB Y200B                ; #01_RY00B_原点復帰
ORL
AND T60                  ; 投入部扉確認ﾀｲﾏ
ANB M130                 ; 一時停止
AND Y200C                ; #01_RY00C_インターロック
OUT Y200B                ; #01_RY00B_原点復帰
LD X02                   ; 安全扉正常
ANB B0320                ; 800)_安全扉開
AND X06                  ; 投入ｺﾝﾍﾞﾔ扉閉確認
OR M39                   ; ｴﾘｱｾﾝｻｰ解除ﾓｰﾄﾞ
AND M129                 ; 安全入力OK
ANB M130                 ; 一時停止
OUT Y200C                ; #01_RY00C_インターロック
LD T60                   ; 投入部扉確認ﾀｲﾏ
AND CR2003               ; 常時OFF
SHOT K50 M1350           ; 扉開時ﾘｾｯﾄ時間
LD M16                   ; ﾘｾｯﾄPB
ANB X100E                ; #01_RX00E_アラーム
LD M1350                 ; 扉開時ﾘｾｯﾄ時間
AND X100E                ; #01_RX00E_アラーム
ORL
OUT Y200E                ; #01_RY00E_リセット
LD M50                   ; 運転準備
ANB M51                  ; 即停止異常(緊急停止)
AND X100E                ; #01_RX00E_アラーム
OUT Y200F                ; #01_RY00F_サーボON
;□□　　パネル表示　　□□
LD M1452                 ; RB1_待機位置_P1
LD M1301                 ; 給材RB_ﾜｰｸ投入位置移動
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1580                ; 待機位置PL
LD M1450                 ; RB1_ﾜｰｸ投入位置_P11
LD M1306                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ受渡し位置移動
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1581                ; RB1_ﾜｰｸ受渡し位置PL
LD M1451                 ; RB1_ｺｰﾄﾞﾘｰﾀﾞｰ位置_P-D1031
LD M1311                 ; 給材ｽﾗｲﾀﾞ_読取位置移動
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B1582                ; 読取位置PL
LD M1453                 ; RB1_ﾜｰｸ確認位置_P2
LD M1316                 ; 給材ｽﾗｲﾀﾞ_ﾜｰｸ確認位置移動
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
ORL
OUT B158E                ; RB_基板確認位置PL
LDB Y314                 ; 供給ｼﾌﾄｺﾝﾍﾞｱｺﾝﾍﾞｱ 正回転
ANB Y315                 ; 供給ｼﾌﾄｺﾝﾍﾞｱｺﾝﾍﾞｱ 逆回転
INV
OUT B1584                ; 投入ｺﾝﾍﾞﾔON_PL
LDB Y314                 ; 供給ｼﾌﾄｺﾝﾍﾞｱｺﾝﾍﾞｱ 正回転
ANB Y315                 ; 供給ｼﾌﾄｺﾝﾍﾞｱｺﾝﾍﾞｱ 逆回転
OUT B1585                ; 投入ｺﾝﾍﾞﾔOFF_PL
LD M1325                 ; ｽﾄｯﾊﾟｰ上昇指令
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR X1219                 ; 投入ｺﾝﾍﾞｱﾜｰｸｽﾄｯﾊﾟ上昇端
OUT B1586                ; ｽﾄｯﾊﾟｰ上昇_PL
LD M1327                 ; ｽﾄｯﾊﾟｰ下降指令
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR X1218                 ; 投入ｺﾝﾍﾞｱﾜｰｸｽﾄｯﾊﾟ下降端
OUT B1587                ; ｽﾄｯﾊﾟｰ下降_PL
LD M1329                 ; RBﾌﾟｯｼｬｰ上昇指令
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR X121A                 ; 投入ｺﾝﾍﾞｱﾜｰｸﾌﾟｯｼｬｰ上下上昇端
OUT B1588                ; RBﾌﾟｯｼｬｰ上昇_PL
LD M1331                 ; RBﾌﾟｯｼｬｰ下降指令
AND CR2006               ; 1sｸﾛｯｸﾊﾟﾙｽ
OR X121B                 ; 投入ｺﾝﾍﾞｱﾜｰｸﾌﾟｯｼｬｰ上下下降端
OUT B1589                ; RBﾌﾟｯｼｬｰ下降_PL
LD M1333                 ; コンベヤ逆転指示
OUT B158D                ; ｺﾝﾍﾞﾔ逆転指令PL
LDB M1333                ; コンベヤ逆転指示
OUT B158C                ; ｺﾝﾍﾞﾔ正転指令PL
;<h1/>□□　　異常検出　　□□
LDB X100E                ; #01_RX00E_アラーム
AND X100F                ; #01_RX00F_サーボ状態
AND M50                  ; 運転準備
AND Y53                  ; ﾌﾟｯｼｬｰﾛﾎﾞｯﾄﾛﾎﾞｯﾄ電源
LD CR2003                ; 常時OFF
ANB B0520                ; 32)_U1E1Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B020                 ; 32)_U1E1_TSｺﾝﾄ異常
ORL
OUT B020                 ; 32)_U1E1_TSｺﾝﾄ異常
LDP B020                 ; 32)_U1E1_TSｺﾝﾄ異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K1033 D13500         ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0520                 ; 32)_U1E1Bz停止
AND B020                 ; 32)_U1E1_TSｺﾝﾄ異常
OUT B0520                ; 32)_U1E1Bz停止
LD CR2003                ; 常時OFF
LD CR2003                ; 常時OFF
ANB B0521                ; 33)_U1E2Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B021                 ; 33)_U1E2_投入部JIG_ID異常
ORL
OUT B021                 ; 33)_U1E2_投入部JIG_ID異常
LDP B021                 ; 33)_U1E2_投入部JIG_ID異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K34 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0521                 ; 33)_U1E2Bz停止
AND B021                 ; 33)_U1E2_投入部JIG_ID異常
OUT B0521                ; 33)_U1E2Bz停止
LD M1171                 ; U1-3_S11_搬送部ﾜｰｸ受取ﾐｽ
LD CR2003                ; 常時OFF
ANB B0522                ; 34)_U1E3Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
ORL
OUT B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
LDP B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K35 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0522                 ; 34)_U1E3Bz停止
AND B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
OUT B0522                ; 34)_U1E3Bz停止
LD M1043                 ; _1-1_S43_扉開
ORP C102                 ; CV逆転ワーク戻り時間
LD CR2003                ; 常時OFF
ANB B0523                ; 35)_U1E4Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B023                 ; 35)_U1E4_ｺｰﾄﾞ異常
ORL
OUT B023                 ; 35)_U1E4_ｺｰﾄﾞ異常
LDP B023                 ; 35)_U1E4_ｺｰﾄﾞ異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K36 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0523                 ; 35)_U1E4Bz停止
AND B023                 ; 35)_U1E4_ｺｰﾄﾞ異常
OUT B0523                ; 35)_U1E4Bz停止
LD T100                  ; ﾕﾆｯﾄ1原点復帰ﾀｲﾑｱｳﾄ
AND CR2003               ; 常時OFF
LD CR2003                ; 常時OFF
ANB B0524                ; 36)_U1E5Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B024                 ; 36)_U1E5_供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
ORL
OUT B024                 ; 36)_U1E5_供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
LDP B024                 ; 36)_U1E5_供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K37 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0524                 ; 36)_U1E5Bz停止
AND B024                 ; 36)_U1E5_供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
OUT B0524                ; 36)_U1E5Bz停止
LDP M18                  ; 起動PB
ANB L700                 ; ﾌﾗｯｼｭst1_有効状態
LD M1091                 ; U1-2_S11_
AND M1420                ; ﾌﾗｯｼｭST未確定
ORL
LD CR2003                ; 常時OFF
ANB B0821                ; 801)Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0321                ; 801)_ﾌﾗｯｼｭｽﾃｰｼﾞ準備要求
ORL
OUT B0321                ; 801)_ﾌﾗｯｼｭｽﾃｰｼﾞ準備要求
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0821                 ; 801)Bz停止
AND B0321                ; 801)_ﾌﾗｯｼｭｽﾃｰｼﾞ準備要求
OUT B0821                ; 801)Bz停止
LD CR2003                ; 常時OFF
LD CR2003                ; 常時OFF
ANB B0822                ; 802）_Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0322                ; 802)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
ORL
OUT B0322                ; 802)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0822                 ; 802）_Bz停止
AND B0322                ; 802)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
OUT B0822                ; 802）_Bz停止
LD M1025                 ; _1-1_S25_ﾜｰｸ受渡し部ﾜｰｸ搬送失敗
MEP
LD CR2003                ; 常時OFF
ANB B0527                ; 39)_U1E8Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B027                 ; 39)_U1E8_ﾜｰｸ受渡し部ﾜｰｸ無し異常
ORL
OUT B027                 ; 39)_U1E8_ﾜｰｸ受渡し部ﾜｰｸ無し異常
LDP B027                 ; 39)_U1E8_ﾜｰｸ受渡し部ﾜｰｸ無し異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K40 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0527                 ; 39)_U1E8Bz停止
AND B027                 ; 39)_U1E8_ﾜｰｸ受渡し部ﾜｰｸ無し異常
OUT B0527                ; 39)_U1E8Bz停止
LD M1262                 ; STEP12_ﾜｰｸ除去要求
LD CR2003                ; 常時OFF
ANB B0829                ; Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B0329                ; 809)_供給ｺﾝﾍﾞﾔﾜｰｸ除去要求
ORL
OUT B0329                ; 809)_供給ｺﾝﾍﾞﾔﾜｰｸ除去要求
LDP B0329                ; 809)_供給ｺﾝﾍﾞﾔﾜｰｸ除去要求
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K810 D13500          ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0829                 ; Bz停止
AND B0329                ; 809)_供給ｺﾝﾍﾞﾔﾜｰｸ除去要求
OUT B0829                ; Bz停止
LD M1057                 ; _1-1_S57　投入不明ﾜｰｸ異常
MEP
LD CR2003                ; 常時OFF
ANB B0529                ; 41)_U1E10Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B029                 ; 41)_U1E10　投入不明ﾜｰｸ異常
ORL
OUT B029                 ; 41)_U1E10　投入不明ﾜｰｸ異常
LDP B029                 ; 41)_U1E10　投入不明ﾜｰｸ異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K42 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0529                 ; 41)_U1E10Bz停止
AND B029                 ; 41)_U1E10　投入不明ﾜｰｸ異常
OUT B0529                ; 41)_U1E10Bz停止
LD M1015                 ; _1-1_S15_BCRﾜｰｸ到着ﾀｲﾑｵｰﾊﾞｰ
MEP
LD CR2003                ; 常時OFF
ANB B052A                ; 42)_U1E11Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B02A                 ; 42)_U1E11_ﾜｰｸ到着ﾀｲﾑｵｰﾊﾞｰ
ORL
OUT B02A                 ; 42)_U1E11_ﾜｰｸ到着ﾀｲﾑｵｰﾊﾞｰ
LDP B02A                 ; 42)_U1E11_ﾜｰｸ到着ﾀｲﾑｵｰﾊﾞｰ
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K43 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B052A                 ; 42)_U1E11Bz停止
AND B02A                 ; 42)_U1E11_ﾜｰｸ到着ﾀｲﾑｵｰﾊﾞｰ
OUT B052A                ; 42)_U1E11Bz停止
;
LD Y2360                 ; 投入ｺﾝﾍﾞｱﾜｰｸｽﾄｯﾊﾟ下降
ANB X1218                ; 投入ｺﾝﾍﾞｱﾜｰｸｽﾄｯﾊﾟ下降端
LD Y2361                 ; 投入ｺﾝﾍﾞｱﾜｰｸｽﾄｯﾊﾟ上昇
ANB X1219                ; 投入ｺﾝﾍﾞｱﾜｰｸｽﾄｯﾊﾟ上昇端
ORL
LD CR2003                ; 常時OFF
ANB B0530                ; 48)_U1E17Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B030                 ; 48)_U1E17_投入ｺﾝﾍﾞﾔｽﾄｯﾊﾟCL異常
ORL
MPS
AND T130                 ; CLｾﾝｻ異常
OUT B030                 ; 48)_U1E17_投入ｺﾝﾍﾞﾔｽﾄｯﾊﾟCL異常
MPP
TMR K130 K50             ; CLｾﾝｻ異常
LDP B030                 ; 48)_U1E17_投入ｺﾝﾍﾞﾔｽﾄｯﾊﾟCL異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K49 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0530                 ; 48)_U1E17Bz停止
AND B030                 ; 48)_U1E17_投入ｺﾝﾍﾞﾔｽﾄｯﾊﾟCL異常
OUT B0530                ; 48)_U1E17Bz停止
;
LD Y2362                 ; 投入ｺﾝﾍﾞﾔﾜｰｸﾌﾟｯｼｬｰ上下上昇
ANB X121A                ; 投入ｺﾝﾍﾞｱﾜｰｸﾌﾟｯｼｬｰ上下上昇端
LD Y2363                 ; 投入ｺﾝﾍﾞﾔﾜｰｸﾌﾟｯｼｬｰ上下下降
ANB X121B                ; 投入ｺﾝﾍﾞｱﾜｰｸﾌﾟｯｼｬｰ上下下降端
ORL
LD X121A                 ; 投入ｺﾝﾍﾞｱﾜｰｸﾌﾟｯｼｬｰ上下上昇端
AND X121B                ; 投入ｺﾝﾍﾞｱﾜｰｸﾌﾟｯｼｬｰ上下下降端
ORL
LD CR2003                ; 常時OFF
ANB B0531                ; 49)_U1E18Bz停止
ORB M111                 ; 異常ﾘｾｯﾄﾊﾟﾙｽ
AND B031                 ; 49)_U1E18_投入ｺﾝﾍﾞﾔﾜｰｸﾌﾟｯｼｬｰ異常
ORL
MPS
AND T131                 ; CLｾﾝｻ異常
OUT B031                 ; 49)_U1E18_投入ｺﾝﾍﾞﾔﾜｰｸﾌﾟｯｼｬｰ異常
MPP
TMR K131 K50             ; CLｾﾝｻ異常
LDP B031                 ; 49)_U1E18_投入ｺﾝﾍﾞﾔﾜｰｸﾌﾟｯｼｬｰ異常
AND< D13510 K64          ; FIFO_DATA_VALUE
MOV K50 D13500           ; ALM_WRITE_CODE(複合)
FIFOW D13500 D13510      ; ALM_WRITE_CODE(複合)  FIFO_DATA_VALUE
LD M110                  ; ﾌﾞｻﾞｰ停止ﾊﾟﾙｽ
OR B0531                 ; 49)_U1E18Bz停止
AND B031                 ; 49)_U1E18_投入ｺﾝﾍﾞﾔﾜｰｸﾌﾟｯｼｬｰ異常
OUT B0531                ; 49)_U1E18Bz停止
;異常ﾌﾞｻﾞｰまとめ
LDB B020                 ; 32)_U1E1_TSｺﾝﾄ異常
OR B0520                 ; 32)_U1E1Bz停止
LDB B021                 ; 33)_U1E2_投入部JIG_ID異常
OR B0521                 ; 33)_U1E2Bz停止
ANL
LDB B022                 ; 34)_U1E3_供給部ﾜｰｸ受渡し失敗
OR B0522                 ; 34)_U1E3Bz停止
ANL
LDB B023                 ; 35)_U1E4_ｺｰﾄﾞ異常
OR B0523                 ; 35)_U1E4Bz停止
ANL
LDB B024                 ; 36)_U1E5_供給ｽﾗｲﾀﾞ原点ﾀｲﾑｵｰﾊﾞｰ
OR B0524                 ; 36)_U1E5Bz停止
ANL
LDB B0321                ; 801)_ﾌﾗｯｼｭｽﾃｰｼﾞ準備要求
OR B0821                 ; 801)Bz停止
ANL
LDB B0322                ; 802)_U1E7_ｽﾃｰｼﾞﾁｪｯｸ要求
OR B0822                 ; 802）_Bz停止
ANL
LDB B027                 ; 39)_U1E8_ﾜｰｸ受渡し部ﾜｰｸ無し異常
OR B0527                 ; 39)_U1E8Bz停止
ANL
LDB B0329                ; 809)_供給ｺﾝﾍﾞﾔﾜｰｸ除去要求
OR B0829                 ; Bz停止
ANL
LDB B029                 ; 41)_U1E10　投入不明ﾜｰｸ異常
OR B0529                 ; 41)_U1E10Bz停止
ANL
LDB B02A                 ; 42)_U1E11_ﾜｰｸ到着ﾀｲﾑｵｰﾊﾞｰ
OR B052A                 ; 42)_U1E11Bz停止
ANL
LDB B02B                 ; 43)_U1E12
OR B052B                 ; 43)_U1E12Bz停止
ANL
LDB B02C                 ; 44)_U1E13
OR B052C                 ; 44)_U1E13Bz停止
ANL
LDB B02D                 ; 45)_U1E14
OR B052D                 ; 45)_U1E14Bz停止
ANL
LDB B02E                 ; 46)_U1E15
OR B052E                 ; 46)_U1E15Bz停止
ANL
LDB B02F                 ; 47)_U1E16
OR B052F                 ; 47)_U1E16Bz停止
ANL
LDB B030                 ; 48)_U1E17_投入ｺﾝﾍﾞﾔｽﾄｯﾊﾟCL異常
OR B0530                 ; 48)_U1E17Bz停止
ANL
LDB B031                 ; 49)_U1E18_投入ｺﾝﾍﾞﾔﾜｰｸﾌﾟｯｼｬｰ異常
OR B0531                 ; 49)_U1E18Bz停止
ANL
LDB B032                 ; 50)_U1E19
OR B0532                 ; 50)_U1E19Bz停止
ANL
LDB B033                 ; 51)_U1E20
OR B0533                 ; 51)_U1E20Bz停止
ANL
LDB B034                 ; 52)_U1E21
OR B0534                 ; 52)_U1E21Bz停止
ANL
LDB B035                 ; 53)_U1E22
OR B0535                 ; 53)_U1E22Bz停止
ANL
LDB B036                 ; 54)_U1E23
OR B0536                 ; 54)_U1E23Bz停止
ANL
LDB B037                 ; 55)_U1E24
OR B0537                 ; 55)_U1E24Bz停止
ANL
LDB B038                 ; 56)_U1E25
OR B0538                 ; 56)_U1E25Bz停止
ANL
LDB B039                 ; 57)_U1E26
OR B0539                 ; 57)_U1E26Bz停止
ANL
LDB B03A                 ; 58)_U1E27
OR B053A                 ; 58)_U1E27Bz停止
ANL
LDB B03B                 ; 59)_U1E28
OR B053B                 ; 59)_U1E28Bz停止
ANL
LDB B03C                 ; 60)_U1E29
OR B053C                 ; 60)_U1E29Bz停止
ANL
LDB B03D                 ; 61)_U1E30
OR B053D                 ; 61)_U1E30Bz停止
ANL
LDB B03E                 ; 62)_U1E31
OR B053E                 ; 62)_U1E31Bz停止
ANL
LDB B03F                 ; 63)_U1E32
OR B053F                 ; 63)_U1E32Bz停止
ANL
INV
OUT M1489                ; ﾕﾆｯﾄ1異常BZ補助
END
ENDH
